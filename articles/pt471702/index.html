<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüíª ‚ôüÔ∏è ü•ó Aplicativos Web com aprimoramento cibern√©tico üéÖüèΩ üëµ üÄÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O frontend moderno percorreu um longo caminho desde o tempo das p√°ginas jQuery e HTML regulares. Agora temos montadores, gerenciadores de pacotes, uma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aplicativos Web com aprimoramento cibern√©tico</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471702/"><p>  O frontend moderno percorreu um longo caminho desde o tempo das p√°ginas jQuery e HTML regulares.  Agora temos montadores, gerenciadores de pacotes, uma abordagem de componentes, SPA, SSR e muito mais. </p><br><p>  Parece que temos tudo o que √© necess√°rio para a felicidade.  Mas o setor est√° avan√ßando.  Quero falar sobre a estrutura compilada do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Svelte</a> e quais vantagens ele tem sobre os an√°logos. </p><br><p><img src="https://habrastorage.org/webt/es/5w/wc/es5wwct4qctbavihmd23-k8phvu.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Imagem de Andrew Walpole</a> </p><a name="habracut"></a><br><h2 id="google-trends">  Tend√™ncias do Google </h2><br><p>  Para entender a situa√ß√£o atual no front-end, analisei a popularidade das consultas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Trends</a> para as palavras-chave React, jQuery, Vue, Angular na R√∫ssia nos √∫ltimos 5 anos. </p><br><p><img src="https://habrastorage.org/webt/hb/7q/6l/hb7q6lfm_j8pjpkepo4_zcl-rto.png"><br>  <em>Tend√™ncias do Google</em> </p><br><p>  Nos √∫ltimos 5 anos, o n√∫mero de consultas relacionadas ao jQuery diminuiu significativamente, dando lugar a estruturas de componentes.  Embora o jQuery tenha perdido terreno, ainda √© uma ferramenta de desenvolvimento popular. </p><br><p>  A partir deste gr√°fico, podemos concluir que as bibliotecas de componentes venceram o front end e a React √© a l√≠der na R√∫ssia. </p><br><h2 id="rynok-truda">  Mercado de trabalho </h2><br><p>  Escrevemos c√≥digo n√£o apenas para n√≥s mesmos, mas tamb√©m para dinheiro.  Principalmente pelo dinheiro.  Portanto, √© tolice considerar a popularidade de estruturas isoladamente do mercado de trabalho. </p><br><p>  Pelo n√∫mero de vagas em hh, o React est√° em primeiro lugar, seguido pelo jQuery e outras bibliotecas de componentes.  Se observarmos o n√∫mero de candidatos que indicaram as bibliotecas em quest√£o em suas habilidades principais, o jQuery conhece 5 vezes mais candidatos que o React.  E 15 vezes maior que Angular. </p><br><p><img src="https://habrastorage.org/webt/nk/vt/g0/nkvtg0lfwgjyltdhg6uvkvqfp6i.png"><br>  <em>Mercado de trabalho</em> </p><br><p>  As seguintes conclus√µes podem ser tiradas deste gr√°fico: </p><br><ul><li>  As estruturas de componentes s√£o as mais populares entre os empregadores, a mais popular entre elas √© o React. </li><li>  Entre os candidatos, a biblioteca mais comum √© o jQuery. </li></ul><br><p>  Assim, as estruturas de componentes venceram.  O Frontend resolveu os problemas enfrentados pelos desenvolvedores durante o jQuery.  Mas novas abordagens d√£o origem a novos problemas.  Que problemas eu vejo? </p><br><ol><li>  Performance. <br>  Em janeiro deste ano, o Google anunciou a possibilidade de publicar aplicativos PWA no google play, abrindo caminho para o javascript na loja de aplicativos nativa.  Isso imp√µe uma certa responsabilidade aos desenvolvedores, porque os usu√°rios esperam o desempenho de aplicativos nativos, n√£o deve haver diferen√ßa para o consumidor. <br>  Javascript tamb√©m conquista dispositivos de baixa pot√™ncia.  Esta √© uma TV inteligente, assista, IoT.  Esses dispositivos t√™m um or√ßamento limitado de mem√≥ria e processador, portanto, os desenvolvedores n√£o podem gastar seus recursos com o usu√°rio. <br>  No trabalho, temos experi√™ncia em executar aplicativos React em um hub da Internet.  Acabou mais ou menos. </li><li>  Limite de entrada alto. <br>  Como vimos acima, a maioria dos candidatos a emprego aponta para as habilidades do jQuery, n√£o para reagir.  Dominar os conceitos do React √© muito mais dif√≠cil do que conectar-se a uma p√°gina do jQuery e come√ßar a criar. </li><li>  Depend√™ncia da estrutura. <br>  Se voc√™ possui uma biblioteca de componentes escrita em React, √© improv√°vel que voc√™ possa reutiliz√°-la em um projeto Vue ou Angular.  Voc√™ se torna ref√©m do ecossistema. </li></ol><br><h2 id="svelte-vanilla-flavored">  Svelte.  Baunilha com sabor. </h2><br><p>  Em abril deste ano, a terceira vers√£o do framework compilado Svelte foi lan√ßada. <br>  O Svelte oferece aos desenvolvedores a capacidade de escrever c√≥digo declarativo de alto n√≠vel que, ap√≥s a compila√ß√£o, se transforma em c√≥digo imperativo de baixo n√≠vel.  Isso tamb√©m possibilita a trepida√ß√£o eficaz das √°rvores e, como resultado, permite o envio de um pacote m√≠nimo ao cliente. <br>  Vamos ver quais solu√ß√µes a Svelte oferece para os problemas que surgiram. </p><br><p>  Como o React √© a biblioteca mais popular da R√∫ssia, outros exemplos ser√£o apresentados no React. </p><br><h2 id="1-proizvoditelnost">  1. Desempenho </h2><br><p>  Se voc√™ estiver come√ßando a se familiarizar com a nova biblioteca, provavelmente iniciar√° o tour com uma lista de tarefas.  Essa √© uma tarefa bastante simples, geralmente mais f√°cil de escrever em baunilha.  Se voc√™ deseja aprofundar-se na estrutura, uma revis√£o do Real World Application √© uma √≥tima op√ß√£o.  Este √© um blog que √© essencialmente um clone do Medium.  H√° registro, autoriza√ß√£o, cria√ß√£o de postagens, coment√°rios e curtidas.  Os especialistas em estrutura escrevem a implementa√ß√£o da funcionalidade e a adicionam √† cole√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aplicativos do mundo real</a> . <br>  Um artigo sobre a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">compara√ß√£o de aplicativos do mundo real,</a> escrito em diferentes estruturas, foi publicado no FreeCodeCamp. <br>  Se olharmos para o tamanho do pacote final, a Svelte supera seus concorrentes.  Apenas 9,7kb de c√≥digo s√£o enviados ao cliente.  Como resultado, leva menos tempo para transferir dados, analisando e processando seu c√≥digo. </p><br><p><img src="https://habrastorage.org/webt/q_/nq/rm/q_nqrmfqup3utimvroeu-zsrjza.png"><br>  <em>Compara√ß√£o de tamanho de pacote de aplicativos do mundo real</em> </p><br><p>  E o melhor c√≥digo n√£o √© c√≥digo escrito. <br>  Se observarmos o n√∫mero de linhas de c√≥digo necess√°rias para escrever a funcionalidade do aplicativo, o Svelte precisar√° de cerca de 1.000 linhas e de reagir cerca de 2.000. Quanto menos c√≥digo em seu aplicativo, menos erros e suporte mais f√°cil. </p><br><p><img src="https://habrastorage.org/webt/gk/jn/ey/gkjneygjfhfhi1b-cooph8aeqim.png"><br>  <em>Compara√ß√£o de tamanho de c√≥digo de aplicativo no mundo real</em> </p><br><p>  Vamos dar uma olhada no desempenho.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O js-framework-benchmark</a> oferece uma compara√ß√£o do desempenho de renderiza√ß√£o entre as estruturas front-end.  O teste √© desenhar uma tabela com um grande n√∫mero de linhas.  Outras manipula√ß√µes com esta tabela s√£o feitas: atualiza√ß√£o parcial ou completa, cria√ß√£o, limpeza e exclus√£o de linhas. </p><br><p>  No momento da atualiza√ß√£o, o Svelte mostra o hor√°rio melhor ou compar√°vel.  Svelte √© muito equilibrado, n√£o h√° distor√ß√µes ao executar diferentes tipos de opera√ß√µes. </p><br><p><img src="https://habrastorage.org/webt/rk/qt/nz/rkqtnzb4ua4zy7vvbnbyonfqxqo.png"><br>  <em>Compara√ß√£o do tempo de execu√ß√£o da atualiza√ß√£o, ms</em> </p><br><p>  Se observarmos a quantidade de mem√≥ria consumida, o Svelte √© o menos voraz entre as bibliotecas em quest√£o. </p><br><p><img src="https://habrastorage.org/webt/de/d-/p_/ded-p_wuuzcdxlay0duwcubzb6g.png"><br>  <em>Compara√ß√£o da quantidade de mem√≥ria consumida, mb</em> </p><br><p>  Eu n√£o estava acostumado a tomar uma palavra e decidi verificar tudo sozinho.  Encontrei a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">implementa√ß√£o do benchmark DBMonster</a> para o front-end e reescrevi a implementa√ß√£o no React 16.8 e no Svelte 3. O teste consiste em renderizar a tabela e depois atualizar as linhas. </p><br><p><img src="https://habrastorage.org/webt/p2/fc/0j/p2fc0jzzmb3jqkr3pxclinvgrqy.gif"><br>  <em>Como √© o teste do DBMonster?</em> </p><br><p>  Durante o teste, o Svelte consumiu 10 MB menos mem√≥ria e atualizou 10 ms mais r√°pido que o React. </p><br><p><img src="https://habrastorage.org/webt/it/xm/si/itxmsiqrktcbuiua--rg32ixlce.gif"><img src="https://habrastorage.org/webt/5c/q2/bu/5cq2buhlzbnbcd9ov0yhi1lh2xu.gif"><br>  <em>Svelte / react</em> </p><br><p>  Os testes acima s√£o sint√©ticos, mas a partir deles, pode-se concluir que, ao desenvolver o Svelte, voc√™ sair√° da caixa: </p><br><ul><li>  Menor tamanho de pacote </li><li>  Menos consumo de mem√≥ria </li><li>  Renderiza√ß√£o mais r√°pida. </li></ul><br><h2 id="2-vysokiy-porog-vhoda">  2. Limiar alto de entrada </h2><br><p>  Se observarmos o componente mais simples do React, voc√™ precisar√° importar o pr√≥prio React, escrever uma fun√ß√£o que retorne a marca√ß√£o e exporte o componente.  Total de 3 linhas de c√≥digo. </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Component;</code> </pre> <br><p>  Se observarmos o exemplo mais simples de um componente no svelte, basta escrever a marca√ß√£o.  Total de 1 linha de c√≥digo. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  A rigor, o componente Svelte mais simples √© um arquivo vazio.  Isso torna poss√≠vel criar um modelo para seu aplicativo a partir de arquivos vazios e iniciar o desenvolvimento.  Nesse caso, nada vai quebrar. </p><br><p>  Voc√™ tamb√©m pode pegar o layout recebido do tip√≥grafo e us√°-lo imediatamente como um componente Svelte sem transforma√ß√µes adicionais.  O html v√°lido √© um componente Svelte. </p><br><p>  Quero compartilhar um exemplo de uma entrevista sobre a posi√ß√£o de desenvolvedor de rea√ß√£o intermedi√°ria. </p><br><pre> <code class="javascript hljs">setFilter() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchFlag = !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.switchFlag } ... &lt;button onClick={setFilter}&gt;Filter&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt;</span></span></code> </pre> <br><p>  O candidato tentou salvar o estado do bot√£o de filtro diretamente na propriedade da classe.  A rea√ß√£o, apesar do nome, n√£o √© reativa o suficiente para responder a essas mudan√ßas.  Isso sugere que mesmo os desenvolvedores intermedi√°rios acham dif√≠cil obter os padr√µes de atualiza√ß√£o de estado que o React usa. </p><br><p>  Vejamos um exemplo de bot√£o que aumenta o contador com um clique. </p><br><p><img src="https://habrastorage.org/webt/id/en/d8/idend8qhqefwtl2uumhewmzjkg0.gif"></p><br><p>  Em React, voc√™ precisa de uma vari√°vel para manter o estado e uma fun√ß√£o que possa atualizar o estado.  Em seguida, voc√™ precisa atribuir um manipulador para a atualiza√ß√£o ao pr√≥prio bot√£o.  No total, eu tenho 8 linhas de c√≥digo. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, setCount] = React.useState(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> setCount(count + 1)}&gt; Clicked {count} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Component;</code> </pre> <br><p>  Para resolver um problema semelhante no Svelte, voc√™ precisa de uma vari√°vel para armazenar o estado.  Al√©m disso, no manipulador, voc√™ simplesmente altera o valor dessa vari√°vel.  Total de 6 linhas de c√≥digo. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> count = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span><span class="hljs-tag">=&gt;</span></span>count+=1}&gt; Clicked {count} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Vamos complicar um pouco o exemplo.  Suponha que precisamos de um campo de entrada que exiba seu estado pr√≥ximo a ele. </p><br><p><img src="https://habrastorage.org/webt/cc/ld/xt/ccldxto2knv1mrmdxke33yevgse.gif"></p><br><p>  No React, ainda precisamos de uma vari√°vel e fun√ß√£o para atualizar o estado.  Em seguida, no campo de entrada, voc√™ precisa transferir o valor atual e atribuir um manipulador √†s altera√ß√µes.  Acabei com 11 linhas de c√≥digo. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [value, setValue] = React.useState(<span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;input value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; {value} &lt;/React.Fragment&gt; ); } export default App;</code> </pre> <br><p>  Para resolver esse problema no Svelte, voc√™ precisa de uma vari√°vel que armazene o estado e fa√ßa uma liga√ß√£o bidirecional no campo de entrada.  Total de 5 linhas de c√≥digo. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> value = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{value}/</span></span></span><span class="hljs-tag">&gt;</span></span> {value}</code> </pre> <br><p>  Se voc√™ j√° animado a remo√ß√£o de um elemento do DOM no React, simpatizo com voc√™.  O React exigir√° um wrapper que atrasar√° a remo√ß√£o do elemento do DOM e far√° a anima√ß√£o, ou o elemento permanecer√° no DOM, mas a anima√ß√£o exigir√° controle da propriedade display ou outras manipula√ß√µes para que o elemento n√£o ocupe espa√ßo. </p><br><p><img src="https://habrastorage.org/webt/_w/-7/05/_w-705ykcxp0h5jmajgmgvd6lok.gif"></p><br><p>  Tentei encontrar a implementa√ß√£o mais simples no React, no final, obtive 35 linhas de c√≥digo.  Se voc√™ tiver uma solu√ß√£o mais simples, compartilhe nos coment√°rios. </p><br><div class="spoiler">  <b class="spoiler_title">Fadein fadeout reagir</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"./style.css"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [visible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;React.Fragment&gt; &lt;button onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(!visible)}&gt;toggle&lt;<span class="hljs-regexp"><span class="hljs-regexp">/button&gt; &lt;div className={visible ? "visible" : "invisible"}&gt;Hello&lt;/</span></span>div&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">React.Fragment</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); }; export default App;</span></span></code> </pre> <br><pre> <code class="html hljs xml">.visible { animation: fadeIn 0.5s linear forwards; } .invisible { animation: fadeOut 0.5s linear forwards; } @keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; display: none; } } @keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } }</code> </pre> </div></div><br><p>  No Svelte, um componente semelhante requer apenas 8 linhas de c√≥digo.  O Svelte possui um m√≥dulo embutido para gerenciar anima√ß√µes.  Voc√™ importa o tipo de anima√ß√£o desejado e diz como animar seu componente ao adicionar e remover. </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { fade } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'svelte/transition'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> visible = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span><span class="hljs-tag">=&gt;</span></span>visible=!visible}&gt;toggle<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> {#if visible} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transition:fade</span></span></span><span class="hljs-tag">&gt;</span></span>Hello<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {/if}</code> </pre> <br><p>  A compilabilidade permite que o Svelte forne√ßa abstra√ß√µes interessantes para o desenvolvedor.  E se voc√™ n√£o us√°-los, eles n√£o cair√£o no pacote final. </p><br><p>  Por exemplo, o m√≥dulo de transi√ß√£o possui uma funcionalidade interessante de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">crossfade</a> que permite animar um componente ao passar de um n√≥ DOM para outro.  Com ele, voc√™ pode fazer uma transi√ß√£o de tarefas na lista de tarefas. </p><br><p><img src="https://habrastorage.org/webt/jy/qx/jk/jyqxjktdonnzxitsm7mdhe0fxgm.gif"></p><br><p>  Outro exemplo de abstra√ß√µes interessantes √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uso:</a> diretiva.  Permite atribuir um manipulador personalizado a um elemento DOM.  No exemplo abaixo, os eventos de pressionar e mover, bem como os eventos de toque, s√£o processados ‚Äã‚Äãusando apenas uma fun√ß√£o. </p><br><p><img src="https://habrastorage.org/webt/vr/ne/xj/vrnexj0zvmftba16ecdnb8klmq4.gif"></p><br><p>  Depois de conhecer o Svelte, meus amigos costumam dizer que n√£o experimentam esse tipo de desenvolvimento divertido desde o jQuery. </p><br><h2 id="3-zavisimost-ot-freymvorka">  3. Depend√™ncia da estrutura </h2><br><p>  Quando o React chegou, havia muitos widgets jQuery na web.  Encontrar o componente certo no React foi dif√≠cil.  Em seguida, come√ßaram a aparecer wrappers para os widgets jQuery, capazes de sincronizar o React e o jQuery.  Depois disso, os componentes escritos no pr√≥prio React j√° come√ßaram a aparecer. <br>  Agora uma situa√ß√£o semelhante com o pr√≥prio React.  Existem v√°rias solu√ß√µes e bibliotecas prontas que n√£o permitem a transfer√™ncia para outra estrutura sem problemas. </p><br><p>  O que a Svelte oferece?  Ap√≥s a compila√ß√£o, seu c√≥digo se transforma em JS comum, que n√£o requer tempo de execu√ß√£o.  Isso possibilita o uso do componente Svelte em outras estruturas.  Voc√™ s√≥ precisa de um inv√≥lucro universal.  Por exemplo, um adaptador para React e Vue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">svelte-adapter</a> .  Ao envolver o componente no adaptador, voc√™ pode usar o elemento como um componente regular. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SvelteSpinner <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"svelte-spinner"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> toReact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"svelte-adapter/react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Spinner = toReact(SvelteSpinner, {}, <span class="hljs-string"><span class="hljs-string">"div"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> App = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Spinner size={<span class="hljs-number"><span class="hljs-number">50</span></span>} /&gt;</code> </pre> <br><p><img src="https://habrastorage.org/webt/y7/xl/l1/y7xll1mvvg0lorjn21kz04_g6sq.gif"></p><br><p>  O Svelte suporta compila√ß√£o em um elemento personalizado, o que expande ainda mais o escopo da aplica√ß√£o de componentes.  Voc√™ pode ver o suporte a elementos personalizados com v√°rias estruturas em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">elementos personalizados em qualquer lugar</a> . </p><br><h2 id="lichnyy-opyt">  Experi√™ncia pessoal </h2><br><p>  Ainda n√£o posso escrever na Svelte no trabalho, porque estamos firmes no ecossistema React, mas tenho projetos pessoais. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Escrevi anteriormente</a> como publiquei meu aplicativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Metalz</a> no Google Play. </p><br><p><img src="https://habrastorage.org/webt/mr/a8/mm/mra8mmaxfr4odearjgnfbtisbu0.png"></p><br><p>  De acordo com meus sentimentos, o Svelte permite que voc√™ escreva c√≥digos mais concisos e compreens√≠veis, al√©m de fornecer uma ampla gama de ferramentas para simplificar a implementa√ß√£o. </p><br><h2 id="minusy">  Contras </h2><br><p>  Como qualquer estrutura jovem, o Svelte possui um pequeno ecossistema de solu√ß√µes prontas e poucos artigos onde voc√™ pode encontrar as melhores pr√°ticas.  Portanto, eu n√£o recomendaria o Svelte imediatamente para projetos grandes, pois voc√™ pode acabar em um beco sem sa√≠da da arquitetura. </p><br><p>  Experimente o Svelte em pequenos projetos, tenho certeza que voc√™ vai gostar. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt471702/">https://habr.com/ru/post/pt471702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt471678/index.html">Prestar servi√ßos sob demanda</a></li>
<li><a href="../pt471684/index.html">Por que voc√™ precisa criar m√≥dulos para o nginx</a></li>
<li><a href="../pt471686/index.html">Como a AWS fabrica seus servi√ßos resilientes. Escala de servidor e banco de dados</a></li>
<li><a href="../pt471688/index.html">Como a AWS fabrica seus servi√ßos resilientes. Escala de rede</a></li>
<li><a href="../pt471700/index.html">Como escolhi uma pilha tecnol√≥gica com uma base para o futuro</a></li>
<li><a href="../pt471704/index.html">O livro ‚ÄúMitoc√¥ndrias ego√≠stas. Como manter a sa√∫de e mover a velhice "</a></li>
<li><a href="../pt471706/index.html">9 problemas t√≠picos de rede que podem ser detectados usando a an√°lise NetFlow (usando o Flowmon como exemplo)</a></li>
<li><a href="../pt471708/index.html">Storypoints s√£o perigosos para o desenvolvimento de aplicativos cliente-servidor</a></li>
<li><a href="../pt471712/index.html">Criando um aplicativo de bate-papo m√≥vel no React Native</a></li>
<li><a href="../pt471716/index.html">Exposi√ß√£o de tecnologia GITEX 2019 - como foi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>