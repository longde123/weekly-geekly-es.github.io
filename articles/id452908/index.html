<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ôüèº üë®üèæ‚Äçüöí üî° Selenium WebDriver - Metrik uji waktu-nyata menggunakan Grafana dan InfluxDB üíÇüèº üßù ‚è∫Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Minggu depan, kelas dalam grup Java QA Engineer akan dimulai. Ini akan diatur waktunya bertepatan dengan publikasi saat ini. 



 Ulasa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Selenium WebDriver - Metrik uji waktu-nyata menggunakan Grafana dan InfluxDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/452908/">  Halo semuanya!  Minggu depan, kelas dalam grup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Java QA Engineer</a> akan dimulai.  Ini akan diatur waktunya bertepatan dengan publikasi saat ini. <br><br><img src="https://habrastorage.org/webt/to/5o/i2/to5oi2-xgkntlui71to1n-184sq.png"><br><br><h2>  Ulasan: </h2><br>  Eksekusi harian dari tes regresi otomatis sebagai bagian dari majelis harian tidak dapat dihindari saat ini.  Sangat menyenangkan untuk menemukan dan melaporkan bug segera setelah menemukannya.  Pada saat yang sama, bermasalah untuk menjalankan ratusan tes otomatis dan eksekusi paralel jarak jauh.  Segera setelah Anda memiliki satu set uji regresi otomatis, Anda dapat memecahnya menjadi beberapa set modul bisnis dan menjalankannya secara paralel, sebagai bagian dari uji regresi otomatis harian.  Sebagian besar suite tes ini dijalankan pada mesin virtual jarak jauh, dan hasil tes hanya tersedia setelah dijalankan.  Jika tidak, Anda dapat melihat ke konsol jenkins untuk melihat log dari proses eksekusi tes.  Ini terkadang menjengkelkan.  Akan sangat bagus memiliki aplikasi yang akan memberikan informasi tentang lulus tes saat mereka berjalan pada mesin virtual jarak jauh. <a name="habracut"></a><br><br>  Mari kita lihat bagaimana Anda dapat membuat halaman sederhana dengan hasil tes dan dasbor menggunakan InfluxDB dan Grafana. <br><br><h2>  Tujuan: </h2><br>  Kami akan mengumpulkan semua metrik pengujian yang tersedia, seperti: <br><br><ul><li>  Status Metode Uji </li><li>  Durasi Metode Uji </li><li>  Status kelas dengan metode tes </li><li>  Uji runtime kelas tunggal </li><li>  Status suite tes </li><li>  Durasi Uji Coba </li></ul><br><br>  Kami bisa mendapatkan beberapa indikator secara real time, seperti yang ditunjukkan di bawah ini: <br><br><ul><li>  Jumlah metode pengujian yang dikelompokkan berdasarkan status (misalnya: Lulus: 30, Gagal: 2, Dilewati: 2) pada hari tertentu. </li><li>  Tren dalam durasi satu set tes selama satu minggu, bulan, tahun, dll. </li></ul><br><br><h2>  InfluxDB: </h2><br>  InfluxDB adalah database deret waktu yang digunakan untuk mengumpulkan semua metrik pengujian.  InfluxDB memiliki API REST untuk menulis data dan mengirim permintaan.  Anda dapat mempelajari lebih lanjut di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Di bawah ini saya menggunakan perintah buruh pelabuhan untuk memulai turunan dari InfluxDB. <br><br><pre><code class="java hljs">sudo docker run -p <span class="hljs-number"><span class="hljs-number">8086</span></span>:<span class="hljs-number"><span class="hljs-number">8086</span></span> -v $PWD:/<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/lib/influxdb influxdb</code> </pre> <br><br><h2>  Membuat database: </h2><br>  Kami telah meningkatkan dan meluncurkan basis data InfluxDB.  Mari kita buat skema database terpisah untuk mengumpulkan hasil tes Selenium.  Di bawah ini saya menjalankan perintah di terminal untuk membuat skema yang disebut "selenium" dalam database.  (Periksa URL, ganti localhost dengan hostname / ipaddress jika Anda tidak berjalan di komputer saat ini). <br><br><pre> <code class="java hljs">curl -i -XPOST http:<span class="hljs-comment"><span class="hljs-comment">//localhost:8086/query --data-urlencode "q=CREATE DATABASE selenium"</span></span></code> </pre> <br><br><h2>  TestNG: </h2><br>  Mari kita buat tes testNG sederhana: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(description = <span class="hljs-string"><span class="hljs-string">"login"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(description = <span class="hljs-string"><span class="hljs-string">"search for flights"</span></span>, dependsOnMethods = <span class="hljs-string"><span class="hljs-string">"login"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(description = <span class="hljs-string"><span class="hljs-string">"select flight"</span></span>, dependsOnMethods = <span class="hljs-string"><span class="hljs-string">"search"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">select</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(description = <span class="hljs-string"><span class="hljs-string">"book flight"</span></span>, dependsOnMethods = <span class="hljs-string"><span class="hljs-string">"select"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">book</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span>(description = <span class="hljs-string"><span class="hljs-string">"logout"</span></span>, dependsOnMethods = <span class="hljs-string"><span class="hljs-string">"book"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">logout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } }</code> </pre> <br><br>  Tujuan kami adalah mengumpulkan hasil tes di InfluxDB saat runtime.  Jadi, kita membutuhkan driver / library di Java untuk InfluxDB. <br><br><h2>  Ketergantungan Maven: </h2><br>  Tambahkan dependensi Maven yang ditunjukkan di bawah ini: <br><br><pre> <code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;org.influxdb&lt;/groupId&gt; &lt;artifactId&gt;influxdb-java&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.12</span></span>&lt;/version&gt; &lt;/dependency&gt;</code> </pre> <br><br><h2>  Siswa: </h2><br>  Pendengar TestNG sangat bagus untuk mendengarkan acara, dan dapat merespons tergantung pada apa yang terjadi.  Pertama, mari kita buat kelas sederhana yang bertanggung jawab untuk mengirim hasilnya ke InfluxDB. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.influxdb.InfluxDB; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.influxdb.InfluxDBFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.influxdb.dto.Point; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ResultSender</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> InfluxDB INFLXUDB = InfluxDBFactory.connect(<span class="hljs-string"><span class="hljs-string">"http://localhost:8086"</span></span>, <span class="hljs-string"><span class="hljs-string">"root"</span></span>, <span class="hljs-string"><span class="hljs-string">"root"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String DATABASE = <span class="hljs-string"><span class="hljs-string">"selenium"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>{ INFLXUDB.setDatabase(DATABASE); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Point point)</span></span></span></span>{ INFLXUDB.write(point); } }</code> </pre> <br><br>  Sekarang buat kelas lain yang mengimplementasikan antarmuka ITestListener. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.influxdb.dto.Point; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.ITestContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.ITestListener; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testng.ITestResult; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.TimeUnit; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExecutionListener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ITestListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTestStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTestSuccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendTestMethodStatus(iTestResult, <span class="hljs-string"><span class="hljs-string">"PASS"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTestFailure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendTestMethodStatus(iTestResult, <span class="hljs-string"><span class="hljs-string">"FAIL"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTestSkipped</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendTestMethodStatus(iTestResult, <span class="hljs-string"><span class="hljs-string">"SKIPPED"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTestFailedButWithinSuccessPercentage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onStart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestContext iTestContext)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onFinish</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestContext iTestContext)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendTestClassStatus(iTestContext); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendTestMethodStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestResult iTestResult, String status)</span></span></span><span class="hljs-function"> </span></span>{ Point point = Point.measurement(<span class="hljs-string"><span class="hljs-string">"testmethod"</span></span>) .time(System.currentTimeMillis(), TimeUnit.MILLISECONDS) .tag(<span class="hljs-string"><span class="hljs-string">"testclass"</span></span>, iTestResult.getTestClass().getName()) .tag(<span class="hljs-string"><span class="hljs-string">"name"</span></span>, iTestResult.getName()) .tag(<span class="hljs-string"><span class="hljs-string">"description"</span></span>, iTestResult.getMethod().getDescription()) .tag(<span class="hljs-string"><span class="hljs-string">"result"</span></span>, status) .addField(<span class="hljs-string"><span class="hljs-string">"duration"</span></span>, (iTestResult.getEndMillis() - iTestResult.getStartMillis())) .build(); ResultSender.send(point); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendTestClassStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ITestContext iTestContext)</span></span></span><span class="hljs-function"> </span></span>{ Point point = Point.measurement(<span class="hljs-string"><span class="hljs-string">"testclass"</span></span>) .time(System.currentTimeMillis(), TimeUnit.MILLISECONDS) .tag(<span class="hljs-string"><span class="hljs-string">"name"</span></span>, iTestContext.getAllTestMethods()[<span class="hljs-number"><span class="hljs-number">0</span></span>].getTestClass().getName()) .addField(<span class="hljs-string"><span class="hljs-string">"duration"</span></span>, (iTestContext.getEndDate().getTime() - iTestContext.getStartDate().getTime())) .build(); ResultSender.send(point); } }</code> </pre> <br><br><blockquote>  Catatan: Gunakan tag opsional yang memenuhi tujuan Anda dalam contoh di atas untuk mengklasifikasikan hasil.  Misalnya tag ("skenario", "aliran masuk"). </blockquote><br>  Pendengar dari contoh di atas akan memantau pelaksanaan tes dan segera setelah metode / kelas tes tertentu selesai, itu akan mengirim nama, durasi dan beberapa detail tambahan.  Tujuan saya di sini hanya untuk memberi Anda ide.  Ubah kode sesuai dengan kebutuhan Anda. <br><br>  Sekarang tambahkan pendengar ke paket XML atau ke kelas dasar TestNG. <br><br><pre> <code class="java hljs">&lt;suite name=<span class="hljs-string"><span class="hljs-string">"My suite"</span></span>&gt; &lt;listeners&gt; &lt;listener <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"com.tag.realtime.ExecutionListener"</span></span> /&gt; &lt;/listeners&gt; &lt;test name=<span class="hljs-string"><span class="hljs-string">"Test1"</span></span>&gt; &lt;classes&gt; &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"com.tag.realtime.SampleTest"</span></span>/&gt; &lt;/classes&gt; &lt;/test&gt; &lt;test name=<span class="hljs-string"><span class="hljs-string">"Test2"</span></span>&gt; &lt;classes&gt; &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"com.tag.realtime.Sample2Test"</span></span>/&gt; &lt;/classes&gt; &lt;/test&gt; &lt;/suite&gt;</code> </pre> <br><br>  Atau yang lain: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Listeners</span></span>(ExecutionListener.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ } }</code> </pre> <br><br><h2>  Grafana: </h2><br>  Kami berhasil mengirim hasilnya ke InfluxDB.  Tetapi bagaimana cara meminta hasil dan memvisualisasikan data yang diterima?  Untuk ini kita akan menggunakan alat gratis lain yang disebut "Grafana". <br>  Grafana adalah alat visualisasi yang sangat baik untuk data deret waktu, berinteraksi sempurna dengan InfluxDB.  Berikut ini adalah perintah buruh pelabuhan untuk membuat instance dari Grafana.  [plugin piechart adalah opsional di tim, itu dapat dihapus jika tidak diperlukan] <br><br><pre> <code class="java hljs">docker run -d -p <span class="hljs-number"><span class="hljs-number">3000</span></span>:<span class="hljs-number"><span class="hljs-number">3000</span></span> --name=grafana \ -e <span class="hljs-string"><span class="hljs-string">"GF_INSTALL_PLUGINS=grafana-piechart-panel"</span></span> \ -v $PWD:/<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/lib/grafana \ grafana/grafana</code> </pre> <br><br><h2>  Sumber Data untuk Grafana: </h2><br>  Buka <i>Pengaturan -&gt; Sumber data -&gt; Tambahkan sumber data baru</i> , seperti yang ditunjukkan pada tangkapan layar.  Klik tombol 'Simpan &amp; Tes' untuk memastikan Grafana dapat berkomunikasi dengan InfluxDB. <br><blockquote>  Catatan: Jika Anda menggunakan Grafana dengan Docker dan mencoba mengaksesnya sebagai 'Server default', JANGAN gunakan localhost di string koneksi InfluxDB.  Itu karena di sini localhost adalah wadah Grafana, bukan mesin fisik.  Karenanya, wadah Grafana tidak akan dapat menemukan InfluxDB. </blockquote><br><br><img src="https://habrastorage.org/webt/ka/8q/wu/ka8qwu3b5ernuxuegvpzgzbadga.png"><br><br><h2>  Membuat dasbor: </h2><br>  Saya ingin Anda menonton video ini, karena tidak mudah untuk menjelaskan semua nuansa dalam artikel.  Itu sebabnya saya merekam video hotel. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zQX8INELrjI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>Demo 2:</b> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/zdVcH4LBD2I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2>  Untuk meringkas: </h2><br>  Saya harap mendapatkan hasil waktu nyata menggunakan InfluxDB dan Grafana ternyata menarik dan bermanfaat.  Diperlukan perubahan minimal dalam struktur yang ada, karena kami menggunakan pendengar TestNG.  Menghapus pendengar dari file kelas set / base sudah cukup untuk menonaktifkan fungsi ini jika Anda tidak membutuhkannya.  Pendekatan semacam itu akan membantu untuk menghindari frustrasi dalam tim jika anggotanya hanya terlibat dalam memantau hasil pengujian melalui konsol I / O pada mesin jarak jauh.  Artikel ini hanya mengemukakan gagasan utama.  Anda dapat meningkatkan pendekatan ini dengan menambahkan lebih banyak informasi, misalnya, lingkungan pengujian, menambahkan filter tambahan untuk memperbarui data dalam bagan untuk lingkungan / pengujian tertentu, dll. <br><br>  Berikut ini adalah bahan yang singkat namun bermanfaat.  Secara tradisional, kami menunggu komentar Anda, serta ingat bahwa hari ini akan menjadi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">hari terbuka</a> pada tingkat yang dapat didaftarkan oleh siapa pun. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452908/">https://habr.com/ru/post/id452908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452894/index.html">Face Anti-Spoofing atau secara teknis mengenali penipu dari seribu wajah</a></li>
<li><a href="../id452900/index.html">Indeks dalam PostgreSQL - 9 (BRIN)</a></li>
<li><a href="../id452902/index.html">Menyelesaikan pelatihan 4 tahun sebagai programmer, saya mengerti bahwa saya jauh dari seorang programmer</a></li>
<li><a href="../id452904/index.html">Bagaimana mesin berkomunikasi - protokol MQTT</a></li>
<li><a href="../id452906/index.html">Mesin JavaScript: bagaimana cara kerjanya? Dari tumpukan panggilan ke janji-janji, (hampir) semua yang perlu Anda ketahui</a></li>
<li><a href="../id452910/index.html">Halo, Habr! Halo Tercon</a></li>
<li><a href="../id452914/index.html">ML di Scala dengan senyum, untuk mereka yang tidak takut bereksperimen</a></li>
<li><a href="../id452916/index.html">Bangun dan pergi. Operasi tulang belakang: kapan harus melakukan, apa yang berbahaya</a></li>
<li><a href="../id452922/index.html">Tabel Grid CSS Fleksibel</a></li>
<li><a href="../id452924/index.html">Apa yang perlu Anda lakukan untuk mencegah akun Google Anda dicuri</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>