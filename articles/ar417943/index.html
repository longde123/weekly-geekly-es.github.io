<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👩‍👦‍👦 🙇🏻 👨🏻‍🏫 خادوم و رد 2: خفة اليد و عدم الاحتيال 👨‍👧‍👧 👠 🍝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="هل يمكنني إخبار مطوري الواجهة الأمامية عن الهيكل الخالي من الخوادم بدون سحابة داخل AWS (Amazon Web Services) بطريقة بسيطة؟ لما لا. دعونا نقدم تطبيق AW...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>خادوم و رد 2: خفة اليد و عدم الاحتيال</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/417943/" style=";text-align:right;direction:rtl"> هل يمكنني إخبار مطوري الواجهة الأمامية عن الهيكل الخالي من الخوادم بدون سحابة داخل AWS (Amazon Web Services) بطريقة بسيطة؟  لما لا.  دعونا نقدم تطبيق AWS React / Redux ، ثم نتحدث عن إيجابيات وسلبيات AWS lambdas. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/wJcXVjemrEY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>تعتمد المواد على نص <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تقرير مارينا ميرونوفيتش</a> من مؤتمر الربيع HolyJS 2018 في سانت بطرسبرغ.</i> <br><a name="habracut"></a><br>  رسميًا ، تعد مارينا مطورًا رائدًا لـ EPAM.  وهي الآن تعمل في مجموعة مهندسين حلول للعميل وبسبب هذا تشارك في عدد كبير من المشاريع.  لذلك ، سيكون من الأسهل بالنسبة لنا تحديد دائرة اهتماماتها الحالية بدلاً من سرد جميع التقنيات التي تعمل بها. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e6/caf/b0d/0e6cafb0de05d040b8b7bc30ab969b34.jpg" align="left">  <i>بادئ ذي بدء ، أنا مهتم بجميع تقنيات السحابة ، على وجه الخصوص ، AWS ، لأنني أعمل مع هذا كثيرًا في الإنتاج.</i>  <i>ولكن أحاول مواكبة كل شيء آخر.</i> <i><br><br></i>  <i>الواجهة الأمامية هي حبي الأول ويبدو إلى الأبد.</i>  <i>على وجه الخصوص ، أنا أعمل حاليًا مع React و React Native ، لذلك أعرف المزيد عنه.</i>  <i>أحاول أيضًا تتبع كل شيء آخر.</i>  <i>أنا مهتم بكل شيء يتعلق بوثائق المشروع ، على سبيل المثال ، مخططات UML.</i>  <i>نظرًا لأنني عضو في مجموعة مهندسي الحلول ، يجب أن أقوم بالكثير منها.</i> <i><br><br></i> <br><br><h2 style=";text-align:right;direction:rtl">  الجزء 1. الخلفية </h2><br>  جاءت فكرة الحديث عن Serverless منذ حوالي عام.  أردت أن أتحدث عن Serverless لمطوري الواجهة الأمامية بسهولة وبشكل طبيعي.  حتى لا تحتاج إلى أي معرفة إضافية لاستخدامها ، تتيح لك المزيد من التقنيات القيام بذلك. <br><br>  إلى حد ما ، تم إدراك الفكرة - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تحدثت عن</a> Serverless في FrontTalks 2017. ولكن اتضح أن 45 دقيقة ليست كافية لقصة بسيطة ومفهومة.  لذلك ، تم تقسيم التقرير إلى جزأين ، والآن أمامك "السلسلة" الثانية.  الذين لم يروا الأول - لا تقلق ، لن يضر هذا بفهم ما هو مكتوب أدناه.  كما هو الحال في البرامج التلفزيونية اللائقة ، سأبدأ بملخص الجزء السابق.  ثم سأنتقل إلى العصير نفسه - سنقوم بتقديم تطبيق React / Redux.  وأخيرًا ، سأتحدث عن إيجابيات وسلبيات الوظائف السحابية من حيث المبدأ (على وجه الخصوص ، AWS lambdas) وما الذي يمكن القيام به معهم.  آمل أن يكون هذا الجزء مفيدًا لجميع أولئك الذين هم على دراية بـ AWS lambda.  الأهم من ذلك ، أن العالم لا ينتهي بـ Amazon ، لذلك دعونا نتحدث عن ما هو آخر في مجال وظائف السحابة. <br><br><h3 style=";text-align:right;direction:rtl">  ما سأستخدمه </h3><br>  لتقديم التطبيق ، سأستخدم العديد من خدمات أمازون: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  S3 هو نظام ملفات في السحب.  هناك سنقوم بتخزين الأصول الثابتة. <br></li><li style=";text-align:right;direction:rtl">  IAM (حقوق الوصول للمستخدمين والخدمات) - بشكل ضمني ، ولكن سيتم استخدامها في الخلفية بحيث تتواصل الخدمات مع بعضها البعض. <br></li><li style=";text-align:right;direction:rtl">  API Gateway (عنوان URL للوصول إلى الموقع) - سترى عنوان URL حيث يمكننا استدعاء لامدا لدينا. <br></li><li style=";text-align:right;direction:rtl">  CloudFormation (للنشر) - سيتم استخدامه ضمنيًا في الخلفية. <br></li><li style=";text-align:right;direction:rtl">  AWS Lambda - لقد جئنا إلى هنا من أجل هذا. <br></li></ol><br><h3 style=";text-align:right;direction:rtl">  ما هو بدون خادم وما هو AWS Lambda؟ </h3><br>  في الواقع Serverless هو عملية احتيال كبيرة ، بالطبع هناك خوادم: في مكان ما ، يبدأ كل شيء.  لكن ما الذي يحدث هناك؟ <br><br>  نكتب دالة ، وهذه الوظيفة تعمل على الخوادم.  بالطبع ، لا يبدأ الأمر هكذا فحسب ، ولكن في نوع من الحاوية.  وفي الواقع ، تسمى هذه الوظيفة في الحاوية على الخادم لامدا. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6ad/2c6/ff1/6ad2c6ff181236d39a29121e8b607a96.png"></div><br>  في حالة لامدا ، يمكننا نسيان الخوادم.  أود أن أقول هذا: عندما تكتب وظيفة لامدا ، فإنه من المؤذي التفكير فيها.  نحن لا نعمل مع لامدا بالطريقة التي نعمل بها مع الخادم. <br><br><h3 style=";text-align:right;direction:rtl">  كيفية نشر لامدا </h3><br>  ينشأ سؤال منطقي: إذا لم يكن لدينا خادم ، كيف ننشره؟  يوجد SSH على الخادم ، قمنا بتحميل الكود ، أطلقناه - كل شيء على ما يرام.  ماذا تفعل مع لامدا؟ <br><br>  <b>الخيار 1. لا يمكننا نشره.</b> <br><br>  قدم AWS في وحدة التحكم IDE لطيفًا ولطيفًا لنا ، حيث يمكننا القدوم وكتابة وظيفة هناك. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08e/1cd/f73/08e1cdf73c5d5fec2c6315e0207e51ed.png"><br><br>  إنها جميلة ، لكنها ليست قابلة للتوسعة للغاية. <br><br>  <b>الخيار 2. يمكننا عمل ملف مضغوط وتنزيله من سطر الأوامر</b> <br><br>  كيف نصنع ملف مضغوط؟ <br><br> <code>zip -r build/lambda.zip index.js [node_modules/] [package.json] <br></code> <br>  إذا كنت تستخدم node_modules ، يتم ضغط كل هذا في أرشيف واحد. <br>  علاوة على ذلك ، اعتمادًا على ما إذا كنت تقوم بإنشاء وظيفة جديدة أو إذا كان لديك بالفعل مثل هذه الوظيفة ، فأنت تفعل ذلك أيضًا <br><br> <code>aws lambda create-function... <br></code> <br>  سواء <br><br> <code>aws lambda update-function-code... <br></code> <br>  ما هي المشكلة؟  أولاً ، يريد AWS CLI معرفة ما إذا كان يتم إنشاء دالة أو إذا كان لديك بالفعل وظيفة.  هذان فريقان مختلفان.  إذا كنت لا تريد تحديث الرمز فحسب ، بل أيضًا بعض سمات هذه الوظيفة ، تبدأ المشاكل.  يتزايد عدد هذه الأوامر ، وتحتاج إلى الجلوس مع دليل والتفكير في الأمر الذي ستستخدمه. <br><br>  يمكننا القيام بذلك بشكل أفضل وأسهل.  لهذا ، لدينا أطر عمل. <br><br><h3 style=";text-align:right;direction:rtl">  أطر AWS Lambda </h3><br>  هناك العديد من هذه الأطر.  هذا هو في الأساس AWS CloudFormation ، والذي يعمل بالاشتراك مع AWS CLI.  CloudFormation هو ملف Json يصف خدماتك.  أنت تصفها في ملف Json ، ثم من خلال AWS CLI قل "تنفيذ" ، وسوف يقوم تلقائيًا بإنشاء كل شيء لك في خدمة AWS. <br><br>  ولكن لا يزال الأمر صعبًا لمهمة بسيطة مثل تقديم شيء ما.  هنا عتبة الإدخال كبيرة جدًا - تحتاج إلى قراءة بنية CloudFormation ، إلخ. <br><br>  دعونا نحاول تبسيطه.  وهنا تظهر أطر مختلفة: APEX ، Zappa (فقط ل Python) ، Claudia.js.  أدرجت فقط عدد قليل ، بشكل عشوائي. <br><br>  مشكلة وقوة هذه الأطر هي أنها عالية التخصص.  لذا ، فهم جيدون جدًا في القيام ببعض المهام البسيطة.  على سبيل المثال ، تعد Claudia.js جيدة جدًا لإنشاء REST API.  ستقوم بإنشاء بوابة API AWS call ، وستقوم بإنشاء لامدا لك ، وسيتم قفلها بشكل جميل.  ولكن إذا كنت بحاجة إلى نشر المزيد ، فستبدأ المشاكل - عليك إضافة شيء ، مساعدة ، نظرة ، إلخ. <br><br>  تمت كتابة Zappa فقط لـ Python.  وأريد شيئًا أكثر طموحًا.  وهنا يأتي Terraform وحبي بلا خادم. <br><br>  يوجد Serverless في مكان ما في الوسط بين CloudFormation الكبير جدًا ، والذي يمكنه فعل كل شيء تقريبًا ، وهذه الأطر المتخصصة للغاية.  يمكن نشر كل شيء تقريبًا فيه ، ولكن القيام بكل ذلك لا يزال سهلاً للغاية.  كما أن لديها بنية خفيفة للغاية. <br><br>  تعد Terraform ، إلى حد ما ، نظيرًا لـ CloudFormation.  Terraform مفتوح المصدر ، حيث يمكنك نشر كل شيء - حسنًا ، أو كل شيء تقريبًا.  وعندما تنشئ AWS الخدمات ، يمكنك إضافة شيء جديد هناك.  لكنها كبيرة ومعقدة. <br><br>  لنكون صادقين ، في الإنتاج نستخدم Terraform ، لأنه مع Terraform كل شيء لدينا أصبح أسهل - Serverless لن يصف كل هذا.  لكن Terraform معقد للغاية.  وعندما أكتب شيئًا ما للعمل ، أكتبه أولاً على Serverless ، واختبره للأداء ، وفقط بعد اختبار التهيئة وإعدادها ، أقوم بإعادة كتابتها على Terraform (هذا "ممتع" لبضعة أيام أخرى). <br><br><h3 style=";text-align:right;direction:rtl">  بلا خادم </h3><br>  لماذا أحب Serverless؟ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يحتوي Serverless على نظام يسمح لك بإنشاء مكونات إضافية.  في رأيي ، هذا خلاص من كل شيء.  خادم - مفتوح المصدر.  ولكن ليس من السهل دائمًا إضافة شيء ما إلى المصدر المفتوح.  أنت بحاجة إلى فهم ما يحدث في الكود الحالي ، ومراعاة الإرشادات ، على الأقل نمط الكود ، وإرسال العلاقات العامة ، وسوف ينسون هذا العلاقات العامة وسيجمع الغبار لمدة ثلاث سنوات.  وفقًا للنتائج ، فأنت تفرع ، وسيكون هذا مكانًا لك بشكل منفصل.  كل هذا ليس بصحة جيدة.  ولكن عندما تكون هناك مكونات إضافية ، يتم تبسيط كل شيء.  تحتاج إلى إضافة شيء ما - فأنت على ركبتك تقوم بإنشاء مكون إضافي صغير خاص بك.  للقيام بذلك ، لم تعد بحاجة إلى فهم ما يحدث داخل Serverless (إذا لم يكن هذا سؤالًا مخصصًا للغاية).  يمكنك ببساطة استخدام واجهة برمجة التطبيقات المتاحة ، في مكان ما تحفظ فيه المكون الإضافي أو تنشره للجميع.  وكل شيء يعمل من أجلك.  بالإضافة إلى ذلك ، هناك بالفعل حديقة حيوانات كبيرة من الإضافات والأشخاص الذين يكتبون هذه الإضافات.  أي أنه ربما تم تحديد شيء لك بالفعل. <br></li><li style=";text-align:right;direction:rtl">  Serverless يساعد على تشغيل لامدا محليا.  النقص الكبير بما فيه الكفاية من لامدا هو أن AWS لم تفكر في كيفية تصحيحه واختباره.  لكن Serverless يسمح لك بتشغيل كل شيء محليًا ، انظر ما يحدث (حتى أنه يفعل ذلك بالاقتران مع Gateway API). <br></li></ol><br><h3 style=";text-align:right;direction:rtl">  مظاهرة </h3><br>  الآن سأوضح كيف يعمل كل هذا حقًا.  خلال الدقيقة والنصف إلى الدقيقتين التاليتين ، سنتمكن من إنشاء خدمة تعرض صفحة HTML الخاصة بنا. <br>  أولاً ، في مجلد جديد ، أقوم بتشغيل نموذج SLS Create: <br><br> <code><br> mkdir sls-holyjs <br> cd sls-holyjs <br> sls create --template aws-nodejs-ecma-script <br></code> <br><img src="https://habrastorage.org/getpro/habr/post_images/4d2/620/2e5/4d26202e5337684014e9f43fb25771d3.png"><br><br> <code>npm install <br></code> <br><img src="https://habrastorage.org/getpro/habr/post_images/bee/67c/81f/bee67c81fbb0b19e21432a73b69751dc.png"><br><br>  اعتنى بنا المطورون الذين لا يمتلكون خوادم - مما جعل من الممكن إنشاء خدمات من القوالب.  في هذه الحالة ، أستخدم <code>nodejs-ecma-script</code> ، الذي سينشئ لي بعض الملفات ، مثل تهيئة حزمة الويب و package.json وبعض الوظائف و serverless.yml: <br><br> <code>ls <br></code> <br><img src="https://habrastorage.org/getpro/habr/post_images/35b/6c6/86a/35b6c686a1fbe3e323ddb939147d1b3d.png"><br><br>  لست بحاجة إلى جميع الميزات.  سأزيل الاسم الأول والثاني في Holyjs: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/030/599/ae0/030599ae094881637ae09ee3daf33ffd.png"><br><br>  سأقوم بتعديل serveless.yml قليلاً ، حيث لدي وصف لجميع الخدمات الضرورية: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85d/0ba/f9b/85d0baf9bad8e2918866f5a97c096017.png"><br><br>  حسنًا ، سأقوم بعد ذلك بإصلاح الاستجابة التي ترجعها الدالة: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e13/07a/d85/e1307ad8550ea44532f79e6db27d561c.png"><br><br>  سأجعل HTML "Hello HolyJS" وأضيف مقبضًا للعرض. <br><br>  التالي: <br><br> <code>sls deploy <br></code> <br>  وفويلا!  هناك عنوان URL حيث يمكنني أن أرى في الوصول العام ما يتم تقديمه: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/228/4f3/b94/2284f3b9487a8d70a9244652d99874ff.png"><br><br>  ثق ولكن تحقق.  سأذهب إلى وحدة تحكم AWS وتحقق من أنني قمت بإنشاء وظيفة Holyjs: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e62/458/e98/e62458e98369c7022c280c419f79be55.png"><br><br>  كما ترى ، قبل نشره ، سيقوم Serverless ببنائه باستخدام webpack.  بالإضافة إلى ذلك ، سيتم إنشاء بقية البنية التحتية الموضحة هناك - API Gateway ، إلخ. <br><br>  عندما أريد إزالة هذا: <br><br> <code>sls remove <br></code> <br>  سيتم حذف جميع البنية التحتية الموصوفة في serverless.yml. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad7/8fb/f2d/ad78fbf2d65cbcaef9094673bcca4026.png"><br><br>  إذا كان شخص ما وراء العملية الموضحة هنا ، فأنا أدعوك لمراجعة تقريري <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">السابق</a> ببساطة. <br><br><h3 style=";text-align:right;direction:rtl">  قم بتشغيل لامدا محليًا </h3><br>  ذكرت أنه يمكن تشغيل لامدا محليًا.  هناك خياران لبدء التشغيل هنا. <br><br>  <b>الخيار 1. ندير كل شيء في المحطة</b> <br><br>  نحصل على ما ترجع وظيفتنا. <br><br> <code><br> sls invoke local -f [fn_name] <br></code> <br>  <b>الخيار 2. إطلاق لامدا محليًا دون اتصال بالإنترنت</b> <br><br>  لا تنس ، نحن نقوم بتطبيق متشابه ، سيكون HTML و CSS ، لذلك في المحطة الطرفية ليس من المثير للاهتمام أن ننظر إلى سطور HTML الطويلة.  هناك يمكنك التحقق من أن الوظيفة تعمل.  لكني أود تشغيله وتقديمه في المتصفح.  وفقا لذلك ، أحتاج إلى مجموعة من بوابة API مع لامدا. <br><br>  للقيام بذلك ، هناك مكون إضافي منفصل بدون خادم يعمل على تشغيل لامدا على بعض المنافذ (هذا مكتوب) ، ثم سيعرض عنوان URL في الوحدة الطرفية حيث يمكنك الوصول إليه. <br><br> <code>sls offline --port 8000 start <br></code> <br>  أفضل جزء هو أن هناك إعادة تحميل ساخنة.  أي أنك تكتب رمز الوظيفة ، وتقوم بتحديث المستعرض الخاص بك ويتم تحديث ما تعيده الوظيفة.  لا يلزم إعادة تشغيل كل شيء. <br><br>  كان هذا ملخصا للجزء الأول من التقرير.  الآن ننتقل إلى الجزء الرئيسي. <br><br><h2 style=";text-align:right;direction:rtl">  الجزء 2. التقديم مع AWS </h2><br>  المشروع الموضح أدناه موجود <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بالفعل</a> على GitHub.  إذا كنت مهتمًا ، يمكنك تنزيل الرمز هناك. <br><br>  لنبدأ بكيفية عمل كل شيء. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f03/f9d/a97/f03f9da976ac1723c15aad19dd631689.png"><br><br>  افترض أن هناك مستخدم - لي. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  أفتح الموقع. <br></li><li style=";text-align:right;direction:rtl">  في عنوان URL معين ، نصل إلى واجهة برمجة تطبيقات البوابة.  أريد أن أشير إلى أن Gateway API هي بالفعل خدمة AWS ، نحن بالفعل في السحب. <br></li><li style=";text-align:right;direction:rtl">  سيتصل Gateway API بلمدا. <br></li><li style=";text-align:right;direction:rtl">  ستقوم لامدا بعرض الموقع ، وسيعود كل هذا إلى المتصفح. <br></li><li style=";text-align:right;direction:rtl">  سيبدأ المتصفح في العرض ويدرك أن بعض الملفات الثابتة مفقودة.  ثم سيتحول إلى دلو S3 (نظام الملفات الخاص بنا ، حيث سنقوم بتخزين جميع الإحصائيات ؛ في دلو S3 يمكنك وضع كل شيء - الخطوط ، الصور ، CSS ، JS). <br></li><li style=";text-align:right;direction:rtl">  ستعود البيانات من مجموعة S3 إلى المتصفح. <br></li><li style=";text-align:right;direction:rtl">  المتصفح سيعرض الصفحة. <br></li><li style=";text-align:right;direction:rtl">  الجميع سعداء. <br></li></ul><br>  دعنا نراجع قليلا ما كتبته. <br><br>  إذا ذهبت إلى GitHub ، فسترى بنية الملف التالية: <br><br> <code><b>lambda-react</b> <br> README.md <br> <b>config <br> package.json</b> <br> public <br> scripts <br> <b>serverless.yml <br> src</b> <br> yarn.lock <br></code> <br>  يتم إنشاء كل هذا تلقائيًا في مجموعة أدوات React / Redux.  في الواقع ، سنهتم هنا بملفين فقط ويجب تصحيحهما قليلاً: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  التكوين <br></li><li style=";text-align:right;direction:rtl">  حزمة <br></li><li style=";text-align:right;direction:rtl">  serverless.yml - لأننا سننشر ، <br></li><li style=";text-align:right;direction:rtl">  src - في أي مكان بدونها. <br></li></ul><br><h3 style=";text-align:right;direction:rtl">  لنبدأ مع التكوين </h3><br>  للحصول على كل شيء معًا على الخادم ، نحتاج إلى إضافة webpack.config آخر: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c0/990/786/6c099078652d80adcdcb70518187644f.png"><br><br>  سيتم إنشاء webpack.config هذا بالفعل من أجلك إذا كنت تستخدم القالب.  وهناك يتم استبدال المتغير <code>slsw.lib.entries</code> تلقائيًا ، والذي <code>slsw.lib.entries</code> إلى معالجات لامدا الخاصة بك.  إذا كنت تريد ، يمكنك تغييره بنفسك عن طريق تحديد شيء آخر. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/535/90e/c6a/53590ec6ae4247d42bab7deca58a0b62.png"><br><br>  سنحتاج إلى تقديم كل شيء للعقدة ( <code>target: 'node'</code> ).  من حيث المبدأ ، تظل جميع اللوادر الأخرى كما هي في حالة استخدام التفاعل العادي. <br><br><h3 style=";text-align:right;direction:rtl">  مزيد من package.json </h3><br>  سنضيف فقط اثنين من النصوص البرمجية - تم إنشاء البداية والبناء بالفعل مع React / Redux - لا شيء يتغير.  أضف نصًا برمجيًا لتشغيل لامدا ونصًا برمجيًا لنشر لامدا. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e2/822/8c4/4e28228c43ebd1548ff77f0f2d3421a2.png"><br><br><h3 style=";text-align:right;direction:rtl">  خادم بدون خادم </h3><br>  ملف صغير للغاية - 17 سطراً فقط ، جميعها أدناه: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c5/404/6fa/0c54046fa5a2461532d6f7638aaf650b.png"><br><br>  ما هو المثير للاهتمام فينا؟  بادئ ذي بدء ، معالج.  المسار الكامل للملف <code>src/lambda/handler</code> ( <code>src/lambda/handler</code> ) ويتم تحديد وظيفة المعالج من خلال النقطة. <br><br>  إذا كنت تريد ذلك حقًا ، يمكنك تسجيل عدة معالجات في ملف واحد.  أيضا هنا هو المسار إلى webpack ، الذي يجب أن يجمع كل هذا.  في الأساس ، كل شيء: يتم إنشاء الباقي تلقائيًا تلقائيًا. <br><br><h3 style=";text-align:right;direction:rtl">  الأكثر إثارة للاهتمام هو src </h3><br>  هنا هو تطبيق React / Redux ضخم (في حالتي ليس ضخمًا - إلى الصفحة).  في مجلد لامدا الإضافي ، كل ما نحتاجه لتقديم لامدا: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f4/b29/61a/3f4b2961a0c6f9218b715d6f013c53bf.png"><br><br>  هذه ملفات 2: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f10/df3/485/f10df348528805e990f1d781a2406226.png"><br><br>  لنبدأ بالمعالج.  الأهم خط 13.  هذا هو العارض ، وهو لامدا جدا سيتم استدعاؤه في السحب: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3dd/d02/4a2/3ddd024a27fe4ccd1d919885f56f1009.png"><br><br>  كما ترون ، ترجع وظيفة <code>render ()</code> وعدًا ، يجب من خلاله التقاط جميع الاستثناءات.  هذه هي خصوصية لامدا ، وإلا لن تنتهي لامدا على الفور ، ولكنها ستعمل حتى المهلة.  سيكون عليك دفع أموال إضافية لرمز سقط بالفعل.  لمنع حدوث ذلك ، تحتاج إلى إنهاء لامدا في أقرب وقت ممكن - أولاً وقبل كل شيء ، التقاط ومعالجة جميع الاستثناءات.  في وقت لاحق سنعود إلى هذا. <br><br>  إذا لم يكن لدينا أي أخطاء أو استثناءات ، فإننا <code>createResponse</code> وظيفة <code>createResponse</code> ، والتي تأخذ حرفيا خمسة أسطر.  نضيف فقط جميع الرؤوس بحيث يتم عرضها بشكل صحيح في المتصفح: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c3/15c/025/1c315c025f85e3d63a70a9843cb0a8d3.png"><br><br>  الشيء الأكثر إثارة للاهتمام هنا هو وظيفة <code>render</code> ، والتي ستعرض صفحتنا: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d3d/336/0b8/d3d3360b83d7d5c329c5177719029ba8.png"><br><br>  تأتي هذه الوظيفة إلينا من adver.js.  دعونا نرى ما هناك. <br><br>  يتم تقديم تطبيق متماثل هناك.  علاوة على ذلك ، يتم تقديمه على أي خادم - لا يهم ما إذا كان لامدا أم لا. <br><br>  لن أخبرك بالتفصيل حول ما هو التطبيق المتشابه ، وكيفية تقديمه ، لأن هذا موضوع مختلف تمامًا ، وهناك أشخاص أخبروه أفضل مني.  في ما يلي بعض الدروس التي وجدتها من خلال googling في بضع دقائق فقط: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e3/366/3d0/1e33663d08624d7649ae4cb084571b98.png"><br><br>  إذا كنت تعرف أي تقارير أخرى ، يمكنك تقديم المشورة ، سأعطي روابط لها على تويتر الخاص بي. <br><br>  لكي لا تخسر أحدا ، أنا فقط اصعد ، أخبر ما يحدث هناك. <br>  بادئ ذي بدء ، نحن بحاجة لتقديم هذا مع HTML / React / Redux. <br><br>  يتم ذلك من خلال طريقة <code>renderToString</code> القياسية - تقديم إلى <code>renderToString</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/81f/69f/3e8/81f69f3e89005f3ff76e389a65a6d731.png"><br><br>  بعد ذلك ، نحتاج إلى تقديم الأنماط حتى لا يومض المحتوى الخاص بنا.  هذه ليست مهمة تافهة للغاية.  هناك العديد من حزم npm التي تحلها.  على سبيل المثال ، استخدمت <code>styleTag</code> <code>node-style-loader</code> ، والتي ستجمع كل شيء معًا في <code>styleTag</code> ، ثم يمكنك لصقه في HTML. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/509/827/653/509827653575b822318cc8746c893b1b.png"><br><br>  إذا كانت هناك حزم أفضل - فهي حسب تقديرك. <br><br>  بعد ذلك نحتاج إلى تمرير حالة Redux.  نظرًا لأنك تقوم بالتقديم على الخادم ، فمن المحتمل أنك ترغب في الحصول على بعض البيانات ، ولا تريد من Redux إعادة طرحها وإعادة عرضها مرة أخرى.  هذه مهمة قياسية إلى حد ما.  هناك أمثلة على موقع Redux الرئيسي حول كيفية القيام بذلك: نقوم بإنشاء كائن ثم نمرره عبر متغير عام: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/732/726/151/7327261516c4747f0994c83f5237668b.png"><br>  الآن أقرب قليلا إلى لامدا. <br><br>  من الضروري القيام بمعالجة الخطأ.  نريد أن نلتقط كل شيء ونفعل شيئًا معهم ، على الأقل نوقف تطور لامدا.  على سبيل المثال ، فعلت ذلك من خلال <code>promise</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe4/eb4/827/fe4eb4827fd43e48c17a84767612da2d.png"><br><br>  بعد ذلك ، نحتاج إلى استبدال عناوين URL الخاصة بنا بملفات ثابتة.  ولهذا نحتاج إلى معرفة أين تجري لامدا - محليًا أو في مكان ما في السحب.  كيف تعرف؟ <br><br>  سنفعل ذلك من خلال متغيرات البيئة: <br><br> <code><br> <br> … <br> const bundleUrl = process.env.NODE_ENV === 'AWS' ? <br> AWS_URL : LOCAL_URL; <br></code> <br>  سؤال مثير للاهتمام: كيف تلتقي متغيرات البيئة في لامدا.  في الواقع سهلة بما فيه الكفاية.  في yml ، يمكنك تمرير أي متغيرات إلى <code>environment</code> .  عندما يتم قفلها ، ستكون متاحة: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6bf/a6d/083/6bfa6d083ab79f39cf033342e7e1cec6.png"><br><br>  حسنًا ، مكافأة - بعد أن نشرنا لامدا ، نريد نشر جميع الأصول الثابتة.  للقيام بذلك ، قمنا بالفعل بكتابة مكون إضافي حيث يمكنك تعيين سلة S3 حيث تريد نشر شيء ما: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/784/43d/2a3/78443d2a3bcfbf351429efa9f98e9965.png"><br>  في المجموع ، قدمنا ​​تطبيقًا مشابهًا في حوالي خمس دقائق لإظهار أن كل هذا سهل. <br><br>  الآن دعونا نتحدث قليلاً عن النظرية - إيجابيات وسلبيات لامدا. <br><br>  لنبدأ بالسيء. <br><br><h3 style=";text-align:right;direction:rtl">  وظائف سلبيات لامدا </h3><br>  قد تتضمن السلبيات (أو ربما لا) وقت البدء البارد.  على سبيل المثال ، بالنسبة إلى لامدا على Node.js التي نكتبها الآن ، فإن وقت البدء البارد لا يعني الكثير. <br><br>  يوضح الرسم البياني أدناه وقت البدء البارد.  ويمكن أن يكون هذا أمرًا كبيرًا ، خاصة بالنسبة إلى Java و C # (انتبه إلى النقاط البرتقالية) - لا تريد أن يستغرق الأمر خمس أو ست ثوانٍ لبدء الرمز. <br><br>  بالنسبة إلى Node.js ، يكون وقت البدء صفرًا تقريبًا - 30 - 50 مللي ثانية.  بالطبع ، بالنسبة للبعض قد يكون هذا مشكلة.  ولكن يمكن تسخين الوظائف (على الرغم من أن هذا ليس موضوع هذا التقرير).  إذا كان أي شخص مهتمًا بكيفية إجراء هذه الاختبارات ، فمرحبًا بك في acloud.guru ، سيخبرك بكل شيء ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">في المقالة</a> ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb7/11b/185/cb711b1856839c3b9ee9d0a268e0b4cc.png"><br><br>  إذن ما هي السلبيات؟ <br><br><h3 style=";text-align:right;direction:rtl">  قيود حجم رمز الوظيفة </h3><br>  يجب أن يكون الرمز أقل من 50 ميغابايت.  هل من الممكن كتابة مثل هذه الوظيفة الكبيرة؟  من فضلك لا تنسى وحدات العقدة.  إذا قمت بتوصيل شيء ما ، خاصة إذا كانت هناك ملفات ثنائية هناك ، يمكنك بسهولة تجاوز 50 ميغابايت ، حتى بالنسبة للملفات المضغوطة.  لقد كان لدي مثل هذه الحالات.  ولكن هذا سبب إضافي لمعرفة ما تقوم بتوصيله إلى node_modules. <br><br><h3 style=";text-align:right;direction:rtl">  قيود وقت التشغيل </h3><br>  بشكل افتراضي ، يتم تنفيذ الوظيفة لمدة ثانية.  إذا لم تنتهي بعد ثانية ، سيكون لديك مهلة.  ولكن يمكن زيادة هذه المرة في الإعدادات.  عند إنشاء دالة ، يمكنك تعيين القيمة على خمس دقائق.  خمس دقائق هي موعد نهائي صعب.  هذه ليست مشكلة في الموقع.  ولكن إذا كنت ترغب في القيام بشيء أكثر إثارة للاهتمام على lambdas ، على سبيل المثال ، معالجة الصور ، تحويل النص إلى صوت أو صوت إلى نص ، وما إلى ذلك ، يمكن أن تستغرق هذه الحسابات بسهولة أكثر من خمس دقائق.  وستكون هذه مشكلة.  ماذا تفعل حيال ذلك؟  تحسين أو عدم استخدام لامدا. <br><br>  شيء آخر مثير للاهتمام ينشأ فيما يتعلق بالوقت المحدد لتنفيذ لامدا.  أذكر تخطيط موقعنا.  عمل كل شيء بشكل مثالي حتى جاء المنتج وتمنى على تغذية الموقع في الوقت الحقيقي - لعرض الأخبار في الوقت الحقيقي.  نحن نعلم أن هذا يتم تنفيذه باستخدام WebSockets.  لكن WebSockets لا تعمل لمدة خمس دقائق ، يجب الاحتفاظ بها لفترة أطول.  وهنا يصبح حد الخمس دقائق مشكلة. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/baa/e78/4a3baae784a50a373e56e5e3652187c9.png"><br><br>  ملاحظة صغيرة.  بالنسبة لـ AWS ، لم تعد هذه مشكلة.  وجدوا كيفية الالتفاف حول هذا.  ولكن بشكل عام ، بمجرد ظهور مآخذ الويب ، فإن لامدا ليست حلاً لك.  تحتاج إلى التبديل إلى الخوادم القديمة الجيدة مرة أخرى. <br><br><h3 style=";text-align:right;direction:rtl">  عدد الوظائف المتوازية في الدقيقة </h3><br>  أعلاه هو حد 500 إلى 3000 ، حسب المنطقة التي تتواجد فيها.  في رأيي ، في أوروبا ما يقرب من 500. 3000 مدعوم في الولايات المتحدة. <br><br>  إذا كان لديك موقع مزدحم وتتوقع أكثر من ثلاثة آلاف طلب في الدقيقة (وهو أمر يسهل تخيله) ، يصبح هذا مشكلة.  ولكن قبل أن نتحدث عن هذا الطرح ، دعنا نتحدث قليلاً عن كيفية تحجيم لامدا. <br><br>  يأتي الطلب إلينا ونحصل على لامدا.  أثناء تنفيذ هذه اللمدا ، يأتي إلينا طلبان آخران - نبدأ اثنين آخرين من لامدا.  يبدأ الناس في القدوم إلى موقعنا ، وتظهر الطلبات ويتم إطلاق lambdas ، أكثر وأكثر. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a1/58e/a49/4a158ea4922c44333fbe590440dde1b3.png"><br><br>  من خلال القيام بذلك ، ستدفع مقابل الوقت الذي تعمل فيه لامدا.  افترض أنك تدفع سنتًا واحدًا لثانية واحدة من تنفيذ لامدا.  إذا كان لديك 10 لامدا في الثانية ، فسوف تدفع 10 سنتات لهذه الثانية.  إذا كان لديك مليون لامدا تعمل في الثانية ، فهذا يعني حوالي 10 آلاف دولار.  شخصية مزعجة. <br><br>  لذلك ، قررت AWS أنهم لا يريدون تفريغ محفظتك في ثانية إذا قمت بإجراء الاختبارات بشكل غير صحيح وقمت ببدء DDOS بنفسك ، مما تسبب في لامداس ، أو جاء شخص آخر للقيام DDOS.  لذلك ، تم تحديد حد ثلاثة آلاف - بحيث تتاح لك الفرصة للرد على الموقف. <br><br>  إذا كان تحميل 3000 طلب عادي بالنسبة لك ، يمكنك الكتابة في AWS وسوف يرفعون الحد. <br><br><h3 style=";text-align:right;direction:rtl">  عديم الجنسية </h3><br>  هذا هو الأخير ، مرة أخرى ، ناقص مثير للجدل. <br><br>  ما هو عديم الجنسية؟  هنا تأتي نكتة عن الأسماك الذهبية - فهي ببساطة لا تحمل السياق: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b03/c26/620/b03c26620417a57fec13f48b896c7ef9.png"><br><br>  لامدا ، التي تسمى المرة الثانية ، لا تعرف شيئًا عن المكالمة الأولى. <br><br>  دعني اريك مثالا  لنفترض أن لدي نظامًا - صندوق أسود كبير.  وهذا النظام ، من بين أمور أخرى ، يمكنه إرسال الرسائل القصيرة. <br><br>  يأتي المستخدم ويقول: إرسال نموذج SMS رقم 1. ويرسله النظام إلى جهاز حقيقي. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad0/1e9/dea/ad01e9dead7ca1c6a23788c5179f1b3f.png"><br><br>  في مرحلة ما ، يعبر المنتج عن رغبته في معرفة ما سيذهب إلى هناك ، والتحقق من عدم حدوث أي كسر في هذا النظام في أي مكان.  للقيام بذلك ، سنستبدل الجهاز الحقيقي بنوع من رقم الاختبار - على سبيل المثال ، يمكن لـ Twilio القيام بذلك.  سيتصل بـ Webhook ، ويرسل نص SMS ، وسوف نقوم بمعالجة نص SMS هذا في التطبيق (نحتاج إلى التحقق من أن القالب الخاص بنا أصبح SMS الصحيح). <br><br>  للتحقق ، نحتاج إلى معرفة ما تم إرساله - سنقوم بذلك من خلال تطبيق اختبار.  يبقى لمقارنة وعرض النتائج. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5be/881/81f/5be88181fc05100d0f9000d2eb3be124.png"><br><br>  دعونا نحاول أن نفعل نفس الشيء على لامدا. <br><br>  ستقوم لامدا بإرسال رسائل نصية قصيرة ، وسوف تصل الرسائل القصيرة إلى Twilio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bce/e3d/499/bcee3d4993dc73090829810748f97ea4.png"><br><br>  لقد رسمت الخط المتقطع ليس عن طريق الصدفة ، لأن الرسائل القصيرة يمكن أن تعود في غضون دقائق أو ساعات أو أيام - يعتمد ذلك على مشغل الشبكة الخاص بك ، وهذا ليس مكالمة متزامنة.  بحلول هذا الوقت ، ستنسى لامدا كل شيء ، ولن نتمكن من التحقق من الرسائل القصيرة. <br><br>  أود أن أقول إن هذا ليس ناقصًا ، ولكنه ميزة.  يمكن إعادة المخطط.  هناك العديد من الخيارات للقيام بذلك ، سأقدم خياراتي الخاصة.  إذا كان لدينا عديمو الجنسية ، ونريد حفظ شيء ما ، فإننا نحتاج بالتأكيد إلى استخدام التخزين ، على سبيل المثال ، قاعدة بيانات ، S3 ، ولكن أي شيء سيخزن سياقنا. <br><br>  في المخطط مع تخزين الرسائل القصيرة ، سيتم إرساله إلى رقم الاختبار.  وعندما يسميها Webhook - أقترح الاتصال ، على سبيل المثال ، لامدا الثانية ، لأن هذه وظيفة مختلفة قليلاً.  وستكون لامدا الثانية قادرة بالفعل على الذهاب والتقاط SMS-ku التي تم نقلها من قاعدة البيانات ، والتحقق منها وعرض النتائج. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d7f/fdc/2c3/d7ffdc2c3761dbadd4d2500daadd68db.png"><br><br>  البنغو! <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في البداية ، قلت أنك بحاجة إلى نسيان الخوادم إذا كتبت لامدا. قابلت أشخاصًا يكتبون على node.js ويستخدمون للتعبير عن الخوادم. إنهم يحبون الاعتماد على ذاكرة التخزين المؤقت ، ويظل المخبأ في لامداس. وأحيانًا ، عند الاختبار ، ستعمل ، وأحيانًا لا تعمل. كيف هذا ممكن؟</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">افترض أن لدينا خادمًا ، وتبدأ فيه حاوية. إن إطلاق حاوية عملية مكلفة للغاية. أولاً ، تحتاج إلى عمل هذه الحاوية. فقط بعد إنشائه ، يتم نشر رمز الوظيفة هناك ويمكن تنفيذه. بعد تنفيذ وظيفتك ، لا يتم قتل الحاوية ، لأن AWS تعتقد أنه يمكنك استدعاء هذه الوظيفة مرة أخرى. لم تكتب AWS أبدًا عن عمر الحاوية بعد توقف الوظيفة. قمنا بالتجارب. في رأيي ، هذه العقدة هي ثلاث دقائق ، بالنسبة لـ Java يمكنهم الاحتفاظ بحاوية لمدة 12-15 دقيقة. ولكن هذا يعني أنه عندما يتم استدعاء الوظيفة التالية ، فسيتم استدعاؤها في نفس الحاوية وفي نفس البيئة. إذا كنت تستخدم ذاكرة التخزين المؤقت للعقدة في مكان ما ، فإنك تنشئ متغيرات هناك ، إلخ. - إذا لم تقم بتنظيفها ، فستبقى هناك. لذلك إذا كتبت على لامدا ،ثم تحتاج إلى نسيان ذاكرة التخزين المؤقت بشكل عام ، وإلا يمكنك الدخول في مواقف غير سارة. هذا يصعب صرفه.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> إيجابيات وظائف لامدا </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> هناك عدد أقل منهم ، ولكن يبدو لي أكثر متعة. </font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بادئ ذي بدء ، ننسى حقًا أن هناك خادمًا. </font><font style="vertical-align: inherit;">بصفتي مطورًا ، أكتب دالة في جافا سكريبت ، وهذا كل ما في الأمر. </font><font style="vertical-align: inherit;">أنا متأكد من أن العديد منكم كتب وظائف في جافا سكريبت ، لا تحتاج إلى معرفة المزيد عن هذا الأمر.</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لا حاجة للتفكير في ذاكرة التخزين المؤقت ، ولا حول التحجيم ، الرأسي أو الأفقي. </font><font style="vertical-align: inherit;">ما كتبته سيعمل. </font><font style="vertical-align: inherit;">لا يهم إذا جاء شخص واحد إلى موقعك في الشهر أو سيكون هناك مليون زيارة.</font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> في حالة AWS lambdas ، لديهم بالفعل تكامل خاص بهم مع جميع خوادمهم تقريبًا (DynamoDB و Alexa و API Gateway وما إلى ذلك). </font></font><br></li></ul><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ما الذي يمكن فعله على لامداس؟ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أعطيت مثالاً قياسيًا إلى حد ما - تحدثت عن تقديم تطبيق مشابه ، لأنهم في الأساس يعتقدون أن لامداس هي واجهة برمجة تطبيقات REST. </font><font style="vertical-align: inherit;">لكني أريد أن أعطي المزيد من الأمثلة على ما يمكن القيام به معهم ، فقط لإعطائك الطعام للتفكير والخيال. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">من حيث المبدأ ، على lambdas يمكنك القيام بأي شيء ... بعلامة النجمة.</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">خدمات HTTP هي ما كنت أتحدث عنه. </font><font style="vertical-align: inherit;">REST API ، كل API endpoint هو lambda واحد. </font><font style="vertical-align: inherit;">تطابق تماما. </font><font style="vertical-align: inherit;">النظر بشكل خاص في كيفية استخدام المؤسسة غالبًا node.js لإنشاء برامج وسيطة. </font><font style="vertical-align: inherit;">لدينا جافا يقوم بكل التكاليف ، ثم نكتب طبقة على شبيبة تعالج الطلبات بسهولة بالغة. </font><font style="vertical-align: inherit;">يمكن إعادة كتابته في lambdas وسيكون أكثر برودة.</font></font><br></li><li style=";text-align:right;direction:rtl"> IoT — ,   Alexa      - -,         ,  . <br></li><li style=";text-align:right;direction:rtl"> Chat Bots —    ,   IoT. <br></li><li style=";text-align:right;direction:rtl"> Image/Video conversions. <br></li><li style=";text-align:right;direction:rtl"> Machine learning. <br></li><li style=";text-align:right;direction:rtl"> Batch Jobs — -  ,  Batch Job     . <br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الآن ، بالإضافة إلى Amazon و Google و Azure و IBM و Twillio ، تريد جميع الخدمات الكبيرة تقريبًا تنفيذ وظائف السحابة في منازلهم. إذا قام Roskomnadzor بحظر كل شيء ، فإننا نبدأ خادمًا مفضلًا صغيرًا في مرآبنا وننشر الحوسبة السحابية هناك. للقيام بذلك ، نحتاج إلى مصدر مفتوح (وكل هذا بسبب أن عليك أن تدفع مقابل الخدمات ، والمصدر المفتوح مجاني). والمصدر المفتوح لا يقف ساكنا. لقد قاموا بالفعل بتنفيذ قدر غير واقعي من عمليات التنفيذ لكل هذا. سأقول الآن كلمات مخيفة للواجهات - Docker Swarm ، Kubernetes - كل شيء يعمل بهذه الطريقة. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أفضل جزء هو ، أولاً ، أن وظائف السحابة تظل بنفس البساطة. إذا كان لديك وظائف على AWS أو lambdas ، فإن ترجمتها إلى مصدر مفتوح بنفس السهولة.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لم يتم سرد جميع التطورات أدناه. </font><font style="vertical-align: inherit;">لقد اخترت للتو أكبر وأكثر إثارة للاهتمام. </font><font style="vertical-align: inherit;">القائمة الكاملة ضخمة: بدأ الكثير من الشركات الناشئة في العمل على هذا الموضوع الآن:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> وظائف الحديد </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fnproject </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Openfaas </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> اباتشي OpenWhisk </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kubeless </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> الانشطار </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktion </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">لقد جربت Fnproject وقضيت بضع ساعات فقط لنقل هذا التطبيق المتشابه إلى Fnproject وتشغيله محليًا باستخدام حاوية Kubernetes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">انها لا تزال قابلة للتطوير بسرعة. </font><font style="vertical-align: inherit;">سيكون لديك مجموعة من واجهات API للبوابة (بالطبع ، بدون بقية الخدمات) ، ولكن لا يزال لديك عنوان URL يستدعي لامدا. </font><font style="vertical-align: inherit;">وفي الواقع ، يمكن للجميع تقريبًا نسيان الخوادم ، كما وعد ، باستثناء شخص واحد سينشر هذا الإطار وتكوين تنسيق Kubernetes بحيث يمكن للمطورين السعداء استخدامه في وقت لاحق.</font></font><br><br><blockquote style=";text-align:right;direction:rtl">  .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>  HolyJS 2018 Moscow,   24-25   .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>      ,     Early Bird-. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar417943/">https://habr.com/ru/post/ar417943/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar417933/index.html">أسبوع الأمن 27: iPhone وهمية وسعر الأمان</a></li>
<li><a href="../ar417935/index.html">مذكرات عن الذكاء الاصطناعي والتعلم الآلي والتعلم العميق والبيانات الضخمة</a></li>
<li><a href="../ar417937/index.html">هل يصنع الناس "الحديديون" برمجيات؟</a></li>
<li><a href="../ar417939/index.html">تحسين عرض مشهد من كارتون ديزني "Moana". الجزءان 4 و 5</a></li>
<li><a href="../ar417941/index.html">أين تختفي المياه في الغلاية؟</a></li>
<li><a href="../ar417945/index.html">ما الأدوات التي يمتلكها مسبار باركر الشمسي</a></li>
<li><a href="../ar417947/index.html">تصور البيانات لمشروع الويب الخاص بك</a></li>
<li><a href="../ar417949/index.html">كيف كتبت مكتبة C ++ 11 القياسية أو لماذا يكون التعزيز مخيفًا جدًا. الفصل 4.2</a></li>
<li><a href="../ar417951/index.html">كتابة كود Kotlin Friendly Java</a></li>
<li><a href="../ar417953/index.html">اتجاهات في تصميم FPGAs. الترجمة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>