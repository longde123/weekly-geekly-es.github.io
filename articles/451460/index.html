<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëë üî¥ ‚òùüèΩ Julia en el laberinto üö∂ ‚ò¶Ô∏è üö£üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Analizando un problema ol√≠mpico, recorreremos los sinuosos corredores de la generaci√≥n de laberintos y su paso, y tambi√©n veremos que en el lenguaje J...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia en el laberinto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451460/"><p><img src="https://habrastorage.org/webt/u8/d5/ql/u8d5qlyaxgezwbkmz-ybdtbj6r8.png"></p><br><p>  Analizando un problema ol√≠mpico, recorreremos los sinuosos corredores de la generaci√≥n de laberintos y su paso, y tambi√©n veremos que en el lenguaje Julia la simplicidad de la implementaci√≥n de algoritmos bordea su pseudoc√≥digo. </p><a name="habracut"></a><br><h1 id="zadacha">  Desaf√≠o </h1><br><p>  El laberinto es un cuadrado a cuadros de 10 por 10, en algunas celdas hay obst√°culos, y en una celda hay una salida.  El robot se encuentra en un laberinto y puede ejecutar 4 comandos: mover una celda hacia abajo, arriba, derecha o izquierda.  Si el robot intenta ir m√°s all√° de los l√≠mites del laberinto o entrar en la jaula con un obst√°culo, entonces permanece en su lugar.  Si el robot entra por la salida, entonces sale del laberinto e ignora m√°s comandos.  Escriba un programa para el robot, ejecutando el cual el robot en cualquier caso llega a la salida, independientemente de la celda en la que se encontraba al principio.  El programa debe consistir en no m√°s de 1000 equipos. </p><br><p><img src="https://habrastorage.org/webt/q4/k4/u3/q4k4u30s2syto7bpzmxysbrsymi.png"></p><br><h3 id="format-vvoda">  Formato de entrada </h3><br><p>  No hay entrada  Necesita escribir un programa para una condici√≥n espec√≠fica especificada <br>  El laberinto. <br>  La versi√≥n del laberinto que puedes copiar.  0 - celda libre, 1 - obst√°culo, x - <br>  salida </p><br><pre><code class="plaintext hljs">0011010011 0100001000 0110x00000 0010000100 0000111000 0000100100 0000010010 0100101010 0011001010 1000011000</code> </pre> <br><h3 id="format-vyvoda">  Formato de salida </h3><br><p>  Una l√≠nea que consta de caracteres U, D, R, L de longitud no m√°s de 1000 </p><br><h2 id="podgotovka">  Preparaci√≥n </h2><br><p>  Los que no trabajaron con gr√°ficos en Julia necesitan descargar paquetes </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Pkg Pkg.add(<span class="hljs-string"><span class="hljs-string">"Plots"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"Colors"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>) Pkg.build(<span class="hljs-string"><span class="hljs-string">"Images"</span></span>) <span class="hljs-comment"><span class="hljs-comment">#    </span></span></code> </pre> <br><p>  Es m√°s conveniente trabajar en Jupyter, ya que las im√°genes se mostrar√°n directamente durante el trabajo.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ puede encontrar</a> informaci√≥n sobre la instalaci√≥n, as√≠ como una introducci√≥n y tareas para principiantes. </p><br><p>  En la condici√≥n de nuestra tarea, hay una versi√≥n del laberinto para copiar </p><br><pre> <code class="julia hljs">S0 = <span class="hljs-string"><span class="hljs-string">"0011010011 0100001000 0110x00000 0010000100 0000111000 0000100100 0000010010 0100101010 0011001010 1000011000"</span></span></code> </pre> <br><p>  Para dibujar un laberinto, debes hacer una matriz.  Como no queremos poner espacios manualmente, trabajaremos con la l√≠nea: </p><br><pre> <code class="julia hljs">S1 = prod(s-&gt; s*<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'['</span></span>*S0*<span class="hljs-string"><span class="hljs-string">']'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># prod(fun, arr)    arr #     fun #  julia  *   "[ 0 0 1 1 0 1 0 0 1 1 \n 0 1 0 0 0 0 1 0 0 0 \n 0 1 1 0 x 0 0 0 0 0 \n 0 0 1 0 0 0 0 1 0 0 \n 0 0 0 0 1 1 1 0 0 0 \n 0 0 0 0 1 0 0 1 0 0 \n 0 0 0 0 0 1 0 0 1 0 \n 0 1 0 0 1 0 1 0 1 0 \n 0 0 1 1 0 0 1 0 1 0 \n 1 0 0 0 0 1 1 0 0 0 ] "</span></span></code> </pre> <br><p>  Reemplazando la inc√≥moda letra <em>x</em> con un n√∫mero y analizando la cadena, obtenemos una matriz entera que define nuestro laberinto.  Luego, para mayor conveniencia, cambie los unos a ceros y los ceros a unos, y encierre el laberinto con una pared: </p><br><pre> <code class="julia hljs">S2 = replace(S1, <span class="hljs-string"><span class="hljs-string">'x'</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">'9'</span></span>) M0 = S2 |&gt; Meta.parse |&gt; eval m,n = size(M0) M1 = replace(M0, <span class="hljs-number"><span class="hljs-number">1</span></span>=&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>=&gt;<span class="hljs-number"><span class="hljs-number">1</span></span>) M = zeros(<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,m+<span class="hljs-number"><span class="hljs-number">2</span></span>,n+<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:m+<span class="hljs-number"><span class="hljs-number">1</span></span>, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:n+<span class="hljs-number"><span class="hljs-number">1</span></span> M[i,j] = M1[i-<span class="hljs-number"><span class="hljs-number">1</span></span>,j-<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> M <span class="hljs-comment"><span class="hljs-comment"># Maze map matrix 12√ó12 Array{Int64,2}: 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 0 1 1 0 0 0 0 1 0 1 1 1 1 0 1 1 1 0 0 1 0 0 1 9 1 1 1 1 1 0 0 1 1 0 1 1 1 1 0 1 1 0 0 1 1 1 1 0 0 0 1 1 1 0 0 1 1 1 1 0 1 1 0 1 1 0 0 1 1 1 1 1 0 1 1 0 1 0 0 1 0 1 1 0 1 0 1 0 1 0 0 1 1 0 0 1 1 0 1 0 1 0 0 0 1 1 1 1 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0</span></span></code> </pre> <br><p>  En la matriz </p><br><pre> <code class="julia hljs">length(M) <span class="hljs-number"><span class="hljs-number">144</span></span></code> </pre> <br><p>  c√©lulas y de ellos </p><br><pre> <code class="julia hljs">sum(M)-<span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span></code> </pre> <br><p>  sobre el cual puedes caminar, es decir, posibles posiciones iniciales.  Puede mostrar el resultado construyendo un histograma bidimensional </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Plots heatmap(M, yaxis = :flip) <span class="hljs-comment"><span class="hljs-comment"># flip -  </span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/ua/xq/lb/uaxqlbjtneuolospp0kwc-bujbk.png"></p><br><h2 id="proverka-resheniya">  Verificaci√≥n de la soluci√≥n </h2><br><p>  En primer lugar, debe elaborar procedimientos que verifiquen la correcci√≥n de la soluci√≥n propuesta.  Establezca el tipo compuesto <code>Point</code> para usar la terminolog√≠a de puntos y coordenadas: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point x::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> <span class="hljs-comment"><span class="hljs-comment"># vertical y::Int64 # horisont Point(x, y) = new(x, y) end</span></span></code> </pre> <br><p>  Y ahora necesita aprender c√≥mo traducir una secuencia de comandos que el robot pueda entender en c√≥digo. </p><br><p>  La idea es bastante simple: hay una coordenada inicial, aparece una l√≠nea con un algoritmo que indica c√≥mo caminar.  Tomamos una letra y miramos cu√°l de las celdas vecinas para pisar.  A la coordenada actual agregamos el valor que est√° almacenado en esta celda.  Es decir, si hay cero (muro), no nos hemos movido a ning√∫n lado, de lo contrario, hemos dado un peque√±o paso en la direcci√≥n requerida. </p><br><p>  Usando el poder de la metaprogramaci√≥n, puede reemplazar la secuencia de direcciones entrante con un c√≥digo voluminoso y uniforme y ejecutarlo </p><br><pre> <code class="julia hljs">S = <span class="hljs-string"><span class="hljs-string">"RRLDUURULDDRDDRRRUUU"</span></span> S1 = replace(S , <span class="hljs-string"><span class="hljs-string">"R"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"c.y+=M[cx, c.y+1];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"L"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"cy-=M[cx, cy-1];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"U"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"c.x+=M[c.x+1, cy];"</span></span>) S1 = replace(S1, <span class="hljs-string"><span class="hljs-string">"D"</span></span>=&gt;<span class="hljs-string"><span class="hljs-string">"cx-=M[cx-1, cy];"</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  - start point Sp = eval( Meta.parse(S1) )</span></span></code> </pre> <br><p>  Pero este m√©todo tiene una serie de inconvenientes, por lo tanto, utilizaremos los operadores condicionales cl√°sicos.  Por cierto, el hecho de que el n√∫mero 9 indique la salida es un peque√±o truco: para no verificar cada celda, y si es la salida, iniciamos el movimiento agregando el valor almacenado en una celda espec√≠fica.  Cuando el robot entra en la salida, se agrega un n√∫mero deliberadamente grande a su coordenada, de modo que el robot vuela m√°s all√° de los l√≠mites de la matriz, lo que puede detectarse como un error al usar el bloque: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-comment"><span class="hljs-comment">#     catch #       end</span></span></code> </pre> <br><p>  Por lo tanto, implementamos una funci√≥n que verificar√° si el robot llega a la salida a partir del punto <code>c</code> ejecuci√≥n de comandos desde la cadena <code>str</code> : </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> isexit(str, c) scatter!([cy],[cx]) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> str <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s == <span class="hljs-string"><span class="hljs-string">'R'</span></span> c.y+=M[cx, c.y+<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'L'</span></span> cy-=M[cx, cy-<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'U'</span></span> c.x+=M[c.x+<span class="hljs-number"><span class="hljs-number">1</span></span>, cy]; <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> s == <span class="hljs-string"><span class="hljs-string">'D'</span></span> cx-=M[cx-<span class="hljs-number"><span class="hljs-number">1</span></span>, cy]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> println(<span class="hljs-string"><span class="hljs-string">"Error! Use only R, L, U, D"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Recopilemos una funci√≥n que iterar√° sobre todas las posiciones iniciales </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> test(Str) k = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:m+<span class="hljs-number"><span class="hljs-number">1</span></span>, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>:n+<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> M[i,j] == <span class="hljs-number"><span class="hljs-number">1</span></span> c = Point(i, j) a = isexit(S,c) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a k +=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">#println(a) end end end println(k, " test completed from ", sum(M)-9) end</span></span></code> </pre> <br><p>  Comprueba los comandos: </p><br><pre> <code class="julia hljs">S = <span class="hljs-string"><span class="hljs-string">"RRRLDUUURRRUUURRRRLLLRRUULDDDDRRRRDDDRRRUUU"</span></span> heatmap(M, yaxis = :flip) test(S) <span class="hljs-comment"><span class="hljs-comment"># 10 test completed from 70 plot!(legend = false)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/6p/hc/pt/6phcptlpnrfctsa7qmpdvhm5ele.png"><br>  Todos los puntos de partida fueron probados, y solo 10 condujeron a la salida.  Es necesario construir rutas desde cada punto hasta la salida. </p><br><p>  Antes de sumergirnos en la generaci√≥n y el paso de los laberintos, guardaremos nuestros resultados.  Utilizaremos el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Images.jl que</a> ofrece muchas posibilidades en el campo del procesamiento de im√°genes (un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">buen ejemplo</a> ).  Una de sus herramientas de soporte es el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colors.jl</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">que</a> ampl√≠a la capacidad de Julia para trabajar con colores. </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Images clrs(x) = x==<span class="hljs-number"><span class="hljs-number">9</span></span> ? RGB(<span class="hljs-number"><span class="hljs-number">1.</span></span>,<span class="hljs-number"><span class="hljs-number">0.5</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>) : RGB(x,x,x) maze = clrs.(M) <span class="hljs-comment"><span class="hljs-comment"># maze = Gray.(maze) # save("D:/dat/maze12x12.png", maze)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/br/yu/ut/bryuutpq3-vfqn0upm3s536lwhe.png"></p><br><h2 id="poisk-v-glubinu">  B√∫squeda de profundidad </h2><br><p>  Implement√≥ la idea de un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo sobre el Habr</a> . <br>  La idea es simple: crear una cuadr√≠cula de muros </p><br><pre> <code class="julia hljs">M = <span class="hljs-number"><span class="hljs-number">10</span></span> N = <span class="hljs-number"><span class="hljs-number">10</span></span> A = [ i&amp;j&amp;<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:N, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:M ] <span class="hljs-comment"><span class="hljs-comment"># isodd(i) &amp; isodd(j) &amp; 1 Gray.(A) # from Images.jl</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/rj/9s/bc/rj9sbcpu5inbjiqvaphxnwaw10u.png"></p><br><p>  luego, en bucle, atravesamos la ruta y las ramas.  Definimos una funci√≥n que encuentra √°reas vecinas no visitadas (las designaremos, digamos, por un deuce) y devuelve uno de estos vecinos (si no hay vecinos no visitados, devuelve un punto de bandera): </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> neighbours2(A,p, n, m) nbrs = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-2), # down Point(px-2, py), # left Point(p.x+2, py)] # right goal = [] for a in nbrs if 0&lt;ax&lt;=n &amp;&amp; 0&lt;ay&lt;=m &amp;&amp; A[ax,ay]==2 push!(goal, a) end end length(goal) != 0 ? rand(goal) : Point(-1,-1) end</span></span></code> </pre> <br><p>  Romperemos las paredes as√≠: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> breakwall(A, newp,oldp) <span class="hljs-comment"><span class="hljs-comment">#  : x = (newp.x + oldp.x) &gt;&gt; 1 #   y = (newp.y + oldp.y) &gt;&gt; 1 A[x,y] = 1 end</span></span></code> </pre> <br><h4 id="algoritm">  Algoritmo </h4><br><ol><li>  Actualice la celda inicial y m√°rquela como visitada. </li><li>  Si bien hay celdas no visitadas <br>  1. Si la celda actual tiene "vecinos" no visitados <br>  1. Empuje la celda actual en la pila <br>  2. Seleccione una celda aleatoria de vecino <br>  3. Retire el muro entre la celda actual y la seleccionada <br>  4. Actualice la celda seleccionada y m√°rquela como visitada. <br>  2. De lo contrario, si la pila no est√° vac√≠a <br>  1. Saque la jaula de la pila <br>  2. Hazlo actual <br>  3. De lo contrario <br>  1. Seleccione una celda aleatoria no visitada, actual√≠cela y m√°rquela como visitada. </li></ol><br><div class="spoiler">  <b class="spoiler_title">C√≥digo del programa</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> amazeng(n, m) M = [ <span class="hljs-number"><span class="hljs-number">2</span></span>(i&amp;j&amp;<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:n, j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:m ]; p = Point(<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   lifo = [] #   push!(lifo, p) #i = 0 while length(lifo) != 0 #     M[px,py] = 1 #     np = neighbours2(M, p, n, m) # new point #    -   if np.x == np.y == -1 p = pop!(lifo) else push!(lifo, p) breakwall(M, np, p) p = np #i+=1 #maze = Gray.(M/2) #save("D:/dat/maze$i.png", maze) end end M[1,2] = 1 #  M[n,m+1] = 1 #  Gray.(M) end</span></span></code> </pre> </div></div><br><pre> <code class="julia hljs">lbrnt = amazeng(<span class="hljs-number"><span class="hljs-number">36</span></span>, <span class="hljs-number"><span class="hljs-number">48</span></span>) <span class="hljs-comment"><span class="hljs-comment"># save("D:/dat/maze111.png", lbrnt)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/c0/v7/ss/c0v7sspjrcruoda7auy6h-rj_9o.gif"></p><br><p><img src="https://habrastorage.org/webt/oe/hg/ao/oehgao7ny8sinfbnogcorqdfdsk.png"></p><br><h4 id="algoritm-poiska-puti-bektrekingom">  Algoritmo de b√∫squeda de ruta de retroceso: </h4><br><ol><li>  Actualice la celda inicial y m√°rquela como visitada. </li><li>  Hasta que se encuentre una soluci√≥n <br>  1. Si la celda actual tiene "vecinos" no visitados <br>  1. Empuje la celda actual en la pila <br>  2. Seleccione una celda aleatoria de vecino <br>  3. Actualice la celda seleccionada y m√°rquela como visitada. <br>  2. De lo contrario, si la pila no est√° vac√≠a <br>  1. Saque la jaula de la pila <br>  2. Hazlo actual <br>  3. De lo contrario, no hay salida. </li></ol><br><p>  Estamos buscando vecinos por el contrario y dentro del radio de una celda, y no a trav√©s de una: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> neighbours1(A, p, n, m) nbrs = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-1), # down Point(px-1, py), # left Point(p.x+1, py)] # right goal = [] for a in nbrs if 0&lt;ax&lt;=n &amp;&amp; 0&lt;ay&lt;=m &amp;&amp; A[ax,ay]==1 push!(goal, a) end end length(goal) != 0 ? rand(goal) : Point(0,0) end</span></span></code> </pre> <br><p>  Defina un algoritmo para pasar el laberinto con el trazado de la ruta y los intentos fallidos </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> amazeng(img, start, exit) M = <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>.(channelview(img)) n, m = size(M) p = start M[exit.x,exit.y] = <span class="hljs-number"><span class="hljs-number">1</span></span> lifo = [] push!(lifo, p) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> px != exit.x || py != exit.y M[px,py] = <span class="hljs-number"><span class="hljs-number">0.4</span></span> np = neighbours1(M, p, n, m) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> np.x == np.y == <span class="hljs-number"><span class="hljs-number">0</span></span> M[px,py] = <span class="hljs-number"><span class="hljs-number">0.75</span></span> p = pop!(lifo) <span class="hljs-comment"><span class="hljs-comment">#  -  ,    #      else push!(lifo, p) p = np end end Gray.(M) end</span></span></code> </pre> <br><p>  Como algunos han notado, tambi√©n se llama una funci√≥n, como la que generan los algoritmos (Programaci√≥n m√∫ltiple).  Cuando lo llame con dos n√∫meros, resolver√° el m√©todo de construcci√≥n del laberinto, pero si lo llama especificando la imagen y dos puntos (las coordenadas de entrada y salida) como argumento, entonces en la salida obtenemos una imagen con el laberinto pasado </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze111.png"</span></span>) amazeng(img0)</code> </pre> <br><p><img src="https://habrastorage.org/webt/kx/2n/zl/kx2nzlhw-bylb1wjdjifjxvmfsq.png"></p><br><p>  Probemos en nuestro laberinto: </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze12x12.png"</span></span>) n, m = size(img0) amazeng(img0, Point(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>), Point(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>) )</code> </pre> <br><p><img src="https://habrastorage.org/webt/oy/uo/lm/oyuolmopr9kmvmx07nn3kfdhufi.png"></p><br><p>  Incluso si modifica la funci√≥n para que se recuerde la ruta, el algoritmo sigue siendo ineficaz debido a los espacios abiertos.  Pero los laberintos salen geniales. </p><br><h3 id="randomizirovannyy-algoritm-prima">  Algoritmo aleatorizado de Prim </h3><br><p>  Tan pronto como comience a dibujar laberintos, no se detendr√°.  Realicemos otro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo</a> interesante: </p><br><ul><li>  Comience con una cuadr√≠cula llena de paredes. </li><li>  Seleccione una celda, m√°rquela como parte del laberinto.  Agregue paredes celulares a la lista de paredes. </li><li>  Si bien hay paredes en la lista: <br><ul><li>  Seleccione un muro aleatorio de la lista.  Si solo se visita una de las dos celdas que comparte el muro, entonces: <br><ul><li>  Haz que la pared sea un pasaje y marca la celda no visitada como parte del laberinto. </li><li>  Agregue paredes celulares adyacentes a la lista de paredes. </li></ul></li><li>  Eliminar el muro de la lista. </li></ul></li></ul><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs">neighbors(p::Point) = [Point(px, p.y+<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-comment"><span class="hljs-comment"># up Point(px, py-1), # down Point(px-1, py), # left Point(p.x+1, py)] # right function newalls!(walls, p, maze, n, m) nbrs = neighbors(p) for a in nbrs if 1&lt;ax&lt;n-1 &amp;&amp; 1&lt;ay&lt;m-1 &amp;&amp; !maze[ax,ay] push!(walls, a) #       . end end end function breakwall!(p, maze, n, m) nbrs = neighbors(p) #       if sum( a-&gt; maze[ax,ay], nbrs) == 1 for a in nbrs if maze[ax,ay] # true =  px == ax ? nx = px : px&gt;ax ? nx = p.x+1 : nx = px-1 py == ay ? ny = py : py&gt;ay ? ny = p.y+1 : ny = py-1 maze[px,py] = true #   maze[nx,ny] = true px = nx py = ny return true end end else return false end end function prim(n, m) M = falses(n,m); #    p = Point(2, 2) M[px,py] = true walls = [] newalls!(walls, p, M, n, m) while length(walls) != 0 p = splice!( walls, rand(1:length(walls)) ) if breakwall!(p, M, n, m) newalls!(walls, p, M, n, m) end end M end</span></span></code> </pre> </div></div><br><pre> <code class="julia hljs">primaze = prim(<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>); Gray.(primaze)</code> </pre> <br><p><img src="https://habrastorage.org/webt/p_/dz/uf/p_dzufexrrmrvhmzxiwyh_nsfdc.gif"></p><br><p>  Resulta m√°s ramificado y no menos impresionante, especialmente el proceso de ensamblaje. </p><br><p>  Y ahora implementamos el algoritmo m√°s com√∫n para encontrar la ruta m√°s corta: </p><br><h3 id="metod-a">  M√©todo A * </h3><br><ul><li>  Se crean 2 listas de v√©rtices, pendientes y ya revisadas.  Se agrega un punto de inicio a los pendientes, la lista de revisados ‚Äã‚Äãhasta ahora est√° vac√≠a. </li><li>  Para cada punto se calcula <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> H </script>  - la distancia aproximada desde el punto al objetivo. </li><li>  De la lista de puntos a considerar, el punto con el menor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> H </script>  .  Dejala <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> X </script>  . </li><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-7"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> X </script>  - El objetivo, luego encontramos la ruta. </li><li>  Llevamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> X </script>  de la lista pendiente a la lista de ya revisados. </li><li>  Para cada uno de los puntos adyacentes a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> X </script>  (denota este punto vecino <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> Y </script>  ), haga lo siguiente: <br><ul><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> Y </script>  ya en el revisado - s√°ltelo. </li><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> Y </script>  a√∫n no est√° en la lista de espera, agr√©guela all√≠. </li></ul></li><li>  Si la lista de puntos a considerar est√° vac√≠a, pero no hemos alcanzado la meta, entonces la ruta no existe. </li></ul><br><p>  Para comenzar, definamos el "punto" de clase que sabr√° qu√© tan lejos est√° del objetivo: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point_h x::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> <span class="hljs-comment"><span class="hljs-comment"># horisont y::Int64 # vertical h::Float64 Point_h(x, y) = new(x, y, 0.) end</span></span></code> </pre> <br><p>  Ahora definimos una operaci√≥n de comparaci√≥n para la estructura, un m√©todo para establecer la presencia de un elemento en una matriz, as√≠ como la funci√≥n de eliminar un elemento, encontrar la distancia entre puntos y enumerar vecinos: </p><br><div class="spoiler">  <b class="spoiler_title">Escondido</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Base: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>, == ==(a::Point_h, b::Point_h) = ax==bx &amp;&amp; ay==by <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>(p::Point_h, Arr::<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{Point_h,<span class="hljs-number"><span class="hljs-number">1</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Arr <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> a == p <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> splicemin!(Arr)<span class="hljs-comment"><span class="hljs-comment">#::Array{Point_h,1} i = argmin( [ah for a in Arr] ) splice!(Arr, i) end dista(u,v) = hypot(vx-ux, vy-uy) # &lt;=&gt; sqrt( (vx-ux)^2 + (vy-uy)^2 ) neighbors(p::Point_h) = [Point_h(px, p.y+1), # up Point_h(px, py-1), # down Point_h(px-1, py), # left Point_h(p.x+1, py)] # right</span></span></code> </pre> </div></div><br><p>  Como siempre, ¬øse pueden aclarar operadores oscuros con el comando <code>?</code>  por ejemplo <code>?splice</code> <code>?argmin</code> . </p><br><p>  Y, en realidad, el m√©todo A * en s√≠ </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> astar(M, start, final) <span class="hljs-comment"><span class="hljs-comment">#   -       isgood(p) = 1&lt;px&lt;n &amp;&amp; 1&lt;py&lt;m &amp;&amp; M[px,py] != 0 n, m = size(M) #       start.h = dista(start,final) closed = [] opened = [] push!(opened, start) while length(opened) != 0 X = splicemin!(opened) if X in closed continue end if X == final break end push!(closed, X) nbrs = neighbors(X) ygrex = filter(isgood, nbrs) for Y in ygrex if Y in closed continue else Yh = dista(Y, final) push!(opened, Y) end end end #    closed # return end</span></span></code> </pre> </div></div><br><p>  Cargamos la imagen con el laberinto y la presentamos en forma de matriz: </p><br><pre> <code class="julia hljs">img0 = load(<span class="hljs-string"><span class="hljs-string">"D:/dat/maze0.png"</span></span>) mazematrix = <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>.(channelview(img0))</code> </pre> <br><p>  Y construimos una ruta para salir de un punto arbitrario: </p><br><pre> <code class="julia hljs">s = Point_h(<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>) <span class="hljs-comment"><span class="hljs-comment"># start f = Point_h(4,6) # finish M = copy(mazematrix) route = astar(M, s, f) i = 1 for c in route #   M[cx,cy] = 0.7 #save("D:/dat/Astar$i.png", M) i+=1 end Gray.(M)</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/sk/ok/v6/skokv6txgvsowgjewyqaht9ffb4.png"></p><br><p>  Una b√∫squeda desde todas las posiciones se ve as√≠: </p><br><p><img src="https://habrastorage.org/webt/xf/ba/jv/xfbajvk-jw2iokdrizmq8suncik.gif"></p><br><p>  Visto que el agente <del>  corriendo </del>  siempre tiende al lado de la salida y a menudo se convierte en callejones sin salida, lo que da lugar a pasos innecesarios, y se recuerda toda la ruta.  Esto se evita con una versi√≥n un poco m√°s compleja del algoritmo A *. </p><br><ul><li>  Se crean 2 listas de v√©rtices, pendientes y ya revisadas.  Se agrega un punto de inicio a los pendientes, la lista de revisados ‚Äã‚Äãhasta ahora est√° vac√≠a. </li><li>  Para cada punto se calcula <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-19"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">F</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">G</span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.57ex" height="2.178ex" viewBox="0 -780.1 4981.5 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-3D" x="1027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2B" x="3092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-48" x="4093" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> F = G + H </script>  . <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.057ex" viewBox="0 -780.1 786.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> G </script>  - distancia desde el inicio hasta el punto, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-48" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> H </script>  - la distancia aproximada desde el punto al objetivo.  Cada punto tambi√©n almacena un enlace al punto del que proviene. </li><li>  De la lista de puntos a considerar, el punto con el menor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">F</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.741ex" height="2.057ex" viewBox="0 -780.1 749.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-46" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> F </script>  .  Dejala <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> X </script>  . </li><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> X </script>  - El objetivo, luego encontramos la ruta. </li><li>  Llevamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> X </script>  de la lista pendiente a la lista de ya revisados. </li><li>  Para cada uno de los puntos adyacentes a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> X </script>  (denota este punto vecino <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> Y </script>  ), haga lo siguiente: <br><ul><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-19"> Y </script>  ya en el revisado - s√°ltelo. </li><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> Y </script>  a√∫n no est√° en la lista de espera: agr√©guela all√≠, recordando el enlace a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> X </script>  y habiendo calculado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">Y</span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.634ex" height="2.057ex" viewBox="0 -780.1 1995.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="1208" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-22"> Y.G </script>  (esto es <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">X</span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.841ex" height="2.057ex" viewBox="0 -780.1 2084.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="1297" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> X.G </script>  + distancia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-24"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-25"> Y </script>  ) y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">Y</span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">H</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.871ex" height="2.057ex" viewBox="0 -780.1 2097.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-48" x="1208" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> Y.H </script>  . </li><li>  Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-27"> Y </script>  en la lista para su consideraci√≥n - verifique si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">X</span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.841ex" height="2.057ex" viewBox="0 -780.1 2084.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="1297" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28"> X.G </script>  + distancia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-29"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-30"> Y </script><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-73"><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">Y</span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.087ex" height="2.057ex" viewBox="0 -780.1 3051.4 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-3C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="1819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="2264" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-31"> <Y.G </script>  as√≠ que llegamos al punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-32"> Y </script>  camino m√°s corto, reemplazar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">Y</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.634ex" height="2.057ex" viewBox="0 -780.1 1995.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="1208" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-33"> Y.G </script>  en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">X</span><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">G</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.841ex" height="2.057ex" viewBox="0 -780.1 2084.2 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMAIN-2E" x="852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-47" x="1297" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-34"> X.G </script>  + distancia de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-35"> X </script>  antes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-36"> Y </script>  y el punto desde el cual llegaron a <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="1.937ex" viewBox="0 -780.1 763.5 834" role="img" focusable="false" style="vertical-align: -0.125ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-59" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-37"> Y </script>  en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/451460/&amp;usg=ALkJrhhkiUsw8sjF8rE_0VoKgrvBKWuk7g#MJMATHI-58" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-38"> X </script>  . </li></ul></li><li>  Si la lista de puntos a considerar est√° vac√≠a, pero no hemos alcanzado la meta, entonces la ruta no existe. </li></ul><br><p>  Pero incluso con pasos innecesarios, nuestra opci√≥n est√° dentro de los l√≠mites de la tarea, por lo que modificar los programas ser√° su tarea. </p><br><p>  Hasta el final de la Olimpiada, no quedaba nada, pero a√∫n necesitamos aprender a traducir los resultados de nuestros algoritmos en comandos de la forma <code>"RRLUUDL..."</code> </p><br><p>  Y despu√©s de todos estos paseos por los laberintos, podemos suponer que la soluci√≥n es mucho m√°s simple.  <em>De hecho, una opci√≥n simple comienza de inmediato, pero realmente quer√≠a hacer cosas hermosas</em> . </p><br><p>  Si colocamos a nuestro artista en un √°rea abierta e iniciamos caminatas aleatorias, dudar√° cerca de su posici√≥n inicial.  Pero con la introducci√≥n de las paredes, algunas de las direcciones comenzar√°n a desvanecerse, los grados de libertad ser√°n menores y, con los mismos datos de entrada, el agente se mover√° una mayor distancia. </p><br><p>  Aqu√≠ est√° nuestra versi√≥n de verificar la idoneidad de los equipos para rescatar un robot de un laberinto: </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="julia hljs">M = [ <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">mutable struct</span></span> Point <span class="hljs-comment"><span class="hljs-comment"># point x::Int64 # vertical y::Int64 # horisont Point(x, y) = new(x, y) end function isexit(str, c) try for s in str if s == 'R' c.y+=M[cx, c.y+1]; elseif s == 'L' cy-=M[cx, cy-1]; elseif s == 'U' c.x+=M[c.x+1, cy]; elseif s == 'D' cx-=M[cx-1, cy]; else println("Error! Use only R, L, U, D") end end catch return true end return false end function test(Str) k = 0 n, m = 10,10 for i in 2:m+1, j in 2:n+1 if M[i,j] == 1 c = Point(i, j) a = isexit(S,c) if a k +=1 #println(a) end end end println(k, " test completed from ", sum(M)-9) end</span></span></code> </pre> </div></div><br><p>  Ahora es suficiente generar l√≠neas aleatorias hasta que obtenga una que funcione para todas las posiciones iniciales: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Random S = randstring(<span class="hljs-string"><span class="hljs-string">"RLUD"</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-string"><span class="hljs-string">"RDRRRDLRLUULURUDUUDLLLLLULLUDRRURDLDLULLRLUUUDURUUUULRUDUURUUDLRLLULRLUDRRLRRULLDULRRRRULRLLDULRLDRUDURDRUUDUUDDDDDLURRRRDRDURRRDDLLDUURRRLDRUDLRLLRDDRLRRRDDLLLRUURDRLURDLLUULLLLUURLLULUDULDDLDLLRLDUD"</span></span> test(S) <span class="hljs-number"><span class="hljs-number">41</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span></code> </pre> <br><p>  Adem√°s, era posible no preocuparse por la prueba.  Fue suficiente para leer la tarea y generar una cadena aleatoria con la condici√≥n m√°xima permitida: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span> S = randstring(<span class="hljs-string"><span class="hljs-string">"RLUD"</span></span>,<span class="hljs-number"><span class="hljs-number">1000</span></span>) test(S) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">70</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-number"><span class="hljs-number">55</span></span> test completed from <span class="hljs-number"><span class="hljs-number">70</span></span><span class="hljs-comment"><span class="hljs-comment"># 65 test completed from 70# 70 test completed from 70 70 test completed from 70 38 test completed from 70# 70 test completed from 70 70 test completed from 70 56 test completed from 70# 70 test completed from 70 70 test completed from 70 70 test completed from 70 16 test completed from 70# 70 test completed from 70 24 test completed from 70# 70 test completed from 70 70 test completed from 70</span></span></code> </pre> <br><p>  Es decir, con una probabilidad del 70%, la l√≠nea pasar√≠a las pruebas. </p><br><p>  Eso es todo  Le deseo al lector una aleatoriedad exitosa, paciencia e intuici√≥n para obtener soluciones obvias. </p><br><p>  Para los curiosos: enlaces para profundizar en el tema: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La excursi√≥n m√°s completa a la generaci√≥n del laberinto.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Versi√≥n rusa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√©todos de tiempos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dos m√©todos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Algoritmo de Eller</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Generador en l√≠nea</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√©todos para encontrar el camino entre puntos en l√≠nea</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Algoritmo de ruta de b√∫squeda de punto de salto</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">A * en Wikipedia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introducci√≥n a A *</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introducci√≥n al algoritmo A *</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Explicaci√≥n de los algoritmos de b√∫squeda de ruta</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente de arte</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/451460/">https://habr.com/ru/post/451460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451448/index.html">¬øPor qu√© puede ser necesario no hacer seguimiento?</a></li>
<li><a href="../451452/index.html">Build2019, comprendiendo lo que vimos</a></li>
<li><a href="../451454/index.html">Cambiamos el contenido de la aplicaci√≥n de notificaci√≥n iOS</a></li>
<li><a href="../451456/index.html">Almacenamiento de AERODISK ruso: prueba de carga. Exprimir IOPS</a></li>
<li><a href="../451458/index.html">Elaboramos un juego de desarrollo. Parte 1</a></li>
<li><a href="../451462/index.html">Escriba menos c√≥digo duplicado usando carpetas en Laravel</a></li>
<li><a href="../451464/index.html">Frontend Weekly Digest (6-12 de mayo de 2019)</a></li>
<li><a href="../451466/index.html">graphql - trampas</a></li>
<li><a href="../451468/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 364 (6 al 12 de mayo de 2019)</a></li>
<li><a href="../451476/index.html">LLVM en t√©rminos de Go</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>