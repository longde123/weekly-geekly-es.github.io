<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍜 🙌🏾 🅾️ Toda a verdade sobre o RTOS. Artigo # 27 Hora do sistema 👐🏽 🤴🏻 🐱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O conceito de tempo no contexto do RTOS foi introduzido em um dos artigos anteriores , juntamente com a idéia de funções relacionadas ao tempo disponí...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Toda a verdade sobre o RTOS. Artigo # 27 Hora do sistema</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454272/">  O conceito de tempo no contexto do RTOS foi introduzido em um dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos anteriores</a> , juntamente com a idéia de funções relacionadas ao tempo disponíveis no RTOS. <br><br><img src="https://habrastorage.org/webt/u0/4z/bl/u04zbllomewnuxhei-ydrxmaeew.jpeg"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Artigos anteriores da série:</b> <div class="spoiler_text"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 26.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Canais: serviços auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 25.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Canais de Dados: Introdução e Serviços Básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 24.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filas: serviços auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 23.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filas: introdução e serviços básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 22.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caixas de correio: serviços auxiliares e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 21.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Caixas de correio: Introdução e serviços básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 20.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Semáforos: Serviços Auxiliares e Estruturas de Dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 19.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Semáforos: introdução e serviços básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 18</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grupos de Sinalizadores de Eventos: Serviços Auxiliares e Estruturas de Dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grupos de Sinalizadores de Eventos: Introdução e Serviços Básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Signals</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Partições de memória: serviços e estruturas de dados</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Seções de memória: introdução e serviços básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estruturas de dados da tarefa e chamadas de API não suportadas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Serviços para trabalhar com tarefas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas: configuração e introdução à API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agendador: recursos avançados e preservação de contexto</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Agendador: implementação</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Núcleo SE: Projeto Interno e Implantação</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 7</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Núcleo SE: Introdução</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Outros serviços RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Interação e sincronização de tarefas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas, alternância de contexto e interrupções</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo # 3</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tarefas e planejamento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTOS: estrutura e modo em tempo real</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RTOS: introdução.</a> <br></div></div><br><h3>  Tick ​​timer </h3><br>  Todas as funções relacionadas ao tempo são controladas por um relógio de hardware.  Este é um oscilador simples que gera solicitações de interrupção em intervalos regulares.  Para que os números do relógio façam sentido para os aplicativos, é necessário saber a frequência do gerador. <br><br><h3>  Manipulação de interrupção do temporizador </h3><br>  As interrupções geradas pelo timer de hardware devem ser reparadas de maneira específica no manipulador de interrupções (Interrupt Service Routine, ISR), que implementa todas as funções RTOS relacionadas ao tempo.  Os detalhes do manipulador de interrupção do timer no Nucleus SE serão discutidos em um dos seguintes artigos. <br><br><h3>  Funções relacionadas ao tempo </h3><br>  O núcleo RTOS e o núcleo SE contêm vários mecanismos relacionados ao tempo: <br><br><ul><li>  <b>Clock do sistema (Tick clock)</b> : um contador simples que é incrementado usando um manipulador de interrupção do timer.  O Nucleus RTOS e o Nucleus SE possuem um contador de 32 bits e as tarefas possuem mecanismos para ler e escrever seu valor.  No Nucleus SE, um relógio é opcional. </li><li>  <b>Temporizadores de aplicativos</b> : o Nucleus RTOS e o Nucleus SE suportam objetos de timer.  Seu uso e implementação no Nucleus SE serão discutidos em mais detalhes no próximo artigo. </li><li>  <b>Agendamento de</b> intervalo de tempo: no Nucleus RTOS, tarefas com a mesma prioridade são executadas usando o algoritmo Round-robin, mas você também pode usar o intervalo de tempo.  No Nucleus SE, um agendador de divisão de tempo é opcional;  isso foi discutido em detalhes em artigos anteriores (uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">visão geral do agendador TS (intervalo de tempo)</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TS no Nucleus SE</a> ). </li><li>  <b>Suspender uma tarefa (suspensão da tarefa)</b> : uma tarefa pode pausar-se ("adormecer") por um período fixo de tempo.  Esse mecanismo já foi descrito em detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">anteriormente</a> . </li><li>  Tempo <b>limite das chamadas da API</b> : no Nucleus RTOS e no Nucleus SE, algumas chamadas de API permitem pausar uma tarefa enquanto aguarda a disponibilidade de um recurso.  A pausa pode ser indefinida ou, no caso do Nucleus RTOS, um período de tempo limite opcional (período de espera) pode ser indicado.  O Nucleus SE não suporta tempos limite de chamada da API. </li></ul><br><h3>  Precisão </h3><br>  E agora vale a pena falar brevemente sobre a precisão do timer do sistema. <br><br>  A precisão das funções de tempo depende diretamente da frequência do gerador de relógio.  Por exemplo, se pulsos chegarem a cada 10 milissegundos e a tarefa de aplicação precisar de um atraso de 100 milissegundos, obviamente precisará de 10 pulsos.  No entanto, não se sabe quando o impulso anterior foi recebido: poderia ter acontecido há apenas 10 milissegundos atrás.  Portanto, um atraso de 100 milissegundos pode levar até 110 milissegundos. <br><br>  Uma maneira óbvia de resolver esse problema é aumentar a frequência do gerador.  Se os pulsos seguirem a intervalos de 1 milissegundo, um atraso de 100 milissegundos nunca levará mais de cento e um milissegundos.  A desvantagem dessa solução é que o manipulador de interrupção do timer levará 10 vezes mais tempo do processador, o que será excessivo.  O projetista do sistema deve encontrar um equilíbrio entre a precisão necessária do timer e a potência disponível do processador. <br><br><h2>  Configuração da hora do sistema </h2><br>  Como na maioria dos objetos do Nucleus SE, as configurações de hora do sistema são <b>geralmente</b> controladas pelas diretivas <b>#define</b> no arquivo <b>nuse_config.h</b> .  O parâmetro principal é <b>NUSE_SYSTEM_TIME_SUPPORT</b> , que ativa o mecanismo de suporte de horário do sistema.  Você não precisa especificar o número de objetos: a hora do sistema está ativada ou não. <br><br>  A escolha de um valor diferente de zero é o principal ativador da hora do sistema.  Este parâmetro é usado ao definir estruturas de dados, que serão discutidas em detalhes posteriormente neste artigo.  Além disso, um valor diferente de zero ativa as configurações da API. <br><br><h3>  Ativação de API </h3><br>  Cada função de API (chamada de utilitário) no Nucleus SE possui uma diretiva #define de ativação no arquivo nuse_config.h.  Para a hora do sistema, esses símbolos são: <br>  <b>NUSE_CLOCK_SET</b> <br>  <b>NUSE_CLOCK_RETRIEVE</b> <br><br>  Por padrão, eles são definidos como <b>FALSE</b> , portanto, todas as chamadas de serviço são desativadas, bloqueando a inclusão do código que as implementa.  Para configurar a hora do sistema no aplicativo, é necessário selecionar as chamadas de serviço da API necessárias e defini-las como <b>TRUE</b> . <br><br>  A seguir, um trecho de código do arquivo nuse_config.h padrão. <br><br><pre><code class="plaintext hljs">#define NUSE_SYSTEM_TIME_SUPPORT FALSE /*    */ #define NUSE_CLOCK_SET FALSE /*   */ #define NUSE_CLOCK_RETRIEVE FALSE /*    */</code> </pre> <br>  Se você tentar usar a chamada de serviço da API do horário do sistema quando o ativador do horário do sistema estiver desligado, ocorrerá um erro de compilação.  Se o seu código usar uma chamada de API que não foi ativada, ocorrerá um erro de layout porque o código de implementação não foi incluído no aplicativo. <br><br><h2>  Chamadas do System Time Utility </h2><br>  O Nucleus RTOS suporta duas chamadas de utilidade relacionadas à hora do sistema e fornece a seguinte funcionalidade: <br><br><ul><li>  Configurando o valor da hora do sistema.  O núcleo SE é implementado na função <b>NUSE_Clock_Set ()</b> . </li><li>  Obtendo o valor da hora do sistema.  O núcleo SE é implementado na função <b>NUSE_Clock_Retrieve ()</b> . </li></ul><br>  Considere a implementação de cada uma dessas chamadas em mais detalhes. <br><br><h2>  Chamadas de serviço para definir e obter a hora do sistema </h2><br>  Com a hora do sistema, você só pode executar operações de configuração para um determinado valor e obtenção do valor atual.  O Nucleus RTOS e o Nucleus SE fornecem duas chamadas API básicas para implementar essas operações. <br><br>  A interpretação do valor da hora do sistema depende da aplicação, pois é essencialmente um contador do número de "ciclos de relógio" que ocorreram desde a última redefinição do contador.  Para usar essas informações, a frequência do gerador deve ser conhecida. <br><br><h3>  Ajuste de tempo </h3><br>  Qualquer tarefa pode definir a hora do sistema chamando esta função da API. <br><br>  <b><i>Chamada para definir a hora do sistema no Nucleus RTOS</i></b> <br><br>  Protótipo de chamada de serviço: <br>  <b>VOID NU_Set_Clock (UNSIGNED new_value);</b> <br><br>  Parâmetros: <br>  <b>new_value</b> - valor a ser atribuído à hora do sistema <br><br>  Valor de retorno: nenhum. <br><br>  <b><i>Ligue para definir a hora do sistema no Nucleus SE</i></b> <br>  Essa chamada de API suporta a funcionalidade principal da API do Nucleus RTOS. <br><br>  Protótipo de chamada de serviço: <br>  <b>void NUSE_Clock_Set (U32 new_value);</b> <br><br>  Parâmetros: <br>  <b>new_value</b> - valor a ser atribuído à hora do sistema <br><br>  Valor de retorno: nenhum <br><br>  <b><i>Implementação da definição de horário no Núcleo SE</i></b> <br>  O código é muito simples.  O valor fornecido é gravado em <b>NUSE_Tick_Clock</b> dentro da seção crítica. <br><br><h3>  Obtendo hora do sistema </h3><br>  Uma tarefa pode obter o valor da hora do sistema usando esta função da API. <br><br>  <b><i>Ligue para obter a hora do sistema no Nucleus RTOS</i></b> <br><br>  Protótipo de chamada de serviço: <br>  <b>NU_Retrieve_Clock NÃO ASSINADO (VOID);</b> <br><br>  Parâmetros: Nenhum <br><br>  Valor de retorno: valor atual da hora do sistema <br><br>  <b><i>Ligando para obter a hora do sistema no Nucleus SE</i></b> <br>  Protótipo de chamada de serviço: <br>  <b>U32 NUSE_Clock_Retrieve (nulo);</b> <br><br>  Parâmetros: Nenhum <br><br>  Valor de retorno: valor atual da hora do sistema <br><br>  <b><i>Implementação da aquisição de tempo no Núcleo SE</i></b> <br>  O código é muito simples.  A função retorna o valor <b>NUSE_Tick_Clock</b> obtido na seção crítica. <br><br><h2>  Estruturas de dados </h2><br>  A hora do sistema usa uma estrutura de dados (localizada na RAM), que é uma palavra de 32 bits. <br><br>  Eu recomendo fortemente que o código do aplicativo não use acesso direto a essa estrutura de dados, mas acesse-o através das funções de API fornecidas.  Isso evitará a incompatibilidade com versões futuras do Nucleus SE e efeitos colaterais indesejados, além de simplificar a portabilidade de aplicativos para o Nucleus RTOS.  Detalhes das estruturas de dados são fornecidos abaixo para simplificar o entendimento do código de chamada de serviço e da depuração. <br><br><h3>  Dados RAM </h3><br>  Estrutura de dados: <br>  <b>NUSE_Tick_Clock</b> - uma variável do tipo <b>U32</b> , que armazena o contador do relógio da hora do sistema. <br><br>  Essa estrutura de dados é inicializada em zero pela função <b>NUSE_Init_Task ()</b> quando o Nucleus SE é iniciado.  Um dos artigos a seguir conterá uma descrição completa dos procedimentos de inicialização do Nucleus SE. <br><br><h3>  Dados ROM </h3><br>  Não há estruturas de dados associadas à hora do sistema na ROM. <br><br><h3>  A quantidade de memória para a hora do sistema </h3><br>  Como todos os outros objetos do Nucleus SE, a quantidade de memória necessária para o tempo do sistema é previsível. <br><br>  A quantidade de memória na ROM é 0. <br><br>  A quantidade de memória na RAM (em bytes) é sempre 4. <br><br><h2>  Chamadas de API não realizadas </h2><br>  Todas as chamadas de serviço da API do Nucleus RTOS em tempo de sistema têm um equivalente no Nucleus SE. <br><br><h3>  Compatível com Nucleus PLUS </h3><br>  Como com todos os outros objetos do Nucleus SE, meu objetivo era garantir que o código do aplicativo seja o mais compatível possível com o Nucleus RTOS.  A hora do sistema não é exceção e, do ponto de vista do usuário, é implementada da mesma maneira que no Nucleus RTOS.  As chamadas da API do Nucleus RTOS podem ser portadas diretamente para o Nucleus SE. <br><br>  No artigo a seguir, consideraremos os temporizadores de software. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454272/">https://habr.com/ru/post/pt454272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454256/index.html">O que há de errado com nossa TI</a></li>
<li><a href="../pt454260/index.html">Dia das Crianças com Código Ruim</a></li>
<li><a href="../pt454262/index.html">Por que todo cientista de dados deve conhecer o Dask</a></li>
<li><a href="../pt454264/index.html">4 canais sensíveis do Youtube sobre entrevistas técnicas</a></li>
<li><a href="../pt454266/index.html">Dell e Alienware na Computex 2019: fale sobre as principais inovações</a></li>
<li><a href="../pt454274/index.html">Luz, câmera ... nuvem: como as nuvens mudam a indústria cinematográfica</a></li>
<li><a href="../pt454278/index.html">Seguro cibernético no mercado russo</a></li>
<li><a href="../pt454280/index.html">Desenvolvimento remoto no VS Code: sua vida nunca mais será a mesma</a></li>
<li><a href="../pt454284/index.html">Desculpe, eu não vou trabalhar porque é inverno</a></li>
<li><a href="../pt454290/index.html">Princípio de responsabilidade única. Não é tão simples quanto parece</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>