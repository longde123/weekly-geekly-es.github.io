<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👔 👩🏼‍🚀 👩🏽 Novas palavras-chave em Java ♉️ 👃🏾 😅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em um futuro próximo, novos recursos aparecerão na linguagem Java, que atualmente está sendo trabalhada nos projetos de Valhalla, Panamá e Loom. Expan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Novas palavras-chave em Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435540/"> Em um futuro próximo, novos recursos aparecerão na linguagem Java, que atualmente está sendo trabalhada nos projetos de Valhalla, Panamá e Loom.  Expandir um idioma não é uma tarefa fácil, especialmente um idioma em que a ênfase está na compatibilidade com versões anteriores;  portanto, para que sua integração ao Java ocorra sem problemas, os arquitetos de linguagem precisam resolver problemas fundamentais acumulados. <br><br>  Ontem (8 de janeiro), Brian Goetz, trabalhando na Oracle como arquiteto de linguagem Java, publicou uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carta “Precisamos de mais palavras-chave, capitão!”. Na</a> lista de discussão <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do</a> Project Amber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">.</a>  em que ele propôs uma maneira de resolver o problema de adicionar novas palavras-chave ao idioma.  Como resultado, as palavras-chave podem aparecer no idioma como <i>não nulo</i> , <i>não final</i> , <i>eventualmente final</i> e <i>esse retorno</i> (uma lista completa está esperando por você no recorte no final da postagem). <br><br>  Como no passado esse problema surgia pouco frequentemente no idioma, eles geralmente não pensavam muito sobre o assunto e “tentavam sair do pescoço o mais rápido possível”;  devido às deficiências das abordagens existentes no futuro, sua aplicação será problemática e, nesse sentido, foi decidido trabalhar com antecedência.  Solução proposta: tente expandir o conjunto de formas lexicais que podem ser usadas como palavras-chave: permita palavras-chave separadas por um hífen, que usará uma (ou mais) palavras-chave existentes ou um identificador reservado. <br><br>  Nota importante: Brown observa que as novas palavras-chave são fornecidas apenas como um exemplo ilustrativo e que você não deve se concentrar nelas.  No entanto, é óbvio que temos diante de nós uma demonstração bem pensada de como a sintaxe da linguagem pode mudar no futuro - na carta, o autor menciona que essa ideia ajudará a adicionar muitas construções desejáveis ​​de linguagem ausentes ao Java. <br><a name="habracut"></a><br><h3>  Métodos "antigos" </h3><br>  Como você sabe, hoje na linguagem Java existem 50 palavras-chave ( <i>palavras-chave</i> ), que são proibidas de usar como identificadores de variáveis.  Uma lista completa é fornecida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na especificação da linguagem JLS na seção 3.9</a> .  Essa lista não mudou muito desde a primeira versão do idioma - apenas a <i>declaração foi</i> adicionada na versão 4, <i>enum</i> na 5 e <i>_</i> na 9. Além deles, também existem "identificadores reservados" - <i>true</i> , <i>false</i> e <i>null</i> - que se comportam de maneira semelhante às palavras-chave caminho. <br><br>  Quando os desenvolvedores precisam adicionar uma nova palavra-chave ao idioma, precisam recorrer a um dos seguintes métodos. <br><br><ul><li>  Transferência forçada de propriedade: pegamos as palavras que eram identificadores anteriores e as transformamos em palavras-chave (por exemplo, <i>afirme</i> ). </li><li>  Descarte: uma palavra-chave existente começa a ser usada de uma maneira que nunca deveria ser usada (um exemplo é o uso de <i>padrão</i> para valores de anotação ou métodos padrão). </li><li>  Fique sem ele: encontre uma maneira de usar sintaxe que não exija uma nova palavra-chave - por exemplo, use a <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">interface</a></i> para anotações em vez de <i>anotação</i> - ou abandone completamente o recurso. </li><li>  Criando visibilidade: crie a ilusão de <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">palavras</a></i> - <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">chave</a></i> sensíveis ao contexto usando conquistas linguísticas heróicas ( <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">palavras-chave restritas, nomes de tipos reservados</a></i> ). </li></ul><br>  Em princípio, qualquer um desses métodos geralmente pode ser aplicado, mas cada um deles tem suas desvantagens e, para uma séria extensão em larga escala da linguagem, esses métodos por si só claramente não são suficientes - para futuras inovações, será necessário eliminar a incapacidade de estender completamente a sintaxe da linguagem. <br><br><h4>  Adicionando novas palavras-chave </h4><br>  Existem os seguintes argumentos contra "apenas" pegar e adicionar novas palavras. <br><br><ul><li>  Quanto mais conveniente e popular for a palavra-chave selecionada, mais frequentemente ela será encontrada no código-fonte dos programas, o que adicionará incompatibilidade à linguagem (por exemplo, quando a palavra <i>assert</i> aparecer no Java SE 1.4, todas as estruturas de teste deixarão de funcionar). </li><li>  O custo de eliminar essa incompatibilidade do código pelo desenvolvedor variará muito, de pequeno (renomeando uma variável local) a fatal (quando o método de interface ou o tipo público for invalidado). </li><li>  Palavras que os desenvolvedores de idiomas têm maior probabilidade de usar são identificadores populares (por exemplo, <i>valor</i> , <i>var</i> ou <i>método</i> ); </li><li>  Se você escolher palavras que raramente são usadas no código-fonte e com as quais haverá menos colisões, você terá que usar construções como <i>geralmente_but_not_always_final</i> , que no idioma naturalmente seria desejável evitar. </li><li>  Se, no entanto, você recorrer à escolha de palavras raramente usadas, usar esse método com muita frequência não funcionará - quebrar a compatibilidade não é bom e não existem muitas combinações bem-sucedidas. </li></ul><br><h4>  Reutilizando palavras-chave "antigas" </h4><br>  Sobre “apenas” continuar vivendo com essas palavras, há considerações. <br><br><ul><li>  Os precedentes da reutilização de palavras-chave em diferentes contextos são encontrados em muitas linguagens de programação (um exemplo de Java é o uso de ( <i>(ab) use</i> )) <i>final</i> para as designações "não mutável", "não redefinido" e "não extensível"). </li><li>  Às vezes, essa abordagem faz sentido e vem por si só, mas geralmente não é uma prioridade. </li><li>  Com o tempo, o conjunto de requisitos para um conjunto de palavras-chave se expande e pode chegar a um ponto engraçado - ninguém deseja usar <i>final nulo</i> em seu código. </li><li>  Se este último lhe pareceu um exagero, lembre-se de que, enquanto trabalhava no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JEP 325, eles</a> sugeriram seriamente o uso da <i>nova</i> construção de <i>comutador</i> para descrever o <i>comutador</i> com diferentes semânticas - se você continuar na mesma linha, depois de dez anos, podemos alcançar <i>novo novo interruptor</i> . </li></ul><br>  Como viver sem novas palavras-chave?  É possível parar completamente de se envolver na evolução da linguagem, como alguns sugeriram.  Mas isso não é sério e não se encaixa na opinião dos demais, pois há um interesse saudável nos novos recursos da linguagem pelos desenvolvedores. <br><br><h4>  Palavras-chave contextuais </h4><br>  Palavras-chave contextuais usadas para fornecer um significado específico no código, mas não são palavras reservadas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usadas em C #</a> ) à primeira vista, parecem ser a mesma "varinha mágica", mas aqui Brian apresenta sua própria visão sobre o uso delas, com base na prática ( por exemplo, implementações <i>var</i> no Java 10, que não é uma palavra-chave, mas um <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nome de tipo reservado</a></i> ).  Em troca da ilusão de adicionar novas palavras-chave sem precisar "quebrar" os programas existentes, obtemos maior complexidade e distorção no idioma. <br><br>  Palavras-chave contextuais são difíceis para escritores de especificações, compiladores e IDEs.  No caso de um ou dois casos especiais, isso não causa problemas, mas quando eles começam a ser usados ​​em todos os lugares, isso se traduz em um custo muito mais alto de suporte ao código ou cauda de bugs. <br><br>  Alguém poderia descartar isso - eles dizem que isso não é um problema dos usuários de idiomas, mas de seus criadores e daqueles que escrevem compiladores e IDEs.  Mas, na realidade, todo mundo sofre.  Para o IDE, isso pode ser um problema significativo: serão necessárias mais entradas para adivinhar o que o desenvolvedor está inserindo - uma palavra-chave ou identificador contextual.  Como resultado, os usuários sofrem uma deterioração no trabalho de realce de sintaxe, preenchimento automático e recursos de refatoração. <br><br>  Você pode usar esta ferramenta, mas faça-o com cuidado. <br><br><h3>  Distorção da língua </h3><br>  Parece que com os problemas que essas abordagens causam - sintaxe desajeitada, complicações desnecessárias da vida e bugs - em princípio, poderíamos aturar isso.  Mas há outro problema não mais óbvio - as nuances do uso de palavras-chave levam ao fato de que o design da própria linguagem está distorcido. <br><br>  Para desenvolvedores Java, escrever uma <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">interface em</a></i> vez de <i>anotação</i> é comum hoje em dia, mas todos concordam que o uso do termo amigável <i>anotação em</i> vez de uma combinação de @ e a palavra-chave "old" seria muito mais lógico. <br><br>  Outro exemplo: o conjunto de modificadores disponíveis (público, privado, estático, final etc.) não pode ser chamado de completo - não podemos dizer nada que <i>não seja final</i> ou <i>não estático</i> .  Por sua vez, isso significa que você não pode criar recursos nos quais variáveis ​​ou classes são <i>finais</i> por padrão, ou membros são <i>estáticos</i> por padrão, pois não há como indicar que gostaríamos de abandonar esse modificador. <br><br>  Esse problema não é tão óbvio para quem usa a linguagem - mas os autores da própria linguagem, por causa de seu desejo de desenvolvê-la ainda mais, encontram-na constantemente, e todos temos que pagar por essas decisões (quando explicitamente, quando implicitamente). <br><br>  A conclusão de todas as alternativas acima se sugere: precisamos de outra fonte de palavras-chave. <br><br><h3>  Solução proposta </h3><br>  Nos recursos experimentais da linguagem, uma sintaxe é usada para pré-designar novas palavras-chave, nas quais as próprias palavras-chave são precedidas por dois sublinhados (por exemplo, no protótipo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto Valhalla</a> , é <i>__ByValue</i> ).  O motivo desta decisão é compreensível - você precisa ressaltar que se trata de uma substituição temporária, pela qual no futuro precisará tomar uma decisão sobre a sintaxe final e, ao mesmo tempo, evitar facilmente conflitos com o código existente.  Pode-se sugerir o uso de um formato semelhante para novas palavras-chave - começando com um ou dois sublinhados -, mas essa solução não pode ser chamada de bonita, pois, neste caso, teremos confusão com palavras-chave comuns e novas. <br><br>  Portanto, propõe-se usar palavras-chave construídas usando um hífen, que usará uma ou mais palavras-chave “antigas” ou identificadores reservados. <br><br>  Diferentemente <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">das palavras-chave restritas</a></i> , essa abordagem criará muito menos problemas para análise, pois (daqui em diante referido como exemplo) <i>not-null</i> não pode ser confundido com uma expressão de subtração, e um lexer sempre pode determinar se <i>ab é</i> três tokens ou um.  Graças a isso, novas oportunidades estão se abrindo para criarmos palavras-chave com menor probabilidade de entrar em conflito com o código-fonte existente ou entre si.  Além disso, é muito mais provável que tenham nomes significativos, pois muito do que os criadores da linguagem desejam adicionar ao Java se baseia em construções de linguagem existentes - por exemplo, <i>não nulas</i> . <br><br>  Como exemplos de novas palavras-chave, são prováveis ​​candidatos ao lugar de novas palavras-chave (lembro-me que, de acordo com o autor, no momento essa lista é meramente ilustrativa): <br><br>  - <i>não nulo</i> ; <br>  - <i>não final</i> ; <br>  - <i>package-private</i> (modificador do nível de acesso aos membros da classe por padrão, que atualmente não é indicado de forma alguma); <br>  - <i>leitura</i> pública (leitura pública, gravação privada); <br>  - <i>verificado com nulo</i> ; <br>  - <i>tipo estático</i> (o conceito necessário para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Valhalla</a> ; denota estático em relação à especialização específica da classe, e não a própria classe); <br>  - <i>valor padrão</i> ; <br>  - <i>eventualmente final</i> (o que agora deve ser feito usando a anotação <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Stable</a></i> ), <br>  - <i>semifinal</i> (como alternativa ao <i>lacrado</i> ); <br>  - <i>interruptor exaustivo</i> ; <br>  - <i>classe enum, classe de</i> <i>anotação e classe de</i> <i>registro</i> (os autores da linguagem poderiam usar essas palavras-chave como uma alternativa ao <i>enum</i> e à <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">interface</a></i> , se tivessem essa oportunidade); <br>  - <i>this-class</i> (para descrever o literal da classe para a classe atual); <br>  - <i>this-return</i> (geralmente solicitado a adicionar uma maneira de marcar o criador de métodos / criador como retornando seu destinatário). <br><br>  Certamente existem outras variantes de esquemas lexicais segundo as quais seria possível compor palavras-chave para que elas se sobreponham minimamente às que já foram escritas pelo código-fonte.  O hífen proposto é legível o suficiente para carros e humanos. <br><br>  Entende-se que essa abordagem não exclui a possibilidade de usá-la em conjunto com as que foram usadas anteriormente, mas será usada junto com elas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435540/">https://habr.com/ru/post/pt435540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435530/index.html">Assinaturas pagas - Dependência da conexão automática em um dispositivo móvel</a></li>
<li><a href="../pt435532/index.html">Tornado vs Aiohttp: uma jornada pela natureza de estruturas assíncronas</a></li>
<li><a href="../pt435534/index.html">Ciência de dados: livros básicos</a></li>
<li><a href="../pt435536/index.html">Robôs humanóides: benefícios e problemas de mecanismos antropomórficos</a></li>
<li><a href="../pt435538/index.html">Em 2018, mais energia "verde" foi recebida na Alemanha do que eletricidade proveniente da combustão de carvão</a></li>
<li><a href="../pt435542/index.html">Desenvolvimento de jogos e defesa de um diploma ou "Como matei dois coelhos com uma panqueca de uma cajadada só"</a></li>
<li><a href="../pt435544/index.html">Funcionário da Innopolis University recebeu uma bolsa do Facebook</a></li>
<li><a href="../pt435546/index.html">Dicas práticas, exemplos e túneis SSH</a></li>
<li><a href="../pt435548/index.html">Hacking de serviços públicos - possível, se realmente necessário</a></li>
<li><a href="../pt435550/index.html">GitLab 11.6 lançado com recursos sem servidor e clusters Kubernetes para grupos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>