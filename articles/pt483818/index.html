<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äç‚úàÔ∏è üë≤üèø ‚úùÔ∏è Mecanismo, linguagem de script e romance visual - em 45 horas üë®‚Äçüë¶‚Äçüë¶ üëºüèø üò∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sauda√ß√µes. Aconteceu que por tr√™s anos seguidos, como presente de Ano Novo para certas pessoas, eu tenho feito um jogo. Em 2018, foi um jogo de plataf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mecanismo, linguagem de script e romance visual - em 45 horas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483818/"><p><img src="https://habrastorage.org/webt/k-/q6/7j/k-q67jnxvm1knkh3qfvqjyhbira.png" alt="romance visual, mecanismo e linguagem de script por 45 horas"></p><br><p>  Sauda√ß√µes.  Aconteceu que por tr√™s anos seguidos, como presente de Ano Novo para certas pessoas, eu tenho feito um jogo.  Em 2018, foi um jogo de plataforma com elementos de quebra-cabe√ßa, sobre o qual <a href="https://habr.com/ru/post/345958/">escrevi</a> em um hub  Em 2019 - uma rede RTS para dois jogadores, sobre a qual eu n√£o escrevi nada.  E, finalmente, em 2020 - uma hist√≥ria curta visual, que ser√° discutida mais adiante, criada em um tempo muito limitado. </p><br><p>  Neste artigo: </p><br><ul><li>  projeto e implementa√ß√£o do mecanismo de hist√≥rias curtas visuais, </li><li>  um jogo com um enredo n√£o linear em 8 horas, </li><li>  remo√ß√£o da l√≥gica do jogo em scripts em seu pr√≥prio idioma. </li></ul><br><p>  Interessante?  Ent√£o seja bem-vindo ao gato. </p><br><p>  <em>Cuidado: h√° muito texto e ~ imagens de 3,5mb</em> </p><a name="habracut"></a><br><p>  Conte√∫do: </p><br><p>  0. Justificativa para o desenvolvimento do motor. </p><br><ol><li>  A escolha da plataforma. </li><li>  Arquitetura do mecanismo e sua implementa√ß√£o: <br>  2.1  Declara√ß√£o do problema. <br>  2.2  Arquitetura e implementa√ß√£o. </li><li>  Linguagem do script: <br>  3.1  Idioma. <br>  3.2  Int√©rprete </li><li>  Desenvolvimento de jogos: <br>  4.1  A hist√≥ria e o desenvolvimento da l√≥gica do jogo. <br>  4.2  Gr√°ficos </li><li>  Estat√≠sticas e resultados. </li></ol><br><p>  <em>Nota: Se, por algum motivo, voc√™ n√£o estiver interessado em detalhes t√©cnicos, poder√° pular para a etapa 4 "Desenvolvimento de Jogos", mas pular√° a maior parte do conte√∫do</em> </p><br><h2 id="0-obosnovanie-razrabotki-dvizhka">  0. Justifica√ß√£o para o desenvolvimento do motor </h2><br><p>  Obviamente, h√° um grande n√∫mero de mecanismos prontos para hist√≥rias curtas visuais, que, sem d√∫vida, s√£o melhores que a solu√ß√£o descrita abaixo.  No entanto, n√£o importa que tipo de programador eu fosse, se n√£o tivesse escrito outro.  Portanto, vamos fingir que seu desenvolvimento foi justificado. </p><br><h2 id="1-vybor-platformy">  1. Sele√ß√£o de plataforma </h2><br><p>  De fato, a escolha foi pequena: Java ou C ++.  Sem pensar duas vezes, decidi implementar meu plano em Java, porque  para desenvolvimento r√°pido, fornece todas as possibilidades (ou seja, gerenciamento autom√°tico de mem√≥ria e maior simplicidade em compara√ß√£o com o C ++, que oculta muitos detalhes de baixo n√≠vel e, como resultado, permite menos √™nfase na pr√≥pria linguagem e pensa apenas na l√≥gica de neg√≥cios), e tamb√©m fornece suporte para janelas, gr√°ficos e √°udio prontos para uso. </p><br><p>  O Swing foi escolhido para implementar a interface gr√°fica, j√° que eu usei o Java 13, onde o JavaFX n√£o faz mais parte da biblioteca, e adicionar dezenas de megabytes de OpenJFX, dependendo da pregui√ßa.  Talvez essa n√£o fosse a melhor solu√ß√£o, mas mesmo assim. </p><br><p>  <em>A quest√£o provavelmente surge: que tipo de mecanismo de jogo √© esse, mas sem a acelera√ß√£o do hardware?</em>  <em>A resposta est√° na falta de tempo para lidar com o OpenGL, bem como sua absoluta falta de sentido: o FPS n√£o √© importante para um romance visual (em qualquer caso, com tanta anima√ß√£o e gr√°ficos quanto neste caso).</em> </p><br><h2 id="2-arhitektura-dvizhka-i-ego-realizaciya">  2. A arquitetura do mecanismo e sua implementa√ß√£o </h2><br><h3 id="21-postanovka-zadachi">  2.1 declara√ß√£o do problema </h3><br><p>  Para decidir como fazer algo, voc√™ precisa decidir o porqu√™.  Este sou eu sobre a declara√ß√£o do problema, porque  a arquitetura n√£o √© universal, mas um mecanismo "espec√≠fico do dom√≠nio", por defini√ß√£o, depende diretamente do jogo pretendido. </p><br><p>  Por mecanismo universal, entendo o mecanismo que suporta conceitos de n√≠vel relativamente baixo, como "Objeto de Jogo", "Cena", "Componente".  Foi decidido torn√°-lo n√£o um mecanismo universal, pois isso reduziria significativamente o tempo de desenvolvimento. </p><br><p>  Conforme planejado, o jogo deve consistir nas seguintes partes: </p><br><p><img src="https://habrastorage.org/webt/w9/fh/l5/w9fhl5dhsu2tiua2kd9d8n5lfdq.png" alt="estrutura do jogo visual novel"></p><br><p>  Ou seja, existe um plano de fundo para cada cena, o texto principal e um campo de texto para a entrada do usu√°rio (a novela visual foi pensada precisamente com entrada arbitr√°ria do usu√°rio, e n√£o uma escolha entre as op√ß√µes propostas, como costuma ser o caso. Mais tarde, vou dizer por que foi ruim decis√£o).  O diagrama tamb√©m mostra que pode haver v√°rias cenas no jogo e, como resultado, transi√ß√µes podem ser feitas entre elas. </p><br><p>  <em>Nota: Por cena, quero dizer a parte l√≥gica do jogo.</em>  <em>O crit√©rio para a cena pode ser o mesmo plano de fundo ao longo dessa mesma parte.</em> </p><br><p>  Tamb√©m estava entre os requisitos para o mecanismo a capacidade de reproduzir √°udio e exibir mensagens (com a fun√ß√£o opcional de entrada do usu√°rio). </p><br><p>  Talvez o desejo mais importante tenha sido o desejo de escrever a l√≥gica do jogo n√£o em Java, mas em alguma linguagem declarativa simples. </p><br><p>  Havia tamb√©m um desejo de perceber a possibilidade de anima√ß√£o procedural, ou seja, o movimento elementar de imagens, para que, no n√≠vel Java, fosse poss√≠vel determinar a fun√ß√£o pela qual a velocidade de movimento atual √© considerada (por exemplo, para que o gr√°fico de velocidade seja reto, ou um sinus√≥ide ou qualquer outra coisa). </p><br><p>  Conforme planejado, toda a intera√ß√£o do usu√°rio deveria ser feita atrav√©s de um sistema de di√°logos.  Nesse caso, o di√°logo foi considerado n√£o necessariamente um di√°logo com o NPC ou algo semelhante, mas geralmente uma rea√ß√£o a qualquer entrada do usu√°rio para a qual o manipulador correspondente foi registrado.  N√£o est√° claro  Isso ficar√° mais claro em breve. </p><br><h3 id="22-arhitektura-i-realizaciya">  2.2  Arquitetura e implementa√ß√£o </h3><br><p>  Dado todo o exposto, voc√™ pode dividir o mecanismo em tr√™s partes relativamente grandes que correspondem aos mesmos pacotes java: </p><br><ol><li> <code>display</code> - cont√©m tudo o que diz respeito √† sa√≠da para o usu√°rio de qualquer informa√ß√£o (gr√°fico, texto e som), al√©m de receber informa√ß√µes dele.  Uma esp√©cie de (View), se falamos de MVC / MVP / etc. </li><li>  <code>initializer</code> - cont√©m classes nas quais o mecanismo √© inicializado e iniciado. </li><li>  <code>sl</code> - cont√©m ferramentas para trabalhar com a linguagem de script (daqui em diante - SL). </li></ol><br><p>  Neste par√°grafo, considerarei as duas primeiras partes.  Vou come√ßar com o segundo. </p><br><p>  A classe inicializador possui dois m√©todos principais: <code>initialize()</code> e <code>run()</code> .  Inicialmente, o controle chega √† classe do iniciador, de onde <code>initialize()</code> chamado <code>initialize()</code> .  Ap√≥s a chamada, o inicializador analisa os par√¢metros passados ‚Äã‚Äãpara o programa (o caminho para o diret√≥rio com as miss√µes e o nome da miss√£o a ser executada), carrega o manifesto da miss√£o selecionada (um pouco mais tarde), inicializa a exibi√ß√£o, verifica se a vers√£o do idioma (SL) exigida pela busca √© suportada pelos dados int√©rprete e, finalmente, lan√ßa um thread separado para o console do desenvolvedor. </p><br><p>  Imediatamente depois disso, se tudo correu bem, o lan√ßador chama o m√©todo <code>run()</code> , que aciona o carregamento real da miss√£o.  Primeiro, existem todos os scripts relacionados √† miss√£o baixada (sobre a estrutura do arquivo da miss√£o - abaixo), eles s√£o alimentados ao analisador, cujo resultado √© fornecido ao int√©rprete.  Em seguida, a inicializa√ß√£o de todas as cenas √© iniciada e o inicializador conclui a execu√ß√£o de seu fluxo, suspendendo finalmente o manipulador de teclas Enter no visor.  E assim, quando o usu√°rio pressiona Enter, a primeira cena √© carregada, mas mais sobre isso mais tarde. </p><br><p>  A estrutura de arquivos da miss√£o √© a seguinte: </p><br><p><img src="https://habrastorage.org/webt/3l/xo/nr/3lxonrfkeik_hwids4tire50dge.png" alt="estrutura de arquivos da pesquisa"></p><br><p>  H√° uma pasta separada para a miss√£o, cuja raiz √© o manifesto, al√©m de tr√™s pastas adicionais: <code>audio</code> - para som, <code>graphics</code> - para a parte visual e <code>scenes</code> - para scripts que descrevem cenas. </p><br><p>  Eu gostaria de descrever brevemente o manifesto.  Ele cont√©m os seguintes campos: </p><br><ul><li>  <code>sl_version_req</code> - vers√£o SL necess√°ria para iniciar a miss√£o, </li><li>  <code>init_scene</code> - o nome da cena a partir da qual a miss√£o come√ßa, </li><li>  <code>quest_name</code> - um belo nome de miss√£o que aparece no t√≠tulo da janela, </li><li>  <code>resolution</code> - a resolu√ß√£o da tela para a qual a miss√£o se destina (algumas palavras sobre isso posteriormente), </li><li>  <code>font_size</code> - tamanho da fonte para todo o texto, </li><li>  <code>font_name</code> √© o nome da fonte para todo o texto. </li></ul><br><p>  Vale ressaltar que durante a inicializa√ß√£o da tela, entre outras coisas, foi realizado o c√°lculo da resolu√ß√£o de renderiza√ß√£o: ou seja, a resolu√ß√£o necess√°ria foi obtida do manifesto e espremida no espa√ßo dispon√≠vel para a janela para que: </p><br><ul><li>  a propor√ß√£o permaneceu a mesma da resolu√ß√£o do manifesto, </li><li>  todo o espa√ßo dispon√≠vel era ocupado em largura ou altura. <br>  Gra√ßas a isso, o desenvolvedor da miss√£o pode ter certeza de que suas imagens, por exemplo 16: 9, ser√£o exibidas em qualquer tela nessa propor√ß√£o. </li></ul><br><p>  Al√©m disso, quando a exibi√ß√£o √© inicializada, o cursor fica oculto, pois n√£o est√° envolvido na jogabilidade. </p><br><p>  Em poucas palavras sobre o console do desenvolvedor.  Foi desenvolvido pelos seguintes motivos: </p><br><ol><li>  Para depura√ß√£o. </li><li>  Se algo der errado durante o jogo, ele poder√° ser corrigido no console do desenvolvedor. <br>  Ele implementou apenas alguns comandos, a saber: a sa√≠da de descritores de um tipo espec√≠fico e seu status, a sa√≠da de threads de trabalho, a reinicializa√ß√£o da exibi√ß√£o e o comando mais importante - <code>exec</code> , que permitiu executar qualquer c√≥digo SL na cena atual. </li></ol><br><p>  Isso encerra a descri√ß√£o do inicializador e coisas relacionadas, e podemos prosseguir com a descri√ß√£o da exibi√ß√£o. </p><br><p>  Sua estrutura final √© a seguinte: </p><br><p><img src="https://habrastorage.org/webt/zz/qb/-1/zzqb-15nrxzhechuggvxgzoo-hg.png" alt="estrutura de exibi√ß√£o"></p><br><p>  A partir da declara√ß√£o do problema, podemos concluir que tudo o que precisa ser feito √© desenhar imagens, desenhar texto, reproduzir √°udio. </p><br><p>  Como o texto / imagem geralmente √© desenhado em mecanismos universais e al√©m?  Existe um m√©todo do tipo <code>update()</code> , chamado de tick / step / frame / render / frame / etc e no qual existe uma chamada para um m√©todo do tipo <code>drawText()</code> / <code>drawImage()</code> - isso garante a apar√™ncia do texto / imagem nesse quadro.  No entanto, assim que a chamada para esses m√©todos √© interrompida, a renderiza√ß√£o dos itens correspondentes √© interrompida. </p><br><p>  No meu caso, foi decidido fazer um pouco diferente.  Como nos romances visuais, o texto e as imagens s√£o relativamente permanentes e tamb√©m s√£o quase tudo o que o usu√°rio v√™ (ou seja, s√£o importantes o suficiente), eles foram criados como objetos de jogo - isto √©, coisas que voc√™ s√≥ precisa gerar e elas n√£o desaparecer√£o at√© voc√™ perguntar a eles.  Al√©m disso, esta solu√ß√£o simplificou a implementa√ß√£o. </p><br><p>  Um objeto (do ponto de vista do OOP) que descreve o texto / imagem √© chamado de descritor.  Ou seja, para o usu√°rio do mecanismo da API, existem apenas descritores que podem ser adicionados ao estado de exibi√ß√£o e removidos dele.  Assim, na vers√£o final da tela, existem os seguintes descritores (eles correspondem √†s classes com o mesmo nome): </p><br><div class="scrollable-table"><table><thead><tr><th>  Nome do descritor: </th><th>  Descri√ß√£o do descritor: </th></tr></thead><tbody><tr><td> <code>ImageDescriptor</code> </td> <td>  Descritor de imagens: cont√©m a imagem ( <code>BufferedImage</code> ), posi√ß√£o na tela e largura com altura.  No entanto, ao criar, apenas a largura √© especificada - a altura √© calculada proporcionalmente √† altura original (e n√£o h√° como esticar / compactar manualmente a imagem de maneira desproporcional, portanto, essa foi uma decis√£o ruim). </td></tr><tr><td> <code>TextDescriptor</code> </td> <td>  Descritor de texto: cont√©m o texto, sua posi√ß√£o e tamanho.  Al√©m disso, o texto n√£o aumenta em largura e altura, mas √© cortado ao ultrapassar as bordas.  O texto pode ser transferido por s√≠labas e simplesmente por caracteres de espa√ßo em branco, e tamb√©m rolar pelas linhas. </td></tr><tr><td> <code>AudioDescriptor</code> </td> <td>  Um descritor de √°udio que pode reproduzir √°udio (uma vez ou em loop), paus√°-lo e remov√™-lo. </td></tr><tr><td> <code>AnimationDescriptor</code> </td> <td>  Um identificador de anima√ß√£o que, como o √°udio, pode ser repetido.  Cont√©m um objeto que implementa a anima√ß√£o e um descritor de imagem para o qual a anima√ß√£o √© executada.  O m√©todo principal √© a <code>update(long)</code> , que leva o n√∫mero de milissegundos que passaram desde a √∫ltima chamada da <code>update(long)</code> .  O n√∫mero deles √© usado para calcular o estado atual da anima√ß√£o. </td></tr><tr><td> <code>InputDescriptor</code> </td> <td>  Descritor de entrada: √© um campo de texto em que o cursor est√° sempre no final do texto.  Tamb√©m √© importante notar que o armazenamento e a renderiza√ß√£o de texto de um descritor de entrada s√£o feitos por meio de um descritor de texto criado implicitamente para n√£o duplicar a l√≥gica.  <em>O engra√ßado √© que eu levei em conta a possibilidade de pressionar Backspace, mas n√£o levei em conta Excluir;</em>  <em>e quando Excluir ainda era pressionado durante o jogo, ‚ñØ‚ñØ‚ñØ apareceu no campo, pois nenhum processamento foi feito para Excluir e o personagem tentou exibir como texto.</em> </td></tr><tr><td> <code>KeyAwaitDescriptor</code> </td> <td>  Um identificador para o qual a tecla necess√°ria √© passada (do <code>KeyEvent</code> ) e um retorno de chamada com alguma l√≥gica que ser√° iniciada quando a tecla correspondente for pressionada. </td></tr><tr><td> <code>PostWorkDescriptor</code> </td> <td>  Um identificador que aceita um retorno de chamada que ser√° chamado ap√≥s o processamento de cada tick. </td></tr></tbody></table></div><br><p>  O visor tamb√©m cont√©m campos para o atual receptor de entrada (descritor de entrada) e um campo indicando qual descritor de texto agora est√° focado e cujo texto ser√° rolado sob as a√ß√µes correspondentes da parte do usu√°rio. </p><br><p>  O ciclo do jogo √© mais ou menos assim: </p><br><ol><li>  Processamento de √°udio - chamar o m√©todo <code>update()</code> nos descritores de √°udio, que verifica o estado atual do √°udio, libera mem√≥ria (se necess√°rio) e realiza outros trabalhos t√©cnicos. </li><li>  Processando pressionamentos de tecla - transfira os caracteres inseridos para um descritor para receber entrada, processando pressionamentos de teclas para teclas de rolagem (setas para cima e para baixo) e Backspace. </li><li>  Processamento de anima√ß√£o. </li><li>  Limpando o plano de fundo no buffer de renderiza√ß√£o ( <code>BufferedImage</code> serviu como buffer). </li><li>  Desenhando imagens. </li><li>  Renderiza√ß√£o de texto. </li><li>  Desenho de campos para entrada. </li><li>  A sa√≠da do buffer para a tela. </li><li>  Manipulando <code>PostWorkDescriptor</code> 's. </li><li>  Alguns trabalhos sobre a substitui√ß√£o de estados de exibi√ß√£o, os quais discutirei mais adiante (na se√ß√£o sobre o int√©rprete do SL). </li><li>  Pare o fluxo pelo tempo calculado dinamicamente para que o FPS seja igual ao valor especificado (30 por padr√£o). </li></ol><br><p>  <em>Nota: Talvez surja a pergunta: "Por que renderizar campos de entrada se descritores de texto apropriados foram criados para eles que ser√£o renderizados uma etapa anteriormente?"</em>  <em>De fato, a renderiza√ß√£o na etapa 7 n√£o ocorre - apenas os <code>InputDescriptor</code> do <code>InputDescriptor</code> s√£o sincronizados com os <code>InputDescriptor</code> do <code>InputDescriptor</code> - como visibilidade da tela, posi√ß√£o, tamanho e outros.</em>  <em>Isso foi feito, conforme indicado acima, pelo motivo de o usu√°rio n√£o controlar diretamente o descritor de entrada correspondente com um descritor de texto e geralmente n√£o sabe nada sobre ele.</em> </p><br><p>  Vale ressaltar que o tamanho e a posi√ß√£o dos elementos na tela n√£o s√£o definidos em pixels, mas em tamanhos relativos - n√∫meros de 0 a 1 (diagrama abaixo).  Ou seja, toda a largura da renderiza√ß√£o √© 1 e a altura inteira √© 1 (e elas n√£o s√£o iguais, o que eu esqueci v√°rias vezes e depois me arrependi).  Tamb√©m valeria a pena fazer (0,0) ser o centro, e a largura / altura deve ser igual a dois, mas por alguma raz√£o eu esqueci / n√£o pensei nisso.  No entanto, mesmo a op√ß√£o com largura / altura igual a 1 simplificou a vida do desenvolvedor da miss√£o. </p><br><p><img src="https://habrastorage.org/webt/ay/ay/zy/ayayzykqpewkfcggqoxxz3mtcse.png" alt="sistema de coordenadas relativas"></p><br><p>  Algumas palavras sobre o sistema para liberar mem√≥ria. </p><br><p>  Cada descritor tinha um <code>setDoFree(boolean)</code> , que o usu√°rio tinha que chamar se quisesse destruir o descritor fornecido.  A coleta de lixo para descritores de algum tipo ocorreu imediatamente ap√≥s o processamento de todos os descritores desse tipo.  Al√©m disso, o √°udio reproduzido uma vez foi exclu√≠do automaticamente ap√≥s o t√©rmino da reprodu√ß√£o.  Exatamente o mesmo que a anima√ß√£o sem loop. </p><br><p>  Portanto, no momento, voc√™ pode desenhar o que quiser, mas essa n√£o √© a figura acima, na qual h√° apenas um plano de fundo, o texto principal e um campo de entrada.  E aqui vem o wrapper sobre a exibi√ß√£o, que corresponde √† classe <code>DefaultDisplayToolkit</code> . </p><br><p>  Quando inicializado, ele adiciona apenas descritores para o plano de fundo, texto etc., al√©m de exibir mensagens com o √≠cone opcional, campo de entrada e retorno de chamada. </p><br><p>  <em>Surgiu ent√£o um pequeno bug, cuja corre√ß√£o total exigiria refazer metade do sistema de renderiza√ß√£o: se voc√™ observar a ordem de renderiza√ß√£o no loop do jogo, poder√° ver que as imagens s√£o desenhadas primeiro e somente depois o texto.</em>  <em>Ao mesmo tempo, quando o kit de ferramentas mostra a imagem, coloca-a no meio da tela em largura e <strong>altura</strong> .</em>  <em>E se houver muito texto na mensagem, ela dever√° se sobrepor parcialmente ao texto principal da cena.</em>  <em>No entanto, como o plano de fundo da mensagem √© uma imagem (completamente preta, mas mesmo assim) e as imagens s√£o desenhadas antes do texto, um texto √© sobreposto a outro (captura de tela abaixo).</em>  <em>O problema foi parcialmente resolvido pela centraliza√ß√£o vertical, n√£o na tela, mas na √°rea <strong>acima do</strong> texto principal.</em>  <em>Uma solu√ß√£o completa incluiria a introdu√ß√£o de um par√¢metro de profundidade e refazer os renderizadores da palavra "completamente".</em> </p><br><div class="spoiler">  <b class="spoiler_title">Demonstra√ß√£o de sobreposi√ß√£o</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/la/t1/yn/lat1ynb6f3ivjxdvnhi4bsbjfvc.png" alt="sobreposi√ß√£o de texto"></p></div></div><br><p>  Talvez isso seja sobre a exibi√ß√£o, finalmente, tudo.  Voc√™ pode passar para o idioma, a API inteira para trabalhar com a qual est√° contida no pacote <code>sl</code> . </p><br><h2 id="3-skriptovyy-yazyk">  3. Linguagem de script </h2><br><p>  <em>Nota: Se o respeitado% USERNAME% o leu aqui, ele se saiu bem, e eu pediria que ele n√£o parasse de faz√™-lo: agora ser√° muito mais interessante do que antes.</em> </p><br><h3 id="31-yazyk">  3.1  Linguagem </h3><br><p>  Inicialmente, eu queria criar uma linguagem declarativa na qual seria necess√°rio apenas indicar todos os par√¢metros necess√°rios para a cena, e isso √© tudo.  O mecanismo levaria toda a l√≥gica.  No entanto, no final, cheguei √† linguagem processual, mesmo com elementos de POO (pouco distingu√≠veis), e essa foi uma boa solu√ß√£o, pois, em compara√ß√£o com a op√ß√£o declarativa, permitiu muito mais flexibilidade na l√≥gica dos jogos. </p><br><p>  A sintaxe da linguagem foi pensada de modo a ser o mais simples poss√≠vel para an√°lise, o que √© l√≥gico, dada a quantidade de tempo dispon√≠vel. </p><br><p>  Portanto, o c√≥digo √© armazenado em arquivos de texto com a extens√£o SSF;  cada arquivo cont√©m uma descri√ß√£o de uma ou mais cenas;  cada cena cont√©m zero ou mais a√ß√µes;  cada a√ß√£o cont√©m zero ou mais operadores. </p><br><p>  Uma pequena explica√ß√£o sobre os termos.  Uma a√ß√£o √© apenas um procedimento sem a possibilidade de passar argumentos (de forma alguma impediu o desenvolvimento do jogo).  Aparentemente, o operador n√£o √© exatamente o que essa palavra significa em idiomas comuns (+, -, /, *), mas a forma √© a mesma: o operador √© a totalidade de seu nome e todos os seus argumentos. </p><br><p>  Talvez voc√™ esteja ansioso para finalmente ver o c√≥digo fonte do SL, aqui est√°: </p><br><pre> <code class="plaintext hljs">scene dungeon { action init { load_image "background" "dungeon/background.png" load_image "key" "dungeon/key.png" load_audio "background" "dungeon/background.wav" load_audio "got_key" "dungeon/got_key.wav" } action first_come { play "background" loop set_background "background" set_text "some text" add_dialog "(||(|) (||-))" "dial_look_around" dial_look_around on } //some comment action dial_look_around { play "got_key" once show "some text 2" "key" none tag "key" switch_dialog "dial_look_around" off } }</code> </pre> <br><p>  Agora fica claro qual √© o operador.  Tamb√©m √© visto que cada a√ß√£o √© um bloco de declara√ß√µes (uma declara√ß√£o pode ser um bloco de declara√ß√µes), bem como o fato de que coment√°rios de linha √∫nica s√£o suportados (n√£o fazia sentido inserir coment√°rios de v√°rias linhas, al√©m disso, eu n√£o usei coment√°rios de linha √∫nica). </p><br><p>  Por uma quest√£o de simplifica√ß√£o, um conceito como "vari√°vel" n√£o foi introduzido na linguagem;  como resultado, todos os valores usados ‚Äã‚Äãno c√≥digo s√£o literais.  Dependendo do tipo, os seguintes literais s√£o diferenciados: </p><br><div class="scrollable-table"><table><thead><tr><th>  Nome literal: </th><th>  Nota: </th></tr></thead><tbody><tr><td>  String literal </td><td>  A capacidade de escapar aspas e barras (\\) est√° inclu√≠da, tamb√©m √© poss√≠vel inserir um h√≠fen no texto </td></tr><tr><td>  Literal inteiro </td><td>  Suporta n√∫meros negativos </td></tr><tr><td>  Literal de ponto flutuante </td><td>  Suporta n√∫meros negativos </td></tr><tr><td>  Nenhum literal </td><td>  O c√≥digo √© representado como <code>none</code> </td></tr><tr><td>  Literal booleano </td><td>  No c√≥digo - <code>on</code> / <code>off</code> para verdadeiro / falso, respectivamente </td></tr><tr><td>  Literal geral </td><td>  Se um literal n√£o se enquadra em nenhum dos tipos acima e consiste nas letras do alfabeto ingl√™s, n√∫meros e sublinhado, √© um literal geral. </td></tr></tbody></table></div><br><p>  Algumas palavras sobre a an√°lise de idiomas.  Existem v√°rios n√≠veis de "carregamento" do c√≥digo (diagrama abaixo): </p><br><ol><li>  Um tokenizer √© uma classe modular para dividir o c√≥digo-fonte em tokens (as unidades sem√¢nticas m√≠nimas da linguagem).  Cada tipo de token est√° associado a um n√∫mero - seu tipo.  Por que modular?  Como as partes do tokenizer que verificam se alguma parte do c√≥digo-fonte √© um token de um determinado tipo s√£o isoladas do tokenizer e baixadas de fora (a partir do segundo par√°grafo). </li><li>  O complemento do tokenizer √© uma classe que define a apar√™ncia de cada tipo de token no SL;  no n√≠vel mais baixo usa um tokenizer.  Tamb√©m aqui est√° a triagem de tokens de espa√ßo e a omiss√£o de coment√°rios de linha √∫nica.  A sa√≠da fornece um fluxo limpo de tokens, usado em ... </li><li>  ... um analisador (tamb√©m √© modular), que produz uma √°rvore de sintaxe abstrata na sa√≠da.  Modular - porque por si s√≥ pode analisar cenas e a√ß√µes, mas n√£o sabe como analisar operadores.  Portanto, os m√≥dulos s√£o carregados nele (de fato, ele pr√≥prio os carrega no construtor, o que n√£o √© muito bom), que pode analisar cada um de seus operadores. </li></ol><br><p><img src="https://habrastorage.org/webt/3c/vz/u-/3cvzu-qk5wgwwtgpn_dndl3aan8.png" alt="pipeline de an√°lise de linguagem de script"></p><br><p>  Agora, brevemente sobre os operadores, para que uma id√©ia da funcionalidade do idioma apare√ßa.  Inicialmente, havia 11 operadores, ent√£o, no processo de refletir sobre o jogo, alguns deles se fundiram em um, outros mudaram e outros 9 foram adicionados.  Aqui est√° a tabela de resumo: </p><br><div class="scrollable-table"><table><thead><tr><th>  Nome do Operador: </th><th>  Nota: </th></tr></thead><tbody><tr><td> <code>load_image</code> </td> <td>  Carrega uma imagem na mem√≥ria </td></tr><tr><td> <code>load_audio</code> </td> <td>  Carrega √°udio na mem√≥ria </td></tr><tr><td> <code>set_text</code> </td> <td>  Define o texto principal da cena. </td></tr><tr><td> <code>set_background</code> </td> <td>  Define o plano de fundo para a cena. </td></tr><tr><td> <code>play</code> </td> <td>  Reproduz √°udio (pode reproduzir uma vez ou repetir a reprodu√ß√£o) </td></tr><tr><td> <code>show</code> </td> <td>  Mostra uma mensagem com retorno de chamada (no SL) e uma imagem opcional (chamada ap√≥s o usu√°rio fechar a mensagem) </td></tr><tr><td> <code>tag</code> </td> <td>  Define uma etiqueta (etiqueta).  Pode ser considerada como uma vari√°vel global com o nome especificado, que n√£o armazena nenhum valor.  Isso √© √∫til em diferentes casos: por exemplo, voc√™ pode marcar de tal maneira se o jogador encontrou a chave da porta, se ele j√° estava nesse local etc. </td></tr><tr><td>  <code>if_tag</code> / <code>if_tag_n</code> </td><td>  Operadores de ramifica√ß√£o que permitem que voc√™ fa√ßa algo dependendo se a tag correspondente est√° instalada.  <code>else</code> branch √© suportado.  <code>if_tag</code> √© executado se a tag estiver definida, <code>if_tag_n</code> - vice-versa </td></tr><tr><td> <code>add_dialog</code> </td> <td>  Permite adicionar di√°logo √† cena.  Sobre eles um pouco mais tarde </td></tr><tr><td> <code>goto</code> </td> <td>  Transi√ß√£o para outra cena </td></tr><tr><td> <code>call</code> </td> <td>  Chamada de a√ß√£o personalizada </td></tr><tr><td> <code>call_extern</code> </td> <td>  Invocando uma a√ß√£o de outra cena. </td></tr><tr><td> <code>stop_all</code> </td> <td>  Pare de reproduzir todos os sons / m√∫sicas </td></tr><tr><td> <code>show_motion</code> </td> <td>  Mostra e move a imagem de um ponto para outro no tempo especificado (dura√ß√£o) (com um retorno de chamada opcional chamado quando o movimento termina) </td></tr><tr><td> <code>animate</code> </td> <td>  Anima uma imagem mostrada anteriormente por <code>show_motion</code> .  Nas op√ß√µes: voc√™ pode especificar o tipo de anima√ß√£o - <code>v_motion</code> / <code>h_motion</code> (movimento vertical / horizontal por fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>2</mn><msup><mi>t</mi><mn>3</mn></msup><mo>&amp;#x2212;</mo><mn>3</mn><msup><mi>t</mi><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.953ex" height="2.539ex" viewBox="0 -935.7 3854.8 1093.4" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMAIN-33" x="511" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMAIN-2212" x="1538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMAIN-33" x="2538" y="0"></use><g transform="translate(3039,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/483818/&amp;xid=17259,15700023,15700043,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhezr7qSldsxVQ2z2vLvR476ipeLw#MJMAIN-32" x="511" y="513"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn><msup><mi>t</mi><mn>3</mn></msup><mo>‚àí</mo><mn>3</mn><msup><mi>t</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 2t ^ 3-3t ^ 2 </script>  ), a possibilidade de loop, uma indica√ß√£o do tempo (dura√ß√£o) durante o qual a anima√ß√£o deve ser reproduzida.  √â poss√≠vel transferir um valor num√©rico (um, j√° que n√£o h√° como passar um n√∫mero vari√°vel de argumentos, portanto isso √© parcialmente uma muleta) para a anima√ß√£o (para cada anima√ß√£o significa coisas diferentes) e o retorno de chamada opcional (chamado quando a anima√ß√£o √© reproduzida). </td></tr></tbody></table></div><br><p>  Operadores para trabalhar com contadores - vari√°veis ‚Äã‚Äãinteiras espec√≠ficas da cena. </p><br><div class="scrollable-table"><table><thead><tr><th>  Nome do Operador: </th><th>  Nota: </th></tr></thead><tbody><tr><td> <code>counter_set</code> </td> <td>  Criando um contador e inicializando-o com algum valor </td></tr><tr><td> <code>counter_add</code> </td> <td>  Adicionando um valor a um contador </td></tr><tr><td> <code>if_counter &lt;modifier&gt;</code> </td> <td>  Capaz de comparar os valores de dois contadores / n√∫meros / n√∫meros e um contador.  <code>&lt;modifier&gt;</code> √© um literal geral e tem o formato <code>eq/gr/ls[_n]</code> , onde <code>eq</code> s√£o iguais, <code>gr</code> √© maior que, <code>ls</code> √© menor que, <code>ls</code> √© menor que, <code>_n</code> √© nega√ß√£o (por exemplo, <code>gr_n</code> n√£o √© maior).  Como voc√™ pode ver, tudo foi simplificado o m√°ximo poss√≠vel. </td></tr></tbody></table></div><br><p>  Havia tamb√©m o pensamento de introduzir uma <code>return</code> (a funcionalidade correspondente foi adicionada no n√≠vel principal do int√©rprete), mas eu esqueci, e n√£o foi √∫til. </p><br><p>           ,      ,     :  <code>show_motion</code>      (, , 0.01)         <code>duration</code> . </p><br><p>          ,   (lookup)  (  ):      ///,        <code>load_audio</code> / <code>load_image</code> / <code>counter_set</code> / <code>add_dialog</code> .   ,       ,   ,    , ‚Äî . .        ,     . , : " <code>scene_coast.dialog_1</code> " ‚Äî  <code>dialog_1</code>   <code>scene_coast</code> . </p><br><p>           SL-,   . , ,       , ‚Äî       .     :       (-, ),   ,       <code>lookup</code> ', ,  ,  .      ,            <code>goto</code>  <code>lookup</code> ',        . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p>    -      ‚Äî - ,        ,       <code>n</code>  ( )    .             ,     ,       <code>n</code>   .   ,  . </p></div></div><br><p>   .     : </p><br><pre> <code class="plaintext hljs">add_dialog "regexp" "dialog_name" callback on/off</code> </pre> <br><p>     ,                  . ,     :     ,   ,      ,     ( ). </p><br><p>  ,    ,        ( )    ( )   ,    ( ).         :         ,    ,     , ""   "". </p><br><p><img src="https://habrastorage.org/webt/qw/nk/y6/qwnky6dhlw8amlkbhcnb3ex4tvs.png" alt="sistema de di√°logos de trabalho"></p><br><p> <em>,       ( ,  )</em> </p><br><p>     ,  "": </p><br><pre> <code class="plaintext hljs">(||((|||) ( )?(||)?)|(||)( )?|  )</code> </pre> <br><p>  *** </p><br><p>   ,     :  ‚Äî ,      ,   ‚Äî . </p><br><p> <em>,       :      </em> </p><br><h3 id="32-interpretator">  3.2  </h3><br><p>      :   ,  ‚Äî  ""  (   ).  <em></em>           . </p><br><p>   SL    ,     - .  : </p><br><ol><li> <code>init</code> ‚Äî           ,    (  ,      , ,     ). </li><li> <code>first_come</code> ‚Äî ,      .     ,  ,     . </li><li>       ,     : <code>come</code> ‚Äî    ,     ( ). </li></ol><br><p> <em>: <code>init</code>  <code>first_come</code> ‚Äî     ,          .</em> </p><br><p>         .     :      ,    ,    <strong></strong>  <code>init</code> -.  ,  <strong></strong>    (   )    . </p><br><p>  ,     <code>n</code> ,        <code>first_come</code> - (  -       -     ).       .  ,   :       ,        ,  <code>first_come</code>  <code>come</code> ,   <code>come</code> ( ).    :        ,             ,         ,       . </p><br><p>          (,    "", " ", "  "  . .).  ,      ,   -    - .    ,             ( ),          . </p><br><p>              (, ,    ).   :        ?       ,        ,      .      <code>provideState</code>  ,        ;  <strong></strong>           ,      . </p><br><p> <em>      ,  ,     ,     ,    (    ,    ),         (, ,      ,    ).</em> </p><br><h2 id="4-razrabotka-igry"> 4.   </h2><br><p>          .   2019-  2018-,      ,  ,    . </p><br><h3 id="41-istoriya-i-razrabotka-logiki-igry">  4.1      </h3><br><p>     ,  ,    , ‚Äî  .             ,      .      (  ),      , <del>  </del>     - , 9  (),      -  (   ,     ( , , )  . </p><br><p>  ,   :     ,       ,   ,     .           ,       ,     . </p><br><p>  ,        25% (5)  ,  :  ,   ;   ( <code>animate</code> ),      ( <code>call_extern</code> ). </p><br><p>   ,     -     ( ),      (,   ,   ‚Äî  ,  "You won"). </p><br><p><img src="https://habrastorage.org/webt/0g/la/gv/0glagv3q6tcjirb_qezojplz8tc.png" alt="demo visual novel"></p><br><h3 id="42-grafika">  4.2  </h3><br><p>          ,     : </p><br><p><img src="https://habrastorage.org/webt/pz/fw/qi/pzfwqi8pkcr7le0xjkjmkd8w-h8.png" alt="esbo√ßos para gr√°ficos"></p><br><p>      ,    ,    -   -    " ".     : </p><br><ul><li>      (4x2.23''),         . </li><li>       : ,    , ‚Äî     . </li><li>            ////etc. </li></ul><br><p><img src="https://habrastorage.org/webt/e9/ry/rv/e9ryrv-13waaticfbp04vhwq5tu.png" alt="uso de pinc√©is de arte"></p><br><ul><li>    ,    ,     . </li></ul><br><p><img src="https://habrastorage.org/webt/th/hj/jm/thhjjmkujbdjdo4eqvksclai7pq.png" alt="um personagem do romance visual"></p><br><ul><li> ,        .      ,     , ,       .     . </li></ul><br><h2 id="5-statistika-i-itogi"> 5.    </h2><br><p>        ( 11 )    30  40 .    9    4  55 .     (  )  7  41 .   ‚Äî ~4-6  (    45   ). </p><br><p> <em>:      "Darkyen's Time Tracker"   JetBrains (  ).</em> <br> <em>:       2    ,    ‚Äî     .   45        8 .</em> </p><br><p>      : 4777,   ( ) ‚Äî 637. </p><br><p> <em>:     <code>cloc</code> .</em> </p><br><p>    30   .    (  ) :  ‚Äî ~8 ,      ‚Äî ~24 ,   (     ) ‚Äî ~8 .     . </p><br><p>   ‚Äî 232  (  - ,   WAV). </p><br><div class="spoiler"> <b class="spoiler_title"> WAV?</b> <div class="spoiler_text"><p>       <code>javax.sound.sampled.AudioSystem</code> ,    WAV  AU ,    WAV. </p></div></div><br><p>   28  (  3  ).          ‚Äî           17  /. </p><br><p>         -  :        ,        .  , ,   "   ",     " ".     (,   ),          (     ""/""  - ). </p><br><div class="spoiler"> <b class="spoiler_title">      ?</b> <div class="spoiler_text"><p>   ‚Äî      ,    .      :        . . ,       ,       ""    :        NPC,      ,       (,    ‚Äî    ..). </p></div></div><br><p>   ,      :  ,      . </p><br><p>    ‚Äî  .     ,  :  ,  ,  ,   .              . ,        ,     , , , . </p><br><p>   .       (        ),    : </p><br><ul><li>  .  .  . </li><li>     .              ,    . </li><li>   ,       . </li></ul><br><p> <em>,             ,  .</em> </p><br><p>           <a href="https://github.com/wcobalt/stepper" rel="nofollow">GitHub</a> . </p><br><p>        (assets)  <a href="https://github.com/wcobalt/stepper/releases" rel="nofollow"> "Releases"</a>   "v1.0"  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483818/">https://habr.com/ru/post/pt483818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483798/index.html">Como automatizar a composi√ß√£o de an√∫ncios no Google Ads</a></li>
<li><a href="../pt483800/index.html">N√£o durma! Como aprendemos a liberar 12.000 ofertas de ingressos por noite</a></li>
<li><a href="../pt483802/index.html">Como lan√ßar um produto sozinho, se voc√™ √© um desenvolvedor: Dicas do criador do Laravel, Taylor Otvel. Parte 1: P√∫blico</a></li>
<li><a href="../pt483804/index.html">Richard Hamming ‚ÄúCap√≠tulo inexistente‚Äù: como sabemos o que sabemos (11 a 20 minutos em 40)</a></li>
<li><a href="../pt483814/index.html">Abraham Flexner: A utilidade do conhecimento in√∫til (1939)</a></li>
<li><a href="../pt483820/index.html">O que afeta a emiss√£o de cr√©dito. Vis√£o geral da competi√ß√£o de risco padr√£o de cr√©dito residencial</a></li>
<li><a href="../pt483822/index.html">5 recursos de JavaScript sem os quais n√£o consegui escrever c√≥digo</a></li>
<li><a href="../pt483824/index.html">Como conseguir o trabalho dos seus sonhos, pensando positivamente e avan√ßando, tendo estudado minhas cinco regras ...</a></li>
<li><a href="../pt483830/index.html">Roteamento para iOS: navega√ß√£o universal sem reescrever o aplicativo</a></li>
<li><a href="../pt483832/index.html">RxJava para Coroutines: migra√ß√£o de recursos de ponta a ponta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>