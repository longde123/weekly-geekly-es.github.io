<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëä ü§û üåµ So machen Sie Code lesbar üì≥ üë®‚Äçüîß üßìüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Manchmal haben wir alle schlechten Code geschrieben (und einige schreiben), und ich hoffe, wir alle arbeiten daran, unsere F√§higkeiten zu verbessern u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So machen Sie Code lesbar</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421867/"><p><img src="https://habrastorage.org/getpro/habr/post_images/9f7/d4e/dac/9f7d4edacc48f0d12bc8e501d349aeb0.jpg" alt="So machen Sie Code lesbar"></p><br><p>  Manchmal haben wir alle schlechten Code geschrieben (und einige schreiben), und ich hoffe, wir alle arbeiten daran, unsere F√§higkeiten zu verbessern und nicht nur Artikel wie diesen zu lesen. </p><br><h3 id="zachem-nam-pisat-horoshiy-kod-a-ne-prosto-proizvoditelnyy-kod">  Warum m√ºssen wir guten Code schreiben, nicht nur produktiven Code? </h3><br><p>  W√§hrend die Leistung Ihres Produkts oder Ihrer Website wichtig ist, ist auch das Aussehen Ihres Codes wichtig.  Der Grund daf√ºr ist, dass <strong>nicht nur das Ger√§t Ihren Code liest</strong> . </p><a name="habracut"></a><br><p>  Erstens m√ºssen Sie fr√ºher oder sp√§ter Ihren eigenen Code erneut lesen, und wenn dies der Fall ist, hilft Ihnen nur gut geschriebener Code, zu verstehen, was Sie geschrieben haben, oder herauszufinden, wie Sie ihn beheben k√∂nnen. </p><br><p>  Zweitens, wenn Sie in einem Team arbeiten oder mit anderen Entwicklern zusammenarbeiten, lesen alle Mitglieder des Teams Ihren Code und versuchen, ihn so zu interpretieren, wie sie es verstehen.  Um es ihnen einfacher zu machen, ist es wichtig, beim Benennen von Variablen und Funktionen bestimmte Regeln zu befolgen, die L√§nge jeder Zeile zu begrenzen und die Struktur Ihres Codes beizubehalten. </p><br><p>  Schauen wir uns zum Schluss ein konkretes Beispiel an. </p><br><h2 id="chast-1-kak-opredelit-plohoy-kod">  Teil 1: Wie identifiziere ich schlechten Code? </h2><br><p>  Der einfachste Weg, schlechten Code zu identifizieren, besteht meiner Meinung nach darin, <strong>zu versuchen, den Code so zu lesen, als w√§re es ein Satz oder eine Phrase</strong> . </p><br><p>  Schauen Sie sich zum Beispiel diesen Code an: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/552/48c/156/55248c156e1ada5ace2f4cc00c42473a.jpg" alt="Screenshot einer fehlerhaften Version von traverseUpUntil"></p><br><p>  Screenshot einer fehlerhaften Version von traverseUpUntil </p><br><p>  Die oben dargestellte Funktion akzeptiert ein Element und eine bedingte Funktion und gibt den n√§chsten √ºbergeordneten Knoten zur√ºck, der die bedingte Funktion erf√ºllt. </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el, f</span></span></span><span class="hljs-function">) =&gt;</span></span> {</code> </pre> <br><p>  Basierend auf der Tatsache, dass der Code wie einfacher Text gelesen werden sollte, weist die erste Zeile drei grobe Fehler auf. </p><br><ul><li>  <strong>Funktionsparameter werden nicht wie W√∂rter gelesen</strong> . </li><li>  Angenommen, <code>el</code> kann verstanden werden, da ein solcher Name normalerweise zur Bezeichnung eines Elements verwendet wird, der Name des Parameters <code>f</code> √ºberhaupt nichts erkl√§rt. </li><li>  Der Name der Funktion kann folgenderma√üen gelesen werden: "Schalter, bis el f passiert", was wahrscheinlich am besten als "Schalter, bis f f√ºr el geht" gelesen wird.  Der beste Weg, dies zu tun, besteht nat√ºrlich darin, die Funktion als <code>el.traverseUpUntil(f)</code> zu lassen, aber dies ist ein weiteres Problem. </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> p = el.parentNode</code> </pre> <br><p>  Dies ist die zweite Zeile.  Wieder das Problem mit den Namen, diesmal mit der Variablen.  Wenn sich jemand den Code ansieht, wird er h√∂chstwahrscheinlich verstehen, was <code>p</code> .  Dies ist der <code>parentNode</code> <code>el</code> Parameters.  Was jedoch passiert, wenn wir uns <code>p</code> ansehen, das an anderer Stelle verwendet wird, haben <strong>wir keinen Kontext mehr, der erkl√§rt, was es ist</strong> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (p.parentNode &amp;&amp; !f(p)) {</code> </pre> <br><p>  In der n√§chsten Zeile besteht das Hauptproblem darin, dass wir nicht verstehen, was <code>!f(p)</code> bedeutet oder tut, weil <strong>‚Äûf‚Äú alles bedeuten kann</strong> .  Es wird angenommen, dass die Person, die den Code liest, verstehen sollte, dass <code>!f(p)</code> eine √úberpr√ºfung des aktuellen Knotens ist, um eine bestimmte Bedingung zu erf√ºllen.  Wenn es vorbei ist, wird der Zyklus unterbrochen. </p><br><pre> <code class="javascript hljs">p = p.parentNode</code> </pre> <br><p>  Hier ist alles klar. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> p</code> </pre> <br><p>  Es ist nicht ganz offensichtlich, was aufgrund eines ung√ºltigen Variablennamens zur√ºckgegeben wird. </p><br><h2 id="chast-2-davayte-otrefaktorim">  Teil 2: Lassen Sie uns umgestalten </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2ac/501/5fb/2ac5015fbc682423616325ec10dddf5e.jpg" alt="Screenshot einer guten Version von traverseUpUntil"></p><br><p>  Screenshot einer guten Version von traverseUpUntil </p><br><p>  Zuerst √§ndern wir die Namen der Parameter und ihre Reihenfolge: <code>(el, f) =&gt;</code> bis <code>(condition, node) =&gt;</code> . <br>  Sie fragen sich vielleicht, warum ich anstelle von "Element (russisches <em>Element</em> )" Knoten "(russischer <em>Knoten</em> ) verwendet habe.  Ich habe es aus folgenden Gr√ºnden verwendet: </p><br><ul><li>  Wir schreiben Code in Form von Knoten, zum Beispiel <code>.parentNode</code> . Warum also nicht konsistent machen <code>.parentNode</code> </li><li>  "Knoten" ist k√ºrzer als "Element" und die <strong>Bedeutung geht nicht verloren</strong> . </li></ul><br><p>  Dann gehen wir weiter zu den Variablennamen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> parent = node</code> </pre> <br><p>  Es ist sehr wichtig <strong>, den Wert Ihrer Variablen in ihrem Namen vollst√§ndig anzugeben</strong> , daher ist "p" jetzt "Eltern" (russische <em>Eltern</em> ).  M√∂glicherweise haben Sie auch bemerkt, dass wir jetzt nicht mehr mit dem √ºbergeordneten <code>node.parentNode</code> , sondern nur mit dem Knoten. </p><br><p>  Wir gehen weiter: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { parent = parent.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (parent.parentNode &amp;&amp; !condition(parent))</code> </pre> <br><p>  Anstelle der √ºblichen <code>while</code> ich die <code>do ... while</code> .  Dies bedeutet, dass wir den √ºbergeordneten Knoten jedes Mal abrufen m√ºssen, bevor wir die Bedingungen √ºberpr√ºfen, und nicht umgekehrt.  Die Verwendung der <code>do ... while</code> hilft auch dabei, Code wie einfachen Text zu lesen. </p><br><p>  Versuchen wir zu lesen: <strong>"Weisen Sie den √ºbergeordneten Knoten des √ºbergeordneten Knotens dem √ºbergeordneten Knoten zu, solange der √ºbergeordnete Knoten einen √ºbergeordneten Knoten hat und die Bedingungsfunktion nicht true zur√ºckgibt</strong> . <strong>"</strong>  Schon viel klarer. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parent</code> </pre> <br><p>  Oft bevorzugen Entwickler die Verwendung einer allgemeinen Variablen <code>ret</code> (oder <code>returnValue</code> ), <strong>aber dies ist eine ziemlich schlechte Praxis</strong> .  Wenn Sie Ihre R√ºckgabevariablen korrekt benennen, wird deutlich, was zur√ºckgegeben wird.  Manchmal k√∂nnen Funktionen jedoch lang und komplex sein, was zu gro√üer Verwirrung f√ºhrt.  In diesem Fall <strong>w√ºrde ich vorschlagen, Ihre Funktion in mehrere Funktionen zu unterteilen</strong> . Wenn dies immer noch zu kompliziert ist, kann das Hinzuf√ºgen von Kommentaren m√∂glicherweise hilfreich sein. </p><br><h2 id="chast-3-uproschenie-koda">  Teil 3: Code-Vereinfachung </h2><br><p>  Nachdem Sie den Code lesbar gemacht haben, ist es Zeit <strong>, den unn√∂tigen Code zu entfernen</strong> .  Ich bin sicher, dass einige von Ihnen bereits bemerkt haben, dass wir die <code>parent</code> Variable √ºberhaupt nicht ben√∂tigen. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">condition, node</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { node = node.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (node.parentNode &amp;&amp; !condition(node)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> node }</code> </pre> <br><p>  Ich habe einfach die erste Zeile entfernt und "Eltern" durch "Knoten" ersetzt.  Also habe ich den unn√∂tigen Schritt des Erstellens eines ‚ÄûElternteils‚Äú √ºbersprungen und bin direkt in die Schleife gegangen. </p><br><h3 id="no-chto-naschyot-imeni-peremennoy">  Aber was ist mit dem Variablennamen? </h3><br><p>  Obwohl "Knoten" nicht die beste Beschreibung f√ºr diese Variable ist, ist sie zufriedenstellend.  Aber lasst uns hier nicht aufh√∂ren, lasst es uns umbenennen.  Was ist mit "currentNode"? </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traverseUpUntil = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">condition, currentNode</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { currentNode = currentNode.parentNode } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (currentNode.parentNode &amp;&amp; !condition(currentNode)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentNode }</code> </pre> <br><p>  Das ist besser!  Wenn wir nun die Methode lesen, wissen wir, dass <code>currentNode</code> immer den Knoten darstellt, in dem wir uns gerade befinden, anstatt ein "irgendeiner Art" Knoten zu sein. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421867/">https://habr.com/ru/post/de421867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421851/index.html">Probleme mit Eulen und Globus: Verbinden von zwei Assemblys mit identischen Namespaces und Klassennamen</a></li>
<li><a href="../de421855/index.html">Heimprojektoren: die besten "je nach Version", ultrakurzer Fokus, Meister in Helligkeit und Geschwindigkeit</a></li>
<li><a href="../de421857/index.html">ToFoIn v 1. Reservierung von Gateways und Umschalten zwischen externen Kan√§len in FreeBSD</a></li>
<li><a href="../de421859/index.html">Hinweise des IoT-Anbieters. Ger√§te und √ºberbieten</a></li>
<li><a href="../de421863/index.html">Ein neuer Weg, Nanor√∂hren herzustellen: jetzt in Farbe</a></li>
<li><a href="../de421869/index.html">Erstellen Sie mit dem Firebase ML Kit eine Android-Anwendung zur Gesichtserkennung in Echtzeit</a></li>
<li><a href="../de421871/index.html">So scheitern Sie kl√§glich von der Java- zur Kotlin-Migration in einer Android-Anwendung</a></li>
<li><a href="../de421873/index.html">Kotlin Design Patterns</a></li>
<li><a href="../de421875/index.html">SENS-Diagnose. Intrazellul√§re "M√ºll" -Biomarker</a></li>
<li><a href="../de421877/index.html">Tiefes Eintauchen in den .idea-Ordner in Android Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>