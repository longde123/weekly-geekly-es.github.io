<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèº‚Äçü§ù‚Äçüßëüèª üíã üçØ Betriebssysteme: Drei einfache Teile. Teil 3: Prozess-API (√úbersetzung) üßìüèº üëéüèæ üëÇüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einf√ºhrung in Betriebssysteme 
 Hallo Habr! Ich m√∂chte Sie auf eine Reihe von Artikel√ºbersetzungen einer meiner Meinung nach interessanten Literatur a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Betriebssysteme: Drei einfache Teile. Teil 3: Prozess-API (√úbersetzung)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447182/"><h1>  Einf√ºhrung in Betriebssysteme </h1><br>  Hallo Habr!  Ich m√∂chte Sie auf eine Reihe von Artikel√ºbersetzungen einer meiner Meinung nach interessanten Literatur aufmerksam machen - OSTEP.  Dieser Artikel beschreibt ziemlich ausf√ºhrlich die Arbeit von Unix-√§hnlichen Betriebssystemen, n√§mlich die Arbeit mit Prozessen, verschiedenen Schedulern, Speicher und anderen √§hnlichen Komponenten, aus denen das moderne Betriebssystem besteht.  Das Original aller Materialien k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier sehen</a> .  Bitte beachten Sie, dass die √úbersetzung unprofessionell (ziemlich frei) durchgef√ºhrt wurde, aber ich hoffe, dass ich die allgemeine Bedeutung beibehalten habe. <br><br>  Laborarbeiten zu diesem Thema finden Sie hier: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Original</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Original</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">meine pers√∂nliche Anpassung</a> </li></ul><br>  Andere Teile: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1: Intro</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2: Abstraktion: der Prozess</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3: Einf√ºhrung in die Prozess-API</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4: Einf√ºhrung in den Scheduler</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5: MLFQ Scheduler</a> </li></ul><br>  Und du kannst meinen Kanal im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Telegramm</a> ansehen =) <br><a name="habracut"></a><br>  <b>Alarm!</b>  F√ºr diese Vorlesung gibt es ein Labor!  schau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dir github an</a> <br><br><h2>  Prozess-API </h2><br><br>  Betrachten Sie ein Beispiel f√ºr das Erstellen eines Prozesses auf einem UNIX-System.  Dies geschieht durch zwei Systemaufrufe <b>fork ()</b> und <b>exec ()</b> . <br><br><h3>  Fork () -Aufruf </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/1c2/8cf/bc3/1c28cfbc3118476d2601d0ff26f7c59a.jpg" alt="Bild"><br><br>  Stellen Sie sich ein Programm vor, das einen fork () -Aufruf ausf√ºhrt.  Das Ergebnis seiner Implementierung wird wie folgt sein. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ba/93b/4f9/1ba93b4f9b7722347477f9af19586f08.jpg" alt="Bild"><br><br>  Zun√§chst geben wir die Funktion main () ein und f√ºhren die Ausgabe der Zeichenfolge auf dem Bildschirm aus.  Die Zeichenfolge enth√§lt die Prozesskennung, die im Original als <b>PID</b> oder Prozesskennung bezeichnet wird.  Diese Kennung wird unter UNIX verwendet, um auf einen Prozess zu verweisen.  Der n√§chste Befehl ruft fork () auf.  Zu diesem Zeitpunkt wird eine fast exakte Kopie des Prozesses erstellt.  F√ºr das Betriebssystem sieht es so aus, als w√ºrde das System so ausgef√ºhrt, als ob zwei Kopien desselben Programms die Funktion fork () beenden w√ºrden.  Der neu erstellte untergeordnete Prozess (relativ zu dem √ºbergeordneten Prozess, der ihn erstellt hat) wird nicht mehr ausgef√ºhrt, beginnend mit der Funktion main ().  Es ist zu beachten, dass der untergeordnete Prozess keine exakte Kopie des √ºbergeordneten Prozesses ist, insbesondere hat er einen eigenen Adressraum, eigene Register, einen eigenen Zeiger auf ausf√ºhrbare Anweisungen und dergleichen.  Daher ist der an den Aufrufer der Funktion fork () zur√ºckgegebene Wert unterschiedlich.  Insbesondere erh√§lt der √ºbergeordnete Prozess den PID-Wert des Prozesses des Kindes als R√ºckgabe, und das Kind erh√§lt einen Wert gleich 0. Basierend auf diesen R√ºckgabecodes ist es bereits m√∂glich, die Prozesse zu trennen und jeden von ihnen zu zwingen, seine Arbeit zu erledigen.  Dar√ºber hinaus ist die Ausf√ºhrung dieses Programms nicht genau definiert.  Nach der Aufteilung in zwei Prozesse beginnt das Betriebssystem, diesen ebenfalls zu folgen und ihre Arbeit zu planen.  Bei der Ausf√ºhrung auf einem Single-Core-Prozessor funktioniert einer der Prozesse weiter, in diesem Fall der √ºbergeordnete und dann der untergeordnete Prozess.  Beim Neustart kann die Situation anders sein. <br><br><h3>  Rufen Sie wait () an </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/ddd/a05/362/ddda05362e52440bb4428f32e6be4b56.jpg" alt="Bild"><br><br>  Betrachten Sie das folgende Programm.  In diesem Programm <b>wartet</b> der √ºbergeordnete Prozess aufgrund des Vorhandenseins des Aufrufs <b>wait ()</b> immer darauf, dass der untergeordnete Prozess seine Arbeit beendet.  In diesem Fall erhalten wir eine streng definierte Textausgabe auf dem Bildschirm. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/611/ca4/3f5/611ca43f586590836259eb1ebfdfe5f1.jpg" alt="Bild"><br><br><h3>  Rufen Sie exec () auf </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/a1c/50e/9ac/a1c50e9acba31fa12983d15a95f2b969.jpg" alt="Bild"><br><br>  Betrachten Sie den Aufruf von <b>exec ()</b> .  Dieser Systemaufruf ist n√ºtzlich, wenn wir ein v√∂llig anderes Programm ausf√ºhren m√∂chten.  Hier rufen wir <b>execvp ()</b> auf, um das Programm wc auszuf√ºhren, bei dem es sich um ein <b>Wortz√§hlprogramm</b> handelt.  Was passiert, wenn exec () aufgerufen wird?  Der Name der ausf√ºhrbaren Datei und einige Parameter werden als Argumente an diesen Aufruf √ºbergeben.  Danach werden der Code und die statischen Daten aus dieser ausf√ºhrbaren Datei heruntergeladen und ein eigenes Segment mit Code √ºberschrieben.  Die verbleibenden Speicherbereiche wie Stapel und Heap werden neu initialisiert.  Danach f√ºhrt das Betriebssystem das Programm einfach aus und √ºbergibt ihm eine Reihe von Argumenten.  Wir haben also keinen neuen Prozess erstellt, sondern einfach das aktuell laufende Programm in ein anderes laufendes Programm umgewandelt.  Nach der Ausf√ºhrung von exec () erweckt der Nachkomme den Eindruck, dass das urspr√ºngliche Programm im Prinzip nicht gestartet zu sein schien. <br><br>  Diese Komplikation beim Starten ist f√ºr die Unix-Shell absolut normal und erm√∂glicht es dieser Shell, Code nach dem Aufruf von <b>fork ()</b> , jedoch vor dem Aufruf von <b>exec ()</b> auszuf√ºhren.  Ein Beispiel f√ºr einen solchen Code kann darin bestehen, die Umgebung der Shell an die Anforderungen des zu startenden Programms anzupassen, bevor es direkt gestartet wird. <br><br>  <b>Shell</b> ist nur ein Anwenderprogramm.  Sie zeigt Ihnen die Eingabeaufforderung und wartet darauf, dass Sie etwas darauf schreiben.  Wenn Sie dort den Namen des Programms schreiben, findet die Shell in den meisten F√§llen ihren Speicherort, ruft die fork () -Methode auf. Um einen neuen Prozess zu erstellen, ruft sie einige der exec () -Typen auf und wartet, bis sie mit dem wait () -Aufruf ausgef√ºhrt wird.  Wenn der untergeordnete Prozess beendet ist, kehrt die Shell vom Aufruf wait () zur√ºck, zeigt die Eingabeaufforderung erneut an und wartet auf die Eingabe des n√§chsten Befehls. <br><br>  Durch die Trennung von fork () und exec () kann die Shell beispielsweise Folgendes ausf√ºhren: <br>  <b>wc file&gt; new_file.</b> <br><br>  In diesem Beispiel wird die Ausgabe von wc in eine Datei umgeleitet.  Die Art und Weise, wie die Shell dies erreicht, ist recht einfach: Wenn Sie einen <b>untergeordneten</b> Prozess erstellen, bevor Sie <b>exec ()</b> aufrufen, schlie√üt die Shell den Standardausgabestream und √∂ffnet die Datei <b>new_file</b> , sodass die gesamte Ausgabe des gestarteten <b>wc-</b> Programms in die Datei anstatt auf den Bildschirm umgeleitet wird. <br><br>  <b>Unix-Pipes werden</b> auf √§hnliche Weise implementiert, mit dem Unterschied, dass sie den Befehl pipe () verwenden.  In diesem Fall wird der Ausgabestream des Prozesses mit der Pipe-Warteschlange im Kernel verbunden, an die der Eingabestream eines anderen Prozesses angeh√§ngt wird. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447182/">https://habr.com/ru/post/de447182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447168/index.html">Lokales autonomes Datenerfassungssystem</a></li>
<li><a href="../de447172/index.html">Fast der einfachste MIMO-Kanal mit Fading (Kronecker-Modell enthalten)</a></li>
<li><a href="../de447174/index.html">Der Mythos des Personalhungers oder die Grundregeln f√ºr offene Stellen</a></li>
<li><a href="../de447178/index.html">5 effektive M√∂glichkeiten f√ºr den Einsatz von Process Mining-Technologie</a></li>
<li><a href="../de447180/index.html">√úbersicht und Vergleich von Ingress Controllern f√ºr Kubernetes</a></li>
<li><a href="../de447184/index.html">Was ist Initial Exchange Offering (IEO) und wie unterscheidet es sich von ICO?</a></li>
<li><a href="../de447186/index.html">So starten Sie einen ML-Prototyp an einem Tag. Bericht Yandex.Taxi</a></li>
<li><a href="../de447190/index.html">Vorhersagen von Mathematikern. Wir analysieren die wichtigsten Methoden zur Erkennung von Anomalien</a></li>
<li><a href="../de447192/index.html">Welche Rolle kann Technologie in der alten Kunst des Gew√ºrzmischens spielen?</a></li>
<li><a href="../de447194/index.html">Rendering-Funktionen in Metro: Exodus c Raytracing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>