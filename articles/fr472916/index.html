<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéµ üç∂ üë®üèº‚Äç‚öñÔ∏è Backend, machine learning et serverless sont les plus int√©ressants de la conf√©rence de juillet Habr üë®üèæ‚Äç‚öñÔ∏è üë®üèª‚Äçüöí ü§≤üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Conf√©rence Habr - l'histoire n'est pas une premi√®re. Nous avions l'habitude de tenir des √©v√©nements assez grands Toaster pour 300-400 personnes, mais ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Backend, machine learning et serverless sont les plus int√©ressants de la conf√©rence de juillet Habr</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/habr/blog/472916/">  Conf√©rence Habr - l'histoire n'est pas une premi√®re.  Nous avions l'habitude de tenir des √©v√©nements assez grands Toaster pour 300-400 personnes, mais maintenant nous avons d√©cid√© que les petites r√©unions th√©matiques seront pertinentes, dont vous pouvez √©galement d√©finir la direction - par exemple, dans les commentaires.  La premi√®re conf√©rence de ce format s'est tenue en juillet et √©tait d√©di√©e au d√©veloppement backend.  Les participants ont √©cout√© les rapports sur les caract√©ristiques de la transition du backend au ML et sur la conception du service Quadrupel sur le portail des services d'√âtat, et ont √©galement particip√© √† une table ronde consacr√©e √† Serverless.  Pour ceux qui n'ont pas pu assister √† l'√©v√©nement personnellement, dans ce post, nous racontons les plus int√©ressants. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9bd/04a/8ab/9bd04a8ab9b6a12c0d985c7d2a13bc3e.jpg"><br><a name="habracut"></a><br><h2>  Du d√©veloppement backend au machine learning </h2><br>  Que font les ing√©nieurs de donn√©es ML?  Quelles sont les similitudes et les diff√©rences entre les t√¢ches du d√©veloppeur backend et de l'ing√©nieur ML?  Quel chemin faut-il emprunter pour changer le premier m√©tier en deuxi√®me?  Cela a √©t√© dit par Alexander Parinov, qui est entr√© dans l'apprentissage automatique apr√®s 10 ans de backend. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/71d/4b7/e23/71d4b7e2307b78cefd6f1868a33b983d.jpg"><br>  <i>Alexander Parinov</i> <br><br>  Aujourd'hui, Alexander travaille comme architecte de syst√®mes de vision par ordinateur au sein du X5 Retail Group et contribue √† des projets open source li√©s √† la vision par ordinateur et au deep learning (github.com/creafz).  Ses comp√©tences sont confirm√©es par sa participation dans le top 100 du classement mondial Kaggle Master (kaggle.com/creafz) - la plateforme la plus populaire qui accueille des comp√©titions de machine learning. <br><br><h3>  Pourquoi passer √† l'apprentissage automatique </h3><br>  Il y a un an et demi, Jeff Dean, chef de Google Brain, le projet de recherche en intelligence artificielle de Google, a expliqu√© √† Google comment un demi-million de lignes de code dans Google Translate ont √©t√© remplac√©es par un r√©seau neuronal avec Tensor Flow, qui ne comprend que 500 lignes.  Apr√®s la formation du r√©seau, la qualit√© des donn√©es a augment√© et l'infrastructure a √©t√© simplifi√©e.  Il semblerait que voici notre brillant avenir: ne plus avoir √† √©crire du code, juste faire des neurones et les jeter avec des donn√©es.  Mais en pratique, tout est beaucoup plus compliqu√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e1/ef3/f8d/6e1ef3f8d1dc8a5c0b9997d067fd42e0.png">  <i>Infrastructure Google ML</i> <br><br>  Les r√©seaux de neurones ne sont qu'une petite partie de l'infrastructure (une petite bo√Æte noire dans l'image ci-dessus).  De nombreux autres syst√®mes auxiliaires sont n√©cessaires pour recevoir des donn√©es, les traiter, les stocker, v√©rifier la qualit√©, etc., nous avons besoin de l'infrastructure pour la formation, d√©ployer du code d'apprentissage automatique en production, tester ce code.  Toutes ces t√¢ches sont exactement comme ce que font les d√©veloppeurs backend. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a40/21b/908/a4021b9083599fca9590b8e4e86f264e.png">  <i>Processus d'apprentissage automatique</i> <br><br><h3>  Quelle est la diff√©rence entre ML et backend </h3><br>  En programmation classique, nous √©crivons du code, ce qui dicte le comportement du programme.  En ML, nous avons un petit code de mod√®le et beaucoup de donn√©es avec lesquelles nous d√©posons le mod√®le.  Les donn√©es en ML sont tr√®s importantes: le m√™me mod√®le, form√© avec des donn√©es diff√©rentes, peut montrer des r√©sultats compl√®tement diff√©rents.  Le probl√®me est que presque toujours les donn√©es sont fragment√©es et se trouvent dans diff√©rents syst√®mes (bases de donn√©es relationnelles, bases de donn√©es NoSQL, journaux, fichiers). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/337/654/f0f/337654f0fe47cacf9bc67106a4220f27.png">  <i>Versionnage des donn√©es</i> <br><br>  ML n√©cessite non seulement le versioning du code, comme dans le d√©veloppement classique, mais aussi des donn√©es: il est n√©cessaire de bien comprendre sur quoi le mod√®le a √©t√© form√©.  Pour cela, vous pouvez utiliser la biblioth√®que populaire Data Science Version Control (dvc.org). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c6/72e/c94/8c672ec94474cfe5514c2cd63ef7e19d.png"><br>  <i>Balisage des donn√©es</i> <br><br>  La t√¢che suivante est le balisage des donn√©es.  Par exemple, marquez tous les objets de l'image ou dites √† quelle classe il appartient.  Cela se fait par des services sp√©ciaux comme Yandex.Tolki, le travail avec lequel simplifie consid√©rablement la disponibilit√© de l'API.  Des difficult√©s surviennent du fait du ¬´facteur humain¬ª: il est possible d'am√©liorer la qualit√© des donn√©es et de minimiser les erreurs en confiant la m√™me t√¢che √† plusieurs interpr√®tes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/106/5a6/ead/1065a6eadbc73ed0b75a57c7b5f81a4b.png">  <i>Visualisation dans Tensor Board</i> <br><br>  L'enregistrement des exp√©riences est n√©cessaire pour comparer les r√©sultats et choisir le meilleur mod√®le pour certaines mesures.  Pour la visualisation, il existe un large √©ventail d'outils - par exemple, Tensor Board.  Mais il n'y a pas de m√©thode id√©ale pour stocker les exp√©riences.  Dans les petites entreprises, ils se d√©brouillent souvent avec une plaque Excel, dans les grandes entreprises, ils utilisent des plates-formes sp√©ciales pour stocker les r√©sultats dans la base de donn√©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c2/bf3/74f/0c2bf374fc82ea80c96757253e2575b1.png">  <i>Il existe de nombreuses plates-formes d'apprentissage automatique, mais aucune d'entre elles ne couvre m√™me 70% des besoins</i> <br><br>  Le premier probl√®me auquel vous devez faire face lorsque vous amenez un mod√®le form√© √† la production est li√© √† votre outil de data scientist pr√©f√©r√© - Jupyter Notebook.  Il n'y a aucune modularit√©, c'est-√†-dire que la sortie est une telle ¬´chute de code¬ª qui n'est pas divis√©e en √©l√©ments logiques - modules.  Tout est m√©lang√©: classes, fonctions, configurations, etc. Ce code est difficile √† versionner et √† tester. <br><br>  Comment y faire face?  Vous pouvez supporter Netflix et cr√©er votre propre plateforme qui vous permet d'ex√©cuter ces ordinateurs portables directement en production, de leur transf√©rer des donn√©es et d'obtenir le r√©sultat.  Vous pouvez forcer les d√©veloppeurs qui lancent le mod√®le en production √† r√©√©crire le code normalement, √† le diviser en modules.  Mais avec cette approche, il est facile de se tromper et le mod√®le ne fonctionnera pas comme pr√©vu.  Par cons√©quent, l'option id√©ale est d'interdire l'utilisation de Jupyter Notebook pour le code du mod√®le.  Si, bien s√ªr, les Data Scientists acceptent cela. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fee/071/6bf/fee0716bf440a4cf5a28b405c0a4f775.png">  <i>Mod√®le en bo√Æte noire</i> <br><br>  La fa√ßon la plus simple d'amener un mod√®le en production est de l'utiliser comme bo√Æte noire.  Vous avez une classe du mod√®le, les poids du mod√®le (param√®tres des neurones du r√©seau form√©) vous ont √©t√© transmis, et si vous initialisez cette classe (appelez la m√©thode de pr√©diction, mettez une image dessus), la sortie obtiendra une sorte de pr√©diction.  Ce qui se passe √† l'int√©rieur n'a pas d'importance. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ed/1dc/5a3/7ed1dc5a3f28c94339439c1625a2263d.png"><br>  <i>Processus de serveur s√©par√© avec un mod√®le</i> <br><br>  Vous pouvez √©galement choisir un processus distinct et l'envoyer via la file d'attente RPC (avec des images ou d'autres donn√©es sources. √Ä la sortie, nous recevrons des pr√©dictions. <br><br>  Un exemple d'utilisation du mod√®le dans Flask: <br><br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@app.route("/predict", methods=["POST"]) def predict(): image = flask.request.files["image"].read() image = preprocess_image(image) predictions = model.predict(image) return jsonify_prediction(predictions)</span></span></code> </pre> <br>  Le probl√®me avec cette approche est la limitation des performances.  Supposons que nous ayons un code Phyton √©crit par des scientifiques des donn√©es qui ralentisse et que nous voulons r√©duire les performances maximales.  Pour ce faire, vous pouvez utiliser des outils qui convertissent le code en natif ou le convertissent en un autre framework, affin√© pour la production.  Il existe de tels outils pour chaque framework, mais il n'y a pas d'outils id√©aux, vous devrez le finir vous-m√™me. <br><br>  L'infrastructure en ML est la m√™me que dans un backend r√©gulier.  Il existe Docker et Kubernetes, uniquement pour Docker, vous devez d√©finir le runtime NVIDIA, qui permet aux processus √† l'int√©rieur du conteneur d'acc√©der aux cartes vid√©o de l'h√¥te.  Kubernetes a besoin d'un plugin pour g√©rer les serveurs avec des cartes vid√©o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e2/d36/09d/5e2d3609d69dc2930e63945ab2dcb97d.png"><br><br>  Contrairement √† la programmation classique, dans le cas du ML, l'infrastructure comporte de nombreux √©l√©ments mobiles diff√©rents qui doivent √™tre v√©rifi√©s et test√©s - par exemple, le code de traitement des donn√©es, le pipeline de formation des mod√®les et la production (voir le diagramme ci-dessus).  Il est important de tester le code qui relie diff√©rents morceaux de pipelines: il y en a beaucoup, et des probl√®mes surviennent tr√®s souvent aux fronti√®res des modules. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c81/f25/9b4/c81f259b4781c850a896b5dbeb6d0302.png"><br>  <i>Fonctionnement d'AutoML</i> <br><br>  Les services AutoML promettent de s√©lectionner le meilleur mod√®le pour vos objectifs et de le former.  Mais vous devez comprendre: en ML, les donn√©es sont tr√®s importantes, le r√©sultat d√©pend de leur pr√©paration.  Les gens balisent, ce qui est lourd d'erreurs.  Sans contr√¥le rigoureux, les ordures peuvent se r√©v√©ler, mais l'automatisation ne fonctionne pas encore; v√©rification par des experts - des scientifiques des donn√©es sont n√©cessaires.  C'est l√† que AutoML ¬´casse¬ª.  Mais cela peut √™tre utile pour la s√©lection de l'architecture - lorsque vous avez d√©j√† pr√©par√© les donn√©es et que vous souhaitez mener une s√©rie d'exp√©riences pour trouver le meilleur mod√®le. <br><br><h3>  Comment entrer dans l'apprentissage automatique </h3><br>  Entrer dans ML est plus facile si vous d√©veloppez en Python, qui est utilis√© dans tous les cadres d'apprentissage profond (et les cadres r√©guliers).  Cette langue est pratiquement requise pour ce domaine d'activit√©.  Le C ++ est utilis√© pour certaines t√¢ches avec vision par ordinateur - par exemple, dans les syst√®mes de contr√¥le de v√©hicules sans pilote.  JavaScript et Shell - pour la visualisation et des choses √©tranges telles que le lancement d'un neurone dans un navigateur.  Java et Scala sont utilis√©s lorsque vous travaillez avec le Big Data et pour l'apprentissage automatique.  R et Julia sont aim√©es des gens qui font des statistiques. <br><br>  Obtenir une exp√©rience pratique pour commencer est plus pratique chez Kaggle, la participation √† l'un des concours de la plate-forme donne plus d'un an d'√©tude de la th√©orie.  Sur cette plate-forme, vous pouvez prendre le code mis en page et comment√© de quelqu'un et essayer de l'am√©liorer, d'optimiser vos objectifs.  Le rang de bonus sur Kaggle affecte votre salaire. <br><br>  Une autre option est d'aller en tant que d√©veloppeur backend √† l'√©quipe ML.  Maintenant, il y a beaucoup de startups impliqu√©es dans l'apprentissage automatique, dans lesquelles vous acqu√©rez de l'exp√©rience en aidant vos coll√®gues √† r√©soudre leurs probl√®mes.  Enfin, vous pouvez rejoindre l'une des communaut√©s de scientifiques des donn√©es - Open Data Science (ods.ai) et d'autres. <br><br>  <i>L'orateur a plac√© des informations suppl√©mentaires sur le sujet √† l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">adresse https://bit.ly/backend-to-ml</a></i> <i><br></i> <br><br><h2>  ¬´Quadrupel¬ª - le service de notifications cibl√©es du portail ¬´State Services¬ª </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a44/cf2/054/a44cf20548a8c0798c440c878570afff.jpg">  Evgeny Smirnov <br><br>  L'orateur suivant √©tait Yevgeny Smirnov, chef du d√©partement de d√©veloppement des infrastructures d'e-gouvernement, qui a parl√© du Quadrupel.  Il s'agit d'un service de notification cibl√© du portail Gosuslugi (gosuslugi.ru), la ressource d'√âtat la plus visit√©e sur Internet russe.  L'audience quotidienne est de 2,6 millions, au total, 90 millions d'utilisateurs sont inscrits sur le site, dont 60 millions confirm√©s.  La charge sur l'API du portail est de 30 000 RPS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b8/e5a/e05/3b8e5ae05d254b59de3b67093a7b0a47.png">  <i>Technologies utilis√©es dans le backend Gosuslug</i> <br><br>  ¬´Quadruple¬ª est un service de notification d'adresse, √† l'aide duquel l'utilisateur re√ßoit une offre de service au moment qui lui convient le mieux en mettant en place des r√®gles sp√©ciales d'information.  Les principales exigences dans le d√©veloppement du service √©taient des param√®tres flexibles et un temps suffisant pour l'envoi. <br><br><h3>  Comment fonctionne le Quadruple? </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/4a3/d78/484/4a3d78484bbe63c0ef0f1f439125b816.png"><br><br>  Le sch√©ma ci-dessus montre une des r√®gles du "Quadruple" sur l'exemple d'une situation avec la n√©cessit√© de remplacer un permis de conduire.  Tout d'abord, le service recherche les utilisateurs dont la date d'expiration expire dans un mois.  Ils ont mis en place une banni√®re avec une offre pour recevoir le service correspondant et envoyer un message √©lectronique.  Pour les utilisateurs qui ont d√©j√† expir√©, la banni√®re et l'e-mail changent.  Apr√®s un √©change de droits r√©ussi, l'utilisateur re√ßoit d'autres notifications - avec une proposition de mise √† jour des donn√©es du certificat. <br><br>  D'un point de vue technique, ce sont des scripts groovy dans lesquels le code est √©crit.  √Ä l'entr√©e - donn√©es, √† la sortie - vrai / faux, appari√© / non appari√©.  Au total, plus de 50 r√®gles - de la d√©termination de l'anniversaire de l'utilisateur (la date actuelle est √©gale √† l'anniversaire de l'utilisateur) aux situations difficiles.  Chaque jour, selon ces r√®gles, environ un million de correspondances sont d√©termin√©es - des personnes qui doivent √™tre inform√©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/018/480/a99/018480a990a48fb2d6af080d4e16d20c.png">  <i>Quadruple canaux de notification</i> <br><br>  Sous le capot du Quadrupel se trouve une base de donn√©es dans laquelle sont stock√©es les donn√©es des utilisateurs, et trois applications: <br><br><ul><li>  <b>Worker est</b> con√ßu pour mettre √† jour les donn√©es. <br></li><li>  <b>L'API Rest</b> reprend et donne les banni√®res elles-m√™mes au portail et √† l'application mobile. <br></li><li>  <b>Le planificateur</b> lance des recomptages de banni√®res ou des envois group√©s. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/fe6/b64/57f/fe6b6457f25777215b56879621a2a0f9.png"><br><br>  Le backend est orient√© √©v√©nement pour la mise √† jour des donn√©es.  Deux interfaces - repos ou JMS.  Il existe de nombreux √©v√©nements, avant qu'ils ne soient enregistr√©s et trait√©s, ils sont agr√©g√©s afin de ne pas faire de demandes inutiles.  La base de donn√©es elle-m√™me, la plaque dans laquelle les donn√©es sont stock√©es, ressemble √† un stockage de valeur cl√© - la cl√© de l'utilisateur et la valeur elle-m√™me: des drapeaux indiquant la pr√©sence ou l'absence de documents pertinents, leur p√©riode de validit√©, des statistiques agr√©g√©es sur l'ordre des services par cet utilisateur, etc. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ee/0d6/89b/5ee0d689be5f4dd6a2deb353b3523316.png"><br><br>  Apr√®s avoir enregistr√© les donn√©es, la t√¢che est d√©finie dans JMS afin que les banni√®res soient imm√©diatement recompt√©es - cela doit √™tre imm√©diatement affich√© sur le Web.  Le syst√®me d√©marre la nuit: dans JMS, les t√¢ches sont lanc√©es √† des intervalles utilisateur, selon lesquels vous devez recompter les r√®gles.  Ceci est repris par les recompteurs.  En outre, les r√©sultats du traitement tombent dans la file d'attente suivante, qui enregistre les banni√®res dans la base de donn√©es ou envoie des t√¢ches √† l'utilisateur pour avertir l'utilisateur.  Le processus prend 5 √† 7 heures, il est facilement √©volutif car vous pouvez toujours supprimer des processeurs ou augmenter les instances avec de nouveaux processeurs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca9/491/685/ca94916852f26beb07515670f718219e.png"><br><br>  Le service fonctionne plut√¥t bien.  Mais la quantit√© de donn√©es augmente √† mesure que le nombre d'utilisateurs augmente.  Cela conduit √† une augmentation de la charge sur la base de donn√©es - m√™me en tenant compte du fait que l'API Rest examine la r√©plique.  Le deuxi√®me point est JMS, qui, en fin de compte, n'est pas tr√®s appropri√© en raison de la grande consommation de m√©moire.  Il y a un risque √©lev√© de d√©passement de file d'attente avec un crash JMS et un arr√™t du traitement.  Il est impossible de relever le JMS apr√®s cela sans nettoyer les journaux. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/114/bb1/ad6/114bb1ad6e5870eb3ea7d0fb2228233a.png"><br><br>  Il est pr√©vu de r√©soudre les probl√®mes en utilisant le sharding, ce qui permettra d'√©quilibrer la charge sur la base.  Il est √©galement pr√©vu de changer le sch√©ma de stockage des donn√©es et de changer le JMS en Kafka - une solution plus tol√©rante aux pannes qui r√©soudra les probl√®mes de m√©moire. <br><br><h2>  Vs de back-end en tant que service  Sans serveur </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e71/98c/48d/e7198c48dcf015593d8753bbb53b9164.jpg"><br>  <i>De gauche √† droite: Alexander Borgart, Andrey Tomilenko, Nikolai Markov, Ara Israelyan</i> <br><br>  Backend en tant que service ou solution sans serveur?  Les personnes suivantes ont particip√© √† la discussion de cette question urgente √† la table ronde: <br><br><ul><li>  Ara Israelyan, CTO CTO et fondateur de Scorocode. <br></li><li>  Nikolay Markov, ing√©nieur principal des donn√©es chez Aligned Research Group. <br></li><li>  Andrey Tomilenko, chef du d√©partement de d√©veloppement RUVDS. <br></li></ul><br>  La conversation a √©t√© anim√©e par le d√©veloppeur senior Alexander Borgart.  Nous pr√©sentons le d√©bat, auquel le public a particip√©, dans une version abr√©g√©e. <br><br>  <b>- Qu'est-ce que Serverless dans votre compr√©hension?</b> <b><br></b> <br>  <b>Andrei</b> : Il s'agit d'un mod√®le de calcul - une fonction Lambda qui devrait traiter les donn√©es afin que le r√©sultat ne d√©pende que des donn√©es.  Le terme vient de Google ou d'Amazon et de son service AWS Lambda.  Il est plus facile pour le fournisseur de traiter une telle fonction en lui allouant un pool de capacit√©.  Diff√©rents utilisateurs peuvent √™tre consid√©r√©s ind√©pendamment sur les m√™mes serveurs. <br>  <b>Nikolay</b> : Si c'est simple, nous transf√©rons une partie de notre infrastructure informatique, la logique m√©tier vers le cloud, pour l'externaliser. <br>  <b>Ara</b> : De la part des d√©veloppeurs - une bonne tentative d'√©conomiser des ressources, de la part des sp√©cialistes du marketing - pour gagner plus d'argent. <br><br>  <b>- Sans serveur - la m√™me chose que les microservices?</b> <b><br></b> <br>  <b>Nikolai</b> : Non, Serverless est plus une organisation d'architecture.  Le microservice est une unit√© atomique d'une certaine logique.  Sans serveur est une approche, pas une ¬´entit√© distincte¬ª. <br>  <b>Ara</b> : La fonction Serverless peut √™tre empaquet√©e dans un microservice, mais √† partir de l√†, elle cessera d'√™tre Serverless, cessera d'√™tre une fonction Lambda.  Dans Serverless, une fonction ne d√©marre que lorsqu'elle est demand√©e. <br>  <b>Andrew</b> : Ils diff√®rent dans la dur√©e de vie.  Nous avons lanc√© et oubli√© la fonction Lambda.  Cela a fonctionn√© pendant quelques secondes et le client suivant peut traiter sa demande sur une autre machine physique. <br><br>  <b>- Quelle √©chelle mieux?</b> <b><br></b> <br>  <b>Ara</b> : Avec la mise √† l'√©chelle horizontale, les fonctions Lambda se comportent exactement de la m√™me mani√®re que les microservices. <br>  <b>Nikolai</b> : Combien de r√©pliques vous demandez - il y en aura tellement, il n'y a aucun probl√®me avec la mise √† l'√©chelle sans serveur.  Kubernetes a cr√©√© un jeu de r√©pliques, lanc√© 20 instances ¬´quelque part¬ª et 20 liens anonymes vous sont retourn√©s.  Allez-y! <br><br>  <b>- Est-il possible d'√©crire un backend sur Serverless?</b> <b><br></b> <br>  <b>Andrew</b> : Th√©oriquement, mais cela ne sert √† rien.  Les fonctions Lambda reposeront sur un r√©f√©rentiel unique - nous devons fournir une garantie.  Par exemple, si l'utilisateur a effectu√© une certaine transaction, la prochaine fois qu'il devrait voir: la transaction a √©t√© effectu√©e, les fonds ont √©t√© cr√©dit√©s.  Toutes les fonctions Lambda seront bloqu√©es lors de cet appel.  En fait, un tas de fonctions sans serveur se transformeront en un service unique avec un point d'acc√®s √©troit √† la base de donn√©es. <br><br>  <b>- Dans quelles situations est-il judicieux d'utiliser une architecture sans serveur?</b> <b><br></b> <br>  <b>Andrew</b> : T√¢ches dans lesquelles un stockage commun n'est pas n√©cessaire - la m√™me exploitation mini√®re, blockchain.  O√π vous devez compter beaucoup.  Si vous avez beaucoup de puissance de calcul, vous pouvez d√©finir une fonction telle que "calculer le hachage de quelque chose l√†-bas ..." Mais vous pouvez r√©soudre le probl√®me du stockage de donn√©es en prenant, par exemple, les fonctions Amazon et Lambda, et leur stockage distribu√©.  Et il s'av√®re que vous √©crivez un service r√©gulier.  Les fonctions Lambda acc√©deront au r√©f√©rentiel et donneront une sorte de r√©ponse √† l'utilisateur. <br>  <b>Nikolai</b> : les conteneurs qui s'ex√©cutent sans serveur sont extr√™mement limit√©s en ressources.  Il y a peu de m√©moire et tout le reste.  Mais si vous avez d√©ploy√© toute l'infrastructure sur un cloud - Google, Amazon - et que vous avez un contrat permanent avec eux, il y a un budget pour tout cela, alors pour certaines t√¢ches, vous pouvez utiliser des conteneurs sans serveur.  Il est n√©cessaire d'√™tre situ√© exactement √† l'int√©rieur de cette infrastructure, car tout est con√ßu pour √™tre utilis√© dans un environnement sp√©cifique.  Autrement dit, si vous √™tes pr√™t √† tout lier √† l'infrastructure cloud, vous pouvez exp√©rimenter.  Le plus, c'est que vous n'avez pas √† g√©rer cette infrastructure. <br>  <b>Ara</b> : Le fait que Serverless ne vous oblige pas √† g√©rer Kubernetes, Docker, installer Kafka, etc., est une auto-tromperie.  Le m√™me Amazon et Google sont le gestionnaire et ils l'ont dit.  Une autre chose est que vous avez un SLA.  Avec le m√™me succ√®s, vous pouvez tout externaliser et ne pas le programmer vous-m√™me. <br>  <b>Andrew</b> : Serverless lui-m√™me est peu co√ªteux, mais vous devez payer beaucoup pour le reste des services Amazon - par exemple, une base de donn√©es.  Les gens les ont d√©j√† poursuivis pour le fait qu'ils d√©chiraient de l'argent fou pour la porte API. <br>  <b>Ara</b> : Si nous parlons d'argent, alors vous devez consid√©rer ce point: vous devrez d√©ployer √† 180 degr√©s toute la m√©thodologie de d√©veloppement dans l'entreprise afin de transf√©rer tout le code vers Serverless.  Cela prendra beaucoup de temps et d'argent. <br><br>  <b>- Existe-t-il des alternatives d√©centes √† Amazon sans serveur et √† Google?</b> <b><br></b> <br>  <b>Nikolay</b> : Dans Kubernetes, vous commencez une sorte de travail, il remplit et meurt - c'est assez sans serveur du point de vue de l'architecture.  Si vous voulez cr√©er une logique m√©tier vraiment int√©ressante avec des files d'attente, avec des bases, alors vous devez y r√©fl√©chir un peu plus.  Tout cela est r√©solu sans quitter Kubernetes.  Je ne commencerais pas √† faire glisser une impl√©mentation suppl√©mentaire. <br><br>  <b>- Dans quelle mesure est-il important de surveiller ce qui se passe dans Serverless?</b> <b><br></b> <br>  <b>Ara</b> : d√©pend de l'architecture du syst√®me et des besoins de l'entreprise.  En fait, le fournisseur doit fournir des rapports qui aideront le d√©veloppeur √† identifier les probl√®mes possibles. <br>  <b>Nikolai</b> : Sur Amazon, il y a CloudWatch, o√π tous les journaux sont diffus√©s, y compris avec Lambda.  Int√©grez la transmission des journaux et utilisez un outil distinct pour la visualisation, les alertes, etc.  Dans les conteneurs que vous d√©marrez, vous pouvez entasser des agents. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/173/767/b57/173767b57ac15dd164ad69c428d9ae03.jpg"><br><br>  <b>- R√©sumons.</b> <b><br></b> <br>  <b>Andrew</b> : R√©fl√©chir aux fonctions Lambda est utile.  Si vous cr√©ez un service √† genoux - pas un microservice, mais un service qui √©crit une demande, acc√®de √† la base de donn√©es et envoie une r√©ponse - la fonction Lambda r√©sout un certain nombre de probl√®mes: multithreading, √©volutivit√©, etc.  Si votre logique est construite de cette mani√®re, vous pourrez √† l'avenir transf√©rer ces Lambda vers des microservices ou utiliser des services tiers comme Amazon.  La technologie est utile, une id√©e int√©ressante.  Combien cela est-il justifi√© pour les entreprises est encore une question ouverte. <br>  Nikolai: Serverless est pr√©f√©rable d'utiliser pour les t√¢ches op√©rationnelles que pour calculer une sorte de logique m√©tier.  Je prends toujours cela comme un traitement d'√©v√©nements.  Si vous l'avez sur Amazon, si vous √™tes √† Kubernetes - oui.  Sinon, vous devrez faire beaucoup d'efforts pour augmenter Serverless vous-m√™me.  Vous devez regarder une analyse de rentabilisation sp√©cifique.  Par exemple, j'ai maintenant l'une des t√¢ches: lorsque des fichiers apparaissent sur un disque dans un certain format, vous devez les t√©l√©charger sur Kafka.  Je peux utiliser ce WatchDog ou Lambda.  Logiquement, les deux conviennent, mais Serverless est plus difficile √† impl√©menter, et je pr√©f√®re la mani√®re la plus simple, sans Lambda. <br>  <b>Ara</b> : Serverless - une id√©e int√©ressante, applicable et tr√®s belle techniquement.  T√¥t ou tard, la technologie atteindra le point o√π toute fonction augmentera en moins de 100 millisecondes.  Ensuite, en principe, il ne sera pas question de savoir si le temps d'attente est critique pour l'utilisateur.  Dans le m√™me temps, l'applicabilit√© de Serverless, comme nos coll√®gues l'ont d√©j√† dit, d√©pend compl√®tement de la t√¢che m√©tier. <br><br>  <b>Nous remercions nos sponsors qui nous ont beaucoup aid√©s:</b> <b><br></b> <br><ul><li>  L'espace des conf√©rences informatiques " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spring</a> " derri√®re la plateforme de la conf√©rence. </li><li>  Calendrier des √©v√©nements informatiques <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Runet-ID</a> et la publication " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Internet en chiffres</a> " pour le support d'informations et les actualit√©s. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Akronis</a> pour les cadeaux. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avito</a> pour la co-cr√©ation. </li><li>  ¬´Association of Electronic Communications¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RAEC</a> pour son implication et son exp√©rience. </li><li>  Le sponsor principal de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RUVDS</a> - pour tout! </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/7d5/374/7cc/7d53747cc37e595ec4ec995267865c93.jpg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr472916/">https://habr.com/ru/post/fr472916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr472902/index.html">Windows pour IoT: prise en charge mat√©rielle am√©lior√©e et nouvelles fonctionnalit√©s de p√©riph√©rique intelligent</a></li>
<li><a href="../fr472904/index.html">Comment Amazon a transform√© le stock en jeu</a></li>
<li><a href="../fr472908/index.html">Dagaz: √©pisodes (partie 2)</a></li>
<li><a href="../fr472912/index.html">Base de donn√©es ClickHouse pour les humains ou technologie extraterrestre</a></li>
<li><a href="../fr472914/index.html">R√©f√©rentiel de fonctions Wolfram: plate-forme d'acc√®s ouvert pour les extensions linguistiques Wolfram</a></li>
<li><a href="../fr472918/index.html">ZX Spectrum en Russie et dans la CEI: comment la poursuite du online s'est transform√©e hors ligne</a></li>
<li><a href="../fr472922/index.html">Le programmeur Defender plus fort que l'entropie</a></li>
<li><a href="../fr472926/index.html">La loi de l'acc√©l√©ration des retours (partie 1)</a></li>
<li><a href="../fr472928/index.html">Service informatique GPU tr√®s charg√©</a></li>
<li><a href="../fr472930/index.html">Les astrophysiciens de la Silicon Valley quantifient la mode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>