<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍹 👩🏿‍⚖️ 🎞️ História de como o Arduino MT8060 c fez amigos 🐄 👇🏽 🏺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo se concentra no monitor de qualidade do ar MT8060 com um sensor de dióxido de carbono e na capacidade de ler suas leituras em um PC e Ardu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>História de como o Arduino MT8060 c fez amigos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390607/"><img src="https://habrastorage.org/files/073/36f/893/07336f89382c4fb1b44b640d220079ee.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo se concentra no monitor de qualidade do ar MT8060 com um sensor de dióxido de carbono e na capacidade de ler suas leituras em um PC e Arduino. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, você aprenderá:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como eu desmontei este dispositivo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como conectar um sensor de CO2 a um arduino sem desmontá-lo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como ler dados e como converter para o formulário em que são exibidos na tela (e mesmo em uma faixa maior de valores). </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esboço e encaminhamento de cabos incluídos.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuidado tráfego!</font></font></b><br>
<a name="habracut"></a> <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A essência do problema</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando fui ao Geektimes, encontrei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vários </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre o sensor de dióxido de carbono </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT8060</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da DAJET. </font><font style="vertical-align: inherit;">Nos comentários, houve uma discussão ativa sobre a possibilidade de conectar este dispositivo a um computador para receber dados. </font><font style="vertical-align: inherit;">Nos comentários, como não pude compartilhar minha experiência sobre esse assunto (ainda não havia o modo R&amp;C), decidi escrever um artigo, ao mesmo tempo em que abria a questão com mais detalhes e com “figuras”.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, esta modificação do dispositivo não tem a capacidade de transferir dados via USB. </font><font style="vertical-align: inherit;">Mas há uma porta de diagnóstico na qual você pode ler todos os dados e calibrar o dispositivo (provavelmente). </font><font style="vertical-align: inherit;">A próxima seção descreve como chegar a esta porta e como se conectar a ela. </font><font style="vertical-align: inherit;">Repetir isso não é necessário - no final da próxima seção, todos os dados são mostrados para conectar-se à porta sem desmontar o dispositivo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desmontar e explorar a conectividade</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As fotos foram tiradas na câmera do telefone, às vezes de qualidade não muito alta, não me esforcei muito porque Eu não achava que escreveria um artigo, mas fiz por precaução.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Portanto, na parte traseira, existem três buchas de borracha, atrás das quais há três parafusos. Os plugues podem ser removidos com pinças ou apanhados com uma agulha. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4ec/6e3/635/4ec6e36352964f3eaa39bd161bc5875e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além dos parafusos, as duas metades do corpo também se prendem às travas, localizadas em todo o perímetro do corpo. Para separar as metades, basta segurar um palito de dente em torno do perímetro da caixa, basta um espaço de meio milímetro para que as travas se abram. Em seguida, abra suavemente a caixa e verifique se uma mangueira de borracha vai do microcircuito para a tampa traseira e você pode danificar as montagens e microcircuitos aos quais está conectada durante movimentos bruscos.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a70/018/42f/a7001842fbd1466e9b5fba57e26b8065.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora você pode ver a parte traseira da placa de circuito impresso do dispositivo, dos cabos de diagnóstico e do conector RJ45. </font><font style="vertical-align: inherit;">Depois de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analisar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a notação aplicada ao circuito, fui ao artigo </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">CO2MeterHacking</font></a><font style="vertical-align: inherit;"> , que analisava um dispositivo semelhante. </font><font style="vertical-align: inherit;">Ao conectar, conforme descrito no artigo, e executar o esboço proposto lá, recebi os dados estimados, que coincidiram parcialmente com os dados exibidos na tela - o objetivo principal foi alcançado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, a pinagem desses pinos no conector RJ45 era perceptível. </font><font style="vertical-align: inherit;">Tendo examinado a fiação e telefonado, apenas no caso dos contatos, desenhei um diagrama de conexão. </font></font><br>
<br>
<img src="https://habrastorage.org/files/714/4a8/2d7/7144a82d74574cc89b25b48829c2dbb7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A designação e a finalidade dos contatos são as seguintes:</font></font><br>
<br>
<ul>
<li><font color="#0dcc0b"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Relógio) - um sinal de relógio.</font></font></li>
<li><font color="#ff00ff"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Dados) - sinal de dados.</font></font></li>
<li><font color="#7b0126"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Terra) - Terra.</font></font></li>
<li><font color="#0153a7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (V</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DD</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - fonte de alimentação + 3V.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pinagem era adequada para um conector padrão de quatro núcleos e, para fins de teste, foi montado um conector compatível com arduino. </font></font><br>
<br>
<img src="https://habrastorage.org/files/88c/950/6fc/88c9506fca2441d3ba876c4e1909d0a4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O dispositivo pode ser montado, mas eu removi anteriormente o plugue que bloqueia o acesso externo à porta RJ45. </font><font style="vertical-align: inherit;">Ele está fixo em quatro travas, que eu gentilmente dobrei por dentro, mas acho que você pode obtê-lo simplesmente pegando-o por fora, sem precisar desmontar o dispositivo. </font><font style="vertical-align: inherit;">A foto abaixo mostra como ela se mantém e como são as travas.</font></font><br>
<br>
<img src="https://habrastorage.org/files/b8d/02a/dde/b8d02adde284460e91ec775c517390d6.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parâmetros de leitura e decodificação</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pesquisas foram realizadas no dispositivo montado, com uma porta "aberta", e eles eram puramente software. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conectamos o fio laranja (pino </font></font><font color="#ff00ff"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ao pino D3 do arduino, o branco-verde (pino </font></font><font color="#0dcc0b"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ao pino D2 da placa compatível com arduino. </font></font><br>
<br>
<img src="https://habrastorage.org/files/78f/3f3/b10/78f3f3b106594960a0b552330c7bb35d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dados são transmitidos usando o protocolo SPI. Para leitura e decodificação de dados, foram escritos um método e um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esboço simples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que transmitem a umidade, a temperatura e a concentração de dióxido de carbono para a porta serial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após iniciar o esboço, dados idênticos às leituras na tela do dispositivo começam a fluir para o monitor da porta serial uma vez a cada segundo, aproximadamente. </font></font><br>
<br>
<img src="https://habrastorage.org/files/112/0cc/b4d/1120ccb4d13b4a678f513c7f0300b81e.jpg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora o nível de umidade no dispositivo seja exibido como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ao ler leituras pela porta, elas são bem visíveis a valores inferiores a 20. Não está claro por que isso foi feito, provavelmente para não acender outro semáforo em termos de umidade, mas emitir </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se a umidade já estiver criticamente baixa. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na verdade, é tudo: os</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dados chegam a cada segundo, você pode plotar em alta resolução ou escrever qualquer outra lógica. Por exemplo, fiz uma notificação via Telegram sobre os indicadores que ultrapassam a norma, o que elimina a necessidade de monitorar constantemente os indicadores. Também defino o Mi Band com as notificações apropriadas - é conveniente se as leituras excederem o limite noturno e você precisar desligar o umidificador ou ventilar. Você pode ir além e integrar esses indicadores ao sistema de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ventilação automática</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou a uma tomada inteligente na qual o mesmo umidificador está conectado - outras restrições são apenas para a imaginação.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pensamentos em voz alta sobre dados sem fio</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um artigo sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revspace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sugere o uso da transferência de dados sem fio, mas você também pode encontrar um exemplo de esboço para o envio de dados usando o transmissor NRF24L01 +. </font><font style="vertical-align: inherit;">Além disso, dentro do gabinete há espaço livre suficiente, como me pareceu, o suficiente para um pequeno controlador e módulo sem fio. </font><font style="vertical-align: inherit;">Além disso, no interior também há energia de 3V (contatos </font></font><font color="#7b0126"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0153a7"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V</font></font></b></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), o que elimina a necessidade de fontes de alimentação de terceiros. Bem, 5V da porta USB pode ser usado se 3V não for suficiente. </font><font style="vertical-align: inherit;">Se eu decidir implementar algum tipo de método de transferência de dados sem fio, escreverei outro artigo sobre esse assunto. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por enquanto é isso, obrigado por assistir!</font></font></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referências e fontes</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Corte de medidores de CO2</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentação do sensor ZG01</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esboço original com envio de dados sem fio</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minha versão de esboço</font></font></a></li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O autor do artigo não é responsável por tentativas de repetir ou aplicar os resultados apresentados neste material!</font></font></u></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt390607/">https://habr.com/ru/post/pt390607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt390593/index.html">ESP8266 e Arduino, conexão, pinagem</a></li>
<li><a href="../pt390597/index.html">Compota de frutas de café estufado. Conheça Cascara - o melhor amigo do ciclista</a></li>
<li><a href="../pt390599/index.html">O primeiro AVM soviético</a></li>
<li><a href="../pt390601/index.html">Clicamos no relé corretamente: alternando cargas poderosas</a></li>
<li><a href="../pt390605/index.html">O paciente foi submetido a uma cirurgia no cérebro, mergulhando no mundo da RV</a></li>
<li><a href="../pt390609/index.html">Desenvolvimento de uma fonte de alimentação de backup de baixa potência com uma saída senoidal. Parte 3. Trabalhar com erros</a></li>
<li><a href="../pt390611/index.html">O plug-in Torrents Time, que permite assistir filmes diretamente no Thepiratebay e em outros rastreadores, é inseguro</a></li>
<li><a href="../pt390615/index.html">Mercado Global de Comércio Eletrônico: Crescimento Garantido</a></li>
<li><a href="../pt390617/index.html">A Caterpillar apresentou um smartphone com um termovisor</a></li>
<li><a href="../pt390619/index.html">Por que impressão 3D? Arquitetura</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>