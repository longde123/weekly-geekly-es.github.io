<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüî¨ üî™ ‚õ∫Ô∏è Speicherklasse Speicher im Speicher - wenn Sie ihn noch schneller ben√∂tigen üíÜüèª üåî üíáüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie Sie sich wahrscheinlich erinnern, wurde NRE seit langem in das Thema neue Arten von Data Warehouses (nat√ºrlich The Machine ) und in die Optimierun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Speicherklasse Speicher im Speicher - wenn Sie ihn noch schneller ben√∂tigen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hpe/blog/432306/"><img src="https://habrastorage.org/webt/tc/ks/yy/tcksyyfppgu3sraou3ixk2bqlmi.png" alt="Das Bild dr√ºckt nicht die Position des Unternehmens aus und ist eine pers√∂nliche Vision des Autors, die nicht unbedingt mit dem Thema dieses Textes zusammenh√§ngt. Amen" align="left">  Wie Sie sich wahrscheinlich erinnern, wurde NRE seit langem in das Thema neue Arten von Data Warehouses (nat√ºrlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">The Machine</a> ) und in die Optimierung des Zugangs zu Speichereinrichtungen (unsere Mitgliedschaft im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gen-Z-Konsortium</a> ) investiert. <br><br>  Ziel dieser Bewegung ist es, die Arbeit der Anwendungen unserer Kunden zu beschleunigen.  Dar√ºber hinaus ist diese Bewegung mehrstufig: W√§hrend die v√∂llig neue Architektur der The Machine Computing-Systeme (die sogenannte speicherzentrierte Architektur) geschmiedet wird, verstehen wir, dass wir jetzt beschleunigen m√ºssen.  Mal sehen, was heute getan werden kann und was morgen bei HPE erscheinen wird.  Tipp - Wir werden √ºber die starke Beschleunigung unseres 3PAR- und Nimble-Speichers durch intelligentes und relativ kosteng√ºnstiges Caching auf Speicherklassenspeicher (SCM) in Form von Intel Optane sprechen. <br><a name="habracut"></a><br>  Zun√§chst legen wir die Grenzen des untersuchten Problems fest.  In diesem Beitrag interessieren wir uns nicht f√ºr Hochleistungsrechnen mit eigenen Besonderheiten und nicht f√ºr Aufgaben, die ausschlie√ülich serverinternen schnellen Speicher erfordern.  Letzteres ist zweifellos auch ein Thema f√ºr Intel Optane und SCM im Allgemeinen, aber solche Aufgaben sind h√§ufig spezifisch, f√ºr die Virtualisierung und dementsprechend f√ºr die Konsolidierung schlecht zug√§nglich.  Wir werden √ºber Aufgaben und Anwendungen sprechen, die mit externen 3PAR-, Nimble- oder MSA-Speichersystemen gut zurechtkommen (obwohl wir MSA auch nicht ber√ºhren). <br><br>  Wie k√∂nnen Sie also die Leistung einer virtualisierten Anwendung verbessern, die mit Daten auf einem externen Speichersystem arbeitet: <br><ul><li>  Sehen Sie, was die Anwendung jetzt zur√ºckh√§lt.  Vielleicht geht es √ºberhaupt nicht um Speicherung, sondern darum, auf den Prozessor in der internen Logik des Arbeitens mit Daten in suboptimalen schriftlichen Anforderungen zu warten. </li><li>  Wenn die Verz√∂gerungen beim Warten auf Daten (IO) gro√ü sind, sollten Sie zun√§chst pr√ºfen, ob alle Empfehlungen zum Konfigurieren des Application-OS-Treiberpakets (SCSI, HBA usw.) erf√ºllt sind </li><li>  m√∂glicherweise der Fall im SAN (Ethernet, FC); </li><li>  Vielleicht ist es noch im Speichersystem.  Wo lagern?  In der Controller-Hardware (was ist mit dem Cache, was ist die Prozessorlast), im Controller-Betriebssystem und den Treibern, im Datenbus, auf Festplatten ... </li></ul><br>  M√∂glicher Gedankengang: Oh, sicher - die R√§der!  Alles andere ist kompliziert und ich m√∂chte nicht anfassen, aber mit den Festplatten werden wir es versuchen.  Was wir haben, ein Hybrid - na ja, dann brauchen wir All-Flash.  Haben wir schon All-Flash?  Und was ist besser?  Wir sehen Werbung f√ºr seri√∂se Marken: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dc/ig/q7/dcigq7iuujylprrygydh_0xbhla.png" alt="Bild"></div><br>  Alles ist klar, wir speichern mit "NVMe-Festplatten".  Warten Sie, <b>wie viel kostet</b> es?  Und Sie m√ºssen ein <b>neues</b> Speichersystem kaufen, ich kann mein aktuelles nicht aktualisieren?  Nun, du musst ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fc/a1a/91d/0fca1a91df15114fad6d015ff1a3aa56.gif" alt="Bild"></div><br>  Aber ist es auch anders m√∂glich?  Wir vom NRE glauben, dass dies nicht nur m√∂glich, sondern auch notwendig ist.  Und hier ist warum: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/np/rv/fxnprvk019rj4pwqquoqc2yhrca.png" alt="Bild"></div><br>  Tatsache ist, dass die meisten derzeit auf dem Markt befindlichen NVMe-SSDs denselben Medientyp (NAND-Flash) haben, der nur nicht √ºber das SAS-Protokoll (Serial Attached SCSI), sondern √ºber das neue NVMe-Protokoll mit dem Controller verbunden ist.  Das neue Protokoll ist zweifellos sch√∂n, und hier sind einige Fakten: <br><br><ul><li>  64.000 Warteschlangen mit jeweils 64.000 Threads verf√ºgbar - IOPS √ºber dem Dach </li><li>  Controller direkt an die CPU - geringere CPU-Last </li><li>  Jeder Prozessorkern sieht jede SSD direkt - geringe Latenz </li></ul><br><br>  Durch vollst√§ndiges Ersetzen des SCSI-Protokolls von der Anwendung bis zu den Festplatten kann die Zugriffslatenz erheblich reduziert werden.  Aber was bieten uns Vermarkter heute?  "NVMe-Festplatten."  Das hei√üt,  Die gesamte Kette zum Speichercontroller selbst bleibt gleich - SCSI.  Anschlie√üend packt der Controller SCSI einfach in NVMe neu und kommuniziert so mit den angeschlossenen NAND-SSDs. <br><br>  Das Ergebnis in der obigen Tabelle ist die minimale Verst√§rkung der Verz√∂gerung.  Obwohl der Gewinn an Spitzen-IOPS wirklich sehr sp√ºrbar sein kann.  Die traditionelle Analogie: Ben√∂tigen Sie ein Auto, das schnell beschleunigen kann, um in 5 Sekunden zu √ºberholen, oder ein Auto, das unter idealen Bedingungen in 10 Minuten auf 300 km / h beschleunigen kann?  Beide Optionen sind gut, aber h√§ufiger w√§hlen sie die erste. <br><br>  Die Realit√§t ist, dass der Gewinn von NVMe NAND f√ºr reale Anwendungen heute kaum sp√ºrbar ist und unserer Meinung nach den Unterschied zwischen Preis und Verlust der verf√ºgbaren Kapazit√§t im Vergleich zu SAS-SSDs √ºberhaupt nicht wert ist. <br><br>  Was HPE bietet, anstatt einfach die ‚Äûletzte Meile‚Äú von SAS zu NVMe zu ersetzen, ist die Verwendung v√∂llig neuer Intel Optane-Laufwerke, die √ºber NVMe als Lese-Cache in unseren 3PAR- und Nimble-Speichercontrollern verbunden sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xu/li/vk/xulivkci2dqatabrok2n7vnwzio.png" alt="Bild"></div><br>  <i>(Sowohl das Arithmometer als auch der Administrator auf dem Foto hei√üen Felix, aber der Unterschied ist riesig!)</i> <br><br>  Warum wir uns f√ºr diesen Weg entschieden haben: <br><br><ul><li>  Auf diese Weise k√∂nnen wir unseren Kunden anbieten, bereits gekaufte Speichersysteme zu aktualisieren (insbesondere 3PAR 9450, 20450, 20850 und Nimble AF60 und AF80 - alle Top-All-Flash-Systeme). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u5/wz/dl/u5wzdlhs2_wb2lyalb1phbaprpi.jpeg" alt="Bild"></div></li><li>  Auf diese sehr einfache Weise (durch Hinzuf√ºgen einer Erweiterungskarte mit Optane an Bord zu jedem Controller) verringern wir die maximale Verz√∂gerung um das 15-fache und den Durchschnitt um 30-40% (IOPS wachsen ebenfalls, na gut).  Und vor allem springt die Verz√∂gerung nicht vom Marketing " <b>von</b> 0,2 ms!"  ad infinitum (Marketing geh√∂rt nicht uns, zitiere ich nur), aber es wird viel stabiler: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ee/4t/u_/ee4tu_cfntaw66z8sb6pupdnx_o.png" alt="Bild"></div><br>  <i>(Verz√∂gerungswerte basierend auf internen HPE-Tests)</i> </li><li>  Genauer gesagt, was von einer solchen Reduzierung der Array-Latenz f√ºr Ihr Lieblings-Oracle zu erwarten ist, zum Beispiel: Laut unseren internen Tests wird die E / A-Wartezeit um durchschnittlich 37% reduziert und die SQL-Auswahl um 27% beschleunigt. </li><li>  Warum wird der Cache gelesen und nicht geschrieben?  Denn sowohl in 3PAR als auch in Nimble wird DRAM seit vielen Jahren als Schreibcache verwendet (nichtfl√ºchtiger NVRAM in Nimble).  Es ist wiederum um ein Vielfaches schneller als NVMe-Ger√§te und wird es bis zum Aufkommen von Gen-Z oder √§hnlichen neuen Protokollen bleiben.  Das hei√üt,  Eine Aufzeichnung ist nicht erforderlich, um √ºber NVMe zu beschleunigen. </li><li>  Warum Intel Optane?  Denn dies ist der neueste Medientyp, obwohl er in der Dichte immer noch hinter dem NAND liegt, aber um eine Gr√∂√üenordnung schneller reagiert.  Au√üerdem verf√ºgt Optane √ºber eine nahezu unersch√∂pfliche Ressource zum Umschreiben.  Im Allgemeinen sind bei geladenen Systemen die Transaktionskosten bei Optane viel niedriger als bei NAND NVMe.  Und der Cache ist eine von allen Seiten sehr geladene Ebene.  Hei√üe Daten werden von einer langsameren Ebene darauf kopiert (daher wird eine Ressource ben√∂tigt). Sie werden daraus gelesen, wenn keine Daten im NVRAM-Cache des Controllers gefunden werden (daher ist eine schnelle Antwort erforderlich, damit das √úberschreiten des NVRAM-Cache im Vergleich zu nicht wie eine Reise in den Hypermarkt aussieht mit einem Ausflug in den Laden in der N√§he des Hauses). </li><li>  Warum nicht doch NVMe-Festplatten einlegen?  Seien Sie sicher, es zu setzen!  Das Nimble-Geh√§use erm√∂glicht beispielsweise die Installation solcher Festplatten jetzt (die R√ºckwandplatine ist daf√ºr bereit), aber wir verkaufen solche Festplatten noch nicht f√ºr Nimble, da es noch fr√ºh ist.  Der SCM-Cache bietet jetzt eine mehrfache Leistungssteigerung f√ºr relative Pennies.  Verwenden wir es also, w√§hrend das NVMe-NAND noch billiger ist, das NVMe-Protokoll selbst sich noch entwickelt (Multi-Pathing erschien erst im M√§rz 2018 im Standard und bleibt immer noch weit hinter der SCSI-Stabilit√§t zur√ºck), und im Allgemeinen ist das NVMe-√ñkosystem von der Anwendung auf die Festplatten immer noch nicht entwickelt (NVMe over Fabric ging in den Kindergarten, Hersteller streiten dar√ºber, wie es aussehen soll, Treiber haben nur minimale Funktionen, sodass Sie nicht zu viel √ºberschreiben, wenn sich alles beruhigt). </li><li>  und auch, weil wir wirklich gerne alles zwischenspeichern.  Hier ist ein Beispiel f√ºr Nimble: </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ra/xh/v3/raxhv31dou-uchvgyubrwwu3usm.png" alt="Bild"></div><br>  Ja, kennen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HPE InfoSight √ºbrigens</a> ?  Mit diesem Tool wissen Sie immer, wo Sie nach einer Verz√∂gerung suchen m√ºssen.  Zum Beispiel so: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/bz/ni/xtbzniulhurmg44yndks4qpr3kw.png" alt="Bild"></div><br>  <i>(Wenn Sie eine Verz√∂gerung feststellen, wenden Sie sich bitte an unseren Glauben.)</i> <br><br>  Es ist Zeit zusammenzufassen: Wenn Sie stolzer Besitzer von 3PAR 9000 oder 20.000 sind, k√∂nnen Sie jetzt 3PAR 3D Cache auf Basis von Intel Optane bestellen.  Wenn Sie sich das Nimble All-Flash-Array genau ansehen, nehmen Sie es, weil  Es ist eine verl√§ssliche Basis f√ºr den Schutz zuk√ºnftiger Investitionen.  Beginnen Sie jetzt mit der SAS NAND SSD, schlie√üen Sie sp√§ter den SCM-basierten All Flash Turbo Cache an und √§ndern Sie die Laufwerke in NVMe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xq/uo/cg/xquocgeacjpnl2zqfmkttpkhjhc.png" alt="3PAR und Nimble SCM Cache"></div><br>  Als Referenz: <br><ul><li>  Hier ist ein aktuelles Nimble-Webinar: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HPE Nimble Evolution: Paranoid + Datenschutz und mehr</a> </li><li>  Und hier ist ein Webinar √ºber Intel Optane im HPE-Portfolio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Optane-Nummer - Erh√∂hen Sie die Kapazit√§t Ihres Rechenzentrums mit Intel-Technologien</a> . </li><li>  Blog-Beitrag des flinken Kampffl√ºgelf√ºhrers: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">recoveryymonkey.org/2018/11/30/hpe-memory-driven-architectures-extend-to-3par-and-nimble-storage</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432306/">https://habr.com/ru/post/de432306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432296/index.html">Google h√§lt Sie in einer pers√∂nlichen "Suchblase", selbst wenn Sie Ihr Konto verlassen</a></li>
<li><a href="../de432298/index.html">Timeweb hat die TOP-10-Domain-Registrare in der Zone .RU eingegeben</a></li>
<li><a href="../de432300/index.html">Support, Service, Kopfschmerzen und alles in allem</a></li>
<li><a href="../de432302/index.html">Sequenz-zu-Sequenz-Teil-2-Modelle</a></li>
<li><a href="../de432304/index.html">Ein brillanter Neurowissenschaftler, der m√∂glicherweise einen Schl√ºssel zur Schaffung echter k√ºnstlicher Intelligenz hat</a></li>
<li><a href="../de432308/index.html">Modulares Sci-Fi-Level UE4: inspiriert von Nostromo und Serenity</a></li>
<li><a href="../de432310/index.html">Ktor als HTTP-Client f√ºr Android</a></li>
<li><a href="../de432312/index.html">Erstellen Sie eine Formkarte der RF-Karte in Power BI</a></li>
<li><a href="../de432314/index.html">Roskachestvo ver√∂ffentlichte eine Liste der besten Smartphones des Jahres 2018</a></li>
<li><a href="../de432316/index.html">Russischer AI Cup 2018: CodeBall. Spektakul√§rer 3D-Wettbewerb</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>