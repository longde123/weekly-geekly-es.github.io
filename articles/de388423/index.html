<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèæ ü•ü üí™üèª Vergleich von HEVC-Codecs von MSU. So verbessern Sie die Ergebnisse üç± ‚úñÔ∏è üõ¢Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Oktober 2015 wurde am VMiK der Moskauer Staatlichen Universit√§t ein weiterer Codec-Vergleichsbericht ver√∂ffentlicht , der diesmal mehrere HEVC-Code...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vergleich von HEVC-Codecs von MSU. So verbessern Sie die Ergebnisse</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388423/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Oktober 2015 wurde </font><font style="vertical-align: inherit;">am VMiK der Moskauer Staatlichen Universit√§t ein </font><font style="vertical-align: inherit;">weiterer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codec-Vergleichsbericht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ver√∂ffentlicht </font><font style="vertical-align: inherit;">, der diesmal mehrere HEVC-Codecs enthielt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Ausgangspunkt f√ºr die Studie war, dass wir bei Tests f√ºr AVC und HEVC einen Unterschied in den Voreinstellungen festgestellt haben - f√ºr AVC wurde ein nicht modifiziertes schnelles Profil mit einer GOP verwendet, und f√ºr HEVC wurde ein modifiziertes Profil mit mehreren GOPs verwendet. Gleichzeitig erwies sich der x264-Encoder f√ºr die einzige im ge√∂ffneten Bericht beschriebene ‚ÄûApple Tree‚Äú -Datei als besser als x265, als er in den Diagrammen der Abh√§ngigkeit von SSIM von der Bitrate ohne Ber√ºcksichtigung der Codierungsgeschwindigkeit schnell transkodiert wurde. Es stellte sich sofort die Frage: Vielleicht k√∂nnen diese oder andere offensichtliche Optionen dieses Bild ver√§ndern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Bericht vergleicht Voreinstellungen, enth√§lt jedoch keine Empfehlungen zu deren Korrektur. </font><font style="vertical-align: inherit;">In diesem Artikel haben wir einen √§hnlichen Vergleich durchgef√ºhrt und Empfehlungen zum √Ñndern der x265-Encoder-Voreinstellungen gegeben. </font><font style="vertical-align: inherit;">Bei einer Videosequenz √§hnlich der in der kostenlosen Version des Berichts untersuchten k√∂nnen die vorgeschlagenen √Ñnderungen der Codierungsparameter die Komprimierungseffizienz verbessern, w√§hrend der x265-Encoder beim Plotten des Berichts wiederhergestellt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die modifizierten Voreinstellungen beanspruchen keine Universalit√§t. Das Testen einer gro√üen Anzahl von Videosequenzen w√ºrde den Rahmen dieser Studie sprengen. </font><font style="vertical-align: inherit;">Sie k√∂nnen jedoch als Ausgangspunkt f√ºr die Suche nach M√∂glichkeiten zur Steigerung der Codierungseffizienz von x265 empfohlen werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber das Projekt</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Aufgabe der Videokodierung bei der Multimedia-Verarbeitung, sei es √úbertragung, Bearbeitung oder Bearbeitung, Speicherung, stellt sich st√§ndig sowohl bei der Entwicklung von Anwendungen und Diensten als auch bei deren Konfiguration zum Zeitpunkt der Verwendung. Aufgrund der gro√üen Anzahl beliebter Video-Codecs, auch wenn sie oft vom gleichen Typ sind, ist es nicht einfach, den optimalen aus ihnen auszuw√§hlen und dann die richtigen Einstellungen vorzunehmen. Unter diesen Gesichtspunkten wird wahrscheinlich seit den 2000er Jahren im Labor f√ºr Computergrafik und Multimedia an der Fakult√§t f√ºr Computermathematik und Kybernetik (VMiK) der Moskauer Staatlichen Universit√§t an einem Projekt zum Vergleich von Videocodecs gearbeitet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Oktober 2015 wurde ein Codec-Vergleichsbericht ver√∂ffentlicht, der einige Codecs im HEVC-Format sowie einige andere enth√§lt, die derzeit aktiv entwickelt werden. </font><font style="vertical-align: inherit;">Als "Referenz" wurde der Kompressor x264 √ºbernommen. </font><font style="vertical-align: inherit;">Einer der interessanten Punkte in diesem Bericht ist der x265-Kompressor, und wir werden ihn untersuchen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Analysewerkzeug verwenden wir SolveigMM Zond 265, den Dateianalysator HEVC / H.265 und AVC / H.264.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0d9/39c/b29/0d939cb290d31812d91d9a2747360002.png" alt="Bild"><br>
<br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Methoden zum Vergleichen von Codecs und Ausw√§hlen von Parametern</font></font></h3><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beschreiben die Technik. </font><font style="vertical-align: inherit;">Der Vergleich im Bericht wird gem√§√ü den Kriterien Bitratenqualit√§tsgeschwindigkeit (SSIM, PSNR) durchgef√ºhrt. Das im Bericht beschriebene Verfahren zum Vergleichen des Verh√§ltnisses von Bitrate / Qualit√§tsmetrik (Absatz C.4) ist wie folgt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir w√§hlen mehrere Bitratenwerte aus (zum Beispiel 7 Werte: 1, 2, 4, 6, 8, 10 und 12 Mbit / s), f√ºr die wir die erforderlichen Qualit√§tsmetriken f√ºr jeden Codec ber√ºcksichtigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir markieren die erhaltenen Werte in der Grafik: Qualit√§tsmetrik (Abszissenachse) - Bitrate (Ordinatenachse).</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linear interpolieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir w√§hlen den breitesten Bereich aus, in dem alle Diagramme definiert sind, und finden den Bereich unter allen Diagrammen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ma√ü f√ºr die Qualit√§t eines</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bestimmten Codecs (oder einer Voreinstellung) nehmen wir das Verh√§ltnis seiner Fl√§che zur Fl√§che f√ºr den Referenzcodec. </font><font style="vertical-align: inherit;">Je niedriger die Zahl, desto effizienter ist der Codec.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hlen Sie als Referenz x265 mit der im Bericht ausgew√§hlten Voreinstellung aus (Tabelle 1). </font><font style="vertical-align: inherit;">Der Bericht verwendet nicht die neueste Version des Kompressors. Sie finden sie hier: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 1.5 + 460-ac85c775620f</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bei Verwendung der neuesten Version √§ndert sich jedoch nichts grundlegend. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die verwendeten Kompressorvoreinstellungen sind in Tabelle 1 (f√ºr die Desktop-Plattform) aufgef√ºhrt.</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zerrei√üen</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p veryslow --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Universelle Codierung</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p mittel --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schnelle Neukodierung</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> x265 -p ultraschnell --ref 3 --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 1. Einstellungen des x265-Kompressors im Bericht ‚ÄûMSU HEVC Video Codec Comparison‚Äú. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Empfehlungen zum √Ñndern von Voreinstellungen zu erhalten, testen wir alle Einstellungen, aus denen sie bestehen - welchen Beitrag jede Komponente zu Qualit√§t und Geschwindigkeit leistet. </font><font style="vertical-align: inherit;">Der Plan hier ist wie folgt.</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir codieren die Datei und √§ndern jeden Parameter der Voreinstellung: von schneller Transcodierung zu universell, von universell zu "Rippen". </font><font style="vertical-align: inherit;">Gleichzeitig sparen wir die Codierungszeit.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir berechnen das Qualit√§tsma√ü (wie oben angegeben) und die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relative Codierungszeit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (den minimalen FPS-Codierungswert f√ºr die Datei "voreingestellter ge√§nderter Parameter" relativ zu allen ausgew√§hlten Bitratenwerten).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aus der Tabelle, die aus einem variablen Parameter, einem Qualit√§tsma√ü und einem minimalen FPS besteht, w√§hlen wir die Parameter aus, die zur Verbesserung der Voreinstellungen verwendet werden k√∂nnen.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beschr√§nken uns auf die Parameter von Voreinstellungen f√ºr die universelle Codierung und f√ºr das "Rippen" (Tabelle 2) und enth√ºllen die Parameter "-p Medium" und "-p ultraschnell". </font><font style="vertical-align: inherit;">F√ºgen Sie ihnen zwei weitere hinzu, die im Bericht fehlen: "--keyint -1 --tune ssim". </font><font style="vertical-align: inherit;">Wir werden die aufgelisteten Parameter mit Voreinstellungen f√ºr die schnelle bzw. universelle Transcodierung erg√§nzen.</font></font><br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Universelle Codierung</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --rc-lookahead 20 --scenecut 40 --ctu 64 --min-cu-size 8 --bframes 4 --b-adapt 2 --subme 1 --me hex --early-skip --sao - signhide --weightp --rd 3 --aq-St√§rke 1.0 --aq-Modus 1 --cutree --no-fast-intra</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zerrei√üen</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --weightb --amp --rect --rc-lookahead 40 --bframes 8 --tu-inter-depth 3 --tu-intra-depth 3 --rd 6 --rdoq 2 --psy-rdoq 1.0 - -subme 4 --max-merge 4 --me star --ref 5 --b-intra --lookahead-slices 0</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 2. Kandidatenparameter zum √Ñndern der Voreinstellungen des MSU HEVC Video Codec-Vergleichsberichts </font></font><br>
<br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testen</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der in der kostenlosen Version des Berichts verwendete Download-Link f√ºr die Apple Tree-Testsequenz (Abb. 1) ist nicht angegeben. </font><font style="vertical-align: inherit;">Wir werden eine √§hnliche ausw√§hlen, indem wir ihre Hauptfunktion verwenden - eine Nahaufnahme, eine gro√üe Anzahl kleiner Details. </font><font style="vertical-align: inherit;">Beispiel: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_1080p_h264.mov"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">big_buck_bunny_1080p_h264.mov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", ein Intervall von 338 Frames ab 24 Sekunden: </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ffmpeg -i big_buck_bunny_1080p_h264.mov -ss 00:00:24 -frames: v 338 -c: v rawvideo -pix_fmt yuv420p sample.yuv </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/fce/39d/479/fce39d4793eb54f88cff9eac8dfdf7cd.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abbildung 1. Merkmale der Sequenz Apple Tree ‚Äú </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um bei der Implementierung der drei oben genannten Schritte des Plans nicht viel Zeit damit zu verbringen, die erforderlichen Zahlen √ºber die Zond 265-Oberfl√§che zu schreiben, ist es zweckm√§√üig, die F√§higkeit zu nutzen, √ºber die Befehlszeile zu arbeiten (Tabelle 3):</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zond265_x64% COMPRESSED_FILE% -iref% REFERENCE_420P_FILE% -nowait -report t = Qualit√§t, statstream qm = SSIM o =% TARGET_CSV_FILE% </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Liste aller Parameter sowie deren detaillierte Beschreibung finden Sie auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Dokumentationsseite von Zond 265</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beschreibung</font></font></b><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -iref</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Festlegen der Referenz-YUV-Datei</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -bericht</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Festlegen der Betriebsart Zond 265 in der Befehlszeile</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t = Qualit√§t, statstream</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hier wird die Generierung von zwei Berichten ausgew√§hlt: Qualit√§t und Statistik des Videostreams</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qm = SSIM</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qualit√§tsmetrik zur Berechnung</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pfad zur CSV-Berichtsdatei</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -nowait</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ohne Pausen muss der Zond 265 selbst unverz√ºglich von Datei zu Datei wechseln</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 3. Zond 265-Befehlszeilenparameter, die zum Kompilieren eines Skripts erforderlich </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sind Hier sind zwei Skripte f√ºr Python 2.7: eines zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codieren von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 266 Dateien (20 Einstellungen f√ºr die erste, 18 Einstellungen f√ºr die zweite Voreinstellung, f√ºr 7 Bitraten: 1, 2, 4, 6, 8, 10, 12 Mbit / s), die zweite f√ºr die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berichterstellung im CSV-Format</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Datei - das Verh√§ltnis der FPS-Codierung zur Referenzkonfiguration - das Verh√§ltnis der SSIM-Metrik zur Referenzkonfiguration). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie aus den Berichtstabellen f√ºr das Fragment der Datei " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">big_buck_bunny_1080p_h264.mov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " (Tabellen 5 und 6) </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ersichtlich ist</font></a><font style="vertical-align: inherit;"> , k√∂nnen Sie die Konfiguration beispielsweise wie in Tabelle 4 gezeigt √§ndern</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Wert f√ºr das Qualit√§tsma√ü sollte kleiner als eins sein, und der Wert f√ºr die relative Codierungszeit sollte mehr als eins betragen. </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Test wurde auf einem Computer mit der folgenden Konfiguration durchgef√ºhrt: Intel Core i7-2600 @ 3,4 GHz, 16 GB RAM. </font><font style="vertical-align: inherit;">Die gr√∂√üte Qualit√§tsverbesserung bietet der Parameter "--min-cu-size 8" f√ºr schnelle Codierungskonfigurationen, f√ºr die universelle Codierung - der Parameter "--rdoq-level 2" (verlangsamt aber vor allem auch die Codierung).</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schnelle Neukodierung</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 -p ultraschnell --ref 3 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--rc-lookahead 20 --min-cu-size 8 --bframes 4 - fr√ºh √ºberspringen --cutree --tune</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ssim --bitrate% BITRATE_KBPS %% SOURCE_FILE% -o% TARGET_FILE% --input-res% WIDTH% x% HEIGHT% --fps% FPS%</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Universelle Codierung</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x265 -p mittel </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--weightb --bframes 8 --tu-intra-depth 3 --psy-rdoq 1.0 --b-intra --lookahead-slices 0 --tune</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ssim --bitrate% BITRATE_KBPS %% SOURCE_FILE% - o% TARGET_FILE% - Eingabeaufl√∂sung% BREITE% x% H√ñHE% - fps% FPS%</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 4. √Ñnderung der Voreinstellungen des MSU HEVC-Videocodec-Vergleichsberichts zur Erh√∂hung der Codierungseffizienz bei gleicher Codierungsrate</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 5. Bericht √ºber die √Ñnderung der Schnellrekodierungsvoreinstellung</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/cd2/c6c/693/cd2c6c6931161d0287d11906ed36079f.png" alt="image"><br>
 5.      <br>
</div></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 6. Bericht √ºber die √Ñnderung der universellen Codierungsvoreinstellung</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/537/4cd/30b/5374cd30b05c3e7b1ecb2b7440595213.png" alt="image"><br>
 6.      <br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die richtige Auswahl der Optionen l√§sst sich leicht √ºberpr√ºfen, indem Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das Codierungsskript mit den ge√§nderten Voreinstellungen ausf√ºhren</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Tabelle 7).</font></font><br>
<br>
<table border="1">
<tbody>
<tr>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfiguration</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualit√§tsma√ü</font></font></b><br>
 </td>
<td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relative Codierungszeit</font></font></b><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schnelle Transcodierung (Referenz)</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schnelle Transcodierung, modifiziert</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,69</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,97</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Universelle Transcodierung (Referenz)</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Universelle Transcodierung, modifiziert</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,85</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,94</font></font><br>
 </td>
</tr>
</tbody>
</table><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle 7. Codierungseffizienz unter Verwendung ge√§nderter Voreinstellungen im Vergleich zu den Berichtsvoreinstellungen ‚ÄûMSU HEVC Video Codec Comparison‚Äú </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns untersuchen, welche Auswirkungen die √Ñnderung der Optionen hat. √ñffnen Sie die im Zond 265 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codierte Datei</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit der </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ge√§nderten Voreinstellung, wenn Sie</font></a><font style="vertical-align: inherit;"> die 8-Mbit / s-Bitrate </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">schnell transkodieren,</font></a><font style="vertical-align: inherit;"> und vergleichen Sie sie mit der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datei. codiert unver√§ndert voreingestellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Die Gr√∂√üe der maximalen Codiereinheit bleibt gleich und betr√§gt 32 x 32 (Bereich ‚Äû--ctu 32‚Äú). Die Gr√∂√üe des Mindestblocks verringerte sich jedoch von 16 auf 8 (der Bereich ‚Äû--min-cu-size 8‚Äú). Dieser Parameter f√ºhrte zu der gr√∂√üten Qualit√§tssteigerung. Die Anzahl der B-Frames wurde von 3 auf 4 erh√∂ht (der Bereich "--bframes 4"), aber die maximale Anzahl der "Referenz" -Rahmen wurde erh√∂ht (der Bereich "--ref 4"). Der SSIM-Bereich zeigt die maximalen SSIM / PSNR-Diagramme f√ºr drei Komponenten: Helligkeit (Luma) und zwei Farbkomponenten (Cb, Cr). Sie stiegen von 0,9623 bis 0,9966 auf 0,9771 bis 0,9991. Die verbleibenden zus√§tzlichen Parameter (--rc-lookahead 20 --early-skip --cutree) wirken sich auf den Codierungsalgorithmus aus und nicht auf den Typ des resultierenden Videos. Dies spiegelt sich haupts√§chlich in der Codierungsgeschwindigkeit wider (siehe Tabelle 5). Es sollte beachtet werdenOptisch hat sich das Bild des decodierten Rahmens ge√§ndert - Codierungsartefakte sind jetzt nicht mehr sichtbar.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f83/d2d/cde/f83d2dcde165b09e33f3245131682ce2.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abbildung 2. Screenshot der Zond 265-Datei, die mit der korrigierten Konfiguration der schnellen Codierung codiert wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ebenso k√∂nnen Sie die Parameter der codierten Datei mit der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modifizierten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unver√§nderten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> universellen Codierungsvoreinstellung </font><font style="vertical-align: inherit;">√ºberpr√ºfen </font><font style="vertical-align: inherit;">(Abbildung 3). Die Gr√∂√üe der minimalen TU-Partitionen √§nderte sich nicht und blieb gleich 4x4 (Bereich "--tu-Intra-Depth 3"), die Anzahl der B-Frames blieb unver√§ndert und gleich 3 (Bereich "--bframes 3"). SSIM stieg von 0,9789-0,9994 auf 0,9811-0,9992. Im Vergleich zur schnellen Transcodierungskonfiguration wurde die maximale Blockgr√∂√üe erh√∂ht und betrug 64 x 64 (Bereich "--ctu 64"). Ein SAO-Filter (Bereich "--sao") wurde hinzugef√ºgt.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/52b/042/875/52b0428750f30b018f10aa48187e42f3.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abbildung 3. Screenshot der Zond 265-Datei, die mit der korrigierten universellen Codierungskonfiguration codiert wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Grundlage der Tests wird daher eine Liste von Optionen vorgeschlagen, um die Codierungseffizienz (Verbesserung der SSIM-Metrik bei gleicher Bitrate und Codierungsgeschwindigkeit) f√ºr schnelle und universelle Codierungskonfigurationen zu verbessern. </font><font style="vertical-align: inherit;">Unter Verwendung der vorgeschlagenen √Ñnderungen f√ºr eine Datei mit einer gro√üen Anzahl kleiner Details verbesserte sich der Wert des integralen ‚ÄûQualit√§tsma√ües‚Äú des Berichts ‚ÄûMSU HEVC Video Codec Comparison‚Äú f√ºr die schnelle Konvertierung um 31% und bei der universellen Konvertierung um 15%, und die Codierungsgeschwindigkeit √§nderte sich nicht wesentlich. </font><font style="vertical-align: inherit;">Weil </font><font style="vertical-align: inherit;">Da die Tests f√ºr jede Option separat durchgef√ºhrt wurden, k√∂nnen Sie in der Praxis nur einige praktische Optionen ausw√§hlen und verwenden und nicht die gesamte vorgeschlagene Liste.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referenzen</font></font></h3><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HEVC Video Codecs Comparison</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blender Foundation | www.blender.org</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zond 265 home page</a></li>
</ol></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de388423/">https://habr.com/ru/post/de388423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de388413/index.html">X-Flash LED-Lampen</a></li>
<li><a href="../de388415/index.html">MP8036multi: Thermostatbeispiel</a></li>
<li><a href="../de388417/index.html">Sport gegen Fitness: Fitbit Charge HR und Polar M400</a></li>
<li><a href="../de388419/index.html">Fusar: Wie Sie Ihren Helm in einen intelligenten Helm verwandeln</a></li>
<li><a href="../de388421/index.html">OpenCL bei allt√§glichen Aufgaben</a></li>
<li><a href="../de388425/index.html">NX 1 ‚Äî —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π 3D-–ø—Ä–∏–Ω—Ç–µ—Ä. –û–±–∑–æ—Ä —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–µ—Ä–∞ –≤ –º–∏—Ä–µ 3D-–ø–µ—á–∞—Ç–∏</a></li>
<li><a href="../de388429/index.html">Peter Malkin: ‚ÄûIch wollte, dass ich mich nicht f√ºr die letzten Jahre sch√§me.‚Äú</a></li>
<li><a href="../de388431/index.html">BitNotarize schl√§gt vor, Blockchain anstelle von Notar zu verwenden</a></li>
<li><a href="../de388433/index.html">Physiker haben einen Weg vorgeschlagen, Informationen aus einem Schwarzen Loch zu extrahieren</a></li>
<li><a href="../de388435/index.html">Wie wir ein Analogon von Oculus Rift gemacht haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>