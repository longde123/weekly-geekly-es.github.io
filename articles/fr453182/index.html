<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥üèø ü§° ‚òÉÔ∏è Le monde entier dans votre poche ou comment faire une carte mobile en quelques jours üëÜ üî≤ üçë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article pr√©c√©dent, j'ai expliqu√© comment cr√©er rapidement un num√©roteur Web. Mais que se passe-t-il si vous d√©finissez une t√¢che plus ambitieu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le monde entier dans votre poche ou comment faire une carte mobile en quelques jours</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/453182/"><img src="https://habrastorage.org/webt/a7/rk/wq/a7rkwqzwhfuc8lhtdpm1egxuwmm.jpeg"><br><p><br>  Dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article pr√©c√©dent,</a> j'ai expliqu√© comment cr√©er rapidement un num√©roteur Web.  Mais que se passe-t-il si vous d√©finissez une t√¢che plus ambitieuse - assembler votre propre application avec une carte, sans publicit√© et avec blackjack?  Et si en seulement quelques jours? </p><br><p>  Faisons-le!  Je demande un chat. </p><a name="habracut"></a><br><p>  Voyons d'abord ce que nous devons faire.  En sortie, nous voulons obtenir une application avec des donn√©es de r√©f√©rence et une carte.  Et pour travailler hors ligne.  En tant que d√©veloppeur, je m'int√©resse principalement √† la carte, car nous savons d√©j√† comment afficher les donn√©es de r√©f√©rence.  Et hors ligne est une limitation assez forte dans ce cas, car il n'y a pas beaucoup de bonnes biblioth√®ques avec un support hors ligne.  Par cons√©quent, dans l'article, nous nous concentrerons sur la carte, mais parlons en passant du guide. </p><br><h2 id="vybiraem-dvizhok-karty">  Choisissez un moteur de carte </h2><br><p>  La premi√®re chose √† faire est d'obtenir les donn√©es de l'application.  Il existe de nombreuses sources sur le march√©, gratuites et peu nombreuses.  Pour commencer, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenStreetMap</a> nous convient tout √† fait en tant que source ouverte de donn√©es cartographiques.  Vous pouvez y prendre un certain nombre de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">POI</a> pour notre annuaire. </p><br><p>  L'√©tape suivante consiste √† choisir un moteur de cartes.  Sur Internet, il y en a un certain nombre, encore moins gratuits, et avec un support hors ligne, il n'y en a g√©n√©ralement que quelques-uns.  Je sugg√®re d'utiliser une option assez cool - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mapsforge / vtm</a> .  Il s'agit d'un moteur OpenGL vectoriel, tr√®s rapide, supporte offline, Android, iOS, diverses sources de donn√©es, style personnalis√©, superpositions, marqueurs, mod√®les 3D et m√™me 3D d'objets!  Tr√®s, tr√®s cool. </p><br><p>  Le r√©f√©rentiel contient de nombreux exemples de d√©marrage rapide, il existe des cartes pr√™tes √† l'emploi, il existe un plug-in qui vous permet d'assembler votre propre carte √† partir de donn√©es au format OSM.  Alors, commen√ßons! </p><br><pre><code class="java hljs">MapView mapView = findViewById(R.id.map_view); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map = mapView.map(); File baseMapFile = getMapFile(<span class="hljs-string"><span class="hljs-string">"cyprus.map"</span></span>); MapFileTileSource tileSource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); VectorTileLayer layer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setBaseMap(tileSource); MapInfo info = tileSource.getMapInfo(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (info != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { MapPosition pos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MapPosition(); pos.setByBoundingBox(info.boundingBox, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>, Tile.SIZE * <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setMapPosition(pos); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.setTheme(VtmThemes.DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BuildingLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.layers().add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LabelLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map, layer));</code> </pre> <br><p>  Cr√©ez une source de donn√©es MapFileTileSource, sp√©cifiez l'emplacement du fichier de carte.  De plus, nous nous positionnons au centre du cadre englobant qui nous int√©resse, afin de ne pas √™tre quelque part en dehors de l'emplacement s√©lectionn√© au d√©marrage de l'application.  Installez le th√®me par d√©faut.  Ajoutez une couche de maisons et une couche de signatures.  C‚Äôest tout.  Nous lan√ßons - des miracles! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/id/lw/c5/idlwc5xexfimjwcgh6lvug6ncna.png" width="375" height="667"></div><br><p>  Cela semble plus rapide et plus facile et ne pourrait pas l'√™tre. </p><br><h2 id="delaem-geokoding">  Nous faisons du g√©ocodage </h2><br><p>  La prochaine √©tape importante consiste √† impl√©menter le g√©ocodage.  La carte elle-m√™me est d√©j√† bonne, mais l'interactivit√© est n√©cessaire.  Nous voulons puiser dans la carte et voir des informations sur l'objet que nous avons touch√©.  Et il y a une difficult√©.  Dans l'ensemble, il n'y a pas de g√©ocodage √† part enti√®re dans notre biblioth√®que.  C'est peut-√™tre son plus gros inconv√©nient.  Si rien n'est invent√©, alors nous pouvons profiter des fonctionnalit√©s existantes. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//          float touchRadius = TOUCH_RADIUS * CanvasAdapter.getScale(); long mapSize = MercatorProjection.getMapSize((byte) mMap.getMapPosition().getZoomLevel()); double pixelX = MercatorProjection.longitudeToPixelX(p.getLongitude(), mapSize); double pixelY = MercatorProjection.latitudeToPixelY(p.getLatitude(), mapSize); int tileXMin = MercatorProjection.pixelXToTileX(pixelX - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileXMax = MercatorProjection.pixelXToTileX(pixelX + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMin = MercatorProjection.pixelYToTileY(pixelY - touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); int tileYMax = MercatorProjection.pixelYToTileY(pixelY + touchRadius, (byte) mMap.getMapPosition().getZoomLevel()); Tile upperLeft = new Tile(tileXMin, tileYMin, (byte) mMap.getMapPosition().getZoomLevel()); Tile lowerRight = new Tile(tileXMax, tileYMax, (byte) mMap.getMapPosition().getZoomLevel()); //   ,        MapDatabase mapDatabase = ((MapDatabase) ((OverzoomTileDataSource) tileSource.getDataSource()).getDataSource()); MapReadResult mapReadResult = mapDatabase.readLabels(upperLeft, lowerRight); StringBuilder sb = new StringBuilder(); //   POI     sb.append("*** POI ***"); for (PointOfInterest pointOfInterest : mapReadResult.pointOfInterests) { Point layerXY = new Point(); mMap.viewport().toScreenPoint(pointOfInterest.position, false, layerXY); Point tapXY = new Point(e.getX(), e.getY()); if (layerXY.distance(tapXY) &gt; touchRadius) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = pointOfInterest.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } } //  ,     sb.append("\n\n").append("*** WAYS ***"); for (Way way : mapReadResult.ways) { if (way.geometryType != GeometryBuffer.GeometryType.POLY || !GeoPointUtils.contains(way.geoPoints[0], p)) { continue; } sb.append("\n"); List&lt;Tag&gt; tags = way.tags; for (Tag tag : tags) { sb.append("\n").append(tag.key).append("=").append(tag.value); } }</span></span></code> </pre> <br><p>  Il s'est av√©r√© relativement verbeux.  Vous devez trouver une tuile, obtenir des moyens (dans la terminologie OSM, il s'agit d'un objet lin√©aire), et vous pouvez en extraire certains attributs.  En plus des moyens, il est possible d'obtenir un POI, mais c'est tout.  Vous devrez remonter le reste de la logique vous-m√™me: choisissez le ¬´correct¬ª dans l'ensemble des objets que le clic a touch√©, filtrez par niveaux de zoom.  Et encore une chose.  En fait, nous perdons des informations sur la g√©om√©trie d'origine et n'obtenons en r√©ponse √† une recherche qu'un ensemble de lignes.  Si vous souhaitez √©galement cr√©er un g√©o-√©diteur, cela ne suffira √©videmment pas. </p><br><p>  Mais pour d√©montrer l'approche, tout nous convient. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p9/9t/m_/p99tm_xdj7tdnnjewpzovvsmqjm.png" width="375" height="667"></div><br><p><br></p><br><h2 id="prodvinutyy-geokoding">  G√©ocodage avanc√© </h2><br><p>  D'une mani√®re g√©n√©rale, il existe une option plus avanc√©e.  Pour cela, nous avons besoin de notre propre base.  En particulier, vous pouvez utiliser SQLite.  Certes, SQLite standard ne nous suffira pas, et nous devrons cr√©er le notre en y connectant le plugin RTree pour la recherche g√©ographique.  Comment faire cela, je l'ai d√©j√† dit dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> , la section "Faites une bonne recherche." <br>  Dans ce cas, nous obtenons un contr√¥le total sur les donn√©es, nous pouvons enregistrer tout ce qui est n√©cessaire et dans le bon format.  Nous pouvons √©galement acc√©l√©rer la recherche en texte int√©gral et rechercher nos objets g√©ographiques et soci√©t√©s par nom, adresse et autres attributs. </p><br><p>  La direction est: </p><br><ol><li>  Nous fabriquons des tableaux: <br><ul><li>  objets g√©ographiques (id, type, g√©om√©trie, attributs) </li><li>  entreprises (id, attributs, geo_id) en r√©f√©rence √† la g√©om√©trie du b√¢timent dans lequel il se trouve </li><li>  rtree <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">geoindex</a> comme ceci: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VIRTUAL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> rtree( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- Integer primary key minX, maxX, -- Minimum and maximum X coordinate minY, maxY -- Minimum and maximum Y coordinate );</span></span></code> </pre> </li></ul></li><li>  Nous remplissons tout de donn√©es. </li><li>  Lorsque vous acc√©dez √† la carte, nous obtenons GeoPoint et ex√©cutons la demande: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> geo_index <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> minX&gt;=<span class="hljs-number"><span class="hljs-number">-81.08</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxX&lt;=<span class="hljs-number"><span class="hljs-number">-80.58</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> minY&gt;=<span class="hljs-number"><span class="hljs-number">35.00</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> maxY&lt;=<span class="hljs-number"><span class="hljs-number">35.44</span></span></code> </pre> </li><li>  Derni√®re √©tape: filtrer et s√©lectionner l'objet appropri√©. </li></ol><br><p>  L'une des options d'impl√©mentation peut √™tre consult√©e dans le <a href="">r√©f√©rentiel</a> . </p><br><p>  Par cons√©quent, nous savons d√©j√† comment afficher la carte et g√©rer les clics.  Pas mal. </p><br><h2 id="dobavlyaem-vazhnye-melochi">  Ajoutez des petites choses importantes. </h2><br><p>  Ajoutons quelques fonctionnalit√©s importantes. </p><br><p>  Commen√ßons par l'emplacement actuel.  Dans mapsforge / vtm, il y a juste un sp√©cial pour cela.  Couche LocationLayer.  L'utilisation est extr√™mement simple. </p><br><pre> <code class="java hljs">LocationLayer locationLayer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LocationLayer(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map); locationLayer.setEnabled(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">//       , ,     GPS GeoPoint initialGeoPoint = this.map.getMapPosition().getGeoPoint(); locationLayer.setPosition(initialGeoPoint.getLatitude(), initialGeoPoint.getLongitude(), 1); this.map.layers().add(locationLayer);</span></span></code> </pre> <br><p>  Il n'y a qu'un seul inconv√©nient - c'est l'ondulation constante du ¬´point bleu¬ª sur la bordure de l'√©cran lorsque l'emplacement actuel est en dehors de la carte.  Tr√®s probablement, dans le processus d'utilisation, vous vous retrouverez rarement dans une telle situation, mais cela provoque un re-rendu constant, en cons√©quence, il charge un peu le processeur.  Pour se d√©barrasser de cela, c'est un peu plus difficile, vous devez entrer dans le shader et le r√©parer.  Mais c'est d√©j√† pour les perfectionnistes.  Comment faire - vous pouvez voir <a href="">ici</a> . </p><br><p>  Donc, la position est.  Il est temps d'ajouter le bouton de navigation √† la position actuelle, comme dans toutes les applications de cartographie qui se respectent. </p><br><pre> <code class="java hljs">View vLocation = findViewById(R.id.am_location); vLocation.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(initialGeoPoint));</code> </pre> <br><p>  Nous avons √©galement besoin des boutons de zoom. </p><br><pre> <code class="javascript hljs">View vZoomIn = findViewById(R.id.am_zoom_in); vZoomIn.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); View vZoomOut = findViewById(R.id.am_zoom_out); vZoomOut.setOnClickListener(v -&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateZoom(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><br><p>  Et la cerise sur le g√¢teau est une boussole. </p><br><pre> <code class="javascript hljs">View vCompass = findViewById(R.id.am_compass); vCompass.setVisibility(View.GONE); vCompass.setOnClickListener(v -&gt; { MapPosition mapPosition = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.getMapPosition(); mapPosition.setBearing(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.animator().animateTo(<span class="hljs-number"><span class="hljs-number">500</span></span>, mapPosition); vCompass.animate().setListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animator.AnimatorListener() { @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationStart(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationEnd(Animator animation) { vCompass.setVisibility(View.GONE); } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationCancel(Animator animation) { } @Override public <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> onAnimationRepeat(Animator animation) { } }).setDuration(<span class="hljs-number"><span class="hljs-number">500</span></span>).rotation(<span class="hljs-number"><span class="hljs-number">0</span></span>).start(); }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.map.events.bind((e, mapPosition) -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e == <span class="hljs-built_in"><span class="hljs-built_in">Map</span></span>.ROTATE_EVENT) { vCompass.setRotation(mapPosition.getBearing()); vCompass.setVisibility(View.VISIBLE); } });</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/hp/cq/lwhpcqipt5bo-nirjiiz676gpo8.png" width="375" height="667"></div><br><p><br></p><br><h2 id="zahvatyvaem-mir">  Capturer le monde </h2><br><p>  Amis, nous sommes √† la ligne d'arriv√©e.  Reste √† ajouter la touche finale.  Nous pr√©voyons de capturer le monde, ce qui signifie que nous devons en quelque sorte l'int√©grer dans notre application. </p><br><p>  Et les choses sont telles qu'avec notre moteur, c'est beaucoup plus facile qu'il n'y para√Æt. <br>  Nous devons l√©g√®rement modifier la m√©thode de chargement de la carte en y ajoutant un MultyMapTileSource.  Il s'agit essentiellement d'un wrapper pour toutes les autres sources de tuiles, qui vous permet d'afficher tout ce qui y est ajout√© sur la carte √† la fois.  Juste une fonctionnalit√© qui tue.  En cons√©quence, il nous reste √† pr√©parer une carte du monde avec un minimum de d√©tails, √† l'ajouter tout d'abord √† notre emballage et √† dessiner le reste par-dessus.  De plus, nous pouvons imm√©diatement ajouter toutes les cartes que nous avons dans le catalogue avec des cartes de l'application!  Magnifique, tout simplement magnifique.  Et n'oubliez pas qu'il est hors ligne :) </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  - MultiMapFileTileSource mmtilesource = new MultiMapFileTileSource(); File baseMapFile = getMapFile("cyprus.map"); MapFileTileSource tileSource = new MapFileTileSource(); tileSource.setMapFile(baseMapFile.getAbsolutePath()); mmtilesource.add(tileSource); //     MultiMapFileTileSource MapFileTileSource worldTileSource = new MapFileTileSource(); File worldMapFile = getMapFile("world.map"); worldTileSource.setMapFile(worldMapFile.getAbsolutePath()); mmtilesource.add(worldTileSource); //      - VectorTileLayer layer = this.map.setBaseMap(mmtilesource);</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/9pdshe1mg7Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Peut-√™tre que nous sommes pr√™ts pour la sortie.  Nous collectons la construction, la mettons sur le march√© et obtenons les √©toiles bien m√©rit√©es :) </p><br><h2 id="para-lozhek-dyogtya-v-ogromnoy-bochke-myoda">  Un couple de cuill√®res de goudron dans un √©norme baril de miel </h2><br><p>  Le moteur open source se d√©veloppe activement, mais son √©quipe, franchement, est plut√¥t modeste.  Dans l'ensemble, il s'agit d'une personne sous le nom de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">devemux86</a> .  Et quelques gars de temps en temps. </p><br><p>  Parfois, il y a des artefacts dans le rendu, certains clignotent et se contractent.  Mais je n'ai jamais rencontr√© de probl√®mes critiques et encore plus de crashs, qui ne peuvent que se r√©jouir. </p><br><p>  Il y a encore une nuance qui peut ne pas √™tre agr√©able.  Ceci est un dessin de filets et de cercles.  Un exemple de la fa√ßon dont cela ressemble √† la capture d'√©cran: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/37/lo/qc37lomxbxd2ln7r_2zngp6repo.png" width="375" height="667"></div><br><p><br></p><br><p>  Si dans la g√©om√©trie initiale il y a beaucoup de points (l'arrondi est lisse), alors sur la carte vous pouvez voir un cercle plut√¥t "angulaire" avec de nombreux petits renflements et concavit√©s.  √âvidemment, cela est fait pour des raisons de performances et de taille du fichier de carte, mais cela n'a pas l'air tr√®s bien. </p><br><p>  C'est peut-√™tre tout le contre pour aujourd'hui.  Vous d√©cidez si vous pouvez vivre avec eux ou non.  Pendant ce temps, nous utilisons cette biblioth√®que depuis plus d'un an et demi, le vol est excellent, du moins sur Android. </p><br><h2 id="itogi">  R√©sum√© </h2><br><p>  Dans cet article, j'ai montr√© que m√™me un probl√®me assez banal peut √™tre r√©solu assez rapidement.  Vous avez un squelette pr√™t √† l'emploi, avec lequel vous pouvez cr√©er un prototype de tout projet impliquant l'utilisation d'une carte hors ligne en un minimum de temps. </p><br><p>  S'il y a un int√©r√™t, dans le prochain article je montrerai comment faire des planchers √† la 2GIS.  Et c'est en fait beaucoup plus simple qu'il n'y para√Æt :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453182/">https://habr.com/ru/post/fr453182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453168/index.html">Recherche: cr√©ation d'un service proxy de blocage √† l'aide de la th√©orie des jeux</a></li>
<li><a href="../fr453170/index.html">Remue-m√©ninges: comment regarder les t√¢ches sous un angle diff√©rent</a></li>
<li><a href="../fr453174/index.html">Huit raisons de passer √† la nouvelle Yandex. API Cashier</a></li>
<li><a href="../fr453178/index.html">La principale comp√©tence du d√©veloppeur qui am√©liorera votre code</a></li>
<li><a href="../fr453180/index.html">Comment mener une planification trimestrielle distribu√©e sans papier et ne pas la g√¢cher?</a></li>
<li><a href="../fr453188/index.html">Comment expliquer aux gestionnaires non informatiques les principes de la construction d'une infrastructure informatique tol√©rante aux pannes</a></li>
<li><a href="../fr453190/index.html">ANPR utilisant RoR & React Native</a></li>
<li><a href="../fr453192/index.html">Synchronisation et asynchronie des processus</a></li>
<li><a href="../fr453194/index.html">Nous r√©solvons le probl√®me du meilleur inverseur avec PHDays 9</a></li>
<li><a href="../fr453196/index.html">Forrester Research: une comparaison des dix meilleurs fournisseurs d'analyse de composition logicielle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>