<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¾ â„¹ï¸ ğŸ¥‘ Menyiapkan tes Unit dalam proyek Swift + Objective-C campuran âœ”ï¸ ğŸ“ƒ ğŸ¤±ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan kecil, saya akan memberi tahu Anda masalah apa yang muncul saat membuat target untuk pengujian dalam proyek ObjectiveC + Swift yang a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menyiapkan tes Unit dalam proyek Swift + Objective-C campuran</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460961/"> Artikel ini akan kecil, saya akan memberi tahu Anda masalah apa yang muncul saat membuat target untuk pengujian dalam proyek ObjectiveC + Swift yang agak lama dan campuran, dan bagaimana saya berhasil menyelesaikannya. <br><a name="habracut"></a><br>  Hal pertama yang membingungkan: kesalahan dalam satu target pengujian dapat mempengaruhi peluncuran autotest dari target pengujian lain.  Anda dapat menambahkan sejumlah target untuk pengujian dalam proyek, mereka biasanya didasarkan pada target utama proyek, dan secara otomatis ditambahkan ke skema peluncurannya.  Jadi, ketika menjalankan autotest pada skema ini, sisanya akan dikompilasi, dan kesalahan pada salah satu target tes akan mengganggu peluncuran yang lain.  Untuk mengisolasi efek ini, Anda dapat membuat skema berbeda untuk target tes yang berbeda. <br><br>  Saya akan menyertakan tangkapan layar yang sangat sepele, hanya untuk kejelasan: <br><br><img src="https://habrastorage.org/webt/7-/u2/s3/7-u2s3ujfixxgvfywsmcwc-hm0a.png"><br><br><img src="https://habrastorage.org/webt/hs/v_/s1/hsv_s18i78rk5j_cctn4cwm_g2y.png"><br><br>  Masalah berikutnya adalah ketergantungan antara Objecive-C dan Swift. <br>  Dalam proyek Anda dibuat: <br><br>  <b>MyProject-Bridging-Header.h</b> : file ini berisi nama-nama file ObjectiveC-header yang digunakan dalam cepat. <br>  <b>MyProject-swift.h</b> : ia membuat kode implisit untuk kelas swift yang digunakan dalam kelas ObjectiveC. <br>  <b>MyProject-Prefix.pch</b> : file precompilation juga dapat berisi dependensi dengan berbagai cara, termasuk konstruksi seperti: <br><br><pre><code class="swift hljs">#ifdef __OBJC__ #<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> "MyProject-Swift.h" #endif</code> </pre> <br>  Autotest Anda juga dapat membuat dependensi seperti itu.  Saat menambahkan file cepat pertama, Xcode menawarkan untuk membuat file jembatan-header untuk target pengujian ini.  Semuanya bekerja seperti pesona.  Secara teori, isi autotest jembatan-header harus melengkapi jembatan utama, tetapi pada kenyataannya, terjadi penggantian.  Oleh karena itu, untuk memiliki akses ke semua kelas proyek di autotest, dalam opsi ini saya tentukan header-header dari target utama (gambar di atas). <br><br>  Pergi ke <b>Target</b> Xcode <b>-&gt; BuildSetting</b> dan periksa parameter berikut: <br>  <b>Objective-C Bridging Header</b> <br>  <b>Nama Header Antarmuka Dihasilkan Objective-C</b> <br>  Tentukan file target utama. <br><br>  Namun, jika Anda menarik header-jembatan utama, maka semua dependensi mulai meregang.  Karena itu, Anda juga harus mengisi parameter berikut dengan data dari proyek utama: <br>  <b>Jalur pencarian kerangka kerja</b> <br>  <b>Jalur pencarian tajuk</b> <br>  <b>Jalur pencarian perpustakaan</b> <br>  <b>Bendera penghubung lainnya</b> <br>  <b>Jalur Pencarian Runpath</b> <b>TIDAK</b> perlu diubah. <br><br>  Kemudian masalah aneh lain ditemukan: <br>  Untuk beberapa alasan, dalam proyek yang lebih lama, target pengujian diberikan <b>Nama Modul Produk yang</b> sama dengan yang utama.  Ini tidak menghentikan ObjectiveC tunggal, tetapi ketika menambahkan cepat ke proyek, dua masalah muncul. <br><br>  Masalah pertama adalah dalam hal ini <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@testable</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MyProject</code> </pre> <br>  file autotest diabaikan dan Anda tidak dapat mengakses kelas Swift. <br><br>  Masalah kedua adalah bahwa target pada kompilasi menimpa MyProject-swift dari target utama dan mencegah kompilasi target lainnya.  Parameter ini perlu diganti namanya. <br><br>  Mengenai hal ini, autotest saya mulai dan dapat menggunakan file proyek, yang juga saya harapkan! <br>  Saya tidak sering bekerja untuk menyiapkan proyek, jadi semua komentar praktis dan saran tentang topik ini dipersilakan. <br><br>  Terima kasih untuk semua orang yang membacanya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460961/">https://habr.com/ru/post/id460961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460949/index.html">"Dan yang tidak mungkin adalah mungkin": kita mengubah kotak hitam menjadi putih menggunakan analisis biner</a></li>
<li><a href="../id460951/index.html">Buat Wallpaper Animasi Android</a></li>
<li><a href="../id460953/index.html">Pointer itu kompleks, atau apa yang disimpan dalam byte?</a></li>
<li><a href="../id460955/index.html">Program pendidikan untuk melewatkan parameter berdasarkan nilai ke konstruktor dan setter (C ++ modern, contoh)</a></li>
<li><a href="../id460959/index.html">Teknologi baru Microsoft memungkinkan salinan 3D orang sungguhan untuk berbicara bahasa apa pun</a></li>
<li><a href="../id460965/index.html">Split Controller tanpa ini storyboard Anda</a></li>
<li><a href="../id460967/index.html">Troy Hunt: 10 pelajaran keuangan pribadi untuk profesional teknologi informasi</a></li>
<li><a href="../id460969/index.html">Margaret Hamilton: â€œMereka khawatir pria akan memberontak; tapi itu tidak terjadi â€</a></li>
<li><a href="../id460971/index.html">NVIDIA Jetson Nano: Tes dan Kesan Pertama - Bagian 2, Tes AI</a></li>
<li><a href="../id460973/index.html">Hubungi pengelasan untuk 18650 baterai</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>