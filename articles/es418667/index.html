<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔻 🧒 ↖️ Evaluación comparativa de HDFS 3 con HDFS 2 👼 🏁 👲🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nuestra empresa SberTech (Sberbank Technologies) actualmente usa HDFS 2.8.4 porque tiene una serie de ventajas, como el ecosistema Hadoop, el trabajo ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Evaluación comparativa de HDFS 3 con HDFS 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418667/">  Nuestra empresa SberTech (Sberbank Technologies) actualmente usa HDFS 2.8.4 porque tiene una serie de ventajas, como el ecosistema Hadoop, el trabajo rápido con grandes cantidades de datos, es bueno en análisis y mucho más.  Pero en diciembre de 2017, Apache Software Foundation lanzó una nueva versión del marco de código abierto para desarrollar y ejecutar programas distribuidos: Hadoop 3.0.0, que incluye una serie de mejoras significativas sobre la línea de lanzamiento principal anterior (hadoop-2.x).  Una de las actualizaciones más importantes e interesantes para nosotros es el soporte de códigos de redundancia (Erasure Coding).  Por lo tanto, la tarea se estableció para comparar estas versiones entre sí. <br><br>  SberTech Company asignó 10 máquinas virtuales de 40 GB cada una para este trabajo de investigación.  Dado que la política de codificación RS (10.4) requiere un mínimo de 14 máquinas, no funcionará probarla. <br><br>  En una de las máquinas, NameNode se ubicará además del DataNode.  Las pruebas se realizarán con las siguientes políticas de codificación: <br><br><ul><li>  XOR (2.1) </li><li>  RS (3.2) </li><li>  RS (6.3) </li></ul><br>  Y también, usando la replicación con un factor de replicación de 3. <br><br>  El tamaño del bloque de datos se eligió igual a 32 MB. <br><a name="habracut"></a><br><h2>  Investigación </h2><br><h3>  Prueba de velocidad de datos </h3><br>  Se realizaron pruebas para las tasas de transferencia de datos.  Los datos se transfirieron del sistema de archivos local al sistema de archivos distribuido.  El tamaño del archivo utilizado en esta prueba es 292,2 MB. <br><br>  Se obtuvieron los siguientes resultados: <br><br><img src="https://habrastorage.org/webt/u4/fb/x1/u4fbx1nmywu9_4nloanyeid4ye8.png"><br><br>  También se construye un gráfico de los valores recibidos agrupados del tiempo de transferencia de archivos: <br><br><img src="https://habrastorage.org/webt/qt/hk/oy/qthkoyvbezs2wzdyoxvgk71qsom.png"><br><br>  Y también, un gráfico de velocidades de datos agrupados recibidos: <br><br><img src="https://habrastorage.org/webt/te/9b/cg/te9bcg3kcwddgbvzxkc4xwxoj5i.png"><br><br>  Como se puede ver en el gráfico, los datos más rápidos se transmiten codificados con XOR (2,1).  Las codificaciones RS (6.3) y RS (3.2) muestran un comportamiento similar, aunque el valor de velocidad promedio para RS (6.3) es ligeramente mayor.  La replicación pierde mucha velocidad (aproximadamente 1.5 veces menos que XOR y 1.5 veces menos que RS). <br><br>  En cuanto a la eficiencia del almacenamiento, XOR (2.1) y RS (6.3) son los métodos de almacenamiento más rentables, los datos redundantes son solo del 50%.  La replicación, con una relación de replicación de 3, pierde nuevamente, almacenando el 200% de los datos redundantes. <br><cut><br><h3>  Prueba de rendimiento </h3><br>  En la prueba anterior, el estado de los servidores se monitoreó utilizando la herramienta de monitoreo Grafana. <br><br>  A continuación se muestra un gráfico que muestra la carga de la CPU durante las pruebas de transferencia de datos: <br><br><img src="https://habrastorage.org/webt/um/f0/mi/umf0mikahbm4er90urpaty_kere.png"><br><br>  Como se puede ver en el gráfico, en esta prueba también la codificación RS (6.3) consume la menor cantidad de recursos.  La replicación muestra nuevamente el peor resultado. <br><br><h3>  Consumo de recursos en recuperación de datos </h3><br>  Para realizar esta prueba, se cargó una cierta cantidad de datos en el sistema de archivos distribuido de Hadoop.  Luego se omitieron dos máquinas con un DataNode. <br>  A continuación se muestran gráficos del estado de las máquinas en el momento de la recuperación de datos con codificación RS (6.3) y cuando se usa la replicación: <br><br><img src="https://habrastorage.org/webt/sz/da/zp/szdazpchweifp2rvp4q6w_ieirc.png"><br>  <i>Estado del procesador durante la recuperación de datos mediante codificación RS (6.3)</i> <br><br><img src="https://habrastorage.org/webt/jd/7h/22/jd7h22hk-s8qgyqgwil0cwne8y8.png"><br>  <i>Estado de la CPU durante la recuperación de datos mediante la replicación</i> <br><br>  Como se puede ver en los gráficos, la codificación RS (6.3) carga el procesador más que la replicación durante la recuperación de datos, lo cual es lógico, porque para recuperar datos perdidos utilizando códigos redundantes, es necesario calcular la matriz de redundancia inversa, que consume más recursos que simplemente sobrescribir datos de otro DataNode en caso de replicación. <br><br><h3>  Resultados de la prueba: </h3><br><ul><li>  Para velocidades de transferencia de datos, es mejor usar codificación XOR (2.1) o RS (6.3) </li><li>  Al transmitir datos, el procesador carga menos la codificación RS (6.3) y RS (3.2) </li><li>  Al restaurar los datos, el procesador está menos estresado por el uso de la replicación. </li><li>  La forma más compacta de almacenar datos son las codificaciones RS (6.3) y XOR (2.1) </li></ul><br>  El método de almacenamiento más confiable es la codificación RS (6.3), ya que le permite perder hasta tres máquinas sin pérdida de datos, y la replicación con un coeficiente de replicación de 3 admite fallas de hasta 2 máquinas.  XOR (2, 1) es la forma más poco confiable de almacenar datos, ya que le permite perder un máximo de una máquina. <br><br><h2>  Conclusión </h2><br>  Los objetivos principales del uso del sistema de archivos distribuido en SberTech son: <br><br><ul><li>  Alta fiabilidad </li><li>  Minimizar el costo de mantenimiento de servidores para el almacenamiento de datos. </li><li>  Proporcionar herramientas de análisis de datos. </li></ul><br>  En base a los resultados del análisis, se hacen las siguientes conclusiones: <br><br><ul><li>  HDFS 3 supera la confiabilidad sobre HDFS 2. </li><li>  HDFS 3 gana al minimizar los costos de mantenimiento del servidor porque almacena los datos de manera más compacta. </li><li>  HDFS 3 tiene el mismo conjunto de herramientas de análisis de datos que HDFS 2. </li></ul><br>  En este sentido, se concluyó que HDFS 3 es un reemplazo racional para HDFS 2. <br><br><h2>  Fuentes utilizadas: </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Códigos de Reed-Solomon.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Códigos de Reed-Solomon.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2 - Aritmética de los campos de Galois</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Apache Hadoop 3.0.0</a> <br></li></ul></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418667/">https://habr.com/ru/post/es418667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418657/index.html">Realidad mixta asequible: cómo crear espacio virtual</a></li>
<li><a href="../es418659/index.html">Descubra la programación cuántica con Quantum Katas</a></li>
<li><a href="../es418661/index.html">Desarrollo de realidad mixta: ¿pusiste un altavoz en una sala de estar virtual?</a></li>
<li><a href="../es418663/index.html">Cómo se hace el sonido para otra realidad</a></li>
<li><a href="../es418665/index.html">Adaptación del proyecto MR para HoloLens</a></li>
<li><a href="../es418669/index.html">Semana de la seguridad 28: NetSpectre, ataque a canales de terceros a través de la red</a></li>
<li><a href="../es418673/index.html">Por qué está creciendo el mercado ERP: estadísticas y tendencias</a></li>
<li><a href="../es418675/index.html">Cómo fui a Droidcon Berlin</a></li>
<li><a href="../es418677/index.html">Toda la verdad sobre RTOS. Artículo # 6. Otros servicios RTOS</a></li>
<li><a href="../es418679/index.html">Escribimos un componente con botones de "material" para Svelte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>