<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí• üöõ üíáüèª Erstellen eines eigenen Netzwerks von hausgemachten Ger√§ten basierend auf Arduino (Teil 1) ‚û∞ üèÇüèø üõµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Habravchane! Heute werde ich Ihnen √ºber die Integration von Arduino in einen PC unter Windows und anderen Ger√§ten berichten. Es war bereits...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines eigenen Netzwerks von hausgemachten Ger√§ten basierend auf Arduino (Teil 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414225/"> Guten Tag, Habravchane!  Heute werde ich Ihnen √ºber die Integration von Arduino in einen PC unter Windows und anderen Ger√§ten berichten.  Es war bereits 2018, meine Arduino-Boards verschiedener Modelle kamen endlich zu mir. <br><br>  Ich wollte schon lange ein Smart Home bauen und habe mich f√ºr diese spezielle Plattform entschieden.  Warum?  Nun, ich kenne C # ziemlich gut und ein bisschen C ++, aber wie Sie wissen, ist die Firmware f√ºr Arduino auf den ge√§nderten Pluspunkten geschrieben.  Dar√ºber hinaus verf√ºgt die Plattform √ºber einen Digital-Analog-Wandler, der die Arbeit mit analogen Sensoren vereinfacht.  Dar√ºber hinaus ist die Plattform sehr bekannt und verf√ºgt √ºber eine gro√üe modulare Basis. <br><br>  Bei all meiner Liebe zu Mikrocontrollern ziehe ich es vor, alles unter Windows zu berechnen, und meine ganze St√§rke liegt in .NET-Anwendungen.  Das war mein Problem.  Ich konnte die Arduino IDE-Entwicklungsumgebung einfach nicht erfassen.  Ich musste mich daran gew√∂hnen.  Einfache Aufw√§rmprojekte funktionierten jedoch immer noch haupts√§chlich auf einem PC.  Wer sich f√ºr das Thema interessiert, bitte um einen Schnitt! <br><a name="habracut"></a><br>  Mein erstes Experiment war ein einfacher Informationsaustausch √ºber USB (serielle Schnittstelle), √ºber den ich Pakete mit einfachen Befehlen sendete, um Aktionen auf dem Mikrocontroller auszuf√ºhren.  Zum Beispiel habe ich das Arduino UNO-Modell verwendet. <br><br><img src="https://habrastorage.org/webt/pj/us/mt/pjusmt29ih62p-so_z-w39qp9z0.png"><br><br>  Dies ist die Programmoberfl√§che f√ºr Windows.  "Quietschen" - Geben eines Signals an einen Pin (Arduino-Pin) an Nummer 10 eines konstanten elektrischen Signals, das von dem von mir angeschlossenen Summer gespeist wird.  ‚ÄûLED‚Äú - Gleichstromversorgung f√ºr Pin 13, der standardm√§√üig am Controller mit der eingebauten LED verbunden ist, die zum Debuggen von Skizzen (Firmware) dient. <br><br><img src="https://habrastorage.org/webt/qw/x8/f2/qwx8f2zmtv89uux3hspqyzs9npc.png"><br><br>  All diese Funktionen liegen jedoch genau auf der Steuerung. <br><br>  Was macht das Programm?  Sendet einfach Nummern an den Port!  "0" bedeutet deaktivieren <br>  LED, "1" - LED einschalten, "2" - Summer ausschalten, "3" - einschalten <br>  Summer.  Alles wird mit den Grundelementen von Windows Forms erledigt.  Wenn <br>  Bei Interesse betr√§gt der Datenaustausch 115200 Baud.  Danke <br>  Dazu kann ich einfach den Inhalt von Nachrichten vom Mikrocontroller in anzeigen <br>  Arduino IDE. <br><br><img src="https://habrastorage.org/webt/gg/md/dh/ggmddh_s_sbhimmmxqzghlpkpeg.png"><br><br>  Ich denke, dass viele jetzt wissen wollten, was in der Firmware des Mikrocontrollers war.  Da es relativ lange her ist, war es nicht einfach, nach dem Arduino-Firmware-Code zu suchen, aber die Datei wurde immer noch gefunden! <br><br><div class="spoiler">  <b class="spoiler_title">Ganzer Code</b> <div class="spoiler_text">  A√ü etwas, dies ist eine alte Version der Datei, ohne Summer, nur mit einer LED. <br><br><pre><code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; //       <span class="hljs-type"><span class="hljs-type">int</span></span> led = <span class="hljs-number"><span class="hljs-number">13</span></span>; <span class="hljs-type"><span class="hljs-type">void</span></span> setup() {  <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">115200</span></span>);   //      pinMode(led, OUTPUT); //    <span class="hljs-number"><span class="hljs-number">13</span></span>-      } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() {  i = i + <span class="hljs-number"><span class="hljs-number">1</span></span>; //         String stringOne = "Info from Arduino ";  stringOne +=i; //  <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(stringOne); //     <span class="hljs-type"><span class="hljs-type">char</span></span> incomingChar;  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">Serial</span></span>.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)  {    //           incomingChar = <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>();   //        LED    switch (incomingChar)    {      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'1'</span></span>: digitalWrite(led, HIGH);        break;      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>: digitalWrite(led, LOW);        break;    }  }  delay(<span class="hljs-number"><span class="hljs-number">300</span></span>); }</code> </pre> <br></div></div><br>  Dies ist jedoch nur ein Beispiel.  Das einzige - dieses System sollte einen Hub haben - ist der Schnittpunkt aller Ger√§te.  Und das zerst√∂rt sofort die gesamte Dezentralisierung des Systems. <br><br>  Daher die Schlussfolgerung: Die Methode zur Verwendung des Hubs ist nur f√ºr die Erfassung und Verwaltung von Informationen geeignet.  Ein Hub wird beispielsweise ben√∂tigt, um auf Ger√§te im Internet zuzugreifen, jedoch nicht als zentraler Kommunikationspunkt zwischen ihnen. <br><br>  Angenommen, wir k√∂nnen alle Ger√§te √ºber I2C oder √ºber unser eigenes Protokoll verbinden.  Aber wie kann man Daten im Hub ablegen?  Und was wird im Allgemeinen als Drehscheibe dienen?  Option 3: <br><br><ul><li>  Hub vom Router. </li><li>  Hub von einem anderen Arduino-Board. </li><li>  Hub von Raspberry Pi. </li></ul><br>  <b>Betrachten wir alles der Reihe nach.</b>  <b>Also der Router.</b>  Zun√§chst wird der Router nicht nur ben√∂tigt, sondern auch mit Linux an Bord und einem USB-Anschluss zum Anschlie√üen eines <u>beliebigen</u> Arduino-Boards vom System.  Alle, da das Netzwerk aus einer gro√üen Anzahl von Ger√§ten und einem allgemeinen ‚ÄûChat‚Äú besteht, in dem alle Ger√§te Nachrichten √ºber ihren Status senden.  F√ºr Router ist beispielsweise ‚ÄûLinksys E2100L 802.11b / g / n‚Äú geeignet. <br><br><img src="https://habrastorage.org/webt/37/gq/sn/37gqsn0qkoare2okc36gtp8pipi.png"><br><br>  Wie Sie sehen k√∂nnen, verf√ºgt dieser Router √ºber einen USB-Anschluss, und die Eigenschaften zeigen, dass sich unter Linux alles dreht.  Ich pers√∂nlich habe es nicht benutzt, aber je nach den Eigenschaften wird es uns passen.  Und das ist <u><i>KEINE</i></u> Werbung. <br><br>  Im Fall eines Routers k√∂nnen Sie Daten auf einer seriellen Schnittstelle wie unter Windows ablegen und einen Skript-Nachrichten-Handler unter Linux ausf√ºhren (Entschuldigung, wenn etwas nicht so hei√üt, bin ich mit Linux einfach nicht vertraut). <br><br>  <b>Betrachten Sie Option 2.</b> Ein weiteres Arduino-Board.  Nano-, Mini- und Micro-Modelle sind hier nicht mehr geeignet.  Ben√∂tigen Sie ein Arduino-Modell, entweder UNO oder MEGA.  Verbinden Sie die Karte jedoch nicht mit dem Netzwerk.  Verwenden Sie optional Arduino UNO WI-FI oder das zuverl√§ssigere Arduino Yun oder Tian.  Die Probleme der letzteren sind ein relativ langer Download und Preis, und aufgrund ihrer Funktionalit√§t sehen sie wie der gleiche Router aus, da sie unter Linux funktionieren. <br><br>  Verwenden Sie am besten das sogenannte Ethernet Shield.  Dies ist eine Erweiterungskarte f√ºr Arduino, die oben getragen wird und es Ihnen erm√∂glicht, einen einfachen WEB-Server auf Ihrem Ger√§t mit einfachen PHP-Skripten zu erstellen, um Informationen von anderen Ger√§ten im Netzwerk zu verarbeiten. <br><br><img src="https://habrastorage.org/webt/9g/f-/bm/9gf-bmua1brpvp5tqgirzwzgleq.png"><br><br>  Einige Modelle dieser Erweiterungskarte sind mit einem Steckplatz f√ºr eine Micro-SD-Speicherkarte ausgestattet, der neben der Fernbedienung auch die lokale Protokollierung erm√∂glicht. <br><br>  <b>Option 3.</b> Fast das gleiche wie das vorherige und am wenigsten gef√§llt mir.  Verwenden eines Mikrocomputers Raspberry Pi.  Es ist ein Computer.  Stimmen Sie zu, einen ganzen Computer f√ºr diese Aufgabe aufzuh√§ngen, wenn auch einen sehr schwachen - eine zus√§tzliche Verschwendung von Ressourcen.  Sowohl Geld als auch Computer.  Pers√∂nlich w√ºrde ich Raspberry Pi nur als Video√ºberwachungsserver oder als vorgefertigtes Programm zur Verwaltung eines Smart Homes wie Major DoMo und dergleichen verwenden.  Sie k√∂nnen es auch f√ºr Aufgaben wie Bots in Instant Messenger und komplexe Algorithmen zur Steuerung des Mikroklimas verwenden oder im unwahrscheinlichsten Fall k√ºnstliche Intelligenz dort einsetzen. <br><br><img src="https://habrastorage.org/webt/bm/ur/-t/bmur-tucs_em_ilga0wnixv0uby.png"><br><br>  Wie Sie sehen k√∂nnen, hat der Raspberry Pi 3: <br><br><ul><li>  4 USB-Anschl√ºsse </li><li>  1 Ethernet-Port; </li><li>  1 HDMI-Anschluss </li><li>  Wi-Fi </li><li>  DSI-Schnittstelle zum Anschlie√üen eines Raspberry Pi-Displays mit einem Touchscreen; </li><li>  Steckplatz f√ºr Micro-SD-Karten. </li></ul><br>  Und vieles mehr.  Trotz aller Vorteile eignet sich der Raspberry Pi nicht als Hub. <br><br>  <b>Fazit:</b> Arduino UNO + Ethernet Shield eignet sich f√ºr mich pers√∂nlich eher als Hub.  Von allen in Betracht gezogenen Optionen ist dies die billigste und am einfachsten zu implementierende. <br><br><img src="https://habrastorage.org/webt/th/bc/yb/thbcybmw3avkwfa91mr38xgduua.png"><br><br>  In dieser Konfiguration h√§ngt die Funktionsf√§higkeit des Systems nicht vom Hub ab.  Und selbst wenn der Hub abst√ºrzt, hat dies keine Auswirkungen auf die Leistung des Netzwerks.  Das Netzwerk verliert nur den Zugang zum Internet. <br><br>  Ich denke, der erste Teil kann hier abgeschlossen werden.  Bis dann! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414225/">https://habr.com/ru/post/de414225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414215/index.html">Benutzerdefinierte Bl√∂cke in Chips (Silicon IP): So funktioniert es</a></li>
<li><a href="../de414217/index.html">Lokale Vertex-Smartphones: zuerst in der Qualit√§t, zuerst in den Chips, zuerst im Design</a></li>
<li><a href="../de414219/index.html">Die Erfahrung mit der Nutzung von Solarenergie in der Region Moskau: f√ºr, gegen und wer sie braucht</a></li>
<li><a href="../de414221/index.html">Analysieren und Arbeiten mit Codable in Swift 4</a></li>
<li><a href="../de414223/index.html">C #: Abw√§rtskompatibilit√§t und √úberlastung</a></li>
<li><a href="../de414227/index.html">Eine neue Studie zu Telegrammindikatoren nach dem Blockieren: Abonnenten wachsen, Abdeckung sinkt</a></li>
<li><a href="../de414229/index.html">Analyse verschiedener IT-Schulungsmethoden</a></li>
<li><a href="../de414231/index.html">Wie ich einen v√∂llig leisen Computer gemacht habe</a></li>
<li><a href="../de414233/index.html">1. Basierend auf Meyers "Effektives und modernes c ++" - Inferenz des Vorlagentyps</a></li>
<li><a href="../de414235/index.html">Die mysteri√∂se Geschichte eines Schizophrenen und eines Schamanen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>