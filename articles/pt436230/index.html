<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ ğŸŒ± ğŸ‘·ğŸ» Como assumir o controle de sua infraestrutura de rede. CAPÃTULO TRÃŠS SeguranÃ§a de rede. Parte dois ğŸ•°ï¸ ğŸ¤´ğŸ» ğŸ‘‰ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo Ã© o quarto de uma sÃ©rie de artigos, "Como colocar a infraestrutura de rede sob seu controle". O conteÃºdo de todos os artigos da sÃ©rie e os...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como assumir o controle de sua infraestrutura de rede. CAPÃTULO TRÃŠS SeguranÃ§a de rede. Parte dois</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436230/">  <i>Este artigo Ã© o quarto de uma sÃ©rie de artigos, "Como colocar a infraestrutura de rede sob seu controle".</i>  <i>O conteÃºdo de todos os artigos da sÃ©rie e os links podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a></i> . <br><br>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> deste capÃ­tulo, examinamos alguns aspectos da seguranÃ§a de rede do segmento de Data Center.  Esta parte serÃ¡ dedicada ao segmento "Acesso Ã  Internet". <br><br><img src="https://habrastorage.org/webt/90/cg/fg/90cgfgwjckdeac9trcmr6gifhcy.png" alt="imagem"><br><br><h1>  Acesso Ã  Internet </h1><br>  A seguranÃ§a Ã© sem dÃºvida um dos tÃ³picos mais complexos do mundo das redes de dados.  Como nos casos anteriores, sem pretender aprofundar e completar, considerarei aqui bastante simples, mas, na minha opiniÃ£o, questÃµes importantes, cujas respostas, espero, ajudarÃ£o a aumentar o nÃ­vel de seguranÃ§a da sua rede. <br><br>  Ao auditar esse segmento, preste atenÃ§Ã£o aos seguintes aspectos: <br><br><ul><li>  design </li><li>  ConfiguraÃ§Ãµes de BGP </li><li>  ProteÃ§Ã£o DOS / DDOS </li><li>  filtragem de trÃ¡fego de firewall </li></ul><a name="habracut"></a><br><h3>  Desenho </h3><br>  Como exemplo do design deste segmento para a rede corporativa, eu recomendaria um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">guia</a> da Cisco dentro do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo SAFE</a> . <br><br>  Obviamente, talvez a soluÃ§Ã£o de outros fornecedores pareÃ§a mais atraente para vocÃª (consulte o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">quadrante</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gartner para 2018</a> ), mas sem exigir que vocÃª siga esse projeto em detalhes, ainda acho Ãºtil entender os princÃ­pios e idÃ©ias subjacentes a ele. <br><blockquote>  <b>ObservaÃ§Ã£o</b> <br><br>  No SAFE, o segmento de Acesso Remoto faz parte do Acesso Ã  Internet.  Mas nesta sÃ©rie de artigos, consideraremos separadamente. </blockquote>  O conjunto padrÃ£o de equipamentos nesse segmento para uma rede corporativa Ã© <br><br><ul><li>  roteadores de fronteira </li><li>  firewalls </li></ul><br><blockquote>  <b>ObservaÃ§Ã£o 1</b> <br><br>  Nesta sÃ©rie de artigos, quando falo de firewalls, quero dizer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NGFW</a> . </blockquote><blockquote>  <b>ObservaÃ§Ã£o 2</b> <br><br>  Omiti a consideraÃ§Ã£o de vÃ¡rios tipos de soluÃ§Ãµes L2 / L1 ou de sobreposiÃ§Ã£o L2 sobre L3 necessÃ¡rias para garantir a conectividade L1 / L2 e me restrico a questÃµes de nÃ­vel L3 e superior.  Em parte, as questÃµes L1 / L2 foram abordadas no capÃ­tulo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Limpeza e documentaÃ§Ã£o</a> ". </blockquote>  Se vocÃª nÃ£o encontrou um firewall neste segmento, nÃ£o tire conclusÃµes precipitadas. <br><br>  Vamos comeÃ§ar, como na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte anterior</a> , com a pergunta: Ã© necessÃ¡rio usar um firewall nesse segmento no seu caso? <br><br>  Posso dizer que esse parece ser o local mais justificado para o uso de firewalls e para a aplicaÃ§Ã£o de algoritmos complexos de filtragem de trÃ¡fego.  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte 1,</a> mencionamos quatro fatores que podem interferir no uso de firewalls no segmento de data center.  Mas aqui eles nÃ£o sÃ£o tÃ£o significativos. <br><blockquote>  Exemplo 1. <b>Atraso</b> <br><br>  Quanto Ã  Internet, nÃ£o faz sentido falar de atrasos da ordem de 1 milissegundo.  Portanto, o atraso neste segmento nÃ£o pode ser um fator que limita o uso de fogos de artifÃ­cio. </blockquote><blockquote>  Exemplo 2. <b>Desempenho</b> <br><br>  Em alguns casos, esse fator ainda pode ser significativo.  Portanto, pode ser necessÃ¡rio permitir que parte do trÃ¡fego (por exemplo, trÃ¡fego do balanceador de carga) desvie do firewall. </blockquote><blockquote>  Exemplo 3. <b>Confiabilidade</b> <br><br>  Esse fator ainda precisa ser levado em consideraÃ§Ã£o, mas, considerando a falta de confiabilidade da prÃ³pria Internet, sua importÃ¢ncia para esse segmento nÃ£o Ã© tÃ£o significativa quanto para o data center. <br><br>  Portanto, suponha que seu serviÃ§o esteja alÃ©m do http / https (com sessÃµes curtas).  Nesse caso, vocÃª pode usar duas caixas independentes (sem HA) e, se houver um problema com uma delas, rotear, transferir todo o trÃ¡fego para a segunda. <br><br>  Ou vocÃª pode usar firewalls no modo de transperÃªncia e, quando eles falharem, permitir que o trÃ¡fego ignore os firewalls enquanto resolve o problema. </blockquote>  Portanto, provavelmente Ã© apenas o <b>preÃ§o que</b> pode ser o fator que o forÃ§arÃ¡ a abandonar o uso de firewalls nesse segmento. <br><blockquote>  <b>Importante!</b> <br><br>  Existe uma tentaÃ§Ã£o de combinar esse firewall com o firewall do data center (use um firewall para esses segmentos).  A soluÃ§Ã£o, em princÃ­pio, Ã© possÃ­vel, mas ao mesmo tempo vocÃª precisa entender que, desde  O firewall de "acesso Ã  Internet" estÃ¡ na vanguarda de sua defesa e "assume" pelo menos parte do trÃ¡fego malicioso; entÃ£o, Ã© claro, vocÃª precisa levar em consideraÃ§Ã£o o risco aumentado de que esse firewall seja desativado.  Ou seja, usando os mesmos dispositivos nesses dois segmentos, vocÃª reduzirÃ¡ significativamente a disponibilidade do seu segmento de data center. </blockquote>  Como sempre, vocÃª precisa entender que, dependendo do serviÃ§o que a empresa fornece, o design desse segmento pode ser muito diferente.  Como de costume, vocÃª pode escolher diferentes abordagens, dependendo dos requisitos. <br><blockquote>  <b>Exemplo</b> <br><br>  Se vocÃª Ã© um provedor de conteÃºdo com uma rede CDN (consulte, por exemplo, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sÃ©rie de artigos</a> ), convÃ©m criar dezenas ou mesmo centenas de pontos de presenÃ§a de infraestrutura usando dispositivos separados para rotear e filtrar o trÃ¡fego.  Vai ser caro e pode ser redundante. <br><br>  Para o BGP, vocÃª nÃ£o precisa ter roteadores dedicados, pode usar ferramentas de cÃ³digo aberto, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quagga</a> .  Portanto, talvez tudo que vocÃª precise seja um servidor ou vÃ¡rios servidores, um switch e BGP. <br><br>  Nesse caso, seu servidor ou vÃ¡rios servidores podem desempenhar o papel nÃ£o apenas do servidor CDN, mas tambÃ©m do roteador.  Obviamente, ainda existem muitos detalhes (por exemplo, como garantir o equilÃ­brio), mas isso Ã© viÃ¡vel e aplicamos essa abordagem com Ãªxito a um de nossos parceiros. <br><br>  VocÃª pode ter vÃ¡rios datacenters com proteÃ§Ã£o total (firewalls, serviÃ§os de proteÃ§Ã£o DDOS fornecidos por seus provedores de Internet) e dezenas ou centenas de pontos de presenÃ§a â€œsimplificadosâ€ apenas com switches e servidores L2. <br><br>  Mas e a proteÃ§Ã£o nesse caso? <br><br>  Vejamos, por exemplo, o recente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ataque DDOS de amplificaÃ§Ã£o de DNS</a> .  Seu perigo estÃ¡ no fato de ser gerada uma grande quantidade de trÃ¡fego, que simplesmente "obstrui" 100% de todos os seus uplinks. <br><br>  O que temos no caso do nosso design. <br><br><ul><li>  se vocÃª usa o AnyCast, o trÃ¡fego Ã© distribuÃ­do entre seus pontos de presenÃ§a.  Se vocÃª tem terabits de largura de banda total, isso por si sÃ³ (na verdade, houve vÃ¡rios ataques com trÃ¡fego malicioso da ordem de terabits ultimamente) o protege de uplinks transbordantes </li><li>  se, no entanto, alguns uplinks estÃ£o "entupidos", vocÃª simplesmente tira essa plataforma de serviÃ§o (pare de anunciar o prefixo) </li><li>  vocÃª tambÃ©m pode aumentar a parcela de trÃ¡fego entregue em seus data centers "completos" (e, consequentemente, protegidos), removendo, assim, uma parte significativa do trÃ¡fego malicioso dos pontos de presenÃ§a desprotegidos </li></ul><br>  E mais uma pequena observaÃ§Ã£o para este exemplo.  Se vocÃª enviar trÃ¡fego suficiente atravÃ©s de IXs, isso tambÃ©m reduzirÃ¡ sua exposiÃ§Ã£o a esses ataques. </blockquote><h3>  Configurar BGP </h3><br>  Existem dois tÃ³picos. <br><br><ul><li>  Conectividade </li><li>  Configurar BGP </li></ul><br>  JÃ¡ falamos um pouco sobre conectividade na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> .  A linha inferior Ã© que o trÃ¡fego para seus clientes segue o melhor caminho.  Embora a otimizaÃ§Ã£o nÃ£o seja sempre apenas um atraso, mas geralmente Ã© a baixa latÃªncia que Ã© o principal indicador de otimizaÃ§Ã£o.  Para algumas empresas, isso Ã© mais importante, para outras - menos.  Tudo depende do serviÃ§o que vocÃª fornece. <br><blockquote>  <b>Exemplo 1</b> <br><br>  Se vocÃª faz uma troca e intervalos de tempo inferiores a milissegundos sÃ£o importantes para seus clientes, Ã© claro que nÃ£o se pode falar de Internet. </blockquote><blockquote>  <b>Exemplo 2</b> <br><br>  Se vocÃª Ã© uma empresa de jogos e dezenas de milissegundos sÃ£o importantes para vocÃª, Ã© claro que a conectividade Ã© muito importante para vocÃª. </blockquote><blockquote>  <b>Exemplo 3</b> <br><br>  VocÃª tambÃ©m precisa entender que, devido Ã s propriedades do protocolo TCP, a taxa de transferÃªncia de dados em uma sessÃ£o TCP tambÃ©m depende do RTT (Round Trip Time).  As redes CDN tambÃ©m estÃ£o sendo construÃ­das para resolver esse problema, aproximando os servidores de distribuiÃ§Ã£o de conteÃºdo do consumidor desse conteÃºdo. </blockquote>  O estudo da conectividade Ã© um tÃ³pico interessante separado, digno de um artigo ou de uma sÃ©rie de artigos separados e requer uma boa compreensÃ£o de como a Internet Ã© "organizada". <br><br>  Recursos Ãºteis: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mature.net</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bgp.he.net</a> <br><blockquote>  <b>Exemplo</b> <br><br>  Vou dar apenas um pequeno exemplo. <br><br>  Suponha que seu data center esteja localizado em Moscou e vocÃª tenha o Ãºnico link ascendente - Rostelecom (AS12389).  Nesse caso, vocÃª nÃ£o precisa do BGP (single-homed) e provavelmente usa o pool de endereÃ§os da Rostelecom como endereÃ§os pÃºblicos. <br><br>  Suponha que vocÃª forneÃ§a um determinado serviÃ§o e tenha um nÃºmero suficiente de clientes da UcrÃ¢nia, e eles reclamam de grandes atrasos.  No estudo, vocÃª descobriu que os endereÃ§os IP de alguns deles estÃ£o na rede 37.52.0.0/21. <br><br>  Ao fazer o traceroute, vocÃª viu que o trÃ¡fego passa pelo AS1299 (Telia) e, ao executar o ping, vocÃª obtÃ©m um RTT mÃ©dio de 70 a 80 milissegundos.  VocÃª tambÃ©m pode vÃª-lo no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">espelho da Rostelecom</a> . <br><br>  Com o utilitÃ¡rio whois (no mature.net ou em um utilitÃ¡rio local), Ã© possÃ­vel determinar facilmente que o bloco 37.52.0.0/21 pertence ao AS6849 (Ukrtelecom). <br><br>  AlÃ©m disso, acessando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bgp.he.net,</a> vocÃª vÃª que o AS6849 nÃ£o tem relacionamento com o AS12389 (eles nÃ£o sÃ£o clientes nem uplinks entre si, mas tambÃ©m nÃ£o tÃªm emparelhamento).  Mas se vocÃª olhar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de pares</a> do AS6849, verÃ¡, por exemplo, AS29226 (Mastertel) e AS31133 (Megafon). <br><br>  Ao encontrar o espelho desses provedores, vocÃª pode comparar o caminho e o RTT.  Por exemplo, para o Mastertel RTT, jÃ¡ haverÃ¡ cerca de 30 milissegundos. <br><br>  Portanto, se a diferenÃ§a entre 80 e 30 milissegundos Ã© significativa para o seu serviÃ§o, talvez vocÃª precise pensar em conectividade, obter seu nÃºmero AS, seu pool de endereÃ§os no RIPE e conectar uplinks adicionais e / ou criar pontos de presenÃ§a nos IXs. </blockquote><br>  Ao usar o BGP, vocÃª nÃ£o apenas tem a oportunidade de melhorar a conectividade, mas tambÃ©m reserva sua conexÃ£o com a Internet. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Este documento</a> contÃ©m recomendaÃ§Ãµes para configurar o BGP.  Apesar do fato de que essas recomendaÃ§Ãµes foram desenvolvidas com base nas â€œmelhores prÃ¡ticasâ€ de provedores, no entanto (se suas configuraÃ§Ãµes de BGP nÃ£o forem muito elementares), elas sÃ£o sem dÃºvida Ãºteis e devem realmente fazer parte do fortalecimento discutido na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> . <br><br><h3>  ProteÃ§Ã£o DOS / DDOS </h3><br>  Agora, os ataques DOS / DDOS se tornaram uma realidade diÃ¡ria para muitas empresas.  De fato, de uma forma ou de outra, vocÃª Ã© atacado com bastante frequÃªncia.  O fato de vocÃª ainda nÃ£o perceber isso significa apenas que um ataque direcionado contra vocÃª ainda nÃ£o foi organizado e que as defesas que vocÃª usa, mesmo possivelmente sem suspeitar (vÃ¡rias defesas internas dos sistemas operacionais), suficiente para que a degradaÃ§Ã£o do serviÃ§o fornecido seja minimizada para vocÃª e seus clientes. <br><br>  Existem recursos da Internet que, com base nos registros do equipamento, desenham belos mapas de ataque em tempo real. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aqui</a> vocÃª pode encontrar links para eles. <br><br>  Meu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mapa</a> favorito do CheckPoint. <br><br>  A proteÃ§Ã£o DDOS / DOS geralmente Ã© em camadas.  Para entender o porquÃª, vocÃª precisa entender que tipos de ataques DOS / DDOS existem (veja, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ) <br><br>  Ou seja, temos trÃªs tipos de ataques: <br><br><ul><li>  ataques volumÃ©tricos </li><li>  ataques de protocolo </li><li>  ataques de aplicativos </li></ul><br>  Se vocÃª pode se proteger dos dois Ãºltimos tipos de ataques, usando, por exemplo, firewalls, nÃ£o estarÃ¡ protegido contra ataques destinados a "transbordar" seus uplinks (Ã© claro, se a capacidade total do canal da Internet nÃ£o for calculada em terabits, mas melhor, em dezenas) terabit). <br><br>  Portanto, a primeira linha de defesa Ã© a proteÃ§Ã£o contra ataques "volumÃ©tricos" e seu fornecedor ou fornecedores devem fornecer essa proteÃ§Ã£o.  Se vocÃª ainda nÃ£o percebeu isso, por enquanto, vocÃª tem apenas sorte. <br><blockquote>  <b>Exemplo</b> <br><br>  Suponha que vocÃª tenha vÃ¡rios uplinks, mas apenas um dos provedores pode fornecer essa proteÃ§Ã£o.  Mas se todo o trÃ¡fego passar por um provedor, e a conectividade que discutimos brevemente um pouco antes? <br><br>  Nesse caso, vocÃª terÃ¡ que sacrificar parcialmente a conectividade durante o ataque.  Mas <br><br><ul><li>  isso Ã© apenas pela duraÃ§Ã£o do ataque.  No caso de um ataque, vocÃª pode reconfigurar manualmente ou automaticamente o BGP para que o trÃ¡fego passe apenas pelo provedor que fornece o "guarda-chuva".  ApÃ³s o final do ataque, vocÃª pode retornar o roteamento ao seu estado anterior. </li><li>  nÃ£o Ã© necessÃ¡rio traduzir todo o trÃ¡fego.  Se, por exemplo, vocÃª perceber que, atravÃ©s de alguns uplinks ou pares, nÃ£o hÃ¡ ataque (ou o trÃ¡fego nÃ£o Ã© significativo), vocÃª pode continuar anunciando prefixos com atributos competitivos na direÃ§Ã£o desses vizinhos do BGP. </li></ul></blockquote><br>  VocÃª tambÃ©m pode dar proteÃ§Ã£o a "ataques de protocolo" e "ataques de aplicativos" a parceiros. <br>  Aqui vocÃª pode ler um bom estudo ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">traduÃ§Ã£o</a> ).  Ã‰ verdade que o artigo Ã© de dois anos atrÃ¡s, mas isso lhe darÃ¡ uma idÃ©ia de abordagens, como vocÃª pode se proteger de ataques DDOS. <br><br>  Em princÃ­pio, vocÃª pode limitar-se a isso terceirizando completamente sua proteÃ§Ã£o.  Existem vantagens nessa soluÃ§Ã£o, mas hÃ¡ um Ã³bvio menos.  O fato Ã© que podemos conversar (novamente, dependendo do que sua empresa estÃ¡ fazendo) sobre a sobrevivÃªncia dos negÃ³cios.  E confie essas coisas a terceiros ... <br><br>  Portanto, vejamos como organizar uma segunda e terceira linha de defesa (como um complemento Ã  proteÃ§Ã£o do provedor). <br><br>  Portanto, a segunda linha de defesa Ã© a filtragem e os policiais na entrada da sua rede. <br><blockquote>  <b>Exemplo 1</b> <br><br>  Suponha que vocÃª "fechou com um guarda-chuva" do DDOS usando um dos provedores.  Suponha que esse provedor use o Arbor para filtrar o trÃ¡fego e os filtros na borda de sua rede. <br><br>  A banda com a qual a Arbor pode "lidar" Ã© limitada, e o provedor, Ã© claro, nÃ£o pode transmitir constantemente o trÃ¡fego de todos os seus parceiros que solicitaram esse serviÃ§o por meio de equipamentos de filtragem.  Portanto, em condiÃ§Ãµes normais, o trÃ¡fego nÃ£o Ã© filtrado. <br><br>  Suponha que um ataque de inundaÃ§Ã£o SYN esteja em andamento.  Mesmo se vocÃª solicitou um serviÃ§o no qual, no caso de um ataque, o trÃ¡fego Ã© automaticamente alterado para filtragem, isso nÃ£o acontece instantaneamente.  Por um minuto ou mais, vocÃª permanece sob ataque.  E isso pode levar Ã  falha do seu equipamento ou Ã  degradaÃ§Ã£o do serviÃ§o.  Nesse caso, a limitaÃ§Ã£o do trÃ¡fego no roteamento de limite levarÃ¡ ao fato de que algumas sessÃµes TCP nÃ£o serÃ£o estabelecidas durante esse perÃ­odo, mas salvarÃ¡ sua infraestrutura de problemas maiores. </blockquote><blockquote>  <b>Exemplo 2</b> <br><br>  Um nÃºmero anormalmente grande de pacotes SYN pode nÃ£o ser apenas o resultado de um ataque SYN flood.  Vamos supor que vocÃª forneÃ§a um serviÃ§o no qual possa ter simultaneamente cerca de 100 mil conexÃµes TCP (em um datacenter). <br><br>  Suponha que, como resultado de um problema de curto prazo com um de seus principais fornecedores, metade das sessÃµes o "chutou".  Se seu aplicativo for projetado de tal maneira que, sem pensar duas vezes, imediatamente (ou apÃ³s um intervalo de tempo idÃªntico para todas as sessÃµes) tente restabelecer a conexÃ£o, vocÃª receberÃ¡ pelo menos 50 mil pacotes SYN aproximadamente simultaneamente. <br><br>  Se, por cima dessas sessÃµes, por exemplo, vocÃª tiver um handshake ssl / tls, que envolve a troca de certificados, do ponto de vista da falta de recursos para o seu balanceador de carga, esse serÃ¡ um "DDOS" muito mais forte do que uma simples inundaÃ§Ã£o de SYN.  Parece que os balanceadores deveriam resolver esse evento, mas ... infelizmente, estÃ¡vamos enfrentando esse problema em pleno crescimento. <br><br>  E, Ã© claro, o vigilante do roteador de fronteira tambÃ©m salvarÃ¡ seu equipamento nesse caso. </blockquote>  O terceiro nÃ­vel de proteÃ§Ã£o contra o DDOS / DOS sÃ£o as configuraÃ§Ãµes do seu firewall. <br><br>  Aqui vocÃª pode parar os dois ataques do segundo e terceiro tipo.  Em geral, tudo o que atinge o firewall pode ser filtrado aqui. <br><blockquote>  <b>Dica</b> <br><br>  Tente dar ao firewall o mÃ­nimo de trabalho possÃ­vel, filtrando o mÃ¡ximo possÃ­vel nas duas primeiras linhas de defesa.  E aqui estÃ¡ o porquÃª. <br><br>  NÃ£o aconteceu com vocÃª que, por acidente, gerando trÃ¡fego para verificar, por exemplo, quÃ£o resistentes sÃ£o seus ataques DDOS ao sistema operacional, vocÃª "matou" seu firewall, carregando-o 100%, com trÃ¡fego de intensidade normal?  Se nÃ£o, talvez apenas porque vocÃª ainda nÃ£o experimentou? <br><br>  Em geral, um firewall, como eu jÃ¡ disse, Ã© uma coisa complicada e funciona bem com vulnerabilidades conhecidas e soluÃ§Ãµes testadas, mas se vocÃª enviar algo incomum, apenas algum lixo ou pacotes com cabeÃ§alhos incorretos, entÃ£o vocÃª com alguns com uma probabilidade tÃ£o pequena (com base na minha experiÃªncia), vocÃª pode introduzir equipamentos de ponta em um estupor.  Portanto, na etapa 2, usando ACLs regulares (no nÃ­vel L3 / L4), apenas permita a entrada de trÃ¡fego na sua rede. </blockquote><h3>  Filtragem de trÃ¡fego do firewall </h3><br>  Continuamos a conversa sobre o firewall.  VocÃª precisa entender que os ataques DOS / DDOS sÃ£o apenas um tipo de ataque cibernÃ©tico. <br><br>  AlÃ©m da proteÃ§Ã£o do DOS / DDOS, ainda podemos ter algo como a seguinte lista de recursos: <br><br><ul><li>  firewall de aplicativos </li><li>  prevenÃ§Ã£o de ameaÃ§as (antivÃ­rus, anti-spyware e vulnerabilidade) </li><li>  Filtragem de URL </li><li>  filtragem de dados (filtragem de conteÃºdo) </li><li>  bloqueio de arquivo (bloqueio de tipos de arquivo) </li></ul><br>  Cabe a vocÃª o que vocÃª precisa desta lista. <br><br>  <i>Para ser continuado</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436230/">https://habr.com/ru/post/pt436230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436218/index.html">Marketing de conteÃºdo na mÃ­dia online popular: 5 erros de startups a serem evitadas</a></li>
<li><a href="../pt436220/index.html">Como funciona a pontuaÃ§Ã£o no setor de compartilhamento de carros. Parte 2. Identifique um motorista agressivo em 5 segundos</a></li>
<li><a href="../pt436224/index.html">Escrevemos nossa linguagem de programaÃ§Ã£o, parte 4: RepresentaÃ§Ã£o de estruturas e classes, geraÃ§Ã£o de alocadores</a></li>
<li><a href="../pt436226/index.html">Guia e cÃ¡bula para Wireshark</a></li>
<li><a href="../pt436228/index.html">Desenvolvimento de uma equipe para consulta de dados do banco de dados</a></li>
<li><a href="../pt436232/index.html">EstratÃ©gia de Telepatia</a></li>
<li><a href="../pt436234/index.html">Analisadores aplicÃ¡veis â€‹â€‹de Haskell</a></li>
<li><a href="../pt436236/index.html">Usamos ciÃªncia de dados para determinar o ciclo de vida de um cliente</a></li>
<li><a href="../pt436238/index.html">AutenticaÃ§Ã£o no Kubernetes com GitHub OAuth e Dex</a></li>
<li><a href="../pt436240/index.html">AutomaÃ§Ã£o VS Caos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>