<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↪️ 🥊 🎥 一目了然地控制电器，无线电遥控模型，电动婴儿车 🚾 👭 👊🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在我以前的文章中，我谈到了如何帮助瘫痪者与外界进行交流：传达他们的欲望，写信，仅使用他们的眼睛和跟踪视线的设备（眼动仪）浏览互联网。 在这种情况下，实际上，一个人仍然受到计算机和床铺世界的限制。 

 在这里，我将讨论最简单的方法（以我自己的观点），以自己改变外界的东西：在新年树上打开灯或花环，在无...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>一目了然地控制电器，无线电遥控模型，电动婴儿车</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430078/"><img src="https://habrastorage.org/webt/0c/pu/lz/0cpulz3okxsy9r7qjjbrkoufiww.jpeg"><br><br> 在我以前的文章中，我谈到了如何帮助瘫痪者与外界进行交流：传达他们的欲望，写信，仅使用他们的眼睛和跟踪视线的设备（眼动仪）浏览互联网。 在这种情况下，实际上，一个人仍然受到计算机和床铺世界的限制。 <br><br> 在这里，我将讨论最简单的方法（以我自己的观点），以自己改变外界的东西：在新年树上打开灯或花环，在无线电控制下控制全地形车，使电动车向正确的方向移动。 <br><a name="habracut"></a><br><h3> 目录内容 </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">引言</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">所需组件</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将Arduino连接到计算机</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电源插座控制方案</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电机控制电路</a> <br><br><a name="p0"></a><h2> 引言 </h2><br> 除了本文中介绍的注视跟踪设备和免费软件外，我们还需要将计算机连接到外部对象的设备。 <br><br> 尽管出售了可以通过计算机控制的各种设备，但对我而言，最简单，最便宜的选择是使用两个部分：一个Arduino开发板和一个多继电器开发板。 <br><br> 如果您从未接触过Arduino，仍然不会停止阅读，那么将来您会发现在这种情况下使用它非常简单，有很多基于Arduino的儿童设计师并非没有。 <br><br> 同时，如果您不熟悉电气安全性并且从未在房屋中进行电气接线，请不要尝试重复使用与插座连接的电路！ <br><br> 您需要了解的所有关于Arduino的信息：这是一种小型设备，可以插入计算机的USB端口，然后可以根据收到的说明打开/关闭其触点上的电信号。 <br><br> 信号的功率很低，因此为了控制功能更强大的东西（例如电灯泡），我们放置了一个继电器单元，该继电器单元根据Arduino的信号来闭合和断开外部设备的控制触点。 另外，继电器将Arduino +计算机的电路与被管理设备的电路隔离。 <br> 因此，下面将描述的电源插座和电动机的控制电路的基础如下：两个部分通过电线相互连接，通过USB电缆连接到计算机，并且电线连接到我们想要控制的部分： <br><br><img src="https://habrastorage.org/webt/xo/hp/8j/xohp8jg5wedmd0x2v98jdlhatvy.png"><br><br> 在现实世界中，它可能看起来像这样： <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br> 我们从计算机发送命令，Arduino的触点之一打开/关闭继电器，这是任何设备的开关或设备上的单独按钮。 <br><br><a name="p1"></a><h2> 所需组件 </h2><br> 我们将需要它（括号中是当地商店的2018年价格。那些在中国购买可以节省很多钱，但会浪费时间）： <br><br>  1）带有USB电缆的Arduino UNO板（可能在售后市场，便宜的CH340而不是昂贵的FTDI）（450卢布） <br><br>  2）具有四个继电器的电路板，该继电器在5伏电压下工作，并能够控制220伏电压的设备。  （450卢布）。 仍然有工作在12伏特上的电路板，请勿混淆！ <br><br>  3）一束用于连接两个板的电线。 在我的情况下，由于继电器模​​块具有引脚触点，而Arduino具有插座，因此需要在一侧带有插座而另一侧带有引脚的电线。 购买电线（150卢布）时，请看一下板上的连接器。 <br><br><img src="https://habrastorage.org/webt/2a/ma/kf/2amakfyji4k_hbtvozjophg_5hu.jpeg"><br><br><a name="p2"></a><h2> 将Arduino连接到计算机 </h2><br> 首先，从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.arduino.cc</a>安装Arduino编程软件： <br><br> 在页面<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.arduino.cc/en/Main/Software上，</a>单击“ Windows Installer”： <br><br><img src="https://habrastorage.org/webt/vj/nw/vc/vjnwvcfu76izpyiarxlymwfftpe.png"><br><br> 点击“仅下载”： <br><br><img src="https://habrastorage.org/webt/wu/3q/aj/wu3qajjogz-8xyrpv2rankehjeq.png"><br><br> 下载并运行安装程序： <br><br><img src="https://habrastorage.org/webt/db/_d/lx/db_dlxuein4fw7aofwgu-8syzio.png"><br><br> 我们在所有方面都达成共识： <br><br><img src="https://habrastorage.org/webt/xq/nr/n6/xqnrn6hcxu9_1h0zzf2eda0kkm8.png"><br><br><img src="https://habrastorage.org/webt/p7/7h/-d/p77h-dqmssaisjxucixrqdoebvk.png"><br><br><img src="https://habrastorage.org/webt/05/lh/q4/05lhq4bozxrk4jm5rvj1xxzgh6k.png"><br><br><img src="https://habrastorage.org/webt/sl/mu/57/slmu57e2qjf9oemniy3rqsugm5c.png"><br><br> 安装程序后，使用USB电缆连接Arduino板和计算机。 <br><br>  Arduino板上的指示灯点亮，并且在设备管理器中，您会看到一个新端口已出现，并且已为其分配了一定的编号，例如COM3： <br><br><img src="https://habrastorage.org/webt/fv/yf/fu/fvyffux9p-o-_kx6cjtqgejgv38.png"><br><br> 让我们将其编号更改为COM9，因为将来所有内容都将专门与COM9绑定。 为此，右键单击它，调用上下文菜单并在其中选择“属性”： <br><br><img src="https://habrastorage.org/webt/wx/2v/ce/wx2vceqt65nzglwuevp0rwh3tja.png"><br><br> 在“端口参数”选项卡上，单击“高级”按钮： <br><br><img src="https://habrastorage.org/webt/yw/d_/6-/ywd_6-uh4-83w2kcx4ng_i1rijw.png"><br><br> 最后，选择“ COM9”作为COM端口号。 <br><br><img src="https://habrastorage.org/webt/5n/tw/bg/5ntwbgktedghwn61bkqtkhbjf5e.png"><br><br> 使用“确定”按钮关闭所有打开的窗口，然后拔下并插入USB电缆以验证如果将Arduino插入到计算机的同一USB端口中，它将继续通过COM9端口进行连接： <br><br><img src="https://habrastorage.org/webt/fo/cg/jj/focgjjlfl9e1cvk1goluncdtqb8.png"><br><br> 现在从站点调用并配置最近安装的Arduino程序： <br><br><img src="https://habrastorage.org/webt/zd/xa/yy/zdxayy6epjys_elzlitystsu4mm.png"><br><br> 在“工具”菜单中，设置“ Arduino UNO”板和端口“ COM9”： <br><br><img src="https://habrastorage.org/webt/u5/kn/jq/u5knjq5m5ctlnevdrp-cnsewopy.png"><br><br> 现在，一切准备就绪，可以收集计划并为计划注入生命。 <br><br><a name="p3"></a><h2> 电源插座控制方案 </h2><br>  <strong>如果您不熟悉电气安全并且从未在房屋中进行过接线，请勿尝试重复此图！</strong>  <strong>该电路会危及生命！</strong> <br><br> 再次，控制问题： <br><br><ul><li> 您知道如何区分相线和插座中零线吗？ </li><li> 您是否知道如何对电线进行振铃并确保插入后没有短路？ </li></ul><br> 如果您不确定要回答这些问题，请请经验丰富的人员来组装电路。 <br><br> 现在到了重点。 <br><br> 它是这样的： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cG7eZB9ynrg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 套接字连接图如下所示： <br><br><img src="https://habrastorage.org/webt/au/la/h8/aulah8yv5nvdhv7pktidilna2hs.png"><br><br> 我们直接向插座提供零，并通过继电器提供相位。 如果执行相反的操作，则可以使用，但是可能会因关闭故障设备而引起电击危险。 也就是说，抢占已关闭的故障电视，这将使您震惊。 <br><br> 如果房屋有保护接地，请使用接地插座。 <br><br> 接下来是我的参考设计。 在其中，我对电线的颜色犯了一个错误：中性线的颜色变成了棕色，相变成了蓝色。 注意这一点。 <br><br> 我们从一块板子上取一块合适大小的板子（从左到右）：Arduino，继电器块，四个插座，一个将电线压到板上的支架。 <br><br><img src="https://habrastorage.org/webt/4n/ad/yj/4nadyjfwr_9zqsjfqirzp5kmcjg.jpeg"><br><br> 我们切掉多余的部分，并用凿子在电线上开槽，以便它们自由地安装在插座下面。 <br><br><img src="https://habrastorage.org/webt/c1/cn/4k/c1cn4krbvgwhyerhsjgdf1blh2k.jpeg"><br><br> 我们用螺丝将Arduino开发板和继电器块拧到板上，并放置塑料垫圈。 <br><br><img src="https://habrastorage.org/webt/xl/ss/xt/xlssxtywewk_wiqbg8xbq-sjbxe.jpeg"><br><br> 如果垫圈不在手边，则可以切下销钉： <br><br><img src="https://habrastorage.org/webt/j8/nu/4c/j8nu4c3dgliutidvgzey80c3qiq.jpeg"><br><br> 准备电线：切成所需的长度，然后将其从绝缘层剥去。 建议在与插座和继电器接触的地方用烙铁给它们镀锡。 <br><br><img src="https://habrastorage.org/webt/7g/u-/js/7gu-jsezhlrrzxq-tqy37bi__py.jpeg"><br><br> 用支架将电线按到板上，以免拉出。 <br><br><img src="https://habrastorage.org/webt/xt/mb/hm/xtmbhmcglfylqsh4txocs50bn9k.jpeg"><br><br> 我们连接电线并拧紧插座。 我们称之为连锁。 <br><br><img src="https://habrastorage.org/webt/h_/_b/hl/h__bhl0ovpuzpdp9m9zwi0xwrsy.jpeg"><br><br><img src="https://habrastorage.org/webt/gd/6c/ga/gd6cgayr0-nalqayyxt8lsiquli.jpeg"><br><br> 根据上图，我们用一束电线将Arduino开发板连接到继电器单元。 <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br> 我们用非导电材料的保护层覆盖木板。  <strong>这必须在此处执行，因为危及生命的电压适用于继电器块！</strong> 在极端情况下，至少要包裹继电器的电触点。 <br><br> 我将硬塑料制成的容器用作外壳，并用螺钉将其固定： <br><br><img src="https://habrastorage.org/webt/dh/mj/4j/dhmj4j30zlicmjwgjrkylk5g7km.jpeg"><br><br> 切记在USB电缆上打一个孔。 <br><br><img src="https://habrastorage.org/webt/mg/yb/5h/mgyb5hkbsv4zws5b0zbpdixbrq8.jpeg"><br><br> 将设备连接至计算机，但<strong>请勿将其插入电源插座</strong> 。 <br><br> 我们启动“ Arduino”程序并将其复制到此处： <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     2,3,4,5 int Relay1=2, Relay2=3, Relay3=4, Relay4=5; void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void loop() { delay (200); // 1.     while(Serial.available()) { switch(Serial.read()) { case '0': //    digitalWrite(Relay1,0); break; case '1': //    digitalWrite(Relay1,1); break; case '2': //    digitalWrite(Relay2,0); break; case '3': //    digitalWrite(Relay2,1); break; case '4': //    digitalWrite(Relay3,0); break; case '5': //    digitalWrite(Relay3,1); break; case '6': //    digitalWrite(Relay4,0); break; case '7': //    digitalWrite(Relay4,1); break; } // switch } // while }</span></span></code> </pre> <br> 然后单击Arduino中程序的下载按钮（请参见下图）。 如果一切顺利，那么我们将看到“下载完成”字样。 <br><br><img src="https://habrastorage.org/webt/sa/lq/ps/salqpsq3wdq3kpsylezoakvmn1i.png"><br><br> 检查我们的设备是否执行了命令。 为此，请调用端口监视器： <br><br><img src="https://habrastorage.org/webt/68/wq/mw/68wqmw6ebryw_wohhhew71h9mx0.png"><br><br> 现在，我们输入数字<strong>1</strong> ，然后按Enter或“提交”按钮： <br><br><img src="https://habrastorage.org/webt/u3/iq/6t/u3iq6tjtyiw16d9rq_maya-mqgu.png"><br><br> 将听到继电器的特征性咔嗒声，第一个插座中的触点将连接到相线。 用测试仪检查一下。 然后拨数字0，继电器将断开触点。 <br><br> 查看程序的文本，您可以看到如果我们输入其他数字会发生什么： <br><br>  3.2-打开，关闭第二个插座 <br><br>  5,4-打开，关闭第三个插座 <br><br>  7.6-打开，关闭第四个插座 <br><br> 用测试仪检查这些插座的连接。 检查后，您可以将电线连接到网络中的电压，然后开始打开/关闭真实设备。 <br><br> 我们的下一个任务是一目了然地打开和关闭设备。 为此，我们配置本文中描述的<strong>bkb</strong>程序（需要该程序<strong>的最后版本！）</strong> 。 <br><br> 假设我们要打开和关闭灯和圣诞树花环。 <br> 在标准的Paint程序中，我们以<strong>BMP</strong>格式绘制四个200x200的图形： <br><br><img src="https://habrastorage.org/webt/ns/ly/ri/nslyribneenospzbhf8dxftucic.png"><br><br> 我们还将创建四个批处理文件： <strong>c.cmd，d.cmd，e.cmd，f.cmd</strong> <br><br> 它们将包含用于将字符1,0、3、2发送到COM9端口的命令。 而且我们还记得它们打开和关闭了第一个和第二个插座。 在这些文件的两行之间没有空行很重要！ <br><br>  c.cmd： <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 1 &gt; com9:</code> </pre><br>  d.cmd： <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 0 &gt; com9:</code> </pre><br>  e.cmd： <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 3 &gt; com9:</code> </pre><br>  f.cmd： <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 2 &gt; com9:</code> </pre><br> 我们将覆盖<strong>bkb</strong>程序的<strong>grid</strong>目录中创建的<strong>.bmp</strong>和<strong>.cmd</strong>文件。 <br><br> 在表格模式下启动<strong>bkb</strong>程序后，将出现带有图片的第五行： <br><br><img src="https://habrastorage.org/webt/cn/jz/aq/cnjzaqskmsg3wwqe2odhwijsk4g.jpeg"><br><br> 当我们将目光停留在图片上时，将启动相应的操作。 <br><br>  <strong>注意！</strong> 启动程序后的第一次，该操作不起作用。 随后的所有时间-它起作用。 这是由于以下事实：在端口的首次初始化期间，DTR线上的信号发生了变化，这导致Arduino重新启动，持续了大约三秒钟。 <br><br> 他们说可以用烙铁解决，但是我不敢从事这种珠宝工作。 因此，现在，请记住，第一次需要打开两次。 <br><br>  <u>备注</u> <br><br> 您可能已经了解，在.cmd文件中，您可以调用任何外部程序。 如果您有可以通过命令行控制的任何设备，则您自己可以通过将必要的操作分配给表中的任何图片来执行此类命令。 <br><br><a name="p4"></a><h2> 电机控制电路 </h2><br> 我的朋友升级了陀螺踏板车，并将其替换为婴儿车的后轴。 管理是通过Arduino板通过遥控器进行的。 <br><br><img src="https://habrastorage.org/webt/6g/gi/ef/6ggiefa4rwsv9n7bkjpz9hdenzi.jpeg"><br><br> 我们决定尝试给孩子一个机会，让他们一眼就能控制婴儿车。 为此， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将<strong>轮椅</strong></a>控制模式添加到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了<strong>bkb</strong>程序中</a> 。 <br><br><img src="https://habrastorage.org/webt/k_/vw/4c/k_vw4cp32if1tiyx_tld9x8js6w.png"><br><br> 在此模式下启动后，屏幕上会出现箭头，外观使程序将控制字符发送到COM9端口，然后由童车解释为向前/向后移动，向左/向右旋转并停止。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2QgKxeQeUAQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 在确定婴儿车的状态时，我决定使用相同的程序对履带式坦克模型进行远程控制。 这也是非常有用的事情。 首先，孩子获得了对控制婴儿车有用的技能。 其次，这只是一个令人兴奋的游戏。 <br><br><img src="https://habrastorage.org/webt/hg/gp/ov/hggpovliv-swlqqzlziurfgag2o.jpeg"><br><br> 坦克的每条轨道都由可以向前或向后移动的杆控制。 向前移动操纵杆时，他按下按钮，迫使电动机向前旋转。 向后移动操纵杆时，他按下了按钮，这使电动机沿相反方向旋转。 不能同时按下两个按钮-前进和后退是不可能的。 <br> 根据下图，继电器单元已连接到遥控器的按钮。 该电路不允许同时激活“电动机前进”和“电动机后退”按钮。 一个继电器打开/关闭电动机，第二个继电器选择正向或反向。 <br><br> 根据上图，在控制面板上找到按钮已连接的地方并连接到它们。 <br><br> 请注意，与之前的电路不同，Arduino通过引脚6到9控制继电器块。 <br><br><img src="https://habrastorage.org/webt/te/ch/ag/techagksw5fgfqfnumnz0oywovg.png"><br><br> 我通过连接器将继电器块连接到遥控器，以便可以轻松断开遥控器并单独使用： <br><br><img src="https://habrastorage.org/webt/_y/5z/z-/_y5zz-xbgdn7b8lwz-k9n5aignk.jpeg"><br><br>  Arduino需要下载的程序从计算机接收与用于控制电动婴儿车相同的命令： <br><br>  F向前 <br>  B背 <br>  L向左 <br>  R右 <br> 停止 <br><br> 该程序的文本在下面给出。 <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     6,7,8,9 int Relay1=6, Relay2=7, Relay3=8, Relay4=9; int heartbeat=0; //     void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void RCStop() { digitalWrite(Relay1,0); digitalWrite(Relay2,0); digitalWrite(Relay3,0); digitalWrite(Relay4,0); } void RCForward() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCBack() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void RCLeft() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCRight() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void loop() { // 1.     while(Serial.available()) { switch(Serial.read()) { case 'S': //  ! RCStop(); heartbeat=0; break; case 'F': //  ! RCForward(); heartbeat=0; break; case 'B': //  ! RCBack(); heartbeat=0; break; case 'L': //  ! RCLeft(); heartbeat=0; break; case 'R': //  ! RCRight(); heartbeat=0; break; } // switch } // while // 2.    //       -   delay(10); heartbeat++; if(heartbeat&gt;30) { heartbeat=30; //    ! RCStop(); //   -   } }</span></span></code> </pre><br> 如果与计算机的连接中断（0.3秒内没有字符到达，则Arduino将关闭电动机）。 可以通过在控制眼睛的同时闭上眼睛来模拟这种情况。  Aitreker将无法确定视角方向，也不会发送信号。 电机将停止。 <br><br> 我为坦克模型配备了摄像机，通常称为交换率或FPV（第一人称视角），该摄像机以大约5.8 GHz的频率传输模拟信号。 我拿着最便宜的相机之一，也配备了发射器和天线：AKK BA-3。 它花了我1050卢布。 带有发射器的相机非常小，可以装在Lego人物手中： <br><br><img src="https://habrastorage.org/webt/ch/0q/mq/ch0qmqoqvfhexoxoeofqqvasmr8.jpeg"><br><br> 要使相机正常工作，需要做的就是将其连接到电源（3.2伏至5.5伏）。 然后用一个按钮选择发射器的范围，频率和功率。 <br><br> 相机会明显发热，因此我建议设置最小功率（25毫瓦）。 此外，我将其连接到6伏电压的储罐电池，该电压超过了允许值。 因此，我不知道它将持续多久。 我建议您使用稳压器为相机供电。 <br><br> 安装摄像机时，我将Lego构造函数的一个元素粘贴到了水箱上，其余的元素已经通过简单的连接连接到了它。 这样可以轻松拆卸和整理相机。 同样，当撞到障碍物时，相机可以简单地折叠起来，这样可以避免损坏。 <br><br><img src="https://habrastorage.org/webt/j0/4n/1z/j04n1zkr_zt7dl1itjgxfv8tr5c.jpeg"><br><br> 为了接收来自摄像机的视频信号，我使用了Everyine ROTG01接收器。 他花了1800卢布不换新币。 它只是一个带有天线的盒子，可以连接到计算机的USB端口，并且可以作为USB相机看到。 也就是说，我们在Windows中启动Camera应用程序，然后查看接收器接受什么。 即使在开始时，您也需要按住接收器上的唯一按钮，以便接收器扫描以太并找到我们相机发送信号的频率。 <br><br> 通常，我们在计算机中需要三个USB端口： <br><br>  -对于IT跟踪器 <br>  -对于Arduino，控制水箱控制面板 <br>  -用于视频接收器 <br><br><img src="https://habrastorage.org/webt/ya/6l/9j/ya6l9jsx4gh3xrvgtcwilaqfvci.jpeg"><br><br> 我们开始从相机（例如“ Camera”程序）输出图像。 我们启动<strong>bkb</strong>程序并选择电动婴儿车的控制模式。 <br><br> 视频中显示了接下来可能发生的情况： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vWreZ72HPvM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 可以看出，运动速度，特别是转弯速度，太大了。 因此，如果选择无线电控制的模型，请选择最慢的模型。 挖掘机之类的东西。 <br><br><h3> 为什么不带成品的“间谍机器人”呢？ </h3><br> 我落入其中之一，例如HappyCow 777-325。 <br><br><img src="https://habrastorage.org/webt/se/u_/ep/seu_eptbnfyu4lqwiekwmqttqbk.jpeg"><br><br> 我很高兴：他拥有一切，并具有遥控器，视频传输功能，并且行驶非常缓慢。 但是，有一个功能-它只能通过Android或iOS中的应用程序进行控制。 好了，我们将通过Android的远程控制来解决此问题，例如，使用<strong>scrcpy</strong> 。 <br><br> 但是事实证明，除了可纠正的缺陷（相机的视角狭窄）之外，该机器还有一个无法纠正的缺陷。 通过Wi-Fi传输的视频存在严重的延迟。 <br> 就是说，这个机器人已经坠毁很久了，大家都在踩油门，以为它还没有遇到障碍。 <br><br> 我认为对于一个正在学习远程控制机器的孩子来说，这是不可接受的。 <br><br> 因此，机器人辞职了。 虽然我会从中借用机箱。 <br><br><h2> 结论 </h2><br> 祝您在重复和开发上述技术解决方案中一切顺利。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN430078/">https://habr.com/ru/post/zh-CN430078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN430068/index.html">的顺序</a></li>
<li><a href="../zh-CN430070/index.html">堆栈和队列是两个错误的范例，对此可以做什么</a></li>
<li><a href="../zh-CN430072/index.html">服务器端Swift被低估：Paul Hudson访谈</a></li>
<li><a href="../zh-CN430074/index.html">我如何差点感染试图出售靴子的病毒</a></li>
<li><a href="../zh-CN430076/index.html">免费转播DotNext 2018莫斯科</a></li>
<li><a href="../zh-CN430080/index.html">移至运行1C-Bitrix的群集：Web环境</a></li>
<li><a href="../zh-CN430082/index.html">Travinibay：哈勃和RUVDS-俄罗斯IT海狼</a></li>
<li><a href="../zh-CN430084/index.html">Oracle JDK必须付费。 现在有什么选择？</a></li>
<li><a href="../zh-CN430086/index.html">适用于Sony Xperia智能手机的Android 9 Pie中的新增功能</a></li>
<li><a href="../zh-CN430092/index.html">瑞士信贷和瑞银银行指责Apple Pay和Samsung Pay联合抵制</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>