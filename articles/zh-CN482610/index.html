<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐱 🧓🏼 😩 在具有STM32的SSD1283A上推出透反TFT显示屏 🏚️ 👨🏾‍⚖️ 🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="引言 
 显示模型称为H016IT01。 这种显示很有趣，主要是因为它是透反射的。 这意味着即使在明亮的阳光下，图像也应该可见。 而且，这几乎是著名的中文网站上唯一具有此功能的型号。 

 但是这篇文章之所以发布是因为关于SSD1283A控制器的信息很少（在网络的俄罗斯和西方地区），并且我在任何地方...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在具有STM32的SSD1283A上推出透反TFT显示屏</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482610/"><h3> 引言 </h3><br> 显示模型称为H016IT01。 这种显示很有趣，主要是因为它是透反射的。 这意味着即使在明亮的阳光下，图像也应该可见。 而且，这几乎是著名的中文网站上唯一具有此功能的型号。 <br><br> 但是这篇文章之所以发布是因为关于SSD1283A控制器的信息很少（在网络的俄罗斯和西方地区），并且我在任何地方都没有看到指南。 您可以在网络上找到一个数据表，但是没有有关初始化和使用显示器的信息，只有寄存器的描述才有用。 <br><br> 我要强调，这种材料当然不是最终真理。 我仅提供与设备进行交互的经验。 本文的主要目标很简单-不再需要帮助所有决定，想要或想要使用此显示器的人。 <br><br><img src="https://habrastorage.org/webt/p0/gd/1j/p0gd1jufxnqryrfftzkjnqwaldk.png" alt="图片"><br><a name="habracut"></a><br> 显示屏有8个引脚： <br><br>  1）接地 <br>  2）VCC-5或3.3V <br>  3）CS-SPI片选 <br>  4）RST-“ 0”-关闭显示，“ 1”-打开。 <br>  5）A0 / DC-数据命令（“ 0”-命令，“ 1”-数据） <br>  6）SDA-SPI MOSI <br>  7）SCK-SPI SCK <br>  8）LED-背光输出，如VCC，从3.3到5V <br><br> 您需要使用SPI对显示进行编程，stm32f407上的发现板将帮助我解决这一问题。 <br><br><h3>  SPI </h3><br> 尽管我通过SPI与SSD1283A进行了交互，但值得注意的是该控制器还提供了并行接口，但是此显示模型不支持该接口。 他的SPI也不是普通的，它只有一条SDA数据线。 实际上，这是MOSI行，这意味着我们无法从数据表告诉我们的显示中计算任何内容。 <br><br><img src="https://habrastorage.org/webt/v1/0r/kj/v10rkj930c35sxs3jaiyqrpuvsm.png" alt="图片"><br><br> 首先，我们将配置SPI，为此，我们将攻击SPI1和GPIO，将SDA和SCK的引脚配置为替代功能（我也做过MISO，但这不是必需的）。 操作模式被配置为单向发送器主站。 <br><br><pre><code class="cpp hljs">BIT_BAND_PER(RCC-&gt;AHB1ENR ,RCC_AHB1ENR_GPIOAEN) = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(SPI_NUM::_1 == spi) { <span class="hljs-comment"><span class="hljs-comment">/*!&lt;-------------Enable spi clocking---------------&gt;!*/</span></span> BIT_BAND_PER(RCC-&gt;APB2ENR, RCC_APB2ENR_SPI1EN) = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*!&lt;----PA5 - SCK, PA6 - MISO, PA7 - MOSI----&gt;!*/</span></span> GPIOA-&gt;MODER |= (GPIO_MODER_MODE5_1 | GPIO_MODER_MODE6_1 | GPIO_MODER_MODE7_1); GPIOA-&gt;OSPEEDR |= (GPIO_OSPEEDR_OSPEED5_1 | GPIO_OSPEEDR_OSPEED7_1); GPIOA-&gt;AFR[<span class="hljs-number"><span class="hljs-number">0</span></span>] |= (GPIO_AFRL_AFSEL5_0 | GPIO_AFRL_AFSEL5_2 | GPIO_AFRL_AFSEL6_0 | GPIO_AFRL_AFSEL6_2 | GPIO_AFRL_AFSEL7_0 | GPIO_AFRL_AFSEL7_2); <span class="hljs-comment"><span class="hljs-comment">/*!&lt;-----customize SPI------&gt;!*/</span></span> SPI1-&gt;CR1 |= (SPI_CR1_BIDIMODE | SPI_CR1_BIDIOE | SPI_CR1_SSM | SPI_CR1_SSI <span class="hljs-comment"><span class="hljs-comment">/*| SPI_CR1_DFF*/</span></span> | SPI_CR1_MSTR); BIT_BAND_PER(SPI1-&gt;CR1 ,SPI_CR1_SPE) = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><br> 然后，我们通过SPI编写一个简单的字节传输函数： <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> stm32f407_spi::stm32f407_spi_send(<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> data) { SPI1-&gt;DR = data; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>((SPI1-&gt;SR &amp; SPI_SR_BSY)) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; }</code> </pre> <br> 这足以使SPI以所需的模式工作，并以最快的速度传输数据。 <br><br><h3> 显示初始化 </h3><br> 现在是时候初始化显示了。 为此，发送一定顺序的命令。 一个命令由3个字节组成，其中一个字节是命令编号，另外两个字节是数据。 将命令字节发送到“ 0”并且将数据发送到“ 1”时，还需要切换引脚A0。 为了方便起见，我使用内联函数来切换显示器的RST，A0和CS引脚的状态。 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DC</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> { COMMAND, DATA }; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> inline=forced inline void tft_lcd_rst(bool rst) {BIT_BAND_PER(GPIOA-&gt;ODR , GPIO_ODR_OD2) = rst;} #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> inline=forced inline void tft_lcd_dc(DC dc) {BIT_BAND_PER(GPIOA-&gt;ODR , GPIO_ODR_OD3) = static_cast</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;bool&gt;(dc);} #pragma inline=forced inline void tft_lcd_cs(bool cs) {BIT_BAND_PER(GPIOA-&gt;ODR , GPIO_ODR_OD4) = cs;}</span></span></span></span></code> </pre> <br><br> 然后，命令行将如下所示： <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> tft_lcd::tft_lcd_send(<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> data) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_dc(DC::COMMAND); stm32f407_spi_send(addr); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_dc(DC::DATA); stm32f407_spi_send(<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span>&gt;(data &gt;&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>)); stm32f407_spi_send(<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span>&gt;(data)); }</code> </pre> <br> 要初始化，您需要提交以下命令序列，我在arduino库中为此屏幕监视了这些命令： <br><br><div class="spoiler">  <b class="spoiler_title">初始化命令</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> TFT_DELAY = <span class="hljs-number"><span class="hljs-number">0xFF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> t_tft_regs tft_regs[]= { { <span class="hljs-number"><span class="hljs-number">0x10</span></span>, <span class="hljs-number"><span class="hljs-number">0x2F8E</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x11</span></span>, <span class="hljs-number"><span class="hljs-number">0x000C</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-number"><span class="hljs-number">0x0021</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x28</span></span>, <span class="hljs-number"><span class="hljs-number">0x0006</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x28</span></span>, <span class="hljs-number"><span class="hljs-number">0x0005</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x27</span></span>, <span class="hljs-number"><span class="hljs-number">0x057F</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x29</span></span>, <span class="hljs-number"><span class="hljs-number">0x89A1</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x0001</span></span> }, { TFT_DELAY, <span class="hljs-number"><span class="hljs-number">100</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x29</span></span>, <span class="hljs-number"><span class="hljs-number">0x80B0</span></span> }, { TFT_DELAY, <span class="hljs-number"><span class="hljs-number">30</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x29</span></span>, <span class="hljs-number"><span class="hljs-number">0xFFFE</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-number"><span class="hljs-number">0x0223</span></span> }, { TFT_DELAY, <span class="hljs-number"><span class="hljs-number">30</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x07</span></span>, <span class="hljs-number"><span class="hljs-number">0x0233</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x01</span></span>, <span class="hljs-number"><span class="hljs-number">0x2183</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x03</span></span>, <span class="hljs-number"><span class="hljs-number">0x6830</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x2F</span></span>, <span class="hljs-number"><span class="hljs-number">0xFFFF</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x2C</span></span>, <span class="hljs-number"><span class="hljs-number">0x8000</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x27</span></span>, <span class="hljs-number"><span class="hljs-number">0x0570</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x02</span></span>, <span class="hljs-number"><span class="hljs-number">0x0300</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x0B</span></span>, <span class="hljs-number"><span class="hljs-number">0x580C</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x12</span></span>, <span class="hljs-number"><span class="hljs-number">0x0609</span></span> }, { <span class="hljs-number"><span class="hljs-number">0x13</span></span>, <span class="hljs-number"><span class="hljs-number">0x3100</span></span> }, };</code> </pre> <br></div></div><br> 其中TFT_DELAY表示简单睡眠指定的mS量。 如果您深入研究数据手册，那么某些地址的此类数据似乎会很奇怪，因为许多地址都写入保留位。 <br><br> 要进行初始化，请将“ 0”设置为CS，重新启动显示器（引脚RST），然后浏览命令表。 <br><br><pre> <code class="cpp hljs"> tft_lcd_rst(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); delay(<span class="hljs-number"><span class="hljs-number">5</span></span>, mS); tft_lcd_rst(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); delay(<span class="hljs-number"><span class="hljs-number">200</span></span>, mS); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_cs(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); delay(<span class="hljs-number"><span class="hljs-number">5</span></span>, mS); <span class="hljs-comment"><span class="hljs-comment">/*!&lt;--------Init display----------&gt;!*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(tft_regs)/<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(tft_regs[<span class="hljs-number"><span class="hljs-number">0</span></span>]) ;i++) { (TFT_DELAY != tft_regs[i].address) ? (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_send(tft_regs[i].address, tft_regs[i].value)): (delay(tft_regs[i].value, mS)); } delay(<span class="hljs-number"><span class="hljs-number">5</span></span>, mS); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_cs(<span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre><br> 之后，图像应将图像从白色电视干扰变为灰色电视干扰。 <br><br><img src="https://habrastorage.org/webt/jf/i5/yk/jfi5yk1wxjfkjgukmvf3al_xlz0.jpeg" alt="图片"><br><br><h3> 画一个矩形 </h3><br>  SSD1283A控制器允许您使用矩形绘制图像，为此使用了4个命令。  0x44命令分别在高和低数据字节中包含沿横坐标轴的矩形的终点和起点的坐标。  0x45命令对于纵坐标轴是相同的。  0x21命令包含初始渲染的坐标，y的高字节，x的低字节。  0x22命令包含当前像素的颜色。 这意味着需要对当前矩形的<b>每个</b>像素重复此操作。 该显示器还具有一个功能，尽管其本身的分辨率为130x130，其虚拟坐标网格的尺寸为132x132，并且坐标从2x2点开始计数。 <br><br> 因此，例如，如果我们想以20画一个黑色正方形20，其起始点位于位置（30，45），那么我们需要传输以下命令序列： <br><br>  0x44 0x3320（30 + 20 + 2-1，30 + 2） <br>  0x45 0x422F（45 + 20 + 2-1，45 + 2） <br>  0x21 0x2F20 <br>  0x22 0x0000，此命令必须发送400次（20 * 20）。 <br><br> 然后，矩形绘制函数将如下所示（假设坐标已经偏移了2）： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> tft_lcd::draw_rect(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect&amp; rec) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_send(<span class="hljs-number"><span class="hljs-number">0x44</span></span>, ((rec.x1 - <span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | rec.x0); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_send(<span class="hljs-number"><span class="hljs-number">0x45</span></span>, ((rec.y1 - <span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | rec.y0); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_send(<span class="hljs-number"><span class="hljs-number">0x21</span></span>, (rec.y0 &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | rec.x0); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; ((rec.x1 - rec.x0) * (rec.y1 - rec.y0)); i++) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;tft_lcd_send(<span class="hljs-number"><span class="hljs-number">0x22</span></span>, rec.col); } }</code> </pre><br> 要绘制矩形，只需指定其角和颜色的坐标即可。 用粉红色填充整个屏幕的示例如下所示： <br><br><pre> <code class="cpp hljs">t_rect rect = {<span class="hljs-number"><span class="hljs-number">0x02</span></span>, <span class="hljs-number"><span class="hljs-number">0x02</span></span>, <span class="hljs-number"><span class="hljs-number">0x84</span></span>, <span class="hljs-number"><span class="hljs-number">0x84</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>&gt;(COLOUR::MAGENTA)}; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_rect(rect);</code> </pre><br> 结果： <br><br><img src="https://habrastorage.org/webt/ub/w-/l1/ubw-l18pd4pkgsav5k07vmx_d60.jpeg" alt="图片"><br><br><h3> 画字母和数字 </h3><br> 创建一个带有字符坐标的数组列表。 <br><br><div class="spoiler">  <b class="spoiler_title">字母和数字的坐标数组</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> rect_coord_lit { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord comma[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">28</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord dot[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord space[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _0[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _1[] = {{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _2[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _3[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _4[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _5[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _6[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _7[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _8[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord _9[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord a[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord b[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord c[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord d[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord e[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord f[] = {{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord g[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord h[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord i[] = {{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord j[] = {{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord k[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> , <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord l[] = {{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord m[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> , <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord n[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> , <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord o[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord p[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord q[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord r[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord s[] = {{<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>}, {<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord t[] = {{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord u[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>},{<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord v[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>}, {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord w[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>},{<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> , <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> , <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord x[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>},{<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> , <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> , <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord y[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>}}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord z[] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>}, {<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>}, {<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>}, {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>}}; }</code> </pre><br></div></div><br> 创建一个表，在该表中我们将字符本身（以ascii形式），其矩形的数目及其坐标相关联： <br><br><div class="spoiler">  <b class="spoiler_title">坐标指针表</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> lit; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> size; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord *rec_coord; }t_rect_coord_table; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LITERAL_COORD(x) sizeof(x)/ sizeof(x[0]), x const t_rect_coord_table rect_coord_table[] = { {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">','</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::comma)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'.'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::dot)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'.'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::dot)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">' '</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::space)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'0'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_0)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'1'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_1)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'2'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_2)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'3'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_3)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'4'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_4)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'5'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_5)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'6'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_6)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'7'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_7)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'8'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_8)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'9'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::_9)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'a'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::a)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'b'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::b)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'c'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::c)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'d'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::d)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'e'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::e)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'f'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::f)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'g'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::g)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'h'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::h)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'i'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::i)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'j'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::j)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'k'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::k)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'l'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::l)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'m'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::m)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'n'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::n)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'o'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::o)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'p'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::p)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'q'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::q)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'r'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::r)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'s'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::s)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'t'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::t)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'u'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::u)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'v'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::v)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'w'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::w)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'x'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::x)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'y'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::y)}, {</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'z'</span></span></span><span class="hljs-meta">, LITERAL_COORD(rect_coord_lit::z)} };</span></span></code> </pre><br></div></div><br> 然后，一个字符的绘制函数将如下所示： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> tft_lcd::draw_lit(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> t_rect_coord *rect_coord, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> colour, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> x0, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> y0, <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> size) { t_rect rec = {<span class="hljs-number"><span class="hljs-number">0</span></span>}; rec.col = colour; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> ctr = size; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(ctr--) { rec.x0 = x0 + rect_coord[i].x0; rec.y0 = y0 + rect_coord[i].y0; rec.x1 = x0 + rect_coord[i].x1; rec.y1 = y0 + rect_coord[i].y1; i++; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_rect(rec); } } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> tft_lcd::draw_char(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> colour, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> x0, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> y0) { x0 += <span class="hljs-number"><span class="hljs-number">2</span></span>; y0 +=<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;field : rect_coord_table) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(field.lit == ch) { draw_lit(ch, field.rec_coord, colour, x0, y0, field.size); } } }</code> </pre><br>  draw_char函数表示一个有限状态机，其中for循环遍历坐标表的每个字段并按符号搜索匹配项。 如果找到匹配项，则将数据传输到draw_lit函数，该函数在给定坐标处绘制所需数目的矩形。 <br><br> 线条图将如下所示： <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> tft_lcd::draw_string(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *ch, COLOUR colour, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> x0, <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> y0) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(*ch) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_char(*ch, <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>&gt;(colour), x0, y0); x0+= <span class="hljs-number"><span class="hljs-number">20</span></span>; ch++; } }</code> </pre><br> 现在就足以设置线条，其初始位置和颜色。 要添加新字母，只需创建一个坐标数组并将其添加到表中即可。 随机代码示例： <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_string(<span class="hljs-string"><span class="hljs-string">"123456"</span></span>, COLOUR::GREEN, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_string(<span class="hljs-string"><span class="hljs-string">"habr,."</span></span>, COLOUR::WHITE, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_string(<span class="hljs-string"><span class="hljs-string">"abcdef"</span></span>, COLOUR::RED, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>-&gt;draw_string(<span class="hljs-string"><span class="hljs-string">"stwxyz"</span></span>, COLOUR::YELLOW, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>);</code> </pre><br><img src="https://habrastorage.org/webt/wb/dm/bu/wbdmbutkcu8_pd68fgq08sx5mjq.jpeg" alt="图片"><br><br> 在这种模式下，显示速度很快，眼睛没有注意到绘制过程。 <br><br> 对于所有感兴趣的人， <a href="https://bitbucket.org/i_soba/display_ssd1283/src/master/" rel="nofollow">可以在链接上查看</a>完整的<a href="https://bitbucket.org/i_soba/display_ssd1283/src/master/" rel="nofollow">项目代码</a> 。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN482610/">https://habr.com/ru/post/zh-CN482610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN482588/index.html">除夕反思</a></li>
<li><a href="../zh-CN482590/index.html">我们是香菇</a></li>
<li><a href="../zh-CN482596/index.html">星际操作系统</a></li>
<li><a href="../zh-CN482598/index.html">伪造Dyatlov集团的照片</a></li>
<li><a href="../zh-CN482604/index.html">1920年代的5个字符，在100年后升入云端</a></li>
<li><a href="../zh-CN482614/index.html">在Doom中使用BSP真的是一种巧妙的举动吗？</a></li>
<li><a href="../zh-CN482616/index.html">Foreve Elon 2019/2020（NY2020在线会议）</a></li>
<li><a href="../zh-CN482622/index.html">雨中跑步模拟</a></li>
<li><a href="../zh-CN482626/index.html">使用Logger.Backends监视应用程序</a></li>
<li><a href="../zh-CN482628/index.html">观看“时间的小绿蜘蛛”</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>