<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💷 🙌🏻 👇🏼 Annonce d'une nouvelle version de Styled Components v5: Animal Grin 🧙🏽 👨🏽‍🏫 🧓🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous sommes très heureux d'annoncer la nouvelle cinquième version des composants stylisés ! La nouvelle version est entièrement rétrocompatible avec l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Annonce d'une nouvelle version de Styled Components v5: Animal Grin</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456422/"><p><img src="https://habrastorage.org/webt/t7/ho/_g/t7ho_gajaxhs9fwsmm48zlsicz8.jpeg"></p><br><p>  Nous sommes très heureux d'annoncer la <em>nouvelle cinquième version des composants stylisés</em> !  La nouvelle version est entièrement rétrocompatible avec la version précédente, à condition que React ^ 16.8 soit utilisé. </p><br><p>  La bêta de la cinquième version peut être essayée dès maintenant: </p><br><pre><code class="plaintext hljs">npm install styled-components@beta</code> </pre> <br><p>  <em>Nous avons besoin d'une version de React qui prend en charge React.hooks, c'est-à-dire</em>  <em>react@^16.8 react-dom@^16.8 react-is@^16.8</em> </p><br><h3 id="a-teper-ob-izmeneniyah">  Et maintenant sur les changements! </h3><br><h2 id="bystro-esche-bystree-styled-components">  Vite.  Encore plus vite.  Composants stylisés. </h2><br><p>  Lorsque nous avons sorti la deuxième version il y a plus de 2 ans, nous avions promis de nous concentrer sur les performances.  Nous avons déjà considérablement accéléré le travail de la bibliothèque sur plusieurs versions.  Nous avons donc décuplé la vitesse dans la version 3.1 et accéléré de 25% dans la version 4. </p><br><p>  À partir de la cinquième version, la bibliothèque de composants stylisés est désormais encore plus rapide!  Par rapport à la version 4, nous avons obtenu: </p><br><ul><li>  <strong>Taille du</strong> code minifié <strong>19% plus petite</strong> (16,2 Ko contre 13,63 Ko min + gzip) ️ </li><li>  <strong>Initialisation 18% plus rapide</strong> côté client </li><li>  <strong>Mise à</strong> jour des styles dynamiques <strong>17% plus rapide</strong> </li><li>  Rendu du <strong>serveur</strong> <strong>45%</strong> (!!!) plus rapide </li></ul><a name="habracut"></a><br><p>  Styled-components était déjà l'une des bibliothèques CSS-in-JS les plus rapides, mais maintenant c'est encore plus rapide, mais avec la cinquième version, nous avons renforcé notre position parmi les leaders: </p><br><p><img src="https://habrastorage.org/webt/yg/zq/gx/ygzqgxczwur1edavfmbzjzcny14.png"><br>  <em>Initialisation de l'arborescence des composants.</em>  <em>Moins c'est mieux.</em> </p><br><p>  Une augmentation significative de la vitesse a été obtenue grâce à notre nouveau noyau.  Il n'a pas été modifié depuis des années, nous l'avons donc complètement réécrit en mettant l'accent sur les performances et la précision (exactitude). </p><br><p>  Malgré des tests internes approfondis, il y a peut-être encore des bugs que nous allons définitivement corriger.  Nous demandons également à la communauté de nous aider à tester la version bêta afin que la version soit aussi stable que possible. </p><br><p>  Essayez la bibliothèque et dites-nous si quelque chose s'est mal passé: </p><br><pre> <code class="plaintext hljs">npm install styled-components@beta</code> </pre> <br><p>  Si vous utilisez des composants de style plaisanterie, assurez-vous de mettre à niveau cette bibliothèque en version bêta. </p><br><h2 id="naglyadno-esche-naglyadnee-react-devtools">  De toute évidence.  Encore plus clairement.  React DevTools </h2><br><p>  Maintenant, tous vos composants stylisés fonctionnent pleinement sur React.hooks, de sorte que la structure arborescente est beaucoup plus visuelle et simple. </p><br><p>  Par exemple, un composant <code>TagLine</code> stylisé regarde dans React DevTools avant les modifications (v4): </p><br><pre> <code class="javascript hljs">&lt;TagLine&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyledComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">forwardedRef</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{null}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">”H2-sc-1izft7s-7”</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello world</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Context.Consumer</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyledComponent</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">TagLine</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Et donc - après les changements (v5) </p><br><pre> <code class="javascript hljs">&lt;TagLine&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">”H2-sc-1izft7s-7”</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello world</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/TagLine&gt;</span></span></code> </pre> <br><p>  Assez clair?  Et voici un exemple d'une vraie application: <br> <a href=""><img src="https://habrastorage.org/webt/ai/f_/jb/aif_jbiwbldm8d7oqro4vfmt4no.jpeg" alt="Comparaison de l'arborescence des composants React en v4 et v5"></a> <br>  <em>Réactivez l'arborescence des composants DevTools pour styled-components.com.</em>  <em>À gauche, la quatrième version, à droite, la cinquième.</em>  <em>Ouah!</em>  <em>(Cliquable)</em> </p><br><p>  <em>Un grand merci à Jessica Franco et Alexander Nanberg pour avoir refactorisé le code à l'aide de React.Hooks.</em> </p><br><h2 id="novyy-esche-novee-stylesheetmanager">  Nouveau.  Encore plus récent.  StyleSheetManager </h2><br><p>  <code>&lt;StyleSheetManager /&gt;</code> reçu une mise à jour importante dans la cinquième version, permettant aux plugins d'étendre notre analyseur CSS (stylet). </p><br><p>  Cela peut être utilisé pour divers scénarios, par exemple, pour une prise en charge complète et automatique de droite à gauche. </p><br><h2 id="rtl-support">  Prise en charge RTL </h2><br><p>  Avec ce plugin, vous pouvez facilement remplacer la direction de gauche à droite par une direction de droite à gauche: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { StyleSheetManager } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'styled-components'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> stylisRTLPlugin <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'stylis-rtl'</span></span>; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyleSheetManager</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stylisPlugins</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{[stylisRTLPlugin]}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">StyleSheetManager</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  C'est tout ce qu'il y a à faire!  Nous sommes très heureux et surpris des opportunités qui s'ouvrent avec les plugins.  Vous pouvez maintenant donner aux composants stylisés une superpuissance! </p><br><h2 id="podderzhite-nas">  Soutenez-nous </h2><br><p>  les composants de style sont largement utilisés par la communauté.  Très large.  La bibliothèque a été téléchargée 39 millions de fois et est une dépendance pour des centaines de milliers de référentiels publics, à l'exception de nombreux répertoires privés qui ne sont pas affichés dans les statistiques GitHub. </p><br><p>  Étant donné que la bibliothèque est largement utilisée par nous, l'équipe centrale, nous prenons de sérieuses responsabilités.  Malheureusement, la maintenance et le support de la bibliothèque sont presque entièrement volontaires.  Et nous sommes très limités en ressources, pour payer quelqu'un, pour organiser ou participer à des conférences et des sommets. </p><br><p>  Si vous utilisez la bibliothèque au travail, pensez à nous soutenir chez OpenCollective.  Nous aimerions beaucoup réunir notre équipe dans une seule pièce cette année, et ce soutien nous aidera à mettre en œuvre notre plan. </p><br><p>  Toute l'équipe espère que vous apprécierez la cinquième version.  Et, comme toujours, restez stylé! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456422/">https://habr.com/ru/post/fr456422/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456410/index.html">Utiliser GIT lors de la documentation</a></li>
<li><a href="../fr456412/index.html">Innovation controversée de Yandex - connectez-vous à votre compte via une lettre</a></li>
<li><a href="../fr456414/index.html">Protection contre les incendies dans les centres de données ou comment les données sont stockées</a></li>
<li><a href="../fr456416/index.html">Agile for All Book</a></li>
<li><a href="../fr456418/index.html">Une brève histoire de la triche sur les jeux vidéo</a></li>
<li><a href="../fr456424/index.html">Utreexo: compresser beaucoup de Bitcoin UTXO</a></li>
<li><a href="../fr456426/index.html">BASS - un cadre pour la synthèse automatique des signatures antivirus</a></li>
<li><a href="../fr456430/index.html">L'éternelle question de la dette technique</a></li>
<li><a href="../fr456432/index.html">Security Week 25: vulnérabilité d'Evernote et des centaines de boutiques en ligne piratées</a></li>
<li><a href="../fr456434/index.html">Professions du futur: «Qui travaillerez-vous sur Mars?»</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>