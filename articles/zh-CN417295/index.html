<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§•ğŸ» ğŸ—„ï¸ ğŸ‘‹ğŸ¾ æˆ‘å¦‚ä½•ç¼–å†™æ ‡å‡†çš„C ++ 11åº“ï¼Œæˆ–è€…ä¸ºä»€ä¹ˆboostå¦‚æ­¤ä»¤äººææƒ§ã€‚ ç¬¬ä¸‰ç«  ğŸ˜µ ğŸ¥© ğŸ´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å…ˆå‰éƒ¨åˆ†çš„æ‘˜è¦ 
 ç”±äºä½¿ç”¨C ++ 11ç¼–è¯‘å™¨çš„èƒ½åŠ›å—åˆ°é™åˆ¶ï¼Œå¹¶ä¸”ç”±äºç¼ºä¹æ›¿ä»£æ€§ï¼Œboostå¸Œæœ›åœ¨ç¼–è¯‘å™¨éšé™„çš„C ++ 98 / C ++ 03åº“ä¹‹ä¸Šç¼–å†™è‡ªå·±çš„æ ‡å‡†C ++ 11åº“å®ç°ã€‚ 

 å®ç°äº†static_assert ï¼Œ noexcept ï¼Œ countof ï¼Œå¹¶ä¸”åœ¨è€ƒè™‘äº†æ‰€æœ‰éæ ‡å‡†å®šä¹‰...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘å¦‚ä½•ç¼–å†™æ ‡å‡†çš„C ++ 11åº“ï¼Œæˆ–è€…ä¸ºä»€ä¹ˆboostå¦‚æ­¤ä»¤äººææƒ§ã€‚ ç¬¬ä¸‰ç« </h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417295/"><img src="https://habrastorage.org/webt/lr/zq/if/lrzqifvfeajppx2fdvqbxnwf4ce.png" alt="æˆ‘ä»¬ç»§ç»­å†’é™©ã€‚" width="300" height="350" align="left"><h3> å…ˆå‰éƒ¨åˆ†çš„æ‘˜è¦ </h3><br> ç”±äºä½¿ç”¨C ++ 11ç¼–è¯‘å™¨çš„èƒ½åŠ›å—åˆ°é™åˆ¶ï¼Œå¹¶ä¸”ç”±äºç¼ºä¹æ›¿ä»£æ€§ï¼Œboostå¸Œæœ›åœ¨ç¼–è¯‘å™¨éšé™„çš„C ++ 98 / C ++ 03åº“ä¹‹ä¸Šç¼–å†™è‡ªå·±çš„æ ‡å‡†C ++ 11åº“å®ç°ã€‚ <br><br>  <b>å®ç°äº†static_assert</b> ï¼Œ <b>noexcept</b> ï¼Œ <b>countof</b> ï¼Œå¹¶ä¸”åœ¨è€ƒè™‘äº†æ‰€æœ‰éæ ‡å‡†å®šä¹‰å’Œç¼–è¯‘å™¨åŠŸèƒ½ä¹‹åï¼Œå‡ºç°äº†æœ‰å…³å½“å‰ç¼–è¯‘å™¨æ”¯æŒçš„åŠŸèƒ½çš„ä¿¡æ¯ã€‚ è¿™æ ·å°±å®Œæˆäº†<b>core.h</b>çš„æè¿°ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰<b>nullptr</b> ï¼Œå®ƒå°†æ˜¯ä¸å®Œæ•´çš„ã€‚ <br><br> é“¾æ¥åˆ°GitHubï¼Œä¸ºä¸è€çƒ¦çš„è¯»è€…å’Œéè¯»è€…æä¾›ä»Šå¤©çš„ç»“æœï¼š <br><br><blockquote>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¬¢è¿æœ‰å»ºè®¾æ€§çš„æ‰¹è¯„å’Œæ‰¹è¯„</a></b> </blockquote><br> å› æ­¤ï¼Œè®©æˆ‘ä»¬ç»§ç»­ã€‚ <br><a name="habracut"></a><br><h4> ç›®å½• </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¼•è¨€</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬1ç« ã€‚Viam supervadet vadens</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬2ç« ã€‚#ifndef __CPP11_SUPPORT__ï¼ƒå®šä¹‰__COMPILER_SPECIFIC_BUILT_IN_AND_MACRO_HELL__ #endif</a> <br>  <b>ç¬¬3ç« ã€‚æ‰¾åˆ°ç†æƒ³çš„nullptrå®ç°</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬4ç« C ++æ¨¡æ¿é­”æœ¯</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.1æˆ‘ä»¬ä»å°å¤„ç€æ‰‹</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.2å…³äºæ—¥å¿—ä¸ºæˆ‘ä»¬ç¼–è¯‘äº†å¤šå°‘ä¸ªå¥‡è¿¹èˆ¬çš„é”™è¯¯</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.3æŒ‡é’ˆå’Œæ‰€æœ‰æ‰€æœ‰</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.4æ¨¡æ¿åº“è¿˜éœ€è¦ä»€ä¹ˆ</a> <br> ç¬¬äº”ç«  <br>  ... <br><br><h3> ç¬¬3ç« ã€‚æ‰¾åˆ°ç†æƒ³çš„nullptrå®ç° </h3><br> åœ¨ç»å†äº†éæ ‡å‡†çš„ç¼–è¯‘å™¨å®çš„å®å¤§å²è¯—ä»¥åŠå®ƒä»¬æ‰€å±•ç°çš„â€œå¥‡å¦™â€å‘ç°ä¹‹åï¼Œæˆ‘ç»ˆäºå¯ä»¥æ·»åŠ <b>nullpträº†</b> ï¼Œè¿™è®©æˆ‘å¾ˆæŒ¯å¥‹ã€‚ æœ€åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨0ç”šè‡³<b>NULL</b>æ‘†è„±æ‰€æœ‰è¿™äº›æ¯”è¾ƒã€‚ <br><br><img src="https://habrastorage.org/webt/t_/jt/wb/t_jtwbjyvuah5tw2ehe-gvy0fxe.jpeg" alt="å›¾ç‰‡" width="300" height="200" align="left"> å¤§å¤šæ•°ç¨‹åºå‘˜å°†<b>nullptr</b>å®ç°ä¸º <br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr 0</span></span></code> </pre> <br> è¿™å¯èƒ½å·²ç»ç»“æŸäº†æœ¬ç« ã€‚ å¦‚æœæ‚¨è‡ªå·±æƒ³è¦<b>nullptr</b> ï¼Œé‚£ä¹ˆåªéœ€å°†0æ›¿æ¢ä¸ºè¿™æ ·çš„å®šä¹‰ï¼Œå› ä¸ºä»æœ¬è´¨ä¸Šè®²ï¼Œè¿™æ˜¯æ­£ç¡®æ“ä½œæ‰€éœ€è¦çš„ã€‚ <br><br> ä¸è¦å¿˜è®°çœŸæ­£å†™ä¸€å¼ æ”¯ç¥¨ï¼Œå¦åˆ™çªç„¶ä¼šæœ‰å…¶ä»–äººå‘ç°æ­¤å®šä¹‰ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> nullptr #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"nullptr defined already"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br> é¢„å¤„ç†ç¨‹åºæŒ‡ä»¤<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">#error</a>ä¼šåœ¨ç¼–è¯‘æ—¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">äº§ç”Ÿ</a>äººç±»å¯è¯»æ–‡æœ¬é”™è¯¯ï¼Œæ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†æŒ‡ä»¤ï¼Œå¾ˆå°‘ä½¿ç”¨ï¼Œä½†æ˜¯å¯ä»¥æ‰¾åˆ°ã€‚ <br><br> ä½†æ˜¯åœ¨è¿™æ ·çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬é”™è¿‡äº†æ ‡å‡†ä¸­æè¿°çš„è¦ç‚¹ä¹‹ä¸€ï¼Œå³<i>std :: nullptr_t-</i>ä¸€ç§å•ç‹¬çš„ç±»å‹ï¼Œå…¶å¸¸é‡å®ä¾‹ä¸º<b>nullptr</b> ã€‚ é“¬å¼€å‘äººå‘˜æ›¾ç»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å°è¯•</a>è§£å†³æ­¤é—®é¢˜ï¼ˆç°åœ¨æœ‰ä¸€ä¸ªæ›´æ–°çš„ç¼–è¯‘å™¨å’Œå¸¸è§„çš„<b>nullptr</b> ï¼‰ï¼Œå°†å…¶å®šä¹‰ä¸ºå¯ä»¥è½¬æ¢ä¸ºä»»ä½•ç±»å‹çš„æŒ‡é’ˆçš„ç±»ã€‚ ç”±äºæŒ‰æ ‡å‡†ï¼Œç”±äº<b>nullptr</b>çš„å¤§å°åº”ç­‰äºæŒ‡å‘<b>void</b>çš„æŒ‡é’ˆçš„å¤§å°ï¼ˆå¹¶ä¸”<b>void *</b>è¿˜åº”åŒ…å«ä»»ä½•æŒ‡é’ˆï¼Œä½†æŒ‡å‘ç±»æˆå‘˜çš„æŒ‡é’ˆé™¤å¤–ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡æ·»åŠ æœªä½¿ç”¨çš„nullæŒ‡é’ˆæ¥â€œæ ‡å‡†åŒ–â€æ­¤å®ç°ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: nullptr_t_as_class_impl() { } nullptr_t_as_class_impl(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) { } <span class="hljs-comment"><span class="hljs-comment">// Make nullptr convertible to any pointer type. template&lt;typename T&gt; operator T*() const { return 0; } // Make nullptr convertible to any member pointer type. template&lt;typename C, typename T&gt; operator TC::*() { return 0; } bool operator==(nullptr_t_as_class_impl) const { return true; } bool operator!=(nullptr_t_as_class_impl) const { return false; } private: // Do not allow taking the address of nullptr. void operator&amp;(); void *_padding; }; typedef nullptr_t_as_class_impl nullptr_t; #define nullptr nullptr_t(0)</span></span></code> </pre><br> æ­¤ç±»åˆ°ä»»ä½•æŒ‡é’ˆçš„è½¬æ¢å½’å› äºè¯¥ç±»å‹çš„æ¨¡æ¿è¿ç®—ç¬¦ï¼Œå¦‚æœå°†å…¶ä¸<b>nullptr</b>è¿›è¡Œæ¯”è¾ƒï¼Œåˆ™ä¼šè°ƒç”¨è¯¥è¿ç®—ç¬¦ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œè¡¨è¾¾å¼<i>char * my_pointer;</i>  <i>ifï¼ˆmy_pointer == nullptrï¼‰</i>å®é™…ä¸Šå°†è½¬æ¢ä¸º<i>ifï¼ˆmy_pointer == nullptr.operator char *ï¼ˆï¼‰ï¼‰</i> ï¼Œå®ƒå°†æŒ‡é’ˆä¸0è¿›è¡Œæ¯”è¾ƒã€‚éœ€è¦ç¬¬äºŒä¸ªç±»å‹è¿ç®—ç¬¦å°†<b>nullptr</b>è½¬æ¢ä¸ºæŒ‡å‘ç±»æˆå‘˜çš„æŒ‡é’ˆã€‚ åœ¨è¿™é‡Œï¼ŒBorland C ++ Builder 6.0æ˜¯â€œæ°å‡ºçš„è‡ªå·±â€ï¼Œä»–æ„å¤–åœ°è®¤ä¸ºè¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ˜¯ç›¸åŒçš„ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°å°†æŒ‡å‘ç±»æˆå‘˜çš„æŒ‡é’ˆä¸æ™®é€šæŒ‡é’ˆç›¸äº’æ¯”è¾ƒï¼Œå› æ­¤æ¯æ¬¡å°†<b>nullptr</b>ä¸æŒ‡é’ˆï¼ˆè¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œä¹Ÿè®¸ä¸ä»…é™äºæ­¤ç¼–è¯‘å™¨ï¼‰ã€‚ æˆ‘ä»¬æ­£åœ¨ä¸ºè¿™ç§æƒ…å†µç¼–å†™ä¸€ä¸ªå•ç‹¬çš„å®ç°ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_impl1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: nullptr_t_as_class_impl1() { } nullptr_t_as_class_impl1(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) { } <span class="hljs-comment"><span class="hljs-comment">// Make nullptr convertible to any pointer type. template&lt;typename T&gt; operator T*() const { return 0; } bool operator==(nullptr_t_as_class_impl1) const { return true; } bool operator!=(nullptr_t_as_class_impl1) const { return false; } private: // Do not allow taking the address of nullptr. void operator&amp;(); void *_padding; }; typedef nullptr_t_as_class_impl1 nullptr_t; #define nullptr nullptr_t(0)</span></span></code> </pre><br> æ­¤<b>nullptr</b>è§†å›¾çš„ä¼˜ç‚¹åœ¨äºï¼Œç°åœ¨ä¸º<i>std :: nullptr_tæä¾›</i>äº†ä¸€ä¸ªå•ç‹¬çš„ç±»å‹ã€‚ åŠ£åŠ¿ï¼Ÿ åœ¨é€šè¿‡ä¸‰å…ƒè¿ç®—ç¬¦è¿›è¡Œç¼–è¯‘å’Œæ¯”è¾ƒæ—¶ï¼Œ <b>nullptr</b>å¸¸é‡ä¼š<b>ä¸¢å¤±</b> ï¼Œç¼–è¯‘å™¨æ— æ³•è§£æå®ƒã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span>* case5 = argc &gt; <span class="hljs-number"><span class="hljs-number">2</span></span> ? (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span>*)<span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ,     ':'    STATIC_ASSERT(nullptr == nullptr &amp;&amp; !(nullptr != nullptr), nullptr_should_be_equal_itself); //  , nullptr     </span></span></code> </pre><br> æˆ‘æƒ³â€œå’Œæ£‹å­ä¸€èµ·èµ°â€ã€‚ è§£å†³æ–¹æ¡ˆåªæœ‰ä¸€ä¸ªï¼š <b>enum</b> ã€‚  C ++ä¸­çš„æšä¸¾æˆå‘˜å°†å…·æœ‰è‡ªå·±å•ç‹¬çš„ç±»å‹ï¼Œå¹¶ä¸”ä¹Ÿå°†æ¯«æ— é—®é¢˜åœ°è½¬æ¢ä¸º<b>int</b> ï¼ˆå®é™…ä¸Šï¼Œå®ƒä»¬æ˜¯æ•´æ•°å¸¸é‡ï¼‰ã€‚ æšä¸¾æˆå‘˜çš„æ­¤å±æ€§å°†ä¸ºæˆ‘ä»¬æä¾›å¸®åŠ©ï¼Œå› ä¸ºæœ€å¸¸è§çš„<b>int</b>æ˜¯ä½¿ç”¨éå¸¸â€œç‰¹æ®Šâ€çš„0ä»£æ›¿æŒ‡é’ˆçš„<b>nullptr</b> ã€‚ æˆ‘åœ¨äº’è”ç½‘ä¸Šè¿˜æ²¡æœ‰çœ‹åˆ°è¿‡<b>nullptrçš„</b>è¿™ç§å®ç°ï¼Œä¹Ÿè®¸è¿™ä¹Ÿå¾ˆç³Ÿç³•ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå®ç°ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> NULL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STDEX_NULL NULL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STDEX_NULL 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> namespace ptrdiff_detail { using namespace std; } template</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;bool&gt; struct nullptr_t_as_ulong_type { typedef unsigned long type; }; template&lt;&gt; struct nullptr_t_as_ulong_type&lt;false&gt; { typedef unsigned long type; }; template&lt;bool&gt; struct nullptr_t_as_ushort_type { typedef unsigned short type; }; template&lt;&gt; struct nullptr_t_as_ushort_type&lt;false&gt; { typedef nullptr_t_as_long_type&lt;sizeof(unsigned long) == sizeof(void*)&gt;::type type; }; template&lt;bool&gt; struct nullptr_t_as_uint_type { typedef unsigned int type; }; template&lt;&gt; struct nullptr_t_as_uint_type&lt;false&gt; { typedef nullptr_t_as_short_type&lt;sizeof(unsigned short) == sizeof(void*)&gt;::type type; }; typedef nullptr_t_as_uint_type&lt;sizeof(unsigned int) == sizeof(void*)&gt;::type nullptr_t_as_uint; enum nullptr_t_as_enum { _nullptr_val = ptrdiff_detail::ptrdiff_t(STDEX_NULL), _max_nullptr = nullptr_t_as_uint(1) &lt;&lt; (CHAR_BIT * sizeof(void*) - 1) }; typedef nullptr_t_as_enum nullptr_t; #define nullptr nullptr_t(STDEX_NULL)</span></span></span></span></code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œè¿™é‡Œçš„ä»£ç æ¯”ä»…å£°æ˜æˆå‘˜<i>nullptr = 0çš„</i> <b>æšä¸¾</b> <i>nullptr_t</i>å¤šäº†ä¸€äº›ä»£ç ã€‚ é¦–å…ˆï¼Œå¯èƒ½æ²¡æœ‰<b>NULL</b>å®šä¹‰ã€‚ åº”è¯¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç›¸å½“æ ‡å‡†çš„æ ‡å¤´åˆ—è¡¨ä¸­</a>å®šä¹‰å®ƒï¼Œä½†æ˜¯å¦‚å®è·µæ‰€ç¤ºï¼Œæœ€å¥½å®‰å…¨åœ°æ’­æ”¾å®ƒå¹¶æ£€æŸ¥è¯¥å®ã€‚ å…¶æ¬¡ï¼Œæ ¹æ®å®ç°å®šä¹‰çš„æ ‡å‡†ï¼Œå³C ++ï¼ŒC ++ä¸­çš„<b>æšä¸¾</b>è¡¨ç¤ºå½¢å¼ æšä¸¾ç±»å‹å¯ä»¥ç”¨ä»»ä½•æ•´æ•°ç±»å‹è¡¨ç¤ºï¼ˆå‰ææ˜¯è¿™äº›ç±»å‹ä¸èƒ½è¶…è¿‡<b>int</b> ï¼Œå‰ææ˜¯<b>æšä¸¾</b>å€¼<b>é€‚åˆ</b>å®ƒï¼‰ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å£°æ˜<i>æšä¸¾æµ‹è¯•{_1ï¼Œ_2}ï¼Œåˆ™</i>ç¼–è¯‘å™¨å¯ä»¥è½»æ¾åœ°å°†å…¶è¡¨ç¤ºä¸º<b>shortï¼Œ</b>é‚£ä¹ˆå¾ˆæœ‰å¯èƒ½<b>sizeofï¼ˆ</b> <i>test</i> <b>ï¼‰</b> <i>ï¼=</i> <b>Sizeofï¼ˆvoid *ï¼‰</b> ã€‚ ä¸ºäº†ä½¿<b>nullptr</b>å®ç°<b>ç¬¦åˆ</b>æ ‡å‡†ï¼Œæ‚¨éœ€è¦ç¡®ä¿ç¼–è¯‘å™¨ä¸º<i>nullptr_t_as_enum</i>é€‰æ‹©çš„ç±»å‹çš„å¤§å°ä¸æŒ‡é’ˆçš„å¤§å°ç›¸åŒ¹é…ï¼Œå³ åŸºæœ¬ä¸Šç­‰äº<b>sizeofï¼ˆvoid *ï¼‰</b> ã€‚ ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨<i>nullptr_t_as ...</i>æ¨¡æ¿ï¼Œé€‰æ‹©ä¸€ä¸ªç­‰äºæŒ‡é’ˆå¤§å°çš„æ•´æ•°ç±»å‹ï¼Œç„¶åå°†æšä¸¾ä¸­å…ƒç´ çš„æœ€å¤§å€¼è®¾ç½®ä¸ºè¯¥æ•´æ•°ç±»å‹çš„æœ€å¤§å€¼ã€‚ <br><blockquote> æˆ‘è¦æ³¨æ„æ ‡å‡†<b>climits</b>æ ‡å¤´ä¸­å®šä¹‰çš„å®<b>CHAR_BIT</b> ã€‚ æ­¤å®è®¾ç½®ä¸ºä¸€ä¸ª<b>å­—ç¬¦ä¸­</b>çš„ä½æ•°ï¼Œå³ å½“å‰å¹³å°ä¸Šæ¯å­—èŠ‚çš„ä½æ•°ã€‚ ä¸€ä¸ªæœ‰ç”¨çš„<u>æ ‡å‡†</u>å®šä¹‰ï¼Œå¼€å‘äººå‘˜ä¸åº”æœ‰çš„é€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ‰€æœ‰ä½ç½®ä½¿ç”¨å…«ä½æ•°å­—æ¥</a>ç»•å¼€ï¼Œå°½ç®¡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨ä¸€ä¸ªå­—èŠ‚</a>ä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŸäº›åœ°æ–¹æ ¹æœ¬æ²¡æœ‰8ä½</a> ã€‚ </blockquote><br> å¦ä¸€ä¸ªåŠŸèƒ½æ˜¯å°†<b>NULL</b>åˆ†é…ä¸º<b>enum</b>å…ƒç´ çš„å€¼ã€‚ ä¸€äº›ç¼–è¯‘å™¨ä¼šå‘<b>NULL</b>åˆ†é…â€œéç´¢å¼•å™¨â€è¿™ä¸€äº‹å®å‘å‡ºè­¦å‘Šï¼ˆå¹¶ä¸”å¯ä»¥ç†è§£ä»–ä»¬çš„æ‹…å¿§ï¼‰ã€‚ æˆ‘ä»¬å°†æ ‡å‡†<b>åç§°ç©ºé—´</b>å–å‡ºåˆ°æœ¬åœ°<i>ptrdiff_detailä¸­</i> ï¼Œä»¥å…ä½¿åç§°ç©ºé—´çš„å…¶ä½™éƒ¨åˆ†æ‚ä¹±æ— ç« ï¼Œç„¶åï¼Œä¸ºäº†ä½¿ç¼–è¯‘å™¨å¹³é™ï¼Œæˆ‘ä»¬å°†<b>NULL</b>æ˜¾å¼è½¬æ¢ä¸º<i>std :: ptrdiff_t</i> -C ++ä¸­å¦ä¸€ç§ä½¿ç”¨ä¸è¶³çš„ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºç®—æœ¯è¿ç®—çš„ç»“æœï¼ˆå‡ï¼‰å¸¦æœ‰æŒ‡é’ˆï¼Œé€šå¸¸æ˜¯<i>std :: size_t</i>ç±»å‹çš„åˆ«åï¼ˆåœ¨C ++ 11ä¸­ä¸º<i>std :: intptr_t</i> ï¼‰ã€‚ <br><br><h4>  FINAE </h4><br> åœ¨è¿™é‡Œï¼Œè¿™æ˜¯æˆ‘æ•…äº‹ä¸­çš„ç¬¬ä¸€æ¬¡ï¼Œæˆ‘ä»¬åœ¨C ++ä¸­é‡åˆ°è¿™æ ·çš„ç°è±¡ï¼Œå³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ›¿æ¢å¤±è´¥ä¸æ˜¯é”™è¯¯ï¼ˆSFINAEï¼‰</a> ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå…¶æœ¬è´¨åœ¨äºï¼Œå½“ç¼–è¯‘å™¨â€œéå†â€ç‰¹å®šè°ƒç”¨çš„é€‚å½“å‡½æ•°é‡è½½æ—¶ï¼Œå®ƒåº”æ£€æŸ¥æ‰€æœ‰è¿™äº›é‡è½½ï¼Œå¹¶ä¸”åœ¨ç¬¬ä¸€æ¬¡å¤±è´¥æˆ–ç¬¬ä¸€æ¬¡é€‚å½“çš„é‡è½½ä¹‹åä¸è¦åœæ­¢ã€‚ ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­§ä¹‰</a>å‡ºå‘ï¼Œæ¥è‡ªç¼–è¯‘å™¨çš„è§‚ç‚¹æœ‰ä¸¤ä¸ªç›¸åŒçš„é‡è½½ï¼Œä»¥åŠç¼–è¯‘å™¨ä¸ºå…·æœ‰ç‰¹å®šå‚æ•°çš„ç‰¹å®šè°ƒç”¨é€‰æ‹©æœ€åˆé€‚çš„å‡½æ•°é‡è½½çš„èƒ½åŠ›ï¼Œç”±æ­¤äº§ç”Ÿäº†æœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­§ä¹‰çš„</a>ä¿¡æ¯ã€‚ ç¼–è¯‘å™¨çš„æ­¤åŠŸèƒ½ä½¿æ‚¨å¯ä»¥å¯¹æ‰€æœ‰æ¨¡æ¿â€œé­”æœ¯â€è¿›è¡Œæœ€å¤§çš„<i>è´¡çŒ®</i> ï¼ˆé€šè¿‡<i>std :: enable_ifæ–¹å¼</i> ï¼‰ï¼Œå¹¶ä¸”å®ƒä¹Ÿæ˜¯boostå’Œæˆ‘çš„åº“çš„åŸºç¡€ã€‚ <br><br> ç»“æœï¼Œç”±äºæœ‰å‡ ä¸ª<b>nullptr</b>å®ç°<b>ï¼Œå› æ­¤</b>æˆ‘ä»¬åœ¨ç¼–è¯‘é˜¶æ®µä½¿ç”¨SFINAEâ€œé€‰æ‹©â€æœ€ä½³æ–¹æ³•ã€‚ æˆ‘ä»¬å£°æ˜ç±»å‹â€œæ˜¯â€å’Œâ€œå¦â€ï¼Œä»¥æ£€æŸ¥ä¸‹é¢å£°æ˜çš„æ¢æµ‹å‡½æ•°çš„<b>å¤§å°</b> ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> nullptr_detail { <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _yes_type; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no_type</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> padding[<span class="hljs-number"><span class="hljs-number">8</span></span>]; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dummy_class</span></span></span><span class="hljs-class"> {</span></span>}; _yes_type _is_convertable_to_void_ptr_tester(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>*); _no_type _is_convertable_to_void_ptr_tester(...); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nullptr_detail::dummy_class::*dummy_class_f)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nullptr_detail::dummy_class::*dummy_class_f_const)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp;)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; _yes_type _is_convertable_to_member_function_ptr_tester(dummy_class_f); _no_type _is_convertable_to_member_function_ptr_tester(...); _yes_type _is_convertable_to_const_member_function_ptr_tester(dummy_class_f_const); _no_type _is_convertable_to_const_member_function_ptr_tester(...); <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tp</span></span></span><span class="hljs-class">&gt; _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yes_type</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_tester</span></span></span><span class="hljs-class">(_</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tp</span></span></span><span class="hljs-class">*);</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">&gt; _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no_type</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_tester</span></span></span><span class="hljs-class">(...);</span></span> }</code> </pre><br><blockquote> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬äºŒç« </a>ç›¸åŒçš„åŸç†ï¼Œå³<b>countof</b>åŠå…¶é€šè¿‡æ¨¡æ¿å‡½æ•°<i>COUNTOF_REQUIRES_ARRAY_ARGUMENT</i> <b>çš„</b>è¿”å›å€¼ï¼ˆå…ƒç´ æ•°ç»„ï¼‰çš„<b>sizeofè¿›è¡Œ</b>å®šä¹‰ã€‚ </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_void_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_void_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); };</code> </pre><br> è¿™æ˜¯æ€ä¹ˆå›äº‹ é¦–å…ˆï¼Œç¼–è¯‘å™¨â€œ <i>è¿­ä»£</i> â€ <i>_is_convertable_to_void_ptr_tester</i>å‡½æ•°çš„é‡è½½ï¼Œè¯¥<i>é‡è½½</i>å…·æœ‰ç±»å‹<i>T</i>çš„å‚æ•°å’Œ<b>NULLå€¼</b> ï¼ˆè¯¥å€¼ä¸èµ·ä½œç”¨ï¼Œåªæ˜¯<b>NULL</b>å¿…é¡»ä¸ºType <i>T</i> ï¼‰ã€‚ åªæœ‰ä¸¤ä¸ªé‡è½½<b>-void *</b>ç±»å‹å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å˜é‡å‚æ•°åˆ—è¡¨ï¼ˆ...ï¼‰</a> ã€‚ å°†å‚æ•°æ›¿æ¢ä¸ºè¿™äº›é‡è½½ä¸­çš„æ¯ä¸€ä¸ªï¼Œå¦‚æœç±»å‹å¼ºåˆ¶è½¬æ¢ä¸ºæŒ‡å‘<b>void</b>çš„æŒ‡é’ˆï¼Œåˆ™ç¼–è¯‘å™¨å°†é€‰æ‹©ç¬¬ä¸€ä¸ªï¼Œå¦‚æœæ— æ³•æ‰§è¡Œ<b>å¼ºåˆ¶è½¬æ¢</b> ï¼Œåˆ™é€‰æ‹©ç¬¬äºŒä¸ªã€‚ ä½¿ç”¨ç¼–è¯‘å™¨é€‰æ‹©çš„é‡è½½åï¼Œæˆ‘ä»¬ä½¿ç”¨<b>sizeofæ¥</b>ç¡®å®šå‡½æ•°è¿”å›çš„å€¼çš„å¤§å°ï¼Œå¹¶ä¸”ç”±äºä¿è¯äº†å®ƒä»¬çš„ä¸åŒï¼ˆ <b>sizeofï¼ˆ</b> <i>_no_type</i> <b>ï¼‰</b> <i>== 8</i> ï¼Œ <b>sizeofï¼ˆ</b> <i>_yes_type</i> <b>ï¼‰</b> <i>== 1</i> ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šç¼–è¯‘å™¨é€‰æ‹©å¹¶è½¬æ¢çš„é‡è½½å¤§å°ã€‚æˆ‘ä»¬çš„ç±»å‹æ˜¯å¦ä¸º<b>ç©º*</b> ã€‚ <br><br> æˆ‘ä»¬å°†è¿›ä¸€æ­¥åº”ç”¨ç›¸åŒçš„ç¼–ç¨‹æ¨¡æ¿ï¼Œä»¥ç¡®å®šæ˜¯å¦å°†æˆ‘ä»¬é€‰æ‹©çš„è¡¨ç¤º<i>nullptr_t</i>çš„ç±»å‹çš„å¯¹è±¡<i>è½¬æ¢</i>ä¸ºä»»ä½•æŒ‡é’ˆï¼ˆæœ¬è´¨ä¸Š<i>ï¼ˆTï¼‰ï¼ˆ</i> <b>STDEX_NULL</b> <i>ï¼‰</i>æ˜¯<b>nullptr</b>çš„æœªæ¥å®šä¹‰ï¼‰ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_member_function_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_member_function_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)) &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_const_member_function_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NullPtrType</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_any_ptr_impl_helper</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_ptr_tester&lt;T&gt;((NullPtrType) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_any_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, nullptr_detail::dummy_class&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = ( _is_convertable_to_void_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; _is_convertable_to_any_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; _is_convertable_to_member_function_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) ); };</code> </pre><br> å½“ç„¶ï¼Œä¸å¯èƒ½ä½¿ç”¨<b>volatile</b>å’Œ<b>const</b> <b>ä¿®é¥°ç¬¦</b>éå†æ‰€æœ‰å¯èƒ½çš„å’Œéš¾ä»¥æƒ³è±¡çš„æŒ‡é’ˆåŠå…¶ç»„åˆï¼Œå› æ­¤ï¼Œæˆ‘åªé™äºè¿™9ä¸ªæ£€æŸ¥ï¼ˆä¸¤ä¸ªæŒ‡å‘ç±»å‡½æ•°çš„æŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘<b>voidçš„</b>æŒ‡é’ˆï¼Œä¸ƒä¸ªæŒ‡å‘ä¸åŒç±»å‹çš„æŒ‡é’ˆï¼‰ï¼Œå°±è¶³å¤Ÿäº†ã€‚ <br><br> å¦‚ä¸Šæ‰€è¿°ï¼ŒæŸäº›ï¼ˆ* khe-khe * ... Borland Builder 6.0 ... * khe *ï¼‰ç¼–è¯‘å™¨æ— æ³•åŒºåˆ†ç±»å‹çš„æŒ‡é’ˆå’Œç±»çš„æˆå‘˜ï¼Œå› æ­¤æˆ‘ä»¬å°†é’ˆå¯¹è¿™ç§æƒ…å†µç¼–å†™å¦ä¸€ç§è¾…åŠ©æ£€æŸ¥ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥ç±»é€‰æ‹©æ‰€éœ€çš„<i>nullptr_t</i>å®ç°å¦‚æœéœ€è¦çš„è¯ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">member_ptr_is_same_as_ptr</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">test</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(test::*member_ptr_type)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = _is_convertable_to_void_ptr_impl&lt;member_ptr_type&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_chooser</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_class_impl type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_chooser</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_class_impl1 type; };</code> </pre><br> ç„¶åå‰©ä¸‹çš„åªæ˜¯æ£€æŸ¥<i>nullptr_t</i>çš„ä¸åŒå®ç°ï¼Œå¹¶ä¸ºç¼–è¯‘å™¨é€‰æ‹©é€‚å½“çš„ç¼–è¯‘å™¨ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">é€‰æ‹©nullptr_tå®ç°</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_int</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_int type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_enum</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_enum type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_class</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> _nullptr_t_as_class_chooser&lt;_member_ptr_is_same_as_ptr::value&gt;::type type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_int</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_void type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_enum</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as_int</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_int nullptr_t_as_int; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _is_convertable_to_ptr = _is_convertable_to_ptr_impl&lt;nullptr_t_as_int&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_int&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> _nullptr_choose_as_int&lt;as_int::_is_convertable_to_ptr == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; as_int::_equal_void_ptr == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)&gt;::type type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_class</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as_enum</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_enum nullptr_t_as_enum; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _is_convertable_to_ptr = _is_convertable_to_ptr_impl&lt;nullptr_t_as_enum&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_enum&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _can_be_ct_constant = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;<span class="hljs-comment"><span class="hljs-comment">//_nullptr_can_be_ct_constant_impl&lt;nullptr_t_as_enum&gt;::value; }; typedef _nullptr_choose_as_enum&lt;as_enum::_is_convertable_to_ptr == bool(true) &amp;&amp; as_enum::_equal_void_ptr == bool(true) &amp;&amp; as_enum::_can_be_ct_constant == bool(true)&gt;::type type; }; struct _nullptr_chooser { struct as_class { typedef _nullptr_t_as_class_chooser&lt;_member_ptr_is_same_as_ptr::value&gt;::type nullptr_t_as_class; static const bool _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_class&gt;::value; static const bool _can_be_ct_constant = _nullptr_can_be_ct_constant_impl&lt;nullptr_t_as_class&gt;::value; }; typedef _nullptr_choose_as_class&lt;as_class::_equal_void_ptr == bool(true) &amp;&amp; as_class::_can_be_ct_constant == bool(true)&gt;::type type; };</span></span></code> </pre><br></div></div><br> é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦å¯ä»¥å°†<i>nullptr_t</i>è¡¨ç¤ºä¸ºç±»ï¼Œä½†æ˜¯ç”±äºæˆ‘æ²¡æœ‰æ‰¾åˆ°<i>ç‹¬ç«‹</i>è§£å†³æ–¹æ¡ˆçš„é€šç”¨ç¼–è¯‘å™¨ï¼Œå› æ­¤æˆ‘æ²¡æœ‰æ‰¾åˆ°å¯ä»¥ä½œä¸ºç¼–è¯‘æ—¶é—´å¸¸æ•°çš„ç±»å‹å¯¹è±¡ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘å¾ˆä¹æ„æ¥å—æœ‰å…³æ­¤é—®é¢˜çš„å»ºè®®ï¼Œå› ä¸ºè¿™å¾ˆå¯èƒ½å®ç°ï¼‰ï¼Œå§‹ç»ˆ<i>é€‰ä¸­</i>æ­¤é€‰é¡¹ï¼ˆ <i>_can_be_ct_constant</i>å§‹ç»ˆä¸º<b>false</b> ï¼‰ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ°é€šè¿‡<b>enum</b>æŸ¥çœ‹å¸¦æœ‰è§†å›¾çš„å˜é‡ã€‚ å¦‚æœä»ç„¶æ— æ³•æ˜¾ç¤ºï¼ˆç¼–è¯‘å™¨æ— æ³•é€šè¿‡<b>æšä¸¾</b>æ˜¾ç¤ºæŒ‡é’ˆæˆ–å¤§å°ä¸æ­£ç¡®ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°è¯•å°†å…¶è¡¨ç¤ºä¸ºæ•´æ•°ç±»å‹ï¼ˆå…¶å¤§å°å°†ç­‰äº<b>void</b>æŒ‡é’ˆçš„å¤§å°ï¼‰ã€‚ å¥½å§ï¼Œå³ä½¿è¿™ä¸èµ·ä½œç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<b>void *</b>é€‰æ‹©<i>nullptr_t</i>ç±»å‹çš„å®ç°ã€‚ <br><br> è‡³æ­¤ï¼Œæ­ç¤ºäº†SFINAEä¸C ++æ¨¡æ¿ç»“åˆä½¿ç”¨çš„å¤§å¤šæ•°åŠŸèƒ½ï¼Œå› æ­¤å¯ä»¥é€‰æ‹©å¿…è¦çš„å®ç°ï¼Œè€Œä¸å¿…ä¾èµ–äºç¼–è¯‘å™¨ç›¸å…³çš„å®ï¼Œç”šè‡³ä¸ä¾èµ–äºå®ï¼ˆä¸boostä¸åŒï¼Œåœ¨æ‰€æœ‰è¿™äº›æƒ…å†µä¸‹ï¼Œ <b>#ifdef #elseï¼ƒæ£€æŸ¥</b>éƒ½ä¼š<b>å¡æ»¡</b>è¿™äº›ä¸œè¥¿ï¼‰ <b>endif</b> ï¼‰ã€‚ <br><br> å‰©ä¸‹çš„åªæ˜¯ä¸º<b>å‘½åç©ºé—´</b> <i>stdex</i>ä¸­çš„<b>nullptr_t</b>å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åï¼Œä»¥åŠä¸º<b>nullptr</b>å®šä¹‰ï¼ˆä¸ºäº†éµå®ˆä¸èƒ½é‡‡ç”¨<b>nullptr</b>åœ°å€çš„å¦ä¸€ä¸ªæ ‡å‡†è¦æ±‚ï¼Œä»¥åŠä½¿ç”¨<b>nullptr</b>ä½œä¸ºç¼–è¯‘æ—¶é—´å¸¸æ•°ï¼‰ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> stdex { <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> detail::_nullptr_chooser::type <span class="hljs-keyword"><span class="hljs-keyword">nullptr_t</span></span>; } <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr (stdex::nullptr_t)(STDEX_NULL)</span></span></code> </pre><br> ç¬¬ä¸‰ç« ç»“æŸã€‚ åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬å››ç« ä¸­ï¼Œ</a>æˆ‘ç»ˆäºäº†è§£äº†type_traitsä»¥åŠåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ç¼–è¯‘å™¨ä¸­çš„å…¶ä»–é”™è¯¯ã€‚ <br><br> è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN417295/">https://habr.com/ru/post/zh-CN417295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN417283/index.html">è¿ªå£«å°¼æ¨å‡ºäº†è‡ªå·±çš„HairControlå¤´å‘åŠ¨ç”»ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN417285/index.html">åœ¨IPv6ä¸­ä½•å¤„æ’å…¥å¼•å·</a></li>
<li><a href="../zh-CN417287/index.html">7æœˆçš„â€œæµ‹è¯•è€…æ—¥å†â€ã€‚ åˆ†ææµ‹è¯•</a></li>
<li><a href="../zh-CN417289/index.html">å­¦å‘˜æ—¥è®°ï¼šç¬¬1å¤©ã€‚åˆçº§å­¦å‘˜</a></li>
<li><a href="../zh-CN417293/index.html">äº‘ä¸­çš„å¯†ç æ¢å¤å’Œä¸»å­˜å‚¨ï¼Œæˆ–Zimbra 8.8.9çš„æ–°å¢åŠŸèƒ½</a></li>
<li><a href="../zh-CN417297/index.html">ææƒ§å’ŒåŒæ¶å¨èƒæƒ…æŠ¥æˆ–8ä¸ªTIå®ç”¨æŠ€å·§</a></li>
<li><a href="../zh-CN417299/index.html">åœ¨çº¿ï¼Œç¦»çº¿å’ŒP2Pï¼šå¦‚ä½•åœ¨ä¿„ç½—æ–¯è´­ä¹°æ¯”ç‰¹å¸</a></li>
<li><a href="../zh-CN417301/index.html">å¹³ç¨³é‡Šæ”¾é…æ–¹ï¼šPMyæ³¨æ„</a></li>
<li><a href="../zh-CN417303/index.html">ç ´è§£ä»¥æ”¯æŒWindows Androidè€³æœºæŒ‰é’®</a></li>
<li><a href="../zh-CN417305/index.html">ã€Šåˆ›ä¸–çºªã€‹åœ¨çº¿ï¼šåå°å¤–è§‚</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>