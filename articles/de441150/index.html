<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏻 👨🏾‍🚀 👩🏽‍🔧 Erste Einführung in das HTTP-Protokoll durch Schreiben des einfachsten Java-Webservers 🎗️ 🎠 🧚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich denke, es wäre keine Übertreibung zu sagen, dass das Wissen und Verstehen des Wesens des HTTP-Protokolls für jeden notwendig ist, der sich ernstha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erste Einführung in das HTTP-Protokoll durch Schreiben des einfachsten Java-Webservers</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441150/">  Ich denke, es wäre keine Übertreibung zu sagen, dass das Wissen und Verstehen des Wesens des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">HTTP-Protokolls</a> für jeden notwendig ist, der sich ernsthaft für einen der Bereiche der modernen Webentwicklung entschieden hat.  Meine persönliche Erfahrung zeigt, dass das Verständnis nicht sofort kommt.  Ich schäme mich zu sagen, dass es Zeiten gab, in denen die Wörter GET und POST für mich wie Zaubersprüche waren, und ich ahnte nicht einmal die Existenz von PUT, PATCH und DELETE. <br><br>  Vor einigen Monaten begann ich neben der eigentlichen Entwicklung auch zu unterrichten, und es stellte sich die Frage, wie es einfacher und klarer ist, den zukünftigen Java-Entwicklern das Wesentliche des HTTP-Protokolls zu erklären.  Nach mehreren Tagen der Aufregung und einer Reihe erfolgloser Versuche, eine Präsentation zu erstellen, kam die Idee auf, warum nicht einen einfachen HTTP-Server in Java schreiben, da er das Wesentliche des Protokolls nicht so gut erklärt wie seine einfachste, aber funktionierende Implementierung. <br><a name="habracut"></a><br>  Wie sich herausstellte, ist dies überhaupt nicht schwierig.  Unten finden Sie den Code, der für die korrekte Interaktion mit jedem Browser ausreicht!  Wir benötigen lediglich einen ServerSocket und einige Standard-E / A. <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.BufferedReader; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.InputStreamReader; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.PrintWriter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.ServerSocket; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.Socket; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.nio.charset.StandardCharsets; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpServer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (ServerSocket serverSocket = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ServerSocket(<span class="hljs-number"><span class="hljs-number">8080</span></span>)) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Server started!"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//   Socket socket = serverSocket.accept(); System.out.println("Client connected!"); //      //    try (BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream(), StandardCharsets.UTF_8)); PrintWriter output = new PrintWriter(socket.getOutputStream())) { //     while (!input.ready()) ; //         System.out.println(); while (input.ready()) { System.out.println(input.readLine()); } //   output.println("HTTP/1.1 200 OK"); output.println("Content-Type: text/html; charset=utf-8"); output.println(); output.println("&lt;p&gt; !&lt;/p&gt;"); output.flush(); //     try-with-resources , //         System.out.println("Client disconnected!"); } } } catch (IOException ex) { ex.printStackTrace(); } } }</span></span></code> </pre> <br>  Versuchen Sie, diesen Code auszuführen.  Es ist zu beachten, dass der Port, für den ServerSocket erstellt wird, frei sein muss.  Wenn der angegebene Port belegt ist, müssen Sie ihn entweder freigeben oder einen anderen freien Port verwenden. <br><br>  Gehen Sie nach dem Ausführen dieses Codes zum Browserfenster und geben Sie die Adressleiste <code>http://localhost:8080/</code> .  Wenn alles gut gegangen ist, sehen wir im Browserfenster den Text "Hallo allerseits" und im Serverprotokolltext ähnlich dem folgenden: <br><br><pre> <code class="plaintext hljs">Server started! Client connected! GET / HTTP/1.1 Host: localhost:8080 Connection: keep-alive Cache-Control: max-age=0 Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8 Accept-Encoding: gzip, deflate, br Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7,he;q=0.6,de;q=0.5,cs;q=0.4 Cookie: _ga=GA1.1.1849608036.1549463927; portainer.pagination_containers=100; _gid=GA1.1.80775985.1550669456; If-Modified-Since: Sat, 05 Jan 2019 12:10:16 GMT Client disconnected!</code> </pre> <br>  Jedes Mal, wenn wir etwas in die Adressleiste des Browsers eingeben und die Eingabetaste drücken, geschieht nichts anderes als das Senden von Text, der mit dem Wort GET beginnt und mit einem Zeilenvorschub endet.  Nach dem Wort GET folgt ein Leerzeichen dem Pfad zum angeforderten Dokument auf dem Server.  Geben Sie <code>http://localhost:8080/something</code> in den Browser ein und sehen Sie, wie sich der Anforderungstext im Protokoll ändert. <br><br>  In den Abfragezeilen sind ab der zweiten die sogenannten  Header, über die Informationen zu Client-Einstellungen an den Server übertragen werden.  Jede Kopfzeile hat das Format <code>[ ] : []; []; ... []</code> <code>[ ] : []; []; ... []</code>  <code>[ ] : []; []; ... []</code> . <br><br>  Nachdem der Anfragetext vom Server vollständig gelesen wurde, senden wir ihm die einfachste Antwort, deren Struktur recht einfach ist und der Struktur der Anfrage ähnelt.  Die erste Zeile enthält die HTTP-Protokollversion und den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">200-OK-</a> Code, der dem Browser mitteilt, dass die Anforderung erfolgreich verarbeitet wurde (jeder kennt den 404-Code besser, nicht wahr;)).  Darauf folgt nur eine Überschrift vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Typ Inhalt,</a> in der Informationen über das Format des übertragenen Dokuments (Text / HTML) und dessen Codierung (Zeichensatz = utf-8) übertragen werden.  Nach dem Header befindet sich ein Zeilenvorschub (eine obligatorische Anforderung des HTTP-Protokolls) und der tatsächliche Text, der im Browser angezeigt wird. <br><br>  Das ist alles!  Dies ist natürlich alles andere als alles, was Sie über das HTTP-Protokoll und die Prinzipien der Entwicklung von Webservern wissen müssen, aber ich möchte dieses Beispiel nicht komplizieren, weil  Seine Hauptaufgabe ist es, die einfachste Kommunikation über das HTTP-Protokoll zu demonstrieren.  In einem meiner nächsten Artikel werde ich versuchen, das Thema des Studierens des HTTP-Protokolls durch dessen Implementierung zu entwickeln. <br><br>  UPD  Ein viel fortgeschritteneres Beispiel für einen solchen Server finden Sie in Funktionsweise von <i>Tomcat: Ein Handbuch zur Entwicklung Ihres eigenen Java-Servlet-Containers von Paul Deck, Budi Kurniawan</i> , Kapitel 1 - <i>Einfacher Webserver</i> . <br><br>  UPD1.  Webinar basierend auf diesem Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">www.youtube.com/watch?v=RBUFdFKg_rI</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de441150/">https://habr.com/ru/post/de441150/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de441138/index.html">Echtzeit-Chat-Lösungen gegen Chat-Plattformen - Treffen Sie Ihre Wahl</a></li>
<li><a href="../de441140/index.html">WebAssembly-Entwicklung: echter Rechen und Beispiele</a></li>
<li><a href="../de441142/index.html">12 Punkte Conversion-Wachstum oder Inhalte, die sich wirklich verkaufen</a></li>
<li><a href="../de441146/index.html">Industrielle drahtlose Netzwerke: Welches soll man wählen?</a></li>
<li><a href="../de441148/index.html">Wie man richtig mit Fehlern umgeht: Stille ist nicht immer gut</a></li>
<li><a href="../de441152/index.html">So minimieren Sie Fehler bei der Integration in externe Services: die Erfahrung eines Online-Brokers</a></li>
<li><a href="../de441154/index.html">Elf versteckte Perlen von Java 11</a></li>
<li><a href="../de441158/index.html">Wie Ethik zum teuersten Thema im Silicon Valley wurde und Philosophie zur praktischsten Lösung wurde</a></li>
<li><a href="../de441160/index.html">Wie man lernt zu bestimmen, wann man nein sagt</a></li>
<li><a href="../de441166/index.html">Wir erhalten das Master-Passwort vom gesperrten Passwort-Manager 1Password 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>