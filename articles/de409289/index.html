<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏬ 🚝 🤲🏾 Wir verwalten Smart Sockets und Hunderte anderer IoT-Geräte mithilfe von DIY-Geräten, Websites, Bots und Instant Messenger 🦕 🤘🏿 👨🏿‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Geektimes! Die Herstellung beispielsweise einer intelligenten Steckdose zum Schalten von Geräten mit 220-V-Stromversorgung ist das größte Proble...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir verwalten Smart Sockets und Hunderte anderer IoT-Geräte mithilfe von DIY-Geräten, Websites, Bots und Instant Messenger</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409289/"><img src="https://habrastorage.org/webt/t_/iw/qb/t_iwqbfvqwybt6x9qx6hnfhyzj8.png"><br>  Hallo Geektimes!  Die Herstellung beispielsweise einer intelligenten Steckdose zum Schalten von Geräten mit 220-V-Stromversorgung ist das größte Problem bei der Entwicklung von Hausautomations-, Smart-Home- und ähnlichen Systemen. <br><br>  Dieses Problem hat zwei Aspekte - die Komplexität der Eigenherstellung und die Gewährleistung der Zuverlässigkeit und Sicherheit solcher Verkaufsstellen.  Daher können nur erfahrene Handwerker sie mit ihren eigenen Händen ausführen. <br><br>  In den meisten Fällen ist der Anreiz, eine intelligente Steckdose selbst herzustellen, das Fehlen einer vernünftigen API für die meisten seriellen Modelle. <br><a name="habracut"></a><br>  In einem Artikel über Geektimes über Smart Sockets habe ich diesen Kommentar gesehen: <br><br>  „ <i>Wenn es keine offene API gibt, wie unterscheiden Sie sich von Hunderten anderer Anbieter?</i>  <i>Ich träume von einer Verkaufsstelle, in der ich eine reguläre https-Anfrage verwalten kann.</i>  <i>Von jedem Betriebssystem und von jedem Gerät</i> . “ <br><br>  Auf diese Weise möchte ich fast jeden Smart Socket und viele IoT-Geräte gemeinsam nutzen.  Die unten beschriebene Methode ist sowohl für die einfache WLAN-Steckdose HS100 von TP Link in jedem Elektronikgeschäft als auch für viele andere Geräte relevant: intelligente LED-Lampen von Philips, Smart-Home-Hubs, Nest-Thermostate, Fitness-Armbänder, Bewässerungssysteme und sogar Autos . <br><br>  Auf der Website eines großen Online-Elektronikgeschäfts wie AliExpress oder eBay finden Sie auf der Suche nach „Smart Home“ Hunderte interessanter IoT-Geräte für Smart Homes.  Die meisten von ihnen haben einen attraktiven Preis, sie sehen cool aus, haben Sicherheitszertifikate, aber sie haben keine offene API - was für Geeks wirklich wichtig ist. <br><br>  In der Tat ist dies nicht ganz richtig.  Die meisten Geräte haben natürlich eine API und in den meisten Fällen ist sie offen, aber nicht für alle.  Am häufigsten hat Amazon Zugriff darauf, da es eine große Anzahl von Geräten gibt, die mit der Sprachsteuerung kompatibel sind <br>  Alexa Echo Assistentin.  Weitere Details finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Im Gegenzug ist auch das Amazon-Backend für die Verwaltung von Alexa geöffnet - AWS für die Unterstützung von IoT-Geräten und allen Arten von Alexa Skills, Lambda usw.  Das Problem ist, dass das alles ziemlich schwer herauszufinden ist. <br><br>  Jetzt erkläre ich Ihnen, wie Sie mithilfe von JSON-Anfragen alles verwalten, was Alexa Echo verwalten kann.  Durch einfaches Schreiben eines Befehls wie „Wohnzimmer einschalten“ können Sie fast jede intelligente Steckdose von jedem Ort aus steuern - von der Site, dem Arduino-Gerät, dem Bot oder dem Messenger. <br><br>  Als einfaches Beispiel verwenden viele bereits den beliebten Sonof-Schalter für 5 US-Dollar.  Normalerweise programmieren Handwerker es neu und verwenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">benutzerdefinierte Firmware</a> für ihren Server. <br><br>  Tatsächlich können sie Text oder Sprache von einer kostenlosen Anwendung aus steuern und die API auch zum Übertragen von Befehlen mit einfachen JSON-Anforderungen von Ihrer Site, Arduino, Bot usw. verwenden, und Sie müssen nichts löten oder flashen - alles funktioniert. " out of the box. " <br><br><img src="https://habrastorage.org/webt/2h/5h/lp/2h5hlp4obj6d6daic04fd5euzp8.jpeg"><br><br>  Das Alexa-Ökosystem entwickelt sich ständig weiter und es erscheinen immer mehr neue Managementteams.  Detaillierte Anweisungen zum Einrichten von Sonof-Geräten für die Arbeit mit Alexa finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Was ist also erforderlich, um Hunderte von Titeln von IoT-Geräten und -Systemen (die Alexa Echo unterstützen) von Ihren Websites, DIY-Geräten, Bots usw. aus zu verwalten? <br><br>  Zuerst müssen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anwendung</a> herunterladen und sich registrieren (Anmeldung und Passwort, die bei der Registrierung ausgewählt wurden, sind bei der Autorisierung der API erforderlich). <br><br>  Sie benötigen außerdem den Benutzernamen und das Passwort Ihres Kontos bei Amazon.  Sie können sie eingeben, wenn Sie den Alexa-Modus in der Anwendung zum ersten Mal aktivieren (Symbol „a“) ​​oder sich registrieren und ein neues Konto bei Amazon erstellen. <br><br><img src="https://habrastorage.org/webt/59/d4/70/59d4707292d45085890392.png"><br><br>  Jetzt erstellen wir einen Chat mit jemandem, in den wir Befehle von der API senden, um Geräte zu verwalten. <br><br>  Wir brauchen eine Chat-ID.  Wir bekommen es mit dem Befehl getSessions.  Beispiel für die Befehlsausführung: <br><br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"new"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"top"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"delivery"</span></span>: <span class="hljs-number"><span class="hljs-number">1514009104111</span></span>, <span class="hljs-attr"><span class="hljs-attr">"code"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"orig"</span></span>: <span class="hljs-string"><span class="hljs-string">"3996189326"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lifetime"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"mid"</span></span>: <span class="hljs-string"><span class="hljs-string">"1514009104111-b6cbe7fcccd49f9824"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"time"</span></span>: <span class="hljs-number"><span class="hljs-number">1514009104111</span></span>, <span class="hljs-attr"><span class="hljs-attr">"event"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">"content"</span></span>: <span class="hljs-string"><span class="hljs-string">"weather in london"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1513996519209</span></span>, <span class="hljs-attr"><span class="hljs-attr">"missed"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"count"</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">"parties"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"3996189326"</span></span>, <span class="hljs-string"><span class="hljs-string">"3929915709"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt;b&gt;1513996519209-ab612ee9434113c8d1&lt;/b&gt;"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"time"</span></span>: <span class="hljs-number"><span class="hljs-number">1514009104111</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dialogid"</span></span>: <span class="hljs-string"><span class="hljs-string">"1513996519209-4b0cbad7b6e43ed36e"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"updated"</span></span>: <span class="hljs-number"><span class="hljs-number">1513999445871</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"keyGeoEnable"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"push"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"nodisturb"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> },</code> </pre> <br>  Suchen Sie den gewünschten Chat (hier wird er als "id" angezeigt: "1513996519209-ab612ee9434113c8d1") und kopieren Sie die ID - 1513996519209-ab612ee9434113c8d1.  Jetzt können wir einen Befehl ausgeben <br>  zur Steuerung mit folgenden Parametern: <br><br>  <b>Methode</b> sendMessage <br>  <b>sessionid</b> 1513996519209-ab612ee9434113c8d1 <br>  <b>Typ</b> 16 <br>  <b>zufriedenes</b> Wetter in London <br><br>  Wenn alles richtig gemacht ist, meldet Ihr Smartphone das aktuelle Wetter in London.  Weitere Informationen zu API-Befehlen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Jetzt müssen Sie das Gerät an Ihr Alexa-Konto binden.  Detaillierte Anweisungen finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Artikel bei Geektimes.  Nach dem Verknüpfen können Sie die Phrase im Inhalt ändern. <br><br>  Wenn das Gerät beispielsweise an die Gruppe "Wohnzimmer" angeschlossen ist, sieht die JSON-Anforderung folgendermaßen aus: <br><br>  <b>Methode</b> sendMessage <br>  <b>sessionid</b> 1513996519209-ab612ee9434113c8d1 <br>  <b>Typ</b> 16 <br>  <b>Inhalt</b> schalten Sie das Wohnzimmer ein <br><br>  Das entsprechende Gerät, das mit dem Wohnzimmer verbunden ist, wird eingeschaltet - eine intelligente Steckdose, ein intelligenter Schalter und mehr. <br><br>  Wichtig!  In den Anwendungseinstellungen sollte Immer ein aktiviert sein: <br><br><img src="https://habrastorage.org/webt/be/l6/fx/bel6fxfdu9ueoahewcpxrh5jrke.png"><br><br>  Jetzt können Sie nicht nur Systeme von der Site, dem Bot, Geräten wie Arduino und anderen Methoden aus verwalten, sondern auch bei Amazon einkaufen. Verwenden Sie im Allgemeinen alles, was die intelligente Alexa Echo-Spalte kann. <br><br>  Vielen Dank für Ihre Aufmerksamkeit!  Ich hoffe, es ist praktisch. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de409289/">https://habr.com/ru/post/de409289/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de409279/index.html">Der Massenschalter am Auto in 5 Minuten (Batterieschutz vor Selbstentladung)</a></li>
<li><a href="../de409281/index.html">Sicherheitsanfälligkeit in Intel-CPUs: Wenn Windows und Linux von Windows und Linux betroffen sind, führt das Schließen der Sicherheitsanfälligkeit zu einem Leistungsabfall von bis zu 30%</a></li>
<li><a href="../de409283/index.html">Die erzwungene Verlangsamung des alten iPhone erhöht die Wahrscheinlichkeit, dass das Recht auf Reparatur in Kraft tritt</a></li>
<li><a href="../de409285/index.html">Eine Meta-Auswahl der besten Geräte des Jahres - von Alta bis Zelda</a></li>
<li><a href="../de409287/index.html">Die FDA genehmigt die Gentherapie bei angeborener Blindheit</a></li>
<li><a href="../de409291/index.html">Kurierroboter - Lieferung in 30 Minuten oder wie man die Zukunft in Russland baut</a></li>
<li><a href="../de409295/index.html">Die traurige Geschichte von Zenith</a></li>
<li><a href="../de409297/index.html">Brainfuck Dolmetscher auf Arduino</a></li>
<li><a href="../de409299/index.html">Notation wird falsch gelehrt *</a></li>
<li><a href="../de409301/index.html">Wissenschaft nie zitiert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>