<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖥️ ♟️ 👨🏿‍🎓 WWDC19: Erste Schritte mit dem Testplan für XCTest 🕰️ 👉🏼 🌵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Ich präsentiere Ihnen die Übersetzung des Artikels „WWDC19: Erste Schritte mit dem Testplan für XCTest“ von Shashikant Jagtap. 



 Auf de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WWDC19: Erste Schritte mit dem Testplan für XCTest</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/457108/">  Hallo Habr!  Ich präsentiere Ihnen die Übersetzung des Artikels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„WWDC19: Erste Schritte mit dem Testplan für XCTest“</a> von Shashikant Jagtap. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6a2/9a9/122/6a29a9122ce8deb03a188773b00eda1d.png" alt="Bild"><br><br>  Auf der letzten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WWDC-</a> Konferenz zeigte Apple Entwicklern coole neue Funktionen.  Xcode 11 bietet auch einige fantastische Funktionen.  Sie können darüber in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Versionshinweisen</a> lesen.  Eines der wichtigsten in diesem Jahr angekündigten Tools ist der Testplan für XCTest- und Xcode UI-Tests.  In diesem Artikel werden wir detailliert untersuchen, wie die Funktionalität von Test Plan mit XCTest funktioniert.  Wenn Sie weitere Informationen wünschen, sehen Sie sich das Sitzungsvideo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„Testen auf Xcode“ an.</a> <br><br><a name="habracut"></a><h3>  Xcode-Testplan </h3><br><p>  Vor Xcode 11 war die Testkonfiguration Teil der Xcode-Schemas.  Wenn die Entwickler unterschiedliche Testsuiten für unterschiedliche Bedingungen konfigurieren wollten, haben sie entweder eine neue Schaltung erstellt oder eine vorhandene für bestimmte Testanforderungen bearbeitet.  Die Testkonfiguration war eng mit Xcode-Schemata verbunden, daher musste ich während des Testens viele Schemata für verschiedene Aufgaben erstellen. <br>  Dank der neuen Funktionalität in Xcode 11 können Entwickler und QS-Ingenieure Tests an ihre Anforderungen anpassen.  Mit dem Testplan können Sie Folgendes bestimmen: <br><br></p><ul><li>  Welche Tests sollen in der Baugruppe ausgeführt werden? </li><li>  wie man diese Tests durchführt (zum Beispiel in zufälliger oder alphabetischer Reihenfolge); </li><li>  Verwalten von Testartefakten (z. B. Anhänge und Screenshots); </li><li>  Verwendung von Laufzeit-Tools als Teil des Testens. </li></ul><br>  Mit Xcode Test Plan können Sie Testsuiten unabhängig von Xcode-Schemas konfigurieren.  Dies ist eine signifikante Verbesserung der Testtechnologie, die Ihre Tests auf die nächste Stufe bringen kann.  Schauen wir uns nun den Xcode-Testplan in Aktion an. <br><br><h3>  Das Skript </h3><br>  Angenommen, wir erstellen einen Testplan für Funktionstests mit den folgenden Anforderungen: <br><br><ul><li>  Funktionstests sollten Kits für Rauch- und Regressionstests enthalten. </li><li>  Rauchtests sollten in London (UK) und Regressionstests in San Francisco (USA) durchgeführt werden. </li><li>  Rauchtests sollten in alphabetischer Reihenfolge durchgeführt werden, und Regressionstests sollten in zufälliger Reihenfolge durchgeführt werden, um Probleme zwischen den Tests zu erkennen. </li></ul><br>  Wir werden diesen Testplan für Xcode für verschiedene Apple-Plattformen erstellen. <br><br><h3>  Erstellen eines Testplans in Xcode </h3><br>  Mit Xcode 11 können wir diese Anforderungen im Testplan definieren.  Mit Xcode können Sie einen Testplan aus der aktuellen Schemakonfiguration erstellen.  Wenn Sie die Schaltung bearbeiten und mit den aktuellen Testschritten fortfahren, zeigt Xcode eine Option zum Erstellen eines Testplans an.  Sie können einen Testplan mit den folgenden Einstellungen erstellen: <br><br><ul><li>  Leerer Testplan: Erstellt eine leere Vorlage und ermöglicht es Ihnen, Ihren eigenen Plan zu erstellen. </li><li>  <b>Testplan aus Schema</b> : Nimmt eine Schaltungskonfiguration vor und erstellt einen Testplan. </li><li>  <b>Testplan</b> auswählen: Wenn Sie bereits einen Testplan erstellt haben, können Sie diesen auswählen und zum Diagramm hinzufügen. </li></ul><br>  Um sich vertraut zu machen, erstellen Sie einen Testplan aus der Schaltungskonfiguration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/30f/b4e/35c/30fb4e35ca1f47fea781e215662dd381.png" alt="Bild"><br><br>  Sie müssen den Testplan benennen und das richtige Testziel angeben.  Wenn ein Testplan erstellt wird, wird er an die Schaltung angeschlossen.  Das Schema kann jedoch jeden Testplan überschreiben, der nach Verwendung des Flags beim Aufrufen des Befehls Xcodebuild erstellt wurde.  Nachdem Sie einen Testplan erstellt haben, können Sie ihn an ein bestimmtes Ziel anhängen.  Fügen wir dem Ziel den aktuellen Plan mit UI-Tests hinzu und geben Sie ihm einen Namen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a1/b23/1be/3a1b231be28d8ba7592cc0cc62485612.png" alt="Bild"><br><br>  Sie finden eine neue Datei mit der Erweiterung function.xctestplan.  Dies ist Ihr Testplan.  Es kann bei Bedarf bearbeitet werden.  Abhängig von den Anforderungen der Tests können Sie einen zusammengesetzten Testplan im selben Ziel erstellen.  Zu diesem Zeitpunkt haben wir einen verfügbaren Testplan für unser Ziel mit UI-Tests. <br><br><h3>  Testplandatei </h3><br>  Die Testplandatei ist eine einfache json-ähnliche Konfigurationsdatei, die Informationen zum Konfigurieren Ihrer Tests für die Ausführung unabhängig von einer Schaltung enthält.  Hier sind die verschiedenen Testkonfigurationseinstellungen aufgeführt, die im Testplan verfügbar sind.  Der grundlegende Testplan enthält drei Schlüsselelemente: <br><br><ul><li>  Konfigurationen </li><li>  Testziele </li><li>  Einstellungen </li></ul><br>  Jede Konfiguration im Testplan enthält eine Reihe von Tests, die mit unterschiedlichen Einstellungen verknüpft sind.  Entsprechend den Anforderungen für unseren Testplan benötigen wir zwei Konfigurationen: eine für Rauchtests und eine für Regressionstests. <br>  Öffnen Sie nun die Datei function.xctestplan in Xcode und benennen Sie configuration1 in rauch-uk um. Klicken Sie dann oben im Plan auf die Schaltfläche „+“ und fügen Sie eine weitere Konfiguration für Regression-USA hinzu. <br>  Jetzt haben wir zwei Konfigurationen im Testplan und Testplan ist bereits mit UI-Tests an ein Ziel gebunden.  Fügen Sie jeder Konfiguration einige Einstellungen hinzu.  Wenn die Konfiguration für Rauch-UK ausgewählt ist, können wir den Standort in London ändern und andere Änderungen an den Einstellungen vornehmen.  Ändern Sie in ähnlicher Weise die Konfiguration von Regression-USA.  So sieht der Testplan aus, um eine Regression auszulösen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/44a/ff4/09b/44aff409be8d8d43ef4ac09ece172e4c.png" alt="Bild"><br><br>  Im Testplan verfügbare Einstellungen: <br><br><ul><li>  Argumente - Ermöglicht das Überschreiben der Startargumente und der Startumgebung für Tests. </li><li>  Lokalisierung - Ermöglicht die Konfiguration von Tests für verschiedene Geolokalisierungen, Gebietsschemas und Sprachen.  Dies ist eine sehr coole Einstellung zum Testen der Internationalisierung und Lokalisierung. </li><li>  UI-Test / Anhang / Testausführung / Codeabdeckung - spezifische Optionen für UI-Tests und Testartefakte.  Sie können entscheiden, ob Sie Artefakte hinterlassen oder sie so schnell wie möglich löschen möchten.  Sie können auch die Reihenfolge auswählen, in der die Tests ausgeführt werden, und die Berechnung der Codeabdeckung. </li><li>  Xcode-Code-Diagnosetools - Für die Suche nach Laufzeitfehlern stehen verschiedene Xcode-Tools zur Diagnose von Code zur Verfügung, z. B. Address Sanitizer oder Thread Sanitizer.  Sie können auch andere Optionen verwenden, mit denen Sie nach Speicherlecks usw. suchen können. </li></ul><br><h3>  Erstellen eines Testplans von Grund auf neu </h3><br>  Wenn Sie keinen Testplan mit dem Xcode-Schema erstellen möchten, können Sie jederzeit einen neuen Testplan über Xcode -&gt; Produkt -&gt; Testplan erstellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6a2/9a9/122/6a29a9122ce8deb03a188773b00eda1d.png" alt="Bild"><br><br>  Nachdem Sie den Testplan auf diese Weise erstellt haben, fügen wir ihn einem Testziel hinzu, indem wir ihm Tests hinzufügen.  Im folgenden Beispiel haben wir einen neuen Testplan erstellt und Tests hinzugefügt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/be9/14e/1ec/be914e1eca257b745ef3d194c7d3279f.png" alt="Bild"><br><br><h3>  Erstellen eines Testplans aus der Quelle </h3><br>  Wie bereits erwähnt, ist Xcode Test Plan nur eine Konfigurationsdatei, in der wir alle von uns definierten Konfigurationen installiert haben.  In unserem Szenario haben wir function.xctestplan erstellt, und der Quellcode dafür sieht ungefähr so ​​aus: <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"configurations"</span></span> : [ { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"smoke-uk"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"options"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"language"</span></span> : <span class="hljs-string"><span class="hljs-string">"en-GB"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"locationScenario"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"identifier"</span></span> : <span class="hljs-string"><span class="hljs-string">"London, England"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"referenceType"</span></span> : <span class="hljs-string"><span class="hljs-string">"built-in"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span> : <span class="hljs-string"><span class="hljs-string">"GB"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"testExecutionOrdering"</span></span> : <span class="hljs-string"><span class="hljs-string">"lexical"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"Regression-usa"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"options"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"addressSanitizer"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"enabled"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"language"</span></span> : <span class="hljs-string"><span class="hljs-string">"en"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"locationScenario"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"identifier"</span></span> : <span class="hljs-string"><span class="hljs-string">"San Francisco, CA, USA"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"referenceType"</span></span> : <span class="hljs-string"><span class="hljs-string">"built-in"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"region"</span></span> : <span class="hljs-string"><span class="hljs-string">"US"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"testExecutionOrdering"</span></span> : <span class="hljs-string"><span class="hljs-string">"random"</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"defaultOptions"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"codeCoverage"</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"testTargets"</span></span> : [ { <span class="hljs-attr"><span class="hljs-attr">"target"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"containerPath"</span></span> : <span class="hljs-string"><span class="hljs-string">"container:XCTestPlan.xcodeproj"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"identifier"</span></span> : <span class="hljs-string"><span class="hljs-string">"9B0E393A22A6EB5400F666A1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"XCTestPlanUITests"</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"version"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span> }</code> </pre> <br>  Sie können die Konfiguration auf diese Weise erstellen und in einer Datei mit der Erweiterung .xctestplan in Xcode 11 speichern. <br><br><h3>  Starten Sie den Testplan </h3><br>  Jetzt verstehen wir den Prozess des Erstellens einer Testplandatei in Xcode.  Mal sehen, wie man Testplan ausführt und Berichte in Xcode erhält.  Sie können Tests über Xcode -&gt; Produkt -&gt; Test wie gewohnt ausführen, indem Sie die angehängten Testpläne für das Schema ausführen.  In unserem Fall werden dadurch beide Testkonfigurationen gestartet - Rauch und Regression. <br>  In Xcodebuild gibt es mehrere Befehlszeilenoptionen zum Anzeigen und Ausführen von Testplänen.  Sie können den folgenden Befehl ausführen: <br><br><pre> <code class="plaintext hljs">$ Xcodebuild -showTestPlans -scheme YOUR_SCEME</code> </pre> <br>  Es werden alle Testpläne für den aktuellen Stromkreis angezeigt.  Sie können auch einen separaten Test ausführen: <br><br><pre> <code class="plaintext hljs">$ Xcodebuild -project XCTestPlan.Xcodeproj/ -scheme XCTestPlan -destination 'platform=iOS Simulator,OS=13.0,name=iPhone XR' test -testPlan functional</code> </pre> <br>  Dieses Skript führt den Test mithilfe der Testplankonfiguration aus. <br><br><h3>  Testplanberichte </h3><br>  Nachdem Sie die Tests für einen bestimmten Testplan ausgeführt haben, können Sie die in Xcode generierten guten Berichte anzeigen.  Berichte werden für jede Konfiguration separat generiert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08c/e42/f26/08ce42f2651ca6c28fe18b3078fb3634.png" alt="Bild"><br><br>  In Xcode können Sie im Abschnitt Testnavigator Berichte nach Testplänen filtern.  Xcode-Testplanberichte können auf dem Xcode-Server konfiguriert werden. <br><br>  <i>Demo-Quellcode auf Github verfügbar: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">XCTestPlan</a></i> <br><br><h3>  Xcode-Testplan: Anwendung </h3><br>  Kurz darüber, wo der Xcode-Testplan verwendet werden kann und wie er sich je nach Konfiguration der Schaltung ändert.  Hier einige Beispiele für die Verwendung des Xcode-Testplans: <br><br><ul><li>  Verschiedene Arten von Tests, wie in der Demo gezeigt: Rauch, Regression usw.; </li><li>  Testen der Internationalisierung und Lokalisierung der Anwendung Wenn Sie Ihre Anwendung beispielsweise für mehrere Sprachen testen möchten, können Sie verschiedene Konfigurationen erstellen. </li><li>  Führen Sie schwere Tests wie Leistungs- und Stresstests durch und trennen Sie sie von Funktionstests.  Sie können Tests für die Arbeit zusammen mit Codediagnosetools oder anderen nicht funktionierenden Tests konfigurieren. </li></ul><br>  Viele andere Szenarien sind ebenfalls möglich, in denen Xcode-Testpläne zur Erweiterung des Testprozesses beitragen können. <br><br><h3>  Fazit </h3><br>  Mit dem Xcode-Testplan kann XCTest auf die nächste Ebene gebracht werden, indem Sie Ihre Konfiguration verwalten und Ihre Tests ausführen können.  Mit Xcode Test Plans haben Sie eine bessere Kontrolle über die Apple-basierte Testplattform. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457108/">https://habr.com/ru/post/de457108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457096/index.html">Wir geben mehreren Analysten die Hand: API Livy zur Automatisierung typischer Bankaufgaben</a></li>
<li><a href="../de457098/index.html">Elegante JavaScript-Fehlerbehandlung mit der Entweder-Monade</a></li>
<li><a href="../de457100/index.html">AWS Lambda - Theorie, Bekanntschaft</a></li>
<li><a href="../de457102/index.html">QVD-Dateien - was ist drin, Teil 3</a></li>
<li><a href="../de457106/index.html">Der US-Robo-Call-Krieg - wer gewinnt und warum</a></li>
<li><a href="../de457110/index.html">Unit-Test von C ++ - und Mock-Injection-Mustern unter Verwendung von Merkmalen</a></li>
<li><a href="../de457112/index.html">Die Ergebnisse von HolyJS 2019 Piter</a></li>
<li><a href="../de457114/index.html">Wählen Sie ein Videoüberwachungssystem: Cloud vs Local mit dem Internet</a></li>
<li><a href="../de457116/index.html">AvaloniaUI-Funktionen mit der benutzerdefinierten MessageBox</a></li>
<li><a href="../de457118/index.html">Habr Weekly # 6 / Runet ist bereit, sich selbst zu isolieren. Adobe sucht nach Spuren von Photoshop, Vim-Schwachstelle, Geo-Chat im Warenkorb und etwas anderem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>