<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèæ üë©üèª‚Äç‚öñÔ∏è üë¢ Erstellung des Spiels "Like Coins" auf Godot Engine. Teil 1 üßùüèº üö≤ üë∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Godot Engine entwickelt sich sehr schnell und erobert die Herzen von Spieleentwicklern aus der ganzen Welt. Vielleicht ist dies das freundlichste und ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellung des Spiels "Like Coins" auf Godot Engine. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429234/"><p>  Godot Engine entwickelt sich sehr schnell und erobert die Herzen von Spieleentwicklern aus der ganzen Welt.  Vielleicht ist dies das freundlichste und am einfachsten zu erlernende Tool zum Erstellen von Spielen. Um dies sicherzustellen, versuchen Sie, ein kleines 2D-Spiel zu erstellen.  Um den Spielentwicklungsprozess besser zu verstehen, sollten Sie mit 2D-Spielen beginnen. Dadurch wird der Schwellenwert f√ºr den Einstieg in ein seri√∂seres Spielsystem gesenkt.  Obwohl der √úbergang zu 3D an sich nicht so schwierig ist, wie es scheint, k√∂nnen die meisten Funktionen in der Godot Engine sowohl in 2D als auch in 3D erfolgreich verwendet werden. </p><a name="habracut"></a><br><h3 id="vvedenie">  Einf√ºhrung </h3><br><p> Das Einfachste, was Sie sich vorstellen k√∂nnen, ist ein Spiel, in dem unsere Hauptfigur M√ºnzen sammelt.  Um es etwas zu komplizieren, f√ºgen Sie ein Hindernis und Zeit als begrenzenden Faktor hinzu.  Das Spiel wird 3 Szenen haben: <code>Player</code> , <code>Coin</code> und <code>HUD</code> (dieser Artikel wird nicht ber√ºcksichtigt), die zu einer Hauptszene kombiniert werden. </p><br><p><img src="https://habrastorage.org/webt/vu/vv/ct/vuvvctv4zp9csexcarj4_zitxje.png"></p><br><h3 id="nastroyki-proekta">  Projekteinstellungen </h3><br><p>  Bevor Sie sich mit dem Schreiben von Skripten (Skripten) befassen, die ungef√§hr 80-90% der Gesamtzeit f√ºr die Erstellung des Spiels ausmachen, m√ºssen Sie zun√§chst unser zuk√ºnftiges Projekt einrichten.  In gro√üen Projekten ist es n√ºtzlich, separate Ordner zum Speichern von Skripten, Szenen, Bildern und T√∂nen zu erstellen, und wir sollten dies auf jeden Fall ber√ºcksichtigen, denn wer wei√ü, wie das Endergebnis aussehen wird. </p><br><blockquote>  Ich m√∂chte sofort reservieren, dass in diesem Artikel davon ausgegangen wird, dass Sie mit der Godot Engine ein wenig vertraut sind und √ºber einige Kenntnisse und F√§higkeiten im Umgang mit diesem Tool verf√ºgen. Ich werde mich jedoch darauf konzentrieren, dass Sie zum ersten Mal auf die Godot Engine sto√üen Ich rate Ihnen, sich zun√§chst mit der Grundkomponente der Engine vertraut zu machen, die Syntax von GDScript zu studieren und die verwendete Terminologie (Knoten, Szenen, Signale usw.) zu verstehen. Erst dann kehren Sie hierher zur√ºck und setzen Ihre Bekanntschaft fort. </blockquote><p>  Gehen Sie im Programmmen√º zu <code>Project -&gt; Project Settings</code> . </p><br><blockquote>  Ein weiterer kleiner Exkurs.  Ich werde immer Beispiele geben, die auf der Tatsache basieren, dass der Endbenutzer die englischsprachige Oberfl√§che der Engine verwendet, obwohl die Godot Engine die russische Sprache unterst√ºtzt.  Dies geschieht, um m√∂gliche Missverst√§ndnisse oder Verlegenheiten zu beseitigen, die mit einer fehlerhaften / ungenauen √úbersetzung bestimmter Elemente der Programmschnittstelle verbunden sind. </blockquote><p>  Suchen Sie den Abschnitt <code>Display/Window</code> und stellen Sie die Breite auf <code>800</code> und die H√∂he auf <code>600</code> .  Stellen Sie auch in diesem Abschnitt <code>Stretch/Mode</code> auf <code>2D</code> und <code>Aspect</code> to <code>Keep</code> .  Dies verhindert ein Dehnen und Verformen des Fensterinhalts beim √Ñndern seiner Gr√∂√üe. Um jedoch zu verhindern, dass die Gr√∂√üe des Fensters ge√§ndert wird, <code>Resizable</code> einfach das <code>Resizable</code> Gr√∂√üe <code>Resizable</code> .  Ich rate Ihnen, mit diesen Optionen herumzuspielen. </p><br><p>  Gehen Sie nun zum Abschnitt <code>Rendering/Quality</code> und <code>Use Pixel Snap</code> im rechten Bereich <code>Use Pixel Snap</code> .  Wof√ºr ist das?  Die Koordinaten der Vektoren in der Godot Engine sind Gleitkommazahlen.  Da Objekte nicht nur ein halbes Pixel gezeichnet werden k√∂nnen, kann diese Diskrepanz bei Spielen, die <code>pixelart</code> verwenden, zu visuellen Fehlern <code>pixelart</code> .  Und es ist erw√§hnenswert, dass diese Option in 3D nutzlos ist.  Denken Sie daran. </p><br><h3 id="scena-igrok">  Spielerszene </h3><br><p>  Beginnen wir mit der Erstellung der ersten Szene - <code>Player</code> . </p><br><blockquote>  Der Vorteil jeder Szene ist, dass sie anfangs unabh√§ngig von anderen Teilen des Spiels sind und dies es erm√∂glicht, sie frei zu testen und das Ergebnis zu erhalten, das urspr√ºnglich in ihnen festgelegt wurde.  Im Allgemeinen ist das Teilen von Spielobjekten in Szenen ein n√ºtzliches Werkzeug zum Erstellen komplexer Spiele. Es ist einfacher, Fehler zu erkennen und √Ñnderungen an der Szene selbst vorzunehmen. Andere Teile des Spiels sind davon nicht betroffen. Sie k√∂nnen auch als Vorlagen f√ºr andere Spiele dienen und funktionieren auf jeden Fall genauso gut. wie sie vor dem Transfer gearbeitet haben. </blockquote><p>  Das Erstellen einer Szene ist eine trivial einfache Aktion. Klicken Sie auf der Registerkarte <code>Scene</code> auf <code>+</code> (Hinzuf√ºgen / Erstellen), w√§hlen Sie den <code>Area2D</code> Knoten aus und √§ndern Sie sofort seinen Namen, um nicht verwirrt zu werden.  Dies ist unser √ºbergeordneter Knoten. Um die Funktionalit√§t zu erweitern, m√ºssen Sie untergeordnete Knoten hinzuf√ºgen.  In unserem Fall sind dies <code>AnimatedSprite</code> und <code>CollisionShape2D</code> , aber lassen Sie uns nicht eilen, sondern in der richtigen Reihenfolge beginnen.  Als n√§chstes "sperren" Sie sofort den Wurzelknoten: </p><br><p><img src="https://habrastorage.org/webt/5m/wf/ac/5mwfacrfvyjm6wtkmkqlgd_pasu.png"></p><br><p>  Wenn die K√∂rperkollisionsform (CollisionShape2D) oder das Sprite (AnimatedSprite) relativ zum √ºbergeordneten Knoten verschoben und gestreckt werden, f√ºhrt dies definitiv zu unvorhergesehenen Fehlern, und sp√§ter ist es schwierig, sie zu korrigieren.  Wenn diese Option aktiviert ist, bewegen sich der ‚ÄûElternteil‚Äú und alle seine ‚ÄûKinder‚Äú immer zusammen.  Es klingt lustig, aber die Verwendung dieser Funktion ist √§u√üerst n√ºtzlich. </p><br><h4 id="animatedsprite">  AnimatedSprite </h4><br><p>  <code>Area2D</code> sehr n√ºtzlicher Knoten, wenn Sie √ºber ein √úberlappungsereignis mit anderen Objekten oder √ºber deren Kollision Bescheid wissen m√ºssen, es jedoch f√ºr das Auge unsichtbar ist und um das <code>Player</code> Objekt sichtbar zu machen, f√ºgen Sie <code>AnimatedSprite</code> .  Der Name des Knotens sagt uns, dass wir uns mit Animationen und Sprites befassen werden.  <code>SpriteFrames</code> im <code>Inspector</code> zum Parameter <code>Frames</code> und erstellen Sie einen neuen <code>SpriteFrames</code> .  <code>SpriteFrames</code> mit dem <code>SpriteFrames</code> Bedienfeld arbeiten, erstellen Sie die erforderlichen Animationen und laden die entsprechenden Sprites in diese.  Wir werden nicht alle Phasen der Erstellung von Animationen im Detail analysieren und dies f√ºr ein unabh√§ngiges Studium belassen. Ich werde nur sagen, dass wir drei Animationen haben sollten: <code>walk</code> (Laufanimation), <code>idle</code> (Ruhezustand) und <code>die</code> (Todes- oder Fehleranimation).  Vergessen Sie nicht, dass der Wert von <code>SPEED (FPS)</code> <code>8</code> (obwohl Sie einen anderen Wert w√§hlen k√∂nnen - geeignet). </p><br><p><img src="https://habrastorage.org/webt/0u/9w/tr/0u9wtrugdci7wueb5tihyoza2hq.png"></p><br><h4 id="collisionshape2d">  Kollisionsform2d </h4><br><p>  Damit <code>Area2D</code> Kollisionen erkennen kann, m√ºssen Sie ihm die Form eines Objekts geben.  Formen werden durch den Parameter <code>Shape2D</code> bestimmt und umfassen Rechtecke, Kreise, Polygone und andere komplexere Arten von Formen. Die Gr√∂√üen werden bereits im Editor selbst bearbeitet. Sie k√∂nnen den <code>Inspector</code> jedoch jederzeit zur Feinabstimmung verwenden. </p><br><h4 id="scenarii">  Szenarien </h4><br><p>  Um unser Spielobjekt wiederzubeleben, m√ºssen Sie ein Skript daf√ºr festlegen, nach dem die von uns festgelegten Aktionen ausgef√ºhrt werden, die in diesem Szenario vorgeschrieben sind.  Erstellen Sie auf der Registerkarte <code>Scene</code> ein Skript, belassen Sie die Standardeinstellungen, l√∂schen Sie alle Kommentare (Zeilen, die mit dem Zeichen '#' beginnen) und deklarieren Sie die Variablen: </p><br><pre> <code class="python hljs">export (int) var speed var velocity = Vector2() var window_size = Vector2(<span class="hljs-number"><span class="hljs-number">800</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>)</code> </pre> <br><p>  Mit dem Schl√ºsselwort <code>export</code> k√∂nnen Sie den Wert der <code>speed</code> im Fenster des <code>Inspector</code> festlegen.  Dies ist eine sehr n√ºtzliche Methode, wenn Sie benutzerdefinierte Werte erhalten m√∂chten, die bequem im <code>Inspector</code> bearbeitet werden k√∂nnen.  Stellen Sie die <code>Speed</code> auf <code>350</code> .  Der <code>velocity</code> bestimmt die Bewegungsrichtung, und <code>window_size</code> ist der Bereich, der die Bewegung des Spielers einschr√§nkt. </p><br><p>  Die weitere Reihenfolge unserer Aktionen lautet wie folgt: Wir verwenden die Funktion <code>get_input()</code> , um zu √ºberpr√ºfen, ob Tastatureingaben vorgenommen werden.  Dann bewegen wir das Objekt entsprechend den gedr√ºckten Tasten und spielen dann die Animation ab.  Der Spieler bewegt sich in vier Richtungen.  Standardm√§√üig sind der Pfeiltasten ( <code>Project -&gt; Project Settings -&gt; Input Map</code> ) Ereignisse der Godot Engine zugewiesen, damit wir sie auf unser Projekt anwenden k√∂nnen.  Um herauszufinden, ob eine Taste gedr√ºckt wurde, sollten Sie <code>Input.is_action_pressed()</code> indem Sie den Namen des Ereignisses <code>Input.is_action_pressed()</code> das Sie verfolgen m√∂chten. </p><br><pre> <code class="python hljs">func get_input(): velocity = Vector2() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Input.is_action_pressed(<span class="hljs-string"><span class="hljs-string">"ui_left"</span></span>): velocity.x -= <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Input.is_action_pressed(<span class="hljs-string"><span class="hljs-string">"ui_right"</span></span>): velocity.x += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Input.is_action_pressed(<span class="hljs-string"><span class="hljs-string">"ui_up"</span></span>): velocity.y -= <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Input.is_action_pressed(<span class="hljs-string"><span class="hljs-string">"ui_down"</span></span>): velocity.y += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> velocity.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: velocity = velocity.normalized() * speed</code> </pre> <br><p>  Auf den ersten Blick sieht alles gut aus, aber es gibt eine kleine Nuance.  Durch die Kombination mehrerer gedr√ºckter Tasten (z. B. nach unten und links) werden Vektoren hinzugef√ºgt. In diesem Fall bewegt sich der Spieler schneller als wenn er sich nur nach unten bewegt.  Um dies zu vermeiden, verwenden wir die <code>normalized()</code> -Methode - sie gibt die L√§nge des Vektors auf <code>1</code> . </p><br><p>  Die Tastatureingaben wurden also nachverfolgt. Jetzt m√ºssen Sie das <code>Player</code> Objekt verschieben.  Die Funktion <code>_process()</code> hilft uns dabei. Sie wird jedes Mal aufgerufen, wenn eine Frame-√Ñnderung auftritt. <code>_process()</code> ist es ratsam, sie f√ºr Objekte zu verwenden, die sich h√§ufig √§ndern. </p><br><pre> <code class="python hljs">func _process(delta): get_input() position += velocity * delta position.x = clamp(position.x, <span class="hljs-number"><span class="hljs-number">0</span></span>, window_size.x) position.y = clamp(position.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, window_size.y)</code> </pre> <br><p>  Ich hoffe, Sie bemerken den <code>delta</code> Parameter, der wiederum mit der Geschwindigkeit multipliziert wird.  Es ist notwendig zu erkl√§ren, was es ist.  Die Spiel-Engine ist anf√§nglich so konfiguriert, dass sie mit einer Geschwindigkeit von 60 Bildern pro Sekunde arbeitet.  Es kann jedoch Situationen geben, in denen der Computer oder die Godot Engine selbst langsamer werden.  Wenn die Bildrate nicht konsistent ist (die Zeit, die ben√∂tigt wird, um die Bilder zu √§ndern), wirkt sich dies auf die "Gl√§tte" der Bewegung von Spielobjekten aus (infolgedessen ist die Bewegung "ruckartig").  "Godot Engine" l√∂st dieses Problem (wie die meisten √§hnlichen Engines) durch Einf√ºhrung der <code>delta</code> Variablen - es gibt den Wert an, f√ºr den Frames ge√§ndert wurden.  Dank dieser Werte k√∂nnen Sie die Bewegung "ausrichten".  Achten Sie auf eine weitere bemerkenswerte Funktion - die <code>clamp</code> (gibt den Wert innerhalb von zwei angegebenen Parametern zur√ºck). Dank dieser Funktion k√∂nnen wir den Bereich, den der <code>Player</code> bewegen kann, begrenzen, indem wir einfach den minimalen und maximalen Wert des Bereichs festlegen. </p><br><p>  Vergessen Sie nicht, unser Objekt zu animieren.  Bitte beachten Sie, dass Sie, wenn sich das Objekt nach rechts bewegt, <code>AnimatedSprite</code> (mit <code>flip_h</code> ) <code>flip_h</code> und unser Held in die Richtung schaut, in die er sich direkt bewegt, wenn er sich bewegt.  Stellen Sie sicher, dass in <code>AnimatedSprite</code> der Parameter Wiedergabe aktiviert ist, damit die Animation abgespielt wird. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> velocity.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: $AnimatedSprite.animation = <span class="hljs-string"><span class="hljs-string">"walk"</span></span> $AnimatedSprite.flip_h = velocity.x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: $AnimatedSprite.animation = <span class="hljs-string"><span class="hljs-string">"idle"</span></span></code> </pre> <br><h4 id="rozhdenie-i-smert">  Geburt und Tod </h4><br><p>  Beim Starten des Spiels muss die Hauptszene √ºber wichtige Szenen √ºber die Bereitschaft zum Starten eines neuen Spiels informiert werden. In unserem Fall sollten Sie das <code>Player</code> Objekt √ºber den Start des Spiels informieren und anf√§ngliche Parameter daf√ºr festlegen: Erscheinungsposition, Standardanimation, <code>set_process</code> . </p><br><pre> <code class="python hljs">func start(pos): set_process(true) <span class="hljs-comment"><span class="hljs-comment">#     Vector2(x, y) position = pos $AnimatedSprite.animation = "idle"</span></span></code> </pre> <br><p>  Wir stellen auch das <code>_process ()</code> eines Spielers bereit, wenn die Zeit abl√§uft oder der Spieler auf ein Hindernis <code>set_process (false)</code> <code>_process ()</code> wird die Funktion <code>_process ()</code> f√ºr diese Szene nicht mehr ausgef√ºhrt. </p><br><pre> <code class="python hljs">func die(): $AnimatedSprite.animation = <span class="hljs-string"><span class="hljs-string">"die"</span></span> set_process(false)</code> </pre> <br><h4 id="dobavlenie-kolliziy">  Kollisionen hinzuf√ºgen </h4><br><p>  Der Spieler war an der Reihe, Kollisionen mit M√ºnzen und Hindernissen zu erkennen.  Dies l√§sst sich am einfachsten mithilfe von Signalen implementieren.  Signale sind eine gro√üartige M√∂glichkeit, eine Nachricht zu senden, damit andere Knoten sie erkennen und antworten k√∂nnen.  Die meisten Knoten haben bereits eingebaute Signale, aber es ist m√∂glich, "Benutzer" -Signale f√ºr ihre eigenen Zwecke zu definieren.  Signale werden hinzugef√ºgt, wenn Sie sie am Anfang des Skripts deklarieren: </p><br><pre> <code class="python hljs">signal pickup signal die</code> </pre> <br><p>  Durchsuchen Sie die Liste der Signale im <code>Inspector</code> (Registerkarte " <code>Node</code> ) und achten Sie auf unsere Signale und die bereits vorhandenen Signale.  Jetzt interessieren wir uns f√ºr <code>area_entered ()</code> , es wird davon <code>area_entered ()</code> , dass die Objekte, mit denen die Kollision auftreten wird, ebenfalls vom Typ <code>Area2D</code> .  Wir verbinden das Signal <code>area_entered ()</code> √ºber die Schaltfl√§che <code>Connect Signal</code> und w√§hlen im Fenster <code>Connect Signal</code> den markierten Knoten (Player) aus. Den Rest <code>area_entered ()</code> wir standardm√§√üig. </p><br><pre> <code class="python hljs">func _on_Player_area_entered( area ): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> area.is_in_group(<span class="hljs-string"><span class="hljs-string">"coins"</span></span>): <span class="hljs-comment"><span class="hljs-comment">#  emit_signal("pickup") area.pickup()</span></span></code> </pre> <br><p>  Damit Objekte leicht erkannt und interagiert werden k√∂nnen, m√ºssen sie in den entsprechenden Gruppen identifiziert werden.  Die Erstellung der Gruppen selbst wird jetzt weggelassen, aber wir werden definitiv sp√§ter darauf zur√ºckkommen.  Die Funktion <code>pickup()</code> bestimmt das Verhalten der M√ºnze (z. B. kann sie eine Animation oder einen Sound abspielen, ein Objekt l√∂schen usw.). </p><br><h4 id="scena-monetka">  M√ºnzszene </h4><br><p>  Wenn Sie eine Szene mit einer M√ºnze erstellen, m√ºssen Sie alles tun, was wir mit der "Player" -Szene gemacht haben, au√üer dass <code>AnimatedSprite</code> nur eine Animation (Hervorhebung) enth√§lt.  <code>Speed (FPS)</code> kann auf <code>14</code> erh√∂ht werden.  Eine weitere √Ñnderung der Skala von <code>AnimatedSprite</code> - <code>0,5, 0,5</code> .  Und die Abmessungen von <code>CollisionShape2D</code> sollten dem Bild der M√ºnze entsprechen. Die Hauptsache ist, sie nicht zu skalieren, sondern die Gr√∂√üe mithilfe der entsprechenden Markierungen auf dem Formular im 2D-Editor zu √§ndern <br>  Passt den Radius des Kreises an. </p><br><p><img src="https://habrastorage.org/webt/63/uc/jq/63ucjq07ny8i7pjjyakue47ojdg.png"></p><br><p>  Gruppen sind eine Art Beschriftung von Knoten, mit der Sie √§hnliche Knoten identifizieren k√∂nnen.  Damit das <code>Player</code> Objekt auf das Ber√ºhren mit M√ºnzen reagieren kann, m√ºssen die M√ºnzen zur Gruppe geh√∂ren. Nennen wir es <code>coins</code> .  W√§hlen Sie den <code>Area2D</code> Knoten (mit dem Namen "Coin") aus und weisen Sie ihm auf der Registerkarte " <code>Node -&gt; Groups</code> " ein Tag zu, um die entsprechende Gruppe zu erstellen. </p><br><p><img src="https://habrastorage.org/webt/a5/3q/sk/a53qskzr8be5yfagoubkbe2vbrs.png"></p><br><p>  Erstellen Sie f√ºr den <code>Coin</code> ein Skript.  Die Funktion <code>pickup()</code> wird vom Skript des <code>Player</code> Objekts aufgerufen und teilt der M√ºnze mit, was zu tun ist, wenn es funktioniert.  Die Methode <code>queue_free()</code> l√∂scht einen Knoten mit all seinen <code>queue_free()</code> Knoten sicher aus dem Baum und l√∂scht den Speicher. Das L√∂schen funktioniert jedoch nicht sofort. Er wird zuerst in die Warteschlange verschoben, um am Ende des aktuellen Frames gel√∂scht zu werden.  Dies ist viel sicherer als das sofortige L√∂schen eines Knotens, da andere "Teilnehmer" (Knoten oder Szenen) im Spiel diesen Knoten m√∂glicherweise noch ben√∂tigen. </p><br><pre> <code class="python hljs">func pickup (): queue_free ()</code> </pre> <br><h4 id="zaklyuchenie">  Fazit </h4><br><p>  Jetzt k√∂nnen wir die Hauptszene erstellen, beide Szenen ziehen: <code>Player</code> und <code>Coin</code> Maus in den 2D-Editor und √ºberpr√ºfen, wie die Bewegung des Spielers und sein Kontakt mit der M√ºnze funktionieren, indem wir die Szene starten (F5).  Nun, ich habe es eilig zu sagen, dass der erste Teil der Erstellung des Spiels "Like Coins" abgeschlossen ist. Lassen Sie mich Abschied nehmen und allen f√ºr ihre Aufmerksamkeit danken.  Wenn Sie etwas zu sagen haben, das Material erg√§nzen oder Fehler im Artikel festgestellt haben, melden Sie dies bitte, indem Sie unten einen Kommentar schreiben.  Haben Sie keine Angst, hart und kritisch zu sein.  Ihr "Feedback" zeigt Ihnen, ob ich mich in die richtige Richtung bewege und was behoben werden kann, um das Material noch interessanter und n√ºtzlicher zu machen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429234/">https://habr.com/ru/post/de429234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429224/index.html">Dunkle Webformularmuster oder das am meisten konvertierte Formular</a></li>
<li><a href="../de429226/index.html">Dynamische Preisgestaltung oder wie Yandex.Taxi eine hohe Nachfrage vorhersagt</a></li>
<li><a href="../de429228/index.html">PMP Die Pr√ºfung bestehen. Was zu beachten ist und warum Sie es brauchen</a></li>
<li><a href="../de429230/index.html">Bericht: Epson-Projektoren bei Integrated Systems Russia 2018</a></li>
<li><a href="../de429232/index.html">Karriere Steroide. Hunde</a></li>
<li><a href="../de429236/index.html">Wie viele Data Scientists ben√∂tigen Sie, um eine Gl√ºhbirne einzuschalten (oder welches Team sorgt daf√ºr, dass die Daten f√ºr das Unternehmen funktionieren)?</a></li>
<li><a href="../de429238/index.html">Noch einmal √ºber Tier-Levels</a></li>
<li><a href="../de429240/index.html">Wie ich versucht habe, eine Kartensuche nach Treibern zu reparieren</a></li>
<li><a href="../de429242/index.html">‚ÄûSei nicht sch√ºchtern. Probieren Sie es aus! " Interviews √ºber das Leben, Compiler und das Leben in Compilern mit Unity Alexandre Mutel</a></li>
<li><a href="../de429244/index.html">Gieriger Gnom: Als ich Marktanalyse in Lineage 2 schrieb</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>