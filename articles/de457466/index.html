<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§• üà∑Ô∏è üõÖ Wie wir die IT bei Leroy Merlin entwickelt haben: Umbau eines Motors f√ºr unterwegs üëêüèø üë®üèø‚Äçü§ù‚Äçüë®üèº üë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor vier Jahren wurde in jedem Gesch√§ft ein separater Kundenstamm sowie ein weiterer vor Ort gepflegt. 

 In der vorherigen Serie: Vor drei Jahren hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir die IT bei Leroy Merlin entwickelt haben: Umbau eines Motors f√ºr unterwegs</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/leroy_merlin/blog/457466/"><img src="https://habrastorage.org/webt/cy/-z/2f/cy-z2fzscbxzwe8sybjnsqkg7j8.jpeg"><br><br>  Vor vier Jahren wurde in jedem Gesch√§ft ein separater Kundenstamm sowie ein weiterer vor Ort gepflegt. <br><br>  In der vorherigen Serie: Vor drei Jahren haben wir beschlossen, dass wir unsere Entwicklung in Russland durchf√ºhren m√ºssen.  Vor zwei Jahren begannen sie, ihren eigenen Code zu schreiben, anstatt den Gabelcode der Muttergesellschaft zu √§ndern.  In der heutigen Geschichte geht es darum, wie wir von einem gro√üen Legacy-Monolithen zu einer Reihe kleiner Mikrodienste gewechselt sind, die durch eine Art Bus (Orchestrator) verbunden sind. <br><br>  Der einfachste Benutzerfall: Bestellen Sie √ºber die Website und holen Sie sie im Leroy Merlin Real Store in Russland ab.  Bisher wurden Online-Shop-Bestellungen in einer anderen Anwendung im Allgemeinen und nach einem anderen Schema verarbeitet.  Jetzt brauchten wir ein Omnichannel-Schaufenster, damit jede Bestellung in eine Benutzeroberfl√§che unterteilt wurde: eine Kassiererin in einem Gesch√§ft, eine mobile Anwendung, ein Terminal in einem Gesch√§ft, eine Website - was auch immer.  Wenn Sie Linux in die Mikrowelle stellen, lassen Sie die Mikrowelle sein.  Die Hauptsache ist, dass einige Schnittstellen die API nach hinten klopfen und sagen k√∂nnen, dass Sie hier so und so eine Bestellung aufgeben m√ºssen.  Und darauf erhielten sie eine klare Antwort.  Die zweite Geschichte war mit Anfragen nach Verf√ºgbarkeit und Eigenschaften der Waren von seiner Karte. <br><br>  Auf der Vorderseite (wir werden bald dar√ºber schreiben) haben wir ein Monster - AEM, und dahinter hinten waren zwei gro√üe Anwendungen: OPUS und MoVe.  Die erste ist eine Datenbank mit den Eigenschaften jedes Produkts (von den Abmessungen bis zu den Beschreibungen), die zweite ist f√ºr die Kaufabwicklung verantwortlich, dh f√ºr den Monolithen an der Kasse.  Wenn stark vereinfacht. <a name="habracut"></a><br><br><h3>  Was war los mit Opus? </h3><br>  OPUS ist eine gro√üe verteilte Basis.  Genauer gesagt handelt es sich um eine Software, die eine Schnittstelle f√ºr den Zugriff auf die Datenbank bereitstellt, dh auf die Datenbank zugreift und beispielsweise die API durchsucht oder einfach so einstellt, dass Clients nicht direkt zur Datenbank wechseln.  Diese Software funktioniert und wird in Frankreich unterst√ºtzt.  Das zweite Merkmal ist, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wie wir bereits gesagt haben</a> , dass die Reihe der Verbesserungen sehr lang ist und wir im Vergleich zum Gesch√§ftsbereich Frankreich nicht die h√∂chste Priorit√§t haben. <br><br>  Mit gro√üen Schwierigkeiten konnten wir verstehen, wie Entwickler ohne ein Team aus Frankreich √Ñnderungen vornehmen konnten, und es fanden sehr lange Genehmigungen statt.  Feature f√ºr sechs Monate ver√∂ffentlicht.  Eigentlich wollten wir zuerst unsere eigene Entwicklung und deren √úberpr√ºfung durchf√ºhren, und dann kamen wir zu unserer eigenen Entwicklung, unserer Infrastruktur, unseren Tests und im Allgemeinen unserer eigenen.  Gleichzeitig warf er fast ein Drittel des Legacy-Codes aus. <br><br>  Aber zur√ºck zu OPUS.  Da das System relevante Informationen √ºber Verf√ºgbarkeit, Merkmale, Transaktionen und andere Dinge speichert, haben wir aus irgendeinem Grund darauf geklopft.  Speziell f√ºr die Site bedeutete dies, dass Sie, wenn der Benutzer drei Produkte im Warenkorb hat, von jeder Seite aus auf die Datenbank klicken m√ºssen, da die Relevanz √ºberpr√ºft wird.  Selbst wenn Sie einmal f√ºr den Cache klopfen und ihn dann intelligent aktualisieren, gab es immer noch Funktionen.  Wenn Sie die Katalogseite im Allgemeinen √∂ffnen, wurden alle Produktspezifikationen von OPUS √ºbernommen. <br><br>  Der logische n√§chste Schritt ist, dass wir weniger h√§ufig mit OPUS begonnen haben und unsere Basis erstellt haben (genauer gesagt, Microservices mit Basen).  Das gesamte System wurde als russisches PUB bezeichnet. <br><br>  Dann haben sie ein Orchester geschaffen, in dem bereits Aggregate gespeichert werden k√∂nnen, dh die gesammelten Daten f√ºr die Erstellung von Seiten.  In dem Sinne, dass wenn der Benutzer die Seitenansicht von Karten zu Listen wechselt, es immer noch dasselbe Aggregat ist, nur die Vorderseite unterschiedlich ist. <br><br>  Das hei√üt, wir haben das Original-OPUS verlassen (es befindet sich noch in Frankreich), aber unser fast vollst√§ndiger Spiegel ‚Äûsaugt‚Äú es, wodurch die Basis in St√ºcke geschnitten wird und f√ºr die Montage in einem Orchester bereit ist.  Und der Orchestrator sammelt und speichert die Aggregate (oder empf√§ngt sie schnell und beginnt sie zu speichern), die andere Systeme ben√∂tigen.  Infolgedessen funktioniert dieser Teil wie es sollte.  Von der urspr√ºnglichen Funktionalit√§t des franz√∂sischen OPUS sind noch etwa f√ºnf Prozent √ºbrig.  Bald werden wir es komplett ersetzen. <br><br><h3>  Was war los mit MoVe? </h3><br>  Nichts Besonderes, au√üer der Tatsache, dass wir beschlossen haben, den gesamten Code wegzuwerfen, weil es: <br><br><ol><li>  War uralt auf einem alten Stapel. </li><li>  Er ber√ºcksichtigte die Merkmale jeder Region "Leroy Merlin" in der Kette der IFs. </li><li>  Es war so schwierig zu lesen und zu pflegen, dass die beste Refactoring-Methode darin bestand, "erneut zu schreiben und sofort normal zu dokumentieren". </li></ol><br>  Was wir getan haben.  Nur haben wir es nicht als Monolith umgeschrieben, sondern damit begonnen, Microservices f√ºr jede einzelne Funktion zu erstellen.  Und dann wurde ein Teil der Funktionalit√§t von MoVe mit der Umstellung auf Microservice reibungslos weggenommen.  Und so - eins nach dem anderen, bis die Funktionalit√§t von MoVe vollst√§ndig beendet war.  Das hei√üt, es funktioniert immer noch, aber irgendwo im luftleeren Raum und ohne Datenstr√∂me. <br><br>  Da wir die Plattform aus St√ºcken gebaut haben, wurde das Projekt Lego genannt. <br><br>  Lego hat diese Mitte komplett ver√§ndert.  Ja, lassen Sie uns klarstellen: Ein echtes Backend ist ein Legacy-Bus, Dateisysteme, Datenbanken und andere fast infrastrukturelle Ebenen.  Gro√üe Anwendungen rund um diese und Mikrodienste der Logik sind mittelgro√ü.  Pr√§sentation ist schon die Front. <br><br><h3>  Warum mussten Sie das alles neu schreiben? </h3><br>  Weil wir 15 Jahre nach der Er√∂ffnung in Russland f√ºr jeden Fall mit einem separaten Kundenstamm zusammenlebten, und dies passte niemandem.  Es gab auch keine Synchronisation.  In anderen L√§ndern leben sie immer noch so. <br><br>  Die Muttergesellschaft aus Frankreich hat die allgemeine Logistik √ºbernommen, wir haben das Pixis-System wiederverwendet - dies ist ein einzelnes Gesch√§ft mit Belegen, dh Kundenbestellungen: Ein Gesch√§ft sieht die Bestellungen eines anderen Gesch√§fts.  Dies l√∂ste jedoch das Omnichannel-Ordnungsproblem nicht vollst√§ndig.  Daher war es notwendig, die Basis zu konsolidieren und die allgemeine Verarbeitung durchzuf√ºhren.  Das ist wichtig. <br><br>  Der zweite Grund war das Bundeskassengesetz: Mit unseren Entwicklungsfristen f√ºr ein gemeinsames System (und Tests) f√ºr alle L√§nder h√§tten wir Geldstrafen verh√§ngt. <br><br>  Eine ungef√§hr √§hnliche Option wurde in Brasilien eingef√ºhrt: Dort wurde Leroy Merlin ohne Software der Muttergesellschaft gestartet, und es gelang ihnen.  Das war vor der getrennten Entscheidung.  √úbrigens, sie engagieren sich sehr f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Innersoren</a> , sie haben eine sehr schnelle Entwicklung. <br><br>  Pixis durfte tats√§chlich nur an der Registrierkasse bestellen.  Wir haben die Situation in drei Schritten ge√§ndert: <br><br><ol><li>  Zuerst haben wir eine mobile Anwendung f√ºr den Mitarbeiter erstellt, die sein Leben erheblich vereinfacht.  Auf dieser Grundlage begannen sie, ein √ñkosystem aufzubauen, in dem Schnittstellen mit Logik getrennt sind. </li><li>  W√§hrend alles eingerichtet war, wurden Internetbestellungen von Hand an die Kasse getrieben. </li><li>  Sie stellten der Reihe nach Microservices auf, die alles in der Mitte ersetzten. </li></ol><br>  Warum mussten Sie mit der Store-App beginnen?  Weil wir im Vergleich zu Frankreich wieder einzigartige Prozesse haben.  Zum Beispiel entschied sich eine Person, sechs Meter zehn Zentimeter einer Kette in einem Gesch√§ft zu kaufen.  Der Verk√§ufer schnitt ihn ab, gab ein Dokument, wie lange es ist und wie viel es kostet.  Sie gehen mit diesem St√ºck Papier zur Kasse, Sie bezahlen dort.  Aus logischer Sicht sollte der Verkauf nicht an der Abendkasse stattfinden, sondern der Verk√§ufer sollte ihn haben, aber tats√§chlich beginnt an der Abendkasse das Interessanteste: Sie m√ºssen sowohl die Ware als auch das Papier haben. <br><br>  Am Ende werden wir eine Plattform f√ºr die Auftragserteilung sein: Jetzt wurden zum Beispiel zus√§tzlich zu unserem Hauptsystem Dienstleistungen f√ºr den Kauf von Dienstleistungen von Meistern hinzugef√ºgt (ich habe eine K√ºche gekauft - ich habe die Installation bei einem externen Meister bestellt, aber wir haben sie gefunden und eine Garantie von uns selbst gegeben), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Marktplatz</a> ( direkter Kauf von einem Lieferanten √ºber ein breiteres Spektrum), und bald muss es einen Partner geben, damit unsere Bl√∂cke √ºberall platziert werden k√∂nnen.  So etwas wie das Einbetten von Amazon-Shops in Blogs, nur vielseitiger. <br><br><h3>  Wie wurde die Ersatzentscheidung getroffen? </h3><br>  <b>Ich trete.</b>  <b>Verfeinern Sie das Gesch√§ftsmodell.</b> <br><br>  Wir haben gepr√ºft, und zwar: Das Modell wie in Russland - jeden Tag niedrige Preise - ist erfolgreich.  Leroy Merlin in Europa ist deutlich teurer, aber in Russland ist dies unsere Nische: ein Baugesch√§ft, in dem Sie definitiv Waren zum besten Preis finden k√∂nnen. <br><br>  <b>II Schritt.</b>  <b>Erstellen Sie ein Client-Skript.</b> <br><br>  Das hei√üt, Prozesse so aufzubauen, wie wir m√∂chten, dass sie aus Sicht des Kunden mit uns interagieren.  Das hei√üt, eine einzige Vision davon, wer wir in ein paar Jahren sein wollen und wie es aus architektonischer Sicht aussieht. <br><br>  <b>III Schritt.</b>  <b>Baue eine Architektur.</b> <br><br>  Teilen Sie diese Vision in spezifische TK und Architektur mit h√∂heren Details auf.  Es entstanden 110 Projekte, die wir f√ºnf Jahre lang in f√ºnf Kategorien unterteilt haben. <br><br>  Dann bildeten sie spezialisierte Teams.  Meistens sind dies ihre Mitarbeiter und ein Auftragnehmer.  Anfangs litten sie sehr darunter: Als sie zum Produkt gingen, verstanden sie nicht wirklich, wie man so viele Ver√§nderungen verdaut.  Dann begannen sie, einen gemeinsamen Ansatz f√ºr Aufgaben zu entwickeln und den Anteil ihrer Entwicklung schrittweise zu erh√∂hen. <br><br>  An den Stellen, an denen der Fehler kritisch war, arbeiteten sie nach NASA-Schemata, wo der Fehler nicht akzeptabel ist und √ºberhaupt keine Option darstellt.  Hier dreht sich alles um Geldtransaktionen. <br><br>  Und wo es m√∂glich war zu fallen, war die Hauptsache, schnell aufzustehen. Wir verwendeten einen Ansatz in der N√§he von Googles SRE.  Iterativ mit Pfosten, aber Projekte k√∂nnten so schnell wie m√∂glich umgesetzt werden.  Und jetzt machen wir so viel und es ist sehr cool, sich zu entwickeln. <br><br>  Der dritte Ansatz ist Innovation.  Wir haben eine Sandbox mit Ideen entwickelt, um schnell die ersten MVPs mit unseren internen Ressourcen zu erstellen, mit denen wir schnell und kosteng√ºnstig testen k√∂nnen.  Dies ist das wahre "schnell versuchen, schnell scheitern".  Auf diese Weise konnten Sie ein Budget und eine Autorit√§t f√ºr diejenigen erhalten, die ein cooles Projekt entwickelt haben. <br><br>  Der zweite wichtige Schwerpunkt lag in der Geo-Entwicklung.  Dann er√∂ffneten 20 Gesch√§fte pro Jahr (jetzt etwas langsamer).  Sechstausend Mitarbeiter.  Viele Regionen.  Es war notwendig, die gesamte Lieferkette neu zu schreiben, um schnell Prozesse zur Erh√∂hung der Infrastruktur der Gesch√§fte zu entwickeln. <br><br>  2017 haben wir uns entschlossen, eine Plattform f√ºr Bauauftr√§ge zu werden: Dies ist eine vielversprechende Strategie f√ºr die kommenden Jahre. <br><br>  F√ºr die Geografie brauchten wir ein gro√ües IT-Backoffice f√ºr das Wachstum des Unternehmens und das Wachstum der Lieferkette.  F√ºr Omnichannel (allgemeine Reihenfolge) - eine andere SLA-Ebene f√ºr interne Systeme, Echtzeit, Mikrodienste und Synchronisation zwischen Hunderten von Subsystemen.  Dies ist im Allgemeinen ein anderer IT-Reifegrad.  F√ºr die Plattform ist auch die Geschwindigkeit der √Ñnderung wichtig. <br><br>  Als es gerade anfing, dachten alle, dass Agilit√§t die Welt retten w√ºrde.  Bei Auftragnehmern ist Agilit√§t m√∂glicherweise nicht so effektiv.  Daher der Wunsch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> 200 Mitarbeiter in der IT-Abteilung zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rekrutieren</a> . <br><br>  Wir haben beobachtet, wie schnell wir alles ohne Verlust f√ºr die Marke umsetzen k√∂nnen.  Etwas konnte schnell geschrieben werden, hatte aber keine Zeit, den Service vorzubereiten.  Wenn beispielsweise keine Bestandsinformationen vorhanden sind, k√∂nnen Sie nicht online bezahlen, ohne die Garantie zu haben, dass die Waren reserviert werden.  Wir haben die Kette der Abh√§ngigkeiten in mehrere zerlegt.  Jetzt wissen wir bereits, dass wir die Zyklen verk√ºrzen m√ºssen, weil die Kompetenzen des Teams immer noch wichtig sind.  Jetzt s√§gen wir Features in kleinen St√ºcken, wir sammeln eine Verbindung, jetzt ist nur noch das aktuelle Jahr in Planung.  Eine langfristige Strategie, jedoch nach Merkmalen, betr√§gt maximal ein Jahr und viele separate Produktteams. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457466/">https://habr.com/ru/post/de457466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457450/index.html">Top 10 Technologietrends in der Datenverarbeitung und -analyse im Jahr 2019 laut Gartner</a></li>
<li><a href="../de457458/index.html">Mobiler St√§nder f√ºr chinesische Werkzeugmaschinen. Oder wie man sie in einer Wohnung platziert</a></li>
<li><a href="../de457460/index.html">Linux-Kernel-Sicherheitskarte</a></li>
<li><a href="../de457462/index.html">Uber: √úberblick √ºber die wichtigsten Plattformverwaltungsalgorithmen</a></li>
<li><a href="../de457464/index.html">Deduplizierung von Anzeigen auf Yandex.Real Estate</a></li>
<li><a href="../de457468/index.html">Universeller Speicher: SRAM, DRAM und Flash-Speicher in einer Flasche</a></li>
<li><a href="../de457470/index.html">Blattmathematik: Wie ein ungew√∂hnlicher Busch die Gleichung eines Pflanzenwachstumsmodells ver√§nderte</a></li>
<li><a href="../de457476/index.html">Reduzieren der Gr√∂√üe eines Docker-Images mit einer Spring-Boot-Anwendung</a></li>
<li><a href="../de457480/index.html">Erstellen einer Abh√∂ranwendung zum Anzeigen des mobilen MMORPG-Verkehrs</a></li>
<li><a href="../de457490/index.html">Aisioshechka aus Zuckerberg - kurz und im Fall Waage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>