<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôàÔ∏è üÜí üë®üèæ‚Äçüé§ J2CL - Mejor tarde que nunca üåÑ üëå üåë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nadie ha podido llegar tarde a su funeral. 
 Valentin Domil 


 La semana pasada, un equipo de Google finalmente public√≥ el c√≥digo fuente para el marc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>J2CL - Mejor tarde que nunca</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/430378/"><p>  <em>Nadie ha podido llegar tarde a su funeral.</em> <em><br></em>  <em>Valentin Domil</em> </p><br><p>  La semana pasada, un equipo de Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">finalmente public√≥ el c√≥digo fuente para el marco J2CL</a> , del que se ha hablado desde 2015.  La idea de traducir Java a JavaScript est√° lejos de ser nueva, y todos han llenado los conos con Google Web Toolkit, pero la comunidad estaba esperando este producto como ning√∫n otro: hablaron sobre √©l e hicieron discursos, pero nadie lo vio. </p><br><img src="https://habrastorage.org/webt/ye/fe/6k/yefe6kgvdo8449ifrxfzlfenbve.png"><br><p>  ‚Äå‚Äå‚Äç‚Äç <br>  Han pasado m√°s de 3 a√±os desde el primer anuncio y parece que el producto ha perdido el mercado sin siquiera haber nacido.  Hoy tenemos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scala.js</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Kotlin.js</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSweet</a> , sin mencionar que el desarrollo web ha sido secuestrado por TypeScript y no queda espacio para Java.  Durante este tiempo, muchos, incluso los javists m√°s dedicados, han perdido la fe en "Java for Front-end" y han frenado este o aquel framework de JavaScript. </p><br><p>  Dado que el lanzamiento sucedi√≥, veamos qu√© sucedi√≥ y a qui√©n podr√≠a serle √∫til. </p><a name="habracut"></a><br><h2 id="ideya">  Idea </h2><br><p>  B√°sicamente, emular JVM en un navegador es una tarea dif√≠cil.  Los desarrolladores de Google Web Toolkit lo han estado resolviendo durante mucho tiempo y han logrado ciertos √©xitos: crearon un traductor, desarrollaron mecanismos de emulaci√≥n para la biblioteca est√°ndar de Java y proporcionaron ajustes para el desarrollo de aplicaciones. </p><br><p>  Este enfoque tiene muchas ventajas: la escritura est√°tica, la capacidad de reutilizar el c√≥digo del servidor en un navegador y las herramientas listas para usar en forma de IDE de Java.  Muchos de los enfoques establecidos originalmente en GWT ahora se ven en TypeScript, Web Pack y otras herramientas de desarrollo front-end. </p><br><p>  El antiguo Google Web Toolkit no era del agrado de su volumen y su abstracci√≥n para construir una interfaz de usuario.  La idea de J2CL es m√°s simple: le permite traducir Java a JavaScript al menor costo posible, de modo que pueda llamar f√°cilmente a Java desde JavaScript y viceversa. </p><br><p>  Y si en 2015 realmente hubiera habido un traductor de Java de alta calidad en JS sin basura innecesaria, no se sabe c√≥mo se desarrollar√≠a a√∫n m√°s el desarrollo web. </p><br><h2 id="predystoriya-j2cl">  Antecedentes J2CL </h2><br><p>  A principios de 2015, el equipo de Google GWT tom√≥ una decisi√≥n dif√≠cil pero necesaria: desarrollar un nuevo producto que le permita utilizar Java en el desarrollo front-end. </p><br><p>  Esto se debi√≥ principalmente a las tendencias cambiantes en el desarrollo web y sus nuevos clientes internos, que vieron Java para la web no como un ecosistema aislado, sino como una parte integral de una gran pila.  Esto requiri√≥ una visi√≥n completamente nueva y la creaci√≥n de herramientas desde cero, que deber√≠an integrarse estrechamente con el resto del ecosistema. </p><br><p>  Con GWT, era casi imposible lograr estos objetivos.  Aunque hab√≠a herramientas para la interacci√≥n bidireccional con JavaScipt en el GWT, el marco no pod√≠a deshacerse de una gran cantidad de equipaje en forma de una interfaz de usuario, biblioteca RPC y otras API de aplicaciones. </p><br><h2 id="chto-eto-za-zver">  ¬øQu√© es esta bestia? </h2><br><p>  Seg√∫n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los desarrolladores</a> , J2CL proporciona una integraci√≥n perfecta del c√≥digo Java en aplicaciones JavaScript.  Es un traductor de Java a JavaScript simple y liviano con un enfoque en la optimizaci√≥n del c√≥digo utilizando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Compilador de cierre</a> . </p><br><ul><li>  Puede mezclar f√°cilmente Java y JavaScript en un proyecto, obteniendo lo mejor de cada uno de los idiomas. </li><li> Permite la reutilizaci√≥n de c√≥digo entre una soluci√≥n de servidor, una aplicaci√≥n web y la plataforma Android.  Hay una gran cantidad de bibliotecas Java disponibles, como: Guava, Dagger y AutoValue. </li><li>  Moderno y confortable.  El ensamblaje de proyectos se basa en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bazel</a> , compatible con Live-reload. </li><li>  Verificado  Se afirma que J2CL se utiliza en producci√≥n en proyectos GSuite: GMail, Docs, Slides y Calendar. </li></ul><br><p>  Esencialmente, J2CL traduce el c√≥digo fuente de Java en c√≥digo JavaScript sin usar el c√≥digo de bytes de la clase Java.  Esto significa que, como en el caso de Google Web Toolkit, se necesita el c√≥digo fuente de todas las bibliotecas utilizadas para compilar el proyecto.  Adem√°s, esto plantea preguntas sobre el soporte para las caracter√≠sticas del lenguaje Java en las nuevas versiones.  Por el momento, los desarrolladores prometen soporte para todas las caracter√≠sticas de sintaxis de Java 11. </p><br><p>  J2CL no admitir√° GWT Widgets, GWT RPC y otras bibliotecas GWT, solo Java b√°sico y el motor de integraci√≥n de JavaScript, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSInterop</a> . </p><br><p>  Es decir  Esta es una versi√≥n muy limitada de GWT con un transportador completamente nuevo.  Y, dado que el nuevo producto ya no es compatible con GWT, no se llama GWT, sino J2CL.  Como resultado, el lanzamiento planificado de GWT 3 ser√° un marco sobre J2CL, donde todas las bibliotecas de aplicaciones se separar√°n del nivel del sistema del traductor. </p><br><p>  Las restricciones de compatibilidad de Java existentes se describen <a href="">en GitHub</a> .  B√°sicamente, permanecieron igual que en GWT: no hay soporte de reflexi√≥n, ni API de red Java.  Pero algo es diferente: la sem√°ntica de las matrices y las listas no se emula, por ejemplo, el √≠ndice no comprueba las ocurrencias en los l√≠mites de las matrices.  Los desarrolladores no se centran en emular el comportamiento de JVM, sino en la sintaxis del lenguaje para garantizar una sobrecarga m√≠nima y no generar toneladas de JavaScript para garantizar la compatibilidad total. </p><br><p>  Aunque J2CL est√° listo para la producci√≥n, su versi√≥n OSS a√∫n est√° lejos de serlo.  Por ejemplo, hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">problemas al iniciar proyectos en Windows</a> y los desarrolladores no prometen una API estable. </p><br><p>  La elecci√≥n de Bazel como sistema de compilaci√≥n para el producto interno de Google es f√°cil de explicar, pero no hay ventajas para la comunidad, y no hay otra forma de usar J2CL que aprender este sistema de compilaci√≥n.  Todo lo que queda es esperar a que la comunidad escriba complementos para Maven / Gradle. </p><br><h2 id="probuem">  Prueba </h2><br><p>  Primero, para probar J2CL ahora, necesita Mac OS o Linux. <br>  En segundo lugar, debe instalar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bazel</a> , un sistema de compilaci√≥n algo ex√≥tico de Google. </p><br><p>  Ahora puede al menos recopilar algo, por ejemplo, HelloWorld <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">del repositorio oficial.</a> </p><br><pre><code class="plaintext hljs">&gt; bazel build src/main/java/com/google/j2cl/samples/helloworld:helloworld</code> </pre> <br><p>  Si miramos la conclusi√≥n, nos sorprenderemos gratamente: </p><br><pre> <code class="plaintext hljs">&gt; cat bazel-bin/src/main/java/com/google/j2cl/samples/helloworld/helloworld.js document.write('Hello from Java! and JS!');</code> </pre> <br><p>  Por supuesto, esto no prueba nada, pero est√° muy satisfecho con su minimalismo despu√©s de los m√≥dulos GWT.  Todav√≠a no hay grandes ejemplos de aplicaciones, esperaremos su aparici√≥n. </p><br><h2 id="zachem-eto-nuzhno-esli-est-xxxjs">  ¬øPor qu√© es necesario si hay xxx.js </h2><br><p>  La respuesta a la pregunta de por qu√© esto necesita ser encontrado todav√≠a es dif√≠cil.  A primera vista, J2CL tiene una idea muy fuerte: reutilizar Java para la interfaz al igual que las personas usan TypeScript.  Por otro lado, el proyecto parece llegar tarde. </p><br><p>  Los proyectos de transportadores m√°s nuevos en JS, como Kotlin.js y Scala.js, se implementan como complementos del compilador y no necesitan volver a analizar el c√≥digo fuente.  Y a este respecto, J2CL es un paso atr√°s, porque necesita el c√≥digo fuente que analizar√°. </p><br><p>  Un punto separado es el lenguaje Java en s√≠.  ¬øPor qu√© escribir en Java detallado si puede escribir tanto el servidor como la parte del cliente en Kotlin conciso? </p><br><p>  Aunque, en comparaci√≥n con otro proyecto similar, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JSweet</a> , conf√≠o m√°s en J2CL.  Las herramientas de JSweet son mucho m√°s amigables y est√°n m√°s listas para usar, pero JSweet tiene una comunidad peque√±a y casi todas est√°n escritas por una sola persona. </p><br><h2 id="kod-govorite-otkrytyy">  ¬øDices c√≥digo fuente abierto? </h2><br><p>  Ciertamente contento de que el proyecto tenga una licencia abierta para Apache 2.0. </p><br><p>  Desafortunadamente, <em>el c√≥digo abierto</em> no significa <em>un proceso de desarrollo abierto</em> .  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mayor decepci√≥n</a> de la comunidad vino de la situaci√≥n actual, el proyecto J2CL se anunci√≥ hace 3 a√±os, pero nadie muestra su c√≥digo fuente, no puede influir en su API final y no acelerar el proceso de desarrollo, porque no hay ning√∫n lugar para enviar parches. </p><br><p>  Esperemos que la situaci√≥n mejore y el producto se vuelva viable. </p><br><p>  <strong>Actualizaci√≥n:</strong> primera aplicaci√≥n J2CL portada desde GWT2 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://github.com/DominoKit/dominodo</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430378/">https://habr.com/ru/post/es430378/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430364/index.html">‚ÄúMe parece que nos estamos acercando al momento en que todos podr√°n codificar. El c√≥digo es libertad ".</a></li>
<li><a href="../es430366/index.html">Cocina VR: lo que no se ve en el casco</a></li>
<li><a href="../es430372/index.html">Coche de hidr√≥geno. ¬øEs hora de decir adi√≥s a la gasolina?</a></li>
<li><a href="../es430374/index.html">Ingenier√≠a de datos y m√°s: graba videos y diapositivas de la reuni√≥n</a></li>
<li><a href="../es430376/index.html">Gu√≠a de JavaScript Parte 6: Excepciones, punto y coma, plantillas literales</a></li>
<li><a href="../es430380/index.html">Gu√≠a de JavaScript, parte 5: matrices y bucles</a></li>
<li><a href="../es430382/index.html">Gu√≠a de JavaScript Parte 4: Caracter√≠sticas</a></li>
<li><a href="../es430384/index.html">Crear mapas a partir de caracter√≠sticas de ruido</a></li>
<li><a href="../es430386/index.html">Planta de energ√≠a de almacenamiento de estado s√≥lido que se construir√° en India</a></li>
<li><a href="../es430388/index.html">Desconferencia de cumbre web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>