<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🈂️ 👉🏾 🧘🏾 估计空间方向，或者如何不惧怕Mahoney和Majwik过滤器 🎉 🚀 👲🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们在说什么 
 在Habre上出现有关Majwik过滤器的帖子是其自身的象征性事件。 显然，对无人机的普遍热情重新激发了人们对通过惯性测量来评估人体方位的兴趣。 同时，基于卡尔曼滤波器的传统方法不再满足公众的要求-要么是由于对无人机无法接受的计算资源的高要求，要么是因为设置复杂且不直观。 

 该...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>估计空间方向，或者如何不惧怕Mahoney和Majwik过滤器</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438060/"><h2> 我们在说什么 </h2><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Habre上出现有关Majwik过滤器的帖子</a>是其自身的象征性事件。 显然，对无人机的普遍热情重新激发了人们对通过惯性测量来评估人体方位的兴趣。 同时，基于卡尔曼滤波器的传统方法不再满足公众的要求-要么是由于对无人机无法接受的计算资源的高要求，要么是因为设置复杂且不直观。 <br><br> 该职位伴随着一个非常紧凑和高效的C过滤器实现。但是，从注释来看，此代码的物理含义以及整篇文章对于某人来说仍然很模糊。 好吧，我们坦率地承认：Majwik过滤器是基于非常简单而优雅的原则的最复杂的过滤器组。 我将在我的文章中考虑这些原则。 代码将不在这里。 我的帖子不是关于定向估计算法的特定实现的故事，而是关于在给定主题上发明自己的变体的邀请，这可能很多。 <br><br><img src="https://habrastorage.org/webt/lp/cl/le/lpclleof90lpwd-hoqa4kl5btpi.png" alt="图片"><br><a name="habracut"></a><br><h2> 方向视图 </h2><br> 回顾基础知识。 要评估身体在空​​间中的方向，首先需要选择一些参数，这些参数共同唯一地确定该方向，即 本质上是相关坐标系的方向 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">z</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.573ex" height="1.817ex" viewBox="0 -520.7 1538.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-79" x="572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-7A" x="1070" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> xyz </script> 相对有条件的固定系统-例如，地理系统NED（北，东，下）。 然后您需要制作运动方程，即 通过陀螺仪的角速度表达这些参数的变化率。 最后，需要将来自加速度计，磁力计等的矢量测量值引入计算中。 以下是表示方向的最常见方法： <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">欧拉角</a></b> -卷（roll， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.891ex" height="2.419ex" viewBox="0 -780.1 1675.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-69" x="1330" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ phi </script>  ），音高（pitch， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-10"><span class="MJXp-mtext" id="MJXp-Span-11">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="2016" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ theta </script>  ），课程（标题， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mtext" id="MJXp-Span-18">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.643ex" height="2.298ex" viewBox="0 -728.2 1568.5 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-73" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-69" x="1223" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ psi </script>  ） 这是最直观，最简洁的定向参数集：参数的数量恰好等于旋转自由度的数量。 对于这些角度，我们可以写出<i>欧拉运动方程</i> 。 他们非常喜欢理论力学，但是在导航问题上却很少使用。 首先，知道角度不允许直接将任何矢量的分量从相连的坐标系转换到地理坐标系，反之亦然。 其次，在±90度的螺距下，运动方程退化，侧倾和横倾变得不确定。 <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">旋转矩阵</a></b> -矩阵 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">f</span><span class="MJXp-mrow" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">C</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.072ex" height="2.419ex" viewBox="0 -780.1 4336.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="3025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-43" x="3576" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ mathbf {C} </script>  3×3大小，您需要将其乘以关联坐标系中的任何向量，以在地理系统中获得相同的向量： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-32"><span class="MJXp-mtext" id="MJXp-Span-33">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">f</span><span class="MJXp-msubsup" id="MJXp-Span-40"><span class="MJXp-mrow" id="MJXp-Span-41" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-43" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">D</span></span></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">f</span><span class="MJXp-mrow" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">C</span></span><span class="MJXp-mtext" id="MJXp-Span-57">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">f</span><span class="MJXp-msubsup" id="MJXp-Span-64"><span class="MJXp-mrow" id="MJXp-Span-65" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-67" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.945ex" height="2.66ex" viewBox="0 -780.1 16768.1 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="3025" y="0"></use><g transform="translate(3576,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-45" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-44" x="1653" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMAIN-3D" x="6159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="7466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="8344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="8874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="9235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="9812" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="10241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-43" x="10792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="11802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="12681" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="13210" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="13572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="14148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="14578" y="0"></use><g transform="translate(15128,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-79" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-7A" x="1069" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-6"> \ mathbf {r} _ {NED} = \ mathbf {C} \ mathbf {r} _ {xyz} </script>  。 矩阵始终是正交的，即 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mtext" id="MJXp-Span-72">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">f</span><span class="MJXp-mrow" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">C</span></span><span class="MJXp-mo" id="MJXp-Span-81" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-82">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">f</span><span class="MJXp-msubsup" id="MJXp-Span-89"><span class="MJXp-mrow" id="MJXp-Span-90" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">C</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-92" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">T</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.663ex" height="2.901ex" viewBox="0 -987.6 10618.8 1249" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="3025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-43" x="3576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMAIN-3D" x="4614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-6D" x="5920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-61" x="6799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-74" x="7328" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-68" x="7690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-62" x="8266" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-66" x="8696" y="0"></use><g transform="translate(9246,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/post/438060/&amp;usg=ALkJrhilUweC3QjMvzOnteqeXrXnrL-4kg#MJMATHI-54" x="1094" y="612"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> \ mathbf {C} = \ mathbf {C} ^ {T} </script>  。 运动学方程的形式为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-94"><span class="MJXp-mtext" id="MJXp-Span-95" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-96"><span class="MJXp-mtext" id="MJXp-Span-97">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">f</span><span class="MJXp-mrow" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">C</span></span></span><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-107">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">f</span><span class="MJXp-mrow" id="MJXp-Span-114"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">C</span></span><span class="MJXp-mtext" id="MJXp-Span-116">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">f</span><span class="MJXp-mrow" id="MJXp-Span-123"><span class="MJXp-mtext" id="MJXp-Span-124">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> \点{\ mathbf {C}} = \ mathbf {C} \ mathbf {\ Omega} </script>  。 <br> 在这里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-130"><span class="MJXp-mtext" id="MJXp-Span-131">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">f</span><span class="MJXp-mrow" id="MJXp-Span-138"><span class="MJXp-mtext" id="MJXp-Span-139">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> \ mathbf {\ Omega} </script>  -由陀螺仪在连接的坐标系中测量的角速度分量矩阵： <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-145"><span class="MJXp-mtext" id="MJXp-Span-146">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">f</span><span class="MJXp-mrow" id="MJXp-Span-153"><span class="MJXp-mtext" id="MJXp-Span-154">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">a</span></span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-161" style="color: red;">\开</span><span class="MJXp-mrow" id="MJXp-Span-162"><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0.278em; margin-right: 0.278em;">始</span></span><span class="MJXp-mrow" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">x</span></span><span class="MJXp-mn" id="MJXp-Span-172">0</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">g</span><span class="MJXp-msubsup" id="MJXp-Span-181"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-183" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-185"><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mtext" id="MJXp-Span-187">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">g</span><span class="MJXp-msubsup" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-194" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">y</span></span></span><span class="MJXp-mspace" id="MJXp-Span-196" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-197">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">g</span><span class="MJXp-msubsup" id="MJXp-Span-202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-204" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-206"><span class="MJXp-mo" id="MJXp-Span-207" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-208">0</span><span class="MJXp-mrow" id="MJXp-Span-209"><span class="MJXp-mo" id="MJXp-Span-210" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mo" id="MJXp-Span-211" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mo" id="MJXp-Span-212" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-213">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">g</span><span class="MJXp-msubsup" id="MJXp-Span-218"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-220" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">x</span></span></span><span class="MJXp-mspace" id="MJXp-Span-222" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-223" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-224">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">g</span><span class="MJXp-msubsup" id="MJXp-Span-229"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-231" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-233"><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mtext" id="MJXp-Span-235">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">g</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">x</span></span></span><span class="MJXp-mrow" id="MJXp-Span-244"><span class="MJXp-mo" id="MJXp-Span-245" style="margin-left: 0.278em; margin-right: 0.278em;">＆</span></span><span class="MJXp-mn" id="MJXp-Span-246">0</span><span class="MJXp-mspace" id="MJXp-Span-247" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-248">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">d</span><span class="MJXp-mrow" id="MJXp-Span-252"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">x</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> \ mathbf {\ Omega} = \开始{bmatrix} 0＆-\ omega_ {z}＆\ omega_ {y} \\ \ omega_ {z}＆0＆--\ omega_ {x} \\-\ omega_ {y }＆\ omega_ {x}＆0 \\ \ end {bmatrix} </script></p><br> 旋转矩阵不如欧拉角明显，但是与它们不同，它允许您直接转换向量，并且在任何角度位置都不会失去意义。 从计算的角度来看，它的主要缺点是冗余：为了实现三个自由度，一次引入了九个参数，所有这些参数都需要根据运动方程进行更新。 通过使用矩阵的正交性可以稍微简化该问题。 <br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">旋转四元数</a></b>是一种针对冗余和退化的激进但非常不直观的补救措施。 这是一个四个组成部分的对象。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-260"><span class="MJXp-mtext" id="MJXp-Span-261">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">f</span><span class="MJXp-mrow" id="MJXp-Span-268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">q</span></span><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-273" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-274">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-278" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-279">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-280">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">f</span><span class="MJXp-mrow" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">i</span></span><span class="MJXp-mo" id="MJXp-Span-289" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-290"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-292" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-293">2</span></span></span><span class="MJXp-mtext" id="MJXp-Span-294">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">f</span><span class="MJXp-mrow" id="MJXp-Span-301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">j</span></span><span class="MJXp-mo" id="MJXp-Span-303" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-306" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-307">3</span></span></span><span class="MJXp-mtext" id="MJXp-Span-308">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">f</span><span class="MJXp-mrow" id="MJXp-Span-315"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> \ mathbf {q} = q_ {0} + q_ {1} \ mathbf {i} + q_ {2} \ mathbf {j} + q_ {3} \ mathbf {k} </script>  -不是数字，不是向量，也不是矩阵。 四元数可以从两个角度查看。 首先，标量的形式量如何 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-317"><span class="MJXp-msubsup" id="MJXp-Span-318"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-320" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-321">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> q_ {0} </script> 和向量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-322"><span class="MJXp-msubsup" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-325" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-326">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-327">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">f</span><span class="MJXp-mrow" id="MJXp-Span-334"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">i</span></span><span class="MJXp-mo" id="MJXp-Span-336" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-337"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-339" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-340">2</span></span></span><span class="MJXp-mtext" id="MJXp-Span-341">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">f</span><span class="MJXp-mrow" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">j</span></span><span class="MJXp-mo" id="MJXp-Span-350" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-353" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-354">3</span></span></span><span class="MJXp-mtext" id="MJXp-Span-355">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">f</span><span class="MJXp-mrow" id="MJXp-Span-362"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> q_ {1} \ mathbf {i} + q_ {2} \ mathbf {j} + q_ {3} \ mathbf {k} </script> 在哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-364"><span class="MJXp-mtext" id="MJXp-Span-365">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">f</span><span class="MJXp-mrow" id="MJXp-Span-372"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">i</span></span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-376">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">f</span><span class="MJXp-mrow" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">j</span></span><span class="MJXp-mrow" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-387">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">f</span><span class="MJXp-mrow" id="MJXp-Span-394"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> \ mathbf {i}，\ mathbf {j}，\ mathbf {k} </script>  -单位轴向量（当然听起来很荒谬）。 其次，作为复数的概括，现在我们不使用一个，而是使用三个<i>不同的</i>虚构单位 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-396"><span class="MJXp-mtext" id="MJXp-Span-397">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">f</span><span class="MJXp-mrow" id="MJXp-Span-404"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">i</span></span><span class="MJXp-mrow" id="MJXp-Span-406"><span class="MJXp-mo" id="MJXp-Span-407" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-408">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">f</span><span class="MJXp-mrow" id="MJXp-Span-415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">j</span></span><span class="MJXp-mrow" id="MJXp-Span-417"><span class="MJXp-mo" id="MJXp-Span-418" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">f</span><span class="MJXp-mrow" id="MJXp-Span-426"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> \ mathbf {i}，\ mathbf {j}，\ mathbf {k} </script>  （听起来同样荒唐）。 四元数与转弯有何关系？ 通过欧拉定理：始终可以通过一定角度的有限旋转将物体从一种给定的方向转移到另一种方向 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-428"><span class="MJXp-mtext" id="MJXp-Span-429">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> \ alpha </script> 围绕某个轴并带有引导向量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-435"><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">f</span><span class="MJXp-mrow" id="MJXp-Span-443"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> \ mathbf {u} </script>  。 这些角度和轴可以组合成四元数： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-445"><span class="MJXp-mtext" id="MJXp-Span-446">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">f</span><span class="MJXp-mrow" id="MJXp-Span-453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">q</span></span><span class="MJXp-mo" id="MJXp-Span-455" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-456">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">m</span><span class="MJXp-mrow" id="MJXp-Span-463"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">s</span></span><span class="MJXp-mrow" id="MJXp-Span-467"><span class="MJXp-mo" id="MJXp-Span-468" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-469">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">a</span><span class="MJXp-mrow" id="MJXp-Span-475"><span class="MJXp-mo" id="MJXp-Span-476" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-477">2</span><span class="MJXp-mrow" id="MJXp-Span-478"><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-480" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-481">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">f</span><span class="MJXp-mrow" id="MJXp-Span-488"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">u</span></span><span class="MJXp-mtext" id="MJXp-Span-490">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">m</span><span class="MJXp-mrow" id="MJXp-Span-497"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">n</span></span><span class="MJXp-mrow" id="MJXp-Span-501"><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-503">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">a</span><span class="MJXp-mrow" id="MJXp-Span-509"><span class="MJXp-mo" id="MJXp-Span-510" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-511">2</span><span class="MJXp-mrow" id="MJXp-Span-512"><span class="MJXp-mo" id="MJXp-Span-513" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> \ mathbf {q} = \ mathrm {cos}（\ alpha / 2）+ \ mathbf {u} \ mathrm {sin}（\ alpha / 2）</script>  。 像矩阵一样，四元数可用于直接将任何矢量从一个坐标系转换为另一个坐标系： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-514"><span class="MJXp-mtext" id="MJXp-Span-515">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">f</span><span class="MJXp-msubsup" id="MJXp-Span-522"><span class="MJXp-mrow" id="MJXp-Span-523" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-525" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">D</span></span></span><span class="MJXp-mo" id="MJXp-Span-529" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-530">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">f</span><span class="MJXp-mrow" id="MJXp-Span-537"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">q</span></span><span class="MJXp-mtext" id="MJXp-Span-539">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">f</span><span class="MJXp-msubsup" id="MJXp-Span-546"><span class="MJXp-mrow" id="MJXp-Span-547" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-549" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">z</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-553"><span class="MJXp-mrow" id="MJXp-Span-554" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">f</span><span class="MJXp-mrow" id="MJXp-Span-562"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">q</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-564" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-565">−</span><span class="MJXp-mn" id="MJXp-Span-566">1</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> \ mathbf {r} _ {NED} = \ mathbf {q} \ mathbf {r} _ {xyz} {\ mathbf {q}} ^ {-1} </script>  。 如您所见，方向的四元数表示形式也存在冗余，但比矩阵少得多：额外的参数仅为一个。 对四元数的全面审查已经<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在哈布雷（Habré）上进行</a> 。 他们讨论了几何和3D图形。 我们也对运动学感兴趣，因为四元数的变化率必须与测得的角速度有关。 相应的运动方程式为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-567"><span class="MJXp-mtext" id="MJXp-Span-568" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-569"><span class="MJXp-mtext" id="MJXp-Span-570">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">f</span><span class="MJXp-mrow" id="MJXp-Span-577"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">q</span></span></span><span class="MJXp-mo" id="MJXp-Span-579" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-580">1</span><span class="MJXp-mrow" id="MJXp-Span-581"><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-583">2</span><span class="MJXp-mtext" id="MJXp-Span-584">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">f</span><span class="MJXp-mrow" id="MJXp-Span-591"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">q</span></span><span class="MJXp-mtext" id="MJXp-Span-593">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">f</span><span class="MJXp-mrow" id="MJXp-Span-600"><span class="MJXp-mtext" id="MJXp-Span-601">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> \点{\ mathbf {q}} = 1/2 \ mathbf {q} \ mathbf {\ omega} </script> 向量在哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-607"><span class="MJXp-mtext" id="MJXp-Span-608">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">f</span><span class="MJXp-mrow" id="MJXp-Span-615"><span class="MJXp-mtext" id="MJXp-Span-616">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ mathbf {\ omega} </script> 也被认为是标量为零的四元数。 <br><br><h2> 筛选方案 </h2><br> 最简单的计算方向的方法是用运动学方程式武装自己，并根据它更新我们喜欢的任何参数集。 例如，如果我们选择一个旋转矩阵，则可以按照<code>C +=  * Omega * dt</code>的精神编写一个循环。 结果将令人失望。 陀螺仪，尤其是MEMS，具有较大且不稳定的零偏移-结果，即使在完全静止的情况下，计算出的方向也将具有无限的累积误差（漂移）。  Mahoney，Majwick和许多其他人（不排除我）发明的所有技巧旨在通过涉及来自加速度计，磁力计，GNSS接收器，滞后等的测量来补偿这种漂移。 因此，基于简单的基本原理，定向过滤器的整个家族诞生了。 <br><blockquote>  <b>基本原理。</b> 为了补偿方向漂移，有必要在陀螺仪测量的角速度上增加一个基于其他传感器的矢量测量构造的附加控制角速度。 控制角速度矢量应努力将测量矢量的方向与其已知的真实方向组合在一起。 </blockquote> 与构造卡尔曼滤波器的校正项相比，此处采用了完全不同的方法。 主要区别在于控制角速度<i>不是项，而是</i>估计值（矩阵或四元数）的<i>一个因素</i> 。 重要的优点是： <br><br><ul><li> 可以针对方向本身构建评估过滤器，而不是针对方向与陀螺仪提供的方向有小的偏差。 此外，估计值将自动满足任务施加的所有要求：矩阵将正交，四元数被归一化。 </li><li> 控制角速度的物理含义比卡尔曼滤波器中的校正项更加清楚。 所有操作都是在普通的三维物理空间中，而不是在抽象的多维状态空间中，通过向量和矩阵完成的。 这极大地简化了过滤器的优化和调整，此外，它还使您摆脱了大尺寸矩阵和重矩阵库。 </li></ul><br> 现在，让我们看看如何在特定的过滤器选项中实现此想法。 <br><br>  <b>Mahoney过滤器。</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最初的Mahoney文章中</a>所有的愤怒数学都是为了证明简单方程式<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">而</a>写的（32）。 我们用符号重写它们。 如果我们忽略对陀螺仪零位移的估计，则剩下两个关键方程-旋转矩阵本身的运动学方程（控制角速度采用矩阵形式 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-622"><span class="MJXp-mtext" id="MJXp-Span-623">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">f</span><span class="MJXp-msup" id="MJXp-Span-630"><span class="MJXp-mrow" id="MJXp-Span-631" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-632">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">a</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-638" style="vertical-align: 0.5em;">′</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> \ mathbf {\ Omega}'</script>  ）以及向量形式的速度形成规律 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-639"><span class="MJXp-mtext" id="MJXp-Span-640">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">f</span><span class="MJXp-msup" id="MJXp-Span-647"><span class="MJXp-mrow" id="MJXp-Span-648" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-649">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654">a</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-655" style="vertical-align: 0.5em;">′</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> \ mathbf {\ omega}'</script>  。 为简单起见，我们假设没有加速度或磁头，因此，我们可以使用自由落体加速度测量。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-656"><span class="MJXp-mo" id="MJXp-Span-657" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-658" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-659"><span class="MJXp-mo" id="MJXp-Span-660" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-661"><span class="MJXp-mrow" id="MJXp-Span-662" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-663">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">f</span><span class="MJXp-mrow" id="MJXp-Span-670"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-672" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24">-\帽子{\ mathbf {g}} _ {xyz} </script> 来自加速度计和地球磁场 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-676"><span class="MJXp-mtext" id="MJXp-Span-677" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-678"><span class="MJXp-mo" id="MJXp-Span-679" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-680"><span class="MJXp-mrow" id="MJXp-Span-681" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-682">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">f</span><span class="MJXp-mrow" id="MJXp-Span-689"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">m</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-691" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> \帽子{\ mathbf {m}} _ {xyz} </script> 从磁力计。 这两个向量均由连接坐标系中的传感器测量，并且在地理系统中其位置已知： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-695"><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-697">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">f</span><span class="MJXp-msubsup" id="MJXp-Span-704"><span class="MJXp-mrow" id="MJXp-Span-705" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-707" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">D</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26">-\ mathbf {g} _ {NED} </script> 朝上 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-711"><span class="MJXp-mtext" id="MJXp-Span-712">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">f</span><span class="MJXp-msubsup" id="MJXp-Span-719"><span class="MJXp-mrow" id="MJXp-Span-720" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">m</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-722" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">D</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ mathbf {m} _ {NED} </script>  -到磁北。 然后，Mahoney滤波器方程将如下所示： <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-726"><span class="MJXp-mtext" id="MJXp-Span-727" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-728"><span class="MJXp-mtext" id="MJXp-Span-729">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">f</span><span class="MJXp-mrow" id="MJXp-Span-736"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">C</span></span></span><span class="MJXp-mo" id="MJXp-Span-738" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-739">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">f</span><span class="MJXp-mrow" id="MJXp-Span-746"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">C</span></span><span class="MJXp-mrow" id="MJXp-Span-748"><span class="MJXp-mo" id="MJXp-Span-749" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-750">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756">f</span><span class="MJXp-mrow" id="MJXp-Span-757"><span class="MJXp-mtext" id="MJXp-Span-758">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-760">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">a</span></span><span class="MJXp-mo" id="MJXp-Span-764" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-765">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-768">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771">f</span><span class="MJXp-msup" id="MJXp-Span-772"><span class="MJXp-mrow" id="MJXp-Span-773" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-774">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">a</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-780" style="vertical-align: 0.5em;">′</span></span><span class="MJXp-mrow" id="MJXp-Span-781"><span class="MJXp-mo" id="MJXp-Span-782" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mspace" id="MJXp-Span-783" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-784">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790">f</span><span class="MJXp-mrow" id="MJXp-Span-791"><span class="MJXp-mtext" id="MJXp-Span-792">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">g</span><span class="MJXp-msup" id="MJXp-Span-797"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-799" style="vertical-align: 0.5em;">′</span></span></span><span class="MJXp-mo" id="MJXp-Span-800" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-801"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-803" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">g</span></span></span><span class="MJXp-mtext" id="MJXp-Span-805" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-806"><span class="MJXp-mo" id="MJXp-Span-807" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-808"><span class="MJXp-mrow" id="MJXp-Span-809" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-810">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">f</span><span class="MJXp-mrow" id="MJXp-Span-817"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-819" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">z</span></span></span><span class="MJXp-mtext" id="MJXp-Span-823">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">s</span><span class="MJXp-mtext" id="MJXp-Span-829">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">f</span><span class="MJXp-msubsup" id="MJXp-Span-836"><span class="MJXp-mrow" id="MJXp-Span-837" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">C</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-839" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">T</span></span></span><span class="MJXp-mtext" id="MJXp-Span-841">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-842">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">f</span><span class="MJXp-msubsup" id="MJXp-Span-848"><span class="MJXp-mrow" id="MJXp-Span-849" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-851" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854">D</span></span></span><span class="MJXp-mo" id="MJXp-Span-855" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-856"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-858" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">m</span></span></span><span class="MJXp-mtext" id="MJXp-Span-860">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">t</span><span class="MJXp-msubsup" id="MJXp-Span-864"><span class="MJXp-mrow" id="MJXp-Span-865" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-866">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-869">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">f</span><span class="MJXp-mrow" id="MJXp-Span-873"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">m</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-875" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878">z</span></span></span><span class="MJXp-mtext" id="MJXp-Span-879">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">s</span><span class="MJXp-mtext" id="MJXp-Span-885">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891">f</span><span class="MJXp-msubsup" id="MJXp-Span-892"><span class="MJXp-mrow" id="MJXp-Span-893" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">C</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-895" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">T</span></span></span><span class="MJXp-mtext" id="MJXp-Span-897">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-903">f</span><span class="MJXp-msubsup" id="MJXp-Span-904"><span class="MJXp-mrow" id="MJXp-Span-905" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">m</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-907" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">D</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-28"> \点{\ mathbf {C}} = \ mathbf {C}（\ mathbf {\ Omega} + \ mathbf {\ Omega}'）\\ \ mathbf {\ omega'} = k_ {g} \帽子{\ mathbf {g}} _ {xyz} \ times \ mathbf {C} ^ {T} \ mathbf {g} _ {NED} + k_ {m} \ hat {\ mathbf {m}} _ {xyz} \ times \ mathbf {C} ^ {T} \ mathbf {m} _ {NED} </script></p> 让我们仔细看第二个方程。 右边的第一项是向量积。 第一个因素是测得的重力加速度，第二个因素是正确的。 由于这些因子必须在一个坐标系中，因此第二个因子可以通过乘以 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-911"><span class="MJXp-mtext" id="MJXp-Span-912">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">f</span><span class="MJXp-msubsup" id="MJXp-Span-919"><span class="MJXp-mrow" id="MJXp-Span-920" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">C</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-922" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">T</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \ mathbf {C} ^ {T} </script>  。 构造为矢量积的角速度垂直于因子矢量的平面。 它允许您旋转关联坐标系的估计位置，直到因子向量的方向一致-然后向量乘积将重置为零，并且旋转将停止。 系数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-924"><span class="MJXp-msubsup" id="MJXp-Span-925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-927" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">g</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> k_ {g} </script> 设置此类反馈的刚性。 第二项对磁矢量执行类似的运算。 实际上，Mahoney滤波器体现了众所周知的论点：两个不同坐标系中两个非共线矢量的知识使您可以唯一地恢复这些系统的相互定向。 如果向量多于两个，则这将提供有用的测量冗余。 如果只有一个矢量，则不能固定一个旋转自由度（围绕该矢量的运动）。 例如，如果仅给出一个向量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-929"><span class="MJXp-mo" id="MJXp-Span-930" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-931">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937">f</span><span class="MJXp-mrow" id="MJXp-Span-938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">g</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">-\ mathbf {g} </script>  ，则可以调整侧倾和俯仰的漂移，但不能调整航向。 <br><br> 当然，Mahoney滤波器不必使用旋转矩阵。 也有非规范的四元数变体。 <br><br>  <b>虚拟陀螺仪平台。</b> 在Mahoney滤波器中，我们应用了控制角速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-940"><span class="MJXp-mtext" id="MJXp-Span-941">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-943">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947">f</span><span class="MJXp-mrow" id="MJXp-Span-948"><span class="MJXp-mtext" id="MJXp-Span-949">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-953">g</span><span class="MJXp-msup" id="MJXp-Span-954"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-956" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> \ mathbf {\ omega'} </script> 到相关的坐标系。 但是您可以将其应用于地理坐标系的估计位置。 运动方程式为 <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-957"><span class="MJXp-mtext" id="MJXp-Span-958" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-959"><span class="MJXp-mtext" id="MJXp-Span-960">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">f</span><span class="MJXp-mrow" id="MJXp-Span-967"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">C</span></span></span><span class="MJXp-mo" id="MJXp-Span-969" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-970">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-976">f</span><span class="MJXp-mrow" id="MJXp-Span-977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978">C</span></span><span class="MJXp-mtext" id="MJXp-Span-979">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-980">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">f</span><span class="MJXp-mrow" id="MJXp-Span-986"><span class="MJXp-mtext" id="MJXp-Span-987">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">a</span></span><span class="MJXp-mo" id="MJXp-Span-993" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-994">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-995">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">f</span><span class="MJXp-msup" id="MJXp-Span-1001"><span class="MJXp-mrow" id="MJXp-Span-1002" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1003">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1006">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008">a</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1009" style="vertical-align: 0.5em;">′</span></span><span class="MJXp-mtext" id="MJXp-Span-1010">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1013">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016">f</span><span class="MJXp-mrow" id="MJXp-Span-1017"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018">C</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> \点{\ mathbf {C}} = \ mathbf {C} \ mathbf {\ Omega}-\ mathbf {\ Omega}'\ mathbf {C} </script></p> 事实证明，这种方法为非常丰富的物理类比铺平了道路。 只要回想一下陀螺仪技术的初衷-基于万向节中陀螺仪稳定平台的垂直和惯性导航系统即可。 <br><br><img src="https://habrastorage.org/webt/fj/ka/hj/fjkahji9nc7fcrtisbvn_1af3ag.jpeg" alt="图片"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.theairlinepilots.com</a></i> <br><br> 该平台的目标是实现地理坐标系。 通过悬架上的角度传感器相对于该平台测量载体的方​​向。 如果陀螺仪有漂移，则平台也会随之漂移，并且角度传感器的读数中会累积误差。 为了消除这些错误，从平台上安装的加速度计引入了反馈。 例如，平台相对于北轴的地平线的偏离是通过东轴的加速度计来感知的。 该信号允许设置控制角速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1019"><span class="MJXp-mtext" id="MJXp-Span-1020">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1024">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">f</span><span class="MJXp-mrow" id="MJXp-Span-1027"><span class="MJXp-mtext" id="MJXp-Span-1028">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1030">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032">g</span><span class="MJXp-msup" id="MJXp-Span-1033"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1034" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1035" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ mathbf {\ omega'} </script> 使平台回到地平线。 <br><br> 我们可以在任务中使用相同的视觉概念。 然后，必须将所描述的运动方程式理解为：方向变化率是两个旋转运动之间的差值-载体的绝对运动（第一项）和虚拟陀螺仪平台的绝对运动（第二项）。 该类比可以扩展到控制角速度的形成定律。 向量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1036"><span class="MJXp-mo" id="MJXp-Span-1037" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1038">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1041">t</span><span class="MJXp-msubsup" id="MJXp-Span-1042"><span class="MJXp-mrow" id="MJXp-Span-1043" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1044">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1045">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1049">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050">f</span><span class="MJXp-mrow" id="MJXp-Span-1051"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1053" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1055">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056">D</span></span></span><span class="MJXp-mo" id="MJXp-Span-1057" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1058" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1059">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">f</span><span class="MJXp-mrow" id="MJXp-Span-1066"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">C</span></span><span class="MJXp-mtext" id="MJXp-Span-1068">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071">t</span><span class="MJXp-msubsup" id="MJXp-Span-1072"><span class="MJXp-mrow" id="MJXp-Span-1073" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1074">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">f</span><span class="MJXp-mrow" id="MJXp-Span-1081"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1083" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1085">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">-\ hat {\ mathbf {g}} _ {NED} =-\ mathbf {C} \ hat {\ mathbf {g}} _ {xyz} </script> 它代表了加速度计的证词，据说是站在陀螺仪平台上的。 然后，出于物理原因，您可以编写： <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1087"><span class="MJXp-mtext" id="MJXp-Span-1088">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">g</span><span class="MJXp-msubsup" id="MJXp-Span-1093"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mo" id="MJXp-Span-1097">′</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1095"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">N</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1098" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1099" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100">g</span><span class="MJXp-msubsup" id="MJXp-Span-1101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1103" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">g</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1105" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-1106"><span class="MJXp-mo" id="MJXp-Span-1107" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-1108"><span class="MJXp-mrow" id="MJXp-Span-1109" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1111" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">E</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1113"><span class="MJXp-mo" id="MJXp-Span-1114" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mspace" id="MJXp-Span-1115" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1116">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1119">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">g</span><span class="MJXp-msubsup" id="MJXp-Span-1121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mo" id="MJXp-Span-1125">′</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">E</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1126" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">g</span><span class="MJXp-msubsup" id="MJXp-Span-1128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1130" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1131">g</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1132" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-1133"><span class="MJXp-mo" id="MJXp-Span-1134" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-1135"><span class="MJXp-mrow" id="MJXp-Span-1136" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1138" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">N</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36"> \ omega'_ {N} =-gk_ {g} \帽子{g} _ {E}，\; \ omega'_ {E} = gk_ {g} \帽子{g} _ {N} </script></p> 通过按照Mahoney滤波器的精神进行矢量乘法，可以以正式的方式获得完全相同的结果，但现在不是在相连的坐标系中，而是在地理坐标系中。 仅需要吗？ <br><br> 显然，在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">古老的波音公司专利中</a>出现了平台惯性导航与捷联惯性导航之间有用的类比的第一个提示。 后来，这个想法由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">萨利切夫（Salychev</a> ）积极地<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提出</a> ，最近也由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我提出</a> 。 这种方法的明显优势： <br><br><ul><li> 可以基于可理解的物理原理来形成控制角速度。 </li><li> 自然，水平通道和方向通道的属性和校正方法有很大不同，它们是分开的。 在Mahoney过滤器中，它们是混合的。 </li><li> 使用GNSS数据可以很方便地补偿加速度的影响，这些数据是在地理轴而不是在相关轴中精确发布的。 </li><li> 在需要考虑地球的形状和旋转的高精度惯性导航的情况下，很容易将算法推广。 我无法想象在Mahoney方案中如何做到这一点。 </li></ul><br>  <b>Majwick过滤器。</b>  Majwik选择了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">艰难的道路</a> 。 显然，如果Mahoney凭直觉做出决定，然后在数学上证明其合理性，那么Majwik从一开始就证明自己是形式主义者。 他承诺解决优化问题。 他这样推理。 设置旋转四元数的方向。 在理想情况下，某些测量矢量的计算方向（让我们知道 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1140"><span class="MJXp-mo" id="MJXp-Span-1141" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1142">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1148">f</span><span class="MJXp-mrow" id="MJXp-Span-1149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">g</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">-\ mathbf {g} </script>  ）与真实值一致。 然后将 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1151"><span class="MJXp-msubsup" id="MJXp-Span-1152"><span class="MJXp-mrow" id="MJXp-Span-1153" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1154">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1159">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1160">f</span><span class="MJXp-mrow" id="MJXp-Span-1161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">q</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1163" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1164">−</span><span class="MJXp-mn" id="MJXp-Span-1165">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1166">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1168">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">f</span><span class="MJXp-msubsup" id="MJXp-Span-1173"><span class="MJXp-mrow" id="MJXp-Span-1174" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1176" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179">D</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1180">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1181">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1184">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">f</span><span class="MJXp-mrow" id="MJXp-Span-1187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">q</span></span><span class="MJXp-mo" id="MJXp-Span-1189" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1190">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193">t</span><span class="MJXp-msubsup" id="MJXp-Span-1194"><span class="MJXp-mrow" id="MJXp-Span-1195" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1196">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1197">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1199">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1202">f</span><span class="MJXp-mrow" id="MJXp-Span-1203"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1205" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1208">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> {\ mathbf {q}} ^ {-1} \ mathbf {g} _ {NED} \ mathbf {q} = \ hat {\ mathbf {g}} _ {xyz} </script>  。 实际上，这并非总是可以实现的（特别是如果有两个以上的向量），但是您可以尝试使偏差最小化 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1209"><span class="MJXp-mtext" id="MJXp-Span-1210">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1214">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1216">f</span><span class="MJXp-mrow" id="MJXp-Span-1217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218">F</span></span><span class="MJXp-mo" id="MJXp-Span-1219" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1220"><span class="MJXp-mtext" id="MJXp-Span-1221">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1222">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1224">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1226">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">f</span><span class="MJXp-msubsup" id="MJXp-Span-1228"><span class="MJXp-mrow" id="MJXp-Span-1229" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">q</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1231" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1232">−</span><span class="MJXp-mn" id="MJXp-Span-1233">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1234">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1237">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1238">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">f</span><span class="MJXp-msubsup" id="MJXp-Span-1241"><span class="MJXp-mrow" id="MJXp-Span-1242" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243">g</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1244" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1246">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1247">D</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1248">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1249">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1251">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254">f</span><span class="MJXp-mrow" id="MJXp-Span-1255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256">q</span></span></span><span class="MJXp-mo" id="MJXp-Span-1257" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1258">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1260">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">t</span><span class="MJXp-msubsup" id="MJXp-Span-1262"><span class="MJXp-mrow" id="MJXp-Span-1263" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1264">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1265">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1266">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1267">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270">f</span><span class="MJXp-mrow" id="MJXp-Span-1271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1272">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1273" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1275">y</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1276">z</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> \ mathbf {F} = {\ mathbf {q} ^ {-1} \ mathbf {g} _ {NED} \ mathbf {q}}-\ hat {\ mathbf {g}} _ {xyz} </script> 从完全平等。 为此，我们引入了最小化准则 <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1277"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1278">E</span><span class="MJXp-mo" id="MJXp-Span-1279" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1280">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">c</span><span class="MJXp-mrow" id="MJXp-Span-1285"><span class="MJXp-mn" id="MJXp-Span-1286">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1287"><span class="MJXp-mn" id="MJXp-Span-1288">2</span></span><span class="MJXp-mrow" id="MJXp-Span-1289"><span class="MJXp-mo" id="MJXp-Span-1290" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">f</span><span class="MJXp-mrow" id="MJXp-Span-1298"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299">F</span></span><span class="MJXp-msubsup" id="MJXp-Span-1300"><span class="MJXp-mrow" id="MJXp-Span-1301" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-1302" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1303" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-1304">2</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1313">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1315">w</span><span class="MJXp-mtext" id="MJXp-Span-1316">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1318">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1322">m</span><span class="MJXp-mrow" id="MJXp-Span-1323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1324">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1325">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326">n</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-40"> E = \ frac {1} {2} | \ mathbf {F} | ^ {2} \ rightarrow \ mathrm {min} </script></p> 最小化需要梯度下降-在与梯度相反的方向上以小步长移动 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1327"><span class="MJXp-mtext" id="MJXp-Span-1328">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1331">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1334">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ nabla E </script>  ，即 与功能最快的增长相反 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1336">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> E </script>  。 顺便说一句，Majwik犯了一个错误：他在所有作品中都没有介绍 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1337"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1338">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> E </script> 并坚持写 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1339"><span class="MJXp-mtext" id="MJXp-Span-1340">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1341">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1343">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1345">a</span><span class="MJXp-mtext" id="MJXp-Span-1346">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1347">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1348">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1350">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1351">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">f</span><span class="MJXp-mrow" id="MJXp-Span-1353"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1354">F</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ nabla \ mathbf {F} </script> 代替 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1355"><span class="MJXp-mtext" id="MJXp-Span-1356">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1357">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1358">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1359">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1360">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1361">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1362">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> \ nabla E </script>  ，尽管实际上可以准确计算 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1363"><span class="MJXp-mtext" id="MJXp-Span-1364">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1365">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1366">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1367">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1368">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1369">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1370">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> \ nabla E </script>  。 <br><br> 结果，梯度下降导致以下条件：为了补偿方向漂移，必须从运动方程中添加一个与运动方程成比例的新负项。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1371"><span class="MJXp-mtext" id="MJXp-Span-1372">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1373">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1375">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1376">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1378">E</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> \ nabla E </script>  ： <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1379"><span class="MJXp-mtext" id="MJXp-Span-1380">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1381">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1382">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1383">t</span><span class="MJXp-mrow" id="MJXp-Span-1384"><span class="MJXp-mtext" id="MJXp-Span-1385">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1387">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1388">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1389">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1390">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1391">f</span><span class="MJXp-mrow" id="MJXp-Span-1392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1393">q</span></span></span><span class="MJXp-mo" id="MJXp-Span-1394" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1395">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1396">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1397">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1398">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1399">c</span><span class="MJXp-mrow" id="MJXp-Span-1400"><span class="MJXp-mn" id="MJXp-Span-1401">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1402"><span class="MJXp-mn" id="MJXp-Span-1403">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1404">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1405">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1406">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1408">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1409">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1410">f</span><span class="MJXp-mrow" id="MJXp-Span-1411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1412">q</span></span><span class="MJXp-mtext" id="MJXp-Span-1413">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1414">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1415">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1416">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1418">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1419">f</span><span class="MJXp-mrow" id="MJXp-Span-1420"><span class="MJXp-mtext" id="MJXp-Span-1421">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1423">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1424">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1425">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1426">a</span></span><span class="MJXp-mo" id="MJXp-Span-1427" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1428">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1429">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1430">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1431">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1432">a</span><span class="MJXp-mtext" id="MJXp-Span-1433">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1434">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1435">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1436">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437">c</span><span class="MJXp-mrow" id="MJXp-Span-1438"><span class="MJXp-mtext" id="MJXp-Span-1439">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1440">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1441">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1442">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1443">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1445">E</span></span><span class="MJXp-mrow" id="MJXp-Span-1446"><span class="MJXp-mrow" id="MJXp-Span-1447"><span class="MJXp-mo" id="MJXp-Span-1448" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1449">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1450">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1451">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1452">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1453">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1454">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1455">E</span><span class="MJXp-mrow" id="MJXp-Span-1456"><span class="MJXp-mo" id="MJXp-Span-1457" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-48"> \ dot {\ mathbf {q}} = \ frac {1} {2} \ mathbf {q} \ mathbf {\ omega}-\ beta \ frac {\ nabla E} {| \ nabla E |} </script></p> 在此，Majwik与我们的“基本原理”略有不同：他没有将校正项添加到角速度，而是添加了四元数的变化率，这并不完全相同。 结果，可能会导致更新的四元数不再是单个四元数，因此失去了表示方向的能力。 因此，对于Majwik滤镜，四元数的人工归一化是至关重要的操作，而对于其他滤镜而言，则是不可取的。 <br><br><h2> 加速的影响 </h2><br> 到现在为止，一直没有真正的加速度，加速度计只能测量重力加速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1458"><span class="MJXp-mo" id="MJXp-Span-1459" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1460">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1461">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1466">f</span><span class="MJXp-mrow" id="MJXp-Span-1467"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1468">g</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49">-\ mathbf {g} </script>  。 这使得获得垂直标准成为可能，并在其帮助下补偿侧倾和俯仰漂移。 但是，在一般情况下，加速度计无论其工作原理如何，都可以测量<i>视在加速度</i> -真实加速度和重力加速度的矢量差 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1469"><span class="MJXp-mtext" id="MJXp-Span-1470">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1471">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1472">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1474">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1476">f</span><span class="MJXp-mrow" id="MJXp-Span-1477"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1478">f</span></span><span class="MJXp-mo" id="MJXp-Span-1479" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1481">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1482">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1483">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1484">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1485">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1486">f</span><span class="MJXp-mrow" id="MJXp-Span-1487"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1488">a</span></span><span class="MJXp-mo" id="MJXp-Span-1489" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1490">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1491">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1492">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1493">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1494">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496">f</span><span class="MJXp-mrow" id="MJXp-Span-1497"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1498">g</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ mathbf {f} = \ mathbf {a}-\ mathbf {g} </script>  。 视在加速度的方向与垂直方向不一致，并且由加速度引起的误差会出现在侧倾和俯仰估计中。 <br><br> 使用虚拟陀螺仪平台的类比很容易说明。 她的校正系统的设计使平台停止在该角度位置，在该角度位置，假定安装在其上的加速度计信号被重置为零，即 当测得的向量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1499"><span class="MJXp-mtext" id="MJXp-Span-1500">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1501">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1502">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1503">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1504">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1505">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506">f</span><span class="MJXp-mrow" id="MJXp-Span-1507"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1508">f</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ mathbf {f} </script> 变得垂直于加速度计的灵敏度轴。 如果没有加速度，则该位置与地平线重合。 当发生水平加速度时，陀螺仪平台会偏转。 可以说，陀螺仪平台类似于强阻尼的摆线或铅垂线。 <br><br><img src="https://habrastorage.org/webt/eo/oq/a7/eooqa7bu1nsuk7q7mdm-ko2kcne.png" alt="图片"><br><br> 在有关Majwik过滤器的帖子评论中，出现了一个问题，即是否可以希望该过滤器比Mahoney过滤器更不容易受到加速度的影响。  las，这里描述的所有过滤器都利用相同的物理原理，因此遭受相同的问题。 用数学欺骗物理学是不可能的。 那该怎么办？ <br><br> 最简单，最困难的方法是上世纪90年代中期发明的航空陀螺垂直系统：在存在加速度或航向角速度（表示进入转弯）的情况下，将控制角速度减小或完全为零。 可以将相同的方法应用于当前平台系统。 在这种情况下，必须通过以下值来判断加速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1509"><span class="MJXp-mtext" id="MJXp-Span-1510">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1511">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1512">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1513">t</span><span class="MJXp-msubsup" id="MJXp-Span-1514"><span class="MJXp-mrow" id="MJXp-Span-1515" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1517" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">N</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1519"><span class="MJXp-mo" id="MJXp-Span-1520" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-1521">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1523">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1524">t</span><span class="MJXp-msubsup" id="MJXp-Span-1525"><span class="MJXp-mrow" id="MJXp-Span-1526" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1527">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1528" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1529">E</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> \ hat {f} _ {N}，\ hat {f} _ {E} </script> 但不是 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1530"><span class="MJXp-mtext" id="MJXp-Span-1531">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1532">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534">t</span><span class="MJXp-msubsup" id="MJXp-Span-1535"><span class="MJXp-mrow" id="MJXp-Span-1536" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1537">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1538" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1539">x</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1540"><span class="MJXp-mo" id="MJXp-Span-1541" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mtext" id="MJXp-Span-1542">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1543">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1544">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1545">t</span><span class="MJXp-msubsup" id="MJXp-Span-1546"><span class="MJXp-mrow" id="MJXp-Span-1547" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1548">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1549" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1550">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> \ hat {f} _ {x}，\ hat {f} _ {y} </script> 本身就是零。 但是大小 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1551"><span class="MJXp-mtext" id="MJXp-Span-1552" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-1553"><span class="MJXp-mo" id="MJXp-Span-1554" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-1555"><span class="MJXp-mrow" id="MJXp-Span-1556" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1557">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1558">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1559">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1560">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1561">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1562">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1563">f</span><span class="MJXp-mrow" id="MJXp-Span-1564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1565">f</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1566" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1567">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1568">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569">D</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> \帽子{\ mathbf {f}} _ {NED} </script> 由于陀螺仪平台的倾斜度必须消除，因此并非总是能够将真实加速度与重力加速度的投影区分开。 因此，该方法无法可靠地工作-但不需要任何其他传感器。 <br><br> 一种更准确的方法是基于使用GNSS接收器的外部速度测量值。 如果知道速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1570"><span class="MJXp-mtext" id="MJXp-Span-1571">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1573">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1574">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1575">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1577">f</span><span class="MJXp-mrow" id="MJXp-Span-1578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1579">v</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> \ mathbf {v} </script>  ，则可以对其进行数值微分并获得真实的加速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1580"><span class="MJXp-mtext" id="MJXp-Span-1581" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-1582"><span class="MJXp-mtext" id="MJXp-Span-1583">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1584">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1585">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1586">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1587">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1588">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1589">f</span><span class="MJXp-mrow" id="MJXp-Span-1590"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">v</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> \点{\ mathbf {v}} </script>  。 那么区别 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1592"><span class="MJXp-mtext" id="MJXp-Span-1593">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1594">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1596">t</span><span class="MJXp-msubsup" id="MJXp-Span-1597"><span class="MJXp-mrow" id="MJXp-Span-1598" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1599">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1600">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1601">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1602">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605">f</span><span class="MJXp-mrow" id="MJXp-Span-1606"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1607">f</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1608" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1609">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1610">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1611">D</span></span></span><span class="MJXp-mo" id="MJXp-Span-1612" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1613" style="color: red;">\点</span><span class="MJXp-mrow" id="MJXp-Span-1614"><span class="MJXp-mtext" id="MJXp-Span-1615">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1616">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1617">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1619">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1620">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1621">f</span><span class="MJXp-mrow" id="MJXp-Span-1622"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1623">v</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ hat {\ mathbf {f}} _ {NED}-\点{\ mathbf {v}} </script> 将完全相等 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1624"><span class="MJXp-mo" id="MJXp-Span-1625" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1626" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-1627"><span class="MJXp-mo" id="MJXp-Span-1628" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-1629"><span class="MJXp-mrow" id="MJXp-Span-1630" style="margin-right: 0.05em;"><span class="MJXp-mtext" id="MJXp-Span-1631">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1632">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1633">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1634">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1635">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1636">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637">f</span><span class="MJXp-mrow" id="MJXp-Span-1638"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1639">g</span></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1640" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1641">N</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1642">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1643">D</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58">-\帽子{\ mathbf {g}} _ {NED} </script> 不管媒体的动向。 可以用作垂直的标准。 例如，您可以以以下形式指定陀螺仪平台的控制角速度 <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1644"><span class="MJXp-mtext" id="MJXp-Span-1645">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1646">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1647">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1648">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1649">g</span><span class="MJXp-msubsup" id="MJXp-Span-1650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1651" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mo" id="MJXp-Span-1654">′</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1653">N</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1655" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1656">g</span><span class="MJXp-msubsup" id="MJXp-Span-1657"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1658" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1659" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1660">g</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1661"><span class="MJXp-mo" id="MJXp-Span-1662" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-1663">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1664">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1665">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">t</span><span class="MJXp-msubsup" id="MJXp-Span-1667"><span class="MJXp-mrow" id="MJXp-Span-1668" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1669">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1670" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1671">E</span></span></span><span class="MJXp-mo" id="MJXp-Span-1672" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1673">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1674">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1675">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1676">t</span><span class="MJXp-msubsup" id="MJXp-Span-1677"><span class="MJXp-mrow" id="MJXp-Span-1678" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1679">v</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1680" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1681">E</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1682"><span class="MJXp-mo" id="MJXp-Span-1683" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-1684"><span class="MJXp-mo" id="MJXp-Span-1685" style="margin-left: 0.278em; margin-right: 0.278em;">，</span></span><span class="MJXp-mspace" id="MJXp-Span-1686" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1687">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1688">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1689">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1690">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1691">g</span><span class="MJXp-msubsup" id="MJXp-Span-1692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1693" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mo" id="MJXp-Span-1696">′</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1694"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1695">E</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1697" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1698" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1699">g</span><span class="MJXp-msubsup" id="MJXp-Span-1700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1701" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1702" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1703">g</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1704"><span class="MJXp-mo" id="MJXp-Span-1705" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mtext" id="MJXp-Span-1706" style="color: red;">\帽</span><span class="MJXp-mrow" id="MJXp-Span-1707"><span class="MJXp-mo" id="MJXp-Span-1708" style="margin-left: 0.278em; margin-right: 0.278em;">子</span></span><span class="MJXp-msubsup" id="MJXp-Span-1709"><span class="MJXp-mrow" id="MJXp-Span-1710" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1711">f</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1712" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1713">N</span></span></span><span class="MJXp-mo" id="MJXp-Span-1714" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1715" style="color: red;">\点</span><span class="MJXp-msubsup" id="MJXp-Span-1716"><span class="MJXp-mrow" id="MJXp-Span-1717" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718">v</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1719" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1720">N</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1721"><span class="MJXp-mo" id="MJXp-Span-1722" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-59"> \ omega'_ {N} = gk_ {g}（\ hat {f} _ {E}-\ dot {v} _ {E}），\; \ omega'_ {E} =-gk_ {g}（\帽子{f} _ {N}-\点{v} _ {N}）</script></p><br><h2> 传感器零偏移 </h2><br> 消费级陀螺仪和加速度计的一个令人遗憾的功能是时间和温度零偏移的巨大不稳定性。 要消除它们，仅在工厂或实验室进行校准是不够的-您需要在操作期间进行重新评估。 <br><br>  <b>陀螺仪。</b> 我们将处理陀螺仪的零偏移 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1723"><span class="MJXp-mtext" id="MJXp-Span-1724">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1725">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1726">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1727">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1728">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1729">a</span><span class="MJXp-mrow" id="MJXp-Span-1730"><span class="MJXp-mtext" id="MJXp-Span-1731">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1732">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1733">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1734">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1736">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1737">f</span><span class="MJXp-mrow" id="MJXp-Span-1738"><span class="MJXp-mtext" id="MJXp-Span-1739">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1740">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1741">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1742">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1743">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1744">a</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> \ delta {\ mathbf {\ omega}} </script>  。 关联坐标系的估计位置偏离其真实位置的角速度由两个相反的因素确定-陀螺仪的零位移和控制角速度： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1745"><span class="MJXp-mtext" id="MJXp-Span-1746">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1747">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1748">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1749">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1750">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1751">a</span><span class="MJXp-mrow" id="MJXp-Span-1752"><span class="MJXp-mtext" id="MJXp-Span-1753">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1754">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1755">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1756">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1757">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1758">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1759">f</span><span class="MJXp-mrow" id="MJXp-Span-1760"><span class="MJXp-mtext" id="MJXp-Span-1761">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1762">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1763">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1764">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1765">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1766">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-1767" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-1768">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1769">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1770">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1771">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1773">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1774">f</span><span class="MJXp-mrow" id="MJXp-Span-1775"><span class="MJXp-mtext" id="MJXp-Span-1776">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1777">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1778">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1780">g</span><span class="MJXp-msup" id="MJXp-Span-1781"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1782" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1783" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> \ delta {\ mathbf {\ omega}}-\ mathbf {\ omega'} </script>  。 如果更正系统（例如，在Mahoney过滤器中）设法停止了出口，那么在稳定状态下它将 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1784"><span class="MJXp-mtext" id="MJXp-Span-1785">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1786">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1787">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1788">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1789">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1790">a</span><span class="MJXp-mrow" id="MJXp-Span-1791"><span class="MJXp-mtext" id="MJXp-Span-1792">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1793">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1794">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1795">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1796">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1798">f</span><span class="MJXp-mrow" id="MJXp-Span-1799"><span class="MJXp-mtext" id="MJXp-Span-1800">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1801">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1802">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1803">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1805">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-1806" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1807">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1808">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1809">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1810">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1811">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1812">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1813">f</span><span class="MJXp-mrow" id="MJXp-Span-1814"><span class="MJXp-mtext" id="MJXp-Span-1815">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1816">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1818">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1819">g</span><span class="MJXp-msup" id="MJXp-Span-1820"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1821" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1822" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> \ delta {\ mathbf {\ omega}} = \ mathbf {\ omega'} </script>  。 换句话说，在控制角速度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1823"><span class="MJXp-mtext" id="MJXp-Span-1824">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1825">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1826">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1828">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1829">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830">f</span><span class="MJXp-mrow" id="MJXp-Span-1831"><span class="MJXp-mtext" id="MJXp-Span-1832">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1833">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1834">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1835">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1836">g</span><span class="MJXp-msup" id="MJXp-Span-1837"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1838" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1839" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63"> \ mathbf {\ omega'} </script> 有关未知有效扰动的信息 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1840"><span class="MJXp-mtext" id="MJXp-Span-1841">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1842">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1843">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1844">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1845">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1846">a</span><span class="MJXp-mrow" id="MJXp-Span-1847"><span class="MJXp-mtext" id="MJXp-Span-1848">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1849">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1850">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1851">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1852">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1853">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1854">f</span><span class="MJXp-mrow" id="MJXp-Span-1855"><span class="MJXp-mtext" id="MJXp-Span-1856">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1857">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1858">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1859">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1861">a</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64"> \ delta {\ mathbf {\ omega}} </script>  。 因此，可以应用<i>补偿估计</i> ：我们不直接知道扰动的大小，但是，我们知道需要采取什么纠正措施来平衡它。 这是估算陀螺仪零位移的基础。 例如，在Mahoney中，分数会根据法律进行更新 <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1862"><span class="MJXp-mtext" id="MJXp-Span-1863">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1864">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1865">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1866">t</span><span class="MJXp-mrow" id="MJXp-Span-1867"><span class="MJXp-mtext" id="MJXp-Span-1868">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1869">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1870">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1871">t</span><span class="MJXp-mrow" id="MJXp-Span-1872"><span class="MJXp-mtext" id="MJXp-Span-1873">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1874">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1875">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1876">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1877">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1878">a</span><span class="MJXp-mtext" id="MJXp-Span-1879">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1880">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1881">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1883">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1884">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885">f</span><span class="MJXp-mrow" id="MJXp-Span-1886"><span class="MJXp-mtext" id="MJXp-Span-1887">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1888">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1889">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1890">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1891">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">a</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1893" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1894"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1895" style="margin-right: 0.05em;">k</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1896" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1897">b</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1898">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1899">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1900">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1901">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1902">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1903">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">f</span><span class="MJXp-mrow" id="MJXp-Span-1905"><span class="MJXp-mtext" id="MJXp-Span-1906">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1907">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1908">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1910">g</span><span class="MJXp-msup" id="MJXp-Span-1911"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1912" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1913" style="vertical-align: 0.5em;">′</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-65"> \ dot {\ hat {\ delta \ mathbf {\ omega}}} = k_ {b} \ mathbf {\ omega'} </script></p> 但是，结果却很奇怪：估计达到0.04 rad / s。 即使在最讨厌的陀螺仪中，零偏移的这种不稳定性也不会发生。 我怀疑问题是Mahoney不使用GNSS或其他外部传感器-并完全受到加速度的影响。 仅在不损害加速度的垂直轴上，估计值看起来或多或少是可靠的： <br><br><img src="https://habrastorage.org/webt/yd/q6/lt/ydq6ltis0yxglurb6stghnn7mny.png" alt="图片"><br>  <i>Mahony等，2008</i> <br><br>  <b>加速度计</b> 零偏移加速度传感器 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1914"><span class="MJXp-mtext" id="MJXp-Span-1915">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1916">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1917">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1918">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1919">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920">a</span><span class="MJXp-mrow" id="MJXp-Span-1921"><span class="MJXp-mtext" id="MJXp-Span-1922">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1923">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1924">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1925">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1926">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1927">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1928">f</span><span class="MJXp-mrow" id="MJXp-Span-1929"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1930">f</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> \ delta {\ mathbf {f}} </script> 更难。 必须从相同的控制角速度中提取有关它们的信息 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1931"><span class="MJXp-mtext" id="MJXp-Span-1932">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1933">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1934">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1935">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1937">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1938">f</span><span class="MJXp-mrow" id="MJXp-Span-1939"><span class="MJXp-mtext" id="MJXp-Span-1940">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1941">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1942">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1943">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1944">g</span><span class="MJXp-msup" id="MJXp-Span-1945"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1946" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1947" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67"> \ mathbf {\ omega'} </script>  。 但是，在直线运动中，加速度计零位移的影响与支架的倾斜度或传感器块在其上的安装歪斜没有区别。 没有添加剂 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1948"><span class="MJXp-mtext" id="MJXp-Span-1949">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1950">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1951">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1952">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1953">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1954">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1955">f</span><span class="MJXp-mrow" id="MJXp-Span-1956"><span class="MJXp-mtext" id="MJXp-Span-1957">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1959">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1960">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1961">g</span><span class="MJXp-msup" id="MJXp-Span-1962"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1963" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1964" style="vertical-align: 0.5em;">′</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68"> \ mathbf {\ omega'} </script> 加速度计不会创建。 添加剂仅转一圈出现，这使我们能够分离并独立地评估陀螺仪和加速度计的误差。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我的文章</a>中提供了一个有关如何完成此操作的示例。 这是那里的照片： <br><br><img src="https://habrastorage.org/webt/ym/wj/uw/ymwjuw7lhwbgxy8hiry4n4xtiec.png" alt="图片"><br><br><h2> 而不是得出结论：卡尔曼滤波器如何？ </h2><br> 我毫不怀疑，这里描述的过滤器在速度，代码紧凑性和易于设置方面几乎总是比传统的Kalman过滤器具有优势-为此，它们是创建的。 至于评估的准确性，这里还不是很清楚。 我遇到了设计不成功的卡尔曼滤波器，其精度明显不及带有虚拟陀螺仪平台的滤波器。  Majwik还证明了相对于<i>一些</i> Kalman估计，他的滤波器的好处。 但是，对于相同的方位估计任务，您可以至少构建十二个不同的卡尔曼滤波器电路，每个电路都有无数的设置。 我没有理由认为Mahoney或Majwik滤波器会比<i>可能</i>的<i>最佳</i> Kalman滤波器更准确。 当然，卡尔曼方法将始终具有通用性的优点：它不会对评估系统的特定动态特性施加任何严格的限制。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438060/">https://habr.com/ru/post/zh-CN438060/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438028/index.html">您不需要区块链：8个流行的用户案例以及它们为什么不起作用</a></li>
<li><a href="../zh-CN438034/index.html">Android，Rx和Kotlin，或如何使乐高爪缩小。 第一部分</a></li>
<li><a href="../zh-CN438046/index.html">如何快速在Spark上对百万点进行地理编码？</a></li>
<li><a href="../zh-CN438052/index.html">交互器，操作模式</a></li>
<li><a href="../zh-CN438058/index.html">“ Python中的数据分析”分为两部分</a></li>
<li><a href="../zh-CN438062/index.html">我的地址不是房屋或街道，我的地址是苏联？</a></li>
<li><a href="../zh-CN438064/index.html">清单：在产品中启动微服务之前必须做什么</a></li>
<li><a href="../zh-CN438066/index.html">您从未听说过的10个英语教育YouTube频道</a></li>
<li><a href="../zh-CN438070/index.html">Y世代如何变成倦怠的世代？</a></li>
<li><a href="../zh-CN438074/index.html">[关于叶卡捷琳堡，新西伯利亚，圣彼得堡的公告] QAutomation测试会议：我们将通过测试涵盖从Neva到Ob的所有内容</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>