<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔳 🌬️ 👼🏾 HTTPS DNS - Solution à moitié et incorrecte 🥁 💃🏾 🌋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout au long de l'existence d'Internet, l'ouverture a été l'une de ses caractéristiques déterminantes, et la plupart du trafic actuel est toujours tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HTTPS DNS - Solution à moitié et incorrecte</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473756/"><img src="https://habrastorage.org/getpro/habr/post_images/7d6/203/a53/7d6203a5324d08022ed45f39179a429b.png"><br><br>  Tout au long de l'existence d'Internet, l'ouverture a été l'une de ses caractéristiques déterminantes, et la plupart du trafic actuel est toujours transmis sans aucun cryptage.  La plupart des demandes de pages HTML et de contenu connexe sont effectuées en texte brut et les réponses sont renvoyées de la même manière, malgré le fait que le protocole HTTPS existe depuis 1994. <br><br>  Cependant, il existe parfois un besoin de sécurité et / ou de confidentialité.  Bien que le cryptage du trafic Internet soit répandu dans des domaines tels que les services bancaires en ligne et les achats, le problème du maintien de la confidentialité dans de nombreux protocoles Internet n'a pas été résolu aussi rapidement.  En particulier, lorsque vous interrogez l'adresse IP d'un site pour un hôte, une requête DNS est presque toujours transmise en texte clair, ce qui permet à tous les ordinateurs et fournisseurs de déterminer le site que vous visitez, même si vous utilisez HTTPS après avoir établi une connexion. <br><a name="habracut"></a><br>  L'idée que le chiffrement est également nécessaire pour les requêtes DNS n'est pas nouvelle, et les premières tentatives ont été faites dans les années 2000 - DNSCrypt, DNS sur TLS (DoT), etc.  Mozilla, Google et d'autres grandes sociétés Internet font la promotion d'une nouvelle méthode de chiffrement des requêtes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DNS</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DNS sur HTTPS</a> (DoH). <br><br>  Le DoH non seulement crypte la requête DNS, mais la transfère également au serveur Web «normal», et non au serveur DNS, ce qui rend le trafic DNS impossible à distinguer du HTTPS normal.  Cette pièce a deux faces.  Cette procédure protège la requête DNS elle-même, comme DNSCrypt ou DoT, et empêche également les gars des services de sécurité des grandes entreprises de suivre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'usurpation DNS</a> et transfère la responsabilité des fonctions réseau critiques du système d'exploitation à l'application.  Et cela n'aide en rien à cacher l'adresse IP du site Web que vous venez de demander - après tout, vous y allez quand même. <br><br>  Par rapport à DoT, DoH centralise les informations sur les sites que vous avez visités dans plusieurs entreprises: aujourd'hui c'est Cloudflare, qui promet de se débarrasser de vos données en 24 heures, et Google, qui entend sauvegarder et monétiser tous les détails de tout ce que vous avez prévu de faire. <br><br>  Le DNS et la confidentialité sont des sujets importants, alors approfondissons les détails. <br><br><h2>  Serveur DNS et confiance </h2><br>  Le concept d'un système de noms de domaine remonte à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ARPANET</a> , lorsque le seul fichier texte sur chaque nœud ARPANET - sous le nom HOSTS.TXT - contenait toute la correspondance entre les noms des systèmes connectés à ARPANET et leurs adresses numériques.  Lorsque vous avez reconstitué ce fichier vous-même, il était facile de vérifier qu'il était correct.  Avec la croissance du réseau, il est devenu irréaliste de conserver des copies centrales et locales de ces fichiers.  Au début des années 80, des tentatives avaient déjà commencé pour créer un système d'automatisation pour ce processus. <br><br>  Le premier serveur de noms (Berkeley Internet Name Domain Server ou BIND) a été écrit en 1984 par un groupe d'étudiants de l'Université de Californie à Berkeley, sur la base des RFC 882 et RFC 883. En 1987, la norme DNS a été révisée plusieurs fois, conduisant à l'avènement des RFC 1034 et RFC 1035 qui depuis lors, dans l'ensemble, n'ont pas changé. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/beb/598/038/beb5980380a12a3eb9c2736e83bf9b1a.png"><br><br>  La base de la structure DNS est sa structure arborescente, où les nœuds et les feuilles sont divisés en zones.  La zone racine DNS est le niveau supérieur, composé de treize groupes de serveurs racine qui forment les serveurs DNS racine officiels.  Tout nouveau serveur DNS (créé par un fournisseur ou une entreprise) reçoit des enregistrements DNS d'au moins un de ces serveurs principaux. <br><br>  Chaque zone DNS suivante ajoute un autre domaine au système de noms.  En règle générale, chaque pays gère ses propres domaines et les domaines .org ou .com qui ne sont pas associés à des pays sont desservis séparément.  Une requête pour un nom d'hôte via DNS commence par un nom de domaine (par exemple, .com), puis par un nom (par exemple, google), suivi de sous-domaines possibles.  Si les données n'ont pas encore été mises en cache, vous devrez peut-être effectuer plusieurs transitions via les zones DNS pour résoudre la demande. <br><br><h2>  DNSSEC: ajouter de la confiance au système DNS </h2><br>  Avant de procéder au chiffrement des requêtes DNS, vous devez vous assurer que nous pouvons faire confiance au serveur DNS.  Ce besoin est devenu apparent dans les années 1990 et a conduit aux premières extensions opérationnelles de la norme de sécurité DNS (DNSSEC), de la RFC 2353 et de la RFC 4033 révisée (DNSSEC-bis). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/145/ce5/eab/145ce5eab809d2786155dd6bcec6751e.png"><br>  <i>Carte Internet 2006</i> <br><br>  DNSSEC fonctionne en signant les enregistrements de requête DNS avec une clé publique.  L'authenticité de l'enregistrement DNS peut être confirmée par les clés publiques de la zone racine DNS, qui est un tiers de confiance dans ce scénario.  Les propriétaires de domaine génèrent leurs clés, signées par les opérateurs de zone et ajoutées au DNS. <br><br>  Bien que DNSSEC vous permette d'être relativement sûr que les réponses du serveur DNS sont réelles, ce protocole doit être inclus dans le système d'exploitation.  Malheureusement, peu de systèmes d'exploitation mettent en œuvre un service DNS qui peut faire plus que simplement «connaître DNSSEC», c'est-à-dire qu'ils ne confirment pas réellement les réponses DNS.  Donc, aujourd'hui, vous ne pouvez pas être sûr que les réponses que vous recevez du DNS sont réelles. <br><br><h2>  Problème avec DoH </h2><br>  Supposons que vous utilisez DNSSEC.  Vous êtes prêt à crypter les messages pour ajouter de la confidentialité à votre transfert de données.  Il peut y avoir de nombreuses raisons de garder les requêtes DNS secrètes des regards indiscrets.  Parmi les plus innocents, il faut contourner les filtres de l'entreprise et des fournisseurs, interdire la surveillance des habitudes Internet, et plus encore.  Parmi les plus graves, il y a les tentatives d'éviter la persécution par le gouvernement pour avoir exprimé des opinions politiques sur Internet.  Naturellement, le chiffrement des requêtes DNS ne permet pas aux utilisateurs d'espionner ces requêtes, mais en conséquence, des problèmes plus importants avec la sécurité du DNS et, bien sûr, tous les autres protocoles de communication sont ignorés. <br><br>  Les principaux concurrents ici sont DoT utilisant TLS et DoH utilisant HTTPS.  La différence la plus évidente entre les deux est le port: DoT s'exécute sur un port TCP dédié 853, et DoH se mélange avec d'autres trafics HTTPS sur le port 443. Cela donne l'avantage controversé de rendre les requêtes DNS indiscernables des autres trafics, ce qui rend impossible pour les opérateurs de réseau (privés et entreprises) ) sécurisez votre propre réseau, comme l'a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">annoncé</a> l'année dernière Paul Vixie, l'un des architectes DNS. <br><br>  La deuxième des principales différences est que si DoT envoie simplement des requêtes DNS sur TLS, alors DoH est essentiellement DNS sur HTTP-sur TLS, nécessite sa propre application Type de média / message DNS et rend les choses beaucoup plus compliquées.  Le mélange de DoH avec les protocoles existants fait que chaque requête et réponse DNS passe par la pile HTTPS.  C'est un cauchemar pour les applications embarquées et est également incompatible avec presque tous les types d'équipements existants. <br><br>  DoT a un autre avantage - ce protocole a déjà été mis en œuvre, et bien plus longtemps que DoH existe, il est utilisé par des sociétés telles que Cloudflare, Google, ainsi que des fournisseurs Internet locaux;  Le logiciel serveur standard comme BIND utilise DoT dès la sortie de la boîte.  Sur Android Pie OS (version 9), DNS sur TLS sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">utilisé par défaut</a> si le serveur DNS sélectionné prend en charge DoT. <br><br>  Pourquoi passer au DoH si DoT est déjà en cours de déploiement?  Si des applications non standard telles que Firefox contournent le système DNS basé sur DoT et utilisent leur propre système de récupération de nom de domaine via DoH, cette situation deviendra très difficile d'un point de vue de sécurité.  Le transfert de DNS vers des applications individuelles, qui se produit actuellement, semble être un pas en arrière.  Connaissez-vous la méthode DNS utilisée par chaque application?  Savez-vous qu'il mélange ce processus avec le trafic TCP sur le port 443? <br><br><h2>  Le chiffrement n'interfère pas avec l'espionnage </h2><br>  Deux grandes entreprises, Cloudflare et Mozilla, représentent DNS sur HTTPS, et ce dernier a même publié une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://hacks.mozilla.org/2018/05/a-cartoon-intro-to-dns-over-">jolie petite bande dessinée</a> , où il essaie d'expliquer le schéma DoH.  Sans surprise, ils ne mentionnent pas du tout DNSSEC (même s'il est appelé «critique» dans la RFC 8484), et proposent plutôt quelque chose appelé Trusted Recursive Resolver (TRR), qui représente essentiellement les conseils «utiliser de confiance Serveur DNS »par lequel Mozilla signifie Cloudflare. <br><br>  En plus de DoH, ils mentionnent la norme de minimisation QNAME ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RFC 7816</a> ), qui devrait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">réduire la quantité d'informations non critiques</a> envoyées par le serveur DNS.  Dans le même temps, cette norme ne dépend en aucune façon du DoH et fonctionnera sans aucun cryptage DNS.  Comme avec DNSSEC, la sécurité et la confidentialité sont améliorées grâce à l'évolution de la norme DNS. <br><br>  Le plus intéressant est contenu dans la section «Qu'est-ce que TRR + DoH ne corrige pas»?  Comme l'ont dit de nombreux experts, le chiffrement DNS n'empêche pas l'espionnage.  Toute demande ultérieure à l'adresse IP qui a été reçue d'une manière terriblement secrète sera toujours clairement visible.  Ils sauront tout de même que vous avez visité Facebook.com ou le site des dissidents.  Aucun cryptage du DNS ou du trafic Internet ne masquera des informations vitales pour le fonctionnement d'un réseau tel qu'Internet. <br><br><h2>  Le futur Internet deviendra-t-il un point de défaillance unique? </h2><br>  Mozilla propose de traiter le problème de l'espionnage IP simplement en déclarant que ce n'est pas un problème grâce à l'utilisation du Cloud.  Plus de sites Web et de réseaux de distribution de contenu (CDN) s'accrochent à un petit nombre de services (Cloudflare, Azure, AWS, etc.), moins cette adresse IP unique signifie - il vous suffit de croire que celle choisie votre service cloud ne volera pas vos données et ne tombera pas pendant une journée. <br><br>  Cette année, le 24 juin, il y a eu une baisse massive des services, lorsqu'une erreur de configuration faite par le fournisseur Verizon a rendu Cloudflare, Amazon, Linode et bien d'autres indisponibles pendant la majeure partie de la journée.  Le 2 juillet de cette année <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, Cloudflare est tombé</a> pendant environ une demi-heure, et avec lui de nombreux sites Web qui dépendent de ses services. <br><br>  Par coïncidence, le service cloud Office365 de Microsoft a également duré plusieurs heures ce jour-là, c'est pourquoi de nombreux utilisateurs n'ont pas pu utiliser ses services.  Le week-end avant la fête du Travail [Fête nationale américaine célébrée le premier lundi de septembre / env.  trans.] une panne de courant dans le centre de données AWS US-East-1 a conduit à un téraoctet de données client stockées dans celui-ci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recouvert d'un bassin en cuivre</a> .  De toute évidence, il existe encore certains inconvénients à l'idée des avantages de la centralisation d'Internet. <br><br><h2>  De vieilles chansons d'une manière nouvelle </h2><br>  Étonnamment, il n'y a aucune mention de réseaux privés virtuels (VPN) dans cette discussion sur la confidentialité et le suivi.  Ils résolvent les problèmes de cryptage des données et des requêtes DNS, en masquant l'adresse IP et plus encore, simplement en déplaçant le point auquel votre PC ou autre appareil connecté à Internet se connecte à Internet.  Les dissidents au sein des régimes autoritaires utilisent les VPN depuis des décennies pour contourner la censure sur Internet;  Les VPN, y compris des fonctionnalités spéciales comme Tor, sont un élément essentiel de la liberté d'Internet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe8/8f2/fa3/fe88f2fa3bbaceddafca0314218123ad.png"><br>  <i>Comment fonctionne Tor</i> <br><br>  Si vous faites confiance à une grande entreprise commerciale comme Cloudflare dans un système comme DoH, il sera facile de trouver un fournisseur VPN de confiance qui ne stocke ni ne vend vos données.  Et le navigateur Opera a généralement un support proxy gratuit et intégré, qui offre de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreux avantages VPN</a> . <br><br>  Au final, on peut dire que le DoH confirme son acronyme, faisant mal que le DoT se porte déjà bien [«Doh!»  - une exclamation indiquant la stupidité d'une action parfaite, surtout la sienne / env.  trad.].  Nous devons nous concentrer davantage sur l'implémentation omniprésente de DNSSEC, avec DoT et la minimisation de QNAME.  Et si vous vous souciez d'une réelle confidentialité, vous devez vous tourner vers un VPN. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473756/">https://habr.com/ru/post/fr473756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473740/index.html">CreateRemoteThread pour Linux</a></li>
<li><a href="../fr473742/index.html">Imprimantes d'ingénierie Epson pour CAO et SIG et quelques mots sur la "conception robuste"</a></li>
<li><a href="../fr473748/index.html">Courbe de Bézier au service des économistes du travail</a></li>
<li><a href="../fr473750/index.html">Stereopi + WebRTC = téléprésence à domicile</a></li>
<li><a href="../fr473752/index.html">Quel est le problème avec la copie sur écriture pour Linux lors de la copie</a></li>
<li><a href="../fr473760/index.html">Psss, vous voulez de terribles histoires informatiques?</a></li>
<li><a href="../fr473762/index.html">Le travail n'est pas un loup, partie 1. Recherche d'emploi: 9 tours HR-a</a></li>
<li><a href="../fr473764/index.html">Parcel est mon constructeur de projet préféré</a></li>
<li><a href="../fr473766/index.html">Analyse statique de gros volumes de code Python: expérience Instagram. Partie 1</a></li>
<li><a href="../fr473768/index.html">Top 5 des livres pour ceux qui veulent améliorer leurs compétences</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>