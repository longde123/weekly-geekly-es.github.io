<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßôüèæ üë®üèº‚Äçüéì ‚ñ∂Ô∏è Schnell und w√ºtend: Forza Horizon 4 beschleunigt mit Fenstershadern üë®üèæ‚Äç‚úàÔ∏è üïù üßìüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gareth Harwood - Technischer Art Director, Spielplatzspiele 

 Die Aktion von Forza Horizon 4 findet im wundersch√∂nen Gro√übritannien statt, gef√ºllt mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schnell und w√ºtend: Forza Horizon 4 beschleunigt mit Fenstershadern</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433164/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33d/7eb/d63/33d7ebd6329f3c8d50c3f25d84501c06.jpg" alt="Bild"></div><br>  <em><strong>Gareth Harwood - Technischer Art Director, Spielplatzspiele</strong></em> <br><br>  Die Aktion von <em>Forza Horizon 4</em> findet im wundersch√∂nen Gro√übritannien statt, gef√ºllt mit sofort erkennbaren Orten und Attraktionen, einschlie√ülich des Modells der Stadt Edinburgh in der Version von Playground Games. <br><br>  Bei den meisten Open-World-Spielen muss der Geschwindigkeit des Daten-Streamings besondere Aufmerksamkeit gewidmet werden, und <em>Forza Horizon 4</em> mit seiner detaillierten und farbenfrohen Stadt war keine Ausnahme.  Um Geb√§ude in Edinburgh zu zeichnen, waren neue Funktionen f√ºr die Montage von Ressourcen, das Rendern sowie eine funktionierende Engine erforderlich, mit der Modelle geladen werden konnten, wenn sie sich mit einer Geschwindigkeit von 300 Meilen pro Stunde bewegten. <br><a name="habracut"></a><br><h1>  Modulare L√∂sung zur Reduzierung der Speicherlast </h1><br>  Geb√§ude wurden nach Referenzen aus der realen Welt erstellt.  Dazu war es notwendig, viele H√§user zu fotografieren und zu bauen, aber wir k√∂nnen eine begrenzte Anzahl von Geb√§uden auf der Festplatte erstellen und physisch speichern.  Um diese Einschr√§nkung zu bew√§ltigen und gleichzeitig die Variabilit√§t beizubehalten, haben <strong>wir einen austauschbaren modularen Satz von Objekten erstellt, die Geb√§uden hinzugef√ºgt werden</strong> .  Dazu geh√∂ren Objekte wie Fensterrahmen, Veranden, Antennen und Einbruchalarme.  Wir haben auch die M√∂glichkeit bereitgestellt, die Farben und Schattierungen von Teilen dieser Objekte zu √§ndern.  Ein solches System war ideal geeignet, um eine Reihe von H√§usern mit Terrassen zu schaffen, von denen jedes eine T√ºr seiner eigenen Farbe hat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d2/bcb/fc0/9d2bcbfc023261b85c8a76d53c48f8b5.jpg"></div><br>  In Edinburgh mussten wir auf relativ kleinem Raum eine gro√üe Anzahl von Geb√§uden schaffen.  Durch das Herunterladen dieser Geb√§ude f√ºr einen kleinen Teil unserer offenen Welt wurde der Speicherbedarf erheblich erh√∂ht.  Um dies zu bew√§ltigen, haben wir Geb√§ude aus Modulen gebaut, die aus den Bibliotheken der ersten Stockwerke, oberen Stockwerke und D√§cher stammen und auf verschiedene Weise miteinander verbunden werden k√∂nnen, um Variabilit√§t und ein interessantes Bild bei geringem Speicherbedarf zu erhalten. <br><br>  Dies erm√∂glichte es uns au√üerdem, die Komplexit√§t der Modelle n√§her an die ersten Stockwerke zu verlagern.  Die Fenster, an denen der Spieler vorbeikommt, sind detaillierter als D√§cher, die nur in einiger Entfernung sichtbar sind.  Einzigartige Geb√§ude wie das Scottish Monument und die National Gallery in Kombination mit modularen Geb√§uden <strong>reduzieren die Monotonie des Bildes und maximieren gleichzeitig die Wiederverwendung von Ressourcen und die Variabilit√§t</strong> . <br><br><h1>  Implementieren Sie Parallaxentexturen </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/710/9b0/506/7109b05063cf8eeff856b8b8e2fff196.jpg"></div><br>  Realistische Welten waren schon immer ein starkes Merkmal von <em>Forza Horizon-</em> Spielen, und eine M√∂glichkeit, sie zu erstellen, bestand darin, Geb√§uden Innenr√§ume hinzuzuf√ºgen. <br><br>  Wir wussten, dass Edinburgh in <em>Forza Horizon 4</em> so dicht und detailliert aufgebaut sein w√ºrde, dass physisch modellierte Innenr√§ume unn√∂tigen Stress verursachen w√ºrden.  Aus diesem Grund haben wir uns f√ºr eine andere Technik entschieden, die als ‚ÄûParallaxentexturen‚Äú bezeichnet wird.  <strong>Sie gaben uns einen gro√üen Vorteil bei der Schaffung von Innenr√§umen.</strong>  <strong>Wenn sie in einer Textur gebacken werden, sind sie nicht durch die Anzahl der Polygone und die Komplexit√§t der Materialien begrenzt</strong> .  Das Rendern solcher Texturen ist kosteng√ºnstiger als das Erstellen von Geometrie, sodass das Spiel mehr Interieurs enthalten kann.  Fr√ºher war es notwendig, die Fenster mit Vorh√§ngen abzudecken oder zu beschatten, jetzt haben wir ein vollst√§ndig parallaxes Interieur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/05f/5ef/02905f5ef40802b0ebaf3e722d186834.jpg"></div><br>  Die Materialien der Parallaxen-Innenr√§ume bestehen aus drei Schichten, von denen jede von den K√ºnstlern f√ºr jedes Fenster einzeln ausgew√§hlt wird.  Da jede Ebene mehrere verschiedene Variationen aufweist, erzeugen sie Hunderte von m√∂glichen Erscheinungsbildern f√ºr jedes Fenster, selbst wenn eine kleine Anzahl von Texturatlanten verwendet wird. <br><br>  Die erste Schicht ist einfach, sie enth√§lt nur einen Fensterrahmen und Glas.  Er f√ºgt Nuancen wie Glasmalerei und Bleiglas hinzu, die f√ºr die alte britische Architektur charakteristisch sind.  Diese Schicht hat diffuse, Alpha, Rauheit, Metallit√§t und normalen Durchgang.  Der normale Durchgang enth√§lt eine Variation jedes Buntglasfensters, um eine realistische Variabilit√§t der Reflexionswinkel von Glas hinzuzuf√ºgen, was insbesondere bei alten Buntglasfenstern bemerkbar ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35d/0dd/fd8/35d0ddfd863eebaad7e5d2a279750a52.jpg"></div><br>  Die zweite Schicht wird f√ºr Vorh√§nge oder Vorh√§nge verwendet.  Sie haben diffuse und Alpha-Werte sowie eine lichtdurchl√§ssige Textur, die nachts verwendet wird, um die Dicke der Vorh√§nge anzuzeigen.  Wir haben dichte Vorh√§nge, die kein Licht zulassen, durchscheinende Vorh√§nge und sogar Vorh√§nge mit Dekorationen, die wir aus √ñffnungen geschaffen haben, die teilweise Licht durchlassen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/162/91c/fde/16291cfde7ef2bc0842a9e4d084f2c4a.jpg"></div><br>  In der letzten Ebene wird die gesamte Shader-Magie erzeugt - sie besteht aus einer flachen Textur, die ein dreidimensionales Interieur nachahmt.  Die Innenr√§ume werden zuerst in 3D im gleichen Ma√üstab modelliert und dann in ein einzigartiges Texturformat gerendert, das von unseren Parallaxen-Innen-Shadern unterst√ºtzt wird.  Wie in allen anderen Ebenen erstellen wir in dieser Ebene Atlanten mit bis zu acht verschiedenen Innenr√§umen desselben Stils, um die Anzahl der Zeichnungsaufrufe zu verringern. <br><br>  Wir haben mehrere Dorfatlanten, die auf Dorfh√§usern gerendert sind, Atlanten f√ºr Stadth√§user sowie mehrere Atlanten von Gewerbebetrieben, die Gesch√§fte, Restaurants und klassische britische Pubs √ºberlappen.  Wir haben auch zwei Haupttiefen der Innenr√§ume.  Einer f√ºr Standardr√§ume, der andere f√ºr flache Vitrinen.  K√ºnstler k√∂nnen ausw√§hlen, welchen Teil des Atlas sie f√ºr jedes Fenster des Geb√§udes verwenden m√∂chten, und dann die Materialien anhand der Eigenschaften des polygonalen Modells jedes Fensters angeben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f22/9d5/380/f229d53800397bbb5c05f54ba5078ef5.jpg"></div><br>  <strong>Der Shader berechnet den Winkel, in dem der Spieler in den Raum schaut, und √§ndert die UV-Koordinaten so, dass er nur den Teil des Innenraums sieht, der in diesem Winkel sichtbar w√§re.</strong>  Diese Technik weist mehrere Einschr√§nkungen auf, mit denen wir uns befasst haben. <br><br>  Erstens macht sich der Shader-Trick in sehr scharfen Ecken bemerkbar.  In solchen Grenzf√§llen haben wir den nat√ºrlichen Fresnel-Effekt von Glas verbessert, um ein st√§rker reflektiertes Bild als das Innere zu zeigen.  Zweitens beginnen sich die Details in der Mitte des Raums mit zunehmenden Winkeln zu verzerren.  Wir haben diesen Effekt reduziert, indem wir den Schwerpunkt auf die W√§nde und Ecken verlagert und den Boden abgedunkelt haben.  Wie im wirklichen Leben k√∂nnen Sie mit dem Parallaxeeffekt Linien kombinieren, die in einen Brennpunkt fallen.  In unseren Bildern haben wir dies genutzt und so viele parallele Linien wie m√∂glich verwendet: in Fliesen, B√ºcherregalen, Holzb√∂den und Tapetenmustern. <br><br>  Jede Innentextur hat auch eine Beleuchtungstextur f√ºr Abendlicht.  Aufgrund der Vorteile des Texturbackens k√∂nnen wir eine beliebige Anzahl von Lichtquellen verwenden, da sich alle als in der Textur aufgezeichnet herausstellen.  Jedes Geb√§ude hat Variationen mit Ein- und Ausschalten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33d/7eb/d63/33d7ebd6329f3c8d50c3f25d84501c06.jpg"></div><br>  Die K√ºnstler konnten eine beliebige Kombination von Fenstertypen, Vorh√§ngen und Innenr√§umen w√§hlen, folgten jedoch einfachen Regeln: Die Schlafzimmer befinden sich normalerweise in den oberen Etagen, Sie k√∂nnen nicht in jedem Fenster die gleichen R√§ume verwenden, und in den oberen Etagen k√∂nnen keine Treppen nach oben f√ºhren.  Wir haben auch untersucht, wie √ºberzeugend jedes Zimmer ist.  Zum Beispiel k√∂nnten wir kein kleines H√§uschen mit zwei Schlafzimmern haben, in dem zehn oder mehr Fenster zu verschiedenen R√§umen f√ºhren. Deshalb haben die K√ºnstler die Fenster so gestaltet, dass sie wie verschiedene Teile desselben Raums aussehen. <br><br>  Um die Leistung beim Entfernen des Players vom Geb√§ude zu verbessern, mussten wir nicht nur die Komplexit√§t des Netzes, sondern auch die Komplexit√§t der Shader und Materialien reduzieren.  Zu diesem Zweck haben wir den Parallaxeeffekt deaktiviert und das Fenster durch ein flaches Bild ersetzt, das in einer Ebene ein Fenster, Vorh√§nge und ein Interieur enth√§lt.  Das Ersetzen erfolgt, wenn das Fenster wenig Platz auf dem Bildschirm einnimmt und f√ºr den Player unsichtbar ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e10/1e3/58b/e101e358be34bbcb93d21fcbc2fc96d5.jpg"></div><br>  Unabh√§ngig davon, ob Sie in Ihrem Oldtimer-Roadster gem√§chlich durch Edinburgh fahren, jedes Schaufenster untersuchen oder mit einer Geschwindigkeit von 300 Meilen pro Stunde in einem Supersportwagen f√ºr eine Million Pfund <em>rasen</em> , schafft <em>Forza Horizon 4</em> eine sch√∂ne, realistische und interessante Umgebung.  Jede Technologie, Rendering-Methode, jeder Shader und jede Textur arbeiten harmonisch zusammen und bilden einen der technisch komplexesten Teile der <em>Forza Horizon 4-</em> Karte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8cc/3ca/a08/8cc3caa080fa7f58fa6507c8a3fc2457.jpg"></div><br><br>  <i>Von einem √úbersetzer: Zur besseren √úbersichtlichkeit habe ich ein Video gefunden, das die Innenr√§ume des Spiels demonstriert.</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/J77tEV369G4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433164/">https://habr.com/ru/post/de433164/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433146/index.html">[Wettbewerb] Top 25 Spielekonsolen (alte Zeiten ersch√ºttern)</a></li>
<li><a href="../de433152/index.html">Wir √ºbertragen Zimbra von einer Einzelserver- auf eine Multiserverinfrastruktur</a></li>
<li><a href="../de433154/index.html">5G NR Benutzererfahrung in der realen Welt erwartet</a></li>
<li><a href="../de433156/index.html">Dell geht an die B√∂rse und strebt die Hybrid Cloud an</a></li>
<li><a href="../de433158/index.html">Musikalische Parodien von SUSE √ºber Kubernetes, Linus Torvalds und andere</a></li>
<li><a href="../de433168/index.html">Warum hat ein Programmierer ein Praktikum in der K√ºche - ein Gespr√§ch mit Dodo Pizza √ºber gemba, .NET und Offenheit</a></li>
<li><a href="../de433170/index.html">Wie wir die Architektur des Unternehmens nicht wiederholen konnten</a></li>
<li><a href="../de433172/index.html">Wir verbinden den Multiplayer mit dem in C ++ geschriebenen Handyspiel "Machen Sie W√∂rter aus W√∂rtern" auf iOS und Android</a></li>
<li><a href="../de433174/index.html">Nicht alle Patches sind gleicherma√üen n√ºtzlich.</a></li>
<li><a href="../de433176/index.html">Docker Remote-API f√ºr Zertifikatauthentifizierung mit Sperr√ºberpr√ºfung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>