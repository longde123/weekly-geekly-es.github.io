<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥝 🕜 😚 El autor del proyecto rePalm reescribió Palm OS desde cero y planea convertirlo en una plataforma de reloj inteligente 🤯 🔝 👋🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Y, aparentemente, los relojes en Palm OS encontrarán a su comprador: 





 Palm OS es un sistema operativo para computadoras de mano, que estuvo en l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El autor del proyecto rePalm reescribió Palm OS desde cero y planea convertirlo en una plataforma de reloj inteligente</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452692/"><p>  Y, aparentemente, los relojes en Palm OS encontrarán a su comprador: </p><br><p><img src="https://habrastorage.org/webt/c2/xx/aj/c2xxajvrt_rz12zxopisdcckr8s.png" alt="imagen"></p><a name="habracut"></a><br><p>  Palm OS es un sistema operativo para computadoras de mano, que estuvo en la cima de la popularidad desde 1998 hasta la primera mitad de la década de 2000.  Es muy simple y no requiere recursos, consume energía de la batería con cuidado y está especialmente diseñado para su uso en computadoras de mano.  Pero en 2004-2005, los dispositivos Palm OS dieron paso a los dispositivos con Windows Mobile: </p><br><p><img src="https://habrastorage.org/webt/il/fa/2y/ilfa2y9j6ihdigdcum8yvbabrdu.png" alt="imagen"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20140122150728/">(fuente)</a> </p><br><p>  Esto sucedió por varias razones, en parte debido a errores de administración y en parte debido a las peculiaridades del sistema operativo en sí mismo: en 2004 Palm OS arrastró una larga cola de compatibilidad hacia atrás, lo que impidió que se desarrollara y avanzara.  Lo que valió la pena, por ejemplo, fue la falta de protección de la memoria: un error en la aplicación podría provocar un congelamiento o bloqueo de todo el sistema operativo, como en los días de Windows 9x o Mac OS 9. O la implementación del sistema de archivos: los archivos se almacenaban como registros en la base de datos y el tamaño de un registro No podría exceder los 64 kilobytes.  Probablemente, en 1996 esta fue una buena solución, pero dicho sistema de almacenamiento de datos no se adaptó para grandes archivos multimedia y tarjetas de memoria que aparecieron más tarde. </p><br><p>  Bueno, no puede ignorar el cambio de arquitectura en Palm OS 5.0 de Motorola 68k a ARM.  Luego, para compatibilidad con aplicaciones más antiguas, se agregó un traductor binario al sistema operativo, que transcodificó las instrucciones de M68k a ARM sobre la marcha.  En principio, incluso con esa capa, las aplicaciones antiguas funcionaban en procesadores nuevos no peor que en su 68K nativo, ya que las llamadas al sistema Palm OS se hicieron de forma nativa en ARM, y la pérdida de rendimiento de la transmisión se compensó con un aumento de varias veces en la frecuencia de los nuevos procesadores en comparación con Motorola Dragonball.  El verdadero problema era que los desarrolladores no obtuvieron las herramientas para crear aplicaciones ARM nativas.  El código para Palm OS 5 todavía se compiló para 68k, e incluso las aplicaciones estándar funcionaron a través de la capa de traductor. </p><br><p>  Sin embargo, a pesar de las muchas características arquitectónicas de Palm OS, sus puntos fuertes no han dejado de ser puntos fuertes.  Sigue siendo un sistema simple, de bajo nivel y bajo recurso.  En 2015, utilicé el Palm Pilot con un procesador de 16 MHz como planificador diario, ¡y estaba completamente cómodo!  Además, muchos amaban este sistema precisamente por simplicidad, y muchos tenían suficientes aplicaciones básicas.  Lectores, jugadores, diarios y planificadores, juegos: todo esto existe en abundancia en Palm OS.  Puede encontrar la aplicación para este sistema operativo hoy. </p><br><p>  Por lo tanto, después de tantos años, la comunidad de fanáticos de este sistema ha sobrevivido, lo que respalda sitios con aplicaciones, mantiene su propio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subreddit</a> y continúa utilizando palmeras. </p><br><p><img src="https://habrastorage.org/webt/ib/gk/vq/ibgkvqijcdsfypa9a3phthhbsai.png" alt="imagen"></p><br><p>  Pero uno de los miembros de la comunidad fue más allá y decidió transferir Palm OS a un hardware más moderno y encontrar una aplicación útil para este proyecto. </p><br><p>  Dmitry Greenberg, un programador de Google, ha estado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">creando ajustes y hacks</a> para dispositivos Palm OS desde 2003, incluido WarpSpeed, un programa para overclocking de PDA, y PowerSDHC, un controlador para tarjetas de memoria SDHC. </p><br><p>  En Google, Dmitry se ocupó principalmente de los sistemas integrados.  Particularmente, participó en el desarrollo del sistema operativo para el reloj inteligente Android Wear, el reproductor multimedia Nexus Q y la plataforma Android TV. </p><br><p>  Después de retirarse de Google, Dmitry decidió crear una plataforma para relojes inteligentes basada en Palm OS 5.x, el sistema operativo que se actualizó por última vez hace 15 años: </p><br><p><img src="https://habrastorage.org/webt/m5/7w/rb/m57wrbhj1hkktiqmam5sl3kwuji.png" alt="imagen"></p><br><p>  A primera vista, el plan es excelente: es poco probable que las plataformas de relojes inteligentes modernos se puedan comparar con Palm OS en términos de consumo de recursos y duración de la batería. </p><br><p>  El problema es que los códigos fuente de Palm OS nunca se han publicado.  Sí, algunos códigos fuente aparecieron en el dominio público en los libros de texto de desarrollo de aplicaciones, pero esto no es suficiente.  La fuente fue para PalmSource y para los licenciatarios, principalmente compañías que lanzaron sus dispositivos en Palm OS, en términos de NDA, por supuesto.  Por lo tanto, no es posible encontrar el código fuente de este sistema operativo después de tantos años, y la legalidad de su uso será cuestionada. </p><br><p>  Sigue habiendo un camino difícil y espinoso para los entusiastas más duros con fuerza de voluntad de hormigón armado: ingeniería inversa.  Dmitry eligió este camino, gradualmente, en varias etapas, implementando su plan. </p><br><p>  Primero debe escribir una herramienta para desempaquetar imágenes ROM de dispositivos Palm OS.  Luego fue necesario desmontar los componentes principales del sistema operativo obtenidos de la imagen desempaquetada.  Luego, el trabajo más largo y más monótono, debe comprender la lógica de las funciones API del sistema y escribir sus propias implementaciones de estas funciones.  Y lo más difícil es escribir el núcleo del sistema operativo, ya que los existentes (por ejemplo, Linux) no admiten algunas funciones del núcleo de Palm OS (suspensión de subprocesos, activar / desactivar la multitarea preventiva). </p><br><p>  Puede leer el historial completo de reescritura de Palm OS desde cero <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el blog de Dmitry</a> , solo revisaré brevemente la implementación de las etapas principales.  Dmitry tardó varios meses en implementar las API del sistema, lo que sería suficiente para cargar el sistema operativo.  Unas semanas más, para la ingeniería inversa del subsistema de gráficos, y dos meses, para escribir código para soportar el dibujo.  En este punto, la funcionalidad implementada fue suficiente para iniciar el sistema operativo en la parte superior del kernel de Linux en QEMU y cargar una imagen de algún dispositivo Palm OS en este entorno. </p><br><p><img src="https://habrastorage.org/webt/g5/4v/cz/g54vczuq1nui6hym_pq81thsyeu.png" alt="Bota * PRIMERA * de rePalm (c) Dmitry Grinberg"><br>  <em>PRIMERA</em> bota de rePalm (c) Dmitry Grinberg </p><br><p>  Para pasar de un emulador a un hardware real, todavía era necesario resolver muchos problemas: elegir una plataforma de hardware de trabajo bien documentada y estable, escribir el núcleo del sistema operativo para la arquitectura seleccionada, escribir un traductor ARM en Thumb (el procesador Cortex-M4 seleccionado por Dmitry solo admite instrucciones de doble byte Thumb, en ese caso mientras que muchos componentes de Palm OS usan instrucciones ARM completas de 4 bytes) y escriben un compilador JIT (!!!) para que la traducción dual M68k -&gt; ARM -&gt; Thumb funcione a una velocidad adecuada. </p><br><p>  Después de un año de desarrollo activo, rePalm se lanzó en la placa de depuración STM32F429, los gráficos, una pantalla táctil y una tarjeta SD funcionan, la sincronización a través de HotSync funciona, y la mayoría de las aplicaciones y juegos escritos en Palm OS 5.x también funcionan muy bien.  Los planes incluyen soporte para Wi-Fi y Bluetooth, soporte para sonido y conexión del dispositivo a través de USB en modo de almacenamiento masivo, y actualización de la biblioteca SSL.  Dmitry complementa su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicación de blog a</a> medida que se desarrolla, y también publica regularmente actualizaciones de proyectos en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subreddit r / Palm</a> . </p><br><p><img src="https://habrastorage.org/webt/lg/0t/on/lg0tongxj9ud2h6on5uzuvjoszy.png" alt="imagen"><br>  (c) Dmitry Grinberg </p><br><hr><br><p>  Es agradable seguir el trabajo de una persona apasionada y ver cómo se desarrolla un proyecto interesante y ambicioso.  Pero vale la pena recordar que Dmitry es principalmente un ingeniero y programador.  Para él, la solución a un problema de ingeniería (poner Palm OS en línea con el mundo moderno) es más alta que crear un producto comercial, ya sea un reloj inteligente u otra cosa.  Estoy seguro de que el proyecto tendrá muchas aplicaciones interesantes, pero lo que sucederá después, y si veremos la versión moderna de Fossil WristPDA, es difícil de decir.  Queda por desearle buena suerte a Dmitry y seguir el desarrollo de rePalm. </p><br><p><img src="https://habrastorage.org/webt/fl/ck/if/flckifrdmi5qdxa4rrnsgotps30.png" alt="imagen"><br>  (c) Dmitry Grinberg </p><br><p>  PD: Gracias a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Newbilius</a> por la idea de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">volver</a> a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">publicar</a> este artículo aquí desde el blog.  ¡Más personas deberían saber sobre proyectos tan geniales! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452692/">https://habr.com/ru/post/452692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452682/index.html">Pronóstico y discusión: los sistemas de almacenamiento híbrido darán paso a todo flash</a></li>
<li><a href="../452684/index.html">Desarrollando un juego en Svelte 3</a></li>
<li><a href="../452686/index.html">Espionaje para el que no prohíben (una historia de los años 80)</a></li>
<li><a href="../452688/index.html">Servicio de Windows. Busque errores del sistema y muéstrelos en WinForm C #</a></li>
<li><a href="../452690/index.html">¿Qué tiene de interesante el ferrocarril transiberiano?</a></li>
<li><a href="../452696/index.html">Cómo iniciar micropagos en su aplicación</a></li>
<li><a href="../452698/index.html">Dos en uno: los datos turísticos y las entradas para eventos culturales estaban disponibles públicamente</a></li>
<li><a href="../452700/index.html">Noticias del mundo de OpenStreetMap No. 460 (05/05/2019 - 05/05/2019)</a></li>
<li><a href="../452702/index.html">Pruebas para código y código para pruebas</a></li>
<li><a href="../452704/index.html">Depuración post mortem en Cortex-M</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>