<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåï üç∏ üéã Nouvelles fonctionnalit√©s de surveillance PostgreSQL PostgreSQL üë®üèº‚ÄçüöÄ üë¥üèΩ ü§≤üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, chers lecteurs! 


 Dans la premi√®re note sur posgres_exporter , j'ai examin√© un cas assez sp√©cial lorsque je travaillais avec un nouveau fit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nouvelles fonctionnalit√©s de surveillance PostgreSQL PostgreSQL</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480902/"><p>  Bonjour, chers lecteurs! </p><br><p> Dans la premi√®re <a href="https://habr.com/ru/post/468573/">note sur posgres_exporter</a> , j'ai examin√© un cas assez sp√©cial lorsque je travaillais avec un nouveau fitcha √† ce moment-l√†, √† savoir la possibilit√© de surveiller un ensemble d'instances et / ou de bases de donn√©es par un exportateur.  Et il a d√©crit ce ¬´bouquet¬ª de probl√®mes qu'il a rencontr√©s et les solutions de contournement qu'il a utilis√©es pour le faire fonctionner. <br>  Et donc, le 25 novembre, la prochaine version de postgres_exporter 0.8.0 est sortie.  Il a r√©solu les probl√®mes d√©crits dans l'article pr√©c√©dent et, ce qui est particuli√®rement agr√©able, a ajout√© de nouvelles fonctionnalit√©s. </p><br><p>  Je demande un chat ... </p><a name="habracut"></a><br><p>  Pour commencer, je voudrais vous pr√©senter plus en d√©tail postgre_exporter et √©crire une sorte de petit guide de d√©marrage rapide.  Passons en revue les points principaux: </p><br><ol><li>  Variables d'environnement et param√®tres de d√©marrage </li><li>  Quelles sont les mesures par d√©faut? </li><li>  Comment ajouter vos propres m√©triques </li></ol><br><h2 id="opisanie">  La description </h2><br><p>  <a href="https://github.com/wrouesnel/postgres_exporter" rel="nofollow">postgres_exporter</a> - un utilitaire pour collecter des m√©triques √† partir d'instances d'un cluster SGBD PostgreSQL dans un format Prometheus accessible, √©crit en Go, est open source et distribu√© gratuitement. </p><br><h2 id="peremennye-okruzheniya-i-argumenty-komandnoy-stroki">  Variables d'environnement et arguments de ligne de commande </h2><br><p>  Postgres_exporter, en tant que tel, ne poss√®de pas de fichier de configuration et tous les param√®tres sont transmis √† l'exportateur via des variables d'environnement ou via des arguments de ligne de commande.  Dans le m√™me temps, les param√®tres de connexion au SGBD ne peuvent √™tre transf√©r√©s que via des variables d'environnement. </p><br><h3 id="peremennye-okruzheniya">  Variables d'environnement </h3><br><p>  Comme mentionn√© ci-dessus, les variables d'environnement peuvent √™tre divis√©es en deux groupes.  Les premiers passent la cha√Æne de connexion, les seconds dupliquent les arguments de la ligne de commande. </p><br><p> Commen√ßons par le premier groupe.  Ces variables commencent par le pr√©fixe <code>DATA_SOURCE_</code> : </p><br><ul><li><p>  DATA_SOURCE_NAME - utilis√© par d√©faut.  Vous permet d'enregistrer la cha√Æne de connexion au format <code>=</code> et sous la forme d'un URI et peut contenir l'identifiant et le mot de passe de la connexion. <br>  Options de travail valides pour la connexion √† PostgreSQL: </p><br><ul><li>  <code>postgresql://rolename@dbhost:dbport/datname?sslmode=disable</code> ; </li><li>  <code>postgresql://rolename:rolpass@dbhost:dbport?sslmode=disable&amp;db=datname</code> ; </li><li>  <code>postgresql://rolename:rolpass@?sslmode=disable&amp;dbname=database&amp;host=dbhost&amp;port=dbport</code> ; </li><li>  <code>postgresql://rolename:rolpass@?sslmode=disable&amp;dbname=database&amp;host=/tmp</code> (connexion via un socket UNIX, extraite des r√©pertoires unix_socket_directories d'une instance PostgreSQL); </li><li>  <code>host=dbhost port=dbport dbname=database user=rolename sslmode=disable</code> ; </li></ul><br><p>  Si vous devez vous connecter √† plusieurs instances (l'utilisation d'un espace apr√®s le point d√©cimal n'est pas autoris√©e): </p><br><ul><li>  <code>postgresql://rolename@dbhost:dbport/datname?sslmode=disable,postgresql://rolename@dbhost:dbport/datname?sslmode=disable</code> ; </li><li>  <code>sslmode=disable dbname=postgres host=127.0.0.1 port=5434 user=postgres,sslmode=disable dbname=postgres port=5432 user=postgres</code> . </li></ul><br></li><li>  DATA_SOURCE_URI - Alternative √† DATA_SOURCE_NAME.  Cette option ne convient que si vous avez l'intention de vous connecter √† une seule instance de PostgreSQL). <br>  La variable DATA_SOURCE_URI d√©finit la partie de l'URI sans nom d'utilisateur et mot de passe, sous la forme "dbhost: dbport / dbname? Key = value".  Le nom d'utilisateur et le mot de passe sont extraits des variables d'environnement DATA_SOURCE_USER et DATA_SOURCE_PASS, ou des fichiers DATA_SOURCE_USER_FILE DATA_SOURCE_PASS_FILE. <br>  Lorsque le nom d'utilisateur et le mot de passe sont stock√©s dans des fichiers, leur contenu est extrait et r√©affect√© aux variables DATA_SOURCE_USER et DATA_SOURCE_PASS.  En outre, dans le code, tout cela est collect√© dans un URI √† part enti√®re du formulaire: <code>"postgresql://" + DATA_SOURCE_USER + ":" + DATA_SOURCE_PASS + "@" + DATA_SOURCE_URI</code> </li><li>  DATA_SOURCE_URI_FILE - identique √† DATA_SOURCE_URI, lu uniquement √† partir du fichier; </li><li>  DATA_SOURCE_USER - lors de l'utilisation de DATA_SOURCE_URI, d√©finit le nom d'utilisateur pour la connexion au SGBD; </li><li>  DATA_SOURCE_USER_FILE - identique √† DATA_SOURCE_USER, lu uniquement √† partir du fichier; </li><li>  DATA_SOURCE_PASS - lors de l'utilisation de DATA_SOURCE_URI, d√©finit le mot de passe utilisateur pour la connexion au SGBD; </li><li>  DATA_SOURCE_PASS_FILE - identique √† DATA_SOURCE_PASS, lu uniquement √† partir du fichier;. </li></ul><br><p>  Le deuxi√®me groupe comprend des arguments en double variables.  C'est-√†-dire  au d√©marrage, vous avez le choix, d√©finissez les param√®tres de fonctionnement de l'application sous forme de variables d'environnement ou passez comme arguments au d√©marrage.  Commencez par le pr√©fixe <code>PG_EXPORTER_</code> : </p><br><ul><li>  PG_EXPORTER_WEB_LISTEN_ADDRESS - d√©finit l'adresse et le port par lesquels l'exportateur recevra les demandes de Prometheus.  Par d√©faut <code>:9187</code> ; </li><li>  PG_EXPORTER_WEB_TELEMETRY_PATH - le chemin le long duquel les m√©triques sont donn√©es.  Par d√©faut <code>/metrics</code> ; </li><li>  PG_EXPORTER_DISABLE_DEFAULT_METRICS - d√©sactive la collection de m√©triques par d√©faut.  Le fait que ces mesures seront ci-dessous.  Seul vrai ou faux accepte les valeurs.  Faux par d√©faut (la collecte de m√©triques est autoris√©e); </li><li>  PG_EXPORTER_DISABLE_SETTINGS_METRICS - d√©sactive la collecte de m√©triques √† partir de la vue pg_settings.  Le fait que ces mesures seront ci-dessous.  Seul vrai ou faux accepte les valeurs.  Faux par d√©faut (la collecte de m√©triques est autoris√©e); </li><li>  PG_EXPORTER_AUTO_DISCOVER_DATABASES - d√©tecte toutes les bases de donn√©es d'une instance de cluster pour collecter leurs m√©triques.  Seul vrai ou faux accepte les valeurs.  Par d√©faut, false (les m√©triques sont collect√©es uniquement dans la base de donn√©es sp√©cifi√©e dans les param√®tres de connexion); </li><li>  PG_EXPORTER_EXCLUDE_DATABASES - exclut la base de donn√©es de la liste des bases de donn√©es pour lesquelles des mesures sont collect√©es si <code>PG_EXPORTER_AUTO_DISCOVER_DATABASES=true</code> .  Repr√©sente une liste de noms de base de donn√©es s√©par√©s par des virgules.  La valeur par d√©faut est une cha√Æne vide.  <strong>IMPORTANT</strong> : <br><ul><li>  mod√®les template0 et template1 - pas besoin d'exclure, donc ils sont coup√©s au stade de l'obtention d'une liste de bases de donn√©es √† partir de pg_databases; </li><li>  ne peut pas exclure la base de donn√©es sp√©cifi√©e dans l'URI. </li></ul></li><li>  PG_EXPORTER_EXTEND_QUERY_PATH - Chemin d'acc√®s au fichier YAML qui contient les requ√™tes des utilisateurs.  Le fichier queries.yaml contient des exemples; </li><li>  PG_EXPORTER_CONSTANT_LABELS - √âtiquette (constante) ajout√©e √† toutes les m√©triques.  Il est √©crit comme une liste de paires <code>=</code> , s√©par√©es par une virgule. </li></ul><br><h3 id="argumenty-komandnoy-stroki">  Arguments de ligne de commande </h3><br><ul><li>  web.listen-address est le m√™me que PG_EXPORTER_WEB_LISTEN_ADDRESS; </li><li>  web.telemetry-path - identique √† PG_EXPORTER_WEB_TELEMETRY_PATH; </li><li>  disable-default-metrics est identique √† PG_EXPORTER_DISABLE_DEFAULT_METRICS; </li><li>  disable-settings-metrics est le m√™me que PG_EXPORTER_DISABLE_SETTINGS_METRICS; </li><li>  les bases de donn√©es de d√©couverte automatique sont les m√™mes que PG_EXPORTER_AUTO_DISCOVER_DATABASES; </li><li>  exclude-databases est identique √† PG_EXPORTER_EXCLUDE_DATABASES; </li><li>  extend.query-path - identique √† PG_EXPORTER_EXTEND_QUERY_PATH; </li><li>  constantLabels - identique √† PG_EXPORTER_CONSTANT_LABELS; </li><li>  dumpmaps - Affiche le contenu interne de la carte de m√©triques.  Utilis√© pour d√©boguer les demandes des utilisateurs.  Ne d√©marre pas l'application; </li><li>  log.level - d√©finit l'un des niveaux de journalisation possibles: <code>debug</code> , <code>info</code> , <code>warn</code> , <code>error</code> , <code>fatal</code> ; </li><li>  log.format - d√©finit la m√©thode et le format de sortie du journal.  Par exemple: <code>logger:syslog?appname=bob&amp;local=7</code> ou <code>logger:stdout?json=true</code> .  Par d√©faut, <code>logger:stderr</code> . </li></ul><br><h2 id="metriki-po-umolchaniyu">  Mesures par d√©faut </h2><br><p>  <code> -</code> m√©triques <code> -</code> sont un certain ensemble de m√©triques de surveillance, dont la collection est d√©finie directement dans le code.  La collection <code> -</code> peut √™tre d√©sactiv√©e en d√©finissant les param√®tres de ligne de commande --disable-default-metrics et / ou --disable-settings-metrics ou en d√©finissant les variables d'environnement appropri√©es. <br>  Je note que dans la version actuelle, le probl√®me d'utilisation des m√©triques a √©t√© r√©solu lorsque la d√©couverte automatique √©tait activ√©e, en raison de laquelle il y avait une duplication des m√©triques, ce qui entra√Ænait des erreurs. </p><br><p>  Par d√©faut, les mesures des vues suivantes sont envoy√©es √† la surveillance: </p><br><ul><li>  pg_stat_bgwriter; </li><li>  pg_stat_database; </li><li>  pg_stat_database_conflicts; </li><li>  pg_locks; </li><li>  pg_stat_replication; </li><li>  pg_stat_activity; </li><li>  pg_settings. </li></ul><br><p>  De ce √† quoi vous devez faire attention sont pg_stat_replication et pg_stat_activity, car l'ensemble des champs retourn√©s d√©pend de la version de PostgreSQL.  Pour cela, la version du SGBD est v√©rifi√©e dans l'exportateur et la requ√™te correspondante est s√©lectionn√©e.  Vous ne pouvez pas sp√©cifier de version dans les requ√™tes utilisateur.  Il est suppos√© que l'administrateur sait √† l'avance quelle version l'instance sera surveill√©e.  Des probl√®mes peuvent √©galement survenir si vous essayez de collecter des m√©triques par un exportateur √† partir d'instances de versions diff√©rentes. <br>  Avec les m√©triques de param√®tres d'instance (pg_settings), tout est un peu plus simple, elles sont form√©es par la requ√™te: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, setting, <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(unit, <span class="hljs-string"><span class="hljs-string">''</span></span>), short_desc, vartype <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_settings <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> vartype <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'bool'</span></span>, <span class="hljs-string"><span class="hljs-string">'integer'</span></span>, <span class="hljs-string"><span class="hljs-string">'real'</span></span>);</code> </pre> <br><p>  Ainsi, par d√©faut, un ensemble de m√©triques n'est form√© qu'√† partir de valeurs num√©riques. </p><br><p>  De plus, nous examinerons la conclusion de l'exportateur, y compris comment nous comprendrons pourquoi les mesures cod√©es en dur ont leur droit d'exister.  Par exemple, prenez deux mesures: shared_buffers et wal_sender_timeout.  Dans la sortie de l'exportateur, pour chaque statistique, nous obtenons trois lignes. <br>  La premi√®re ligne - repr√©sente l'indice et se compose du nom de la m√©trique dans postgres_exporter, une description (la colonne short_desc de la vue pg_settings) et si le type a √©t√© converti en type de base, il est indiqu√© lequel (la valeur entre crochets). <br>  La deuxi√®me ligne indique le type de valeur, en termes de Prom√©th√©e.  Et la troisi√®me ligne, une m√©trique avec un ensemble d'√©tiquettes et une valeur assign√©e. </p><br><p>  Renvoie des valeurs pour shared_buffers. </p><br><pre> <code class="plaintext hljs"># HELP pg_settings_shared_buffers_bytes Sets the number of shared memory buffers used by the server. [Units converted to bytes.] # TYPE pg_settings_shared_buffers_bytes gauge pg_settings_shared_buffers_bytes{server="127.0.0.1:5432"} 1.34217728e+08</code> </pre> <br><p>  <code>pg_settings_shared_buffers_bytes</code> - le nom de la m√©trique.  Il, selon les r√®gles de bonne forme, est compos√© du nom de la table, du nom de la m√©trique et de l'unit√© de mesure.  Vient ensuite une br√®ve description de la table pg_settings.  Et enfin, une indication que la valeur m√©trique a √©t√© convertie en une unit√© d'octets (Unit√©s converties en octets).  Pourquoi cela vaut la peine de pr√™ter attention √† ce dernier, car directement dans la base de donn√©es, la valeur semble un peu diff√©rente, √† savoir: </p><br><pre> <code class="sql hljs"> name | setting | unit | short_desc <span class="hljs-comment"><span class="hljs-comment">----------------+---------+------+-------------------------------------------------------------- shared_buffers | 16384 | 8kB | Sets the number of shared memory buffers used by the server.</span></span></code> </pre> <br><p>  Le type de m√©trique que nous avons est GAUGE, ce qui signifie qu'il peut prendre des valeurs arbitraires au fil du temps.  Dans notre cas, le nombre de tampons, lors d'un r√©glage fin, peut changer dans les deux sens. <br>  Vous pouvez en savoir plus sur les types de m√©triques et leurs diff√©rences dans la documentation Prometheus. </p><br><p>  La m√©trique suivante est wal_sender_timeout.  Les champs d'information sont collect√©s selon le m√™me principe que celui d√©crit ci-dessus.  Dans ce cas uniquement, la valeur m√©trique est convertie en secondes et la base de donn√©es est stock√©e en millisecondes.  Avec cette fonctionnalit√©, vous devez √™tre prudent et prendre en compte lors du tra√ßage des graphiques. </p><br><pre> <code class="plaintext hljs"># HELP pg_settings_wal_sender_timeout_seconds Sets the maximum time to wait for WAL replication. [Units converted to seconds.] # TYPE pg_settings_wal_sender_timeout_seconds gauge pg_settings_wal_sender_timeout_seconds{server="127.0.0.1:5432"} 60</code> </pre> <br><p>  La valeur stock√©e dans la base de donn√©es: </p><br><pre> <code class="sql hljs">demo=<span class="hljs-comment"><span class="hljs-comment"># SELECT name, setting, COALESCE(unit, ''), short_desc, vartype FROM pg_settings WHERE name='wal_sender_timeout'; name | setting | coalesce | short_desc | vartype --------------------+---------+----------+----------------------------------------------------+--------- wal_sender_timeout | 60000 | ms | Sets the maximum time to wait for WAL replication. | integer</span></span></code> </pre><br><p>  Toutes les valeurs ayant des unit√©s sont r√©duites √† deux types: mesures de volume en octets;  m√©triques de temps en secondes. </p><br><h3 id="polzovatelskiy-nabor-metrik">  Ensemble de mesures personnalis√©es </h3><br><p>  En plus ou √† la place des mesures par d√©faut, vous pouvez utiliser les v√¥tres.  Pour ce faire, d√©finissez simplement le chemin du fichier, avec les requ√™tes des utilisateurs, via l'argument --extend.query-path = query.yaml ou via la variable d'environnement PG_EXPORTER_EXTEND_QUERY_PATH. <br>  Le r√©f√©rentiel de projet a un fichier YAML avec des exemples: <a href="" rel="nofollow">queries.yaml</a> </p><br><p>  Je note que par rapport √† la version pr√©c√©dente, dans 0.8.0, de nouvelles cl√©s master et cache_seconds ont √©t√© ajout√©es.  Dans l'exemple ci-dessous, nous analysons le format d'enregistrement et la fonction des champs. </p><br><p>  Exemple de contenu du fichier queries.yaml </p><br><pre> <code class="plaintext hljs">pg_database: query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size_bytes FROM pg_database" master: true cache_seconds: 30 metrics: - datname: usage: "LABEL" description: "Name of the database" - size_bytes: usage: "GAUGE" description: "Disk space used by the database"</code> </pre> <br><p>  Cl√©s et valeurs de l'exemple ci-dessus: </p><br><ul><li>  <code>pg_database</code> - un pr√©fixe arbitraire pour les m√©triques renvoy√©es par la demande (obligatoire); </li><li>  <code>query</code> - contient une requ√™te SQL (obligatoire); </li><li>  <code>master</code> - n'ex√©cute la demande que dans la base de donn√©es sp√©cifi√©e lors de la connexion √† l'URI (base de donn√©es master).  Obligatoire lors du d√©marrage de l'exportateur avec l'indicateur --auto-Discover-Database.  Accepte vrai ou faux.  Faux par d√©faut.  (Facultatif); </li><li>  <code>cache_seconds</code> - temps pendant lequel les donn√©es du cache seront retourn√©es.  Il est r√©gl√© en quelques secondes; </li><li>  <code>metrics</code> - contient une liste de balises et de m√©triques; </li><li>  <code>datname</code> , <code>size_bytes</code> - √©l√©ment de liste.  Le nom de l'√©l√©ment de liste doit correspondre au nom de la colonne dans la requ√™te; </li><li>  <code>usage</code> - type de valeur.  Accepte COUNTER, GAUGE, LABLE (plus dans la documentation Prometheus) </li><li>  <code>description</code> - Description de la m√©trique personnalis√©e </li></ul><br><p>  Exemples de mesures de retour: </p><br><pre> <code class="plaintext hljs"># HELP pg_database_size_bytes Disk space used by the database # TYPE pg_database_size_bytes gauge pg_database_size_bytes{datname="dbtest1",server="localhost:5432"} 1.0105503e+07 pg_database_size_bytes{datname="demo",server="localhost:5432"} 2.813719199e+09 pg_database_size_bytes{datname="postgres",server="localhost:5432"} 4.735491e+06 pg_database_size_bytes{datname="template0",server="localhost:5432"} 7.758339e+06 pg_database_size_bytes{datname="template1",server="localhost:5432"} 7.758339e+06</code> </pre><br><h2 id="rezyume">  R√©sum√© </h2><br><p>  Eh bien, nous r√©sumons tout ce que nous avons dans la derni√®re version de postgres_exporter 0.8.0.  Fondamentalement, toutes les am√©liorations concernent la surveillance de plusieurs instances et / ou de plusieurs bases de donn√©es dans une instance. </p><br><ul><li>  L'argument exclude-databases (apparu dans la version 0.6.0) vous permet d'exclure des bases de donn√©es de la liste des bases de donn√©es pour lesquelles des m√©triques seront collect√©es.  Mais vous ne pouvez pas exclure la base de donn√©es sp√©cifi√©e dans la connexion URI, car il s'agit d'une base principale; </li><li>  Vous pouvez maintenant utiliser des requ√™tes personnalis√©es pour des vues globales (pg_stat_activity, pg_stat_database, etc.) avec l'argument auto-discovery-databases.  Pour ce faire, un champ <strong>ma√Ætre</strong> suppl√©mentaire a √©t√© ajout√©, indiquant que la demande doit √™tre ex√©cut√©e uniquement dans la base de donn√©es ma√Ætre; </li><li>  Vous pouvez maintenant utiliser les m√©triques par d√©faut avec l'argument auto-discovery-databases; </li><li>  Pour les demandes des utilisateurs, le champ cache_seconds a √©t√© ajout√©, ce qui vous permet de d√©finir la dur√©e (en secondes) √† laquelle la r√©ponse du serveur √† la demande correspondante sera mise en cache. </li></ul><br><h2 id="istochniki">  Les sources </h2><br><ul><li>  <a href="https://prometheus.io/" rel="nofollow">Prometheus</a> [ <a href="https://en.wikipedia.org/wiki/Prometheus_(software)" rel="nofollow">1</a> ] est une application open source utilis√©e pour surveiller et alerter les √©v√©nements.  Il √©crit des m√©triques en temps r√©el dans une base de donn√©es de s√©ries chronologiques construite √† l'aide du mod√®le de requ√™te HTTP, avec des requ√™tes flexibles et des alertes en temps r√©el. </li><li>  <a href="https://github.com/wrouesnel/postgres_exporter" rel="nofollow">postgres_exporter</a> est un exportateur de m√©triques PostgreSQL pour Prometheus. <br>  Version, au moment de la r√©daction, v 0.5.1.  Versions prises en charge de PostgreSQL 9.4+ (mais comme la pratique l'a montr√©, cela fonctionne sur 9.3). </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480902/">https://habr.com/ru/post/fr480902/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480886/index.html">R√©seaux de neurones et nombre d'or: deuxi√®me s√©rie</a></li>
<li><a href="../fr480888/index.html">Coroutines de bricolage. Partie 1. G√©n√©rateurs paresseux</a></li>
<li><a href="../fr480890/index.html">R√©sultats de l'enqu√™te sur l'utilisation du panneau Express</a></li>
<li><a href="../fr480892/index.html">Internet en montgolfi√®re</a></li>
<li><a href="../fr480900/index.html">Ramenez mon b√©b√©! (Histoire N.-F.)</a></li>
<li><a href="../fr480904/index.html">PHP Microservice Framework: environnement de d√©veloppement pour Swoft</a></li>
<li><a href="../fr480906/index.html">√âcrire un jeu de python simple</a></li>
<li><a href="../fr480910/index.html">Comment cr√©er une classe de test de base pour les tests Selenium et initialiser via JUnit RuleChain</a></li>
<li><a href="../fr480912/index.html">Dap en action. √âcrire TodoMVC. Partie 1</a></li>
<li><a href="../fr480914/index.html">Microservices pour d√©butants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>