<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôåüèΩ üèÜ üîò Sistema de fidelizaci√≥n o c√≥mo vivir gratis üõ°Ô∏è ü§î üë®üèæ‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buen dia, Habrovsk. En relaci√≥n con el gran p√°nico del √∫ltimo art√≠culo, les presento la segunda versi√≥n. Todo es simple, sin mocos. El sistema de leal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistema de fidelizaci√≥n o c√≥mo vivir gratis</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428650/"> Buen dia, Habrovsk.  En relaci√≥n con el gran p√°nico del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">√∫ltimo art√≠culo, les</a> presento la segunda versi√≥n.  Todo es simple, sin mocos.  El sistema de lealtad es un gran agujero.  Despu√©s de algunos experimentos, llegamos a la conclusi√≥n de que una gran cantidad de sitios donde se usa dicho sistema est√°n completamente desprovistos de l√≥gica cuando se trata de usarlo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ui/xn/hh/uixnhhmsliz0oh9fr970u0idhqo.jpeg" alt="imagen"></div><a name="habracut"></a><br>  Por supuesto, alguien pudo implementar al menos una protecci√≥n simple pero simple, pero alguien imagina Internet de esta forma: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/43c/9b0/d71/43c9b0d712b4de1d0fb362e174efd55d.jpg" alt="imagen"><br><br>  En general, muchos ataques de piratas inform√°ticos ocurren casi de esta forma.  Solo en las pel√≠culas te mostrar√°n un mont√≥n de artilugios del futuro, cuya funcionalidad no tiene sentido en el presente. <br><br>  Vayamos a los negocios.  Por ejemplo, tomar√© algunos sistemas donde puede haber un karzh masivo. <br><br>  Comencemos con el <b>OBI</b> . <br><br>  Dir√© de inmediato que para m√≠ ha sido poco estudiado.  Sus vagas reglas sobre el uso de bonos me ponen en diferentes dudas.  En primer lugar, tienen varios programas de bonificaci√≥n.  Por una de ellas solo puede pagar en tres ciudades de Rusia, por la otra, en total.  Al mismo tiempo, los bonos no se aplican a todos, sino solo hasta el 50% del valor de los bienes.  Pero construir una casa a mitad de precio ya es bueno. <br><br>  En general, OBI tambi√©n tiene una aplicaci√≥n donde puede iniciar sesi√≥n en nuestra tarjeta y pagar generando un c√≥digo de barras. <br><br>  Vaya a la p√°gina de registro con un ligero toque de varita m√°gica: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6a/a7/8l/6aa78lj04dkguptu46ht6ulvpwq.png" alt="imagen"></div><br>  Llegamos al formulario de registro de <s>no</s> nuestra tarjeta: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cd/u7/h1/cdu7h1rl__q_jq1uclgvhlhvc4u.png" alt="imagen"></div><br>  Bueno, ll√©nalo.  Por cierto, aqu√≠ el sistema de c√°lculo de tarjetas es el mismo que en la "Encrucijada".  Para que quede claro - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Algoritmo Luna</a> .  Complet√© todos los datos, indiqu√© un n√∫mero de tarjeta al azar.  En el proceso, capt√© una solicitud de registro a trav√©s de un sniffer. <br>  Lo repiti√≥ varios cientos de veces en un ciclo.  No hubo errores.  El sitio manej√≥ mis solicitudes de manera bastante eficiente y devolvi√≥ una respuesta en json: <br><br> <code><b>"data":{"registration":null},"errors":[{"message":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u044b.","type":"validation","locations":{"path":"\/work\/obiclub.ru\/app\/GraphQL\/Mutation\/Frontend\/RegistrationMutation.php","line":109},"safe":true,"validation":{"cardnum":["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."]}}]}</b></code> <br> <br>  En la variable <b>cardnum</b> estaba el siguiente texto, que se traduce del <s>griego</s> Unicode: <br><blockquote>  "N√∫mero de tarjeta incorrecto.  Verifique la exactitud de los datos ingresados ‚Äã‚Äã¬ª </blockquote><br>  Es interesante que para todas mis solicitudes de una IP no hubo bloqueo.  Por otra parte, la sesi√≥n vive mucho tiempo.  Lo comprob√© despu√©s de un d√≠a, la respuesta fue.  Al menos podr√≠a restablecer las cookies, ingresar el captcha y luego un "facepalm" s√≥lido.  Escribir software no es dif√≠cil, solo caer√° bajo <br>  <b>Reino Unido</b>  <b>RF</b>  <b>Art√≠culo 273</b> , ¬°y esto ya es peligroso! <br><br>  Bueno, construimos una casa.  Deber√≠amos repostar nuestro auto y dar una vuelta por la ciudad.  Podr√≠a dar un ejemplo aqu√≠ con las estaciones de servicio m√°s populares, pero en vista de algunas consideraciones, no har√© esto.  Todos tenemos un sistema, pero el enfoque es diferente, por lo que lo demostrar√© en la estaci√≥n de servicio m√°s simple y poco conocida. <br><br>  <b>AZS-ETALON.RU</b> .  Me llam√≥ la atenci√≥n lo que hay en mi ciudad.  El principio de funcionamiento es similar: hay una tarjeta de fidelidad;  hay un sitio donde registramos una tarjeta;  Existe una solicitud a trav√©s de autorizaci√≥n en la que puede pagar en la caja.  Bueno, generalmente es divertido. <br><br>  Vaya al formulario de registro de tarjeta - <u><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lk.azs-etalon.ru/registration.php</a></u> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/bb/8k/vgbb8kimxzermvyszygfiegun4o.png" alt="imagen"></div><br>  Rellene los datos, haga clic en <s>"Hackear"</s> "Registrarse".  Obtenemos la respuesta <blockquote>  "N√∫mero de tarjeta no v√°lido" </blockquote>  lo que significa que ingresaremos el siguiente n√∫mero en la cuenta y as√≠ sucesivamente hasta que encontremos combustible gratis para nuestro amigo de cuatro ruedas. <br><br>  <i>- Automatizar?</i> <i><br></i>  <i>- F√°cil</i> <i><br></i> <br>  Capturamos el paquete para el registro.  Obtenemos lo siguiente <br><br>  <b>Encabezados HTTP:</b> <br><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text">  Anfitri√≥n: lk.azs-etalon.ru <br>  Agente de usuario: Mozilla / 5.0 (Windows NT 6.3; WOW64; rv: 41.0) Gecko / 20100101 Firefox / 41.0 <br>  Aceptar: * / * <br>  Idioma de aceptaci√≥n: ru-RU, ru; q = 0.8, en-US; q = 0.5, en; q = 0.3 <br>  Aceptar-codificaci√≥n: gzip, desinflar <br>  Tipo de contenido: application / x-www-form-urlencoded;  charset = utf-8 <br>  X-Requested-With: XMLHttpRequest <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Referer</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lk.azs-etalon.ru/registration.php</a> <br>  Longitud del contenido: 174 <br>  Cookie: _ym_uid = 10265171001178589;  _ym_d = 1214095619;  _ym_visorc191282814 = w;  _ym_isad = 2;  PHPSESSID = u0vp19oks8iman1hi8m8j1n105 <br>  Conexi√≥n: mantener vivo <br>  Pragma: sin cach√© <br>  Control de cach√©: sin cach√© <br>  If-Modified-Since: * <br></div></div><br>  <b>POST-DATOS:</b> <br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text">  tarjeta = 1111-114-089-111 &amp; fio =% D0% 90% D0% 9E% D0% 92% D0% A0% D0% 90% D0% 9B% D0% 9E% D0% 92% D0% 90% D0% A0 % D0% BB% D0% BE% D1% 80 &amp; phone = 7 (912) 345-6789 &amp; date = 11.11.1990 &amp; sex = 1 &amp; pass = 123321q &amp; pass2 = 123321q <br></div></div><br>  Lo llevamos a una forma conveniente, lo ajustamos a CURL, lo martillamos en un bucle y lo ponemos en una secuencia.  El sitio emitir√°: <blockquote>  "R—ú¬µ–Ü¬µ–Ç–Ö‚Äπ ‚Ññ –Ö—ï—ò¬µ–Ç —î ¬∞ –Ç‚Äö ‚Äπ" </blockquote>  que traducido del <s>alem√°n</s> CP1251 - <blockquote>  "N√∫mero de tarjeta no v√°lido" </blockquote>  Establecemos la condici√≥n para la aparici√≥n de otra respuesta y encontramos <u>"zumbido"</u> .  El brutus m√°s simple est√° listo. <br><br>  No hay captcha, bloqueo de IP para una gran cantidad de solicitudes; no, ni siquiera hay una verificaci√≥n inicial para la entrada de datos del cliente.  Oh ok  Y as√≠ sigue. <br><br>  Veamos una bestia m√°s.  Es mucho m√°s grande que otros, pero a√∫n vulnerable. <br><br>  <b>Tape</b> ... Just - <b>TAPE</b> <br><br>  Vaya a getetepes lk.lenta.com/authentication/login/activate-card: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/ic/us/enicusare9pi6rphyjtuhhe6ts8.png" alt="imagen"></div><br>  <i>Suponemos que se trataba de una tarjeta no activa previamente v√°lida.</i>  <i>Se nos pide que ingresemos un n√∫mero de tel√©fono.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2a/9b8/7ea/e2a9b87ea13938442f7db4cd7ab99868.png" alt="imagen"><br><br>  Bueno, ingrese su m√≥vil, luego el resto de los datos, incluida la contrase√±a.  Eso es todo, estamos en la cuenta personal. <br><br>  Aqu√≠, por as√≠ decirlo, todo es similar a los sistemas anteriores.  Solo es importante capturar las solicitudes necesarias y luego repetirlas en la secuencia deseada. <br><br>  Pero emp√≠ricamente, se encontr√≥ cierta vulnerabilidad mala.  Al ingresar el c√≥digo de verificaci√≥n incorrecto, ¬øqu√© pas√≥?  Nada, no nos dejaron entrar al LC.  Esto es l√≥gico, muchachos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ks/vc/l9/ksvcl9ysnyjeyyux69nc0q68f28.png" alt="imagen"></div><br>  Pero experimentalmente, ¬°se verific√≥ lo siguiente!  Se capturaron las solicitudes de confirmaci√≥n del c√≥digo, en el que todos los par√°metros estaban claros: <br><blockquote>  {"C√≥digo": "12345667890", "tarjeta": "800011999193", "tel√©fono": "91234567789"} </blockquote><br>  No analizar√© c√≥mo explot√© esta vulnerabilidad, pero te lo contar√© brevemente.  Con √©l, simplemente puede omitir el <b>c√≥digo</b> y siempre ingresaremos a la cuenta de usuario sin confirmar el n√∫mero.  ¬°Y esto significa que podemos indicar cualquier n√∫mero! <br><br>  ( <i>Actualmente estoy tratando de contactar al soporte de TAPE</i> ) <br><br>  ¬øPor qu√© todo esto?  Hagamos un balance. <br><br>  Hay muchos servicios con un sistema de fidelizaci√≥n.  Puede buscarlos sin cesar y puntos "brutos".  Si te digo, ¬øqu√© es posible volar un avi√≥n para estos puntos? <br><br>  <b>Aeroflot</b> y <b>S7</b> tambi√©n tienen un sistema de bonificaci√≥n.  Los puntos son millas.  Podemos ganarlos de, por ejemplo, socios.  Aeroflot, por cierto, tiene alrededor de 2 mil de ellos.  Incluyendo, casi todos los principales supermercados, incluido nuestro infame X5 Retail Group.  Puede canjear puntos por millas directamente en el LC de la misma encrucijada.  Bueno, y as√≠ en casi todos los dem√°s servicios.  Por cierto, este hecho del robo de millas de una aerol√≠nea se registr√≥ oficialmente.  Estuche de alto perfil, no sin sacrificio. <br><br>  Como resultado, no todo es tan simple como parece.  Hay personas que viven de estos puntos.  Bueno, si estas bolas te pertenecen formalmente, entonces alguien est√° sentado en tu cuello.  Los kulkhackers pueden comer, vestirse, viajar en autom√≥vil, volar por las ciudades y mucho m√°s de forma gratuita. <br><br>  PD: Gracias por el hecho de que varios oficiales de seguridad de <u>X5</u> me contactaron a la vez.  Hubo m√°s discusi√≥n con uno sobre <i>‚Äúde qui√©n son los puntos: clientes o encrucijada‚Äù</i> que el tema de la seguridad del sistema.  Pero creo que arreglar√°n todo, ya que todo el Consejo de Seguridad ya lo sabe.  De inmediato, bien.  Deber√≠an rendir homenaje.  Lo principal es mejorar. <br><br>  Bueno, aqu√≠ tienes una encuesta. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428650/">https://habr.com/ru/post/es428650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428638/index.html">Hearts Flame Motor: revisi√≥n del monitor card√≠aco QardioCore</a></li>
<li><a href="../es428640/index.html">Con el auricular en su bolsillo: equipo Snom DECT para redes telef√≥nicas inal√°mbricas</a></li>
<li><a href="../es428644/index.html">Brainfuck de bajo nivel</a></li>
<li><a href="../es428646/index.html">Los modelos de iPhone del a√±o pasado tambi√©n disminuyeron a medida que el uso de la bater√≠a</a></li>
<li><a href="../es428648/index.html">Anton Arkhipov sobre el trabajo efectivo con IntelliJ IDEA y TeamCity en jug.msk.ru</a></li>
<li><a href="../es428652/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 15: Software m√©dico, Parte 1</a></li>
<li><a href="../es428654/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 15: Software m√©dico, Parte 2</a></li>
<li><a href="../es428656/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 15: Software m√©dico, Parte 3</a></li>
<li><a href="../es428658/index.html">Talleres educativos gratuitos en la oficina de Mail.Ru Group</a></li>
<li><a href="../es428660/index.html">Habilitaci√≥n de pol√≠ticas de solicitud de extracci√≥n extensible en VSTS para respaldar el proceso de desarrollo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>