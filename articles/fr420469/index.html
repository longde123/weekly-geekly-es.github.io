<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëô üöç ü§¶üèº Caract√©ristiques de l'utilisation de Druid sur l'exemple des camarades de classe üåΩ üîì ‚õìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je m'appelle Yuri Nevinitsin et je suis engag√© dans le syst√®me de statistiques internes en OK. Je veux parler de la fa√ßon dont nous avons transf√©r√© un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caract√©ristiques de l'utilisation de Druid sur l'exemple des camarades de classe</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/420469/"><img src="https://habrastorage.org/webt/jd/0-/fd/jd0-fdngd2psn0-j-hkq1gmcm_a.jpeg"><br><br>  Je m'appelle Yuri Nevinitsin et je suis engag√© dans le syst√®me de statistiques internes en OK.  Je veux parler de la fa√ßon dont nous avons transf√©r√© un syst√®me analytique de 50 t√©raoctets en temps r√©el, dans lequel des milliards d'√©v√©nements sont journalis√©s quotidiennement, de Microsoft SQL vers une base de colonnes appel√©e Druid.  Et en m√™me temps, vous apprendrez quelques recettes pour utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Druid</a> . <br><a name="habracut"></a><br><h2>  Pourquoi avons-nous besoin de statistiques? </h2><br>  Nous voulons tout savoir sur notre site, nous enregistrons donc non seulement le comportement des disques, des processeurs, etc., mais aussi chaque action de l'utilisateur, chaque interaction entre les sous-syst√®mes et tous les processus internes de presque tous nos syst√®mes.  Le syst√®me statistique est √©troitement int√©gr√© au processus de d√©veloppement. <br><br>  Sur la base des donn√©es du syst√®me statistique, nos managers fixent des objectifs pour les √©quipes, suivent leurs r√©alisations et indicateurs cl√©s.  Les administrateurs et les d√©veloppeurs surveillent le fonctionnement de tous les syst√®mes, enqu√™tent sur les incidents et les anomalies.  La surveillance automatique surveille constamment et √† un stade pr√©coce identifie les probl√®mes, fait des pr√©visions de d√©passement des limites.  De plus, des fonctionnalit√©s et des exp√©riences sont constamment lanc√©es, des mises √† jour et des modifications sont apport√©es.  Et nous surveillons l'effet de toutes ces actions via le syst√®me statistique.  Si elle refuse, nous ne pourrons pas apporter de modifications au site. <br><br>  Nos statistiques sont pr√©sent√©es principalement sous forme de graphiques.  En r√®gle g√©n√©rale, le graphique affiche plusieurs jours √† la fois, de sorte que la dynamique est claire.  Voici un exemple de mes exp√©riences avec Druid.  Voici un graphique de chargement des donn√©es (lignes / 5 min). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9b4/66b/1b1/9b466b1b191463f97dd3d192a8c4da42.jpg"><br><br>  J'ai ralenti le t√©l√©chargement (le graphique rouge tombe √† z√©ro), j'ai attendu un moment, j'ai red√©marr√© le t√©l√©chargement et j'ai regard√© √† quelle vitesse Druid pouvait charger les donn√©es accumul√©es (pics apr√®s √©checs). <br><br>  Toute planification peut √™tre d√©velopp√©e par n'importe quel param√®tre, par exemple, par h√¥te, table, op√©ration, etc.  Nous avons √©galement des graphiques √† long terme avec une dynamique annuelle.  Par exemple, ci-dessous est un graphique de l'augmentation quotidienne du nombre d'entr√©es dans Druid. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d9d/b52/45d/d9db5245dca91cc7cbdeee071b3529fa.png"><br><br>  Nous pouvons √©galement combiner plusieurs graphiques sur des panneaux s√©par√©s (tableaux de bord), ce qui s'est av√©r√© tr√®s pratique.  Et m√™me si l'utilisateur n'a besoin de voir que quelques centaines de graphiques, il les ouvre toujours non pas individuellement, mais dans le panneau, ce qui augmente la charge sur le syst√®me. <br><br><h2>  Le probl√®me </h2><br>  Alors que le volume de donn√©es √©tait petit, nous avons assez bien g√©r√© SQL.  Mais √† mesure que le volume de donn√©es augmentait, la production de graphiques ralentissait.  Et √† la fin, les statistiques aux heures de pointe ont commenc√© √† accuser un retard d'une demi-heure, et le temps de r√©ponse moyen d'un graphique a atteint 6 secondes.  Autrement dit, quelqu'un a re√ßu le calendrier en 2 secondes, quelqu'un en 10-20 et quelqu'un en une minute.  (Vous pouvez en savoir plus sur le d√©veloppement du syst√®me en SQL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ) <br><br>  Lorsque vous enqu√™tez sur une anomalie ou un incident, vous devez g√©n√©ralement ouvrir et voir une douzaine de graphiques, dont chacun d√©coule du pr√©c√©dent, ils ne peuvent pas √™tre ouverts en m√™me temps.  J'ai d√ª attendre 10 fois pendant 10-20 secondes.  C'√©tait tr√®s ennuyeux. <br><br><h2>  La migration </h2><br>  Vous pouvez toujours extraire quelque chose du syst√®me, ajouter des serveurs ... Mais √† peu pr√®s au m√™me moment, Microsoft a chang√© sa politique de licence.  Si nous continuions √† utiliser SQL Server, nous devions donner des millions de dollars.  Par cons√©quent, ils ont d√©cid√© de migrer. <br><br>  Les exigences √©taient les suivantes: <br><br><ul><li>  Les statistiques ne doivent pas √™tre √† la tra√Æne (plus de 2 minutes). </li><li>  Le graphique devrait s'ouvrir en moins de 2 secondes. </li><li>  Le panneau entier doit s'ouvrir en moins de 10 secondes. </li><li>  Le syst√®me doit √™tre tol√©rant aux pannes, capable de survivre √† la perte d'un centre de donn√©es. </li><li>  Le syst√®me doit √™tre facilement √©volutif. </li><li>  Le syst√®me devrait √™tre facile √† modifier, nous voulions donc qu'il soit en Java. </li></ul><br>  Tout cela ne nous a √©t√© offert que par des druides.  Il dispose √©galement d'une agr√©gation pr√©liminaire, qui vous permet d'√©conomiser un peu plus de volume et d'indexation lors de l'insertion des donn√©es.  Druid prend en charge tous les types de requ√™tes n√©cessaires √† nos statistiques.  Par cons√©quent, il semblait que nous pouvions facilement remplacer Druid par SQL Server. <br><br>  Bien s√ªr, nous avons consid√©r√© non seulement Druide pour le r√¥le de candidat au d√©m√©nagement.  Ma premi√®re pens√©e a √©t√© de remplacer Microsoft SQL Server par PostgreSQL.  Cependant, cela ne r√©soudrait que le probl√®me des co√ªts financiers, mais ne contribuerait pas √† l'accessibilit√© et √† la mise √† l'√©chelle. <br><br>  Nous avons √©galement analys√© Influx, mais il s'est av√©r√© que la partie responsable de la haute disponibilit√© et de l'√©volutivit√© est ferm√©e.  Prometheus, avec tout le respect d√ª √† ses performances, est plus adapt√© √† la surveillance et ne peut se targuer ni de haute disponibilit√© ni de simple √©volutivit√©.  OpenTSDB est √©galement plus adapt√© √† la surveillance, il n'a pas d'index pour tous les champs.  Nous n'avons pas consid√©r√© Click House, car √† cette √©poque, il n'√©tait pas l√†. <br><br>  Mettez Druid.  T√©raoctets de donn√©es migr√©s.  Et imm√©diatement apr√®s le passage de SQL Server √† Druid, le nombre de vues graphiques a √©t√© multipli√© par 5.  Ensuite, ils ont commenc√© √† ex√©cuter des statistiques ¬´lourdes¬ª, qu'ils avaient peur d'ex√©cuter plus t√¥t, car  SQL ne le g√©rerait gu√®re. <br><br>  D√©sormais, Druid √† partir de 12 n≈ìuds (40 c≈ìurs, 196 Go de RAM) prend 500 000 √©v√©nements par seconde par heure de pointe, alors qu'il existe une grande marge de s√©curit√© (colonne MAX: presque cinq fois la marge du processeur). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/833/336/d09/833336d095db6e9d32da19dae981d474.png" width="500"><br><br>  Ces chiffres sont bas√©s sur des donn√©es de production.  Je vais vous dire comment nous y sommes parvenus, mais je vais d'abord d√©crire Druid plus en d√©tail. <br><br><h2>  Druide </h2><br>  Il s'agit d'un syst√®me OLAP √† colonnes temporelles r√©parties.  Sa documentation ne contient pas les concepts habituels du monde SQL pour une table (source de donn√©es √† la place) ou une cha√Æne (√©v√©nement √† la place), mais je les utiliserai pour faciliter la description. <br><br>  Druid est bas√© sur plusieurs hypoth√®ses de donn√©es (limitations): <br><br><ul><li>  chaque ligne de donn√©es a un horodatage qui cro√Æt de fa√ßon monotone (dans une fen√™tre de 10 minutes par d√©faut). </li><li>  les donn√©es ne changent pas, ins√©rer uniquement (op√©ration de mise √† jour non). </li></ul><br>  Cela vous permet de d√©couper les donn√©es en soi-disant segments de temps.  Un segment est une "partition" minimale indivisible et invariable d'une table pendant une certaine p√©riode de temps.  Toutes les op√©rations de donn√©es, toutes les requ√™tes sont effectu√©es segment par segment. <br><br>  Chaque segment est autosuffisant: en plus de la table principale, √©crite sous forme de colonnes, il contient √©galement les r√©pertoires et index n√©cessaires √† l'ex√©cution des requ√™tes.  Nous pouvons dire qu'un segment est une base de donn√©es en lecture seule √† petite colonne (une description plus d√©taill√©e du p√©riph√©rique de segment sera donn√©e ci-dessous). <br><br>  √Ä son tour, cela se traduit par une ¬´distribution¬ª: la capacit√© de diviser une grande quantit√© de donn√©es en petits segments afin d'effectuer des calculs en parall√®le (√† la fois sur une machine et sur plusieurs √† la fois). <br><br>  Si vous devez ¬´mettre √† niveau¬ª au moins une ligne, vous devrez recharger √† nouveau l'int√©gralit√© du segment.  C'est possible et tout est pr√™t pour cela.  Chaque segment a une version, et un segment avec une version plus r√©cente remplacera automatiquement le segment avec l'ancienne version (cependant, si une mise √† jour est requise r√©guli√®rement, vous devez r√©√©valuer si Druid est adapt√© √† ce cas d'utilisation). <br><br>  Pour d√©crire le segment de p√©riph√©rique, nous consid√©rons un exemple simple sous la forme tabulaire habituelle: <br><br><img src="https://habrastorage.org/webt/7l/pb/hw/7lpbhwalmq7ogn5qnaq2gjrkzua.png" width="600"><br><br>  Dans ce tableau, le nombre d'appels en deux cinq minutes √† partir de quatre h√¥tes (notez que pour l'h√¥te web1, il y a deux lignes dans chaque p√©riode de cinq minutes). <br><br>  Toutes les cellules de donn√©es du point de vue du druide sont divis√©es en trois types: <br><br><ul><li>  timestamp - Horodatage UTC en ms (dans l'exemple c'est Time). </li><li>  les m√©triques sont ce que vous devez calculer (somme, min, max, nombre, ...), et vous devez les conna√Ætre √† l'avance pour chaque table (dans l'exemple, il s'agit d'Appels, et nous calculerons la somme). </li><li>  dimensions - c'est ce que vous pouvez regrouper et filtrer (vous n'avez pas besoin de les conna√Ætre √† l'avance et vous pouvez les modifier √† la vol√©e) (dans l'exemple, il s'agit de l'h√¥te). </li></ul><br>  Lors de l'insertion, toutes les lignes sont regroup√©es par l'ensemble complet de dimensions + horodatage, et si elles correspondent √† chacune des m√©triques, ¬´sa¬ª fonction d'agr√©gation est appliqu√©e (en cons√©quence, il n'y a pas de lignes avec le m√™me ensemble de dimensions + horodatage).  Ainsi, notre exemple apr√®s insertion dans le druide ressemblera √† ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb8/8b9/e64/eb88b9e64bdafc870ca39646e4c0a4fb.png" width="500"><br><br>  L'horodatage et toutes les m√©triques (dans notre cas, il s'agit du temps et des appels) seront √©crits sous forme de tableaux de nombres de type long (float et double sont √©galement pris en charge).  Pour chacune des dimensions (dans notre cas, c'est Host), un dictionnaire sera cr√©√© - un ensemble tri√© de cha√Ænes (avec les noms d'h√¥te).  La colonne h√¥te elle-m√™me sera √©crite comme un tableau int, indiquant les nombres dans le dictionnaire. <br><br>  Veuillez noter qu'apr√®s l'insertion dans le druide, des paires de lignes pour l'h√¥te web1 avec le m√™me horodatage ont √©t√© agr√©g√©es et le montant total a √©t√© enregistr√© dans les appels (il est impossible d'extraire les donn√©es initiales du druide). <br><br>  Les index sont n√©cessaires pour un filtrage rapide des donn√©es, car il peut y avoir des millions de lignes et des milliers d'h√¥tes.  Les index sont des bitmaps, un pour chaque ligne du dictionnaire. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f32/bb5/edd/f32bb5eddba3c14b6ef241057f061724.png" width="500"><br><br>  Les unit√©s indiquent les num√©ros de ligne auxquels cet h√¥te participe.  Pour filtrer deux h√¥tes, vous devez prendre deux bitmaps, les combiner via OR et s√©lectionner les num√©ros de ligne en unit√©s du bitmap r√©sultant. <br><br><h2>  Un druide est compos√© de nombreux composants. </h2><br>  Premi√®rement, il a plusieurs d√©pendances externes. <br><br><img src="https://habrastorage.org/webt/rd/zs/uo/rdzsuo03og7v4whzfi5rz4m6qss.png" width="400"><br><br><ol><li>  Stockage  L√†, Druid stocke simplement les segments sous une forme compress√©e.  Il peut s'agir d'un r√©pertoire local, HDFS, Amazon S3.  Seul l'espace est utilis√© ici, aucun calcul n'est effectu√©. </li><li>  Meta: une base de donn√©es pour les informations Meta.  Cette base de donn√©es stocke la carte de donn√©es compl√®te: quels segments sont pertinents, qui sont obsol√®tes, quel chemin est en stockage. </li><li>  √Ä l'aide de ZooKeeper, le syst√®me effectue la d√©couverte et annonce sur quels n≈ìuds de druide quels segments sont disponibles pour la requ√™te. </li><li>  Cache des requ√™tes ex√©cut√©es, il peut √™tre un cache memcached ou local dans le tas java. </li></ol><br>  Deuxi√®mement, Druid lui-m√™me se compose de plusieurs types de composants. <br><br><ol><li>  Les n≈ìuds en temps r√©el chargent le flux de nouvelles donn√©es dans l'ordre de leur r√©ception et r√©pondent aux demandes. </li><li>  Les n≈ìuds historiques contiennent l'int√©gralit√© de la masse de donn√©es et r√©pondent aux demandes.  Lorsque nous disons que nous avons un cluster de 300 To, nous voulons dire des n≈ìuds historiques. </li><li>  Le courtier est responsable de la distribution des calculs entre les n≈ìuds historiques et en temps r√©el. </li><li>  Le coordinateur est responsable de l'allocation des segments sur les n≈ìuds historiques et de la r√©plication. </li><li>  Service d'indexation, qui vous permet de (re) charger des donn√©es par lots, par exemple, pour "mettre √† niveau" une partie des donn√©es. </li></ol><br><h2>  Flux de donn√©es </h2><br><img src="https://habrastorage.org/webt/gh/yg/pc/ghygpcnsakfac9x6dqrjtjjagdc.png" width="400"><br>  <i>Les fl√®ches en gras indiquent un flux de donn√©es, les fl√®ches fines indiquent un flux de m√©tadonn√©es.</i> <br><br>  Un n≈ìud en temps r√©el prend des donn√©es, indexe et coupe en segments par heure, par exemple par jour. <br><br>  Chaque nouveau segment d'un n≈ìud en temps r√©el √©crit dans le stockage et laisse une copie pour r√©pondre aux demandes.  Il enregistre ensuite les m√©tadonn√©es qu'un nouveau segment est apparu dans le r√©f√©rentiel le long de tel ou tel chemin. <br><br>  Ces informations sont re√ßues par le coordinateur, relisant p√©riodiquement la base de m√©tadonn√©es.  Lorsqu'il trouve un nouveau segment, (via ZooKeeper) ordonne √† plusieurs n≈ìuds historiques de t√©l√©charger ce segment.  Ils t√©l√©chargent et (via ZooKeeper) annoncent qu'ils ont un nouveau segment.  Lorsqu'un n≈ìud en temps r√©el re√ßoit ce message (via ZooKeeper), il supprime sa copie pour faire de la place pour de nouvelles donn√©es. <br><br><h2>  Traitement des demandes </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/c1f/8f5/e8f/c1f8f5e8fcc11c157c7ab10311ae977a.png"><br><br>  Trois types de n≈ìuds participent au traitement des demandes: courtier, temps r√©el et historique.  La demande parvient au courtier, qui sait sur quels n≈ìuds quels segments sont situ√©s.  Il distribue la demande par des n≈ìuds historiques (et en temps r√©el) qui stockent les segments souhait√©s.  Les n≈ìuds historiques parall√©lisent aussi autant que possible les calculs, envoient les r√©sultats au courtier et les remettent au client.  En combinant ce sch√©ma avec le stockage des donn√©es de colonne, Druid peut traiter de grandes quantit√©s d'informations tr√®s rapidement. <br><br><h2>  Haute disponibilit√© </h2><br>  Comme vous vous en souvenez, Druid dans la liste des d√©pendances a une base pour les m√©tadonn√©es, qui peuvent √™tre MySQL ou PostgreSQL.  Apache Derby est √©galement mentionn√©, mais ce produit ne peut pas √™tre utilis√© pour la production, uniquement pour le d√©veloppement (si je comprends bien, derby est utilis√© sous une forme int√©gr√©e, afin de ne pas augmenter mysql / pgsql dans un environnement virgo). <br><br>  Que se passera-t-il si cette base √©choue (et / ou le stockage et / ou le coordinateur)?  Un n≈ìud en temps r√©el ne peut pas √©crire de m√©tadonn√©es (et / ou de segments).  Le coordinateur ne pourra alors pas les relire et ne trouvera pas de nouveau segment.  Le n≈ìud historique ne le t√©l√©chargera pas et le n≈ìud en temps r√©el ne supprimera pas sa copie, mais continuera de t√©l√©charger les derni√®res donn√©es.  En cons√©quence, les donn√©es commenceront √† s'accumuler dans les n≈ìuds en temps r√©el.  Cela ne peut pas durer ind√©finiment.  N√©anmoins, on sait quelles ressources sont disponibles sur les n≈ìuds en temps r√©el et quel type de flux de donn√©es nous avons.  Par cons√©quent, nous disposons d'un d√©lai pr√©visible pendant lequel nous pouvons r√©parer la base d√©faillante (et / ou le stockage et / ou le coordinateur). <br><br>  √âtant donn√© que mysql / pgsql pris en charge ne garantit pas une haute disponibilit√© pr√™te √† l'emploi, nous avons d√©cid√© de la jouer en toute s√©curit√© et avons utilis√© notre propre solution (pr√™te √† l'emploi) bas√©e sur Cassandra, car elle fournit une haute disponibilit√© (vous pouvez en savoir plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ). <br><br>  De plus, nous avons finalis√© les n≈ìuds en temps r√©el de telle mani√®re qu'avec une accumulation excessive, les donn√©es les plus anciennes soient supprim√©es, lib√©rant ainsi de l'espace pour les nouvelles.  C'est tr√®s important pour nous, car la situation o√π nous ne pouvons pas √©lever une base d√©faillante (et / ou un stockage et / ou un coordinateur) pendant une longue p√©riode et que beaucoup de donn√©es s'accumulent est probablement la cons√©quence d'un gros accident.  Et en ce moment, les derni√®res donn√©es sont les plus importantes. <br><br><h2>  Druide et ZooKeeper </h2><br>  Avec ZooKeeper, tout va de mieux en pire.  Mieux parce que ZooKeeper lui-m√™me est tol√©rant aux pannes, il a une r√©plication pr√™te √† l'emploi.  Il semblerait que cela pourrait arriver? <br><br>  D'une mani√®re g√©n√©rale, ce chapitre n'est plus d'actualit√©.  Et ce n'est pas une r√©ussite, c'est une douleur qui (nous et le nouveau druide frais) a d√©cid√© de supprimer radicalement presque toutes les donn√©es de ZooKeeper, et maintenant les n≈ìuds de druides les demandent directement les uns des autres via HTTP. <br><br>  ZooKeeper a deux types de d√©lais d'expiration.  Le d√©lai d'expiration de la connexion est un d√©lai d'expiration r√©seau simple, apr√®s quoi le client se reconnecte √† ZooKeeper et tente de restaurer sa session.  Et le d√©lai d'expiration de la session, apr√®s quoi la session est supprim√©e et toutes <i>les</i> donn√©es <i>√©ph√©m√®res</i> cr√©√©es dans cette session sont √©galement supprim√©s (par ZooKeeper lui-m√™me), qui est notifi√© √† tous les autres clients ZooKeeper. <br><br>  Sur cette base, la d√©couverte dans le druide fonctionne: au d√©marrage, chaque n≈ìud cr√©e une nouvelle session dans ZooKeeper et √©crit <i>des</i> donn√©es <i>√©ph√©m√®res</i> sur lui-m√™me: h√¥te: port, type de n≈ìud (courtier / temps r√©el / historique / ...), horodatage de la connexion, etc. ... D'autres n≈ìuds de druide re√ßoivent des notifications de ZooKeeper et lisent ces donn√©es, afin qu'ils apprennent qu'un nouveau n≈ìud de druide est apparu et de quel type de n≈ìud il s'agit.  Si un n≈ìud de druide tombe apr√®s l'expiration de sa session, les donn√©es le concernant seront supprim√©es par ZooKeeper et les autres n≈ìuds de druide le sauront.  Pour qu'ils en sachent plus vite, nous pr√©f√©rons mettre un petit timeout de session. <br><br>  Lorsqu'un n≈ìud en temps r√©el ou historique monte, il, en plus des donn√©es le concernant, √©crit √©galement dans ZooKeeper une liste de segments qu'il poss√®de (il s'agit √©galement de donn√©es <i>√©ph√©m√®res</i> ).  Plus loin sur le chemin, les segments sur les n≈ìuds historiques et en temps r√©el sont cr√©√©s nouveaux et anciens sont supprim√©s, et chaque n≈ìud refl√®te cela dans sa liste dans ZooKeeper.  Cette liste peut √™tre volumineuse, elle est donc divis√©e en parties afin que toute la liste ne soit pas remplac√©e, mais uniquement la partie modifi√©e. <br>  Le courtier, √† son tour, lorsqu'il voit un nouveau n≈ìud en temps r√©el ou historique, soustrait √©galement sa liste de segments √† ZooKeeper afin de distribuer les demandes √† ce n≈ìud.  Les n≈ìuds en temps r√©el lisent cette liste pour supprimer leur copie du segment apparu sur le n≈ìud historique.  √âtant donn√© que la liste est divis√©e en parties et est remplac√©e en parties, ZooKeeper vous indiquera quelle partie a √©t√© modifi√©e, mais elle sera relue. <br><br>  Comme je l'ai dit, cette liste peut √™tre longue.  Lorsqu'il y a beaucoup de donn√©es dans ZooKeeper, il s'av√®re qu'il n'est plus aussi stable.  Dans notre cas, des probl√®mes √©vidents ont commenc√© lorsque le nombre de segments a atteint environ 7 millions, l'instantan√© ZooKeeper occupait alors 6 Go. <br>  Que se passe-t-il si un n≈ìud druide perd contact avec ZooKeeper? <br><br>  Druid travaille avec ZooKeeper de telle mani√®re que dans le cas d'un d√©lai d'expiration de session, chaque n≈ìud cr√©e une nouvelle session et y √©crit toutes ses donn√©es et relit les donn√©es des autres n≈ìuds.  Puisqu'il y a beaucoup de donn√©es, le trafic d√©colle sur ZooKeeper.  Cela peut entra√Æner un d√©lai d'attente sur d'autres n≈ìuds du druide, puis, eux aussi, commencent √† r√©√©crire et √† relire.  Ainsi, le trafic augmente comme une avalanche au point que ZooKeeper perd la synchronisation entre ses instances et commence √† g√©n√©rer des instantan√©s d'avant en arri√®re. <br><br>  Que voit l'utilisateur en ce moment? <br><br>  Lorsqu'un courtier perd contact avec ZooKeeper (et qu'un d√©lai d'expiration de session se produit), il ne sait plus sur quels segments se trouvent les n≈ìuds historiques.  Et donne des r√©ponses vides.  Autrement dit, si ZooKeeper est en panne, alors Druid ne fonctionne pas.  Il est totalement impossible de le ¬´gu√©rir¬ª, mais il est possible d'√©taler des pailles √† certains endroits. <br>  Premi√®rement, vous pouvez supprimer des donn√©es de ZooKeeper.  Ce n'est pas grave s'ils se perdent: Druid les √©crasera simplement.  Si le probl√®me avec ZooKeeper a d√©j√† commenc√©, alors pour sa solution la plus rapide, il est recommand√© de d√©sactiver ZooKeeper, de supprimer les donn√©es et de les augmenter, et de ne pas attendre qu'elles se r√©solvent. <br><br>  Maintenant, nous augmentons le d√©lai d'expiration de la session.  Que se passe-t-il dans ce cas? <br><br>  Supposons que le n≈ìud historique ne red√©marre pas correctement et ne supprime pas l'ancienne session de ZooKeeper, tout en en cr√©ant une nouvelle et en y √©crivant un tas de donn√©es.  Alors que l'ancienne session est toujours en vie et que le d√©lai d'expiration n'est pas √©coul√©, deux copies des donn√©es sont stock√©es dans ZooKeeper.  S'il existe de nombreux n≈ìuds red√©marr√©s imm√©diatement, un grand nombre de donn√©es seront dupliqu√©es.  Par cons√©quent, vous devez conserver une r√©serve de m√©moire pour ZooKeeper afin qu'elle ne s'√©puise pas et que ZooKeeper ne cesse pas de fonctionner.  Pourquoi n'a pas pu supprimer les donn√©es de l'ancienne session? <br><br>  Pour la m√™me raison, il est n√©cessaire de terminer correctement le fonctionnement des n≈ìuds historiques, car √† ce moment, ils suppriment leurs donn√©es de ZooKeeper, et peuvent le faire pendant une longue p√©riode.  L'ach√®vement des n≈ìuds historiques prend environ une demi-heure. <br><br>  Les n≈ìuds historiques ont une fonctionnalit√© suppl√©mentaire.  Au d√©marrage, ils examinent les segments qui y sont stock√©s, puis les informations √† ce sujet sont √©crites dans ZooKeeper.  Et comme les donn√©es sont r√©parties plus ou moins uniform√©ment sur les n≈ìuds historiques, si vous les ex√©cutez en m√™me temps, ils commenceront √† √©crire sur ZooKeeper √† peu pr√®s au m√™me moment.  Cela augmente √† nouveau la probabilit√© d'une croissance du trafic semblable √† une vague et de d√©lais d'attente.  Par cons√©quent, vous devez ex√©cuter les n≈ìuds historiques de mani√®re s√©quentielle afin de r√©partir les sessions d'enregistrement dans ZooKeeper dans le temps. <br><br>  Nous avons √©galement fait deux optimisations suppl√©mentaires: <br><br><ul><li>  Nous avons l√©g√®rement reprogramm√© le travail avec ZooKeeper afin que seuls les n≈ìuds qui en ont besoin soient lus depuis Druid.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et ils ne sont n√©cessaires que par le temps r√©el, le courtier et le coordinateur, mais pas par les n≈ìuds historiques. </font><font style="vertical-align: inherit;">Ils n'ont pas besoin de savoir quels autres n≈ìuds historiques ont des segments. </font><font style="vertical-align: inherit;">De plus, tout cela n'est pas n√©cessaire pour le service d'indexation et ses employ√©s, qui peuvent √™tre nombreux.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des donn√©es √©crites sur ZooKeeper, ils ont supprim√© tout ce qui √©tait superflu et n'ont laiss√© que ce qui √©tait n√©cessaire pour r√©pondre aux demandes. </font><font style="vertical-align: inherit;">Cela a r√©duit la quantit√© de donn√©es dans ZooKeeper de 6 Go √† 2 Go (c'est la taille de l'instantan√©).</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cons√©quence, le volume du trafic en forte croissance a diminu√© d'environ 8 fois; </font><font style="vertical-align: inherit;">ainsi, nous avons minimis√© la probabilit√© d'expiration des ventilateurs.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T√©l√©charger sur Druid </font></font></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/2f4/71b/9a9/2f471b9a9927b4075e3dcc9bba8333cc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors du chargement des donn√©es en temps r√©el, le n≈ìud lib√®re p√©riodiquement de la m√©moire en vidant les donn√©es en parties sur le disque. Techniquement, ces parties sont des mini-segments (chacun a une table, des r√©pertoires, des index). Et pour le traitement des demandes bas√©es sur ces donn√©es, elles sont extraites en utilisant MMAP (ainsi que des segments complets). √Ä la fin du chargement, un segment de ces pi√®ces s'accumule. Deux points sont li√©s √† cela. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, un n≈ìud en temps r√©el peut corrompre des donn√©es, non seulement lors d'un plantage JVM ou d'un red√©marrage inattendu du serveur, mais m√™me lors d'un red√©marrage correct.</font></font><br><br><img src="https://habrastorage.org/webt/on/uk/w1/onukw1xyab_eojgwxynlsxjr6qc.png" width="500"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voil√† pourquoi cela se produit. Le processus de vidage des donn√©es sur disque se compose de deux parties: 1) le rin√ßage direct des donn√©es et 2) le maintien de la position √† partir de laquelle d√©marrer apr√®s un red√©marrage. Ces deux types de donn√©es sont enregistr√©s de mani√®re totalement ind√©pendante, ils ne se connaissent pas. Et, bien s√ªr, pas atomiquement. Et selon ce qui est exactement perdu, nous avons soit une perte de donn√©es, soit une duplication. (Pour le moment, dans le druide d'origine, cela est activement r√©par√©, mais pas r√©par√©). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce probl√®me peut √™tre r√©solu si vous n'utilisez pas de n≈ìuds en temps r√©el et ne chargez pas de donn√©es √† l'aide du service d'indexation, ou si vous les utilisez par paires, car le service d'indexation n'enregistre pas du tout la position, il chargera le segment entier ou supprimera ce qu'il n'a pas r√©ussi √† charger (pour une raison quelconque).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le deuxi√®me point est la d√©gradation des performances √† la demande. </font><font style="vertical-align: inherit;">Plus ces parties s'accumulent sur le disque, en particulier sur les donn√©es et les requ√™tes volumineuses, pire c'est. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour comprendre ce probl√®me, nous devons revenir au segment de p√©riph√©rique dans Druid et √† notre exemple. </font><font style="vertical-align: inherit;">Comme je l'ai montr√© plus t√¥t, apr√®s avoir charg√© les donn√©es de l'exemple dans le druide, le segment r√©sultant ressemblera √† un ensemble de colonnes, un dictionnaire et des index. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f32/bb5/edd/f32bb5eddba3c14b6ef241057f061724.png" width="500"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyons maintenant comment fonctionne la requ√™te sur ce segment. </font><font style="vertical-align: inherit;">Supposons que vous deviez calculer le nombre total d'appels pour plusieurs classes d'h√¥tes (web%, api%).</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Druide prendra d'abord le premier filtre, une expression r√©guli√®re. </font><font style="vertical-align: inherit;">Avec son aide, il traite l'int√©gralit√© du dictionnaire et trouve les h√¥tes correspondant au filtre.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il prendra les bitmaps appropri√©s, fusionnera et l'enregistrera dans un bitmap interm√©diaire. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ensuite, Druid prendra la deuxi√®me saison r√©guli√®re, le deuxi√®me filtre, faites de m√™me: parcourez le dictionnaire, prenez les bitmaps, combinez, obtenez le deuxi√®me bitmap interm√©diaire. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √Ä la fin de Druid, le paquet r√©sultant de bitmaps interm√©diaires est combin√© dans un bitmap final, qui montrera √† partir de quelles lignes nous devons additionner les appels. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En utilisant le profileur, j'ai d√©couvert que lors du traitement d'une demande, 5% du temps est consacr√© au calcul du montant et 95% au filtrage. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyons maintenant ce qui se passe lorsqu'un n≈ìud en temps r√©el vide les donn√©es au niveau du disque au d√©marrage. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/76b/30d/618/76b30d618474a0cd9afdf6aa40af6b90.png" width="500"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons commenc√© √† t√©l√©charger des donn√©es, une partie vid√© (√† 10:45) sur le disque. </font><font style="vertical-align: inherit;">Il s'est av√©r√© un mini-segment avec trois colonnes, un dictionnaire et des index bitmap. </font><font style="vertical-align: inherit;">Nous t√©l√©chargeons plus loin, r√©initialisons la deuxi√®me partie (√† 10:50) sur le disque, encore une fois nous avons un mini-segment.</font></font> Et ainsi de suite.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nous analysons en parties, nous remarquerons que les colonnes ¬´appels¬ª, ¬´temps¬ª et ¬´h√¥te¬ª dans ces parties ont √©t√© coup√©es proportionnellement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais avec le dictionnaire et les index, cela sort diff√©remment. Chaque h√¥te, une fois toutes les cinq minutes, vide ses donn√©es, de sorte que tous les h√¥tes sont ¬´marqu√©s¬ª dans chaque partie du vidage sur disque. Le dictionnaire est √©galement volumineux, il n'est coup√© d'aucune fa√ßon et il contient autant d'index. Lors du traitement d'une demande, l'it√©ration dans le dictionnaire et la combinaison de bitmaps (ce qui prend 95% du temps) doit √™tre effectu√©e pour chacune des parties, de sorte que la d√©pendance est presque lin√©aire: plus il y a de parties, plus la demande dure. Ce n'est presque pas visible dans le dictionnaire jusqu'√† 100 valeurs, et il deviendra tr√®s visible de ralentir lorsqu'il y en a plus de 1000.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que peut-on faire √† ce sujet? Vous pouvez contr√¥ler le nombre de pi√®ces vid√©es sur le disque. Par exemple, si vous avez un segment quotidien et que les requ√™tes ralentissent dans les n≈ìuds en temps r√©el, r√©duisez-le √† toutes les heures. Ensuite, le nombre de pi√®ces sera r√©duit proportionnellement (car les donn√©es se d√©placeront plus rapidement vers les n≈ìuds historiques et seront supprim√©es des n≈ìuds en temps r√©el), et elles ralentiront proportionnellement moins. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe √©galement deux param√®tres qui vous permettent de contr√¥ler la fr√©quence de vidage de ces pi√®ces sur le disque: le nombre maximal de lignes en m√©moire et l'intervalle de vidage sur le disque. Par exemple, vous pouvez le r√©initialiser non pas toutes les cinq minutes, mais toutes les demi-heures. Et pas tous les 100 000 lignes, mais tous les millions. Ensuite, les pi√®ces deviendront plus petites et tout fonctionnera plusieurs fois plus rapidement.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a encore un point important. </font><font style="vertical-align: inherit;">Parfois, 80% du temps pass√© √† filtrer prend un dictionnaire pour parcourir les expressions r√©guli√®res plut√¥t que de combiner des bitmaps. </font><font style="vertical-align: inherit;">Nous ne le savions pas et pendant la migration, tous les filtres ont √©t√© cr√©√©s des expressions r√©guli√®res. </font><font style="vertical-align: inherit;">Ce n'est pas n√©cessaire. </font><font style="vertical-align: inherit;">Lorsque nous filtrons selon la valeur exacte, nous devons utiliser un filtre du type s√©lecteur, car il trouvera la valeur souhait√©e par recherche binaire et obtiendra imm√©diatement le bitmap. </font><font style="vertical-align: inherit;">Cela fonctionne mille fois plus rapidement que l'expression r√©guli√®re.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimisation du ruban </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme vous le savez, dans tout r√©seau social, il existe un flux d'√©v√©nements qui recueille le contenu cr√©√© par toutes les √©quipes de d√©veloppement. Bien s√ªr, toutes ces √©quipes veulent regarder et √©crire des statistiques. Nous avons des statistiques de bande √©crites dans une seule plaque, 8 milliards de lignes par jour. Elle a frein√© m√™me en druide. Et le pire, c'est que quand il a ralenti, il a surcharg√© tout le druide, c'est-√†-dire que tout a ralenti pour tout le monde. Dans ces statistiques, il y avait un champ combin√©, qui se compose de plusieurs mots reli√©s par un point. Quelque chose comme √ßa: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c6d/917/10e/c6d91710e3436dc0feede42b3138baa0.png" width="500"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pouvons profiter de la photo sur le principal, dans l'album, dans le groupe. Il en va de m√™me pour la vid√©o et la musique. Nous pouvons √©galement partager des photos, des vid√©os et de la musique sur la page principale, dans l'album et dans le groupe. Et nous pouvons commenter tout. Un total de 27 combinaisons d'√©v√©nements. En cons√©quence, le dictionnaire aura 27 lignes, 27 bitmaps.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous voulons calculer le nombre de likes. </font><font style="vertical-align: inherit;">Cette requ√™te passe par une expression r√©guli√®re de 27 valeurs dans le dictionnaire, en s√©lectionne 9, obtient 9 bitmaps, combine et va compter. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, coupons-le en trois parties.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/710/585/fcb/710585fcb1dcf69e39a4a8e2faacc62f.png" width="500"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier est l'action: aimer, partager, commenter. </font><font style="vertical-align: inherit;">La deuxi√®me partie est un objet: photo, vid√©o, musique. </font><font style="vertical-align: inherit;">La troisi√®me partie est le lieu: sur la principale, dans l'album, dans le groupe. </font><font style="vertical-align: inherit;">Ensuite, la requ√™te ira dans un seul dictionnaire - une action dans laquelle il n'y a que trois valeurs et trois bitmaps. </font><font style="vertical-align: inherit;">Pour la puret√© de l'exp√©rience, supposons qu'il s'agit √©galement d'une expression r√©guli√®re. </font><font style="vertical-align: inherit;">Autrement dit, dans ce cas, il y aura trois expressions r√©guli√®res, et dans la pr√©c√©dente il y en avait 27. Il y avait 9 bitmaps, maintenant il y en a une. </font><font style="vertical-align: inherit;">En cons√©quence, nous avons r√©duit la r√©ussite du dictionnaire et la combinaison de bitmaps (ce qui prend 95% du temps) de 9 fois. </font><font style="vertical-align: inherit;">Et nous venons de couper un dictionnaire de 27 lignes en trois.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En r√©alit√©, nous avions 14 000 combinaisons. </font><font style="vertical-align: inherit;">En cons√©quence, dans notre dictionnaire, il y avait 14 000 valeurs et 14 000 bitmaps. </font><font style="vertical-align: inherit;">Par cons√©quent, lorsque nous avons coup√© ce champ en petites parties selon les mots, la vitesse des statistiques sur bande a √©t√© multipli√©e par 10 et la taille des donn√©es a √©t√© divis√©e par deux. </font><font style="vertical-align: inherit;">Maintenant, tout fonctionne rapidement.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Priorit√©s de demande </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais voici que vient l'utilisateur et veut voir les statistiques de l'ann√©e, c'est 2 To. Sur notre cluster, vous devez lever 11 Go √† partir du disque, cela prendra 74 secondes. L'utilisateur sait qu'il demande des donn√©es lourdes et est pr√™t √† attendre. Mais que feront les autres utilisateurs ces 74 secondes? Pour le dire doucement, ils seront nerveux et demanderont pourquoi les graphiques ne fonctionnent pas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Druid vous permet de prioriser les demandes. Nous avons essay√© de r√©duire la priorit√© pour les donn√©es lourdes, c'est devenu plus facile, mais cela a quand m√™me ralenti, car les priorit√©s fonctionnent au niveau de la file d'attente. Cela signifie que si une partie de la lourde demande a d√©j√† √©t√© trait√©e, tout le monde devra attendre. Ensuite, les requ√™tes l√©g√®res et rapides progressent, et les requ√™tes lourdes prennent √† nouveau toutes les ressources. On a le sentiment que le syst√®me travaille dur, √† la limite.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons profit√© du fait que Druid dispose de toutes les informations sur la demande et les donn√©es. Ils ont impl√©ment√© une hi√©rarchisation simple, qui d√©finit la priorit√© pour le nombre (en m√©gaoctets) de donn√©es que cette demande va transmettre. Dans le m√™me temps, nous avons fait 5 files d'attente: une pour les demandes les plus difficiles, une pour les plus l√©g√®res et trois interm√©diaires. Ils ont dispers√© les demandes de priorit√© calcul√©e. Chaque file d'attente a une priorit√© au niveau du syst√®me d'exploitation (d√©finie par des moyens standard et des param√®tres java), de sorte que les demandes rapides √©vincent les demandes lourdes. Maintenant, enfin, Druid a gagn√© comme vous l'attendez.</font></font><br><br><h2>  R√©sum√© </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons impl√©ment√© un syst√®me rapide, tol√©rant aux pannes et distribu√© au lieu de SQL Server, et n'avons pas donn√© plusieurs millions de dollars √† Microsoft. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons obtenu une √©volutivit√© horizontale facile, il vous suffit d'ajouter des disques et / ou des serveurs selon vos besoins. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons obtenu une grande marge de performance pour l'insertion de donn√©es et de requ√™tes, et la possibilit√© de d√©tailler nos statistiques par ordre de grandeur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actuellement, nous avons plus de 20 tableaux, dont chacun √©crit plus d'un milliard de lignes par jour, le plus grand √©crit 18 milliards de lignes par jour. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notre druide est presque enti√®rement transf√©r√© vers un cloud ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://habr.com/company/odnoklassniki/blog/346868/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), ce qui simplifie encore plus le processus de mise √† l'√©chelle.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420469/">https://habr.com/ru/post/fr420469/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420459/index.html">Ic√¥ne avec un compteur dans la barre d'outils sup√©rieure: un exemple d'une vari√©t√© d'approches pour une t√¢che</a></li>
<li><a href="../fr420461/index.html">10 citations de mauvais designers</a></li>
<li><a href="../fr420463/index.html">ICO √† juste titre en d√©clin, mais ils ont une chance de changer</a></li>
<li><a href="../fr420465/index.html">Variables Nginx avec njs: simples, indolores et via JavaScript</a></li>
<li><a href="../fr420467/index.html">Enveloppeur C ++ pour "tous" les syst√®mes d'exploitation en temps r√©el pour CortexM4</a></li>
<li><a href="../fr420471/index.html">Trois rapports techniques RIT 2018 par Plesk</a></li>
<li><a href="../fr420473/index.html">Livres pour cadres d√©butants ou pourquoi il est si important de lire</a></li>
<li><a href="../fr420475/index.html">Comparaison des machines de d√©coupe laser Raylogic 11G et Raylogic V12</a></li>
<li><a href="../fr420477/index.html">Revue HyperX Cloud Stinger Core: un casque de personnage l√©ger et robuste</a></li>
<li><a href="../fr420479/index.html">Injection de d√©pendances dans le service Apache Ignite.NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>