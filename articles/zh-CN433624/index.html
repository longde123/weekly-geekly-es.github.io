<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ…ğŸ½ ğŸ“Š ğŸ¤ª å­¦ä¹ Rustï¼šæˆ‘å¦‚ä½•ä¸Azulè¿›è¡ŒUDPèŠå¤© ğŸ ğŸ•˜ ğŸ§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä¸€ç›´åœ¨å­¦ä¹ Rustã€‚ æˆ‘è¿˜æ˜¯ä¸å¤ªäº†è§£ï¼Œæ‰€ä»¥æˆ‘çŠ¯äº†å¾ˆå¤šé”™è¯¯ã€‚ ä¸Šä¸€æ¬¡æˆ‘å°è¯•åˆ¶ä½œSnakeæ¸¸æˆã€‚ æˆ‘å°è¯•è¿‡å¾ªç¯ï¼Œæ”¶é›†ï¼Œä¸3D Three.rsä¸€èµ·å·¥ä½œã€‚ äº†è§£æœ‰å…³ggezå’ŒAmethystçš„ä¿¡æ¯ ã€‚ è¿™æ¬¡ï¼Œæˆ‘å°è¯•ä½¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨èŠå¤©ã€‚ å¯¹äºGUIä½¿ç”¨Azul ã€‚ è¿˜è§‚çœ‹äº†åº·ç½—å¾· ï¼Œ ç´«æ‰å’ŒOrbtk ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å­¦ä¹ Rustï¼šæˆ‘å¦‚ä½•ä¸Azulè¿›è¡ŒUDPèŠå¤©</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433624/"><img src="https://habrastorage.org/webt/zl/na/ih/zlnaihhfzb9dcso-bkwp_extqd4.jpeg"><br><br> æˆ‘ä¸€ç›´åœ¨å­¦ä¹ Rustã€‚ æˆ‘è¿˜æ˜¯ä¸å¤ªäº†è§£ï¼Œæ‰€ä»¥æˆ‘çŠ¯äº†å¾ˆå¤šé”™è¯¯ã€‚ ä¸Šä¸€æ¬¡æˆ‘å°è¯•åˆ¶ä½œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Snake</a>æ¸¸æˆã€‚ æˆ‘å°è¯•è¿‡å¾ªç¯ï¼Œæ”¶é›†ï¼Œä¸3D <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Three.rsä¸€èµ·</a>å·¥ä½œã€‚ äº†è§£æœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ggez</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Amethystçš„ä¿¡æ¯</a> ã€‚ è¿™æ¬¡ï¼Œæˆ‘å°è¯•ä½¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨èŠå¤©ã€‚ å¯¹äºGUIä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Azul</a> ã€‚ è¿˜è§‚çœ‹äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åº·ç½—å¾·</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç´«æ‰</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Orbtk</a> ã€‚ æˆ‘å°è¯•äº†å¤šçº¿ç¨‹ï¼Œæ¸ é“å’Œç½‘ç»œã€‚ æˆ‘è€ƒè™‘äº†ä¸Šä¸€ç¯‡æ–‡ç« çš„é”™è¯¯ï¼Œå¹¶å°è¯•å¯¹æ­¤è¿›è¡Œæ›´è¯¦ç»†çš„ä»‹ç»ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œæ¬¢è¿çŒ«ã€‚ <a name="habracut"></a><br><br>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¥æºï¼Œé€‚ç”¨äºWindows 10 x64</a> <br><br> å¯¹äºç½‘ç»œï¼Œæˆ‘ä½¿ç”¨UDPæ˜¯å› ä¸ºæˆ‘æƒ³ä½¿ç”¨è¯¥åè®®åˆ›å»ºä¸‹ä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”å¸Œæœ›åœ¨æ­¤å¤„è¿›è¡ŒåŸ¹è®­ã€‚ å¯¹äºGUIï¼Œæˆ‘è¿…é€Ÿåœ¨Rustä¸Šæ¾äº†é¡¹ç›®ï¼ŒæŸ¥çœ‹äº†å®ƒä»¬çš„åŸºæœ¬ç¤ºä¾‹ï¼ŒAzulè¿·ä¸Šäº†æˆ‘ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†æ–‡æ¡£å¯¹è±¡æ¨¡å‹å’Œç±»ä¼¼CSSçš„æ ·å¼å¼•æ“ï¼Œå¹¶ä¸”ä»äº‹äº†å¾ˆé•¿æ—¶é—´çš„Webå¼€å‘ã€‚ æ€»çš„æ¥è¯´ï¼Œæˆ‘æ˜¯ä¸»è§‚é€‰æ‹©æ¡†æ¶çš„ã€‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒæ˜¯å¤„äºæ·±å±‚æ¬¡çš„alphaä¸­ï¼šæ»šåŠ¨ä¸èµ·ä½œç”¨ï¼Œè¾“å…¥ç„¦ç‚¹ä¸èµ·ä½œç”¨ï¼Œæ²¡æœ‰å…‰æ ‡ã€‚ ä¸ºäº†åœ¨æ–‡æœ¬å­—æ®µä¸­è¾“å…¥æ•°æ®ï¼Œæ‚¨éœ€è¦å°†é¼ æ ‡æ‚¬åœåœ¨å…¶ä¸Šå¹¶åœ¨é”®å…¥æ—¶å°†å…¶ä¿æŒåœ¨å…¶æ­£ä¸Šæ–¹ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ›´å¤šç»†èŠ‚...</a> <br><br> å®é™…ä¸Šï¼Œå¤§å¤šæ•°æ–‡ç« éƒ½æ˜¯ä»£ç æ³¨é‡Šã€‚ <br><br><h2> é˜¿ç¥–å°” </h2><br> ä½¿ç”¨åŠŸèƒ½æ ·å¼ï¼ŒDOMï¼ŒCSSçš„GUIæ¡†æ¶ã€‚ æ‚¨çš„ç•Œé¢åŒ…å«ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œè¯¥å…ƒç´ å…·æœ‰è®¸å¤šåä»£ï¼Œè¿™äº›åä»£å¯ä»¥å…·æœ‰è‡ªå·±çš„åä»£ï¼Œä¾‹å¦‚HTMLå’ŒXMLã€‚ æ•´ä¸ªæ¥å£æ˜¯åŸºäºæ¥è‡ªå•ä¸ªDataModelçš„æ•°æ®åˆ›å»ºçš„ã€‚ å…¶ä¸­ï¼Œæ‰€æœ‰æ•°æ®é€šå¸¸éƒ½ä¼ è¾“åˆ°æ¼”ç¤ºæ–‡ç¨¿ä¸­ã€‚ å¦‚æœæœ‰äººç†Ÿæ‚‰ASP.NETï¼Œåˆ™AzulåŠå…¶æ•°æ®æ¨¡å‹å°±åƒRazoråŠå…¶ViewModelã€‚ ä¸åœ¨HTMLä¸­ä¸€æ ·ï¼Œæ‚¨å¯ä»¥å°†å‡½æ•°ç»‘å®šåˆ°DOMå…ƒç´ çš„äº‹ä»¶ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨CSSæ¡†æ¶è®¾ç½®å…ƒç´ çš„æ ·å¼ã€‚ è¿™ä¸HTMLçš„CSSä¸åŒï¼Œä½†æ˜¯éå¸¸ç›¸ä¼¼ã€‚ åœ¨WPFï¼ŒUWPä¸­ï¼Œè¿˜æœ‰Angularæˆ–MVVMä¸­çš„åŒå‘ç»‘å®šã€‚ æœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯¥ç½‘ç«™çš„</a>æ›´å¤šä¿¡æ¯ã€‚ <br><br><h2> å…¶ä½™æ¡†æ¶çš„ç®€è¦æ¦‚è¿° </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Orbtk-</a>å‡ ä¹ä¸Azulç›¸åŒï¼Œä¹Ÿä¸ºæ·±Alpha </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Conrod-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘</a>æ‚¨å¯ä»¥åˆ›å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ç¨‹åºã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yew</a>æ˜¯WebAssemblyï¼Œç±»ä¼¼äºReactã€‚ ç”¨äºWebå¼€å‘ã€‚ </li></ul><br><h2> é¡¾å®¢ </h2><br><h3> åˆ†ç»„ç”¨äºè¯»å†™å¥—æ¥å­—çš„è¾…åŠ©åŠŸèƒ½çš„ç»“æ„ </h3><br><pre><code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChatService</span></span></span></span> {} <span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> ChatService { <span class="hljs-comment"><span class="hljs-comment">//1 fn read_data(socket: &amp;Option&lt;UdpSocket&gt;) -&gt; Option&lt;String&gt; { //2 let mut buf = [0u8; 4096]; match socket { Some(s) =&gt; { //3 match s.recv(&amp;mut buf) { //4 Ok(count) =&gt; Some(String::from_utf8(buf[..count].into()) .expect("can't parse to String")), Err(e) =&gt; { //5 println!("Error {}", e); None } } } _ =&gt; None, } } //6 fn send_to_socket(message: String, socket: &amp;Option&lt;UdpSocket&gt;) { match socket { //7 Some(s) =&gt; { s.send(message.as_bytes()).expect("can't send"); } _ =&gt; return, } } }</span></span></code> </pre> <br><ol><li> ä»å¥—æ¥å­—è¯»å–æ•°æ® </li><li> ç”¨äºä»å¥—æ¥å­—è¯»å–æ•°æ®çš„ç¼“å†²åŒºã€‚ </li><li> é˜»æ­¢é€šè¯ã€‚ åœ¨è¿™é‡Œï¼Œæ‰§è¡Œçº¿ç¨‹åœæ­¢ï¼Œç›´åˆ°è¯»å–æ•°æ®æˆ–å‘ç”Ÿè¶…æ—¶ã€‚ </li><li> æˆ‘ä»¬ä»å­—èŠ‚æ•°ç»„ä¸­ä»¥UTF8ç¼–ç è·å–å­—ç¬¦ä¸²ã€‚ </li><li> å¦‚æœè¿æ¥è¢«è¶…æ—¶ä¸­æ–­æˆ–å‘ç”Ÿäº†å…¶ä»–é”™è¯¯ï¼Œæˆ‘ä»¬å°†åˆ°è¾¾æ­¤å¤„ã€‚ </li><li> å°†å­—ç¬¦ä¸²å‘é€åˆ°å¥—æ¥å­—ã€‚ </li><li> å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºUTF8ç¼–ç çš„å­—èŠ‚ï¼Œç„¶åå°†æ•°æ®å‘é€åˆ°å¥—æ¥å­—ã€‚ å°†æ•°æ®å†™å…¥å¥—æ¥å­—ä¸ä¼šé˜»å¡ï¼Œå³ æ‰§è¡Œçº¿ç¨‹å°†ç»§ç»­å…¶å·¥ä½œã€‚ å¦‚æœæ— æ³•å‘é€æ•°æ®ï¼Œåˆ™æˆ‘ä»¬ä¼šä»¥â€œæ— æ³•å‘é€â€æ¶ˆæ¯ä¸­æ–­ç¨‹åºã€‚ </li></ol><br><h3> ä¸€ç§å¯¹åŠŸèƒ½è¿›è¡Œåˆ†ç»„çš„ç»“æ„ï¼Œç”¨äºå¤„ç†æ¥è‡ªç”¨æˆ·çš„äº‹ä»¶å¹¶ä¿®æ”¹æˆ‘ä»¬çš„DataModel </h3><br><pre> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span></span> {} <span class="hljs-comment"><span class="hljs-comment">//1 const TIMEOUT_IN_MILLIS: u64 = 2000; impl Controller { //2 fn send_pressed(app_state: &amp;mut azul::prelude::AppState&lt;ChatDataModel&gt;, _event: azul::prelude::WindowEvent&lt;ChatDataModel&gt;) -&gt; azul::prelude::UpdateScreen { //3 let data = app_state.data.lock().unwrap(); //4 let message = data.messaging_model.text_input_state.text.clone(); data.messaging_model.text_input_state.text = "".into(); //5 ChatService::send_to_socket(message, &amp;data.messaging_model.socket); //6 azul::prelude::UpdateScreen::Redraw } //7 fn login_pressed(app_state: &amp;mut azul::prelude::AppState&lt;ChatDataModel&gt;, _event: azul::prelude::WindowEvent&lt;ChatDataModel&gt;) -&gt; azul::prelude::UpdateScreen { //8 use std::time::Duration; //9 if let Some(ref _s) = app_state.data.clone().lock().unwrap().messaging_model.socket { return azul::prelude::UpdateScreen::DontRedraw; } //10 app_state.add_task(Controller::read_from_socket_async, &amp;[]); //11 app_state.add_daemon(azul::prelude::Daemon::unique(azul::prelude::DaemonCallback(Controller::redraw_daemon))); //12 let mut data = app_state.data.lock().unwrap(); //13 let local_address = format!("127.0.0.1:{}", data.login_model.port_input.text.clone().trim()); //14 let socket = UdpSocket::bind(&amp;local_address) .expect(format!("can't bind socket to {}", local_address).as_str()); //15 let remote_address = data.login_model.address_input.text.clone().trim().to_string(); //16 socket.connect(&amp;remote_address) .expect(format!("can't connect to {}", &amp;remote_address).as_str()); //17 socket.set_read_timeout(Some(Duration::from_millis(TIMEOUT_IN_MILLIS))) .expect("can't set time out to read"); // 18 data.logged_in = true; // 19 data.messaging_model.socket = Option::Some(socket); //20 azul::prelude::UpdateScreen::Redraw } //21 fn read_from_socket_async(app_data: Arc&lt;Mutex&lt;ChatDataModel&gt;&gt;, _: Arc&lt;()&gt;) { //22 let socket = Controller::get_socket(app_data.clone()); loop { //23 if let Some(message) = ChatService::read_data(&amp;socket) { //24 app_data.modify(|state| { //25 state.messaging_model.has_new_message = true; //26 state.messaging_model.messages.push(message); }); } } } //27 fn redraw_daemon(state: &amp;mut ChatDataModel, _repres: &amp;mut azul::prelude::Apprepres) -&gt; (azul::prelude::UpdateScreen, azul::prelude::TerminateDaemon) { //28 if state.messaging_model.has_new_message { state.messaging_model.has_new_message = false; (azul::prelude::UpdateScreen::Redraw, azul::prelude::TerminateDaemon::Continue) } else { (azul::prelude::UpdateScreen::DontRedraw, azul::prelude::TerminateDaemon::Continue) } } //29 fn get_socket(app_data: Arc&lt;Mutex&lt;ChatDataModel&gt;&gt;) -&gt; Option&lt;UdpSocket&gt; { //30 let ref_model = &amp;(app_data.lock().unwrap().messaging_model.socket); //31 match ref_model { Some(s) =&gt; Some(s.try_clone().unwrap()), _ =&gt; None } } }</span></span></code> </pre><br><ol><li> è¶…æ—¶ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ï¼Œæ­¤åä»å¥—æ¥å­—è¯»å–çš„é˜»å¡æ“ä½œå°†è¢«ä¸­æ–­ã€‚ </li><li> å½“ç”¨æˆ·æƒ³è¦å‘æœåŠ¡å™¨å‘é€æ–°æ¶ˆæ¯æ—¶ï¼Œè¯¥åŠŸèƒ½å®ç°ã€‚ </li><li> æˆ‘ä»¬åœ¨æ•°æ®æ¨¡å‹ä¸­æ‹¥æœ‰äº’æ–¥é‡ã€‚ è¿™å°†é˜»å¡æ¥å£é‡ç»˜çº¿ç¨‹ï¼Œç›´åˆ°é‡Šæ”¾äº’æ–¥é”ä¸ºæ­¢ã€‚ </li><li> æˆ‘ä»¬å¤åˆ¶ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ä»¥è¿›ä¸€æ­¥ä¼ è¾“å®ƒï¼Œå¹¶æ¸…é™¤æ–‡æœ¬è¾“å…¥å­—æ®µã€‚ </li><li> æˆ‘ä»¬æ­£åœ¨å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚ </li><li> æˆ‘ä»¬é€šçŸ¥æ¡†æ¶ï¼Œåœ¨å¤„ç†æ­¤äº‹ä»¶åï¼Œæˆ‘ä»¬éœ€è¦é‡ç»˜æ¥å£ã€‚ </li><li> å½“ç”¨æˆ·æƒ³è¦è¿æ¥åˆ°æœåŠ¡å™¨æ—¶ï¼Œè¯¥åŠŸèƒ½èµ·ä½œç”¨ã€‚ </li><li> æˆ‘ä»¬è¿æ¥ç»“æ„ä»¥è¡¨ç¤ºæ ‡å‡†åº“ä¸­çš„æ—¶é—´é•¿åº¦ã€‚ </li><li> å¦‚æœæˆ‘ä»¬å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œåˆ™æˆ‘ä»¬å°†ä¸­æ–­è¯¥å‡½æ•°çš„æ‰§è¡Œï¼Œå¹¶å‘ŠçŸ¥Frameworkæ— éœ€é‡ç»˜è¯¥æ¥å£ã€‚ </li><li> ä»Azul Frameworkçš„çº¿ç¨‹æ± ä¸­æ·»åŠ å°†åœ¨çº¿ç¨‹ä¸­å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ã€‚ ä½¿ç”¨æ•°æ®æ¨¡å‹è®¿é—®äº’æ–¥é”ä¼šé˜»æ­¢æ›´æ–°UIï¼Œç›´åˆ°é‡Šæ”¾äº’æ–¥é”ä¸ºæ­¢ã€‚ </li><li> æ·»åŠ åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œçš„é‡å¤ä»»åŠ¡ã€‚ æ¥å£æ›´æ–°å°†é˜»æ­¢æ­¤å®ˆæŠ¤ç¨‹åºä¸­çš„ä»»ä½•å†—é•¿çš„è®¡ç®—ã€‚ </li><li> æˆ‘ä»¬è¿›å…¥äº†äº’æ–¥é”ã€‚ </li><li> æˆ‘ä»¬è¯»å–ç”¨æˆ·è¾“å…¥çš„ç«¯å£ï¼Œå¹¶åŸºäºè¯¥ç«¯å£åˆ›å»ºæœ¬åœ°åœ°å€ï¼Œæˆ‘ä»¬å°†è¿›è¡Œç›‘å¬ã€‚ </li><li> åˆ›å»ºä¸€ä¸ªUDPå¥—æ¥å­—ï¼Œä»¥è¯»å–åˆ°è¾¾æœ¬åœ°åœ°å€çš„æ•°æ®åŒ…ã€‚ </li><li> æˆ‘ä»¬è¯»å–ç”¨æˆ·è¾“å…¥çš„æœåŠ¡å™¨åœ°å€ã€‚ </li><li> æˆ‘ä»¬å‘Šè¯‰UDPå¥—æ¥å­—ä»…ä»è¯¥æœåŠ¡å™¨è¯»å–æ•°æ®åŒ…ã€‚ </li><li> è®¾ç½®ä»å¥—æ¥å­—è¯»å–æ“ä½œçš„è¶…æ—¶ã€‚ å†™å…¥å¥—æ¥å­—çš„è¿‡ç¨‹æ— éœ€ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªå†™æ•°æ®ï¼Œä»€ä¹ˆéƒ½ä¸æœŸå¾…ï¼Œå¹¶ä¸”ä»å¥—æ¥å­—è¿›è¡Œçš„è¯»å–æ“ä½œä¼šé˜»å¡æµå¹¶ç­‰å¾…ï¼Œç›´åˆ°å¯ä»¥è¯»å–çš„æ•°æ®åˆ°è¾¾ä¸ºæ­¢ã€‚ å¦‚æœæœªè®¾ç½®è¶…æ—¶ï¼Œåˆ™ä»å¥—æ¥å­—è¿›è¡Œçš„è¯»å–æ“ä½œå°†æ— é™æœŸç­‰å¾…ã€‚ </li><li> è®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼ŒæŒ‡ç¤ºç”¨æˆ·å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨ã€‚ </li><li> æˆ‘ä»¬å°†åˆ›å»ºçš„å¥—æ¥å­—ä¼ é€’ç»™æ•°æ®æ¨¡å‹ã€‚ </li><li> æˆ‘ä»¬é€šçŸ¥æ¡†æ¶ï¼Œåœ¨å¤„ç†æ­¤äº‹ä»¶åï¼Œæˆ‘ä»¬éœ€è¦é‡ç»˜æ¥å£ã€‚ </li><li> åœ¨Azul Frameworkçš„çº¿ç¨‹æ± ä¸­è¿è¡Œçš„å¼‚æ­¥æ“ä½œã€‚ </li><li> ä»æˆ‘ä»¬çš„æ•°æ®æ¨¡å‹ä¸­è·å–å¥—æ¥å­—çš„å‰¯æœ¬ã€‚ </li><li> å°è¯•ä»å¥—æ¥å­—è¯»å–æ•°æ®ã€‚ å¦‚æœæ‚¨ä¸å¤åˆ¶å¥—æ¥å­—ï¼Œè€Œæ˜¯ç›´æ¥åœ¨æ­¤å¤„ç­‰å¾…ç›´åˆ°æ¶ˆæ¯ä»æˆ‘ä»¬æ•°æ®æ¨¡å‹ä¸­äº’æ–¥é”ä¸­çš„å¥—æ¥å­—æ”¶åˆ°ï¼Œé‚£ä¹ˆæ•´ä¸ªæ¥å£å°†åœæ­¢æ›´æ–°ï¼Œç›´åˆ°æˆ‘ä»¬é‡Šæ”¾äº’æ–¥é”ä¸ºæ­¢ã€‚ </li><li> å¦‚æœæˆ‘ä»¬æ”¶åˆ°æŸç§æ¶ˆæ¯ï¼Œåˆ™æ›´æ”¹æ•°æ®æ¨¡å‹ï¼ŒModifyçš„ä½œç”¨ä¸lockï¼ˆï¼‰ã€‚Unwrapï¼ˆï¼‰ç›¸åŒï¼Œå°†ç»“æœä¼ é€’ç»™lambdaå¹¶åœ¨lambdaä»£ç ç»“æŸåé‡Šæ”¾äº’æ–¥é‡ã€‚ </li><li> è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä»¥æŒ‡ç¤ºæˆ‘ä»¬æœ‰ä¸€æ¡æ–°æ¶ˆæ¯ã€‚ </li><li> å°†æ¶ˆæ¯æ·»åŠ åˆ°æ‰€æœ‰èŠå¤©æ¶ˆæ¯çš„æ•°ç»„ã€‚ </li><li> åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œçš„é‡å¤åŒæ­¥æ“ä½œã€‚ </li><li> å¦‚æœæœ‰æ–°æ¶ˆæ¯ï¼Œåˆ™é€šçŸ¥æ¡†æ¶æˆ‘ä»¬éœ€è¦ä»å¤´å¼€å§‹é‡æ–°ç»˜åˆ¶æ¥å£å¹¶ç»§ç»­ä½¿ç”¨æ­¤å®ˆæŠ¤ç¨‹åºï¼›å¦åˆ™ï¼Œæˆ‘ä»¬ä¸ä¼šä»å¤´å¼€å§‹ç»˜åˆ¶æ¥å£ï¼Œè€Œæ˜¯åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸä¸­ä»ç„¶è°ƒç”¨æ­¤Functionã€‚ </li><li> åˆ›å»ºå¥—æ¥å­—çš„å‰¯æœ¬ï¼Œä»¥å…äº’æ–¥é”è¢«æ•°æ®æ¨¡å‹é”å®šã€‚ </li><li> æˆ‘ä»¬è·å¾—äº’æ–¥é”å¹¶è·å¾—åˆ°å¥—æ¥å­—çš„é“¾æ¥ã€‚ </li><li> åˆ›å»ºå¥—æ¥å­—çš„å‰¯æœ¬ã€‚ é€€å‡ºåŠŸèƒ½æ—¶ï¼Œäº’æ–¥é”å°†è‡ªåŠ¨é‡Šæ”¾ã€‚ </li></ol><br><h3>  Azulä¸­çš„å¼‚æ­¥æ•°æ®å¤„ç†å’Œå®ˆæŠ¤ç¨‹åº </h3><br><pre> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// Problem - blocks UI :( fn start_connection(app_state: &amp;mut AppState&lt;MyDataModel&gt;, _event: WindowEvent&lt;MyDataModel&gt;) -&gt; UpdateScreen { //   app_state.add_task(start_async_task, &amp;[]); //  app_state.add_daemon(Daemon::unique(DaemonCallback(start_daemon))); UpdateScreen::Redraw } fn start_daemon(state: &amp;mut MyDataModel, _repres: &amp;mut Apprepres) -&gt; (UpdateScreen, TerminateDaemon) { // UI    thread::sleep(Duration::from_secs(10)); state.counter += 10000; (UpdateScreen::Redraw, TerminateDaemon::Continue) } fn start_async_task(app_data: Arc&lt;Mutex&lt;MyDataModel&gt;&gt;, _: Arc&lt;()&gt;) { // simulate slow load app_data.modify(|state| { // UI    thread::sleep(Duration::from_secs(10)); state.counter += 10000; }); }</span></span></code> </pre><br> è¯¥å®ˆæŠ¤è¿›ç¨‹å§‹ç»ˆåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå› æ­¤åœ¨è¯¥çº¿ç¨‹ä¸­ä¸å¯é¿å…åœ°ä¼šå‘ç”Ÿé˜»å¡ã€‚ ä¾‹å¦‚ï¼Œå¯¹äºå¼‚æ­¥ä»»åŠ¡ï¼Œå¦‚æœè¿™æ ·åšï¼Œåˆ™10ç§’é’Ÿå°†æ²¡æœ‰é”å®šã€‚ <br><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_async_task</span></span></span></span>(app_data: Arc&lt;Mutex&lt;MyDataModel&gt;&gt;, _: Arc&lt;()&gt;) { <span class="hljs-comment"><span class="hljs-comment">//  UI.  . thread::sleep(Duration::from_secs(10)); app_data.modify(|state| { state.counter += 10000; }); }</span></span></code> </pre><br> ä¿®æ”¹å‡½æ•°å°†è°ƒç”¨lockï¼ˆï¼‰ï¼Œå¹¶ä¸”å…·æœ‰æ•°æ®æ¨¡å‹çš„äº’æ–¥é”å› æ­¤ä¼šé˜»æ­¢åœ¨æ¥å£æ‰§è¡ŒæœŸé—´æ›´æ–°æ¥å£ã€‚ <br><br><h3> æˆ‘ä»¬çš„é£æ ¼ </h3><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CUSTOM_CSS: &amp;<span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = <span class="hljs-string"><span class="hljs-string">" .row { height: 50px; } .orange { background: linear-gradient(to bottom, #f69135, #f37335); font-color: white; border-bottom: 1px solid #8d8d8d; }"</span></span>;</code> </pre><br><h3> å®é™…ä¸Šï¼Œç”¨äºåˆ›å»ºè¦æ˜¾ç¤ºç»™ç”¨æˆ·çš„DOMçš„å‡½æ•° </h3><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">impl</span></span> azul::prelude::Layout <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ChatDataModel { <span class="hljs-comment"><span class="hljs-comment">//1 fn layout(&amp;self, info: azul::prelude::WindowInfo&lt;Self&gt;) -&gt; azul::prelude::Dom&lt;Self&gt; { //2 if self.logged_in { self.chat_form(info) } else { self.login_form(info) } } } impl ChatDataModel { //3 fn login_form(&amp;self, info: azul::prelude::WindowInfo&lt;Self&gt;) -&gt; azul::prelude::Dom&lt;Self&gt; { //4 let button = azul::widgets::button::Button::with_label("Login") //5 .dom() //6 .with_class("row") //7 .with_class("orange") //8 .with_callback( azul::prelude::On::MouseUp, azul::prelude::Callback(Controller::login_pressed)); //9 let port_label = azul::widgets::label::Label::new("Enter port to listen:") .dom() .with_class("row"); //10 let port = azul::widgets::text_input::TextInput::new() //11 .bind(info.window, &amp;self.login_model.port_input, &amp;self) .dom(&amp;self.login_model.port_input) .with_class("row"); // 9 let address_label = azul::widgets::label::Label::new("Enter server address:") .dom() .with_class("row"); //10 let address = azul::widgets::text_input::TextInput::new() //11 .bind(info.window, &amp;self.login_model.address_input, &amp;self) .dom(&amp;self.login_model.address_input) .with_class("row"); //12 azul::prelude::Dom::new(azul::prelude::NodeType::Div) .with_child(port_label) .with_child(port) .with_child(address_label) .with_child(address) .with_child(button) } //13 fn chat_form(&amp;self, info: azul::prelude::WindowInfo&lt;Self&gt;) -&gt; azul::prelude::Dom&lt;Self&gt; { //14 let button = azul::widgets::button::Button::with_label("Send") .dom() .with_class("row") .with_class("orange") .with_callback(azul::prelude::On::MouseUp, azul::prelude::Callback(Controller::send_pressed)); //15 let text = azul::widgets::text_input::TextInput::new() .bind(info.window, &amp;self.messaging_model.text_input_state, &amp;self) .dom(&amp;self.messaging_model.text_input_state) .with_class("row"); //12 let mut dom = azul::prelude::Dom::new(azul::prelude::NodeType::Div) .with_child(text) .with_child(button); //16 for i in &amp;self.messaging_model.messages { dom.add_child(azul::widgets::label::Label::new(i.clone()).dom().with_class("row")); } dom } }</span></span></code> </pre><br><ol><li> åˆ›å»ºæœ€ç»ˆDOMçš„å‡½æ•°ï¼Œæ¯æ¬¡éœ€è¦é‡ç»˜æ¥å£æ—¶éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚ </li><li> å¦‚æœæˆ‘ä»¬å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œåˆ™æ˜¾ç¤ºç”¨äºå‘é€å’Œè¯»å–æ¶ˆæ¯çš„è¡¨æ ¼ï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬æ˜¾ç¤ºç”¨äºè¿æ¥è‡³æœåŠ¡å™¨çš„è¡¨æ ¼ã€‚ </li><li> åˆ›å»ºç”¨äºè¾“å…¥è¿æ¥æœåŠ¡å™¨æ‰€éœ€æ•°æ®çš„è¡¨å•ã€‚ </li><li> åˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ–‡æœ¬é¢˜åâ€œç™»å½•â€çš„æŒ‰é’®ã€‚ </li><li> å°†å…¶è½¬æ¢ä¸ºDOMå¯¹è±¡ã€‚ </li><li> å‘å…¶æ·»åŠ è¡Œç±»ã€‚ </li><li> å°†cssç±»æ·»åŠ ä¸ºæ©™è‰²ã€‚ </li><li> æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºä»¥å•å‡»æŒ‰é’®ã€‚ </li><li> åˆ›å»ºå¸¦æœ‰æ–‡æœ¬çš„æ–‡æœ¬æ ‡ç­¾ä»¥æ˜¾ç¤ºç»™ç”¨æˆ·å’ŒCSSç±»è¡Œã€‚ </li><li> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œç”¨äºè¾“å…¥æ¥è‡ªæ¨¡å‹å±æ€§å’ŒCSSç±»è¡Œçš„æ–‡æœ¬ã€‚ </li><li> å°†æ–‡æœ¬å­—æ®µç»‘å®šåˆ°æˆ‘ä»¬çš„DataModelçš„å±æ€§ã€‚ è¿™æ˜¯ä¸¤ç§æ–¹å¼çš„ç»‘å®šã€‚ ç°åœ¨ï¼Œç¼–è¾‘TextInputä¼šè‡ªåŠ¨æ›´æ”¹æ¨¡å‹å±æ€§ä¸­çš„æ–‡æœ¬ï¼Œåä¹‹äº¦ç„¶ã€‚ å¦‚æœæˆ‘ä»¬æ›´æ”¹æ¨¡å‹ä¸­çš„æ–‡æœ¬ï¼Œåˆ™TextInputä¸­çš„æ–‡æœ¬å°†æ›´æ”¹ã€‚ </li><li> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ ¹DOMå…ƒç´ ï¼Œåœ¨å…¶ä¸­æ”¾ç½®Uâ€‹â€‹Iå…ƒç´ ã€‚ </li><li> åˆ›å»ºç”¨äºå‘é€å’Œé˜…è¯»æ¶ˆæ¯çš„è¡¨å•ã€‚ </li><li> å•å‡»åˆ›å»ºå¸¦æœ‰æ–‡æœ¬â€œ Sendâ€çš„æŒ‰é’®å’Œå¸¦æœ‰ç±»â€œ rowâ€ï¼Œâ€œ orangeâ€çš„csså’Œäº‹ä»¶å¤„ç†ç¨‹åºã€‚ </li><li> æˆ‘ä»¬ä½¿ç”¨æ¨¡å‹å±æ€§self.messaging_model.text_input_stateå’Œå…·æœ‰ç±»â€œ rowâ€çš„cssåˆ›å»ºå…·æœ‰åŒå‘ç»‘å®šçš„æ–‡æœ¬è¾“å…¥å­—æ®µã€‚ </li><li> æ·»åŠ æ–‡æœ¬æ ‡ç­¾ï¼Œä»¥æ˜¾ç¤ºèŠå¤©è®°å½•ä¸­å†™çš„æ¶ˆæ¯ã€‚ </li></ol><br><h3> æˆ‘ä»¬å­˜å‚¨æ¥å£çŠ¶æ€çš„æ¨¡å‹ </h3><br>  Azulæ–‡æ¡£è¯´å®ƒåº”è¯¥å­˜å‚¨æ‰€æœ‰åº”ç”¨ç¨‹åºæ•°æ®ï¼ŒåŒ…æ‹¬ä¸æ•°æ®åº“çš„è¿æ¥ï¼Œå› æ­¤æˆ‘åœ¨å…¶ä¸­æ”¾ç½®äº†ä¸€ä¸ªUDPå¥—æ¥å­—ã€‚ <br><br><pre> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">//1 #[derive(Debug)] //2 struct ChatDataModel { //3 logged_in: bool, //4 messaging_model: MessagingDataModel, //5 login_model: LoginDataModel, } #[derive(Debug, Default)] struct LoginDataModel { //6 port_input: azul::widgets::text_input::TextInputState, //7 address_input: azul::widgets::text_input::TextInputState, } #[derive(Debug)] struct MessagingDataModel { //8 text_input_state: azul::widgets::text_input::TextInputState, //9 messages: Vec&lt;String&gt;, //10 socket: Option&lt;UdpSocket&gt;, //11 has_new_message: bool, }</span></span></code> </pre><br><ol><li> è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿä»¥{ï¼šï¼Ÿ}å½¢å¼çš„æ¨¡æ¿ä¸­çš„å­—ç¬¦ä¸²å½¢å¼æ˜¾ç¤ºç»“æ„ã€‚ </li><li> æˆ‘ä»¬çš„æ•°æ®æ¨¡å‹ã€‚ ä»¥ä¾¿å¯ä»¥åœ¨Azulä¸­ä½¿ç”¨ã€‚ å¥¹å¿…é¡»å®ç°Layoutç‰¹æ€§ã€‚ </li><li> ç”¨äºæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²è¿æ¥åˆ°æœåŠ¡å™¨çš„æ ‡å¿—ã€‚ </li><li> ç”¨äºæ˜¾ç¤ºç”¨äºå‘æœåŠ¡å™¨å‘é€æ¶ˆæ¯å¹¶ä¿å­˜ä»æœåŠ¡å™¨æ¥æ”¶çš„æ¶ˆæ¯çš„è¡¨å•çš„æ¨¡å‹ã€‚ </li><li> ç”¨äºæ˜¾ç¤ºç”¨äºè¿æ¥åˆ°æœåŠ¡å™¨çš„è¡¨å•çš„æ¨¡å‹ã€‚ </li><li> ç”¨æˆ·è¾“å…¥çš„ç«¯å£ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨å¥—æ¥å­—ç›‘å¬å®ƒã€‚ </li><li> ç”¨æˆ·è¾“å…¥çš„æœåŠ¡å™¨åœ°å€ã€‚ æˆ‘ä»¬å°†è¿æ¥åˆ°å®ƒã€‚ </li><li> ç”¨æˆ·æ¶ˆæ¯ã€‚ æˆ‘ä»¬å°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚ </li><li> æ¥è‡ªæœåŠ¡å™¨çš„æ¶ˆæ¯æ•°ç»„ã€‚ </li><li> æˆ‘ä»¬é€šè¿‡å®ƒä¸æœåŠ¡å™¨é€šä¿¡çš„å¥—æ¥å­—ã€‚ </li><li> ç”¨äºæ£€æŸ¥æ˜¯å¦æœ‰æ–°æ¶ˆæ¯ä»æœåŠ¡å™¨åˆ°è¾¾çš„æ ‡å¿—ã€‚ </li></ol><br><h3> æœ€åï¼Œæ˜¯åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹ã€‚ ä»GUIç»˜å›¾å’Œç”¨æˆ·è¾“å…¥å¤„ç†å¼€å§‹ä¸€ä¸ªå‘¨æœŸ </h3><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span></span>() { <span class="hljs-comment"><span class="hljs-comment">//1 let app = azul::prelude::App::new(ChatDataModel { logged_in: false, messaging_model: MessagingDataModel { text_input_state: azul::widgets::text_input::TextInputState::new(""), messages: Vec::new(), socket: None, has_new_message: false, }, login_model: LoginDataModel::default(), }, azul::prelude::AppConfig::default()); // 2 let mut style = azul::prelude::css::native(); //3 style.merge(azul::prelude::css::from_str(CUSTOM_CSS).unwrap()); //4 let window = azul::prelude::Window::new(azul::prelude::WindowCreateOptions::default(), style).unwrap(); //5 app.run(window).unwrap(); }</span></span></code> </pre><br><ol><li> æˆ‘ä»¬ç”¨å¼€å§‹æ•°æ®åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚ </li><li> é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºä½¿ç”¨çš„æ ·å¼ã€‚ </li><li> ç»™å®ƒä»¬æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„æ ·å¼ã€‚ </li><li> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œåœ¨å…¶ä¸­æ˜¾ç¤ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ </li><li> åœ¨æ­¤çª—å£ä¸­å¯åŠ¨åº”ç”¨ç¨‹åºã€‚ </li></ol><br><h2> ä¼ºæœå™¨ </h2><br><h3> åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹ </h3><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šå¸¸æœ‰ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ç¨‹åºã€‚ <br><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span></span>() { <span class="hljs-comment"><span class="hljs-comment">//1 let socket = create_socket(); //2 let (sx, rx) = mpsc::channel(); //3 start_sender_thread(rx, socket.try_clone().unwrap()); loop { //4 sx.send(read_data(&amp;socket)).unwrap(); } }</span></span></code> </pre><br><ol><li> åˆ›å»ºä¸€ä¸ªå¥—æ¥å­—ã€‚ </li><li> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªsxæ¶ˆæ¯å‘é€è€…å’Œè®¸å¤šrxæ¥æ”¶è€…çš„å•å‘é€šé“ã€‚ </li><li> æˆ‘ä»¬å¼€å§‹åœ¨å•ç‹¬çš„æµä¸­å‘æ‰€æœ‰æ”¶ä»¶äººå‘é€é‚®ä»¶ã€‚ </li><li> æˆ‘ä»¬ä»å¥—æ¥å­—è¯»å–æ•°æ®å¹¶å°†å…¶å‘é€åˆ°æµï¼Œè¯¥æµå°†æ¶ˆæ¯å‘é€åˆ°è¿æ¥åˆ°æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ã€‚ </li></ol><br><h3> åˆ›å»ºç”¨äºå‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯çš„æµçš„åŠŸèƒ½ </h3><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_sender_thread</span></span></span></span>(rx: mpsc::Receiver&lt;(<span class="hljs-built_in"><span class="hljs-built_in">Vec</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>&gt;, SocketAddr)&gt;, socket: UdpSocket) { <span class="hljs-comment"><span class="hljs-comment">//1 thread::spawn(move || { //2 let mut addresses = Vec::&lt;SocketAddr&gt;::new(); //3 loop { //4 let (bytes, pre) = rx.recv().unwrap(); // 5 if !addresses.contains(&amp;pre) { println!(" {} connected to server", pre); addresses.push(pre.clone()); } //6 let result = String::from_utf8(bytes) .expect("can't parse to String") .trim() .to_string(); println!("received {} from {}", result, pre); //7 let message = format!("FROM: {} MESSAGE: {}", pre, result); let data_to_send = message.as_bytes(); //8 addresses .iter() .for_each(|s| { //9 socket.send_to(data_to_send, s) //10 .expect(format!("can't send to {}", pre).as_str()); }); } }); }</span></span></code> </pre><br><ol><li> å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚  moveè¡¨ç¤ºå˜é‡åˆ†åˆ«æ¥ç®¡lambdaå’Œæµé‡ã€‚ æ›´å…·ä½“åœ°è¯´ï¼Œæˆ‘ä»¬çš„æ–°çº¿ç¨‹å°†â€œå¸æ”¶â€ rxå’Œsocketå˜é‡ã€‚ </li><li> å®¢æˆ·ä¸æˆ‘ä»¬è”ç³»çš„åœ°å€é›†åˆã€‚ æˆ‘ä»¬å°†å‘ä»–ä»¬å‘é€æ‰€æœ‰æ¶ˆæ¯ã€‚ é€šå¸¸ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæœ‰å¿…è¦è¿›è¡Œå¤„ç†ï¼Œä»¥ä½¿å®¢æˆ·ç«¯ä¸æˆ‘ä»¬æ–­å¼€è¿æ¥å¹¶ä»è¯¥é˜µåˆ—ä¸­åˆ é™¤å…¶åœ°å€ã€‚ </li><li> æˆ‘ä»¬å¼€å§‹ä¸€ä¸ªæ— é™å¾ªç¯ã€‚ </li><li> æˆ‘ä»¬ä»é€šé“è¯»å–æ•°æ®ã€‚ åœ¨è¿™é‡Œï¼Œæµå°†è¢«é˜»å¡ï¼Œç›´åˆ°æ–°æ•°æ®åˆ°è¾¾ä¸ºæ­¢ã€‚ </li><li> å¦‚æœæˆ‘ä»¬çš„æ•°ç»„ä¸­æ²¡æœ‰è¿™æ ·çš„åœ°å€ï¼Œåˆ™åœ¨å…¶ä¸­æ·»åŠ å®ƒã€‚ </li><li> ä»å­—èŠ‚æ•°ç»„ä¸­è§£ç UTF8å­—ç¬¦ä¸²ã€‚ </li><li> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œè¯¥å­—èŠ‚æ•°ç»„å°†å‘é€ç»™æ‰€æœ‰å®¢æˆ·ã€‚ </li><li> æˆ‘ä»¬ä¼šæ”¶é›†åœ°å€å¹¶å°†æ•°æ®å‘é€ç»™æ¯ä¸ªäººã€‚ </li><li> å¯¹UDPå¥—æ¥å­—çš„å†™æ“ä½œæ˜¯éé˜»å¡çš„ï¼Œå› æ­¤æ­¤å¤„å‡½æ•°å°†ä¸ç­‰å¾…æ¶ˆæ¯åˆ°è¾¾æ¥æ”¶è€…å¹¶å‡ ä¹ç«‹å³æ‰§è¡Œã€‚ </li><li> æœŸæœ›åœ¨å‘ç”Ÿé”™è¯¯çš„æƒ…å†µä¸‹ä½¿ç”¨ç»™å®šçš„æ¶ˆæ¯ç´§æ€¥é€€å‡ºç¨‹åºã€‚ </li></ol><br><h3> è¯¥å‡½æ•°æ ¹æ®ç”¨æˆ·è¾“å…¥åˆ›å»ºå¥—æ¥å­— </h3><br><pre> <code class="rust hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TIMEOUT_IN_MILLIS: <span class="hljs-built_in"><span class="hljs-built_in">u64</span></span> = <span class="hljs-number"><span class="hljs-number">2000</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_socket</span></span></span></span>() -&gt; UdpSocket { <span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">"Enter port to listen"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//1 let local_port: String = read!("{}\n"); let local_address = format!("127.0.0.1:{}", local_port.trim()); println!("server address {}", &amp;local_address); //2 let socket = UdpSocket::bind(&amp;local_address.trim()) .expect(format!("can't bind socket to {}", &amp;local_address).as_str()); //3 socket.set_read_timeout(Some(Duration::from_millis(TIMEOUT_IN_MILLIS))) .expect("can't set time out to read"); //4 socket }</span></span></code> </pre><br><ol><li> æˆ‘ä»¬è¯»å–æœåŠ¡å™¨å°†ä¾¦å¬çš„ç«¯å£ï¼Œå¹¶åŸºäºè¯¥ç«¯å£åˆ›å»ºæœ¬åœ°æœåŠ¡å™¨åœ°å€ã€‚ </li><li> åˆ›å»ºä¸€ä¸ªç›‘å¬æ­¤åœ°å€çš„UDPå¥—æ¥å­—ã€‚ </li><li> è®¾ç½®è¯»å–æ“ä½œçš„è¶…æ—¶ã€‚ è¯»å–æ“ä½œæ­£åœ¨é˜»å¡ï¼Œå®ƒå°†é˜»å¡æµï¼Œç›´åˆ°æ–°æ•°æ®åˆ°è¾¾æˆ–å‘ç”Ÿè¶…æ—¶ã€‚ </li><li> æˆ‘ä»¬ä»å‡½æ•°è¿”å›åˆ›å»ºçš„å¥—æ¥å­—ã€‚ </li><li> è¯¥å‡½æ•°ä»å¥—æ¥å­—è¯»å–æ•°æ®ï¼Œå¹¶å°†å…¶ä¸å‘é€è€…åœ°å€ä¸€èµ·è¿”å›ã€‚ </li></ol><br><h3> ä»å¥—æ¥å­—è¯»å–æ•°æ®çš„åŠŸèƒ½ </h3><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_data</span></span></span></span>(socket: &amp;UdpSocket) -&gt; (<span class="hljs-built_in"><span class="hljs-built_in">Vec</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">u8</span></span>&gt;, SocketAddr) { <span class="hljs-comment"><span class="hljs-comment">//1 let mut buf = [0u8; 4096]; //2 loop { match socket.recv_from(&amp;mut buf) { //3 Ok((count, address)) =&gt; { //4 return (buf[..count].into(), address); } //5 Err(e) =&gt; { println!("Error {}", e); continue; } }; } }</span></span></code> </pre><br><ol><li> ç¼“å†²åŒºæ˜¯æˆ‘ä»¬å°†è¯»å–æ•°æ®çš„åœ°æ–¹ã€‚ </li><li> å¯åŠ¨ä¸€ä¸ªå¾ªç¯ï¼Œç›´åˆ°è¯»å–æœ‰æ•ˆæ•°æ®ä¸ºæ­¢ã€‚ </li><li> æˆ‘ä»¬å¾—åˆ°è¯»å–çš„å­—èŠ‚æ•°å’Œå‘é€è€…åœ°å€ã€‚ </li><li> æˆ‘ä»¬å°†æ•°ç»„ä»å…¶å¼€å¤´åˆ‡å‰²ä¸ºè¯»å–çš„å­—èŠ‚æ•°ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºå­—èŠ‚å‘é‡ã€‚ </li><li> å¦‚æœå‘ç”Ÿè¶…æ—¶æˆ–å…¶ä»–é”™è¯¯ï¼Œè¯·ç»§ç»­æ‰§è¡Œå¾ªç¯çš„ä¸‹ä¸€ä¸ªè¿­ä»£ã€‚ </li></ol><br><h2> å…³äºåº”ç”¨ç¨‹åºä¸­çš„å›¾å±‚ </h2><br><div class="spoiler">  <b class="spoiler_title">é¢˜å¤–è¯ï¼š6æœˆ2æ—¥ä¸Šç­çš„å°å‹æ•™è‚²è®¡åˆ’ã€‚</b>  <b class="spoiler_title">æˆ‘å†³å®šæŠŠå®ƒæ”¾åœ¨è¿™é‡Œï¼Œä¹Ÿè®¸æœ‰äººä¼šæ´¾ä¸Šç”¨åœºã€‚</b>  <b class="spoiler_title">6æœˆçš„å°–å…µæ˜¯Cï¼ƒä¸­çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ­£åœ¨è°ˆè®ºASP.NET</b> <div class="spoiler_text"> å› æ­¤ï¼Œæ— äº‹å¯åšï¼Œå°±åœ¨æ™šä¸Šï¼Œæˆ‘å†³å®šä¸ºArtemå’ŒVictorå†™ä¸€ä¸ªå…³äºå»ºç­‘çš„å°å‹æ•™è‚²ç¨‹åºã€‚ å¥½å§ï¼Œèµ°å§ã€‚ <br><br> å®é™…ä¸Šï¼Œæˆ‘åœ¨è¿™é‡Œæ·»åŠ å†…å®¹æ˜¯å› ä¸ºæ¨¡å¼æ¢å¤ï¼Œæˆ‘æ¯å‘¨åªèƒ½å†™ä¸€æ¬¡æ–‡ç« ï¼Œè€Œä¸”ææ–™å·²ç»å­˜åœ¨ï¼Œä¸‹å‘¨æˆ‘æƒ³å°†å…¶ä»–å†…å®¹ä¸Šä¼ åˆ°Habrã€‚ <br><br> é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºæ˜¯åˆ†å±‚çš„ã€‚ åœ¨æ¯ä¸€å±‚ä¸­ï¼Œéƒ½æœ‰å®ç°å…¶æ‰€åœ¨å±‚çš„è¡Œä¸ºç‰¹å¾çš„å¯¹è±¡ã€‚ ç­‰ç­‰ã€‚ è¿™äº›æ˜¯å›¾å±‚ã€‚ <br><br><ol><li> è¡¨ç¤ºå±‚ã€‚ </li><li> åˆ†å±‚ä¸šåŠ¡é€»è¾‘ã€‚ </li><li> æ•°æ®è®¿é—®å±‚ã€‚ </li><li> å®ä½“ï¼ˆç”¨æˆ·ï¼ŒåŠ¨ç‰©ç­‰ï¼‰ </li></ol><br><br> æ¯ä¸ªå±‚å¯ä»¥åŒ…å«å…¶è‡ªå·±çš„DTOå’Œå…·æœ‰ä»»æ„æ–¹æ³•çš„å®Œå…¨ä»»æ„ç±»ã€‚ æœ€ä¸»è¦çš„æ˜¯å®ƒä»¬æ‰§è¡Œä¸å®ƒä»¬æ‰€åœ¨çš„å›¾å±‚å…³è”çš„åŠŸèƒ½ã€‚ åœ¨ç®€å•çš„åº”ç”¨ç¨‹åºä¸­ï¼ŒæŸäº›å±‚å¯èƒ½ä¼šä¸¢å¤±ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡MVCï¼ŒMVPï¼ŒMVVMæ¨¡å¼å®ç°å±‚è§†å›¾ã€‚ è¿™æ˜¯å®Œå…¨å¯é€‰çš„ã€‚ æœ€ä¸»è¦çš„æ˜¯ï¼Œè¯¥å±‚ä¸­çš„ç±»å®ç°äº†åˆ†é…ç»™è¯¥å±‚çš„åŠŸèƒ½ã€‚ è¯·è®°ä½ï¼Œæ¨¡å¼å’Œä½“ç³»ç»“æ„åªæ˜¯å»ºè®®ï¼Œè€Œä¸æ˜¯æ–¹å‘ã€‚ æ¨¡å¼å’Œä½“ç³»ç»“æ„ä¸æ˜¯æ³•å¾‹ï¼Œè¿™æ˜¯å»ºè®®ã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä½¿ç”¨æ ‡å‡†å®ä½“æ¡†æ¶çš„æ ‡å‡†ASP.NETåº”ç”¨ç¨‹åºç¤ºä¾‹ä¸­çš„æ¯ä¸€å±‚ã€‚ <br><br><h3> è¡¨ç¤ºå±‚ </h3><br> æˆ‘ä»¬è¿™é‡Œæœ‰MVCã€‚ è¿™æ˜¯æä¾›ç”¨æˆ·äº¤äº’çš„å±‚ã€‚ å‘½ä»¤åœ¨è¿™é‡Œï¼Œç”¨æˆ·ä»è¿™é‡Œè·å–æ•°æ®ã€‚ ä¸ä¸€å®šæ˜¯äººï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªAPIï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç”¨æˆ·å°±æ˜¯ä¸€ä¸ªä¸åŒçš„ç¨‹åºã€‚ æ±½è½¦ä¸æ±½è½¦æ²Ÿé€šã€‚ <br><br><h3> ä¸šåŠ¡é€»è¾‘å±‚ </h3><br> åœ¨è¿™é‡Œï¼Œé€šå¸¸å°†ç±»ç§°ä¸ºServiceï¼Œä¾‹å¦‚UserServiceï¼Œå°½ç®¡å®ƒå¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ã€‚ åªæ˜¯ä¸€ç»„å¸¦æœ‰æ–¹æ³•çš„ç±»ã€‚ æœ€ä¸»è¦çš„æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„è®¡ç®—å’Œè®¡ç®—éƒ½åœ¨è¿™é‡Œè¿›è¡Œã€‚ è¿™æ˜¯æœ€åšæœ€ç¬¨é‡çš„å±‚ã€‚ è¿™é‡Œæœ‰å¤§å¤šæ•°ä»£ç å’Œå„ç§ç±»ã€‚ å®é™…ä¸Šï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ <br><br><h3> èµ„æ–™å­˜å–å±‚ </h3><br> é€šå¸¸ï¼ŒEFåœ¨è¿™é‡Œå®ç°å·¥ä½œå•å…ƒå’Œå­˜å‚¨åº“æ¨¡å¼ã€‚ æ˜¯çš„ï¼ŒDbContextæ˜¯å·¥ä½œå•å…ƒï¼Œå¹¶ä¸”DBå°†å…¶è®¾ç½®ä¸ºå­˜å‚¨åº“ã€‚ å®é™…ä¸Šï¼Œè¿™æ˜¯æˆ‘ä»¬æ”¾ç½®æ•°æ®å’Œä»ä¸­è·å–æ•°æ®çš„åœ°æ–¹ã€‚ ä¸ç®¡æ•°æ®æºæ˜¯æ•°æ®åº“ï¼Œå¦ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„APIï¼Œå†…å­˜ä¸­çš„ç¼“å­˜è¿˜æ˜¯ä»…ä»…æ˜¯æŸç§éšæœºæ•°ç”Ÿæˆå™¨ã€‚ ä»»ä½•æ•°æ®æºã€‚ <br><br><h3> å®ä½“ </h3><br> æ˜¯çš„ï¼Œåªæœ‰å„ç§å„æ ·çš„ç”¨æˆ·ï¼ŒåŠ¨ç‰©ç­‰ç­‰ã€‚ é‡è¦çš„ä¸€ç‚¹-ä»–ä»¬å¯èƒ½ä»…å…·æœ‰æŸç§è¡Œä¸ºç‰¹å¾ã€‚ ä¾‹å¦‚ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> LastName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FullName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FirstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + LastName; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">User user</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.FullName == user.FullName; } }</code> </pre> <br><h3> å¥½å§ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ã€‚ åº„å¶åŸ </h3><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-comment"><span class="hljs-comment">//Entities class User { public int Id { get; set; } public string Name { get; set; } } //Data Access Layer class UserRepository { private readonly Dictionary&lt;int, User&gt; _db; public UserRepository() { _db = new Dictionary&lt;int, User&gt;(); } public User Get(int id) { return _db[id]; } public void Save(User user) { _db[user.Id] = user; } } //Business Logic Layer class UserService { private readonly UserRepository _repo; private int _currentId = 0; public UserService() { _repo = new UserRepository(); } public void AddNew() { _currentId++; var user = new User { Id = _currentId, Name = _currentId.ToString() }; _repo.Save(user); } public string GetAll() { StringBuilder sb = new StringBuilder(); for (int i = 1; i &lt;= _currentId; i++) { sb.AppendLine($"Id: {i} Name: {_repo.Get(i).Name}"); } return sb.ToString(); } } //presentation Layer aka Application Layer class UserController { private readonly UserService _service; public UserController() { _service = new UserService(); } public string RunExample() { _service.AddNew(); _service.AddNew(); return _service.GetAll(); } } namespace ConsoleApp1 { class Program { static void Main(string[] args) { var controller = new UserController(); Console.WriteLine(controller.RunExample()); Console.ReadLine(); } } }</span></span></code> </pre> <br></div></div><br><h2> èšè‹¯ä¹™çƒ¯ </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥½å§ï¼Œæˆ‘è¦æ„Ÿè°¢Nastyaçº æ­£æœ¬æ–‡ä¸­çš„è¯­æ³•é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">æ‰€ä»¥ï¼Œæ˜¯çš„ï¼Œçº³æ–¯ä½³ï¼ˆNastyaï¼‰æ‹¥æœ‰çº¢è‰²æ–‡å‡­å¹¶æ²¡æœ‰å˜å¾—å¾ˆé…·ã€‚</font><font style="vertical-align: inherit;">æˆ‘çˆ±ä½ &lt;3ã€‚</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN433624/">https://habr.com/ru/post/zh-CN433624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN433610/index.html">æ¤ç‰©åŒ–å­¦å®¶çš„ç¬”è®°ã€‚ æŸ¿å­</a></li>
<li><a href="../zh-CN433612/index.html">FCCï¼šSpaceXå«æ˜Ÿåœ¨è½¨é“è¿è¡Œ-å¯¹åœ°çƒå±…æ°‘æ„æˆå±é™©çš„ç¢ç‰‡æ¥æº</a></li>
<li><a href="../zh-CN433614/index.html">å¦‚ä½•æ§åˆ¶æ‚¨çš„ç½‘ç»œåŸºç¡€æ¶æ„ã€‚ ç¬¬ä¸€ç«  ç•™å­˜ç‡</a></li>
<li><a href="../zh-CN433618/index.html">ç”¨è‡ªå·±çš„åŒæ‰‹å‘å‡ºâ€œæš–ç®¡â€å£°ã€‚ å¦‚æœæ‚¨ç©¿è¿‡å•†åº—ï¼Œä¿±ä¹éƒ¨å’Œè½¦é—´æ€ä¹ˆåŠï¼Ÿ</a></li>
<li><a href="../zh-CN433620/index.html">SystemUIå¦‚ä½•åœ¨Androidä¸­å·¥ä½œ</a></li>
<li><a href="../zh-CN433628/index.html">åé¦ˆæ–‡åŒ–ï¼šå¦‚ä½•ä¸è¢«æŒ‡æ§</a></li>
<li><a href="../zh-CN433630/index.html">ä¸HIVç–«è‹—æ›´è¿‘ä¸€æ­¥ï¼šè¡€æ¸…ä¸­å’ŒæŠ—ä½“çš„çŒ´æ»´åº¦</a></li>
<li><a href="../zh-CN433632/index.html">å¦ä¸€ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºâ€œæ³„éœ²â€äº†å…¶ç”¨æˆ·çš„æ•°æ®</a></li>
<li><a href="../zh-CN433634/index.html">èœ‚ç®±ç›‘æ§| æˆ‘æ˜¯è¾¾æ—¦äººï¼Œä¸€åŠæ˜¯ä¹Œå…‹å…°äºº| æ•°æ®å†—ä½™</a></li>
<li><a href="../zh-CN433636/index.html">å……ç”µkubotanæ‰‹ç”µç­’ï¼šä¸€ä¸ªå¥½ä¸»æ„è¿˜æ˜¯ä¸€ä¸ªå‡äºº</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>