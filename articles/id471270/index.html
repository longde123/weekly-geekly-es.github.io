<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👵🏽 🧦 🌙 Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat] 💾 🧛🏼 🔔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Secara teratur memonitor kecepatan unduhan puluhan atau ratusan URL? Apakah Anda ingin menganalisis kecepatan pengunduhan situs di industri atau halam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/471270/"><p>  Secara teratur memonitor kecepatan unduhan puluhan atau ratusan URL?  Apakah Anda ingin menganalisis kecepatan pengunduhan situs di industri atau halaman per halaman di situs Anda?  Memasukkan URL setiap kali di PageSpeed ​​Insights dan mentransfer data ke Excel adalah waktu yang lama. </p><br><p>  Kami menemukan solusi sederhana - memungkinkan Anda mendapatkan metrik dari PageSpeed ​​Insights sesuai jadwal, dan pada mesin lengkap.  Anda perlu menyiapkan 5-10 menit, tetapi Anda akan menghemat waktu. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/54/av/h6/54avh6zwawbdvbmcjp_p1q6uejw.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><a name="habracut"></a><br><p>  Ketika kami sedang mempersiapkan studi tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kecepatan memuat situs di eCommerce</a> , kami benar-benar bingung dengan otomatisasi mendapatkan data dari PageSpeed ​​Insights.  Buka setiap URL dalam layanan, jalankan analisis, transfer metrik - semua ini memakan banyak waktu. </p><br><p>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> James_McNulty untuk MOZ, kami menemukan solusi.  Artikel ini memperkenalkan template Google Sheets, yang menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PageSpeed ​​Insights API V5 untuk</a> mengambil data desktop dengan lima metrik.  Kami memodifikasi templat - sekarang dengan bantuannya Anda dapat mengambil data dengan delapan metrik (tidak hanya untuk desktop, tetapi juga untuk seluler). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nk/vz/zq/nkvzzq0hcrohkbhr_am50r3lqpo.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><h2>  Mengapa memantau kecepatan pemuatan halaman </h2><br><p>  Data kecepatan pemuatan halaman berguna untuk pengoptimal dan pengembang dalam sejumlah kasus: </p><br><ul><li>  Untuk mengaudit kecepatan unduhan dalam konteks halaman situs tertentu - Anda dapat menentukan yang mana yang memperlambat unduhan; </li><li>  untuk memantau kecepatan sebagai akibat dari perubahan di situs - sehingga Anda akan memahami bagaimana perubahan ini atau lainnya mempengaruhi kecepatan pemuatan halaman; </li><li>  untuk perbandingan dengan pesaing - Anda akan memahami seberapa cepat situs Anda memuat dibandingkan dengan pesaing, dan memutuskan apakah Anda perlu mempercepatnya atau Anda dapat membiarkannya seperti sekarang. </li></ul><br><h2>  Cara menggunakan templat </h2><br><p>  Pertama, buat salinan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">templat Alat API PageSpeed ​​Insights Otomatis</a> . </p><br><p>  Ada tiga tab dalam file (jangan mengubah nama tab!): </p><br><ul><li>  Pengaturan - kunci API dan jadwal pengumpulan data ditunjukkan di sini. </li><li> Hasil - ini adalah lembar di mana data dikumpulkan di URL yang ditentukan (data lembar diperbarui setelah setiap skrip dijalankan). </li><li>  Log - data yang dikumpulkan (termasuk untuk periode terakhir) ditransfer ke sheet ini. </li></ul><br><h3>  Persiapan awal templat </h3><br><p>  Untuk operasi yang benar, Anda perlu: </p><br><ul><li>  dapatkan kunci API, </li><li>  aktifkan API PageSpeed. </li></ul><br><p>  Untuk mendapatkan kunci API, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">buka</a> bagian "Kredensial" pada layanan Google API dan klik tombol "Buat Kredensial". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uf/4v/cw/uf4vcwxoc-dficfqeju_kyclqtg.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Di daftar turun bawah, pilih "Kunci API". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/ds/ua/d6dsuabwj6cwfkqpevjwhcxqipw.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Salin kunci yang dihasilkan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/ao/jz/enaojzeklud0igpwh3i-qzniydo.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Masukkan ke dalam templat pada lembar “Pengaturan”. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nj/su/sw/njsuswhtbe2mdl5mexeesckdy7y.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Tetapi templat kunci tidak cukup untuk kunci berfungsi - Anda masih perlu mengaktifkan PageSpeed ​​API.  Untuk melakukan ini, buka halaman <a href="">API PageSpeed</a> dan klik tombol "Enable". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8u/pk/w3/8upkw3vwsnoym4fg5mnltsal8ji.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Penting!  Jika Anda tidak mengaktifkan PageSpeed ​​API, skrip dalam templat tidak akan berfungsi, dan Anda akan melihat kesalahan dalam tabel. </p><br><blockquote><p>  Konteks pada tingkat profesional dan tanpa agen - dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sistem PromoPult</a> .  Pemilihan kata otomatis, pembuatan iklan otomatis, manajemen penawaran "pintar".  Solusi industri siap pakai.  Statistik waktu nyata. </p></blockquote><br><h2>  Mengambil Data dari PageSpeed ​​Insights </h2><br><p>  Klik tab Hasil dan masukkan daftar URL.  Buka menu PageSpeed ​​dan tekan Manual Push Report.  Segera setelah ini, skrip akan mulai berjalan, dan setelah beberapa saat Anda akan menerima data. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ts/lj/zv/tsljzvauwdjamarwjmpg8ezmei4.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Metrik berikut dikumpulkan dalam templat: </p><br><ul><li>  Waktu Unduhan Interaksi (TTI) </li><li>  waktu pemuatan konten pertama (FCP); </li><li>  memuat waktu untuk porsi yang cukup dari konten (FMP); </li><li>  byte load time pertama (kecepatan respons server); </li><li>  indeks kecepatan unduh (Indeks Kecepatan); </li><li>  Waktu akhir CPU </li><li>  input delay pertama; </li><li>  penilaian kinerja. </li></ul><br><p>  Keberhasilan pengumpulan data ditunjukkan oleh status "selesai" di baris dengan URL. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/li/h0/jj/lih0jj-r80c5_0m3cgbm7o7vqxe.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><h3>  Cara mengubah jenis perangkat </h3><br><p>  Secara default, templat mengumpulkan data kecepatan saat mensimulasikan unduhan dari perangkat seluler. </p><br><p>  Jika Anda memerlukan data desktop, buka bagian Google Sheets "Tools" / "Script Editor", cari fungsi runCheck dan ubah nilai parameter "strategi" dari "mobile" ke "desktop" di variabel serviceUrl (baris 587).  Simpan perubahannya. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/gy/jd/nngyjdblndwdxtwcxuqazpq4uvg.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Sekarang templat akan mengumpulkan data untuk URL yang sama, tetapi untuk desktop. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8e/bs/lo/8ebslosq5pojwopgfn_c4fmhpvm.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Jika Anda perlu memantau versi seluler dan desktop secara teratur, akan lebih mudah untuk membuat dua salinan templat - jangan mengubah apa pun dalam satu, dan set "strategi = desktop" di yang kedua. </p><br><h2>  Jadwalkan pengambilan data dari PageSpeed ​​Insights </h2><br><p>  Pada tab Pengaturan, tentukan pada hari apa dan jam berapa untuk mulai mengumpulkan data (hanya ubah data di baris pertama).  Sebagai contoh, kami mengindikasikan Kamis, 8 pagi (waktu diatur sesuai dengan waktu lokal yang ditentukan dalam akun Google Anda). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mq/xv/9g/mqxv9gv4voonqnunaapcr4zgf_e.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Setelah menetapkan hari dalam seminggu dan waktu di templat, waktu pengumpulan data tambahan ditetapkan pada jam 9, 10 dan 11 di pagi hari.  Ini diperlukan untuk menghindari batasan yang ditetapkan oleh PageSpeed ​​API. </p><br><h3>  Pembatasan pengumpulan data API </h3><br><p>  Templat Google Sheets menggunakan skrip Google Apps untuk mengumpulkan data dari PageSpeed ​​Insights.  Setiap kali laporan berjalan, Google Apps Scripts menetapkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">batas waktu berjalan 6 menit</a> (untuk pengguna biasa). </p><br><p>  Waktu ini akan cukup untuk menganalisis setidaknya 30 URL.  Setelah waktu ini (jika Anda telah menetapkan lebih banyak URL), Anda akan menerima pesan: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/pb/is/ybpbisi12njgilbkgd8pdljbsog.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Untuk terus mengumpulkan data, cukup jalankan kembali skrip.  Inilah sebabnya mengapa jadwal menunjukkan jam di mana laporan dimulai kembali.  Dengan cara ini, Anda akan mengumpulkan data dari setidaknya 120 URL. </p><br><p>  Tapi di sini kita dihadapkan dengan kendala lain - sekarang dari sisi Google Sheets.  Script dalam templat dipicu sesuai dengan jadwal yang diberikan karena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pemicu</a> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/2q/z2/yc2qz2vyqdxiqd-zp8yyfj1zyao.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Masalahnya adalah bahwa menggunakan pemicu lebih dari empat kali berturut-turut menyebabkan kesalahan - "Layanan menggunakan terlalu banyak waktu komputer untuk satu hari".  Ini berarti bahwa skrip Google Apps telah melampaui total waktu eksekusi yang diizinkan dalam satu hari. </p><br><p>  Solusinya adalah menjalankan skrip secara manual. </p><br><p>  Jika Anda memiliki lebih dari 120 URL untuk diperiksa, jalankan skrip melalui "PageSpeed ​​Menu" ("Manual Push Report").  Dalam hal ini, tidak akan ada batasan jumlah pemicu yang dipicu, dan Anda dapat memeriksa URL sebanyak yang Anda butuhkan. </p><br><h2>  Jadwalkan pengunggahan data </h2><br><p>  Pada tab "Pengaturan", di bidang "Log Hasil setiap", tentukan hari dalam seminggu dan waktu pengunggahan.  Ingat jadwal pengumpulan data.  Misalnya, jika Anda menetapkan pengumpulan data pada hari Kamis pukul 8 pagi, maka lebih baik untuk mengunggahnya tidak lebih awal dari 12 hari - sehingga mereka mungkin dikumpulkan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/v3/h3/sv/v3h3svg1edwpsnmuoil0auhnuaa.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Setelah Anda mengatur jadwal untuk mengumpulkan dan mengunggah data, pastikan untuk pergi ke "PageSpeed ​​Menu" dan klik "Set Report &amp; Log Schedule".  Tindakan ini mengaktifkan jadwal. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/_q/sl/ia_qsl4c4f3gg6wnsrcwzd4nba4.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  Jika Anda ingin membatalkan unggahan terjadwal, klik "Setel Ulang Jadwal". </p><br><p>  Setelah waktu yang ditunjukkan dalam jadwal mendekati, skrip akan mentransfer data dari lembar "Hasil" ke lembar "Log".  Dalam hal ini, data pada lembar "Hasil" akan hilang (kecuali untuk URL), dan pada lembar "Log" akan diakumulasikan setiap kali setelah dibongkar.  Dengan demikian, Anda akan memiliki riwayat perubahan dalam kecepatan unduh. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mt/u-/tc/mtu-tcgktjre27baucvvkghrv7y.png" alt="Kami mengotomatiskan penerimaan data pada kecepatan memuat situs dari Google PageSpeed ​​Insights [templat]"></div><br><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PageSpeed ​​Insights API V5</a> memungkinkan Anda untuk mengunggah semua data yang disajikan dalam audit Mercusuar.  Artinya, jika perlu, Anda dapat melengkapi skrip dan mendapatkan lebih banyak data menggunakan templat. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471270/">https://habr.com/ru/post/id471270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471260/index.html">Kali Linux NetHunter di Android Bagian 2: serangan pada jaringan nirkabel</a></li>
<li><a href="../id471262/index.html">Holivar. Sejarah Runet. Bagian 5. Troll: Belajar, printer panik, Tembaga</a></li>
<li><a href="../id471264/index.html">Memilih alternatif untuk MailChimp: mengapa beralih dan produk mana yang harus dipilih</a></li>
<li><a href="../id471266/index.html">Masa depan ada di sini atau disandikan tepat di browser</a></li>
<li><a href="../id471268/index.html">Memahami broker pesan. Mempelajari mekanisme pengiriman pesan melalui ActiveMQ dan Kafka. Bab 2. ActiveMQ</a></li>
<li><a href="../id471272/index.html">Manfaat mengetik kuat di C ++: pengalaman langsung</a></li>
<li><a href="../id471278/index.html">Pembuatan teks dalam bahasa Rusia berdasarkan templat</a></li>
<li><a href="../id471282/index.html">Mencari pneumonia di rontgen dengan Fast.ai</a></li>
<li><a href="../id471288/index.html">Membuat wajah karakter untuk game "OnAir"</a></li>
<li><a href="../id471294/index.html">Puisi tentang Haskell, C ++ dan programmer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>