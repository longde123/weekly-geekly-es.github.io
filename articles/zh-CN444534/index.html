<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍✈️ ↘️ 🎾 漏洞扫描和安全开发。 第一部分 👇🏾 📁 🦑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="作为其专业活动的一部分，开发人员，渗透测试人员和安全专业人员必须处理诸如漏洞管理（VM），（安全）SDLC之类的流程。 
 尽管它们的使用者不同，但是在这些短语下隐藏着相互交织的不同的实践和工具集。 

 技术进步尚未达到用一种分析基础设施和软件安全性的工具代替一个人的地步。 
 了解为什么会这样以...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>漏洞扫描和安全开发。 第一部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444534/"><img src="https://habrastorage.org/webt/fs/4d/51/fs4d51oahbwuy-w0vwmrbrgup84.png" alt="图片"><br><br> 作为其专业活动的一部分，开发人员，渗透测试人员和安全专业人员必须处理诸如漏洞管理（VM），（安全）SDLC之类的流程。 <br> 尽管它们的使用者不同，但是在这些短语下隐藏着相互交织的不同的实践和工具集。 <br><br> 技术进步尚未达到用一种分析基础设施和软件安全性的工具代替一个人的地步。 <br> 了解为什么会这样以及您必须面对哪些问题很有趣。 <br><a name="habracut"></a><br><br><h2> 流程 </h2><br> 漏洞管理过程旨在持续监视基础结构安全性和补丁程序管理。 <br> 安全SDLC流程（“安全开发周期”）旨在支持开发和运营过程中的应用程序安全性。 <br><br> 这些过程的类似部分是漏洞评估过程-漏洞评估，漏洞扫描。 <br> 在VM和SDLC中进行扫描的主要区别在于，在第一种情况下，目标是检测第三方软件或配置中的已知漏洞。 例如，Windows的版本过旧或SNMP的默认社区字符串。 <br> 在第二种情况下，目标是不仅检测第三方组件（依赖项）中的漏洞，而且主要检测新产品的代码中的漏洞。 <br><br> 这导致了工具和方法的差异。 我认为，在应用程序中查找新漏洞的任务要有趣得多，因为它不能归结为指纹版本，收集标语，对密码进行排序等。 <br> 对应用程序漏洞进行高质量的自动扫描，需要使用考虑到应用程序的语义，其目的和特定威胁的算法。 <br><br> 正如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">avleonov</a>所说，基础结构扫描器通常可以用计时器代替。 关键是，从统计上看，如果您一个月没有更新，则可以认为您的基础架构易受攻击。 <br><br><h2> 工具 </h2><br> 扫描以及安全分析可以作为黑盒或白盒进行。 <br><br><h4> 黑匣子 </h4><br> 在进行黑盒扫描时，该工具应该能够通过用户使用该服务的相同界面来使用该服务。 <br><br> 基础结构扫描程序（Tenable Nessus，Qualys，MaxPatrol，Rapid7 Nexpose等）寻找开放的网络端口，收集“横幅”，确定已安装的软件版本，并在其知识库中查找有关这些版本中漏洞的信息。 他们还尝试检测配置错误，例如默认密码或对数据的开放访问，弱SSL密码等。 <br><br>  Web应用程序扫描程序（Acunetix WVS，Netsparker，Burp Suite，OWASP ZAP等）也知道如何确定已知组件及其版本（例如CMS，框架，JS库）。 扫描仪的主要步骤是爬行和模糊测试。 <br> 在爬网期间，扫描程序收集有关现有应用程序接口，HTTP参数的信息。 在模糊化过程中，所有检测到的参数都将替换为突变或生成的数据，以引发错误并检测漏洞。 <br><br> 此类应用程序扫描程序分别属于DAST和IAST类-动态和交互式应用程序安全性测试。 <br><br><h4> 白盒 </h4><br> 白盒扫描有更多差异。 <br> 在整个过程中，通常通过执行经过身份验证的扫描，使VM扫描程序（Vulners，Incsecurity Couch，Vuls，Tenable Nessus等）可以访问系统。 因此，扫描程序可以直接从系统下载软件包和配置参数的已安装版本，而无需在网络服务的横幅上猜测它们。 <br> 扫描更加准确和完整。 <br><br> 如果我们谈论应用程序的白盒扫描（CheckMarx，HP Fortify，Coverity，RIPS，FindSecBugs等），那么我们通常谈论静态代码分析以及SAST类的相应工具的使用-静态应用程序安全性测试。 <br><br><h2> 问题所在 </h2><br> 扫描有很多问题！ 在提供用于构建扫描过程和安全开发以及进行安全分析工作的服务的框架中，我必须亲自处理大多数问题。 <br><br> 我将选出3个主要问题组，这些问题可以通过与多家公司的信息安全服务的工程师和经理的交谈得到证实。 <br><br><h4>  Web应用程序扫描问题 </h4><br><ol><li>  <b>实现的复杂性。</b> 扫描仪需要针对每个应用程序进行部署，配置，自定义，为扫描分配测试环境，并在CI / CD流程中实施才能有效。 否则，这将是一个无用的正式程序，只会给出误报 </li><li>  <b>扫描时间。</b> 即使在2019年，扫描器在界面重复数据删除方面的表现也很差，并且考虑到它们的不同，尽管它们使用相同的代码，但可以扫描数千个页面，每个页面上有10个参数，为期10天。 同时，必须迅速做出在开发周期内部署到生产的决定 </li><li>  <b>很少的建议。</b> 扫描程序会给出相当笼统的建议，并且开发人员并非总是能够快速了解​​如何降低风险水平，最重要的是，是否需要立即进行此操作 </li><li>  <b>对应用程序具有破坏作用。</b> 扫描程序很可能会对应用程序进行DoS攻击，他们还可以创建大量实体或修改现有实体（例如，在博客上创建数以万计的评论），因此请不要在产品中随意启动扫描 </li><li>  <b>低质量漏洞检测。</b> 扫描程序通常使用固定的有效负载数组，并且可以轻松忽略与其已知的应用程序行为情况不符的漏洞。 </li><li>  <b>扫描仪不了解应用程序的功能。</b> 扫描程序本身不知道什么是“互联网银行”，“付款”和“注释”。 对于他们来说，只有链接和参数，因此，业务逻辑中的巨大漏洞都可以被完全发现，他们不会猜测是否可以通过ID进行重复写入，查看其他人的数据或通过舍入来平衡余额 </li><li>  <b>扫描仪对页面语义的误解。</b> 扫描程序不知道如何阅读常见问题解答，也不知道如何识别验证码，他们自己不会猜测如何注册，然后需要登录，无法单击“注销”以及更改参数值时如何对请求进行签名。 结果，大多数应用程序可能根本不会被扫描。 </li></ol><br><br><h4> 源代码扫描问题 </h4><br><ol><li>  <b>误报。</b> 静态分析是一项艰巨的任务，要解决这一问题，必须采取许多折衷措施。 通常，您必须牺牲准确性，甚至昂贵的企业扫描仪也会产生大量的误报 </li><li>  <b>实现的复杂性。</b> 为了提高静态分析的准确性和完整性，有必要完善扫描规则，编写这些规则可能会非常耗时。 有时，编写代码中的所有错误并进行修复会比编写规则来检测这种情况要容易得多。 </li><li>  <b>缺乏依赖性支持。</b> 大型项目依赖于可扩展编程语言功能的大量库和框架。 如果扫描仪的知识库中没有这些框架中有关“接收器”的信息，这将成为盲点，并且扫描仪甚至根本不了解代码 </li><li>  <b>扫描时间。</b> 就算法而言，查找代码中的漏洞是一项艰巨的任务。 因此，该过程很可能会延迟并且需要大量的计算资源。 </li><li>  <b>低覆盖率。</b> 尽管资源消耗和扫描持续时间长，但SAST工具的开发人员仍然必须采取折衷措施，并不能分析程序可能处于的所有条件。 </li><li>  <b>发现的可重复性。</b> 指向导致漏洞的特定线路和呼叫堆栈很好，但是实际上，扫描程序通常没有提供足够的信息来检查外部漏洞。 毕竟，无效代码中也可能存在缺陷，这对于攻击者而言是无法实现的 </li></ol><br><br><h4> 基础架构扫描问题 </h4><br><ol><li>  <b>库存不足。</b> 在大型基础架构中，尤其是在地理位置上分散的地方，通常最难理解需要扫描哪些主机。 换句话说，扫描任务与资产管理任务紧密相关。 </li><li>  <b>优先顺序不佳。</b> 网络扫描仪通常会产生许多结果，这些缺陷在实践中是无法利用的，但是从形式上讲，它们的风险级别很高。 消费者收到难以解释的报告，尚不清楚首先需要解决的问题 </li><li>  <b>很少的建议。</b> 扫描程序的知识库通常仅具有有关该漏洞及其修复方法的非常常规的信息，因此管理员必须与Google武装起来。 白盒扫描仪的情况要好一些，它可以发出特定的命令来修复 </li><li>  <b>手工制作</b> 基础架构可以有许多节点，这意味着潜在的许多缺陷，必须在每次迭代时手动分解和分析报告 </li><li>  <b>覆盖不良。</b> 基础架构扫描的质量直接取决于有关漏洞和软件版本的知识库的数量。 同时， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">事实证明</a> ，即使市场领导者也没有全面的知识库，免费解决方案数据库中有很多信息，而领导者却没有 </li><li>  <b>修补问题。</b> 基础结构中最常见的漏洞修补程序是更新程序包或更改配置文件。 这里的最大问题是系统（尤其是旧系统）由于升级而无法正常运行。 本质上，您将必须对生产中的生活基础设施进行集成测试 </li></ol><br><br><h2> 方法 </h2><br> 怎么样 <br> 在以下各部分中，我将向您详细介绍示例以及如何解决其中的许多问题，但现在，我将指出可以工作的主要领域： <br><ol><li>  <b>各种扫描工具的汇总。</b> 通过正确使用多个扫描仪，可以大大提高知识库和检测质量。 与单独启动的所有扫描仪相比，您发现的漏洞甚至更多，同时有可能更准确地评估风险水平并给出更多建议。 </li><li>  <b>SAST和DAST的集成。</b> 您可以通过在两者之间共享信息来提高DAST覆盖率和SAST准确性。 您可以从源代码中获取有关现有路由的信息，并可以使用DAST从外部检查漏洞是否可见 </li><li>  <b>机器学习<sup>™</sup> 。</b> 在2015年，我<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">谈论了</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">但至今</a> ）关于使用统计信息使黑客了解扫描仪并加快扫描速度的信息。 这无疑是将来进行自动安全性分析的基础。 </li><li>  <b>IAST与自动测试和OpenAPI的集成。</b> 在CI / CD管道的框架内，可以基于充当HTTP代理的工具和基于HTTP的功能测试来创建扫描过程。  OpenAPI / Swagger测试和合同将为扫描仪提供有关数据流的丢失信息，并使扫描各种状态的应用程序成为可能 </li><li>  <b>正确配置。</b> 对于每个应用程序和基础架构，您需要创建一个适当的扫描配置文件，其中要考虑到接口的数量和性质以及所使用的技术 </li><li>  <b>定制扫描仪。</b> 通常，不完成扫描程序无法扫描应用程序。 一个示例是支付网关，其中每个请求都必须签名。 如果不编写网关协议的连接器，扫描程序将以错误的签名无意识地打败请求。 还需要针对特定​​类型的缺陷编写专用的扫描仪，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">不安全的直接对象参考</a> </li><li>  <b>风险管理。</b> 使用各种扫描程序并将其与外部系统集成（例如资产管理和威胁管理），将使您可以使用许多参数来评估风险级别，以便管理层可以对开发或基础结构的当前安全状态有足够的了解。 </li></ol><br><br> 请继续关注，让我们破坏漏洞扫描！ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN444534/">https://habr.com/ru/post/zh-CN444534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN444522/index.html">启示录被取消</a></li>
<li><a href="../zh-CN444524/index.html">Lambda：从C ++ 11到C ++ 20。 第一部分</a></li>
<li><a href="../zh-CN444526/index.html">DOTS堆栈：C ++和C＃</a></li>
<li><a href="../zh-CN444528/index.html">情况：日本可能限制从网络下载内容-我们理解并讨论</a></li>
<li><a href="../zh-CN444530/index.html">Android中依赖项注入的未来</a></li>
<li><a href="../zh-CN444536/index.html">MVCC-2。 图层，文件，页面</a></li>
<li><a href="../zh-CN444540/index.html">英特尔准备开始生产MRAM内存</a></li>
<li><a href="../zh-CN444542/index.html">SmartMail Conf的实时流和会议时间表：机器学习</a></li>
<li><a href="../zh-CN444544/index.html">关于企业分布式数据中心的一些知识</a></li>
<li><a href="../zh-CN444546/index.html">为何以及为什么工作变慢？ 谢尔盖·科罗廖夫的方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>