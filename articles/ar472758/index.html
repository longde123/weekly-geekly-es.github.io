<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จ๐ฝโ๐พ ๐จโ๐จโ๐ฆโ๐ฆ ุงูุชุฑุงุญ: ูุญุงููุฉ - ุงููุฏูุฌ ูู ูุธููุฉ ุงูุชุญูู ูู ุงูุฎุทุฃ ๐๐ป ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฎุต 


 ุชู ุงูุชุฑุงุญ ุฅูุดุงุก try ุฌุฏูุฏุฉ ุชู ุชุตููููุง ุฎุตูุตูุง ูุฅุฒุงูุฉ if ุงูุชุนุจูุฑุงุช ุงูุดุงุฆุนุฉ ูุฑุชุจุทุฉ ุจูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู Go. ูุฐุง ูู ุงูุชุบููุฑ ุงููุญูุฏ ูู ุงููุบุฉ. ูุฏุนู ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุฑุงุญ: ูุญุงููุฉ - ุงููุฏูุฌ ูู ูุธููุฉ ุงูุชุญูู ูู ุงูุฎุทุฃ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472758/" style=";text-align:right;direction:rtl"><h2 id="kratkoe-soderzhanie" style=";text-align:right;direction:rtl">  ููุฎุต </h2><br><p style=";text-align:right;direction:rtl"> ุชู ุงูุชุฑุงุญ ุฅูุดุงุก <code>try</code> ุฌุฏูุฏุฉ ุชู ุชุตููููุง ุฎุตูุตูุง ูุฅุฒุงูุฉ <code>if</code> ุงูุชุนุจูุฑุงุช ุงูุดุงุฆุนุฉ ูุฑุชุจุทุฉ ุจูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู Go.  ูุฐุง ูู ุงูุชุบููุฑ ุงููุญูุฏ ูู ุงููุบุฉ.  ูุฏุนู ุงููุคูููู ุงุณุชุฎุฏุงู ูุธุงุฆู ุงูุชุฃุฌูู ูุงูููุชุจุฉ ุงูููุงุณูุฉ ูุฅุซุฑุงุก ุฃู ุงูุชูุงู ุงูุฃุฎุทุงุก.  ูุฐุง ุงูููุญู ุงูุตุบูุฑ ููุงุณุจ ููุนุธู ุงูุณููุงุฑูููุงุช ุ ุนูููุงู ุฏูู ุชุนููุฏ ุงููุบุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅู ุชุตููู <code>try</code> ุณูู ุงูุชูุณูุฑ ุ ูุณูู ุงูุชูููุฐ ุ ููุฐู ุงููุธููุฉ ุบูุฑ ูุชุฌุงูุณุฉ ูุน ุจููุงุช ุงููุบุงุช ุงูุฃุฎุฑู ููุชูุงููุฉ ุชูุงููุง ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ.  ููุง ุฃููุง ูุงุจูุฉ ูููุฏ ุฅุฐุง ุฃุฑุฏูุง ุฐูู ูู ุงููุณุชูุจู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุธูู ุจููุฉ ูุฐุง ุงููุณุชูุฏ ุนูู ุงููุญู ุงูุชุงูู: ุจุนุฏ ููุฏูุฉ ููุฌุฒุฉ ุ ููุฏู ุชุนุฑูููุง ูููุธููุฉ ุงููุฏูุฌุฉ ูุดุฑุญ ุงุณุชุฎุฏุงููุง ูู ุงูููุงุฑุณุฉ.  ูุณุชุนุฑุถ ูุณู ุงูููุงูุดุฉ ุงูุงูุชุฑุงุญุงุช ุงูุจุฏููุฉ ูุงูุชุตููู ุงูุญุงูู.  ูู ุงูููุงูุฉ ุ ุณูุชู ุชูุฏูู ุงูุงุณุชูุชุงุฌุงุช ูุฎุทุฉ ุงูุชูููุฐ ูุน ุฃูุซูุฉ ููุณู ูู ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ. </p><a name="habracut"></a><br><h2 id="vvedenie" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุคุชูุฑ Gophercon ุงูุฃุฎูุฑ ูู ุฏููุฑ ุ ูุฏู ูุฑูู Go (Russ Cox ุ Marcel van Lohuizen) ุจุนุถ ุงูุฃููุงุฑ ุงูุฌุฏูุฏุฉ ุญูู ููููุฉ ุงูุญุฏ ูู ุงูุชุนุจ ุงููุฏูู ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู Go ( <a href="">ุชุตููู ุงููุณูุฏุฉ</a> ).  ููุฐ ุฐูู ุงูุญูู ุชููููุง ูุฏุฑุง ูุจูุฑุง ูู ุฑุฏูุฏ ุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุฃูุถุญ Russ Cox ูู <a href="">ูุฑุงุฌุนุชู ูููุดููุฉ</a> ุ ูุฅู ูุฏููุง ูู ุฌุนู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุฃูุซุฑ ูุฒููุง ุนู ุทุฑูู ุชูููู ููุฏุงุฑ ุงูุดูุฑุฉ ุงููุฎุตุตุฉ ุจุงูุชุญุฏูุฏ ููุฃุฎุทุงุก.  ูุฑูุฏ ุฃูุถูุง ุฃู ูุฌุนู ุฑูุฒ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู ุงููุชุงุจุฉ ุฃูุซุฑ ููุงุกูุฉ ุ ููุง ูุฒูุฏ ูู ุงุญุชูุงู ุฃู ููุงุตู ุงููุทูุฑูู ุชุฎุตูุต ููุช ูุชุตุญูุญ ุงูุฎุทุฃ.  ูู ุงูููุช ููุณู ุ ูุฑูุฏ ุชุฑู ุฑูุฒ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุฑุฆููุง ุจูุถูุญ ูู ุฑูุฒ ุงูุจุฑูุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชุฑูุฒ ุงูุฃููุงุฑ ุงูุชู ุชูุช ููุงูุดุชูุง ูู ูุดุฑูุน ุงููุณูุฏุฉ ุญูู ุจูุงู <code>check</code> ุงูุฃุญุงุฏู ุงูุฌุฏูุฏ ุ ูุงูุฐู ูุจุณุท ุงูุชุญูู ุงูุตุฑูุญ ูู ูููุฉ ุงูุฎุทุฃ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูู ุจุนุถ ุงูุชุนุจูุฑุงุช (ุนุงุฏุฉู ูุง ูููู ุงุณุชุฏุนุงุก ุฏุงูุฉ) ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุนูุงู ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก ( <code>handle</code> ) ููุฌููุนุฉ ูู ุงูููุงุนุฏ ุงูุชู ุชุฑุจุท ุจูู ูุงุชูู ุงููุบุชูู ุงูุฌุฏูุฏุชูู. </p><br><p style=";text-align:right;direction:rtl">  ุฑูุฒุช ูุนุธู ุงูููุงุญุธุงุช ุงูุชู ุชููููุงูุง ุนูู ุชูุงุตูู ูุชุนููุฏ ุชุตููู <code>handle</code> ุ ูููุฑุฉ ูุดุบู <code>check</code> ุชุจูู ุฃููุง ุฃูุซุฑ ุฌุงุฐุจูุฉ.  ูู ุงููุงูุน ุ ุฃุฎุฐ ุงูุนุฏูุฏ ูู ุฃุนุถุงุก ุงููุฌุชูุน ููุฑุฉ ูุดุบู <code>check</code> ููุงููุง ุจุชูุณูุนู.  ูููุง ููู ุจุนุถ ุงููุดุงุฑูุงุช ุงูุฃูุซุฑ ุชุดุงุจููุง ูุน ุนุฑุถูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุฑุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PeterRK</a> ุฃูู ุงูุชุฑุงุญ ุฎุทู (ูุนุฑูู ููุง) ูุงุณุชุฎุฏุงู ุฅูุดุงุก <code>check</code> ุจุฏูุงู ูู ุงููุดุบู ูู ุฑุณุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃุฌุฒุงุก ุงูุฃุณุงุณูุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก</a> </li><li style=";text-align:right;direction:rtl">  ููุฐ ููุช ููุณ ุจุจุนูุฏ ุ ุงูุชุฑุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Markus</a> ูููุชูู ุฑุฆูุณูุชูู ุฌุฏูุฏุชูู ุ <code>must</code> ุญูุงูุฉููุง <code>must</code> ุจุงูุฅุถุงูุฉ ุฅูู ุงุณุชุฎุฏุงู " <code>defer</code> ุงูุชูุงู ุงูุฃุฎุทุงุก" ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="># 31442</a> </li><li style=";text-align:right;direction:rtl">  ููุง ุงูุชุฑุญ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">pjebs</a> <code>must</code> ุจูุงุก ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="># 32219</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุงูุชุฑุงุญ ุงูุญุงูู ุ ุนูู ุงูุฑุบู ูู ุงุฎุชูุงูู ุจุงูุชูุตูู ุ ูุงู ูุจูู ุนูู ูุฐู ุงูููุชุฑุญุงุช ุงูุซูุงุซุฉ ุ ูุจุดูู ุนุงู ุ ุนูู ุงูุชุนูููุงุช ุงููุงุฑุฏุฉ ุนูู ูุดุฑูุน ุงูุชุตููู ุงูููุชุฑุญ ูู ุงูุนุงู ุงููุงุถู. </p><br><p style=";text-align:right;direction:rtl">  ูุฅููุงู ุงูุตูุฑุฉ ุ ูุฑูุฏ ุฃู ููุงุญุธ ุฃูู ูููู ุงูุนุซูุฑ ุนูู ุงููุฒูุฏ ูู ุงูุชุฑุงุญุงุช ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุญุฉ ุงููููู ูุฐู</a> .  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Liam Breck</a> ุฌุงุกุช ูุน ูุฌููุนุฉ ูุงุณุนุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุชุทูุจุงุช</a> ูุขููุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ุจุนุฏ ูุดุฑ ูุฐุง ุงูุงูุชุฑุงุญ ุ ุนูููุง ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ryan Hileman ูุงู</a> ุจุชุทุจููู ูุจู ุฎูุณ ุณููุงุช ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฏุงุฉ og rewriter</a> ูุงุณุชุฎุฏูู ุจูุฌุงุญ ูู ูุดุงุฑูุน ุญููููุฉ.  ุฑุงุฌุน ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://news.ycombinator.com/itemุid=20101417</a> ). </p><br><h2 id="vstroennaya-funkciya-try" style=";text-align:right;direction:rtl">  ุงููุฏูุฌ ูู ูุญุงููุฉ ูุธููุฉ </h2><br><h3 id="predlozhenie" style=";text-align:right;direction:rtl">  ุนุฑุถ </h3><br><p style=";text-align:right;direction:rtl">  ููุชุฑุญ ุฅุถุงูุฉ ุนูุตุฑ ูุบุฉ ุฌุฏูุฏ ูุดุจู ุงููุธููุฉ ูุณูู <code>try</code> ููุทูู ุนููู ุชูููุน </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(expr)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T1, T2, ... Tn)</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุญูุซ ุชุนูู <code>expr</code> ุชุนุจูุฑูุง ุนู ูุนููุฉ ุฅุฏุฎุงู (ุนุงุฏุฉู ูุง ุชููู ุงุณุชุฏุนุงุก ุฏุงูุฉ) ุชููู ุจุฅุฑุฌุงุน ููู n + 1 ูุฃููุงุน <code>T1, T2, ... Tn</code> <code>error</code> ูููููุฉ ุงูุฃุฎูุฑุฉ.  ุฅุฐุง ูุงูุช ูููุฉ <code>expr</code> ูู ูููุฉ ูุฑุฏูุฉ (n = 0) ุ ููุฌุจ ุฃู ุชููู ูุฐู ุงููููุฉ ูู ุงูููุน type ูุฃู ูุง ุชูุฑุฌุน <code>try</code> ูุชูุฌุฉ.  ุงุณุชุฏุนุงุก <code>try</code> ุจุงุณุชุฎุฏุงู ุชุนุจูุฑ ูุง ููุฑุฌุน ุงููููุฉ ุงูุฃุฎูุฑุฉ <code>error</code> type ููุชุฌ ุนูู <code>error</code> ูู ุงูุชุฑุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูููู ุงุณุชุฎุฏุงู ุฅูุดุงุก <code>try</code> ุฅูุง ูู ุฏุงูุฉ ุชูุฑุฌุน ูููุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ุ ูุชููู ูููุฉ ุงูุฅุฑุฌุงุน ุงูุฃุฎูุฑุฉ ุงูุฎุงุตุฉ ุจูุง ูู ุงูููุน type <code>error</code> .  ุงุณุชุฏุนุงุก <code>try</code> ูู ุณูุงูุงุช ุฃุฎุฑู ูุคุฏู ุฅูู ุฎุทุฃ ุชุฑุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชุฏุนุงุก ุฏุงูุฉ ูุน ุงูุฏุงูุฉ <code>f()</code> ููุง ูู ุงููุซุงู </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">x1, x2, โฆ xn = try(f())</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุคุฏู ุฅูู ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">t1, โฆ tn, te := f() <span class="hljs-comment"><span class="hljs-comment">// t1, โฆ tn,  ()   if te != nil { err = te //  te    error return //     } x1, โฆ xn = t1, โฆ tn //     //    </span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ุจูุนูู ุขุฎุฑ ุ ุฅุฐุง ูุงู ููุน <code>error</code> ุงูุฃุฎูุฑ ุงูุฐู ุชู ุฅุฑุฌุงุนู ุจูุงุณุทุฉ <code>expr</code> ูู <code>nil</code> ุ <code>try</code> ุจุจุณุงุทุฉ ุฅุฑุฌุงุน ุงูููู n ุงูุฃููู ุ ูุฅุฒุงูุฉ <code>nil</code> ุงูููุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงููููุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ <code>expr</code> ุบูุฑ <code>nil</code> ุ ูุนูุฏุฆุฐู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุฉ ุฅุฑุฌุงุน <code>error</code> ููุฏุงูุฉ ุงููุถูููุฉ (ูู ุงูุฑูุฒ ุงููุงุฐุจ ุฃุนูุงู ุงููุณูุงุฉ <code>err</code> ุ ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ูููู ุฃู ูููู ุฃู ูุนุฑู ุฃู ูููุฉ ุฅุฑุฌุงุน ุบูุฑ ูุณูุงุฉ) ุชุชููู ูููุฉ ุงูุฎุทุฃ ุงูุชู ุชู ุฅุฑุฌุงุนูุง ูู <code>expr</code> </li><li style=";text-align:right;direction:rtl">  ููุงู ุฎุฑูุฌ ูู ูุธููุฉ ุงููุบูู </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงูุฏุงูุฉ ุงููุบููุฉ ุชุญุชูู ุนูู ูุนููุงุช ุฅุฑุฌุงุน ุฅุถุงููุฉ ุ ุชุญุชูุธ ูุฐู ุงููุนููุงุช ุจุงูููู ุงูุชู ุชู ุชุถููููุง ูููุง ูุจู ุงุณุชุฏุนุงุก <code>try</code> . </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุงูุฏุงูุฉ ุงููุฑููุฉ ุชุญุชูู ุนูู ูุนููุงุช ุฅุฑุฌุงุน ุบูุฑ ูุญุฏุฏุฉ ุฅุถุงููุฉ ุ ูุณูุชู ุฅุฑุฌุงุน ููู ุงูุตูุฑ ุงูููุงุจูุฉ ููุง (ููู ูุทุงุจู ูุญูุธ ููู ุงูุตูุฑ ุงูุฃุตููุฉ ุงูุชู ุชูุช ุชููุฆุชูุง ุจูุง). </li></ul><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง <code>try</code> ุงุณุชุฎุฏุงู <code>try</code> ูู ุชุนูููุงุช ูุชุนุฏุฏุฉ ุ ููุง ูู ุงููุซุงู ุฃุนูุงู ุ ูุฎุทุฃ ุบูุฑ ุตูุฑู (ูุดุงุฑ ุฅููู ูููุง ููู ุจุนุฏู ุงูุตูุฑ - ุชูุฑูุจูุง ููู.) ุชู ุงููุดู ุ ูุง ูุชู ุชูููุฐ ุงููุงุฌุจ (ุญุณุจ ูุชุบูุฑุงุช ุงููุณุชุฎุฏู) ููุง ูุชุบูุฑ ุฃู ูู ุงููุชุบูุฑุงุช ุนูู ุงูุฌุงูุจ ุงูุฃูุณุฑ ูู ุงููููุฉ.  ุจูุนูู ุ <code>try</code> ุชุชุตุฑู ูุซู ุงุณุชุฏุนุงุก ุฏุงูุฉ: ูุชุงุฆุฌูุง ูุชููุฑุฉ ููุท ุฅุฐุง <code>try</code> ุฅุฑุฌุงุน ุงูุชุญูู ุฅูู ุงููุชุตู (ุนูู ุนูุณ ุงูุญุงูุฉ ูุน ุฅุฑุฌุงุน ูู ุงูุฏุงูุฉ ุงููุฑููุฉ).  ูุชูุฌุฉ ูุฐูู ุ ุฅุฐุง ูุงูุช ุงููุชุบูุฑุงุช ุนูู ุงูุฌุงูุจ ุงูุฃูุณุฑ ูู ุงููุงุฌุจ ูู ูุนููุงุช ุฅุฑุฌุงุน ุ ูุฅู ุงุณุชุฎุฏุงู <code>try</code> ุณูุคุฏู ุฅูู ุณููู ูุฎุชูู ุนู ุงูููุฏ ุงููููุฐุฌู ุงูุฐู ูุชู ููุงุฌูุชู ุงูุขู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชู ุชุณููุฉ <code>a,b, err</code> ุจูุนููุงุช ุงูุฅุฑุฌุงุน ุงูุฎุงุตุฉ ุจุงูุฏุงูุฉ ุงููุฑููุฉ ุ ูุฅููู ูุฐุง ุงูุฑูุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">a, b, err = f() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ุฏุงุฆููุง ุจุชุนููู ููู ูููุชุบูุฑุงุช <code>a, b</code> ู <code>err</code> ุ ุจุบุถ ุงููุธุฑ ุนูุง ุฅุฐุง ูุงูุช ุงูููุงููุฉ ุฅูู <code>f()</code> ุฃุฑุฌุนุช ุฎุทุฃ ุฃู ูุง.  ุงูุชุญุฏู ุงููุนุงูุณ </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">a, b = try(f())</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ูุฌูุฏ ุฎุทุฃ ุ ุงุชุฑู <code>a</code> ู <code>b</code> ุชุบููุฑ.  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู ูุฐุง ูู ูุงุฑู ุจุณูุท ุ ูุฅููุง ูุนุชูุฏ ุฃู ูุซู ูุฐู ุงูุญุงูุงุช ูุงุฏุฑุฉ ููุบุงูุฉ.  ุฅุฐุง ูุงู ุณููู ุงููุงุฌุจ ุบูุฑ ุงููุดุฑูุท ูุทููุจูุง ุ ููุฌุจ ุนููู ุงูุงุณุชูุฑุงุฑ ูู ุงุณุชุฎุฏุงู ุชุนุจูุฑุงุช <code>if</code> . </p><br><h3 id="ispolzovanie" style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู </h3><br><p style=";text-align:right;direction:rtl">  ูุฎุจุฑู ุชุนุฑูู <code>try</code> ุจุดูู ุตุฑูุญ ุจููููุฉ ุงุณุชุฎุฏุงููุง: ูููู ุงูุงุณุชุนุงุถุฉ ุนู ุงููุซูุฑ ูู ุงูุชุนุจูุฑุงุช ุงูุชู ุชุญูู ูู ูุฌูุฏ ุฃุฎุทุงุก.  ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">f, err := os.Open(filename) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> โฆ, err <span class="hljs-comment"><span class="hljs-comment">//       }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุชุจุณูุทูุง ู </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">f := try(os.Open(filename))</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูุฑุฌุน ูุธููุฉ ุงูุงุชุตุงู ุฎุทุฃู ุ ููุง ูููู ุงุณุชุฎุฏุงู <code>try</code> (ุงูุธุฑ ูุณู ุงูููุงูุดุฉ).  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ูุนุงูุฌุฉ ุงูุฎุทุฃ ุนูู ุฃู ุญุงู ูุญูููุง (ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุฅุฑุฌุงุน ุฎุทุฃ) ุ ููู ูุฐู ุงูุญุงูุฉ ุ <code>if</code> ุธูุช ุงูุขููุฉ ุงูููุงุณุจุฉ ููุชุญูู ูู ุงูุฃุฎุทุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ูุฏููุง ูู ุนุฏู ุงุณุชุจุฏุงู ูู ุนูููุงุช ุงูุชุญูู ูู ุงูุฃุฎุทุงุก ุงููุญุชููุฉ <code>try</code> .  ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชุชุทูุจ ุฏูุงูุงุช ูุฎุชููุฉ ูููู ููุฌุจ ุฃู ุชุณุชูุฑ ูู ุงุณุชุฎุฏุงู <code>if</code> ุงูุชุนุจูุฑุงุช ูุงููุชุบูุฑุงุช ุงูุตุฑูุญุฉ ูุน ููู ุงูุฎุทุฃ. </p><br><h3 id="testirovanie-i-try" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑ ููุญุงููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุฅุญุฏู ูุญุงููุงุชูุง ุงูุณุงุจูุฉ ููุชุงุจุฉ ููุงุตูุงุช (ุงูุธุฑ ูุณู ุงูุชูุฑุงุฑ ุงูุชุตูููู ุฃุฏูุงู) ุ ุชู ุชุตููู <code>try</code> ููุฐุนุฑ ุนูุฏ ุญุฏูุซ ุฎุทุฃ ุนูุฏ ุงุณุชุฎุฏุงููุง ุฏุงุฎู ุฅุญุฏู ุงููุธุงุฆู ุฏูู ุญุฏูุซ ุฎุทุฃ ูู ุงูุฅุฑุฌุงุน.  ุณูุญ ุจุงุณุชุฎุฏุงู <code>try</code> ูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุจูุงุกู ุนูู ุญุฒูุฉ <code>testing</code> ุงูุฎุงุตุฉ ุจุงูููุชุจุฉ ุงูููุงุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฃุญุฏ ุงูุฎูุงุฑุงุช ุ ูู ุงููููู ุงุณุชุฎุฏุงู ูุธุงุฆู ุงูุงุฎุชุจุงุฑ ูุน ุงูุชูุงููุน ูู ุญุฒูุฉ <code>testing</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestXxx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*testing.T)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BenchmarkXxx</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*testing.B)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุงูุณูุงุญ ุจุงุณุชุฎุฏุงู <code>try</code> ูู ุงูุงุฎุชุจุงุฑุงุช.  ุฏุงูุฉ ุงุฎุชุจุงุฑ ุชููู ุจุฅุฑุฌุงุน ุฎุทุฃ ุบูุฑ ุตูุฑู ุณูู ุชุณุชุฏุนู ุถููููุง <code>t.Fatal(err)</code> ุฃู <code>b.Fatal(err)</code> .  ูุฐุง ุชุบููุฑ ููุชุจุฉ ุตุบูุฑ ูุชุฌูุจ ุงูุญุงุฌุฉ ุฅูู ุณููููุงุช ูุฎุชููุฉ (ุฑุฌูุน ุฃู ุฐุนุฑ) <code>try</code> ุ ุงุนุชูุงุฏูุง ุนูู ุงูุณูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุญุฏ ุนููุจ ูุฐุง ุงูููุฌ ูู ุฃู <code>t.Fatal</code> ู <code>b.Fatal</code> ูู ููููุง ูุงุฏุฑูู ุนูู ุฅุฑุฌุงุน ุฑูู ุงูุณุทุฑ ุงูุฐู ุณูุท ุนููู ุงูุงุฎุชุจุงุฑ.  ุนูุจ ุขุฎุฑ ูู ุฃูู ูุฌุจ ุนูููุง ุชุบููุฑ ุงูุงุฎุชุจุงุฑุงุช ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ุงูุญู ููุฐู ุงููุดููุฉ ูู ุณุคุงู ููุชูุญ.  ูุง ููุชุฑุญ ุชุบููุฑุงุช ูุญุฏุฏุฉ ุนูู ุญุฒูุฉ <code>testing</code> ูู ูุฐุง ุงููุณุชูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฃูุถูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑูู 21111</a> ุ ููุง ูุดูุฑ ุฅูู ุงูุณูุงุญ ููุธุงุฆู ุงููุซุงู ุจุฅุฑุฌุงุน ุฎุทุฃ. </p><br><h3 id="obrabotka-oshibok" style=";text-align:right;direction:rtl">  ุฎุทุฃ ูู ุงูุชุนุงูู </h3><br><p style=";text-align:right;direction:rtl">  ูุงู <a href="">ุชุตููู ุงููุณูุฏุฉ</a> ุงูุฃุตูู ููุชููุง ุฅูู ุญุฏ ูุจูุฑ ุจุฏุนู ุงููุบุฉ ููุงูุชูุงู ุฃู ุฒูุงุฏุฉ ุงูุฃุฎุทุงุก.  ุงูุชุฑุญุช ุงููุณูุฏุฉ ููุจุถูุง ุฌุฏูุฏูุง ูููููุงุช ุงูุฑุฆูุณูุฉ ูุทุฑููุฉ ุฌุฏูุฏุฉ <em>ููุฅุนูุงู ุนู ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก</em> .  ุฌุฐุจุช ูุฐู ุงููุบุฉ ุงูุฌุฏูุฏุฉ ูุดุงูู ูุซู ุงูุฐุจุงุจ ุจุณุจุจ ุฏูุงูุงุช ุบูุฑ ุชุงููุฉ ุ ูุฎุงุตุฉ ุนูุฏ ุงููุธุฑ ูู ุชุฃุซูุฑูุง ุนูู ุชุฏูู ุงูุชูููุฐ.  ุนูู ูุฌู ุงูุฎุตูุต ุ ุนุจุฑุช ูุธููุฉ <code>handle</code> ูุดูุงู ุฐุฑูุนูุง ูุน ูุธููุฉ <code>defer</code> ุ ููุง ุฌุนู ููุฒุฉ ุงููุบุฉ ุงูุฌุฏูุฏุฉ ุบูุฑ ูุชุนุงูุฏุฉ ูุน ุฃู ุดูุก ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุงูุชุฑุงุญ ูููู ูู ูุดุฑูุน ุงูุชุตููู ุงูุฃุตูู ุฅูู ุฌููุฑู.  ุฅุฐุง ูุงู ุฅุซุฑุงุก ุงูุฎุทุฃ ุฃู ุงูุงูุชูุงู ูุทููุจูุง ุ ูููุงู ุทุฑููุชุงู: ุฅุฑูุงู ุจู <code>if err != nil { return err}</code> ุ ุฃู "ุฅุนูุงู" ูุนุงูุฌ ุฎุทุฃ ุฏุงุฎู ุชุนุจูุฑ <code>defer</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      -   err = โฆ // /  } }()</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุซุงู ุ <code>err</code> ุงุณู ูุนููุฉ ุงูุฅุฑุฌุงุน <code>error</code> ุงูููุน ููุฏุงูุฉ ุงููุฑููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุชุฎูู ูุธุงุฆู ุงููุณุงุนุฏ ูุซู </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleErrorf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err *error, format </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, args ...</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">interface</span></span></span></span><span class="hljs-function"><span class="hljs-params">{})</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> *err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { *err = fmt.Errorf(format + <span class="hljs-string"><span class="hljs-string">": %v"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">append</span></span>(args, *err)...) } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ุฃู ุดูุก ูุดุงุจู.  ูููู ุฃู ุชุตุจุญ ุญุฒูุฉ <code>fmt</code> ููุงููุง ุทุจูุนููุง ููุคูุงุก ุงููุณุงุนุฏูู (ุชููุฑ ุจุงููุนู <code>fmt.Errorf</code> ).  ุจุงุณุชุฎุฏุงู ุงููุณุงุนุฏูู ุ ุณูุชู ุชุฎููุถ ุชุนุฑูู ูุนุงูุฌ ุงูุฃุฎุทุงุก ูู ูุซูุฑ ูู ุงูุญุงูุงุช ุฅูู ุณุทุฑ ูุงุญุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุซุฑุงุก ุงูุฎุทุฃ ูู ูุธููุฉ "ูุณุฎุฉ" ุ ููููู ุงููุชุงุจุฉ </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> fmt.HandleErrorf(&amp;err, <span class="hljs-string"><span class="hljs-string">"copy %s %s"</span></span>, src, dst)</code> </pre><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู <code>fmt.HandleErrorf</code> ูุถูู ูุนูููุงุช ุงูุฎุทุฃ ุถููููุง ุ ููู ุงูุณูู ุฌุฏูุง ูุฑุงุกุฉ ูุฐุง ุงูุจูุงุก ููู ููุฒุฉ ุฃูู ูููู ุชูููุฐู ุฏูู ุฅุถุงูุฉ ุนูุงุตุฑ ุฌุฏูุฏุฉ ูู ุจูุงุก ุฌููุฉ ุงููุบุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุนูุจ ุงูุฑุฆูุณู ููุฐุง ุงูููุฌ ูู ุฃูู ูุฌุจ ุชุณููุฉ ูุนููุฉ ุงูุฎุทุฃ ุงููุฑุชุฌุน ุ ููุง ูุฏ ูุคุฏู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฃูู ุฏูุฉ (ุฑุงุฌุน ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ ุญูู ูุฐุง ุงูููุถูุน).  ูุญู ูุนุชูุฏ ุฃููุง ุณูู ุชุนุชุงุฏ ุนูู ุฐูู ุนูุฏูุง ูุชู ุชุฃุณูุณ ุงูููุท ุงูููุงุณุจ ูู ุฑูุฒ ุงููุชุงุจุฉ. </p><br><h3 id="effektivnost-defer" style=";text-align:right;direction:rtl">  ุชุฃุฌูู ุงูููุงุกุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุฃุญุฏ ุงูุงุนุชุจุงุฑุงุช ุงููููุฉ ุนูุฏ ุงุณุชุฎุฏุงู <code>defer</code> ููุฎุทุฃ ูู ุงูููุงุกุฉ.  ูุนุชุจุฑ ุงูุชุนุจูุฑ <code>defer</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุทูุฆูุง</a> .  ูุง ูุฑูุฏ ุงูุงุฎุชูุงุฑ ุจูู ุงูุดูุฑุฉ ุงููุนุงูุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุฌูุฏุฉ.  ุจุตุฑู ุงููุธุฑ ุนู ูุฐุง ุงูุงูุชุฑุงุญ ุ ูุงูุด ูุฑููุง ููุช ุงูุชุดุบูู "Go" ููุฑูู ุงูุชุญููู ุงูุจุฑูุฌู ุทุฑู ุงูุชูููุฐ ุงูุจุฏููุฉ ุ ููุนุชูุฏ ุฃูู ูููููุง ุฃู ูุฌุนู ุทุฑููุง ูููุฐุฌูุฉ ูุงุณุชุฎุฏุงู ุงูุฅุฑุฌุงุก ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุดุงุจูุฉ ูู ุงูููุงุกุฉ ููุฑูุฒ "ุงููุฏูู" ุงูุญุงูู.  ูุฃูู ุฃู ูุถูู ุชุทุจูููุง ุฃุณุฑุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุฃุฌูู</a> ูู Go 1.14 (ุงูุธุฑ ุฃูุถูุง ุชุฐูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CL 171158</a> ุ ููู ุงูุฎุทูุฉ ุงูุฃููู ูู ูุฐุง ุงูุงุชุฌุงู). </p><br><h3 id="specialnye-sluchai-go-tryf-defer-tryf" style=";text-align:right;direction:rtl">  ุญุงูุงุช ุฎุงุตุฉ <code>go try(f), defer try(f)</code> </h3><br><p style=";text-align:right;direction:rtl">  ุชุจุฏู ุจููุฉ <code>try</code> ูุฏุงูุฉ ุ ูููุฐุง ุงูุณุจุจ ุ ูู ุงููุชููุน ุงุณุชุฎุฏุงูู ูู ุฃู ููุงู ุชููู ููู ุงุณุชุฏุนุงุก ุฏุงูุฉ ููุจููุฉ.  ููุน ุฐูู ุ ุฅุฐุง ุชู ุงุณุชุฎุฏุงู call <code>try</code> ูู ุนุจุงุฑุฉ <code>go</code> ุ ูุณุชููู ุงูุฃููุฑ ูุนูุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">go</span></span> try(f())</code> </pre><br><p style=";text-align:right;direction:rtl">  ููุง ูุชู ุชูููุฐ <code>f()</code> ุนูุฏ ุชูููุฐ ุชุนุจูุฑ go ูู goroutine ุงูุญุงูู ุ ูุชู ุชูุฑูุฑ ูุชุงุฆุฌ ุงุณุชุฏุนุงุก <code>f</code> ููุณูุทุงุช <code>try</code> ุ ูุงูุชู ุชุจุฏุฃ ูู goroutine ุงูุฌุฏูุฏ.  ุฅุฐุง <code>f</code> ุฎุทุฃ ุบูุฑ ุตูุฑู ุ ููู ุงููุชููุน ุฃู <code>try</code> ุงูุนูุฏุฉ ูู ุงูุฏุงูุฉ ุงููุบููุฉ ุ  ููุน ุฐูู ุ ูุง ุชูุฌุฏ ูุธููุฉ (ูููุณ ููุงู ุฃู ูุนููุฉ ุฅุฑุฌุงุน ูู <code>error</code> type) ุ ูุฃู  ูุชู ุชูููุฐ ุงูุฑูุฒ ูู goroutine ูููุตูุฉ.  ููุฐุง ุงูุณุจุจ ุ ููุชุฑุญ ุชุนุทูู <code>try</code> ูู ุชุนุจูุฑ <code>go</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงููุถุน ูุน </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> try(f())</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ูุดุงุจูุงู ุ ูููู ุฏูุงูุงุช ุงูุชุฃุฌูู ุชุนูู ููุง ุฃู ุชูููุฐ <code>try</code> ุณูู ูุชุฃุฎุฑ ุญุชู ูุนูุฏ ูู ุงููุธููุฉ ุงููุบููุฉ.  ููุง ูุงู ูู ูุจู ุ <code>f()</code> ุชูููู <code>f()</code> ุนูุฏ <code>defer</code> ุงูุชุฃุฌูู ุ ููุชู ุชูุฑูุฑ ูุชุงุฆุฌูุง ุฅูู <code>try</code> ุงููุคุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  <code>try</code> ุงูุชุญูู ูู ุงูุฎุทุฃ <code>f()</code> ุฅุฑุฌุงุนู ููุท ูู ุงููุญุธุฉ ุงูุฃุฎูุฑุฉ ูุจู ุงูุนูุฏุฉ ูู ุงูุฏุงูุฉ ุงููุบููุฉ.  ุจุฏูู ุชุบููุฑ ุณููู <code>try</code> ุ ูููู ููุฐุง ุงูุฎุทุฃ ุงููุชุงุจุฉ ููู ูููุฉ ุฎุทุฃ ุฃุฎุฑู ุชุญุงูู ุงูุฏุงูุฉ ุงููุบููุฉ ุฅุฑุฌุงุนูุง.  ูุฐุง ูู ุฃุญุณู ุงูุฃุญูุงู ูุฎูุท ุ ูู ุฃุณูุฃ ุงูุฃุญูุงู ุฃูู ูุซูุฑ ุฃุฎุทุงุก.  ููุฐุง ุงูุณุจุจ ุ ููุชุฑุญ ุนููู ุญุธุฑ ุงูุงุชุตุงู ูู <code>defer</code> ุฃูุถูุง.  ูููููุง ุฏุงุฆููุง ุฅุนุงุฏุฉ ุงููุธุฑ ูู ูุฐุง ุงููุฑุงุฑ ุฅุฐุง ูุงู ููุงู ุชุทุจูู ูุนููู ููุฐู ุงูุฏูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ูุซู ุจููุฉ ุงูุฅูุดุงุกุงุช ุงููุถูููุฉ ุ ูููู ุงุณุชุฎุฏุงู <code>try</code> ููุท ูููุงููุฉ.  ูุง ูููู ุงุณุชุฎุฏุงูู ูุฏุงูุฉ ูููุฉ ุฃู ูู ุชุนุจูุฑ ุชุนููู ูุชุบูุฑ ููุง ูู <code>f := try</code> (ุชูุงููุง ูุซู <code>f := print</code> ู <code>f := new</code> ููููุน). </p><br><h2 id="obsuzhdenie" style=";text-align:right;direction:rtl">  ุงูููุงูุดุฉ </h2><br><h3 id="iteracii-dizayna" style=";text-align:right;direction:rtl">  ุชูุฑุงุฑุงุช ุงูุชุตููู </h3><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ููุงูุดุฉ ูุฎุชุตุฑุฉ ููุชุตุงููู ุงูุณุงุจูุฉ ุงูุชู ุฃุฏุช ุฅูู ุงูุญุฏ ุงูุฃุฏูู ุงูุญุงูู ูู ุงูุงูุชุฑุงุญ.  ูุฃูู ุฃู ูููู ูุฐุง ุงูุถูุก ุนูู ูุฑุงุฑุงุช ุงูุชุตููู ุงููุญุฏุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงุณุชููู ุชูุฑุงุฑูุง ุงูุฃูู ูู ูุฐู ุงูุฌููุฉ ููุฑุชูู ูู ููุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ุงูุฃุฌุฒุงุก ุงูุฃุณุงุณูุฉ ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก" ุ</a> ููู ุงุณุชุฎุฏุงู ุงููุธููุฉ ุงููุฏูุฌุฉ ุจุฏูุงู ูู ุงููุดุบู ููุธููุฉ Go ุงููุนุชุงุฏุฉ ููุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุฏูุงู ูู ุฅูุดุงุก ูุบุฉ ุฌุฏูุฏุฉ.  ุนูู ุนูุณ ูุฐุง ุงูููุดูุฑ ุ ูุงู ูุฏู ูุนุงูุฌ ุงูุฃุฎุทุงุก ูุฏููุง ุฎุทุฃ ูู ุชูููุน ุซุงุจุช <code>func(error) error</code> ูุชุจุณูุท ุงูุฃููุฑ.  ุณูู ูุชู ุงุณุชุฏุนุงุก ูุนุงูุฌ ุงูุฃุฎุทุงุก ุจูุงุณุทุฉ ุงูุฏุงูุฉ <code>try</code> ุฅุฐุง ูุงู ููุงู ุฎุทุฃ ูุจู ุฃู <code>try</code> ุงูุฎุฑูุฌ ูู ุงูุฏุงูุฉ ุงููุบููุฉ.  ููุง ูุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">handler := <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Errorf(<span class="hljs-string"><span class="hljs-string">"foo failed: %v"</span></span>, err) <span class="hljs-comment"><span class="hljs-comment">//   } f := try(os.Open(filename), handler) //     </span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงูููุฌ ุณูุญ ุจุชุนุฑูู ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก ุงููุนุงูุฉ ุงููุนุฑูุฉ ูู ูุจู ุงููุณุชุฎุฏู ุ ููุฏ ุฃุซุงุฑ ุฃูุถูุง ุงูุนุฏูุฏ ูู ุงูุฃุณุฆูุฉ ุงูุชู ูู ุงููุงุถุญ ุฃููุง ูู ุชูู ุชุญุชูู ุนูู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ: ูุง ุงูุฐู ูุฌุจ ุฃู ูุญุฏุซ ุฅุฐุง ุชู ููู ุงูุตูุฑ ุฅูู ุงููุนุงูุฌุ  ูุฌุจ ุฃู <code>try</code> ุงูุฐุนุฑ ุฃู ุงููุธุฑ ุฅูู ูุฐุง ุนูู ุฃูู ุนุฏู ูุฌูุฏ ูุนุงูุฌุ  ูุงุฐุง ูู ุชู ุงุณุชุฏุนุงุก ุงููุนุงูุฌ ูุน ุฎุทุฃ ุบูุฑ ุตูุฑู ุซู ุฅุฑุฌุงุน ูุชูุฌุฉ ูุงุฑุบุฉุ  ูู ูุฐุง ูุนูู ุฃู ุงูุฎุทุฃ "ููุบู"ุ  ุฃู ูู ูุฌุจ ุฃู ุชููู ุฏุงูุฉ ุงูุฅุญุงุทุฉ ุจุฅุฑุฌุงุน ุฎุทุฃ ูุงุฑุบุ  ูุงูุช ููุงู ุดููู ุฃูุถูุง ูู ุฃู ุงูููู ุงูุงุฎุชูุงุฑู ููุนุงูุฌ ุงูุฃุฎุทุงุก ุณูุดุฌุน ุงููุทูุฑูู ุนูู ุชุฌุงูู ุงูุฃุฎุทุงุก ุจุฏูุงู ูู ุชุตุญูุญูุง.  ุณูููู ูู ุงูุณูู ุฃูุถูุง ุชูููุฐ ุงูุฎุทุฃ ุงูุตุญูุญ ูู ูู ููุงู ุ ููู ุชุฎุทู ุงุณุชุฎุฏุงููุง ูุงุญุฏูุง <code>try</code> .  ููุง ุดุงุจู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุชูุฑุงุฑ ุงูุชุงูู ุ ุชูุช ุฅุฒุงูุฉ ุงููุฏุฑุฉ ุนูู ุงุฌุชูุงุฒ ูุนุงูุฌ ุฃุฎุทุงุก ูุฎุตุต ูุตุงูุญ ุงุณุชุฎุฏุงู <code>defer</code> ุงูุชูุงู ุงูุฃุฎุทุงุก.  ูุฐุง ูุจุฏู ููุฃูู ููุฌ ุฃูุถู ูุฃูู ุฌุนู ูุนุงูุฌุงุช ุงูุฃุฎุทุงุก ุฃูุซุฑ ูุถูุญุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ.  ุฃูุบุช ูุฐู ุงูุฎุทูุฉ ุฃูุถูุง ุฌููุน ุงููุดููุงุช ุงููุชุนููุฉ ุจุงูููู ุงูุงุฎุชูุงุฑู ููุธุงุฆู ุงููุนุงูุฌ ุ ูููููุง ุทูุจุช ุชุณููุฉ ุงููุนููุงุช ุงูุชู ุชู ุฅุฑุฌุงุนูุง ุจููุน <code>error</code> ุฅุฐุง ูุงู ุงููุตูู ูุทููุจูุง (ูุฑุฑูุง ุฃู ูุฐุง ุฃูุฑ ุทุจูุนู).  ุนูุงูุฉ ุนูู ุฐูู ุ ูู ูุญุงููุฉ ูุฌุนู <code>try</code> ูููุฏุฉ ููุณ ููุท ุฏุงุฎู ุงููุธุงุฆู ุงูุชู ุชูุฑุฌุน ุงูุฃุฎุทุงุก ุ ูุงู ูู ุงูุถุฑูุฑู ุฌุนู ุณููู <code>try</code> ุญุณุงุณูุง ููุณูุงู: ุฅุฐุง <code>try</code> ุงุณุชุฎุฏุงู <code>try</code> ุนูู ูุณุชูู ุงูุญุฒูุฉ ุ ุฃู ุฅุฐุง ุชู ุงุณุชุฏุนุงุคูุง ุฏุงุฎู ุฏุงูุฉ ูุง ุชูุฑุฌุน ุฎุทุฃู ุ <code>try</code> ุงูุฐุนุฑ ุชููุงุฆููุง ุนูุฏ ุงูุชุดุงู ุฎุทุฃ.  (ููุชุฃุซูุฑ ุฌุงูุจู ุ ูุจุณุจุจ ูุฐู ุงูุฎุงุตูุฉ ุ ุชู ุงุณุชุฏุนุงุก ุจูุงุก ุงููุบุฉ <code>must</code> ุจุฏูุงู ูู <code>try</code> ูู ูุฐู ุงูุฌููุฉ.) ุจุฏุง ุงูุณููู ุงูุญุณุงุณ ููุณูุงู <code>try</code> (ุฃู <code>must</code> ) ุทุจูุนููุง ููููุฏูุง ุฃูุถูุง: ููู ุณูุคุฏู ุฅูู ุงููุถุงุก ุนูู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงููุนุฑูุฉ ูู ูุจู ุงููุณุชุฎุฏู ูุงููุณุชุฎุฏูุฉ ูู ุงูุชุนุจูุฑุงุช ุชููุฆุฉ ูุชุบูุฑุงุช ุงูุญุฒูุฉ.  ููุง ุฃูู ูุชุญ ุฅููุงููุฉ ุงุณุชุฎุฏุงู ุงูุงุฎุชุจุงุฑุงุช ูู ูุญุฏุฉ ุงูุงุฎุชุจุงุฑ ูุน ุญุฒูุฉ <code>testing</code> . </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุฅู ุงูุณููู ุงูุญุณุงุณ ููุณูุงู <code>try</code> ูุงู ูุญููููุง ุจุงูุฃุฎุทุงุก: ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูุชุบูุฑ ุณููู ุงูุฏุงูุฉ ุงูุชู ุชุณุชุฎุฏููุง ุจูุฏูุก (ุฐุนุฑ ุฃู ูุง) ุนูุฏ ุฅุถุงูุฉ ุฃู ุฅุฒุงูุฉ ุฎุทุฃ ุงูุฅุฑุฌุงุน ุฅูู ุชูููุน ุงููุธููุฉ.  ูุฐุง ูุจุฏู ุฎุทุฑุง ุฌุฏุง ุงูููุชููุงุช.  ูุงู ุงูุญู ุงููุงุถุญ ูู ุชูุณูู ูุธููุฉ <code>try</code> ุฅูู ูุธููุชูู ูููุตูุชูู <code>must</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฌุฑุจุชููุง ูุชุฌุฑุจุชููุง</a> (ุชุดุจู ุฅูู ุญุฏ ูุจูุฑ ุงูุทุฑููุฉ ุงูุชู ุชู ุงูุชุฑุงุญูุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="># 31442</a> ).  ููุน ุฐูู ุ ูุฏ ูุชุทูุจ ุฐูู ูุธููุชูู ูุถููุชูู ุ ุจูููุง ุชุฑุชุจุท <code>try</code> ููุท ูุจุงุดุฑุฉ ุจุฏุนู ุฃูุถู ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูู ุงูุชูุฑุงุฑ ุงูุญุงูู ุ ุจุฏูุงู ูู ุชุถููู ุงููุธููุฉ ุงููุถููุฉ ุงูุซุงููุฉ ุ ูุฑุฑูุง ุฅุฒุงูุฉ ุงูุฏูุงูุงุช ุงููุฒุฏูุฌุฉ <code>try</code> ุ ูุจุงูุชุงูู ุงูุณูุงุญ ุจุงุณุชุฎุฏุงููุง ููุท ูู ุงููุธุงุฆู ุงูุชู ุชูุฑุฌุน ุฎุทุฃู. </p><br><h3 id="osobennosti-predlozhennogo-dizayna" style=";text-align:right;direction:rtl">  ููุฒุงุช ุงูุชุตููู ุงูููุชุฑุญ </h3><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูุงูุชุฑุงุญ ูุตูุฑ ุฌุฏูุง ููุฏ ูุจุฏู ุฎุทูุฉ ุฅูู ุงููุฑุงุก ููุงุฑูุฉ ุจูุณูุฏุฉ ุงูุนุงู ุงููุงุถู.  ูุนุชูุฏ ุฃู ุงูุญููู ุงููุญุฏุฏุฉ ููุง ูุง ูุจุฑุฑูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃูู ุงูุฃุดูุงุก ุฃููุงู ุ <code>try</code> ุชูุงููุง ููุณ ุฏูุงูุงุช ุจูุงู <code>check</code> ุงูููุชุฑุญุฉ ูู ุงูุฃุตู ุจุฏูู <code>handle</code> .  ูุฐุง ูุคูุฏ ุฏูุฉ ุงููุณูุฏุฉ ุงูุฃุตููุฉ ูู ุฃุญุฏ ุงูุฌูุงูุจ ุงููููุฉ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅู ุงุฎุชูุงุฑ ูุธููุฉ ูุฏูุฌุฉ ุจุฏูุงู ูู ุนูุงูู ุงูุชุดุบูู ูู ุงูุนุฏูุฏ ูู ุงููุฒุงูุง.  ูุง ูุชุทูุจ ูููุฉ ุฑุฆูุณูุฉ ุฌุฏูุฏุฉ ูุซู <code>check</code> ุ ููุง ูุฌุนู ุงูุชุตููู ุบูุฑ ูุชูุงูู ูุน ุงููุญูููู ุงูุญุงูููู.  ููุณุช ููุงู ุญุงุฌุฉ ุฃูุถูุง ูุชูุณูุน ุจูุงุก ุฌููุฉ ุงูุชุนุจูุฑุงุช ุจุงุณุชุฎุฏุงู ูุดุบู ุฌุฏูุฏ.  ุชุนุฏ ุฅุถุงูุฉ ูุธููุฉ ูุฏูุฌุฉ ุฌุฏูุฏุฉ ุฃูุฑูุง ุจุณูุทูุง ูุณุจููุง ููุชุนุงูุฏ ุชูุงููุง ูุน ููุฒุงุช ุงููุบุฉ ุงูุฃุฎุฑู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุชุทูุจ ุงุณุชุฎุฏุงู ุฏุงูุฉ ูุถูููุฉ ุจุฏูุงู ูู ุนุงูู ุชุดุบูู ุงุณุชุฎุฏุงู ุงูุฃููุงุณ.  ูุฌุจ ุฃู ููุชุจ <code>try(f())</code> ุจุฏูุงู ูู <code>try f()</code> .  ูุฐุง ูู ุงูุณุนุฑ (ุงูุตุบูุฑ) ุงูุฐู ูุชุนูู ุนูููุง ุฏูุนู ููุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูุน ุงููุญูููู ุงูุญุงูููู.  ููุน ุฐูู ุ ูุฅู ูุฐุง ูุฌุนู ุงูุชุตููู ูุชูุงูููุง ุฃูุถูุง ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุณุชูุจููุฉ: ุฅุฐุง ูุฑุฑูุง ุฃู ุชูุฑูุฑ ูุธููุฉ ูุง ุจุทุฑููุฉ ุฎุทุฃ ุฃู ุฅุถุงูุฉ ูุนููุฉ ุฅุถุงููุฉ <code>try</code> ููุฐุง ุงูุบุฑุถ ููุฑุฉ ุฌูุฏุฉ ุ ูุฅู ุฅุถุงูุฉ ูุณูุทุฉ ุฅุถุงููุฉ ุฅูู ุงุณุชุฏุนุงุก ุงูููุงููุฉ ุณุชููู ุชุงููุฉ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุง ุงุชุถุญ ูููุง ุจุนุฏ ุ ูุฅู ุงูุญุงุฌุฉ ุฅูู ูุชุงุจุฉ ุงูุฃููุงุณ ููุง ูุฒุงูุงูุง.        <code>try</code> ,          ,    : </p><br></li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs">info := try(try(os.Open(file)).Stat()) <span class="hljs-comment"><span class="hljs-comment">//   try info := try (try os.Open(file)).Stat() //  try   info := try (try (os.Open(file)).Stat()) //  try  </span></span></code> </pre><br><p style=";text-align:right;direction:rtl">     <code>try</code> ,      :       <code>try</code> , ..   <code>try</code>   (receiver)  <code>.Stat</code> (  <code>os.Open</code> ). </p><br><p style=";text-align:right;direction:rtl">     <code>try</code> ,        :    <code>os.Open(file)</code> ..       <code>try</code> (  ,   <code>try</code>    <code>os</code> ,   ,   <code>try</code>      <code>try</code> ). </p><br><p style=";text-align:right;direction:rtl">           , ..      . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">           .   ,          .   ,      ,      ,     . </li></ul><br><h2 id="vyvody" style=";text-align:right;direction:rtl">  </h2><br><p style=";text-align:right;direction:rtl">       <a href="">  </a>         .    ,      .            <code>defer</code> ,           . </p><br><p style=";text-align:right;direction:rtl">  Go         -  ,         . ,   Go     <code>append</code> .     <code>append</code>         ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>     .    ,       .  ,        <code>try</code> . </p><br><p style=";text-align:right;direction:rtl">          ,     ,   Go      : <code>panic</code>  <code>recover</code> .   <code>error</code>   <code>try</code>   . </p><br><p style=";text-align:right;direction:rtl">  , <code>try</code>     ,     ,      โ      โ   ,     .        Go: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       </li><li style=";text-align:right;direction:rtl">     , <code>try</code>       </li><li style=";text-align:right;direction:rtl">      </li><li style=";text-align:right;direction:rtl">    - </li></ul><br><p style=";text-align:right;direction:rtl">        ,    ,       .     <code>if</code> -. </p><br><h2 id="realizaciya" style=";text-align:right;direction:rtl">  ุชุทุจูู </h2><br><p style=";text-align:right;direction:rtl">   : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">   Go. </li><li style=";text-align:right;direction:rtl">     <code>try</code> . ,            .      . </li><li style=";text-align:right;direction:rtl">  <code>go/types</code>  <code>try</code> .   . </li><li style=";text-align:right;direction:rtl">    <code>gccgo</code> . ( ,  ). </li><li style=";text-align:right;direction:rtl">      . </li></ul><br><p style=";text-align:right;direction:rtl">    -  ,     . ,        .           . </p><br><p style=";text-align:right;direction:rtl"> Robert Griesemer    <code>go/types</code> ,     () <code>cmd/compile</code> .    ,         Go 1.14,  1  2019. </p><br><p style=";text-align:right;direction:rtl"> , Ian Lance Taylor    <code>gccgo</code> ,    . </p><br><p style=";text-align:right;direction:rtl">     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Go 2,  !"</a> ,                . </p><br><p style=";text-align:right;direction:rtl"> 1 ,    ,      ,    Go 1.14  . </p><br><p style=";text-align:right;direction:rtl">  ุฃูุซูุฉ </p><br><p style=";text-align:right;direction:rtl">  <code>CopyFile</code>     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CopyFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(src, dst </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { err = fmt.Errorf(<span class="hljs-string"><span class="hljs-string">"copy %s %s: %v"</span></span>, src, dst, err) } }() r := try(os.Open(src)) <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> r.Close() w := try(os.Create(dst)) <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { w.Close() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { os.Remove(dst) <span class="hljs-comment"><span class="hljs-comment">//    โtryโ    } }() try(io.Copy(w, r)) try(w.Close()) return nil }</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">   ,    " ",  <code>defer</code>  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> fmt.HandleErrorf(&amp;err, <span class="hljs-string"><span class="hljs-string">"copy %s %s"</span></span>, src, dst)</code> </pre><br><p style=";text-align:right;direction:rtl">           (  <code>defer</code> -),        <code>defer</code>     ,    . </p><br><p style=";text-align:right;direction:rtl">  <code>printSum</code>          </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printSum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { x := try(strconv.Atoi(a)) y := try(strconv.Atoi(b)) fmt.Println(<span class="hljs-string"><span class="hljs-string">"result:"</span></span>, x + y) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre><br><p style=";text-align:right;direction:rtl">   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printSum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a, b </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { fmt.Println( <span class="hljs-string"><span class="hljs-string">"result:"</span></span>, try(strconv.Atoi(a)) + try(strconv.Atoi(b)), ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre><br><p style=";text-align:right;direction:rtl">  <code>main</code>  <a href="">   </a>      : </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">localMain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span></span> { hex := try(ioutil.ReadAll(os.Stdin)) data := try(parseHexdump(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>(hex))) try(os.Stdout.Write(data)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err := localMain(); err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { log.Fatal(err) } }</code> </pre><br><p style=";text-align:right;direction:rtl"> -   <code>try</code>      ,        : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">n, err := src.Read(buf) if err == io.EOF { break } try(err)</code> </pre><br><h2 id="voprosy-i-otvety" style=";text-align:right;direction:rtl">    </h2><br><p style=";text-align:right;direction:rtl"> ,     . </p><br><p style=";text-align:right;direction:rtl"> <strong>:        ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :        <code>check</code>  <code>handle</code> ,     .  ,  <code>handle</code>          <code>defer</code> ,   <code>handle</code>   . </p><br><p style=";text-align:right;direction:rtl"> <strong>:  try   ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :    <code>try</code>     Go     .       -  ,           .          ,     .        ,     "  ".  <code>try</code>     , ..          . </p><br><p style=";text-align:right;direction:rtl"> <strong>:  <code>try</code>  try?</strong> </p><br><p style=";text-align:right;direction:rtl"> :    ,  <code>check</code> , <code>must</code>  <code>do</code> .   <code>try</code>            ,           . <code>try</code>       <code>check</code> (,        ),  -       .         .         <code>must</code>          ; <code>try</code> โ  . ,  Rust  Swift   <code>try</code>       (   ).         . </p><br><p style=";text-align:right;direction:rtl"> <strong>:      <code>?</code>   Rust?</strong> </p><br><p style=";text-align:right;direction:rtl"> : Go      ;  ,           Go (        ;   -   ).         ,     <code>?</code> ,      .   , ,   ,     (package, interface, if, append, recover, ...),  ,        (struct, var, func, int, len, image,  ..). Rust   <code>?</code>     <code>try</code>   โ      Go,    ,   (   )   . ,  <code>?</code>      .    ,   ,     (,   ..)  .       .       ,   . </p><br><p style=";text-align:right;direction:rtl"> <strong>:       ( error)  ,  defer   ,   go doc.    ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :     <code>go doc</code>   ,       -   ( <code>_</code> ) ,         . ,  <code>func f() (_ A, _ B, err error)</code>    <code>go doc</code>  <code>func f() (A, B, error)</code> .      ,   ,     ,      .  ,         ,     . ,   ,    ,       -,       (deferred) .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Jonathan Geddes</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>   <code>try()</code>        . </p><br><p style=";text-align:right;direction:rtl"> <strong>:     defer    ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :    <code>defer</code>          . ,  ,       defer         "" . .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CL 171758</a> ,     defer   30%. </p><br><p style=";text-align:right;direction:rtl"> <strong>:           ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :  ,        . ,         ( ,    ),      .     <code>defer</code>              ,     .   <code>defer</code> -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://golang.org/issue/29934</a> (   Go 2),    . </p><br><p style=";text-align:right;direction:rtl"> <strong>:  ,   try,    error.  ,       ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :           <code>error</code> (  )   ,  ,     <code>nil</code> .           <code>try</code> . (      ,  .     - ). </p><br><p style=";text-align:right;direction:rtl"> <strong>:    Go  ,     try   ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :  <code>try</code>     ,   <code>try</code> .    <code>super return</code> -, <code>try</code>      <code>Go</code>        . <code>try</code>       .     <em></em>  . </p><br><p style=";text-align:right;direction:rtl"> <strong>:     try   ,         .   ?</strong> </p><br><p style=";text-align:right;direction:rtl"> : <code>try</code>        ;       ,     .       <code>try</code>    ( ),     .   , <code>if</code>   . </p><br><p style=";text-align:right;direction:rtl"> <strong>:   ,       .    try,    defer    .   ?</strong> </p><br><p style=";text-align:right;direction:rtl"> :         ,       .     . </p><br><p style=";text-align:right;direction:rtl"> <strong>:  <code>try</code>     (  <code>catch</code> )?</strong> </p><br><p style=";text-align:right;direction:rtl"> : <code>try</code> โ   ("")      ,  ,      (    )   . <code>try</code>   ;       .        .     "" .     ,        .  , <code>try</code> โ      .   ,  ,       <code>throw</code>  <code>try-catch</code>     Go. ,         (,    ),     (   )     ,      .    ""      <code>try-catch</code> ,       . ,    ,      .  Go    .     <code>panic</code> ,       . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472758/">https://habr.com/ru/post/ar472758/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472746/index.html">ุงูุฎุงุฏู ุงูุทุฑูู ูููุดุฑู ููุณุช ูุฌูุฉ SSH ูุงุญุฏุฉ</a></li>
<li><a href="../ar472748/index.html">ูุชุตูุญ ุงูุฏูุงูู ุฃู ุงูุญูุงุฉ ุจุฏูู ููุงูุน</a></li>
<li><a href="../ar472750/index.html">ุญุณููุง ุ ูู ุฃุญุชุงุฌ ุญููุง ุฅูู Kubernetesุ</a></li>
<li><a href="../ar472752/index.html">CSE: Kubernetes ูุฃู ุดุฎุต ูู vCloud</a></li>
<li><a href="../ar472754/index.html">ููู ุชุชุญุฏุซ ุงูุงูุฌููุฒูุฉ ูู ุดูุฑ. 9 ุฎุทูุงุช ุณููุฉ ูุซุจุช</a></li>
<li><a href="../ar472760/index.html">ุชูููู ููุช ุงูุญูุณุจุฉ ูู ุจุถุน ุณููุงุช ุฅูู ุฏูุงุฆู. ููู ุชุนูู ุขูุฉ ุงููู</a></li>
<li><a href="../ar472762/index.html">ุงูุชุญููู ุงูููู ูู checkm8 ุงุณุชุบูุงู</a></li>
<li><a href="../ar472766/index.html">ุงููุนููุฉ ูู ุงูููู ูู py.test</a></li>
<li><a href="../ar472768/index.html">ููููุฉ ุงูุชูุธูู ูุฅุทูุงู ุงููุงุฑ ูุงูุนูุฏุฉ ูู ุงูุฅุฏุงุฑุฉ ุฅูู ุงูุชุทููุฑ: ููุฏูู ูู Badoo Techleads Meetup # 5</a></li>
<li><a href="../ar472770/index.html">ุชูุธูู ูุงุฌูุฉ ูู ุงููุญุฏุฉ ูุน UI Canvas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>