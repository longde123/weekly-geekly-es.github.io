<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚍 👩🏾‍🤝‍👩🏼 👨‍✈️ Verwenden von Immer zum Verwalten des Anwendungsstatus 💒 ☠️ ⛔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Status wird verwendet, um die Überwachung von Daten aus React-Anwendungen zu organisieren. Der Status ändert sich, wenn Benutzer mit Anwendungen i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwenden von Immer zum Verwalten des Anwendungsstatus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463337/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Status wird</a> verwendet, um die Überwachung von Daten aus React-Anwendungen zu organisieren.  Der Status ändert sich, wenn Benutzer mit Anwendungen interagieren.  Wenn der Benutzer eine Aktion ausführt, müssen wir den Status aktualisieren. Hierbei handelt es sich um einen Datensatz, auf dessen Grundlage das gebildet wird, was der Benutzer auf dem Bildschirm sieht.  Aktualisieren Sie den Status von React-Anwendungen mithilfe der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">setState-</a> Methode. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ox/bh/zi/oxbhziuoggxlnj-unanjgwxcob4.jpeg"></a> <br><br>  Da die Zustände nicht direkt aktualisiert werden sollten (in React sollte der Zustand unveränderlich sein), wird die Arbeit mit ihnen mit der Komplikation der Struktur der Zustände zu einer sehr nicht trivialen Aufgabe.  Es wird nämlich für den Programmierer schwierig, im Status zu navigieren und seine Daten in der Anwendung zu verwenden. <br><a name="habracut"></a><br>  In solchen Situationen können Sie die Immer-Bibliothek verwenden.  Seine Verwendung in React-Anwendungen ist dem Material gewidmet, dessen Übersetzung wir heute veröffentlichen. <br><br><h2>  <font color="#3AC1EF">Die Grundlagen der Verwendung von Immer in React-Anwendungen</font> </h2><br>  Bei Verwendung von Immer kann die Statusstruktur einer React-Anwendung vereinfacht werden, was die Arbeit erleichtert.  Immer verwendet das Konzept des sogenannten "Entwurfs".  Ein „Entwurf“ kann als Kopie des Staates angesehen werden, nicht jedoch des Staates selbst. <br><br>  Immer kopiert den Status sozusagen durch „Drücken“ der CMD + C-Tasten und fügt dann mit den CMD + V-Tasten das, was er kopiert hat, an einer Stelle ein, an der die kopierten Daten angezeigt werden können, ohne das Originalmaterial zu stören.  Das Ändern der im Status enthaltenen Daten erfolgt im "Entwurf". Anschließend wird basierend auf den am "Entwurf" vorgenommenen Änderungen der aktuelle Status der Anwendung aktualisiert. <br><br>  Angenommen, Ihr Anwendungsstatus sieht folgendermaßen aus: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {   <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Kunle'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>,   <span class="hljs-attr"><span class="hljs-attr">city</span></span>: <span class="hljs-string"><span class="hljs-string">'Lagos'</span></span>,   <span class="hljs-attr"><span class="hljs-attr">country</span></span>: <span class="hljs-string"><span class="hljs-string">'Nigeria'</span></span> }</code> </pre> <br>  Hier sind die Benutzerdaten.  Wie sich herausstellte, feiert dieser Benutzer seinen 31. Geburtstag.  Dies bedeutet, dass wir sein Alter ( <code>age</code> ) aktualisieren müssen.  Wenn Sie Immer verwenden, um dieses Problem zu lösen, wird zuerst eine Kopie dieses Status erstellt. <br><br>  Stellen Sie sich nun vor, dass eine Kopie des Vermögens angefertigt wurde, dem Kurier übergeben wurde und er diese Kopie an Kunle übergab.  Dies bedeutet, dass es jetzt zwei Kopien des Staates gibt.  Eine davon ist der aktuelle Status der Anwendung, und die zweite ist eine „grobe“ Kopie, die an den Benutzer übertragen wurde.  Der Benutzer, der den „Entwurf“ bearbeitet, ändert sein Alter auf 31. Danach kehrt der Kurier mit dem geänderten Dokument zurück und gibt den „Entwurf“ an die Anwendung weiter.  Dort wird ein Vergleich zweier Versionen des Dokuments durchgeführt, und es werden nur Änderungen bezüglich des Alters des Benutzers am aktuellen Status der Anwendung vorgenommen, da sich am „Entwurf“ nichts anderes geändert hat. <br><br>  Ein solches Arbeitsschema verstößt nicht gegen die Idee der staatlichen Immunität - der aktuelle Zustand wird nicht direkt aktualisiert.  Im Allgemeinen können wir sagen, dass die Verwendung von Immer einfach dazu beiträgt, die Verwendbarkeit des Immunzustands zu verbessern. <br><br><h2>  <font color="#3AC1EF">Beispiel Nr. 1: Ampel</font> </h2><br>  Schauen wir uns eine Beispielanwendung an, die Immer verwendet.  Angenommen, Sie entwickeln eine Ampelanwendung.  In dieser Anwendung können Sie versuchen, Immer zu verwenden. <br><br>  So sieht der Bildschirm dieser Anwendung in einem der Momente ihres Betriebs aus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f0/416/a6a/2f0416a6a858f3dc973e0bfd58969275.png"></div><br>  <i><font color="#999999">Ampelanwendung</font></i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier</a> finden Sie den Projektcode. <br><br>  So sieht die Komponente aus, wenn das Projekt Immer verwendet. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {produce} = immer <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  state = {    <span class="hljs-attr"><span class="hljs-attr">red</span></span>: <span class="hljs-string"><span class="hljs-string">'red'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">yellow</span></span>: <span class="hljs-string"><span class="hljs-string">'black'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">green</span></span>: <span class="hljs-string"><span class="hljs-string">'black'</span></span>,    <span class="hljs-attr"><span class="hljs-attr">next</span></span>: <span class="hljs-string"><span class="hljs-string">"yellow"</span></span>  }  componentDidMount() {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.interval = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.changeHandle(), <span class="hljs-number"><span class="hljs-number">3000</span></span>);  }   componentWillUnmount() {    clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.interval);  }  handleRedLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'red'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>      })    )  }   handleYellowLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'green'</span></span>      })    )  }   handleGreenLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;        draft.green = <span class="hljs-string"><span class="hljs-string">'green'</span></span>;        draft.next = <span class="hljs-string"><span class="hljs-string">'red'</span></span>      })    )  }  changeHandle = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.next === <span class="hljs-string"><span class="hljs-string">'yellow'</span></span>) {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleYellowLight()    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.next === <span class="hljs-string"><span class="hljs-string">'green'</span></span>) {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleGreenLight()    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleRedLight()    }     }  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (      <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"box"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.red</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.yellow</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"circle"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{backgroundColor:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">this.state.green</span></span></span></span><span class="xml"><span class="hljs-tag">}}&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); } };</code> </pre> <br>  <code>Produce</code> ist eine Standardfunktion, die aus Immer importiert wird.  Wir übergeben es als Wert an die <code>setState()</code> -Methode.  Die <code>produce</code> nimmt eine Funktion an, die als Argument einen <code>draft</code> annimmt.  Innerhalb dieser Funktion können wir den Status "Entwurf" bearbeiten und ihn in die Form bringen, die einen realen Status annehmen sollte. <br><br>  Wenn Ihnen das alles zu kompliziert erscheint, finden Sie hier einen weiteren Ansatz zum Schreiben von Code, der dieselben Aufgaben wie der obige Code löst.  Erstellen Sie zunächst eine Funktion: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleLight = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> produce(state, (draft) =&gt; {    draft.red = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;    draft.yellow = <span class="hljs-string"><span class="hljs-string">'black'</span></span>;    draft.green = <span class="hljs-string"><span class="hljs-string">'green'</span></span>;    draft.next = <span class="hljs-string"><span class="hljs-string">'red'</span></span>  }); }</code> </pre> <br>  An die <code>produce</code> wir als Argumente den aktuellen Status der Anwendung und eine andere Funktion, die den <code>draft</code> übernimmt.  Lassen Sie uns nun all dies in der Komponente nutzen: <br><br><pre> <code class="javascript hljs">handleGreenLight = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nextState = handleLight(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state)  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(nextState) }</code> </pre> <br><h2>  <font color="#3AC1EF">Beispiel 2: Einkaufsliste</font> </h2><br>  Wenn Sie schon länger mit React arbeiten, sollten Sie sich nicht über die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spread-Syntax</a> wundern.  Wenn Sie Immer verwenden, müssen Sie keine ähnlichen Designs verwenden.  Insbesondere beim Arbeiten mit Arrays, die in einem Status enthalten sind. <br><br>  Wir werden weiterhin die Möglichkeiten von Immer untersuchen und eine Anwendung erstellen, die eine Einkaufsliste implementiert. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7f/71a/c75/c7f71ac758dbcdd0a49d13442f6e38cc.png"></div><br>  <i><font color="#999999">Einkaufsliste</font></i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier können</a> Sie damit experimentieren. <br><br>  Hier ist die Komponente, mit der wir arbeiten. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) {      <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props)           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {        <span class="hljs-attr"><span class="hljs-attr">item</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,        <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,        <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [          { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Cereals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> },          { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Rice"</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> }        ]      }    }    handleInputChange = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(      produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {        draft[event.target.name] = event.target.value      }))    }    handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {      e.preventDefault()      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {        <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),        <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,        <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price      }      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(        produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {          draft.list = draft.list.concat(newItem)        })      )    };  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (      &lt;React.Fragment&gt;        &lt;section className="section"&gt;          &lt;div className="box"&gt;            &lt;form onSubmit={this.handleSubmit}&gt;              &lt;h2&gt;Create your shopping list&lt;/h2&gt;              &lt;div&gt;                &lt;input                  type="text"                  placeholder="Item's Name"                  onChange={this.handleInputChange}                  name="name"                  className="input"                  /&gt;              &lt;/div&gt;              &lt;div&gt;                &lt;input                  type="number"                  placeholder="Item's Price"                  onChange={this.handleInputChange}                  name="price"                  className="input"                  /&gt;              &lt;/div&gt;              &lt;button className="button is-grey"&gt;Submit&lt;/button&gt;            &lt;/form&gt;          &lt;/div&gt;                   &lt;div className="box"&gt;            {              this.state.list.length ? (                this.state.list.map(item =&gt; (                  &lt;ul&gt;                    &lt;li key={item.id}&gt;                      &lt;p&gt;{item.name}&lt;/p&gt;                      &lt;p&gt;${item.price}&lt;/p&gt;                    &lt;/li&gt;                    &lt;hr /&gt;                  &lt;/ul&gt;                ))              ) : &lt;p&gt;Your list is empty&lt;/p&gt;            }          &lt;/div&gt;        &lt;/section&gt;      &lt;/React.Fragment&gt;    )  } } ReactDOM.render(  &lt;App /&gt;,  document.getElementById('root') );</code> </pre> <br>  Wenn Sie der Liste neue Einkaufsnotizen hinzufügen, müssen Sie den Status der Komponente aktualisieren, in der im Listenarray neue Elemente gespeichert werden sollen.  Um das <code>list</code> mit der Methode <code>setState()</code> zu aktualisieren, benötigen <code>setState()</code> den folgenden Code: <br><br><pre> <code class="javascript hljs">handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {  e.preventDefault()  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {    <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),    <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,    <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price  }  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [...this.state.list, newItem] }) };</code> </pre> <br>  Wenn Sie während des Betriebs der Anwendung viele Statuselemente aktualisieren müssen, muss die Spread-Syntax sehr häufig verwendet werden.  Ein neuer Zustand wird erhalten, indem das, was sich bereits im Zustand befindet, mit neuen Daten kombiniert wird.  Mit zunehmender Anzahl von Änderungen wird die Arbeit komplizierter.  Immer verwenden - solche Dinge verursachen keine Schwierigkeiten.  Sie können dies überprüfen, indem Sie sich den Beispielcode am Anfang dieses Abschnitts ansehen. <br><br>  Was aber, wenn wir dem Projekt eine Funktion hinzufügen möchten, die in Form eines Rückrufs nach der Aktualisierung des Status aufgerufen wird?  Dies kann beispielsweise erforderlich sein, wenn Sie die Anzahl der Einträge in der Liste oder die Gesamtkosten aller geplanten Einkäufe zählen müssen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier können</a> Sie sich den Code der Anwendung ansehen, den wir nun analysieren werden.  Die Schnittstelle ist unten dargestellt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42c/43e/9ee/42c43e9ee7d1eebfc5ab18552ecf51e2.png"></div><br>  <i><font color="#999999">Anwendung mit der Funktion der Berechnung der Gesamtkosten geplanter Einkäufe</font></i> <br><br>  Angenommen, wir möchten den Gesamtwert der geplanten Einkäufe berechnen.  Beginnen wir mit der Erstellung eines Statusaktualisierungsmechanismus.  Dieser Mechanismus wird durch die <code>handleSubmit</code> Funktion dargestellt: <br><br><pre> <code class="javascript hljs">handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {  e.preventDefault()  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {    <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuid.v4(),    <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.name,    <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.price  }   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(    produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.list = draft.list.concat(newItem)    }), () =&gt; {      <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.calculateAmount(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.list)    }  ) };</code> </pre> <br>  In der <code>handleSubmit</code> Funktion erstellen wir zunächst ein Objekt basierend auf den vom Benutzer eingegebenen Daten.  Der Verweis auf das Objekt wird in die Konstante <code>newItem</code> .  Um einen neuen Status der Anwendung zu erstellen, wird die Methode <code>.concat()</code> verwendet.  Diese Methode, die für ein Array aufgerufen wird, gibt ein neues Array zurück, das Elemente des ursprünglichen Arrays sowie ein neues Element enthält.  Das neue Array wird in <code>draft.list</code> .  Danach kann Immer den Status der Anwendung aktualisieren. <br><br>  Der Rückruf, die <code>calculateAmount</code> Funktion, wird nach einer Statusaktualisierung aufgerufen.  Es ist wichtig zu beachten, dass diese Funktion eine aktualisierte Version des Status verwendet. <br><br>  Die Funktion <code>calculateAmount</code> sieht folgendermaßen aus: <br><br><pre> <code class="javascript hljs">calculateAmount = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">list</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> total = <span class="hljs-number"><span class="hljs-number">0</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; list.length; i++) {      total += <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(list[i].price, <span class="hljs-number"><span class="hljs-number">10</span></span>)    }  <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState(    produce(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.totalAmount = total    })  ) }</code> </pre> <br><h2>  <font color="#3AC1EF">Haken immer</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Use-immer</a> ist ein Hook, mit dem Entwickler den Status von React-Anwendungen steuern können.  Schauen wir uns an, wie dieser Hook funktioniert, indem wir die klassische Zähleranwendung auf ihrer Basis implementieren: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useImmer} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"use-immer"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Counter = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [count, updateCounter] = useImmer({    <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>  });  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">increment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{    updateCounter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft</span></span></span><span class="hljs-function"> =&gt;</span></span> {      draft.value = draft.value +<span class="hljs-number"><span class="hljs-number">1</span></span>;    });  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        Counter {count.value}      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{increment}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Increment</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>  ); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Counter;</code> </pre> <br>  Die <code>useImmer</code> Funktion <code>useImmer</code> der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">useState-</a> Methode sehr ähnlich.  Die Funktion gibt einen Status und eine Funktion zurück, die den Status aktualisiert.  Beim ersten Laden der Komponente entspricht der Inhalt des Status (in diesem Fall die Eigenschaft <code>count</code> ) dem an <code>useImmer</code> Wert.  Durch die Verwendung der zurückgegebenen Funktion zum Aktualisieren des Status können wir eine <code>increment</code> erstellen, die den Wert der Eigenschaft <code>count</code> state erhöht. <br><br>  Und hier ist der Code, der den Hook für Immer verwendet, der an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">useReducer</a> erinnert: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { useRef } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useImmerReducer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"use-immer"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuidv4 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"uuid/v4"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = []; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">draft, action</span></span></span><span class="hljs-function">) =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) {    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"ADD_ITEM"</span></span>:      draft.push(action.item);      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"CLEAR_LIST"</span></span>:      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> initialState;    <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> draft;  } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Todo = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inputEl = useRef(<span class="hljs-literal"><span class="hljs-literal">null</span></span>);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [state, dispatch] = useImmerReducer(reducer, initialState);   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> {    e.preventDefault()    <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newItem = {      <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uuidv4(),      <span class="hljs-attr"><span class="hljs-attr">text</span></span>: inputEl.current.value    };    dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"ADD_ITEM"</span></span>, <span class="hljs-attr"><span class="hljs-attr">item</span></span>: newItem });    inputEl.current.value = <span class="hljs-string"><span class="hljs-string">""</span></span>;    inputEl.current.focus();  }   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleClear = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {    dispatch({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'CLEAR_LIST'</span></span> })  }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'App'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'App-header'</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">          {state.map(todo =&gt; {            return </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{todo.id}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{todo.text}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">li</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">;          })}        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onSubmit</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{handleSubmit}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'text'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{inputEl}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">            </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'submit'</span></span></span></span><span class="xml"><span class="hljs-tag">          &gt;</span></span></span><span class="xml">            Add Todo          </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">          </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{handleClear}</span></span></span></span><span class="xml"><span class="hljs-tag">        &gt;</span></span></span><span class="xml">          Clear Todos        </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">      </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">  ); } export default Todo;</span></span></code> </pre> <br>  Die Funktion <code>useImmerReducer</code> akzeptiert die <code>useImmerReducer</code> und den Anfangszustand.  Es gibt den Status und die <code>dispatch</code> .  Danach können Sie den Status für die Anzeige der darin enthaltenen Elemente umgehen.  Das Senden von Aktionen mithilfe der <code>dispatch</code> wird ausgeführt, wenn ein neues Element zur Aufgabenliste hinzugefügt wird und wenn die Liste gelöscht wird.  Der zu sendenden Aktion wird ein Typ zugewiesen, auf dessen Grundlage in der Reduzierungsfunktion eine Entscheidung darüber getroffen wird, was genau getan werden muss, um eine bestimmte Aktion zu verarbeiten. <br><br>  Im Reduzierer verwenden wir nach wie vor einen Entitätsentwurf, keinen <code>state</code> .  Dank dessen haben wir eine bequeme Möglichkeit, den Status der Anwendung zu verwalten. <br><br>  Den im vorherigen Beispiel verwendeten Code finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  In diesem Artikel haben wir über Immer gesprochen, eine Bibliothek, die die Verwaltung des Status von React-Anwendungen vereinfacht.  Der Autor des Artikels glaubt, dass jeder, der an dieser Bibliothek interessiert ist, Immer in seinen neuen Anwendungen verwenden oder sie langsam in eines der aktuellen Projekte einführen kann. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist das</a> Material, in dem Sie einige Details zu Immer finden. <br><br>  <b>Liebe Leser!</b>  Planen Sie Immer zu verwenden? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de463337/">https://habr.com/ru/post/de463337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de463327/index.html">Vue.js: 3 Anti-Patterns</a></li>
<li><a href="../de463329/index.html">Entwicklung dynamischer Baumdiagramme mit SVG und Vue.js.</a></li>
<li><a href="../de463331/index.html">Apollo Client. Jetzt mit React Hooks</a></li>
<li><a href="../de463333/index.html">Wahl eines Testmanagementsystems im Jahr 2019</a></li>
<li><a href="../de463335/index.html">Verwendung des statischen Analysators PVS-Studio in der Entwicklung für eingebettete Systeme in C und C ++</a></li>
<li><a href="../de463347/index.html">Eröffnung einer Reihe gemeinsamer Schulungen von Group-IB und Belkasoft in Computerforensik</a></li>
<li><a href="../de463349/index.html">Inverse Probleme affiner Transformationen oder etwa eine schöne Formel</a></li>
<li><a href="../de463351/index.html">Verwenden des statischen Analysators PVS-Studio in der C- und C ++ - Entwicklung für eingebettete Systeme</a></li>
<li><a href="../de463353/index.html">5 Tipps zur Designführung Teil 1</a></li>
<li><a href="../de463355/index.html">Fusion von Uber & Careem: Wie werden sich die aufkommenden Taxi-Hageldienste in der MENA-Region auswirken?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>