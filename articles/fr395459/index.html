<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍⚖️ 👩🏾‍🏭 📴 Lecture du compteur d'eau: ESP8266 + Android 👊 🕵️ 📒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beaucoup ont maintenant des compteurs d'eau. Et la plupart sont confrontés au problème de prendre des mesures de ces compteurs et de leur livraison en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lecture du compteur d'eau: ESP8266 + Android</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395459/"><img src="https://habrastorage.org/files/d62/52b/548/d6252b5488fa4deea6a9eee117047175.png" width="300" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beaucoup ont maintenant des compteurs d'eau. </font><font style="vertical-align: inherit;">Et la plupart sont confrontés au problème de prendre des mesures de ces compteurs et de leur livraison en temps opportun. </font><font style="vertical-align: inherit;">Je n'ai pas fait exception. </font><font style="vertical-align: inherit;">C'était pratique de prendre des témoignages de moi, mais ici, j'oubliais constamment de les prendre et je m'en souvenais au moment le plus inopportun. </font><font style="vertical-align: inherit;">Il a été décidé d'automatiser le processus de prise de mesures afin de pouvoir les consulter à tout moment. </font><font style="vertical-align: inherit;">Peu importe comment obtenir une photo à gauche sur mon téléphone, s'il vous plaît, sous chat.</font></font><br clear="all">
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Présentation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'idée de mise en œuvre m'est venue après avoir lu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> article. </font><font style="vertical-align: inherit;">Pendant la réparation, j'ai immédiatement réglé les compteurs d'impulsions. </font><font style="vertical-align: inherit;">La première version de l'appareil basé sur l'ESP-03 a été réalisée. </font><font style="vertical-align: inherit;">Le code est écrit en LUA. </font><font style="vertical-align: inherit;">Des données ont également été transmises à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thingspeak.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Première version</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/cbe/aa1/398/cbeaa13983eb49edb96f84c1a6e3ce00.jpg" alt=" "><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après 2 mois d'utilisation, les inconvénients suivants ont été identifiés:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'y avait aucune indication lumineuse de fonctionnement, puisque le module était suspendu plusieurs fois, il était important </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La complexité des paramètres, car les paramètres étaient dans le code</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour l'alimentation, un fil avec un connecteur miniUSB était nécessaire. </font><font style="vertical-align: inherit;">Je n'avais que ça de Sony Playstation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Affichage des résultats pas confortable sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thingspeak.com</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La relative complexité de la mise en œuvre.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, il a été décidé de réaliser la deuxième version, qui répondra aux exigences suivantes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connecteur d'alimentation MicroUSB </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effectuer la configuration en se connectant à l'appareil via WiFi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indication de travail </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commodité de visualisation des informations </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facilité de répétition </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aspect esthétique </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faible coût </font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frais</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le circuit imprimé est assez simple. </font><font style="vertical-align: inherit;">Il est basé sur le même ESP-03. </font><font style="vertical-align: inherit;">Le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esp8266.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m'a aidé avec les principales fonctionnalités de la connexion </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/abf/3dc/f0e/abf3dcf0e9054fad96abaf1f798e9237.jpg" width="600"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FROID, CHAUD - Prises RJ9 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LED1 - sert à indiquer le fonctionnement de la carte (mode de réglage - constamment </font><font style="vertical-align: inherit;">allumé </font><font style="vertical-align: inherit;">, erreur - clignotement fréquent, fonctionnement normal - clignote une fois par seconde) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LED2 - indique l'alimentation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R3, R4 - 330 Ohm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R1, R2, R5, R6 , R7 - 6.8kOhm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C1 </font><font style="vertical-align: inherit;">- Condensateur au </font><font style="vertical-align: inherit;">tantale </font><font style="vertical-align: inherit;">33mkF </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C2 - </font><font style="vertical-align: inherit;">Condensateur </font><font style="vertical-align: inherit;">céramique </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0.1mkF LM1117 - pour convertir 5V en 3.3V </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J1 - </font><font style="vertical-align: inherit;">Cavalier </font><font style="vertical-align: inherit;">clignotant ESP-03</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
BTN - pour choisir le mode de fonctionnement de la carte</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un connecteur miniUSB a été ajouté pour flasher le module et enregistrer les scripts. </font><font style="vertical-align: inherit;">Pour l'alimentation, un autre connecteur microUSB est ajouté séparément sans y connecter les broches RX et TX (il n'est pas affiché sur le schéma). </font><font style="vertical-align: inherit;">Cela est dû au fait que si vous alimentez le module via le connecteur miniUSB, où RX et TX sont connectés, le module se bloque pour une raison quelconque. </font><font style="vertical-align: inherit;">J'ai essayé de tirer le RX et le TX, mais rien n'y fait. </font><font style="vertical-align: inherit;">Par conséquent, j'ai décidé de le laisser comme ça, en plus j'avais beaucoup de câbles avec microUSB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les dimensions des composants facilitent la création d'une carte à l'aide de la méthode LUT, qui a été effectuée pour le débogage des scripts. </font><font style="vertical-align: inherit;">Plus tard, j'ai commandé la fabrication de la planche aux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chinois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La taille de la planche a été ajustée pour s'adapter au boîtier existant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photos avant l'installation:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/f8b/c3e/30e/f8bc3e30e86948228ee9215a9050fe58.jpg" alt="image" width="600"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photo après:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/54b/5b9/f75/54b5b9f757d7499aa6188435c4c2e773.jpeg" width="600"></div><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai récupéré le firmware en utilisant le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constructeur en ligne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il permet de générer le firmware NodeMCU uniquement avec les modules nécessaires, ce qui vous permet d'augmenter la quantité de mémoire libre. Je n'ai pas rencontré de problème avec un manque de mémoire, et par conséquent, environ 30% de l'espace libre a été consacré aux scripts et aux fichiers auxiliaires. J'ai téléchargé le firmware en utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nodemcu-flasher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . J'ai utilisé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESPlorer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour écrire et remplir des scripts </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fonctionnement du compteur d'impulsions est similaire à une pression sur un bouton. Lorsque certaines valeurs sont transmises, les contacts se ferment et s'ouvrent. Mon compteur a fermé les contacts au numéro 7, et ouvert au numéro 2. J'ai accroché les compteurs sur les ports GPIO12, GPIO13 et mis à la terre avec un pull-up sur l'alimentation (une résistance interne est utilisée). Ainsi, lorsque le port change sa valeur à 0, on peut alors supposer que 10 l d'eau ont été dépensés.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'appareil peut fonctionner en 2 modes: mode configuration et mode lecture. Pour passer en mode de configuration lorsque l'alimentation est appliquée, maintenez enfoncé le bouton BTN. Cela prend 2 secondes. Dans ce mode, l'ESP commence à fonctionner comme un point d'accès et est un simple serveur Web. Un réseau ESP accessible apparaît - ???????, où au lieu de caractères? sera id esp. Pour configurer, vous devez vous connecter à ce réseau et dans le navigateur, allez à 1.1.1.1. La page suivante apparaît:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/53a/3f4/f98/53a3f4f986bf4ed4a1ce252687c965ac.png" width="600"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le bouton n'a pas été bloqué lors de la mise sous tension, le mode de lecture démarre. </font><font style="vertical-align: inherit;">Dans ce mode, l'état des ports GPIO12 et GPIO13 est vérifié toutes les secondes. </font><font style="vertical-align: inherit;">Si 0 apparaît quelque part, la valeur correspondante augmente. </font><font style="vertical-align: inherit;">Initialement, j'ai fait une vérification basée sur les interruptions, mais cette méthode s'est avérée non fiable (ESP suspendu périodiquement). </font><font style="vertical-align: inherit;">Chaque minute, il y a une tentative d'envoi de données au serveur (en cas de modifications). </font><font style="vertical-align: inherit;">Pour chaque compteur, 2 valeurs sont transmises: la lecture actuelle du compteur et la quantité de changement depuis le dernier transfert de données.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application Android</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai dit, sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thingspeak.com,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> je n'étais pas à l'aise de regarder les lectures. </font><font style="vertical-align: inherit;">J'ai décidé d'écrire une application Android. </font><font style="vertical-align: inherit;">Le résultat est une application qui vous permet de:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construire des graphiques de consommation par heures, jours, mois</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accéder aux données hors ligne</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un widget de mesures</font></font></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thingspeak.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> possède une API qui vous permet de collecter des données. </font><font style="vertical-align: inherit;">À l'aide de cette API, l'application à chaque lancement ou avant la mise à jour du widget demande les dernières données et les enregistre dans une base de données locale. </font><font style="vertical-align: inherit;">D'autres travaux sont déjà en cours avec elle. </font><font style="vertical-align: inherit;">Ajout de 2 types de widgets à l'application: comme compteur et comme graphique de consommation. </font><font style="vertical-align: inherit;">Cela s'est avéré assez pratique.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Captures d'écran d'application</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/2c1/d7f/0b1/2c1d7f0b11fe458480f48aa6654a8d34.jpg" width="300"> <img src="https://habrastorage.org/files/013/3d4/666/0133d4666905489e8aae7406822cce63.png" width="300"> <img src="https://habrastorage.org/files/99e/77f/399/99e77f39955c493e92ba11e2ac34397d.png" width="300"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai pensé à implémenter la lecture automatique des compteurs, mais je n'ai pas trouvé d'API prête à l'emploi. </font><font style="vertical-align: inherit;">Il a été possible d'analyser la demande officielle, mais elle n'est pas fiable. </font><font style="vertical-align: inherit;">Pour Moscou, il y a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EMP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Je me suis inscrit là-bas et j'ai eu accès à leur API, mais cela vous permet seulement de voir quelles lectures ont été données, ce qui ne m'intéressait pas.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le coût de l'appareil, à l'exception de l'étui, s'élevait à environ 450 roubles. </font><font style="vertical-align: inherit;">Certains composants ont été achetés dans un magasin bien connu. </font><font style="vertical-align: inherit;">Si vous prenez tout aux Chinois, le coût peut être réduit à environ 370 roubles. </font><font style="vertical-align: inherit;">Cette version depuis 4 mois n'a jamais bloqué ou échoué. </font><font style="vertical-align: inherit;">L'appareil résultant est facile à répéter et à modifier. </font><font style="vertical-align: inherit;">Avec l'aide de lui, j'ai appris que la cuvette des toilettes passait lentement mais sûrement de l'eau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Liens utiles:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware, scripts, fichiers Gerber</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réorganisation du conseil</font></font></a> </li>
</ul></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr395459/">https://habr.com/ru/post/fr395459/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr395447/index.html">Nouvelle famille de lanceurs chinois</a></li>
<li><a href="../fr395449/index.html">Le module commercial peut apparaître sur ISS</a></li>
<li><a href="../fr395451/index.html">Aucune option</a></li>
<li><a href="../fr395453/index.html">Les systèmes de sécurité devraient protéger, et non enregistrer, comment ils vous tuent</a></li>
<li><a href="../fr395455/index.html">Drone de course FPV DIY (partie 1) - assemblage</a></li>
<li><a href="../fr395461/index.html">Prise d'ordinateur intelligent à faire soi-même sur Arduino</a></li>
<li><a href="../fr395463/index.html">Système d'exploitation Internet WRIO. Présentation</a></li>
<li><a href="../fr395465/index.html">Microsoft a payé 10 000 $ pour une mise à niveau problématique du PC d'un utilisateur vers Windows 10</a></li>
<li><a href="../fr395467/index.html">Demandez à Ethan n ° 62: la plus grande galaxie spirale</a></li>
<li><a href="../fr395469/index.html">L'incident dans les nuages ​​(histoire)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>