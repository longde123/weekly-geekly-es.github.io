<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤛🏾 👨‍👧‍👦 🉐 C ++ im Dienste der Kieferorthopädie: Interview mit Mikhail Matrosov, CAD-Entwickler bei Align Technology 👚 👨🏻‍🎤 🌬️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mikhail Matrosov ( mmatrosov ) ist ein führender Entwicklungsingenieur im Moskauer Forschungs- und Entwicklungsbüro von Align Technology. Seine Spezia...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ im Dienste der Kieferorthopädie: Interview mit Mikhail Matrosov, CAD-Entwickler bei Align Technology</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/473628/"><p><img src="https://habrastorage.org/webt/np/h9/sl/nph9sl6bdoehtm2mog9vsbmejsk.png"></p><br><p>  Mikhail Matrosov ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">mmatrosov</a> ) ist ein führender Entwicklungsingenieur im Moskauer Forschungs- und Entwicklungsbüro von Align Technology.  Seine Spezialisierung ist sehr ungewöhnlich - er entwickelt ein spezielles CAD-System für die Konstruktion kieferorthopädischer Geräte. </p><br><p>  Mikhail nimmt seit der ersten Konferenz an C ++ Russland teil.  In diesem Jahr wird er auf der C ++ Russia 2019 Piter einen Vortrag zum Thema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„Qualifiers, Qualifiers and Templates“ halten</a> .  Sie können ihn auch in den Kursen von Yandex <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Grundlagen der C ++ - Entwicklung: Brauner Gürtel"</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Grundlagen der C ++ - Entwicklung: Schwarzer Gürtel"</a> bei Coursera kennen, an deren Erstellung Michael mitverfasst hat. </p><br><p>  Die Konferenz steht bereits vor der Tür, aber jetzt ein Interview mit Mikhail, in dem wir seine Arbeit bei Align Technology, die Migration von Legacy-Code, die Erstellung von Online-Kursen und Berichten sowie die Funktionen von C ++ diskutierten.  Fragen wurden von Pavel Filonov (Programmkomitee C ++ Russland) und Oleg Chirukhin (Journalist der JUG Ru Group) gestellt. </p><a name="habracut"></a><br><h2>  An der Schnittstelle von Technologie und Medizin </h2><br><p>  <b>Pavel:</b> Sagen Sie mir, was Ihre Firma tut. </p><br><p>  <b>Michael:</b> Align Technology ist ein Pionier und Marktführer in der sauberen Kieferorthopädie.  Dies ist so etwas, das jetzt auf der ganzen Welt anstelle von Zahnspangen gemacht wird.  Wenn früher ein Metalldraht zum Richten der Zähne platziert wurde und sie damit liefen, setzen Sie stattdessen transparente Kunststoff-Mundschützer (Liner) auf, die für jeden Patienten individuell angefertigt werden.  Kürzlich habe ich die Produkte unserer Firma an mir selbst getestet, ein sehr lustiges Gefühl! </p><br><p>  <b>Pavel:</b> Also hast du so ein Hundefutter, ja, es stellt sich heraus? </p><br><p>  <b>Michael:</b> Ja, irgendwie.  Wenn Sie es nicht wissen, ist es sehr schwierig zu bemerken, dass sich die Person in den Liner befindet.  Es sei denn, es treten zunächst aus Gewohnheit kleine Sprachfehler auf, die jedoch selbst schwer zu bemerken sind. </p><br><p>  <b>Pavel:</b> Und womit hat C ++ zu tun, worüber wir heute viel sprechen werden? </p><br><p>  <b>Michael:</b> Gute Frage.  Als das Unternehmen noch in den Kinderschuhen steckte, nahmen zwei fröhliche Pakistaner einen speziellen Kunststoff (ich weiß nicht, woher sie ihn fanden) auf, der ungiftig und inert sein sollte mit Speichel und anderen Substanzen im Mund. </p><br><p>  Dann nahmen sie ein Modell des Kiefers des Patienten, das sie sehr lange zu tun wussten.  Um beispielsweise Kronen herzustellen, wurde einer Person ein Bissen von etwas wie einem speziellen Plastilin gegeben.  Es gab einen Zahnguss, der mit Material gefüllt war.  Also haben sie eine Kopie des Kiefers bekommen und Plastik darauf gezogen (irgendwie haben sie es aufgewärmt), und das Mundstück ist fertig.  Das heißt, dieser gesamte Markt war vor buchstäblich 20 Jahren völlig analog. </p><br><p>  Jetzt das Produktionsvolumen in der Region von 300-400 Tausend Liner pro Tag (bitte bewerten Sie die Skala).  Dies sind gigantische Hersteller, daher sind sie vollständig automatisiert. </p><br><p> Um einen Liner zu erstellen, drucken wir auf einer speziellen 3D-Druckerform.  Dies ist in der Tat eine Kopie des Kiefers des Patienten während der Behandlung.  Wir modellieren, wie der Kiefer in einer Woche, zwei Monaten, einem Jahr und einem Jahr aussehen wird.  Dann starten wir den Tiefziehprozess - wir nehmen ein Plastikband, erhitzen es und ziehen es auf die Form.  Schneiden Sie ab und holen Sie sich eine Plastikfolie. </p><br><p>  Im Moment wirft noch niemand Patienten und sie verwenden dreidimensionale Intraoralscanner.  Wir haben Leute, die das in einem nahe gelegenen Büro machen.  Dies ist wahrscheinlich der „Wow-Teil“ unserer Produktion.  Dort führt in Echtzeit eine spezielle Düse entlang der Backe und baut ihre Form auf.  Informationen werden auf die Server des Unternehmens hochgeladen, verarbeitet und an unsere Spezialisten (Techniker) gesendet.  Sie können den Scan bearbeiten und Rauschen entfernen. </p><br><p>  Anschließend ist die Behandlung in einem speziellen CAD-System geplant.  Dies ist eine sehr komplizierte Sache, weil niemand weiß, was der richtige Biss ist.  Jeder Arzt hat seine eigene Meinung zu diesem Thema.  Wir arbeiten derzeit daran, Behandlungsansätze zu formalisieren, aber dies ist noch nicht in Arbeit. </p><br><p>  Aber zurück zu C ++.  Es gibt zum Beispiel ein solches Problem.  Formen werden auf einem speziellen 3D-Drucker unter Verwendung der Laserstereolithographietechnologie gedruckt.  Es gibt eine große Wanne mit einer speziellen Photopolymerflüssigkeit.  Sie leuchten mit einem Laser darauf und es härtet aus.  Zuerst leuchten sie ganz unten auf dem gedruckten Modell, dann etwas höher, sogar noch höher usw.  Und so erscheint in der Flüssigkeit ein festes Modell in Schichten von unten nach oben. </p><br><p>  Das Drucken einer Form nach der anderen wäre unpraktisch.  Der Bottich ist ziemlich groß und man kann ungefähr hundert Formen hineinlegen.  Sie müssen jedoch kompakt angeordnet sein.  Die Form der Form ähnelt einem Hufeisen - das heißt, nicht konvex und ziemlich komplex.  Und sie sind alle unterschiedlich.  Es stellt sich als interessante Aufgabe heraus, ein Rechteck mit komplexen Figuren zu kacheln. </p><br><p>  Hier in diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Video</a> können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie</a> anhand <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">des angegebenen Zeitstempels</a> sehen, wie es aussieht. </p><br><p>  Dies ist nur ein Beispiel, es gibt viele Aufgaben. </p><br><p>  <b>Pavel:</b> Ihre Beschreibungen sind wie Hightech-Berechnungen.  Sprachen wie Fortran haben sich in der Vergangenheit gut behauptet.  Zumindest können Sie die Echos noch sehen.  Warum genau C ++? </p><br><p>  <b>Michael:</b> Nun, nicht Fortran, es wäre sehr mächtig.  Zu Beginn der Entwicklung war das Hauptprodukt dieses sehr spezialisierte CAD-System - eine Desktop-Anwendung für Windows.  Daher wurde eine Sprache für ein effizientes Rechnen und gleichzeitig für die Entwicklung der Anwendung selbst benötigt.  Zu dieser Zeit gab es nicht viel Auswahl - nur C ++. </p><br><p>  Jetzt haben wir einen Zoo mit Sprachen: JavaScript und TypeScript für das Web, Java für mobile Anwendungen, Go für Server, Python für die Automatisierung und viele kleine Dinge.  Grundsätzlich ein Standardstapel.  Und in wissenschaftsintensiven und rechenintensiven Anwendungen bleibt C ++ erhalten. </p><br><h2>  Je höher die Position, desto breiter der Horizont. </h2><br><p>  <b>Pavel:</b> Sie haben Ihre Position als leitender Ingenieur erwähnt.  Und so bemerkte ich eine solche Fremdheit.  Wenn ein unerfahrener C ++ - Entwickler aus Ihrem Unternehmen gefragt würde, was er tue, würde er sagen, dass er eine Art Super-Framework basierend auf Vorlagen erstellt, die auf Booststage basieren und den Serverausgleich durchführen, und Technologien würden sofort abfallen. </p><br><p>  Wenn Sie gefragt werden, was Ihr Unternehmen tut, beginnt eine ganze Geschichte über das Geschäft: Wo ist das Geld, warum ist es wichtig usw.  Korreliert das irgendwie mit Ihrer Position?  Wie ist diese Sicht auf Prozesse, Technologien, Werkzeuge? </p><br><p>  <b>Michael:</b> Ja vielleicht.  Aber außerdem wird es nicht jedem klar sein, wenn ich sofort anfange zu erzählen, wie ich Bäume überquere (obwohl ich es nicht selbst mache).  Zum Beispiel können Jungs von Yandex, Kaspersky Lab, mit Technologie beginnen, weil jeder seine Produkte kennt.  Wir sprechen über Liner, über die eine kleine Anzahl von Menschen Bescheid weiß.  Daher ist es notwendig zu erklären, was es ist. </p><br><p>  In Bezug darauf, wie dies mit dem Beitrag korreliert.  In meiner Klasse muss ich zumindest die Elemente unseres Workflows aktueller Systeme verstehen, die zusammenarbeiten.  Wenn sich etwas ändert, kann dies die Produktion, den Standort der Ärzte und die Schnittstelle beeinflussen, mit der Techniker, Ärzte und Geschäftsanalysten interagieren.  Das heißt, ja, es gibt eine Korrelation.  Mit dem Wachstum der Note müssen Sie besser sehen, was im Unternehmen passiert. </p><br><p>  <b>Pavel:</b> Haben Sie darüber nachgedacht, wie sich die Einführung neuer Technologien, beispielsweise im Zusammenhang mit C ++, auf den Workflow auswirken würde?  Nur wenige Menschen sehen sich neue Funktionen der Sprache an.  Und wenn nicht, erzählen Sie uns, wie Sie kürzlich Tools implementiert haben. </p><br><p>  <b>Michael:</b> Ich kann mich nicht ohne weiteres an C ++ erinnern.  Wenn wir die Tools nehmen, ist das letzte, was wir vermasselt haben, ein Cloud-basiertes Protokollierungssystem.  Wir verwenden speziell Splunk dafür.  Ursprünglich befand sich die Plattform unter dem Desktop, und die Migration in die Cloud ist jetzt in vollem Gange.  Daher legen wir insbesondere die Cloud-basierte Protokollierung fest.  Unser Manager lernte schnell, Anfragen zu stellen, schöne Dashboards zu erstellen und Echtzeitdiagramme anzuzeigen.  Ich war sehr zufrieden  Ich schickte es an alle und sagte: Sehen Sie, wie wir die Betriebszeit eines so komplexen Algorithmus variieren. Was ist der Grund?  Sie begannen zu verstehen, wir stellten fest, dass wir fast kein Multithreading für Testagenten haben.  Es wird ständig etwas eingeführt. </p><br><h2>  C ++, Legacy, plattformübergreifend und alles, alles, alles </h2><br><p>  <b>Oleg:</b> Verstehe ich richtig, dass Sie Rendering im Browser haben? </p><br><p>  <b>Michael:</b> Ja, das gibt es. </p><br><p>  <b>Oleg:</b> Browsertechnologien ändern sich ständig.  Beeinflusst es irgendwie?  Zum Beispiel die neue JS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shading Language</a> , so ähnlich. </p><br><p>  <b>Michael:</b> Es wirkt sich aus, aber hier ist es etwas langweilig.  In Bezug auf das Rendern ist die Szene ziemlich einfach.  Wir haben keine unglaublichen Spezialeffekte. </p><br><p>  <b>Pavel:</b> Gut.  Sie sagten jedoch, Sie hätten mit einer Desktop-Anwendung begonnen, bei der C ++ die beste Lösung war, die alle Vorteile vereint.  Als das Geschäft mit dem Produkt zu wachsen begann, begannen Sie, andere Plattformen zu entwickeln.  Ein Teil des Codes ging an den Browser, ein Teil an das Backend, ein Teil an Mobiltelefone.  Ist der „positive“ Kern auf allen Plattformen geblieben? </p><br><p>  <b>Michael: Die</b> Umstellung auf andere Plattformen begann vor zwei Jahren, und für unsere Skala ist dies eine kurze Zeit.  Daher war unsere erste Cloud-Lösung ein Desktop-Monolith, von dem grob gesagt die grafische Benutzeroberfläche abgeleitet wurde.  Vor ungefähr anderthalb Jahren haben wir den bedingten Kernel und die Bindung um ihn herum isoliert, sodass wir ihn bereits unter Linux kompilieren und ausführen konnten.  Es war ein großer Durchbruch.  Linux war uns vor allem deshalb wichtig, weil Cloud-Linux-Maschinen viel billiger sind. </p><br><p>  Jetzt wollen wir den Rechenkern in C ++, in dem alle komplexen Berechnungen stattfinden, von der Geschäftslogik trennen, die beschreibt, was zu tun ist und in welcher Reihenfolge, woher der Fall stammt, welche Art von Produkt, was der Arzt zu tun hat und was nicht und das ist alles </p><br><p>  <b>Pavel:</b> Sie haben wahrscheinlich bereits eine Roadmap für diesen Prozess, da Sie so gut darüber sprechen. </p><br><p>  <b>Michael:</b> Wir haben viele Male versucht, eine Roadmap zu erstellen.  Wir verstehen, wo wir uns unter Berücksichtigung der 20 Jahre des Vermächtnisses bewegen können (Sie können nicht mit einem halben Dollar dorthin gelangen, müssen Sie überlegen). </p><br><p>  Die Interaktion positiver Projekte erfolgt nun auf einfache Weise.  Von diesen sind es die C ++ - Schnittstellen, die hervorstechen, sodass sie nur zusammenkommen, um sicherzustellen, dass es einen Compiler gibt.  Insgesamt rund 250 Projekte, die jeweils in eine eigene dynamische Bibliothek gehen.  Und wir kombinieren sie auf unterschiedliche Weise für bestimmte Aufgaben. </p><br><p>  Ungefähr 10 Teams arbeiten am System.  Jedes Team rekrutiert eine Teilmenge dieser Projekte, normalerweise 50-70.  Jetzt bewegen wir uns in die Richtung, in der einige Dienste auf ihrer Basis erstellt werden.  Wir definieren eine strikte API für den Dienst (basierend auf Protobuf oder etwas anderem) und erstellen ein Standardschema für die Interaktion zwischen Diensten.  Es ist schwierig, den Prozess als Trennung von Berechnung und Logik zu bezeichnen, aber dies sind die ersten Versuche zur Komponentisierung. </p><br><p>  Mein Team und einige andere haben bereits damit begonnen.  Sie spüren sofort, wie viel lustiger es ist, wenn Sie einen Monolithen nicht aus 250 Projekten, sondern aus nur 70 Projekten sammeln. Und es gibt keine Situation mehr, in der jemand ein anderes Modul geändert hat, das mit scheinbar völlig unabhängigen Dingen interagiert, und etwas kaputt gegangen ist .  Es hat eine coole psychologische Wirkung.  Und während wir versuchen, uns von einem gesunden Desktop-Monolithen zu lösen, indem wir unseren Diensten bedingt 10 kleine Monolithen zuweisen. </p><br><p>  <b>Pavel:</b> Und während dieses Prozesses haben Sie nicht darüber nachgedacht, ob die Module, deren Laden in irgendeiner Form versprochen wird, ihm auf einer der Ebenen helfen können? </p><br><p>  <b>Michael: Es war</b> dieser Prozess und der Linux-Migrationsprozess, bei dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Conan</a> uns geholfen hat.  Wir hatten ein ernstes Problem mit der Verwaltung von Drittanbietern.  Ich habe darüber gesprochen, wie wir Conan auf der C ++ Russia 2019 in Moskau eingesetzt haben. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/PGOvl0dH8lM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Die "Plus" -Module würden helfen, einige Probleme mit der Kompilierungszeit zu lösen, wo tatsächlich alles begann, warum jeder die Module so will.  Die Wiederverwendung der positiven Module für die Interaktion mit dem Dienst ist dumm, da sie zu Recht auf einer sprachunabhängigen Ebene (protobuf) kommunizieren.  Vielleicht könnten wir eine Komponentisierung durchführen und unsere 250 Projekte nicht jedes Mal aus der Quelle erstellen, sondern sie in Conans Pakete packen.  Und wenn zum Beispiel das Falten von DLLs aus bestimmten Gründen unpraktisch ist, ist das Zusammenbauen zu Modulen eine Option. </p><br><p>  Ich kann jedoch nicht sagen, dass wir auf eine Funktion warten, die unseren Entwicklungsansatz ändern wird. </p><br><p>  <b>Pavel:</b> Sie haben erwähnt, dass Conan Ihnen bei der Lösung von Paketverwaltungsproblemen hilft.  Meiner Meinung nach hat die C ++ - Community vor ungefähr 3 Jahren nur darüber gesprochen.  Die ersten Berichte erschienen, die ersten Voraussetzungen.  Und jetzt sagen Sie, dass es bereits in der Produktion funktioniert. </p><br><p>  Erzählen Sie uns von Ihren Erfahrungen mit der Projektentwicklung.  War der Übergangsprozess schmerzhaft und es wert? </p><br><p>  <b>Michael: Auf</b> jeden Fall wert.  Wir sind mit Conan zufrieden.  Es gibt einige Mängel, aber das Verwalten von Abhängigkeiten in C ++ ist eine sehr schwierige Aufgabe.  Daher ist es offensichtlich, dass es kein einfaches Werkzeug geben wird, um es zu lösen. </p><br><p>  Mit Conan und dem Prozess haben wir ein Gleichgewicht zwischen Aufgaben- und Lösungskomplexität erreicht.  Wir sagten anfangs: „Okay, wir möchten solche und viele Sätze von Compilern und Konfigurationen hervorheben, dann standardmäßig dynamische Bibliotheken (anstatt statische) erstellen, bestimmte kleine Einschränkungen festlegen“ und begannen, innerhalb dieser Einschränkungen ein System zu erstellen.  Wir haben eine Wiki-Seite „So erstellen Sie ein Conan-Rezept für eine Bibliothek“, die alle Besonderheiten unseres Systems berücksichtigt.  Die Seite ist ziemlich groß und nicht sehr einfach.  Aber auch hier haben wir ein Gleichgewicht der Komplexität erreicht, daher bin ich mit dem Übergang zufrieden. </p><br><p>  <b>Pavel:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Übrigens</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wird</a> Piter Denis Panin von NVIDIA hier auf der kommenden C ++ Russia 2019 über die von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vcpkg</a> vertretene Alternative <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sprechen</a> .  Wäre es für Sie interessant, zum Bericht zu gehen und zu hören, wie sie sich in anderen Tools verhalten? </p><br><p>  <b>Michael:</b> Ja, das wäre interessant.  Ich habe vcpkg ein bisschen benutzt, aber meiner Meinung nach gibt es in vcpkg sehr wenig Flexibilität.  Und ich kann mir nicht vorstellen, wie wir ein System mit unseren Anforderungen auf der Basis von vcpkg erstellen könnten.  Wenn ich jedoch schnell eine Bibliothek nehmen und testen muss, lade ich sie nicht herunter und lese die Build-Anweisungen. Dort müssen Sie angeben, wie Abhängigkeiten registriert werden sollen. Dies ist alles Papierkorb.  Ich werde sehen, ob es in den vcpkg-Ports ist.  Wenn ja, dann sagen Sie es schnell und experimentieren Sie damit.  Wenn alles in Ordnung ist, werde ich ein Conan-Rezept für sie schreiben. </p><br><p>  <b>Pavel:</b> Fahren wir mit der Einführung neuer Tools und Ansätze fort.  Sind Sie auf die Tatsache gestoßen, dass Ingenieure mit brennenden Augen von einer Konferenz rennen, auf der ihnen von einer neuen coolen Sache erzählt wurde und sie diese in das Projekt einfügen möchten?  Wie reagieren Sie normalerweise auf solche Dinge?  Oder greifen Sie nach jeder Konferenz zurück? </p><br><p>  <b>Michael:</b> Es gibt einfach eine großartige Geschichte.  Als ich gerade anfing, in der Firma zu arbeiten, haben sie eine Funktion geschrieben, und es war notwendig, eine Konfiguration dafür vorzunehmen.  Darüber hinaus kann ein Feature mehrere verschiedene Versionen haben, und die Werte bestimmter Eigenschaften können zwischen verschiedenen Versionen durchsucht werden.  Und ich habe mir ein cooles YAML-basiertes Schema ausgedacht, bei dem Eigenschaften vererbt und neu definiert wurden.  Er schrieb es ungefähr eine Woche lang und deckte es mit Tests ab.  Und ganz am Anfang kam der Manager auf mich zu und sagte: "Hören Sie, Michael, vielleicht müssen Sie jetzt keine Zeit verschwenden und ein so flexibles Schema erstellen?"  Aber er konnte mich nicht überzeugen.  Meine Augen waren zu verbrannt. </p><br><p>  Nach ein paar Jahren schaue ich mir diesen Code an und verstehe nicht, warum es so schwierig war.  Das passiert, aber zum Glück bin ich seitdem schlauer geworden.  Darüber hinaus sind Entwickler in der Regel sehr rationale Menschen, mit denen Sie sprechen können. </p><br><p>  Früher war es so, dass jemand zweifelhafte Entscheidungen von Dritten traf.  Es ist unklar, von wem sie entwickelt werden. Das letzte Update war vor 5 Jahren. Es wurde nicht überprüft, ob es unter Linux funktioniert. Sie generieren Berichte in einem proprietären Format, das Sie in nichts konvertieren können.  Und wir sitzen und verstehen nicht, was wir als nächstes tun sollen.  Die meisten dieser Drittanbieter wurden vor vielen Jahren hinzugefügt, aber es passiert, dass jetzt etwas Ähnliches passiert. </p><br><p>  Aus diesem Grund haben wir uns eine ziemlich einfache Sache ausgedacht - eine Checkliste von Drittanbietern.  Wenn Sie einen Drittanbieter ziehen möchten, gehen Sie einfach die Checklistenelemente durch: plattformübergreifend, Support-Level, Lizenz, welche Analoga, Entwicklungs-Support-Level (wie viele Betreuer unterstützen, welche Community).  Alle Punkte sind offensichtlich, aber es gibt ziemlich viele davon. Wenn Sie einen Drittanbieter eingeben, werden Sie sich nicht sofort an alles erinnern.  Die Situation ist besser geworden, und wir beobachten, was hinzugefügt wird. </p><br><p>  Es ist auch cool, dass es früher einfach war, einen Drittanbieter zu ziehen und zusammenzubauen, beispielsweise nur in einer Version unter "Windows" und 32 Bit.  Im Prinzip gibt es keine solche Möglichkeit, da Sie sie in Conan einfügen müssen.  Und wenn Sie einen Drittanbieter einbeziehen, müssen Sie sicherstellen oder explizit angeben, dass dies in einer bestimmten Konfiguration nicht der Fall ist.  Dank dessen wurde der linke Dritte viel weniger hinzugefügt. </p><br><p>  <b>Oleg:</b> Und was ist mit dem Dritten, der sehr wenig lebt?  Zum Beispiel ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">linkes Pad</a> aus JavaScript.  Er geht auf Ihre Checkliste.  Es wird häufig von Paketen aktualisiert, gepflegt und erstellt. </p><br><p>  <b>Michael: So etwas</b> gibt es nicht.  In C ++ ist ein Drittanbieter normalerweise eine dicke Sache.  Und Lösungen von Drittanbietern, die kleine Funktionen ausführen, werden nicht verwendet.  In C ++ ist es nicht so einfach, Drittanbieter hinzuzufügen.  Und dies ist nicht JS, in dem jeder sein eigenes Modul hat. </p><br><p>  Wir haben unter bestimmten Bedingungen 80 Drittanbieter gezogen, von denen ich die Hälfte noch nie gesehen habe.  Oder eine Art höllische Geometrie, die vor 15 Jahren an einer Universität geschrieben wurde, und wir haben sie. </p><br><p>  <b>Oleg:</b> Mit Conan ist es einfach, einen Drittanbieter hinzuzufügen. </p><br><p>  <b>Michael:</b> Conan ist einfacher, aber immer noch weit entfernt von demselben Python, in dem Sie Pip Install schreiben und fertig sind.  C ++ hat ein sehr komplexes Ökosystem: verschiedene Betriebssysteme, Compiler, Toolchain, Bibliotheken, Standards.  Die meisten Bibliotheken bieten eine Reihe von Optionen. </p><br><p>  Sie fragen uns gerne: "Warum schreibst du deine Bibliotheksrezepte, nimmst sie aber nicht aus dem Conan-Zentrum?"  Ich habe von dort aus regelmäßig nach Rezepten gesucht, aber sie passen nicht zu uns.  Uns geht es besser.  Zum Beispiel kümmern sich unsere Rezepte um Debit-Symbole und fügen den darin enthaltenen Quellen eine Bindung hinzu.  Wenn Sie also vom Debugger aus Visual Studio eine Bibliothek eines Drittanbieters erhalten, werden die Quellen automatisch geladen. </p><br><p>  Also mit Conan ist es viel besser, aber immer noch weit entfernt von der Bequemlichkeit anderer Sprachen. </p><br><p>  <b>Oleg:</b> Gibt es irgendwelche Fehler in Conan selbst, die ich korrigieren möchte? </p><br><p>  <b>Michael:</b> Ja, es gibt Nachteile, aber technische. </p><br><p>  Conan verfügt über Methoden, die bedingt für das Generieren von Paketen und das Verbinden der generierten Pakete mit Ihrer Lösung verantwortlich sind.  Ideologisch sind dies zwei verschiedene Phasen, und ich kann eine ändern, ohne die andere zu ändern.  Wenn ich die Art und Weise ändere, wie Pakete verbunden sind, möchte ich keine Binärpakete neu generieren, da diese genau gleich sind.  Sie können dies in Conan nicht tun, da das Rezept eine Entität ist.  Wenn Sie das Rezept geändert haben, müssen Sie formal die Version ändern und neue Binärdateien generieren, was unpraktisch ist. </p><br><h2>  Merkmale des Übergangs zu neuen Standards </h2><br><p>  <b>Pavel:</b> Reden wir über neue Standards.  Darüber hinaus hat Ihr Produkt bereits eine gewisse Geschichte. </p><br><p>  Jetzt kommen wir zur Konferenz, wo sie uns alle drei Jahre über neue wundervolle Funktionen berichten.  Zum Beispiel wird es bei C ++ Russia 2019 Piter drei Berichte über bevorstehende Änderungen in der Sprache geben.  Haben Sie Erfahrung mit der Migration der alten Codebasis, die den alten Standards entsprach, auf das, was angeboten wurde oder angeboten wird? </p><br><p>  <b>Mikhail:</b> Ja, ich hatte eine solche Erfahrung und habe auf der C ++ Russia 2019 ein wenig darüber gesprochen. Wir hatten eine Migration von Visual Studio 2013 zu Visual Studio 2017 und gcc, dh wir haben gleichzeitig Linux-Unterstützung hinzugefügt und Compiler von Microsoft aktualisiert. </p><br><p>  Die Probleme im Code waren im Vergleich zu organisatorischen, technischen, Infrastrukturproblemen, CI und dem Rest der Optimierung viel geringer.  Und unsere Probleme im Code betrafen hauptsächlich UB, das nach der Aktualisierung des Compilers zu feuern begann.  Zwar verbreitet C ++ Rot seit Jahren abwärtskompatibel, aber es hilft.  Jetzt kompilieren wir alles unter C ++ 17. </p><br><p>  Vorings werden nicht synchronisiert, wenn Entwickler unter Windows sammeln, in CI pushen und erst danach beginnen, sich unter Linux zusammenzusetzen.  Es gab jedoch keine wesentlichen Probleme. </p><br><p>  In C ++ 17 wurden einige veraltete Dinge entfernt, aber wir haben nur wenige Stunden damit verbracht, sie auszuschneiden.  Beispielsweise verwendete die log4cplus-Bibliothek std :: auto_ptr in Headern, wurde jedoch in neuen Versionen bereits durch std :: unique_ptr ersetzt, sodass es ausreichte, die Bibliothek einfach zu aktualisieren. </p><br><p>  Die Umstellung auf den neuen Standard war also relativ schmerzlos.  Angesichts der Größe unserer Codebasis bin ich überrascht, auf wie wenige Probleme wir gestoßen sind. </p><br><h2>  Über den braunen und schwarzen Gürtel in C ++ </h2><br><p>  <b>Pavel:</b> Sie und ich sprechen bereits über die bestehenden Prozesse, in denen Entwickler mit Erfahrung bereits arbeiten.  Lassen Sie uns Anfängern, die gerade lernen, Denkanstöße geben.  Mit welchem ​​C ++ - Standard würden Sie beginnen? </p><br><p>  <b>Michael:</b> Wir müssen sofort den neuesten Standard übernehmen.  Sie werden STL nicht in demselben C ++ 98 lernen, da STL ohne Lambdas keinen Sinn ergibt.  Wenn Sie sich die Kurse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Grundlagen der C ++ - Entwicklung: Brown Belt"</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Grundlagen von C ++: Black Belt"</a> auf Coursera ansehen, dann schreiben wir bereits in C ++ 17.  Zum Beispiel verwenden wir strukturierte Bindungen. </p><br><p> <b>:</b> ,     .   ,      . ,            ? </p><br><p> <b>:</b>       ,      .    ,        C++.       ,     C++,    ,       .    ,     ,       .  ,       , , ,    .     ,     .       , ,      ,         Align Technology. </p><br><p> <b>:</b>  ,       ,  .  Warum? </p><br><p> <b>:</b> -,  —  .  ,     .          ,     .       ,     ,      ,      . -,  ,      ,   .    . -,       -   ( ),  -,     .    .        .     .      .       . ,       ,  ,   ,    . ,       ,  tutorial     .      -,     ,    . </p><br><h2>    </h2><br><p> <b>:</b> ,    .     ,    .     ? </p><br><p> <b>:</b>    ,    . ,            . </p><br><p> <b>:</b>   ,       «»  .  ,   .     «»  ,      ? </p><br><p> <b>:</b>      ,   ,    .   .        ,  - .   ,   . </p><br><p>        C++  .     ,  .      ,    .  , ,    .       .  -   ,    . </p><br><p>   ,    .       ,  ,    ,   .    ,    .          «  ?».      ,   . </p><br><p> .     C++ Russia      .      ? </p><br><p> <b>:</b>      .   , ,   .   , ,     .      ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   </a> . </p><br><p> <b>:</b>  ,     .     ,     ?     2015,    2019    2020 ? </p><br><p> <b>:</b>  , ,    ,  ,   .  -    .   ,        ,    ,     .    ,   ,     .   ,        . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  CppCon 2018   </a> .   ,    ,      .  C++ .   ,      ,   . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>      .      ,    — ,    . </p><br><p> <b>:</b>     ? </p><br><p> <b>:</b>       const, volatile, static, constexpr, inline, extern       .   ,  ,    .. </p><br><p> <b>:</b>      consteval  constinit? </p><br><p> <b>:</b>      .     ,     ,  . ,   3-4     ,  . </p><br><p> <b>:</b> ,  ,  Visual Studio     constexpr? </p><br><p> <b>:</b> Visual Studio   .   ,    . ,   constexpr-. </p><br><p> <b>:</b>     ,    :    ,   ,    . </p><br><p> <b>:</b>   Visual Studio ,    .   ,    2010 :     ,   .    Microsoft   . </p><br><p> <b>:</b>    .       : const, constexpr, constinit, consteval , , final.  final  , , constfinal? </p><br><p> <b>:</b> final,      ,   .     . ,     constfinal,   . </p><br><p> <b>:</b>  ,     ,    ,   ,   .        ? </p><br><p> <b>:</b> ,       ,    .     ,      ,    . </p><br><p> <b>:</b>         ? </p><br><p> <b>:</b> , JUG Ru Group   ,      (). </p><br><p> <b>:</b>      .        ? </p><br><p> <b>:</b> ,   —       .           ,   ,  ,   .    . </p><br><p> <b>:</b>   .   ,       ? </p><br><p> <b>:</b> , .         ,     (). </p><br><blockquote>        C++ Russia 2019 Piter   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«,   »</a> .    ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473628/">https://habr.com/ru/post/de473628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473608/index.html">Ein Leitfaden zum Verständnis des Konzepts der modernen Web-App-Entwicklung</a></li>
<li><a href="../de473610/index.html">Analysieren der neuen Plesk Obsidian-Webkonsole</a></li>
<li><a href="../de473612/index.html">Abhandlung über den Stift. Gedanken zur Konfiguration und Arbeit mit Pins in C ++ für Mikrocontroller (am Beispiel von CortexM)</a></li>
<li><a href="../de473614/index.html">Das Buch „Head First. Kotlin »</a></li>
<li><a href="../de473626/index.html">„Der Entwickler möchte in drei Jahren ein Flugzeug kaufen. Meine Aufgabe ist es, ihm zu helfen “- Denis Puschkin über die Motivation von Skyeng</a></li>
<li><a href="../de473630/index.html">Best Practices und Tools für die Entwicklung von iOS-Anwendungen</a></li>
<li><a href="../de473632/index.html">Wir haben einen Artikel über Habr gesehen</a></li>
<li><a href="../de473634/index.html">Comcast-Lobbys verbieten die DNS-Verschlüsselung</a></li>
<li><a href="../de473636/index.html">Laden Sie 16 GB Torrent über ein Tablet mit 4 GB freiem Speicherplatz herunter</a></li>
<li><a href="../de473638/index.html">Shader ist keine Magie. Shader in Unity schreiben. Einleitung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>