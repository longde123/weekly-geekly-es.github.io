<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôãüèª üëáüèº üë®üèø‚Äçü§ù‚Äçüë®üèª Mini-interview avec Oleg Anastasiev: tol√©rance aux fautes dans Apache Cassandra üåó üë®üèΩ‚Äçü§ù‚Äçüë®üèª üò§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les camarades de classe sont le plus grand utilisateur d'Apache Cassandra dans RuNet et l'un des plus grands au monde. Nous avons commenc√© √† utiliser ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mini-interview avec Oleg Anastasiev: tol√©rance aux fautes dans Apache Cassandra</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/465475/"><img src="https://habrastorage.org/webt/ji/xk/p2/jixkp2_utydos4vvqmk9qloyqcs.jpeg"><br><br>  Les camarades de classe sont le plus grand utilisateur d'Apache Cassandra dans RuNet et l'un des plus grands au monde.  Nous avons commenc√© √† utiliser Cassandra en 2010 pour stocker des estimations de photos, et maintenant Cassandra g√®re des p√©taoctets de donn√©es sur des milliers de n≈ìuds, de plus, nous avons m√™me d√©velopp√© notre propre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">base de donn√©es transactionnelle NewSQL</a> . <br>  Le 12 septembre, dans notre bureau de Saint-P√©tersbourg, nous tiendrons la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deuxi√®me r√©union consacr√©e √† Apache Cassandra</a> .  Le principal orateur de l'√©v√©nement sera l'ing√©nieur en chef Odnoklassnikov Oleg Anastasiev.  Oleg est un expert dans le domaine des syst√®mes distribu√©s et tol√©rants aux pannes, il travaille avec Cassandra depuis plus de 10 ans et a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parl√© √†</a> plusieurs reprises <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des caract√©ristiques de ce produit lors de conf√©rences</a> . <br><br>  La veille de la r√©union, nous avons discut√© avec Oleg de la tol√©rance aux pannes des syst√®mes distribu√©s avec Cassandra, demand√© de quoi il parlerait lors de la r√©union et pourquoi cela valait la peine d'assister √† cet √©v√©nement. <br><a name="habracut"></a><br>  Oleg a commenc√© sa carri√®re comme programmeur en 1995.  D√©veloppement de logiciels dans le secteur bancaire, t√©l√©com, transport.  Il travaille en tant que d√©veloppeur principal chez Odnoklassniki depuis 2007 au sein de l'√©quipe de la plateforme.  Ses responsabilit√©s incluent le d√©veloppement d'architectures et de solutions pour les syst√®mes √† forte charge, les grands entrep√¥ts de donn√©es, la r√©solution des probl√®mes de productivit√© et de fiabilit√© du portail.  Il est √©galement engag√© dans la formation de d√©veloppeurs au sein de l'entreprise. <br><br>  <b>- Oleg, bonjour!</b>  <b>La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®re r√©union</a> consacr√©e √† Apache Cassandra a eu lieu en mai, les participants disent que les discussions se sont poursuivies jusque tard dans la nuit, dites-moi, quelles sont vos impressions sur la premi√®re r√©union?</b> <br><br>  Des d√©veloppeurs d'horizons diff√©rents de diverses soci√©t√©s sont venus avec leur douleur, des solutions inattendues aux probl√®mes et des histoires incroyables.  Nous avons pu mener la majeure partie de la r√©union sous la forme de la discussion, mais il y a eu tellement de discussions que nous n'avons pu aborder qu'un tiers des sujets qui ont √©t√© d√©crits.  Nous avons pr√™t√© beaucoup d'attention √† la fa√ßon et √† ce que nous surveillons en utilisant nos services de production r√©els √† titre d'exemple. <br><br>  J'√©tais int√©ress√© et j'ai vraiment appr√©ci√©. <br><br>  <b>- A en juger par l'annonce, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deuxi√®me mitap</a> sera enti√®rement consacr√© √† la tol√©rance aux pannes, pourquoi avoir choisi ce sujet?</b> <br><br>  Cassandra est un syst√®me distribu√© charg√© typique avec une √©norme quantit√© de fonctionnalit√©s en plus de servir directement les demandes des utilisateurs: potins, d√©tection de panne, distribution des modifications de sch√©ma, extension / r√©duction du cluster, anti-entropie, sauvegardes et r√©cup√©ration, etc.  Comme dans tout syst√®me distribu√©, avec une augmentation de la quantit√© de fer, la probabilit√© de pannes augmente, donc le fonctionnement de la production des clusters Cassandra n√©cessite une connaissance approfondie de son appareil pour pr√©dire le comportement en cas de pannes et d'actions de l'op√©rateur.  Dans le processus d'utilisation de Cassandra depuis de nombreuses ann√©es, nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avons accumul√© une expertise consid√©rable</a> , que nous sommes pr√™ts √† partager, et voulons √©galement discuter de la fa√ßon dont nos coll√®gues r√©solvent des probl√®mes typiques. <br><br>  <b>- En ce qui concerne Cassandra, qu'entendez-vous par tol√©rance aux fautes?</b> <br><br>  Tout d'abord, bien s√ªr, la capacit√© du syst√®me √† survivre aux d√©faillances mat√©rielles typiques: perte de machines, de disques ou de connectivit√© r√©seau avec les n≈ìuds / centres de donn√©es.  Mais le sujet lui-m√™me est beaucoup plus large et, en particulier, comprend la r√©cup√©ration apr√®s des pannes, y compris des pannes, pour lesquelles les gens sont rarement pr√©par√©s, par exemple, les erreurs de l'op√©rateur. <br><br>  <b>- Pouvez-vous donner un exemple du cluster de donn√©es le plus charg√© et le plus grand?</b> <br><br>  L'un de nos plus grands clusters est le cluster des cadeaux: plus de 200 n≈ìuds et des centaines de To de donn√©es.  Mais ce n'est pas le plus charg√©, car il est couvert par un cache distribu√©.  Nos clusters les plus occup√©s contiennent des dizaines de milliers de RPS pour l'√©criture et des milliers de RPS pour la lecture. <br><br>  <b>- Ouah!</b>  <b>√Ä quelle fr√©quence quelque chose se casse-t-il?</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Oui, constamment</a> !  Au total, nous avons plus de 6 000 serveurs, et chaque semaine, quelques serveurs et plusieurs dizaines de disques sont remplac√©s (sans prendre en compte les processus de mise √† niveau parall√®les et l'expansion de la flotte de v√©hicules).  Pour chaque type de panne, une instruction claire est √©crite sur quoi et dans quel ordre faire, tout est automatis√© si possible, donc les pannes sont une routine et dans 99% des cas elles surviennent inaper√ßues par les utilisateurs. <br><br>  <b>- Que luttez-vous avec de tels √©checs?</b> <br><br>  D√®s le d√©but de l'exploitation de Cassandra et les premiers incidents, nous avons √©labor√© des m√©canismes de sauvegarde et de r√©cup√©ration √† partir de ceux-ci, construit des proc√©dures de d√©ploiement qui prennent en compte l'√©tat des clusters Cassandra et, par exemple, emp√™chent les n≈ìuds de red√©marrer si une perte de donn√©es est possible.  Nous pr√©voyons de parler de tout cela lors de la r√©union. <br><br>  <b>- Comme vous l'avez dit, il n'existe pas de syst√®mes absolument fiables.</b>  <b>√Ä quels types d'√©checs vous pr√©parez-vous et pouvez-vous survivre?</b> <br><br>  Si nous parlons de nos installations de clusters Cassandra, les utilisateurs ne remarqueront rien si nous perdons plusieurs machines dans un DC ou un DC entier (cela s'est produit).  Avec l'augmentation du nombre de DC, nous envisageons de commencer √† assurer l'op√©rabilit√© en cas de panne de deux DC. <br><br>  <b>- Que pensez-vous que Cassandra manque en termes de tol√©rance aux pannes?</b> <br><br>  Cassandra, comme de nombreux autres anciens r√©f√©rentiels NoSQL, n√©cessite une compr√©hension approfondie de sa structure interne et des processus dynamiques en cours.  Je dirais qu'elle manque de simplicit√©, de pr√©visibilit√© et d'observabilit√©.  Mais il sera int√©ressant d'entendre l'avis des autres participants √† la r√©union! <br><br>  Oleg, merci beaucoup d'avoir pris le temps de r√©pondre aux questions! <br><br>  Nous attendons tous ceux qui souhaitent discuter avec des experts dans le domaine de l'exploitation d'Apache Cassandra lors d'une r√©union le 12 septembre √† leur bureau de Saint-P√©tersbourg. <br><br>  Venez, ce sera int√©ressant! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Inscrivez-vous √† l'√©v√©nement.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465475/">https://habr.com/ru/post/fr465475/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465459/index.html">Une br√®ve histoire de la visioconf√©rence: du d√©but √† une utilisation commerciale compl√®te</a></li>
<li><a href="../fr465461/index.html">Saisie statique dans une application React</a></li>
<li><a href="../fr465463/index.html">Le bien n'est jamais bon march√©. Mais c'est gratuit</a></li>
<li><a href="../fr465467/index.html">Toute la v√©rit√© sur RTOS. Article # 32. Migration de Nucleus SE: fonctionnalit√©s et compatibilit√© non r√©alis√©es</a></li>
<li><a href="../fr465471/index.html">Avez-vous essay√© d'enregistrer votre site en tant que publication r√©seau √† Roskomnadzor?</a></li>
<li><a href="../fr465477/index.html">Comment j'ai appris √† un serpent √† se jouer avec Q-Network</a></li>
<li><a href="../fr465479/index.html">Pixel Lo-fi dans Unity</a></li>
<li><a href="../fr465483/index.html">Antiquit√©s: Windows 3.1 et la vie sans bouton de d√©marrage</a></li>
<li><a href="../fr465485/index.html">Imprimez la tapisserie Game of Thrones sur une imprimante fiscale √† l'aide de Python</a></li>
<li><a href="../fr465487/index.html">Cr√©ez une plateforme kubernetes sur Pinterest</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>