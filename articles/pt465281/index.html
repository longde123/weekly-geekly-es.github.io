<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèí ü§úüèø ‚ÑπÔ∏è Monitoramento Cont√≠nuo de Glicose (NMH) com a Bomba Medtronic 640g ‚öúÔ∏è üöü ‚ôçÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aconteceu que h√° pouco menos de um ano, minha filha adoeceu com diabetes tipo 1 (dependente de insulina). Ap√≥s um m√™s de uso das ‚Äúcanetas‚Äù, mudamos pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Monitoramento Cont√≠nuo de Glicose (NMH) com a Bomba Medtronic 640g</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465281/"><img src="https://habrastorage.org/webt/z1/dt/da/z1dtdanh2_1-adea6snwi6fgr5g.png"><br>  Aconteceu que h√° pouco menos de um ano, minha filha adoeceu com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diabetes tipo 1</a> (dependente de insulina).  Ap√≥s um m√™s de uso das ‚Äúcanetas‚Äù, mudamos para a bomba Medtronic 640g com suporte a NMG.  Abaixo do gato, vou lhe contar como fiz o monitoramento da glicose usando os dados de uma bomba.  Cuidado, tr√¢nsito. <br><a name="habracut"></a><br><h3>  1. Introdu√ß√£o </h3><br>  N√£o descreverei todos os recursos e "pr√≥s" e "contras" desta bomba, isso est√° al√©m do escopo do artigo.  Esta informa√ß√£o pode ser facilmente encontrada na Internet.  Vou me debru√ßar apenas sobre os pontos necess√°rios para a compreens√£o. <br><br>  Um dos principais objetivos do diabetes tipo 1 √© manter os n√≠veis ideais de glicose no sangue.  O fato √© que os n√≠veis de glicose mudam rapidamente sob v√°rios fatores - comida, atividade f√≠sica, horm√¥nios, mudan√ßas clim√°ticas, sono, at√© mesmo uma simples caminhada no parque pode afetar muito os n√≠veis de glicose.  Portanto, √© importante medir os n√≠veis de glicose o mais r√°pido poss√≠vel, idealmente a cada 5 minutos 24/7.  √â extremamente dif√≠cil conseguir isso com um glicos√≠metro convencional; portanto, o NMG √© usado.  Eles s√£o diferentes.  Voc√™ pode ler e assistir ao v√≠deo com mais detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Ter uma bomba de monitoramento √© muito bom e ajuda a resolver muitos problemas.  Na bomba, voc√™ pode ver os valores atuais da glicose e tamb√©m um gr√°fico de suas altera√ß√µes nos √∫ltimos tempos. <br><br>  A bomba, com todas as leituras, est√° sempre com uma filha, o que significa que n√£o √© poss√≠vel ver as leituras remotamente.  A filha nem sempre est√° por perto, ela vai √† escola, frequenta ext.  aulas, passeios, em geral, leva uma vida plena.  Minha esposa e eu estamos trabalhando.  Chamadas constantes para um telefone celular, sair da cama v√°rias vezes (√†s vezes dezenas !!!) por noite n√£o fortalecem o sono e os nervos. <br><br><h3>  Dados de entrada </h3><br>  O princ√≠pio de implementa√ß√£o e opera√ß√£o do NMG √© descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  A √∫nica coisa que quero prestar aten√ß√£o √© que esta bomba est√° conectada ao transmissor atrav√©s do protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ZigBee</a> .  No total, encontrei 3 dispositivos que podem funcionar com esta bomba: <br><br><ul><li>  Pr√≥prio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">transmissor</a> Guardian 2 Link </li><li>  CareLink USB MMT-7306, o chamado  "Unidade flash preta" </li><li>  Contour NEXT LINK 2.4, glicos√≠metro </li></ul><br>  No momento, desses tr√™s dispositivos na R√∫ssia, apenas o transmissor √© vendido.  Na verdade, √© ele quem transfere os dados para a bomba sobre o n√≠vel de glicose.  Vi o "flash drive" apenas no nosso m√©dico assistente e, com ele, baixamos os dados da bomba algumas vezes no programa dela e imprimimos os gr√°ficos.  Ent√£o essa "unidade flash" se tornou inacess√≠vel para n√≥s, porque  ela foi dada a outra cidade e, quando volta, ningu√©m sabe.  Eles dizem que esse "flash drive" √© o √∫nico em toda a R√∫ssia. N√£o sei o quanto essas informa√ß√µes s√£o verdadeiras.  N√£o √© realista comprar um glicos√≠metro e um pen drive na R√∫ssia.  Para minha pergunta, representantes oficiais dizem que "eles ainda n√£o passaram na certifica√ß√£o na R√∫ssia, quando ser√°, n√£o se sabe, estamos aguardando".  Ap√≥s uma longa pesquisa, eu ainda era capaz de comprar um glicos√≠metro na Inglaterra.  Por um agradecimento especial a todos que me ajudaram nisso. <br><br>  Assim, o medidor pode ser conectado √† bomba e possui USB, para que possa ser conectado a um computador.  Ap√≥s uma longa pesquisa, encontrei um projeto no GitHub que me permitiu ler dados da bomba atrav√©s deste medidor.  Aproveito esta oportunidade para expressar minha gratid√£o ao autor desses projetos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lennart Goedhart</a> .  Ele fez um √≥timo trabalho ao estudar o protocolo e postou o resultado em acesso gratuito.  Resta apenas implementar o plano. <br><br><h3>  Declara√ß√£o do problema </h3><br>  Para poder monitorar as leituras da bomba em um computador, telefone celular on-line "sem registro e SMS". <br><br><h3>  Solu√ß√£o </h3><br><h4>  Ferro </h4><br>  Na primeira vers√£o, foi escolhido o Raspberry Pi Zero W, que n√£o precisa ser introduzido.  Ele √© pequeno, n√£o guloso e tem tudo a bordo.  Para isso foi comprado extra.  equipamento: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Waveshare SIM7000C</a> - modem 2.5G + GPS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Waveshare HUB USB de 4 portas</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Raspberry Pi Zero UPS</a> .  Tudo isso pode ser facilmente comprado no Aliexpress.  A sele√ß√£o de todos esses componentes foi baseada no fato de que tudo isso tem pequenas dimens√µes e √© montado como uma ‚Äútorta‚Äù.  Os alimentos s√£o fornecidos atrav√©s do Power Bank.  No teste, a capacidade de 6000 mA √© suficiente para um dia "leve", ou seja,  das 8h √†s 20h, o que √© bastante aceit√°vel para mim.  Banco de pot√™ncia peso cerca de 130 gr.  e ele n√£o puxa muito o bolso. <br><br>  Mais sobre energia, mais precisamente sobre o Raspberry Pi Zero UPS.  Ao planejar, pensei que ele poderia muito bem ser a principal fonte de nutri√ß√£o, mas eu estava enganado.  Na pr√°tica, dura 1 hora.  Portanto, n√£o vejo raz√£o para us√°-lo. <br><br><img src="https://habrastorage.org/webt/vc/oq/vn/vcoqvnbx_jco7y0jao0jwg6_vqa.jpeg"><br>  <i>Primeira vers√£o.</i> <br><br>  Durante a opera√ß√£o, descobriu-se que trabalhar com USB no Pi Zero deixa muito a desejar.  O Wi-Fi caiu periodicamente - o GPRS n√£o √© t√£o cr√≠tico, mas o congelamento do medidor j√° √© significativo.  Al√©m disso, n√£o foi poss√≠vel ‚Äúdistorcer‚Äù o USB remotamente - a energia √© fornecida diretamente √† porta USB. <br><br>  No final, comprei o Raspberry Pi 3. A escolha ocorreu devido √† presen√ßa de Wi-Fi a bordo e √† presen√ßa de portas USB completas. <br><br><img src="https://habrastorage.org/webt/gs/xt/4f/gsxt4fjpnpjwp2bybc1zclht1yw.jpeg"><br>  <i>A segunda vers√£o, sem glicos√≠metro e Waveshare SIM7000C.</i> <br><br>  Para reduzir o tamanho, tive que sacrificar um conector Ethernet e soldar meu cabo USB para conectar o medidor.  No futuro, est√° planejado se livrar do corpo do medidor e sold√°-lo diretamente na framboesa. <br>  Desenvolvimento e impress√£o do case - nos planos. <br><br><h4>  De software </h4><br>  O principal requisito √© o acesso aos dados de qualquer dispositivo, incluindo smartphones.  Criar um servidor em uma framboesa n√£o fazia sentido - ao se comunicar via modem, temos um ip "cinza", que arruinava todos os planos.  Al√©m disso, manter uma conex√£o GPRS constante n√£o fazia parte dos meus planos devido √† economia de energia.  Felizmente, eu j√° tinha o Zabbix configurado e uma decis√£o foi tomada para transferir dados para ele.  Como gr√°ficos "bonitos", Grafana estava ferrado. <br><br>  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto</a> foi tomado como base do software em framboesa.  Como se viu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">depois</a> , era apenas um conceito.  Em geral, √© bastante eficiente e, no momento, executa minhas tarefas. <br><br>  A l√≥gica do trabalho √© a seguinte: a cada 5 minutos, coleto dados da bomba e da framboesa e os transfiro para o Zabbix via zabbix_sender.  Al√©m disso, existe um "controle remoto via SMS". <br><br>  Veja como fica no navegador (no telefone - da mesma maneira): <br><br><img src="https://habrastorage.org/webt/ie/pk/wy/iepkwy1gfnnhadljfxjrek9_b9q.png"><br>  <i>Leitura atual de glicose, insulina ativa e tend√™ncia (queda acentuada ou aumento de n√≠vel)</i> <br><br><img src="https://habrastorage.org/webt/lf/k8/-h/lfk8-hspebemremh0pdndoueedg.png"><br>  <i>gr√°fico de glicose e insulina ativa</i> <br><br><img src="https://habrastorage.org/webt/0m/fw/dg/0mfwdgbov5xjs3lbrto9ks9ypo0.png"><br>  <i>Bombeie o volume de insulina, bateria, taxa basal tempor√°ria e taxa basal</i> <br><br><img src="https://habrastorage.org/webt/e0/gz/hz/e0gzhz1u0zpngnoee2hkubbdd6k.png"><br>  <i>temperatura da CPU de framboesa, n√≠vel Wi-Fi, modem</i> <br><br><img src="https://habrastorage.org/webt/-y/fi/m_/-yfim_i1diahxuepe6acqnsboxi.png"><br>  <i>Dados GPS</i> <br><br>  No momento, o dispositivo executa a funcionalidade m√≠nima planejada.  Voc√™ pode controlar o n√≠vel atual de glicose, bem como outros par√¢metros.  Como resultado, menos chamadas, acordando √† noite, basta olhar para os gr√°ficos no telefone. <br><br>  Os planos para o futuro pr√≥ximo incluem alterar a l√≥gica do trabalho, adicionar notifica√ß√£o por SMS a valores cr√≠ticos etc.  No futuro, mude para o n√≥ js com base <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste</a> projeto. <br><br>  Eu posto o c√≥digo no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465281/">https://habr.com/ru/post/pt465281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465271/index.html">Os hackers roubam e lavam dinheiro atrav√©s de servi√ßos de entrega de comida e reserva de hotel.</a></li>
<li><a href="../pt465273/index.html">Como os desenvolvedores de software da Microgaming protegem os usu√°rios de hackers</a></li>
<li><a href="../pt465275/index.html">Alice Obt√©m Habilidade</a></li>
<li><a href="../pt465277/index.html">Analisando e analisando a sem√¢ntica para SEO: 5 modelos gratuitos do Planilhas Google</a></li>
<li><a href="../pt465279/index.html">Reconhecimento de faces usando redes siamesas</a></li>
<li><a href="../pt465283/index.html">‚ÄúExiste tudo o que √© necess√°rio e nada enfurece‚Äù - a verdade fala pelos l√°bios do cliente</a></li>
<li><a href="../pt465285/index.html">Como escrevemos, a interface do nosso pr√≥prio painel de controle de hospedagem: estrutura e backdoors</a></li>
<li><a href="../pt465289/index.html">Resumo de eventos para profissionais de RH na √°rea de TI em setembro de 2019</a></li>
<li><a href="../pt465291/index.html">Mais perto do ch√£o: como mudei o coworking para uma casa de aldeia</a></li>
<li><a href="../pt465293/index.html">Como abandonamos a grande hackathon e come√ßamos a fazer viagens para equipes individuais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>