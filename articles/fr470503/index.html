<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≠ üå∏ üíù Utilisateurs et autorisation de Kubernetes RBAC üóÉÔ∏è üßöüèΩ üé≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Poursuivant le sujet r√©cemment soulev√© de la s√©curit√© de Kubernetes en g√©n√©ral et de RBAC en particulier, nous publions une traducti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisateurs et autorisation de Kubernetes RBAC</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/470503/">  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Poursuivant le sujet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©cemment soulev√©</a> de la s√©curit√© de Kubernetes en g√©n√©ral et de RBAC en particulier, nous publions une traduction de ce mat√©riel par un consultant fran√ßais de la soci√©t√© internationale Adaltas Big Data.</i>  <i>L'auteur montre en d√©tail comment cr√©er des utilisateurs, leur donner des droits et continuer √† servir.</i> <br><br>  La configuration et le d√©marrage d'un cluster Kubernetes n'est qu'un d√©but: il doit √©galement √™tre exploit√©.  Pour s√©curiser l'acc√®s au cluster, vous devez d√©finir les informations d'identification de l'utilisateur et g√©rer correctement les param√®tres d'authentification et d'autorisation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m5/y9/az/m5y9azz-gbidcxue2_eesz-gvxo.png"></div>  <i>(Illustration tir√©e du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blog</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la CNCF</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trad</a> . Env.)</i> <br><br>  Cet article explique comment cr√©er des utilisateurs √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">certificats</a> clients <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">X.509</a> et comment g√©rer l'autorisation √† l'aide des API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RBAC de</a> base dans Kubernetes.  Nous parlerons √©galement de quelques projets open source qui simplifient l'administration des clusters: rakkess, kubectl-who-can, rbac-lookup et RBAC Manager. <a name="habracut"></a><br><h2>  Conditions pr√©alables et hypoth√®ses </h2><br>  Tout d'abord, il faut faire plusieurs hypoth√®ses: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Au</a> moins, vous pouvez imaginer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">comment Kubernetes fonctionne</a> . </li><li>  Vous disposez d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cluster</a> Kubernetes ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Minikube fonctionnel</a> . </li><li>  Vous avez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">install√© l'utilitaire CLI kubectl</a> . </li><li>  Vous avez install√© le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenSSL</a> . </li></ul><cut></cut><br>  Si vous n'avez pas de cluster Kubernetes pr√™t √† l'emploi, je vous recommande de vous r√©f√©rer √† l'article d'un coll√®gue (Arthur BUSSER) dans lequel il parle de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">installation de Kubernetes sur CentOS 7 √† l'</a> aide de Vagrant. <br><br>  Notre cluster comprend 4 n≈ìuds: un ma√Ætre et 3 travailleurs.  L'assistant sera √©galement utilis√© comme n≈ìud p√©riph√©rique pour interagir avec le cluster. <br><br><h2>  API RBAC </h2><br>  Le contr√¥le d'acc√®s bas√© sur les r√¥les (RBAC) est une m√©thode de contr√¥le de l'acc√®s aux ordinateurs et aux ressources r√©seau, bas√©e sur les r√¥les des utilisateurs individuels dans une entreprise.  RBAC peut √™tre utilis√© avec toutes les ressources Kubernetes qui prennent en charge CRUD (cr√©er, lire, mettre √† jour, supprimer).  Exemples de telles ressources: <br><br><ul><li>  espaces de noms </li><li>  Pods </li><li>  D√©ploiements </li><li>  volumes persistants (PersistentVolumes); </li><li>  ConfigMaps </li></ul><br>  Et voici des exemples d'op√©rations possibles avec eux: <br><br><ul><li>  <code>create</code> ; </li><li>  <code>get</code> </li><li>  <code>delete</code> <i>(supprimer)</i> ; </li><li>  <code>list</code> <i>(vue</i> <code>list</code> <i>)</i> ; </li><li>  <code>update</code> . </li></ul><br>  Pour g√©rer RBAC dans Kubernetes, nous devons d√©clarer: <br><br><ul><li>  <b><code>Role</code> et <code>ClusterRole</code></b> .  Ce sont simplement des ensembles de r√®gles repr√©sentant un ensemble d'autorisations.  <code>Role</code> ne peut √™tre utilis√© que pour fournir un acc√®s aux ressources dans les espaces de noms.  <code>ClusterRole</code> peut fournir les m√™mes autorisations que <code>Role</code> , et √©galement donner acc√®s aux ressources disponibles dans l'ensemble du cluster, et aux points de terminaison non-ressources <i>(comme <code>/healthz</code> - environ Transl.)</i> . </li><li>  <b><code>Subjects</code></b>  Le sujet est une entit√© qui effectuera des op√©rations dans un cluster.  Il peut s'agir d'utilisateurs, de services ou m√™me de groupes. </li><li>  <b><code>RoleBinding</code> et <code>ClusterRoleBinding</code></b> .  Comme son nom l'indique, il s'agit simplement d'une liaison du sujet √† un r√¥le ou √† un ClusterRole. </li></ul><br>  Kubernetes a les r√¥les par d√©faut suivants: <br><br><ul><li>  <code>view</code> : acc√®s en lecture seule, exclut les secrets; </li><li>  <code>edit</code> : ce qui pr√©c√®de + la possibilit√© de modifier la plupart des ressources, exclut les r√¥les et les liaisons de r√¥les; </li><li>  <code>admin</code> : ce qui pr√©c√®de + la possibilit√© de g√©rer les r√¥les et les mappages de r√¥les au niveau de l'espace de noms; </li><li>  <code>cluster-admin</code> : tous les privil√®ges possibles. </li></ul><br>  Bien s√ªr, vous pouvez cr√©er vos propres <code>Roles</code> et <code>Roles</code> <code>ClusterRoles</code> , mais nous vous recommandons d'utiliser autant que possible les r√¥les par d√©faut, dans la mesure o√π la situation le permet.  Sinon, vous pouvez rapidement vous perdre dans tout cela. <br><br><h2>  Exemple d'utilisation </h2><br>  Nous allons cr√©er deux espaces de noms: <code>my-project-dev</code> et <code>my-project-prod</code> , - ainsi que deux utilisateurs: <code>jean</code> et <code>sarah</code> - avec des r√¥les diff√©rents dans ces espaces de noms: <br><br><ul><li>  mon-projet-dev: <br><ul><li>  jean: modifier </li></ul></li><li>  my-project-prod: <br><ul><li>  jean: voir </li><li>  sarah: modifier </li></ul></li></ul><br><h3>  Cr√©er et authentifier des utilisateurs √† l'aide de certificats clients X.509 </h3><br>  En r√®gle g√©n√©rale, il existe deux types d'utilisateurs: <i>les comptes de service</i> g√©r√©s par Kubernetes et les utilisateurs r√©guliers.  Nous nous concentrerons sur ce dernier.  Voici comment ils sont d√©crits dans la documentation officielle: <br><br><blockquote>  On suppose que les utilisateurs r√©guliers sont g√©r√©s par un service externe ind√©pendant.  Le r√¥le peut √™tre jou√© par un administrateur distribuant des cl√©s priv√©es, un r√©f√©rentiel d'utilisateurs comme Keystone ou des comptes Google, ou m√™me un fichier avec une liste de noms d'utilisateurs et de mots de passe.  √Ä cet √©gard, Kubernetes n'a aucun objet repr√©sentant des utilisateurs ordinaires.  Les utilisateurs ordinaires ne peuvent pas √™tre ajout√©s au cluster via un appel d'API. </blockquote><br>  Il existe plusieurs fa√ßons de g√©rer les utilisateurs r√©guliers: <br><br><ul><li>  <i>Authentification de</i> base: <ul><li>  transfert de la configuration au serveur API avec le contenu suivant (ou similaire): mot de passe, nom d'utilisateur, uid, groupe; </li></ul></li><li>  Certificat client X.509: <ul><li>  cr√©ation d'une cl√© secr√®te d'utilisateur et d'une demande de signature de certificat; </li><li>  certification dans une autorit√© de certification (Kubernetes CA) pour obtenir un certificat d'utilisateur; </li></ul></li><li>  Jetons au porteur (jetons Web JSON, JWT): <ul><li>  OpenID Connect </li><li>  couche d'authentification au-dessus d'OAuth 2.0; </li><li>  webhooks </li></ul></li></ul><br>  Dans cet article, nous utiliserons les certificats X.509 et OpenSSL en raison de leur simplicit√©.  La cr√©ation d'utilisateurs se d√©roule en plusieurs √©tapes - nous allons les parcourir toutes.  Les op√©rations doivent √™tre effectu√©es sous le compte d'utilisateur avec les privil√®ges d'administrateur du cluster (cluster-admin).  Voici toutes les √©tapes pour cr√©er un utilisateur (en utilisant <code>jean</code> comme exemple): <br><br><ul><li>  Cr√©ez un utilisateur dans l'assistant, puis acc√©dez √† son r√©pertoire personnel pour effectuer les √©tapes restantes: <br><br><pre> <code class="bash hljs">useradd jean &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/jean</code> </pre> </li><li>  Cr√©ez une cl√© priv√©e: <br><br><pre> <code class="bash hljs">openssl genrsa -out jean.key 2048</code> </pre> </li><li>  Cr√©ez une demande de signature de certificat (CSR).  <code>CN</code> est le nom d'utilisateur, <code>O</code> est le groupe.  Vous pouvez d√©finir des autorisations par groupe.  Cela simplifiera le travail si, par exemple, vous avez de nombreux utilisateurs avec les m√™mes autorisations: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   openssl req -new -key jean.key \ -out jean.csr \ -subj "/CN=jean" #     $group openssl req -new -key jean.key \ -out jean.csr \ -subj "/CN=jean/O=$group" #       openssl req -new -key jean.key \ -out jean.csr \ -subj "/CN=jean/O=$group1/O=$group2/O=$group3"</span></span></code> </pre> </li><li>  Signez la RSE dans Kubernetes CA.  Nous devons utiliser le certificat et la cl√© CA, qui se trouvent g√©n√©ralement dans <code>/etc/kubernetes/pki</code> .  Le certificat sera valable 500 jours: <br><br><pre> <code class="bash hljs">openssl x509 -req -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> jean.csr \ -CA /etc/kubernetes/pki/ca.crt \ -CAkey /etc/kubernetes/pki/ca.key \ -CAcreateserial \ -out jean.crt -days 500</code> </pre> </li><li>  Cr√©ez le r√©pertoire <code>.certs</code> .  Nous y stockons les cl√©s publiques et priv√©es de l'utilisateur: <br><br><pre> <code class="bash hljs">mkdir .certs &amp;&amp; mv jean.crt jean.key .certs</code> </pre> </li><li>  Cr√©ez un utilisateur dans Kubernetes: <br><br><pre> <code class="bash hljs">kubectl config <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>-credentials jean \ --client-certificate=/home/jean/.certs/jean.crt \ --client-key=/home/jean/.certs/jean.key</code> </pre> </li><li>  D√©finissez le contexte pour l'utilisateur: <br><br><pre> <code class="bash hljs">kubectl config <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>-context jean-context \ --cluster=kubernetes --user=jean</code> </pre> </li><li>  Modifiez le fichier de configuration utilisateur.  Il contient les informations n√©cessaires √† l'authentification dans un cluster.  Vous pouvez utiliser le fichier de configuration du cluster, qui se trouve g√©n√©ralement dans <code>/etc/kubernetes</code> : les <code>certificate-authority-data</code> et <code>server</code> variables du <code>server</code> doivent √™tre les m√™mes que dans le fichier mentionn√©: <br><br><pre> <code class="plaintext hljs">apiVersion: v1 clusters: - cluster: certificate-authority-data: {  } server: {  } name: kubernetes contexts: - context: cluster: kubernetes user: jean name: jean-context current-context: jean-context kind: Config preferences: {} users: - name: jean user: client-certificate: /home/jean/.certs/jean.cert client-key: /home/jean/.certs/jean.key</code> </pre> <br>  Vous devez maintenant copier la configuration ci-dessus dans le r√©pertoire <code>.kube</code> : <br><br><pre> <code class="bash hljs">mkdir .kube &amp;&amp; vi .kube/config</code> </pre> </li><li>  Il reste √† faire de l'utilisateur le propri√©taire de tous les fichiers et r√©pertoires cr√©√©s: <br><br><pre> <code class="bash hljs">chown -R jean: /home/jean/</code> </pre> </li></ul><br>  L'utilisateur <code>jean</code> cr√©√© avec succ√®s.  Nous ferons de m√™me pour <code>sarah</code> .  Il y a pas mal d'√©tapes et la cr√©ation d'un grand nombre d'utilisateurs peut prendre beaucoup de temps.  Par cons√©quent, j'ai √©crit des scripts Bash qui automatisent le processus: ils peuvent √™tre trouv√©s dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel sur GitHub</a> . <br><br>  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Comme nous l'avons √©crit dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notre r√©cent article</a> , cette proc√©dure peut √™tre simplifi√©e de mani√®re plus ¬´native¬ª pour Kubernetes - gr√¢ce √† de nouvelles fonctionnalit√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'utilitaire de console kubeadm</a> .</i>  <i>Cependant, n'oubliez pas qu'au moment de la publication de cette traduction, ils sont disponibles sous forme alpha.</i>  <i>Un exemple de commande pour cr√©er un utilisateur est <code>kubeadm alpha kubeconfig user</code> .</i> <br><br>  Nous avons maintenant des utilisateurs et nous pouvons passer √† la cr√©ation de deux espaces de noms: <br><br><pre> <code class="bash hljs">kubectl create namespace my-project-dev kubectl create namespace my-project-prod</code> </pre> <br>  Comme nous n'avons pas encore d√©termin√© l'autorisation des utilisateurs, ils ne devraient pas avoir acc√®s aux ressources du cluster: <br><br><pre> <code class="bash hljs">User: Jean kubectl get nodes Error from server (Forbidden): nodes is forbidden: User <span class="hljs-string"><span class="hljs-string">"jean"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"nodes"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> at the cluster scope kubectl get pods -n default Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"jean"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"default"</span></span> kubectl get pods -n my-project-prod Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"jean"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-prod"</span></span> kubectl get pods -n my-project-dev Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"jean"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-dev"</span></span></code> </pre> <br><pre> <code class="bash hljs">User: Sarah kubectl get nodes Error from server (Forbidden): nodes is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"nodes"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> at the cluster scope kubectl get pods -n default Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"default"</span></span> kubectl get pods -n my-project-prod Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-prod"</span></span> kubectl get pods -n my-project-dev Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-dev"</span></span></code> </pre> <br><h3>  Cr√©ation de r√¥les et de clusters </h3><br>  Nous utiliserons <code>ClusterRole</code> , disponible par d√©faut.  Cependant, nous montrons √©galement comment cr√©er votre propre <code>Role</code> et <code>ClusterRole</code> .  En substance, <code>Role</code> et <code>ClusterRole</code> sont qu'un ensemble d'actions <i>(appel√©es <code>verbs</code> , c'est-√†-dire verbatim - verbes)</i> autoris√©es pour certaines ressources et certains espaces de noms.  Voici un exemple de fichier YAML: <br><br><pre> <code class="plaintext hljs">apiVersion: rbac.authorization.k8s.io/v1beta1 kind: Role metadata: name: list-deployments namespace: my-project-dev rules: - apiGroups: [ apps ] resources: [ deployments ] verbs: [ get, list ] --------------------------------- apiVersion: rbac.authorization.k8s.io/v1beta1 kind: ClusterRole metadata: name: list-deployments rules: - apiGroups: [ apps ] resources: [ deployments ] verbs: [ get, list ]</code> </pre> <br>  Pour les cr√©er, ex√©cutez la commande: <br><br><pre> <code class="bash hljs">kubectl create -f /path/to/your/yaml/file</code> </pre> <br><h3>  R√¥le de r√¥le ou r√¥le de cluster aux utilisateurs </h3><br>  Maintenant, liez le <code>ClusterRole</code> par d√©faut ( <code>edit</code> et <code>view</code> ) √† nos utilisateurs comme suit: <br><br><ul><li>  <code>jean</code> : <ul><li>  <code>edit</code> - dans l'espace de noms <code>my-project-dev</code> ; </li><li>  <code>view</code> - dans l'espace de noms <code>my-project-prod</code> ; </li></ul></li><li>  <code>sarah</code> : <ul><li>  <code>edit</code> - dans l'espace de noms <code>my-project-prod</code> . </li></ul></li></ul><br>  Les liaisons de r√¥les doivent √™tre sp√©cifi√©es par des espaces de noms et non par des utilisateurs.  En d'autres termes, pour autoriser <code>jean</code> nous allons cr√©er deux RoleBindings.  Un exemple de fichier YAML qui d√©finit les RoleBindings pour <code>jean</code> : <br><br><pre> <code class="plaintext hljs">apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: jean namespace: my-project-dev subjects: - kind: User name: jean apiGroup: rbac.authorization.k8s.io roleRef: kind: ClusterRole name: edit apiGroup: rbac.authorization.k8s.io --------------------------------- apiVersion: rbac.authorization.k8s.io/v1 kind: RoleBinding metadata: name: jean namespace: my-project-prod subjects: - kind: User name: jean apiGroup: rbac.authorization.k8s.io roleRef: kind: ClusterRole name: view apiGroup: rbac.authorization.k8s.io</code> </pre> <br>  Nous permettons √† <code>jean</code> de <code>view</code> <code>my-project-prod</code> et de modifier <code>my-project-dev</code> .  La m√™me chose doit √™tre faite avec les autorisations pour <code>sarah</code> .  Pour les activer, ex√©cutez la commande: <br><br><pre> <code class="bash hljs">kubectl apply -f /path/to/your/yaml/file</code> </pre> <br>  Dans ce cas, <code>kubectl apply</code> √©t√© utilis√© √† la place de <code>kubectl create</code> .  La diff√©rence entre les deux est que <code>create</code> cr√©e l'objet et ne fait rien d'autre, et <code>apply</code> - non seulement cr√©e l'objet (s'il n'existe pas), mais met √©galement √† jour si n√©cessaire. <br><br>  V√©rifions si nos utilisateurs ont re√ßu les autorisations n√©cessaires. <br><br><ul><li>  Utilisateur: <code>sarah</code> ( <code>edit</code> dans <code>my-project-prod</code> ) <ul><li> <code>my-project-prod</code> <ul> <li>  peut lister les pods (1); </li><li>  peut cr√©er des d√©ploiements (2). </li></ul></li><li> <code>my-project-dev</code> <ul> <li>  impossible de r√©pertorier les pods (4); </li><li>  impossible de cr√©er des d√©ploiements (5). </li></ul></li></ul></li></ul><br><pre> <code class="bash hljs">(1) kubectl get pods -n my-project-prod No resources found. (2) kubectl run nginx --image=nginx --replicas=1 -n my-project-prod deployment.apps/nginx created (3) kubectl get pods -n my-project-prod NAME READY STATUS RESTARTS AGE nginx-7db9fccd9b-t14qw 1/1 Running 0 4s (4) kubectl get pods -n my-project-dev Error from server (Forbidden): pods is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot list resource <span class="hljs-string"><span class="hljs-string">"pods"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-dev"</span></span> (5) kubectl run nginx --image=nginx --replicas=1 -n my-project-dev Error from server (Forbidden): deployments.apps is forbidden: User <span class="hljs-string"><span class="hljs-string">"sarah"</span></span> cannot create resource <span class="hljs-string"><span class="hljs-string">"deployments"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">"apps"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-dev"</span></span></code> </pre> <br><ul><li>  Utilisateur: <code>jean</code> ( <code>view</code> dans <code>my-project-prod</code> et <code>edit</code> dans <code>my-project-dev</code> ) <ul><li> <code>my-project-prod</code> <ul> <li>  peut lister les pods (1); </li><li>  peut lister deployment'ov (2); </li><li>  ne peut pas supprimer les d√©ploiements (3). </li></ul></li><li>  mon-projet-dev: <ul><li>  peut lister les dosettes (4); </li><li>  peut cr√©er des d√©ploiements (5); </li><li>  peut lister deployment'ov (6); </li><li>  peut supprimer des d√©ploiements (7). </li></ul></li></ul></li></ul><br><pre> <code class="bash hljs">(1) kubectl get pods -n my-project-prod NAME READY STATUS RESTARTS AGE nginx-7db9fccd9b-t14qw 1/1 Running 0 101s (2) kubectl get deploy -n my-project-prod NAME READY UP-TO-DATE AVAILABLE AGE nginx 1/1 1 1 110s (3) kubectl delete deploy/nginx -n my-project-prod Error from server (Forbidden): deployments.extensions <span class="hljs-string"><span class="hljs-string">"nginx"</span></span> is forbidden: User <span class="hljs-string"><span class="hljs-string">"jean"</span></span> cannot delete resource <span class="hljs-string"><span class="hljs-string">"deployments"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> API group <span class="hljs-string"><span class="hljs-string">"extensions"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the namespace <span class="hljs-string"><span class="hljs-string">"my-project-prod"</span></span> (4) kubectl get pods -n my-project-dev No resources found. (5) kubectl run nginx --image=nginx --replicas=1 -n my-project-dev deployment.apps/nginx created (6) kubectl get deploy -n my-project-dev NAME READY UP-TO-DATE AVAILABLE AGE nginx 0/1 1 0 13s (7) kubectl delete deploy/nginx -n my-project-dev deployment.extensions <span class="hljs-string"><span class="hljs-string">"nginx"</span></span> deleted (8) kubectl get deploy -n my-project-dev No resources found.</code> </pre> <br><h2>  Gestion et autorisation des utilisateurs </h2><br>  Nous avons donc d√©fini avec succ√®s divers r√¥les et autorisations utilisateur.  La question se pose: comment g√©rer maintenant tout cela?  Comment savoir si les autorisations pour un utilisateur sp√©cifique sont d√©finies correctement?  Comment savoir qui a le pouvoir d'effectuer une action sp√©cifique?  Comment obtenir une image g√©n√©rale des autorisations utilisateur? <br><br>  Nous avons besoin de r√©ponses √† toutes ces questions pour garantir la s√©curit√© du cluster.  La commande <code>kubectl auth can-i</code> vous permet de savoir si un utilisateur peut effectuer une action sp√©cifique: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># kubectl auth can-i $action $resource --as $subject (1) kubectl auth can-i list pods (2) kubectl auth can-i list pods --as jean</span></span></code> </pre> <br>  La premi√®re commande (1) permet √† l'utilisateur de savoir s'il peut effectuer une action.  Le second (2) - permet √† l'administrateur d'usurper l'identit√© de l'utilisateur pour savoir s'il peut effectuer une certaine action.  Cette "r√©incarnation" n'est autoris√©e que pour les utilisateurs disposant de privil√®ges d'administrateur de cluster. <br><br>  C'est pratiquement tout ce qui peut √™tre fait avec la bo√Æte √† outils int√©gr√©e.  C'est pourquoi je pr√©senterai quelques projets Open Source qui √©tendent les capacit√©s offertes par l'√©quipe kubectl auth can-i.  Avant de les introduire, √©tablissons les d√©pendances: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Go</a> and <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Krew</a> . <br><br><h2>  Aller √† l'installation </h2><br>  Go est un langage de programmation open source qui vous permet de cr√©er des logiciels simples, fiables et efficaces.  Il a √©t√© d√©velopp√© par Google sous l'inspiration de C et Pascal, bas√© sur les concepts originaux de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Robert Griesemer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rob Pike</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ken Thompson</a> . <br><br><pre> <code class="bash hljs">wget https://dl.google.com/go/go1.12.5.linux-amd64.tar.gz sudo tar -C /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> -xzf go1.12.5.linux-amd64.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span>:/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/go/bin</code> </pre> <br><h2>  Installation de Krew </h2><br>  Krew est un outil qui simplifie l'utilisation des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugins kubectl</a> .  Krew vous aide √† trouver, installer et g√©rer des plugins.  En termes de fonctions, il ressemble √† des outils tels que apt, dnf ou brew.  Krew est uniquement compatible avec kubectl version 1.12 et sup√©rieure. <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -x; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(mktemp -d)</span></span></span><span class="hljs-string">"</span></span> &amp;&amp; curl -fsSLO <span class="hljs-string"><span class="hljs-string">"https://storage.googleapis.com/krew/v0.2.1/krew.{tar.gz,yaml}"</span></span> &amp;&amp; tar zxvf krew.tar.gz &amp;&amp; ./krew-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(uname | tr '[:upper:]' '[:lower:]')</span></span></span><span class="hljs-string">_amd64"</span></span> install \ --manifest=krew.yaml --archive=krew.tar.gz <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${KREW_ROOT:-$HOME/.krew}</span></span></span><span class="hljs-string">/bin:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$PATH</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br><h2>  rakkess </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce projet</a> vous permet de visualiser toutes les autorisations accord√©es √† l'utilisateur.  Par exemple, cela aide √† r√©pondre √† la question de savoir ce que <code>jean</code> peut faire.  Tout d'abord, installons-le: <br><br><pre> <code class="bash hljs">kubectl krew install access-matrix</code> </pre> <br>  La documentation du projet peut √™tre trouv√©e dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel sur GitHub</a> .  Voici un exemple de son travail: <br><br><pre> <code class="bash hljs">kubectl access-matrix -n my-project-dev --as jean</code> </pre> <br><img src="https://habrastorage.org/webt/0g/sq/b6/0gsqb6cw-paqkn6yxbuozzccgpq.png"><br><br><h2>  kubect-who-can </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce projet</a> nous permet de savoir quels utilisateurs peuvent effectuer une action sp√©cifique.  Cela aide √† r√©pondre √† la question: "Qui peut faire √ßa?"  Installation: <br><br><pre> <code class="bash hljs">go get -v github.com/aquasecurity/kubectl-who-can</code> </pre> <br>  La documentation se trouve dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel GitHub</a> .  Exemple de travail: <br><br><pre> <code class="bash hljs">kubectl-who-can list pods -n default No subjects found with permissions to list pods assigned through RoleBindings CLUSTERROLEBINDING SUBJECT TYPE SA-NAMESPACE cluster-admin system:masters Group rbac-manager rbac-manager ServiceAccount rbac-manager system:controller:attachdetach-controller attachdetach-controller ServiceAccount kube-system system:controller:clusterrole-aggregation-controller clusterrole-aggregation-controller ServiceAccount kube-system system:controller:cronjob-controller cronjob-controller ServiceAccount kube-system system:controller:daemon-set-controller daemon-set-controller ServiceAccount kube-system system:controller:deployment-controller deployment-controller ServiceAccount kube-system system:controller:endpoint-controller endpoint-controller ServiceAccount kube-system system:controller:generic-garbage-collector generic-garbage-collector ServiceAccount kube-system system:controller:horizontal-pod-autoscaler horizontal-pod-autoscaler ServiceAccount kube-system system:controller:job-controller job-controller ServiceAccount kube-system system:controller:namespace-controller namespace-controller ServiceAccount kube-system system:controller:node-controller node-controller ServiceAccount kube-system system:controller:persistent-volume-binder persistent-volume-binder ServiceAccount kube-system system:controller:pod-garbage-collector pod-garbage-collector ServiceAccount kube-system system:controller:pvc-protection-controller pvc-protection-controller ServiceAccount kube-system system:controller:replicaset-controller replicaset-controller ServiceAccount kube-system system:controller:replication-controller replication-controller ServiceAccount kube-system system:controller:resourcequota-controller resourcequota-controller ServiceAccount kube-system system:controller:statefulset-controller statefulset-controller ServiceAccount kube-system system:coredns coredns ServiceAccount kube-system system:kube-controller-manager system:kube-controller-manager User system:kube-scheduler system:kube-scheduler User</code> </pre> <br><h2>  rbac-lookup </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce projet</a> donne un aper√ßu des r√®gles RBAC.  Il aide √† r√©pondre aux questions: ¬´√Ä quel r√¥le appartiennent <code>jean</code> et <code>sarah</code> ?¬ª, ¬´√Ä quel r√¥le appartiennent tous les utilisateurs?¬ª, ¬´√Ä quel r√¥le appartient tout le groupe?¬ª.  Pour installer, ex√©cutez la commande: <br><br><pre> <code class="bash hljs">kubectl krew install rbac-lookup</code> </pre> <br>  La documentation se trouve dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel GitHub</a> .  Voici un exemple de travail: <br><br><pre> <code class="bash hljs">kubectl-rbac_lookup jean SUBJECT SCOPE ROLE jean my-project-dev ClusterRole/edit jean my-project-prod ClusterRole/view kubectl-rbac_lookup sarah SUBJECT SCOPE ROLE sarah my-project-prod ClusterRole/edit kubectl-rbac_lookup --kind user SUBJECT SCOPE ROLE jean my-project-dev ClusterRole/edit jean my-project-prod ClusterRole/view sarah my-project-prod ClusterRole/edit system:anonymous kube-public Role/kubeadm:bootstrap-signer-clusterinfo system:kube-controller-manager kube-system Role/extension-apiserver-authentication-reader system:kube-controller-manager kube-system Role/system::leader-locking-kube-controller-manager system:kube-controller-manager cluster-wide ClusterRole/system:kube-controller-manager system:kube-proxy cluster-wide ClusterRole/system:node-proxier system:kube-scheduler kube-system Role/extension-apiserver-authentication-reader system:kube-scheduler kube-system Role/system::leader-locking-kube-scheduler system:kube-scheduler cluster-wide ClusterRole/system:kube-scheduler system:kube-scheduler cluster-wide ClusterRole/system:volume-scheduler kubectl-rbac_lookup --kind group SUBJECT SCOPE ROLE system:authenticated cluster-wide ClusterRole/system:basic-user system:authenticated cluster-wide ClusterRole/system:discovery system:authenticated cluster-wide ClusterRole/system:public-info-viewer system:bootstrappers:kubeadm:default-node-token cluster-wide ClusterRole/system:node-bootstrapper system:bootstrappers:kubeadm:default-node-token cluster-wide ClusterRole/system:certificates.k8s.io:certificatesigningrequests:nodeclient system:bootstrappers:kubeadm:default-node-token kube-system Role/kube-proxy system:bootstrappers:kubeadm:default-node-token kube-system Role/kubeadm:kubelet-config-1.14 system:bootstrappers:kubeadm:default-node-token kube-system Role/kubeadm:nodes-kubeadm-config system:masters cluster-wide ClusterRole/cluster-admin system:nodes kube-system Role/kubeadm:kubelet-config-1.14 system:nodes kube-system Role/kubeadm:nodes-kubeadm-config system:nodes cluster-wide ClusterRole/system:certificates.k8s.io:certificatesigningrequests:selfnodeclient system:unauthenticated cluster-wide ClusterRole/system:public-info-viewer</code> </pre> <br><h2>  RBAC Manager </h2><br>  Comme le nom de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce projet</a> suit √©videmment, il est le directeur de RBAC.  Il simplifie les nombreuses manipulations n√©cessaires.  Le plus important est peut-√™tre la cr√©ation de RoleBindings.  Nous avons vu plus t√¥t que lors de la cr√©ation de r√¥les diff√©rents pour un utilisateur, il est n√©cessaire de cr√©er diff√©rents r√¥les RoleBindings.  RBAC Manager vous aide en vous permettant de cr√©er un seul RoleBinding avec toutes les autorisations √† la fois.  Pour l'installer, vous devez t√©l√©charger le fichier YAML depuis le r√©f√©rentiel sur GitHub: <br><br><pre> <code class="bash hljs">kubectl apply -f /path/to/rbac/manager/yaml/file</code> </pre> <br>  La documentation officielle se trouve dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel GitHub</a> .  Exemple de travail: <br><br><pre> <code class="plaintext hljs">apiVersion: rbacmanager.reactiveops.io/v1beta1 kind: RBACDefinition metadata: name: jose rbacBindings: - name: jose subjects: - kind: User name: jose roleBindings: - namespace: my-project-prod clusterRole: edit - namespace: my-project-dev clusterRole: edit</code> </pre> <br><h2>  Conclusion </h2><br>  Nous avons cr√©√© des utilisateurs dans le cluster Kubernetes √† l'aide du certificat client X.509 avec OpenSSL et les avons autoris√©s.  Pour une cr√©ation d'utilisateur plus facile, vous pouvez utiliser le script disponible dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mon r√©f√©rentiel sur GitHub</a> <i>(ou les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commandes</a> exp√©rimentales <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubeadm</a> - environ Transl.)</i> .  Quant √† l'administration du cluster, vous pouvez utiliser les projets Open Source pr√©sent√©s dans l'article: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubectl auth can-i</a> : savoir si l'utilisateur peut effectuer une action; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rakkess</a> : d√©couvrez toutes les actions que l'utilisateur peut effectuer; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">kubectl-who-can</a> : d√©termine quels utilisateurs peuvent effectuer une action; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rbac-lookup</a> : obtenir un aper√ßu g√©n√©ral de RBAC; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gestionnaire RBAC</a> : simplifiez la configuration en combinant les liaisons de droits, en automatisant les modifications apport√©es √† RBAC, en utilisant des √©tiquettes comme s√©lecteurs pour attribuer les droits. </li></ul><br>  La cr√©ation d'utilisateurs peut devenir une t√¢che tr√®s chronophage, surtout si vous devez d√©finir un grand nombre d'utilisateurs √† la fois (ou les cr√©er souvent).  Pour att√©nuer la situation, vous pouvez connecter LDAP d'entreprise au cluster Kubernetes.  Certains projets Open Source ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kismatic</a> <i>[</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Object</a> <i>ressemble √† abandonn√© - environ Transl.]</i> Et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ObjectifLibre</a> ) offrent des webhooks Kubernetes qui permettent une authentification directe via LDAP.  Une autre solution possible consiste √† configurer un serveur OpenID avec LDAP d'entreprise comme backend. <br><br><h2>  PS du traducteur </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ABC de la s√©curit√© dans Kubernetes: authentification, autorisation, audit</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comprendre RBAC chez Kubernetes</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">33+ outils de s√©curit√© Kubernetes</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">9 Kubernetes Security Best Practices</a> ¬ª. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470503/">https://habr.com/ru/post/fr470503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470487/index.html">Comp√©titions technologiques Radiofest-2019</a></li>
<li><a href="../fr470489/index.html">Security Week 41: plus de vuln√©rabilit√©s dans les cartes SIM, d√©chiffrement PDF</a></li>
<li><a href="../fr470491/index.html">Des √©pines au jeu des r√™ves - le progr√®s et l'√©volution des cr√©atures</a></li>
<li><a href="../fr470497/index.html">Comment utiliser systemd-nspawn pour restaurer un syst√®me Linux</a></li>
<li><a href="../fr470499/index.html">Comment utiliser au mieux les interruptions dans Unity Animator</a></li>
<li><a href="../fr470511/index.html">L'informatique en Arm√©nie: secteurs strat√©giques et sph√®res technologiques du pays</a></li>
<li><a href="../fr470513/index.html">Comment j'ai trouv√© une maison intelligente domin√©e par un botnet</a></li>
<li><a href="../fr470515/index.html">Une petite √©tape pour le testeur: les 10 meilleurs rapports de Heisenbug 2019 Piter</a></li>
<li><a href="../fr470517/index.html">EP russe pour les plus petits</a></li>
<li><a href="../fr470519/index.html">Exp√©rience dans la cr√©ation d'assemblages Linux pour les mises √† jour sur une seule carte avec prise en charge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>