<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤½ğŸ¾ ğŸ™ğŸ¼ ğŸ—¯ï¸ WeakRef - proposal untuk menambah standar skrip ECMAS ğŸ•¦ ğŸ¹ ğŸƒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dia menulis posting kecil di saluran telegramnya. Saya pikir itu mungkin menarik bagi para pembaca Habr. 


 Baru-baru ini, sebuah artikel di blog V8 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WeakRef - proposal untuk menambah standar skrip ECMAS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460297/"><p>  <i>Dia menulis posting kecil di saluran telegramnya.</i>  <i>Saya pikir itu mungkin menarik bagi para pembaca Habr.</i> </p><br><p>  Baru-baru ini, sebuah artikel di blog V8 didedikasikan untuk program WeakRef (Stage 3) yang baru - "Referensi dan finalizer yang lemah". </p><br><p> Saya akan mencoba menjelaskan dengan kata-kata saya sendiri esensinya dengan contoh.  Bayangkan Anda memiliki semacam pemrosesan gambar di browser Anda, misalnya, tanda air diterapkan pada mereka (saya setuju, contohnya tidak terlalu realistis), dan kemudian gambar-gambar ini entah bagaimana digunakan.  Tanda air ditumpangkan oleh fungsi yang secara intensif mengkonsumsi CPU.  Gambar dapat diulang, oleh karena itu, agar tidak memuat prosesor sekali lagi, kami membuat cache gambar dengan tanda air di <code>Map</code> , biarkan nama file gambar menjadi kuncinya.  Tapi di sini muncul masalah jika beberapa gambar tidak akan digunakan oleh kami, masih akan ada dalam memori, karena <code>Map</code> akan kunci untuk itu (referensi kuat).  Oleh karena itu, agar <code>Map</code> kami tidak memakan memori berlebih, perlu untuk menentukan situasi seperti itu dan membersihkan cache dengan tangan Anda.  Ini sangat tidak nyaman. </p><a name="habracut"></a><br><p>  Di sinilah WeakRef datang untuk menyelamatkan.  Menggunakan WeakRef, Anda dapat membuat tautan yang lemah ke gambar dan menulisnya dengan kunci alih-alih gambar itu sendiri: </p><br><pre> <code class="plaintext hljs">const wr = new WeakRef(image); cache.set(name, wr); //    const ref = cache.get(name); const image = ref.deref();</code> </pre> <br><p>  Dalam hal ini, pengumpul sampah akan dapat secara mandiri menentukan situasi ketika gambar dalam cache tidak lagi diperlukan dan menghapus memori.  Untuk menghapus kunci dari Peta dalam proposal, diusulkan untuk menggunakan API FinalizationGroup tambahan. </p><br><p>  Fakta yang menarik.  Di awal artikel, kami memberikan gambaran kecil tentang WeakMap dan WeakSet yang sudah termasuk dalam standar.  Ternyata nama paling formal untuk hubungan yang digunakan dalam WeakMap adalah Ephemeron. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://v8.dev/features/weak-references</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460297/">https://habr.com/ru/post/id460297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460283/index.html">Bahasa pemrograman do-it-yourself baru</a></li>
<li><a href="../id460285/index.html">Kami sedang menyiapkan PHP. Bagaimana sementara, foreach, array_walk dan beberapa kata menakutkan lainnya</a></li>
<li><a href="../id460287/index.html">Visualisasi berita runet</a></li>
<li><a href="../id460291/index.html">Masalah pemrosesan batch permintaan dan solusinya (bagian 1)</a></li>
<li><a href="../id460295/index.html">Apa maksud tidak aman di Rust?</a></li>
<li><a href="../id460301/index.html">Lampu LED daya tinggi generasi baru</a></li>
<li><a href="../id460305/index.html">AERODISK Engine: Catastrophic. Bagian 2. Metrocluster</a></li>
<li><a href="../id460307/index.html">Pengalaman modeling dari tim Computer Vision Mail.ru</a></li>
<li><a href="../id460311/index.html">Saatnya teori uang baru</a></li>
<li><a href="../id460313/index.html">Apakah lagu hit yang berbeda memiliki kesamaan?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>