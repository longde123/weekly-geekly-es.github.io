<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🈺 🤽🏾 👉🏾 Que alcance é essa antena? Medindo o desempenho da antena com o OSA103 Mini 🍟 👩‍🍳 👨‍👧‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Que alcance é essa antena? 
 - Eu não sei, verifique. 
 - KAAAK?!?! 
 
 Como determinar que tipo de antena você tem em suas mãos se não houver marca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Que alcance é essa antena? Medindo o desempenho da antena com o OSA103 Mini</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447092/"><img src="https://habrastorage.org/webt/oa/bh/ve/oabhveaoh-o5wgbsf-r-kg0pv24.jpeg"><br><br>  <b>- Que alcance é essa antena?</b> <b><br></b>  <b>- Eu não sei, verifique.</b> <b><br></b>  <b>- KAAAK?!?!</b> <b><br></b> <br>  Como determinar que tipo de antena você tem em suas mãos se não houver marcação nela?  Como entender qual antena é melhor ou pior?  Esse problema me atormentou por um longo tempo. <br>  O artigo descreve em linguagem simples um método para medir as características das antenas e um método para determinar a faixa de frequência de uma antena. <br><br>  Para engenheiros de rádio experientes, essas informações podem parecer triviais e a técnica de medição pode não ser precisa o suficiente.  O artigo é destinado a quem não entende nada de radioeletrônicos, como eu. <br><br>  <b>TL; DR</b> <abbr title="Relação de onda estacionária">Mediremos</abbr> o <abbr title="Relação de onda estacionária">SWR das</abbr> antenas em várias frequências usando o instrumento OSA 103 Mini e um acoplador direcional, construindo um gráfico da dependência do SWR na frequência. <br><a name="habracut"></a><br><h2>  Teoria </h2><br>  Quando o transmissor envia um sinal para a antena, parte da energia é irradiada para o ar, e parte é refletida e volta.  A relação entre energia irradiada e refletida é caracterizada pelo coeficiente de onda estacionária (SWR ou SWR).  Quanto menor o SWR, maior parte da energia do transmissor é emitida na forma de ondas de rádio.  Em SWR = 1, não há reflexão (toda a energia é emitida).  O SWR de uma antena real é sempre maior que 1. <br><br>  Se você enviar um sinal de frequências diferentes para a antena e medir simultaneamente o SWR, poderá encontrar em que frequência a reflexão será mínima.  Este será o alcance de trabalho da antena.  Você também pode comparar antenas diferentes para a mesma banda e descobrir qual é a melhor. <br><br><img src="https://habrastorage.org/webt/zv/lp/rt/zvlprtxcoj0ijfxmtn8gaxpasua.png"><br>  <font color="99999999">Uma parte do sinal do transmissor é refletida pela antena</font> <br><br>  Uma antena projetada para uma certa frequência, em teoria, deve ter o menor SWR em suas frequências operacionais.  Portanto, basta emitir frequências diferentes na antena e descobrir em que frequência a reflexão é menor, ou seja, a quantidade máxima de energia voada na forma de ondas de rádio. <br><br>  Tendo a capacidade de gerar um sinal em diferentes frequências e medir a reflexão, podemos construir um gráfico que tenha uma frequência ao longo do eixo X e um coeficiente de reflexão do sinal ao longo do eixo Y.  Como resultado, onde haverá uma queda no gráfico (ou seja, o menor reflexo do sinal), haverá uma faixa de operação da antena. <br><br><img src="https://habrastorage.org/webt/p_/l6/f4/p_l6f4chzuoz74yfzazregktxdk.png"><br>  <font color="9999999">Um enredo imaginário de reflexão versus frequência.</font>  <font color="9999999">Em toda a faixa, 100% de reflexão, exceto a frequência de trabalho da antena.</font> <br><br><h3>  Osa103 Mini </h3><br>  Para medições, usaremos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OSA103 Mini</a> .  Este é um dispositivo de medição universal que combina um osciloscópio, um gerador de sinal, um analisador de espectro, um medidor de resposta de frequência / fase, um analisador de antena vetorial, um medidor de LC e até um transceptor SDR.  A faixa de operação do OSA103 Mini é limitada a 100 MHz, o módulo OSA-6G estende a faixa de frequência no modo A / C para 6 GHz.  O programa nativo com todas as funções pesa 3 MB, funciona no Windows e através do wine no Linux. <br><br><img src="https://habrastorage.org/webt/0e/us/it/0eusitngueja8tnncy-n9xooju0.jpeg"><br>  <font color="99999">Osa103 Mini - o instrumento de medição universal para radioamadores e engenheiros</font> <br><br><h3>  Acoplador direcional </h3><br><div style="text-align:center;"><img width="200" src="https://habrastorage.org/webt/vv/ng/qf/vvngqfhuoe_ezdw3tfkptftm8s0.jpeg"></div><br>  Um acoplador direcional é um dispositivo que desvia uma pequena porção do sinal de RF que viaja em uma direção específica.  No nosso caso, ele deve ramificar uma parte do sinal refletido (indo da antena de volta ao gerador) para medi-lo. <br>  Explicação visual do acoplador direcional: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">youtube.com/watch?v=iBK9ZIx9YaY</a> <br><br>  Principais características de um acoplador direcional: <br><br><ul><li>  <b>Frequências operacionais</b> - uma faixa de frequências nas quais os principais indicadores não vão além da norma.  Meu acoplador foi projetado para frequências de 1 a 1000 MHz </li><li>  <b>Acoplamento</b> - qual parte do sinal (em decibéis) será desviada quando a direção da onda for de IN para OUT </li><li>  <b>Diretividade</b> - quanto menos sinal será desviado quando o sinal se mover na direção oposta de OUT para IN </li></ul><br>  À primeira vista, isso parece bastante confuso.  Para maior clareza, imagine um acoplador como um cano de água, com uma pequena torneira dentro.  A torneira é feita de tal maneira que quando a água se move na direção para a frente (de IN para OUT), uma parte significativa da água é desviada.  A quantidade de água que é descarregada nessa direção é determinada pelo parâmetro Coupling na folha de dados do acoplador. <br><br><img src="https://habrastorage.org/webt/xl/cv/06/xlcv06czkoq5culebdtzfrlciw8.jpeg"><br><br>  Quando a água se move na direção oposta, muito menos água é descarregada.  Deve ser tomado como efeito colateral.  A quantidade de água que é desviada durante esse movimento é determinada pelo parâmetro Diretividade na folha de dados.  Quanto menor esse parâmetro (quanto maior o valor de dB), melhor para a nossa tarefa. <br><br><img src="https://habrastorage.org/webt/xp/ha/xa/xphaxaaumohchs1_nmugwh79hxq.jpeg"><br><br><h3>  Diagrama de circuito </h3><br>  Como queremos medir o nível de sinal refletido da antena, conectamos-o ao acoplador IN e o gerador a OUT.  Assim, o receptor receberá parte do sinal refletido da antena para medição. <br><br><img src="https://habrastorage.org/webt/sx/my/bu/sxmybuzjx9hxispg2lumtaxwny0.png"><br>  <font color="9999999">Diagrama de conexão do acoplador.</font>  <font color="9999999">O sinal refletido é enviado ao receptor.</font> <br><br><h3>  Instalação de medição </h3><br>  Montamos a instalação para medir o SWR de acordo com o diagrama de circuitos.  Na saída do gerador do dispositivo, instalamos adicionalmente um atenuador com uma atenuação de 15 dB.  Isso melhorará a correspondência do acoplador com a saída do gerador e aumentará a precisão da medição.  O atenuador pode ser tomado com uma atenuação de 5..15 dB.  O valor da atenuação é automaticamente considerado durante a calibração subsequente. <br><br><div style="text-align:center;"><img width="150" src="https://habrastorage.org/webt/bm/sr/sm/bmsrsm384nqvttqim31_zfdkupy.jpeg"></div><br>  O atenuador atenua o sinal por um número fixo de decibéis.  A principal característica do atenuador é o coeficiente de atenuação do sinal e a faixa de frequência de operação.  Em frequências fora da faixa de operação, as características do atenuador podem mudar de forma imprevisível. <br><br>  É assim que a configuração final é exibida.  Você também deve se lembrar de enviar um sinal de frequência intermediária (IF) do módulo OSA-6G para a placa principal do dispositivo.  Para fazer isso, conecte a porta IF OUTPUT na placa principal com INPUT no módulo OSA-6G. <br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/21/wf/t9/21wft9g6riz0uva4_xr9cwibtsm.jpeg"></div><br><br>  Para reduzir o nível de interferência de uma fonte de alimentação comutada do laptop, faço todas as medições quando o laptop é alimentado por bateria. <br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/s5/zm/3o/s5zm3opr35c1a8qrbzdsi0sg21q.jpeg"></div><br><h2>  Calibração </h2><br>  Antes de iniciar as medições, é necessário garantir que todos os nós do dispositivo e a qualidade dos cabos estejam funcionando. Para isso, conectamos o gerador e o receptor com um cabo diretamente, ligamos o gerador e medimos a resposta de frequência.  Temos um gráfico quase plano em 0dB.  Isso significa que, em toda a faixa de frequência, toda a energia irradiada do gerador atingiu o receptor. <br><br><img src="https://habrastorage.org/webt/3f/jz/vl/3fjzvlss88ualej7agbubofgtrs.jpeg"><br>  <font color="99999999">Conectando o gerador diretamente ao receptor</font> <br><br>  Adicione um atenuador ao circuito.  Você pode ver uma atenuação quase uniforme do sinal em 15dB em toda a faixa. <br><img src="https://habrastorage.org/webt/ir/at/tc/irattcxzzcnmk1etnm6ifdxpsza.jpeg"><br>  <font color="99999999">Conectando um gerador via atenuador de 15dB a um receptor</font> <br><br>  Conectamos o gerador ao conector OUT do acoplador e o receptor à CPL do acoplador.  Como nenhuma carga está conectada à porta IN, todo o sinal gerado deve ser refletido e parte dele será ramificado para o receptor.  De acordo com a folha de dados do nosso acoplador ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ZEDC-15-2B</a> ), o parâmetro Coupling é de ~ 15db, portanto, devemos ver uma linha horizontal em torno de -30dB (acoplamento + atenuação do atenuador).  Porém, como o alcance operacional do acoplador é limitado a 1 GHz, todas as medições acima dessa frequência podem ser consideradas sem sentido.  Isso é claramente visível no gráfico, após 1 GHz as leituras são caóticas e não fazem sentido.  Portanto, realizaremos todas as medições adicionais na faixa de operação do acoplador. <br><br><img src="https://habrastorage.org/webt/je/_o/-a/je_o-ahzlee7wjcocbomtnxg4ha.png"><br>  <font color="99999999">Conectando uma torneira sem carga.</font>  <font color="99999999">O limite da faixa de operação do acoplador é visível.</font> <br><br>  Como os dados de medição acima de 1 GHz, no nosso caso, não fazem sentido, limitaremos a frequência máxima do gerador aos valores operacionais do acoplador.  Ao medir, obtemos uma linha reta. <br><br><img src="https://habrastorage.org/webt/cd/ra/bi/cdrabity5otmvmkx4kyuwrtrybe.jpeg"><br>  <font color="99999999">Limitando a faixa do gerador à faixa de operação do acoplador</font> <br><br>  Para medir visualmente o SWR das antenas, precisamos calibrar para tomar os parâmetros do circuito atual (100% de reflexão) como um ponto de referência, ou seja, zero dB.  Para isso, o programa OSA103 Mini possui uma função de calibração integrada.  A calibração é realizada sem uma antena conectada (carga), os dados de calibração são gravados em um arquivo e subsequentemente automaticamente levados em consideração ao plotar gráficos. <br><br><img src="https://habrastorage.org/webt/sl/yo/zb/slyozb_rksg92hnfua2iylpfclg.png"><br>  <font color="99999999">Função de calibração de resposta em frequência no OSA103 Mini</font> <br><br>  Aplicando os resultados da calibração e iniciando as medições sem carga, obtemos um gráfico par em 0dB. <br><br><img src="https://habrastorage.org/webt/fg/c_/kx/fgc_kxordiop-xascle59qq0yvq.png"><br>  <font color="99999999">Gráfico após calibração</font> <br><br><h3>  Antenas de medição </h3><br>  Agora você pode começar a medir as antenas.  Graças à calibração, veremos e mediremos a diminuição da reflexão após conectar a antena. <br><br><h2>  Antena da Aliexpress a 433MHz </h2><br>  Antena marcada 443MHz.  Pode-se observar que a antena funciona com mais eficiência na faixa de 446MHz, nessa frequência o SWR é de 1,16.  Ao mesmo tempo, na frequência declarada, os indicadores são significativamente piores, em 433MHz SWR 4.2. <br><br><img src="https://habrastorage.org/webt/kg/n7/ms/kgn7ms1e_xpcemm-t0zimw2wuwo.jpeg"><br><br><h2>  Antena desconhecida 1 </h2><br>  Antena sem marcação.  A julgar pelo cronograma, ele foi projetado para 800 MHz, presumivelmente para a faixa GSM.  Para ser sincero, devo dizer que esta antena também funciona a 1800 MHz, mas devido às limitações do acoplador, não posso fazer as medições corretas nessas frequências. <br><img src="https://habrastorage.org/webt/_g/x9/lx/_gx9lxlyoedrix9zodiszra_tic.jpeg"><br><br><h2>  Antena desconhecida 2 </h2><br>  Outra antena que está nas minhas caixas há muito tempo.  Aparentemente, também para a banda GSM, mas já melhor que a anterior.  A uma frequência de 764 MHz, o SWR está próximo da unidade, a 900 MHz, o SWR é 1,4. <br><br><img src="https://habrastorage.org/webt/zj/ss/ul/zjssulkh16jfxdft-w11180qgwu.jpeg"><br><br><h2>  Antena desconhecida 3 </h2><br>  Isso é semelhante a uma antena Wi-Fi, mas por algum motivo o conector é SMA-Male, e não RP-SMA, como todas as antenas Wi-Fi.  A julgar pelas medições, em frequências de até 1 GHz, esta antena é inútil.  Novamente, devido às limitações do acoplador, não saberemos que tipo de antena é. <br><br><img src="https://habrastorage.org/webt/cz/ge/dj/czgedjfwelv3pw2hwcwg5qytyja.jpeg"><br><br><h2>  Antena telescópica </h2><br>  Vamos tentar calcular quanto você precisa estender a antena telescópica para a faixa de 433MHz.  A fórmula para calcular o comprimento de onda: λ = C / f, onde C é a velocidade da luz, f é a frequência. <br><br><pre><code class="plaintext hljs">299.792.458 / 443.000.000 = 0.69719176279</code> </pre> <br>  <b>Comprimento de onda completo</b> - 69,24 cm <br>  <b>Meio comprimento de onda</b> - 34,62 cm <br>  <b>Um quarto do comprimento de onda</b> - 17,31 cm <br><br><img src="https://habrastorage.org/webt/rh/ij/up/rhijupvalrizxdaydgllznsamja.jpeg"><br><br>  A antena assim calculada era absolutamente inútil.  Na frequência de 433 MHz, o valor de SWR é 11. <br><br><img src="https://habrastorage.org/webt/o_/0x/ra/o_0xramdrwss82ji8oofyxg1x9e.jpeg"><br><br>  Ao estender a antena experimentalmente, consegui um SWR mínimo de 2,8 com um comprimento de antena de cerca de 50 cm, e a espessura das seções é de grande importância.  Ou seja, ao extrair apenas seções extremas finas, o resultado foi melhor do que ao extrair apenas seções grossas do mesmo comprimento.  Não sei quanto vale a pena confiar nesses cálculos com o comprimento da antena telescópica, porque na prática eles não funcionam.  Talvez com outras antenas ou frequências funcione de maneira diferente, eu não sei. <br><br><img src="https://habrastorage.org/webt/gd/bu/5s/gdbu5sogzi07o-stepjc1zv-mws.jpeg"><br><br><h2>  Um pedaço de fio a 433MHz </h2><br>  Geralmente, em dispositivos diferentes, como interruptores de rádio, é possível ver um pedaço de fio reto como uma antena.  Cortei um pedaço de fio igual a um quarto do comprimento de onda de 433 MHz (17,3 cm) e estanhei a ponta para que ela se encaixe perfeitamente no conector SMA Female. <br><br><img src="https://habrastorage.org/webt/ns/b9/ox/nsb9oxgqm-i4ko8dp1i93st9jwa.jpeg"><br><br>  O resultado foi estranho: esse fio funciona bem em 360 MHz, mas é inútil em 433 MHz. <br><br><img src="https://habrastorage.org/webt/nc/ci/vk/nccivk2itdtbstpqb-ivkqmw6l8.jpeg"><br><br>  Comecei a cortar um pedaço de arame do final e olhar as leituras.  A falha no gráfico começou a mudar lentamente para a direita, em direção a 433 MHz.  Como resultado, com um comprimento de fio de cerca de 15,5 cm, consegui obter o menor valor de SWR de 1,8 a uma frequência de 438 MHz.  Encurtamentos adicionais do cabo levaram a um aumento na ROE. <br><br><img src="https://habrastorage.org/webt/o6/rb/nj/o6rbnjbna0orqxppis97-o9tuwi.jpeg"><br><br><h2>  Conclusão </h2><br>  Devido às limitações do acoplador, não foi possível medir antenas nas bandas acima de 1 GHz, por exemplo, antenas Wi-Fi.  Isso poderia ser feito se eu tivesse um acoplador de banda larga maior. <br><br>  Um acoplador, cabos de conexão, instrumento e até um laptop fazem parte do sistema de antena resultante.  Sua geometria, posição no espaço e objetos ao redor afetam o resultado da medição.  Após a instalação em uma estação de rádio ou modem real, a frequência pode mudar, porque  o corpo da estação de rádio, modem, o corpo do operador se tornará parte da antena. <br><br>  O OSA103 Mini é um dispositivo multifuncional muito interessante.  Expresso gratidão ao seu desenvolvedor pela consulta durante as medições. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447092/">https://habr.com/ru/post/pt447092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447076/index.html">OWASP Russia Meetup - Apresentações de gravação</a></li>
<li><a href="../pt447078/index.html">Flightradar24 - como funciona? Parte 2, protocolo ADS-B</a></li>
<li><a href="../pt447080/index.html">Redes para os menores. Parte oh é isso</a></li>
<li><a href="../pt447088/index.html">Tábua de pão "celular"</a></li>
<li><a href="../pt447090/index.html">Histórico: Como o processo de integração contínua funciona</a></li>
<li><a href="../pt447094/index.html">Aprendizado de máquina para gerentes: o sacramento da sepulação</a></li>
<li><a href="../pt447096/index.html">Este ano não haverá robôs, não importa o que Ilon diga.</a></li>
<li><a href="../pt447098/index.html">Transferindo um projeto do Swift 4.2 para o Swift 5.0</a></li>
<li><a href="../pt447100/index.html">Trabalhando com MS SQL da Powershell no Linux</a></li>
<li><a href="../pt447102/index.html">Registro Progress MS-11: o mais interessante adiante</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>