<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏽 🖌️ 🧑🏼‍🤝‍🧑🏻 Perangkat Blok QEMU 🌪️ 🎉 🅰️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="QEMU memiliki beberapa cara untuk menghubungkan perangkat blok ke mesin virtual. Awalnya, ini dilaksanakan dengan cara berikut: 


-hda /dev/sda1  


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perangkat Blok QEMU</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412825/"><p><img src="https://habrastorage.org/getpro/habr/post_images/65a/367/b43/65a367b437b3a4242250ff30063f4455.png" alt="gambar"></p><br><p>  QEMU memiliki beberapa cara untuk menghubungkan perangkat blok ke mesin virtual.  Awalnya, ini dilaksanakan dengan cara berikut: </p><br><pre><code class="plaintext hljs">-hda /dev/sda1</code> </pre> <br><p>  Dengan demikian, disk virtual terhubung di masa lalu virtualisasi.  Ini dapat digunakan hari ini jika kita hanya ingin menguji beberapa liveCD.  Sayangnya, ia memiliki kekurangannya. <a name="habracut"></a>  : </p><br><ul><li>  Saat menghubungkan disk virtual, dimungkinkan untuk hanya menggunakan antarmuka yang dianggap sebagai <code>/dev/hda</code> (hda, hdb, hdc, ..) pada mesin virtual;  Untuk CD, opsi <code>-cdrom</code> </li><li>  Ketika file (atau perangkat) terhubung ke mesin virtual, QEMU hanya menggunakan pengaturan default. </li></ul><br><h2 id="drive">  berkendara </h2><br><p>  Untuk mengatur parameter lain (jenis bus, penggunaan cache, dll.), Opsi <code>-drive</code> telah ditambahkan ke <code>-drive</code> .  Meskipun pada awalnya digunakan untuk mengatur parameter untuk <em>backend</em> dan <em>frontend</em> , saat ini <strong>hanya</strong> digunakan untuk mengatur parameter <em>backend</em> , yaitu, parameter yang mempengaruhi koneksi perangkat virtual di dalam mesin virtual </p><br><pre> <code class="plaintext hljs">-drive file=/dev/sda1,if=ide,cache=writeback,aio=threads</code> </pre> <br><h2 id="device">  perangkat </h2><br><p>  Mengatur semua parameter perangkat blok dengan satu opsi dari waktu ke waktu ternyata tidak masuk akal.  Oleh karena itu, opsi dibagi menjadi dua.  Parameter <em>backend</em> , yaitu yang digunakan untuk mengonfigurasi lingkungan virtualisasi.  Dan <em>frontend</em> , yang memengaruhi bagaimana perangkat terhubung di mesin virtual.  Untuk set parameter ini, opsi-alat baru diperkenalkan, yang berisi <em>id id</em> drive yang ditentukan oleh parameter <code>-drive</code> . </p><br><p>  Contoh konfigurasi berikut ini akan menghubungkan drive dengan <strong>pengenal ide0-hd0</strong> , dan hasilnya sama dengan menghubungkan drive virtual, seperti yang ditunjukkan dalam pengantar. </p><br><pre> <code class="plaintext hljs">-drive file=/dev/sda1,id=ide0-hd0,if=none,cache=writeback,aio=threads \ -device ide-drive,bus=ide.0,drive=ide0-hd0</code> </pre> <br><h1 id="lokalnye-blochnye-ustroystva-v-virtualnoy-mashine">  Memblokir perangkat lokal di mesin virtual </h1><br><p> <a href=""><img src="https://habrastorage.org/webt/iu/bk/t0/iubkt0a0zeavkt_ntiqdcmg45bw.png"></a> </p><br><p>  Penggunaan perangkat blok fisik untuk mesin virtual tidak tersebar luas saat ini mengingat meluasnya penggunaan disk virtual.  Secara teknis, kami dapat menjalankan mesin virtual dengan beberapa sistem berpemilik dari hard drive lama.  Namun, dalam hal ini, lebih baik terlebih dahulu membuat disk image (image) menggunakan <strong>dd</strong> dan mulai sistem dari itu. </p><br><p>  Seperti perangkat blok lokal, itu dapat dihubungkan ke mesin virtual .. </p><br><ul><li>  Array RAID lokal - perangkat tipe <em>md</em> </li><li>  Master DRBD (RAID1 jaringan) - <em>perangkat</em> tipe <em>drbd</em> </li><li>  Partisi disk dibuat dalam grup LVM - perangkat tipe <em>dm</em> </li><li>  File biasa yang terhubung melalui loop adalah perangkat loop </li><li><p>  Memblokir perangkat dari komputer lain yang diekspor melalui server NBD - <em>perangkat</em> tipe <em>nbd</em> </p><br><p>  <em>(Ini juga perlu disebutkan tentang tipe perangkat Ceph rbd dan tipe perangkat ZFS zvol - kira-kira Per)</em> <br><br></p><br><h2 id="nbd">  NBD </h2><br><p>  Pertimbangkan konsep menghubungkan perangkat blok dari komputer jarak jauh melalui jaringan.  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manual terpisah untuk NBD</a> . </p><br></li></ul><br><p> <a href=""><img src="https://habrastorage.org/webt/on/dy/nf/ondynfow2qyce6r0j65pjmqwnqo.png" align="right"></a> <a href=""><img src="https://habrastorage.org/webt/tq/uv/am/tquvamsriwa3hlj4sh3972xbvyq.png" align="left"></a>  QEMU memiliki API NBD terintegrasi, sehingga perangkat blok jarak jauh yang diperluas dengan server NBD dapat langsung terhubung ke mesin virtual melalui QEMU - lihat gambar di sebelah kiri. </p><br><p>  Namun, NBD adalah protokol yang cukup sederhana yang tidak menggunakan otentikasi pada server jarak jauh dan tidak mengontrol status koneksi.  Protokol NBD mengasumsikan bahwa klien dapat menyambung kembali jika koneksi ke server terganggu, tetapi sayangnya QEMU tidak. </p><br><p>  Sebagian, situasi dapat diselesaikan dengan menghubungkan beberapa perangkat NBD dan membuat array RAID virtual di dalamnya.  Pendekatan ini memiliki beberapa keunggulan dan satu kelemahan fatal.  Jika salah satu perangkat mati, maka tidak ada hal buruk yang akan terjadi.  Tetapi jika mereka terbang sekaligus = itu akan buruk.  Operasi I / O dalam lingkungan virtual akan jauh lebih cepat, karena permintaan akan dieksekusi secara paralel dengan beberapa mesin fisik (server NBD) sekaligus.  Tetapi di sisi lain, itu akan membutuhkan lebih banyak sumber daya dari prosesor virtual dan memori virtual. </p><br><p>  Kelemahan utama membangun array RAID dari perangkat NBD di mesin virtual adalah perangkat QEMU, jika perangkat NBD crash, itu akan terhubung kembali hanya setelah <strong>restart penuh</strong> mesin, sementara reboot internal sistem operasi di dalam mesin virtual tidak akan cukup.  Tetapi Anda dapat membuat mesin virtual tanpa disk yang akan secara mandiri mengakses server NBD dan menghubungkan perangkat NBD yang diperlukan.  Selain itu, perangkat yang gagal harus ditambahkan kembali ke array dan disinkronisasi ulang, ini dapat dilakukan secara manual atau menggunakan skrip di dalam mesin virtual. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/2z/hj/h8/2zhjh8517alwckyyggummg1-wj8.png" align="left"></a>  Lebih baik untuk mengakses server NBD menggunakan perangkat mesin virtual NBD.  Terutama bagus, dalam hal kinerja I / O, sedang membangun array RAID dari perangkat NBD. </p><br><p>  Solusi ini ternyata benar-benar yang paling produktif dari semua yang diuji.  Dan mesin virtual mampu melanjutkan operasi tanpa gangguan bahkan jika terjadi terputusnya server NBD (atau kegagalan) dari waktu ke waktu. </p><br><p>  Dengan demikian, dimungkinkan untuk mengatur lingkungan virtualisasi produktif yang relatif stabil dan pada saat yang sama pada peralatan yang tidak stabil. </p><br><blockquote>  Masalah utama dengan array RAID di atas perangkat NBD adalah Anda harus sangat berhati-hati saat menghubungkan perangkat yang merupakan bagian dari array RAID dari server NBD.  Ini adalah proses yang agak rumit dengan probabilitas tinggi kesalahan fatal, yang dapat menyebabkan hilangnya data.  Kesalahan ketik kecil sudah cukup.  Lihat deskripsi kecelakaan mobil fatal 21 Juli 2012 di halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peanuts</a> . </blockquote><p>  Kerugiannya adalah bahwa perangkat blok dengan mana satu mesin virtual sudah berjalan tidak dapat terhubung di tempat lain jika sistem file tidak memungkinkan - ini mirip dengan <strong>iSCSI</strong> ( <strong>i</strong> nternet <strong>S</strong> mall <strong>C</strong> omputer <strong>S</strong> usterm <strong>I</strong> nterface - versi jaringan SCSI) atau <strong>AoE</strong> ( <strong>A</strong> TA <strong>o</strong> ver <strong>E</strong> thernet teknologi). </p><br><h1 id="virtualnye-diski">  Disk virtual </h1><br><p> <a href=""><img src="https://habrastorage.org/webt/id/fl/lr/idfllr5zwpo6jniv5emsyqhir2m.png"></a> </p><br><p>  QEMU dapat terhubung tidak hanya memblokir perangkat ke mesin virtual, tetapi juga, menggunakan berbagai api, file biasa juga dapat terhubung, yang akan terlihat seperti perangkat blok di dalam mesin. </p><br><h2 id="formaty-virtualnyh-diskov">  Format disk virtual </h2><br><blockquote>  Qemu dapat bekerja dengan disk virtual berbagai format.  Untuk disk virtual yang disajikan dalam bentuk file biasa, ada <strong>utilitas</strong> standar <strong>qemu-img</strong> yang dapat digunakan untuk mengonversi sehingga menentukan format yang digunakan dan parameternya. <br><br>  Mengambil informasi disk virtual yang disimpan sebagai file biasa.  Dengan cara yang sama, Anda bisa mendapatkan informasi tentang disk virtual yang disimpan di GlusterFS: <br><pre> <code class="plaintext hljs">root@stroj~# qemu-img info /path_to_file/soubor.img</code> </pre> <br><br>  Namun, untuk mendapatkan informasi tentang disk virtual menggunakan GlusterFS API, Anda perlu menggunakan parameter yang sama yang digunakan untuk menghubungkan disk virtual ke mesin virtual.  Jadi Anda dapat mengidentifikasi disk internal pada mesin tempat klien GlusterFS diinstal dan digunakan: <br><pre> <code class="plaintext hljs">root@stroj~# qemu-img info gluster+tcp://192.168.0.2/volume_name/soubor.img</code> </pre> <br><br>  Disk virtual VDI hanya dapat diidentifikasi melalui API Sheepdog: <br><pre> <code class="plaintext hljs">root@stroj~# qemu-img info sheepdog:192.168.0.2:8000:vdi_name</code> </pre> <br><br>  Untuk disk virtual yang diekspor dari server NBD, perlu untuk memastikan bahwa server yang benar dan port yang benar ditentukan, karena NBD tidak menggunakan mekanisme identifikasi atau otentikasi lain yang akan menghilangkan kebingungan dengan disk virtual lain <em>(versi baru penggunaan server nbd-server hanya satu port dan mengidentifikasi perangkat dengan nama - kira-kira)</em> : <br><pre> <code class="plaintext hljs">root@stroj~# qemu-img info nbd:192.168.0.2:8000</code> </pre> <br><br>  <strong>192.168.0.2</strong> <br>  Alamat IP host dari mana perangkat virtual terhubung.  Jika ini adalah host yang sama <strong>dengan info qemu-img</strong> sedang berjalan, <em>localhost</em> dapat digunakan sebagai ganti alamat IP <br><br>  <strong>8000</strong> <br>  Nomor port tempat daemon atau server mendengarkan.  Secara default, Sheepdog menggunakan port 7000, tetapi juga dapat dijalankan pada port yang berbeda untuk menghindari konflik dengan aplikasi lain.  Server NBD dapat mendengarkan pada port yang berbeda jika lebih dari satu perangkat diekspor. </blockquote><p>  <strong>mentah</strong> <br>  secara umum, itu hanya satu set data yang direkam dalam format yang sama seperti pada perangkat blok konvensional.  File 5G akan menempati seluruh tempat ini, terlepas dari apakah itu berisi data yang berguna atau hanya ruang kosong.  <em>(yang tidak berlaku untuk file jarang - kira-kira)</em> </p><br><p>  <strong>qcow</strong> <br>  Ini berbeda dari format mentah karena dapat bertambah, karena tumbuh secara bertahap - ini nyaman untuk sistem file yang tidak mendukung file jarang, misalnya FAT32.  Format ini juga memungkinkan Anda untuk membuat salinan inkremental yang terpisah dari disk basis tunggal.  Menggunakan "templat" seperti itu menghemat waktu dan ruang disk.  Selain itu, mendukung enkripsi AES dan kompresi zlib.  Kerugiannya adalah, tidak seperti disk mentah, file seperti itu tidak dapat dipasang pada mesin secara langsung di mana ia berada.  Untungnya, ada utilitas <strong>qemu-nbd</strong> yang dapat mengekspor file ini sebagai perangkat blok jaringan dan kemudian menghubungkannya ke perangkat NBD. </p><br><p>  <strong>qcow2</strong> <br>  adalah versi terbaru dari format qcow.  Perbedaan utamanya adalah mendukung snapshot.  Kalau tidak, mereka tidak berbeda secara mendasar.  Dimungkinkan juga untuk memenuhi qcow2, yang secara internal didefinisikan sebagai QCOW versi 3, setelah itu dimasukkan dalam format qcow2 sejak lama.  Sebenarnya, ini adalah qcow2 yang dimodifikasi dengan parameter lazy_refcounts, yang digunakan untuk snapshot.  Karena perbedaannya hanya satu bit, <strong>qemu-img</strong> dari versi 1.7 memiliki opsi "ubah" untuk mengubahnya.  Versi sebelumnya dari <strong>qemu-img</strong> tidak.  Jika Anda ingin mengubah versi format, perlu untuk mengubah disk virtual ke file baru, selama konversi, parameter compat diinstal dengan parameter compat, yang diperlukan untuk mengurangi "1.1" menjadi 0.10 ".  Kehadiran opsi "perubahan" nyaman karena tidak perlu menimpa data karena perubahan kecil seperti itu. </p><br><pre> <code class="plaintext hljs">qemu-img create -f qcow2 -o compat=1.1 test.qcow2 8G</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">http://blog.wikichoon.com/2014/12/virt-manager-10-creates-qcow2-images.html</a> </p><br><p>  <strong>qed</strong> <br>  Ini adalah format COW tambahan dari disk virtual yang menciptakan beban paling sedikit pada host.  Itu tidak mendukung kompresi apa pun dan menggunakan dua tabel paralel untuk mengatasi blok data (cluster).  Sayangnya, tidak ada satu pun pengembang yang tertarik pada pengembangannya untuk waktu yang lama, sehingga penggunaannya membawa beberapa masalah yang akan disebutkan. </p><br><p>  <strong>vdi</strong> <br>  format disk virtual yang digunakan oleh sistem virtualisasi Oracle Virtualbox. </p><br><p>  <strong>vmdk</strong> <br>  format disk virtual yang digunakan oleh produk VMware.  Ini juga merupakan format yang memungkinkan file tumbuh secara bertahap.  Namun, ia memiliki keuntungan besar dibandingkan format qcow2 dan qed, yang juga dapat digunakan dengan solusi diskless atau dengan sistem file jaringan.  Ini memungkinkan Anda untuk memiliki file disk virtual dibagi menjadi beberapa file kecil dengan ukuran 2 GB.  Ini tetap dari waktu ketika sistem file tidak dapat membuat file lebih besar dari 2 GB.  Keuntungannya adalah jika disk virtual seperti itu direplikasi melalui jaringan, lebih sedikit data yang ditransfer, dan sinkronisasi jauh lebih cepat (misalnya, dalam kasus GlusterFS).  Dalam hal solusi diskless, ini juga digunakan untuk hanya menyimpan file kecil dengan perbedaan untuk setiap snapshot </p><br><p>  <strong>vhdx</strong> <br>  format disk virtual yang digunakan oleh sistem virtualisasi Microsoft Hyper-V </p><br><p>  <strong>vpc</strong> <br>  format disk virtual yang digunakan oleh sistem virtualisasi Microsoft VirtualPC. </p><br><table><thead><tr><th></th><th>  <sup>Meningkat</sup> <sup><br></sup>  <sup>menti</sup> <sup><br></sup>  <sup>berakar</sup> <sup><br></sup>  <sup>Yaitu</sup> <br></th><th>  <sup>Sandi</sup> <sup><br></sup>  <sup>novasi</sup> <br></th><th>  <sup>Com</sup> <sup><br></sup>  <sup>pres</sup> <sup><br></sup>  <sup>ini</sup> <br></th><th>  <sup>Preal</sup> <sup><br></sup>  <sup>lokasi</sup> <br></th><th>  <sup>Shabl</sup> <sup><br></sup>  <sup>oniz</sup> <sup><br></sup>  <sup>bangsa</sup> <br></th><th>  <sup>Prop</sup> <sup><br></sup>  <sup>musang</sup> <br></th><th>  <sup>Bagian</sup> <sup><br></sup>  <sup>gambar</sup> <br></th><th>  <sup>Di dalam</sup> <sup><br></sup>  <sup>snapshot</sup> <sup><br></sup>  <sup>kamu</sup> <br></th><th>  <sup>Verifikasi Setuju</sup> <sup><br></sup>  <sup>nosti</sup> <br></th><th>  <sup>Catatan</sup> <br></th></tr></thead><tbody><tr><td>  <sup><b>mentah</b></sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>Dapat dipasang melalui <i>loop</i></sup> <br></td></tr><tr><td>  <sup><b>file</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>secara pribadi</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>Untuk Btrfs, Anda harus menonaktifkan copy-on-write</sup> <br></td></tr><tr><td>  <sup><b>qcow</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td></td></tr><tr><td>  <sup><b>qcow2</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>secara pribadi</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>iya</sup> </td><td></td></tr><tr><td>  <sup><b>qed</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td></td></tr><tr><td>  <sup><b>vmdk</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>secara pribadi</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>ya</sup> <sup>?</sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td></td></tr><tr><td>  <sup><b>vdi</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>statis (statis)</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> </td><td></td></tr><tr><td>  <sup><b>vhdx</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>diperbaiki (diperbaiki)</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>iya</sup> <sup><a name="cite_ref-1"></a></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">1</a></sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td></td></tr><tr><td>  <sup><b>vpc</b></sup> </td><td>  <sup>iya</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>opsi</sup> <sup><br></sup>  <sup>diperbaiki (diperbaiki)</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td>  <sup>tidak</sup> </td><td></td></tr></tbody></table><br><ol><li><a name="cite_note-1"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">↑</a> Mungkin untuk digunakan hanya pada gambar yang sudah diinstal sebelumnya (diperbaiki) <br></li></ol><br><h2 id="ispolzuemye-api">  API digunakan </h2><br><p>  Selain format file, <strong>qemu-img</strong> juga berfungsi dengan "format" yang disediakan menggunakan API di mana perangkat blok ini dapat diakses dari jarak jauh. </p><br><p>  <strong>nfs</strong> <br>  file disk virtual yang terhubung ke QEMU melalui protokol NFS </p><br><p>  <strong>iscsi</strong> <br>  komunikasi dengan perangkat blok adalah melalui iSCSI.  Satu perangkat tidak dapat digunakan secara bersamaan pada lebih dari satu klien. </p><br><p>  <strong>nbd</strong> <br>  Akses melalui NBD bisa sangat cepat.  Ini karena protokolnya sangat sederhana.  Ini adalah keuntungan, tetapi pada saat yang sama merupakan kerugian.  Ini bisa nyaman ketika beberapa klien dapat terhubung ke server NBD yang sama jika mereka menggunakan koneksi lokal melalui server xnbd.  Namun, karena nbd tidak memiliki mekanisme keamanan atau otentikasi, situasi dapat dengan mudah muncul ketika klien secara tidak sengaja terhubung ke perangkat yang salah, yang pada waktu tertentu mungkin sudah digunakan dan merusaknya. </p><br><p>  <strong>ssh</strong> <br>  koneksi ke server jarak jauh dilakukan melalui sshfs </p><br><p>  <strong>kemilau</strong> <br>  menggunakan API sistem file GlusterFS untuk mengakses file disk virtual.  Jika file tersebut merupakan bagian dari volume yang direplikasi atau didistribusikan, itu akan mendistribusikan data yang disimpan antara node lain.  Ini memungkinkannya, jika terjadi kegagalan, tersedia di node lain. </p><br><p>  <strong>anjing gembala</strong> <br>  juga merupakan sistem file terdistribusi yang didukung replikasi.  Tidak seperti GlusterFS, disk virtual melalui API tersedia bukan sebagai file, tetapi sebagai perangkat blok.  Ini bermanfaat dalam hal kinerja, tetapi tidak menguntungkan jika kita perlu melampaui lingkungan Sheepdog. </p><br><p>  <strong>paralel</strong> </p><br><h1 id="virtualnye-diski-na-setevom-hranilische">  Drive virtual pada penyimpanan yang terhubung jaringan </h1><br><p>  Keuntungan dari perangkat blok yang terletak di luar sistem virtualisasi adalah bahwa mereka kemudian kebal terhadap kegagalan mesin virtual. </p><br><p>  Dalam hal ini, ketersediaan tinggi dan volume yang cukup untuk penyimpanan jarak jauh juga disediakan. </p><br><p>  <strong>Menggunakan NFS</strong> <br> <a href=""><img src="https://habrastorage.org/webt/ws/ce/6f/wsce6f0lvdglrpbl1g_v4lif9py.png"></a> </p><br><p>  <strong>Anjing gembala</strong> <br> <a href=""><img src="https://habrastorage.org/webt/lv/ko/k4/lvkok49hqjv-kp1uiis-8sg3ejw.png"></a> </p><br><p>  <strong>GlusterFS</strong> <br> <a href=""><img src="https://habrastorage.org/webt/n9/jz/0z/n9jz0zjuprv_mj-tmq9lhjtqfjy.png"></a> </p><br><h1 id="virtualnye-mashiny-bez-blochnyh-ustroystv">  Mesin virtual tanpa blok </h1><br><p>  Tanpa perangkat blok, sistem operasi yang dapat boot melalui NFS atau dengan sistem file host yang dilemparkan menggunakan Plan9 dapat bekerja. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id412825/">https://habr.com/ru/post/id412825/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id412813/index.html">Header HTTP yang tidak perlu</a></li>
<li><a href="../id412815/index.html">Manajer Web, OpenVPN Client Keys VPNFace Lite</a></li>
<li><a href="../id412819/index.html">Jumat Pemanasan untuk Pikiran: Karma Sempurna untuk Habrahabr</a></li>
<li><a href="../id412821/index.html">Lihat, perhatikan, lihat: apa bedanya?</a></li>
<li><a href="../id412823/index.html">Wawancara dalam bahasa Inggris: cara mendapatkannya tidak lebih buruk dari teman putra ibu</a></li>
<li><a href="../id412827/index.html">Pavel Durov: Setelah banding ILV, Apple memblokir pembaruan Telegram di seluruh dunia</a></li>
<li><a href="../id412829/index.html">Pusat data terdistribusi dari penyedia: apa dan mengapa</a></li>
<li><a href="../id412831/index.html">Rilis YouTrack 2018.2: halaman proyek baru, gambar YouTrack Docker dan banyak lagi</a></li>
<li><a href="../id412833/index.html">Lebih dari Ford</a></li>
<li><a href="../id412835/index.html">Pengenalan Nano ke Internet dari Nano-Things. Bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>