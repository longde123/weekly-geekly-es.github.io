<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗂️ 👴🏽 🤞🏿 JavaScript价格2018 🍘 🏌️ 👩🏾‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="交互式网站的用户体验可能包括向其发送JavaScript代码的步骤。 通常-此代码过多。 如果该站点使用大量JavaScript，则这尤其会影响移动用户。 例如，您是否曾经浏览过看起来似乎已准备就绪但对链接的点击或滚动浏览的尝试没有反应的移动网页？ 
  

 进入移动浏览器的JavaScript代...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript价格2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419369/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">交互式</a>网站的用户体验可能包括向其发送JavaScript代码的步骤。 通常-此代码过多。 如果该站点使用大量JavaScript，则这尤其会影响移动用户。 例如，您是否曾经浏览过看起来似乎已准备就绪但对链接的点击或滚动浏览的尝试没有反应的移动网页？ <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/5p/iz/il/5pizilrb4dsozficzbjzb0-7xfm.jpeg"></a> <br><br> 进入移动浏览器的JavaScript代码仍然是最昂贵的资源，因为从许多方面来看，它都可以将页面的转换延迟到可以与它们进行交互的状态。 今天的JavaScript在系统上有什么样的负载？ 如何分析网站？ 如何加快交互式网页浏览器的加载和处理？ 埃迪·奥斯曼尼（Eddie Osmani）今天将发表其翻译，因此决定寻找这些问题的答案以及其他在2018年使用JavaScript开发网站的人提出的问题。 <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">一般规定</font> </h2><br> 看一下这份报告，该报告展示了处理各种设备的CNN JavaScript代码所需的时间。 它是基于通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WebPageTest.org</a>项目进行的测量而<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">建立的</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是</a>此报告的源数据表，沃尔玛网站上也有数据）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e6/522/1fb/8e65221fbbc2d3489f75fcd6f2b4e5c4.png"></div><br>  <i><font color="#999999">处理各种设备的cnn.com JS代码所需的时间</font></i> <br><br> 如您所见，高端手机（iPhone 8）可以在大约4秒钟内处理JS代码。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">中档</a>手机（Moto G4）大约需要13秒才能解决相同的问题。 尽管使用了诸如阿尔卡特1X这样的现代设备，但预算仍需要约36秒。 <br><br> 今天，我们将一方面讨论Web开发人员可以应用的策略，以创建便捷，现代化的网站，另一方面，确保这些网站的JavaScript组件有效地加载，处理和运行。 简而言之，这是我们谈话的重点，顺便说一下，这些要点是基于我<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最近的讲话</a> ： <br><br><ul><li> 为了使Web项目快速运行，您只需下载当前页面所需的JavaScript代码。 使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">代码拆分</a>技术可以使您尽可能快地组织用户肯定需要的加载，并将延迟加载技术应用于其他代码片段。 多亏了这种方法，页面才有机会比其他情况更快地加载，并迅速达到可以与之交互的状态。 如果您使用的系统默认情况下使用基于路由的代码分隔，则将有所不同。 </li><li> 遵守为项目参数设置的限制，即所谓的“绩效预算”，并学会遵守这些限制。 因此，例如，预期为移动设备设计的页面所需的压缩后的JS代码的大小不应超过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">170 Kb</a> 。 将此类材料转换为正常形式时，可获得大约700 Kb的代码。 这样的限制对于项目的成功至关重要，但是，只有它们本身不能奇迹般地快速创建缓慢的站点。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">团队文化</a> ，结构和规则实施监控方法在这里发挥着作用。 没有预算的项目开发会导致生产率逐渐下降，并可能导致不愉快的后果。 </li><li> 了解如何<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">审核</a> JavaScript包（程序集）并减小其大小。 客户很有可能必须下载<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">完整版本的库</a> ，而只需要其中的一部分即可使项目正常工作。 也许项目包含了不需要的浏览器的polyfill，并且不排除重复代码。 </li><li> 每次用户与站点的交互都是一个新的等待期的开始，之后便可以与站点进行工作（这就是所谓的“交互时间”，TTI，“交互时间”）。 在这种情况下，优化值得考虑。 对于慢速的移动网络，传输代码的大小非常重要，而解析JavaScript代码所需的时间则用于具有中等计算能力的设备。 </li><li> 如果使用客户端JavaScript无法改善用户体验，请考虑在这种情况下是否使用JS。 也许在这种情况下，在服务器上呈现HTML代码会更快。 考虑限制客户端Web框架的使用，考虑仅将其用于形成没有它就无法做到的页面。 如果这些技术使用不当，则在服务器上进行渲染和在客户端上进行渲染都会成为严重问题的根源。 </li></ul><br><h2>  <font color="#3AC1EF">现代Web项目和JavaScript过度使用的问题</font> </h2><br> 当用户访问您的站点时，您可能会向他发送一堆文件，其中许多是脚本。 从Web浏览器的角度来看，它看起来像这样。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c6/152/d3d/4c6152d3da036a4051873df5d22b9af5.gif"></div><br>  <i><font color="#999999">这就是浏览器的感觉，充满了文件</font></i> <br><br> 无论我多么喜欢JavaScript，我都不得不承认，它始终是浏览器要处理的网站上最昂贵，最困难的部分。 实际上，我想谈谈为什么JavaScript可以成为网站的主要问题。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c91/257/c9d/c91257c9d3dedf96b242c6fb4e1748f8.jpg"></div><br>  <i><font color="#999999">JavaScript是网站上最难的部分</font></i> <br><br> 根据<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://">7月</a> JavaScript存档有关使用JavaScript的报告，如今，平均每个网页使用大约<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://beta.">350 KB的</a>压缩后的JavaScript代码。 这段代码被解压成浏览器需要处理的1 MB脚本。 为了使移动用户能够与这样的页面进行交互，他将不得不等待<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://beta.">14秒以上</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/206/9be/882/2069be882fdb87d6c05781f32b4dc87f.jpg"></div><br>  <i><font color="#999999">包含350 KB压缩JS代码的平均页面在大约15秒内在移动设备上变为交互式</font></i> <br><br> 如果您不清楚您的JavaScript捆绑包对用户与您的网站进行交互要等待多长时间的影响，请查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lighthouse</a>工具。 <br><br> 在等待页面准备好在移动设备上工作时，移动网络上数据的下载时间及其在非快速处理器上的处理做出了重大贡献。 <br><br> 让我们通过查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OpenSignal数据</a>来分析移动网络领域的事务状态。 下图左侧显示了世界上4G网络的可用性（该国领土涂成的颜色越深-可用性越高），数据传输速度在右侧显示（同样-越暗-速度越高）。 该研究不包括领土为灰色的国家。 值得注意的是，在农村地区，即使在美国，移动数据传输的速度也可能比城市慢20％。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd5/cab/2b3/dd5cab2b335865da3129d4aa7f16848e.png"></div><br>  <i><font color="#999999">4G网络可用性和数据速率</font></i> <br><br> 上面我们说过，下载和解析350 KB缩小和压缩的JS代码需要一定的时间。 但是，如果您查看热门站点，事实证明它们会向用户发送更多代码。 下图所示数据取自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a> 。 它们是各种众所周知的Web资源（例如Google Sheets）的解压缩JavaScript包的大小，在桌面平台上，解压缩的JS代码的大小为5.8 MB。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/066/369/ddd/066369dddc8ca6a94e8618e9cf54778a.jpg"></div><br>  <i><font color="#999999">各种资源的解压缩JavaScript程序集大小</font></i> <br><br> 如您所见，在台式机和移动平台上，浏览器有时都必须处理数MB的JS代码才能与各种站点一起使用。 这里的主要问题是-您<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">负担得起使用</a>如此大量的JavaScript吗？ <br><br><h2>  <font color="#3AC1EF">JavaScript不是免费的</font> </h2><br> 根据Alex Russell的说法，需要大量JavaScript才能运行的网站根本无法为广大用户所访问。 根据统计，用户不会等待（也不会等待）此类资源的加载。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/102/84b/e1a/10284be1a4bb5a2df8c197f81f309841.jpg"></div><br>  <i><font color="#999999">你负担得起吗？</font></i> <br><br> 如果您必须向用户发送过多的JS代码，请考虑使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">代码</a>拆分技术将捆绑包分成小部分，或者使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">树状摇晃算法</a>减少代码量。 <br><br>  JS现代站点捆绑包通常包括以下内容： <br><br><ul><li> 客户端Web框架或用户界面库。 </li><li> 用于管理应用程序状态的工具（例如Redux）。 </li><li>  Polyfills（通常用于不需要它们的现代浏览器）。 </li><li> 库的完整版本，而不仅仅是实际使用的部分（例如，完整的Lodash库，该版本中的Moment.js库，支持所有区域标准）。 </li><li> 一组用户界面组件（按钮，标题，侧边栏等）。 </li></ul><br> 以上所有因素均导致用户浏览器必须接受并处理的代码的整体大小。 自然，代码越多-浏览器能够使页面进入工作状态所花费的时间越多。 <br><br> 加载网页的过程类似于在投影机中移动胶片，该过程捕获了三个关键步骤，可以回答以下问题： <br><br><ul><li> 这是发生了吗？  （发生了吗？）。 </li><li> 这有什么用？  （有用吗？）。 </li><li> 可以使用吗？  （可以使用吗？）。 </li></ul><br> 想象这些步骤的方法，如果我们继续与电影类比的话，这些步骤又可以分为较小的“帧”。 <br><br> 页面加载是一个过程。 最近，Web行业的重点已转移到反映用户使用Web页面的用户体验的指标。 现在，我们没有在全神贯注于<code>onload</code>或<code>domContentLoaded</code> ，而是想知道用户是否真的可以使用该页面。 如果他单击页面上的某些内容，是否会立即做出反应？ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/541/b44/949/541b449496d25038cb8282a337f7437c.png"></div><br>  <i><font color="#999999">网页加载过程</font></i> <br><br><ul><li> 在步骤“这正在发生吗？” 该站点可能开始将一些数据传输到浏览器。 您可以在此处询问有关用户浏览器对服务器的访问是否已固定（例如，通过单击某个链接）以及服务器是否已开始生成响应的问题。 </li><li> 在步骤“这有什么用？” 该网站显示一些文本或其他内容，这些内容首先使用户可以学习有用的内容，其次可以使用户感兴趣。 </li><li> 在步骤“可以使用吗？” 用户可以开始与网站进行全面互动，这可能导致某些事件。 </li></ul><br><h2>  <font color="#3AC1EF">互动页面及其问题</font> </h2><br> 上面我们提到了交互时间（交互时间，TTI）。 让我们更详细地讨论它。 在下面的内容中，在由Kevin Schaaf制作的动画图形中，您可以看到页面（不是所有材料都已下载并处理）如何使用户认为他可以执行某些操作，但实际上是由于相应的JS代码尚未完全处理，因此无法执行此操作。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ba2/f9f/401/ba2f9f4016b2992d3a6fcd6f42eb4d06.gif"></div><br>  <i><font color="#999999">用户为准备就绪所需的时间太长的页面而烦恼</font></i> <br><br> 为了使页面具有交互性，它必须能够快速响应用户交互。 支持页面的少量JS代码有助于减少准备页面所需的时间。 <br><br> 如果用户单击链接或滚动页面，则他需要看到响应其行为而发生的事情。 如果页面没有响应用户的影响，则他们不喜欢它。 <br><br> 这是使用Lighthouse工具在测试环境中生成的报告，其中包含一组指标（还有交互时间），重点关注用户如何感知页面。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43c/41e/5e2/43c41e5e2fc74e73b2b18e219464a02a.png"></div><br>  <i><font color="#999999">Lighthouse报告，其中包含反映用户对页面的感知的指标</font></i> <br><br> 当在某个项目中使用服务器渲染时，会发生与上图所示类似的事情，并且服务器上生成的结果以及用于“使”用户界面焕然一新的JS代码”的结果会传输到客户端（例如， ，可以连接事件处理程序和负责页面行为的其他一些机制）。 <br><br> 当浏览器正在处理连接用户可能需要的事件的代码时，很可能所有这些都将在处理用户输入的同一线程中执行。 这就是所谓的主流。 <br><br> 使用主线程加载过多的JavaScript代码（例如，在使用<code>&lt;script&gt;</code>时会发生这种情况），对交互时间产生不利影响。 下载计划在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web Worker中</a>运行或与<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Service Worker</a>缓存的JS代码不会对TTI产生如此强烈的负面影响。 <br><br> 这是一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视频</a> ，显示了用户处理失败站点的示例。 通常，用户可以安全地选择复选框或单击链接。 但是，如果您模仿主线程的阻塞，则用户将无法执行任何操作-既不选中该复选框，也不单击该链接。 <br><br> 尽量减少可能阻塞主线程的情况。 您可以在这里找到有关此内容的详细信息。 <br><br> 我们看到与我们合作的团队在许多类型的站点上都受到JavaScript在TTI上的影响。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01b/c85/a78/01bc85a78a71659ed34531abc08a1620.jpg"></div><br>  <i><font color="#999999">JavaScript能够在交互模式下延迟可见元素的输出</font></i> <br><br> 对于许多公司来说，这种情况可能是一个严重的问题。 上面是Google搜索引擎的一些示例。 元素显示在屏幕上，看起来好像已经可以使用它们，但是如果过多的JS代码负责其功能，则它们会延迟进入操作模式。 这可能对用户没有吸引力。 理想情况下，用户可以与之交互的所有内容都应尽快运行。 <br><br><h2>  <font color="#3AC1EF">TTI和移动设备</font> </h2><br> 这是使用慢速3G网络连接时news.google.com的TTI。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里，</a>您可以看到构建此图所依据的数据。 通过WebPageTest和Lighthouse进行测量。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bbb/f31/6c7/bbbf316c7ed319fab4bb5de89a260cfc.png"></div><br>  <i><font color="#999999">适用于news.google.com的TTI</font></i> <br><br> 分析这些数据后，您可以看到最低和最高类别的设备之间存在严重差距。 因此，TTI测试中功能最强大的设备约为7秒。 最简单的-已经是55秒。 <br><br> 这里我们有一个关于TTI应该是什么的问题。 我们相信您应该努力在不到5秒的时间内使连接到慢速3G网络的中档设备上的页面更具<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">交互性</a> 。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b41/d8c/c19/b41d8cc19c6773f542cf8d63db6cca68.jpg"></div><br>  <i><font color="#999999">值得在5秒内争取TTI</font></i> <br><br> 也许在这里您会说所有用户都拥有高端电话并已连接到快速网络。 但是，真的是这样吗？ 也许有人在某个咖啡馆连接了“快速” Wi-Fi网络，但实际上，他只能使用2G或3G连接的速度特性。 在评估用户的能力时，人们不能低估各种设备和访问他们使用的网络的方法。 <br><br><h2>  <font color="#3AC1EF">JS代码精简对TTI的影响</font> </h2><br> 以下是一些示例，这些示例说明如何减小JS页面代码的大小影响TTI。 <br><br><ul><li>  Pinterest项目<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将</a> JS包从2.5 MB <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">减少</a>到不到200 KB。 互动时间从23秒减少到5.6秒。 该公司的收入增长了44％，订阅数量增长了753％，移动版本网站的每周活跃用户数量<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">增长</a>了103％。 </li><li>  AutoTrader <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将</a> JS捆绑包<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">减少了</a> 56％，从而使TTI减少了约50％。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Nikkei.com</a>资源将JS捆绑包的大小减少了43％，这使TTI缩短了14秒。 </li></ul><br> 这些结果表明，应该为灵活的移动环境设计站点，同时尝试确保它们不与大量的JavaScript代码绑定。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/74a/c0c/02974ac0cbab25abd75e9ef03e2e6fd1.jpg"></div><br>  <i><font color="#999999">网站设计基于灵活的移动环境</font></i> <br><br>  TTI有很多工作要做。 例如，使用移动设备查看其网络功能受某个收费计划限制的站点可能会影响此指标，TTI可能会受到以下事实的影响：用户通过公共（不是特别快速的Wi-Fi接入点）工作，或者移动用户处于不断运动中，定期失去网络。 <br><br> 当某人在与我们刚才描述的情况类似的情况下使用您的网站时，同时，为了确保资源正常工作，有必要下载并处理大量JS代码，对于用户而言，与该网站的交互会话可能最终是空的屏幕。 或者，如果该站点仍至少在屏幕上显示某些内容，则可能需要很长的时间才能使用它。 理想情况下，可以通过简单地减少站点工作所需的JS代码的大小来缓解此类问题。 <br><br><h2>  <font color="#3AC1EF">为什么JavaScript如此昂贵？</font> </h2><br> 为了理解为什么为页面准备JavaScript代码会给系统带来巨大的负担，让我们讨论一下服务器将数据发送到浏览器时会发生什么。 <br><br> 因此，这一切都始于用户输入要进入浏览器地址栏的站点的URL。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/236/812/068/236812068bc6c3bc6d4f8b53f6a41e51.gif"></div><br>  <i><font color="#999999">这一切都始于在浏览器的地址栏中输入URL</font></i> <br><br> 然后将请求发送到服务器，服务器将HTML标记返回给浏览器。 浏览器解析此标记，并找到构成页面所需的资源：CSS，JavaScript，图像。 然后，浏览器需要从服务器请求所有这些信息并进行处理。 <br> 在这种情况下，例如在使用Google Chrome浏览器时，一切都会发生。 <br><br> 整个过程的困难在于，最终，JavaScript成为整个系统的瓶颈。 理想情况下，我们希望浏览器快速显示页面的图形表示，之后便可以与其进行交互。 但是，如果JavaScript是瓶颈，那么在屏幕上显示某些内容后，用户将被迫无奈地检查自己无法使用的内容。 <br><br> 我们的目标是确保在用户与Web资源进行交互的现代方案中，JavaScript不再成为瓶颈。 <br><br><h2>  <font color="#3AC1EF">如何加快使用JavaScript的速度？</font> </h2><br>  JavaScript加速任务可以分为几个子任务。 在与JS相关的所有事情上花费的时间是加载，解析，编译和执行代码的总和。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/599/323/513/5993235135530c02298fb57682b6396d.png"></div><br>  <i><font color="#999999">JavaScript的速度包括加载，解析，编译和执行代码的速度</font></i> <br><br> 所有这些都意味着我们在代码传输及其处理中都需要速度。 <br> 如果花太多时间在JS引擎中解析和编译脚本，这会影响用户与页面进行交互的时间。 <br><br> 考虑有关上述过程的一些数据。 以下是有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">V8</a> （Chrome中使用的JavaScript引擎）如何花费时间处理包含脚本的页面的更多信息。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7d/4f3/0cc/c7d4f30cc7bcb5d507ed5c2c092f3aaf.png"></div><br>  <i><font color="#999999">加载页面时，解析和编译步骤在V8中花费的时间为10-30％</font></i> <br><br> 代表解析热门站点代码所需时间的片段以橙色突出显示。 黄色代表编译时间。 这两个阶段合在一起花费了处理页面JS代码所需的总时间的30％。  30％是一个严肃的数字。 <br><br> 在Chrome 66中，V8在后台线程中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">编译</a>代码，最多可节省20％的编译时间。 但是，解析和编译仍然是非常昂贵的操作，因此您很少会看到大型脚本在不到50毫秒的时间内开始执行。 加载后，即使它是在后台线程中编译的。 <br><br><h2>  <font color="#3AC1EF">JavaScript与其他资源有何不同？</font> </h2><br> 应该记住的是，例如处理大小为200 Kb的脚本以及处理大小相同的图像所需的时间会有很大的不同。 在此示例中，通过网络传输的数据量可能相同，传输时间也相同。 不能说将数据转换为可以使用的东西所需的资源成本。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/394/a5f/0ef/394a5f0ef1611e42080046832c695f77.jpg"></div><br>  <i><font color="#999999">200 KB的JavaScript代码和相同大小的JPEG文件是两件事。</font></i> <br><br>  JPEG图像需要解码，光栅化和显示。  JS包是必要的，如果我们简单地考虑它，则可以加载，解析，编译，执行。 实际上，引擎在处理JS代码的过程中必须解决<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">其他问题</a> 。 总的来说，应该记住，处理JavaScript代码需要花费更多的系统资源，而JavaScript代码的大小（以字节为单位）可与其他材料的大小相媲美。 <br><br> 最近引起人们极大关注的浏览器处理JavaScript代码速度问题的原因之一是移动技术的惊人普及。 <br><br><h2>  <font color="#3AC1EF">移动网络和设备多样性</font> </h2><br> 移动网络世界中有各种各样的设备。 如果您尝试简单地按成本对它们进行分类，则它们是入门级手机，价格在30美元左右，中端设备价格在200美元以下，高端设备价格在1000美元左右。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/288/e9e/7e0/288e9e7e0c4632fad5f7ff201065ad92.jpg"></div><br>  <i><font color="#999999">各种移动设备</font></i> <br><br> 如果情况良好，则该站点将必须在中级和更高级别的设备上工作。 然而，实际上，并非所有用户都具有这样的设备。 <br><br> 因此，大多数用户可以从初始和中间级别的设备在Internet上工作。 此外，即使我们将自己限制在这两个级别上，它们所包含的设备的功能范围也可能很大。 例如，其中一些处理器将全速运行，而其中一些处理器可降低频率以节省能源或防止设备​​过热。 <br><br> 可比处理器可能具有不同的缓存大小。 最后，设备可以使用完全不同的处理器，更不用说其他系统组件了。 结果，处理诸如JavaScript之类的资源所需的时间将在很大程度上取决于用于查看站点的设备的特性。 此外，即使在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">美国</a> ，入门级电话也在世界范围内使用。 <br><br> 这是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">newzoo</a>对当前使用的Android智能手机进行研究的结果。 如您所见，Android OS已安装在所用手机的75.9％上，而预计在2018年将再增加3亿台设备。 这些新设备中有许多将是预算友好的。 <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c82/044/d97/c82044d97f2ad8224f77abea21d03a2e.png"></div><br>  <i><font color="#999999">2018年的Android智能手机</font></i> <br><br> 让我们看看在各种现代设备上解析和编译JavaScript需要花费多长时间。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是</a>原始数据。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/598/e78/a74/598e78a74c1dde7d56ea450710dc88b2.png"></div><br>  <i><font color="#999999">处理（解析和编译）1 Mb未压缩的JS代码所需的时间（例如，使用gzip压缩的最小代码约为200 Kb）。</font></i>  <i><font color="#999999">测量是在真实设备上手动进行的。</font></i> <br><br> 该图的顶部是顶级设备，例如iPhone 8，它们可以相对快速地处理脚本。 如果降得更低，那么已经有中档设备了，例如Moto G4和非常简单的阿尔卡特1X。 这些设备之间的区别是肉眼可见的。 <br><br> 随着时间的流逝，运行Android的手机变得越来越<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">便宜，但并没有</a>变得<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">更快</a> 。 通常，便宜的电话使用带有较小L2 / L3缓存的弱处理器。 因此，如果您专注于顶级设备，则可以完全忽略没有此类设备的普通用户的需求。 <br><br> 例如，让我们返回一个我们已经接触过的真实网站。 使用WebPageTest进行测量， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是</a>源数据。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb2/777/6cc/fb27776cc2b1d2216157921dbc7092d8.png"></div><br>  <i><font color="#999999">处理各种设备的cnn.com JS代码所需的时间</font></i> <br><br> 在iPhone 8（使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">A11</a>芯片）上，处理过程比中档手机快9秒钟。 我们正在谈论的事实是，该网站将在iPhone 8上提前9秒钟进行互动。 <br><br> 现在，当WebPageTest支持Alcatel 1X（这款手机在美国以约100美元的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">价格出售</a> ，在销售开始时就已<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">出售</a> ）时，我们可以看到cnn.com网站的“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">故事板</a> ”正在入门级和中端手机上加载。 阿尔卡特1X使用3G网络在65秒内完全加载了站点。 它甚至都不是“慢”。 这是完全不能接受的。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/a3a/ac3/1e3a3aac35265a06da7bc6b2eb535d02.png"></div><br>  <i><font color="#999999">使用Alcatel 1X，Moto G gen 1，Moto G4下载cnn.com</font></i> <br><br> 这项研究表明，我们可能应该停止考虑我们所有的用户都在使用功能强大的设备进行快速网络工作。 因此，应在真实的网络和真实的设备上测试应用程序。 站点必须运行的各种移动设备是一个实际问题。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0cb/718/8bd/0cb7188bda8857b23b118996a629f90d.jpg"></div><br>  <i><font color="#999999">不要以为所有用户都使用快速网络和功能强大的设备。</font></i> <br><br>  Ilya Grigorik说，波动是杀死用户体验的原因。 即使快速的设备有时也会运行缓慢。 快速的网络可能很慢。 可变性绝对可以减慢任何事情。 <br><br> 尽管可变性可能会破坏用户体验，但是基于不是最高效的设备的Web项目的开发使您可以使“快速”和“慢速”用户都感到舒适。 如果您的团队可以分析统计数据并了解用于您的站点的设备，这将提示您哪些设备可能值得保留在办公室并用于测试站点。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/0f2/2ed/8a50f22ed94a73b1cf8d731ba1ff1043.jpg"></div><br>  <i><font color="#999999">测试站点位于连接到真实网络的真实设备上</font></i> <br><br> 如果您自己的中端手机的选件不适合您，则<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WebPageTest</a>项目可以在选择移动测试配置时访问自定义的Moto G4手机。 那里还有其他配置。 <br><br> 此外，必须在典型用户所在的网络上执行测试。 早些时候，我谈到了在入门级和中档手机上测试站点的重要性，而<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brian Holt</a>在此主题上发表了以下<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">出色的评论</a> ：认识受众非常重要。 他说，了解受众并针对受众需求优化应用程序性能至关重要。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd6/3f7/544/cd63f7544efb222387af8be77318d103.jpg"></div><br>  <i><font color="#999999">了解你的听众</font></i> <br><br> 应该注意的是，并不是每个站点都可以在连接2G网络的入门级设备上正常工作。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，面向生产设备的行为也是完全正常的行为。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是通过Google Analytics（分析）→受众群体→移动设备→设备获得的报告。</font><font style="vertical-align: inherit;">它显示有关站点访问者的设备和操作系统的信息。</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4d/3ce/934/f4d3ce9344422284242a9e8b87e50f52.jpg"></div><br> <i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自Google Analytics（分析）的报告</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的许多用户可能位于范围的顶部，或者可能分布在不同的范围内。</font><font style="vertical-align: inherit;">最主要的是要知道使用哪些设备与您的站点一起使用，这将使您能够就什么重要，什么不重要做出明智的决定。</font></font><br><br><h2> <font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对慢速网络和低功耗设备的优化</font></font></font> </h2><br>        JavaScript —         .          :   ,  ,  (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gzip</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Brotli</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Zopfli</a> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aba/6f0/0e0/aba6f00e0082307e61c0c2937a0bdfb5.jpg"></div><br> <i><font color="#999999">     ,    </font></i> <br><br>          . <br><br>   JavaScript —       . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7eb/440/83d/7eb44083d188f50b6839e0502291d568.jpg"></div><br> <i><font color="#999999">   —        </font></i> <br><br>    -,    ,   ,  ,          . <br><br>  ,    ,        JavaScript,        ,   ,  ,        . <br><br><h2> <font color="#3AC1EF">  JavaScript-,  </font> </h2><br>    ,     JS-,  ,    ,    .   ,      —    ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">code splitting</a> ). <br><br>  ,  JS-  ,   ,      ,   .  ,          . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/760/826/059/76082605903bde936cf4ed467acdeaa9.png"></div><br> <i><font color="#999999">  —  </font></i> <br><br>       ,   ,      ,      JS-,      .       ,      . <br><br>             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">webpack</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Parcel</a> .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">React</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Vue.js</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Angular</a> . <br><br><h2> <font color="#3AC1EF">   React</font> </h2><br>         React-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">React loadable</a> —   ,       API,      React,            . <br><br>         . <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> OtherComponent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./OtherComponent'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">OtherComponent</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span> );</code> </pre> <br>   . <br><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Loadable <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-loadable'</span></span>; const LoadableOtherComponent = Loadable({ loader: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./OtherComponent'</span></span>), loading: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;div&gt;Loading...&lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;, }); const MyComponent = () =&gt; ( &lt;LoadableOtherComponent/</span></span>&gt; );</code> </pre> <br><h2> <font color="#3AC1EF">    </font> </h2><br>            . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f15/1f3/96c/f151f396cb1eb149d86f103abab9a659.jpg"></div><br> <i><font color="#999999">     Twitter   45% ,  Tinder —  50%</font></i> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Twitter</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Tinder</a>    ,     ,      ,    .   ,  ,       ,   TTI   50%. <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Gatsby.js</a> (React), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Preact CLI</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PWA Starter Kit</a>        ,                . <br><br><h2> <font color="#3AC1EF"> </font> </h2><br>      ,  ,   .     JavaScript-. ,         <code>webpack-bundle-analyzer</code> .   «»      ( ,   ,    <code>npm install</code>          ), ,  Visual Code,   <code>import-cost</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d6/e15/efd/8d6e15efd1aa003d096fb539bdd026ff.png"></div><br> <i><font color="#999999">   JS-</font></i> <br><br> ,  JS-      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Webpack Bundle Analyzer</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Source Map Explorer</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bundle Buddy</a> .          . <br><br>  ,      JS-:       ,   ,   ,  ,  ,  . <br><br>      (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f3e/ec2/f4a/f3eec2f4a0054e8e5f03f53013630a5a.png"></div><br> <i><font color="#999999"> </font></i> <br><br>            ( Moment.js     )    (,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">date-fns</a> ). <br><br>    Webpack, , ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,         ,    . <br><br><h2> <font color="#3AC1EF">,   </font> </h2><br>     ,           JavaScript,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lighthouse</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d6/ce6/8e2/4d6ce68e27546953cab9d8f81e295122.jpg"></div><br> <i><font color="#999999">    Lighthouse</font></i> <br><br>   Lighthouse    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> ,     ,   , ,   . <br><br> Lighthouse —  ,      Google.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  Chrome.       ,          .   ,  Lighthouse. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/274/b7d/87d/274b7d87dcdd8d4255c6a9319d3df310.png"></div><br> <i><font color="#999999"> Lighthouse</font></i> <br><br>   Lighthouse       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript boot-up time</a> .    ,    ,    ,      ,       .       ,       ,     ,  . <br><br>  ,  ,     ,      . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/106/a88/da8/106a88da845aa8656c083b7a7c25f9d1.jpg"></div><br> <i><font color="#999999">  CSS  JS-     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Coverage</a>   Chrome</font></i> <br><br>  Coverage         CSS  JavaScript-.             ,           .   ,    . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://twitter.com/TheLarkInn/status/1012429019063578624%3Fref_src%3Dtwsrc%255Etfw%257Ctwcamp%255Etweetembed%257Ctwterm%255E1012429019063578624%26ref_url%3D"></a>   ,           Coverage.        ,       . <br><br>  Coverage           ,       ,          ,   ,    . <br><br><h2> <font color="#3AC1EF"> PRPL</font> </h2><br>    - ,     JS- ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PRPL</a> (Push, Render, Precache, Lazy-load). <br><br>         .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-</a>    JS-   ,     , ,     ,    . <br><br>  PRPL           .       (Push),      (Render),    ,     (Pre-cache),  ,     ,     (Lazy-load)  ,     . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0d/8a4/8f0/a0d8a48f0763ba42e2b3d761c11634dc.jpg"></div><br> <i><font color="#999999"> PRPL</font></i> <br><br>    PRPL,       ,   ,  ,     ,     .     ,   ,       . <br><br><h2> <font color="#3AC1EF">    </font> </h2><br>     ,   -   -  ,   ,  ,      , ,      ,  ,  -      -        ,   . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/428/bd8/b3d/428bd8b3d80517bb0b624e7733d8daff.jpg"></div><br> <i><font color="#999999"> ,     , -    </font></i> <br><br>  ,  ,     .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d8b/346/a9d/d8b346a9d63397172112e0716d93c689.jpg"></div><br> <i><font color="#999999">  —  </font></i> <br><br>    ,         ,   .   ,        ,            . <br><br>   ,  ,     ,   .      ,       .    ,      ,     . <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> ,         : <br><br><ul><li>    .  ,     ,   TTI,    ,   .          ,      . </li><li> ,    -.        ( —  JavaScript-,  HTTP-).            . </li><li> ,   .  —            ,  Lighthouse  WebPageTest.          ,    . </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>        ,    .      ,  : <br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>                     . </li><li>       ,   .  , ,   , HTML  CSS.    JavaScript          . </li><li>     ,   .      .           . </li></ul><br> ,    ,    ,    . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a29/e56/f4b/a29e56f4bdc86ce9d54d962d86837019.jpg"></div><br> <i><font color="#999999"> —  ,    </font></i> <br><br>            ,        . <br><br>            .  ,  ,   , «»,      ,    -. ,  ,      ,   -      ,   .      ,       ,     .          ,      . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> ,     - ,    -.   ,        . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f5/77a/4c9/0f577a4c99ac33a8988e05c831795ef5.jpg"></div><br> <i><font color="#999999">       ,   -   </font></i> <br><br>          . <br><br><ul><li>     ,  «»    .   « »      ,      . </li><li>    .  ,      ,   « »    ,         (KPI, Key Performance Indicators)      ,  ,  .  —   «         5 ».        : «    JS-    170 ». </li><li>       KPI.  , ,     ,         . </li></ul><br>  <a href="">Web Performance Warrior</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Designing for Web Performance</a> —   ,     ,       . <br><br><h2> <font color="#3AC1EF">     </font> </h2><br>        .              <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lighthouse CI</a> . <br><br> ,  ,          -   ,   ,    ,        .    ,  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lighthouse Thresholds</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a8e/e63/586/a8ee63586c2e7a754d67447f0ec86e23.png"></div><br> <i><font color="#999999">    </font></i> <br><br>          .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Calibre</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Treo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Webdash</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SpeedCurve</a> . <br><br>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">teejungle.net</a>    SpeedCurve,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/018/07a/8ba/01807a8ba021e631a9707bc0d489af19.png"></div><br> <i><font color="#999999">       SpeedCurve</font></i> <br><br>           ,       ,   ,    ,    . <br><br>        ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">US Digital Service</a> ,           LightHouse          TTI. <br><br><h2> <font color="#3AC1EF">  </font> </h2><br>    , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>          ,  ,      . <br><br>    ,  JavaScript      RUM- (Real User Monitoring,   ),   ,   -,     .  ,  RUM-,    ,      ,        . ,    JavaScript-,       ,        API Long Tasks   First Input Delay. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d2a/3e1/f65/d2a3e1f655e3b63f063e25d60bb4bff4.png"></div><br> <i><font color="#999999"> RUM-</font></i> <br><br><ul><li> API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Long Tasks</a>       (     ),     50 .,       .   API        . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">First Input Delay</a> (FID,     )   ,         (,  ,      ),  ,       . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FID</a> —      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </li></ul><br>            ,      JavaScript,    . <br><br><h2> <font color="#3AC1EF">   </font> </h2><br>         ,  USA Today        .    42    . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/207/ba5/b72/207ba5b722d9d16eaa569309083a42b3.jpg"></div><br> <i><font color="#999999">        USA Today</font></i> <br><br>  ,   JS-        .     ,    ,   ,    ,    .       ,         ,    . <br><br>       . ,   <code>&lt;head&gt;</code>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://twitter.com/patmeenan/status/936373608796119040%3Fref_src%3Dtwsrc%255Etfw%257Ctwcamp%255Etweetembed%257Ctwterm%255E936373608796119040%26ref_url%3D"></a> ,  A/B-,  ,       ,     .               ,  ,       . <br><br>     ,       ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> . <br><br><h2>  <font color="#3AC1EF">总结</font> </h2><br>    —  ,   .        . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be8/cf7/fc7/be8cf7fc700b7006205ea4272d0ee293.jpg"></div><br> <i><font color="#999999">  - —  </font></i> <br><br>      - ,             . <br><br>   -  ,    JS-.    , ,  ,   ,       ,  ,       . <br><br>  <b>亲爱的读者们！</b>    ,    -? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN419369/">https://habr.com/ru/post/zh-CN419369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN419359/index.html">PHP摘要136号（2018年7月24日至8月6日）</a></li>
<li><a href="../zh-CN419361/index.html">thindf-新的文本数据格式（替代JSON）</a></li>
<li><a href="../zh-CN419363/index.html">GitLab 11.1：安全控制面板和高级搜索发布</a></li>
<li><a href="../zh-CN419365/index.html">IT律师的故事。 生命外包业务。 第二部分</a></li>
<li><a href="../zh-CN419367/index.html">人与翻译机器人之间的模糊模糊和“无形的滥用”</a></li>
<li><a href="../zh-CN419371/index.html">JavaScript关键字，适合初学者</a></li>
<li><a href="../zh-CN419373/index.html">在实际示例中比较React和Vue</a></li>
<li><a href="../zh-CN419375/index.html">循环miRNA</a></li>
<li><a href="../zh-CN419379/index.html">特斯拉和德意志银行为何拒绝纸质合同</a></li>
<li><a href="../zh-CN419383/index.html">新的WPA2攻击技术，不需要AP上的客户端</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>