<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äç‚öñÔ∏è ü¶Ä üë° Textures for 64k intro: comment c'est fait aujourd'hui ‚¨ÖÔ∏è üò≥ üòö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article fait partie de notre s√©rie H - Immersion . La premi√®re partie peut √™tre lue ici: Immersion in Immersion . 

 Lors de la cr√©ation d'une ani...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Textures for 64k intro: comment c'est fait aujourd'hui</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419007/">  <i>Cet article fait partie de notre s√©rie</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>H - Immersion</i></a> <i>.</i>  <i>La premi√®re partie peut √™tre lue ici:</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Immersion in Immersion</i></a> <i>.</i> <br><br>  Lors de la cr√©ation d'une animation de seulement 64 Ko, il est difficile d'utiliser des images pr√™tes √† l'emploi.  Nous ne pouvons pas les stocker de mani√®re traditionnelle, car il n'est pas suffisamment efficace, m√™me si vous appliquez une compression, par exemple JPEG.  Une solution alternative est la g√©n√©ration proc√©durale, c'est-√†-dire l'√©criture de code qui d√©crit la cr√©ation d'images pendant l'ex√©cution du programme.  Notre impl√©mentation de cette solution √©tait un g√©n√©rateur de texture - un √©l√©ment fondamental de notre cha√Æne d'outils.  Dans cet article, nous expliquerons comment nous l'avons d√©velopp√© et utilis√© dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>H-Immersion</i></a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br>  <i>Des projecteurs sous-marins illuminent les d√©tails des fonds marins.</i> <br><a name="habracut"></a><br><h2>  Premi√®re version </h2><br>  La g√©n√©ration de texture a √©t√© l'un des tout premiers √©l√©ments de notre base de code: des textures proc√©durales √©taient d√©j√† utilis√©es dans notre premi√®re intro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>B-Incubation</i></a> .  <a href="">Le code se</a> composait d'un ensemble de fonctions qui remplissent, filtrent, transforment et combinent des textures, ainsi qu'une grande boucle qui contourne toutes les textures.  Ces fonctions ont √©t√© √©crites en C ++ pur, mais l'interaction de l'API C a √©t√© ajout√©e par la suite afin qu'elles puissent √™tre √©valu√©es par l'interpr√©teur C <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PicoC</a> .  √Ä cette √©poque, nous avons utilis√© PicoC pour r√©duire le temps pris par chaque it√©ration: de cette fa√ßon, nous avons pu changer et recharger les textures pendant l'ex√©cution du programme.  Le passage au sous-ensemble C √©tait un petit sacrifice par rapport au fait que maintenant nous pouvions changer le code et voir le r√©sultat imm√©diatement, sans se soucier de fermer, recompiler et recharger la d√©mo enti√®re. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70d/88e/4c9/70d88e4c948bfbd24f7d003b5a92f6af.png"></div><br>  <i>En utilisant un motif simple, un peu de bruit et de d√©formation, nous pouvons obtenir une texture de bois stylis√©e.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e28/a67/83b/e28a6783bd53715bb1514bc6aa2c655f.jpg"></div><br>  <i>Dans cette sc√®ne de</i> l'atelier <i>de</i> F - Felix, <i>diff√©rentes textures de bois ont √©t√© utilis√©es.</i> <br><br>  Pendant un certain temps, nous avons explor√© les capacit√©s de ce g√©n√©rateur et l'avons donc publi√© sur un serveur Web avec un petit script PHP et une interface Web simple.  Nous pourrions √©crire le code de texture dans un champ de texte, et le script l'a transmis au g√©n√©rateur, qui a ensuite vid√© le r√©sultat sous forme de fichier PNG √† afficher sur la page.  Tr√®s vite, nous avons commenc√© √† dessiner au travail pendant la pause d√©jeuner et √† partager nos petits chefs-d'≈ìuvre avec les autres membres du groupe.  Cette interaction nous a motiv√©s au processus cr√©atif. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f15/be6/722/f15be672247f38176102734d115a5001.png"></div><br>  <i>Galerie Web de notre ancien g√©n√©rateur de texture.</i>  <i>Toutes les textures peuvent √™tre modifi√©es dans le navigateur.</i> <br><br><h2>  Refonte compl√®te </h2><br>  Pendant longtemps, le g√©n√©rateur de texture est rest√© presque inchang√©;  nous avons pens√© que c'√©tait bon, et notre efficacit√© a cess√© d'augmenter.  Mais une fois que nous avons d√©couvert qu'il y avait beaucoup d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">artistes</a> sur les forums Internet d√©montrant leurs textures enti√®rement g√©n√©r√©es de mani√®re proc√©durale, ainsi que l'organisation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©fis</a> sur divers sujets.  Le contenu proc√©dural √©tait autrefois une caract√©ristique de la sc√®ne de d√©monstration, mais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Allegorithmic</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ShaderToy</a> et des outils similaires l'ont rendu accessible au grand public.  Nous n'y avons pas pr√™t√© attention et ils ont commenc√© √† nous mettre facilement sur les omoplates.  Inacceptable! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/12a/7cb/e33/12a7cbe33257454ca8e23c53dd84ef00.jpg"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Canap√© en tissu</a> .</i>  <i>Une texture de tissu enti√®rement proc√©durale cr√©√©e dans Substance Designer.</i>  <i>Publi√© par: Imanol Delgado.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.artstation.com/imanoldelgado</a></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b3e/25a/47e/b3e25a47ed73c407de4335f5e58cc87b.jpg" alt="image"></div><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sol forestier</a> .</i>  <i>Texture de sol forestier enti√®rement proc√©durale cr√©√©e par Substance Designer.</i>  <i>Publi√© par Daniel Thiger.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.artstation.com/dete</a></i> <br><br>  Nous avons depuis longtemps besoin de repenser nos outils.  Heureusement, de nombreuses ann√©es de travail avec le m√™me g√©n√©rateur de texture nous ont permis de reconna√Ætre ses d√©fauts.  De plus, notre g√©n√©rateur de maillage naissant nous a √©galement dit √† quoi devrait ressembler le pipeline de contenu proc√©dural. <br><br>  L'erreur architecturale la plus importante a √©t√© l'impl√©mentation de la g√©n√©ration comme un ensemble d'op√©rations avec des objets de texture.  Du point de vue d'une perspective de haut niveau, cela peut √™tre la bonne approche, mais du point de vue de la mise en ≈ìuvre, des fonctions telles que <b>texture.DoSomething ()</b> ou <b>Combine (textureA, textureB)</b> pr√©sentent de s√©rieux inconv√©nients. <br><br>  Tout d'abord, le style POO vous oblige √† d√©clarer ces fonctions dans le cadre de l'API, peu importe leur simplicit√©.  Il s'agit d'un probl√®me grave car il n'√©volue pas bien et, plus important encore, cr√©e des frictions inutiles dans le processus cr√©atif.  Nous ne voulions pas changer l'API chaque fois que nous devions essayer quelque chose de nouveau.  Cela complique l'exp√©rimentation et limite la libert√© de cr√©ation. <br><br>  Deuxi√®mement, en termes de performances, cette approche vous oblige √† traiter les donn√©es de texture en cycles autant de fois qu'il y a d'op√©rations.  Cela ne serait pas particuli√®rement important si ces op√©rations √©taient co√ªteuses par rapport au co√ªt d'acc√®s √† de gros fragments de m√©moire, mais ce n'est g√©n√©ralement pas le cas.  √Ä l'exception d'une tr√®s petite fraction des op√©rations, par exemple la g√©n√©ration de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bruit Perlin</a> ou le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">remplissage</a> , elles sont fondamentalement tr√®s simples et ne n√©cessitent que quelques instructions sur le point de texture.  Autrement dit, nous avons contourn√© les donn√©es de texture pour effectuer des op√©rations triviales, ce qui est extr√™mement inefficace du point de vue de la mise en cache. <br><br>  La nouvelle structure r√©sout ces probl√®mes gr√¢ce √† la r√©organisation de la logique.  Dans la pratique, la plupart des fonctions effectuent ind√©pendamment la m√™me op√©ration pour chaque √©l√©ment de texture.  Par cons√©quent, au lieu d'√©crire une fonction <b>texture.DoSomething ()</b> qui contourne tous les √©l√©ments, nous pouvons √©crire <b>texture.ApplyFunction (f)</b> , o√π <b>f (element)</b> ne fonctionne que pour un seul √©l√©ment de texture.  Ensuite, <b>f (√©l√©ment)</b> peut √™tre √©crit selon une texture sp√©cifique. <br><br>  Cela semble √™tre un changement mineur.  Cependant, cette structure simplifie l'API, rend le code de g√©n√©ration plus flexible et expressif, plus convivial pour le cache et permet un traitement parall√®le en toute simplicit√©.  De nombreux lecteurs ont d√©j√† r√©alis√© qu'il s'agissait essentiellement d'un shader.  Cependant, l'impl√©mentation r√©elle reste le code C ++ ex√©cut√© sur le processeur.  Nous conservons toujours la possibilit√© d'effectuer des op√©rations en dehors de la boucle, mais n'utilisons cette option qu'en cas de besoin, par exemple par convolution. <br><br><h3>  C'√©tait: </h3><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     . // API . //    -  API. //      . class ProceduralTexture { void DoSomething(parameters) { for (int i = 0; i &lt; size; ++i) { //   . (*this)[i] = ‚Ä¶ } } void PerlinNoise(parameters) { ‚Ä¶ } void Voronoi(parameters) { ‚Ä¶ } void Filter(parameters) { ‚Ä¶ } void GenerateNormalMap() { ‚Ä¶ } }; void GenerateSomeTexture(texture t) { t.PerlinNoise(someParameter); t.Filter(someOtherParameter); ‚Ä¶ //  .. t.GenerateNormalMap(); }</span></span></code> </pre> <br><h3>  C'est devenu: </h3><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//       . // API . //     . //      . class ProceduralTexture { void ApplyFunction(functionPointer f) { for (int i = 0; i &lt; size; ++i) { //    . (*this)[i] = f((*this)[i]); } } }; void GenerateNormalMap(ProceduralTexture t) { ‚Ä¶ } void SomeTextureGenerationPass(void* out, PixelInfo in) { result = PerlinNoise(in); result = Filter(result); ‚Ä¶ //  .. *out = result; } void GenerateSomeTexture(texture t) { t.ApplyFunction(SomeTextureGenerationPass); GenerateNormalMap(t); }</span></span></code> </pre> <br><h2>  Parall√©lisation </h2><br>  La g√©n√©ration de texture prend du temps, et un candidat √©vident pour r√©duire ce temps est l'ex√©cution de code parall√®le.  √Ä tout le moins, vous pouvez apprendre √† g√©n√©rer plusieurs textures √† la fois.  C'est exactement ce que nous avons fait pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>l'atelier F <em>-</em> Felix</i></a> , ce qui a consid√©rablement r√©duit le temps de chargement. <br><br>  Cependant, cela ne fait pas gagner de temps l√† o√π il est le plus n√©cessaire.  Il faut encore beaucoup de temps pour g√©n√©rer une texture.  Cela s'applique au changement car nous continuons de recharger la texture encore et encore avant chaque modification.  Au lieu de cela, il est pr√©f√©rable de parall√©liser le code de g√©n√©ration de texture interne.  Puisque maintenant le code consiste essentiellement en une grande fonction appliqu√©e en boucle √† chaque texel, la parall√©lisation devient simple et efficace.  R√©duit le co√ªt des exp√©riences, des r√©glages et des brouillons, ce qui affecte directement le processus cr√©atif. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/cb7/21f/ac9cb721febdfc0b32300bb02f84fefe.jpg"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/191/c1e/a6d/191c1ea6de84670abe256fb67e7dc165.jpg"></div><br>  <i>Illustration d'une id√©e que nous avons explor√©e et rejet√©e pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>H - Immersion</i></a> : une d√©coration en mosa√Øque avec une doublure en orichalcon.</i>  <i>Ici, il est montr√© dans notre outil d'√©dition interactif.</i> <br><br><h2>  G√©n√©ration c√¥t√© GPU </h2><br>  Si ce n'est toujours pas √©vident, alors je dirai que la g√©n√©ration de texture est compl√®tement effectu√©e dans le CPU.  Peut-√™tre que certains d'entre vous lisent ces lignes maintenant et sont perplexes "mais pourquoi?!".  Il semble que l'√©tape √©vidente soit la g√©n√©ration de texture dans le processeur vid√©o.  Pour commencer, il augmentera le taux de g√©n√©ration d'un ordre de grandeur.  Alors pourquoi ne l'utilisons-nous pas? <br><br>  La raison principale est que l'objectif de notre petite refonte √©tait de rester sur le CPU.  Passer √† un GPU signifierait beaucoup plus de travail.  Il nous faudrait r√©soudre des probl√®mes suppl√©mentaires pour lesquels nous n'avons pas encore suffisamment d'exp√©rience.  En travaillant avec le CPU, nous avons une compr√©hension claire de ce que nous voulons et nous savons comment corriger les erreurs pr√©c√©dentes. <br><br>  Cependant, la bonne nouvelle est que, gr√¢ce √† la nouvelle structure, exp√©rimenter avec le GPU semble maintenant assez trivial.  Tester des combinaisons des deux types de processeurs sera une exp√©rience int√©ressante pour l'avenir. <br><br><h2>  G√©n√©ration de texture et ombrage physiquement pr√©cis </h2><br>  Une autre limitation de l'ancien design √©tait que la texture n'√©tait consid√©r√©e que comme une image RVB.  Si nous avions besoin de g√©n√©rer plus d'informations, disons la texture diffuse et la texture des normales pour la m√™me surface, alors rien ne nous a emp√™ch√© de le faire, mais l'API n'a pas beaucoup aid√©.  Cela est devenu particuli√®rement important dans le contexte de l'ombrage √† base physique (PBR). <br><br>  Dans un pipeline traditionnel sans PBR, des textures de couleur sont g√©n√©ralement utilis√©es, dans lesquelles de nombreuses informations sont cuites.  De telles textures repr√©sentent souvent l'aspect final de la surface: elles ont d√©j√† un certain volume, les fissures sont assombries et il peut m√™me y avoir des reflets.  Si plusieurs textures sont utilis√©es en m√™me temps, les d√©tails √† grande et √† petite √©chelle sont g√©n√©ralement combin√©s pour ajouter des cartes normales ou une r√©flectivit√© de surface. <br><br>  Les convoyeurs PBR de surface utilisent g√©n√©ralement plusieurs ensembles de textures repr√©sentant des valeurs physiques plut√¥t que le r√©sultat artistique souhait√©.  La texture de couleur diffuse, qui se rapproche le plus de ce que l'on appelle souvent la ¬´couleur¬ª de la surface, est g√©n√©ralement plate et sans int√©r√™t.  La couleur sp√©culaire est d√©termin√©e par l'indice de r√©fraction de la surface.  La plupart des d√©tails et de la variabilit√© proviennent des textures des normales et de la rugosit√© (rugosit√©) (que quelqu'un peut consid√©rer comme identiques, mais avec deux √©chelles diff√©rentes).  La r√©flectivit√© per√ßue d'une surface devient une cons√©quence de son niveau de rugosit√©.  A ce stade, il sera plus logique de penser non pas en termes de mat√©riaux, mais de mat√©riaux. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e6/ad2/e95/2e6ad2e9555afadc279ff0227d1ff54a.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2d/3a4/71f/c2d3a471f7fb9a352db83454e0288a91.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/446/8d1/52c/4468d152ce8ba5b8a4f563c8cc428533.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/dad/d05/b58dadd05ca838c5fdc4ec5daec0855b.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a8/2ee/a7e/6a82eea7ea42a6ca5cf4b437545b3893.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/156/2a7/53f/1562a753fe3172e4add501ed110d3f7d.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1e/91d/c4e/f1e91dc4ec162b76e1ba139f22e0e1d9.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf5/627/9e8/cf56279e8263eaea1411824f60d10503.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a9/525/b03/0a9525b03c6033b76587107f7a87a4bf.jpg"></div><br>  La nouvelle structure nous permet de d√©clarer des formats de pixels arbitraires pour les textures.  L'ayant fait partie de l'API, nous lui permettons de traiter tout le code standard.  Apr√®s avoir d√©clar√© le format de pixel, nous pouvons nous concentrer sur le code de la cr√©ation sans d√©penser trop d'efforts pour traiter ces donn√©es.  Au moment de l'ex√©cution, il g√©n√©rera plusieurs textures et les transf√©rera de mani√®re transparente vers le GPU. <br><br>  Dans certains pipelines PBR, les couleurs diffuses et sp√©culaires ne sont pas transmises directement.  Au lieu de cela, les param√®tres ¬´couleur de base¬ª et ¬´m√©tal¬ª sont utilis√©s, ce qui a ses avantages et ses inconv√©nients.  Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>H - Immersion,</i></a> nous utilisons le mod√®le diffus + sp√©culaire, et le mat√©riau se compose g√©n√©ralement de cinq couches: <br><br><ol><li>  Couleur diffuse (RVB; 0: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vantablack</a> ; 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">neige fra√Æche</a> ). </li><li>  Couleur sp√©culaire (RVB: fraction de lumi√®re r√©fl√©chie √† 90 ¬∞, √©galement appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>F0</i> ou <i>R0</i></a> ). </li><li>  Rugosit√© (A; 0: parfaitement lisse; 1: caoutchouteux). </li><li>  Normal (XYZ; vecteur unitaire). </li><li>  √âl√©vation du terrain (A; utilis√© pour la cartographie d'occlusion de parallaxe). </li></ol><br>  Lors de l'utilisation, les informations d'√©mission lumineuse ont √©t√© ajout√©es directement au shader.  Nous n'avons pas jug√© n√©cessaire d'avoir une occlusion ambiante, car dans la plupart des sc√®nes, il n'y a aucun √©clairage ambiant.  Cependant, je ne serai pas surpris que nous ayons des couches suppl√©mentaires ou d'autres types d'informations, par exemple l'anisotropie ou l'opacit√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8b8/185/de9/8b8185de93298b085276109a8f30efef.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2c/6bb/876/a2c6bb876297e1b0a21fbe8463e19b66.jpg"></div><br>  Les images ci-dessus montrent une exp√©rience r√©cente de g√©n√©ration d'occlusion ambiante locale bas√©e sur l'altitude.  Pour chaque direction, nous parcourons une distance pr√©d√©termin√©e et maintenons la plus grande pente (diff√©rence de hauteur divis√©e par la distance).  Ensuite, nous calculons l'occlusion √† partir de la pente moyenne. <br><br><h2>  Contraintes et travaux futurs </h2><br>  Comme vous pouvez le voir, la nouvelle structure est devenue une am√©lioration majeure par rapport √† l'ancienne.  De plus, elle encourage l'expression cr√©ative.  Cependant, elle a encore des limites que nous voulons √©liminer √† l'avenir. <br><br>  Par exemple, bien qu'il n'y ait eu aucun probl√®me dans cette introduction, nous avons remarqu√© que l'allocation de m√©moire pouvait √™tre un obstacle.  Lors de la g√©n√©ration de textures, un tableau de valeurs flottantes est utilis√©.  Avec de grandes textures avec plusieurs couches, vous pouvez rapidement rencontrer un probl√®me d'allocation de m√©moire.  Il existe diff√©rentes fa√ßons de le r√©soudre, mais ils ont tous leurs inconv√©nients.  Par exemple, nous pouvons g√©n√©rer des textures tuile par tuile, tandis que l'√©volutivit√© sera meilleure, cependant, la mise en ≈ìuvre de certaines op√©rations, telles que la convolution, devient moins √©vidente. <br><br>  De plus, dans cet article, malgr√© le mot ¬´mat√©riaux¬ª utilis√©, nous ne parlions que de textures, mais pas de shaders.  Cependant, l'utilisation de mat√©riaux devrait √©galement conduire √† des shaders.  Cette contradiction refl√®te les limites de la structure existante: la g√©n√©ration de texture et l'ombrage sont deux parties distinctes s√©par√©es par un pont.  Nous avons essay√© de faciliter la travers√©e de ce pont, mais en fait, nous voulons que ces pi√®ces ne fassent plus qu'un.  Par exemple, si un mat√©riau a √† la fois des param√®tres statiques et dynamiques, nous voulons les d√©crire en un seul endroit.  C'est un sujet complexe et nous ne savons pas encore s'il existe une bonne solution, mais n'allons pas de l'avant. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a5/ee7/42d/0a5ee742d8f5f83b3f0255176caa90c3.jpg" alt="image"></div><br>  <i>Une exp√©rience pour cr√©er une texture de tissu similaire au travail d'Imadol Delgado montr√© ci-dessus.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419007/">https://habr.com/ru/post/fr419007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418997/index.html">Contribution r√©elle √† une v√©ritable source ouverte</a></li>
<li><a href="../fr418999/index.html">[Annonce, Peter] Rencontre JUG.ru avec Andrei Belyaev et Alexei Stukalov - Troll opprime CUBA: FAQ</a></li>
<li><a href="../fr419001/index.html">5 ¬´super comp√©tences¬ª n√©cessaires au travail de demain</a></li>
<li><a href="../fr419003/index.html">R√©sum√© des nouvelles de la blockchain</a></li>
<li><a href="../fr419005/index.html">Excursion au poste 220/110/20</a></li>
<li><a href="../fr419009/index.html">clang et IDE: une histoire d'amiti√© et d'amiti√©</a></li>
<li><a href="../fr419011/index.html">Jinja2 dans le monde C ++, deuxi√®me partie. Rendu</a></li>
<li><a href="../fr419013/index.html">Attribution bas√©e sur l'entonnoir pour les entreprises SaaS B2B - car nous avons consid√©r√© la valeur de tous les efforts de marketing</a></li>
<li><a href="../fr419017/index.html">Nouveaut√©s de ConstraintLayout 1.1</a></li>
<li><a href="../fr419019/index.html">AlterEgo: un appareil qui peut lire (certaines) pens√©es</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>