<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЦЦЁЯП╝ ЁЯСРЁЯП╛ ЁЯМТ рдореИрдВрдиреЗ рдорд╛рдирдХ C ++ 11 рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рдХреИрд╕реЗ рд▓рд┐рдЦрд╛ рд╣реИ рдпрд╛ рдмреВрд╕реНрдЯ рдЗрддрдирд╛ рдбрд░рд╛рд╡рдирд╛ рдХреНрдпреЛрдВ рд╣реИред рдЕрдзреНрдпрд╛рдп 3 ЁЯОи ЁЯФЛ ЁЯЪЫ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд┐рдЫрд▓реЗ рднрд╛рдЧреЛрдВ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ 
 рд╕реА ++ 11 рд╕рдВрдХрд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рдХрд╛рд░рдг, рдФрд░ рд╡реИрдХрд▓реНрдкрд┐рдХрддрд╛ рдХреА рдХрдореА рд╕реЗ, рдмреВрд╕реНрдЯрд░ рдиреЗ рд╕рдВрдХрд▓рдХ рдХреЗ рд╕рд╛рде рдЖрдкреВрд░реНрддрд┐ рдХреА рдЧрдИ C ++...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдореИрдВрдиреЗ рдорд╛рдирдХ C ++ 11 рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рдХреИрд╕реЗ рд▓рд┐рдЦрд╛ рд╣реИ рдпрд╛ рдмреВрд╕реНрдЯ рдЗрддрдирд╛ рдбрд░рд╛рд╡рдирд╛ рдХреНрдпреЛрдВ рд╣реИред рдЕрдзреНрдпрд╛рдп 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417295/"><img src="https://habrastorage.org/webt/lr/zq/if/lrzqifvfeajppx2fdvqbxnwf4ce.png" alt="рд╣рдо рд╕рд╛рд╣рд╕рд┐рдХ рдХрд╛рд░реНрдп рдЬрд╛рд░реА рд░рдЦрддреЗ рд╣реИрдВред" width="300" height="350" align="left"><h3>  рдкрд┐рдЫрд▓реЗ рднрд╛рдЧреЛрдВ рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ </h3><br>  рд╕реА ++ 11 рд╕рдВрдХрд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рдХрд╛рд░рдг, рдФрд░ рд╡реИрдХрд▓реНрдкрд┐рдХрддрд╛ рдХреА рдХрдореА рд╕реЗ, рдмреВрд╕реНрдЯрд░ рдиреЗ рд╕рдВрдХрд▓рдХ рдХреЗ рд╕рд╛рде рдЖрдкреВрд░реНрддрд┐ рдХреА рдЧрдИ C ++ 98 / C ++ 03 рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдорд╛рдирдХ C ++ 11 рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред <br><br>  <b>Static_assert</b> , <b>noexcept</b> , <b>countof</b> рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдпрд╣ рднреА, рд╕рднреА рдЧреИрд░-рдорд╛рдирдХ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдФрд░ рд╕рдВрдХрд▓рдХ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЬрд╛рдирдХрд╛рд░реА рдЙрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреА рдЬреЛ рд╡рд░реНрддрдорд╛рди рд╕рдВрдХрд▓рдХ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рд╣реИред  рдпрд╣ <b>core.h</b> рдХрд╛ рд╡рд░реНрдгрди рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ <b>nullptr рдХреЗ</b> рдмрд┐рдирд╛ рдкреВрд░рд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред <br><br>  рдмреЗрд╕рдмреНрд░реА рдФрд░ рдЧреИрд░-рдкрд╛рдардХреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрдЬ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде GitHub рдХреЛ рд▓рд┐рдВрдХ рдХрд░реЗрдВ: <br><br><blockquote>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрдорд┐рдЯ рдФрд░ рд░рдЪрдирд╛рддреНрдордХ рдЖрд▓реЛрдЪрдирд╛ рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ</a></b> </blockquote><br>  рддреЛ, рдЪрд▓реЛ рдЬрд╛рд░реА рд░рдЦреЗрдВред <br><a name="habracut"></a><br><h4>  рд╕рд╛рдордЧреНрд░реА рдХреА рддрд╛рд▓рд┐рдХрд╛ </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░рд┐рдЪрдп</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдзреНрдпрд╛рдп 1. рд╡реАрдЖрдИрдПрдо рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХ рд╡рдбреЗрдВрд╕</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдзреНрдпрд╛рдп 2. #ifndef __CPP11_SUPPORT__ #define __COMPILER_SPECIFIC_BUILT_IN_AND_MACRO_HELL__ #endif</a> <br>  <b>рдЕрдзреНрдпрд╛рдп 3. рд╕рд╣реА nullptr рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдвреВрдБрдврдирд╛</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдзреНрдпрд╛рдп 4. рд╕реА ++ рдЯреЗрдореНрдкрд▓реЗрдЯ рдореИрдЬрд┐рдХ</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рек.рез рд╣рдо рдЫреЛрдЯреЗ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рек.реи рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд┐рддрдиреА рдЪрдорддреНрдХрд╛рд░реА рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХрд╛ рд╕рдВрдХрд▓рди рдХрд░рддрд╛ рд╣реИ</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рек.рей рдкреЙрдЗрдВрдЯрд░реНрд╕ рдФрд░ рдСрд▓-рдСрд▓-рдСрд▓</a> <br>  .... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">4.4 рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд▓рд┐рдП рдФрд░ рдХреНрдпрд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ</a> <br>  рдЕрдзреНрдпрд╛рдп 5 <br>  ... <br><br><h3>  рдЕрдзреНрдпрд╛рдп 3. рд╕рд╣реА nullptr рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдвреВрдБрдврдирд╛ </h3><br>  рдЧреИрд░-рдорд╛рдирдХ рд╕рдВрдХрд▓рдХ рдореИрдХреНрд░реЛрдЬрд╝ рдФрд░ "рдЕрджреНрднреБрдд" рдЦреЛрдЬреЛрдВ рдХреЗ рд╕рд╛рде рдкреВрд░реЗ рдорд╣рд╛рдХрд╛рд╡реНрдп рдХреЗ рдмрд╛рдж, рдЙрдиреНрд╣реЛрдВрдиреЗ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛, рдореИрдВ рдЕрдВрдд рдореЗрдВ <b>рдирд▓реНрдЯреНрд░рдкреНрд░</b> рдЬреЛрдбрд╝ рд╕рдХрддрд╛ <b>рд╣реВрдВ</b> рдФрд░ рдпрд╣ рдореЗрд░реА рдЖрддреНрдорд╛ рдХреЛ рдЧрд░реНрдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, рдЖрдк рдЗрди рд╕рднреА рддреБрд▓рдирд╛рдУрдВ рдХреЛ 0 рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ <b>NULL рд╕реЗ</b> рдЫреБрдЯрдХрд╛рд░рд╛ рджрд┐рд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/t_/jt/wb/t_jtwbjyvuah5tw2ehe-gvy0fxe.jpeg" alt="рдЫрд╡рд┐" width="300" height="200" align="left">  рдЕрдзрд┐рдХрд╛рдВрд╢ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ <b>nullptr</b> рдХреЛ рд▓рд╛рдЧреВ <b>рдХрд░рддреЗ рд╣реИрдВ</b> <br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr 0</span></span></code> </pre> <br>  рдФрд░ рдпрд╣ рдЗрд╕ рдЕрдзреНрдпрд╛рдп рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рдерд╛ред  рдпрджрд┐ рдЖрдк рдЕрдкрдиреЗ рдЖрдк рдХреЛ <b>рдЕрд╢рдХреНрдд</b> рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдмрд╕ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХреЗ рд╕рд╛рде 0 рдХреЛ рдмрджрд▓реЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдпрд╣ рд╕рдм рд╕рд╣реА рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЪреЗрдХ рд▓рд┐рдЦрдирд╛ рди рднреВрд▓реЗрдВ, рдЕрдиреНрдпрдерд╛ рдЕрдЪрд╛рдирдХ рдХрд┐рд╕реА рдФрд░ рдХреЛ рдЗрд╕ рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рд╕рд╛рде рдорд┐рд▓ рдЬрд╛рдПрдЧрд╛: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> nullptr #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"nullptr defined already"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  рдкреВрд░реНрд╡рдкреНрд░рдХреНрд░рдордХ рдирд┐рд░реНрджреЗрд╢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">#error</a> рд╕рдВрдХрд▓рди рдХрд░рддреЗ рд╕рдордп рдорд╛рдирд╡-рдкрдардиреАрдп рдкрд╛рда рдХреЗ рд╕рд╛рде <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> рддреНрд░реБрдЯрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрддреНрдкрдиреНрди</a> рдХрд░реЗрдЧрд╛, рдФрд░, рд╣рд╛рдБ, рдпрд╣ рдПрдХ рдорд╛рдирдХ рдирд┐рд░реНрджреЗрд╢ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рджреБрд░реНрд▓рдн рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди рдЗрд╕ рддрд░рд╣ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ, рд╣рдо рдорд╛рдирдХ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБрдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН <i>std :: nullptr_t</i> - рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░, рдЬрд┐рд╕рдХрд╛ рдПрдХ рдирд┐рд░рдВрддрд░ рдЙрджрд╛рд╣рд░рдг <b>nullptr рд╣реИ</b> ред  рдФрд░ рдХреНрд░реЛрдорд┐рдпрдо рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ рдПрдХ рдмрд╛рд░ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛ</a> рд╣рд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░рдиреЗ рдХреА</a> рднреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрд╢рд┐рд╢ рдХреА</a> (рдЕрдм рдПрдХ рдирдпрд╛ рд╕рдВрдХрд▓рдХ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп <b>рдирд▓реНрдЯреНрд░рдкреНрд░рдЯрд░ рд╣реИ</b> ) рдЗрд╕реЗ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреЙрдЗрдВрдЯрд░ рдореЗрдВ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐, рдорд╛рдирдХ рд░реВрдк рд╕реЗ, <b>рдирд▓реНрдЯреНрд░рдкреНрд░</b> рдХрд╛ рдЖрдХрд╛рд░ рдкреЙрдЗрдВрдЯрд░ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдФрд░ <b>рд╢реВрдиреНрдп *</b> рдореЗрдВ рдХреЛрдИ рдкреЙрдЗрдВрдЯрд░ рднреА рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдХреНрд▓рд╛рд╕ рдХреЗ рдПрдХ рд╕рджрд╕реНрдп рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛), рд╣рдо рдПрдХ рдЕрдкреНрд░рдпреБрдХреНрдд рдЕрд╢рдХреНрдд рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдЬреЛрдбрд╝рдХрд░ рдЗрд╕ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ "рдорд╛рдирдХреАрдХреГрдд" рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: nullptr_t_as_class_impl() { } nullptr_t_as_class_impl(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) { } <span class="hljs-comment"><span class="hljs-comment">// Make nullptr convertible to any pointer type. template&lt;typename T&gt; operator T*() const { return 0; } // Make nullptr convertible to any member pointer type. template&lt;typename C, typename T&gt; operator TC::*() { return 0; } bool operator==(nullptr_t_as_class_impl) const { return true; } bool operator!=(nullptr_t_as_class_impl) const { return false; } private: // Do not allow taking the address of nullptr. void operator&amp;(); void *_padding; }; typedef nullptr_t_as_class_impl nullptr_t; #define nullptr nullptr_t(0)</span></span></code> </pre><br>  рдХрд┐рд╕реА рднреА рдкреЙрдЗрдВрдЯрд░ рдореЗрдВ рдЗрд╕ рдХреНрд▓рд╛рд╕ рдХрд╛ рд░реВрдкрд╛рдВрддрд░рдг рдЯрд╛рдЗрдк рдСрдкрд░реЗрдЯрд░ рдХреЗ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдСрдкрд░реЗрдЯрд░ рдХреЗ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЕрдЧрд░ <b>nullptr рдХреЗ</b> рд╕рд╛рде рддреБрд▓рдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ рддреЛ рдЗрд╕реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣реА рд╣реИ, рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ <i>рдЪрд╛рд░ * my_pointer;</i>  <i>if (my_pointer == nullptr)</i> рдХреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <i>if (my_pointer == nullptr.operator char * ()) рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛</i> , рдЬреЛ рд╕реВрдЪрдХ рдХреА рддреБрд▓рдирд╛ 0. рдХрд░рддрд╛ рд╣реИред рджреВрд╕рд░реЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдСрдкрд░реЗрдЯрд░ рдХреЛ рдмрд┐рдВрджреБ рд╕реЗ рд╡рд░реНрдЧ рдХреЗ рд╕рджрд╕реНрдпреЛрдВ рддрдХ <b>рдмрд┐рдВрджреБ рдореЗрдВ</b> рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдФрд░ рдпрд╣рд╛рдВ рдмреЛрд░рд▓реИрдВрдб рд╕реА ++ рдмрд┐рд▓реНрдбрд░ 6.0 "рдЦреБрдж рдХреЛ рдкреНрд░рддрд┐рд╖реНрдард┐рдд", рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдпреЗ рджреЛрдиреЛрдВ рдСрдкрд░реЗрдЯрд░ рд╕рдорд╛рди рд╣реИрдВ рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд╕рджрд╕реНрдп рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рд╛рдзрд╛рд░рдг рдкреЙрдЗрдВрдЯрд░реНрд╕ рдХреА рддреБрд▓рдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рд░ рдмрд╛рд░ рдЕрдирд┐рд╢реНрдЪрд┐рддрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрдм рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ <b>рдирд▓реНрдЯрд░ рдХреА</b> рддреБрд▓рдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ рд╕реВрдЪрдХ (рдпрд╣ рдПрдХ рдмрдЧ рд╣реИ, рдФрд░ рд╢рд╛рдпрдж рдпрд╣ рдХреЗрд╡рд▓ рдЗрд╕ рд╕рдВрдХрд▓рдХ рдХреЗ рд╕рд╛рде рдирд╣реАрдВ рд╣реИ)ред  рд╣рдо рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_impl1</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: nullptr_t_as_class_impl1() { } nullptr_t_as_class_impl1(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) { } <span class="hljs-comment"><span class="hljs-comment">// Make nullptr convertible to any pointer type. template&lt;typename T&gt; operator T*() const { return 0; } bool operator==(nullptr_t_as_class_impl1) const { return true; } bool operator!=(nullptr_t_as_class_impl1) const { return false; } private: // Do not allow taking the address of nullptr. void operator&amp;(); void *_padding; }; typedef nullptr_t_as_class_impl1 nullptr_t; #define nullptr nullptr_t(0)</span></span></code> </pre><br>  рдЗрд╕ <b>nullptr</b> рджреГрд╢реНрдп рдХреЗ рдлрд╛рдпрджреЗ рдпрд╣ рд╣реИрдВ рдХрд┐ рдЕрдм <i>std :: nullptr_t рдХреЗ</i> рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рд╣реИред  рдиреБрдХрд╕рд╛рди?  <b>Nullptr</b> рд╕реНрдерд┐рд░рд╛рдВрдХ рд╕рдВрдХрд▓рди рдХреЗ рджреМрд░рд╛рди <b>рдЦреЛ</b> рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЯрд░реНрдирд░реА рдСрдкрд░реЗрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рд╕рдВрдХрд▓рдХ рдЗрд╕реЗ рд╣рд▓ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span>* case5 = argc &gt; <span class="hljs-number"><span class="hljs-number">2</span></span> ? (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span>*)<span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  ,     ':'    STATIC_ASSERT(nullptr == nullptr &amp;&amp; !(nullptr != nullptr), nullptr_should_be_equal_itself); //  , nullptr     </span></span></code> </pre><br>  рдФрд░ рдореИрдВ "рдФрд░ рдЪреЗрдХрд░реНрд╕ рдФрд░ рдЬрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред"  рдЗрд╕рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХреЗрд╡рд▓ рдПрдХ рдХреЗ рджрд┐рдорд╛рдЧ рдореЗрдВ рдЖрддрд╛ рд╣реИ: <b>рдПрдирдо</b> ред  C ++ рдореЗрдВ рдЧрдгрдирд╛ рдХреЗ рд╕рджрд╕реНрдпреЛрдВ рдХрд╛ рдЕрдкрдирд╛ рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рд╣реЛрдЧрд╛, рдФрд░ рдЙрдиреНрд╣реЗрдВ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЗ <b>int рдореЗрдВ</b> рднреА рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡реЗ рдкреВрд░реНрдгрд╛рдВрдХ рд╕реНрдерд┐рд░рд╛рдВрдХ рд╣реИрдВ)ред  рдПрдХ рдПрдиреНрдпреВрдорд░реЗрд╢рди рд╕рджрд╕реНрдп рдХреА рдпрд╣ рд╕рдВрдкрддреНрддрд┐ рд╣рдорд╛рд░реА рдорджрдж рдХрд░реЗрдЧреА, рдХреНрдпреЛрдВрдХрд┐ рдмрд╣реБрдд "рд╡рд┐рд╢реЗрд╖" 0 рдЬреЛ <b>рдкреЙрдЗрдВрдЯрд░реНрд╕ рдХреЗ</b> рд▓рд┐рдП <b>nullptr рдХреЗ</b> рдмрдЬрд╛рдп рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕рдмрд╕реЗ рдЖрдо <b>рдЗрдВрдЯ рд╣реИ</b> ред  рдореИрдВрдиреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ <b>nullptr</b> рдХрд╛ рдРрд╕рд╛ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рдпрди рдирд╣реАрдВ рджреЗрдЦрд╛ рд╣реИ, рдФрд░ рд╢рд╛рдпрдж рдпрд╣ рднреА рдХреБрдЫ рдмреБрд░рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рдРрд╕рд╛ рдХреЛрдИ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдерд╛ред  рдЖрдЗрдП рдПрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓рд┐рдЦреЗрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> NULL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STDEX_NULL NULL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STDEX_NULL 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> namespace ptrdiff_detail { using namespace std; } template</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;bool&gt; struct nullptr_t_as_ulong_type { typedef unsigned long type; }; template&lt;&gt; struct nullptr_t_as_ulong_type&lt;false&gt; { typedef unsigned long type; }; template&lt;bool&gt; struct nullptr_t_as_ushort_type { typedef unsigned short type; }; template&lt;&gt; struct nullptr_t_as_ushort_type&lt;false&gt; { typedef nullptr_t_as_long_type&lt;sizeof(unsigned long) == sizeof(void*)&gt;::type type; }; template&lt;bool&gt; struct nullptr_t_as_uint_type { typedef unsigned int type; }; template&lt;&gt; struct nullptr_t_as_uint_type&lt;false&gt; { typedef nullptr_t_as_short_type&lt;sizeof(unsigned short) == sizeof(void*)&gt;::type type; }; typedef nullptr_t_as_uint_type&lt;sizeof(unsigned int) == sizeof(void*)&gt;::type nullptr_t_as_uint; enum nullptr_t_as_enum { _nullptr_val = ptrdiff_detail::ptrdiff_t(STDEX_NULL), _max_nullptr = nullptr_t_as_uint(1) &lt;&lt; (CHAR_BIT * sizeof(void*) - 1) }; typedef nullptr_t_as_enum nullptr_t; #define nullptr nullptr_t(STDEX_NULL)</span></span></span></span></code> </pre><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдпрд╣рд╛рдБ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рд╕рджрд╕реНрдп <i>nullptr = 0 рдХреЗ</i> рд╕рд╛рде <b>enum</b> <i>nullptr_t рдХреА</i> рдШреЛрд╖рдгрд╛ рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдХреЛрдбред  рдкрд╣рд▓реЗ, <b>NULL</b> рдкрд░рд┐рднрд╛рд╖рд╛рдПрдБ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред  рдЗрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдорд╛рдирдХ рд╣реЗрдбрд░ рдХреА</a> рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдареЛрд╕ рд╕реВрдЪреА</a> рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдЬреИрд╕рд╛ рдХрд┐ рдЕрднреНрдпрд╛рд╕ рдиреЗ рджрд┐рдЦрд╛рдпрд╛ рд╣реИ, рдЗрд╕ рдореИрдХреНрд░реЛ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЦреЗрд▓рдирд╛ рдФрд░ рдЬрд╛рдВрдЪрдирд╛ рдмреЗрд╣рддрд░ рд╣реИред  рджреВрд╕рд░реЗ, рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди-рдкрд░рд┐рднрд╛рд╖рд┐рдд рдорд╛рдирдХ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕реА ++ рдореЗрдВ <b>рдПрдирдо</b> рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡, рдЕрд░реНрдерд╛рддреНред  рдПрдиреНрдпреВрдорд░реЗрд╢рди рдкреНрд░рдХрд╛рд░ рдХреЛ рдХрд┐рд╕реА рднреА рдкреВрд░реНрдгрд╛рдВрдХ рдкреНрд░рдХрд╛рд░реЛрдВ рд╕реЗ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдкреНрд░реЛрд╡рд┐рдЬрд╝реЛ рдХреЗ рд╕рд╛рде рдХрд┐ рдпреЗ рдкреНрд░рдХрд╛рд░ <b>рдЗрдВрдЯ</b> рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд╢рд░реНрддреЗ рдХрд┐ <b>рдПрдирдо</b> рдорд╛рди рдЗрд╕рдореЗрдВ <b>рдлрд┐рдЯ</b> рд╣реЛ)ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк <i>enum test {_1, _2} рдХреА</i> рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ <i>, рддреЛ</i> рдХрдВрдкрд╛рдЗрд▓рд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдЗрд╕реЗ <b>рд╕рдВрдХреНрд╖рд┐рдкреНрдд</b> рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ <b>,</b> рдФрд░ рдлрд┐рд░ рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ <b>рдЖрдХрд╛рд░ (</b> <i>рдкрд░реАрдХреНрд╖рдг</i> <b>)</b> <i>! =</i> <b>Sizeof (рд╢реВрдиреНрдп)</b> ред  рдорд╛рдирдХ рдХрд╛ <b>рдкрд╛рд▓рди</b> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <b>рдирд▓реНрдЯреНрд░рдкреНрд░</b> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЗ рдЖрдХрд╛рд░ рдХрд╛ рдкреНрд░рдХрд╛рд░ <i>nullptr_t_as_enum</i> рдкреЙрдЗрдВрдЯрд░ рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд  рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдмрд░рд╛рдмрд░ <b>рдЖрдХрд╛рд░ рдХрд╛ (рд╢реВрдиреНрдп *)</b> ред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <i>nullptr_t_as ...</i> рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдкреВрд░реНрдгрд╛рдВрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдЬреЛ рдкреЙрдЗрдВрдЯрд░ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдЧрд╛, рдФрд░ рдлрд┐рд░ рд╣рдорд╛рд░реЗ рдПрдиреНрдпреВрдорд░реЗрд╢рди рдореЗрдВ рддрддреНрд╡ рдХрд╛ рдЕрдзрд┐рдХрддрдо рдорд╛рди рдЗрд╕ рдкреВрд░реНрдгрд╛рдВрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдзрд┐рдХрддрдо рдорд╛рди рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВред <br><blockquote>  рдореИрдВ рдорд╛рдирдХ <b>рдЬрд▓рд╡рд╛рдпреБ</b> рд╢реАрд░реНрд╖рдХ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдореИрдХреНрд░реЛ <b>CHAR_BIT рдкрд░</b> рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдпрд╣ рдореИрдХреНрд░реЛ рдПрдХ рдмрд╛рд░ рдореЗрдВ рдмрд┐рдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд  рд╡рд░реНрддрдорд╛рди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░ рдмрд╛рдЗрдЯ рдкреНрд░рддрд┐ рдмрд┐рдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ред  рдПрдХ рдЙрдкрдпреЛрдЧреА <u>рдорд╛рдирдХ</u> рдкрд░рд┐рднрд╛рд╖рд╛ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рд╣рд░ рдЬрдЧрд╣ рдкрд░ рдЪрд┐рдкрдХ рдХрд░ рдЕрд╡рд╛рдВрдЫрдиреАрдп рд░реВрдк рд╕реЗ рдмрд╛рдИрдкрд╛рд╕ рдХрд░рддреА рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдмрд╛рдЗрдЯ</a> рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреБрдЫ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ 8 рдмрд┐рдЯреНрд╕ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдирд╣реАрдВ рд╣реИрдВ</a> ред </blockquote><br>  рдФрд░ рдПрдХ рдЕрдиреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛ <b>рдПрдирдПрд▓рдПрдо</b> рдХрд╛ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ <b>рдПрдирдо</b> рддрддреНрд╡ рдХреЗ рдореВрд▓реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рд╣реИред  рдХреБрдЫ рд╕рдВрдХрд▓рдХ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рджреЗрддреЗ рд╣реИрдВ (рдФрд░ рдЙрдирдХреА рдЪрд┐рдВрддрд╛ рдХреЛ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ) рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд┐ <b>NULL рдХреЛ</b> "рдЧреИрд░-рдЕрдиреБрдХреНрд░рдордгрдХ" <b>рдХреЛ</b> рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рд╣реИред  рд╣рдо рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп <i>ptrdiff_detail</i> рдХреЛ рдорд╛рдирдХ <b>рдирд╛рдо рд╕реНрдерд╛рди</b> <i>рд▓реЗрддреЗ рд╣реИрдВ</i> , рдЗрд╕рд▓рд┐рдП рд╢реЗрд╖ рдирд╛рдорд╕реНрдерд╛рди рдХреЛ рдЕрд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ, рдФрд░ рдлрд┐рд░ рд╕рдВрдХрд▓рдХ рдХреЛ рд╢рд╛рдВрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ <b>NULL</b> рдХреЛ <i>std рдореЗрдВ</i> рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддреЗ рд╣реИрдВ <i>:: ptrdiff -t</i> - C ++ рдореЗрдВ рдПрдХ рдФрд░ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ <i>рдЕрдкреНрд░рдпреБрдХреНрдд</i> рдкреНрд░рдХрд╛рд░, рдЬреЛ рдЕрдВрдХрдЧрдгрд┐рддреАрдп рд╕рдВрдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред (рдШрдЯрд╛рд╡) рд╕рдВрдХреЗрдд рдХреЗ рд╕рд╛рде рдФрд░ рдЖрдорддреМрд░ рдкрд░ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рдЙрдкрдирд╛рдо рд╣реИ <i>std :: size_t</i> ( <i>std :: intptr_t</i> C ++ 11 рдореЗрдВ)ред <br><br><h4>  SFINAE </h4><br>  рдпрд╣рд╛рдБ, рдореЗрд░реА рдХрд╣рд╛рдиреА рдореЗрдВ рдкрд╣рд▓реА рдмрд╛рд░, рд╣рдореЗрдВ C ++ рдореЗрдВ рдРрд╕реА рдШрдЯрдирд╛ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝ рд░рд╣рд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╡рд┐рдлрд▓рддрд╛ рдПрдХ рддреНрд░реБрдЯрд┐ рдирд╣реАрдВ рд╣реИ (SFINA)</a> ред  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдЗрд╕рдХрд╛ рд╕рд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рд╕рдВрдХрд▓рдХ тАЬрдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдлрд╝рдВрдХреНрд╢рди рдУрд╡рд░рд▓реЛрдбтАЭ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рд╕рднреА рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдФрд░ рдкрд╣рд▓реА рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдмрд╛рдж рдпрд╛ рдкрд╣рд▓реЗ рдЙрдкрдпреБрдХреНрдд рдЕрдзрд┐рднрд╛рд░ рдХреЗ рдмрд╛рдж рд░реБрдХрдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рд┐рдПред  рдпрд╣рд╛рдВ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ</a> рдмрд╛рд░реЗ рдореЗрдВ рдЙрдирдХрд╛ рд╕рдВрджреЗрд╢ рдЖрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> , рдЬрдм рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рджреЛ рдЕрдзрд┐рднрд╛рд░ рд╣реИрдВ рдЬреЛ рд╕рдВрдХрд▓рдХ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╕рдорд╛рди рд╣реИрдВ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдХрдВрдкрд╛рдЗрд▓рд░ рдХреА рдХреНрд╖рдорддрд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд╕рдЯреАрдХ рдЙрдкрдпреБрдХреНрдд рдлрд╝рдВрдХреНрд╢рди рдЕрдзрд┐рднрд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред  рдХрдВрдкрд╛рдЗрд▓рд░ рдХреА рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдЖрдкрдХреЛ рд╕рднреА рдЯреЗрдореНрдкрд▓реЗрдЯ "рдореИрдЬрд┐рдХ" рдХреЗ рд╢реЗрд░ рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ (рд╡реИрд╕реЗ hi <i>std :: enable_if</i> ), рдФрд░ рдпрд╣ рдмреВрд╕реНрдЯ рдФрд░ рдореЗрд░реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рджреЛрдиреЛрдВ рдХрд╛ рдЖрдзрд╛рд░ рднреА рд╣реИред <br><br>  рдЪреВрдВрдХрд┐, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрдИ <b>nullptr</b> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИрдВ <b>,</b> рд╣рдо рд╕рдВрдХрд▓рди рдЪрд░рдг рдореЗрдВ SFINAE рдХрд╛ рдЪрдпрди "рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда" рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдиреАрдЪреЗ рдШреЛрд╖рд┐рдд рдЬрд╛рдВрдЪ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ <b>рдЖрдХрд╛рд░</b> рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рдБрдЪ рдХреЗ рд▓рд┐рдП "рд╣рд╛рдБ" рдФрд░ "рдирд╣реАрдВ" рдкреНрд░рдХрд╛рд░ рдШреЛрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> nullptr_detail { <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _yes_type; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no_type</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> padding[<span class="hljs-number"><span class="hljs-number">8</span></span>]; }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dummy_class</span></span></span><span class="hljs-class"> {</span></span>}; _yes_type _is_convertable_to_void_ptr_tester(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>*); _no_type _is_convertable_to_void_ptr_tester(...); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nullptr_detail::dummy_class::*dummy_class_f)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nullptr_detail::dummy_class::*dummy_class_f_const)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp;)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; _yes_type _is_convertable_to_member_function_ptr_tester(dummy_class_f); _no_type _is_convertable_to_member_function_ptr_tester(...); _yes_type _is_convertable_to_const_member_function_ptr_tester(dummy_class_f_const); _no_type _is_convertable_to_const_member_function_ptr_tester(...); <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tp</span></span></span><span class="hljs-class">&gt; _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yes_type</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_tester</span></span></span><span class="hljs-class">(_</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tp</span></span></span><span class="hljs-class">*);</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">&gt; _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no_type</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_tester</span></span></span><span class="hljs-class">(...);</span></span> }</code> </pre><br><blockquote>  рдпрд╣рд╛рдВ рд╣рдо рдЙрд╕реА рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреВрд╕рд░реЗ рдЕрдзреНрдпрд╛рдп рдХреЗ</a> рд░реВрдк рдореЗрдВ рдХрд░реЗрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ <b>рдХрд╛рдЙрдВрдЯрд░рдЯреЙрдк</b> рдФрд░ рдЗрд╕рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ <b>рдЖрдХрд╛рд░ рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рд░рд┐рдЯрд░реНрди <b>рдСрдл</b> рд╡реИрд▓реНрдпреВ (рддрддреНрд╡реЛрдВ рдХрд╛ <i>рд╕рд╛рд░</i> ) рдЯреЗрдореНрдкрд▓реЗрдЯ рдлрд╝рдВрдХреНрд╢рди <i>COUNTOF_REQUIRES_ARRAY_ARGUMENT рд╣реИ</i> ред </blockquote><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_void_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_void_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); };</code> </pre><br>  рдпрд╣рд╛рдБ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ?  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдХрдВрдкрд╛рдЗрд▓рд░ рдЯрд╛рдЗрдк <i>рдЯреА рдХреЗ</i> рддрд░реНрдХ рдХреЗ рд╕рд╛рде <i>_is_convertable_to_void_ptr_tester</i> рдХреЗ рдУрд╡рд░рд▓реЛрдб рдХреЛ " <i>iterates</i> " рдХрд░рддрд╛ рд╣реИ рдФрд░ <b>NULL</b> рдХрд╛ рдорд╛рди (рдПрдХ рднреВрдорд┐рдХрд╛ рдирд╣реАрдВ рдирд┐рднрд╛рддрд╛ рд╣реИ, рдмрд╕ <i>рдлреБрд▓ рдЯрд╛рдЗрдк-</i> <i>T</i> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)ред  рдХреЗрд╡рд▓ рджреЛ рдЕрдзрд┐рднрд╛рд░ рд╣реИрдВ - <b>рд╢реВрдиреНрдп *</b> рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЪрд░ рддрд░реНрдХ рд╕реВрдЪреА (...) рдХреЗ рд╕рд╛рде</a> ред  рдЗрди рдУрд╡рд░рд▓реЛрдб рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рдПрдХ рддрд░реНрдХ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реБрдП, рдХрдВрдкрд╛рдЗрд▓рд░ рдкрд╣рд▓реЗ рдХрд╛ рдЪрдпрди рдХрд░реЗрдЧрд╛ рдпрджрд┐ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкреЙрдЗрдВрдЯрд░ рдХреЗ рд▓рд┐рдП <b>рд╢реВрдиреНрдп рдкрд░ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ</b> , рдФрд░ рджреВрд╕рд░рд╛ рдпрджрд┐ рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдХрдВрдкрд╛рдЗрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдЪрдпрдирд┐рдд рдЕрдзрд┐рднрд╛рд░ рдХреЗ рд╕рд╛рде, рд╣рдо рдлрд╝рдВрдХреНрд╢рди рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдП рдЧрдП рдореВрд▓реНрдп рдХреЗ рдЖрдХрд╛рд░ <b>рдХреЛ</b> рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдХрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЪреВрдВрдХрд┐ рд╡реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрддреЗ рд╣реИрдВ ( <b>sizeof</b> <b>)</b> <b>(</b> <i>_no_type</i> <b>)</b> <i>== 8</i> , <b>sizeof (</b> <i>_yes_type</i> <i>= = 1</i> ), рд╣рдо рдЙрд╕ рдЕрдзрд┐рднрд╛рд░ рдХрд╛ рдЖрдХрд╛рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╕рдВрдХрд▓рдХ рдиреЗ рдЙрдард╛рдпрд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛрддрд╛ рд╣реИред рд╣рдорд╛рд░рд╛ рдкреНрд░рдХрд╛рд░ <b>рд╢реВрдиреНрдп</b> рдореЗрдВ <b>рд╣реИ</b> рдпрд╛ рдирд╣реАрдВред <br><br>  рд╣рдо рдЙрд╕реА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВрдЧреЗ рддрд╛рдХрд┐ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдХрд┐ <i>nullptr_t</i> рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реА рдкрд╕рдВрдж рдХреЗ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдХреЛрдИ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд┐рд╕реА рдкреЙрдЗрдВрдЯрд░ рдореЗрдВ <i>рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛</i> рдЧрдпрд╛ рд╣реИ (рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ <i>(T) (</i> <b>STDEX_NULL</b> <i>)</i> <b>nullptr рдХреЗ</b> рд▓рд┐рдП рднрд╡рд┐рд╖реНрдп рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рд╣реИ)ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_member_function_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_member_function_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)) &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_const_member_function_ptr_tester((T) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NullPtrType</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_any_ptr_impl_helper</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_is_convertable_to_ptr_tester&lt;T&gt;((NullPtrType) (STDEX_NULL))) == <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(nullptr_detail::_yes_type)); }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_any_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;::value &amp;&amp; _is_convertable_to_any_ptr_impl_helper&lt;T, nullptr_detail::dummy_class&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_convertable_to_ptr_impl</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = ( _is_convertable_to_void_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; _is_convertable_to_any_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; _is_convertable_to_member_function_ptr_impl&lt;T&gt;::value == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) ); };</code> </pre><br>  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдпрд╣ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╕рднреА рдмреЛрдзрдЧрдореНрдп рдФрд░ рдЕрдирд┐рд░реНрд╡рдЪрдиреАрдп рдмрд┐рдВрджреБрдУрдВ рдФрд░ рдЙрдирдХреЗ рд╕рдВрдпреЛрдЬрдиреЛрдВ рдХреЛ <b>рдЕрд╕реНрдерд┐рд░</b> рдФрд░ <b>рдХрд╛рдВрд╕реНрдЯреАрдлрд╛рдпрд░реНрд╕ рдХреЗ</b> рд╕рд╛рде рдЬреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдП, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЦреБрдж рдХреЛ рдХреЗрд╡рд▓ рдЗрди 9 рдЪреЗрдХреЛрдВ (рдХрдХреНрд╖рд╛ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдкрд░ рджреЛ, рдкреЙрдЗрдВрдЯрд░ рдкрд░ рдПрдХ <b>рд╢реВрдиреНрдп рдкрд░</b> , рд╕рд╛рдд рд╕реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реВрдЪрдХ рдкрд░) рддрдХ рд╕реАрдорд┐рдд рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдЬреЛ рдХрд╛рдлреА рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред <br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреБрдЫ (* khe-khe * ... Borland Builder 6.0 ... * khe *) рдХрдВрдкрд╛рдЗрд▓рд░ рдПрдХ рдкреНрд░рдХрд╛рд░ рдФрд░ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рдмреАрдЪ рд╕рдВрдХреЗрдд рдореЗрдВ рдЕрдВрддрд░ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рд╕рд╣рд╛рдпрдХ рдЪреЗрдХ рд▓рд┐рдЦреЗрдВрдЧреЗ рддрд╛рдХрд┐ рд╣рдо рдХрдХреНрд╖рд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <i>nullptr_t</i> рдХреЗ рд╡рд╛рдВрдЫрд┐рдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЪрдпрди рдХрд░ <i>рд╕рдХреЗрдВред</i> рдЕрдЧрд░ рдЬрд░реВрд░рдд рд╣реЛ <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">member_ptr_is_same_as_ptr</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">test</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">typedef</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(test::*member_ptr_type)</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> value = _is_convertable_to_void_ptr_impl&lt;member_ptr_type&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_chooser</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_class_impl type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_t_as_class_chooser</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_class_impl1 type; };</code> </pre><br>  рдФрд░ рдлрд┐рд░ рдпрд╣ рдХреЗрд╡рд▓ <i>nullptr_t</i> рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдиреЛрдВ рдХреА <i>рдЬрд╛рдВрдЪ рдХрд░рдиреЗ</i> рдФрд░ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╕рдВрдХрд▓рдХ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">Nullptr_t рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЪреБрдирдирд╛</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_int</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_int type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_enum</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_enum type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_class</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> _nullptr_t_as_class_chooser&lt;_member_ptr_is_same_as_ptr::value&gt;::type type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_int</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_void type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_enum</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as_int</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_int nullptr_t_as_int; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _is_convertable_to_ptr = _is_convertable_to_ptr_impl&lt;nullptr_t_as_int&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_int&gt;::value; }; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> _nullptr_choose_as_int&lt;as_int::_is_convertable_to_ptr == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>) &amp;&amp; as_int::_equal_void_ptr == <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)&gt;::type type; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nullptr_choose_as_class</span></span></span><span class="hljs-class">&lt;false&gt; {</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as_enum</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> nullptr_detail::nullptr_t_as_enum nullptr_t_as_enum; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _is_convertable_to_ptr = _is_convertable_to_ptr_impl&lt;nullptr_t_as_enum&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_enum&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _can_be_ct_constant = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;<span class="hljs-comment"><span class="hljs-comment">//_nullptr_can_be_ct_constant_impl&lt;nullptr_t_as_enum&gt;::value; }; typedef _nullptr_choose_as_enum&lt;as_enum::_is_convertable_to_ptr == bool(true) &amp;&amp; as_enum::_equal_void_ptr == bool(true) &amp;&amp; as_enum::_can_be_ct_constant == bool(true)&gt;::type type; }; struct _nullptr_chooser { struct as_class { typedef _nullptr_t_as_class_chooser&lt;_member_ptr_is_same_as_ptr::value&gt;::type nullptr_t_as_class; static const bool _equal_void_ptr = _is_equal_size_to_void_ptr&lt;nullptr_t_as_class&gt;::value; static const bool _can_be_ct_constant = _nullptr_can_be_ct_constant_impl&lt;nullptr_t_as_class&gt;::value; }; typedef _nullptr_choose_as_class&lt;as_class::_equal_void_ptr == bool(true) &amp;&amp; as_class::_can_be_ct_constant == bool(true)&gt;::type type; };</span></span></code> </pre><br></div></div><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдПрдХ рд╡рд░реНрдЧ рдХреЗ рд░реВрдк рдореЗрдВ <i>nullptr_t</i> рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЬрдм рд╕реЗ рдореБрдЭреЗ рдПрдХ <i>рд╕реНрд╡рддрдВрддреНрд░</i> рд╕рдорд╛рдзрд╛рди рдХрд╛ рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдВрдХрд▓рдХ рдирд╣реАрдВ рдорд┐рд▓рд╛, рдореБрдЭреЗ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреА рд╡рд╕реНрддреБ рдирд╣реАрдВ рдорд┐рд▓реА рдЬреЛ рд╕рдВрдХрд▓рди рд╕рдордп рдХрд╛ рдПрдХ рдирд┐рд░рдВрддрд░рддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ (рд╡реИрд╕реЗ, рдореИрдВ рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рд╕реБрдЭрд╛рд╡ рдХреЗ рд▓рд┐рдП рдЦреБрд▓рд╛ рд╣реВрдВ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рдВрднрд╡ рд╣реИ), рдпрд╣ рд╡рд┐рдХрд▓реНрдк рд╣рдореЗрд╢рд╛ <i>рдЬрд╛рдВрдЪрд╛</i> рдЬрд╛рддрд╛ <i>рд╣реИ</i> ( <i>_can_be_ct_constant</i> рд╣рдореЗрд╢рд╛ <b>рдЧрд▓рдд рд╣реЛрддрд╛ рд╣реИ</b> )ред  рдЕрдЧрд▓рд╛, рд╣рдо <b>рдПрдирдо рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рджреГрд╢реНрдп рдХреЗ рд╕рд╛рде рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рдпрд╣ рдЕрднреА рднреА рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛ (рдХрдВрдкрд╛рдЗрд▓рд░ <b>рдПрдирдо рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рд╕реВрдЪрдХ рдкреЗрд╢ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдЖрдХрд╛рд░ рдХрд┐рд╕реА рддрд░рд╣ рдЧрд▓рдд рд╣реИ), рддреЛ рд╣рдо рдЗрд╕реЗ рдкреВрд░реНрдгрд╛рдВрдХ рдкреНрд░рдХрд╛рд░ (рдЬрд┐рд╕рдХрд╛ рдЖрдХрд╛рд░ рд╕реВрдЪрдХ рдХреЗ <b>рд╢реВрдиреНрдп рдХреЗ</b> рдмрд░рд╛рдмрд░ рд╣реЛрдЧрд╛) рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рдЦреИрд░, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдпрд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╣рдо <b>рд╢реВрдиреНрдп * рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ <i>nullptr_t</i> рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, C ++ рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдореЗрдВ SFINAE рдХреА рдЕрдзрд┐рдХрд╛рдВрд╢ рд╢рдХреНрддрд┐ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рд╕рдВрдХрд▓рдХ-рдирд┐рд░реНрднрд░ рдореИрдХреНрд░реЛрдЬрд╝ рдХрд╛ рд╕рд╣рд╛рд░рд╛ рд▓рд┐рдП рдмрд┐рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдореИрдХреНрд░реЛрдЬрд╝ рдХреЗ рд▓рд┐рдП (рдмрдврд╝рд╛рд╡рд╛ рдХреЗ рд╡рд┐рдкрд░реАрдд рдЬрд╣рд╛рдВ рдпрд╣ рд╕рдм <b>#ifdef #else # рдЪреЗрдХ рдХреЗ</b> рд╕рд╛рде <b>crammed</b> рд╣реЛрдЧрд╛ред <b>рдПрдВрдбрд┐рдл</b> )ред <br><br>  рдпрд╣ рдХреЗрд╡рд▓ <b>рдирд╛рдорд╕реНрдерд╛рди</b> <i>stdex</i> рдореЗрдВ <i>nullptr_t рдХреЗ</i> рд▓рд┐рдП рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЙрдкрдирд╛рдо рдФрд░ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ <b>рд░рд╣рддрд╛ рд╣реИ</b> ( <b>nullptr рдХреЗ</b> рд▓рд┐рдП рдПрдХ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ (рддрд╛рдХрд┐ рдПрдХ рдЕрдиреНрдп рдорд╛рдирдХ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рдЬрд╛ <b>рд╕рдХреЗ</b> рдХрд┐ <b>nullptr</b> рдкрддрд╛ рдирд╣реАрдВ рд▓рд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде <b>nullptr</b> рдХреЛ рдПрдХ рд╕рдВрдХрд▓рди рд╕рдордп рд╕реНрдерд┐рд░ рдХреЗ рд░реВрдк рдореЗрдВ)ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> stdex { <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> detail::_nullptr_chooser::type <span class="hljs-keyword"><span class="hljs-keyword">nullptr_t</span></span>; } <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> nullptr (stdex::nullptr_t)(STDEX_NULL)</span></span></code> </pre><br>  рддреАрд╕рд░реЗ рдЕрдзреНрдпрд╛рдп рдХрд╛ рдЕрдВрддред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЪреМрдереЗ рдЕрдзреНрдпрд╛рдп рдореЗрдВ,</a> рдореИрдВ рдЖрдЦрд┐рд░рдХрд╛рд░ рдЯрд╛рдЗрдк_рдЯрд╛рдЗрдЯреНрд╕ рдкрд░ рдкрд╣реБрдВрдЪ рдЧрдпрд╛ рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХреЗ рджреМрд░рд╛рди рд╕рдВрдХрд▓рдХреЛрдВ рдореЗрдВ рдХреМрди рд╕реЗ рдХреАрдбрд╝реЗ рдЖрдПред <br><br>  рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рджред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi417295/">https://habr.com/ru/post/hi417295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi417283/index.html">рдбрд┐рдЬрд╝рдиреА рдиреЗ рдЕрдкрдирд╛ рд╣реЗрдпрд░рдХрдВрдЯреНрд░реЛрд▓ рд╣реЗрдпрд░ рдПрдирд┐рдореЗрд╢рди рд╕рд┐рд╕реНрдЯрдо рдкреЗрд╢ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi417285/index.html">IPv6 рдореЗрдВ рдХреЛрдЯреЗрд╢рди рдорд╛рд░реНрдХ рдХрд╣рд╛рдВ рд▓рдЧрд╛рдПрдВ</a></li>
<li><a href="../hi417287/index.html">рдЬреБрд▓рд╛рдИ рдХреЗ рд▓рд┐рдП "рдкрд░реАрдХреНрд╖рдХ рдХреИрд▓реЗрдВрдбрд░"ред рд╡рд┐рд╢реНрд▓реЗрд╖рд┐рдХреА рдкрд░реАрдХреНрд╖рдг</a></li>
<li><a href="../hi417289/index.html">рдкреНрд░рд╢рд┐рдХреНрд╖реБ рдбрд╛рдпрд░реА: рджрд┐рди 1. рдкреНрд░рд╢рд┐рдХреНрд╖реБ рд╕реЗ рдЬреВрдирд┐рдпрд░</a></li>
<li><a href="../hi417293/index.html">рдХреНрд▓рд╛рдЙрдб рдореЗрдВ рдкрд╛рд╕рд╡рд░реНрдб рд░рд┐рдХрд╡рд░реА рдФрд░ рдкреНрд░рд╛рдердорд┐рдХ рднрдВрдбрд╛рд░рдг, рдпрд╛ рдЬреЛрдореНрдмреНрд░рд╛ рдореЗрдВ рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ 8.8.9</a></li>
<li><a href="../hi417297/index.html">рдбрд░ рдФрд░ Loathing рдЦрддрд░рд╛ рдЦреБрдлрд┐рдпрд╛ рдпрд╛ 8 рддрд┐рд╡рд╛рд░реА рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕реБрдЭрд╛рд╡</a></li>
<li><a href="../hi417299/index.html">рдСрдирд▓рд╛рдЗрди, рдСрдлрд▓рд╛рдЗрди рдФрд░ рдкреА 2 рдкреА: рд░реВрд╕ рдореЗрдВ рдмрд┐рдЯрдХреЙрдЗрди рдХреИрд╕реЗ рдЦрд░реАрджреЗрдВ</a></li>
<li><a href="../hi417301/index.html">рд╕реНрдореВрдж рд░рд┐рд▓реАрдЬрд╝ рд░реЗрд╕рд┐рдкреА: PMy рдиреЛрдЯ</a></li>
<li><a href="../hi417303/index.html">Windows Android рд╣реЗрдбрд╕реЗрдЯ рдмрдЯрди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИрдХ</a></li>
<li><a href="../hi417305/index.html">рдЕрд▓реНрдЯрд┐рдорд╛ рдСрдирд▓рд╛рдЗрди: рдмреИрдХрд╕реНрдЯреЗрдЬ рд▓реБрдХ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>