<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐐 👨🏿‍🤝‍👨🏽 🐙 Screenshot in Chrome - Vorbereitungen für getDisplayMedia 🛰️ 🐻 🍲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Chrome Web Store hat beschlossen, die Inline-Installation von Erweiterungen für Chrome zu verbieten. Dies steht in direktem Zusammenhang mit WebRT...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Screenshot in Chrome - Vorbereitungen für getDisplayMedia</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/415201/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/li/a0/cflia08iiqb4uw0psbbt0dpdisg.gif"></div><br>  Der Chrome Web Store hat beschlossen, die Inline-Installation von Erweiterungen für Chrome zu verbieten.  Dies steht in direktem Zusammenhang mit WebRTC-Anwendungen, da Sie jetzt eine Erweiterung für Screenshots in Chrome benötigen.  Wird <b>getDisplayMedia API</b> zur Rettung kommen? <br><a name="habracut"></a><br><h3>  Screenshot in Chrome </h3><br>  Als diese Funktion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in Chrome 33 angezeigt wurde</a> , war eine Erweiterung erforderlich, um Sicherheitsprobleme zu lösen.  Diese Methode ist besser als die vorherige, als Screenshots unter einer Flagge ausgeblendet wurden. Aufgrund dieser Websites wurden Benutzer aufgefordert, diese Flagge zu aktivieren. Dies führte zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Meldungen</a> zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">öffentlichen Sicherheit</a> . <br><br>  Chrome hat sich seit 2013 nicht viel verändert.  Die Erweiterungsanforderungen haben den Freigabeprozess erschwert, aber dank der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inline-Installation</a> , die die Lebensdauer vereinfacht hat: <br><br><ul><li>  Benutzer klickt auf eine Schaltfläche, um einen Screenshot zu starten; </li><li>  Die Webanwendung stellt fest, dass Chrome verwendet wird und die gewünschte Erweiterung nicht installiert ist. </li><li>  Die Webanwendung startet die Inline-Installation und löst den Rückruf erfolgreich auf. </li><li>  In Chrome wird ein Fenster Ihrer Wahl angezeigt, in dem genau das angezeigt wird, was der Benutzer freigeben möchte. </li></ul><br>  Details zur Implementierung finden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie hier</a> . <br><br>  Das Auswahlfeld ist hier ein Schlüsselelement.  Ist es sicher, es ohne ein Web Store-Netzwerk zu verwenden? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/zb/0x/nzzb0xkttsmaiqofapnsajxhow8.png"></div><br>  In diesem Fall ist das Teilen eines Tabs besonders rätselhaft, da es gegen das Sandbox-Prinzip für "Cross-Origin" -Skripte verstößt. <br><br><h3>  Firefox Screenshot </h3><br>  Firefox verfolgt einen anderen Ansatz - eine weiße Liste von Websites, die die API verwenden dürfen.  Um auf diese Liste zu gelangen, muss die Site eine Anfrage an Mozilla senden und nachweisen, dass sie die Nutzungsbedingungen und die Datenschutzbestimmungen enthält.  Sie können die Whitelist mithilfe der Erweiterung ändern.  Die Notwendigkeit einer solchen Liste verschwand mit der Veröffentlichung von Firefox 52, als jede bestätigte Quelle Screenshots verwenden durfte.  Die neue <b>getDisplayMedia-API</b> wird hier noch nicht verwendet, worüber wir bald sprechen werden, aber die Implementierung ist fast dieselbe: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/a8edc8bc9f9ef412bb18cf50a8573168.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90377994" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-screensharing-ff-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-screensharing-ff-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-screensharing-ff-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-c1">mediaDevices</span><span class="pl-kos">.</span><span class="pl-en">getUserMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">video</span>: <span class="pl-kos">{</span><span class="pl-c1">mediaSource</span>: <span class="pl-s">'screen'</span><span class="pl-kos">}</span><span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-screensharing-ff-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-screensharing-ff-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    ,     </span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-screensharing-ff-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">videoElement</span><span class="pl-kos">.</span><span class="pl-c1">srcObject</span> <span class="pl-c1">=</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-screensharing-ff-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-s1">error</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-screensharing-ff-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">"    "</span><span class="pl-kos">,</span> <span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-screensharing-ff-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-screensharing-ff-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">screensharing-ff.js</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Infolgedessen wird die Implementierung geändert <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, um die Spezifikation zu erfüllen</a> . <br><br><h3>  getDisplayMedia API </h3><br>  Das W3C-Konsortium arbeitet an der Standardisierung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Screen-Capture-</a> API.  Es ist relativ einfach und basiert auf Versprechungen wie <b>getUserMedia</b> : <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/02966f2508ecbfe5c4965057ab14c10f.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378054" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-example1-spec-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-example1-spec-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-example1-spec-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c">//    1  Screen Capture API </span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-example1-spec-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-en">getDisplayMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span> <span class="pl-c1">video</span>: <span class="pl-c1">true</span> <span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-example1-spec-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-example1-spec-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    ,     </span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-example1-spec-js-LC5" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">videoElement</span><span class="pl-kos">.</span><span class="pl-c1">srcObject</span> <span class="pl-c1">=</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-example1-spec-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">,</span> <span class="pl-s1">error</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-example1-spec-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">console</span><span class="pl-kos">.</span><span class="pl-en">log</span><span class="pl-kos">(</span><span class="pl-s">"    "</span><span class="pl-kos">,</span> <span class="pl-s1">error</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-example1-spec-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-example1-spec-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">example1-spec.js</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Microsoft EDGE hat dieses Jahr bereits Screenshots veröffentlicht.  Das Nutzungsszenario ist sehr gut durchdacht, mit einem gelben Rahmen um den Bereich, den der Benutzer teilt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5q/eh/ti/5qehtirocb81wyu-bvojjpvilng.png"></div><br>  <font color="lightgray">Fenster Screenshot in Edge.</font>  <font color="lightgray">Achten Sie auf den gelben Rahmen, der hervorhebt, was genau geteilt wird.</font> <br><br><h3>  Die Zeiten ändern sich und Chrome-Erweiterungen mit ihnen </h3><br>  Apropos Benutzererfahrung: Die anscheinend.in-Erweiterung funktioniert wie oben beschrieben und verfügt über mehr als eine Million Installationen.  Die überwiegende Mehrheit der Benutzer hat eine Inline-Installation durchlaufen, und es gibt so viele, dass Screenshots der Erweiterung im Chrome Web Store seit ... wahrscheinlich 2014 nicht mehr aktualisiert wurden. <br><br>  Wie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chrome Web Store-Blog heißt</a> , wird jetzt eine Inline-Installation abgeschnitten.  Es war eine große Überraschung, ich habe es zuerst dank des alten Chrome-Problems erfahren - um Screenshots zugänglicher zu machen (danke an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wilhelm Wanecek</a> für den Tipp). <br><br>  Wenn ich das richtig verstehe, wird der Chrome Web Store in einem separaten Tab geöffnet.  Seitens der Webanwendung wird es schwieriger zu bestimmen, wann der Benutzer die Erweiterung installiert hat. Es wird erforderlich sein, Umfragen oder eine Zeitüberschreitung zu verwenden.  Die folgenden Begriffe sind in der Post angegeben: <br><br><ul><li>  Eine Inline-Installation ist ab dem 12. Juni für neue Erweiterungen nicht mehr verfügbar.  Ohne vorherige Ankündigung; </li><li>  Für bereits veröffentlichte Erweiterungen ist die Inline-Installation bis zum 12. September verfügbar.  Vorankündigung - drei Monate im Voraus. </li></ul><br><h3>  Ansprüche </h3><br>  Hier gibt es definitiv Probleme.  Und ich spreche nicht einmal von Google Hangouts / Meet, wodurch die UX-Schwierigkeiten, mit denen sich alle anderen mit der integrierten Erweiterung befassen müssen, vollständig vermieden werden.  Die Jungs von Chrome drehen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereits ihre Hände</a> . <br><br>  Ich möchte im Voraus einige Neuigkeiten vom Chrome Web Store-Team erhalten (der Brief kam ungefähr 24 Stunden nach dem Blog-Beitrag an).  Die anscheinend.in-Erweiterung hat mehr als eine Million Benutzer, was diese Erweiterung zu einer der beliebtesten für Screenshots macht.  Unsere Benutzer vertrauen unserer Website, indem sie uns Zugriff auf ihre Mikrofone und Kameras gewähren.  Die Verwendung einer Inline-Installation, die auf dieser Vertrauensstellung basiert, ist wahrscheinlich sicherer als die Installation aus dem Chrome Web Store.  Wir haben uns auch an den Support des Web Store gewandt, um illegale Kopien der Erweiterung zu entfernen, die Hunderte von Benutzern wiederholt selbst festgelegt haben. <br><br>  Und es wäre toll, wenn die Jungs von Google uns warnen würden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/jt/vw/sbjtvwg_upyhtugmunhy2unkwva.png"></div><br>  Das <b>@ webrtc-</b> Konto erwähnte die Absicht, <b>getDisplayMedia</b> als Reaktion auf Änderungen an der Inline-Installationsrichtlinie <b>einzuführen</b> . <br><br>  Der Pfad für Chrome ist die Veröffentlichung von <b>getDisplayMedia</b> .  "Intention to Roll-out" wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kurz nach den Hauptnachrichten veröffentlicht</a> .  Angesichts des Veröffentlichungszyklus von Chrome wird es jedoch einige Wochen dauern.  Dies ist eine nicht triviale Änderung der Sicherheitsbestimmungen und Benutzerszenarien. Es ist daher zweifelhaft, ob dies vor dem 12. September geschehen wird.  Der Verzweigungspunkt für Chrome 69, der bis zum 12. September veröffentlicht wird, liegt innerhalb eines Monats. <br><br>  Die Situation mit Chrome wird durch die Tatsache kompliziert, dass jetzt das Teilen von Registerkarten zulässig ist, jedoch mit einer Einschränkung der Auswahl der Anzeige für den Benutzer.  Die Freigabe von Audioausgaben wird in Chrome unterstützt, jedoch nicht einmal in der <b>getDisplayMedia-</b> Spezifikation. <br><br><h3>  So bereiten Sie sich auf Änderungen in Chrome vor </h3><br>  Der Code für <b>die</b> Unterstützung von <b>getDisplayMedia</b> ist relativ unkompliziert.  In der Regel entspricht ein Aufruf dieser API dem Aufruf von <b>getUserMedia</b> mit dem Argument <b>mediaSource</b> in Firefox.  <b>Um festzustellen,</b> ob diese Funktion verfügbar ist, müssen Sie überprüfen, ob <b>getDisplayMedia vorhanden ist,</b> und sie vorrangig verwenden, falls verfügbar: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/160f7f047299563404e670394532a7d6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378204" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-check-getdisplaymedia-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-check-getdisplaymedia-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-check-getdisplaymedia-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s">'getDisplayMedia'</span> <span class="pl-k">in</span> <span class="pl-smi">window</span><span class="pl-kos">.</span><span class="pl-c1">navigator</span><span class="pl-kos">)</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-check-getdisplaymedia-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  getDisplayMedia</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-check-getdisplaymedia-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-kos">}</span> <span class="pl-k">else</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-check-getdisplaymedia-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//     </span></td>
      </tr>
      <tr>
        <td id="file-check-getdisplaymedia-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-check-getdisplaymedia-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-kos">}</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">check-getDisplayMedia.js</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Es ist immer noch nicht klar, wie die Bildrate angezeigt werden soll.  Die Verwendung von <b>applyConstraints</b> im zurückgegebenen <b>MediaStreamTrack</b> funktioniert für <b>getUserMedia</b> und wahrscheinlich auch für <b>getDisplayMedia</b> : <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/19d2379e3f8921b5840c07a4ec86f90f.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist90378223" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-frame-rate-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-frame-rate-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-frame-rate-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-s1">navigator</span><span class="pl-kos">.</span><span class="pl-en">getDisplayMedia</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">video</span>: <span class="pl-c1">true</span><span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-frame-rate-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">.</span><span class="pl-en">then</span><span class="pl-kos">(</span><span class="pl-s1">stream</span> <span class="pl-c1">=&gt;</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-frame-rate-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-s1">stream</span><span class="pl-kos">.</span><span class="pl-en">getTracks</span><span class="pl-kos">(</span><span class="pl-kos">)</span><span class="pl-kos">[</span><span class="pl-c1">0</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-en">applyConstraints</span><span class="pl-kos">(</span><span class="pl-kos">{</span><span class="pl-c1">frameRate</span>: <span class="pl-c1">5</span><span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-frame-rate-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s1">stream</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-frame-rate-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-frame-rate-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-kos">}</span><span class="pl-kos">)</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">frame-rate.js</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  Details finden Sie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spezifikations-Bugtracker</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leider</a> kann <b>adapter.js</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">getDisplayMedia</a> nicht einfügen, da die Interaktion mit jeder Erweiterung etwas anders implementiert ist. <br><br><h3>  Weiter und höher </h3><br>  Ich überwache sorgfältig, ob die WebRTC-Entwickler von Google die Frist für Inline-Installationen beeinflussen oder <b>getDisplayMedia</b> rechtzeitig <b>einführen</b> können.  Die Entwicklung unter dem Web ist manchmal chaotisch, ja, aber am Ende sehen wir in der Regel ein gutes Ergebnis.  Wir warten auf das Ende dieser Geschichte und verabschieden uns gerne von unseren Erweiterungen. <br><br><hr><br><h3>  Screenshot in Voximplant </h3><br>  Wir haben auch einen Screenshot, der in Chrome erfolgreich funktioniert.  Obwohl sich niemand von Erweiterungen verabschiedet hat, müssen Sie Folgendes tun: <br><br><ol><li>  Laden Sie die Erweiterung aus unserem Repository herunter: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/voximplant/voximplant-chrome-extension</a> </li><li>  Gehen Sie zu dem Ordner, in den die Erweiterung heruntergeladen wurde, öffnen Sie <b>manifest.json</b> und fügen Sie die URL Ihrer Site zum Abschnitt " <b>Übereinstimmungen</b> " hinzu. </li><li>  Geben Sie auf der neuen Registerkarte Chrome die Erweiterungen <b>chrome: // ein</b> , aktivieren Sie den Entwicklermodus und laden Sie die Erweiterung aus dem Ordner. </li></ol><br>  Sie installieren also die Entwicklerversion der Erweiterung.  Für Endbenutzer ist es bequemer, wenn Sie die Erweiterung im Googe Web Store veröffentlichen.  Informationen dazu sowie zur Verwendung von Screenshots auf unserer Plattform finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unserer Anleitung</a> .  Viel Spaß beim Teilen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de415201/">https://habr.com/ru/post/de415201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de415191/index.html">Neues Meisterschafts-ML-Bootcamp VI. Vorhersage der Publikumsreaktion auf Online-Umfragen</a></li>
<li><a href="../de415193/index.html">Übersetzung: Warum ist FI auch für OOP-Programmierer wichtig?</a></li>
<li><a href="../de415195/index.html">Nicht die einzige Hauptstadt: NORBIT eröffnet Entwicklungsbüros in den Regionen</a></li>
<li><a href="../de415197/index.html">Das Herzstück des Smartphones: Welchen SoC soll man wählen?</a></li>
<li><a href="../de415199/index.html">OpenStack: Die ganze Wahrheit über die "königliche" Veröffentlichung</a></li>
<li><a href="../de415203/index.html">So gelangen Sie zum ersten Mal zum AppStore: eine Schritt-für-Schritt-Anleitung</a></li>
<li><a href="../de415205/index.html">Fragen Sie Ethan: Werden zukünftige Zivilisationen den Urknall verpassen?</a></li>
<li><a href="../de415207/index.html">Wenn der Himmel die Vollkommenheit verloren hat</a></li>
<li><a href="../de415209/index.html">"Ich musste einen leeren Raum bewachen": die Entstehung bedeutungsloser Jobs</a></li>
<li><a href="../de415211/index.html">Die Milchstraße verbirgt Zehntausende von Schwarzen Löchern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>