<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧛🏻 👩🏽‍⚕️ 👨🏼‍🔧 Panggilan video di bawah tenda: dari jutaan per hari hingga 100 peserta dalam satu konferensi 🏴󠁧󠁢󠁷󠁬󠁳󠁿 🌽 👩‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sekarang, sepertinya tidak mungkin menemukan messenger tanpa fitur panggilan. Ini nyaman bagi pengguna, karena semua komunikasi dapat dilakukan dalam ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Panggilan video di bawah tenda: dari jutaan per hari hingga 100 peserta dalam satu konferensi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/odnoklassniki/blog/479852/">  Sekarang, sepertinya tidak mungkin menemukan messenger tanpa fitur panggilan.  Ini nyaman bagi pengguna, karena semua komunikasi dapat dilakukan dalam satu aplikasi.  Jika kita menggabungkan semua statistik yang tersedia di media, ternyata orang-orang berbicara melalui internet selama lebih dari satu miliar menit sehari.  Dan dengan perkembangan teknologi, pangsa komunikasi video tumbuh, karena video lebih baik menyampaikan emosi lawan bicara dan memungkinkan Anda untuk menciptakan efek kehadiran. <br><br>  Tantangan baru untuk layanan panggilan video adalah untuk mengumpulkan sekaligus seluruh keluarga atau sekelompok teman yang berlokasi di berbagai belahan dunia, atau kolega yang bekerja jarak jauh pada proyek yang sama, untuk perencanaan. <br><img src="https://habrastorage.org/webt/mh/zl/8a/mhzl8ar7wkjk2akfni3vzzbiufi.jpeg"><br>  Kepala pengembangan platform Video dan Tape, Alexander Tobol ( <a href="https://habr.com/ru/users/alatobol/" class="user_link">alatobol</a> ), akan menunjukkan bahwa di bawah tenda ada layanan panggilan video, teknologi dan peretasan mana yang digunakan untuk membuat server konferensi Anda, dan cara mentransfer video dengan benar.  Ayo turun dan pelajari cara mentransfer layanan panggilan satu-ke-satu ke panggilan grup untuk 100 orang dan mengapa Anda memerlukan dukungan untuk begitu banyak peserta. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2z4XO3fyn3U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Artikel ini didasarkan pada laporan tentang <a href="https://www.highload.ru/">HighLoad ++ Siberia</a> , di mana Alexander Tobol mencoba memberikan gambaran yang lengkap.  Jika Anda sudah terbiasa dengan materi lain pada topik (misalnya, <a href="https://habr.com/ru/company/oleg-bunin/blog/428217/">tentang fitur transmisi video</a> dan <a href="https://habr.com/ru/company/oleg-bunin/blog/461829/">protokol jaringan</a> ), maka Anda dapat melewati bagian teoretis dan langsung menuju <a href="https://habr.com/ru/company/odnoklassniki/blog/479852/">solusi</a> . <br><br>  <strong>Garis besar artikel:</strong> <br><br><ul><li>  Riwayat dan panggilan perangkat. </li><li>  <a href="https://habr.com/ru/company/odnoklassniki/blog/479852/">Transisi dari panggilan satu-ke-satu ke panggilan grup.</a> </li><li>  <a href="https://habr.com/ru/company/odnoklassniki/blog/479852/">Layanan panggilan grup DIY.</a> </li><li>  <a href="https://habr.com/ru/company/odnoklassniki/blog/479852/">Server Konferensi: Jelajahi Pesaing dan Lakukan Lebih Baik.</a> </li></ul><br><h2>  Riwayat panggilan </h2><br>  Aplikasi terkenal pertama untuk panggilan, dan dengan videonya, adalah Skype, muncul pada 2006.  Di Odnoklassniki, kami meluncurkan panggilan berdasarkan solusi dari Adobe pada 2010-2012 ... Beberapa tahun yang lalu kami benar-benar mengubahnya di WebRTC (lebih lanjut tentang peluncuran ini di <a href="https://habr.com/ru/company/oleg-bunin/blog/428217/">sini</a> ), tahun lalu kami menambahkan panggilan grup.  Transisi ini akan dibahas dalam artikel. <br><img src="https://habrastorage.org/webt/5v/-d/9o/5v-d9oc0kvmij7u43f4q8dihyoa.jpeg"><br>  Mengapa saya pikir saya bisa memberi tahu Anda bagaimana melakukan ini?  Karena pemirsa bulanan kami menggunakan panggilan melebihi 10 juta orang, dan <strong>kami memiliki lebih dari 2 juta panggilan per hari</strong> .  Selain itu, lebih dari setengahnya terjadi melalui platform seluler. <br><br>  Panggilan grup adalah layanan yang paling cepat berkembang, dan tujuan kami adalah 100 peserta konferensi secara bersamaan.  Kenapa begitu banyak?  Pertama, kadang-kadang Anda ingin berbagi bidikan indah dengan teman dan teman sekelas atau mengadakan seminar.  Kedua, bahkan jika Anda berpikir bahwa layanan Anda tidak memerlukan sesuatu, semuanya dapat berubah. <br><br>  Sekarang sepertinya konferensi video untuk 100 peserta tidak diperlukan, dan lima tahun yang lalu mereka bertanya kepada saya mengapa kami meluncurkan video dalam 4K.  Sekarang TV 4K adalah hal biasa, dan kami siap kembali pada tahun 2014. <br><blockquote>  Intinya tidak lebih dulu.  Jika Anda ingin membuat layanan yang baik, tingkatkan persyaratan Anda lebih tinggi. </blockquote>  Jika Anda dapat membuat panggilan berfungsi dengan baik untuk 50-100 orang, maka untuk 6-10 pengguna semuanya akan berfungsi dengan baik. <br><br>  Setiap layanan panggilan memiliki 4 komponen yang relatif independen: <br><br><ul><li>  <strong>Pemberian sinyal</strong>  Tugasnya adalah memanggil pelanggan, bertukar data awal, menginformasikan apa yang dapat dilakukan oleh setiap pelanggan, dan kemudian membuat saluran melalui mana data video dapat ditransmisikan. </li><li>  <strong>Video / audio.</strong>  Data video dan audio dikompres menggunakan codec. </li><li>  <strong>Jaringan</strong>  Hal ini diperlukan untuk memastikan bekerja di jaringan yang buruk, mengimplementasikan pemulihan paket, koneksi P2P, dll. </li><li>  <strong>Topologi</strong> - ditambahkan jika ada panggilan grup. </li></ul><br>  Anda dapat membicarakan bagian-bagian ini secara terpisah.  Tapi saya ingin memberikan gambaran besar tentang bagaimana panggilan bekerja, jadi saya akan mencoba memasukkan semuanya ke dalam satu cerita. <br><br>  Sebelum Anda mulai bekerja pada layanan ini, Anda perlu mengidentifikasi <strong>persyaratan</strong> : <br><br><ul><li>  <strong>Buat koneksi dengan cepat</strong> sehingga koneksi dibuat segera setelah teman bicara mengangkat telepon. </li><li>  <strong>Kualitas panggilan tinggi</strong> sehingga video tidak hancur dan tidak membeku. </li><li>  <strong>Jumlah peserta dalam panggilan</strong> , sehingga Anda dapat memanggil dalam obrolan, di mana hingga 100 peserta. </li><li>  <strong>Latensi rendah di antara penelepon.</strong>  Latensi 1,3 detik karena Polycom tidak cocok untuk kita sama sekali. </li></ul><br>  Berikut adalah makna spesifik yang menyatakan persyaratan untuk panggilan grup ini: mulai dari panggilan tidak lebih dari 1 detik;  sebuah jaringan di mana video 300 Kbps bekerja secara stabil;  latensi dari penelepon ke pendengar tidak lebih dari 0,5 detik;  100 pengguna dalam satu panggilan. <br><br><h2>  Apa yang menghalangi? </h2><br>  Seperti yang Anda ketahui, data dalam jaringan ditransmisikan dalam paket: ada soket, Anda mengirim aliran data di sana, semuanya terbang menjauh, seolah-olah dalam kotak hitam, ia dirakit dan berfungsi. <br><img src="https://habrastorage.org/webt/e4/pa/vy/e4pavyyaikufar_cl4sqw1karxe.jpeg"><br>  Tetapi jaringannya berbeda.  Setengah dari panggilan dilakukan melalui jaringan seluler, dan mereka tidak selalu terlihat seperti jalan bebas hambatan. <br><img src="https://habrastorage.org/webt/ck/62/va/ck62vamogxhsgqdjuvvmoa1jlrq.jpeg"><br>  Jaringan dapat kelebihan beban, maka data akan hilang dan harus dipulihkan, selanjutnya memuat jaringan.  Ada jaringan dengan mana semuanya tampak beres, tetapi paket masih menghilang - misalnya, karena fakta bahwa router Wi-Fi terletak di belakang dinding beton bertulang. <br><br><h2>  Fitur Jaringan </h2><br>  Kami akan menganalisis karakteristik utama yang menggambarkan kualitas jaringan. <br><br><h3>  RTT </h3><br>  Waktu pulang-pergi - waktu antara server mengirim data ke klien dan menerima pemberitahuan kembali. <br><br>  Ingat, kami ingin membuat koneksi dalam 1 detik.  Jika waktu pulang pergi adalah 200 ms, maka dengan koneksi yang dibuat, misalnya, melalui TCP, ditambah beberapa TLS, <strong>Anda dapat kehilangan 500 ms hanya pada koneksi</strong> .  Hanya 500 ms yang akan tersisa, mis.  beberapa permintaan lagi, setelah itu koneksi harus dibuat.  Karena itu, dengan permintaan tambahan dengan RTT Anda harus bekerja dengan sangat hati-hati. <br><br>  Contoh: <br><br><pre><code class="xml hljs">$ ping google.com 64 bytes from 173.194.73.139: icmp_seq=5 ttl=44 time=211.847 ms round-trip min/avg/max/stddev = 209.471/220.238/266.304/19.062 ms RTT = 220ms $ curl -o /dev/null -w "HTTP time taken: %{time_connect}\nHTTPS time taken: %{time_appconnect}\n" -s https://www.google.com HTTP time taken: 0.231 HTTPS time taken: 0.797 HTTP = 230ms HTTPS = 800ms</code> </pre> <br>  Dengan RTT = 220ms, menerima respons melalui https membutuhkan waktu hingga 800 ms.  Karena itu, jika Anda memiliki koneksi aman soket web, maka dengan ping seperti itu seluruh detik akan hilang. <br><img src="https://habrastorage.org/webt/h7/jz/fz/h7jzfzctyl9uto140qct-vu05um.jpeg"><br>  Tabel menunjukkan penundaan jabat tangan yang diukur dalam jaringan seluler (dalam laporan <a href="https://youtu.be/0xKAR0AHIdY">ini</a> , detail lebih lanjut tentang pengoperasian aplikasi dalam jaringan seluler). <br><br><h3>  Throughput </h3><br>  Anda dapat mengirim paket ke jaringan sesuka Anda: dalam batch atau segera memalu semua yang ada di buffer, mereka akan tetap sampai ke klien secara merata.  Jumlah paket atau data per detik adalah bandwidth atau bandwidth. <br><br>  Masalahnya adalah <strong>bandwidth di jaringan seluler terus berubah</strong> .  Jika jatuh tajam, dan data ditransmisikan dengan bitrate yang sama, mereka jelas akan mengalami kerugian, dan panggilan pengguna akan "hang".  Ini juga harus diperjuangkan. <br><br><h3>  Paket hilang </h3><br>  Saat mentransfer data, paket mungkin hilang.  Dalam hal ini, ada pilihan: lewati sebagian paket dan dapatkan distorsi, atau coba kirim ulang paket dan dapatkan bingkai beku. <br><br><h3>  Jitter </h3><br>  Faktanya adalah bahwa paket-paket tidak tiba secara merata satu per satu, tetapi dalam paket paket pada suatu interval tertentu. <br><br><img src="https://habrastorage.org/webt/zs/hc/fu/zshcfujfcg6helcc8rnx8pyfor4.jpeg"><br>  Jitter mudah diukur: <br><br><pre> <code class="xml hljs">PING highload.ru (178.248.233.16): 56 data bytes icmp_seq=11 ttl=43 time=117.177 ms icmp_seq=12 ttl=43 time=132.868 ms icmp_seq=13 ttl=43 time=176.413 ms icmp_seq=14 ttl=43 time=225.981 ms</code> </pre> <br>  Pinganuli highload.ru beberapa kali (ping adalah nilai yang tidak stabil, perlu untuk rata-rata), kami mendapat jitter rata-rata: <code>((132-117)+(176-132)+(225-176)) / 3 = (14 + 44 + 79) / 3 = 46 </code> . <br><img src="https://habrastorage.org/webt/zj/4n/wp/zj4nwpcfmrefzo989lg_ipmbffy.jpeg"><br>  Misalkan kita mengirimkan video, dan satu frame adalah paket jaringan.  Beberapa frame dimainkan tanpa henti, tetapi burung ketiga tertunda karena jitter - kami mendapatkan bingkai beku.  Jadi, Anda perlu mengakumulasi paket di suatu tempat dan menyamakan efek ini. <br><br>  Artinya, untuk mengkarakterisasi jaringan nirkabel, cukup mengetahui nilai-nilai berikut: RTT (waktu pulang-pergi);  bandwidth BW (bandwidth);  persentase kehilangan paket;  jitter. <br><br><h2>  Seperti apa rupa pengguna? </h2><br>  Sebelum Anda mulai mengoptimalkan pekerjaan dengan jaringan, Anda perlu mencari tahu jenis Internet yang dimiliki pengguna - mungkin setiap orang memiliki jaringan yang sempurna, solusi apa pun akan berhasil. <br><br>  Dalam 80% kasus, pengguna akhir menggunakan koneksi nirkabel: itu adalah jaringan seluler atau Wi-Fi. <br><br><img src="https://habrastorage.org/webt/ub/_w/ep/ub_wepc3hzha5g1vmnbcuvu5758.jpeg"><br><br>  Di Rusia, di luar wilayah barat dan kota-kota besar, karakteristik jaringan rata-rata adalah: RTT - 200 ms, bandwidth - 1,1 Mbps, packet loss - 0,6%, jitter - 5ms. <br><br>  Kami membagi nilai-nilai ini berdasarkan jenis jaringan dan menyadari bahwa belajar untuk mengerjakan ini diperlukan. <br><br><img src="https://habrastorage.org/webt/vb/mk/6u/vbmk6ue1tjohnzk9dmybx7jgiq4.jpeg"><br><br><h2>  Fitur Pengembangan Panggilan </h2><br>  Banyak orang lupa, tetapi LTE dan 3G adalah saluran komunikasi asimetris: downlink selalu lebih dari sekadar uplink.  Bergantung pada jenis protokol, rasio ini dapat bervariasi dari 15/85 hingga 30/70.  Saat merancang panggilan, ini penting. <br><br>  Bagaimana cara memeriksa saluran yang dimiliki pelanggan Anda? <br><br><img src="https://habrastorage.org/webt/9y/kz/pj/9ykzpjasmaqko3glxox9ps6tkgs.jpeg"><br><br>  Anda dapat melihat speedtest, berapa rasio kecepatan di dunia antara mobile dan internet tetap.  Ternyata di seluruh dunia Internet tetap juga asimetris.  Di Rusia, untungnya, ternyata simetris: rasio uplink / downlink pada Internet tetap melalui Wi-Fi di Rusia adalah 50/50.  Kami akan fokus pada nilai-nilai tersebut. <br><br><img src="https://habrastorage.org/webt/al/6o/zb/al6ozb-zf_b_f8vecacwryr-gce.jpeg"><br><br>  <strong>Intinya:</strong> Jaringan nirkabel populer dan tidak stabil. <br><br><ul><li>  Lebih dari 80% pelanggan menggunakan internet nirkabel. </li><li>  Pengaturan nirkabel berubah secara dinamis. </li><li>  Jaringan nirkabel memiliki tingkat packet loss, jitter, reordering yang tinggi. </li><li>  Saluran uplink / downlink asimetris dalam rasio 30/70. </li></ul><br><h2>  Panggilan </h2><br>  Dengan penyimpanan pengetahuan ini, mari kita kembali ke implementasi panggilan grup.  Pertimbangkan algoritme untuk panggilan grup sederhana, yang kemudian kami perbaiki. <br><br>  <strong>Langkah 1.</strong> Alice ingin memanggil Boris dan mengirimkannya tawaran, di mana ia melaporkan semua yang ia bisa, yang mendukung protokol, pengaturan, dll. <br><img src="https://habrastorage.org/webt/k-/gr/xz/k-grxzwigzw4xaqgctisb27xalq.jpeg"><br>  <strong>Langkah 2.</strong> Boris menjawab Alice, setelah itu koneksi transportasi dibuat. <br><img src="https://habrastorage.org/webt/qf/yp/my/qfypmyzwq5sjl8et0tg2ju6vddm.jpeg"><br>  <strong>Langkah 3.</strong> Setelah itu, pertukaran data audio / video dimulai. <br><img src="https://habrastorage.org/webt/rb/7w/hh/rb7whhnevjv6s15l0nmvftyx2lq.jpeg"><br>  Arsitektur panggilan apa pun terlihat seperti diagram di bawah ini. <br><img src="https://habrastorage.org/webt/_n/6g/7o/_n6g7ohpbtl7wonvxjfrdcb8w2a.jpeg"><br>  Selalu ada server bersama, tetapi ketika koneksi dibuat, pengguna sudah dapat mentransfer data p2p atau melalui server pihak ketiga. <br><br>  Data ditangkap oleh kamera yang mengkodekannya pada perangkat dan mengirimkannya ke koneksi soket.  Mereka melewati jaringan, diputar di sisi lain oleh codec, dan ditampilkan di layar. <br><br>  Pertimbangkan semua langkah algoritma secara terperinci dan cobalah untuk beralih dari panggilan 1-ke-1 ke panggilan grup. <br><br><h2>  Pemberian sinyal </h2><br>  Tugas: melaporkan panggilan dan membuat koneksi data. <br><br>  Semuanya cukup sederhana: <br><br><ul><li>  Panggilan Alice, pemberitahuan dikirim ke Boris di perangkat seluler atau browser. </li><li>  Soket web atau koneksi lain dibuat. </li><li>  Setelah ini, negosiasi terjadi - Alice dan Boris setuju. </li><li>  Ketika handset diambil pada satu perangkat, panggilan berakhir secara otomatis di perangkat lainnya. </li></ul><br><img src="https://habrastorage.org/webt/x8/p8/4a/x8p84akywewgezvufnt64jqfmp8.jpeg"><br>  Platform panggilan di Odnoklassniki mendukung berbagai klien dan transportasi.  Mereka semua dekat dengan beberapa jenis server, yang bergerak dalam melayani panggilan dan meneruskan pesan. <br><img src="https://habrastorage.org/webt/on/3v/9s/on3v9swzgtmfub9c_ru18qwjl1m.jpeg"><br>  Dalam hal server crash atau instalasi pembaruan, ada penyimpanan yang tetap di mana semua pesan direkam.  Jika server hilang, Anda dapat dengan mudah beralih ke yang lain.  Inilah yang dilakukan ZooKeeper. <br><br>  Satu-satunya kesulitan adalah <strong>tepat sekali</strong> .  Kami tidak ingin menerapkan beberapa pesan dua kali.  Masalah ini diselesaikan dengan sederhana: semua pesan memiliki nomor seri - dua kali satu pesan tidak akan sampai. <br><br>  Selain itu, Anda perlu berhati-hati saat membuat panggilan.  Seseorang dapat membuat panggilan, menutup telepon dan membuat panggilan lain.  Atau mungkin tidak menggantung, tetapi masih membuat yang lain.  Semua panggilan ini tidak unik - tidak jelas apakah ini relay atau pengguna mengklik dua kali tombol panggilan.  Itu mudah diperbaiki: ID unik dihasilkan pada klien, dan deduplikasi dilakukan padanya.  Pada prinsipnya, <strong>tidak ada kesulitan dalam pensinyalan</strong> . <br><br>  pensinyalan p2p ke grup selesai dengan mudah. <br><img src="https://habrastorage.org/webt/7q/y6/zh/7qy6zhw2z72nbjcazwlx681hrau.jpeg"><br>  Penawaran dan jawaban yang sama yang Alice kirimkan tidak hanya ke Boris, tetapi juga ke Dima.  Mereka menerimanya, setuju, saluran pertukaran data muncul di antara mereka. <br><br><h2>  Audio / Video </h2><br>  Untuk mengatasi panggilan grup dan memahami teknologi apa yang dibutuhkan, kita harus berbicara sedikit tentang apa itu video. <br><br>  Video adalah 24 atau 60 frame per detik.  Untuk mengompresnya, codec digunakan.  Inti utama dari codec adalah bahwa setiap beberapa frame ada bingkai referensi (seperti JPEG), dan frame menengah ditentukan melalui perubahan. <br><img src="https://habrastorage.org/webt/yl/2d/fs/yl2dfs-nsm6cmuifnpaykbyhnkg.jpeg"><br>  Pada gambar di atas, frame pertama dengan mesin adalah yang referensi, dan di frame berikutnya, hanya perubahan (pergerakan mesin) yang dikodekan, dan waktu berikutnya hanya perubahan yang dikodekan. <br><br>  Ini disebut kelompok gambar - satu set independen dari frame yang saling berhubungan yang dapat diterjemahkan.  Codec adalah algoritma transformasi antar frame.  Semakin curam codec, semakin baik kompres data, dan semakin banyak sumber daya yang dibutuhkan. <br><div class="scrollable-table"><table><tbody><tr><td>  Kualitas </td><td>  Izin </td><td>  Kecepatan bit minimum </td></tr><tr><td>  FullHD </td><td>  1920x1080 </td><td>  4 Mbps </td></tr><tr><td>  HD </td><td>  1280x720 </td><td>  1,5 Mbps </td></tr><tr><td>  rendah </td><td>  640x360 </td><td>  600 kbps </td></tr><tr><td>  terendah </td><td>  426x240 </td><td>  300 kbps </td></tr></tbody></table></div>  Tentang rasio bitrate codec ada aturan umum (lihat <a href="https://youtu.be/e1JYFRwHzkQ">tautan</a> ). <br><br>  Codec paling populer yang digunakan untuk panggilan adalah <strong>H.264 dan VP8</strong> .  H.264 bagus karena di mana-mana bekerja keras dan tidak memakan baterai.  Namun biasanya pada ponsel satu encoder (encoder) dan 4 decoder.  Untuk yang lainnya, Anda memerlukan perangkat lunak VP8, yang menghabiskan baterai yang baik.  Sebaiknya ubah prioritas menjadi H.264 untuk panggilan grup (lihat <a href="https://is.gd/5WaBAP">tautan</a> tentang cara melakukan ini). <br><br>  Codec dapat dikodekan dengan variabel (Variable bitrate) atau bitrate konstan (Constant bitrate).  Banyak codec pada perangkat tidak mendukung laju bit konstan, jadi Anda harus hidup dengan gambar di sebelah kiri. <br><img src="https://habrastorage.org/webt/6r/ej/mt/6rejmtldwpgvu2an6bbjwu7-xoq.jpeg"><br><br><h3>  Codec audio </h3><br>  Ada berbagai codec lawas untuk audio, seperti G711.  Opus codec sangat populer - ini memecahkan masalah pengkodean baik pada bitrate rendah dan pada tinggi, karena di dalamnya mengandung SUTRA dari Skype dan codec CELT untuk musik. <br><br>  Patut dikatakan bahwa Opus memiliki algoritme koreksi kesalahan proaktif Teruskan Koreksi (FEC).  Untuk audio, algoritma ini berfungsi seperti ini: di setiap paket ada data dalam kualitas tinggi dan data dari frame sebelumnya untuk beberapa waktu dalam kualitas rendah.  Dengan demikian, jika paket sebelumnya hilang, Anda bisa mendapatkan data dari paket sebelumnya dalam kualitas rendah dan entah bagaimana kehilangan.  Rata-rata, hasilnya lumayan bagus. <br><br>  Saat bekerja dengan codec audio, menarik untuk melihat grafik, yang menunjukkan rasio kualitas sinyal input dan bitrate. <br><img src="https://habrastorage.org/webt/_r/wd/em/_rwdemfrce5rw2njez4pge9wgr0.jpeg"><br>  Dapat dilihat bahwa Opus memecahkan hampir semua masalah.  Sangat menarik untuk memperhatikan AAC, yang digunakan saat encoding video di berbagai layanan hosting, dan pada codec Speex lama, yang digunakan khusus untuk audio dan bekerja hingga 32 Kbps. <br><br><h3>  Data patologi media </h3><br>  Untuk memahami cara kerja topologi, fitur apa yang dimilikinya, Anda perlu memahami bagaimana codec video menangani kerugian. <br><img src="https://habrastorage.org/webt/vt/dn/zm/vtdnzmfdmc8n8bxq_rmmfoscpls.jpeg"><br>  Dalam kasus pertama, tidak ada yang hilang, dan kami melihat gambar yang bagus.  Di baris kedua, satu frame acak hilang - ada artefak kecil dalam gambar.  Dalam kasus ketiga, kerangka referensi menghilang, oleh karena itu, hingga kerangka referensi berikutnya, perubahan yang tumpang tindih satu sama lain akan ditampilkan. <br><br>  Jelas, membuat kerangka acuan seringkali mahal karena laju bit tumbuh.  Karena itu, hampir semua layanan panggilan entah bagaimana mendukung kemampuan untuk meminta kerangka referensi jika terjadi kerugian.  Di WebRTC, ini disebut INTRA-frame penuh. <br><br>  Topologi paling sederhana adalah mengirim semua video Anda ke semua peserta konferensi lainnya. <br><img src="https://habrastorage.org/webt/st/mt/bu/stmtbu09eze8vg6letvekimnosu.jpeg"><br>  Kami mulai satu codec dan mulai mentransfer video.  Alice menyalakan kamera, codec, mengirimkan videonya ke Boris dan Dima.  Tetapi jika Dima memiliki Internet yang buruk, Boris menderita, karena Anda perlu menurunkan kualitas seluruh video.  Dan jika Dima kehilangan kesempatan dan meminta yang mendukung, Boris akan mendapatkannya juga, meskipun dia tidak membutuhkannya. <br><br>  Di sisi lain, Anda dapat merekatkan semua video dalam satu aliran.  Ini akan membutuhkan peralatan khusus dan, mungkin, akan ada penundaan tambahan, tetapi solusi seperti itu juga ada. <br><br><h3>  Transportasi atau kirim video dan audio dengan penundaan minimal </h3><br>  Kami memiliki pilihan protokol TCP atau UDP. <br><div class="scrollable-table"><table><tbody><tr><td>  TCP </td><td>  UDP </td></tr><tr><td>  Andal </td><td>  Tidak bisa diandalkan </td></tr><tr><td>  Berorientasi pada koneksi </td><td>  Tanpa koneksi </td></tr><tr><td>  Transmisi ulang segmen dan kontrol aliran melalui windowing </td><td>  Tidak ada windowing atau pengiriman ulang </td></tr><tr><td>  Sequencing segmen </td><td>  Tidak ada urutan </td></tr><tr><td>  Urutan pengakuan </td><td>  Tidak ada pengakuan </td></tr></tbody></table></div>  Mungkin semua orang ingat bahwa TCP adalah protokol yang andal, yang dalam kasus packet loss mengirimnya lagi.  Itulah sebabnya urutan bingkai ini dimungkinkan, seperti pada gambar di bawah ini. <br><img src="https://habrastorage.org/webt/si/qm/rc/siqmrcta6lzauazsdsbitbkifvo.jpeg"><br>  Jika suatu paket tidak ada dalam paket, Anda dapat dengan bebas melewati salah satu dari 24 frame ini pada video, tetapi TCP tidak akan mengizinkan Anda untuk menerima yang berikut sampai Anda mengirim yang hilang.  <strong>Mengirim video melalui TCP sangat tidak efisien.</strong>  UDP direkomendasikan untuk tugas-tugas seperti itu, dan semua layanan panggilan menggunakannya. <br><br>  <a href="https://habr.com/ru/company/oleg-bunin/blog/461829/">Artikel</a> ini menyediakan semua fitur dari kedua protokol dan menjelaskan mengapa semua streaming berfungsi pada UDP.  Sebagai bagian dari topik hari ini, cukup bagi kita untuk mengetahui bahwa UDP tidak tersedia di mana-mana, itu tidak berfungsi di 3% dari jaringan. <br><img src="https://habrastorage.org/webt/tv/ky/jz/tvkyjzwzytjo2pgxmfgek1afv_8.jpeg"><br>  Secara umum, pengguna dapat membuat koneksi P2P di antara mereka. <br><img src="https://habrastorage.org/webt/xe/nj/ew/xenjewfqamelio5eqywflbiyn54.jpeg"><br>  Ini adalah yang paling menguntungkan, karena jika kita saling memanggil di Novosibirsk, jauh lebih baik untuk berkomunikasi secara langsung dan tidak menggunakan server tambahan yang akan memberikan pengaruh. <br><br>  Tetapi NAT ada, dan lebih dari 97% pengguna sekarang berada di belakangnya - beberapa memiliki IP eksternal.  Di satu sisi, masalah ini cepat atau lambat akan diselesaikan oleh IPv6.  Ngomong-ngomong, di Rusia, MTS adalah yang pertama meluncurkannya.  Sekarang mereka sepenuhnya mendukung IPv6, dan semua klien mereka memiliki IP putih. <br><br>  NAT mungkin menerobos, mungkin tidak menerobos, dan kemudian Anda harus menggunakan mundur melalui server.  Ada juga <a href="https://habr.com/ru/company/oleg-bunin/blog/428217/">artikel tentang</a> cara menerobos NAT. <br><br><h3>  Jitter buffer antara transport dan frame </h3><br>  Kami melanjutkan.  Sekarang kita perlu buffer jitter untuk meningkatkan efek jitter <br><img src="https://habrastorage.org/webt/od/eb/m5/odebm5kla1eprghttikfis_tzm8.jpeg"><br>  Kami secara proaktif mulai menunjukkan frame dengan beberapa penundaan dan sementara itu kami berbaris frame pada interval yang sama di buffer. <br><br>  Buffer meningkat secara dinamis. <br><img src="https://habrastorage.org/webt/_q/-s/o4/_q-so4lqgyenwyrlcbk2u141h2k.jpeg"><br>  Jika bingkai hilang, dan gambar membeku, maka penyangga meningkat, dan kemudian kita sudah bekerja dengan penyangga ukuran ini. <br><br>  Tetapi mungkin ada situasi sebaliknya ketika Anda perlu mengurangi buffer.  Misalnya, jaringan telah stabil, dan waktu perlu diperketat.  Jika Anda hanya mengurangi buffer, itu akan konyol, orang akan mulai berbicara dengan sangat cepat dengan suara gnome.  Oleh karena itu, ada algoritme khusus yang secara tidak terlihat menyesuaikan kecepatan audio: menghilangkan jeda di antara kata-kata atau meruntuhkan suara yang terlalu lama dalam ucapan. <br><br>  Jika Anda ingin transcode video dan memperbaiki sesuatu, Anda harus terlebih dahulu memiliki buffer jitter, dan latensi-nya tidak kurang dari latensi jitter jaringan ini.  Artinya, itu pasti meningkatkan latensi, dan kami ingat bahwa kami benar-benar ingin tetap dalam 0,5 s. <br><img src="https://habrastorage.org/webt/um/vs/2i/umvs2isu-bjnd2sp4u7ke7sqyv4.jpeg"><br>  Buang napas - teorinya sudah berakhir! <br><br><h2><a name="ok-call"></a>  Panggilan ke OK </h2><br>  Sebelum panggilan grup, kami melakukan panggilan P2P, perpustakaan WebRTC digunakan, klien web dan seluler dikumpulkan, pensinyalan ditulis. <br><img src="https://habrastorage.org/webt/kj/sl/uo/kjsluoez0wxxhsya9ttbfaev--k.jpeg"><br><br><h3>  Analisis pesaing </h3><br>  Ketika Anda tidak tahu apa yang harus dilakukan, lihatlah pesaing Anda.  Untuk referensi, kami memilih satu set: Skype, WhatsApp, Hangouts, ICQ, Zoom.  Kami mengukur jumlah maksimum peserta dalam panggilan grup, latensi, konsumsi baterai, dan kualitas. <br><br>  Yang paling menarik adalah menentukan keterlambatannya.  Kami melakukannya dengan cara ini: hidupkan timer, mulai merekam video, buat panggilan. <br><img src="https://habrastorage.org/webt/0k/_q/ct/0k_qctbyc9_eenat32mcm3zbz10.jpeg"><br>  100 ms - keterlambatan kamera sejak video mengenai lensa, sebelum ditarik pada matriks ponsel.  Setelah itu, video dikirim ke jaringan, dan kami melihat penundaan 310 ms sudah ada dalam panggilan. <br><img src="https://habrastorage.org/webt/eg/oi/g5/egoig53tzrzn-1byodqkwmfcfsq.jpeg"><br>  Jangan lupa untuk mengukur penggunaan CPU pada perangkat.  Dimulai dengan iOS 12, menjadi mungkin untuk melakukan ini secara sistematis, tetapi kami menggunakan pyrometer dengan cara lama. <br><br>  Mendapat hasil sebagai berikut: <br><img src="https://habrastorage.org/webt/mk/tu/1s/mktu1se2wjoa_lwb842wsfkyouk.jpeg"><br>  WhatsApp dan ICQ memiliki maksimal 4 peserta panggilan, Skype memiliki 25 (Skype for Business 250), dan Hangouts dan Zoom masing-masing memiliki 100 peserta.  Hangouts dulu memiliki sekitar 35 anggota, dan sekarang dia melompat ke bagian 100+. <br><br>  Zoom memiliki penundaan yang sedikit lebih lama, tetapi Hangouts mengkonsumsi lebih banyak daya baterai.  Menurut saya Zoom memiliki kualitas yang lebih baik, tetapi ada artikel yang mengatakan sebaliknya - ini adalah metrik subjektif. <br><img src="https://habrastorage.org/webt/mu/sa/9b/musa9bet2chfnzj55svmkj5j9qk.jpeg"><br>  Beberapa layanan menggunakan WebRTC terbuka, yang lain menggunakan protokol milik.  Tetapi jelas bahwa jenis transportasi apa yang Anda gunakan di bawah ini tidak mempengaruhi jumlah peserta dalam panggilan tersebut.  Ada solusi dengan 100 panggilan dan dengan protokolnya sendiri (Zoom), dan dengan WebRTC (Hangouts). <br><br><h3>  Skala dari 2 hingga N </h3><br>  Pertimbangkan kasus yang menarik: ada klien dengan saluran asimetris, input 3 Mbit / s, output 1,5 Mbit / s, paket loss 0,6%, jitter 50 ms.  Ada video dalam HD (1280x720) dengan bitrate 1,5 Mbps dan video dengan resolusi 640x360 (sebut saja RENDAH) pada 600 Kbps.  Kami ingin mengirimkan video keren. <br><br>  Dalam hal dua orang memanggil p2p, maka semuanya sederhana.  Mereka memiliki jaringan input yang cukup, jaringan output cukup erat, karena salurannya asimetris, dan tidak ada masalah dengan codec - semua codec gratis. <br><br>  Ketika kami mulai melakukan panggilan grup, kami perlu menghubungkan kembali semua orang.  Versi topologi yang paling sederhana adalah <strong>Mesh</strong> atau "all to all." <br><img src="https://habrastorage.org/webt/xt/zk/th/xtzkthwsqgph-xmvnpzufncfl6o.jpeg"><br>  Sangat bagus bahwa server perantara tidak diperlukan, tetapi menjadi masalah untuk memberi semua orang video Anda kepada klien dengan karakteristik seperti itu.  Dan jika klien tidak dapat mendistribusikan video ke seseorang sendirian, maka Anda perlu menurunkan kualitasnya, karena aliran umum dikodekan untuk semua orang. <br><br>  Dalam hal ini, untuk 5 peserta, 3 atau 4 Mbps tidak cukup. <br><img src="https://habrastorage.org/webt/ah/h5/rf/ahh5rfvgcjjkm70qhzv1ruduaws.jpeg"><br>  Oleh karena itu, di WhatsApp dalam panggilan grup ada maksimum 4 peserta, dan tidak akan lagi selama mereka menggunakan Mesh. <br><br>  Pilihan lain adalah <strong>mengumpulkan</strong> seluruh gambar <strong>di server</strong> .  Ini adalah yang paling menguntungkan bagi klien: ia memiliki satu koneksi ke server, server mengumpulkan gambar, klien menerimanya kembali. <br><img src="https://habrastorage.org/webt/bg/_3/qh/bg_3qhrgkt1izvjkwciy4pfegbm.jpeg"><br>  Tetapi anggaplah pengguna kami dari Petropavlovsk-Kamchatsky, Komsomolsk-on-Amur dan Novosibirsk ingin mengobrol melalui server Moskow.  Secara alami, itu akan menjadi sangat buruk.  Kehadiran CDN akan membantu sedikit, tetapi masih mendapatkan sejumlah besar buffer jitter, yang secara total akan membuat tambahan latensi yang layak. <br><br>  Topologi berikutnya - <strong>Pencampuran akhir</strong> - menyarankan tidak mengumpulkan gambaran umum pada server untuk menghindari keterlambatan ini, tetapi hanya melempar paket. <br><img src="https://habrastorage.org/webt/1k/aj/cc/1kajccrtduezyvharoklxqwlv0e.jpeg"><br>  Artinya, server dalam topologi ini hanyalah sebuah relay yang mentransfer data. <br><br>  Semuanya menjadi sedikit lebih baik: pengguna menerima aliran semua peserta lain dalam panggilan dan mengirimkan sendiri hanya sekali.  Tetapi sekali lagi ada masalah: <br><br><ul><li>  <strong>Kualitas.</strong>  Semua penerima aliran Anda memiliki jaringan yang berbeda.  Jika satu orang terhubung dengan Internet yang buruk, maka video harus dikirim kepadanya dalam resolusi rendah dan, karenanya, gambar akan menjadi buruk untuk semua orang. </li><li>  <strong>Bingkai referensi badai</strong> .  Jika seseorang dengan Internet yang buruk terus-menerus meminta kerangka referensi, maka semua orang juga mulai menerima oporniks.  Ini adalah penggunaan bitrate yang tidak efisien, kualitasnya menurun lagi. </li></ul><br><img src="https://habrastorage.org/webt/26/wj/bv/26wjbvlg4tlfijnuif4dwzpfc8m.jpeg"><br>  Jika <strong>sistem terpusat digunakan</strong> , yaitu, semua video dikumpulkan di server.  Ini membutuhkan banyak tahapan pengkodean, yang ditambahkan latensi dan membutuhkan perangkat keras tambahan.  Dalam pencampuran Akhir, sebaliknya, semuanya cepat dan mudah. <br><br>  <strong>Topologi kontra:</strong> <br><br><ul><li>  Mesh - maksimal 4 anggota. </li><li>  Terpusat - masalah dengan transcoding dan jitter. </li><li>  Pencampuran akhir - batas kualitas dan kerangka acuan badai. </li></ul><br>  Hanya ICQ dan Skype yang berfungsi pada topologi Mesh, dan sisanya adalah pencampuran Akhir.  Tetapi, seperti yang kita ingat, semua layanan berbeda dalam hal karakteristik - yang berarti bahwa tidak hanya ada pencampuran Akhir, tetapi sesuatu yang lain. <br><br>  Hangouts melakukan trik dengan mencampur Akhir. <br><img src="https://habrastorage.org/webt/pm/uy/25/pmuy25cx0untfvn3gbk0qmcehay.jpeg"><br>  Dua encoders diluncurkan pada setiap klien: H.264 dalam kualitas tinggi, dan VP8 dalam kualitas rendah.  Dengan demikian, untuk pengguna dengan Internet yang baik, server mentransmisikan video berkualitas tinggi, bagi mereka yang memiliki Internet buruk, itu lebih buruk, dan kualitas buruk beradaptasi dengan jaringan terburuk.  Dua kualitas bagus, tapi ini traffic ekstra dari pelanggan dan konsumsi baterai.  Tetapi tidak ada buffer jitter <br><br>  Tabel tersebut menunjukkan bahwa dengan Hangouts yang menjalankan telepon paling panas, penundaannya minimal, tetapi kualitasnya menurun, karena kualitas rendah masih memakan bitrate tinggi. <br><img src="https://habrastorage.org/webt/na/6n/2f/na6n2fs0u3ebkqez1jjntk3kel0.jpeg"><br>    ,    : -      ,  H.264,         (    )   End mixing   .      centralized-,    ,    ,       ,     . <br><img src="https://habrastorage.org/webt/db/15/pw/db15pwl1tkdxpxd4xpz8gp-sba4.jpeg"><br> ,      :      .   ,        , ,     ,   -     .    ,           . <br><br>        . <br><img src="https://habrastorage.org/webt/0o/9y/6b/0o9y6bt7zahjvydljkpnkvaxvyk.jpeg"><br> ,  ,    ,       latency     .    ,        , ,   ,       .                 centralized,    ,  ,   jitter-  .          ,            ,   . <br><br>        «»,   .          100,  50,   20   .           . <br><img src="https://habrastorage.org/webt/du/88/yt/du88ytnejvtsgryudgkdfntv7pg.jpeg"><br>         —  ,       5 .      .    :  ,     ,      ,      —      . <br><br>  «»      , ,    , —  .       :   ,    - ,    fps.  ,          —  .    - ,  .    ,     . <br><br><h2><a name="fin"></a>   </h2><br>    Mesh  3-4       latency,    ,         Mesh.      ,   HD   End mixing, a SD —  centralized. <br><br>       Zoom. <br><img src="https://habrastorage.org/webt/h9/5q/2q/h95q2que4mihuktnf2mz18zsjua.jpeg"><br> ,    -    ,   Zoom  ,    WebRTC.   <strong>   WebRTC</strong> ,        . <br><br><h2>  </h2><br>      . <br><br> <strong>CPU   ,  .</strong>       — ,    ,   ,   ,   CPU ,  .     ,       . <br><br>   :   ,    ,      . <br><br> <strong> screen sharing   .</strong>    screen sharing,       ,    .   screen sharing  .  ,   fps — ,    ,    . <br><br> <strong>        .</strong>    —     centralized,      ,       .    ,   . <br><img src="https://habrastorage.org/webt/kd/b4/zt/kdb4ztkg9daqyfjryhpzg4u7uac.jpeg"><br>  ,        ,    ,     .         ,    ,                 . <br><br><h2><a name="server"></a>   </h2><br> ,   ,  -     .               . <br><img src="https://habrastorage.org/webt/ga/ve/43/gave43pdwqyaly4pm7b1amurzxc.jpeg"><br><br><h3> Packet pacing </h3><br> -,  UDP-     .   UDP   pacing.    UDP-  ,     . <br><img src="https://habrastorage.org/webt/mc/mb/t3/mcmbt33ngipgrs1xlf3hvhbx6d8.jpeg"><br>   ,      UDP ,   21       100%.           —     . <br><br>     pacing?    ,         (   <a href=""></a> ) —   ,  .  ,         ,  , ,  ,     ,   -             . <br><br>   : <br><br><ul><li>  pacing,     . </li><li>   pacing, ,  ,   ,      . </li></ul><br>     :        ,  pacing ,    —. <br><br>    packet pacing? <br><img src="https://habrastorage.org/webt/wp/y3/vx/wpy3vxtcvgzvn8lukrnrpm2sx2w.jpeg"><br>   ,   (    )      ,   ,  - .   (  ),     ,       ,     . <br><br>    — packet loss ,   pacing. <br><br><h3> MTU </h3><br> TCP  ,       MTU.      UDP,     ,  MTU —    ,      . <br><br>       MTU 1500,        MTU 1100,   . ,    ,        , , ,    (   ).       ,   MTU . <br><img src="https://habrastorage.org/webt/rc/r7/jv/rcr7jvrykz5mtbajkmskh-s9if0.jpeg"><br>  TCP  ,       .   ,   MTU:   -   ,    , ,    MTU.         ,   MTU,    ,  . <br><br>   . <br><img src="https://habrastorage.org/webt/mp/fx/ct/mpfxctwu5bck6fnp2_nr_lsmugc.jpeg"><br>   ,     :      ,  ,      .  98%          1350.    <strong>MTU = 1350</strong> ,    ,    2%    —  ,  . <br><br><h3>   </h3><br> WebRTC  SACK, NACK, FEC.       . <br><br>   ,   1–3%     —  ,      . <br><br>  WebRTC      negative acknowledgement (NACK). <br><img src="https://habrastorage.org/webt/n4/ik/zh/n4ikzhbxffmdjuf-a79snq2vaum.jpeg"><br>         ,  ,  -  ,  . <br><br>  , TCP   acknowledgement,     selective acknowledgement.  negative acknowledgement  ,        FEC (Forward Error Correction). <br><br>     ,   SACK, NACK, FEC,   <a href="https://youtu.be/e1JYFRwHzkQ"></a> . <br><br>  FEC ,   ,   .  :      ,   ,         .     , ,    —   . <br><img src="https://habrastorage.org/webt/fo/dw/-s/fodw-s_sepjc4qkhonlbr_k-6pq.jpeg"><br>    FEC —  XOR,      , ,  .       ,     -  . <br><br>  <a href="https://tools.ietf.org/html/draft-ietf-payload-flexible-fec-scheme-20"></a>   ,       .     ,        ,     ,     FEC-.  ,   ,         , ,          . <br><br> ,   , <strong>   </strong> .    , : <br><br><ul><li>  90%     500 /. </li><li>    — 3-4,        Mesh  End mixing. </li><li>      —  27  (,  ). </li></ul><br><h2> Check List </h2><br>          : <br><br><ul><li> Packet pacing. </li><li> MTU discovery. </li><li>  . </li><li> C    . </li></ul><br>    ,     signalling,   WebRTC,   ,   ,     - . <br><br>       ,     : <br><br><ul><li> <strong>Packet loss:</strong> , packet pacing, FEC,  MTU. </li><li> <strong>   :</strong>    back pressure  ,         FEC-. </li><li> <strong>Jitter</strong>     jitter buffer,     latency. </li><li> <strong>RTT:</strong>   ,      signaling. </li></ul><br><h1>      </h1><br> WebRTC —    .  RTP,        ,    ,   .     WebRTC  . <br><br>    ,   Zoom, Skype  Line,    .      .         . ,    ,     <a href="https://habr.com/ru/company/oleg-bunin/blog/413479/"></a>   UDP- (      ,   WebRTC),   .   ,    ,    . ,    Google STADIA. <br><br> STADIA —   ,       .    WebRTC,  ,     .  Google      WebRTC.     WebRTC     SRTP WebRTC  QUIC.  ,    ,    . <br><br>   QUIC,     .    Chrome  c Android   Google  YouTube,    TCP —  QUIC  UDP  Google.     30%   QUIC/UDP. <br><br>     QUIC     20-30%,  TCP.    - QUIC    ,       . <br><br><h1>  Kesimpulan </h1><br>     ,           .  ,     : signaling; / ;   . ,     ,    . <br><br>     ? <br><br><ul><li>  ,     - ,    . </li><li>       ,    . </li></ul><br>      /     . <br><br>  ,    , — <strong>   </strong> .        ,  latency,  . ,    !   -       :) <br><br><blockquote>    HighLoad++     . <a href="https://www.highload.ru/spb/2020"> </a> (      )   ,  <a href="https://conf.ontico.ru/lectures/propose%3Fconference%3Dhl2020-spb"> </a>   6-7  2020   .    ,   <a href="http://eepurl.com/VYVaf"></a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479852/">https://habr.com/ru/post/id479852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479836/index.html">Duma Negara telah mengadopsi amandemen undang-undang tentang listrik dalam hal pembangkitan mikro. Apakah alternatif akan bahagia?</a></li>
<li><a href="../id479842/index.html">Universitas Bata menciptakan neuron analog elektronik</a></li>
<li><a href="../id479844/index.html">Kumpulkan tim desainer UX dan kehilangan 7 juta karena kesalahan perekrutan</a></li>
<li><a href="../id479848/index.html">Milik kami di kuadran 2019! Bagaimana Solusi Rapat Gartner Laporan Konferensi Analitik Video Berubah Selama Lima Tahun</a></li>
<li><a href="../id479850/index.html">Instal Exchange 2019 pada Windows Server Core 2019</a></li>
<li><a href="../id479854/index.html">12 Desember pagi Jawa dicerna</a></li>
<li><a href="../id479858/index.html">Mencari LD_PRELOAD</a></li>
<li><a href="../id479860/index.html">Variasi pada topik pemodelan kehidupan. Bagian 2</a></li>
<li><a href="../id479862/index.html">Bagaimana cara menyimpan 15 000 rubel saat mendaftar perangkat lunak</a></li>
<li><a href="../id479864/index.html">Game on WinForms + C # dalam 16 tahun (2 bagian)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>