<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÜòÔ∏è üéûÔ∏è ü§±üèª √âcrire un plugin VLC pour apprendre l'anglais üòø üö™ üßíüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je vais vous expliquer comment √©crire un plugin en C pour le lecteur multim√©dia VLC. J'ai √©crit mon plugin pour simplifier le vision...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√âcrire un plugin VLC pour apprendre l'anglais</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475992/"><img src="https://habrastorage.org/webt/nl/nj/r4/nlnjr4lpomher2u_r87vvsjeptc.png" alt="image"><br><br>  Dans cet article, je vais vous expliquer comment √©crire un plugin en C pour le lecteur multim√©dia VLC.  J'ai √©crit mon plugin pour simplifier le visionnage d'√©missions de t√©l√©vision et de films en anglais.  L'id√©e de cr√©er ce plugin est d√©crite dans les sections <b>Id√©e</b> et <b>Recherche de solutions</b> .  Les d√©tails techniques de l'impl√©mentation du plugin sont fournis dans les sections <b>plugin</b> et <b>impl√©mentation de</b> <b>Hello World</b> .  Ce qui s'est pass√© √† la fin et comment l'utiliser peut √™tre trouv√© dans la derni√®re section, <b>R√©sultat</b> . <br><br>  Le code source du projet est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . <br><a name="habracut"></a><br><h1>  Id√©e </h1><br>  L'id√©e d'apprendre une langue √©trang√®re en regardant ma s√©rie pr√©f√©r√©e n'est pas nouvelle, mais j'ai toujours eu des probl√®mes avec elle personnellement.  Il est tr√®s difficile de regarder une s√©rie ou un film lorsque vous ne comprenez pas la moiti√© de ce qu‚Äôils disent.  Bien s√ªr, vous pouvez activer les sous-titres, mais si un mot ou une expression inconnue est rencontr√© dans un discours, il ne sera pas plus clair qu'il sera dupliqu√© par le texte.  Et je n'aimais pas du tout regarder la s√©rie avec des sous-titres russes - le cerveau passe √† sa langue maternelle et cesse de percevoir la langue √©trang√®re.  J'ai lu quelque part que vous devez d'abord regarder une s√©rie en russe, puis dans l'original.  Mais cette approche ne me convenait pas non plus.  Premi√®rement, o√π prendre autant de temps pour regarder la m√™me chose plusieurs fois, et deuxi√®mement, regarder la deuxi√®me fois n'est plus aussi int√©ressant - la motivation est perdue. <br><br>  Malgr√© toutes les difficult√©s √† regarder des √©missions de t√©l√©vision √©trang√®res, je peux assez bien lire la documentation technique, les articles et les livres en anglais.  J'aime lire des livres sur le lecteur √©lectronique Kindle, car la fonction de dictionnaire est cool, vous pouvez trouver une traduction d'un mot inconnu avec une seule touche de l'√©cran.  Il est pratique de lire des articles et des sites en anglais en installant une extension sp√©ciale pour la traduction dans le navigateur - j'utilise l'extension <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yandex.Translation</a> .  Cette approche vous permet de lire et de comprendre des textes en anglais, sans trop de distraction pour la recherche de mots inconnus. <br><br>  J'ai pens√©, pourquoi ne pas appliquer la m√™me approche pour regarder des √©missions de t√©l√©vision - nous allumons la s√©rie en anglais d√®s qu'une phrase incompr√©hensible est trouv√©e, passons √† la piste audio russe et revenons un peu en arri√®re.  Ensuite, nous continuons de regarder la s√©rie en anglais. <br><br><h1>  Rechercher une solution </h1><br>  En fait, toutes les fonctionnalit√©s dont j'ai besoin sont d√©j√† disponibles dans de nombreux lecteurs multim√©dias populaires.  La seule chose que je voudrais changer de piste audio et rembobiner la vid√©o il y a quelques secondes en cliquant sur un bouton.  Il serait √©galement formidable que, apr√®s avoir traduit un fragment incompr√©hensible, le lecteur multim√©dia lui-m√™me ait r√©tabli la piste audio en anglais.  Eh bien, ce serait bien de pouvoir r√©p√©ter le fragment traduit pr√©c√©demment avec la piste anglaise. <br><br>  Autrement dit, j'ai besoin d'un lecteur multim√©dia pour lequel vous pouvez √©crire des plugins.  Il est √©galement souhaitable qu'il soit multiplateforme, car j'utilise un PC sous Windows et un ordinateur portable sous Linux.  Mon choix s'est imm√©diatement port√© sur le VLC.  Le habr, j'ai m√™me trouv√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> dans lequel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@Idunno</a> explique comment √©crire une extension VLC sur LUA.  Soit dit en passant, il a √©galement √©crit cette extension pour apprendre l'anglais). Malheureusement, cette extension ne fonctionne pas dans les derni√®res versions de VLC (ant√©rieures √† 2.0.5).  En raison d'un fonctionnement instable, la possibilit√© d'ajouter des fonctions de rappel permettant de traiter les √©v√©nements de clavier dans l'extension LUA a √©t√© supprim√©e de l'API LUA.  Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">README</a> , un lien vers la liste de diffusion des d√©veloppeurs VLC discutant de ce probl√®me m√®ne √† son extension sur GitHub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@Idunno</a> . <br><br>  Ainsi, pour impl√©menter mon id√©e, une extension de LUA ne fonctionne pas, vous devez √©crire un plugin en C. Et bien que j'aie √©crit quelque chose en C la derni√®re fois il y a environ 7 ans, de retour √† l'universit√©, j'ai d√©cid√© de l'essayer. <br><br><h1>  Bonjour le plugin du monde </h1><br>  Il convient de noter que le lecteur multim√©dia VLC poss√®de une assez bonne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> .  J'en ai appris que le d√©veloppement d'un lecteur multim√©dia utilise une approche modulaire.  VLC se compose de plusieurs modules ind√©pendants qui impl√©mentent certaines fonctionnalit√©s et du noyau ( <b>libVLCCore</b> ), qui g√®re ces modules.  Il existe deux types de modules: internes ( <i>dans l'arborescence</i> ) et externes ( <i>hors de l'arborescence</i> ).  Le code source des modules internes est stock√© dans un r√©f√©rentiel avec le code du noyau.  Les modules externes sont d√©velopp√©s et assembl√©s ind√©pendamment du lecteur multim√©dia VLC.  En fait, ces derniers sont ce qu'on appelle des plugins. <br><br>  La documentation contient √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> sur la fa√ßon d'√©crire votre plug-in (module) en C. Cet article fournit le code source d'un plug-in simple qui, au d√©marrage de VLC, affiche un message de bienvenue ¬´ <i>Bonjour, &lt;nom&gt;</i> ¬ª sur la console (la valeur &lt;nom&gt; est prise depuis les param√®tres du plugin).  En courant un peu plus loin, je dirai que dans l'exemple ci-dessus, ajoutez la ligne suivante apr√®s <code>set_category(CAT_INTERFACE)</code> : <br><br><pre> <code class="cpp hljs">set_subcategory( SUBCAT_INTERFACE_CONTROL )</code> </pre> <br>  Eh bien, il ne reste plus qu'√† construire le plugin et tester son fonctionnement.  Il y a aussi une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instruction pour</a> construire un plugin externe.  Ici, il convient de pr√™ter attention √† la section <b>Internationalisation</b> , qui d√©crit le fonctionnement de la localisation dans VLC.  En bref, pour les plug-ins externes, vous devez d√©finir les macros <code>N_()</code> , <code>_()</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DOMAIN </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"vlc-myplugin"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _(str) dgettext(DOMAIN, str) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> N_(str) (str)</span></span></code> </pre> <br>  Pour l'assemblage, il est propos√© d'utiliser le bon vieux Makefile ou Autotools.  J'ai d√©cid√© de suivre la voie simple et j'ai choisi le Makefile.  Dans le Makefile, vous devez vous rappeler de d√©finir la variable <b><code>MODULE_STRING</code></b> - c'est l'identifiant de notre plugin.  J'ai √©galement modifi√© un peu le travail avec les r√©pertoires - maintenant ils sont d√©finis via <i>pkg-config</i> .  Le r√©sultat est les fichiers suivants: <br><br><div class="spoiler">  <b class="spoiler_title">bonjour.c</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @file hello.c * @brief Hello world interface VLC module example */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> HAVE_CONFIG_H # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"config.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DOMAIN </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"vlc-myplugin"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _(str) dgettext(DOMAIN, str) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> N_(str) (str) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdlib.h&gt; /* VLC core API headers */ #include &lt;vlc_common.h&gt; #include &lt;vlc_plugin.h&gt; #include &lt;vlc_interface.h&gt; /* Forward declarations */ static int Open(vlc_object_t *); static void Close(vlc_object_t *); /* Module descriptor */ vlc_module_begin() set_shortname(N_("Hello")) set_description(N_("Hello interface")) set_capability("interface", 0) set_callbacks(Open, Close) set_category(CAT_INTERFACE) set_subcategory( SUBCAT_INTERFACE_CONTROL ) add_string("hello-who", "world", "Target", "Whom to say hello to.", false) vlc_module_end () /* Internal state for an instance of the module */ struct intf_sys_t { char *who; }; /** * Starts our example interface. */ static int Open(vlc_object_t *obj) { intf_thread_t *intf = (intf_thread_t *)obj; /* Allocate internal state */ intf_sys_t *sys = malloc(sizeof (*sys)); if (unlikely(sys == NULL)) return VLC_ENOMEM; intf-&gt;p_sys = sys; /* Read settings */ char *who = var_InheritString(intf, "hello-who"); if (who == NULL) { msg_Err(intf, "Nobody to say hello to!"); goto error; } sys-&gt;who = who; msg_Info(intf, "Hello %s!", who); return VLC_SUCCESS; error: free(sys); return VLC_EGENERIC; } /** * Stops the interface. */ static void Close(vlc_object_t *obj) { intf_thread_t *intf = (intf_thread_t *)obj; intf_sys_t *sys = intf-&gt;p_sys; msg_Info(intf, "Good bye %s!", sys-&gt;who); /* Free internal state */ free(sys-&gt;who); free(sys); }</span></span></span></span></code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Makefile</b> <div class="spoiler_text"><pre> <code class="smalltalk hljs"><span class="hljs-type"><span class="hljs-type">LD</span></span> = ld <span class="hljs-type"><span class="hljs-type">CC</span></span> = cc <span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span> = pkg-config <span class="hljs-type"><span class="hljs-type">INSTALL</span></span> = install <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> = -g -<span class="hljs-type"><span class="hljs-type">O2</span></span> -<span class="hljs-type"><span class="hljs-type">Wall</span></span> -<span class="hljs-type"><span class="hljs-type">Wextra</span></span> <span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span> = <span class="hljs-type"><span class="hljs-type">LIBS</span></span> = <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_CFLAGS</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --cflags vlc-plugin) <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_LIBS</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --libs vlc-plugin) <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_DIR</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --variable=pluginsdir vlc-plugin) plugindir = <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_DIR</span></span>)/misc override <span class="hljs-type"><span class="hljs-type">CC</span></span> += -std=gnu99 override <span class="hljs-type"><span class="hljs-type">CPPFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">DPIC</span></span> -<span class="hljs-type"><span class="hljs-type">I</span></span>. -<span class="hljs-type"><span class="hljs-type">Isrc</span></span> override <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> += -fPIC override <span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">Wl</span></span>,-no-undefined,-z,defs override <span class="hljs-type"><span class="hljs-type">CPPFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">DMODULE_STRING</span></span>=\<span class="hljs-comment"><span class="hljs-comment">"hello\"</span></span> override <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> += <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_CFLAGS</span></span>) override <span class="hljs-type"><span class="hljs-type">LIBS</span></span> += <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_LIBS</span></span>) all: libhello_plugin.so install: all mkdir -p -- <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">DESTDIR</span></span>)<span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL</span></span>) --mode <span class="hljs-number"><span class="hljs-number">0755</span></span> libhello_plugin.so <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">DESTDIR</span></span>)<span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir) install-strip: <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">MAKE</span></span>) install <span class="hljs-type"><span class="hljs-type">INSTALL</span></span>=<span class="hljs-comment"><span class="hljs-comment">"$(INSTALL) -s"</span></span> uninstall: rm -f <span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir)/libhello_plugin.so clean: rm -f -- libhello_plugin.so src/*.o mostlyclean: clean <span class="hljs-type"><span class="hljs-type">SOURCES</span></span> = hello.c <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.o): <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.c) libhello_plugin.so: <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.o) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CC</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span>) -shared -o <span class="hljs-string"><span class="hljs-string">$@</span></span> <span class="hljs-string"><span class="hljs-string">$^</span></span> <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">LIBS</span></span>) .<span class="hljs-type"><span class="hljs-type">PHONY</span></span>: all install install-strip uninstall clean mostlyclean</code> </pre></div></div><br>  Le moyen le plus simple de cr√©er un plugin pour Linux.  Pour ce faire, vous devez en fait installer le lecteur multim√©dia VLC lui-m√™me, ainsi que les fichiers et les outils n√©cessaires √† la cr√©ation du plug-in.  Sur Debian / Ubuntu, cela peut √™tre fait avec la commande suivante: <br><br><pre> <code class="bash hljs">sudo apt-get install vlc libvlc-dev libvlccore-dev gcc make pkg-config</code> </pre> <br>  En fait, tout est pr√™t, nous collectons et installons notre plugin en utilisant la commande: <br><br><pre> <code class="bash hljs">sudo make install</code> </pre> <br>  Pour tester le plugin, ex√©cutez √©galement VLC √† partir de la console: <br><br><pre> <code class="bash hljs">vlc</code> </pre> <br>  Malheureusement, nous n'avons vu aucun ¬´ <i>Bonjour tout le monde</i> ¬ª.  Le fait est que le plugin doit d'abord √™tre activ√©.  Pour ce faire, ouvrez les param√®tres ( <b>Outils</b> &gt; <b>Pr√©f√©rences</b> ), passez √† la vue avanc√©e (s√©lectionnez <b>Tout</b> dans le groupe <b>Afficher les param√®tres</b> ) et recherchez dans l'arborescence du panneau de gauche <b>Interface</b> &gt; <b>Interfaces de</b> <b>contr√¥le</b> - cochez la case √† c√¥t√© de notre plugin d' <b>interface Hello</b> . <br><br> <a href=""><img src="https://habrastorage.org/webt/fi/wr/ey/fiwreyqdhfd4ncbgzc2g8z1z3y8.png"></a> <br><br>  Nous enregistrons les param√®tres et red√©marrons le VLC. <br><br> <a href=""><img src="https://habrastorage.org/webt/g3/-n/h3/g3-nh3qc7k37kzwpbfywtow8msa.png"></a> <br><br><h1>  Cr√©er un plugin pour Windows </h1><br>  Avec Windows, les choses sont un peu plus compliqu√©es.  Pour construire le plugin, vous devez t√©l√©charger sdk, qui contient les biblioth√®ques, les en-t√™tes et les fichiers de configuration de VLC.  Auparavant, sdk faisait partie de l'assembly VLC standard et se trouvait dans le dossier d'installation du programme.  Maintenant, il s'agit d'un assemblage de lecteur multim√©dia s√©par√©.  Par exemple, pour VLC version 3.0.8, cet assemblage peut √™tre t√©l√©charg√© sur <a href="">ftp://ftp.videolan.org/pub/videolan/vlc/3.0.8/win64/vlc-3.0.8-win64.7z</a> (il est important de t√©l√©charger 7z -archive). <br><br>  Copiez le contenu de l'archive dans un dossier, par exemple, dans <i>C: \ Projects</i> .  En plus de sdk, l'archive contient √©galement le lecteur multim√©dia lui-m√™me, qui peut √™tre utilis√© pour tester et d√©boguer le plug-in. <br><br>  Pour que notre Makefile puisse √™tre utilis√© pour construire et installer le plugin, vous devez corriger le fichier <i>C: \ Projects \ vlc-3.0.8 \ sdk \ lib \ pkgconfig \ vlc-plugin.pc</i> , indiquant le chemin correct vers le dossier <b>sdk</b> dans les variables <b>pr√©fixe</b> et <b>pluginsdir</b> et <b>plugins</b> respectivement: <br><br><pre> <code class="bash hljs">prefix=/c/Projects/vlc-3.0.8/sdk pluginsdir=/c/Projects/vlc-3.0.8/plugins</code> </pre> <br>  Pour construire sous Windows, nous devons √©galement installer un compilateur et d'autres utilitaires.  Tous les logiciels n√©cessaires peuvent √™tre obtenus en installant l'environnement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MSYS2</a> .  Le site Web du projet contient des instructions d'installation d√©taill√©es.  En bref, imm√©diatement apr√®s l'installation, vous devez ouvrir la console ( <i>C: \ msys64 \ msys2.exe</i> ) et mettre √† jour les packages MSYS2 √† l'aide de la commande: <br><br><pre> <code class="bash hljs">pacman -Syu</code> </pre> <br>  Ensuite, fermez la fen√™tre du terminal MSYS2, puis ouvrez-la √† nouveau et ex√©cutez la commande <br><br><pre> <code class="bash hljs">pacman -Su</code> </pre> <br>  Apr√®s avoir mis √† jour tous les packages, vous devez installer la cha√Æne d'outils: <br><br><pre> <code class="bash hljs">pacman -S base-devel mingw-w64-x86_64-toolchain</code> </pre> <br>  Maintenant que tous les packages n√©cessaires sont install√©s, vous pouvez commencer √† construire le plugin.  J'ai un peu modifi√© le Makefile pour qu'il puisse construire le plugin sous Linux et sous Windows.  De plus, j'ai d√ª supprimer certains param√®tres de construction MinGW non pris en charge, en cons√©quence le Makefile a commenc√© √† ressembler √† ceci: <br><br><div class="spoiler">  <b class="spoiler_title">Makefile pour Windows</b> <div class="spoiler_text"><pre> <code class="smalltalk hljs"><span class="hljs-type"><span class="hljs-type">LD</span></span> = ld <span class="hljs-type"><span class="hljs-type">CC</span></span> = cc <span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span> = pkg-config <span class="hljs-type"><span class="hljs-type">INSTALL</span></span> = install <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> = -g -<span class="hljs-type"><span class="hljs-type">O2</span></span> -<span class="hljs-type"><span class="hljs-type">Wall</span></span> -<span class="hljs-type"><span class="hljs-type">Wextra</span></span> <span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span> = <span class="hljs-type"><span class="hljs-type">LIBS</span></span> = <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_CFLAGS</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --cflags vlc-plugin) <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_LIBS</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --libs vlc-plugin) <span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_DIR</span></span> := <span class="hljs-string"><span class="hljs-string">$(</span></span>shell <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_CONFIG</span></span>) --variable=pluginsdir vlc-plugin) plugindir = <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_DIR</span></span>)/misc override <span class="hljs-type"><span class="hljs-type">CC</span></span> += -std=gnu99 override <span class="hljs-type"><span class="hljs-type">CPPFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">DPIC</span></span> -<span class="hljs-type"><span class="hljs-type">I</span></span>. -<span class="hljs-type"><span class="hljs-type">Isrc</span></span> override <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> += -fPIC override <span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">Wl</span></span>,-no-undefined override <span class="hljs-type"><span class="hljs-type">CPPFLAGS</span></span> += -<span class="hljs-type"><span class="hljs-type">DMODULE_STRING</span></span>=\<span class="hljs-comment"><span class="hljs-comment">"hello\"</span></span> override <span class="hljs-type"><span class="hljs-type">CFLAGS</span></span> += <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_CFLAGS</span></span>) override <span class="hljs-type"><span class="hljs-type">LIBS</span></span> += <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">VLC_PLUGIN_LIBS</span></span>) <span class="hljs-type"><span class="hljs-type">SUFFIX</span></span> := so ifeq (<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">OS</span></span>),<span class="hljs-type"><span class="hljs-type">Windows_NT</span></span>) <span class="hljs-type"><span class="hljs-type">SUFFIX</span></span> := dll endif all: libhello_plugin.<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SUFFIX</span></span>) install: all mkdir -p -- <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">DESTDIR</span></span>)<span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL</span></span>) --mode <span class="hljs-number"><span class="hljs-number">0755</span></span> libhello_plugin.<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SUFFIX</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">DESTDIR</span></span>)<span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir) install-strip: <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">MAKE</span></span>) install <span class="hljs-type"><span class="hljs-type">INSTALL</span></span>=<span class="hljs-comment"><span class="hljs-comment">"$(INSTALL) -s"</span></span> uninstall: rm -f <span class="hljs-string"><span class="hljs-string">$(</span></span>plugindir)/libhello_plugin.<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SUFFIX</span></span>) clean: rm -f -- libhello_plugin.<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SUFFIX</span></span>) src/*.o mostlyclean: clean <span class="hljs-type"><span class="hljs-type">SOURCES</span></span> = hello.c <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.o): <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.c) libhello_plugin.<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SUFFIX</span></span>): <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">SOURCES</span></span>:%.c=src/%.o) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CC</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">LDFLAGS</span></span>) -shared -o <span class="hljs-string"><span class="hljs-string">$@</span></span> <span class="hljs-string"><span class="hljs-string">$^</span></span> <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">LIBS</span></span>) .<span class="hljs-type"><span class="hljs-type">PHONY</span></span>: all install install-strip uninstall clean mostlyclean</code> </pre></div></div><br>  √âtant donn√© que MSYS2 ne sait rien de notre sdk pour VLC, vous devez ajouter le chemin d'acc√®s au dossier <b>pkgconfig</b> de ce sdk √† la <b>variable d'</b> environnement <b>PKG_CONFIG_PATH</b> .  Ouvrez la console MinGW ( <i>C: \ msys64 \ mingw64.exec</i> ) et ex√©cutez les commandes: <br><br><pre> <code class="plaintext hljs">export PKG_CONFIG_PATH=/c/projects/vlc-3.0.8/sdk/lib/pkgconfig:$PKG_CONFIG_PATH make install</code> </pre> <br>  Pour tester le plugin, ex√©cutez √©galement VLC √† partir de la console: <br><br><pre> <code class="plaintext hljs">/c/projects/vlc-3.0.8/vlc</code> </pre> <br>  Comme dans le cas de Linux, allez dans les param√®tres et activez notre plugin.  Nous enregistrons les param√®tres et red√©marrons le VLC. <br><br><h1>  Impl√©mentation du plugin </h1><br>  Pour impl√©menter mon plugin, j'avais besoin de comprendre comment contr√¥ler le lecteur multim√©dia (changer la piste audio, rembobiner) et comment g√©rer les √©v√©nements de frappe de clavier.  Pour comprendre tout cela, je me suis tourn√© vers la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> .  √âgalement sur Internet, j'ai trouv√© quelques articles int√©ressants qui √©clairent l'architecture du lecteur multim√©dia: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://web.archive.org/web/20141204234622/">l'architecture du cadre</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">multim√©dia VLC</a> et la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation de l'API du lecteur multim√©dia VLC</a> . <br><br>  VLC se compose d'un grand nombre de modules ind√©pendants (400+).  Chaque module doit fournir des informations sur le type de fonctionnalit√© qu'il impl√©mente, ainsi que les fonctions d'initialisation / finalisation.  Ces informations sont d√©crites dans les <b>blocs vlc_module_begin ()</b> - <b>vlc_module_end ()</b> √† l'aide des <b>macros set_capability ()</b> et <b>set_callbacks ()</b> .  Les fonctions d'initialisation / finalisation du module (g√©n√©ralement appel√©es <b>Open</b> et <b>Close</b> ) ont la signature suivante: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Open</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">vlc_object_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">vlc_object_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *)</span></span></span></span></code> </pre> <br>  <b>vlc_object_t</b> est le type de base pour repr√©senter les donn√©es dans VLC, dont toutes les autres sont h√©rit√©es (voir l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Object_Management</a> ).  Un pointeur vers <b>vlc_object_t</b> doit √™tre <b>converti</b> en un type de donn√©es sp√©cifique conform√©ment √† la fonctionnalit√© impl√©ment√©e par le module.  Pour contr√¥ler le lecteur multim√©dia, j'ai <b>d√©fini la</b> valeur de <b>l'</b> <b><i>interface</i></b> dans la macro <b>set_capability ()</b> .  Par cons√©quent, dans les fonctions <b>Ouvrir</b> et <b>Fermer</b> , je dois <b>convertir vlc_object_t</b> en <b>intf_thread_t</b> . <br><br>  L'interaction entre les modules est bas√©e sur le mod√®le de conception de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">observateur</a> .  VLC fournit un m√©canisme de <i>¬´variables d'objet¬ª</i> (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Variables</a> ), avec lequel vous pouvez ajouter des variables aux instances de type <b>vlc_object_t</b> (et ses d√©riv√©s).  Les modules peuvent √©changer des donn√©es via ces variables.  Vous pouvez √©galement attacher une fonction de rappel √† la variable, qui sera appel√©e lorsque la valeur de cette variable change. <br><br>  Par exemple, consid√©rons le module <b>Hotkeys</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modules / control / hotkeys.c</a> ), qui est responsable de la gestion des √©v√©nements de raccourci clavier.  Dans la fonction Ouvrir, la fonction de rappel <b>ActionEvent</b> est <b>bloqu√©e</b> sur la <b>variable</b> <b>action-cl√©</b> : <br><br><pre> <code class="cpp hljs">var_AddCallback( p_intf-&gt;obj.libvlc, <span class="hljs-string"><span class="hljs-string">"key-action"</span></span>, ActionEvent, p_intf );</code> </pre> <br>  Un pointeur sur <b>vlc_object_t</b> , un nom de variable, une fonction de rappel et un pointeur sur void sont transmis √† la fonction <b>var_AddCallback</b> pour transmettre des donn√©es arbitraires, qui sont ensuite transmises √† la fonction de rappel sp√©cifi√©e.  La signature de la fonction de rappel est illustr√©e ci-dessous. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ActionEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">vlc_object_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">vlc_value_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">vlc_value_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *)</span></span></span></span></code> </pre> <br>  Un pointeur vers <b>vlc_object_t</b> , le nom de la variable, les anciennes et nouvelles valeurs de cette variable (dans ce cas, l'identifiant de la combinaison de touches de raccourci enfonc√©e correspondante de l'action), ainsi que le pointeur vers toutes les donn√©es suppl√©mentaires sp√©cifi√©es lors de l'ajout de la fonction de rappel, sont pass√©s √† la fonction de rappel. . <br><br>  Le traitement direct des √©v√©nements de raccourci clavier est effectu√© dans la fonction <b>PutAction</b> , qui est appel√©e dans la fonction de rappel <b>ActionEvent</b> .  La fonction <b>PutAction</b> accepte un identifiant d'un √©v√©nement d'appuyer sur une combinaison de touches de <b>raccourci</b> ( <b>i_action</b> ) et, avec l'aide de l'op√©rateur de commutation, effectue les actions correspondantes. <br><br>  Par exemple, un √©v√©nement de rembobinage correspond √† <b><code>ACTIONID_JUMP_BACKWARD_SHORT</code></b> .  Pour effectuer l'action correspondante, l'intervalle de rembobinage est pris √† partir des param√®tres VLC (√† partir de la <b>taille de saut</b> rapide variable): <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">mtime_t</span></span> it = var_InheritInteger( p_input, varname );</code> </pre> <br>  Pour rembobiner le fichier en cours de lecture, d√©finissez simplement la variable de <b>d√©calage temporel</b> sur la valeur correspondant √† l'heure (en microsecondes) √† laquelle vous souhaitez d√©caler la lecture: <br><br><pre> <code class="cpp hljs">var_SetInteger( p_input, <span class="hljs-string"><span class="hljs-string">"time-offset"</span></span>, it * sign * CLOCK_FREQ );</code> </pre> <br>  Pour l'avance rapide, vous devez sp√©cifier une valeur positive, pour le retour rapide - n√©gatif.  La <b>constante CLOCK_FREQ est</b> utilis√©e pour convertir les secondes en microsecondes. <br><br>  De m√™me, la piste audio change (√©v√©nement <b><code>ACTIONID_AUDIO_TRACK</code></b> ).  Seule la variable <b>audio-es</b> responsable de la piste audio peut accepter un ensemble limit√© de valeurs (conform√©ment aux pistes audio disponibles dans le fichier en cours de lecture).  Vous pouvez obtenir une liste des valeurs possibles d'une variable en utilisant la fonction <b>var_Change ()</b> : <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">vlc_value_t</span></span> <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, list2; var_Change( p_input, <span class="hljs-string"><span class="hljs-string">"audio-es"</span></span>, VLC_VAR_GETCHOICES, &amp;<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, &amp;list2 );</code> </pre> <br>  En plus de la liste des valeurs, cette fonction vous permet √©galement d'obtenir une liste des descriptions de ces valeurs (dans ce cas, le nom des pistes audio).  Maintenant, nous pouvons changer la piste audio en utilisant la fonction <b>var_Set ()</b> : <br><br><pre> <code class="cpp hljs">var_Set( p_input, <span class="hljs-string"><span class="hljs-string">"audio-es"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>.p_list-&gt;p_values[i] );</code> </pre> <br>  Comment g√©rer le lecteur multim√©dia compris, il reste √† apprendre √† g√©rer les √©v√©nements du clavier.  Malheureusement, je n'ai pas pu ajouter de nouveau raccourci clavier.  Tous les raccourcis clavier sont cod√©s en dur dans le code du noyau VLC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">src / misc / actions.c</a> ).  Par cons√©quent, j'ai ajout√© un gestionnaire pour les √©v√©nements de frappe de clavier de niveau inf√©rieur, suspendant ma fonction de rappel pour modifier la variable <b>appuy√©e sur</b> une <b>touche</b> : <br><br><pre> <code class="cpp hljs">var_AddCallback( p_intf-&gt;obj.libvlc, <span class="hljs-string"><span class="hljs-string">"key-pressed"</span></span>, KeyboardEvent, p_intf );</code> </pre> <br>  La variable <b>appuy√©e sur la touche</b> stocke le code de caract√®re (en Unicode) correspondant √† la derni√®re touche appuy√©e.  Par exemple, lorsque vous appuyez sur la touche portant le num√©ro <b>¬´1¬ª</b> , la variable <b>appuy√©e sur</b> la <b>touche se</b> verra attribuer la valeur <b><i>49</i></b> (0x00000031 dans le syst√®me de 16e num√©ro).  Vous pouvez afficher d'autres codes de caract√®res sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">unicode-table.com</a> .  De plus, la valeur de la variable <b>press√©e</b> prend en compte la pression des touches de modification, le quatri√®me octet significatif leur est allou√©.  Ainsi, par exemple, lorsque vous appuyez sur la combinaison de <b>touches</b> " <b>Ctrl + 1</b> ", la variable <b>press√©e se</b> verra attribuer la valeur 0x <b>04</b> 000031 (00000 <b>1</b> 00 00000000 00000000 00110001 <sub>2</sub> ).  Pour plus de clart√©, le tableau ci-dessous montre la signification de diff√©rentes combinaisons de touches: <br><div class="scrollable-table"><table><tbody><tr><th>  Raccourci clavier </th><th>  Valeur </th></tr><tr><td>  Ctrl + 1 </td><td>  00000 <b>1</b> 00 00000000 00000000 00110001 <sub>2</sub> </td></tr><tr><td>  Alt + 1 </td><td>  0000000 <b>1</b> 00000000 00000000 00110001 <sub>2</sub> </td></tr><tr><td>  Ctrl + Alt + 1 </td><td>  00000 <b>1</b> 0 <b>1</b> 00000000 00000000 00110001 <sub>2</sub> </td></tr><tr><td>  Maj + 1 </td><td>  000000 <b>1</b> 0 00000000 00000000 <b>00100001</b> <sub>2</sub> </td></tr></tbody></table></div>  Faites attention √† la valeur lorsque vous appuyez sur la combinaison ¬´ <b>Maj + 1</b> ¬ª.  Puisque dans ce cas le ¬´ <b>!</b>  ", Alors la valeur du premier octet correspondra au code de ce caract√®re en Unicode (0x00000021). <br><br><h1>  R√©sultat </h1><br>  J'ai appel√© mon plugin <b>TIP</b> un acronyme pour l'expression ¬´traduisez-le, s'il vous pla√Æt¬ª, aussi astuce peut √™tre traduit par ¬´indice¬ª.  Le code source du plugin est publi√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> , o√π vous pouvez √©galement t√©l√©charger des assemblys de plug-in pr√™ts √† l'emploi pour Windows et Linux. <br><br>  Pour installer le plugin, vous devez copier le fichier <b>libtip_plugin.dll</b> (libtip_plugin.so pour Linux) dans le dossier <i>&lt;path-to-vlc&gt; / plugins</i> .  Sous Windows, VLC est g√©n√©ralement install√© dans le dossier <i>C: \ Program Files \ VideoLAN \ VLC</i> .  Sous Linux, vous pouvez trouver le dossier d'installation √† l'aide de la commande: <br><br><pre> <code class="plaintext hljs">whereis vlc</code> </pre> <br>  Dans Ubuntu, par exemple, VLC est install√© dans <i>/ usr / lib / x86_64-linux-gnu / vlc</i> . <br><br>  Ensuite, vous devrez red√©marrer VLC, puis dans le menu principal, ouvrez <b>Outils</b> &gt; <b>Pr√©f√©rences</b> , passez √† la vue avanc√©e (s√©lectionnez <b>Tout</b> dans le groupe <b>Afficher les param√®tres</b> ), dans le panneau de gauche, acc√©dez √† la section <b>Interface</b> &gt; <b>Contr√¥le</b> et cochez la case √† c√¥t√© de <b>TIP (traduisez-le, s'il vous pla√Æt)</b> .  L√† encore, vous devrez red√©marrer le VLC. <br><br> <a href=""><img src="https://habrastorage.org/webt/df/06/qk/df06qkcl2vbiatwq7j_8uw4m_ey.png"></a> <br><br>  Dans les param√®tres du plugin, vous pouvez sp√©cifier les num√©ros des pistes audio principale et auxiliaire (pour la traduction), ainsi que le temps (en secondes) par lequel le plugin se rembobinera pour r√©p√©ter avec la piste audio auxiliaire. <br><br> <a href=""><img src="https://habrastorage.org/webt/mv/9-/vu/mv9-vuo9mfzicqyiqpsopnevrpu.png"></a> <br><br>  Pour contr√¥ler le plugin, j'ai ajout√© les raccourcis clavier suivants: <br><br><ul><li>  " <b>/</b> " Pour la traduction </li><li>  " <b>Shift + /</b> " pour r√©p√©ter le fragment vid√©o pr√©c√©demment traduit avec la piste audio principale </li></ul><br>  Lors de l'ex√©cution des commandes de traduction et de nouvelle tentative, le plug-in affiche respectivement les messages <i>¬´TIP: translate¬ª</i> et <i>¬´TIP: repeat¬ª</i> dans le coin sup√©rieur gauche. <br><br><img src="https://habrastorage.org/webt/4z/bu/1p/4zbu1p5mwskebq8vpbiny_oayr4.png"><br><br>  D'apr√®s mon exp√©rience en utilisant le plugin, je peux dire qu'en g√©n√©ral, je suis satisfait du r√©sultat.  L'essentiel est de choisir le bon contenu, si au moins la moiti√© du discours √©tranger utilis√© y est compris, le plugin aidera √† traduire le reste.  Sinon, le plugin sera probablement inutile. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475992/">https://habr.com/ru/post/fr475992/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475980/index.html">Faible connectivit√©, architecture et organisation d'√©quipe</a></li>
<li><a href="../fr475982/index.html">Comment apprendre une langue √©trang√®re</a></li>
<li><a href="../fr475986/index.html">Pr√©sentation du PocketBook 740 Pro Reader: 7,8 pouces, protection audio et IPX8</a></li>
<li><a href="../fr475988/index.html">Mises √† jour du g√©n√©rateur de mod√®les ML.NET</a></li>
<li><a href="../fr475990/index.html">Cr√©ation d'applications cloud modernes √† l'aide de Pulumi et .NET Core</a></li>
<li><a href="../fr475994/index.html">Trucs et astuces sympas pour WSL (Windows Subsystem for Linux)</a></li>
<li><a href="../fr475996/index.html">Ajout de quartz √† Spring Boot</a></li>
<li><a href="../fr475998/index.html">Application de l'APR dans les calculs scientifiques et techniques</a></li>
<li><a href="../fr476000/index.html">Mises √† jour du g√©n√©rateur de mod√®les ML.NET</a></li>
<li><a href="../fr476002/index.html">Exp√©rience dans la recherche d'un poste de doctorant en Allemagne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>