<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¶ üéì üêè IoT por un centavo: una gu√≠a pr√°ctica. Parte 1, hardware üë° üë®‚Äç‚öïÔ∏è ü§≤üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola geektimes! 
 
 Presentamos una serie de art√≠culos en los que consideraremos c√≥mo implementar un dispositivo IoT basado en la nube de bajo costo c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IoT por un centavo: una gu√≠a pr√°ctica. Parte 1, hardware</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataart/blog/382105/"><div style="text-align:center;"><img src="https://habrastorage.org/files/39f/d3c/c48/39fd3cc482a34653b31964014de42c79.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hola geektimes! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presentamos una serie de art√≠culos en los que consideraremos c√≥mo implementar un dispositivo IoT basado en la nube de bajo costo con un enorme potencial desde cero y sin soldadura. Como base, tomamos el microchip ESP8266 "limpio", sobre el que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escribimos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recientemente </font><font style="vertical-align: inherit;">. Utilizamos el √∫ltimo firmware de DeviceHive y escribimos una aplicaci√≥n web simple para acceder al servidor de la nube. Conectaremos un dispositivo simple al microchip, que se puede controlar con un par de clics en el navegador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ est√° el primer art√≠culo de la serie, del cual aprendemos qu√© tipo de equipo necesitamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√°s recientemente, se realiz√≥ el primer lanzamiento de la primera versi√≥n del </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firmware DeviceHive para ESP8266</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">El objetivo de nuestros art√≠culos es ayudar a todos los que quieran implementar su propia soluci√≥n de IoT utilizando DeviceHive de la manera m√°s econ√≥mica, r√°pida y sin dificultades innecesarias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo necesitamos cinco cosas:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tablero con ESP8266 soldado;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB -&gt; adaptador UART;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuente de alimentaci√≥n;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alambres</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el dispositivo en s√≠, que queremos hacer amigos con la nube.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El costo total de los primeros cuatro puntos no supera los $ 5. Qu√© dispositivo elegir para los experimentos: dec√≠dalo usted mismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Miremos cada art√≠culo con m√°s detalle.</font></font><br>
<a name="habracut"></a><br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Junta con ESP8266</font></font></b></h5><br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/ec5/ada/f8b/ec5adaf8be9345a6a2219de0d29a174d.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayor√≠a de los m√≥dulos disponibles en el mercado con ESP8266 son solo una placa en la que se encuentra el ESP8266, la memoria flash SPI 25Q40 de 512 KB (ESP tiene solo 64 kilobytes de memoria para el gestor de arranque a bordo) y una peque√±a cantidad de elementos discretos. Las diferencias a menudo resultan ser exclusivamente visuales, aunque tambi√©n hay m√≥dulos especializados con bater√≠a y varias modificaciones. Son m√°s caros, pero el significado permanece sin cambios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por separado, notamos el m√≥dulo ESP-201 (arriba en la foto). Es interesante, en primer lugar, porque no requiere soldadura, y el n√∫mero m√°ximo de pines ESP8266 est√° conectado a un conector externo, que puede ser muy √∫til en experimentos. Adem√°s, para la demostraci√≥n usaremos este m√≥dulo, sin embargo, puede tomar cualquier an√°logo. Las diferencias solo estar√°n en el cableado de las conclusiones.</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB -&gt; adaptador UART</font></font></b></h5><br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/d70/f83/7de/d70f837de45d4e0a94d0113ce8263da9.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la reprogramaci√≥n, el ESP8266 usa la interfaz UART. </font><font style="vertical-align: inherit;">Este es un puerto serie ordinario con un nivel l√≥gico de 3,3 voltios, es decir, un puerto COM simple con un nivel el√©ctrico diferente. </font><font style="vertical-align: inherit;">Dichos adaptadores est√°n ocultos en tantos dispositivos, seguramente los haya usado m√°s de una vez, sin siquiera saberlo. </font><font style="vertical-align: inherit;">En el pasado, tales adaptadores se usaban, por ejemplo, en cables telef√≥nicos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los adaptadores en CP2102, PL2303, CH431, FT232 y algunos otros son los m√°s comunes. </font><font style="vertical-align: inherit;">Cualquiera de los siguientes nos conviene. </font><font style="vertical-align: inherit;">Con esto √∫ltimo, sin embargo, vale la pena tener </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuidado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Los menores problemas con los controladores para Windows y OS X est√°n en el CP2102. </font><font style="vertical-align: inherit;">Los usuarios de Linux no tienen que preocuparse en absoluto: todos los chips son compatibles de forma nativa con el n√∫cleo.</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente de alimentaci√≥n</font></font></b></h5><br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/d34/005/632/d3400563271249a4903b33713c720d93.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ESP8266 necesita una fuente de alimentaci√≥n con un voltaje de salida de 3 a 3.6 voltios. </font><font style="vertical-align: inherit;">Esto puede ser un adaptador de red de 3.3 voltios, o una fuente reductora. </font><font style="vertical-align: inherit;">En momentos de inclusi√≥n y uso activo, el ESP8266 puede consumir hasta 300 miliamperios en pulsos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algunos adaptadores USB -&gt; UART tienen una salida de 3.3 voltios desde el estabilizador interno. </font><font style="vertical-align: inherit;">La corriente de salida es extremadamente d√©bil, por lo que una fuente de alimentaci√≥n adicional es una necesidad necesaria. </font><font style="vertical-align: inherit;">Cuando funciona con USB, una fuente en el chip AMS1117-3.3 puede ser una buena soluci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la demostraci√≥n, utilizamos la fuente que se muestra en la foto, ya que est√° equipada con muchos terminales para las conexiones.</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alambres</font></font></b></h5><br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/553/1db/4ef/5531db4efcdc470d8844ead9287ce319.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simplemente puede tomar y soldar las placas, pero por solo un d√≥lar puede comprar un lazo de cable completo con conectores soldados para conectar los m√≥dulos. </font><font style="vertical-align: inherit;">En nuestros m√≥dulos solo hay cables de tipo "macho", por lo que necesitamos cables con conectores "hembra". </font><font style="vertical-align: inherit;">Estos bucles se pueden dividir f√°cilmente a mano en bucles con menos cables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la creaci√≥n de prototipos, ¬°solo un sue√±o!</font></font><br>
<br>
<h5><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El dispositivo que queremos conectar</font></font></b></h5><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya hay un margen inicial para la imaginaci√≥n. Los dispositivos que se pueden conectar a la nube son tierra. Sin embargo, vale la pena considerar la posibilidad de conexi√≥n el√©ctrica. En cualquier pin del microcircuito, es imposible aplicar un voltaje que exceda del que se alimenta el microcircuito. La corriente de carga m√°xima permitida por pin GPIO es de 12 miliamperios. Parece que los indicadores son bastante modestos, pero de hecho estas son caracter√≠sticas est√°ndar para el microcontrolador. Para conectarse con cargas pesadas, puede usar transistores MOSFET de potencia, tiristores, rel√©s de estado s√≥lido y otras soluciones de circuitos, cuya consideraci√≥n est√° m√°s all√° del alcance de este art√≠culo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consideraremos el rel√© mec√°nico m√°s simple. En la mayor√≠a de los pisos comerciales, puede encontrar m√≥dulos listos para usar con rel√©s soldados.</font></font><br>
<br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/e2d/a3a/e1c/e2da3ae1ce0b47a5a74c1180a3e151b8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© es un m√≥dulo? Este es un rel√© ordinario con un preamplificador soldado en un optoacoplador o transistor. Un rel√© es un grupo de contactos que se cierran y se abren mec√°nicamente usando un electroim√°n ubicado en su interior. En otras palabras, los contactos son capaces de romper o conectar el circuito el√©ctrico cuando se aplica un peque√±o voltaje al electroim√°n desde el exterior. En el devanado del electroim√°n, la corriente, como regla, se obtiene en la regi√≥n de 10 a 50 miliamperios, por lo tanto, es imposible conectarlo directamente al microcontrolador. Especialmente para esto, un peque√±o preamplificador para el rel√© se suelda al m√≥dulo, que se puede conectar directamente al microcontrolador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A la izquierda se muestra una columna con bloques de terminales, a la que ya se puede conectar una carga grave. El rel√© que se muestra en la foto puede soportar 250 voltios y 10 amperios.</font></font><br>
<br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/e07/c1f/bed/e07c1fbedd154a5890a0b8fe53d3509e.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A la izquierda de la foto puedes ver el bloque de terminales. Estas tres salidas son un grupo com√∫n de contactos: uno normalmente cerrado, uno normalmente abierto y uno com√∫n. Cuando aparece una unidad l√≥gica en la entrada del m√≥dulo, el rel√© transfiere la salida com√∫n a otro contacto. De esta manera, puede cambiar, abrir o conectar cualquier cosa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para demostrar el funcionamiento del firmware, utilizamos el siguiente m√≥dulo l√°ser:</font></font><br>
<br>
<div style="text-align:center;"><img width="50%" height="50%" src="https://habrastorage.org/files/c69/af6/9ba/c69af69bab18424a921e75c41edc431c.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El m√≥dulo requiere un voltaje de 5 voltios y consume alrededor de 90 miliamperios. </font><font style="vertical-align: inherit;">Para conectarlo, necesitamos un rel√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No lo olvide: en lugar de este m√≥dulo podemos usar cualquier otro dispositivo, ya sea una bombilla en su habitaci√≥n o un potente reflector (que en s√≠ mismo es solo una gran linterna que consume kilovatios de electricidad). </font><font style="vertical-align: inherit;">Solo es necesario tener en cuenta la potencia del dispositivo al elegir un rel√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n se pueden conectar varios sensores y sensores al ESP8266, porque sus salidas (como otros microcontroladores) pueden funcionar tanto de entrada como de salida. </font><font style="vertical-align: inherit;">Adem√°s, el ESP8266 tiene una entrada anal√≥gica que se puede utilizar para transferir las se√±ales anal√≥gicas reales. </font><font style="vertical-align: inherit;">Pero esto, quiz√°s, dedicaremos un art√≠culo separado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el siguiente art√≠culo le diremos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo obtener y configurar el servidor DeviceHive; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥mo flashear y configurar ESP8266 con firmware de DeviceHive.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, no hay nada complicado aqu√≠. </font><font style="vertical-align: inherit;">Sofisticado para leer ya puede tomar nuestro firmware e intentar ejecutarlo usted mismo. </font><font style="vertical-align: inherit;">El c√≥digo fuente y la imagen compilada se pueden encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Hasta ahora, solo est√° disponible una versi√≥n p√∫blica temprana, cuyo trabajo est√° en curso. </font><font style="vertical-align: inherit;">¬°Pero ahora puedes construir dispositivos de bricolaje! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Publicado por Nikolai Khabarov, Desarrollador Integrado Senior</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es382105/">https://habr.com/ru/post/es382105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es382095/index.html">Descripci√≥n general del esc√°ner 3D ruso RangeVision Advanced</a></li>
<li><a href="../es382097/index.html">Interruptor de faros y luces para un autom√≥vil con monitoreo de bater√≠a y term√≥metros</a></li>
<li><a href="../es382099/index.html">Gogo-S: auriculares inal√°mbricos impermeables para deportistas</a></li>
<li><a href="../es382101/index.html">¬øC√≥mo le digo a mi madre si va a llover en el pa√≠s?</a></li>
<li><a href="../es382103/index.html">Se ve una bruma extra√±a sobre los puntos brillantes de Ceres</a></li>
<li><a href="../es382107/index.html">Google Maps ahora mostrar√° todos los lugares donde estabas</a></li>
<li><a href="../es382109/index.html">Intel IoT Roadshow o realidad virtual en el mundo real</a></li>
<li><a href="../es382111/index.html">El ganador del campeonato franc√©s de Scrabble no habla franc√©s</a></li>
<li><a href="../es382113/index.html">Visitando REG.RU: Emmett Brown y Marty McFly</a></li>
<li><a href="../es382115/index.html">Chrysler recuerda aproximadamente 1.4 millones de autos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>