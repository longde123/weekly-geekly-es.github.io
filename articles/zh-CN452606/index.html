<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📃 👐🏻 🔋 UDB。 这是什么 第8部分。处理UDB 👩🏿‍🤝‍👨🏼 🧝🏾 🧘🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们以有关UDB的赛普拉斯专有文档的翻译结束了我们的史诗。 有关解决UDB的最新问题就摆在您面前。 

 循环的一般内容是“ UDB。 这是什么？ 
 第1部分。简介。 请 
 第2部分。数据路径。 
 第3部分。数据路径FIFO。 
 第4部分。数据路径ALU。 
 第5部分。数据路径。 有用的小...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB。 这是什么 第8部分。处理UDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452606/"><img src="https://habrastorage.org/webt/iz/qy/4u/izqy4uelehcwdfo4bflhrrpyhze.jpeg"><br><br> 我们以有关UDB的赛普拉斯专有文档的翻译结束了我们的史诗。 有关解决UDB的最新问题就摆在您面前。 <br><a name="habracut"></a><br> 循环的一般内容是“ UDB。 这是什么？ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1部分。简介。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">请</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分。数据路径。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分。数据路径FIFO。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第4部分。数据路径ALU。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第5部分。数据路径。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有用的小东西。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第6部分。管理和状态模块。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第7部分。时序和复位控制模块</a> <br> 第8部分。寻址UDB。  （当前文章） <br><br><h2>  21.3.5 UDB寻址 </h2><br>  UDB对具有三个唯一的地址空间： <br><br><ul><li> 8位工作寄存器-每个总线周期只能访问8位数据的总线控制器可以使用此地址空间读取或写入任何UDB工作寄存器。 这些寄存器包括在正常操作期间CPU和DMA与之交互的寄存器。 </li><li>  16位工作寄存器-诸如DMA或PSoC 5LP Cortex-M3之类的16位总线控制器可以在单个总线周期中访问16位，以提供需要16位或更多位的数据传输功能。 尽管该地址空间未绑定到与8位空间绑定的区域，但它只能访问同一寄存器，一次只能访问一对寄存器。 </li><li>  8位或16位配置寄存器-这些寄存器配置UDB以执行功能。 配置后，通常在UDB操作期间将寄存器设置为静态。 这些寄存器在睡眠模式后保持其状态。 <br></li></ul><br>  <b><i>译者注</i></b> <br>  <i>一切都以某种方式复杂地制定。</i>  <i>我认为，对于前两点，引入工作寄存器的不同位深度的寻址方法的概念比较容易。</i>  <i>分别通过8位和16位工作寄存器。</i>  <i>如果您在阅读这些段落时感到困惑，请尝试以这种方式考虑文本。</i>  <i>CPU地址空间中的不同窗口，可通过不同位的工作寄存器对它们进行寻址。</i>  <i>仅此而已。</i> <br><br><h3>  21.3.5.1工作寄存器地址空间 </h3><br> 工作寄存器在正常操作期间使用，包括电池，数据寄存器，FIFO，控制和状态寄存器，掩码重叠寄存器和辅助控制寄存器。 <br><br> 图21-43显示了一个UDB的寄存器映射。 <br><br> 在图21-43的右边是一个始终为偶数的16位地址。 在这种情况下，由于地址的偶数位置，UDB号的大小为5位而不是4位。 高4位仍设置寄存器号。 <br><br><img src="https://habrastorage.org/webt/_z/2v/qv/_z2vqvuepoda43mnwkw-nstkpdg.png"><br>  <i>图21-43。</i>  <i>工作寄存器UDB。</i> <br><br>  <b>8位工作寄存器访问</b> <br> 在此模式下，通过字节边界上对齐的地址访问所有UDB寄存器。 在8位寄存器的访问模式下，如图21-44所示，所有写入UDB的数据字节均与16位UDB总线的低字节对齐。 <br><br> 在这种模式下，任何时候只能访问一个字节。 <br><br><img src="https://habrastorage.org/webt/po/he/g4/poheg44zz-voo5ggnlvf-mzpec0.png"><br>  <i>图21-44。</i>  <i>访问8位工作寄存器。</i> <br><br>  <b>16位工作寄存器地址空间</b> <br> 一个16位地址空间，用于高效的DMA访问，并为支持它的处理器（例如PSoC 5LP中的Cortex-M3）提供CPU编程访问。 访问16位寄存器有两种模式：默认模式和串联模式。 如图21-45所示，在默认模式下，它通过低字节访问UDB'i'中的指定寄存器，并通过高字节访问UDB'i + 1'中的同一寄存器。 这使得在配置为16位功能的相邻UDB中（按地址顺序）高效处理16位数据。 <br><br><img src="https://habrastorage.org/webt/yi/4w/ld/yi4wldidlm_2efrjsxv7_rjfn6o.png"><br>  <i>图21-45。</i>  <i>在默认模式下访问16位工作寄存器。</i> <br><br> 在串联模式下，一个UDB的寄存器被合并以形成16位寄存器，如图21-46所示。 在这种模式下，UDB阵列的16位数据总线必须以图中所示的格式访问UDB中的一对寄存器。 例如，当访问寄存器A0时，实际上将发生通过低字节访问A0和通过高字节访问A1的情况。 <br><br><img src="https://habrastorage.org/webt/zn/wi/um/znwiumy4r3nysfoca4ozzv_9swu.png"><br>  <i>图21-46。</i>  <i>在串联模式下访问16位工作寄存器</i> <br><br>  DMA的使用受16位工作寄存器的位深度限制。 当使用大于16位的功能时，这还不够。 如图所示，这是由地址覆盖引起的 <br> 表格21-25。 <br><br> 表21-25。 针对16位UDB功能的优化地址空间。 <br><div class="scrollable-table"><table><tbody><tr><th> 地址 </th><th> 高字节写入 </th><th> 低字节写入 </th></tr><tr><td>  0 </td><td>  UDB1 </td><td>  UDB0 </td></tr><tr><td>  2 </td><td>  UDB2 </td><td>  UDB1 </td></tr><tr><td>  4 </td><td>  UDB3 </td><td>  UDB2 </td></tr></tbody></table></div><br> 当DMA将16位发送到地址0时，低字节和高字节分别写入UDB0和UDB1。 在下一次到地址2的16位DMA传输中，UDB1中的值被该传输的低字节覆盖。 <br><br> 为避免与此类存储器组织相关的问题，建议对于位深度大于16位的功能，对具有8位工作寄存器的区域启动DMA处理。 <br><br><h3>  21.3.5.2配置寄存器地址空间 </h3><br> 配置在UDB对级别完成。 一个UDB对由两个UDB和一个关联的跟踪器通道组成，如图21-47所示。 <br><br><img src="https://habrastorage.org/webt/qv/7y/9t/qv7y9t4dpuqxrq0yzmrbjprga1q.png"><br> 图21-47。 用于配置UDB对的地址方案。 <br><br><h3>  21.3.5.3 UDB配置地址空间 </h3><br> 图21-48显示了特定UDB的地址配置图。 如您所见，此配置空间在两个UDB中成对重复。 每个UDB配置总共保留128个字节（7位地址），这些字节分为16位段。 值得注意的是，不支持对奇数边界的16位访问。 读取总是在配置空间中返回16位，并且不必要的字节可以忽略。 <br><br><img src="https://habrastorage.org/webt/gz/sp/wi/gzspwipjsd6w69zzfagcra7qyua.png"><br> 图21-48。  UDB配置的地址空间。 <br><br><h3>  21.3.5.4路由配置地址空间 </h3><br>  UDB跟踪配置由嵌入式RAM位组成，用于控制网关交换机，分段和输入/输出缓冲区的状态。 <br><br><h2>  21.3.6系统总线访问一致性 </h2><br>  UDB寄存器具有双重访问模式： <br><br><ul><li> 访问系统总线，CPU或DMA在其中读取或写入UDB寄存器； </li><li>  UDB内部访问，其中UDB函数更新或使用寄存器的内容 </li></ul>  。 <br><h3>  21.3.6.1同时访问系统总线 </h3><br> 下表包含可能的并发访问事件和所需行为的列表。 <br><br> 表21-26。 同时访问系统总线。 <br><div class="scrollable-table"><table><tbody><tr><td>  <b>报名</b> </td><td>  <b>来自UDB的记录</b> <b><br></b>  <b>公交录音</b> </td><td>  <b>来自UDB的记录</b> <b><br></b>  <b>从公交车上看书</b> </td><td>  <b>从UDB读取</b> <b><br></b>  <b>公交录音</b> </td><td>  <b>从UDB读取</b> <b><br></b>  <b>从公交车上看书</b> </td></tr><tr><td> 斧头 </td><td rowspan="2"> 不确定的结果 </td><td rowspan="2"> 无法直接使用<sup>a，b</sup> </td><td rowspan="2">  UDB读取先前的值 </td><td rowspan="2"> 总线和UDB读取当前值。 </td></tr><tr><td>  Dx </td></tr><tr><td> 外汇 </td><td> 不支持（UDB和总线必须具有多向访问权限） </td><td colspan="2"> 如果使用FIFO状态标志，则同时读/写 </td><td> 不支持（UDB和总线必须具有多向访问权限） </td></tr><tr><td>  ST </td><td> 不可用，总线未写入 </td><td> 总线读取先前的值。 </td><td colspan="2"> 不可用，UDB无法读取 </td></tr><tr><td>  CTL </td><td colspan="2"> 不可用，UDB不写 </td><td rowspan="5">  UDB读取先前的值 </td><td rowspan="6"> 总线和UDB读取当前值。 </td></tr><tr><td> 碳纳米管 </td><td> 不确定的结果 </td><td>  <sup>无法</sup>直接<sup>从</sup> </td></tr><tr><td>  ACTL </td><td colspan="2" rowspan="3"> 不可用，UDB不写 </td></tr><tr><td> 姆斯克 </td></tr><tr><td> 每笔 </td></tr><tr><td>  MC（RO） </td><td> 不可用，总线未写入 </td><td> 无法直接使用<sup>d</sup> </td><td> 不可用，总线未写入 </td></tr></tbody></table></div><br> 一个 使用FIFO软件捕获功能可以安全地读取Ax寄存器。 <br>  b。 在Dx寄存器中，只能动态写入FIFO。 在这种模式下，无法直接读取Dx寄存器。 <br>  c。 仅当禁用CNT寄存器时，才能安全地读取它。 动态读取CNT值的另一种方法是将输出跟踪到SC寄存器（透明模式）。 <br>  d。 可以将MC寄存器位跟踪到状态寄存器输入（透明模式）以安全读取。 <br><br><h3>  21.3.6.2相干累加器访问（原子读取和写入） </h3><br>  UDB电池是数据处理的主要目标。 因此，如上表所示，在正常操作期间直接读取这些寄存器将产生不确定的结果。 但是，以原子捕获的形式内置支持，以程序捕获的形式在链中连接的块上实现。 在这种使用模型中，读取最后一个有效的电池会将数据从链中连接的所有模块传输到关联的FIFO。  FIFO中的原子记录可以通过编程实现。 可以在FIFO输入上执行单独的写操作，然后可以将最近记录的FIFO状态信号转发到所有连接的模块，同时FIFO数据将传输到Dx或Ax寄存器。 <br><br><h3>  <i>译者的后记</i> </h3><br>  <i>这个翻译周期是对<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章</a>评论的回应，该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章</a>首先被提议来简要描述UDB是什么。</i>  <i>现在很明显，对于一个简短的答案，有必要至少引用这里介绍的材料的一半，否则答案仍然是不完整的。</i>  <i>但是现在所有材料都经过翻译和编译。</i>  <i>任务完成。</i> <i><br><br></i>  <i>在进行这项工作的同时，我们还提请注意另一个有趣的PSoC模块，该模块虽然鲜为人知，但功能强大。</i>  <i>这是DFB，数字滤波器模块。</i>  <i>没错，赶紧进行翻译很可怕。</i>  <i>从有关UDB的翻译中可以明显看出，一个文档还不够，需要实践。</i>  <i>麻烦的是，UDB上没有现成的示例，但确实如此。</i>  <i>尚无法从DFB上的示例中找到有价值的内容（赛普拉斯本身以黑匣子的形式制作了一个数字滤波器，它可以工作，但尚不清楚如何操作）。</i>  <i>没有示例的翻译将毫无意义。</i>  <i>因此，借此机会，我们提请读者注意这一块。</i>  <i>评论中的某个人也许会提供指向好的示例的链接。</i>  <i>如果我们设法解决这一问题，将有可能在其上进行翻译和撰写实用文章。</i>  <i>同时，仅此而已。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN452606/">https://habr.com/ru/post/zh-CN452606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN452590/index.html">美国人为低预算3D打印学校的孩子们创建了一个移动教室，该项目已经收集了超过100,000个</a></li>
<li><a href="../zh-CN452592/index.html">第0部分。需要一个elf在Matrix中工作。 可以搬迁</a></li>
<li><a href="../zh-CN452596/index.html">从一个骗子那里获得了735,000个IPv4地址，并将其返回注册表</a></li>
<li><a href="../zh-CN452598/index.html">程序员团队的管理：如何以及如何正确激励他们？ 第一部分</a></li>
<li><a href="../zh-CN452602/index.html">适用于高负载数据库管理系统的Cisco Hyperflex</a></li>
<li><a href="../zh-CN452608/index.html">第1部分。QInst：最好先输掉一天，然后在五分钟内飞起来（编写文书非常琐碎）</a></li>
<li><a href="../zh-CN452610/index.html">帮助并要求她。 关于普通用户信息安全的文章</a></li>
<li><a href="../zh-CN452612/index.html">在tensorflow.js上加强深度神经网络机器学习：技巧</a></li>
<li><a href="../zh-CN452614/index.html">如何在Adobe Illustrator中开始编程。 第二部分</a></li>
<li><a href="../zh-CN452618/index.html">Google I / O 2019所说的话：Android 10，AR应用程序等等</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>