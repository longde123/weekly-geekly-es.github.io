<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧔🏿 🤥 🤙🏻 如何在AWS中节省多达一百万美元？ 👂🏼 👨🏽‍🔧 🌙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！ 我向您提供“如何降低AWS成本？ 这些准则可为您节省多达$ 500k！” 作者George Batschinski。 



 在本文中，我们将详细介绍Back4App如何将其AWS支出从每月55,492美元减少到每月20,074美元，以及每年节省500,000美元。 我们将根据自己降低A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何在AWS中节省多达一百万美元？</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467843/">哈Ha！ 我向您提供<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“如何降低AWS成本？</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这些准则可为您节省多达$ 500k！”</a> 作者George Batschinski。 <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/0.png" alt="图片"><br><br> 在本文中，我们将详细介绍Back4App如何将其AWS支出从每月55,492美元减少到每月20,074美元，以及每年节省500,000美元。 我们将根据自己降低AWS成本的经验描述实际步骤，并分享对我们也有用的技巧。 <br><a name="habracut"></a><br>  AWS继续创新并主导云市场。 它发展如此之快，已成为亚马逊战略的关键部分。 我对AWS充满热情，但是对云的复杂性和成本的怀疑促使我优化了云的使用。 尽管AWS为不同类型的开发提供了不断增长的专业服务列表，但它并不总是最直接，快速或负担得起的方式。 理想情况下，一旦您进入云环境，就需要立即考虑该架构以降低成本。 该材料将有助于加速成本优化，并包含我们在削减成本的过程中遇到的实际案例。 <br><br> 您将在本文中找到的简要概述： <br><br><ul><li>  <b>向AWS申请贷款，最高可获得100,000美元;</b> </li><li>  <b>将数据传输转移到Cloud Front并节省多达75％的费用；</b> </li><li>  <b>使用专用IP（不是弹性IP）并停止为访问区域之间的数据传输付费；</b> </li><li>  <b>竞价型实例最多可节省90％；</b> </li><li>  <b>通过在AWS Marketplace购买预留实例可节省多达75％的费用;</b> </li><li>  <b>获取保留的Elastic Cache节点，最多可节省77％；</b> </li><li>  <b>将数据保留在S3中，但不保留在EBS中，最多可节省75％；</b> </li><li>  <b>配置空闲资源的自动扩展；</b> </li><li>  <b>选择北弗吉尼亚地区，远离圣保罗；</b> </li><li>  <b>升级到新一代实例，最多可节省20％；</b> </li><li>  <b>在VPC中找到S3端点，并在EC2上启用增强型网络。</b> </li></ul><br> 这是我们的AWS账户在2019年1月的样子。云的总成本为55,492美元。 <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/1.png" alt="图片"><br><br> 这是我们的AWS账户在2019年5月的样子。总成本为20,074美元。 <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/2.png" alt="图片"><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/3.png" alt="图片"><br><br><h2>  1. AWS贷款 </h2><br> 首先！ 开始做任何事情之前，请确保您的公司有资格获得AWS贷款。 您可以通过以下方式获得这些贷款： <br><br><h3> 向AWS贷款 </h3><br> 就我们而言！  2016年，我们的公司发展相当迅速。 我们的AWS账单开始增加，我们没有想法或时间来优化AWS的使用。 由于我们没有资金，因此我们意识到我们要么会从AWS那里获得贷款，要么就会消失。 我们为AWS经理账户准备了案例，展示了我们的发展速度以及AWS在我们站点上为我们提供支持的优势。 我们向他展示了我们没有资金，如果我们没有收到AWS的贷款，将被迫去Google Cloud（他们向我们提供了100,000美元的贷款，用于迁移到AWS）。 响应花了大约一周的时间，AWS为我们提供了100,000美元，供我们在12个月内使用。 对于AWS来说也很划算！ 自贷款到期以来，我们在AWS上花费了超过750,000美元。 <br><br><h3> 测试和启动概念验证的学分 </h3><br> 如果您打算从AWS或实例类型测试新服务，请向客户经理寻求贷款。 贷款数量将取决于您的每月费用和启动POC的总体工作量。 这些贷款通常仅有效三个月，您需要确保POC的速度。 在我们的案例中，我们能够获得3,000美元的贷款来测试i3系列实例。 <br><br><h3> 创业学分 </h3><br> 如果您创办了公司或创办了一家初创公司，这是前进的好方法。 贷款金额从1,000美元到100,000美元不等，具体取决于您如何展示AWS案例。 有几种获得这些贷款的方法。 <br><br><h4> 促进剂 </h4><br>  Startup Accelerators提供的奖金中的主要优点之一。 这些奖金之一是来自云提供商的贷款。 您可以收到的金额取决于您所代表的加速器。  YC，Alchemist，Wayra和500 Startups等一些最好的公司将为您提供100,000美元的AWS贷款。 在我们的案例中，我们被Alchemist Accelerator接受并发放了100,000美元的贷款。 不幸的是，我们无法使用这些贷款，因为在此之前我们已经利用了其他贷款。 例如，如果您接受两个加速器，每个加速器的价格为100,000美元，那么您将无法使用200,000美元，而只能使用100,000美元。 <br><br><h4> 风险基金和天使集团 </h4><br> 一些WF / Angel Groups提供贷款作为奖金计划的一部分。 在我们的案例中，我们设法从一位投资人那里获得了10,000美元的有效期为两年的营销贷款。 不幸的是，我们无法使用它们。 如果公司先前收到了同等或更多金额的贷款，则不能使用AWS促销积分。 <br><br><h4> 所有领先的云提供商都为初创企业提供贷款 </h4><br> 云市场上的所有领先企业都向初创企业提供贷款。 使用AWS / Google，贷款最高可达100,000美元。 在Azure上，您可以获得三年的360,000美元。 <br><br><h2>  2.在AWS上节省成本 </h2><br> 轻松的部分已经结束，现在让我们开始面对挑战吧！ 在AWS中没有降低成本的灵丹妙药，您需要努力工作并遵循常规步骤来监控成本！ 降低云成本应该是您的日常工作！ 想象一下您在365天内节省了多少！ 您投资的时间长短取决于组织的规模和您的AWS成本。 我每天大约花费30分钟来监控自己的帐户并优先考虑削减费用的措施。 此外，Back4App工程师每天至少花费1个小时来削减成本。 <br><br> 我们完成的第一个计划是：在Excel中创建一个简单的工作表，以优先考虑降低成本的计划。 <br><br> 我们确定节省的主要标准： <br><br><ul><li> 储蓄潜力-最高的储蓄收益 </li><li> 难度-应用努力和所需工作有多困难 </li><li> 所有者-谁来执行操作 </li></ul><br> 在我们的案例中，最大的节省是使用弹性计算云（EC2），这是我们开始了解的第一个主题。 <br><br><h2>  3. EC2-弹性计算云 </h2><br><h3> 关闭未使用的实例 </h3><br> 降低EC2成本的第一步是关闭未使用的实例。 没有什么复杂的，大多数工作都非常简单。 您需要做的是列出所有实例，从示例中加载excel文件，然后定义每个实例。 在我们的案例中，我们将实例分为3个主要类别： <br><br><ul><li> 必须连续工作的实例 </li><li> 可以停止的实例 </li><li> 可以删除的实例 </li></ul><br>  <b>不停止，但删除实例</b> <br><br> 尽可能删除未使用的实例！ 如果您只是停止使用它们，则将继续为使用EBS付费！ <br><br><h3> 减少多余的资源 </h3><br> 该操作稍微复杂一些，并且绝对有必要正确选择实例大小。 请确保您至少评估了一周的数据，以增加正确更改实例的可能性。 我们控制此过程的方法是将实例分为3个主要类别： <br><br><ul><li> 正确尺寸 </li><li> 减少实例大小 </li><li> 增加实例大小 </li></ul><br> 验证实例历史数据的方法非常简单。 在AWS控制面板中，转到服务&gt; EC2&gt;实例&gt;运行实例，然后选择实例&gt;监控。 例如，您可以检查“ CPU利用率”指标。 <br><br>  <b>依次减小实例大小</b> <br><br> 逐步减小实例大小。 例如，不要将大小从t2.xlarge减小到t2.medium。 首先，将其从t2.2xlarge减小到t2.xlarge。 看一个星期，检查使用了多少资源，然后在新资源上重复这些步骤。 通过执行这些步骤，可以最大程度地减少错误或停机的机会。 <br><br><h3> 使用预留实例 </h3><br> 保留实例最多可以节省70％。 请记住，预订实例时，您需要在预订期间支付24/7的费用。 无论您是否使用实例，您都将付款。 <br><br> 冗余容量有两种： <br><br> 标准-可以在AWS Marketplace上出售的标准产品，不能转换为比可转换实例便宜的另一种实例。 <br><br> 可转换-您将无法在AWS Marketplace上出售它，但可以将其转换为其他类型的实例，价格比标准实例昂贵。 <br><br>  <b>可转换实例可能会令人困惑</b> <br><br> 可转换实例非常困难！ 每次转换实例时，只能增加实例的大小。 请考虑以下情况： <br><br> 您获得t3.medium，这是一个可转换的预留实例。 <br> 您决定将t3.medium转换为m5.large实例。 <br><br> 您一定会成功！ 使用m5.large实例一段时间后，您将需要返回到t3.medium。 <br><br>  <b>这已经不可能了！</b> <br><br> 您将无法减少可转换实例的消耗，而只能增加为其支付的金额。 因此，请确保从一个小的保留实例开始，并随着时间的推移增加它。 不要从大型实例开始，因为您无法减少其消耗或在AWS Marketplace'e上出售它。  <b>如果您对可转换的预留实例有误，则可以每月支付12或36个月的费用。</b> 在Back4App，我们总是首先获取t2.nano并根据需要增加它。 <br><br> 我倾向于使用标准预留实例而不是可转换实例，原因如下： <br><br><ul><li> 他们便宜 </li><li> 它们具有更高的流动性-可以随时在AWS Marketplace上出售。 </li><li> 可以在AWS Marketplace上以折扣价购买它们。 </li></ul><br><h3> 将AWS Marketplace用于保留实例 </h3><br> 保留实例很棒，但是在AWS Marketplace上购买保留实例更好！ <br><br><h3>  AWS Marketplace可能便宜得多 </h3><br>  AWS Marketplace看起来像证券市场！ 您有时可以用比直接从AWS购买价格更实惠的价格购买标准预留实例。 原因很简单。 公司有时会拥有不再使用的冗余实例，但会继续为其付费。 降低住宿价格可加快购买过程。 <br><br> 在这里，我将举例说明Back4App发生了什么。 我正在寻找4个r4.large预留实例。 我设法在AWS Marketplace上找到了比按需价格便宜75％的有效率的实例。  AWS出售了相同类型的预留实例，但有62％的折扣。 <br><br><h3>  AWS Marketplace具有灵活的购买条件 </h3><br>  AWS Marketplace的另一个优势是您可以灵活地购买实例。  AWS本身仅提供12个月和36个月的选项来购买预留实例。  AWS Marketplace更加灵活！ 例如，您可以以与36个月相同的价格购买15个月的预留实例。 一些公司喜欢长期义务（36个月），并且在义务到期之前，他们在AWS Marketplace上出售它们。 新客户将仅在剩余期间使用实例，例如： <br><br><ul><li> 总采集时间：36个月 </li><li> 初始买方：使用实例21个月 </li><li> 第二买家：在市场上购买它，并在剩余的15个月内使用它。 </li></ul><br> 主要困难是在AWS Marketplace上找到合适的实例。  <b>一种简化实例搜索的好方法是在多个访问区域中查找它们，而不仅仅是在您所在的区域中查找它们。</b> 获取实例后，可以对其进行修改并将其分配给另一个可访问性区域，或者将其变成区域实例。 这一点都不难，但是请遵循以下说明： <br><br><ul><li> 步骤1-转到“预留实例”仪表板 </li><li> 第2步-单击“购买预留实例” </li><li> 第3步-在提供的类别中，选择标准 </li><li> 步骤4-在弹出窗口的右上角，选择“仅显示保留容量的产品” </li><li> 第5步-单击搜索 </li><li> 步骤6-从可用区1b获取实例 </li><li> 步骤7-等待实例变为活动状态 </li><li> 步骤8-选择已购买的实例 </li><li> 第9步-单击“操作”按钮 </li><li> 步骤10-单击“修改预留实例” </li><li> 步骤11-范围-更改可用区域或区域 </li><li> 第12步-单击继续 </li><li> 第13步-单击提交修改 </li></ul><br> 通过执行以下步骤，您可以在任何可用区中购买标​​准预留实例，并为您的可用区进行修改。 <br><br><h3> 适用于美国以外的公司的AWS Marketplace </h3><br> 对美国管辖范围以外的用户的重要说明。 除非您具有州法律实体，否则您不能在市场上出售标准预留实例。 如果您的公司在美国境外发现，则可以在Marketplace上购买实例，但不能出售它们。 <br><br><h3> 使用竞价型实例 </h3><br> 我喜欢竞价型实例！ 使用它们最多可以节省90％，并且不需要大量投资！  Spot实例的唯一缺点是，AWS可以立即或在两分钟警告后删除这些实例。 在这方面，此类实例只能用于容错或灵活负载。 <br><br>  <b>使用SpotInst运行竞价型实例</b> <br><br> 运行Spot实例并最大程度地减少停机时间风险的安全方法是使用SpotInst平台。 该服务连接到您的AWS账户并管理竞价型实例的分配。 如果该实例已关闭，则服务会将其替换为“按需”，并防止停机。 费率也很有趣，它们收取的费用是所节省费用的20％（按需价格和现货价格之间的差额）。 <br><br>  Spot实例的一个很好的方案是将服务器副本用于数据库或灵活的应用程序扩展。 使用SpotInst控制Spot实例的分配，很可能您永远不会遇到与此类实例的使用相关的停机时间。 <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/4.png" alt="图片"><br><br><h3> 自动扩展（空闲资源，启动/停止EC2实例的自动化） </h3><br>  AWS Auto Scaling监视您的应用程序并自动调整电源，以最低的成本保持稳定，可预测的电源。 您可以配置自动缩放以自动启动和停止EC2实例。 自动缩放会考虑资源指标，例如CPU，API请求和开/关时间。 <br><br> 为了最大程度地降低成本，您必须使用自动缩放+竞价型实例+预留实例。 让我们看看在Back4App中遇到的实际情况。 工作量全天变化。 我们收到的请求数量不统一，并且在某些小时使用量达到高峰。 为了解决此问题，我们为最小消耗量边界分配了预留实例，并随现货实例扩展。 下图帮助您了解配置。 您可以节省多少钱： <br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/5.png" alt="图片"><br><br><ul><li> 预留实例：在Back4App，我们混合使用12/36个月的标准预留实例。 与按需价格相比，我们的中位节省额为50％。 </li><li> 自动缩放：我们根据每个实例接收的API请求总数来启动/停止实例。 我们一天中有三个高峰期，与在最大负载下可以24小时工作的空闲资源相比，节省了大约75％。 </li><li> 竞价型实例：我们混合了两个实例系列，它们在Spotinst上工作以最大程度地延长正常运行时间。 与按需价格相比，我们节省了55％。 这是我们的节省，同时考虑到我们支付给SpotInst的全部金额。 直接从AWS使用现货实例可以为我们节省约70％，但会增加风险。 我们喜欢有条不紊地进行比赛，因此我们决定将部分积蓄退还给SpotInst。 </li></ul><br>  <b>调整比例</b> <br><br> 自定义您的垂直和水平缩放比例（Cloudformation） <br><br><h3> 选择要保存的正确AWS区域 </h3><br><ul><li> 价格因地区而异！ 选择错误的一个，您将多付。 </li><li> 最便宜的地区是北弗吉尼亚州，俄亥俄州和俄勒冈州。 </li></ul><br> 最贵的：圣保罗，悉尼和香港 <br> 考虑以下示例： <br><br><ul><li>  4 x t3.medium实例 </li><li> 每个实例专用的30 Gb EBS </li><li> 总流量1 TB </li></ul><br> 与北弗吉尼亚州相比，圣保罗相同的配置将贵102％。 <br><br><ul><li>  $ 221.65 /月在北弗吉尼亚 </li><li>  $ 449.05 /月在圣保罗 </li></ul><br> 将业务集中在一个地区也有其优势。 <br><br><ul><li> 控制保留实例的分配要容易得多。 </li><li> 区域间交通费不适用 </li></ul><br> 在Back4App，由于我们的业务范围和客户要求，我们无法集中北弗吉尼亚州的所有业务。 我们决定在美国，欧洲和亚洲创建一个集群。 我们将业务集中在这些集群中，并尽可能扩展每个区域。 <br><br><h3> 更新前几代资源 </h3><br>  AWS有时会启动新型实例。 新一代更强大，更便宜。 <br><br>  <b>老一代实例</b> <br><br>  C4。大 <br><br>  2芯 <br><br>  3.75 GB的内存 <br><br>  $ 0.100 /小时 <br><br>  <b>新一代实例</b> <br><br>  C5。大 <br><br>  2芯 <br><br>  4 GB内存 <br><br>  $ 0.085 /小时 <br><br> 新一代便宜15％，强大6％！ <br><br>  <b>允许增强网络</b> <br><br> 启用增强的网络以获得更好的实例性能！ <br><br><h2>  4. EBS-弹性块存储 </h2><br>  EBS提供安全的存储卷，以供AWS云中的EC2实例使用。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个EBS卷都在可用性区域内重复，以保护您免受硬件故障的影响，从而提供高可用性和可靠性。</font><font style="vertical-align: inherit;">存储的每千兆字节的成本取决于您将使用的卷的类型。</font><font style="vertical-align: inherit;">最常见的类型是通用SSD和磁性。</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用固态硬盘</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.10 / GB月</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁性</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.05 / GB月</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EBS类型-SSD x磁性 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始标记您的实例并下载此电子表格，以使您的生活更轻松。</font><font style="vertical-align: inherit;">例如，确定该卷是“磁性”还是“ SSD”。</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 尽可能选择Magnetic而不是SSD。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 尽可能更换SSD卷。 </font></font></li></ul><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EBS尺寸-减少过多的体积 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在EBS上节省的第二点是确定每个附加卷的大小。</font><font style="vertical-align: inherit;">通常会使用过多的卷和未使用的千兆字节。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 删除实例-停止不会影响EBS付款 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止实例并不能使您免于承担EBS的费用！</font><font style="vertical-align: inherit;">您的交易量将继续存储并包含在付款中！</font><font style="vertical-align: inherit;">如果您不再需要实例和数据，请删除该实例！</font><font style="vertical-align: inherit;">此举将减少EC2和EBS的成本。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS允许顺序增加EBS的大小，但不允许减小。</font><font style="vertical-align: inherit;">通常，较小的体积比较大的体积更好，并且仅在必要时使用EBS。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们估算一下它的价格。</font><font style="vertical-align: inherit;">假设您使用10个t3.small实例，每个实例使用50GB SSD EBS存储。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每月帐单为：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EC2每月费用= 10 x $ 15.23 = 152.30 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EBS总容量：10 x 50 GB = 500 GB </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 每GB价格：每月$ 0.10 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EBS每月费用：$ 50.00 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 总花费：$ 182.30 </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个简单的示例表明，EBS可以承担EC2费用的32％，并占您帐户的很大一部分。</font><font style="vertical-align: inherit;">这是一个恒定的隐藏值，需要控制。</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">看一下临时存储评估临时存储</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的优缺点。</font><font style="vertical-align: inherit;">在这些好处中，您不必为EBS支付隐性成本，延迟将减少，并且您将能够获得预留实例的折扣。</font><font style="vertical-align: inherit;">在这些缺点中，您可能不会使用所有内部存储（需要您继续为此付费），并且使用竞价型实例将变得更加困难。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 删除未使用的卷 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另一个可以省钱的操作是删除断开连接和未使用的卷。</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用S3</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可使EBS </font><b><font style="vertical-align: inherit;">备份的</font></b><font style="vertical-align: inherit;">成本至少是S3的两倍！</font><font style="vertical-align: inherit;">实际上，您应该将备份保存在S3中，而不是EBS中。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，请确保增量备份已保存，并且旧版本会定期删除。</font></font></b> <br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 5.弹性缓存服务-预留节点 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很少有人知道您可以购买Elastic Cache的保留实例。</font><font style="vertical-align: inherit;">节省的钱相当可观：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1年储备-65％的折扣 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3年储备-优惠77％ </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程类似于获取EC2实例。</font><font style="vertical-align: inherit;">要购买预留节点，您必须执行以下操作：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 转到弹性缓存（非EC2保留实例） </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 转到预留节点 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 单击右上角的蓝色“购买预留节点”按钮 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择Redis或Memcached </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择节点类型 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择您想要的预订期限 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择服务类型（1年或3年） </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 点击下一步 </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Elastic Cache节省的其他成本与使用EC2几乎相同。</font><font style="vertical-align: inherit;">您需要关闭未使用的节点并减小节点本身的大小。</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有适用于Elastic Cache的AWS Marketplace。</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，没有针对预留节点的Marketplace！</font><font style="vertical-align: inherit;">购买之前，请确保至少使用一年。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6.数据传输 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这条成本线很快就会消失！</font><font style="vertical-align: inherit;">控制数据的来源和位置非常困难，并且跟踪更加困难。</font><font style="vertical-align: inherit;">此外，还有几种类型的数据传输。</font><font style="vertical-align: inherit;">例如，来自云的数据传输，区域之间的数据传输，访问区域之间的数据传输，S3数据传输等。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我将告诉您Back4App如何降低数据传输成本以及如何跟踪数据。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 如何减少AWS中的数据传输成本？ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 您可以采取以下措施来降低数据成本。 </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 将S3端点与Cloudflare和其他CDN服务连接。 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CDN（内容交付网络或数据网络）此简单操作最多可将数据传输成本降低五倍，具体取决于您拥有的缓存量。 </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 弹性IP-尽可能使用您自己的IP地址 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个很好的例子！</font><font style="vertical-align: inherit;">AWS计算器说，对于EC2实例，向云的数据传输是免费的，但是您还需要填写“公共IP /弹性IP数据传输”字段。</font><font style="vertical-align: inherit;">如果您选择使用公共或弹性IP地址或Amazon网络内的弹性负载均衡器的连接，则即使实例在同一可用区内，您也将支付区域间数据传输速率。</font><font style="vertical-align: inherit;">要在一个访问区域内传输数据，可以在可能的情况下使用您的个人IP地址轻松避免此类费用（并提高网络性能）。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用一个可用区-可用区 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用一个可用区域而不是几个可用区域，您可以节省很多。</font><font style="vertical-align: inherit;">避免或停止区域之间的数据传输。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用GraphQL API </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQL的显着优势之一是减少了数据超额交付，从而减少了传输的数据总量。</font><font style="vertical-align: inherit;">依赖于应用程序的结构，替换REST可能是一项艰巨的任务。</font><font style="vertical-align: inherit;">另外，值得事先评估这种过渡的可行性。</font><font style="vertical-align: inherit;">另一个选择是依次将GraphQL用于新产品和功能。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 数据传输量折扣 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这几乎不适用，因为折扣所需的数量非常大。</font><font style="vertical-align: inherit;">这仅对大型企业或大型帐户有用。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用CloudFront！ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您执行此操作，则可以节省一大笔钱！</font><font style="vertical-align: inherit;">它还将使您能够提高应用程序速度并总体上减少延迟-这是双赢的选择。</font><font style="vertical-align: inherit;">我将在下面对此稍作讨论。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 如何跟踪数据传输成本？ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 跟踪数据成本有两种简单的方法。 </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 成本管理器 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 帐目 </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们以不同的方式表示收集的数据，并且给定了这两个版本，您可以更好地了解如何在数据传输上花钱。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要访问“成本浏览器”报告，请转到“我的账单仪表板”，然后选择“成本浏览器”。</font><font style="vertical-align: inherit;">选择“按服务查看支出”报告，将打开一个新窗口。</font><font style="vertical-align: inherit;">准备好的最近6个月的报告将打开，我们将以它开始。</font><font style="vertical-align: inherit;">请注意，在“服务”列中没有数据费！</font><font style="vertical-align: inherit;">这些成本被过滤器隐藏，您需要更深入地发现它们。</font></font><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/6.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要显示数据传输成本，您将需要配置过滤器，如下所示：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 单击更多过滤器以展开它们。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择使用类型组 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 出现数据传输信息 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择数据传输-跨可用区 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 选择数据传输-互联网输出 </font></font></li><li>  Data Transfer – Region to Region Out </li><li>  S3 Data Transfer Out </li><li>  Apply Filters </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用所有过滤器后，报告将如下所示：</font></font><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/7.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，您已经对来自S3或EC2的流量及其来源进行了排序。</font><font style="vertical-align: inherit;">如果需要，可以应用类似的过程，并按地区和可访问性区域进一步细分成本。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示流量成本的另一种方法是使用计费报告。</font><font style="vertical-align: inherit;">转到我的结算信息中心，然后点击左侧的账单。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该报告将如下所示：</font></font><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/8.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，有一个内置的明细显示EC2数据传输的成本。</font><font style="vertical-align: inherit;">单击数据传输，将出现按区域分析。</font></font><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/9.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择一个区域后，将出现按传输数据类型分类的细分（出站流量，可用区域之间，区域间）。</font></font><br><br><img src="https://s3.eu-central-1.amazonaws.com/ocs.mikhail.sokolov.files/habr/10.png" alt="图片"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. CloudFront </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着销量的增长，Cloudfront的按需价格正在迅速下降。</font><font style="vertical-align: inherit;">让我们想象一下100 Tb流量的传输。</font><font style="vertical-align: inherit;">它将花费$ 0.060 / Gb，与通过ELB进行的相同数据量相比，减少了大约15％。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cloud Front私有合同和批量价格 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是降低数据成本的最佳方法！</font><font style="vertical-align: inherit;">AWS倾向于使用其CloudFront服务，根据数量，您可以将外发CloudFront流量的价格降低至0.02美元/ Gb。</font><font style="vertical-align: inherit;">这很可能需要两年的承诺，如果您打算长期使用AWS，那么这是一个很好的选择。</font><font style="vertical-align: inherit;">要进行此类安排，您需要联系您的客户经理，并向他询问有关CloudFront私人合同的信息。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Amazon CloudFront SSL证书自定义 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查您是否正在使用此证书。</font><font style="vertical-align: inherit;">每天的费用为20美元，可以从Cloudflare每月25美元的价格购买。</font><font style="vertical-align: inherit;">有了“私有和批量定价”合同，您将无法使用其他CDN（云交付网络）服务，并且您将无法执行此操作。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8. S3-简单存储服务 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 有关降低S3存储价格的一些建议。 </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> S3 VPC端点 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很少有人会想到的一个省钱的好主意是使用S3 VPC端点。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在VPC（虚拟私有云）中放置一个S3终结点可提供对S3的任何数据访问，并在云中为其提供自己的路径，并且AWS不会像公共流量那样向您收费。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据数量，该技术每月最多可节省数千美元。</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用正确的存储模型和适当的存储类。 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总共有五种存储模式：</font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Standard</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.023 / GB </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 可用区之间的故障转移 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 低延迟和高吞吐量 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 抵制影响整个可用性区域的事件。 </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3不频繁访问</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.0125 / GB </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 在备份恢复的情况下非常适合长期存储，备份和文件 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 可用区之间的故障转移 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 对于不频繁的访问，因为访问文件的成本较高 </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3单区不频繁访问</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.010 / GB </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 一个可用区 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 对于不经常访问 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 备份备份的绝佳选择 </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Glacier</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.004 / GB </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项：</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 安全，可靠和便宜的数据存储类型 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 可用区之间的故障转移 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 数据上传选项可能需要几分钟到几小时不等 </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Glacier Deep Archive</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ 0.00099 / GB </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数：</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 每GB的最低价格，并支持每年可能需要两次的数据的长期存储和数字保存。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12小时内卸货时间 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 可用区之间的故障转移 </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 API的价格可能会令人困惑，</font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，每次更改对象的存储类时，都需要为请求数付费。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能非常困难！</font><font style="vertical-align: inherit;">我将分享Back4App中发生的情况。</font><font style="vertical-align: inherit;">我们的一位客户存储了数百万个小对象，几乎不需要数据。</font><font style="vertical-align: inherit;">首先，我们将所有对象保留在S3 Standard中，并决定将它们转移到S3 Glacier以进行保存。</font><font style="vertical-align: inherit;">到目前为止一切顺利！</font><font style="vertical-align: inherit;">但是我们没有考虑到AWS每向Glacier发出1000次电话就收取0.05美元！</font><font style="vertical-align: inherit;">在我们的案例中，请求的数量巨大，因此迁移的成本并没有得到回报！</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在存储类别之间移动对象之前，必须考虑对S3的请求价格并进行投资回收期分析。</font></font></b> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 删除S3中未使用的数据 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存在S3上最简单，最有效的方法是简单地删除旧的和未使用的数据。</font><font style="vertical-align: inherit;">查看旧备份和未使用的S3存储桶。</font><font style="vertical-align: inherit;">执行分析，并在可能的情况下删除数据。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9.明智地选择AWS技术支持计划 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 共有4种类型的技术支持： </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 基本-免费 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 开发人员-$ 29 /月或每月账单的3％ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 商业-每月$ 100，或占帐户的10-3％，具体取决于交易量 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 企业-每月$ 15,000 </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们尝试了业务计划，但对结果不满意。我们认为，就其提供的支持和支持水平而言，这太昂贵了。关于企业级别，我什么也不能说，因为我们没有使用它。 （例如，企业级别适用于大型公司，然后再发布大型首映礼或产品。）与</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的AWS地区经理联系</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大限度地使用您的区域经理和解决方案架构师！</font><font style="vertical-align: inherit;">他们与中央支持团队分开工作，可以提供更多合适的服务。</font><font style="vertical-align: inherit;">AWS团队通常非常熟练，可以提供很多帮助！</font><font style="vertical-align: inherit;">他们提供的有关高级安全设置和GDPR使用的建议简直是最好的！</font><font style="vertical-align: inherit;">我对技术意识和帮助我们取得更好成绩的渴望印象深刻。</font><font style="vertical-align: inherit;">这种支持使您在更改云提供商之前需要三思。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10.监控与管理 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很难高估计算和了解每日成本的重要性。</font><font style="vertical-align: inherit;">您必须为您自己的费用设置详细的监控，并且每天花费时间来熟悉它们。</font><font style="vertical-align: inherit;">想象一下，您在365天内可以节省多少！</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每日监控将有助于发现可疑趋势并立即采取行动。</font><font style="vertical-align: inherit;">下面列出了有关监视和管理的最佳实践：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 定期监控 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用以下报告： </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 帐单和成本管理报告 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 每月账单 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 成本浏览器-每月服务成本 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 成本管理器-使用RI </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 成本资源管理器-RI覆盖率 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 标记所有内容 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 衡量平均值，跟踪，报告异常 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 将您的环境与AWS共享责任模型相关 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用CloudWatch和Trusted Advisor监视成本 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 合并您的帐户并获得批量折扣 </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 11.架构重新设计 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更改体系结构通常是最耗时的工作。</font><font style="vertical-align: inherit;">可能需要数周到数月的时间，具体取决于架构的大小。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们对Back4App的经验表明，您应该首先尝试更简单的步骤。</font><font style="vertical-align: inherit;">通常，连续的更改将在短期内为您带来可观的节省。</font><font style="vertical-align: inherit;">通过此类更改赚钱，并获得重建架构的经验。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12.结论 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有任何神奇的公式可以立即降低AWS的成本！</font><font style="vertical-align: inherit;">有必要养成检查费用，确定优先次序并努力实现目标的常规习惯。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是帮助我们降低AWS分数的步骤的简要概述。</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除未使用的EC2实例</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减少多余电量</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将数据流移至CloudFront</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切换到新一代实例</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用增强型网络等技术</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在S3中保存备份</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在AWS Marketplace和Elastic Cache节点上预留实例</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">维护竞价型实例，预留实例和按需实例的良好组合</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动缩放</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时使用S3 Standard和Glacier</font></font></b> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467843/">https://habr.com/ru/post/zh-CN467843/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467823/index.html">解析：Kubernetes上的OOM</a></li>
<li><a href="../zh-CN467825/index.html">必备的机器学习算法</a></li>
<li><a href="../zh-CN467827/index.html">我们如何从头开始做我们的小团结</a></li>
<li><a href="../zh-CN467831/index.html">编程的棘手路径</a></li>
<li><a href="../zh-CN467837/index.html">“糟糕”的三美分MCU-成本低于0.1美元的微控制器的简要概述</a></li>
<li><a href="../zh-CN467847/index.html">“物联网全渠道演进”或物联网如何影响全渠道</a></li>
<li><a href="../zh-CN467849/index.html">佩洛顿：下一个苹果还是另一个骗局？</a></li>
<li><a href="../zh-CN467851/index.html">在不离开收银机的情况下检查质量</a></li>
<li><a href="../zh-CN467853/index.html">名片演变：从名片到应用程序</a></li>
<li><a href="../zh-CN467855/index.html">新的2GIS：完整的俄罗斯地图和在线商店中的商品搜索</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>