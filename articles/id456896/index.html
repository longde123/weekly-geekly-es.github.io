<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🎤 😆 🔆 Identifikasi alamat IP nyata pengguna jaringan Tor melalui cache terdistorsi 🧒🏽 🕺🏿 🤹🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini menjelaskan contoh aplikasi praktis dari serangan "distorsi cache melalui 301 redirect", yang dapat digunakan oleh simpul output dari jari...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Identifikasi alamat IP nyata pengguna jaringan Tor melalui cache terdistorsi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vds/blog/456896/"><img src="https://habrastorage.org/getpro/habr/post_images/e0e/20c/130/e0e20c13066a38bd4c0c81d1d60de6db.jpg" alt="gambar"><br><br>  Artikel ini menjelaskan contoh aplikasi praktis dari serangan "distorsi cache melalui 301 redirect", yang dapat digunakan oleh simpul output dari jaringan Tor dengan kode berbahaya untuk mengidentifikasi alamat IP asli dari pengguna yang dipilih. <br><a name="habracut"></a><br><h4>  Skenario serangan </h4><br>  Skenario serangan adalah sebagai berikut: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://player.vimeo.com/video/337756409" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><ul><li>  Klien: Chrome Canary (76.0.3796.0) </li><li>  IP klien nyata: 5.60.164.177 </li><li>  Parameter Pelacakan Pelanggan: 6b48c94a-cf58-452c-bc50-96bace981b27 </li><li>  Alamat IP dari simpul keluaran jaringan Tor: 51.38.150.126 </li><li>  Transparent Reverse Proxy: tor.modlishka.io (Modlishka - kode yang diperbarui akan dirilis.) </li></ul><br>  Catatan: Dalam skenario ini, browser Chrome dikonfigurasi melalui protokol jaringan SOCKS5 untuk menggunakan jaringan Tor.  Saluran Tor telah disetel ke simpul output uji khusus: '51 .38.150.126 '.  Ini juga merupakan validasi konsep dan banyak pengaturan dapat dioptimalkan di masa depan ... <br><br>  Dalam kasus simpul keluaran berbahaya dari jaringan Tor, semua lalu lintas dialihkan melalui server proxy Modlishka: <br><br><pre><code class="bash hljs">iptables -A OUTPUT -p tcp -m tcp --dport 80 -j DNAT --to-destination ip_address:80 iptables -A FORWARD -j ACCEPT</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://player.vimeo.com/video/339586722" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Deskripsi skenario serangan </h4><br>  Asumsi: <br><br><ul><li>  Aplikasi peramban (dalam hal ini, peramban standar) yang akan menggunakan koneksi jaringan "Tor" dan, akhirnya, koneksi akan melalui simpul keluaran berbahaya. </li><li>  Node keluaran berbahaya dari jaringan Tor, yang memotong dan mendistorsi cache semua lalu lintas HTTP (kode respons HTTP 301), yang tidak memiliki protokol kriptografi keamanan lapisan transpor (TLS). </li></ul><br><img src="https://habrastorage.org/webt/4b/kl/6d/4bkl6damygrn1rnfce9fxujbeny.png"><br><br>  Mari kita lihat langkah-langkah skenario serangan berikut: <br><br><ol><li>  Pengguna terhubung ke Internet melalui jaringan Tor dengan mengkonfigurasi browser untuk menggunakan protokol jaringan SOCKS5 dari sistem Tor, atau dengan mengkonfigurasi sehingga semua lalu lintas sistem operasi dialihkan melalui jaringan Tor. </li><li>  Pengguna memulai sesi akses Internet normal dengan browser favoritnya, di mana biasanya banyak lalu lintas HTTP tanpa protokol keamanan TLS dikirim melalui terowongan jaringan Tor. </li><li>  Node keluaran berbahaya dari jaringan Tor memotong permintaan dan merespons dengan meneruskan masing-masing menggunakan kode respons HTTP 301.  Pengalihan ini akan selalu di-cache oleh browser dan akan dikirim ke URL pelacakan dengan pengidentifikasi klien Tor yang ditugaskan.  URL pelacakan dapat dibuat dengan cara berikut: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">user-identifier.evil.tld</a> , di mana 'evil.tld' akan mengumpulkan semua informasi tentang alamat IP sumber dan mengarahkan pengguna ke host yang semula diminta ... atau, sebagai alternatif, ke reverse transparan server proxy yang akan mencoba mencegat semua aliran lalu lintas klien HTTP berikutnya.  Selain itu, karena dimungkinkan untuk secara otomatis mendistorsi cache untuk sebagian besar domain paling populer (seperti yang dijelaskan dalam artikel sebelumnya), mis.  100 situs teratas menurut statistik perusahaan «Alexa», penyerang memaksimalkan peluangnya untuk mengidentifikasi alamat IP asli. </li><li>  Setelah keluar dari sesi jaringan Tor, pengguna akan beralih ke jaringan reguler mereka. </li><li>  Segera setelah pengguna memasukkan alamat dari salah satu domain terdistorsi sebelumnya ke dalam bilah alamat (misalnya, "google.com"), browser menggunakan cache untuk pengalihan internal ke URL pelacakan dengan pengidentifikasi konteks dari node output. </li><li>  Host output akan dapat mencocokkan permintaan HTTP yang sebelumnya dicegat dengan alamat IP asli pengguna menggunakan informasi yang diterima dari host eksternal yang menggunakan URL pelacakan dengan ID pengguna.  Tuan rumah evil.tld akan memiliki informasi tentang semua alamat IP yang digunakan untuk mengakses URL pelacakan. </li></ol><br>  Jelas, metode ini memungkinkan Anda untuk secara efisien mencocokkan permintaan HTTP yang dipilih dengan alamat IP klien menggunakan simpul output dari jaringan Tor.  Ini terjadi karena URL pelacakan yang dibuat sebelumnya akan diminta oleh klien melalui terowongan jaringan "Tor", dan sekali lagi, segera setelah koneksi dilakukan melalui koneksi standar penyedia Internet.  Itu semua karena kode kacau dalam cache. <br><br>  Pendekatan lain mungkin didasarkan pada pengenalan kode JavaScript yang dimodifikasi dengan URL yang tertanam untuk pelacakan dalam tanggapan terkait yang tidak memiliki protokol keamanan TLS, dan mengubah header cache kontrol yang diperlukan (mis. 'Kontrol Tembolok: maks-age = 31536000') .  Namun, pendekatan ini tidak terlalu efektif. <br><br>  Melacak pengguna melalui cookie standar dari berbagai aplikasi web juga dimungkinkan, tetapi sangat sulit untuk memaksa klien mengunjungi domain yang berada di bawah kendali penyerang dua kali: pertama, ketika menghubungkan melalui simpul output dari jaringan Tor, dan kemudian lagi setelah beralih ke koneksi internet standar penyedia. <br><br><h4>  Kesimpulan </h4><br>  Faktanya adalah bahwa penyerang memiliki kemampuan untuk mencapai perubahan tertentu dalam cache browser dengan menyuntikkan kode cacat melalui node output berbahaya dan mendeteksi alamat IP nyata pengguna Tor yang mengirim lalu lintas HTTP tanpa protokol keamanan TLS. <br><br>  Selain itu, distorsi sejumlah besar nama domain populer akan meningkatkan kemungkinan menerima respons balik dari permintaan HTTP (dengan ID pengguna yang ditetapkan), yang akan menentukan alamat IP asli pengguna.  Anda dapat mencoba mencegat domain dari beberapa klien browser dan berharap bahwa kesalahan ketik pada nama domain tidak akan diketahui oleh pengguna atau tidak akan ditampilkan (misalnya, aplikasi seluler WebViews). <br><br>  Cara untuk mengurangi risiko: <br><br><ul><li>  Saat menghubungkan ke Internet melalui jaringan Tor, pastikan bahwa semua lalu lintas yang tidak menggunakan protokol keamanan TLS dinonaktifkan.  Contoh plugin browser yang dapat digunakan: untuk browser Firefox "dan" Chrome ". </li><li>  Selain itu, selalu gunakan mode browser "pribadi" saat menghubungkan ke Internet melalui jaringan Tor. </li><li>  Jangan mengarahkan lalu lintas ke seluruh sistem operasi Anda melalui jaringan Tor sampai Anda yakin bahwa semua lalu lintas keluar menggunakan protokol keamanan TLS ... </li><li>  Kapan pun memungkinkan, gunakan versi terbaru browser Tor untuk menjelajahi web. </li></ul><br><hr><br>  Konfigurasi prosesor ganda terbaru dari server khusus dengan prosesor Intel Scalable 2019 tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>DEDIC.SH</b></a> : <br><br><ul><li>  2x Xeon Silver 4214 - total 24 core </li><li>  2x Xeon Gold 5218 - total 32 core </li><li>  2x Xeon Gold 6240 - konfigurasi dengan 36 core. </li></ul><br>  Biaya server dengan dua Xeon Silver 4214 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>dari 15210 rubel / bulan</b></a> <br>  Kami juga siap mengumpulkan <b>konfigurasi apa pun</b> untuk Anda - <b><a href="">kirim surat kepada kami</a></b> ! <br><br>  Jika kekuatan besar dari server khusus tidak diperlukan - <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VDS dari 150 rubel / bulan</a></b> adalah yang Anda butuhkan! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id456896/">https://habr.com/ru/post/id456896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id456886/index.html">Daftar Periksa ASO: How to Miss Nothing</a></li>
<li><a href="../id456888/index.html">Bagaimana satelit mencair di atmosfer bumi</a></li>
<li><a href="../id456890/index.html">Remote control IR pada stm32</a></li>
<li><a href="../id456892/index.html">Cara mencari kerentanan aplikasi web: membandingkan delapan pemindai populer</a></li>
<li><a href="../id456894/index.html">Docker dan otentikasi melalui Nginx</a></li>
<li><a href="../id456898/index.html">Perkalian integer cepat menggunakan tabel</a></li>
<li><a href="../id456902/index.html">Pemberitahuan push aman: dari teori ke praktik</a></li>
<li><a href="../id456904/index.html">Muat pengujian proyek web - tanpa uang tunai</a></li>
<li><a href="../id456908/index.html">Bagaimana Telegram menggabungkan Anda ke Rostelecom</a></li>
<li><a href="../id456912/index.html">Cara membuat situs di 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>