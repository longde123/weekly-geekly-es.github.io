<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò¶ üéä ‚ôíÔ∏è Server proxy-MTProto baru dari Telegram ü§Ωüèø üë®üèæ‚Äçüè≠ ü§æüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Server proxy adalah perantara antara klien dan server. Untuk menghindari pembatasan, server proxy harus dipasang di mana tidak ada pembatasan akses ke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Server proxy-MTProto baru dari Telegram</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412759/">  Server proxy adalah perantara antara klien dan server.  Untuk menghindari pembatasan, server proxy harus dipasang di mana tidak ada pembatasan akses ke informasi yang diperlukan, sementara seharusnya tidak ada pembatasan seperti itu antara klien dan server proxy. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19e/889/afa/19e889afaa219113d43f7382e6679221.png" alt="gambar"><br><br><h3>  Dukungan proxy yang diperbarui untuk klien Telegram </h3><br><ul><li>  Proxy MTProto baru.  Bekerja dengan protokol asli Telegram MTProto </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> server sumber terbuka </li><li>  Gambar Docker di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DockerHub</a> </li><li>  Klien seluler memiliki kesempatan untuk menambahkan beberapa proksi dari setiap jenis.  Pengguna dapat memilih yang paling cocok <br></li></ul><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/7cb/274/e3a/7cb274e3aecd300b2f4cbcc5bb4c7d82.png" alt="gambar"><br><br><h3>  Proxy MTProto </h3><br><ul><li>  MTProto-proxy hanya berfungsi dengan Telegram </li><li>  Klien dan server tidak memiliki fase pertukaran informasi terbuka </li><li>  Dalam implementasi server proxy MTProto dari Telegram, server proxy dan pemiliknya tidak memiliki akses langsung ke meta-informasi protokol MTProxy (login, misalnya). <br></li><li>  Untuk semua jenis filter dan analisis, pertukaran data dengan server proxy-MTProto terlihat seperti aliran data dua arah biner yang tidak terstruktur antara klien dan server.  Ini membuat pengakuan protokol sulit untuk dibatasi. <br></li></ul><br><h3>  Mulai cepat </h3><br>  Untuk memulai server proxy MTProto Anda sendiri, hanya mesin dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Docker yang</a> diinstal dan akses jaringan diperlukan.  Seharusnya tidak ada apa pun di port 443 (nginx, apache).  Pada awal pertama dari server proxy, kunci rahasia akan dibuat, yang akan diingat.  Berjalan dengan satu perintah: <br><br><pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data telegrammessenger/proxy</code></pre><br>
            :<br>
<br>
<pre><code>$ docker logs mtproto-proxy

[+] Using the explicitly passed secret: 'b7e70329dcf3721c4239b86ad32a90b8'.
[+] Saving it to /data/secret.
[*] Final configuration:
[*]   Secret 1: b7e70329dcf3721c4239b86ad32a90b8
[*]   tg:// link for secret 1 auto configuration: : tg://proxy?server=81.177.103.94&amp;port=443&amp;secret=b7e70329dcf3721c4239b86ad32a90b8
[*]   t.me link for secret 1: tg://proxy?server=81.177.103.94&amp;port=443&amp;secret=b7e70329dcf3721c4239b86ad32a90b8
[*]   Tag: no tag
[*]   External IP: 81.177.103.94
[*]   Make sure to fix the links in case you run the proxy on a different port.
</code></pre><br>
 ,  -   ¬´¬ª   ,  IP        .<br>
<br>
<h3> </h3><br>
         SECRET:<br>
<br>
<pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data -e SECRET=b7e70329dcf3721c4239b86ad32a90b8 \
    telegrammessenger/proxy
</code></pre><br>
   - ( )     ( 16). ,        : boss, managers, users.       .    (  ) ,    .     ?  .         .      . <br>
<br>
        :<br>
<br>
<pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data -e SECRET=b7e70329dcf3721c4239b86ad32a90b8,afccd434fb32248f29f033b189bd8541,878397a50627deb349d4c296bd9dc3c2 \
     telegrammessenger/proxy
</code></pre><br>
          SECRET_COUNT (  16):<br>
<br>
<pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data -e SECRET_COUNT=5 telegrammessenger/proxy
</code></pre><br>
     , ,     Linux:<br>
<br>
<pre><code>#    busybox:
$ tr -dc 'a-f0-9' &lt; /dev/urandom | dd bs=1 count=32 2&gt;/dev/null
$ hexdump -n 16 -e '4/4 "%08x" 1 "\n"' /dev/random    #   hexdump
$ openssl rand -hex 16    #  openssl
</code></pre><br>
<h3></h3><br>
  -     .      60000     .      - ( ,      ).        WORKERS.     ,     :<br>
<br>
<pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data -e WORKERS=16 telegrammessenger/proxy
</code></pre><br>
<h3> </h3><br>
     <code>--net=host</code>.          IPv6     ,      ,    proxy-server.<br>
<br>
 ,      ,   :<br>
<br>
<pre><code>$ docker run -d -p443:443 --name=mtproto-proxy --restart=always \
    -v proxy-config:/data telegrammessenger/proxy
</code></pre><br>
   -  , :<br>
<br>
<pre><code>$ docker run -d -p8443:443 --name=mtproto-proxy --restart=always \
    -v proxy-config:/data telegrammessenger/proxy:latest
</code></pre><br>
,  -     ¬´¬ª     ,    .<br>
<br>
<h3></h3><br>
MTProto-       .     localhost: <code>http://localhost:2398/stats</code>.<br>
<br>
  -  docker   <code>--net=host</code>     : <code>curl http://localhost:2398/stats</code>,   , , nginx - .   -  docker       :<br>
<br>
<pre><code>$ docker exec mtproto-proxy curl http://localhost:2398/stats</code></pre><br>
 :<br>
 <ul>
<li> <em>ready_targets</em> ‚Äî   Telegram, c     -<br>
 </li>
<li> <em>active_targets</em> ‚Äî     Telegram (     ready_targets)<br>
 </li>
<li> <em>total_special_connections</em> ‚Äî    <br>
 </li>
<li> <em>total_max_special_connections</em> ‚Äî     <br>
 </li>
</ul><br>
<h3></h3><br>
Telegram   -    Promoted-. Promoted- ‚Äî   ,          -.                 -.<br>
<br>
  Promoted-     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@MTProxybot</a>        TAG   :<br>
<br>
<pre><code>$ docker run -d --net=host --name=mtproto-proxy --restart=always \
    -v proxy-config:/data -e TAG=85174e9e0ffa43c0d3a7167e52175268 \
    telegrammessenger/proxy:latest
</code></pre><br>
   ,          .<br>
<br>
Promoted-         ,    -.    ,    .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bea/6e8/3ed/bea6e83ed2ed33d0e83179878bdea9f3.png" alt="image"><br>
<br>
<h3> -</h3><br>
 MTProto-     ,    -     :<br>
<br>
<pre><code>$ docker pull telegrammessenger/proxy    #  
$ docker stop mtproto-proxy    #  
$ docker rm mtproto-proxy     #  
$ docker run ....  #        
$ docker logs -f --tail=30 mtproto-proxy    #   
</code></pre><br>
<h3>Docker Compose</h3><br>
 <em>docker-compose.yml</em>:<br>
<br>
<pre><code>version: '3.0'

services:
        mtproxy:
                image: telegrammessenger/proxy:latest
                hostname: mtproxy
                container_name: mtproxy.local
                volumes:
                        - proxy-config:/data
                network_mode: "host"
                logging:
                        driver: syslog
                        options:
                                tag: mtproxy
                restart: always
volumes:
        proxy-config:
                external: true
</code></pre><br>
  Promoted-     TAG.<br>
<br>
<h3> - c Docker Compose</h3><br>
<pre><code>$ docker-compose pull mtproxy     #  
$ docker-compose up -d   #    
$ docker-compose logs -f --tail=30 mtproxy    #   
</code></pre></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id412759/">https://habr.com/ru/post/id412759/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id412749/index.html">Elektronik sebagai Seni: Arus Listrik</a></li>
<li><a href="../id412751/index.html">Kebotakan: Teori dan praktik pengobatan, bagian 1 "Dihydrotestosterone saya, musuh saya"</a></li>
<li><a href="../id412753/index.html">Luncurkan tampilan pada STM32 via LTDC ... pada register</a></li>
<li><a href="../id412755/index.html">Telegram merilis Proxy Server MTProto resmi</a></li>
<li><a href="../id412757/index.html">Lampu LED di Jepang</a></li>
<li><a href="../id412763/index.html">Menggunakan Papan Reload Firefly-RK3288 dengan RockChip RK3288 SoC Microchip Digital I2C Thermal Sensor - MCP9808</a></li>
<li><a href="../id412765/index.html">Pengantar sistem kartu ubin Unity baru</a></li>
<li><a href="../id412767/index.html">CMG dampak ulasan konferensi 2016</a></li>
<li><a href="../id412769/index.html">Saya melakukan PWA dan meletakkannya di tiga app store. Dan inilah yang saya temukan</a></li>
<li><a href="../id412773/index.html">Minsk astro-aerospace</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>