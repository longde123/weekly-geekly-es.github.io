<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🔬 🌼 🙏🏾 Automatisation du chauffage pays "faites-le vous-même" 🧑🏿‍🤝‍🧑🏻 🎰 👩‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un chalet d'été, c'est bien, mais un chalet d'été chaud, c'est beaucoup mieux, mais il n'y a tout simplement pas assez de chaleur dans mon chalet d'ét...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation du chauffage pays "faites-le vous-même"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/407671/">  Un chalet d'été, c'est bien, mais un chalet d'été chaud, c'est beaucoup mieux, mais il n'y a tout simplement pas assez de chaleur dans mon chalet d'été, alors j'ai décidé d'aborder la question de l'organisation du chauffage du chalet d'été.  Il y a donc un petit chalet, composé de 2 chambres et un petit couloir commun, il y a aussi l'électricité 220V. <br><br>  J'ai commencé avec l'idée, il fallait trouver un système de chauffage qui maintiendrait une température confortable, ici nous avons besoin de capteurs de température, un dans les cas extrêmes, 2 par pièce (en cas de défaillance).  J'ai lu beaucoup d'informations sur la façon d'organiser le chauffage comme une chaudière électrique vs convecteurs, j'ai décidé que dans mon cas, les convecteurs seraient mieux pour moi (comme il s'est avéré que ce n'est pas important à l'avenir, aucun d'entre eux pourrait être utilisé).  Principe de travail: je prends une mesure de température, si elle est inférieure à la valeur requise - j'allume le convertisseur (chauffage), si je l'éteins au-dessus de la valeur requise.  L'idée elle-même n'est pas nouvelle, encore une fois, les thermostats d'ambiance peuvent résoudre ce problème, ils sont beaux - mais ici, le prix de ces piqûres.  J'ai donc décidé de fabriquer moi-même l'appareil. <br><a name="habracut"></a><br>  En principe, il existe de nombreux schémas d'automatisation du chauffage prêts à l'emploi sur Internet - vous prenez un capteur de température, vous connectez un simple contrôleur et écrivez un programme en plusieurs lignes, et vous avez terminé. <br><br>  Mais ça ne me convenait pas, et c'est ringard en quelque sorte).  J'avais besoin pour pouvoir voir la température actuelle, que le chauffage soit allumé maintenant, j'ai encore besoin de 2 modes de fonctionnement, un principal - c'est quand je suis dans le pays et j'ai besoin de maintenir la température dans la région de 19-24 degrés, et l'officier de service - quand je ne suis pas dans le pays et il est nécessaire que la température ne descende pas en dessous de zéro, elle devrait être d'environ 3 à 5 degrés, eh bien, comment cela peut-il être aujourd'hui sans commodités modernes - accepter des commandes pour passer en mode via SMS (aller au pays, j'ai envoyé un SMS - le pays commence à passer en mode chaud), encore une fois, sauver l'électricité est la bienvenue.  Eh bien, je vais déterminer les exigences, vous pouvez maintenant gérer l'appareil. <br><br>  Sur la base de mon expérience et de la disponibilité partielle des composants électroniques, j'ai pris le contrôleur Arduino Nano comme base - j'aime beaucoup la petite taille, je me suis assis dessus récemment (j'ai entendu beaucoup d'opinions que tout le monde n'aime pas Arduino, mais je suis très satisfait d'eux de l'approche modulaire d'ailleurs il y a des bibliothèques prêtes à tout), j'ai décidé de conclure sur l'écran LCD 2 lignes de 24 caractères chacune - ça devrait suffire, j'ai décidé d'utiliser les capteurs classiques - DS18B20 sur IWare, enfin, le module GSM SIM800L, j'ai pensé au cas - j'ai pris l'installation  e boîte 100x80 de magasins de bricolage, une forme assez intéressante. <br><br><img src="https://habrastorage.org/webt/59/ee/23/59ee23c0d9655003076478.jpeg" height="40%" width="40%"><img src="https://habrastorage.org/webt/59/ee/23/59ee23b1b9138535439993.png" height="40%" width="40%"><img src="https://habrastorage.org/webt/59/ee/23/59ee23b909bd0534439963.jpeg" height="40%" width="40%"><img src="https://habrastorage.org/webt/59/ee/23/59ee23b02550f350132615.jpeg" height="40%" width="40%"><br><br>  Pour connecter tout cet ensemble de composants, il a fallu faire une carte de base sur laquelle tout se trouverait (je ne voulais pas vraiment tout souder sur la planche à pain), puisque j'ai une ligne correspondante, j'ai dessiné un schéma, séparé la carte, gravé, cela n'a pas fonctionné parfaitement (alors j'ai dû finition), mais il s'est avéré nettement mieux que sur la planche à pain.  J'ai commencé à tout installer dessus et j'ai réalisé que l'étui n'était que de la taille, il serait possible d'en prendre plus. <br><br><img src="https://habrastorage.org/webt/59/ee/23/59ee23c10de07692830069.jpeg" height="45%" width="45%"><img src="https://habrastorage.org/webt/59/ee/23/59ee23c67052e433817349.jpeg" height="45%" width="45%"><br><img src="https://habrastorage.org/webt/59/ee/23/59ee23b85828a807985188.jpeg" height="75%" width="75%"><br><br>  4 connecteurs triples pour connecter des capteurs de température, j'ai mis dans le circuit qu'il est possible de connecter séparément jusqu'à 4 capteurs, mais ensuite j'ai réalisé qu'en vain je le pensais, par le 1er 1Wire vous pouvez connecter un bouquet et un petit chariot de capteur à 1 connecteur, en principe de chaque pièce, il serait possible de connecter 2-3-4 capteurs au connecteur de cette pièce et vous saurez certainement dans le programme qu'ils viennent de cette pièce (puis là dans le programme, composez, moyenne, "préparez le ragoût" à partir de ces indications), mais si vous avez soudainement besoin de connecter 4 pièces, vous n'avez rien à refaire! <br><br>  Le 5ème connecteur (le double de l'IDC standard et pour une borne à vis) pour la sortie vers le relais, l'unité de relais n'a pas spécifiquement fait avec le contrôleur, je le placerai dans une boîte cachée séparée où les fils d'alimentation, les fils des convecteurs et les fils de contrôle sont tirés et l'unité de commande sera accrochée au mur, dans un endroit accessible pour la visualisation et le contrôle. <br><br>  Le tableau vert est un tableau pour travailler avec le module LCD, l'initialise, convertit la langue russe, en bref prend le travail d'afficher le texte sur l'écran, (l'arduina ne laisse tomber le texte que sur I2C (et ne sait pas ce que l'écran LCD est là), mais cette carte elle surveille le lieu, l'encodage, le nombre de caractères autorisé, tout est poussé aux bons endroits, etc.) <br><br><img src="https://habrastorage.org/webt/59/ee/23/59ee23c995757336565847.jpeg" height="45%" width="45%"><br><br>  Sur la gestion: l'unité s'allume, interroge et configure l'équipement disponible, les capteurs, les écrans LCD, le module SIM (en principe, il a fait que l'appareil remplisse ses fonctions si les écrans LCD ne sont pas disponibles, le module SIM pourra fonctionner sans capteurs - il écrira simplement des capteurs non disponible), puis passe en mode veille - pour travailler à une température de 5-8 degrés, un appui long sur le bouton passe en mode principal, en mode principal avec un potentiomètre (bouton), vous pouvez régler la plage de température de 16 à 19 pour ceux qui aiment plus froid)) jusqu'à 22-25 (seulement 7 pas  variétés itératives).  Un appui long sur le bouton en mode principal se traduit en veille (en mode veille, la température n'est pas régulée).  Les LED indiquent l'état des convertisseurs. <br><br>  Une histoire distincte avec le module SIM, il a fallu beaucoup de temps pour bricoler ses paramètres, mais il était toujours possible de le régler sur le chemin.  J'ai formé 4 équipes avec lesquelles le module fonctionne: activer le mode principal, activer le mode veille, parler de l'état de l'appareil, parler de l'équilibre disponible.  À l'arrivée de SMS lors du changement de mode sur l'écran LCD, des informations sont affichées indiquant que le mode de fonctionnement a changé (le même est affiché si vous changez le mode avec le bouton), dans d'autres cas, rien ne s'affiche sur l'écran LCD (la sortie de la balance vers l'écran LCD n'a pas).  L'exécution des commandes se produit uniquement à partir de numéros de confiance jusqu'à 2 pièces enregistrées dans une mémoire non volatile (EEPROM).  Ils peuvent être modifiés s'ils sont connectés via USB à l'ordinateur, en définissant des commandes via le port COM (sans firmware flash).  J'ai également ajouté à la mémoire un paramètre du mode de fonctionnement défini, comme si l'électricité est coupée, et après un certain temps, il se rallume pour que l'appareil passe dans le mode qui a été défini avant l'arrêt.  J'ai pensé qu'il valait la peine de faire un message supplémentaire de SIM sur tous les numéros actifs, sur un indicateur de température élevée, comme un «feu», j'ai décidé de le tester pour l'instant, et là il sera déjà visible - (si tout à coup quelque chose ne va pas avec les paramètres ou les capteurs, je suis tourmenté de mettre de l'argent sur les cartes SIM ) - en général, la question est ouverte! <br><br>  Enfin, une courte vidéo sur le fonctionnement de l'appareil <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien vidéo</a> <br><br>  Je vous demande de ne pas trop jeter de tomates, je l'ai fait moi-même, et tout d'un coup quelqu'un aura besoin de cette connaissance! <br><br>  PS Si quelqu'un a besoin d'aide dans un projet similaire, écrivez à l'e-mail (vasilii_ru@mail.ru), je vous aiderai plus que je ne peux)) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr407671/">https://habr.com/ru/post/fr407671/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr407661/index.html">HyperX Cloud Alpha: non seulement une refonte, mais aussi une refonte du remplissage</a></li>
<li><a href="../fr407663/index.html">Le livre «Subtle Physics. Masse, éther et unification des forces mondiales "</a></li>
<li><a href="../fr407665/index.html">Les acheteurs de nouveaux téléphones Google se plaignent de problèmes matériels</a></li>
<li><a href="../fr407667/index.html">Une promenade dans le futur. Comment les gratte-ciel modernes sont conçus</a></li>
<li><a href="../fr407669/index.html">«Notre agence a recensé environ 80 vols majeurs de crypto-monnaie en quelques années», - Ilya Sachkov (Groupe IB)</a></li>
<li><a href="../fr407673/index.html">"Et parler?" Pourquoi les gens démarrent-ils des robots</a></li>
<li><a href="../fr407675/index.html">Strictement sur le nouveau système d'unités SI</a></li>
<li><a href="../fr407681/index.html">Comment le Big Data aide à atteindre votre destination</a></li>
<li><a href="../fr407683/index.html">Apprivoiser un animal sauvage: ajout du support Homekit à la «prise intelligente» Redmond SkyPlug RSP-100S</a></li>
<li><a href="../fr407685/index.html">Tout le monde a oublié eBay. Comment la principale vente aux enchères en ligne tente d'ouvrir un second souffle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>