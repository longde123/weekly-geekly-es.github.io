<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥥 👅 🛶 Crear una política de contraseña en Linux 🌲 🤪 🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola de nuevo Las clases comenzarán mañana en el nuevo grupo del curso de Administrador de Linux , y en este sentido estamos publicando un artículo út...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crear una política de contraseña en Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/448996/"> Hola de nuevo  Las clases comenzarán mañana en el nuevo grupo del curso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Administrador de Linux</a> , y en este sentido estamos publicando un artículo útil sobre el tema. <br><br><img src="https://habrastorage.org/webt/91/09/oo/9109oomfqbvlyjurdgyq0wkkpw4.png"><br><br>  En el último tutorial, hablamos sobre cómo usar <code>pam_cracklib</code> para complicar las contraseñas en los sistemas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Red Hat 6</a> o CentOS.  En Red Hat 7, <code>pam_pwquality</code> reemplazó <code>cracklib</code> como el módulo de <code>pam</code> para la verificación de contraseña.  El módulo <code>pam_pwquality</code> también <code>pam_pwquality</code> compatible con Ubuntu y CentOS, así como en muchos otros sistemas operativos.  Este módulo facilita la creación de políticas de contraseña para garantizar que los usuarios acepten sus estándares de complejidad de contraseña. <a name="habracut"></a><br><br>  Durante mucho tiempo, el enfoque habitual de las contraseñas fue obligar al usuario a utilizar mayúsculas y minúsculas, números u otros caracteres en ellas.  Estas reglas básicas de complejidad de contraseña se han promovido activamente en los últimos diez años.  Ha habido mucha discusión sobre si esto es una buena práctica o no.  El argumento principal en contra de establecer condiciones tan difíciles fue que los usuarios escriben contraseñas en papel y las almacenan de forma insegura. <br><br>  Otra política recientemente cuestionada obliga a los usuarios a cambiar sus contraseñas cada x días.  Se han llevado a cabo varios estudios que han demostrado que esto también es perjudicial para la seguridad. <br><br>  Se han escrito muchos artículos sobre el tema de estas discusiones que justifican este o aquel punto de vista.  Pero esto no es lo que discutiremos en este artículo.  Este artículo le dirá cómo configurar correctamente la complejidad de la contraseña y no administrar la política de seguridad. <br><br>  <b>Configuración de la política de contraseña</b> <br><br>  A continuación, verá la configuración de la política de contraseñas y una breve descripción de cada una de ellas.  Muchos de ellos son similares a los parámetros en el módulo <code>cracklib</code> .  Este enfoque facilita la transferencia de sus políticas desde el sistema anterior. <br><br><ul><li>  <b>difok</b> : el número de caracteres en su nueva contraseña que NO debe estar presente en su contraseña anterior.  (El valor predeterminado es 5) </li><li>  <b>minlen</b> : la longitud mínima de la contraseña.  (El valor predeterminado es 9) </li><li>  <b>ucredit</b> : el número máximo de créditos por usar caracteres en mayúscula (si parámetro&gt; 0), o el número mínimo requerido de caracteres en mayúscula (si parámetro &lt;0).  El valor predeterminado es 1. </li><li>  <b>lcredit</b> : el número máximo de créditos por usar caracteres en minúscula (si parámetro&gt; 0), o el número mínimo requerido de caracteres en minúscula (si parámetro &lt;0).  El valor predeterminado es 1. </li><li>  <b>dcredit</b> : el número máximo de créditos por usar dígitos (si parámetro&gt; 0), o el número mínimo requerido de dígitos (si parámetro &lt;0).  El valor predeterminado es 1. </li><li>  <b>ocrédito</b> : el número máximo de créditos por usar otros símbolos (si el parámetro&gt; 0), o el número mínimo requerido de otros símbolos (si el parámetro &lt;0).  El valor predeterminado es 1. </li><li>  <b>minclass</b> : establece el número de clases requeridas.  Las clases incluyen los parámetros anteriores (mayúsculas, minúsculas, números, otros caracteres).  El valor predeterminado es 0. </li><li>  <b>maxrepeat</b> : la cantidad máxima de <b>veces que</b> se repite <b>un carácter</b> en una contraseña.  El valor predeterminado es 0. </li><li>  <b>maxclassrepeat</b> : el número máximo de caracteres consecutivos en una sola clase.  El valor predeterminado es 0. </li><li>  <b>gecoscheck</b> : comprueba si la contraseña contiene alguna palabra de las líneas GECOS del usuario.  (Información del usuario, es decir, nombre real, ubicación, etc.) Predeterminado 0 (desactivado). </li><li>  <b>dictpath</b> - Let a cracklib diccionarios. </li><li>  <b>malas</b> palabras: palabras separadas por espacios que están prohibidas en las contraseñas (nombre de la empresa, palabra "contraseña", etc.). </li></ul><br>  Si el concepto de préstamos suena extraño, está bien, está bien.  Hablaremos de esto con más detalle en las siguientes secciones. <br><br>  <b>Configuración de la política de contraseña</b> <br><br>  Antes de comenzar a editar archivos de configuración, es una buena práctica escribir previamente la política de contraseña básica.  Por ejemplo, utilizaremos las siguientes reglas de complejidad: <br><br><ul><li>  La contraseña debe tener una longitud mínima de 15 caracteres. </li><li>  En la contraseña, el mismo carácter no debe repetirse más de dos veces. </li><li>  En una contraseña, las clases de caracteres se pueden repetir hasta cuatro veces. </li><li>  La contraseña debe contener caracteres de cada clase. </li><li>  La nueva contraseña debe tener 5 caracteres nuevos en comparación con la anterior. </li><li>  Habilite la validación de GECOS. </li><li>  Niegue las palabras "contraseña, pase, palabra, putorius" </li></ul><br>  Ahora, tan pronto como establezcamos la política, podemos editar el archivo <code>/etc/security/pwquality.conf</code> para fortalecer los requisitos de complejidad de la contraseña.  A continuación se muestra un archivo de comentarios de ejemplo para una mejor comprensión. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Make sure 5 characters in new password are new compared to old password difok = 5 # Set the minimum length acceptable for new passwords minlen = 15 # Require at least 2 digits dcredit = -2 # Require at least 2 upper case letters ucredit = -2 # Require at least 2 lower case letters lcredit = -2 # Require at least 2 special characters (non-alphanumeric) ocredit = -2 # Require a character from every class (upper, lower, digit, other) minclass = 4 # Only allow each character to be repeated twice, avoid things like LLL maxrepeat = 2 # Only allow a class to be repeated 4 times maxclassrepeat = 4 # Check user information (Real name, etc) to ensure it is not used in password gecoscheck = 1 # Leave default dictionary path dictpath = # Forbid the following words in passwords badwords = password pass word putorius</span></span></code> </pre> <br>  Como habrás notado, algunos parámetros en nuestro archivo son redundantes.  Por ejemplo, el parámetro <code>minclass</code> redundante, ya que ya usamos al menos dos caracteres de la clase usando los campos de <code>[u,l,d,o]credit</code> .  Nuestra lista de palabras que no se pueden usar también es redundante, ya que hemos prohibido la repetición de cualquier clase 4 veces (todas las palabras en nuestra lista están escritas en minúsculas).  He incluido estas opciones solo para demostrar cómo usarlas para configurar una política de contraseña. <br>  Una vez que haya creado su política, puede obligar a los usuarios a cambiar sus contraseñas la próxima vez que inicien sesión. <br><br>  Otra cosa extraña que puede haber notado es que los campos de <code>[u,l,d,o]credit</code> contienen un número negativo.  Esto se debe a que los números mayores o iguales a 0 darán crédito por usar el carácter en su contraseña.  Si el campo contiene un número negativo, significa que se requiere una cierta cantidad. <br><br>  <b>¿Qué son los préstamos?</b> <br><br>  Los llamo préstamos, porque transmiten con precisión su propósito.  Si el valor del parámetro es mayor que 0, agrega la cantidad de "créditos por caracteres" igual a "x" a la longitud de la contraseña.  Por ejemplo, si todos los parámetros <code>(u,l,d,o)credit</code> establecidos en 1, y la longitud de contraseña requerida es 6, entonces necesitará 6 caracteres para satisfacer el requisito de longitud, porque cada carácter es mayúscula, minúscula, dígito u otro carácter le dará un préstamo <br><br>  Si establece <code>dcredit</code> en 2, en teoría podría usar una contraseña con una longitud de 9 caracteres y obtener 2 créditos por caracteres para los números, y luego la contraseña ya puede ser 10. <br><br>  Echa un vistazo a este ejemplo.  Configuré la longitud de la contraseña en 13, configuré dcredit en 2 y todo lo demás en 0. <br><br><pre> <code class="bash hljs">$ pwscore Thisistwelve Password quality check failed: The password is shorter than 13 characters $ pwscore Th1sistwelve 18</code> </pre> <br>  Mi primera comprobación falló porque la contraseña tenía menos de 13 caracteres.  La próxima vez que cambié la letra "I" por el número "1" y recibí dos créditos por los números, lo que equivalía a la contraseña a 13. <br><br>  <b>Prueba de contraseña</b> <br><br>  El paquete <code>libpwquality</code> proporciona la funcionalidad descrita en el artículo.  También viene con el programa <code>pwscore</code> , que está diseñado para verificar la complejidad de la contraseña.  Lo usamos arriba para verificar préstamos. <br><br>  La utilidad <code>pwscore</code> lee desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">stdin</a> .  Simplemente ejecute la utilidad y escriba su contraseña, dará un error o un valor de 0 a 100. <br><br>  El puntaje de calidad de la contraseña está relacionado con el parámetro <code>minlen</code> en el archivo de configuración.  En general, un indicador de menos de 50 se considera como una "contraseña normal" y arriba como una "contraseña segura".  Cualquier contraseña que pase los controles de calidad (especialmente los controles forzados <code>cracklib</code> ) debe resistir los ataques del diccionario, y una contraseña con una puntuación superior a 50 con la configuración predeterminada de <code>minlen</code> incluso tendrá un <code>brute force</code> . <br><br>  <b>Conclusión</b> <br><br>  Configurar <code>pwquality</code> es <code>pwquality</code> y fácil en comparación con los inconvenientes de usar <code>cracklib</code> con la edición directa de archivos <code>pam</code> .  En esta guía, hemos cubierto todo lo que necesita para configurar políticas de contraseña en Red Hat 7, CentOS 7 e incluso en sistemas Ubuntu.  También hablamos sobre el concepto de préstamos, que rara vez se escriben en detalle, por lo que este tema a menudo seguía siendo incomprensible para aquellos que no lo habían encontrado antes. <br><br>  <b>Fuentes:</b> <br><br>  <a href="">página de manual de pwquality</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Página del manual de pam_pwquality</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pwscore man page</a> <br><br>  <b>Enlaces utiles:</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Elección de contraseñas seguras - Bruce Schneier</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lorrie Faith Cranor habla sobre sus estudios de contraseñas en CMU</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La infame caricatura de xkcd sobre Entropía</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/448996/">https://habr.com/ru/post/448996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../448980/index.html">Nuestro primer almuerzo juntos: por qué y cómo pasamos nuestro día de prueba</a></li>
<li><a href="../448982/index.html">CMS sin cabeza. ¿Por qué estoy escribiendo el mío?</a></li>
<li><a href="../448986/index.html">Ingeniería inversa 3D con escaneo 3D</a></li>
<li><a href="../448988/index.html">Las SSD de Kingston se han vuelto más amplias, manteniendo casi el mismo costo: cumplimos con la serie A400-R</a></li>
<li><a href="../448994/index.html">¿Es tan difícil comenzar el camino de un reclutador de TI?</a></li>
<li><a href="../448998/index.html">Si la conexión es solo de estaño, entonces debes enterrarla</a></li>
<li><a href="../449004/index.html">Nuevo en certificación de seguridad de la información</a></li>
<li><a href="../449006/index.html">La complejidad oculta de las tragamonedas de videojuegos</a></li>
<li><a href="../449012/index.html">El mundo! Trabajo! iOS! Larga vida a la oferta por 1 día</a></li>
<li><a href="../449014/index.html">Advance Ethereum DAPP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>