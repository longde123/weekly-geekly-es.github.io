<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôåÔ∏è üè∑Ô∏è ü§• Interpretieren von Modellvorhersagen in SHAP ü§µüèø üå©Ô∏è üòõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine der wichtigsten Aufgaben auf dem Gebiet der Datenwissenschaft ist nicht nur die Konstruktion eines Modells, das qualitativ hochwertige Vorhersage...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interpretieren von Modellvorhersagen in SHAP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428213/">  Eine der wichtigsten Aufgaben auf dem Gebiet der Datenwissenschaft ist nicht nur die Konstruktion eines Modells, das qualitativ hochwertige Vorhersagen treffen kann, sondern auch die F√§higkeit, solche Vorhersagen zu interpretieren. <br><br>  Wenn wir nicht nur wissen, dass der Kunde dazu neigt, ein Produkt zu kaufen, sondern auch verstehen, was seinen Kauf beeinflusst, k√∂nnen wir in Zukunft eine Unternehmensstrategie entwickeln, die auf die Verbesserung der Vertriebseffizienz abzielt. <br><a name="habracut"></a><br>  Oder das Modell sagte voraus, dass der Patient bald krank werden w√ºrde.  Die Genauigkeit solcher Vorhersagen ist nicht sehr hoch, weil  Dem Modell sind viele Faktoren verborgen, aber eine Erkl√§rung der Gr√ºnde, warum das Modell eine solche Vorhersage getroffen hat, kann dem Arzt helfen, auf neue Symptome zu achten.  Somit ist es m√∂glich, die Anwendungsgrenzen des Modells zu erweitern, wenn seine Genauigkeit an sich nicht zu hoch ist. <br><br>  In diesem Beitrag m√∂chte ich √ºber die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SHAP-</a> Technik sprechen, mit der Sie unter die Haube einer Vielzahl von Modellen schauen k√∂nnen. <br><br>  Wenn es bei linearen Modellen immer weniger klar ist, je gr√∂√üer der Absolutwert des Koeffizienten unter dem Pr√§diktor ist, desto wichtiger ist dieser Pr√§diktor, dann ist es viel schwieriger, die Bedeutung von Merkmalen derselben Gradientenverst√§rkung zu erkl√§ren. <br><br><h2>  Warum war eine solche Bibliothek n√∂tig? </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/959/75c/7c1/95975c7c11b6c26f5f48cb388118b87d.png" alt="Bild"><br><br>  Im sklearn-Stack, in den xgboost, lightGBM-Paketen, gab es integrierte Methoden zur Bewertung der Wichtigkeit von Merkmalen (Merkmalsbedeutung) f√ºr "Holzmodelle": <br><br><ol><li>  <b>Gewinn</b> <br>  Diese Kennzahl zeigt den relativen Beitrag jedes Merkmals zum Modell.  Zur Berechnung gehen wir jeden Baum durch, schauen uns jeden Baumknoten an, dessen Merkmal zur Partition des Knotens f√ºhrt und wie stark die Modellunsicherheit gem√§√ü der Metrik abnimmt (Gini-Verunreinigung, Informationsgewinn). <br>  F√ºr jedes Merkmal wird sein Beitrag √ºber alle B√§ume zusammengefasst. <br></li><li>  <b>Abdecken</b> <br>  Zeigt die Anzahl der Beobachtungen f√ºr jedes Merkmal an.  Zum Beispiel haben Sie 4 Funktionen, 3 B√§ume.  Angenommen, Merkmal 1 an den Knoten des Baums enth√§lt 10, 5 und 2 Beobachtungen in den B√§umen 1, 2 und 3. Dann ist f√ºr dieses Merkmal die Wichtigkeit 17 (10 + 5 + 2). <br></li><li>  <b>Frequenz</b> <br>  Es wird angezeigt, wie oft dieses Feature in den Knoten des Baums gefunden wird, dh, die Gesamtzahl der Baumaufteilungen in Knoten f√ºr jedes Feature in jedem Baum wird ber√ºcksichtigt. <br></li></ol><br>  Das Hauptproblem bei all diesen Ans√§tzen besteht darin, dass nicht klar ist, wie genau sich dieses Merkmal auf die Modellvorhersage auswirkt.  Zum Beispiel haben wir erfahren, dass die H√∂he des Einkommens wichtig ist, um die Zahlungsf√§higkeit eines Bankkunden zur R√ºckzahlung eines Kredits zu beurteilen.  Aber wie genau?  Wie viel h√∂here Einnahmen beeinflussen Modellvorhersagen? <br><br>  Nat√ºrlich k√∂nnen wir verschiedene Vorhersagen treffen, indem wir das Einkommensniveau √§ndern.  Aber was tun mit anderen Funktionen?  Schlie√ülich befinden wir uns in einer Situation, in der wir den Einfluss des Einkommens <b>unabh√§ngig</b> von anderen Merkmalen mit ihrem Durchschnittswert verstehen m√ºssen. <br><br>  Es gibt eine Art durchschnittlicher Bankkunde "im luftleeren Raum".  Wie werden sich Modellvorhersagen mit Einkommens√§nderungen √§ndern? <br><br>  Hier kommt die <b>SHAP-</b> Bibliothek zur Rettung. <br><br><h2>  Wir berechnen die Wichtigkeit von Features mit SHAP </h2><br>  In der <b>SHAP-</b> Bibliothek werden zur Beurteilung der Wichtigkeit von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Merkmalen Shapley-Werte berechnet</a> (mit dem Namen eines amerikanischen Mathematikers und die Bibliothek wird benannt). <br><br>  Um die Wichtigkeit eines Merkmals zu bewerten, werden die Modellvorhersagen <b>mit</b> und <b>ohne</b> dieses Merkmal ausgewertet. <br><br><h4>  Ein bisschen Vorgeschichte </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/b6f/410/244/b6f410244b45bae7fcd61de04c764502.jpg" alt="Bild"><br><br>  Shapleys Bedeutungen stammen aus der Spieltheorie. <br><br>  Stellen Sie sich das Szenario vor: Eine Gruppe von Personen spielt Karten.  Wie verteilt man den Preisfonds entsprechend ihrem Beitrag auf sie? <br><br>  Es werden eine Reihe von Annahmen getroffen: <br><br><ul><li>  Die H√∂he der Belohnung f√ºr jeden Spieler entspricht dem Gesamtpreispool </li><li>  Wenn zwei Spieler den gleichen Beitrag zum Spiel leisten, erhalten sie die gleiche Belohnung. </li><li>  Wenn ein Spieler keinen Beitrag geleistet hat, erh√§lt er keine Belohnung. </li><li>  Wenn ein Spieler zwei Spiele verbracht hat, besteht seine Gesamtbelohnung aus der Anzahl der Belohnungen f√ºr jedes der Spiele </li></ul><br>  Wir pr√§sentieren die Merkmale des Modells als Spieler und den Preispool als endg√ºltige Vorhersage des Modells. <br><br><h4>  Schauen wir uns ein Beispiel an. </h4><br>  Die Formel zur Berechnung des Shapley-Werts f√ºr das i-te Merkmal: <br><br><p><math> </math> $$ display $$ \ begin {Gleichung *} \ phi_ {i} (p) = \ sum_ {S \ subseteq N / \ {i \}} \ frac {| S |! (n - | S | -1) !} {n!} (p (S \ cup \ {i \}) - p (S)) \ end {Gleichung *} $$ display $$ </p><br><br>  Hier: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>p&amp;#xA0;(S&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{i&amp;#xA0;\})</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-2"> p (S \ cup \ {i \}) </script>  Ist eine Vorhersage eines Modells mit dem i-ten Merkmal, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>S</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.567ex" height="2.66ex" viewBox="-38.5 -832 1966.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-53" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="1538" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> p (S) </script>  - Dies ist eine Vorhersage des Modells ohne das i-te Merkmal. <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> n </script>  - Anzahl der Funktionen, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.499ex" height="2.057ex" viewBox="0 -780.1 645.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-53" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> S </script>  - ein beliebiger Satz von Merkmalen ohne das i-te Merkmal <br><br>  Der Shapley-Wert f√ºr das i-te Merkmal wird f√ºr jede Datenstichprobe (zum Beispiel f√ºr jeden Client in der Stichprobe) f√ºr alle m√∂glichen Kombinationen von Merkmalen (einschlie√ülich des Fehlens aller Merkmale) berechnet, dann werden die erhaltenen Werte modulo summiert und die endg√ºltige Wichtigkeit des i-ten Merkmals wird erhalten. <br><br>  Diese Berechnungen sind extrem teuer, daher werden unter der Haube verschiedene Algorithmen zur Optimierung von Berechnungen verwendet. Weitere Einzelheiten finden Sie unter dem obigen Link auf dem Github. <br><br>  Nehmen Sie das Vanille-Beispiel aus der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">xgboost-Dokumentation</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4de/6d0/b89/4de6d0b89b0f73bba9b68e5dbd446348.png" alt="Bild"><br><br>  Wir m√∂chten die Bedeutung von Funktionen f√ºr die Vorhersage bewerten, ob eine Person Computerspiele mag. <br><br>  In diesem Beispiel haben wir der Einfachheit halber zwei Merkmale: Alter (Alter) und Geschlecht (Geschlecht).  Geschlecht (Geschlecht) nimmt die Werte 0 und 1 an. <br><br>  Nehmen Sie Bobby (den kleinen Jungen am √§u√üersten linken Knoten des Baums) und berechnen Sie den Wert von Shapley f√ºr das Merkmalalter (Alter). <br><br>  Wir haben zwei S√§tze von S-Merkmalen: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>\&amp;#xA0;{\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;{\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>\&nbsp;{\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ {\} </script>  - keine Funktionen <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>\&amp;#xA0;{gender&amp;#xA0;\}</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;{gender&nbsp;\}</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>\&nbsp;{gender&nbsp;\}</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-7"> \ {gender \} </script>  - Es gibt nur ein Merkmal Geschlecht. <br><br><h4>  Die Situation, wenn keine Feature-Werte vorhanden sind </h4><br>  Verschiedene Modelle funktionieren unterschiedlich in Situationen, in denen keine Merkmale f√ºr die Datenstichprobe vorhanden sind, dh f√ºr alle Merkmale sind die Werte NULL. <br><br>  In diesem Fall wird ber√ºcksichtigt, dass das Modell die Vorhersagen √ºber die √Ñste mittelt, dh die Vorhersage ohne Merkmale ist <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.517ex" height="2.66ex" viewBox="0 -832 13569.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2B" x="1390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="2891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="3337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="3837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2F" x="4227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2B" x="5450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="6451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2212" x="6840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="7619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="8119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-5D" x="8509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2F" x="8787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="9288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-3D" x="10066" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30" x="11122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="11623" y="0"></use><g transform="translate(12068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-35" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math></span></span><script type="math/tex" id="MathJax-Element-8"> [(2 + 0,1) / 2 + (-1)] / 2 = 0,025 </script>  . <br><br>  Wenn wir das Wissen √ºber das Alter hinzuf√ºgen, wird die Vorhersage des Modells sein <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>1</mn><mo>,</mo><mn>05</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.116ex" height="2.66ex" viewBox="0 -832 8230.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2B" x="1112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30" x="2112" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="2613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="3058" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="3559" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2F" x="3948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="4449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-3D" x="5227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="6283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="6784" y="0"></use><g transform="translate(7229,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-35" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>1</mn><mo>,</mo><mn>05</mn></math></span></span><script type="math/tex" id="MathJax-Element-9"> (2 + 0,1) / 2 = 1,05 </script>  . <br><br>  Der Wert von Shapley f√ºr den Fall fehlender Funktionen: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>\&amp;#xA0;frac&amp;#xA0;{|&amp;#xA0;S&amp;#xA0;|!&amp;#xA0;(n&amp;#xA0;-&amp;#xA0;|&amp;#xA0;S&amp;#xA0;|&amp;#xA0;-1)!}&amp;#xA0;{n!}&amp;#xA0;(p&amp;#xA0;(S&amp;#xA0;\&amp;#xA0;cup&amp;#xA0;\&amp;#xA0;{i&amp;#xA0;\})&amp;#xA0;-&amp;#xA0;p&amp;#xA0;(S))&amp;#xA0;=&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{1&amp;#xA0;(2-0&amp;#xA0;-1)!}&amp;#xA0;{2!}&amp;#xA0;(1,025)&amp;#xA0;=&amp;#xA0;0,5125</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">\&nbsp;frac&nbsp;{|&nbsp;S&nbsp;|!&nbsp;(n&nbsp;-&nbsp;|&nbsp;S&nbsp;|&nbsp;-1)!}&nbsp;{n!}&nbsp;(p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})&nbsp;-&nbsp;p&nbsp;(S))&nbsp;=&nbsp;\&nbsp;frac&nbsp;{1&nbsp;(2-0&nbsp;-1)!}&nbsp;{2!}&nbsp;(1,025)&nbsp;=&nbsp;0,5125</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>\&nbsp;frac&nbsp;{|&nbsp;S&nbsp;|!&nbsp;(n&nbsp;-&nbsp;|&nbsp;S&nbsp;|&nbsp;-1)!}&nbsp;{n!}&nbsp;(p&nbsp;(S&nbsp;\&nbsp;cup&nbsp;\&nbsp;{i&nbsp;\})&nbsp;-&nbsp;p&nbsp;(S))&nbsp;=&nbsp;\&nbsp;frac&nbsp;{1&nbsp;(2-0&nbsp;-1)!}&nbsp;{2!}&nbsp;(1,025)&nbsp;=&nbsp;0,5125</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> \ frac {| S |! (n - | S | -1)!} {n!} (p (S \ cup \ {i \}) - p (S)) = \ frac {1 (2-0 -1)!} {2!} (1,025) = 0,5125 </script></p><br><br><h4>  Die Situation, wenn wir das Geschlecht kennen </h4><br>  F√ºr Bobby f√ºr <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>g</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.942ex" height="2.419ex" viewBox="0 -780.1 2989 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-65" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-6E" x="947" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-64" x="1547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-65" x="2071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMATHI-72" x="2537" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi>g</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-11"> {gender} </script>  Vorhersage ohne Merkmale Alter, nur mit Merkmalen Geschlecht ist gleich <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.517ex" height="2.66ex" viewBox="0 -832 13569.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2B" x="1390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30" x="2391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="2891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="3337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="3837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2F" x="4227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="4727" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2B" x="5450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-28" x="6451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2212" x="6840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-31" x="7619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-29" x="8119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-5D" x="8509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2F" x="8787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="9288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-3D" x="10066" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30" x="11122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-2C" x="11623" y="0"></use><g transform="translate(12068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/428213/&amp;usg=ALkJrhiQkLEvCawo2o11X3-uBXe1uqpt2A#MJMAIN-35" x="1001" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>025</mn></math></span></span><script type="math/tex" id="MathJax-Element-12"> [(2 + 0,1) / 2 + (-1)] / 2 = 0,025 </script>  .  Wenn wir das Alter kennen, ist die Vorhersage der Baum ganz links, dh 2. <br><br>  Infolgedessen ist der Wert von Shapley f√ºr diesen Fall: <br><br><p><math> </math> $$ display $$ \ begin {Gleichung *} \ frac {| S |! (n - | S | -1)!} {n!} (p (S \ cup \ {i \}) - p (S) ) = \ frac {1 (2-1-1)!} {2!} (1.975) = 0.9875 \ end {Gleichung *} $$ display $$ </p><br><br><h4>  Fassen Sie zusammen </h4><br><br>  Der Gesamtwert von Shapley f√ºr Merkmale Alter (Alter): <br><p><math> </math> $$ Anzeige $$ \ begin {Gleichung *} \ phi_ {Age Bobby} = 0,9875 + 0,5125 = 1,5 \ Ende {Gleichung *} $$ Anzeige $$ </p><br><h2>  Ein echtes Gesch√§ftsbeispiel </h2><br>  Die SHAP-Bibliothek verf√ºgt √ºber eine umfangreiche Visualisierungsfunktionalit√§t, mit deren Hilfe das Modell sowohl f√ºr das Unternehmen als auch f√ºr den Analysten selbst einfach und einfach erkl√§rt werden kann, um die Angemessenheit des Modells zu bewerten. <br><br>  Bei einem der Projekte habe ich den Abfluss von Mitarbeitern aus dem Unternehmen analysiert.  Als Modell wurde xgboost verwendet. <br><br>  Code in Python: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shap shap_test = shap.TreeExplainer(best_model).shap_values(df) shap.summary_plot(shap_test, df, max_display=<span class="hljs-number"><span class="hljs-number">25</span></span>, auto_size_plot=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br>  Das resultierende Diagramm der Wichtigkeit von Merkmalen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f8/5d0/8d0/3f85d08d0c377285d8d6751bd04bb758.png" alt="Bild"><br><br>  Wie man es liest: <br><br><ul><li>  Die Werte links von der vertikalen Mittellinie sind die negative Klasse (0), rechts - positiv (1) </li><li>  Je dicker die Linie in der Grafik ist, desto mehr solche Beobachtungspunkte </li><li>  Je roter die Punkte im Diagramm sind, desto h√∂her ist der Wert der darin enthaltenen Features </li></ul><br>  Aus der Grafik k√∂nnen Sie interessante Schlussfolgerungen ziehen und deren Angemessenheit √ºberpr√ºfen: <br><br><ul><li>  Je niedriger die Gehaltserh√∂hung des Arbeitnehmers ist, desto h√∂her ist die Wahrscheinlichkeit seiner Abreise </li><li>  Es gibt Regionen von B√ºros, in denen der Abfluss h√∂her ist </li><li>  Je j√ºnger der Arbeitnehmer ist, desto h√∂her ist die Wahrscheinlichkeit seiner Abreise </li><li>  ... </li></ul><br>  Sie k√∂nnen sich sofort ein Portr√§t der scheidenden Mitarbeiterin machen: Sie hat sein Gehalt nicht erh√∂ht, er war jung genug, ledig, lange Zeit auf einer Position, es gab keine Notenerh√∂hungen, es gab keine hohen Jahresbewertungen, er begann wenig mit Kollegen zu kommunizieren. <br><br>  Einfach und bequem! <br><br>  Sie k√∂nnen die Vorhersage f√ºr einen bestimmten Mitarbeiter erkl√§ren: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/388/aab/c93/388aabc9318855e327e570de00359744.png" alt="Bild"><br><br>  Oder sehen Sie die Abh√§ngigkeit von Vorhersagen von einem bestimmten Merkmal in Form eines 2D-Diagramms: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf8/863/c5b/cf8863c5b4e8fb3c3775725507bc9be9.png" alt="Bild"><br><br>  Sie k√∂nnen sogar die Vorhersagen neuronaler Netze in Bildern visualisieren: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ac/ab2/146/3acab21469b2afd94b135923ec5e6d4c.png" alt="Bild"><br><br><h2>  Fazit </h2><br>  Ich selbst habe vor ungef√§hr sechs Monaten etwas √ºber SHAP-Werte gelernt, und dies hat andere Methoden zur Bewertung der Bedeutung von Merkmalen vollst√§ndig ersetzt. <br><br>  Die Hauptvorteile: <br><br><ul><li>  bequeme Visualisierung und Interpretation </li><li>  ehrliche Berechnung der Wichtigkeit von Merkmalen </li><li>  Die M√∂glichkeit, Funktionen f√ºr eine bestimmte Teilstichprobe von Daten auszuwerten (z. B. wie sich unsere Kunden von anderen Kunden in der Stichprobe unterscheiden), wird durch einen einfachen Filter des Datensatzes in Pandas und dessen Analyse in Form, buchst√§blich ein paar Codezeilen, erreicht </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428213/">https://habr.com/ru/post/de428213/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428201/index.html">Maulwurfsl√∂cher in JavaScript</a></li>
<li><a href="../de428203/index.html">Wir sehen uns die Diagramme an: Sch√§tzungen und Prognosen f√ºr den Cloud-Computing-Markt, Daten f√ºr 2018</a></li>
<li><a href="../de428205/index.html">Lifehacks NaviHaka</a></li>
<li><a href="../de428209/index.html">Entwicklerkochbuch: Domain Driven Design Rezepte (Teil 2, Struktur und Interaktion)</a></li>
<li><a href="../de428211/index.html">Das Buch ‚ÄûEvolution√§re Architektur. Unterst√ºtzung f√ºr st√§ndigen Wandel "</a></li>
<li><a href="../de428217/index.html">Millionen Videoanrufe pro Tag oder "Call Mom!"</a></li>
<li><a href="../de428219/index.html">Woher kommt die Praxis der Massenverlagerung von qualifiziertem Personal?</a></li>
<li><a href="../de428221/index.html">KI-Erzeugung realistischer Gesichter</a></li>
<li><a href="../de428223/index.html">St√§dte und ihre Big Data</a></li>
<li><a href="../de428225/index.html">So f√ºhren Sie Webanalysen f√ºr SaaS √ºber Google Analytics durch: Einf√ºhrung und Verfolgung eines Trichters</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>