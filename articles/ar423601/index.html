<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ โ๐ฝ ๐ฉ๐พโ๐คโ๐จ๐ป ูุธุงู ุงูุนูู ููุณุงุฑ ุงูุจุญุซ ๐๐ป ๐ฃ๏ธ ๐จ๐พโ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุฎุฑูุทุฉ 
 ูู ููุงู ุณุงุจู ุ ูุธุฑุช ุฅูู ูุงููุฉ ูุธุงู ุงููุธุงุฆู ุงูุฌุฏูุฏ ุ ูููู ูุนูู ุ ูููููุฉ ุฅูุดุงุก ุงูููุงู ุ ูููุฆูุง ุจุงูุจูุงูุงุช ุ ูุฅุฌุฑุงุก ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุชุนุฏุฏุฉ ุงูุฎ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุธุงู ุงูุนูู ููุณุงุฑ ุงูุจุญุซ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423601/" style=";text-align:right;direction:rtl"><h3 style=";text-align:right;direction:rtl">  ุงูุฎุฑูุทุฉ </h3><br>  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ุณุงุจู ุ</a> ูุธุฑุช ุฅูู ูุงููุฉ <b>ูุธุงู ุงููุธุงุฆู</b> ุงูุฌุฏูุฏ ุ ูููู ูุนูู ุ ูููููุฉ ุฅูุดุงุก ุงูููุงู ุ ูููุฆูุง ุจุงูุจูุงูุงุช ุ ูุฅุฌุฑุงุก ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท ุ ูุดุฑุญุช ุจุฅูุฌุงุฒ ููุท ุญูุซ ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุธุงู.  ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุญุงูู ุชุญููู ูุซุงู ูุญุฏุฏ ุญูุซ ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุธุงู ููุญุตูู ุนูู ูุฒูุฏ ูู ุงูุฃุฏุงุก. <br><a name="habracut"></a><br>  ูุธุฑูุง ูุฃู ุงููุธุงู ุชู ุชุทููุฑู ูู ุงูุฃุตู ุจูุฏู ุงูุนูู ูุน ุงูุจูุงูุงุช ุ ููู ุฑุงุฆุน ูุญู ููุงู ุงูุจุญุซ ุนู ุงููุณุงุฑ. <br><br>  ูุญุชูู <b>Unity</b> ุจุงููุนู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุดู ูุณุงุฑ NavMesh</a> ุฌูุฏ ุ ูููู ูุง ูุนูู ูู ุงููุดุงุฑูุน ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ ุ ุนูู ุงูุฑุบู ูู ูุฌูุฏ ุงููุซูุฑ ูู ุงูุญููู ุงูุฌุงูุฒุฉ ุนูู ููุณ <i>ุงูุฃุตู</i> .  ุญุณููุง ุ ูุณูุญุงูู ุฅูุดุงุก ููุณ ููุท ูุธุงููุง ูุจุญุซ ุนู ุทุฑู ุนูู ุงูุฎุฑูุทุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ูููู ุณูุฌุนู ูุฐู ุงูุฎุฑูุทุฉ ุฏููุงููููุฉ ููุบุงูุฉ ุ ุจุญูุซ ูู ูู ูุฑุฉ ูุชุบูุฑ ูููุง ุดูุก ูุง ุ ุณูููู ุงููุธุงู ุจุฅูุดุงุก ุฎุฑูุทุฉ ุฌุฏูุฏุฉ ุ ูุจุงูุทุจุน ุณูููู ุจุญุณุงุจ ูู ูุฐุง ุจุงุณุชุฎุฏุงู ูุธุงู ุฌุฏูุฏ ููููุงู ุ ุญุชู ูุง ูุชู ุชุญููู ุงูุฎูุท ุงูุฑุฆูุณู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุนูู ุชุดุบูู ุงููุธุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/527/a69/ec1/527a69ec1543218ffe1df7c4b1deddb0.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ูู ุงููุซุงู ุ ุชู ุจูุงุก ุดุจูุฉ ุนูู ุงูุฎุฑูุทุฉ ุ ูููุงู ุฑูุจูุช ูุนุงุฆู.  ูุชู ุฅุนุงุฏุฉ ุจูุงุก ุงูุดุจูุฉ ูู ูู ูุฑุฉ ูููู ูููุง ุจุชุบููุฑ ุฃู ุฎุตุงุฆุต ููุฎุฑูุทุฉ ุ ุณูุงุก ูุงู ุญุฌููุง ุฃู ูููุนูุง. <br><br>  ุจุงููุณุจุฉ ููุทุงุฆุฑุงุช ุ ุงุณุชุฎุฏูุช <b>SpriteRenderer</b> ุจุณูุทูุง ุ <b>ูุญุชูู</b> ูุฐุง ุงููููู ุนูู ุฎุงุตูุฉ <b>ุญุฏูุฏ</b> ููุชุงุฒุฉ ููููู ุจุณูููุฉ ูู ุฎูุงููุง ูุนุฑูุฉ ุญุฌู ุงูุฎุฑูุทุฉ. <br><br>  ูู ูุฐุง ูู ุงูุฃุณุงุณ ูู ุงูุจุฏุงูุฉ ุ ููููุง ูู ูุชููู ููุจุฏุฃ ุงูุนูู ุนูู ุงูููุฑ. <br><br>  ููุจุฏุฃ ูุน ุงููุตูุต.  ูุงูุฃูู ูู ูุต ุนุงุฆู <b>ุงูุนุงุฆู</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุจุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br></div></div><br>  ุฏุงุฎู ูุฆุฉ <b>ุงูุนูุจุฉ</b> ุ ุณููุชูุท ุฌููุน ุงูุชุบููุฑุงุช ูู ุงูุนูุงุฆู ุนูู ุงูุฎุฑูุทุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุบููุฑ ููุถุน ุฃู ุญุฌู ูุงุฆู. <br>  ุจุนุฏ ุฐูู ุ ููููู ุฅูุดุงุก ูุฆุฉ <b>ุฎุฑูุทุฉ</b> ุงูุฎุฑูุทุฉ ุ ุงูุชู ุณูุชู ุจูุงุก ุงูุดุจูุฉ ุนูููุง ุ ูุชุฑุซูุง ูู ูุฆุฉ <b>ุงูุนูุจุฉ</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br></div></div><br>  ุณูุชุชุจุน ูุฆุฉ <b>ุงูุฎุฑูุทุฉ</b> ุฃูุถูุง ุฌููุน ุงูุชุบููุฑุงุช ุนูู ุงูุฎุฑูุทุฉ ูู ุฃุฌู ุฅุนุงุฏุฉ ุจูุงุก ุงูุดุจูุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ. <br><br>  ููููุงู ุจุฐูู ุ ุงููุฃ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ <b>ููุนุงุฆู</b> ุจุฌููุน ุงููุชุบูุฑุงุช ูุงูุฃุณุงููุจ ุงููุงุฒูุฉ ูุชุชุจุน ุชุบููุฑุงุช ุงููุงุฆู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุจุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpriteRenderer renderer { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 tempSize; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 tempPos; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> virtual <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Awake() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderer = GetComponent&lt;SpriteRenderer&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempPos = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> virtual bool CheckChanges() { Vector2 newSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size; float diff = (newSize - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempSize).sqrMagnitude; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempSize = newSize; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } Vector2 newPos = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; diff = (newPos - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempPos).sqrMagnitude; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempPos = newPos; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 size { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderer.bounds.size;} } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 position { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position;} } }</code> </pre> <br></div></div><br>  ููุง ุ ุณูููู ููุชุบูุฑ ุฌูุงุฒ <b>ุงูุนุฑุถ</b> ูุฑุฌุน ููููู <b>SpriteRenderer</b> ุ ูุณูุชู ุงุณุชุฎุฏุงู <b>ูุชุบูุฑุงุช tempSize</b> ู <b>tempPos</b> ูุชุชุจุน ุงูุชุบููุฑุงุช ูู ุญุฌู ูููุถุน ุงููุงุฆู. <br><br>  ุณูุชู ุงุณุชุฎุฏุงู ุทุฑููุฉ <b>Awake</b> ุงูุธุงูุฑูุฉ ูุชููุฆุฉ ุงููุชุบูุฑุงุช ุ <b>ูุณุชุชุจุน</b> ุงูุทุฑููุฉ ุงูุงูุชุฑุงุถูุฉ <b>CheckChanges</b> ุงูุชุบููุฑุงุช ุงูุญุงููุฉ ูู ุญุฌู ุงููุงุฆู <b>ูููุถุนู ูุชุนุฑุถ</b> ูุชูุฌุฉ <b>ููุทููุฉ</b> . <br><br>  ูู ุงูููุช ุงูุญุงูู ุ ุฏุนูุง ูุชุฑู ูุต <b>ุงูุนูุจุฉ ูููุชูู</b> ุฅูู <b>ุฎุฑูุทุฉ</b> ุงูุฎุฑูุทุฉ ููุณูุง ุ ุญูุซ ูููุฃูุง ุฃูุถูุง ุจุงููุนููุงุช ุงููุงุฒูุฉ ููุนูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ [Range(<span class="hljs-number"><span class="hljs-number">0.1</span></span>f, <span class="hljs-number"><span class="hljs-number">1</span></span>f)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> float nodeSize = <span class="hljs-number"><span class="hljs-number">0.5</span></span>f; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 offset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f); }</code> </pre> <br></div></div><br>  <b>ุณูุดูุฑ</b> ูุชุบูุฑ ุญุฌู <b>ุงูุนูุฏุฉ</b> ุฅูู ุญุฌู ุงูุฎูุงูุง ุนูู ุงูุฎุฑูุทุฉ ุ ูููุง ููุช <b>ุจุชุญุฏูุฏ</b> ุญุฌููุง ูู 0.1 ุฅูู 1 ุจุญูุซ ูุง ุชููู ุงูุฎูุงูุง ุนูู ุงูุดุจูุฉ ุตุบูุฑุฉ ุฌุฏูุง ุ ูููููุง ุฃูุถูุง ูุจูุฑุฉ ุฌุฏูุง.  ุณูุชู ุงุณุชุฎุฏุงู ูุชุบูุฑ <b>ุงูุฅุฒุงุญุฉ</b> ููุถุน ูุณุงูุฉ ุจุงุฏุฆุฉ ุนูู ุงูุฎุฑูุทุฉ ุนูุฏ ุฅูุดุงุก ุงูุดุจูุฉ ุจุญูุซ ูุง ูุชู ุจูุงุก ุงูุดุจูุฉ ุนูู ุทูู ุญูุงู ุงูุฎุฑูุทุฉ. <br><br>  ูุธุฑูุง ูุฃู ููุงู ุงูุขู ูุชุบูุฑูู ุฌุฏูุฏูู ุนูู ุงูุฎุฑูุทุฉ ุ ููุฏ ุชุจูู ุฃู ุชุบููุฑุงุชููุง ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุชุชุจุนูุง.  ููููุงู ุจุฐูู ุ ูู ุจุฅุถุงูุฉ ูุชุบูุฑูู ููู <b>ุจุชุญููู</b> ุทุฑููุฉ <b>CheckChanges</b> ูู ูุฆุฉ <b>ุงูุฎุฑูุทุฉ</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ [Range(<span class="hljs-number"><span class="hljs-number">0.1</span></span>f, <span class="hljs-number"><span class="hljs-number">1</span></span>f)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> float nodeSize = <span class="hljs-number"><span class="hljs-number">0.5</span></span>f; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 offset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0.5</span></span>f, <span class="hljs-number"><span class="hljs-number">0.5</span></span>f); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> float tempNodeSize; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 tempOffset; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Awake() { base.Awake(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempNodeSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempOffset = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> bool CheckChanges() { float diff = Mathf.Abs(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempNodeSize - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempNodeSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } diff = (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempOffset - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset).sqrMagnitude; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempOffset = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base.CheckChanges(); } }</code> </pre> <br></div></div><br>  ุชู.  ููููู ุงูุขู ุฅูุดุงุก ููุด ูุชุญุฑู ููุฎุฑูุทุฉ ุนูู ุงููุณุฑุญ ูุฑูู ูุต <b>ุฎุฑูุทุฉ</b> ุนููู. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d75/60f/db8/d7560fdb8abeb5f00a7a5e1ec5e444df.png" alt="ุงูุตูุฑุฉ"><br><br>  ุณููุนู ููุณ ุงูุดูุก ูุน ุนูุจุฉ - ุฅูุดุงุก ุณุจุฑุงูุช ุจุณูุท ุนูู ุงููุณุฑุญ ูุฑูู ูุต <b>ุนูุจุฉ</b> ุนููู. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/347/ffa/e8d/347ffae8dd2b4cd3a3a50c881d5674df.png" alt="ุงูุตูุฑุฉ"><br><br>  ุงูุขู ูุฏููุง ุฎุฑูุทุฉ ุงูุฃุดูุงุก ูุงูุนูุจุงุช ุนูู ุงููุณุฑุญ. <br><br>  ุณูุชููู ุงูุจุฑูุงูุฌ ุงููุตู <b>ููุฎุฑูุทุฉ</b> ูุณุคูููุฉ ุชุชุจุน ุฌููุน ุงูุชุบููุฑุงุช ุนูู ุงูุฎุฑูุทุฉ ุ ุญูุซ ุณูููู ูู ุทุฑููุฉ <b>ุงูุชุญุฏูุซ</b> ุจุงูุชุญูู ูู ูู ุฅุทุงุฑ ููุนุฑูุฉ ุงูุชุบููุฑุงุช. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> bool requireRebuild; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Update() { UpdateChanges(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> UpdateChanges() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild) { print(โ  ,   !โ); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild = CheckChanges(); } } <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> }</code> </pre> <br></div></div><br>  ูุจุงูุชุงูู ุ ูู ุทุฑููุฉ <b>UpdateChanges ุ ุณุชุชุนูุจ</b> ุงูุฎุฑูุทุฉ ุชุบููุฑุงุชูุง ููุท ุญุชู ุงูุขู.  ููููู ุญุชู ุจุฏุก ุงููุนุจุฉ ุงูุขู ููุญุงููุฉ ุชุบููุฑ ุญุฌู ุงูุฎุฑูุทุฉ ุฃู <b>ุชุนููุถ ุงูุฅุฒุงุญุฉ</b> ููุชุฃูุฏ ูู ุชุชุจุน ุฌููุน ุงูุชุบููุฑุงุช. <br><br>  ุงูุขู ุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุชุจุน ุงูุชุบููุฑุงุช ุนูู ุงูุนูุจุงุช ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุนูู ุงูุฎุฑูุทุฉ.  ููููุงู ุจุฐูู ุ ุณูุถุน ูู ุนูุจุฉ ูู ูุงุฆูุฉ ุนูู ุงูุฎุฑูุทุฉ ุ ูุงูุชู ุจุฏูุฑูุง ุณุชููู ุจุชุญุฏูุซ ูู ุฅุทุงุฑ ูู ุทุฑููุฉ <b>ุงูุชุญุฏูุซ</b> . <br><br>  ูู ูุฆุฉ <b>ุงูุฎุฑูุทุฉ</b> ุ ูู ุจุฅูุดุงุก ูุงุฆูุฉ ุจูู ุงูุนูุงุฆู ุงููุญุชููุฉ ุนูู ุงูุฎุฑูุทุฉ ูุทุฑููุชูู ุซุงุจุชุชูู ูุชุณุฌูููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Map ObjInstance; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Obstacle&gt; obstacles = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Obstacle&gt;(); <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> bool RegisterObstacle(Obstacle obstacle) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obstacle == Instance) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Instance.obstacles.Contains(obstacle) == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { Instance.obstacles.Add(obstacle); Instance.requireRebuild = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> bool UnregisterObstacle(Obstacle obstacle) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Instance.obstacles.Remove(obstacle)) { Instance.requireRebuild = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Map Instance { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ObjInstance == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) ObjInstance = FindObjectOfType&lt;Map&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ObjInstance; } } }</code> </pre> <br></div></div><br>  ูู ุทุฑููุฉ <b>RegisterObstacle</b> ุงูุซุงุจุชุฉ ุ ุณูููู ุจุชุณุฌูู <b>ุนูุจุฉ</b> ุฌุฏูุฏุฉ ุนูู ุงูุฎุฑูุทุฉ ูุฅุถุงูุชูุง ุฅูู ุงููุงุฆูุฉ ุ ูููู ุฃููุงู ููุจู ูู ุดูุก ูู ุงูููู ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุงูุฎุฑูุทุฉ ููุณูุง ููุฑูุซุฉ ุฃูุถูุง ูู ูุฆุฉ <b>ุงูุนูุจุฉ</b> ูุจุงูุชุงูู ูุฌุจ ุฃู ูุชุญูู ููุง ุฅุฐุง ููุง ูุญุงูู ุชุณุฌูู ุงูุจุทุงูุฉ ููุณูุง ูุนูุจุฉ. <br><br>  ุนูู ุงูุนูุณ ูู ุฐูู ุ ูุฅู ุทุฑููุฉ <b>UnregisterObstacle</b> ุงูุซุงุจุชุฉ ุชุฒูู ุงูุนูุงุฆู ูู ุงูุฎุฑูุทุฉ ูุชุฒูููุง ูู ุงููุงุฆูุฉ ุนูุฏูุง ูุณูุญ ุจุชุฏููุฑูุง. <br><br>  ูู ููุณ ุงูููุช ุ ูู ูู ูุฑุฉ ูุถูู ุฃู ูุฒูู ุนูุจุฉ ูู ุงูุฎุฑูุทุฉ ุ ูู ุงูุถุฑูุฑู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฎุฑูุทุฉ ููุณูุง ุ ูุฐูู ุจุนุฏ ุชูููุฐ ูุฐู ุงูุฃุณุงููุจ ุงูุซุงุจุชุฉ ุ ูู ุจุชุนููู ูุชุบูุฑ <b>RequRebuild</b> ุนูู <b>true</b> . <br><br>  ุฃูุถูุง ุ ูู ุฃุฌู ุงููุตูู ุงูุณูู ุฅูู ุงููุต ุงูุจุฑูุฌู <b>ููุฎุฑูุทุฉ</b> ูู ุฃู ูุต ุจุฑูุฌู ุ ููุช ุจุฅูุดุงุก ุฎุงุตูุฉ <b>ุงููุซูู</b> ุงูุซุงุจุชุฉ ุงูุชู ุณุชุนูุฏ ูู ุจูุฐุง ุงููุซูู ูู <b>ุงูุฎุฑูุทุฉ</b> . <br><br>  ุงูุขู ุ ุฏุนูุง ูุนูุฏ ุฅูู ูุต <b>Obstacle</b> ุงููุตู ุญูุซ ุณูููู ุจุชุณุฌูู ุนูุจุฉ ุนูู ุงูุฎุฑูุทุฉ. ููููุงู ุจุฐูู ุ ุฃุถู <b>ุทุฑููุชูู OnEnable</b> ู <b>OnDisable</b> ุฅูููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุจุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MonoBehaviour</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> virtual <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnEnable() { Map.RegisterObstacle(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> virtual <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnDisable() { Map.UnregisterObstacle(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }</code> </pre> <br></div></div><br>  ูู ูู ูุฑุฉ ููุดุฆ ูููุง ุนูุจุฉ ุฌุฏูุฏุฉ ุฃุซูุงุก ุงููุนุจ ุนูู ุงูุฎุฑูุทุฉ ุ ุณูุชู ุชุณุฌูููุง ุชููุงุฆููุง ูู ุทุฑููุฉ <b>OnEnable</b> ุ ุญูุซ ุณูุชู ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุนูุฏ ุจูุงุก ุดุจูุฉ ุฌุฏูุฏุฉ ูุฅุฒุงูุฉ ุฃููุณูุง ูู ุงูุฎุฑูุทุฉ ูู ุทุฑููุฉ <b>OnDisable</b> ุนูุฏูุง ูุชู ุชุฏููุฑูุง ุฃู ุชุนุทูููุง. <br><br>  ูุจูู ููุท ูุชุชุจุน ุงูุชุบููุฑุงุช ูู ุงูุนูุจุงุช ููุณูุง ูู ุงูุจุฑูุงูุฌ ุงููุตู <b>ููุฎุฑูุทุฉ ูู</b> ุทุฑููุฉ <b>CheckChanges</b> ุงููุญููุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> bool CheckChanges() { float diff = Mathf.Abs(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempNodeSize - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempNodeSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } diff = (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempOffset - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset).sqrMagnitude; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (diff &gt; <span class="hljs-number"><span class="hljs-number">0.01</span></span>f) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tempOffset = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } foreach(Obstacle obstacle <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obstacle.CheckChanges()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base.CheckChanges(); } <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> }</code> </pre> <br></div></div><br>  ุงูุขู ูุฏููุง ุฎุฑูุทุฉ ุ ุนูุจุงุช - ุจุดูู ุนุงู ุ ูู ูุง ุชุญุชุงุฌู ูุจูุงุก ุดุจูุฉ ุ ูุงูุขู ููููู ุงูุงูุชูุงู ุฅูู ุฃูู ุดูุก. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฑุจุท </h4><br>  ุงูุดุจูุฉ ุ ูู ุฃุจุณุท ุฃุดูุงููุง ุ ุนุจุงุฑุฉ ุนู ุตููู ุซูุงุฆู ุงูุฃุจุนุงุฏ ูู ุงูููุงุท.  ูุจูุงุกูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุญุฌู ุงูุฎุฑูุทุฉ ูุญุฌู ุงูููุงุท ุนูููุง ุ ุจุนุฏ ุจุนุถ ุงูุญุณุงุจุงุช ูุญุตู ุนูู ุนุฏุฏ ุงูููุงุท ุฃูููุงู ูุฑุฃุณูุงู ุ ูุฐู ูู ุดุจูุชูุง. <br><br>  ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ููุนุซูุฑ ุนูู ูุณุงุฑ ุนูู ุงูุดุจูุฉ.  ููุน ุฐูู ุ ูู ูุฐู ุงูููุงูุฉ ุ ูุฅู ุงูุดูุก ุงูุฑุฆูุณู ูู ููู ููููุฉ ุงุณุชุฎุฏุงู ุฅููุงูุงุช ูุธุงู ุงูููุงู ุจุดูู ุตุญูุญ ุ ูุฐูู ูู ุฃููุฑ ููุง ูู ุฎูุงุฑุงุช ูุฎุชููุฉ ููุนุซูุฑ ุนูู ุงููุณุงุฑ ุ ููุฒุงูุงูุง ูุนููุจูุง ุ ููููู ุณุฃุฃุฎุฐ ุฃุจุณุท ุฎูุงุฑ ุจุญุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">A *</a> . <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุฃู ุชุญุชูู ุฌููุน ุงูููุงุท ุนูู ุงูุดุจูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููููุน ุ ุนูู ุงูุฅุญุฏุงุซูุงุช ูุฎุงุตูุฉ ุจุฑุงุกุงุช ุงูุงุฎุชุฑุงุน. <br><br>  ูุน ุงูุตุจุฑ ุ ุฃุนุชูุฏ ุฃู ูู ุดูุก ูุงุถุญ ููุงุฐุง ููุงู ุญุงุฌุฉ ุฅููู ุ ููู ุงูุฅุญุฏุงุซูุงุช ุณุชุดูุฑ ุฅูู ุชุฑุชูุจ ุงูููุทุฉ ุนูู ุงูุดุจูุฉ ุ ููุง ุชุฑุชุจุท ูุฐู ุงูุฅุญุฏุงุซูุงุช ุชุญุฏูุฏูุง ุจููุถุน ุงูููุทุฉ ูู ุงููุถุงุก.  ุชูุธูุฑ ุงูุตูุฑุฉ ุฃุฏูุงู ุดุจูุฉ ุจุณูุทุฉ ุชูุธูุฑ ุงูุงุฎุชูุงูุงุช ูู ุงูุฅุญุฏุงุซูุงุช ูู ููุถุน ูุง. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c1/c12/466/7c1c124662f7c41ecb2a1c55939a1a64.png" alt="ุงูุตูุฑุฉ"><br>  <i>ููุงุฐุง ุงูุงุญุฏุงุซูุงุชุ</i> <br>  ูุงูุญูููุฉ ูู ุฃูู ูู ุงููุญุฏุฉ ุ ููุฅุดุงุฑุฉ ุฅูู ููุถุน ูุงุฆู ูู ุงููุถุงุก ุ <b>ูุชู ุงุณุชุฎุฏุงู ุชุนููู</b> ุจุณูุท <b>ุบูุฑ</b> ุฏููู ููุบุงูุฉ ููููู ุฃู ูููู ุนุฏุฏูุง ูุณุฑููุง ุฃู ุณูุจููุง ุ ูุฐูู ุณูููู ูู ุงูุตุนุจ ุงุณุชุฎุฏุงูู ูุชูููุฐ ุจุญุซ ุงููุณุงุฑ ุนูู ุงูุฎุฑูุทุฉ.  ูุชู ุฅุฌุฑุงุก ุงูุฅุญุฏุงุซูุงุช ุนูู ุดูู <b>int</b> ูุงุถุญ ูููู ุฏุงุฆููุง ุฅูุฌุงุจููุง ููุณูู ุงูุชุนุงูู ูุนู ุนูุฏ ุงูุจุญุซ ุนู ููุงุท ูุฌุงูุฑุฉ. <br><br>  ุฃููุงู ุ ุฏุนูุง ูุญุฏุฏ ูุงุฆููุง ููุทููุง ุ ุณูููู ูุฐุง ุจููุฉ <b>ุนูุฏุฉ</b> ุจุณูุทุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุนูุฏุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct Node { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int id; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 position; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2Int coords; }</code> </pre> <br></div></div><br>  ุณูุญุชูู ูุฐุง ุงููููู ุนูู ููุถุน <b>ุงูููุถุน</b> ูู ุดูู <b>Vector2</b> ุ ุญูุซ ูุน ูุฐุง ุงููุชุบูุฑ <b>ุณูุฑุณู</b> ููุทุฉ ูู ุงููุถุงุก.  ูููู ููุณู <b>ูููุฑุฏ</b> ุจุชูุณูู <b>ูุชุบูุฑ</b> ูู ุดูู <b>Vector2Int</b> ุณูุดูุฑ ุฅูู ุฅุญุฏุงุซูุงุช ููุทุฉ ุนูู ุงูุฎุฑูุทุฉ ุ ููุชุบูุฑ <b>ุงููุนุฑู</b> ุ ูุฑูู ุญุณุงุจู ุงูุฑููู ุ ูุจุงุณุชุฎุฏุงูู ุณูููู ุจููุงุฑูุฉ ููุงุท ูุฎุชููุฉ ุนูู ุงูุดุจูุฉ ูุงูุชุญูู ูู ูุฌูุฏ ููุทุฉ. <br><br>  ุณูุชู ุงูุฅุดุงุฑุฉ ุฅูู ุณุงูููุฉ ุงูููุทุฉ ูู ุดูู <b>ุฎุงุตุชูุง ุงูููุทููุฉ</b> ุ ูููู ูุธุฑูุง ูุฃูู ูุง ูููููุง ุงุณุชุฎุฏุงู <i>ุฃููุงุน</i> ุงูุจูุงูุงุช <i>ุงููุงุจูุฉ ููุชุญููู</i> ูู ูุธุงู ุงูููุงู ุ ูุฅููุง ุณูุดูุฑ ุฅูู ุตูุงุญูุชูุง ูู ุดูู ุนุฏุฏ <b>ุตุญูุญ</b> ุ ูุฐูู ุงุณุชุฎุฏูุช ุชุนุฏุงุฏ <b>NodeType</b> ุงูุจุณูุท ุ ุญูุซ: 0 ููุณุช ููุทุฉ ูุงุจูุฉ ููุชูุฑูุฑ ุ ู 1 ููุจูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">NodeType ู Node</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> enum NodeType { NonWalkable = <span class="hljs-number"><span class="hljs-number">0</span></span>, Walkable = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct Node { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> int id; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 position; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2Int coords; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> int nodeType; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool isWalkable { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeType == (int)NodeType.Walkable;} } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Node(int id, Vector2 position, Vector2Int coords, NodeType type) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position = position; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.coords = coords; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeType = (int)type; } }</code> </pre> <br></div></div><br>  ุฃูุถูุง ุ ูู ุฃุฌู ุฑุงุญุฉ ุงูุนูู ูุน ููุทุฉ ุ <b>ุณุฃุญูู</b> ุทุฑููุฉ <b>Equals ุจุดูู</b> ุฒุงุฆุฏ ูุฒูุงุฏุฉ ุณูููุฉ ููุงุฑูุฉ ุงูููุงุท ูุฃูุถูุง ูุงุณุชููุงู ุทุฑููุฉ ุงูุชุญูู ูู ูุฌูุฏ ููุทุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุนูุฏุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct Node { <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> bool Equals(object obj) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Node) { Node other = (Node)obj; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id == other.id; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base.Equals(obj); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> implicit operator bool(Node node) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> node.id &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; } }</code> </pre> <br></div></div><br>  ูุธุฑูุง ูุฃู ุฑูู <b>ูุนุฑู</b> ุงูููุทุฉ ุนูู ุงูุดุจูุฉ ุณูุจุฏุฃ ุจูุญุฏุฉ ูุงุญุฏุฉ ุ ูุณูู ุฃุชุญูู ูู ูุฌูุฏ ุงูููุทุฉ ูุดุฑุท ุฃู ูููู <b>ูุนุฑููุง</b> ุฃูุจุฑ ูู 0. <br><br>  ุงูุชูู ุฅูู ูุตู <b>ุงูุฎุฑูุทุฉ</b> ุญูุซ ุณูููู ุจุฅุนุฏุงุฏ ูู ุดูุก ูุฅูุดุงุก ุฎุฑูุทุฉ. <br>  ูุฏููุง ุจุงููุนู ูุญุต ูุชุบููุฑ ูุนููุงุช ุงูุฎุฑูุทุฉ ุ ูุงูุขู ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ููููุฉ ุชูููุฐ ุนูููุฉ ุจูุงุก ุงูุดุจูุฉ.  ููููุงู ุจุฐูู ุ ูู ุจุฅูุดุงุก ูุชุบูุฑ ุฌุฏูุฏ ูุนุฏุฉ ุทุฑู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool rebuilding { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() {} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildStart() {} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildFinish() {} <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> }</code> </pre> <br></div></div><br>  <b>ุณุชุดูุฑ</b> ุฎุงุตูุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุฅูู ูุง ุฅุฐุง ูุงูุช ุนูููุฉ <b>ุงูุฑุจุท</b> ููุฏ ุงูุชูุฏู.  ุณุชููู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุจุฌูุน ุงูุจูุงูุงุช ูุงูููุงู ูุจูุงุก ุงูุดุจูุฉ ุ ุซู <b>ุชุจุฏุฃ</b> ุทุฑููุฉ <b>OnRebuildStart</b> ูู ุนูููุฉ ุจูุงุก ุงูุดุจูุฉ <b>ูุณุชุฌูุน</b> ุทุฑููุฉ <b>OnRebuildFinish</b> ุงูุจูุงูุงุช ูู ุงูููุงู. <br><br>  ุงูุขู ุฏุนูุง ูุบูุฑ ุทุฑููุฉ <b>UpdateChanges ููููุงู</b> ุญุชู ูุชู ุฃุฎุฐ ุญุงูุฉ ุงูุดุจูุฉ ุจุนูู ุงูุงุนุชุจุงุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> bool rebuilding { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> UpdateChanges() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding) { print(โ  ...โ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild) { print(โ  ,   !โ); Rebuild(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild = CheckChanges(); } } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; print(โ !โ); OnRebuildStart(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildStart() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildFinish() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> }</code> </pre> <br></div></div><br>  ููุง ุชุฑู ุงูุขู ูู ุทุฑููุฉ <b>UpdateChanges ุ ููุงู</b> ุดุฑุท ุฃูู ุฃุซูุงุก ุจูุงุก ุงูุดุจูุฉ ุงููุฏููุฉ ูุง ูุจุฏุฃ ูู ุฅูุดุงุก ุดุจูุฉ ุฌุฏูุฏุฉ ุ ูุฃูุถูุง ูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุ ูุชุญูู ุงูุฅุฌุฑุงุก ุงูุฃูู ููุง ุฅุฐุง ูุงูุช ุนูููุฉ ุงูุฑุจุท ููุฏ ุงูุชูุฏู ุจุงููุนู. <br><br><h4 style=";text-align:right;direction:rtl">  ุญู ุงููุดููุงุช </h4><br>  ุงูุขู ุงููููู ุนู ุนูููุฉ ุจูุงุก ุงูุฎุฑูุทุฉ. <br>  ูุธุฑูุง ูุฃููุง ุณูุณุชุฎุฏู ูุธุงู ุงูููุงู ูุจูุงุก ุงูุดุจูุฉ ุจุงูุชูุงุฒู ูุฅูุดุงุก ุงูุฎุฑูุทุฉ ุ ููุฏ ุงุณุชุฎุฏูุช ููุน ูููุฉ <b>IJobParallelFor</b> ุ ูุงูุชู ุณูุชู ุชูููุฐูุง ูุนุฏุฏ ูุนูู ูู ุงููุฑุงุช.  ุญุชู ูุง ูุชู ุชุญููู ุนูููุฉ ุงูุจูุงุก ุจุฃู ูููุฉ ูููุตูุฉ ูุงุญุฏุฉ ุ ุณูุณุชุฎุฏู ูุฌููุนุฉ ุงูููุงู ุงููุนุจุฃุฉ ูู <b>JobHandle</b> ูุงุญุฏุฉ. <br><br>  ูู ุฃุบูุจ ุงูุฃุญูุงู ุ ูุจูุงุก ุดุจูุฉ ุ ุงุณุชุฎุฏู ุฏูุฑุชูู ูุชุฏุงุฎูุชูู ูู ุจุนุถููุง ุงูุจุนุถ ูุจูุงุก ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฃููููุง ูุนููุฏููุง.  ูู ูุฐุง ุงููุซุงู ุ ุณูููู ุฃูุถูุง ุจุจูุงุก ุงูุดุจูุฉ ุฃููุงู ุฃููููุง ุซู ุนููุฏููุง.  ููููุงู ุจุฐูู ุ ูุญุณุจ ุนุฏุฏ ุงูููุงุท ุงูุฃูููุฉ ูุงูุฑุฃุณูุฉ ูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุ ุซู ูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ููุฑ ุฎูุงู ุงูุฏูุฑุฉ ุนูู ุทูู ุงูููุงุท ุงูุฑุฃุณูุฉ ุ ูุณูุจูู ููุงุทูุง ุฃูููุฉ ุจุงูุชูุงุฒู ูู ุงููููุฉ.  ูุชุฎูู ุนูููุฉ ุงูุจูุงุก ุจุดูู ุฃูุถู ุ ุฃูู ูุธุฑุฉ ุนูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุฃุฏูุงู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฑุจุท</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/101/625/183/10162518305232afb889f9d8a45b70da.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ูุดูุฑ ุนุฏุฏ ุงูููุงุท ุงูุฑุฃุณูุฉ ุฅูู ุนุฏุฏ ุงูููุงู ุ ูุจุงูุชุงูู ุ ุณุชููู ูู ูููุฉ ุจุจูุงุก ุงูููุงุท ุฃููููุง ููุท ุ ุจุนุฏ ุฅููุงู ุฌููุน ุงูููุงู ุ ูุชู ุชุฌููุน ุงูููุงุท ูู ูุงุฆูุฉ ูุงุญุฏุฉ.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃููู ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ูููุฉ ูุซู <b>IJobParallelFor</b> ูุชูุฑูุฑ ููุฑุณ ุงูููุทุฉ ุนูู ุงูุดุจูุฉ ุฃููููุง ุฅูู ุฃุณููุจ <b>ุงูุชูููุฐ</b> . <br><br>  ูููุฐุง ูุฏููุง ูููู ุงูููุงุท ุ ุงูุขู ููููู ุฅูุดุงุก ูููู ูููุฉ ุงููููุฉ ูุชุฑุซูุง ูู ูุงุฌูุฉ <b>IJobParallelFor</b> ุ ูู ุดูุก ุจุณูุท ููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุธููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct Job : IJobParallelFor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Execute(int index) {} }</code> </pre> <br></div></div><br>  ูุนูุฏ ุฅูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุจูุงุก</b> ูุฆุฉ <b>ุงูุฎุฑูุทุฉ</b> ุ ุญูุซ ุณูุฌุฑู ุงูุญุณุงุจุงุช ุงููุงุฒูุฉ ูููุงุณ ุงูุดุจูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; print(โ !โ); Vector2 mapSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.size - <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.offset * <span class="hljs-number"><span class="hljs-number">2</span></span>f; int horizontals = Mathf.RoundToInt(mapSize.x / <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize); int verticals = Mathf.RoundToInt(mapSize.y / <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (horizontals &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { OnRebuildFinish(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); OnRebuildStart(); } <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> }</code> </pre> <br></div></div><br>  ูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุ ูุญุณุจ ุงูุญุฌู ุงูุฏููู ููุฎุฑูุทุฉ <b>sizeSize</b> ุ ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงููุณุงูุฉ ุงูุจุงุฏุฆุฉ ุ ุซู ููุชุจ ุนุฏุฏูุง ุฑุฃุณููุง ูู ุงูููุงุท ุ ููู <b>ุงูุฃููู</b> ุนุฏุฏ ุงูููุงุท ุฃูููุงู.  ุฅุฐุง ูุงู ุนุฏุฏ ุงูููุงุท ุงูุฑุฃุณูุฉ <b>ุตูุฑูุง</b> ุ ูุฅููุง ูุชููู ุนู ุจูุงุก ุงูุฎุฑูุทุฉ ูุงุณุชุฏุนุงุก ุทุฑููุฉ <b>OnRebuildFinish</b> ูุฅููุงู ุงูุนูููุฉ.  ุณูุดูุฑ ูุชุบูุฑ <b>ุงูุฃุตู</b> ุฅูู ุงูููุงู ุงูุฐู ุณูุจุฏุฃ ููู ูู ุจูุงุก ุงูุดุจูุฉ - ูู ุงููุซุงู ุ ูุฐู ูู ุงูููุทุฉ ุงููุณุฑู ุงูุณูููุฉ ุนูู ุงูุฎุฑูุทุฉ. <br><br>  ุงูุขู ููููู ุงูุฐูุงุจ ุฅูู ุงูููุงู ููุณูุง ูููุคูุง ุจุงูุจูุงูุงุช. <br>  ุฃุซูุงุก ุจูุงุก ุงูุดุจูุฉ ุ ุณุชุญุชุงุฌ ุงููููุฉ ุฅูู ูุตูููุฉ <b>NativeArray</b> ุญูุซ <b>ุณูุถุน</b> ุงูููุงุท ุ ุฃูุถูุง ูุธุฑูุง <b>ููุฌูุฏ</b> ุนูุจุงุช ุนูู ุงูุฎุฑูุทุฉ ุ ุณูุญุชุงุฌ ุฃูุถูุง ุฅูู ุชูุฑูุฑูุง ุฅูู ุงููููุฉ ุ ูุฐูู <b>ุณูุณุชุฎุฏู</b> ุตููู <b>NativeArray</b> ุขุฎุฑ ุ ุซู ูุญุชุงุฌ ุฅูู ุญุฌู ุงูููุงุท ูู ุงููุดููุฉ ุ ุงูููุถุน ุงูุฃููู ูู ุญูุซ ุณูุจูู ุงูููุงุท ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฅุญุฏุงุซูุงุช ุงูุฃูููุฉ ููุณูุณูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุธููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> struct Job : IJobParallelFor { [WriteOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> NativeArray&lt;Node&gt; array; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> NativeArray&lt;Rect&gt; bounds; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> float nodeSize; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 startPos; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2Int startCoords; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Execute(int index) {} }</code> </pre> <br></div></div><br>  ููุช ุจุชูููุฒ ูุฌููุนุฉ ุงูููุงุท ุจุงูุณูุฉ <b>WriteOnly ุ</b> ูุฃูู ูู ุงููููุฉ ุณูููู ูู ุงูุถุฑูุฑู ููุท " <i>ูุชุงุจุฉ</i> " ุงูููุงุท ุงููุณุชููุฉ ุฅูู ุงูุตููู ุ ุนูู ุงูุนูุณ ูู ุฐูู ุ <b>ูุชู</b> ูุถุน ุนูุงูุฉ ุนูู ุตููู <b>ุญุฏูุฏ</b> ุงูุนูุงุฆู <b>ุจุณูุฉ</b> <b>ReadOnly</b> ูุฃูู ูู ุงููููุฉ ุณูููู ููุท " <i>ุจูุฑุงุกุฉ</i> " ุงูุจูุงูุงุช ูู ูุฐุง ุงูุตููู. <br><br>  ุญุณููุง ุ ุงูุขู ุ ุฏุนูุง ููุชูู ุฅูู ุญุณุงุจ ุงูููุงุท ููุณูุง ูุงุญููุง. <br><br>  ูุนูุฏ ุงูุขู ุฅูู ูุฆุฉ <b>ุงูุฎุฑูุทุฉ</b> ุ ุญูุซ ูุดูุฑ ุฅูู ุฌููุน ุงููุชุบูุฑุงุช ุงูุชู ุชูุทูู ุนูููุง ุงูููุงู. <br>  ููุง ุ ุฃููุงู ุ ูุญุชุงุฌ ุฅูู <b>ูุนุงูุฌุฉ</b> ุนุงูููุฉ ููููุงู ุ ููุฌููุนุฉ ูู ุงูุนูุงุฆู ูู ุดูู <b>NativeArray</b> ุ ููุงุฆูุฉ ุจุงูููุงู ุงูุชู ุณุชุญุชูู ุนูู ุฌููุน ุงูููุงุท ุงููุณุชููุฉ ุนูู ุงูุดุจูุฉ <b>ูุงููุงููุณ</b> ูุน ุฌููุน ุงูุฅุญุฏุงุซูุงุช ูุงูููุงุท ุนูู ุงูุฎุฑูุทุฉ ุ ุจุญูุซ ูููู ูู ุงูุฃุณูู ุงูุจุญุซ ุนููุง ูู ููุช ูุงุญู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฎุฑูุทุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JobHandle handle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> NativeArray&lt;Rect&gt; bounds; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> HashSet&lt;NativeArray&lt;Node&gt;&gt; jobs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashSet&lt;NativeArray&lt;Node&gt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;Vector2Int, Node&gt; nodes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;Vector2Int, Node&gt;(); <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> }</code> </pre> <br></div></div><br>  ุงูุขู ูุฑุฉ ุฃุฎุฑู ุ ูุนูุฏ ุฅูู ุทุฑููุฉ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ููุณุชูุฑ ูู ุจูุงุก ุงูุดุจูุฉ. <br>  ุฃููุงู ุ ูู ุจุชููุฆุฉ ูุฌููุนุฉ <b>ุญุฏูุฏ</b> ุงูุนูุจุงุช ูุชูุฑูุฑูุง ุฅูู ุงููููุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุงุฏุฉ ุงูุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); int count = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles.Count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Rect&gt;(count, Allocator.TempJob, NativeArrayOptions.UninitializedMemory); } OnRebuildStart(); }</code> </pre> <br></div></div><br>  ูููู ููุง ุจุฅูุดุงุก ูุซูู ูู <b>NativeArray</b> ูู ุฎูุงู ูููุดุฆ ุฌุฏูุฏ ุจุซูุงุซ ูุนููุงุช.  ููุฏ ููุช ุจูุญุต ุงููุนููุชูู ุงูุฃููููู ูู ููุงู ุณุงุจู ุ ูููู ุงููุนููุฉ ุงูุซุงูุซุฉ ุณุชุณุงุนุฏูุง ุนูู ุชูููุฑ ุจุนุถ ุงูููุช ูู ุฅูุดุงุก ูุตูููุฉ.  ูุงูุญูููุฉ ูู ุฃููุง ุณููุชุจ ุงูุจูุงูุงุช ุฅูู ุงููุตูููุฉ ูุจุงุดุฑุฉ ุจุนุฏ ุฅูุดุงุฆูุง ุ ููุง ูุนูู ุฃููุง ูุณูุง ุจุญุงุฌุฉ ููุชุฃูุฏ ูู ูุญููุง.  ูุฐู ุงููุนููุฉ ูููุฏุฉ ูู <b>NativeArray</b> ูุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ููุท ูู ูุถุน <i>ุงููุฑุงุกุฉ</i> ูู ุงููููุฉ. <br><br>  ูููุฐุง ุ ูุฅููุง ูููุฃ ูุฌููุนุฉ <b>ุงูุญุฏูุฏ</b> ุจุงูุจูุงูุงุช. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุงุฏุฉ ุงูุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); int count = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles.Count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Rect&gt;(count, Allocator.TempJob, NativeArrayOptions.UninitializedMemory); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { Obstacle obs = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles[i]; Vector2 position = obs.position; Rect rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(Vector2.zero, obs.size); rect.center = position; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds[i] = rect; } } OnRebuildStart(); }</code> </pre> <br></div></div><br>  ุงูุขู ูููููุง ุฃู ููุชูู ุฅูู ุฅูุดุงุก ุงูููุงู ุ ูุฐูู ุณููุฑ ุจุฏูุฑุฉ ุนุจุฑ ุฌููุน ุงูุตููู ุงูุฑุฃุณูุฉ ููุดุจูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุงุฏุฉ ุงูุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); int count = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles.Count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Rect&gt;(count, Allocator.TempJob, NativeArrayOptions.UninitializedMemory); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { Obstacle obs = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles[i]; Vector2 position = obs.position; Rect rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(Vector2.zero, obs.size); rect.center = position; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds[i] = rect; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; verticals; i++) { float xPos = origin.x; float yPos = origin.y + (i * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize) + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f; } OnRebuildStart(); }</code> </pre> <br></div></div><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูู <b>xPos</b> ู <b>yPos</b> ูุญุตู ุนูู ุงูููุถุน ุงูุฃููู ุงูุฃููู ููุณูุณูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุงุฏุฉ ุงูุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); int count = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles.Count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Rect&gt;(count, Allocator.TempJob, NativeArrayOptions.UninitializedMemory); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { Obstacle obs = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles[i]; Vector2 position = obs.position; Rect rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(Vector2.zero, obs.size); rect.center = position; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds[i] = rect; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; verticals; i++) { float xPos = origin.x; float yPos = origin.y + (i * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize) + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f; NativeArray&lt;Node&gt; array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Node&gt;(horizontals, Allocator.Persistent); Job job = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Job(); job.startCoords = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(i * horizontals, i); job.startPos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(xPos, yPos); job.nodeSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize; job.bounds = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds; job.array = array; } OnRebuildStart(); }</code> </pre> <br></div></div><br>  ุจุนุฏ ุฐูู ุ ูููู ุจุฅูุดุงุก <b>NativeArray</b> ุจุณูุท ุญูุซ ุณูุชู ูุถุน ุงูููุงุท ูู ุงููููุฉ ุ ูููุง ุจุงููุณุจุฉ <b>ููุตููู ุ</b> ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุนุฏุฏ ุงูููุงุท ุงูุชู ุณูุชู ุฅูุดุงุคูุง ุฃููููุง ูููุน ุงูุชุฎุตูุต <b>ุงููุณุชูุฑ</b> ุ ูุฃู ุงููููุฉ ูููู ุฃู ุชุณุชุบุฑู ููุชูุง ุฃุทูู ูู ุฅุทุงุฑ ูุงุญุฏ. <br>  ุจุนุฏ ุฐูู ุ ูู ุจุฅูุดุงุก ูุซูู ูููุฉ ุงููููุฉ ููุณูุง ุ ููุถุน ุงูุฅุญุฏุงุซูุงุช ุงูุฃูููุฉ ูุณูุณูุฉ <b>startCoords</b> ุ ูุงูููุถุน ุงูุฃููู ูุณูุณูุฉ <b>startPos</b> ุ ูุญุฌู ููุงุท ุญุฌู <b>ุงูุนูุฏุฉ</b> ุ ููุฌููุนุฉ <b>ุญุฏูุฏ</b> ุงูุนูุงุฆู ุ ููุฌููุนุฉ ุงูููุงุท ููุณูุง ูู ุงูููุงูุฉ. <br>  ูุจูู ููุท ููุถุน ุงููููุฉ ูู <b>ูุชูุงูู</b> ุงููุฏ ููุงุฆูุฉ ุงูููุงู ุงูุนุงูููุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุงุฏุฉ ุงูุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Rebuild() { <span class="hljs-comment"><span class="hljs-comment">/*... ...*/</span></span> Vector2 center = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.position; Vector2 origin = center - (mapSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f); int count = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles.Count; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Rect&gt;(count, Allocator.TempJob, NativeArrayOptions.UninitializedMemory); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { Obstacle obs = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.obstacles[i]; Vector2 position = obs.position; Rect rect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rect(Vector2.zero, obs.size); rect.center = position; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds[i] = rect; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; verticals; i++) { float xPos = origin.x; float yPos = origin.y + (i * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize) + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize / <span class="hljs-number"><span class="hljs-number">2</span></span>f; NativeArray&lt;Node&gt; array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NativeArray&lt;Node&gt;(horizontals, Allocator.Persistent); Job job = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Job(); job.startCoords = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(i * horizontals, i); job.startPos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(xPos, yPos); job.nodeSize = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize; job.bounds = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds; job.array = array; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handle = job.Schedule(horizontals, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handle); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.jobs.Add(array); } OnRebuildStart(); }</code> </pre> <br></div></div><br>  ุชู.  ูุฏููุง ูุงุฆูุฉ ุจุงูููุงู <b>ูููุจุถูุง</b> ุงููุดุชุฑู ุ ุงูุขู ูููููุง ุชุดุบูู ูุฐุง <b>ุงูููุจุถ ุนู ุทุฑูู</b> ุงุณุชุฏุนุงุก ุฃุณููุจูุง <b>ุงููุงูู</b> ูู ุฃุณููุจ <b>OnRebuildStart</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Onrebuildstart</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildStart() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handle.Complete(); }</code> </pre> <br></div></div><br>  ูุธุฑูุง ูุฃู ูุชุบูุฑ <b>ุฅุนุงุฏุฉ ุงูุจูุงุก</b> ุณูุดูุฑ ุฅูู ุฃู ุนูููุฉ <b>ุงูุฑุจุท</b> ุฌุงุฑูุฉ ุ ูุฌุจ ุฃู ุชุญุฏุฏ ุทุฑููุฉ <b>UpdateChanges ููุณูุง</b> ุฃูุถูุง ุงูุญุงูุฉ ุงูุชู ุณุชูุชูู ูููุง ูุฐู ุงูุนูููุฉ ุจุงุณุชุฎุฏุงู <b>ุงูููุจุถ</b> <b>ูุฎุงุตูุฉ IsCompleted</b> . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญุฏูุซุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> UpdateChanges() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding) { print(โ  ...โ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handle.IsCompleted) OnRebuildFinish(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild) { print(โ  ,   !โ); Rebuild(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild = CheckChanges(); } } }</code> </pre> <br></div></div><br>  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูููุงู ุ ุณูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ <b>OnRebuildFinish</b> ุญูุซ ุณูููู ุจุงููุนู ุจุฌูุน ุงูููุงุท ุงููุณุชููุฉ ูู ูุงุฆูุฉ <b>ูุงููุณ</b> ุนุงูุฉ ูุงุญุฏุฉ ุ ูุงูุฃูู ูู ุฐูู ุ <b>ูุชูุถูุญ</b> ุงูููุงุฑุฏ ุงููุญุชูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">OnRebuildFinish</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnRebuildFinish() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodes.Clear(); foreach (NativeArray&lt;Node&gt; array <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.jobs) { foreach (Node node <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodes.Add(node.coords, node); array.Dispose(); } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.jobs.Clear(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds.IsCreated) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bounds.Dispose(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.requireRebuild = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rebuilding = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุงู ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณุญ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงููุณ </font><b><font style="vertical-align: inherit;">ุงูุนูุฏ</font></b><font style="vertical-align: inherit;"> ูู ุงูููุงุท ุงูุณุงุจูุฉ ุ ุซู ูุณุชุฎุฏู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญููุฉ foreach</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฑุฒ ุฌููุน ุงูููุงุท ุงูุชู ุชููููุงูุง ูู ุงูููุงู ููุถุนูุง ูู ูุงููุณ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุญูุซ ูููู ุงูููุชุงุญ ูู ุงูุฅุญุฏุงุซูุงุช ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุณ ุงูููุถุน</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !) ููููุทุฉ ุ ูุงููููุฉ ูู ุงูููุทุฉ ููุณูุง. </font><font style="vertical-align: inherit;">ุจูุณุงุนุฏุฉ ูุฐุง ุงููุงููุณ ุ ุณูููู ูู ุงูุฃุณูู ุนูููุง ุงูุจุญุซ ุนู ุงูููุงุท ุงููุฌุงูุฑุฉ ุนูู ุงูุฎุฑูุทุฉ. </font><font style="vertical-align: inherit;">ุจุนุฏ ุงูููุก ุ ูููู ุจูุณุญ ุตููู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุตููู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงุณุชุฎุฏุงู ุทุฑููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุฎูุต</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู ุงูููุงูุฉ ูููู ุจูุณุญ ูุงุฆูุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุงู ููุณูุง </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ูุณุญ ูุฌููุนุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฏูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนูุงุฆู </font><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุฅูุดุงุคูุง ูุณุจููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ูู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุ ูุญุตู ุนูู ูุงุฆูุฉ ุจุฌููุน ุงูููุงุท ุนูู ุงูุฎุฑูุทุฉ ูุงูุขู ููููู ุฑุณููุง ุนูู ุงููุณุฑุญ.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดูุก ูู ูุฐุง ุงููุจูู</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/65f/2d0/5a8/65f2d05a86a6a508900fcf321d546089.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูู ูุฆุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุฑูุทุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูู </font><font style="vertical-align: inherit;">ุจุฅูุดุงุก ุทุฑููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnDrawGizmos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญูุซ </font><b><font style="vertical-align: inherit;">ุณูุฑุณู</font></b><font style="vertical-align: inherit;"> ุงูููุงุท.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุฑูุทุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> UNITY_EDITOR <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnDrawGizmos() {} #endif }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุขู ูู ุฎูุงู ุงูุญููุฉ ูุฑุณู ูู ููุทุฉ. </font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุฑูุทุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> UNITY_EDITOR <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnDrawGizmos() { foreach (Node node <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodes.Values) { Gizmos.DrawWireSphere(node.position, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize / <span class="hljs-number"><span class="hljs-number">10</span></span>f); } } #endif }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ูู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุ ุชุจุฏู ุฎุฑูุทุชูุง ูููุฉ ููุนูุง ูุง ุ ูู ุฃุฌู ุงูุญุตูู ุนูู ุดุจูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชูุตูู ุงูููุงุท ุจุจุนุถูุง ุงูุจุนุถ. </font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุจูุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/460/01d/f10/46001df105fcb2bd9fb90ef382888f26.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุจุญุซ ุนู ููุงุท ูุฌุงูุฑุฉ ุ ูุญุชุงุฌ ููุท ุฅูู ุงูุนุซูุฑ ุนูู ุงูููุทุฉ ุงููุทููุจุฉ ูู ุฎูุงู ุฅุญุฏุงุซูุงุชูุง ูู 8 ุงุชุฌุงูุงุช ุ ูุฐูู ูู ูุฆุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุฑูุทุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุณูููู </font><font style="vertical-align: inherit;">ุจุฅูุดุงุก ูุฌููุนุฉ ุซุงุจุชุฉ ุจุณูุทุฉ ูุงุชุฌุงูุงุช </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงุชุฌุงูุงุช</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุทุฑููุฉ ุงูุจุญุซ ุนู ุงูุฎููุฉ ุจูุงุณุทุฉ ุฅุญุฏุงุซูุงุช </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetNode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุฑูุทุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Map</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Obstacle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> readonly Vector2Int[] Directions = { Vector2Int.up, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), Vector2Int.right, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>), Vector2Int.down, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>), Vector2Int.left, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2Int(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), }; <span class="hljs-comment"><span class="hljs-comment">/*... โฆ*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Node GetNode(Vector2Int coords) { Node result = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(Node); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { result = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodes[coords]; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> {} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> UNITY_EDITOR <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnDrawGizmos() {} #endif }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุชููู </font><font style="vertical-align: inherit;">ุทุฑููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetNode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุฅุฑุฌุงุน ููุทุฉ ุนู ุทุฑูู ุงูุฅุญุฏุงุซูุงุช ูู ูุงุฆูุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููููู ุชุญุชุงุฌ ุฅูู ุงูููุงู ุจุฐูู ุจุนูุงูุฉ ุ ูุฃูู ุฅุฐุง ูุงูุช ุฅุญุฏุงุซูุงุช </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vector2Int</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุบูุฑ ุตุญูุญุฉ ุ ูุณูุญุฏุซ ุฎุทุฃ ุ ูุฐูู ูุณุชุฎุฏู ููุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุณุชุซูุงุก </font><b><font style="vertical-align: inherit;">try try</font></b><font style="vertical-align: inherit;"> ุ ูุงูุชู ุณุชุณุงุนุฏ ุนูู ุชุฌุงูุฒ ุงูุงุณุชุซูุงุก ูููุณ " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนููู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ุงูุชุทุจูู ุจุฃูููู ูุน ูุฌูุฏ ุฎุทุฃ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุณุชุนุฑุถ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฏูุฑุฉ ูู ุฌููุน ุงูุงุชุฌุงูุงุช ููุญุงูู ุงูุนุซูุฑ ุนูู ููุงุท ูุฌุงูุฑุฉ ูู ุทุฑููุฉ </font><b><font style="vertical-align: inherit;">OnDrawGizmos</font></b><font style="vertical-align: inherit;"> ุ ูุงูุฃูู ูู ุฐูู ุ ูุง ุชูุณ ุฃู ุชููุฑ ูู ุตูุงุญูุชูุง.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ondrawgizmos</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="actionscript hljs"> #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> UNITY_EDITOR <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OnDrawGizmos() { Color c = Gizmos.color; foreach (Node node <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodes.Values) { Color newColor = Color.white; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node.isWalkable) newColor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Color32(<span class="hljs-number"><span class="hljs-number">153</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> newColor = Color.red; Gizmos.color = newColor; Gizmos.DrawWireSphere(node.position, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.nodeSize / <span class="hljs-number"><span class="hljs-number">10</span></span>f); newColor = Color.green; Gizmos.color = newColor; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node.isWalkable) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Directions.Length; i++) { Vector2Int coords = node.coords + Directions[i]; Node connection = GetNode(coords); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connection) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connection.isWalkable) Gizmos.DrawLine(node.position, connection.position); } } } } Gizmos.color = c; } #endif</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููููู ุงูุขู ุจุฏุก ุงููุนุจุฉ ุจุฃูุงู ููุนุฑูุฉ ูุง ุญุฏุซ. </font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎุฑูุทุฉ ุฏููุงููููุฉ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/302/3ae/4e3/3023ae4e31ba9b2f888c27c4a9144ab7.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐุง ุงููุซุงู ุ ูููุง ุจุจูุงุก ุงูุฑุณู ุงูุจูุงูู ููุณู ููุท ุจุงุณุชุฎุฏุงู ุงูููุงู ุ ูููู ูุฐุง ูุง ุญุฏุซ ุจุนุฏ ุฃู ุซุจุช ูู ุงููุธุงู ุฎูุงุฑุฒููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A *</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณูุง </font><font style="vertical-align: inherit;">ุ ูุงูุชู ุชุณุชุฎุฏู ุฃูุถูุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงู Job</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุนุซูุฑ ุนูู ุงููุณุงุฑ ุ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุตุฏุฑ ูู ููุงูุฉ ุงูููุงูุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุญุซ ูู ุงูุฎุฑูุทุฉ ูุงููุณุงุฑ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b2a/769/46c/b2a76946c68d7af5dc30d3226e27b5a1.gif" alt="ุงูุตูุฑุฉ"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ููููู ุงุณุชุฎุฏุงู ูุธุงู ุงูููุงู ุงูุฌุฏูุฏ ูุฃูุฏุงูู ูุจูุงุก ุฃูุธูุฉ ูุซูุฑุฉ ููุงูุชูุงู ุฏูู ุจุฐู ุงููุซูุฑ ูู ุงูุฌูุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ุงูุญุงู ูู ุงูููุงูุฉ ุงูุณุงุจูุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุธุงู ุงูููุงู ุจุฏูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ECS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูููู ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุฐุง ุงููุธุงู ูุน </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ECS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููููู ุจุจุณุงุทุฉ ุชุญููู ูุชุงุฆุฌ ูุฐููุฉ ูู ููุงุณุจ ุงูุฃุฏุงุก. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุธุง ุณุนูุฏุง</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตุฏุฑ ูุดุฑูุน ุงูุจุงุญุซ ุนู ุงููุณุงุฑ</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar423601/">https://habr.com/ru/post/ar423601/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar423589/index.html">ููู ุงุฎุชุฑูุง TTS ุนูู ุณุจูู ุงููุซุงู ุงูุฃุตูุงุช ูู ุงููุงููุณ</a></li>
<li><a href="../ar423591/index.html">ุฃุบุงูู ูุฏููุฉ ุนู ุงูุดูุก ุงูุฑุฆูุณู. ุทูุจุงุช ุฌุงูุง ูุงูุตุงุฏุฑุฉ</a></li>
<li><a href="../ar423593/index.html">ุฃุนููุช ุฌูุฌู ูุณุงุจูุฉ ูููุฌูุงุช ุนูู ุฎูุงุฑุฒููุงุช ุฑุคูุฉ ุงูุฌูุงุฒ</a></li>
<li><a href="../ar423595/index.html">ูุฑุงูุฌู ุฃูููุงูู ุ ุงูุชุจุงุฏู</a></li>
<li><a href="../ar423597/index.html">ููู ููุง ูู ุงููุฌููุนุงุช ุงูุชู ูููู ุชุฎุตูุตูุง ูู ูุงุนุฏุฉ ุงูุนููุงุก</a></li>
<li><a href="../ar423603/index.html">ุฌุฒุก RxSwift 1</a></li>
<li><a href="../ar423607/index.html">ููููุณ ุชูุฑูุงูุฏุณ ูุชุฎูู ุนู ุฃุณููุจ ุตุนุจ ููุฃุฎุฐ ููุชุง</a></li>
<li><a href="../ar423609/index.html">ุฃูู ุชุฐูุจ ููุงูุน ุงูููุจ ุจุนุฏ ุงูููุชุ ุฎุจุฑุฉ ุดุฎุตูุฉ</a></li>
<li><a href="../ar423611/index.html">ุงูุฏูุน ุจููุฑุฉ ูุงุญุฏุฉ - ุงูุฎูุฑ ุฃู ุงูุดุฑุ</a></li>
<li><a href="../ar423615/index.html">ุงูููุงุฑุงุช ุงูููููุฉ ุงููุทููุจุฉ ุจูู ุงููุชุฎุตุตูู ูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (ุดุฑูุญุฉ 2018)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>