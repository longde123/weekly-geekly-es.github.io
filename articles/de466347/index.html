<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕝 👧🏽 🅿️ Schulung Cisco 200-125 CCNA v3.0. Tag 34. Erweitertes VLAN-Konzept 👊🏻 👨🏽‍🚀 🍰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir haben VLANs bereits in den Video-Lektionen Tag 11, 12 und 13 untersucht und werden sie heute weiterhin gemäß dem Thema ICND2 untersuchen. Ich habe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 34. Erweitertes VLAN-Konzept</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466347/"> Wir haben VLANs bereits in den Video-Lektionen Tag 11, 12 und 13 untersucht und werden sie heute weiterhin gemäß dem Thema ICND2 untersuchen.  Ich habe das vorherige Video aufgenommen, das vor einigen Monaten das Ende der Vorbereitung auf die ICND1-Prüfung bedeutete, und die ganze Zeit bis heute war ich sehr beschäftigt.  Ich denke, viele von Ihnen haben diese Prüfung erfolgreich bestanden. Diejenigen, die die Prüfung verschoben haben, können warten, bis der zweite Teil des Kurses beendet ist, und versuchen, die umfassende Prüfung CCNA 200-125 zu bestehen. <br><br>  Mit dem heutigen Video-Tutorial „Tag 34“ beginnen wir mit dem Thema des ICND2-Kurses.  Viele fragen mich, warum wir OSPF und EIGRP nicht berücksichtigt haben.  Tatsache ist, dass diese Protokolle nicht im Fach des ICND1-Kurses enthalten sind und zur Vorbereitung auf das Bestehen von ICND2 untersucht werden.  Ab heute werden wir uns mit den Themen des zweiten Teils des Kurses befassen und natürlich die OSPF- und EIGRP-Einstiche untersuchen.  Bevor ich mit dem heutigen Thema beginne, möchte ich über die Strukturierung unserer Video-Tutorials sprechen.  Bei der Präsentation des Themas ICND1 habe ich mich nicht an die akzeptierten Muster gehalten, sondern das Material einfach logisch erklärt, da ich dachte, dass diese Methode leichter zu verstehen ist.  Jetzt, während ich ICND2 studiere, werde ich auf Wunsch der Studenten beginnen, Schulungsmaterial gemäß dem Lehrplan und Programm des Cisco-Kurses einzureichen. <a name="habracut"></a><br><br>  Wenn Sie auf die Website des Unternehmens gehen, sehen Sie diesen Plan und die Tatsache, dass der gesamte Kurs in 5 Hauptteile unterteilt ist: <br><br>  - Technologien zum Umschalten lokaler Netzwerke (26% des Schulungsmaterials); <br>  - Routing-Technologien (29%); <br>  - Technologien globaler Netzwerke (16%); <br>  - Infrastrukturdienste (14%); <br>  - Instandhaltung der Infrastruktur (15%). <br><br>  Ich werde mit dem ersten Teil beginnen.  Wenn Sie rechts auf das Dropdown-Menü klicken, werden die detaillierten Themen dieses Abschnitts angezeigt.  Das heutige Video-Tutorial behandelt die Themen in Abschnitt 1.1: „Konfigurieren, Überprüfen und Beheben von Problemen mit VLANs (regulärer / erweiterter Bereich) für mehrere Switches“ und Unterabschnitten 1.1a „Zugriffsports (Daten- und Sprachnachrichten)“ und 1.1.b „Standard-VLAN“. . <br><br>  Außerdem werde ich versuchen, das gleiche Prinzip der Präsentation einzuhalten, dh jede Videolektion wird einem Abschnitt mit Unterabschnitten gewidmet, und wenn nicht genügend Material vorhanden ist, werde ich die Themen mehrerer Abschnitte in einer Lektion kombinieren, z. B. 1.2 und 1.3.  Wenn es viel Abschnittsmaterial gibt, werde ich es in zwei Videos aufteilen.  In jedem Fall folgen wir dem Kursprogramm, und Sie können die Übereinstimmung Ihrer Notizen mit dem aktuellen Cisco-Lehrplan leicht vergleichen. <br><br><img src="https://habrastorage.org/webt/gf/8t/xi/gf8txihrpqmsxirruzcwp60ukyy.jpeg"><br><br>  Sie sehen meinen neuen Desktop auf dem Bildschirm, es ist Windows 10. Wenn Sie Ihren Desktop mit verschiedenen Widgets verbessern möchten, können Sie sich mein Video mit dem Titel "Pimp Your Desktop" ansehen, in dem ich Ihnen erkläre, wie Sie den Desktop Ihres Computers an Ihren Computer anpassen können Bedürfnisse.  Ich poste Videos dieser Art auf einem anderen Kanal, ExplainWorld, damit Sie den Link in der oberen rechten Ecke verwenden und dessen Inhalt sehen können. <br><br>  Vor Beginn der Lektion möchte ich Sie bitten, nicht zu vergessen, meine Videos zu teilen und sie zu mögen.  Ich möchte auch unsere Kontakte in sozialen Netzwerken und Links zu meinen persönlichen Seiten erinnern.  Sie können mir per E-Mail schreiben, und wie ich bereits sagte, wird die Priorität beim Erhalt meiner persönlichen Antwort Personen eingeräumt, die auf unserer Website eine Spende getätigt haben. <br><br>  Wenn du keine Spende machst, ist es in Ordnung, dass du deine Kommentare in den Video-Tutorials auf dem YouTube-Kanal hinterlässt. Ich werde sie nach Möglichkeit beantworten. <br><br>  Daher werden wir heute gemäß dem Cisco-Zeitplan drei Fragen berücksichtigen: Vergleichen Sie das Standard-VLAN oder das Standard-VLAN mit dem nativen VLAN oder dem „nativen“ VLAN, um herauszufinden, wie sich das normale VLAN (normaler Bereich von VLANs) vom erweiterten Bereich der erweiterten VLANs und unterscheidet Betrachten Sie den Unterschied zwischen einem Daten-VLAN (Voice-VLAN) und einem Voice-VLAN (Voice-VLAN).  Wie gesagt, wir haben dieses Problem bereits in früheren Serien untersucht, aber eher oberflächlich, so dass viele Schüler immer noch Schwierigkeiten haben, den Unterschied zwischen VLAN-Typen zu bestimmen.  Heute werde ich es erklären, damit jeder versteht. <br><br>  Berücksichtigen Sie den Unterschied zwischen Standard-VLAN und nativem VLAN.  Wenn Sie einen brandneuen Cisco-Switch mit Werkseinstellungen verwenden, verfügt er über 5 VLANs - VLAN1, VLAN1002, VLAN1003, VLAN1004 und VLAN1005. <br><br><img src="https://habrastorage.org/webt/dh/fy/wr/dhfywrp5tnzv-llpnb_29ddkcye.jpeg"><br><br>  VLAN1 ist das Standard-VLAN für alle Cisco-Geräte, und VLAN 1002-1005 ist für Token Ring und FDDI reserviert.  VLAN1 kann nicht gelöscht oder umbenannt werden, Schnittstellen können nicht hinzugefügt werden und alle Switch-Ports gehören standardmäßig zu diesem Netzwerk, bis sie anders konfiguriert sind.  Standardmäßig können alle Switches miteinander kommunizieren, da sie alle Teil von VLAN1 sind.  Dies ist, was "Standard-VLAN" oder Standard-VLAN bedeutet. <br><br>  Wenn Sie in die Einstellungen von Switch SW1 gehen und dem VLAN20-Netzwerk zwei Schnittstellen zuweisen, werden diese Teil des VLAN20-Netzwerks.  Bevor Sie mit der heutigen Lektion beginnen, empfehle ich Ihnen dringend, die oben genannten Serien für 11.12 und 13 Tage zu lesen, da ich nicht wiederholen werde, was VLANs sind und wie sie funktionieren. <br><br><img src="https://habrastorage.org/webt/9t/5q/wd/9t5qwdilbgqukollbgyqbawaosa.jpeg"><br><br>  Ich möchte Sie nur daran erinnern, dass Sie einem VLAN20-Netzwerk erst dann automatisch Schnittstellen zuweisen können, wenn Sie es erstellen. Sie müssen also zuerst in den globalen Konfigurationsmodus des Switches wechseln und ein VLAN20 erstellen.  Sie können sich die CLI-Einstellungskonsole ansehen und verstehen, was ich meine.  Nachdem Sie diese beiden Ports für die Arbeit mit VLAN20 zugewiesen haben, können PC1 und PC2 miteinander kommunizieren, da beide zum selben VLAN20-Netzwerk gehören.  PC3 ist jedoch weiterhin Teil von VLAN1 und kann daher keine Verbindung zu Computern in VLAN20 herstellen. <br><br>  Wir haben einen zweiten Switch SW2, von dem eine der Schnittstellen für die Arbeit mit VLAN20 zugewiesen ist, und PC5 ist mit diesem Port verbunden.  Mit diesem Verbindungsschema kann PC5 nicht mit PC4 und PC6 kommunizieren, aber gleichzeitig können diese beiden Computer miteinander kommunizieren, da sie zum selben VLAN1-Netzwerk gehören. <br><br>  Beide Switches sind über entsprechend konfigurierte Ports per Trunk verbunden.  Ich werde mich nicht wiederholen, ich sage nur, dass alle Ports des Switches standardmäßig für den DTP-Trunking-Modus konfiguriert sind.  Wenn Sie einen Computer an einen Port anschließen, verwendet dieser Port den Zugriffsmodus.  Wenn Sie den Port, an den PC3 angeschlossen ist, auf diesen Modus umschalten möchten, müssen Sie den Zugriffsbefehl für den Switchport-Modus eingeben. <br><br>  Wenn Sie also die beiden Switches miteinander verbinden, bilden sie einen Trunk.  Die oberen beiden Ports von SW1 leiten nur Datenverkehr auf VLAN20 weiter, der untere Port nur auf VLAN1-Datenverkehr, aber die Trunk-Verbindung durchläuft den gesamten Datenverkehr, der über den Switch geleitet wird.  Somit empfangen sowohl VLAN1 als auch VLAN20 Datenverkehr zu SW2. <br><br>  Wie Sie sich erinnern, haben VLANs eine lokale Bedeutung.  Daher weiß SW2, dass der von PC4 an Port VLAN1 ankommende Datenverkehr nur über einen Port an PC6 gesendet werden kann, der ebenfalls zu VLAN1 gehört.  Wenn ein Switch jedoch Datenverkehr an einen anderen Switch auf der Amtsleitung sendet, muss er mithilfe eines Mechanismus dem zweiten Switch erklären, um welche Art von Datenverkehr es sich handelt.  Als solcher Mechanismus wird das native VLAN verwendet, das mit dem Trunk-Port verbunden ist und markierten Verkehr durch sich selbst leitet. <br><br><img src="https://habrastorage.org/webt/wq/1h/cv/wq1hcvgu4akcve0bkbgfczwvree.jpeg">  \. <br><br>  Wie gesagt, der Switch hat nur ein Netzwerk, das nicht geändert werden kann - dies ist das Standardnetzwerk-VLAN1.  Standardmäßig ist das native VLAN jedoch VLAN1.  Was ist ein natives VLAN?  Dies ist ein Netzwerk, das nicht getaggten Datenverkehr an VLAN1 weiterleitet. Sobald jedoch Datenverkehr von einem anderen Netzwerk, in unserem Fall VLAN20, am Trunk-Port ankommt, wird er notwendigerweise markiert.  Jeder Frame hat eine DA-Zieladresse, eine SA-Quelladresse und ein VLAN-Tag, das die VLAN-ID enthält.  In unserem Fall gibt diese Kennung an, dass dieser Datenverkehr zu VLAN20 gehört. Daher kann er nur über den VLAN20-Port gesendet und für PC5 bestimmt werden.  Wir können sagen, dass das native VLAN entscheidet, ob der Datenverkehr markiert werden soll oder nicht. <br><br>  Denken Sie daran, dass VLAN1 das native Standard-VLAN ist, da standardmäßig alle Ports VLAN1 als natives VLAN verwenden, um Datenverkehr ohne Tags zu übertragen.  In diesem Fall ist das Standard-VLAN jedoch nur VLAN1, das einzige Netzwerk, das nicht geändert werden kann.  Wenn der Switch nicht getaggte Frames am Trunk-Port empfängt, werden diese automatisch als natives VLAN betrachtet. <br><br>  Einfach ausgedrückt, in Cisco-Switches können Sie jedes VLAN als natives VLAN verwenden, z. B. VLAN20, und nur VLAN1 als Standard-VLAN. <br><br>  In diesem Fall liegt möglicherweise ein Problem vor.  Wenn wir für den Trunk-Port des ersten nativen VLAN-Switches zu VLAN20 wechseln, wird der Port denken: "Da dies natives VLAN ist, muss sein Datenverkehr nicht markiert werden" und den nicht getaggten VLAN20-Netzwerkverkehr an den zweiten Switch auf dem Trunk senden.  Der SW2-Switch, der diesen Verkehr empfangen hat, sagt: „Hervorragend, dieser Verkehr hat kein Tag.  Gemäß meinen Einstellungen ist mein natives VLAN VLAN1, daher muss ich diesen nicht getaggten Datenverkehr über VLAN1 senden. “  Somit leitet SW2 den empfangenen Verkehr nur an PC4 und PC-6 weiter, obwohl er von PC5 entworfen wurde.  Dies führt zu einem großen Sicherheitsproblem, da der VLAN-Verkehr gemischt wird.  Aus diesem Grund müssen Sie an beiden Trunk-Ports immer dasselbe native VLAN konfigurieren. Wenn das native VLAN für den Trunk-Port SW1 VLAN20 ist, sollte dasselbe VLAN20 als natives VLAN am Trunk-Port von SW2 festgelegt werden. <br><br>  Dies ist der Unterschied zwischen dem nativen VLAN und dem Standard-VLAN. Beachten Sie, dass alle nativen VLANs im Trunk übereinstimmen müssen (Anmerkung des Übersetzers: Es ist daher besser, ein anderes Netzwerk als VLAN1 als natives VLAN zu verwenden). <br><br>  Betrachten wir es aus der Sicht des Schalters.  Sie können in den Switch gehen und den Befehl show vlan brief eingeben. Danach sehen Sie, dass alle Ports des Switches mit dem Standard-VLAN1 verbunden sind. <br><br><img src="https://habrastorage.org/webt/ud/p4/qa/udp4qajq-idpiqi-yfedmxrjnhq.jpeg"><br><br>  Im Folgenden werden 4 weitere VLANs angezeigt: 1002.1003.1004 und 1005. Dies ist auch das Standard-VLAN. Sie können es anhand ihrer Bezeichnung sehen.  Sie sind die Standardnetzwerke, da sie für bestimmte Netzwerke reserviert sind - Token Ring und FDDI.  Wie Sie sehen, befinden sie sich in einem aktiven Zustand, werden jedoch nicht unterstützt, da die Netzwerke der genannten Standards nicht mit dem Switch verbunden sind. <br><br>  Die Standardbezeichnung für VLAN 1 kann nicht geändert werden, da es sich um das Standardnetzwerk handelt.  Da standardmäßig alle Switch-Ports zu diesem Netzwerk gehören, können standardmäßig alle Switches miteinander kommunizieren, ohne dass zusätzliche Port-Einstellungen erforderlich sind.  Wenn Sie den Switch mit einem anderen Netzwerk verbinden möchten, rufen Sie den globalen Einstellungsmodus auf und erstellen dieses Netzwerk, z. B. VLAN20.  Durch Drücken der Eingabetaste gelangen Sie zu den Einstellungen des erstellten Netzwerks. Sie können ihm einen Namen geben, z. B. Verwaltung, und dann die Einstellungen beenden. <br><br>  Wenn Sie jetzt den Befehl show vlan brief verwenden, werden Sie feststellen, dass wir ein neues VLAN20-Netzwerk haben, das keinem der Switch-Ports entspricht.  Um diesem Netzwerk einen bestimmten Port zuzuweisen, müssen Sie eine Schnittstelle auswählen, z. B. int e0 / 1, die Einstellungen dieses Ports aufrufen und die Befehle switchport mode access und switchport access vlan20 eingeben. <br><br><img src="https://habrastorage.org/webt/ux/js/1g/uxjs1g2ielcc68fq-g7arfpagqg.jpeg"><br><br>  Wenn Sie das System auffordern, den Status der VLANs anzuzeigen, wird angezeigt, dass der Ethernet-Port 0/1 jetzt für das Verwaltungsnetzwerk bestimmt ist, dh automatisch aus dem für VLAN1 standardmäßig zugewiesenen Portbereich hierher verschoben wurde. <br><br><img src="https://habrastorage.org/webt/u5/8s/dw/u58sdwfhwjugts_hdivsewmshcu.jpeg"><br><br>  Denken Sie daran, dass jeder Zugriffsport nur ein Daten-VLAN haben kann, sodass nicht zwei VLANs gleichzeitig bedient werden können. <br><br>  Schauen Sie sich jetzt Native VLAN an.  Ich verwende den Befehl show int trunk und sehe, dass der Ethernet0 / 0-Port dem Trunk zugeordnet ist. <br><br><img src="https://habrastorage.org/webt/aa/ie/kb/aaiekbrxahjixlxiz01wiohoecc.jpeg"><br><br>  Ich musste dies nicht absichtlich tun, da das DTP-Protokoll diese Schnittstelle automatisch für das Trunking zugewiesen hat.  Der Port befindet sich im gewünschten Modus, die n-isl-Kapselung, der Portstatus ist Trunking, das Netzwerk ist Native VLAN1. <br><br>  Das Folgende ist ein gültiger Bereich von VLAN-Nummern 1–4094 für Trunking und zeigt an, dass VLAN1 und VLAN20 für uns arbeiten.  Jetzt gehe ich in den globalen Konfigurationsmodus und gebe den Befehl int e0 / 0 ein, dank dessen ich zu den Einstellungen dieser Schnittstelle gehe.  Ich versuche, diesen Port manuell so zu programmieren, dass er mit dem Befehl switchport mode trunk im Trunk-Modus arbeitet, aber das System akzeptiert den Befehl nicht und antwortet: „Eine Schnittstelle mit einem automatischen Trunk-Kapselungsmodus kann nicht in den Trunk-Modus geschaltet werden. <br><br>  Daher muss ich zuerst den Trunk-Kapselungstyp konfigurieren, für den ich den Befehl switchport trunk encapsulation verwende.  Das System gab Hinweise mit möglichen Parametern für diesen Befehl aus: <br><br>  dot1q - Während des Trunkings verwendet der Port die 802.1q-Trunk-Kapselung. <br>  isl - Während des Trunkings verwendet der Port nur die Kapselung des Trunkings des proprietären Cisco ISL-Protokolls. <br>  Aushandeln - Das Gerät kapselt die Amtsleitung mit jedem an diesen Port angeschlossenen Gerät. <br><br><img src="https://habrastorage.org/webt/e2/io/u4/e2iou4bay4urppu8dbobl3hks-0.jpeg"><br><br>  An jedem Ende des Trunks muss dieselbe Art der Kapselung ausgewählt werden.  Standardmäßig unterstützt der Out-of-Box-Switch nur dot1q-Trunking, da fast alle Netzwerkgeräte diesen Standard unterstützen.  Ich werde unsere Schnittstelle so programmieren, dass Trunking gemäß diesem Standard mit dem Befehl switchport trunk encapsulation dot1q gekapselt wird, und dann den zuvor abgelehnten Befehl switchport mode trunk verwenden.  Jetzt ist unser Port auf Trunk-Modus programmiert. <br><br>  Wenn der Trunk aus zwei Cisco-Switches besteht, wird standardmäßig das proprietäre ISL-Protokoll verwendet.  Wenn ein Switch dot1q und ISL unterstützt und der zweite nur dot1q, wird der Trunk automatisch in den dot1q-Kapselungsmodus versetzt.  Wenn wir uns die Trunking-Parameter noch einmal ansehen, werden wir sehen, dass sich der Kapselungsmodus des Et0 / 0-Schnittstellen-Trunkings jetzt von n-isl auf 802.1q geändert hat. <br><br><img src="https://habrastorage.org/webt/6y/qv/dj/6yqvdjnrhkxvlfoywt9sz6ffzlc.jpeg"><br><br>  Wenn wir den Befehl show int e0 / 0 switchport eingeben, werden alle Statusparameter für diesen Port angezeigt. <br><br><img src="https://habrastorage.org/webt/my/qn/y5/myqny58kvkkxpruxizveoz0i6-q.jpeg"><br><br>  Sie können sehen, dass VLAN1 standardmäßig das native VLAN für natives Trunking ist und der native VLAN-Traffic-Tagging-Modus möglich ist.  Als nächstes verwende ich den Befehl int e0 / 0, gehe in die Einstellungen dieser Schnittstelle und gebe switchport trunk ein. Danach gibt das System Hinweise auf mögliche Parameter für diesen Befehl. <br><br><img src="https://habrastorage.org/webt/sb/s-/0h/sbs-0hvd554n5ofssmx9lpjqms0.jpeg"><br><br>  Zulässig bedeutet, dass, wenn sich der Port im Trunk-Modus befindet, die zulässigen VLAN-Eigenschaften festgelegt werden.  Die Kapselung aktiviert die Amtsleitungskapselung, wenn sich der Port im Amtsleitungsmodus befindet.  Ich verwende den nativen Parameter, was bedeutet, dass im Trunk-Modus die nativen Eigenschaften für den Port festgelegt werden, und gebe den nativen VLAN20-Befehl switchport trunk ein.  Im Trunk-Modus ist VLAN20 somit das native VLAN für diesen Port des ersten Switch SW1. <br><br>  Wir haben einen anderen Switch, SW2, für den Trunk-Port, dessen VLAN1 als natives VLAN verwendet wird.  Jetzt sehen Sie, dass das CDP-Protokoll eine Meldung anzeigt, dass zwischen Native VLAN an beiden Enden des Trunks eine Nichtübereinstimmung besteht: Der Trunk-Port des ersten Ethernet0 / 0-Switch verwendet Native VLAN20 und der Trunk-Port des zweiten verwendet Native VLAN1.  Dies zeigt den Unterschied zwischen nativem VLAN und Standard-VLAN. <br><br>  Beginnen wir mit einer grundlegenden und erweiterten Palette von VLANs. <br><br><img src="https://habrastorage.org/webt/0m/-x/ew/0m-xewcwcpyl5hbh4lyb-dfcxtw.jpeg"><br><br>  Cisco unterstützte lange Zeit nur den Bereich der VLAN-Nummern von 1 bis 1005, während der Bereich von 1002 bis 1005 standardmäßig für Token Ring und FDDI-VLAN reserviert war.  Diese Netzwerke wurden als reguläre VLANs bezeichnet.  Wenn Sie sich erinnern, ist die VLAN-ID ein 12-Bit-Tag, mit dem Sie die Nummer auf 4096 setzen können. Aus Kompatibilitätsgründen verwendete Cisco jedoch nur Nummern bis zu 1005. <br><br>  Der erweiterte VLAN-Bereich umfasst die Nummern 1006 bis 4095. Er kann nur auf älteren Geräten verwendet werden, wenn diese VTP v3 unterstützen.  Wenn Sie VTP v3 und den erweiterten VLAN-Bereich verwenden, müssen Sie die Unterstützung für VTP v1 und v2 deaktivieren, da die erste und zweite Version nicht mit VLANs arbeiten können, wenn sie eine Nummer größer als 1005 haben. <br><br>  Wenn Sie also Extended VLAN für alte Switches verwenden, muss sich VTP im Status "Deaktivieren" befinden und Sie müssen es manuell für VLAN konfigurieren, da sonst die VLAN-Datenbank nicht aktualisiert wird.  Wenn Sie Extended VLAN mit VTP verwenden möchten, benötigen Sie die dritte Version von VTP. <br><br>  Schauen wir uns den VTP-Status mit dem Befehl show vtp status an.  Sie sehen, dass der Switch im VTP v2-Modus funktioniert, während die Versionen 1 und 3 unterstützt werden können. Ich habe ihm den Domainnamen nwking.org zugewiesen. <br><br>  Der VTP-Server-Verwaltungsmodus ist hier wichtig.  Sie können sehen, dass die maximale Anzahl unterstützter VLANs 1005 beträgt. Sie können also verstehen, dass dieser Switch standardmäßig nur den normalen VLAN-Bereich unterstützt. <br><br><img src="https://habrastorage.org/webt/vu/iw/7p/vuiw7pcessmfr7nm2gugrmnkcgc.jpeg"><br><br>  Jetzt gebe ich den Befehl show vlan brief ein und Sie sehen die VLAN20-Verwaltung, die hier erwähnt wird, weil sie Teil der VLAN-Datenbank ist. <br><br><img src="https://habrastorage.org/webt/1h/pu/lt/1hpultdvlklo-shjqvwlipr2yw8.jpeg"><br><br>  Wenn ich Sie jetzt auffordere, die aktuelle Konfiguration des Geräts mit dem Befehl show run anzuzeigen, werden VLANs nicht erwähnt, da sie nur in der VLAN-Datenbank enthalten sind. <br>  Als nächstes verwende ich den Befehl vtp mode, um den VTP-Betriebsmodus zu konfigurieren.  Switches älterer Modelle hatten nur drei Parameter für diesen Befehl: Client, der den Switch in den Client-Modus versetzt, Server, der den Servermodus aktiviert, und transparent, der den Switch in den "transparenten" Modus schaltet.  Da es unmöglich war, VTP auf alten Switches vollständig zu deaktivieren, hat der in der VTP-Domäne verbleibende Switch in diesem Modus einfach aufgehört, VLAN-Datenbankaktualisierungen zu akzeptieren, die über VTP an seinen Ports ankommen. <br><br>  Bei neuen Schaltern wurde der Parameter off angezeigt, mit dem Sie den VTP-Modus vollständig deaktivieren können.  Lassen Sie uns das Gerät mit dem Befehl vtp mode transparent in den transparenten Modus versetzen und die aktuelle Konfiguration erneut betrachten.  Wie Sie sehen können, wurde nun ein Eintrag zu VLAN20 hinzugefügt.  Wenn wir also eine Art VLAN hinzufügen, dessen Nummer im üblichen VLAN-Bereich mit Nummern von 1 bis 1005 liegt und dessen VTP sich im transparenten oder ausgeschalteten Modus befindet, wird dieses Netzwerk gemäß den internen VLAN-Richtlinien hinzugefügt aktuelle Konfiguration und in die Datenbank der virtuellen lokalen Netzwerke. <br><br>  Versuchen wir, VLAN 3000 hinzuzufügen, und Sie werden sehen, dass es im transparenten Modus auch in der aktuellen Konfiguration angezeigt wird.  Wenn wir ein Netzwerk aus dem erweiterten VLAN-Bereich hinzufügen möchten, sollten wir normalerweise den Befehl vtp Version 3 verwenden. Wie Sie sehen, werden sowohl VLAN20 als auch VLAN3000 in der aktuellen Konfiguration angezeigt. <br><br>  Wenn Sie den transparenten Modus verlassen und den Servermodus mit dem Befehl vtp mode server aktivieren und dann die aktuelle Konfiguration erneut anzeigen, können Sie feststellen, dass die VLAN-Einträge vollständig verschwunden sind.   ,     VLAN      VLAN         VTP.     VTP v3,     show vtp status  ,     VLAN   4096. <br><br> ,   VTP v1  VTP v2    VLAN    1  1005,    VTP v3       VLAN    1  4096.     VTP transparent  VTP off,   VLAN     .       VLAN,      VTP v3.          VLAN. <br><br>     VLAN    VLAN   .   ,  ,          VLAN. <br><br><img src="https://habrastorage.org/webt/rv/wq/on/rvwqonxzfeplodsmyi5bgqtg-p8.jpeg"><br><br>            IP-.   IP- Cisco   ,          ,  - —   .    ,   ,     ,      VLAN.      11  12 ,   ,     ,    «» VLAN,   ,      .       VLAN          . <br><br>           VLAN.   ,   PC1  PC2     VLAN20,  PC3 –   VLAN30,        IP-          VLAN50. <br><br>     SW1    2  VLAN –     . <br><br><img src="https://habrastorage.org/webt/9h/du/7d/9hdu7dfuzpinp6sbgoacbgummqc.jpeg"><br><br>   , access VLAN    VLAN,       VLAN   .          switchport access vlan 10, switchport access vlan 20  switchport access vlan 50.              :  switchport access vlan 10   switchport voice vlan 50. ,  IP-    ,        VLAN50        switchport access    VLAN20  SW1. ,    . <br><br>     VLAN50,       Ethernet 0/1      switchport mode access.       switchport access vlan 10  switchport voice vlan 50. <br><br>      VLAN  ,      Ethernet 0/0    switchport trunk native vlan 1.      VLAN,   ,     Ethernet 0/1      – VLAN 50  VLAN20. <br><br><img src="https://habrastorage.org/webt/ma/dd/kn/maddknwilrnpzk59e1uxxywzqly.jpeg"><br><br>  ,   ,       VLAN,   ,        Voice VLAN.     ,           show int trunk, ,  -      VLAN,     VLAN1. <br><br><img src="https://habrastorage.org/webt/5x/yl/bx/5xylbx5wfteakw7gdblhb4ntzxq.jpeg"><br><br>  ,  ,        ,        :       ,    access –. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie den Befehl show int e0 / 1 switchport eingeben, können Sie feststellen, dass einige Merkmale zwei Betriebsmodi entsprechen: Wir haben sowohl statischen Zugriff als auch Kapselung von Trunking. </font><font style="vertical-align: inherit;">In diesem Fall entspricht der Zugriffsmodus dem VLAN 20-Verwaltungsdatennetzwerk und gleichzeitig gibt es ein VLAN 50-Sprachnetzwerk. </font></font><br><br><img src="https://habrastorage.org/webt/wg/lg/-4/wglg-4ekqrkx2wpdqia6kb6lhts.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können sich die aktuelle Konfiguration ansehen, aus der auch hervorgeht, dass an diesem Port Zugriffs-VLAN 20- und Sprach-VLAN 50-Netzwerke vorhanden sind. </font></font><br><br><img src="https://habrastorage.org/webt/nh/c-/qc/nhc-qcqpvltq4tardvk4km2y-hk.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ist der Unterschied zwischen Daten-VLANs und Voice-VLANs. </font><font style="vertical-align: inherit;">Ich hoffe, Sie verstehen alles, worüber ich gesprochen habe, wenn nicht - lesen Sie dieses Video-Tutorial noch einmal.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Kk61XLgPeGg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466347/">https://habr.com/ru/post/de466347/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466333/index.html">So arrangieren Sie einen Arbeitsplatz für sich</a></li>
<li><a href="../de466335/index.html">Erstellen einer Slack-Anwendung mit 8base-Funktionen</a></li>
<li><a href="../de466337/index.html">Welche Farbe hat deine Funktion?</a></li>
<li><a href="../de466339/index.html">Wie in Microsoft SQL Server Daten von Google Analytics mit R abrufen</a></li>
<li><a href="../de466341/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 33. Vorbereitung auf die ICND1-Prüfung</a></li>
<li><a href="../de466349/index.html">So führen Sie A / B-Tests in 15.000 Offline-Stores durch</a></li>
<li><a href="../de466355/index.html">Krokodile fliegen, aber niedrig-niedrig (über Ekranoplans ohne Emotionen, aber mit Abschweifungen)</a></li>
<li><a href="../de466359/index.html">Warum der Welttag der ökologischen Schulden und der ökologische Fußabdruck pseudowissenschaftlicher Unsinn sind</a></li>
<li><a href="../de466361/index.html">Wie Kosaken GICSP-Zertifikat erhalten</a></li>
<li><a href="../de466363/index.html">Slurm DevOps. Erster Tag. Git, CI / CD, IaC und der Grüne Dinosaurier</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>