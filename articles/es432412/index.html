<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèº‚Äçü§ù‚Äçüßëüèº üíÉ üßõüèª Highload ++: C√≥mo ayudar al sistema ERP a hacer frente a 500,000 solicitudes por segundo üò© üßû üëÜüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En X5 procesamos muchos datos en un sistema ERP. Se cree que nadie m√°s nos procesa en SAP ERP y SAP BW en Rusia. Pero hay otro punto: el n√∫mero de ope...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Highload ++: C√≥mo ayudar al sistema ERP a hacer frente a 500,000 solicitudes por segundo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/432412/">  En X5 procesamos muchos datos en un sistema ERP.  Se cree que nadie m√°s nos procesa en SAP ERP y SAP BW en Rusia.  Pero hay otro punto: el n√∫mero de operaciones y la carga en este sistema est√° aumentando r√°pidamente.  Durante 3 a√±os "luchamos" por el rendimiento de nuestro peso pesado ERP, obtuvimos muchos conos y con qu√© m√©todos fueron tratados, contamos debajo del corte. <br><br><img src="https://habrastorage.org/webt/5h/bu/5x/5hbu5xxbs9yb6vojgiy-2wl06hk.png" alt="imagen"><br><a name="habracut"></a><br><h2>  ERP X5 </h2><br>  Ahora X5 opera m√°s de 13,000 tiendas.  La mayor√≠a de los procesos de negocio de cada uno de ellos pasa por un √∫nico sistema ERP.  Cada tienda puede tener de 3,000 a 30,000 productos, esto crea problemas con la carga en el sistema, porque  los procesos de rec√°lculo regular de precios pasan por √©l de acuerdo con promociones y requisitos legislativos y el c√°lculo de reposici√≥n de inventarios.  Todo esto es cr√≠tico, y si no se calcula a tiempo qu√© productos se deben entregar a la tienda ma√±ana o qu√© precio deber√≠a estar en los productos, los compradores no encontrar√°n lo que estaban buscando en los estantes o no podr√°n comprar los productos al precio de la promoci√≥n actual existencias  En general, adem√°s de contabilizar las transacciones financieras, el sistema ERP es responsable de gran parte de la vida cotidiana de cada tienda. <br><br>  Un poco de caracter√≠sticas de rendimiento de un sistema ERP.  Su arquitectura es cl√°sica, de tres niveles con elementos orientados al servicio: adem√°s tenemos m√°s de 5,000 clientes y terabytes de flujos de informaci√≥n desde tiendas y centros de distribuci√≥n, en la capa de aplicaci√≥n: SAP ABAP con m√°s de 10,000 procesos y, finalmente, Oracle Database con m√°s de 100 TB de datos.  Cada proceso ABAP es una m√°quina virtual condicional que ejecuta la l√≥gica empresarial de ABAP con su propio dialecto DBSL y SQL, almacenamiento en cach√©, gesti√≥n de memoria, ORM, etc.  Todos los d√≠as recibimos m√°s de 15 Tb de cambios en el registro de la base de datos.  El nivel de carga es de 500,000 solicitudes por segundo. <br><br>  Esta arquitectura es un entorno heterog√©neo.  Cada uno de los componentes es multiplataforma, podemos moverlo a diferentes plataformas, elegir las √≥ptimas, etc. <br><br>  El hecho de que el sistema ERP est√© bajo carga las 24 horas del d√≠a los 365 d√≠as del a√±o agrega combustible al fuego.  Disponibilidad: 99.9% del tiempo durante todo el a√±o.  La carga se divide en perfiles diurnos y nocturnos y mantenimiento de la casa en el tiempo libre. <br><br>  Pero eso no es todo.  El sistema tiene un ciclo de liberaci√≥n apretado y apretado.  Lleva m√°s de 2,000 cambios de lotes por a√±o.  Este puede ser un bot√≥n nuevo y cambios serios en la l√≥gica de las aplicaciones comerciales. <br><br><img src="https://habrastorage.org/webt/xa/g3/xi/xag3xio65zfdslyhgosbjrmtakw.png" alt="imagen"><br><br>  Como resultado, es un sistema grande y altamente cargado, pero al mismo tiempo estable, predecible y listo para el crecimiento que puede albergar a decenas de miles de tiendas.  Pero ese no fue siempre el caso. <br><br><h2>  2014. Punto de bifurcaci√≥n </h2><br>  Para sumergirse en el material pr√°ctico, debe volver al 2014.  Luego estaban las tareas m√°s dif√≠ciles para optimizar el sistema.  Hab√≠a alrededor de 5,000 tiendas. <br><br>  El sistema en ese momento estaba en tal estado que la mayor√≠a de los procesos cr√≠ticos no eran escalables y no respond√≠an adecuadamente a la carga creciente (es decir, la aparici√≥n de nuevas tiendas y productos).  Adem√°s, dos a√±os antes, se compr√≥ un Hi-End costoso, y durante alg√∫n tiempo una actualizaci√≥n no fue parte de nuestros planes.  Adem√°s, los procesos en ERP ya estaban a punto de violar SLA.  El proveedor concluy√≥ que la carga en el sistema no es escalable.  Nadie sab√≠a si pod√≠a soportar al menos + 10% del aumento de carga.  Y se plane√≥ abrir el doble de tiendas en tres a√±os. <br><br>  Era imposible alimentar simplemente el sistema ERP con hierro nuevo, y no ayudar√≠a.  Por lo tanto, en primer lugar, decidimos incluir una t√©cnica de optimizaci√≥n de software en el ciclo de lanzamiento y seguir la regla: el crecimiento de carga lineal en proporci√≥n al crecimiento de los controladores de carga es la clave para la previsibilidad y la escalabilidad. <br><br>  ¬øCu√°l fue la t√©cnica de optimizaci√≥n?  Este es un proceso c√≠clico, dividido en varias etapas: <br><br><ul><li>  monitoreo (identificar cuellos de botella en el sistema e identificar los principales consumidores de recursos) </li><li>  an√°lisis (perfilado de procesos de consumo, identificaci√≥n de estructuras con el mayor efecto no lineal sobre la carga) </li><li>  desarrollo (reduciendo la influencia de las estructuras en la carga, logrando una carga lineal) </li><li>  pruebas en un entorno de evaluaci√≥n de calidad o implementaci√≥n en un entorno productivo </li></ul><br>  A continuaci√≥n, se repiti√≥ el ciclo. <br><br>  En el proceso, nos dimos cuenta de que las herramientas de monitoreo actuales no nos permiten identificar r√°pidamente a los principales consumidores, identificar cuellos de botella y procesos que consumen muchos recursos.  Por lo tanto, para acelerar, probamos las herramientas de b√∫squeda el√°stica y Grafana.  Para hacer esto, desarrollaron de forma independiente recopiladores que, desde herramientas de monitoreo est√°ndar en Oracle / SAP / AIX / Linux, transfirieron m√©tricas a b√∫squeda el√°stica y permitieron el monitoreo en tiempo real del estado del sistema.  Adem√°s, enriquecieron el monitoreo con sus m√©tricas personalizadas, por ejemplo, el tiempo de respuesta y el rendimiento de componentes espec√≠ficos de SAP o el dise√±o de perfiles de carga para procesos comerciales. <br><img src="https://habrastorage.org/webt/m2/k3/dz/m2k3dzdu-nz384_pz4phtnlvkc0.png" alt="imagen"><br><br><h2>  Optimizaci√≥n de c√≥digo y proceso. </h2><br>  En primer lugar, por un menor efecto de los cuellos de botella en la velocidad, aseguraron un suministro de carga m√°s fluido al sistema. <br><br>  La mayor√≠a de los procesos comerciales en nuestro sistema ERP, por ejemplo, como la planificaci√≥n regular de precios o la reposici√≥n de inventario, son procesos secuenciales paso a paso de una gran cantidad de datos (para todos los productos y todas las tiendas).  Para implementar el procesamiento en el marco de tareas tan dif√≠ciles, en un momento desarrollamos nuestro propio administrador de procesamiento paralelo por lotes (en lo sucesivo, el planificador de carga).  En este caso, en forma de paquete, se presenta un paso de procesamiento realizado por separado para una tienda separada. <br><br>  Inicialmente, la l√≥gica del planificador era tal que primero se ejecutaban los paquetes de la primera etapa de procesamiento para todas las tiendas, luego los paquetes de la segunda etapa, etc.  Es decir, el sistema realiz√≥ simult√°neamente procesos que crearon el mismo tipo de carga y causaron la degradaci√≥n de ciertos recursos (entrada / salida a la base de datos o CPU en los servidores de aplicaciones, etc.). <br><img src="https://habrastorage.org/webt/kj/_r/sf/kj_rsf_nxsu309iuygujkxzavty.png" alt="imagen"><br><br>  Reescribimos la l√≥gica del planificador para que la cadena de paquetes se formara por separado para cada tienda y la prioridad de lanzar nuevos paquetes no se construyera por etapas, sino por tiendas. <br><img src="https://habrastorage.org/webt/rc/_3/kw/rc_3kwnwqdi_hemnvuxnpmps_q0.png" alt="imagen"><br><br>  Debido a la diferente duraci√≥n de los paquetes para diferentes tiendas y al gran n√∫mero controlado de procesos ejecutados simult√°neamente en el marco de las tareas del planificador de carga, hemos logrado la ejecuci√≥n simult√°nea de procesos heterog√©neos, una carga m√°s suave de la carga y la eliminaci√≥n de algunos cuellos de botella. <br><br>  Luego comenzaron a optimizar dise√±os individuales.  Cada paquete individual fue revisado, perfilado y ensamblado, dise√±os no √≥ptimos y enfoques aplicados para optimizarlos.  Posteriormente, estos enfoques se incluyeron en las reglamentaciones del desarrollador para evitar el crecimiento de carga indeseable durante el desarrollo del sistema.  Algunos de ellos: <br><br><ul><li>  carga excesiva en la CPU de los servidores de aplicaciones (a menudo generados por algoritmos no lineales en el c√≥digo del programa, por ejemplo, la buena b√∫squeda lineal en bucles o algoritmos no lineales para encontrar intersecciones de conjuntos de elementos desordenados, etc.) Se trat√≥ reemplazando con algoritmos lineales: reemplace la b√∫squeda lineal en bucles con binarios; para buscar intersecciones de conjuntos, utilizamos algoritmos lineales, elementos de preordenamiento, etc.) </li><li>  llamadas id√©nticas a la base de datos con las mismas condiciones dentro del mismo proceso a menudo conducen a una utilizaci√≥n excesiva de la CPU de la base de datos (se trata almacenando en cach√© los resultados de la primera muestra en la memoria del programa o en el nivel del servidor de aplicaciones y utilizando datos en cach√© para muestras posteriores) </li><li>  solicitudes de uni√≥n frecuentes (es mejor ejecutarlas, por supuesto, a nivel de la base de datos, pero a veces nos permitimos dividirlas en muestras simples, cuyo resultado se almacena en cach√© y transferir la l√≥gica de pegado a la aplicaci√≥n. Esos son casos en los que es mejor calentar el servidor de aplicaciones y no la base de datos). ) </li><li>  solicitudes de uni√≥n pesadas que resultan en muchas E / S </li></ul><br>  Sobre esto √∫ltimo con m√°s detalle.  En este caso, el modelo de datos se tradujo a una forma menos normal.  Un ejemplo cl√°sico es una selecci√≥n de documentos contables para una fecha espec√≠fica para una tienda individual.  Muchos empleados lo solicitan.  La tabla maestra (tabla de encabezados) almacena las fechas de los documentos, en la tabla de posiciones: la tienda y las mercanc√≠as.  Las consultas m√°s comunes son una selecci√≥n de todos los documentos para una tienda en particular para una fecha espec√≠fica.  Con esta solicitud, el filtro por fecha en la tabla de encabezados da 500 mil registros, el filtro por tienda, la misma cantidad.  Al mismo tiempo, despu√©s de pegar en una tienda separada para la fecha correcta, tenemos un plazo de 3 mil.  No importa de qu√© tabla empecemos a filtrar y pegar datos, siempre obtenemos muchas E / S no deseadas. <br><img src="https://habrastorage.org/webt/rw/dp/kr/rwdpkruti_tjhpazqtcoonzpeq0.png" alt="imagen"><br><br>  Esto se puede evitar presentando los datos en una forma menos normal.  En un caso, el campo de fecha se duplic√≥ en la tabla de posici√≥n, se rellen√≥ al crear documentos, los √≠ndices se recopilaron para una b√∫squeda r√°pida y ya se filtraron de acuerdo con la tabla de posici√≥n.  Por lo tanto, despu√©s de haber sacrificado gastos generales insignificantes para almacenar un nuevo campo e √≠ndices, hemos reducido varias veces la cantidad de operaciones de entrada / salida generadas por consultas problem√°ticas. <br><br><img src="https://habrastorage.org/webt/62/oh/gb/62ohgb45gxmmt9plaeuzdgckhds.png" alt="imagen"><br><br><h2>  2015. El problema de un servicio </h2><br>  Durante un a√±o y medio, hicimos un gran trabajo al optimizar el sistema, se ha vuelto m√°s predecible.  Sin embargo, los planes para duplicar el n√∫mero de tiendas siguen siendo relevantes, por lo que los desaf√≠os a√∫n nos enfrentamos. <br><br>  En el camino encontramos varios cuellos de botella.  Por ejemplo, a fines de 2015, se dieron cuenta de que hab√≠an descansado en el desempe√±o de un servicio central de la plataforma.  Este es un servicio de bloqueo l√≥gico SAP ABAP.  Por eso, el sistema claramente no resistir√≠a el crecimiento de la carga.  P√©rdidas de grandes cantidades de dinero aparecieron en el horizonte. <br><br>  Para aclarar, la tarea del servicio es llevar la transaccionalidad l√≥gica al nivel del servidor de aplicaciones.  En ABAP, una sola transacci√≥n puede pasar por varios pasos en diferentes flujos de trabajo.  Para que la transacci√≥n se complete, hay un servicio de bloqueo y mecanismos relacionados.  Las operaciones de bloqueo y desbloqueo ocurren r√°pidamente, pero son at√≥micas, no se pueden separar.  Hubo un problema con la E / S sincr√≥nica. <br><br>  El servicio se aceler√≥ un poco despu√©s de que los desarrolladores de SAP lanzaron un parche especial, cambiamos el servicio a otro hardware y trabajamos en la configuraci√≥n del sistema, pero esto a√∫n no fue suficiente.  El l√≠mite m√°ximo del servicio de pasaportes era de aproximadamente 7 mil operaciones por segundo, y durante mucho tiempo ya necesit√°bamos 10 mil. <br><br>  Despu√©s de la prueba de carga sint√©tica, se descubri√≥ que la degradaci√≥n no es lineal y, sin embargo, estamos en el l√≠mite de rendimiento del servicio por encima del cual se manifiesta la degradaci√≥n inaceptable de todo el sistema ERP.  Las repetidas llamadas a los desarrolladores solo dieron un veredicto decepcionante: el servicio funciona correctamente, solo requerimos demasiado en la arquitectura de la soluci√≥n actual.  Incluso si nos comprometi√©ramos de inmediato a rehacer toda la arquitectura de la soluci√≥n, nos llevar√≠a varios meses mantener la operatividad del sistema actual. <br><br>  Una de las primeras opciones para tratar de extender la vida √∫til de un servicio de bloqueo es acelerar la E / S y escribir en el sistema de archivos.  Que?  Experimentos con una alternativa a AIX.  Transfer√≠ el servicio a Linux en el Power-machine m√°s potente y gan√≥ mucho tiempo de respuesta.  El servicio con el sistema de archivos activado se comport√≥ igual que en Aix con los deshabilitados.  Luego transferimos este c√≥digo a uno de los blades x86_64 y obtuvimos una curva de rendimiento con una pendiente a√∫n m√°s fant√°stica que antes.  Se ve√≠a gracioso. <br><br>  Se podr√≠a suponer que los desarrolladores de AIX y Linux hicieron algo diferente en la √∫ltima prueba, pero la arquitectura del procesador tambi√©n tuvo un efecto aqu√≠. <br><img src="https://habrastorage.org/webt/73/1v/pl/731vplzz4ndclyo0l7tga0mlhv8.png" alt="imagen"><br><br>  ¬øCu√°l fue la conclusi√≥n?  Algunas plataformas son ideales para bases de datos de subprocesos m√∫ltiples, ya que proporcionan rendimiento y tolerancia a fallas, pero un procesador en una arquitectura diferente puede hacer frente mejor a tareas espec√≠ficas.  Si al comienzo de construir una soluci√≥n para abandonar la plataforma cruzada, puede perder espacio para maniobras en el futuro. <br><br>  Sin embargo, descubrimos este problema y el servicio comenz√≥ a funcionar 3-4 veces m√°s r√°pido, lo que es suficiente para un crecimiento muy largo. <br><br><h2>  2016. cuello de botella de CPU DB </h2><br>  Literalmente, seis meses despu√©s, comenzaron a sentirse problemas ex√≥ticos con la CPU en la base de datos.  Parece claro que con un aumento en la carga, aumenta el consumo de recursos del procesador.  Pero SysTime comenz√≥ a ocupar la mayor parte, y claramente hab√≠a un problema en el n√∫cleo.  Comenzaron a comprender, hacer pruebas de carga sint√©tica y se dieron cuenta de que nuestro rendimiento era de 300 mil operaciones por segundo, es decir  mil millones de solicitudes por hora, y luego degradaci√≥n. <br><br>  Como resultado, llegamos a la conclusi√≥n de que la solicitud perfecta es una que no existe.  Expandimos nuestra t√©cnica de optimizaci√≥n con nuevos enfoques y realizamos una auditor√≠a del sistema ERP: comenzamos a buscar consultas, por ejemplo, con baja eficiencia (100 mil selecciones, como resultado de 100 l√≠neas o 0 en general), para rehacer.  Si no se pueden eliminar las solicitudes "vac√≠as", d√©jelas ir al "cach√© negativo", si corresponde.  Si muchas solicitudes de los mismos datos del producto se procesan en paralelo, entonces d√©jelos atormentar al servidor de aplicaciones y no a la base de datos, lo almacenaremos en cach√©.  Tambi√©n "ampliamos" una gran cantidad de consultas individuales frecuentes en una clave dentro del marco de un proceso, reemplaz√°ndola con selecciones m√°s raras en una parte de una clave.  O, por ejemplo, para distribuir la carga en la cadena de procesamiento, se podr√≠an realizar diferentes pasos en diferentes servidores de aplicaciones.  Esto es bueno, pero en diferentes etapas pueden pedir lo mismo desde la base.  Luego, deje el primer paso despu√©s de comenzar en la aplicaci√≥n cach√© parte de las solicitudes, y permanece all√≠ para finalizar el resto de la cadena. <br><img src="https://habrastorage.org/webt/ww/cx/uz/wwcxuzeyehn_idgaokwh2psy984.png" alt="imagen"><br><br>  Con la ayuda de tales trucos, ganamos un poco en todas partes, pero al final descargamos seriamente la base.  El sistema cobr√≥ vida.  Mientras tanto, llegamos a Aix. <br><br>  Otros experimentos revelaron que hay un l√≠mite de rendimiento: las ya mencionadas 300,000 llamadas de DataBase por segundo.  La ra√≠z del problema era el rendimiento de la interfaz de red, que ten√≠a un l√≠mite m√°ximo: alrededor de 300 mil paquetes por segundo en una direcci√≥n.  A medida que el techo se acercaba, el tiempo de llamadas al sistema creci√≥.  Como result√≥ m√°s tarde, tambi√©n era un legado de la pila de red del n√∫cleo AIX. <br><br>  En general, nunca tuvimos problemas con la latencia, el n√∫cleo de la red era productivo, todos los cables se ensamblaron en un gran canal indestructible en una interfaz.  Hicimos una soluci√≥n alternativa: dividimos toda la red entre los servidores de aplicaciones y la base de datos en grupos en diferentes interfaces.  Como resultado, cada grupo de servidores de aplicaciones se comunic√≥ con la base de datos a trav√©s de su propia interfaz separada.  El rendimiento m√°ximo de cada interfaz se redujo ligeramente, pero en total aceleramos la red a 1 mill√≥n de paquetes por segundo en una direcci√≥n. <br><br>  Y el principio "La mejor solicitud es la que no existe" se agreg√≥ al Talmud para desarrolladores, para que esto se tenga en cuenta al escribir el c√≥digo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u-/lo/qh/u-loqhu4_avqxvne0eam6lmittq.png" alt="imagen"></div><br><h2>  2017. Live para actualizar </h2><br>  Bueno, la √∫ltima etapa de la recuperaci√≥n de nuestro sistema, aprobada en 2017.  Todo lo que quedaba era vivir un poco hasta la actualizaci√≥n y era necesario mantener el SLA por nada.  El c√≥digo fue optimizado, pero vimos que cuanto mayor es la carga en la CPU de la base de datos, m√°s lento funcionan los procesos, aunque el margen de utilizaci√≥n fue del 10-20%.  Inicialmente, se estim√≥ que el 100% es el doble que el 50%.  Y cuando hay una reserva del 10-20%, esto es del 10-20%.  De hecho, con una carga superior al 67-80%, la duraci√≥n de las tareas aument√≥ de forma no lineal, es decir  La ley de Amdahl funcion√≥.  El sistema ten√≠a un l√≠mite de paralelizaci√≥n y cuando se super√≥, con la participaci√≥n de un n√∫mero cada vez mayor de procesadores en el trabajo, el rendimiento de cada procesador individual disminuy√≥. <br><br>  En ese momento, utilizamos 125 procesadores f√≠sicos, o 500 l√≥gicos, considerando el subprocesamiento m√∫ltiple en el nivel AIX.  ¬øQu√© sugerir√≠as?  Actualizar?  Incluso antes del final de su coordinaci√≥n, era necesario esperar varios meses y no dejar caer el SLA. <br><br>  En alg√∫n momento, se dieron cuenta de que las m√©tricas de utilizaci√≥n del procesador tradicional no son indicativas para nosotros, no muestran el comienzo real de la degradaci√≥n.  Para una evaluaci√≥n realista de la salud del sistema, comenzamos a utilizar la m√©trica integrada, el resultado de una prueba sint√©tica como una m√©trica para el rendimiento del procesador de la base de datos.  Una vez por minuto hicieron una prueba sint√©tica, midieron su duraci√≥n y mostraron esta m√©trica en nuestros monitores.  Y reaccionaron si la m√©trica se elevaba por encima del punto cr√≠tico declarado.  Detuvimos un poco la carga de nuestros planificadores de carga para que permaneciera en el √°rea de "par m√°ximo" de la base de datos. <br><img src="https://habrastorage.org/webt/fg/o0/0u/fgo00uye8ms6yklbxscplqcly7s.png" alt="imagen"><br><br>  Sin embargo, el control manual no fue efectivo, y est√°bamos cansados ‚Äã‚Äãde despertarnos por la noche.  Luego reescribimos el planificador de carga para que recibiera comentarios sobre las m√©tricas de rendimiento actuales.        (. ),         - .             .   ,      80% ,       ,         -, ..      . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/54/7w/gi547wixu3bnefxdvvy6wl-golc.png" alt="imagen"></div><br><h2>   ,     ERP </h2><br><ul><li>         ,    . </li><li>          (       ). </li><li>     ,        . </li><li>           ,       join-   . </li><li>    ,    ‚Äì ,      ‚Äì  . </li><li>         . </li><li>        ,    ;       ‚Äú  ‚Äù  . </li><li>                       </li></ul><br> <i>  Highload         ,         . <br></i> <br> <i> ,  ,   SAP  #ITX5</i> <br><br> , #ITX5 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>  SAP. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432412/">https://habr.com/ru/post/es432412/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432400/index.html">CS: GO ahora es gratis</a></li>
<li><a href="../es432402/index.html">Hola HR, ¬ød√≥nde est√° mi recuerdo?</a></li>
<li><a href="../es432404/index.html">Backup for Linux no escribe cartas</a></li>
<li><a href="../es432408/index.html">Fintech digest: preparaci√≥n para desconectar bancos peque√±os de Visa y Mastercard, una calculadora de pensiones y no solo</a></li>
<li><a href="../es432410/index.html">Entidades de estilo DDD con Entity Framework Core</a></li>
<li><a href="../es432414/index.html">Viejos secretos para la depuraci√≥n r√°pida: animaci√≥n del c√≥digo fuente</a></li>
<li><a href="../es432416/index.html">Tipos dependientes: el futuro de los lenguajes de programaci√≥n</a></li>
<li><a href="../es432418/index.html">Analizando expresiones lambda en Java</a></li>
<li><a href="../es432420/index.html">Introducci√≥n a Git Merge y Git Rebase: por qu√© y cu√°ndo usarlos</a></li>
<li><a href="../es432422/index.html">Modo sin conexi√≥n en iOS y caracter√≠sticas de su implementaci√≥n en Realm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>