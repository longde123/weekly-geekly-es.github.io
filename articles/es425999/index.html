<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèª üï∫üèΩ üë®‚Äçüë©‚Äçüëß Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 2 üõ∏ üíÜüèΩ üèáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/425999/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Un poco m√°s tarde, le contar√© sobre solicitudes falsas de sitios cruzados.  Creo que las notas explican por qu√© las secuencias de comandos crossite no funcionan en nuestro caso.  La raz√≥n es que cada vez que crea una "pieza" de sintaxis, este objeto, √°rbol y diferentes partes de este √°rbol no son solo cadenas. <br><br><img src="https://habrastorage.org/webt/ve/hh/rb/vehhrbj_e2ce4yi9op7j_slgja0.jpeg"><br><br>  No puede convertir accidentalmente una cadena de usuario en un √°rbol de estructura, esto no sucede autom√°ticamente, porque es dif√≠cil escribir dicho traductor.  Pero puede intentar escribir un traductor para Ur / Web.  Pronto dar√© un ejemplo que ayudar√° a reducir su preocupaci√≥n por esto.  Quiero mostrarle en qu√© se convierte esta sintaxis en el compilador. <br><br>  Puede parecer que podr√≠amos agregar comillas dobles alrededor del HTML para que luego podamos volver al mundo normal.  Uno puede preguntarse por qu√© es tan importante omitir comillas dobles, colocando XML en su lugar. <br><br>  Puede creer que este es el c√≥digo equivalente para lo que hace.  Aqu√≠ hay una etiqueta de funci√≥n en l√≠nea que crea el nodo de √°rbol de un documento HTML.  A continuaci√≥n, coloco los argumentos que expresan el estilo CSS en este nodo.  En realidad, aqu√≠ no sucede nada, por lo que hay muchas formas diferentes de decir "Ninguno", no requiere ning√∫n atributo. <br><br>  Luego pongo la etiqueta del cuerpo, esta es otra cosa de la biblioteca est√°ndar.  Todas las etiquetas est√°ndar son funciones de primera clase en la biblioteca. <br><br><img src="https://habrastorage.org/webt/yg/w6/e3/ygw6e3j_wcffkpt-lnrp0pjzvsg.jpeg"><br><br>  A continuaci√≥n, necesitamos poner el texto "Hola Mundo" en el cuerpo, por lo que llamamos a la funci√≥n cdata, donde cdata es la palabra XML para datos de caracteres o simplemente una constante de cadena, y podemos colocar el texto aqu√≠.  Esto deber√≠a darnos el mismo resultado que antes.  A ver si esto funciona. <br><br>  Ahora volver√© a la p√°gina.  Vemos lo mismo que antes, as√≠ que esto es lo mismo que la funci√≥n al principio. <br><br><img src="https://habrastorage.org/webt/d8/kj/5c/d8kj5caq5wynvitakfgozvx9zbg.jpeg"><br><br>  Esto no es solo construcci√≥n de l√≠neas.  Esto provoca una serie de operaciones que est√°n dise√±adas para que solo le permitan crear HTML v√°lido, y nunca podr√°n interpretar impl√≠citamente la l√≠nea como c√≥digo en lugar de simplemente colocar contenido en la p√°gina que deber√≠a estar all√≠. <br><br><img src="https://habrastorage.org/webt/t4/lz/ky/t4lzkym3pllpxtd46p3ydq9hxiw.jpeg"><br><br>  Ahora intentar√© hacer algo menos complicado, que podr√≠a ser una preocupaci√≥n.  Decidamos que estamos realmente felices de ver el mundo, por lo que resaltamos la palabra "hola" en negrita y la compilamos nuevamente. <br><br><img src="https://habrastorage.org/webt/i4/9w/wr/i49wwrvxwmjbvsdmabaux8vbpze.jpeg"><br><br>  Ver√° lo que sucedi√≥ en la p√°gina: la palabra no se puso en negrita porque el compilador muestra c√≥mo se interpreta el texto en lugar del marcado.  Esta es una representaci√≥n de la sintaxis HTML como una funci√≥n que construye la sintaxis sin las convenciones de codificaci√≥n habituales incorporadas.  Esta funci√≥n interpreta todo de la manera que quer√≠a escribir, sin pensar en nada de usted mismo. <br><br>  Por lo tanto, la implementaci√≥n de cdata hace lo que com√∫nmente se llama escapar o "escapar".  Pero el programador no necesita saber que existe la posibilidad de escapar.  Puede considerarlo como un conjunto de funciones convenientes para crear un √°rbol de objetos que describe la p√°gina. <br><br>  Escuch√© que quieres ver el HTML que se genera aqu√≠.  Bien, eso no ser√° lo m√°s emocionante.  Intentar√© agrandarlo en la pantalla, pero luego no cabe en una l√≠nea. <br><br><img src="https://habrastorage.org/webt/u1/6d/lm/u16dlmtcovtixg6zbgscm6t3eym.jpeg"><br><br>  <b>Estudiante:</b> Dado que est√° utilizando XHTML, ¬øpodr√≠a usar la ruta para los datos de caracteres cdata en lugar de hacerlo manualmente? <br><br>  <b>Profesor:</b> Supongo, pero eso requerir√≠a m√°s XML de m√≠ que los que tengo.  Hab√≠a otra buena pregunta sobre las URL de JavaScript.  Si permitimos URL de JavaScript, creamos una puerta trasera para interpretar autom√°ticamente las cadenas como programas en tiempo de ejecuci√≥n.  Y eso causa todo tipo de problemas. <br><br>  Intentemos evitarlo.  Volver√©, en primer lugar, a la versi√≥n abreviada, y har√© algunas l√≠neas dentro del cuerpo.  Y pongamos un enlace que intentar√° hacer algo apropiado.  Aqu√≠ dejamos espacio para mensajes de error. <br><br><img src="https://habrastorage.org/webt/ce/qh/fh/ceqhfhp7dj49uaakv-uyc6pgdug.jpeg"><br><br>  A continuaci√≥n, ejecute el compilador y vea c√≥mo funciona. <br><br><img src="https://habrastorage.org/webt/le/yj/bd/leyjbd0ft_iuzl0sp09sul5mlfw.jpeg"><br><br>  URL no v√°lida, luego entrada de JavaScript y la frase "pasado para bendecir" o "bendici√≥n pasada".  Bless est√° integrado en la funci√≥n, que es el controlador de acceso que resuelve la URL.  De forma predeterminada, las URL no est√°n permitidas, por lo que, por supuesto, esta opci√≥n no est√° permitida.  En general, es una mala idea escribir su propia pol√≠tica de URL para poder crear valores que representen las URL de JavaScript.  Porque entonces se requerir√°n todo tipo de garant√≠as, debido a que estas direcciones pueden ser inv√°lidas. <br><br>  Para aclarar un poco c√≥mo funciona esto, perm√≠tanme descomponer este c√≥digo en una funci√≥n separada que llama al enlazador que acepta la URL.  Por lo tanto, una URL es un tipo, no una cadena.  Este es el tipo que denota la URL, que est√° expl√≠citamente permitido por la pol√≠tica de su aplicaci√≥n. <br><br>  Utilizo llaves, como en algunos marcos de plantillas HTML populares, para indicar la inserci√≥n de alg√∫n c√≥digo del lenguaje host dentro del HTML que creamos.  Y todo esto se hace de tal manera que el tipo se verifica est√°ticamente.  Entonces el sistema verificar√°: "s√≠, este es el lugar al que pertenece la URL, y dice que realmente es una URL, por lo que todo est√° bien". <br><br><img src="https://habrastorage.org/webt/dk/k_/c1/dkk_c19amvl0mtc-cavdq5gyy3k.jpeg"><br><br>  Y luego puedo organizar expl√≠citamente la llamada de bendici√≥n diciendo: "simplemente llamemos a la funci√≥n de enlace aqu√≠ en funci√≥n de los resultados de la" bendici√≥n "de esta URL".  Despu√©s de eso, deber√≠amos recibir el mismo mensaje de error que antes. <br><br><img src="https://habrastorage.org/webt/1w/vx/2v/1wvx2vipa9mnkzydjl-oxjheurk.jpeg"><br><br>  Desafortunadamente, no puedo ejecutar esto por usted y esperar hasta que falle, pero puedo decir que definitivamente fallar√°, porque intencionalmente comet√≠ un error de compilaci√≥n.  Esta URL no ser√° aceptada por la pol√≠tica de URL. <br><br>  Si me perd√≠ esta llamada de bendici√≥n, ser√≠a un error m√°s grave en el momento de la compilaci√≥n, porque tiene la cadena y la URL correcta, y son de diferentes tipos. <br><br><img src="https://habrastorage.org/webt/ew/8u/yd/ew8uydi-n7vvxhaofm09tuhuvqq.jpeg"><br><br>  Hag√°moslo m√°s interesante.  Voy a abrir un archivo de configuraci√≥n para esta demostraci√≥n.  Es bastante corto, al menos si nos fijamos en cualquier marco de aplicaci√≥n web Java.  Tienen estos archivos XML gigantes para la configuraci√≥n, por lo que todo es mucho mejor con nosotros. <br><br><img src="https://habrastorage.org/webt/f2/0x/zn/f20xznx-xrcpolzz93wukdfq3o8.jpeg"><br><br>  Podemos agregar una regla que indique que todo en Wikipedia est√° permitido, y luego poner la URL de Wikipedia en el cuerpo. <br><br><img src="https://habrastorage.org/webt/e4/wq/ia/e4wqiapjhdtiq4s354nmod5cwus.jpeg"><br><br>  Ahora vaya a la p√°gina y haga clic en Haga clic en. <br><br><img src="https://habrastorage.org/webt/f1/mb/3t/f1mb3tsp09v-h6vrjm0rtjxgcku.jpeg"><br><br>  Esto es lo que obtuvimos: no se encontr√≥ la direcci√≥n de Wikipedia. <br><br><img src="https://habrastorage.org/webt/wl/qx/il/wlqxilbfs69vmxd77wtvj_m5e94.jpeg"><br><br>  Entonces, la idea principal es tener un tipo abstracto de URL, como podr√≠a tener un tipo abstracto de tabla hash que codifica variaciones de c√≥mo se ve la tabla hash y evita que el c√≥digo entre en la matriz de la tabla hash.  Podemos hacer lo mismo para la URL.  Usando esta funci√≥n de bendici√≥n, el sistema asegura que cada valor de este tipo pase una verificaci√≥n apropiada en alg√∫n momento. <br><br>  Por ejemplo, con esta pol√≠tica, sabemos que nunca tendremos una URL de JavaScript, por lo que puede tomar con seguridad el valor de la URL y usarla como un enlace.  Esto no romper√° las abstracciones b√°sicas del lenguaje. <br><br>  <b>Estudiante: ¬øes</b> posible usar JavaScript "puro" insert√°ndolo en la cadena del cuerpo? <br><br>  <b>Profesor:</b> s√≠ y no.  En lugar de JavaScript, incrusta el c√≥digo Ur / Web que realiza alg√∫n tipo de tarea.  Ahora escribir√© el comando: <br><br><pre><code class="hljs xml">return <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xml</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{alert</span></span></span><span class="hljs-tag"> ‚Äú</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LOADED</span></span></span><span class="hljs-tag">‚Äù}&gt;</span></span></code> </pre> <br>  Y ver√° lo que sucedi√≥: el int√©rprete coloc√≥ una ventana en la pantalla con la inscripci√≥n "Cargado" - "Cargado". <br><br><img src="https://habrastorage.org/webt/hs/co/jm/hscojmoxytzkmr4qxk8touo4e34.jpeg"><br><br>  Intentar interpretar el c√≥digo JavaScript en forma de cadena como un programa ser√≠a un desastre.  Ver√°, podemos poner el c√≥digo en el mismo lenguaje de programaci√≥n con el que est√° trabajando, ya limitado por estas llaves.  Y luego se compila autom√°ticamente en JavaScript para ejecutarse en el lado del cliente. <br><br>  Observo que las versiones m√°s recientes de los navegadores pueden evitar errores de interpretaci√≥n de caracteres, pero algunos navegadores m√°s antiguos pueden confundir algo.  En cualquier caso, todos los elementos de caracteres se interpretar√°n como UTF-8 si ingresan al documento.  Si hay alg√∫n problema con una codificaci√≥n diferente, entonces esta codificaci√≥n no debe aplicarse aqu√≠. <br><br>  <b>Estudiante: el</b> compilador verifica si la cadena contiene una URL v√°lida.  Pero si calcula una cadena en tiempo de ejecuci√≥n, ¬øbendice verifica en tiempo de ejecuci√≥n si una cadena dada es v√°lida o no? <br><br>  <b>Profesor:</b> creemos un formulario para probar esta afirmaci√≥n y col√≥quelo aqu√≠.  Ingresamos nuestra URL en el cuadro de texto de la URL y luego insertamos el bot√≥n de enviar enviar. <br><br><img src="https://habrastorage.org/webt/d_/aq/fp/d_aqfpi89gk6azs49odajmhmnz0.jpeg"><br><br>  Cuando haga clic en √©l, se llamar√° a la funci√≥n de enlace con la escritura de un valor para cada campo en el formulario.  En este caso, solo hay un campo llamado "URL", por lo que el vinculador procesar√° la entrada que contiene la URL como un tipo de cadena.  Y luego tratamos de aplicarle la funci√≥n de bendici√≥n y ver si funciona. <br><br><img src="https://habrastorage.org/webt/ru/na/8z/runa8zxo9obi7hayqrvi_gzhecs.jpeg"><br><br>  Ver√° un ejemplo de mensajes de error al escribir el tipo incorrecto de URL, una de esas cosas que no tendr√° sentido si no est√° familiarizado con Haskell.  Olvid√© insertar la funci√≥n de retorno aqu√≠.  Al menos ahora es m√°s como un programa Java.  Y tambi√©n olvid√© decir que ahora es una p√°gina completa.  Por lo tanto, no podemos usar la etiqueta a hasta que estemos dentro de la etiqueta del cuerpo. <br><br><img src="https://habrastorage.org/webt/-q/vp/oh/-qvpohawzytpmotyrlwk4y1oo7q.jpeg"><br><br>  Ahora ejecute el compilador, vaya a nuestra p√°gina, haga clic en el bot√≥n Por favor, haga clic, ingrese alguna direcci√≥n inexistente. <br><br><img src="https://habrastorage.org/webt/f8/lc/of/f8lcofwmgurypdi_tekg0jifwgu.jpeg"><br><br>  Luego hacemos clic en Enviar consulta - "Enviar una solicitud" y recibimos un mensaje de error: la direcci√≥n de este tipo no se resuelve. <br><br><img src="https://habrastorage.org/webt/ry/mu/u5/rymuu5ruqj2f01-1y4saidwc2bm.jpeg"><br><br>  Si ingresamos la URL correcta como se muestra en la siguiente pantalla y luego hacemos clic en Enviar consulta, no aparecer√° ning√∫n mensaje de error. <br><br><img src="https://habrastorage.org/webt/5a/fx/hy/5afxhy3lpksvux1vl88noj1uh7c.jpeg"><br><br>  Creo que la respuesta a su pregunta fue larga y no muy emocionante. <br><br>  <b>Estudiante:</b> ¬øexisten condiciones m√°s estrictas para las URL adem√°s de la prohibici√≥n de usar JavaScript? <br>  <b>Profesor:</b> Actualmente, las restricciones m√°s estrictas son simplemente constantes y prefijos.  Pero tambi√©n puede crear sus propias reglas de prohibici√≥n, y funcionar√°n en el orden en que las escriba. <br><br>  <b>Estudiante:</b> resulta que si se adhiere a la prohibici√≥n de JavaScript, pero coloca un salto de l√≠nea en el medio de la palabra "JavaScript", el compilador puede interpretar esto ... <br><br>  <b>Profesor:</b> s√≠, eso ser√≠a muy malo.  Por eso es bueno seguir el enfoque de la lista blanca en lugar de usar el enfoque de la lista negra.  Probablemente desee que todas las reglas comiencen con un protocolo espec√≠fico, como HTTP, y solo permitan lo que se ajuste a su conjunto de protocolos aprobado.  Recomiendo hacer eso. <br><br>  <b>Estudiante:</b> para muchos sitios, puede permitir que los usuarios intercambien enlaces, en cuyo caso debe permitir enlaces en todas partes. <br><br>  <b>Profesor:</b> puede permitir enlaces si desea que sus usuarios compartan enlaces JavaScript o, no s√©, enlaces flash, o lo que est√© permitido all√≠.  Ver√°, puede crear una "lista blanca" de todos los HTTP, HTTPS, URL y, por lo tanto, garantizar el funcionamiento seguro de la mayor√≠a de los sitios.  Este enfoque es solo un poco m√°s d√©bil que permitir solo URL espec√≠ficas.  Pero al menos puede eliminar por completo la posibilidad de ejecuci√≥n autom√°tica de una cadena como programa. <br><br>  Perm√≠tame darle un ejemplo de un resumen, que es un ejemplo de un sistema simple de sala de chat presentado en la base de datos.  El usuario puede hacer clic en el enlace para ir a la sala y luego enviar un mensaje.  Esta es la primera de varias opciones para el esquema. <br><br><img src="https://habrastorage.org/webt/3y/vx/n-/3yvxn-vrddqytldmzo5qgms8pta.jpeg"><br><br>  En primer lugar, notar√© que voy a recompilar esto.  Y luego, m√°gicamente, todas las tablas de bases de datos declaradas se agregar√°n a la base de datos, y podemos comenzar a usar la aplicaci√≥n.  Pero primero necesitamos agregar algunas salas de chat.  Entonces, abramos nuestra interfaz a la base de datos de demostraci√≥n e inserte los valores "uno" y "dos" en la sala de tablas. <br><br><img src="https://habrastorage.org/webt/rg/yg/yh/rgygyhyminzap26oeymfrpzodis.jpeg"><br><br>  Ahora han aparecido aqu√≠. <br><br><img src="https://habrastorage.org/webt/73/o_/cs/73o_csz48d0mscpszk2xxbc_ozu.jpeg"><br><br>  Ahora entramos en la primera sala de chat y podemos entretenernos todo el d√≠a enviando l√≠neas de texto, por ejemplo, una primera l√≠nea.  Ser√° m√°s interesante intentar enviar HTML, y se procesar√° de inmediato.  Este es un ejemplo de la funcionalidad principal del programa. <br><br><img src="https://habrastorage.org/webt/yg/z7/jv/ygz7jvrke7r5regxjxv0awozt-s.jpeg"><br><br>  Una vez m√°s, veamos r√°pidamente c√≥mo funciona, as√≠ que tenemos estas dos tablas SQL: sala de tabla y mensaje de tabla, que simplemente se declaran en esta primera clase dentro del lenguaje de programaci√≥n.  Y damos un diagrama de cada tabla.  Y luego, cuando intentamos acceder a estas tablas, el compilador se asegura de que se acceda a ellas de acuerdo con un prometedor esquema de escritura. <br><br><img src="https://habrastorage.org/webt/pn/kd/tq/pnkdtqy4u_xtusdwrpvxwv58tle.jpeg"><br><br>  Por lo tanto, tenemos una tabla de habitaciones, donde cada habitaci√≥n es un registro que consta de un identificador de identificaci√≥n, que es un n√∫mero entero, y un t√≠tulo, que es una cadena.  Este es el tipo de vista en el que simplemente creamos registros.  Acabo de crear algunas salas en la consola SQL.  Tambi√©n tenemos una notificaci√≥n de que cada mensaje pertenece a una sala en particular, la hora en que se cre√≥ y el texto que es el contenido del mensaje. <br>  Ahora d√©jame saltar r√°pidamente a la funci√≥n principal. <br><br><img src="https://habrastorage.org/webt/w9/p2/7m/w9p27msu5myieys9_dknkicarms.jpeg"><br><br>  Ejecutamos una consulta SQL: puede ver un ejemplo de sintaxis SQL integrada en Ur / Web.  No quiero entrar en llamadas a funciones a trav√©s de esta extensi√≥n desde la biblioteca est√°ndar.  Ser√° bastante detallado, es suficiente recordar mis palabras sobre el hecho de que la biblioteca est√°ndar tiene m√©todos para llamar a funciones que son formas v√°lidas de construir una consulta SQL. <br><br>  Y estas funciones tienen tipos que las hacen imprimir solicitudes para usted, y no solo garantizan que la sintaxis sea v√°lida.  Este c√≥digo simplemente itera sobre todas las l√≠neas que salieron de esta consulta y genera partes del c√≥digo HTML para cada una de ellas. <br><br>  En particular, vamos a poner el resultado de la consulta en el campo T√≠tulo y convertirlo a HTML con una notaci√≥n que incluya llaves.  Los corchetes tambi√©n indican que esto a√∫n no es una pieza real de HTML, pero convi√©rtalo de una manera est√°ndar.  Entonces podemos hacer con cadenas y enteros y todos los datos de otros tipos. <br><br>  <b>Estudiante:</b> si contuviera HTML malicioso u otra cosa, ¬øse filtrar√≠a? <br><br>  <b>Profesor:</b> s√≠, lo har√≠a.  En Ur / Web, puedes pensar que es como construir un √°rbol.  Este es un nodo que representa alg√∫n texto.  Obviamente, el texto no puede hacer nada. <br><br>  <b>Estudiante:</b> entonces, si este encabezado estuviera bajo el control del usuario y alguien tuviera una conversaci√≥n con el encabezado Alerta, ¬øno ser√≠a JavaScript? <br><br>  <b>Profesor:</b> no se interpretar√° autom√°ticamente como JavaScript, HTML o cualquier otra cosa.  El programa lo percibir√° como texto sin formato. <br><br>  Entonces, volvamos a nuestra imagen de pantalla.  Tenemos este t√≠tulo T√≠tulo, enmarqu√©moslo con etiquetas.  Y en lugar de href, la forma habitual de enlazar en HTML, usamos el atributo de enlace, que es una especie de pseudoatributo Ur / Web, que toma como argumento no la URL, sino principalmente las expresiones Ur / Web.  El punto es que cuando haces clic en este enlace, esta expresi√≥n se inicia para crear una nueva p√°gina que deber√≠a mostrarse. <br>  En este caso, hacemos una llamada a la funci√≥n de chat, que se define aqu√≠ en la siguiente pantalla, esto es lo que es. <br><br><img src="https://habrastorage.org/webt/-y/ig/jy/-yigjypz4hshhd_vij2eqzdp7po.jpeg"><br><br>  No entrar√© en detalles.  Pero tenemos algunas consultas SQL m√°s usando varias funciones de biblioteca est√°ndar para varias formas de usar los resultados solicitados. <br><br>  Generamos esta p√°gina HTML y decimos que est√° en un chat con dicho t√≠tulo, tenemos un formulario donde el usuario puede ingresar texto.  Este es el formulario que utilic√© para demostrar c√≥mo funcionaba el programa hace unos minutos.  El bot√≥n de enviar formulario tiene este atributo Agregar que contiene say, que es el nombre de la funci√≥n Ur / Web.  Por lo tanto, cuando enviamos el formulario, llamamos a esta funci√≥n. <br><br>  Ejecutar algunos SQL m√°s inserta nuevas filas en la tabla.  Saltamos autom√°ticamente de la ID de la sala de chat a los campos de texto que vinieron aqu√≠ desde el formulario, y se ocultan autom√°ticamente seg√∫n sea necesario.  Pero, de nuevo, en Ur / Web, no necesita pensar en "escapar" de la funci√≥n de esta manera.  Porque es solo la sintaxis para construir un √°rbol, no para una cadena.  Por lo tanto, no hay forma de que ocurran cosas extra√±as al analizar que no se espera de la forma elegida de interpretar la sintaxis. <br><br>  Entonces, el hecho de que tengamos un widget en este formulario en forma de GUI gr√°fica, y este es un campo de texto, el compilador concluye que el registro que resulta de completar el formulario de cuadro de texto debe tener un elemento llamado "texto" de tipo cadena .  Esta codificaci√≥n del formulario y las reglas para escribir en √©l no est√°n integradas en el lenguaje, sino que se toman de la biblioteca Ur express, que realmente controla estos formularios, determinando los tipos de funciones v√°lidas. <br>  Si no tiene m√°s preguntas sobre esta parte del programa, pasar√© al siguiente paso.  Voy a usar una forma de forzar la encapsulaci√≥n de varias partes de una aplicaci√≥n que admite Ur / Web y que rara vez admite otros idiomas.  Voy a tomar esta habitaci√≥n.  Voy a tomar algunas definiciones y ponerlas en un m√≥dulo que encapsula algunas de ellas como privadas.  En particular, las tablas de la base de datos ser√°n privadas, por lo que nadie podr√° acceder directamente a ellas. <br><br>  Puede acceder a ellos solo mediante el conjunto de m√©todos que proporcionamos.  Un m√©todo se ejecuta dentro de una transacci√≥n y crea una lista de registros con campos de ID y t√≠tulo para las salas de chat disponibles. <br><br>  A continuaci√≥n, solo ampliamos esta operaci√≥n de chat.  Y lo √∫nico que hice aqu√≠ fue ingresar un nombre para la ID de concepto - ID de tipo.  As√≠ que no solo digo que la ID es un n√∫mero entero, sino que es un tipo nuevo. <br><br><img src="https://habrastorage.org/webt/fr/sy/__/frsy__bkeyw4mwc6yf_d1wp2hss.jpeg"><br><br>  La √∫nica forma en que el mundo exterior puede comunicarse con el chat es obtener una lista de todas las salas, y la √∫nica forma en que el mundo exterior puede usarlo es llamar a la funci√≥n de chat en √©l.  Digamos que este es un tipo abstracto de tabla hash dentro de la clase de tablas hash, donde se almacenan detalles que explican qu√© son los ID y c√≥mo se producen internamente, son privados para este m√≥dulo, y el c√≥digo del cliente que llama a este m√≥dulo no debe usarlos. <br><br>  Ahora transferir√© toda esta sintaxis hacia abajo y la colocar√© dentro del m√≥dulo, para que, de forma predeterminada, no quede expuesta al resto del c√≥digo.  A continuaci√≥n, implemento este m√©todo de habitaciones.  Ya tenemos la oportunidad de organizar un chat.  Pero podemos implementar las salas de una manera m√°s simple utilizando otra funci√≥n de biblioteca est√°ndar para interpretar la solicitud en el formulario actual. <br>  Simplemente seleccionemos todo de la lista de habitaciones, ordenadas por nombre.  Como de costumbre, esta consulta es un tipo de datos validados para nosotros.  Y el sistema determina: "OK, esta expresi√≥n generar√° una lista de registros que coinciden con el tipo declarado en la firma de este m√≥dulo".  Entonces, fuera de este m√≥dulo, ning√∫n otro c√≥digo puede mencionar una tabla de sala o tabla de mensajes. <br><br><img src="https://habrastorage.org/webt/r2/8e/72/r28e72dlrnyazx-qxx6r8cc9kdk.jpeg"><br><br>  Por lo tanto, al menos desde el punto de vista de esta aplicaci√≥n, podemos aplicarle la invariancia requerida.  Incluso podemos ocultar secretos dentro del m√≥dulo para que no haya problemas de seguridad si cualquier otra parte del c√≥digo puede obtenerlos. <br><br>  <b>Estudiante: ¬ø</b> podr√≠a alg√∫n otro c√≥digo tambi√©n implementar este m√©todo de sala? <br><br>  <b>Profesor:</b> Esa ser√≠a una mesa completamente diferente.  En realidad, podemos hacer esto insertando un fragmento de 4 l√≠neas en otro m√≥dulo. <br><br><img src="https://habrastorage.org/webt/uq/ud/lz/uqudlzms1a3nar8hpko4sngaguw.jpeg"><br><br>  Entonces podemos hacer lo que queramos con esta tabla.  Lo compilar√©, tal vez en 30 segundos, y veremos qu√© sucede.  Pero en realidad esta es una tabla diferente, como si tuvieras el mismo nombre privado, pero para dos clases Java diferentes. <br><br>  Entonces, asume que dentro de este m√≥dulo hay un tipo abstracto llamado room, que contiene el identificador de identificaci√≥n y el t√≠tulo.  Esto no es correcto  Chat acepta par√°metros de sala como entrada.  Cuando llamamos a la funci√≥n de chat, se llamar√° a trav√©s de la URL.  La identificaci√≥n y el t√≠tulo se pasan fuera de la representaci√≥n de la URL que llama a la funci√≥n.  Solo necesitamos la ID para implementar esta funci√≥n.  Entonces, cuando llamamos a la funci√≥n, en realidad llamamos a la URL. <br>  Ser√≠a un desperdicio en t√©rminos de uso de espacio y ser√≠a grosero para el usuario si el encabezado se pasara como un argumento adicional al invocar el chat a trav√©s de la URL.  ¬øEso tiene sentido?  Veamos la barra de URL en esta diapositiva. <br><br><img src="https://habrastorage.org/webt/_x/3r/ij/_x3rijim6yew7wwnimxvd98w7cy.jpeg"><br><br>  El identificador del canal que estamos siguiendo se serializa autom√°ticamente en la URL al final de la l√≠nea.  Y si transmitimos un registro que contiene la identificaci√≥n y el t√≠tulo del t√≠tulo, ese t√≠tulo tambi√©n se serializar√≠a, lo que es al menos un poco il√≥gico. <br><br>  54:10 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Curso MIT "Seguridad de sistemas inform√°ticos".</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La versi√≥n completa del curso est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425999/">https://habr.com/ru/post/es425999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425989/index.html">Bajo el cap√≥ de Graveyard Keeper: c√≥mo se implementan los efectos gr√°ficos</a></li>
<li><a href="../es425991/index.html">C√≥mo creamos hosting</a></li>
<li><a href="../es425993/index.html">C√≥mo cerrar la brecha de g√©nero en tecnolog√≠a</a></li>
<li><a href="../es425995/index.html">Visualice FHIR: el est√°ndar de TI para la medicina</a></li>
<li><a href="../es425997/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 1</a></li>
<li><a href="../es426001/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 3</a></li>
<li><a href="../es426009/index.html">Epic fail resistencia 1 o Fox se escabulleba desapercibido. Prueba de anonimato y seguridad + VPN para el usuario</a></li>
<li><a href="../es426013/index.html">Esteroides profesionales</a></li>
<li><a href="../es426015/index.html">El uso de drones civiles aserrados para fotograf√≠a a√©rea geod√©sica profesional de la zona.</a></li>
<li><a href="../es426017/index.html">C√≥mo reducir el n√∫mero de experimentos con animales.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>