<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾 🤹 🍾 Telegrama Unidad de red ilimitada. Gratis 🤸🏾 👌🏿 🙎🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr 

 Seguramente mucha gente lo pensó, tal vez alguien tenga esta idea en TODO. Estuvo conmigo durante aproximadamente un año, pero aún así lo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegrama Unidad de red ilimitada. Gratis</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vds/blog/456290/">  Hola Habr <br><br>  Seguramente mucha gente lo pensó, tal vez alguien tenga esta idea en TODO.  Estuvo conmigo durante aproximadamente un año, pero aún así logró implementarlo en forma de un prototipo funcional. <br><br><h3>  TgCloud: </h3><br><ul><li>  Código de g **** del sistema de archivos virtual de código abierto. </li><li>  En el disco local, solo metadatos: nombres, tamaño, estructura de carpetas, etc. </li><li>  Los datos se almacenan en Telegram y se descargan solo cuando se trabaja con un archivo </li><li>  El tamaño y el tipo de archivos no están limitados, se pueden usar con cualquier sistema operativo </li></ul><br>  Detalles de implementación y un enlace al repositorio debajo del gato. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/nr/0-/mp/nr0-mpe-hiysnb52h67gxnlsbe0.gif"><br><br><h3>  Idea </h3><br>  La idea de crear VFS basado en Telegram surgió mientras trabajaba en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AudioTubeBot</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VideoTubeBot</a> , después de encontrar una manera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de superar el límite de 50mb para descargar archivos para bots</a> , estudié el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">código fuente de Telegram</a> , descubrí muchas cosas interesantes.  Por ejemplo, la velocidad de descarga está limitada principalmente en el propio cliente y no en el servidor. <br><br>  Como resultado, aumenté la velocidad de descarga a la nube de Telegram a ~ 240Mbit / s por sesión (ha estado funcionando de manera estable durante más de un año), que es 15 veces más rápido que el cliente oficial. <br><br>  El paso lógico era usar un almacenamiento de archivos ilimitado con alta velocidad de descarga como unidad de red; lo más probable es que muchos lo hagan, pero el problema es que los clientes de telegramas son incómodos de usar para buscar y organizar archivos.  Además, hay un límite de 1,5 GB por tamaño de archivo. <br><br><h3>  Fusible </h3><br>  Para resolver estos problemas, primero decidí hacer un parche del kernel de Linux y crear mi propio sistema de archivos virtual, que agruparía convenientemente los archivos cargados en Telegram, usando solo metadatos. <br><br>  En el proceso de estudiar el problema, resultó que parchear el núcleo no es necesario en absoluto.  Linux tiene un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">módulo</a> especial de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kernel FUSE</a> que permite a los desarrolladores crear nuevos tipos de sistemas de archivos a los que los usuarios pueden acceder sin privilegios.  Hay envoltorios para casi todos los idiomas populares para el módulo. <br><br><img src="https://habrastorage.org/webt/ug/tx/8v/ugtx8vbaf65so_lja5cqvwguh7k.png"><br><br><h3>  Teletón </h3><br>  Para acceder a Telegram, utilizo la versión 0.19.1 de la biblioteca de Telethon con mi archivo modificado de subprocesos múltiples (TelegramClientX). <br><br><h3>  Vfs </h3><br>  Para no escribir el sistema de archivos desde cero, la base se toma de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dedupfs de</a> python, usando fuse y sqlite para almacenar metadatos, que divide los archivos en bloques, considera el hash sha1 y reutiliza los mismos bloques; solo necesita reemplazar los métodos de carga de datos en el almacenamiento con los suyos. <br><br><h3>  Tgcloud </h3><br>  Combinando todo esto, resultó ser un prototipo funcional de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tgcloud</a> , hasta ahora sin velocidades espaciales, pero aún funciona, espero atraer a la comunidad al desarrollo.  Los archivos descargados se dividen en bloques de 10 MB, se calcula sha1 y se carga en mensajes guardados, el hash se almacena en la base de datos local y, al leer el bloque, el archivo se encuentra en él.  Los bloques se pegan en el orden necesario y se emite una secuencia de bytes, como si los estuviera leyendo desde el disco. <br><br><h3>  Para ejecutar el código </h3><br><ul><li>  Debe obtener api_hash y api_id en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">my.telegram.org</a> e insertar estos datos junto con el número de teléfono de su cuenta en tg_access.py </li><li>  Cree una sesión ejecutándose desde la carpeta del proyecto <br><br><pre><code class="bash">python3.6 download_service.py</code></pre> <br>
   </li>
<li> <br>
<br>
<pre><code class="bash">sudo yum install python-fuse</code></pre></li>
<li>    <br>
<br>
<pre><code class="bash">mkdir storage</code></pre></li>
<li> VFS: <br>
  <br>
<br>
<pre><code class="bash">python dedupfs/dedupfs.py -df --block-size 10240000 storage/</code></pre> <br>
  <br>
<br>
<pre><code class="bash">python dedupfs/dedupfs.py --block-size 10240000 storage/</code></pre></li>
<li>,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">filebrowser</a></li>
</ul><br>
  .<br>
<br>
<h4>P.S.    ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>)</h4><br>
<i>  —     ,      .. —        « »,      —        —   ,           ,      —    —        .           —   ,    ,   90%    ,    VFS —      .<br>
        — ,          —       ,    Telegram —  «           —          ..  ..»</i><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   Telegram</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  GitHub</a><br>
</blockquote><br>
<hr><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>DEDIC.SH</b></a>         Intel Scalable 2019 :<br>
<ul>
<li>2x Xeon Silver 4214 —  24 </li>
<li>2x Xeon Gold 5218 —  32 </li>
<li>2x Xeon Gold 6240 —   36 .</li>
</ul><br>
    Xeon Silver 4214 — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b> 15210 /</b></a><br>
       <b> </b> — <b><a href=""> </a></b>!<br>
<br>
       — <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VDS  150 /</a></b> — ,   !</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456290/">https://habr.com/ru/post/456290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456274/index.html">Psicólogos: los robots sexuales conducirán a un aumento en el número de personas sin pareja que no necesitan relaciones con otras personas</a></li>
<li><a href="../456276/index.html">¿Qué es la información?</a></li>
<li><a href="../456280/index.html">Comenzar con stm32 o no repetir mis errores</a></li>
<li><a href="../456282/index.html">Gráficos multidimensionales en Python: de tridimensional a seis dimensional</a></li>
<li><a href="../456288/index.html">MAM: montaje frontend sin dolor</a></li>
<li><a href="../456294/index.html">Diferencias entre LabelEncoder y OneHotEncoder en SciKit Learn</a></li>
<li><a href="../456296/index.html">El mundo de la hiperesfera tridimensional. Trazado de rayos geodésicos en un universo cerrado con geometría esférica</a></li>
<li><a href="../456298/index.html">Tecnologías de microelectrónica en los dedos: la Ley de Moore, los movimientos de marketing y por qué los nanómetros no son lo mismo ahora. Parte 2</a></li>
<li><a href="../456300/index.html">Encontrar zina</a></li>
<li><a href="../456302/index.html">¿Por qué preferimos CSS (- variable) a SASS ($ variable)?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>