<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥üèø üÖæÔ∏è üòõ Nous traitons les commandes de la boutique en ligne en utilisant RabbitMQ et TypeScript üëÜüèº üíø üõÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! La popularit√© du commerce sur Internet ne cesse de cro√Ætre, tout comme la part de l'informatisation de tous les types d'activit√©s li√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous traitons les commandes de la boutique en ligne en utilisant RabbitMQ et TypeScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469991/"><p><img src="https://habrastorage.org/webt/wh/2y/cv/wh2ycv5atat_nuru35jo5pwfo08.jpeg"></p><br><p>  Bonjour √† tous!  La popularit√© du commerce sur Internet ne cesse de cro√Ætre, tout comme la part de l'informatisation de tous les types d'activit√©s li√©es au commerce.  Parall√®lement √† cela, la complexit√© du traitement de l'information augmente.  Chaque commande effectu√©e par un client d'une boutique en ligne g√©n√®re un grand nombre d'int√©grations avec diff√©rents services.  Ces services peuvent inclure des services de traitement des paiements, de livraison, de comptabilit√© et de fid√©lit√©.  Chaque commande doit √™tre pay√©e, enregistr√©e, assembl√©e et livr√©e, et √©galement disponible pour une analyse plus approfondie.  Cela, et donc pas une situation simple, est compliqu√© par le fait qu'un utilisateur d'une boutique en ligne ne veut pas attendre longtemps et douloureusement quelque chose lors de la commande.  La r√©ponse de la boutique en ligne doit √™tre rapide, car chaque milliseconde de retard augmente les chances de perdre un client, et donc de r√©aliser des b√©n√©fices.  Dans cet article, je veux parler du courtier de messages RabbitMQ et comment l'utiliser pour organiser le traitement des commandes √† l'aide de Node.js et TypeScript.  Bienvenue au chat. </p><a name="habracut"></a><br><h2 id="neobhodimaya-teoriya">  La th√©orie n√©cessaire </h2><br><p>  Je pense que beaucoup ont entendu parler de RabbitMQ, car la premi√®re version open source de ce courtier de messages, bas√©e sur le protocole AMQP, a d√©j√† √©t√© publi√©e en 2007.  Un courtier de messages est n√©cessaire pour connecter diff√©rents composants du syst√®me en un seul ensemble, car de la colle est n√©cessaire pour ressusciter un vase cass√©.  √Ä l'aide du courtier de messages, vous pouvez impl√©menter un traitement asynchrone des √©v√©nements re√ßus dans le syst√®me.  C'est juste un tel traitement de commande asynchrone dont la boutique en ligne a besoin.  Mais vous devez d'abord comprendre les composants de base de RabbitMQ.  Ce courtier a trois composants principaux avec lesquels nous allons construire le processus de traitement: </p><br><ul><li>  <strong>Message</strong>  Il s'agit de la plus petite unit√© d'informations du courtier de messages et de notre service de traitement qui peut √™tre trait√©e.  RabbitMQ lui-m√™me stocke les messages sous forme binaire, mais pour notre syst√®me et pour l'article, ce n'est pas important.  Nous recevrons et traiterons les messages sous forme de JSON.  Il convient √©galement de mentionner que les messages dans RabbitMQ ont des en-t√™tes.  Ils sont similaires aux en-t√™tes des requ√™tes http.  Il s'agit d'un tableau associatif dans lequel vous pouvez √©crire les informations n√©cessaires. </li><li>  <strong>File d'attente de messages</strong> .  Il s'agit de la file d'attente dans laquelle RabbitMQ stocke les messages.  Une file d'attente de messages peut √™tre abonn√©e par un ou plusieurs consommateurs.  Chaque message dans la file d'attente de lapin est distribu√© aux consommateurs √† l'aide de l'algorithme de tourniquet. </li><li>  <strong>√âchange</strong>  Ceci, comme son nom l'indique, est un point d'√©change.  Des files d'attente ou d'autres √©changeurs peuvent √™tre attach√©s √† ce point.  Un point d'√©change ne stocke pas de messages; sa fonction principale est d'acheminer les messages vers une ou plusieurs files d'attente, ou les m√™mes points d'√©change.  Chaque file d'attente ou √©changeur est li√© par une cl√© de routage.  Il existe plusieurs types d'√©changeurs dans RabbitMQ qui affectent la mani√®re exacte dont l'√©change acheminera le message re√ßu. </li></ul><br><p>  Afin de d√©crire le fonctionnement de diff√©rents types d'√©changeurs, il est n√©cessaire de comprendre ce que sont les cl√©s de routage.  La cl√© de routage se trouve √† la fois dans la liaison de la file d'attente √† l'√©changeur et dans le message lui-m√™me.  <strong>La cl√© de routage</strong> est juste une cha√Æne divis√©e en blocs.  Chaque bloc est s√©par√© par un point.  Par exemple, ¬´notify.sendEmail.sendSms¬ª.  Dans le m√™me temps, des mod√®les peuvent √™tre d√©finis pour la cl√© de routage des messages √† l'aide des caract√®res sp√©ciaux # et *.  * - dit qu'apr√®s un point n'importe quel bloc peut aller, mais apr√®s # n'importe quel nombre de blocs peut aller.  Par exemple, "notify.sendSms. *" Ou "notify. # #".  Vous pouvez maintenant passer aux types de points d'√©change. </p><br><p>  Il existe quatre types d'√©changeurs: </p><br><ul><li>  <strong>Fanout</strong>  La logique de routage de cet √©change est simple; il redirige un message entrant vers toutes les files d'attente ou √©changeurs qui lui sont attach√©s. </li></ul><br><p><img src="https://habrastorage.org/webt/iw/f5/ib/iwf5ibz1b-6-qqhby_z_kqope9e.png"></p><br><ul><li>  <strong>Direct</strong>  Cet √©change redirige le message selon que la cl√© de routage du message correspond √† la cl√© de routage de la liaison. </li></ul><br><p><img src="https://habrastorage.org/webt/vu/pm/ia/vupmiavbtemxaxoecqcuklmpvqe.png"></p><br><ul><li>  <strong>Sujet</strong>  L'√©change de ce type ainsi que Direct acheminent le message en fonction de la cl√© de routage.  Mais un mod√®le peut agir comme une cl√© de routage. </li></ul><br><p><img src="https://habrastorage.org/webt/yz/h4/ug/yzh4ug3abx7ywf9ex-bei3k20oe.png"></p><br><ul><li>  <strong>En-t√™tes</strong> .  Cet √©change, contrairement aux autres, utilise des en-t√™tes de message pour le routage.  Dans le m√™me temps, les files d'attente de l'√©changeur sont √©galement li√©es √† l'aide d'un tableau associatif.  La logique par laquelle l'√©changeur achemine les messages peut √™tre modifi√©e √† l'aide de la cl√© sp√©ciale ¬´x-match¬ª, qui est d√©finie dans le tableau de liaison associative.  La cl√© peut √™tre d√©finie sur deux valeurs, toutes ou toutes.  Si la valeur est all, les en-t√™tes de message doivent correspondre compl√®tement au tableau de liaisons associatives; si la valeur est quelconque, la valeur doit correspondre √† au moins une cl√©. </li></ul><br><p><img src="https://habrastorage.org/webt/gq/pd/gm/gqpdgmxxipjwviioorrzouqdj0o.png"></p><br><p>  Ce sont les composants principaux de RabbitMQ.  Vous pouvez en savoir plus sur ces composants dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la sp√©cification du protocole AMQP</a> .  Ensuite, nous concevrons et mettrons en ≈ìuvre un syst√®me de traitement des commandes en utilisant TypeScript comme exemple, en comprenant simultan√©ment les param√®tres de chaque composant. </p><br><h2 id="proektirovanie">  La conception </h2><br><p>  Pour simplifier l'exemple, nous supposons que pour le succ√®s du traitement d'une commande en ligne, nous devons disposer des fonctionnalit√©s suivantes: </p><br><ul><li>  Enregistrer les commandes entrantes </li><li>  Envoyer un SMS au client avec le num√©ro de commande, ainsi que l'√©tat de la commande </li><li>  Envoyer un message au service de livraison par messagerie √† propos d'une nouvelle commande dans notre boutique en ligne, si le client a choisi ce mode de livraison </li></ul><br><p>  Mais il ne suffit pas de mettre en ≈ìuvre cette fonctionnalit√©, car notre boutique en ligne pr√©voit d'√©tendre la fonctionnalit√© et de fournir plus d'opportunit√©s diff√©rentes √† ses clients √† l'avenir (et cela se produit toujours).  Par exemple, informez le client par e-mail ou indiquez un choix de plusieurs modes de livraison pour la commande.  Il s'ensuit que nous devons concevoir le syst√®me de mani√®re √† ce que l'ajout de fonctionnalit√©s soit simple. </p><br><p>  Il convient √©galement de mentionner que j'utiliserai le mod√®le pour les messages diff√©r√©s afin qu'il soit possible, si le service externe n'est pas disponible, de r√©p√©ter la logique plusieurs fois.  Vous pouvez lire sur ce mod√®le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> </p><br><p>  Pour repr√©senter plus clairement le but ultime, je vais dessiner un diagramme. </p><br><p><img src="https://habrastorage.org/webt/mu/bz/ji/mubzjikeu0b35eac4e_qj0rxdt4.png"></p><br><p>  Voyons dans l'ordre comment fonctionne le processus de traitement des commandes sur ce diagramme.  Le sch√©ma est divis√© en blocs et en diff√©rentes couleurs.  Les blocs blancs indiquent des services externes que nous ne consid√©rerons pas.  Les blocs gris indiquent les √©l√©ments RabbitMQ.  Files d'attente et √©changeurs.  La couleur verte refl√®te les blocs de logique m√©tier qui doivent √™tre mis en ≈ìuvre.  De plus, chaque bloc li√© √† notre logique est num√©rot√©.  Les nombres indiquent le processus et le sous-processus dans l'ordre. </p><br><p>  Tout d'abord, le message de l'API HTTP entre dans notre service.  Apr√®s cela, nous devons attribuer un num√©ro √† la commande, enregistrer la commande dans la base de donn√©es avec le statut "nouveau" et renvoyer une r√©ponse sur la cr√©ation r√©ussie de la commande, avec son num√©ro.  Le client, apr√®s avoir re√ßu un message sur la r√©ussite de la cr√©ation de la commande, va √† son compte.  En envoyant une r√©ponse positive, nous envoyons l'objet de commande √† l'√©change de post-traitement, √† partir duquel il tombe dans le travailleur de la formation de cl√© de routage.  Ce travailleur, apr√®s avoir re√ßu l'objet de commande de la file d'attente, sur la base de celui-ci (qu'il y ait un e-mail ou le t√©l√©phone d'un client dans la commande, quel mode de livraison a √©t√© choisi) doit former la cl√© de routage de la commande.  Apr√®s avoir form√© une cl√© de routage, le travailleur renvoie un message √† l'√©change de post-traitement, mais maintenant la cl√© de routage de la commande a chang√© et l'√©changeur peut l'envoyer d√©j√† sur la route souhait√©e.  Selon la cl√©, la commande peut √™tre envoy√©e √† Exchange, qui est responsable des notifications, des int√©grations d'√©change ou des deux √† la fois.  Et plus loin sur la m√™me logique dans une file d'attente et des travailleurs. </p><br><p>  Les employ√©s qui envoient des SMS et les services de livraison essaieront de traiter le message plusieurs fois.  Le nombre de ces tentatives peut √™tre pass√© dans une variable d'environnement.  Mais vous ne devez pas traiter le message sans fin, car l'erreur peut se trouver dans le message lui-m√™me ou dans la logique du travailleur.  Par cons√©quent, apr√®s avoir d√©pass√© le nombre de tentatives autoris√©es, le message sera supprim√© des files d'attente et envoy√© au magasin d'erreurs, √† partir duquel il peut √™tre renvoy√© au niveau de traitement souhait√©. </p><br><h2 id="realizaciya">  Impl√©mentation </h2><br><p>  Pour v√©rifier la mise en ≈ìuvre, vous aurez besoin de lapin lui-m√™me.  Je recommande d'utiliser Docker et une image de courtier officielle √† cet effet.  Installez et ex√©cutez le conteneur avec la commande suivante. </p><br><pre><code class="bash hljs">docker run -d --name rabbit -p 5672:5672 -e rabbitmq:3.7.15-management-alpine</code> </pre> <br><p>  Il s'agit d'une image avec une interface Web disponible sur le port 15672 pour un d√©bogage pratique. </p><br><p>  Nous impl√©menterons nos plans avec TypeScript et la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">amqplib</a> (impl√©mentation du client RabbitMQ pour Node.js), donc pour commencer, vous devez d√©crire plusieurs interfaces.  Nous d√©crivons les interfaces de la commande et les messages que nous enverrons √† lapin. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    export interface Product { id: string; name: string; price: number; } //    export interface Order { clientName: string; city: string; email?: string; phone?: string; products: Product[]; totalSum: number; deliveryAddress?: string; } //         export interface OrderWithPhone extends Order { phone: string; } //        export interface OrderWithDeliveryAddress extends Order { deliveryAddress: string; } // Types Guard'        export const isOrderWithPhone = (order: Order): order is OrderWithPhone =&gt; Boolean(order.phone); export const isOrderWithDeliveryAddress = (order: Order): order is OrderWithDeliveryAddress =&gt; Boolean(order.deliveryAddress); //    . export interface Message&lt;O extends Order&gt; { errors: string[]; retry: number; order: O; //         export interface FailOrder extends Message&lt;Order&gt; { exchange: string; routingKey: string; }</span></span></code> </pre> <br><p>  Nous devons maintenant d√©crire l'interface de configuration des files d'attente et des √©changeurs, sur la base de laquelle nous allons construire la structure de traitement en lapin. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Types, ExchangeTypes } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Options } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'amqplib'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   RabbitMQ       export enum Types { QUEUE = 'queue', EXCHANGE = 'exchange', } //      export enum ExchangeTypes { TOPIC = 'topic', } //    export interface Queue { name: string; options: Options.AssertQueue; } //    export interface Exchange { name: string; type: ExchangeTypes; } //    export interface Binding { type: Types; destination: string; source: string; routingKey: string; } //   RabbitMQ export interface PipelineConfig { queues: Queue[]; exchanges: Exchange[]; bindings: Binding[]; }</span></span></code> </pre> <br><p>  Apr√®s avoir d√©crit les principaux composants du syst√®me, nous d√©crivons la configuration qui a √©t√© dessin√©e sur le diagramme en utilisant l'objet. </p><br><p>  Files d'attente </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> [ <span class="hljs-comment"><span class="hljs-comment">//        routingKey { name: 'generateRoutingKey', options: { durable: true, }, }, //   sms { name: 'sendSms', options: { durable: true, }, }, //      { name: 'delivery', options: { durable: true, }, }, //         sms { name: 'sendSmsHold', options: { durable: true, deadLetterExchange: 'notify', deadLetterRoutingKey: 'sendSms', messageTtl: 60000, }, }, //            { name: 'deliveryHold', options: { durable: true, deadLetterExchange: 'integrates', deadLetterRoutingKey: 'delivery', messageTtl: 60000, }, }, ];</span></span></code> </pre> <br><p>  Lors de la description des files d'attente, les options suivantes sont utilis√©es pour la file d'attente. </p><br><ul><li>  <strong>durable</strong> .  Par d√©faut, tous les messages de file d'attente sont stock√©s en m√©moire.  Par cons√©quent, lorsque le courtier red√©marre, les messages disparaissent.  Pour √©viter cela, vous pouvez utiliser cette option.  Avec ce param√®tre, rabbit videra les messages sur le disque.  Mais il y a une mise en garde.  Pour que les messages soient enregistr√©s apr√®s le red√©marrage du courtier, ce param√®tre n'est pas suffisant; les messages doivent √™tre envoy√©s √† la file d'attente avec l'option persistante. </li><li>  <strong>messageTtl</strong> .  La dur√©e de vie du message.  Donn√© en millisecondes </li><li>  <strong>deadLetterExchange</strong> .  Le nom de l'√©changeur o√π le message sera envoy√© de la file d'attente √† son expiration </li><li>  <strong>deadLetterRoutingKey</strong> .  RoutingKey avec laquelle le message sera envoy√© √† l'√©changeur √† partir de l'option pr√©c√©dente </li></ul><br><p>  √âchanges </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ExchangeTypes } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'postprocessing'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ExchangeTypes.TOPIC, }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'notify'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ExchangeTypes.TOPIC, }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'integrates'</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ExchangeTypes.TOPIC, }, ];</code> </pre> <br><p>  Liaisons </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Types } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.EXCHANGE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'notify'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'postprocessing'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'#.notify.#'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.EXCHANGE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'integrates'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'postprocessing'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'#.integrates.#'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.QUEUE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'generateRoutingKey'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'postprocessing'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'generateRoutingKey'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.QUEUE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'sendSms'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'notify'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'#.sendSms.#'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.QUEUE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'delivery'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'integrates'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'#.delivery.#'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.QUEUE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'sendSmsHold'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'notify'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'sendSmsHold'</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: Types.QUEUE, <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">'deliveryHold'</span></span>, <span class="hljs-attr"><span class="hljs-attr">source</span></span>: <span class="hljs-string"><span class="hljs-string">'integrates'</span></span>, <span class="hljs-attr"><span class="hljs-attr">routingKey</span></span>: <span class="hljs-string"><span class="hljs-string">'deliveryHold'</span></span>, }, ];</code> </pre> <br><p>  Configuration compl√®te </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PipelineConfig } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> exchanges <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./exchanges'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> queues <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./queues'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> bindings <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./bindigs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pipelineConfig: PipelineConfig = { exchanges, queues, bindings, };</code> </pre> <br><p>  Pour vous connecter √† Rabbit, √©crivez une classe. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { connect, Connection, Channel } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'amqplib'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RabbitConnect</span></span></span><span class="hljs-class"> </span></span>{ private _uri: string; private _connection: Connection; private _chanel: Channel; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-comment"><span class="hljs-comment">//    rabbit     this._uri = process.env.RABBIT_URI || 'amqp://localhost'; } protected async connect() { this._connection = await connect(this._uri); this._chanel = await this._connection.createChannel(); } protected async disconnect() { await this._chanel.close(); return this._connection.close(); } protected get chanel() { return this._chanel; } }</span></span></code> </pre> <br><p>  √âcrivons la classe Pipeline qui, au d√©marrage, cr√©era toute l'infrastructure n√©cessaire dans rabbit selon la configuration d√©crite pr√©c√©demment. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RabbitConnect } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./RabbitConnect'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { PipelineConfig } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Types } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./constants'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pipeline</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RabbitConnect</span></span></span><span class="hljs-class"> </span></span>{ private _pipeline: PipelineConfig; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(pipelineConfig: PipelineConfig) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._pipeline = pipelineConfig; } public <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> create() { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.connect(); <span class="hljs-comment"><span class="hljs-comment">//   const createQueues = this._pipeline.queues.map(queue =&gt; this.chanel.assertQueue(queue.name, queue.options), ) as PromiseLike&lt;any&gt;[]; //   const createExchanges = this._pipeline.exchanges.map(exchange =&gt; this.chanel.assertExchange(exchange.name, exchange.type), ) as PromiseLike&lt;any&gt;[]; await Promise.all([...createQueues, ...createExchanges]); //       const createBindings = this._pipeline.bindings.map(binding =&gt; { if (binding.type === Types.QUEUE) { return this.chanel.bindQueue(binding.destination, binding.source, binding.routingKey); } return this.chanel.bindExchange(binding.destination, binding.source, binding.routingKey); }); await Promise.all(createBindings); return this.disconnect(); } catch (error) { console.error(error); throw new Error(error); } } }</span></span></code> </pre> <br><p>  Nous allons maintenant √©crire une classe de travail abstraite avec une fonctionnalit√© commune √† tous les travailleurs dont il sera possible d'h√©riter. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RabbitConnect } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./RabbitConnect'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Message, Order, FailOrder } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ConsumeMessage } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'amqplib'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface WorkerParams { maxRetry?: number; <span class="hljs-comment"><span class="hljs-comment">//     active: string; //    exchange: string; //       holdKey?: string; //      } export abstract class Worker&lt;M extends Order&gt; extends RabbitConnect { private _maxRetry: number; private _active: string; private _holdKey: string | undefined; protected exchange: string; private _currentMessage: Message&lt;M&gt;; private _currentConsumeMessage: ConsumeMessage; constructor({ active, holdKey, exchange, maxRetry }: WorkerParams) { super(); this._maxRetry = maxRetry || 0; this._active = active; this._holdKey = holdKey; this.exchange = exchange; } public async subscribe() { await this.connect(); this.chanel.consume(this._active, this.checkMessage.bind(this)); } //          private async checkMessage(message: ConsumeMessage) { this._currentConsumeMessage = message; const orderMessage: Message&lt;M&gt; = JSON.parse(message.content.toString()); if (orderMessage.retry &gt;= this._maxRetry) { await this.sendToErrorStorage('  '); } this._currentMessage = orderMessage; //           await this.handler(orderMessage.order || orderMessage); } //       protected async sendToErrorStorage(error: string) { const message: FailOrder = { order: this._currentMessage.order, errors: [...this._currentMessage.errors, error], retry: this._currentMessage.retry + 1, exchange: this.exchange, routingKey: this._active }; console.log('   ', message); this.ack(); } //       protected async hold(error: string) { if (!this._holdKey) { return; } const orderMessage = { order: this._currentMessage.order, errors: [...this._currentMessage.errors, error], retry: this._currentMessage.retry + 1, }; const orderData = Buffer.from(JSON.stringify(orderMessage)); return this.chanel.publish(this.exchange, this._holdKey, orderData); } //      protected async ack() { return this.chanel.ack(this._currentConsumeMessage); } protected abstract handler(message: M): void; }</span></span></code> </pre> <br><p>  Par d√©faut, le lapin requiert la confirmation d'un traitement de message r√©ussi par le travailleur.  Pour cela, le canal de connexion a une m√©thode d'acquittement.  Si le travailleur n'a pas pu traiter le message, il existe une m√©thode nack qui indique √† lapin d'envoyer le message √† un autre travailleur. </p><br><p>  Maintenant, nous pouvons √©crire quelques ouvriers simples √† partir du diagramme. </p><br><p>  Travailleur g√©n√©rant une cl√© de routage. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Worker } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Worker'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { isOrderWithPhone, isOrderWithDeliveryAddress, Order, Message, } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Keys } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../constants'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GenerateRoutingKey</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Worker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Order</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>({ <span class="hljs-attr"><span class="hljs-attr">active</span></span>: <span class="hljs-string"><span class="hljs-string">'generateRoutingKey'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exchange</span></span>: <span class="hljs-string"><span class="hljs-string">'postprocessing'</span></span>, }); } protected <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> handler(order: Order) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routingKey: string[] = []; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isOrderWithPhone(order)) { routingKey.push(Keys.SEND_SMS); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isOrderWithDeliveryAddress(order)) { routingKey.push(Keys.SEND_TO_DELIVERY); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> message: Message&lt;Order&gt; = { <span class="hljs-attr"><span class="hljs-attr">retry</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">errors</span></span>: [], order, }; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.chanel.publish( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.exchange, routingKey.join(<span class="hljs-string"><span class="hljs-string">'.'</span></span>), Buffer.from(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(message)), ); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ack(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sendToErrorStorage(error); } } }</code> </pre> <br><p>  Les travailleurs envoient des sms. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Worker } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Worker'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { OrderWithPhone } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SendSms</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Worker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrderWithPhone</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>({ <span class="hljs-attr"><span class="hljs-attr">active</span></span>: <span class="hljs-string"><span class="hljs-string">'sendSms'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exchange</span></span>: <span class="hljs-string"><span class="hljs-string">'notify'</span></span>, <span class="hljs-attr"><span class="hljs-attr">holdKey</span></span>: <span class="hljs-string"><span class="hljs-string">'sendSmsHold'</span></span>, <span class="hljs-attr"><span class="hljs-attr">maxRetry</span></span>: process.env.MAX_RETRY ? <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(process.env.MAX_RETRY) : <span class="hljs-number"><span class="hljs-number">5</span></span>, }); } protected <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> handler(message: OrderWithPhone) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">' sms  : '</span></span>, message.phone); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ack(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.hold(error); } } }</code> </pre> <br><p>  Int√©gration des travailleurs avec le service de livraison. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Worker } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Worker'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { OrderWithDeliveryAddress } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../interfaces'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Delivery</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Worker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrderWithDeliveryAddress</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>({ <span class="hljs-attr"><span class="hljs-attr">active</span></span>: <span class="hljs-string"><span class="hljs-string">'delivery'</span></span>, <span class="hljs-attr"><span class="hljs-attr">exchange</span></span>: <span class="hljs-string"><span class="hljs-string">'interates'</span></span>, <span class="hljs-attr"><span class="hljs-attr">holdKey</span></span>: <span class="hljs-string"><span class="hljs-string">'deliveryHold'</span></span>, <span class="hljs-attr"><span class="hljs-attr">maxRetry</span></span>: process.env.MAX_RETRY ? <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(process.env.MAX_RETRY) : <span class="hljs-number"><span class="hljs-number">5</span></span>, }); } protected <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> handler(message: OrderWithDeliveryAddress) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'      : '</span></span>, message.deliveryAddress); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ack(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.hold(error); } } }</code> </pre> <br><p>  Le point d'entr√©e de l'application. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Pipeline } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Pipeline'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { pipelineConfig } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./pipeline'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GenerateRoutingKey } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./workers/GenerateRoutingKey'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { SendSms } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./workers/SendSms'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Delivery } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./workers/Delivery'</span></span>; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">async</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pipeline = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Pipeline(pipelineConfig); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> generateRoutingKey = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GenerateRoutingKey(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sendSms = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SendSms(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> delivery = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Delivery(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> pipeline.create(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.all([generateRoutingKey.subscribe(), sendSms.subscribe(), delivery.subscribe()]); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); process.exit(<span class="hljs-number"><span class="hljs-number">1</span></span>); } })();</code> </pre> <br><p>  Je ne donnerai pas d'exemple de classe de code pour √©crire une commande dans la base de donn√©es et g√©n√©rer un num√©ro de commande Internet.  Cela d√©passe le cadre de cet article.  Pour v√©rifier le code, vous pouvez utiliser l'interface web de lapin en envoyant la commande json au posrprocessing de l'√©changeur. </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Un tel sch√©ma de construction pour le traitement d'une commande en ligne facilite la mise √† l'√©chelle du syst√®me.  Il ne sera pas difficile pour nous d'ajouter plusieurs files d'attente et travailleurs √† ce sch√©ma afin d'ajouter les fonctionnalit√©s n√©cessaires.  Par exemple, vous pouvez ajouter l'envoi de notifications par e-mail ou l'envoi d'une commande de comptabilit√© dans 1C.  Le circuit converti ressemblera √† ceci: </p><br><p><img src="https://habrastorage.org/webt/id/rt/7j/idrt7j5jx9zmzcma6axa3st7-nq.png"></p><br><p>  J'esp√®re que l'article vous a plu.  Je serai heureux de tout commentaire et critique.  Tout le code soumis peut √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">trouv√© sur github</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr469991/">https://habr.com/ru/post/fr469991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr469979/index.html">Enregistrements des rapports de la deuxi√®me iOS mitap Redmadrobot</a></li>
<li><a href="../fr469981/index.html">Que contient le chat bot?</a></li>
<li><a href="../fr469985/index.html">Acc√©l√©rer un programme pour un processeur synth√©tis√© Redd sans optimisation: remplacer une horloge</a></li>
<li><a href="../fr469987/index.html">Top 20 des soci√©t√©s de d√©veloppement de march√©s du monde entier</a></li>
<li><a href="../fr469989/index.html">C # Regex dans les exemples</a></li>
<li><a href="../fr469995/index.html">Analyseur Python SAX vs analyseur DOM python. Maisons Parsim FIAS</a></li>
<li><a href="../fr469997/index.html">Quels titres sont les plus susceptibles d'attirer l'attention ou l'analyse HabraHabr</a></li>
<li><a href="../fr470001/index.html">Trucs et astuces Linux: serveur, ouvert</a></li>
<li><a href="../fr470003/index.html">F # 1: Bonjour tout le monde</a></li>
<li><a href="../fr470005/index.html">Contr√¥le √† distance de l'ordinateur via un navigateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>