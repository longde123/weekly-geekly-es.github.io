<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úäüèæ üôÜüèª üíï Internet das coisas em russo. Baseband Hotel LoRaWAN para propriet√°rios de RTL-SDR üö≥ üë®üèæ‚Äçüî¨ üßî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O conceito de transfer√™ncia de processamento de sinal para a nuvem n√£o √© novo. Em primeiro lugar, o VRAN (rede virtual de acesso via r√°dio) √© a princi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Internet das coisas em russo. Baseband Hotel LoRaWAN para propriet√°rios de RTL-SDR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455547/"><p> O conceito de transfer√™ncia de processamento de sinal para a nuvem n√£o √© novo.  Em primeiro lugar, o VRAN (rede virtual de acesso via r√°dio) √© a principal maneira de construir uma rede de operadoras m√≥veis.  Em segundo lugar, a rede IoT da SigFox √© constru√≠da com o mesmo princ√≠pio, como pode ser visto em suas patentes.  Simplificando, √© tudo irreal legal!  Ent√£o, o que podemos fazer para n√£o ficar √† margem do progresso, mas para aderir ao t√≥pico? </p><a name="habracut"></a><br><p>  A hist√≥ria do problema √© a seguinte: Estou envolvido na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">navega√ß√£o</a> por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">r√°dio</a> h√° muito tempo e n√£o consegui passar por um padr√£o de r√°dio t√£o comum na Internet como LoRa.  Eu realmente queria fazer o posicionamento para ele. </p><br><p>  A maneira mais econ√¥mica de posicionamento √© o <strong>rangefinder diferencial</strong> , na terminologia em ingl√™s <strong>diferen√ßa de hor√°rio de chegada</strong> ( <strong>TDOA</strong> ).  Os medidores com esse m√©todo podem ser de canal √∫nico, o que os compara favoravelmente com os m√©todos multicanais com √¢ngulo de chegada (AOA).  O m√©todo requer medir o <strong>tempo relativo de</strong> chegada dos sinais aos medidores espacialmente espa√ßados. </p><br><p><img src="https://habrastorage.org/webt/tg/ix/ai/tgixaite_xweo9lcnus9y2tlklk.png" alt="imagem"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fonte</a> </p><br><p>  Existem duas op√ß√µes: a primeira, para vincular medi√ß√µes a uma escala de tempo de refer√™ncia, a segunda, para calcular o tempo de chegada m√∫tua diretamente pela <strong>fun√ß√£o de correla√ß√£o m√∫tua</strong> .  O segundo requer largura de banda significativamente maior dos canais de comunica√ß√£o com o medidor, mas possui potencialmente melhor imunidade a ru√≠dos.  Eu escolhi essa abordagem. </p><br><p>  Note-se que, por simplicidade de apresenta√ß√£o, omito a quest√£o da sincroniza√ß√£o da frequ√™ncia portadora e da frequ√™ncia de amostragem dos medidores por simplicidade.  Espero cobrir esta edi√ß√£o em futuras publica√ß√µes. </p><br><p>  Matematicamente, a segunda abordagem √© baseada em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fun√ß√£o de correla√ß√£o cruzada</a> (VKF).  Tecnicamente, isso significa que as amostras de sinal devem ser transferidas para um local para o c√°lculo do WKF.  Ao mesmo tempo, √© necess√°rio selecionar as amostras de tempo de uma fonte de radia√ß√£o em todos os medidores envolvidos no posicionamento.  Ou seja, para construir o sistema de posicionamento LoRa TDOA, √© necess√°rio colocar em cada medidor um receptor SDR com um desmodulador de software LoRa, por exemplo, como descrito neste artigo popular em l√≠ngua russa.  Em seguida, em cada receptor do medidor SDR, √© necess√°rio alocar o ID dos meios emissores e enviar ao computador central uma amostra de amostras com esse ID.  A calculadora central poder√°, ao receber pacotes de amostras com um ID, iniciar o procedimento de c√°lculo do WKF e o procedimento de posicionamento.  Essa estrutura me pareceu muito exigente quanto ao desempenho do equipamento e √† complexidade do software do medidor.  E com uma carga de pico, isso daria uma carga excessiva no canal de comunica√ß√£o.  Portanto, lembrei-me da abordagem para construir a estrutura de processamento de sinal das redes celulares, que elas usam h√° muito tempo, e na gera√ß√£o 5G essa abordagem deve se tornar obrigat√≥ria. </p><br><p>  Essa abordagem √© chamada de <strong>rede de acesso via r√°dio virtual</strong> ( <strong>V-RAN</strong> ).  Voc√™ pode pesquisar no google essa combina√ß√£o de palavras.  Encontrei alguma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descri√ß√£o</a> apenas em ingl√™s.  Algo significativo no Wiki no V-RAN n√£o √©, mas de acordo com o conceito mais recente - <strong>Cloud Radio Access Network</strong> ou <strong>Centralized Radio Access Network</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong>C-RAN</strong></a> ).  O conceito parece longe da realidade - "as naves espaciais exploram as extens√µes do universo". </p><br><p><img src="https://habrastorage.org/webt/s5/u7/tz/s5u7tzyyzry0u-zbxs1znp_qx0g.png" alt="imagem"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fonte</a> </p><br><p>  Como o nome indica, a principal caracter√≠stica √© que a desmodula√ß√£o do sinal e todas as etapas de processamento subsequentes s√£o transferidas para a nuvem ( <strong>hotel Baseband</strong> ).  Com essa abordagem, o custo de compra de equipamento √© reduzido, mas h√° custos para alugar computadores em nuvem, cuja quantidade pode ser ajustada com rapidez e conveni√™ncia, e mais importante - de acordo com requisitos urgentes.  Isso traz economia.  As economias s√£o examinadas superficialmente neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> .  E <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este √© um</a> estudo mais detalhado do conceito. </p><br><p>  Surpreendentemente, a <strong>natureza de baixa velocidade da IoT</strong> torna poss√≠vel usar essa abordagem de ‚Äúespa√ßo‚Äù na economia nacional! </p><br><p>  Para fazer isso, voc√™ precisa usar o Raspberry (ou qualquer outro computador Linux com suporte a RTL-SDR e SOAPY) e o pr√≥prio RTL-SDR, que agora um n√∫mero relativamente grande tem <del>  fam√≠lias </del>  pessoas, fa√ßa o download da fonte ou bin√°rios do programa, conecte-se √† nuvem e observe mensagens no agregador de mensagens LoRa IoT, como, por exemplo, The Things Network. </p><br><p><img src="https://habrastorage.org/webt/f9/ug/8r/f9ug8rmtzskkk5vvuzkzfgakcow.png" alt="imagem"></p><br><p>  E voc√™ precisa de internet r√°pida.  Agora o fluxo √© calculado da seguinte forma: 200 kHz * 32 bits (I, Q) = 6,4 Mbps.  Em seguida, esse fluxo √© compactado, resultando em cerca de 3-4 Mbit / s, deixando Raspberry na dire√ß√£o do nosso servidor continuamente. </p><br><p>  Agora, vamos dar uma olhada no processo de cria√ß√£o e lan√ßamento em etapas. </p><br><p>  Aqui est√° o RTL-SDR inserido no Raspberry Pi 3. </p><br><p><img src="https://habrastorage.org/webt/c-/lq/nz/c-lqnzbeuf5lx6sdxbsu8m7b3n0.jpeg" alt="imagem"></p><br><p>  Aqui est√° o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo-fonte do</a> software que coleta amostras do RTL-SDR, filtra e dizima-as e as envia para a nuvem pela Internet.  Isso √© para reduzir a taxa de dados necess√°ria para fornecer o sinal digital para a nuvem.  O software pode ser montado assim <del>  invulgarmente original </del>  equipes: </p><br><pre><code class="bash hljs">mkdir build <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build cmake .. make</code> </pre> <br><p>  Ent√£o voc√™ precisa configurar a frequ√™ncia de recebimento (o padr√£o √© 868,1 MHz), o endere√ßo e a porta do servidor de processamento na inicializa√ß√£o: </p><br><pre> <code class="bash hljs">./Bolt5_Client host port [frequency]</code> </pre> <br><p>  e execute o programa.  Se ela der </p><br><p><img src="https://habrastorage.org/webt/dj/0l/wr/dj0lwrtbxz1cqmzc0zrco9kgros.jpeg" alt="imagem"></p><br><p>  , tudo vai bem e voc√™ pode configurar a rede de coisas (TTN).  Isso √© descrito em detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Para enviar uma mensagem, voc√™ precisa de um n√≥ LoRa.  Para simplificar, usamos este kit no Arduino: <br><img src="https://habrastorage.org/webt/8d/pc/op/8dpcopjroxcjc6nb_e0l3u65suy.jpeg" alt="imagem"></p><br><p>  Ent√£o voc√™ precisa realmente transmitir a mensagem de teste e garantir que a nuvem LoRa esteja funcionando.  Um exemplo de envio de uma mensagem usando o Arduino e o LoraWAN shield pode ser encontrado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br>  No momento, √© poss√≠vel enviar mensagens pelo sistema ABP (Ativa√ß√£o por personaliza√ß√£o, Ativa√ß√£o por personaliza√ß√£o). </p><br><p>  No nosso caso, a mensagem enviada √© assim: <br><img src="https://habrastorage.org/webt/yl/md/nk/ylmdnkmv3m8rwlkwzrzt07fw1x8.jpeg" alt="imagem"></p><br><p>  Uma mensagem recebida e gravada no TTN √© semelhante a esta: <br><img src="https://habrastorage.org/webt/d3/6t/vt/d36tvtfcy_skdimguqcqbvb19zg.jpeg" alt="imagem"></p><br><p>  Agora o sistema funciona em um modo manual experimental.  V√°rios milagres s√£o poss√≠veis, mas nos esfor√ßamos para tornar tudo est√°vel o mais r√°pido poss√≠vel.  Como nosso principal objetivo √© posicionar a LoRa, estamos procurando <strong>volunt√°rios</strong> dispostos a <strong>conectar seu hardware</strong> (RTL-SDR e Raspberry ou outro computador) <strong>ao nosso servidor em</strong> apenas uma √°rea espec√≠fica de S√£o Petersburgo: <strong>Pionerskaya, Udelnaya e Kolomyagi</strong> .  J√° temos dois metros: um no cruzamento da Avenida Kolomyazhsky e da Rua Korolev, o segundo no centro comercial Liner, na Rua Verbnaya.  Com sua ajuda, queremos criar uma rede com geometria que permita posicionar o LoRa na √°rea do parque espec√≠fico. </p><br><p><img src="https://habrastorage.org/webt/rb/em/ad/rbemaduoqysrrsfutwcwjdhuyyq.png" alt="imagem"></p><br><p>  De nossa parte, prometemos escrever sobre o sistema aqui.  Espero que tenhamos recursos suficientes por tr√™s meses, o que deve ser suficiente para criar um sistema de posicionamento LoRa. </p><br><p>  Junte-se a n√≥s nas <strong>transmiss√µes de r√°dio de minera√ß√£o</strong> para a Internet das coisas! </p><br><p>  O principal desenvolvedor deste milagre √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">deef137</a> , por favor, ame e favor. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt455547/">https://habr.com/ru/post/pt455547/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt455535/index.html">Gerenciando certificados SSL / TLS nas nuvens e cont√™ineres - n√£o no trabalho humano</a></li>
<li><a href="../pt455537/index.html">Otimiza√ß√£o de pesquisa ampla: como processar um gr√°fico com 10 bilh√µes de estados</a></li>
<li><a href="../pt455539/index.html">Videntes m√≥veis: 10 fatos novos sobre como os dispositivos vest√≠veis est√£o observando voc√™</a></li>
<li><a href="../pt455543/index.html">O Kubernetes Cluster √© f√°cil e conveniente de preparar? Anunciar addon-operator</a></li>
<li><a href="../pt455545/index.html">Processos de constru√ß√£o do zero: do caos ao pedido</a></li>
<li><a href="../pt455549/index.html">Como usar grupos do Facebook para promover: criar uma web</a></li>
<li><a href="../pt455553/index.html">Lutamos com Msg muito grande em aplicativos Elm</a></li>
<li><a href="../pt455555/index.html">Pe√ßa para o gerente mec√¢nico</a></li>
<li><a href="../pt455559/index.html">Como um computador qu√¢ntico pode invadir os sistemas modernos de criptografia e reduzir o custo da produ√ß√£o de am√¥nia?</a></li>
<li><a href="../pt455563/index.html">Empresa de pequeno porte: automatize ou n√£o?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>