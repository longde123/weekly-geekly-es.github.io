<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¿â€ğŸš’ ğŸ‘©ğŸ»â€ğŸ« ğŸ“§ 3Dä¸­çš„JavaScriptï¼šThree.jsç®€ä»‹ ğŸ‘¨ğŸ»â€ğŸ”¬ ğŸ‘©ğŸ¿â€ğŸ’» ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»Bret Cameronçš„æ–‡ç«  â€œ JavaScript in 3Dï¼šThree.jsç®€ä»‹â€çš„ç¿»è¯‘ã€‚ 

 å¼•è¨€ 
 Three.jsæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ã€‚ å®ƒæœ‰åŠ©äºåœ¨æµè§ˆå™¨ä¸­ä»¥å¯æ¥å—çš„æ€§èƒ½ä½¿ç”¨3Dè®¾è®¡ã€‚ å…¥é—¨Three.jså¯èƒ½å¾ˆæ£˜æ‰‹ï¼Œå°¤å…¶æ˜¯å¦‚æœæ‚¨ä»¥å‰ä»æœªæ¶‰è¶³3Dç¼–ç¨‹ä¸–ç•Œã€‚ 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3Dä¸­çš„JavaScriptï¼šThree.jsç®€ä»‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477956/">  <i>å“ˆHaï¼</i>  <i>æˆ‘å‘æ‚¨ä»‹ç»Bret Cameronçš„<a href="https://medium.com/javascript-in-plain-english/javascript-in-3d-an-introduction-to-three-js-780f1e4a2e6d">æ–‡ç« </a> â€œ JavaScript in 3Dï¼šThree.jsç®€ä»‹â€çš„ç¿»è¯‘ã€‚</i> <br><br><h2> å¼•è¨€ </h2><br>  Three.jsæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ã€‚ å®ƒæœ‰åŠ©äºåœ¨æµè§ˆå™¨ä¸­ä»¥å¯æ¥å—çš„æ€§èƒ½ä½¿ç”¨3Dè®¾è®¡ã€‚ å…¥é—¨Three.jså¯èƒ½å¾ˆæ£˜æ‰‹ï¼Œå°¤å…¶æ˜¯å¦‚æœæ‚¨ä»¥å‰ä»æœªæ¶‰è¶³3Dç¼–ç¨‹ä¸–ç•Œã€‚ <br><br> æˆ‘å¯¹Unityå’ŒCï¼ƒæ¸¸æˆå¼•æ“æœ‰ä¸€äº›åŸºæœ¬çš„ç»éªŒï¼Œä½†æ˜¯ï¼Œè®¸å¤šæ¦‚å¿µå¯¹æˆ‘æ¥è¯´è¿˜æ˜¯æ–°çš„ã€‚ æˆ‘å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œç°åœ¨å‡ ä¹æ²¡æœ‰èµ„æºï¼Œå› æ­¤æˆ‘å†³å®šå†™è¿™ç¯‡æ–‡ç« ã€‚ åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å°†è€ƒè™‘Three.jsåœºæ™¯çš„åŸºæœ¬å…ƒç´ ï¼Œä»å¤šè¾¹å½¢ç½‘æ ¼å’Œææ–™åˆ°å‡ ä½•å›¾å½¢ï¼ŒåŠ è½½å™¨ç­‰ç­‰ã€‚ <br><a name="habracut"></a><br> åœ¨æœ¬æ–‡çš„æœ€åï¼Œæ‚¨å°†å¯¹ä¸ºå°†æ¥çš„Webé¡¹ç›®æ·»åŠ é¢å¤–çš„ç»´åº¦æ‰€éœ€è¦çš„åŸºæœ¬æ–¹é¢æœ‰æ‰å®çš„ç†è§£ã€‚ <br><br> æ¥è‡ª<a href="https://threejs.org/examples/">Ben Houston</a> ï¼Œ <a href="https://threejs.org/examples/">Thomas Diewald</a>å’Œ<a href="https://threejs.org/examples/">StrykerDoesAnimationçš„Three.jsç¤ºä¾‹</a> ã€‚ <br><br><h3> è½½ä½“å’Œå®¹å™¨-åŸºæœ¬æ„å»ºå— </h3><br> é€šå¸¸åœ¨Three.jsä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„ç±»-Vector3å’ŒBox3ã€‚ å¦‚æœæ‚¨æ˜¯3Dçš„æ–°æ‰‹ï¼Œè¿™å¬èµ·æ¥å¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œä½†æ˜¯æ‚¨ä¼šé‡åˆ°æ›´å¤šæ¬¡ã€‚ <br><br><h3> çŸ¢é‡3 </h3><br> æœ€åŸºæœ¬çš„3Dç±»ï¼ŒåŒ…å«ä¸‰ä¸ªæ•°å­—ï¼š <i>xï¼Œyå’Œz</i> ã€‚ æ•°å­—æ˜¯3Dç©ºé—´ä¸­ç‚¹çš„åæ ‡æˆ–æ–¹å‘å’Œé•¿åº¦ã€‚ ä¾‹å¦‚ï¼š <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  Three.jsä¸­çš„å¤§å¤šæ•°æ„é€ å‡½æ•°éƒ½æ¥å—<i>Vector3</i>ç±»å‹çš„å¯¹è±¡ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œä¾‹å¦‚<i>Box3</i> <br><br><h3>  Box3 </h3><br> æ­¤ç±»è¡¨ç¤ºé•¿æ–¹ä½“ï¼ˆ3Då®¹å™¨ï¼‰ã€‚ å®ƒçš„ä¸»è¦ä»»åŠ¡æ˜¯å›´ç»•å…¶ä»–å¯¹è±¡åˆ›å»ºä¸€ä¸ªå®¹å™¨-è¿™å°±æ˜¯3Då¯¹è±¡å¯å®¹çº³çš„æœ€å°çš„é•¿æ–¹ä½“ã€‚ æ¯ä¸ª<i>Box3éƒ½</i>å›´ç»•<i>xï¼Œyå’Œz</i>è½´å¯¹é½<i>ã€‚</i> å¦‚ä½•ä½¿ç”¨<i>Vector3</i>åˆ›å»ºå®¹å™¨çš„ç¤ºä¾‹ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(vect);</code> </pre> <br> å¦‚ä½•åœ¨ç°æœ‰3Då¯¹è±¡å‘¨å›´åˆ›å»ºå®¹å™¨çš„ç¤ºä¾‹ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(); box.setFromObject(object);</code> </pre> <br> æ‚¨å¯ä»¥åœ¨æ²¡æœ‰è¿™äº›æ·±å…¥çŸ¥è¯†çš„æƒ…å†µä¸‹åˆ›å»ºç½‘æ ¼ï¼Œä½†æ˜¯ä¸€æ—¦æ‚¨å¼€å§‹æå‡ºæˆ–æ›´æ”¹æ¨¡å‹ï¼Œè¿™äº›ç±»è‚¯å®šä¼šæ´¾ä¸Šç”¨åœºã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä»æŠ½è±¡è½¬å‘æ›´å¯è§çš„äº‹ç‰©ã€‚ <br><br><h3> å¤šè¾¹å½¢ç½‘æ ¼ </h3><br> åœ¨Three.jsä¸­ï¼Œèˆå°ä¸Šçš„ä¸»è¦è§†è§‰å…ƒç´ æ˜¯<i>Mesh</i> ã€‚ è¿™æ˜¯ä¸€ä¸ªç”±ä¸‰è§’å½¢çŸ©å½¢ï¼ˆå¤šè¾¹å½¢ç½‘æ ¼ï¼‰ç»„æˆçš„3Då¯¹è±¡ã€‚ å®ƒä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡æ„å»ºï¼š <br>  <i>å‡ ä½•å½¢çŠ¶</i> -ç¡®å®šå…¶å½¢çŠ¶ï¼Œ <i>æè´¨</i> -ç¡®å®šå¤–è§‚ã€‚ <br><br> å®ƒä»¬çš„å®šä¹‰ä¼¼ä¹æœ‰ç‚¹ä»¤äººå›°æƒ‘ï¼ˆä¾‹å¦‚ï¼Œ <i>Geometry</i>ç±»å¯èƒ½åŒ…å«æœ‰å…³é¢œè‰²çš„ä¿¡æ¯ï¼‰ï¼Œä½†æ˜¯ä¸»è¦çš„ä¸åŒä¹‹å¤„åœ¨äºã€‚ <br><br><h3> å‡ ä½•å½¢çŠ¶ </h3><br> æ ¹æ®æ‚¨è¦å®Œæˆçš„ä»»åŠ¡ï¼Œæ‚¨å¯èƒ½æƒ³è¦åœ¨Three.jsä¸­å®šä¹‰å‡ ä½•æˆ–ä»æ–‡ä»¶å¯¼å…¥å¦ä¸€ä¸ªã€‚ <br><br> ä½¿ç”¨<i>THREE.TorusKnotGeometryä¹‹</i>ç±»çš„<i>å‡½æ•°</i> ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å•è¡Œä»£ç åˆ›å»ºå¤æ‚çš„å¯¹è±¡ã€‚ æˆ‘ä»¬å°†å¾ˆå¿«è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯é¦–å…ˆè€ƒè™‘ç®€å•çš„å½¢å¼ã€‚ <br> æœ€ç®€å•çš„3Då›¾å½¢ï¼ˆé•¿æ–¹ä½“æˆ–å®¹å™¨ï¼‰å¯ä»¥ç”±<i>width</i> ï¼Œ <i>height</i>å’Œ<i>depth</i>å‚æ•°æŒ‡å®šã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.BoxGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/eYOxYZL" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> å¯¹äºçƒä½“ï¼Œ <i>radius</i> ï¼Œ <i>widthSegments</i>å’Œ<i>heightSegments</i>å‚æ•°çš„å€¼<i>æœ€å°</i> ã€‚ æœ€åä¸¤ä¸ªå˜é‡æŒ‡ç¤ºæ¨¡å‹åº”ä½¿ç”¨å¤šå°‘ä¸ªä¸‰è§’å½¢è¡¨ç¤ºçƒä½“ï¼šæ•°å­—è¶Šå¤§ï¼Œçœ‹èµ·æ¥è¶Šå¹³æ»‘ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SphereGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/KKPJKgQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> å¦‚æœè¦åˆ¶ä½œå°–é”æˆ–ä¸‰è§’å½¢çš„å½¢çŠ¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åœ†é”¥å½¢ã€‚ ä»–çš„è®ºç‚¹æ˜¯å‰ä¸¤ä¸ªæ•°å­—çš„è®ºç‚¹çš„ç»“åˆã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬è§„å®šäº†<i>radius</i> ï¼Œ <i>widthSegments</i>å’Œ<i>radiusSegments</i> ã€‚ <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.ConeBufferGeometry( <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/MWgLWJB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> è¿™åªæ˜¯æœ€å¸¸è§æ•°å­—çš„ä¸€éƒ¨åˆ†ã€‚  Three.jsçš„æ¡†å†…æœ‰å¾ˆå¤šå½¢çŠ¶ï¼Œå¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°å®ƒä»¬ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶åŸºäº<i>TorusKnotGeometry</i>æ–¹æ³•æ„å»ºçš„æ›´æœ‰è¶£çš„è¡¨å•ã€‚ <br><br> ä¸ºä»€ä¹ˆè¿™äº›å½¢çŠ¶çœ‹èµ·æ¥å®Œå…¨ä¸€æ ·ï¼Ÿ è¿™ä¸ªé—®é¢˜ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´ä¹‹å†…ï¼Œä½†æ˜¯æˆ‘æ•¦ä¿ƒæ‚¨å°è¯•ä½¿ç”¨å‚æ•°å€¼ï¼Œå› ä¸ºç”¨ä¸€è¡Œä»£ç å°±å¯ä»¥å¾—åˆ°éå¸¸æœ‰è¶£çš„å½¢çŠ¶ï¼ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.TorusKnotGeometry(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">1.3</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>);</code> </pre> <br>  <a href="https://codepen.io/BretCameron/pen/gOYqORg">https://codepen.io/BretCameron/pen/gOYqORg</a> <br><br><h3> ç”¨æ–™ </h3><br> å‡ ä½•å®šä¹‰äº†3Då¯¹è±¡çš„å½¢çŠ¶ï¼Œä½†æ²¡æœ‰å®šä¹‰å®ƒä»¬çš„å¤–è§‚ã€‚ è¦è§£å†³æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ææ–™ã€‚ <br><br>  Three.jsæä¾›äº†10ç§å¼€ç®±å³ç”¨çš„ææ–™ï¼Œæ¯ç§ææ–™éƒ½æœ‰è‡ªå·±çš„ä¼˜åŠ¿å’Œå¯è‡ªå®šä¹‰çš„å‚æ•°ã€‚ æˆ‘ä»¬å°†åªè€ƒè™‘æœ€æœ‰ç”¨çš„éƒ¨åˆ†ã€‚ <br><br><img src="https://habrastorage.org/webt/7o/1r/av/7o1rav-we2n9_hn6e74l-6ivo6q.png"><br><br><h4> ç½‘æ ¼æ™®é€šææ–™ </h4><br>  <i>å¯¹äºå¿«é€Ÿå¯åŠ¨å’Œå¯åŠ¨å¾ˆæœ‰ç”¨ã€‚</i> <br><br> æˆ‘ä»¬å°†ä»ä¸Šé¢ç¤ºä¾‹ä¸­ä½¿ç”¨çš„å¤šè‰²æè´¨<i>MeshNormalMaterial</i>å¼€å§‹ã€‚ å®ƒå¯¹åº”äºRGBé¢æ¿ä¸­çš„æ³•å‘çŸ¢é‡ï¼Œæ¢å¥è¯è¯´ï¼Œé¢œè‰²ç”¨äºç¡®å®šçŸ¢é‡åœ¨3Dç©ºé—´ä¸­çš„ä½ç½®ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshNormalMaterial();</code> </pre> <br> è¯·æ³¨æ„ï¼Œå¦‚æœè¦æ›´æ”¹æè´¨çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨CSSæ»¤é•œå¹¶æ›´æ”¹é¥±å’Œåº¦ï¼š <pre> <code class="javascript hljs"> filter: hue-rotate(<span class="hljs-number"><span class="hljs-number">90</span></span>deg) .</code> </pre> <br><br> ä»¥æˆ‘çš„ç»éªŒï¼Œè¿™ç§ææ–™å¯¹äºå¿«é€Ÿåˆ†å±‚å’Œå¯åŠ¨æ›´ä¸ºæœ‰ç”¨ã€‚ ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶å¯¹è±¡ï¼Œæœ€å¥½ä½¿ç”¨å…¶ä»–ä¸œè¥¿ã€‚ <br><br><h4> ç½‘çŠ¶ææ–™ </h4><br>  <i>ä»…æ˜¾ç¤ºéª¨éª¼æ—¶æœ‰ç”¨ã€‚</i> <br><br> å¦‚æœè¦ç»™å›¾å½¢èµ‹äºˆå•ä¸€é¢œè‰²ï¼Œåˆ™ä»…åœ¨ä¸åº”ç”¨ç…§æ˜çš„æƒ…å†µä¸‹æ‰å¯ä»¥ä½¿ç”¨<i>MeshBasicMaterial</i> ã€‚ æˆ‘å‘ç°ä½¿ç”¨è¯¥æè´¨æ¥æ¸²æŸ“æ¨¡å‹çš„éª¨æ¶å¾ˆæœ‰ç”¨ã€‚ è¦ä»…ç»˜åˆ¶éª¨æ¶ï¼Œæ‚¨éœ€è¦ä¼ é€’<i>{wireframeï¼štrue}</i>ä½œä¸ºå‚æ•°ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshBasicMaterial({ <span class="hljs-attr"><span class="hljs-attr">wireframe</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span> });</code> </pre> <br> è¿™ç§ææ–™çš„ä¸»è¦ç¼ºç‚¹æ˜¯æœ‰å…³ææ–™æ·±åº¦çš„ä¿¡æ¯ä¼šå®Œå…¨ä¸¢å¤±ã€‚ æ¯ç§æè´¨éƒ½å¯ä»¥é€‰æ‹©ä»…æ˜¾ç¤ºéª¨éª¼ï¼Œä½†æ˜¯åªæœ‰ä¸€ç§æè´¨å¯ä»¥è§£å†³æ·±åº¦ä¸è¶³çš„é—®é¢˜<i>-MeshDepthMaterial</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/ZEzwERw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4> ç½‘çŠ¶ææ–™ </h4><br>  <i>å¯¹äºé«˜æ€§èƒ½ä½†ç²¾åº¦è¾ƒä½æœ‰ç”¨ã€‚</i> <br><br> è¿™æ˜¯è€ƒè™‘å…‰çš„ç¬¬ä¸€ç§ææ–™ï¼Œå› æ­¤æ‚¨éœ€è¦å‘åœºæ™¯æ·»åŠ ä¸€äº›å…‰ã€‚ åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ å¸¦æœ‰é»„è‰²è°ƒçš„èšå…‰ç¯ä»¥åˆ›å»ºæ¸©æš–çš„æ•ˆæœã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> scene = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Scene(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xeeeece</span></span>); frontSpot.position.set(<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>); scene.add(frontSpot); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xddddce</span></span>); frontSpot2.position.set(<span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>); scene.add(frontSpot2);</code> </pre> <br> ç°åœ¨ä¸ºæˆ‘ä»¬çš„å›¾æ·»åŠ ææ–™ã€‚ ç”±äºæˆ‘ä»¬çš„èº«æå°±åƒè£…é¥°ï¼Œæˆ‘å»ºè®®æ·»åŠ æ›´å¤šçš„é‡‘è‰²ã€‚ å¦ä¸€ä¸ªå‚æ•°<i>emissive</i>æ˜¯æ¥è‡ªå¯¹è±¡æœ¬èº«ï¼ˆæ²¡æœ‰å…‰æºï¼‰çš„å¯¹è±¡é¢œè‰²ã€‚ é€šå¸¸ï¼Œè¿™åœ¨æ·±è‰²æƒ…å†µä¸‹æ•ˆæœæ›´å¥½-ä¾‹å¦‚ï¼Œåœ¨ç°è‰²çš„æ·±è‰²é˜´å½±ä¸­ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤º <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshLambertMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/OJLdJGz" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé¢œè‰²æˆ–å¤šæˆ–å°‘æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯é¢œè‰²ä¸ç¯å…‰çš„äº¤äº’æ–¹å¼å¹¶æ²¡æœ‰å¢åŠ çœŸå®æ„Ÿã€‚ è¦è§£å†³æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<i>MeshPhongMaterial</i>æˆ–<i>MeshStandardMaterialã€‚</i> <br><br><h4> ç½‘çŠ¶ææ–™ </h4><br>  <i>å¯¹äºä¸­ç­‰æ€§èƒ½å’Œä¸­ç­‰ç²¾åº¦å¾ˆæœ‰ç”¨ã€‚</i> <br><br> è¿™ç§ææ–™å¯ä»¥åœ¨æ€§èƒ½å’Œæ¸²æŸ“ç²¾åº¦ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œå› æ­¤å¯¹äºéœ€è¦é«˜æ•ˆä¸”æ¸²æŸ“æ¯”<i>MeshLambertMaterial</i>æ›´é«˜çš„åº”ç”¨ç¨‹åºï¼Œè¯¥ææ–™æ˜¯ä¸é”™çš„é€‰æ‹©<i>ã€‚</i> <br><br> ç°åœ¨æˆ‘ä»¬å¯ä»¥æ›´æ”¹<i>é•œé¢åå°„</i>å±æ€§ï¼Œè¯¥å±æ€§ä¼šå½±å“è¡¨é¢åå°„çš„äº®åº¦å’Œé¢œè‰²ã€‚ å¦‚æœå‘å°„å±æ€§é€šå¸¸æ˜¯æ·±è‰²çš„ï¼Œåˆ™<i>é•œé¢åå°„</i>æœ€é€‚åˆæµ…è‰²ã€‚ ä¸‹é¢æˆ‘ä»¬ç”¨æµ…ç°è‰²ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshPhongMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xbcbcbc</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/YzKBwwQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> ä»è§†è§‰ä¸Šçœ‹ï¼Œä¸Šæ–¹çš„å›¾åƒæ›´ä»¤äººä¿¡æœåœ°åå°„äº†å…‰çº¿ï¼Œä½†ä»ä¸å®Œç¾ã€‚ ç™½å…‰å¤ªäº®ï¼Œå¹¶ä¸”ææ–™çœ‹èµ·æ¥æ¯”é‡‘å±æ›´æœ‰æ£±çº¹ï¼ˆæˆ‘ä»¬ä¸ºæ­¤åŠªåŠ›ï¼‰ã€‚ ä½¿ç”¨<i>MeshStandardMaterial</i>å¯ä»¥è·å¾—æ›´å¥½çš„ç»“æœ<i>ã€‚</i> <br><br><h4> ç½‘æ ¼æ ‡å‡†ææ–™ </h4><br>  <i>å¯¹äºé«˜ç²¾åº¦ä½†ä½ç”Ÿäº§ç‡å¾ˆæœ‰ç”¨ã€‚</i> <br><br> è¿™æ˜¯æ‰€æœ‰è®¾å¤‡ä¸­æœ€ç²¾ç¡®çš„ææ–™ï¼Œå°½ç®¡ä½¿ç”¨å®ƒä¼šå¸¦æ¥ä½¿ç”¨æ›´å¤šåŠŸç‡çš„æˆæœ¬ã€‚  <i>MeshStandartMaterial</i>ä¸å…¶ä»–<i>é‡‘å±</i> <i>åº¦</i>å’Œ<i>ç²—ç³™åº¦</i>å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œæ¯ä¸ªå‚æ•°çš„å–å€¼èŒƒå›´ä¸º0åˆ°1ã€‚ <br><br>  <i>é‡‘å±æ€§</i>å‚æ•°ä¼šå½±å“å¯¹è±¡çš„åå°„æ–¹å¼ï¼Œä½¿å…¶æ›´æ¥è¿‘é‡‘å±çš„æ€§è´¨ã€‚ è¿™æ˜¯å› ä¸ºï¼Œä¸é‡‘å±ç­‰ç”µä»‹è´¨ä¸åŒï¼Œé‡‘å±ç­‰å¯¼ç”µææ–™å…·æœ‰ä¸åŒçš„åå°„ç‰¹æ€§ã€‚ <br><br>  <i>ç²—ç³™åº¦</i>ä¸ºå®šåˆ¶å¢åŠ äº†ä¸€å±‚ã€‚ æ‚¨å¯ä»¥æƒ³è±¡å®ƒä¸å…‰æ³½ç›¸åï¼š0-éå¸¸å…‰æ³½ï¼Œ1-éå¸¸å“‘å…‰ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshStandardMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xfcc742</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xffffff</span></span>, <span class="hljs-attr"><span class="hljs-attr">metalness</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">roughness</span></span>: <span class="hljs-number"><span class="hljs-number">0.55</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://codepen.io/BretCameron/embed/preview/gOYqPMv" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> è¿™æ˜¯Three.jsä¸­ä»‹ç»çš„æœ€ç°å®çš„ææ–™ï¼Œä¹Ÿæ˜¯æœ€è€—èµ„æºçš„ <br><br> æˆ‘ä»¬ä¸‹é¢è®¨è®ºçš„ææ–™æ˜¯æˆ‘æœ€å¸¸é‡åˆ°çš„ææ–™ï¼Œæ‚¨å¯ä»¥åœ¨æ‰©å±•åä¸­çœ‹åˆ°æ‰€æœ‰é€‰é¡¹ã€‚ <br><br><h3> è£…è½½æœº </h3><br> å¦‚ä¸Šæ‰€è¿°ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨å®šä¹‰å‡ ä½•å’Œå¤šè¾¹å½¢ç½‘æ ¼ã€‚ å®é™…ä¸Šï¼Œäººä»¬ç»å¸¸ä»æ–‡ä»¶ä¸­åŠ è½½å…¶å‡ ä½•å½¢çŠ¶ã€‚ å¹¸è¿çš„æ˜¯ï¼ŒThree.jså‡ ä¹æ²¡æœ‰æ”¯æŒè®¸å¤š3Dæ ¼å¼çš„ä¸‹è½½å™¨ã€‚ <br><br> ä¸»<i>ObjectLoader</i>ä½¿ç”¨<i>JSON Object / Sceneæ ¼å¼</i>åŠ è½½JSONæ–‡ä»¶ã€‚ å¤§å¤šæ•°å¼•å¯¼åŠ è½½ç¨‹åºéœ€è¦æ‰‹åŠ¨å¯¼å…¥ã€‚ æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°å—æ”¯æŒçš„å¼•å¯¼ç¨‹åºçš„å®Œæ•´åˆ—è¡¨å¹¶å¯¼å…¥å®ƒä»¬ã€‚ ä»¥ä¸‹æ˜¯æ‚¨å¯ä»¥å¯¼å…¥çš„å†…å®¹çš„å°æ¸…å•ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// GLTF import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'; // OBJ import { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js'; // STL import { STLLoader } from 'three/examples/jsm/loaders/STLLoader.js'; // FBX import { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js'; // 3MF import { 3MFLoader } from 'three/examples/jsm/loaders/3MFLoader.js';</span></span></code> </pre> <br> æ¨èçš„åœ¨çº¿æŸ¥çœ‹æ ¼å¼æ˜¯GLTFï¼Œå› ä¸ºè¯¥æ ¼å¼â€œæ—¨åœ¨äºåœ¨è¿è¡Œæ—¶äº¤ä»˜èµ„äº§ï¼Œä¾¿äºä¼ è¾“å’Œå¿«é€Ÿä¸‹è½½â€ã€‚ <br><br> å½“ç„¶ï¼Œå¯èƒ½æœ‰è®¸å¤šåŸå› åçˆ±æŸç§ç±»å‹çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœè´¨é‡ä¼˜å…ˆæˆ–3Dæ‰“å°éœ€è¦å‡†ç¡®æ€§ï¼‰ã€‚ å¯¼å…¥GLTFæ—¶ï¼Œæœ€ä½³çš„åœ¨çº¿æ€§èƒ½ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GLTFLoader } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../models/sample.gltf'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GLTFLoader(); loader.load(model, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">geometry</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// if the model is loaded successfully, add it to your scene here }, undefined, function (err) { console.error(err); });</span></span></code> </pre> <br><h3> å…¨éƒ¨æ”¾åœ¨ä¸€èµ· </h3><br>  Three.jsçœ‹ä¸Šå»ä»¤äººç”Ÿç•çš„åŸå› ä¹‹ä¸€æ˜¯ï¼Œæ‚¨å¯ä»¥åªç”¨å‡ è¡Œä»£ç å°±å¯ä»¥åˆ›å»ºä¸€äº›å†…å®¹ã€‚ åœ¨ä¸Šé¢çš„æ¯ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåœºæ™¯å’Œä¸€ä¸ªæ‘„åƒæœºã€‚ ä¸ºç®€åŒ–èµ·è§ï¼Œæˆ‘å°†æ­¤ä»£ç ä¿ç•™åœ¨å®¡æŸ¥èŒƒå›´ä¹‹å¤–ï¼Œä½†ç°åœ¨æˆ‘ä»¬å°†çœ‹åˆ°å®ƒä»¬çš„å¤–è§‚ã€‚ <br><br> ç»„ç»‡ä»£ç çš„æ–¹å¼å–å†³äºæ‚¨ã€‚ åœ¨è¾ƒç®€å•çš„ç¤ºä¾‹ï¼ˆå¦‚æœ¬æ–‡ï¼‰ä¸­ï¼Œå°†æ‰€æœ‰ä»£ç éƒ½å†™åœ¨ä¸€ä¸ªåœ°æ–¹æ˜¯æœ‰æ„ä¹‰çš„ã€‚ ä½†æ˜¯åœ¨å®è·µä¸­ï¼Œå°†å„ä¸ªå…ƒç´ åˆ†å¼€æ˜¯æœ‰ç”¨çš„ï¼Œä»¥ä¾¿æ‰©å±•ä»£ç åº“åŠå…¶ç®¡ç†ã€‚ <br><br> ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ç»˜åˆ¶ä¸ºå•ä¸ªå¯¹è±¡çš„å…ƒç´ ï¼Œå› æ­¤å°†æ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Import dependencies import * as THREE from 'three'; import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'; //   const scene = new THREE.Scene(); scene.background = new THREE.Color(0x282c34); //  ,       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000); camera.position.z = 5; //  ""      const renderer = new THREE.WebGLRenderer(); renderer.setSize(window.innerWidth, window.innerHeight); //   DOM   renderer.domElement   document.getElementById('threejs').appendChild(renderer.domElement); //  ,      DOM  let controls = new OrbitControls(camera, document.getElementById('threejs')); controls.target.set(0, 0, 0); controls.rotateSpeed = 0.5; controls.update(); //  ( )   const geometry = new THREE.TorusKnotGeometry(10, 1.3, 500, 6, 6, 20); //    const material = new THREE.MeshStandardMaterial({ color: 0xfcc742, emissive: 0x111111, specular: 0xffffff, metalness: 1, roughness: 0.55, }); //   ,       const mesh = new THREE.Mesh(geometry, material); mesh.scale.x = 0.1; mesh.scale.y = 0.1; mesh.scale.z = 0.1; scene.add(mesh); //  ,       const frontSpot = new THREE.SpotLight(0xeeeece); const frontSpot2 = new THREE.SpotLight(0xddddce); frontSpot.position.set(1000, 1000, 1000); frontSpot2.position.set(-500, -500, -500); scene.add(frontSpot); scene.add(frontSpot2); //   ,           const animate = function () { requestAnimationFrame(animate); mesh.rotation.x += 0.005; mesh.rotation.y += 0.005; mesh.rotation.z += 0.005; renderer.render(scene, camera); }; //    animate();</span></span></code> </pre> <br><h3> æˆ‘éœ€è¦ä½¿ç”¨æ¡†æ¶å—ï¼Ÿ </h3><br> æœ€åï¼Œæ˜¯æ—¶å€™è®¨è®ºæ˜¯å¦è¦åœ¨æ‚¨å–œæ¬¢çš„æ¡†æ¶ä¸­ä½¿ç”¨Three.jsï¼Ÿ ç›®å‰ï¼ŒReactæœ‰ä¸€ä¸ªå¾ˆå¥½çš„<i>react-three-fiber</i>è½¯ä»¶åŒ…ã€‚ å¯¹äºReactç”¨æˆ·ï¼Œä½¿ç”¨è¿™æ ·çš„åŒ…æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿-æ‚¨ç»´æŠ¤äº†ä¸€ç§ç”¨äºå¤„ç†ç»„ä»¶çš„ç»“æ„ï¼Œè¯¥ç»“æ„å…è®¸æ‚¨é‡ç”¨ä»£ç ã€‚ <br><br> å¯¹äºåˆå­¦è€…ï¼Œæˆ‘å»ºè®®æ‚¨ä»é€šå¸¸çš„<i>Vanila JSå¼€å§‹</i> ï¼Œå› ä¸ºæœ‰å…³Three.jsçš„å¤§å¤šæ•°åœ¨çº¿ææ–™éƒ½ä¸Vanila JSä¸Šçš„Three.jsæœ‰å…³ã€‚ æ ¹æ®æˆ‘çš„å­¦ä¹ ç»éªŒï¼Œè¿™å¯èƒ½ä¼šä»¤äººå›°æƒ‘å¹¶ä¸”å¾ˆéš¾é€šè¿‡ä¸€ä¸ªåŒ…æ¥å­¦ä¹ -ä¾‹å¦‚ï¼Œæ‚¨å°†ä¸å¾—ä¸å°†Three.jså¯¹è±¡å’Œæ–¹æ³•è½¬æ¢ä¸ºç»„ä»¶å’Œé“å…·ã€‚  ï¼ˆä¸€æ—¦æ‚¨å­¦ä¹ Three.jsï¼Œå°±å¯ä»¥ä½¿ç”¨ä»»ä½•åŒ…ï¼‰ã€‚ <br><br><h3> å¦‚ä½•å°†Three.jsæ·»åŠ åˆ°æ¡†æ¶ </h3><br>  Three.jsæä¾›äº†ä¸€ä¸ªHTMLå¯¹è±¡ï¼ˆæœ€å¸¸ç§°ä¸º<i>renderer.domElement</i> ï¼‰ï¼Œå¯ä»¥å°†å…¶æ·»åŠ åˆ°åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•HTMLå¯¹è±¡ä¸­ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ª<i>id =â€œ threejsâ€</i>çš„<i>div</i> ï¼Œåˆ™å¯ä»¥åœ¨Three.jsä»£ç ä¸­ç®€å•åœ°åŒ…å«ä»¥ä¸‹ä»£ç ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'threejs'</span></span>).appendChild(renderer.domElement);</code> </pre> <br> ä¸€äº›æ¡†æ¶å…·æœ‰è®¿é—®æ ‘çš„DOMèŠ‚ç‚¹çš„é¦–é€‰è·¯å¾„ã€‚ ä¾‹å¦‚ï¼ŒReactä¸­çš„<i>ref</i> ï¼ŒVueä¸­çš„<i>$ ref</i>æˆ–<i>Angular</i>ä¸­çš„<i>ngRefï¼Œ</i>åœ¨ç›´æ¥è®¿é—®DOMå…ƒç´ çš„èƒŒæ™¯ä¸‹ï¼Œå®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªå·¨å¤§çš„åŠ å·ã€‚ ä½œä¸ºç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹Reactçš„å¿«é€Ÿå®ç°ã€‚ <br><br><h3> ååº”ç­–ç•¥ </h3><br> å¦‚æœä½¿ç”¨Reactï¼Œé‚£ä¹ˆæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å°†Three.jsæ–‡ä»¶åµŒå…¥åˆ°æ‚¨çš„ç»„ä»¶ä¹‹ä¸€ä¸­ã€‚ åœ¨æ–‡ä»¶<i>ThreeEntryPoint.jsä¸­ï¼Œ</i>æˆ‘ä»¬å°†ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ThreeEntryPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sceneRef</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> renderer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.WebGLRenderer(); <span class="hljs-comment"><span class="hljs-comment">// ... sceneRef.appendChild(renderer.domElement); }</span></span></code> </pre><br> æˆ‘ä»¬å°†æ­¤å¯¼å‡ºä¸ºå¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼šå¯¹ç»„ä»¶ä¸­å…ƒç´ çš„å¼•ç”¨ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„ç»„ä»¶ <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ThreeEntryPoint <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./threejs/ThreeEntryPoint'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ThreeContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ThreeEntryPoint(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;div ref={element =&gt; this.scene = element} /&gt; &lt;/&gt; ); } }</code> </pre> <br> å¯¼å…¥çš„<i>ThreeEntryPoint</i>å‡½æ•°<i>å¿…é¡»</i>åœ¨<i>componentDidMount</i>æ–¹æ³•ä¸­è°ƒç”¨ï¼Œå¹¶ä½¿ç”¨å¼•ç”¨å°†æ–°<i>div</i>ä½œä¸ºå‚æ•°ä¼ é€’ <br> ä½œä¸ºä½¿ç”¨è¿™ç§æ–¹æ³•çš„ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥å…‹éš†å­˜å‚¨åº“å¹¶è‡ªå·±å°è¯•ï¼š <a href="https://github.com/BretCameron/three-js-sample">https</a> : <a href="https://github.com/BretCameron/three-js-sample">//github.com/BretCameron/three-js-sample</a> ã€‚ <br><br><h2> ç»“è®º </h2><br> æˆ‘ä»ç„¶å¯ä»¥è°ˆè®ºThree.jsï¼Œä½†æˆ‘å¸Œæœ›æœ¬æ–‡èƒ½ç»™æ‚¨è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œä»¥å¼€å§‹ä½¿ç”¨è¿™é¡¹å¼ºå¤§çš„æŠ€æœ¯ã€‚ å½“æˆ‘å¼€å§‹å­¦ä¹ Three.jsæ—¶ï¼Œæ‰¾ä¸åˆ°åƒæœ¬æ–‡è¿™æ ·çš„å•ä¸€èµ„æºï¼Œå› æ­¤æˆ‘å¸Œæœ›æˆ‘å¯ä»¥å¸®åŠ©åˆå­¦è€…æ›´å®¹æ˜“åœ°ä½¿ç”¨è¯¥æŠ€æœ¯ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477956/">https://habr.com/ru/post/zh-CN477956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477934/index.html">æˆ¿ä¸œåœ¨é»‘è‰²æ˜ŸæœŸäº”2019çš„æŠ˜æ‰£</a></li>
<li><a href="../zh-CN477936/index.html">ITå­—å…¸è¿˜æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨å“ª å»å“ªé‡Œ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN477940/index.html">åˆ›å»ºAndroidåº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨çš„åŸºå‡†ORM</a></li>
<li><a href="../zh-CN477950/index.html">åæ¬ºè¯ˆçš„ç¬¬ä¸€æ¡è§„åˆ™æ˜¯ä¸å‘Šè¯‰ä»»ä½•äººåæ¬ºè¯ˆ</a></li>
<li><a href="../zh-CN477954/index.html">ç­”æ¡ˆå¸–å¦‚ä½•ä½¿äº’è”ç½‘æ›´æ™ºèƒ½</a></li>
<li><a href="../zh-CN477958/index.html">æ–°çš„é«˜ç§‘æŠ€çŠ¯ç½ªè¶‹åŠ¿æŠ¥å‘Š2019/2020 Group-IBçš„åå¤§è¶‹åŠ¿</a></li>
<li><a href="../zh-CN477964/index.html">ä»æ„æ€åˆ°é¦–æ¬¡é”€å”®ä¸¤ä¸ªæœˆï¼šGenesiså›¢é˜Ÿç»éªŒ</a></li>
<li><a href="../zh-CN477966/index.html">å‚åŠ è€…çš„çœ¼ä¸­çš„HolyJS 2019è«æ–¯ç§‘</a></li>
<li><a href="../zh-CN477968/index.html">æ‰è¿›å…”å­æ´ï¼šå…³äºä¸€ä¸ªæ¸…æ¼†é‡å¯é”™è¯¯çš„æ•…äº‹-ç¬¬1éƒ¨åˆ†</a></li>
<li><a href="../zh-CN477976/index.html">ä½¿ç”¨å›¾çš„å¯è§†åŒ–å’Œç¤¾åŒºç»“æ„åˆ†æ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>