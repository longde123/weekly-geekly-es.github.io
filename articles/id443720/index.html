<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌠 😼 🍓 Detail 🔗 🚵🏾 🍊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seberapa sering Anda mencapai 404 halaman? Biasanya, mereka tidak ditata dan tetap default. Baru-baru ini saya menemukan test.do.am yang karakter inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Detail</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443720/"> Seberapa sering Anda mencapai 404 halaman?  Biasanya, mereka tidak ditata dan tetap default.  Baru-baru ini saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">test.do.am</a> yang karakter interaktifnya menarik perhatian dan menghidupkan halaman kesalahan. <br><br>  Mungkin, hanya ada gambar kucing, lalu mereka memikirkan gerakan mata dan pengembang menerapkan ide tersebut. <img src="https://habrastorage.org/webt/b9/ac/cn/b9accnbv6mfn6iopfvyz8tkzr_s.png" alt="gambar">  Sekarang pengguna mengunjungi halaman dan memeriksa efeknya.  Ini fitur kecil yang keren dan menyenangkan, menangkap, lalu pengguna mendiskusikannya dengan kolega atau teman dan bahkan mengulangi fitur tersebut.  Bisa semudah ini, jika tidak: <a name="habracut"></a><br><br><ol><li>  Titik tengah tidak diperbarui saat pengguna mengubah ukuran jendela.  Buka jendela browser dengan viewport lebar kecil dan ubah ukuran ke layar penuh, kucing tidak melihat kursor. </li><li>  Titik tengah ditempatkan di mata kiri, bukan di tengah teropong lingkaran. </li><li>  Saat pengguna mengarahkan kursor di antara mata, apel mata tidak bertemu dan tidak fokus.  Mata mencari sampai tak terhingga, itu sebabnya kucing itu tidak memandang penggunanya, itu melaluinya. </li><li>  Gerakan mata langsung, mereka harus halus. </li><li>  Pergerakan apel terjadi karena perubahan margin-kiri / margin-atas.  Itu salah, cari penjelasan di bawah. </li><li>  Mata tidak bergerak jika kursor berada di bawah kaki. </li></ol><br>  <b>Apa yang saya sarankan</b> <br><br>  Sebagai permulaan, mari kita lakukan gerakan mata tanpa cacat. <br><br>  1. Siapkan markup <br><br><pre><code class="javascript hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"cat"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cat__eye _left"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"cat__eye _right"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/div&gt;</span></span></code> </pre> <br>  2. Dapatkan tautan ke elemen mata <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cat = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.cat'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eyes = cat.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.cat__eye'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eye_left = eyes[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> eye_right = eyes[<span class="hljs-number"><span class="hljs-number">1</span></span>];</code> </pre> <br>  3. Daftarkan pendengar acara mousemove dan dapatkan koordinat kursor: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseY; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'mousemove'</span></span>, e =&gt; { mouseX = e.clientX; mouseY = e.clientY; })</code> </pre><br>  Saya menambahkan pendengar mousemove pada objek jendela, bukan dokumen tubuh, karena saya perlu menggunakan semua layar untuk mendapatkan koordinat mouse. <br><br>  4. Gerakan <br>  Karena saya akan memperlancar gerakan, saya tidak bisa mengelolanya dalam handler mousemove. <br><br>  Tambahkan metode pembaruan yang akan diambil oleh requestAnimationFrame yang disinkronkan dengan pembaruan browser.  Biasanya pembaruan terjadi 60 kali per detik, oleh karena itu kami melihat 60 foto per detik setiap 16,6 ms. <br><br>  Jika pengembang menganggap browser pengguna tidak dapat mendukung requestAnimationFrame, pengembang dapat menggunakan setTimeout mundur atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">polyfill yang sudah jadi</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.requestAnimationFrame = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.requestAnimationFrame || <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.webkitRequestAnimationFrame || <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.mozRequestAnimationFrame || <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(callback, <span class="hljs-number"><span class="hljs-number">1000</span></span> / <span class="hljs-number"><span class="hljs-number">60</span></span>); }; })();</code> </pre> <br>  Untuk memperbarui atau stabil mengambil pembaruan dalam waktu, saya mendaftar variabel mulai <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> started = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mouseY; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'mousemove'</span></span>, e =&gt; { mouseX = e.clientX; mouseY = e.clientY; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!started){ started = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; update(); } }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Here comes eyes movement magic requestAnimationFrame(update); }</span></span></code> </pre> <br>  Dengan cara ini saya terus mendapatkan metode pembaruan dan koordinat kursor.  Maka saya perlu mendapatkan nilai gerakan apel di dalam mata. <br><br>  Saya mencoba menggerakkan kedua mata sebagai elemen tunggal <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dx = mouseX - eyesCenterX; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dy = mouseY - eyesCenterY; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> angle = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.atan2(dy, dx); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> distance = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sqrt(dx * dx + dy * dy); distance = distance &gt; EYES_RADIUS ? EYES_RADIUS : distance; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(angle) * distance; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sin(angle) * distance; eye_left.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span>; eye_right.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span>;</code> </pre> <br>  Cukup sederhana: temukan dx dan dy, yang merupakan koordinat perbedaan antara pusat mata dan mouse, temukan sudut dari pusat ke kursor, menggunakan metode Math.cos dan Math.sin mendapatkan nilai pergerakan untuk horizontal dan vertikal.  Gunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">operator ternary</a> dan batasi area pergerakan mata. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/mazqQd" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Nilai Y diberikan pertama untuk metode Math.atan2, kemudian nilai x.  Akibatnya pengguna memperhatikan gerakan mata yang tidak alami dan tidak ada fokus. <br><br>  Buat setiap mata bergerak dan menonton tanpa referensi satu sama lain. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// left eye let left_dx = mouseX - eyesCenterX + 48; let left_dy = mouseY - eyesCenterY; let left_angle = Math.atan2(left_dy, left_dx); let left_distance = Math.sqrt(left_dx * left_dx + left_dy * left_dy); left_distance = left_distance &gt; EYES_RADIUS ? EYES_RADIUS : left_distance; let left_x = Math.cos(left_angle) * left_distance; let left_y = Math.sin(left_angle) * left_distance; eye_left.style.transform = 'translate(' + left_x + 'px,' + left_y + 'px)'; // right eye let right_dx = mouseX - eyesCenterX - 48; let right_dy = mouseY - eyesCenterY; let right_angle = Math.atan2(right_dy, right_dx); let right_distance = Math.sqrt(right_dx * right_dx + right_dy * right_dy); right_distance = right_distance &gt; EYES_RADIUS ? EYES_RADIUS : right_distance; let right_x = Math.cos(right_angle) * right_distance; let right_y = Math.sin(right_angle) * right_distance; eye_right.style.transform = 'translate(' + right_x + 'px,' + right_y + 'px)';</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/BvvoKM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Menarik tetapi lebih buruk dari hasil sebelumnya, mata bergerak naik dan turun secara mandiri.  Jadi saya menggunakan demo pertama sebagai mekanik gerakan dasar dan membuat apel mata bertemu ketika kursor adalah tentang pusat karakter. <br><br>  Saya tidak akan menjelaskan seluruh kode, harap temukan hasilnya sebagai berikut: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/ebbpgd" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dengan coba-coba, saya telah mencocokkan parameter yang diperlukan untuk gerakan mata dan pemfokusan.  Jadi sekarang saya perlu perataan. <br><br>  <b>Menghaluskan</b> <br><br>  Tautkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pustaka TweenMax</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beri</a> kode sesuatu seperti ini? <br><br><pre> <code class="javascript hljs">TweenMax.to( eye, <span class="hljs-number"><span class="hljs-number">0.15</span></span>, {<span class="hljs-attr"><span class="hljs-attr">x</span></span>: x, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: y});</code> </pre> <br>  Menghubungkan seluruh lib untuk tugas sederhana tidak masuk akal, oleh karena itu, saya membuat perataan dari awal. <br><br>  Letakkan case bahwa hanya ada satu elemen mata pada halaman dan area pemindahannya tidak terbatas sama sekali.  Untuk memperlancar nilai koordinat mouse, saya menggunakan mekanisme ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SMOOTHING = <span class="hljs-number"><span class="hljs-number">10</span></span>; x += (needX - x) / SMOOTHING; y += (needY - y) / SMOOTHING; eye.style.transform = <span class="hljs-string"><span class="hljs-string">'translate3d('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px,0)'</span></span>;</code> </pre> <br>  Saya menggunakan translate3d untuk memisahkan mata ke aliran rendering lain dan mempercepatnya. <br><br>  Caranya adalah bahwa setiap 16,6 ms (60 foto per detik) variabel x dan y cenderung nilai yang dibutuhkan.  Setiap pembaruan menutup nilai sesuai yang dibutuhkan untuk perbedaan 1/10. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> needX = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> SMOOTHING = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ x += (needX - x) / SMOOTHING; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x); }</code> </pre> <br>  Kemudian setiap pembaruan 16,6 ms kami mendapatkan smoothing sederhana dan nilai x berikutnya (kira-kira): <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">75</span></span> <span class="hljs-number"><span class="hljs-number">87.5</span></span> <span class="hljs-number"><span class="hljs-number">93.75</span></span> <span class="hljs-number"><span class="hljs-number">96.875</span></span> <span class="hljs-number"><span class="hljs-number">98.4375</span></span> <span class="hljs-number"><span class="hljs-number">99.21875</span></span> <span class="hljs-number"><span class="hljs-number">99.609375</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br>  Beberapa trik yang tidak terlihat: <br><br>  - Mulai pemeriksaan ini untuk mengoptimalkan beban kerja <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(x != needX || y != needY){ eye.style.transform = <span class="hljs-string"><span class="hljs-string">'translate3d('</span></span> + x + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px,0)'</span></span>; }</code> </pre> <br>  Tetapi Anda harus menyamakan x dengan needX ketika mereka sedekat posisi mata hampir sama <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(x - needX) &lt; <span class="hljs-number"><span class="hljs-number">0.25</span></span>){ x = needX; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(y - needY) &lt; <span class="hljs-number"><span class="hljs-number">0.25</span></span>){ y = needY; }</code> </pre> <br>  Kalau tidak, nilai x dan y akan mencapai needX dan needY terlalu lama;  tidak akan ada perbedaan visual, tetapi setiap perubahan layar akan memengaruhi gaya mata.  Tapi kamu bisa bermain-main dengan itu sendiri. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> needX = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> smoothing = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ x += (needX - x) / smoothing; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.abs(x - needX) &gt; <span class="hljs-number"><span class="hljs-number">0.25</span></span> ){ <span class="hljs-comment"><span class="hljs-comment">// replace 0.25 with anything else and check number of x renewals. window.requestAnimationFrame(update); } else { x = needX; } console.log( x.toString(10) ); } update();</span></span></code> </pre> <br>  - Jika mekanika di atas jelas, Anda dapat membuat efek yang lebih kompleks, misalnya pegas.  Perkiraan smoothing dan kursor yang paling sederhana terlihat seperti ini: <br><br><pre> <code class="javascript hljs">x += (mouseX - x) / smoothing; y += (mouseY - y) / smoothing;</code> </pre><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/eQXvvq" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Tambahkan smoothing perbedaan antara nilai koordinat yang dibutuhkan dan saat ini. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/NEJpeJ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Terkadang keterbatasan perkiraan masuk akal.  Ada contoh di atas di mana nilai berubah dari 0 hingga 100, jadi pada nilai iterasi pertama mencapai "50", itu adalah angka yang cukup besar untuk 1 langkah.  Mekanik ini agak mengingatkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">paradoks Achilles dan kura-kura</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/michaelchistyakov/embed/preview/PVYKRK" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Mengedipkan mata</b> <br><br>  Sembunyikan dan perlihatkan apel mata setiap 2-3 detik.  Metode yang paling sepele adalah "display: none;", "transform: scaleY (N)" dengan nilai dinamis skala y sedikit lebih kompleks. <br><br>  Buat 2 konstanta <br><br>  const BLINK_COUNTER_LIMIT = 180;  - jumlah pembaruan sebelum mulai berkedip, <br>  const BLINKED_COUNTER_LIMIT = 6;  - Jumlah pembaruan selama satu wink. <br><br>  Dan 2 variabel, yang nilainya akan mengubah setiap pembaruan. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkedCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  Kode mengedipkan mata <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blinkTransform = <span class="hljs-string"><span class="hljs-string">''</span></span>; blinkCounter++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(blinkCounter &gt; BLINK_COUNTER_LIMIT){ blinkedCounter++ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(blinkedCounter &gt; BLINKED_COUNTER_LIMIT){ blinkCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { blinkTransform = <span class="hljs-string"><span class="hljs-string">' scaleY('</span></span> + (blinkedCounter / BLINKED_COUNTER_LIMIT) + <span class="hljs-string"><span class="hljs-string">')'</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { blinkedCounter = <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  BlinkTransform adalah variabel stroke yang memiliki nilai kosong antara mengedipkan mata dan mengikutinya selama mengedipkan mata <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">' scaleY(0.17)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.33)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.50)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.67)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(0.83)'</span></span> <span class="hljs-string"><span class="hljs-string">' scaleY(1.00)'</span></span></code> </pre> <br>  Semua perhitungan memberikan Transform blink variabel, nilai yang harus ditambahkan ke kode css transformasi posisi mata.  Jadi string kosong akan ditambahkan jika turun 3 detik dan tidak berpengaruh pada skala mata, nilai css ditambahkan selama berkedip. <br><br><pre> <code class="javascript hljs">eye_left.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + xLeft + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span> + blinkTransform; eye_right.style.transform = <span class="hljs-string"><span class="hljs-string">'translate('</span></span> + xRight + <span class="hljs-string"><span class="hljs-string">'px,'</span></span> + y + <span class="hljs-string"><span class="hljs-string">'px)'</span></span> + blinkTransform;</code> </pre><br>  <b>Pelajaran dari ceritanya</b> <br><br>  Setiap hari kita bertemu hal-hal yang tampak sederhana dan jelas dan kita bahkan tidak mengerti bahwa kesederhanaan eksternal ini menyembunyikan sejumlah besar pertanyaan dan perbaikan.  Menurut pendapat saya, setan ada dalam perincian yang membentuk seluruh hasil akhir.  Muhammad Ali petinju terbaik abad ke-20 mengangkat tumit kaki belakang pada saat pukulan lurus.  Manuver ini meningkatkan jarak pukulan efektif dan memberinya lebih banyak peluang untuk menang.  Selalu berhasil. <br><br>  <i>PS Saya tidak memiliki hubungan dengan situs web dan berharap pemiliknya tidak akan tersinggung dengan komentar saya.</i>  <i>Untuk kenyamanan saya beri nama apple of the eye = eye dalam kode.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443720/">https://habr.com/ru/post/id443720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443708/index.html">Misi Chang'e 4 adalah hari ketiga di bulan. Rover "Yutu-2" untuk mencari ... batu</a></li>
<li><a href="../id443710/index.html">Java Challengers # 4: Membandingkan objek dengan equals () dan hashCode ()</a></li>
<li><a href="../id443714/index.html">ControlValueAccessor dan contenteditable di Angular</a></li>
<li><a href="../id443716/index.html">"Aku punya cadangan di kaset saya." Kisah orang pertama</a></li>
<li><a href="../id443718/index.html">Game fantasi dengan 300 ribu balapan</a></li>
<li><a href="../id443722/index.html">Desain dan penamaan antrian</a></li>
<li><a href="../id443724/index.html">AMD Radeon VII: Chip High-End (Bagian 1)</a></li>
<li><a href="../id443726/index.html">Fitur Pengaturan Palo Alto Networks: SSL VPN</a></li>
<li><a href="../id443728/index.html">Google Plus berhenti bekerja. Jadi apa</a></li>
<li><a href="../id443730/index.html">Ctrl-Alt-Del: keusangan programer yang direncanakan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>