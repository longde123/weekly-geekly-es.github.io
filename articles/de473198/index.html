<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßìüèæ üêò üëê Schrittmotortreiber. Testen des L9110-Chips üçù üß¶ ü§µ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Woher wachsen die ‚ÄûBeine‚Äú? 
 Verschiedene softwaregesteuerte Werkzeugmaschinen sind jetzt verf√ºgbar und haben an Popularit√§t gewonnen. Dies sind Laser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schrittmotortreiber. Testen des L9110-Chips</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473198/"><h3>  Woher wachsen die ‚ÄûBeine‚Äú? </h3><br>  Verschiedene softwaregesteuerte Werkzeugmaschinen sind jetzt verf√ºgbar und haben an Popularit√§t gewonnen.  Dies sind Laser- und Fr√§ser und Graveure.  Und auch 3D-Drucker.  Alle diese Maschinen haben einen gemeinsamen Knoten - einen Schrittmotor. <br><br>  Und dieser Motor braucht einen Fahrer. <br><br><img src="https://habrastorage.org/webt/dj/zp/xv/djzpxv4dljylbx-nffr4zpso0xq.jpeg"><br><br>  Das Prinzip des Motorbetriebs ist nicht Gegenstand dieses Artikels.  Wir werden nur den Fahrer betrachten.  In diesem Zusammenhang m√ºssen wir nur wissen, welche Steuersignale wir zur Steuerung des Schrittmotors erzeugen m√ºssen.  Es stellt sich heraus, dass dies die h√§ufigsten Rechteckimpulse sind. <br><br>  Es gibt eine Reihe von Treiberl√∂sungen von verschiedenen Unternehmen.  In unserem Artikel werden wir die g√ºnstigste L9110-Treiberl√∂sung und das analoge HG7881 betrachten. Diese L√∂sung wird h√§ufig in Arduino verwendet <br><br><h3>  Theorie und Praxis </h3><br>  Ich habe mich f√ºr den L9110-Chip in meinem Projekt entschieden. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ziemlich leicht gegoogeltes Datenblatt</a> .  Lesen Sie.  Alles ist sehr klar.  Eigenschaften, Pinbelegung, Wahrheitstabelle ... In jeder Hinsicht scheint der Fahrer geeignet zu sein.  Die Schaltspannung betr√§gt 12 Volt, der Ausgangsstrom betr√§gt 800 mA.  - gerade genug. <br><br><h3>  Und was ist das wirklich? </h3><br><a name="habracut"></a><br>  Ohne Verz√∂gerung in der "langen Box" habe ich ein Board gemacht, ein Testprogramm geschrieben und gestartet ... <br>  Das erste, was mir an meinem Ger√§t aufgefallen ist, ist, dass der Treiberchip sehr hei√ü ist.  Achtung!  Leerlauf.  Keine Last.  Was sind diese Wunder der Schaltung? <br>  Vielleicht ist mein Chip defekt? <br><br>  Es kam die Idee, dieses Ger√§t genauer zu betrachten.  Und nicht einer, sondern ein Haufen. <br>  Kaum gesagt als getan. <br>  Es ist gut, dass ich einen SO-8-Sockel und eine Simulationsplatine auf Lager hatte. <br>  Nun, und ein Controller basierend auf STM32. <br><br>  Der St√§nder wurde zusammengebaut und gemessen. <br><br><img src="https://habrastorage.org/webt/5n/hf/xy/5nhfxyi3c1zxasa2bbnxoqxcuzo.jpeg"><br><br>  Ja, √ºbrigens zus√§tzlich zu direkt dem Leistungsknoten im Chip eingebettete Logik exklusives ODER.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">In einem Datenblatt wird es beschrieben</a> . <br><br>  Da ich den Effekt des Erhitzens der Mikroschaltung untersuche, ist es besser, mich nicht auf logische Einsen und Nullen zu beschr√§nken, sondern echte Spannungen zu entfernen. <br><br>  Als Ergebnis der Messungen wurde eine Platte erhalten: <br><br><img src="https://habrastorage.org/webt/dc/ov/zl/dcovzlvr6ihikjrrclqrgs11gzs.jpeg"><br><br>  Betrachten Sie die Zeilen 2 und 3. Was sehen wir hier? <br><br><ol><li>  Der Spannungsabfall an den Ausgangstransistoren betr√§gt bei Last etwa eineinhalb Volt, was bei einem Strom von 0,33 Ampere 0,5 Watt pro Kanal ergibt. </li><li>  Im Leerlauf verbraucht die Mikroschaltung 0,05 A, was bei einer Spannung von 12 V 0,6 Watt pro Kanal ergibt. </li></ol><br>  Mit anderen Worten, unabh√§ngig von der Last verbraucht es ungef√§hr 0,5 Watt pro Kanal.  Jetzt ist klar, warum ich mir die Finger an ihr verbrannt habe. <br><br>  Starke Erw√§rmung ist nat√ºrlich ein Nachteil.  Aber vielleicht erf√ºllt der Chip seine Funktion gut?  Hier hat sich ein k√ºrzlich angebrachtes 4-Strahl-Pr√§fix-Oszilloskop als n√ºtzlich erwiesen.  Ich hatte nicht erwartet, dass ich so bald alle 4 Strahlen brauche.  Zum Testen habe ich ein einfaches Programm auf stm32 geschrieben, das ich seit langem in verschiedenen Projekten verwende.  Das Programm erzeugt einfach 2 rechteckige Signale mit einer dreifachen Frequenzdifferenz. <br><br>  Da es besser ist, einmal zu sehen als oft zu lesen, scanne ich die Steuersignale. <br><br><img src="https://habrastorage.org/webt/1h/cn/rh/1hcnrh-zn9n2kjcrqnpdmgu1ub4.jpeg"><br><br>  Nichts zu kompliziert.  Nur Rechteckimpulse mit einer Frequenzdifferenz von 3 verschoben. <br><br>  Der obere Teil des Bildschirms - Eingangssignale - der untere - Ausgang. <br><br>  Es ist sofort ersichtlich, dass bei unterschiedlichen Werten der Signale an den Eing√§ngen die Werte an den Ausg√§ngen ziemlich klar sind. Sie werden ohne Verz√∂gerungen und mit scharfen Kanten eingestellt. <br><br>  Wenn die Signale an den Eing√§ngen √ºbereinstimmen, ist die Vorderseite sanft.  √§hnlich der Kondensatorentladung. <br>  Beim Durchsehen der Dokumentation habe ich nichts gesehen, was auf ein solches Verhalten hindeutet. <br>  Vielleicht habe ich die Eingangsfrequenz zu hoch eingestellt?  Das Datenblatt enth√§lt keine Begrenzung. <br>  Da ich bereits wusste, dass dieser Treiber ein fast 100% iges Analogon zum HG7881 hat, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wandte</a> ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mich seiner Dokumentation zu</a> . <br><br>  Sie brachte mehr Licht in diese mysteri√∂se Situation.  Es stellt sich heraus, dass die Logik des Treibers etwas breiter ist.  Zwei Einheiten am Eingang bremsen (dh am Ausgang m√ºssen beide Signale niedrig sein.) Und zwei Nullen am Eingang sind ‚Äûh√§ngende‚Äú Kontakte.  Die L√ºcke. <br><br>  Daher sollten zwei Nullen am Eingang die Ausg√§nge ‚Äûaussetzen‚Äú.  Dann ist das Verhalten des Entladungskondensators ziemlich vorhersehbar.  Zwei Einheiten an den Eing√§ngen - sollten jedoch eine zuverl√§ssige Null am Ausgang sein.  Tats√§chlich ist dies jedoch nicht der Fall. <br><br>  Ich k√∂nnte den "chinesischen Hersteller" f√ºr diesen Mangel verantwortlich machen.  Ich habe den Chip jedoch ehrlich von der Arduino-Platine verl√∂tet getestet.  An was - nicht an einem Chip.  Aus mehreren Brettern.  Das hei√üt, die Wahrscheinlichkeit einer Ehe ist stark verringert. <br><br><h3>  Fazit </h3><br>  Der Umfang der L9110-Mikroschaltung ist enger als angegeben und der Wirkungsgrad ist gering. <br>  Die Streuung von 0,5-0,6 Watt auf einer Taste ist etwas zu gro√ü.  Es ist kein Zufall, dass diese L√∂sung die billigste ist (10 Cent pro Chip. Auf aliexpress). <br><br>  In den folgenden Artikeln werden alternative Schrittmotortreiber erl√§utert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473198/">https://habr.com/ru/post/de473198/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473184/index.html">Docker + php-fpm + PhpStorm + Xdebug</a></li>
<li><a href="../de473186/index.html">Nicht triviales Layout von Elementen auf der Flexbox ohne Medienanforderungen</a></li>
<li><a href="../de473188/index.html">Vor- und Nachteile von Atlassian-Tools. Verwendung im Nicht-IT-Gesch√§ft</a></li>
<li><a href="../de473190/index.html">TAME Metformin Projekt: Meinungen sind geteilt</a></li>
<li><a href="../de473196/index.html">Skripte in sch√∂ne Werkzeuge f√ºr maschinelles Lernen verwandeln</a></li>
<li><a href="../de473200/index.html">Spielaggression oder wie aus einer Genossenschaft ein Blutbad wird und was zu tun ist, um dies zu verhindern</a></li>
<li><a href="../de473202/index.html">Testen der Lokalisierung von Handyspielen f√ºr Dummies aus einer Teekanne</a></li>
<li><a href="../de473206/index.html">Diskussion: Wie Streaming-Dienste die Musikkultur und die Herangehensweise an das Songwriting ver√§ndern</a></li>
<li><a href="../de473208/index.html">Wie ich die Arbeit an Open Source-Projekten vereinfacht habe</a></li>
<li><a href="../de473212/index.html">Investoren, die Tesla-Aktien notieren, verloren t√§glich nach dem Anstieg √ºber 1,4 Milliarden US-Dollar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>