<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯС▒ ЁЯзСЁЯП╜тАНЁЯдЭтАНЁЯзСЁЯП╗ ЁЯСиЁЯП╜тАНтЪЦя╕П Magento 2: рдЖрдпрд╛рдд рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рд╕реАрдзреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ ЁЯНТ ЁЯЩМЁЯП╝ ЁЯСйЁЯП╝тАНтЪХя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВрдиреЗ рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХреЗ рд╕реЗ Magento 2 рдореЗрдВ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ - рдореЙрдбрд▓ рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдзрд┐ рдХреЛ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Magento 2: рдЖрдпрд╛рдд рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рд╕реАрдзреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440262/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдореЗрдВ,</a> рдореИрдВрдиреЗ рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рддрд░реАрдХреЗ рд╕реЗ Magento 2 рдореЗрдВ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ - рдореЙрдбрд▓ рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред  рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдзрд┐ рдХреЛ рдмрд╣реБрдд рдХрдо рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЧрддрд┐ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред  рдореЗрд░реЗ рд▓реИрдкрдЯреЙрдк рдкрд░ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рд▓рдЧрднрдЧ рдПрдХ рдЙрддреНрдкрд╛рдж рдирд┐рдХрд▓рд╛ред  рдЗрд╕ рдирд┐рд░рдВрддрд░рддрд╛ рдореЗрдВ, рдореИрдВ рдПрдХ рдЙрддреНрдкрд╛рдж рдХреЛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рддрд░реАрдХрд╛ рдорд╛рдирддрд╛ рд╣реВрдВ - рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕реАрдзреЗ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХрд░рдХреЗ, рдореИрдЧреЗрдВрдЯреЛ 2 (рдореЙрдбрд▓, рдХрд╛рд░рдЦрд╛рдиреЛрдВ, рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА) рдХреЗ рдорд╛рдирдХ рддрдВрддреНрд░ рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рддрд╛ рд╣реВрдВред  рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреЗ рдЪрд░рдгреЛрдВ рдХрд╛ рдХреНрд░рдо рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ MySQL рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред </p><br><p> <em>рдЕрд╕реНрд╡реАрдХрд░рдг</em> : рдореИрдЧреЗрдВрдЯреЛ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЗрдЯрд╛ рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреЗ</a> рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╣реИ рдФрд░, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдЧрд░ рдЖрдкрдХреЛ рдЖрдпрд╛рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкрд░ рдЕрдзрд┐рдХ рдкреВрд░реНрдг рдирд┐рдпрдВрддреНрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдХреНрдпрд╛ рд╣реИ - рдмрд┐рд▓реНрд▓реА рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд╛рдЧрдд рд╣реИ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реАрдПрд╕рд╡реА рдлрд╝рд╛рдЗрд▓ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/1n/nh/qm/1nnhqmebkwnkqvecqrlr_wf5b5y.jpeg" alt="рдЫрд╡рд┐"></p><a name="habracut"></a><br><p>  рджреЛрдиреЛрдВ рд▓реЗрдЦ рд▓рд┐рдЦрдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдХреЛрдб рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">flancer32 / mage2_ext_demo_import</a> Magento рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдбреЗрдореЛ рдореЙрдбреНрдпреВрд▓ рдХреЛрдб рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдкреНрд░рддрд┐рдмрдВрдз рдпрд╣рд╛рдВ рджрд┐рдП рдЧрдП рд╣реИрдВ: </p><br><ul><li>  рдЙрддреНрдкрд╛рдж рдХреЗрд╡рд▓ рдмрдирд╛рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдЕрдкрдбреЗрдЯ рдирд╣реАрдВ рдХрд┐рдП рдЧрдП рд╣реИрдВред </li><li>  рдПрдХ рдЧреЛрджрд╛рдо </li><li>  рдХреЗрд╡рд▓ рд╢реНрд░реЗрдгреА рдХреЗ рдирд╛рдо рдЖрдпрд╛рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЙрдирдХреА рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд┐рдирд╛ </li><li>  рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ 2.3 рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИрдВ </li></ul><br><p>  JSON рдПрдХрд▓ рдЙрддреНрдкрд╛рдж рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: </p><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"sku"</span></span>: <span class="hljs-string"><span class="hljs-string">"MVA20D-UBV-3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"   47-29 IEK"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"desc"</span></span>: <span class="hljs-string"><span class="hljs-string">"    ..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"desc_short"</span></span>: <span class="hljs-string"><span class="hljs-string">"   47-29 IEK   ..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">5.00</span></span>, <span class="hljs-attr"><span class="hljs-attr">"qty"</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">"categories"</span></span>: [<span class="hljs-string"><span class="hljs-string">" 1"</span></span>, <span class="hljs-string"><span class="hljs-string">" 2"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"image_path"</span></span>: <span class="hljs-string"><span class="hljs-string">"mva20d_ubv_3.png"</span></span> }</code> </pre> <br><h1 id="obzor-osnovnyh-etapov-importa">  рдореБрдЦреНрдп рдЖрдпрд╛рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдЕрд╡рд▓реЛрдХрди </h1><br><ul><li>  рдЙрддреНрдкрд╛рдж рдкрдВрдЬреАрдХрд░рдг </li><li>  рд▓рд┐рдВрдХ рдЙрддреНрдкрд╛рдж рдФрд░ рд╡реЗрдмрд╕рд╛рдЗрдЯ </li><li>  рдмреБрдирд┐рдпрд╛рджреА рдЙрддреНрдкрд╛рдж рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ (EAV) </li><li>  рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдбреЗрдЯрд╛ (рд╕реНрдЯреЙрдХ рдореЗрдВ рдЙрддреНрдкрд╛рдж рдХреА рдорд╛рддреНрд░рд╛) </li><li>  рдореАрдбрд┐рдпрд╛ (рдЪрд┐рддреНрд░) </li><li>  рдХреИрдЯрд▓реЙрдЧ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдВрдХ </li></ul><br><h1 id="registraciya-produkta">  рдЙрддреНрдкрд╛рдж рдкрдВрдЬреАрдХрд░рдг </h1><br><p>  рдореВрд▓ рдЙрддреНрдкрд╛рдж рдЬрд╛рдирдХрд╛рд░реА <code>catalog_product_entity</code> : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`catalog_product_entity`</span></span> ( <span class="hljs-string"><span class="hljs-string">`entity_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Entity Id'</span></span>, <span class="hljs-string"><span class="hljs-string">`attribute_set_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">smallint</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Attribute Set ID'</span></span>, <span class="hljs-string"><span class="hljs-string">`type_id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'simple'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Type ID'</span></span>, <span class="hljs-string"><span class="hljs-string">`sku`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'SKU'</span></span>, <span class="hljs-string"><span class="hljs-string">`has_options`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">smallint</span></span>(<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Has Options'</span></span>, <span class="hljs-string"><span class="hljs-string">`required_options`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">smallint</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Required Options'</span></span>, <span class="hljs-string"><span class="hljs-string">`created_at`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Creation Time'</span></span>, <span class="hljs-string"><span class="hljs-string">`updated_at`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMENT</span></span> <span class="hljs-string"><span class="hljs-string">'Update Time'</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`entity_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`CATALOG_PRODUCT_ENTITY_ATTRIBUTE_SET_ID`</span></span> (<span class="hljs-string"><span class="hljs-string">`attribute_set_id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`CATALOG_PRODUCT_ENTITY_SKU`</span></span> (<span class="hljs-string"><span class="hljs-string">`sku`</span></span>) )</code> </pre> <br><p>  рдЙрддреНрдкрд╛рдж рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдиреНрдпреВрдирддрдо рдЬрд╛рдирдХрд╛рд░реА: </p><br><ul><li> <code>attribute_set_id</code> </li> <li> <code>sku</code> </li> </ul><br><p>  рдЕрдзрд┐рдХ: </p><br><ul><li>  <code>type_id</code> - рдпрджрд┐ <code>type_id</code> рдирд╣реАрдВ <code>type_id</code> , рддреЛ 'рд╕рд░рд▓' рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </li></ul><br><p>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕реАрдзреЗ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЦреБрдж Magento рдХреЗ DB рдПрдбрд╛рдкреНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ: </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($sku, $typeId, $attrSetId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_product_entity'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'sku'</span></span> =&gt; $sku, <span class="hljs-string"><span class="hljs-string">'type_id'</span></span> =&gt; $typeId, <span class="hljs-string"><span class="hljs-string">'attribute_set_id'</span></span> =&gt; $attrSetId ]; $conn-&gt;insert($table, $bind); $result = $conn-&gt;lastInsertId($table); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; }</code> </pre> <br><p>  <code>catalog_product_entity</code> рдореЗрдВ рдХрд┐рд╕реА рдЙрддреНрдкрд╛рдж рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж <code>catalog_product_entity</code> рдпрд╣ рдЙрддреНрдкрд╛рдж рдЧреНрд░рд┐рдб ( <em>рдХреИрдЯрд▓реЙрдЧ / рдЙрддреНрдкрд╛рдж</em> ) рдореЗрдВ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/oj/u1/qm/oju1qm6qkqksiq9wugh9g45ut6q.png" alt="рдЫрд╡рд┐"></p><br><h1 id="svyaz-produkta-i-web-sayta">  рд▓рд┐рдВрдХ рдЙрддреНрдкрд╛рдж рдФрд░ рд╡реЗрдмрд╕рд╛рдЗрдЯ </h1><br><p>  рд╕рд╛рдЗрдЯ рдХреЗ рд╕рд╛рде рдЙрддреНрдкрд╛рдж рдХрд╛ рд╕рдВрдмрдВрдз рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рд╕реНрдЯреЛрд░ рдореЗрдВ рдФрд░ рдХрд┐рди рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЙрддреНрдкрд╛рдж рд╕рд╛рдордиреЗ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">linkToWebsite</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($prodId, $websiteId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_product_website'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'product_id'</span></span> =&gt; $prodId, <span class="hljs-string"><span class="hljs-string">'website_id'</span></span> =&gt; $websiteId ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><p><img src="https://habrastorage.org/webt/km/aq/al/kmaqaluoyidb9_ejzeyikkpd-x8.png" alt="рдЫрд╡рд┐"></p><br><h1 id="bazovye-atributy-produkta">  рдореВрд▓ рдЙрддреНрдкрд╛рдж рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ </h1><br><p>  рдПрдХ рддрд╛рдЬрд╝рд╛ рдкрдВрдЬреАрдХреГрдд рдЙрддреНрдкрд╛рдж рдХрд╛ рдЕрднреА рддрдХ рдХреЛрдИ рдирд╛рдо рдпрд╛ рд╡рд┐рд╡рд░рдг рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╕рдм <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдИрдПрд╡реА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдореВрд▓ рдЙрддреНрдкрд╛рдж рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рджреА рдЧрдИ рд╣реИ, рдЬреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ рдХрд┐ рдЙрддреНрдкрд╛рдж рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕рд╛рдордиреЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><ul><li> <code>name</code> </li> <li> <code>price</code> </li> <li> <code>description</code> </li> <li> <code>short_description</code> </li> <li> <code>status</code> </li> <li> <code>tax_class_id</code> </li> <li> <code>url_key</code> </li> <li> <code>visibility</code> </li> </ul><br><p>  рдЙрддреНрдкрд╛рдж рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рдЗрд╕ рддрд░рд╣ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ (рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдФрд░ рдЙрд╕рдХреЗ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖рддрд╛ рдкреНрд░рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рд╡рд░рдг рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ): </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($prodId, $attrCode, $attrValue)</span></span></span><span class="hljs-function"> </span></span>{ $attrId = <span class="hljs-comment"><span class="hljs-comment">/* get attribute ID by attribute code */</span></span> $attrType = <span class="hljs-comment"><span class="hljs-comment">/* get attribute type [datetime|decimal|int|text|varchar]) by attribute code */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($attrId) { <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $tblName = <span class="hljs-string"><span class="hljs-string">'catalog_product_entity_'</span></span> . $attrType; $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName($tblName); $bind = [ <span class="hljs-string"><span class="hljs-string">'attribute_id'</span></span> =&gt; $attrId, <span class="hljs-string"><span class="hljs-string">'entity_id'</span></span> =&gt; $prodId, <span class="hljs-comment"><span class="hljs-comment">/* put all attributes to default store view with id=0 (admin) */</span></span> <span class="hljs-string"><span class="hljs-string">'store_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; $attrValue ]; $conn-&gt;insert($table, $bind); } }</code> </pre> <br><p>  рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЗрд╕рдХреА рдЖрдИрдбреА рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ ( <code>datetime</code> , <code>decimal</code> , <code>int</code> , <code>text</code> , <code>varchar</code> ) рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ, рдлрд┐рд░ рд╕рдВрдмрдВрдзрд┐рдд рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╣рдо рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рд╕реНрдЯреЛрд░рдлреНрд░рдВрдЯ ( <code>store_id = 0</code> ) рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рд▓рд┐рдЦрддреЗ рд╣реИрдВред </p><br><p>  рдЙрдкрд░реЛрдХреНрдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЙрддреНрдкрд╛рдж рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдпрд╣ рдЪрд┐рддреНрд░ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/wd/wr/ho/wdwrhobsk4l_updxfernrw_uak4.png" alt="рдЫрд╡рд┐"></p><br><h1 id="inventarnye-dannye">  рдЗрдиреНрд╡реЗрдВрдЯрд░реА рдбреЗрдЯрд╛ </h1><br><p>  2.3 рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд╢реБрд░реВ, Magento рдореЗрдВ рдПрдХ рд╕рд╛рде рд╕реВрдЪреА рд╕реВрдЪрдирд╛ (рдЙрддреНрдкрд╛рдж рдХреА рдорд╛рддреНрд░рд╛) рдХрд╛ рднрдВрдбрд╛рд░рдг рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рджреЛ рд╕реЗрдЯ рд╣реИрдВ: </p><br><ul><li>  <code>cataloginventory_*</code> : рдкреБрд░рд╛рдиреА рд╕рдВрд░рдЪрдирд╛; </li><li>  <code>inventory_*</code> : рдирдИ рд╕рдВрд░рдЪрдирд╛ (рдПрдордПрд╕рдЖрдИ - рдорд▓реНрдЯреА рд╕реЛрд░реНрд╕ рдЗрдиреНрд╡реЗрдВрдЯрд░реА); </li></ul><br><p>  рдЖрдкрдХреЛ рджреЛрдиреЛрдВ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдореЗрдВ рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдирдИ рд╕рдВрд░рдЪрдирд╛ рдЕрднреА рддрдХ рдкреБрд░рд╛рдиреА рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рдирд╣реАрдВ рд╣реИ (рдпрд╣ <code>cataloginventory_stock_status</code> рдЯреЗрдмрд▓ рдХрд╛ <code>cataloginventory_stock_status</code> рдирдИ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ <code>default</code> рдЧреЛрджрд╛рдо рдХреЗ рд▓рд┐рдП <code>inventory_stock_1</code> 1 рдХреЗ <code>default</code> рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ)ред </p><br><h2 id="cataloginventory_">  cataloginventory_ </h2><br><p>  рдореИрдЧреНрдиреЗрдЯреЛ 2.3 рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╕рдордп, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╢реБрд░реВ рдореЗрдВ <code>store_website</code> рдореЗрдВ 2 рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдВ <code>store_website</code> , рдЬреЛ рджреЛ рд╕рд╛рдЗрдЯреЛрдВ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИрдВ - рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдФрд░ рдореБрдЦреНрдп <code>store_website</code> : </p><br><pre> <code class="plaintext hljs">website_id|code |name |sort_order|default_group_id|is_default| ----------|-----|------------|----------|----------------|----------| 0|admin|Admin | 0| 0| 0| 1|base |Main Website| 0| 1| 1|</code> </pre> <br><p>  <code>cataloginventory_stock</code> рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рд╣реИ: </p><br><pre> <code class="plaintext hljs">stock_id|website_id|stock_name| --------|----------|----------| 1| 0|Default |</code> </pre> <br><p>  рдпрд╣реА рд╣реИ, рд╣рдорд╛рд░реА рдкреБрд░рд╛рдиреА рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ "рдЧреЛрджрд╛рдо" ( <code>stock</code> ) рд╣реИ рдФрд░ рдпрд╣ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ <code>stocks</code> (рдирдИ рд╕рдВрд░рдЪрдирд╛) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдордПрд╕рдЖрдИ рдореЗрдВ рдирдП <code>sources</code> / <code>stocks</code> рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ <code>cataloginventory_stock</code> рдореЗрдВ рдирдИ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВред </p><br><p>  рдкреБрд░рд╛рдиреА рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдЙрддреНрдкрд╛рджреЛрдВ рдкрд░ рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдбреЗрдЯрд╛ рд╢реБрд░реВ рдореЗрдВ рдЯреЗрдмрд▓ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВ: </p><br><ul><li> <code>cataloginventory_stock_item</code> </li> <li> <code>cataloginventory_stock_status</code> </li> </ul><br><h3 id="cataloginventory_stock_item">  cataloginventory_stock_item </h3><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createOldItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($prodId, $qty)</span></span></span><span class="hljs-function"> </span></span>{ $isQtyDecimal = (((int)$qty) != $qty); $isInStock = ($qty &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'cataloginventory_stock_item'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'product_id'</span></span> =&gt; $prodId, <span class="hljs-comment"><span class="hljs-comment">/* we use one only stock in 'cataloginventory' structure by default */</span></span> <span class="hljs-string"><span class="hljs-string">'stock_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'qty'</span></span> =&gt; $qty, <span class="hljs-string"><span class="hljs-string">'is_qty_decimal'</span></span> =&gt; $isQtyDecimal, <span class="hljs-string"><span class="hljs-string">'is_in_stock'</span></span> =&gt; $isInStock, <span class="hljs-comment"><span class="hljs-comment">/* default stock is bound to admin website (see `cataloginventory_stock`) */</span></span> <span class="hljs-string"><span class="hljs-string">'website_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><h3 id="cataloginventory_stock_status">  cataloginventory_stock_status </h3><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createOldStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($prodId, $qty)</span></span></span><span class="hljs-function"> </span></span>{ $isInStock = ($qty &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'cataloginventory_stock_status'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'product_id'</span></span> =&gt; $prodId, <span class="hljs-comment"><span class="hljs-comment">/* we use one only stock in 'cataloginventory' structure by default */</span></span> <span class="hljs-string"><span class="hljs-string">'stock_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'qty'</span></span> =&gt; $qty, <span class="hljs-string"><span class="hljs-string">'stock_status'</span></span> =&gt; \Magento\CatalogInventory\Api\Data\StockStatusInterface::STATUS_IN_STOCK, <span class="hljs-comment"><span class="hljs-comment">/* default stock is bound to admin website (see `cataloginventory_stock`) */</span></span> <span class="hljs-string"><span class="hljs-string">'website_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><h2 id="inventory_">  inventory_ </h2><br><p>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирдИ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ 1 " <em>рд╕реНрд░реЛрдд</em> " ( <code>inventory_source</code> ) рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">source_code|name |enabled|description |latitude|longitude|country_id|...| -----------|--------------|-------|--------------|--------|---------|----------|...| default |Default Source| 1|Default Source|0.000000| 0.000000|US |...|</code> </pre> <br><p>  рдФрд░ рдПрдХ " <em>рдЧреЛрджрд╛рдо</em> " ( <code>inventory_stock</code> ): </p><br><pre> <code class="plaintext hljs">stock_id|name | --------|-------------| 1|Default Stock|</code> </pre> <br><p>  рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ " <em>рд╕реНрд░реЛрдд</em> " рдПрдХ рднреМрддрд┐рдХ рд╕реНрдЯреЛрд░ рд╣реИ (рд░рд┐рдХреЙрд░реНрдб рдореЗрдВ рднреМрддрд┐рдХ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдФрд░ рдПрдХ рдореЗрд▓рд┐рдВрдЧ рдкрддрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ)ред  " <em>рд╡реЗрдпрд░рд╣рд╛рдЙрд╕</em> " рдХрдИ "рд╕реНрд░реЛрддреЛрдВ" рдХрд╛ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рд╕рдВрдШ рд╣реИ ( <code>inventory_source_stock_link</code> ) </p><br><pre> <code class="plaintext hljs">link_id|stock_id|source_code|priority| -------|--------|-----------|--------| 1| 1|default | 1|</code> </pre> <br><p>  рдХрд┐рд╕ рд╕реНрддрд░ рдкрд░ рдмрд┐рдХреНрд░реА рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП рдмрд╛рдзреНрдпрдХрд╛рд░реА рд╣реЛрддреА рд╣реИ ( <code>inventory_stock_sales_channel</code> ) </p><br><pre> <code class="plaintext hljs">type |code|stock_id| -------|----|--------| website|base| 1|</code> </pre> <br><p>  рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдмрд┐рдХреНрд░реА рдЪреИрдирд▓ рдорд╛рди рд▓рд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХреЗрд╡рд▓ " <em>рд╕реНрдЯреЙрдХ</em> " - " <em>рд╡реЗрдмрд╕рд╛рдЗрдЯ</em> " рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рд▓рд┐рдВрдХ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЛрдб - <code>base</code> рджреНрд╡рд╛рд░рд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред </p><br><p>  рдПрдХ " <em>рд╡реЗрдпрд░рд╣рд╛рдЙрд╕</em> " рдХреЛ рдХрдИ " <em>рд╕реНрд░реЛрддреЛрдВ</em> " рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдПрдХ " <em>рд╕реНрд░реЛрдд</em> " рдХреЛ рдХрдИ " <em>рд╡реЗрдпрд░рд╣рд╛рдЙрд╕</em> " (рдХрдИ-рд╕реЗ-рдХрдИ рд╕рдВрдмрдВрдз) рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЕрдкрд╡рд╛рдж рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╣реИрдВ " <em>рд╕реНрд░реЛрдд</em> " рдФрд░ " <em>рдЧреЛрджрд╛рдо</em> "ред  рд╡реЗ рдЕрдиреНрдп рд╕рдВрд╕реНрдерд╛рдУрдВ рд╕реЗ рдирд╣реАрдВ рдмрдВрдзрддреЗ рд╣реИрдВ (рдХреЛрдб рд╕реНрддрд░ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз - рддреНрд░реБрдЯрд┐ " <em>рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрд░реЛрдд рдпрд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдЯреЙрдХ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд▓рд┐рдВрдХ рдХреЛ рдирд╣реАрдВ рдмрдЪрд╛ рд╕рдХрддреА</em> " рдХреНрд░реИрд╢)ред  рдЖрдк " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрдпрд░рд╣рд╛рдЙрд╕ рдореИрдиреЗрдЬрдореЗрдВрдЯ рд╕рд┐рд╕реНрдЯрдо рд╕реАрдХреНрдпреВрдЖрд░рдПрд╕ рдФрд░ рдЗрд╡реЗрдВрдЯ рд╕реЛрд░реНрд╕рд┐рдВрдЧ рдбрд┐рдЬрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП</a> " рд▓реЗрдЦ рдореЗрдВ рдореИрдЧреЗрдВрдЯреЛ 2 рдореЗрдВ рдПрдордПрд╕рдЖрдИ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдореИрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛ рдФрд░ рд╕рднреА рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ <code>default</code> рд╕реНрд░реЛрдд рдореЗрдВ рдЬреЛрдбрд╝ рджреВрдВрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ <code>base</code> рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рдмрд┐рдХреНрд░реА рдЪреИрдирд▓ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╕реНрдЯреЛрд░ рдХреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рднрд╛рдЧ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ - рджреЗрдЦреЗрдВ <code>store_website</code> ): </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createNewItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($sku, $qty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'inventory_source_item'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'source_code'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'default'</span></span>, <span class="hljs-string"><span class="hljs-string">'sku'</span></span> =&gt; $sku, <span class="hljs-string"><span class="hljs-string">'quantity'</span></span> =&gt; $qty, <span class="hljs-string"><span class="hljs-string">'status'</span></span> =&gt; \Magento\InventoryApi\Api\Data\SourceItemInterface::STATUS_IN_STOCK ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><p>  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рдЙрддреНрдкрд╛рдж рдореЗрдВ рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдпрд╣ рдЪрд┐рддреНрд░ рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/o1/pa/31/o1pa31wrecqqgma118t-9jqokqg.png" alt="рдЫрд╡рд┐"></p><br><h1 id="media">  рдореАрдбрд┐рдпрд╛ </h1><br><p>  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрддреНрдкрд╛рдж рдореЗрдВ "рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ" рдЪрд┐рддреНрд░ рдЬреЛрдбрд╝рдиреЗ рдкрд░, рд╕рдВрдмрдВрдзрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рдирд┐рдореНрди рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рджрд░реНрдЬ рдХреА рдЬрд╛рддреА рд╣реИ: </p><br><ul><li>  <code>catalog_product_entity_media_gallery</code> : рдореАрдбрд┐рдпрд╛ рд░рдЬрд┐рд╕реНрдЯреНрд░реА (рдЪрд┐рддреНрд░ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдлрд╛рдЗрд▓реЗрдВ); </li><li>  <code>catalog_product_entity_media_gallery_value</code> : рдореАрдбрд┐рдпрд╛ рдХреЛ рдЙрддреНрдкрд╛рджреЛрдВ рдФрд░ рд╕реНрдЯреЛрд░рдлреНрд░рдВрдЯ (рд╕реНрдерд╛рдиреАрдпрдХрд░рдг) рд╕реЗ рдЬреЛрдбрд╝рдирд╛; </li><li>  <code>catalog_product_entity_media_gallery_value_to_entity</code> : рдХреЗрд╡рд▓ рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рд▓рд┐рдП рдореАрдбрд┐рдпрд╛ рдХреЛ <code>catalog_product_entity_media_gallery_value_to_entity</code> рдХрд░рдирд╛ (рдЙрддреНрдкрд╛рдж рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡рддрдГ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореАрдбрд┐рдпрд╛ рд╕рд╛рдордЧреНрд░реА); </li><li>  <code>catalog_product_entity_varchar</code> : рдЫрд╡рд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реА рднреВрдорд┐рдХрд╛рдПрдВ рдпрд╣рд╛рдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИрдВ; </li></ul><br><p>  рдФрд░ рдЫрд╡рд┐рдпрд╛рдВ рд╕реНрд╡рдпрдВ <code>./pub/media/catalog/product/x/y/</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╕рд╣реЗрдЬреА рдЬрд╛рддреА рд╣реИрдВ, рдЬрд╣рд╛рдВ <code>x</code> рдФрд░ <code>y</code> рдЫрд╡рд┐ рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдХреЗ рдкрд╣рд▓реЗ рдФрд░ рджреВрд╕рд░реЗ рдЕрдХреНрд╖рд░ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>./pub/media/catalog/product/i/m/image.png</code> рдлрд╝рд╛рдЗрд▓ рдХреЛ <code>./pub/media/catalog/product/i/m/image.png</code> рд░реВрдк рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдХреИрдЯрд▓реЙрдЧ рд╕реЗ рдЙрддреНрдкрд╛рджреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╕рдордп рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдЗрд╕реЗ рдПрдХ рдЫрд╡рд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗред </p><br><h2 id="catalog_product_entity_media_gallery">  catalog_product_entity_media_gallery </h2><br><p>  рд╣рдо <code>./pub/media/catalog/product/</code> (рдЗрд╕ рдЖрд▓реЗрдЦ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рд░рдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ) рдореЗрдВ рд╕реНрдерд┐рдд рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createMediaGallery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($imgPathPrefixed)</span></span></span><span class="hljs-function"> </span></span>{ $attrId = <span class="hljs-comment"><span class="hljs-comment">/* get attribute ID by attribute code 'media_gallery' */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_product_entity_media_gallery'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'attribute_id'</span></span> =&gt; $attrId, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; $imgPathPrefixed, <span class="hljs-comment"><span class="hljs-comment">/* 'image' or 'video' */</span></span> <span class="hljs-string"><span class="hljs-string">'media_type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'image'</span></span>, <span class="hljs-string"><span class="hljs-string">'disabled'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> ]; $conn-&gt;insert($table, $bind); $result = $conn-&gt;lastInsertId($table); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; }</code> </pre> <br><p>  рдкрдВрдЬреАрдХрд░рдг рдХрд░рддреЗ рд╕рдордп, рдПрдХ рдирдИ рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдПрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="catalog_product_entity_media_gallery_value">  catalog_product_entity_media_gallery_value </h2><br><p>  рд╣рдо рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдВрдмрдВрдзрд┐рдд рдЙрддреНрдкрд╛рдж рдХреЗ рд╕рд╛рде рдкрдВрдЬреАрдХреГрдд рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд▓рд┐рдВрдХ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createGalleryValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($mediaId, $prodId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_product_entity_media_gallery_value'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'value_id'</span></span> =&gt; $mediaId, <span class="hljs-comment"><span class="hljs-comment">/* use admin store view by default */</span></span> <span class="hljs-string"><span class="hljs-string">'store_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'entity_id'</span></span> =&gt; $prodId, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-comment"><span class="hljs-comment">/* we have one only image */</span></span> <span class="hljs-string"><span class="hljs-string">'position'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'disabled'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><h2 id="catalog_product_entity_media_gallery_value_to_entity">  catalog_product_entity_media_gallery_value_to_entity </h2><br><p>  рд╣рдо рдкрдВрдЬреАрдХреГрдд рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдХрд┐рд╕реА рднреА рд╕реНрдЯреЛрд░рдлреНрд░рдВрдЯ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдЙрддреНрдкрд╛рдж рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣ рдбреЗрдЯрд╛ рдХрд╣рд╛рдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдкрд┐рдЫрд▓реА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдирд╛ рдЕрд╕рдВрднрд╡ рдХреНрдпреЛрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рддрд╛рд▓рд┐рдХрд╛ рдореМрдЬреВрдж рд╣реИ рдФрд░ рдЙрддреНрдкрд╛рдж рдореЗрдВ рдЪрд┐рддреНрд░ рдЬреЛрдбрд╝рддреЗ рд╕рдордп рдЗрд╕реЗ рдбреЗрдЯрд╛ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣ред </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createGalleryValueToEntity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($mediaId, $prodId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_product_entity_media_gallery_value_to_entity'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'value_id'</span></span> =&gt; $mediaId, <span class="hljs-string"><span class="hljs-string">'entity_id'</span></span> =&gt; $prodId ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><h2 id="catalog_product_entity_varchar">  catalog_product_entity_varchar </h2><br><p>  рдПрдХ рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рднрд┐рдиреНрди рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рд╕рдВрдмрдВрдзрд┐рдд рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдХреЛрдб рдХреЛрд╖реНрдардХ рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ): </p><br><ul><li>  рдЖрдзрд╛рд░ ( <code>image</code> ) </li><li>  рдЫреЛрдЯреА рдЫрд╡рд┐ ( <code>small_image</code> ) </li><li>  рдердВрдмрдиреЗрд▓ ( <code>thumbnail</code> ) </li><li>  <code>swatch_image</code> рдЗрдореЗрдЬ ( <code>swatch_image</code> ) </li></ul><br><p>  рдореАрдбрд┐рдпрд╛ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ <code>catalog_product_entity_varchar</code> рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред  рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХреЛрдб " <em>рдореВрд▓ рдЙрддреНрдкрд╛рдж рдЧреБрдг</em> " рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдХреЛрдб рдХреЗ рд╕рдорд╛рди рд╣реИред </p><br><p>  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рдЙрддреНрдкрд╛рдж рдореЗрдВ рдЫрд╡рд┐ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдирд┐рдХрд▓рддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/w-/vn/uf/w-vnufrenpxowdr5ckl8k5fqzzo.png" alt="рдЫрд╡рд┐"></p><br><h1 id="kategorii">  рд╢реНрд░реЗрдгреА </h1><br><p>  рдореБрдЦреНрдп рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рд╢реНрд░реЗрдгреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИ: </p><br><ul><li>  <code>catalog_category_entity</code> : рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХрд╛ рд░рдЬрд┐рд╕реНрдЯрд░; </li><li>  <code>catalog_category_product</code> : рдЙрддреНрдкрд╛рджреЛрдВ рдФрд░ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХрд╛ рд╕рд╣рдпреЛрдЧ; </li><li>  <code>catalog_category_entity_*</code> : <code>catalog_category_entity_*</code> рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рдореВрд▓реНрдп; </li></ul><br><p>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдЦрд╛рд▓реА рдореИрдЧреЗрдВрдЯреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ, рд╢реНрд░реЗрдгреА рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ 2 рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рд╣реЛрддреА рд╣реИрдВ (рдореИрдВрдиреЗ рдХреЙрд▓рдо рдирд╛рдо рдЫреЛрдЯрд╛ рдХрд░ рджрд┐рдпрд╛ рд╣реИ: <code>crt</code> - <code>created_at</code> , <code>upd</code> - <code>updated_at</code> ): </p><br><pre> <code class="plaintext hljs">entity_id|attribute_set_id|parent_id|crt|upd|path|position|level|children_count| ---------|----------------|---------|---|---|----|--------|-----|--------------| 1| 3| 0|...|...|1 | 0| 0| 1| 2| 3| 1|...|...|1/2 | 1| 1| 0|</code> </pre> <br><p>  Id = 1 рдХреЗ рд╕рд╛рде рд╢реНрд░реЗрдгреА рдкреВрд░реЗ Magento рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рдЬрдбрд╝ рд╣реИ рдФрд░ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдпрд╛ рд╕рд╛рдордиреЗ рдкрд░ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред  рдЖрдИрдбреА = 2 рдХреЗ рд╕рд╛рде рд╢реНрд░реЗрдгреА ( <em>рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╢реНрд░реЗрдгреА</em> ) рдореБрдЦреНрдп рд╡реЗрдмрд╕рд╛рдЗрдЯ ( <em>рдореБрдЦреНрдп рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реНрдЯреЛрд░</em> ) рдХреЗ рдореБрдЦреНрдп рд╕реНрдЯреЛрд░ рдХреЗ рд▓рд┐рдП рд░реВрдЯ рд╢реНрд░реЗрдгреА рд╣реИ рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ ( <em>рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ / рд╕реНрдЯреЛрд░ / рд╕рднреА рд╕реНрдЯреЛрд░ рджреЗрдЦреЗрдВ</em> )ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рд╛рдордиреЗ рдХреА рджреБрдХрд╛рди рдХреА рдмрд╣реБрдд рдореВрд▓ рд╢реНрд░реЗрдгреА рднреА рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рдХреЗрд╡рд▓ рдЗрд╕рдХреА рдЙрдкрд╢реНрд░реЗрдгрд┐рдпрд╛рдБред </p><br><p>  рдЪреВрдВрдХрд┐ рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рд╡рд┐рд╖рдп рдЕрднреА рднреА рдЙрддреНрдкрд╛рдж рдбреЗрдЯрд╛ рдЖрдпрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реИ, рдореИрдВ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рдмрдирд╛рддреЗ рд╕рдордп рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкреНрд░рддреНрдпрдХреНрд╖ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдореИрдВ рдЦреБрдж рдореИрдЧреЗрдВрдЯреЛ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рдХрдХреНрд╖рд╛рдУрдВ (рдореЙрдбрд▓ рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛ред  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рд╕реАрдзреЗ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдЖрдпрд╛рддрд┐рдд рдЙрддреНрдкрд╛рдж рдХреЛ рд╢реНрд░реЗрдгреА рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╢реНрд░реЗрдгреА рдХреЛ рдЙрд╕рдХреЗ рдирд╛рдо рд╕реЗ рдореИрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдорд┐рд▓рд╛рди рдХрд░рддреЗ рд╕рдордп рд╢реНрд░реЗрдгреА рдЖрдИрдбреА рдХреЛ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ): </p><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($prodId, $catId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\App\ResourceConnection $this-&gt;resource */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \Magento\Framework\DB\Adapter\Pdo\Mysql $conn */</span></span> $conn = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getConnection(); $table = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resource-&gt;getTableName(<span class="hljs-string"><span class="hljs-string">'catalog_category_product'</span></span>); $bind = [ <span class="hljs-string"><span class="hljs-string">'category_id'</span></span> =&gt; $catId, <span class="hljs-string"><span class="hljs-string">'product_id'</span></span> =&gt; $prodId, ]; $conn-&gt;insert($table, $bind); }</code> </pre> <br><p>  "рд╢реНрд░реЗрдгреА 1" рдФрд░ "рд╢реНрд░реЗрдгреА 2" рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдореЗрдВ рдЙрддреНрдкрд╛рдж рд▓рд┐рдВрдХ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рдЙрддреНрдкрд╛рдж рд╡рд┐рд╡рд░рдг рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/p9/1l/yc/p91lycpb0w_tpqfe169n5t4djfs.png" alt="рдЫрд╡рд┐"></p><br><h1 id="dopolnitelnye-deystviya">  рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рд░реНрдп </h1><br><p>  рдбреЗрдЯрд╛ рдЖрдпрд╛рдд рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрддрд┐рд░рд┐рдХреНрдд рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><ul><li>  рдбреЗрдЯрд╛ рдЗрдВрдбреЗрдХреНрд╕рд┐рдВрдЧ: рдХрдВрд╕реЛрд▓ рдореЗрдВ рдПрдХ рдХреЙрд▓ <code>./bin/magento indexer:reindex</code> ; </li><li>  рдЙрддреНрдкрд╛рджреЛрдВ / рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП URL рдкреБрдирд░реНрдЬрдирди: рдЖрдк " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">elgentos / рдкреБрдирд░реНрдЬрдирди-рдХреИрдЯрд▓реЙрдЧ-рдпреВрдЖрд░рдПрд▓</a> " рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </li></ul><br><p>  рдЕрддрд┐рд░рд┐рдХреНрдд рдЪрд░рдгреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рдореЗрдВ рдЙрддреНрдкрд╛рдж: </p><br><p><img src="https://habrastorage.org/webt/q5/ge/fd/q5gefdgdiwcxotbysfymjggmcom.png" alt="рдЫрд╡рд┐"></p><br><p>  рдФрд░ рд╕рд╛рдордиреЗ: </p><br><p><img src="https://habrastorage.org/webt/pl/dw/6l/pldw6lefwqdxl_ye2o-debpkyz4.png" alt="рдЫрд╡рд┐"></p><br><h1 id="rezyume">  рд╕рд╛рд░рд╛рдВрд╢ </h1><br><p>  рдЙрддреНрдкрд╛рджреЛрдВ рдХрд╛ рдПрдХ рд╣реА рд╕реЗрдЯ (10 рдЯреБрдХрдбрд╝реЗ) рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рдХрдо рд╕реЗ рдХрдо рдкрд░рд┐рдорд╛рдг рдХреЗ рдПрдХ рдЖрджреЗрд╢ рддреЗрдЬреА рд╕реЗ рдЖрдпрд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (1 рд╕реЗрдХрдВрдб рдмрдирд╛рдо 10)ред  рдЧрддрд┐ рдХреЗ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рдЕрдиреБрдорд╛рди рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдХрдИ рд╕реМ, рдФрд░ рдЕрдзрд┐рдорд╛рдирддрдГ рд╣рдЬрд╛рд░реЛрдВред  рдлрд┐рд░ рднреА, рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдХреА рдЗрддрдиреА рдХрдо рдорд╛рддреНрд░рд╛ рдХреЗ рд╕рд╛рде, рдпрд╣ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдореИрдЧреЗрдВрдЯреЛ (рдореЙрдбрд▓ рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА) рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ (рдЬреЛрд░ - <em>рдорд╣рддреНрд╡рдкреВрд░реНрдг</em> !) рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЛ рддреЗрдЬ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ (рдЬреЛрд░ -!) рдХрдо рдХрд░реЗрдВред рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреА рдЧрддрд┐ред </p><br><p>  рдирддреАрдЬрддрди, рдкрд╛рдиреА рдЧреАрд▓рд╛ рд╣реЛ рдЧрдпрд╛ рдФрд░ рдпрд╣ рд░рд╣рд╕реНрдпреЛрджреНрдШрд╛рдЯрди рдирд╣реАрдВ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЕрдм рдореЗрд░реЗ рдкрд╛рд╕ рдЦреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рд╣реИ рдФрд░ рд╕рдВрднрд╡рддрдГ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реВрдВред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi440262/">https://habr.com/ru/post/hi440262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi440250/index.html">рдЕрд╡рд╕рд░ рд╣рдореЗрд╢рд╛ рдХреЗ рд▓рд┐рдП рд╕реЛ рдЧрдпрд╛: рдирд╛рд╕рд╛ рдиреЗ рдПрдХ рд░реЛрд╡рд░ рдХреЗ рдиреБрдХрд╕рд╛рди рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi440252/index.html">рдкреНрд░рд╛рдЪреАрди рд╡рд╕реНрддреБрдПрдБ: рдкреБрд░рд╛рдиреЗ рднрд╛рдЧреЛрдВ рд╕реЗ рдПрдХ рдЖрдзреБрдирд┐рдХ рдХрдВрдкреНрдпреВрдЯрд░</a></li>
<li><a href="../hi440256/index.html">рдкреНрд░рд╡рд╛рд╕реА рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ *</a></li>
<li><a href="../hi440258/index.html">рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдПрдХ рдорд╛рдирд╡ рд░рд╣рд┐рдд рдЯреНрд░рд╛рдо рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред рд╣рдордиреЗ рдСрдЯреЛрдкрд╛рдпрд▓рдЯ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд╕рд╛рде рдмрд╛рдд рдХреАред</a></li>
<li><a href="../hi440260/index.html">рдЪрд╛рдВрдЧ'рдИ -4 рдореЙрдбреНрдпреВрд▓ рдФрд░ рдпреБрддреБ -2 рд░реЛрд╡рд░ рдЪрдВрджреНрд░рдорд╛ рдХреЗ рджреВрд░ рдХреА рджреВрд╕рд░реА рд░рд╛рдд рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ</a></li>
<li><a href="../hi440264/index.html">рдЯреЗрдЯреНрд░рд┐рд╕ рдЧреЗрдо, рдпрд╛ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдХреНрд╖рдорддрд╛ рдкреНрд░рдмрдВрдзрди рдХреНрдпрд╛ рд╣реИ</a></li>
<li><a href="../hi440266/index.html">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХреЗ рдЕрдиреБрдорд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рднреМрддрд┐рдХ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╢рдмреНрдж</a></li>
<li><a href="../hi440268/index.html">рдзреНрд╡рдирд┐ рдореЛрдбрд╝: рдЪрдордЧрд╛рджрдбрд╝ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд░рд╛рдд рдХреЗ рдкрддрдВрдЧреЛрдВ рдореЗрдВ рдЕрд▓реНрдЯреНрд░рд╛рд╕реЛрдирд┐рдХ рдХреНрд▓рд┐рдХ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрдВрддреНрд░</a></li>
<li><a href="../hi440270/index.html">рд╣рдо рджрд┐рдорд╛рдЧ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд╛ рдХрд╛рд░реНрдпрдХреНрд░рдо рдорд╛рдирддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi440272/index.html">рдореЛрдмрд╛рдЗрд▓ рдУрдкреЗрд░рд╛ рдХреЛ рдореБрдлреНрдд рд╡реАрдкреАрдПрди рдорд┐рд▓рд╛ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>