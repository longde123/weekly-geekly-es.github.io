<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЩЖЁЯП╜ ЁЯМЗ ЁЯРМ MS SQL рд╕рд░реНрд╡рд░ рдкрд░ рд╕рдВрдЧреНрд░рд╣рдг рдкрд░рд┐рдпреЛрдЬрдирд╛, 1C 7.7 рдФрд░ SSDT рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рд╕реНрд╡рдЪрд╛рд▓рди рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг ЁЯСМ ЁЯСйЁЯП╜тАНтЬИя╕П ЁЯЖТ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЬрд▓реНрдж рд╣реА рдЗрд╕ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рдЧрднрдЧ рдХреБрдЫ рднреА рдирд╣реАрдВ рдмрдЪреЗрдЧрд╛, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрднреА рднреА рд╕рдордп рдирд╣реАрдВ рдерд╛ред 



 рдпрд╣ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MS SQL рд╕рд░реНрд╡рд░ рдкрд░ рд╕рдВрдЧреНрд░рд╣рдг рдкрд░рд┐рдпреЛрдЬрдирд╛, 1C 7.7 рдФрд░ SSDT рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рд╕реНрд╡рдЪрд╛рд▓рди рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423205/">  рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЬрд▓реНрдж рд╣реА рдЗрд╕ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рдЧрднрдЧ рдХреБрдЫ рднреА рдирд╣реАрдВ рдмрдЪреЗрдЧрд╛, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрднреА рднреА рд╕рдордп рдирд╣реАрдВ рдерд╛ред <br><br><img src="https://habrastorage.org/webt/fi/5s/if/fi5siftwc5fvceqqsjgxfnqubum.png"><br><br>  рдпрд╣ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╢рд╛рдЦрд╛рдУрдВ рдФрд░ рдЙрдк-рд╢рд╛рдЦрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдШреАрдп рд╕реНрддрд░ рдкрд░ рдПрдХ рдХрдВрдкрдиреА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди, рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рдпрд╣ рд╕рдм рдПрдХ рдЫреЛрдЯреЗ рд╕реНрдЯреЛрд░ рдХреЗ рд╕рд╛рде рдмрд╣реБрдд рдкрд╣рд▓реЗ рд╢реБрд░реВ рд╣реБрдЖ рдерд╛ред  рдЗрди рд╡рд░реНрд╖реЛрдВ рдореЗрдВ, рдПрдХ рдмрд╣реБрдд рддреЗрдЬреА рд╕реЗ рдФрд░ рд╕рд╣рдЬ рд╡рд┐рдХрд╛рд╕ рд╣реБрдЖ, рд╢рд╛рдЦрд╛рдПрдВ, рд╡рд┐рднрд╛рдЬрди рдФрд░ рдЕрдиреНрдп рдХрд╛рд░реНрдпрд╛рд▓рдп рджрд┐рдЦрд╛рдИ рджрд┐рдП, рдФрд░ рдЙрди рджрд┐рдиреЛрдВ рдореЗрдВ рдЖрдИрдЯреА рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рдФрд░ рдпрд╣ рднреА рдПрдХ рд▓рдЧрд╛рддрд╛рд░ рдШрдЯрдирд╛ рд╣реИред  рдмреЗрд╢рдХ, рдХрд┐рд╕реА рднреА рдкреНрд░рддрд┐рдХреГрддрд┐ рдФрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рд░рд┐рдЬрд░реНрд╡ рдХреЗ рдмрд┐рдирд╛, рд╣рд░ рдЬрдЧрд╣ 1C77 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП, рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ, рдЕрдВрдд рдореЗрдВ рд╣рдо рдЗрд╕ рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рдкрд╣реБрдВрдЪреЗ рдХрд┐ рд╡рд┐рджреНрдпреБрдд рдЯреЗрдк рд╕реЗ рдмрдВрдзреЗ рдЯреЗрдВрдЯреЗрдХ рдХреЗ рд╕рд╛рде рд╕реНрдкреНрд░реИрдЯ-рдлреНрд░реЗрдВрдХрд╕реНрдЯреАрди рдЙрддреНрдкрдиреНрди рд╣реБрдЖ рдерд╛ - рдкреНрд░рддреНрдпреЗрдХ рд╢рд╛рдЦрд╛ рдореЗрдВ рдПрдХ рд╕реНрд╡рд╛рдпрддреНрдд рдЙрддреНрдкрд░рд┐рд╡рд░реНрддреА рдерд╛ рдЬреЛ рдХреЗрдВрджреНрд░реАрдп рдЖрдзрд╛рд░ рдХреЗ рд╕рд╛рде рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ "рдШреБрдЯрдиреЗ рдХреЗ рдЙрдЪреНрдЪ" рдореЛрдб рдореЗрдВ, рдХреЗрд╡рд▓ рдХреБрдЫ рд╕рдВрджрд░реНрдн рдкреБрд╕реНрддрдХреЗрдВ, рдЬрд┐рдирдХреЗ рдмрд┐рдирд╛, рдареАрдХ рд╣реИ, рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдЕрд╕рдВрднрд╡ рдерд╛, рдФрд░ рдмрд╛рдХреА рд╕рднреА рд╕реНрд╡рд╛рдпрддреНрдд рд╣реИрдВред  рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рд╡реЗ рдХреЗрдВрджреНрд░реАрдп рдХрд╛рд░реНрдпрд╛рд▓рдп рдореЗрдВ рд╢рд╛рдЦрд╛ рдЕрдбреНрдбреЛрдВ рдХреА рдкреНрд░рддрд┐рдпреЛрдВ (рдЙрдирдореЗрдВ рд╕реЗ рджрд░реНрдЬрдиреЛрдВ!) рдХреЗ рд╕рд╛рде рд╕рдВрддреБрд╖реНрдЯ рдереЗ, рд▓реЗрдХрд┐рди рдЙрдирдореЗрдВ рдбреЗрдЯрд╛ рдХрдИ рджрд┐рдиреЛрдВ рддрдХ рдкрд┐рдЫрдбрд╝ рдЧрдпрд╛ рдерд╛ред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рд╡рд╛рд╕реНрддрд╡рд┐рдХрддрд╛ рдХреЛ рдЕрдзрд┐рдХ рддреЗрдЬрд╝реА рд╕реЗ рдФрд░ рд▓рдЪреАрд▓реЗ рдврдВрдЧ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреБрдЫ рдФрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдПрдХ рд▓реЗрдЦрд╛ рдкреНрд░рдгрд╛рд▓реА рд╕реЗ рджреВрд╕рд░реЗ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рдЕрднреА рднреА рдПрдХ рджрд▓рджрд▓ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдПрдХ рдбреЗрдЯрд╛ рд╡реЗрдпрд░рд╣рд╛рдЙрд╕ (рдбреАрдПрдХреНрд╕) рдмрдирд╛рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╡рд╛рд╣рд┐рдд рд╣реЛрдЧреА, рддрд╛рдХрд┐ рдмрд╛рдж рдореЗрдВ рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдХреНрдпреВрдмреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдгрд╛рддреНрдордХ рдкреНрд░рдгрд╛рд▓реА, рдПрд╕рдПрд╕рдЖрд░рдПрд╕ рд░рд┐рдкреЛрд░реНрдЯ рдФрд░ рд▓реАрдХреЗрдЬ рдЗрд╕ рд╕реАрдбреА рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВред <br><br>  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП, рдореИрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рдПрдХ рдирдИ рд▓реЗрдЦрд╛ рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд▓рдЧрднрдЧ рд╣реЛ рдЪреБрдХрд╛ рд╣реИ рдФрд░ рдпрд╣рд╛рдБ рд╡рд░реНрдгрд┐рдд рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд░реВрдк рд╕реЗ рдХрд╛рдЯ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдХреНрд╖рдорд╛ рдХрд░реЗрдВ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд▓реЗрдХрд┐рди рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рд▓рдВрдмрд╛ рд▓реЗрдЦ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдкрдврд╝рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ, рдореБрдЭреЗ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ рдореИрдВ рдЗрд╕ рдлреИрд╕рд▓реЗ рдХреЛ рдПрдХ рдорд╛рдирдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рд╢рд╛рдпрдж рдХрд┐рд╕реА рдХреЛ рдЗрд╕рдореЗрдВ рдХреБрдЫ рдЙрдкрдпреЛрдЧреА рдорд┐рд▓реЗрдЧрд╛ред <br><a name="habracut"></a><br>  рдореИрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реВрдВрдЧрд╛, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдПрд╕рдПрд╕рдбреАрдЯреА рдХреЛ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдЧрд┐рдЯ рдореЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдмрд╛рдж рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рд╕рд╛рде рдерд╛ред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдЬ рдкрд░реНрдпрд╛рдкреНрдд рд╡рд┐рднрд┐рдиреНрди рд▓реЗрдЦ рдФрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рд╣реИрдВ рдЬреЛ рдЗрд╕ рдЙрдкрдХрд░рдг рдХреА рддрд╛рдХрдд рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХреБрдЫ рдмрд┐рдВрджреБ рдРрд╕реЗ рд╣реИрдВ рдЬрд┐рдирдХреА рд╕рдорд╕реНрдпрд╛ рдЗрд╕ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рдмрд╛рд╣рд░ рд╣реИред <br><br><h4>  рдЧрдгрдирд╛ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рднрдВрдбрд╛рд░рдг </h4><br>  рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдЧрдгрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХрд╛ рдорддрд▓рдм рдерд╛: <br><br><ul><li>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рднреАрддрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреА рд╕реБрд╡рд┐рдзрд╛ </li><li>  рдкреНрд░рд╡реЗрд╢ рдХреЗ рд▓рд┐рдП SSMS рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ </li><li>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрд╕реНрдХрд░рдг рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдХреЛ рд╕рд╣реЗрдЬрдирд╛ (рдЬреЛ рдФрд░ рдЬрдм рддреИрдирд╛рддреА рдХреА рдЧрдИ) </li><li>  рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдирд╛ </li><li>  рд╕реНрдерд╛рдирд╛рдиреНрддрд░рдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рдЯреНрд░реИрдХрд┐рдВрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА </li><li>  рдпрджрд┐ рдХреЛрдИ рд╡рд░реНрдЬрди рд╕рдВрд╕реНрдХрд░рдг рдирд╣реАрдВ рдерд╛, рддреЛ рдХрд┐рд╕реА рдПрдХ рдХреЗ рдКрдкрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рд▓реЙрдХ </li><li>  рдПрдХ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛, рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдЗрддрд┐рд╣рд╛рд╕, рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдФрд░ рдкреБрдирд░реНрдЧрдарди рдХреЛ рдПрдХ рд▓реЗрдирджреЗрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдХрд┐рд╕реА рднреА рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╡рд╛рдкрд╕ рд▓реЗ рд▓рд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ul><br>  рдХреНрдпреЛрдВрдХрд┐  рд╕реНрдерд╛рдирд╛рдиреНрддрд░рдг рдореЗрдВ рдЕрдХреНрд╕рд░ рддрд░реНрдХ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рдореВрд▓реНрдп рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рдирдХреЗ рдмрд┐рдирд╛ рдЕрдиреНрдп рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдЬреЛрдбрд╝рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ (рдПрдлрдХреЗ рд╡рд┐рджреЗрд╢реА рдХреБрдВрдЬреА рдХреЗ рдХрд╛рд░рдг), рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рд╡реЗ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдХрд┐рд╕реА рднреА рдПрдиреНрдпреВрдорд░реЗрд╢рди рддрддреНрд╡ рдореЗрдВ рдмрджрд▓рд╛рд╡ рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИ рдФрд░, рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде, рд░рд┐рдХреЙрд░реНрдб рдХреЛ рддреИрдирд╛рддреА рдХреЗ рджреМрд░рд╛рди рдЕрджреНрдпрддрди рдХрд░рдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рджреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред <br><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдмрдврд╝рд╛рдП рдмрд┐рдирд╛ рддреИрдирд╛рддреА рдХреЛ рдЕрд╡рд░реБрджреНрдз рдХрд░рдиреЗ рдХреЗ рд╕рднреА рдлрд╛рдпрджреЗ рд╕реНрдкрд╖реНрдЯ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдПрдХ рдкреНрд░рдХрд╛рд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрдерддрд╛ рд╣реИ рдЕрдЧрд░ рдЗрд╕реЗ рдкрд╣рд▓реЗ рд╣реА рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рдЪреБрдХрд╛ рд╣реИред <br><br>  рдпрджреНрдпрдкрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдЕрдХреНрд╕рд░ рдХреЗрд╡рд▓ рдкреНрд░рдореБрдЦ рд╕рдВрд╕реНрдХрд░рдг (рднрд┐рдиреНрди рдХреЗ рдмрд┐рдирд╛) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рдордиреЗ XY рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛, рдЬрд╣рд╛рдВ рд╡рд╛рдИ рдкреИрдЪ рд╣реИ рдЬрдм рдЯрд╛рдЗрдкреЛ рдХреЛ рддрд╛рд▓рд┐рдХрд╛, рдХреЙрд▓рдо, рд▓рд┐рд╕реНрдЯрд┐рдВрдЧ рддрддреНрд╡ рдХреЗ рдирд╛рдо, рдпрд╛ рдХреБрдЫ рдФрд░ рдЫреЛрдЯреЗ, рдХреЗ рд╡рд┐рд╡рд░рдг рдореЗрдВ рд╕рд╣реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдПрдХ рдЯрд┐рдкреНрдкрдгреА рдЬреЛрдбрд╝рдирд╛, рдЖрджрд┐ред  рдЕрдиреНрдп рд╕рднреА рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдкреНрд░рдореБрдЦ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдирд┐рд░реНрдорд╛рдг рд╣реЛрддрд╛ рд╣реИред <br><br>  рд╢рд╛рдпрдж рдХрд┐рд╕реА рдХреЗ рд▓рд┐рдП рдРрд╕рд╛ рдХреБрдЫ рдирд╣реАрдВ <i>рд╣реИ</i> рдФрд░ рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рддрдп рд╕рдордп рдореЗрдВ, рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░реЙрдЬреЗрдХреНрдЯ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХреЛ рдХреИрд╕реЗ рд╕реНрдЯреЛрд░ рдХрд┐рдпрд╛ рдЬрд╛рдП, рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдВрддрд░рд┐рдХ рд╡рд┐рд╡рд╛рджреЛрдВ рдкрд░ рдмрд╣реБрдд рд╕рд╛рд░реА рдирд╕реЛрдВ рдФрд░ рдКрд░реНрдЬрд╛ рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛, рддрд╛рдХрд┐ рдпрд╣ рдлреЗрдВрдЧ рд╢реБрдИ ( <i>рдореЗрд░реЗ рд╡рд┐рдЪрд╛рд░ рдХреЗ рдЕрдиреБрд╕рд╛рд░</i> ) рд╣реЛ рдФрд░ рдпрд╣ рдЙрдирдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдерд╛ред рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реБрдПред <br><br>  рд╕реНрдерд╛рдирд╛рдиреНрддрд░рдг рдХреЗ рд╕рд╛рде, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИ - рд╣рдо рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдкреЛрд╕реНрдЯрдбреЗрдкреНрд▓реЛ рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдореЗрдВ рдХреЛрдб рд▓рд┐рдЦрддреЗ рд╣реИрдВред  рдорд░реНрдЬ рдпрд╛ рдЯреНрд░реЗрдВрдХреЗрдЯреНрд╕ рдХреЗ рд╕рд╛рде - рдпрд╣ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдХреИрд╕реЗ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВред  рд╣рдордиреЗ рдмреНрд▓рд┐рдВрдХ рдХрд░рдирд╛ рдкрд╕рдВрдж рдХрд┐рдпрд╛, рдкреВрд░реНрд╡-рдЬрд╛рдБрдЪ рдХрд░рдирд╛ рдХрд┐ рдХреНрдпрд╛ рд▓рдХреНрд╖реНрдп рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реНрд░реЛрдд (рдкрд░рд┐рдпреЛрдЬрдирд╛) рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред  рдпрджрд┐ рдпрд╣ рдЕрдзрд┐рдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдкрд╡рд╛рдж рдлреЗрдВрдХ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдЬреАрдм рд╣реИред  рд╕реНрд░реЛрдд рдореЗрдВ рдХрдо рд░рд┐рдХреЙрд░реНрдб рдХреНрдпреЛрдВ рд╣реИрдВ?  рдХреНрдпреЛрдВрдХрд┐ рдПрдХ рдЕрддрд┐рд╢реНрдпреЛрдХреНрддрд┐рдкреВрд░реНрдг рд╣реИ?  рдЕрдЪрд╛рдирдХ рдХреНрдпреЛрдВ?  рдФрд░ рдЕрдЧрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд▓рд┐рдВрдХ рд╣реИ?  рдпрджреНрдпрдкрд┐ рд╣рдо рд╡рд┐рджреЗрд╢реА рдХреБрдВрдЬреА (FK) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛, рдпрджрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдВрдХ рд╣реИрдВ, рддреЛ рд╣рдо рдЕрднреА рднреА рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЛ рдЫреЛрдбрд╝рдирд╛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВред  рдирддреАрдЬрддрди, PostDeploy рдПрдХ рдЕрдкрдардиреАрдп рд╢реАрдЯ рдореЗрдВ рдмрджрд▓ рдЧрдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореВрд▓реНрдпреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рд╕рддреНрдпрд╛рдкрди рдХреЛрдб, рдПрдХ рдорд░реНрдЬ, рдФрд░ рднреА рдмрд╣реБрдд рдХреБрдЫ рд╣реИред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк SQLDMD рдореЛрдб рдореЗрдВ PostDeploy рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдХреЛрдб рдХреЗ рдмреНрд▓реЙрдХ рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рдирд┐рдХрд╛рд▓рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, PostDeploy рдореЗрдВ рдПрдиреБрдорд░реЗрд╢рдВрд╕ рдХреЛ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рдирд╛рдореЛрдВ рдХреА рдХреЗрд╡рд▓ рдПрдХ рд╕рдВрд░рдЪрд┐рдд рд╕реВрдЪреА рдмрдиреА рд░рд╣рддреА рд╣реИред <br><br>  рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХреБрдЫ рдмрд╛рд░реАрдХрд┐рдпрд╛рдВ рд╣реИрдВред  рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ, рдЗрд╕реЗ рдХреИрд╕реЗ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ, рдХреНрдпрд╛ рдЗрд╕реЗ рдХрд╣реАрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдмрд╣рд╕ рдЪрд▓ рд░рд╣реА рд╣реИред  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдо рддрдп рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд╣рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдХрд┐рд╕ рд╕реНрдерд╛рди рдкрд░?  рдХрд╣реАрдВ рдкреЛрд╕реНрдЯрдбреЗрдкрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╡рд┐рд▓реНрдбреНрд╕ рдореЗрдВ, рдпрд╛ рдЗрд╕реЗ рдПрдХ рд╡реИрд░рд┐рдПрдмрд▓ рдореЗрдВ рдбрд╛рд▓реЗрдВ рдЬреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ? <br><br>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рди рддреЛ рдХреЛрдИ рдФрд░ рди рд╣реАред  рдЬрдм рдпрд╣ рдПрдХ рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ рддреЛ рдпрд╣ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рд╡рд╣рд╛рдБ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <br><br>  рдХреЛрдИ рдХрд╣реЗрдЧрд╛ - рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдЧреБрдгреЛрдВ рдореЗрдВ dacpac рд╣реИ рдФрд░ рдЖрдк рдЗрд╕рдореЗрдВ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдмреЗрд╢рдХ, рдЖрдк рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдЕрдкрдиреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рднреА рдЦреАрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рд╡рд░реНрдгрд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> , рд▓реЗрдХрд┐рди рдпрд╣ рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ - рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХрд╣реАрдВ рджреВрд░ рдЬрд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рдмрдЯрдиреЛрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдореИрдВ Microsoft рдХреЗ рддрд░реНрдХ рдХреЛ рдирд╣реАрдВ рд╕рдордЭ рдкрд╛ рд░рд╣рд╛ рд╣реВрдБ - рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрд╕реЗ рджреВрд░ рдХреЗ рдХреЛрдиреЗ рдореЗрдВ рдЫреБрдкрд╛ рджрд┐рдпрд╛, рдЬреИрд╕реЗ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдЬреИрд╕реЗ рдХрд┐ рдЫрдБрдЯрд╛рдИ, рд╕рдВрдЧрддрддрд╛ рд╕реНрддрд░, рдЖрджрд┐, рдХреНрдпреЛрдВрдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг "рдЕрдХреНрд╕рд░" рдХреЗ рд░реВрдк рдореЗрдВ рдЫрдБрдЯрд╛рдИ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдмрджрд▓рддрд╛ рд╣реИ, рд╣реИ рдирд╛?  рдЬрдм рдирд┐рд░рдВрддрд░ рд╡рд┐рдХрд╛рд╕ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рддреНрдпреЗрдХ рдирдИ рддреИрдирд╛рддреА рдХреЗ рд╕рд╛рде рдмрдирддрд╛ рд╣реИ, рдареАрдХ рд╣реИ, рдЯреНрд░реИрдХрд┐рдВрдЧ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рд╕реБрд╡рд┐рдзрд╛ рднреА рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рдПрдХ рдЕрдиреБрдХреВрд▓ рдирд╛рдо рдХреЗ рд╕рд╛рде рдПрдХ рдмрджрд▓реА рд╣реБрдИ рдлрд╛рдЗрд▓ рдЬрд▓рд╛рдИ рдЬрд╛рддреА рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рдмрд╛рдд рд╣реИ, рдФрд░ рдЬрдм .sqlproj рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЬрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ XML рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдХрдИ рд▓рд╛рдЗрдиреЗрдВ рд╣реЛрддреА рд╣реИрдВред , рдФрд░ рдЙрдирдХреЗ рдмреАрдЪ рдХрд╣реАрдВ рдПрдХ рдкрдВрдХреНрддрд┐ рдХреЗ рдХреЗрдВрджреНрд░ рдореЗрдВ рдПрдХ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдЕрдВрдХ рдЙрдЬрд╛рдЧрд░ рд╣реЛрддрд╛ рд╣реИ, рдХрд┐рд╕реА рддрд░рд╣ рдмрд╣реБрдд рдирд╣реАрдВред <br><br><img src="https://habrastorage.org/webt/bg/i3/48/bgi3485rgezdefuaami2weappqy.png"><br><br>  рдпрд╣реА рдмреЗрд╣рддрд░ рд╣реИ <br><br><img src="https://habrastorage.org/webt/ro/9y/ld/ro9yldaaeoqcmubpi42adq-so50.png"><br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рд╢рд╛рдпрдж рдпреЗ рд╕рд┐рд░реНрдл рдореЗрд░реЗ рдХреЙрдХрд░реЛрдЪ рд╣реИрдВ рдФрд░ рдЖрдкрдХреЛ рдЗрди рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЕрдм рд╕рд╡рд╛рд▓ рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддреИрдирд╛рдд рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХрд╣рд╛рдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдлрд┐рд░, рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ dacpac рдпрд╣ рдЦреВрдмрд╕реВрд░рддреА рд╕реЗ рдХрд░рддрд╛ рд╣реИ - рдпрд╣ рд╕рдм рдХреБрдЫ рд╕рд┐рд╕реНрдЯрдо рдкреНрд▓реЗрдЯреЛрдВ рдкрд░ рд▓рд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрдиреБрд░реЛрдз рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдпрд╛ рдпрд╣ рдЕрдиреНрдпрдерд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдЦрд╛рдирд╛ рдмрдирд╛рдирд╛ рд╣реИ? рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ SSMS рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдерд╛, рдФрд░ рдЕрдм рдХреЛрдИ) <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> msdb.dbo.sysdac_instances_internal</code> </pre> <br>  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЗ рд▓рд┐рдП (рдФрд░ рди рдХреЗрд╡рд▓) рдпрд╣ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рддрд╛рд░реНрдХрд┐рдХ рд╣реИ рдХрд┐ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕реАрдзреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЧреБрдгреЛрдВ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/ed/ax/le/edaxle3ic1lfwvaeuhhhphmrulo.png"><br><br>  рдпрд╛ рдирд╣реАрдВ? <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрдиреНрдирдд рдЧреБрдгреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реБрдП, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeployerName'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-string"><span class="hljs-string">''</span></span>; GO <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeploymentDate'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-string"><span class="hljs-string">''</span></span>; GO <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DBVersion'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-string"><span class="hljs-string">''</span></span>;</code> </pre> <br>  рд╣рд╛рдВ, рд╡реЗ рдЦрд╛рд▓реА рд╣реИрдВ, рдФрд░ рдпрд╣ рдПрдХ рдкреНрд░рдХрд╛рд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдмрджрд╕реВрд░рдд рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдЙрдирдХреЗ рдмрд┐рдирд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред  рдпрджрд┐ рдЙрдиреНрд╣реЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рд╡реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╣реЛрдВрдЧреЗ, рддреЛ рд╕реНрдЯреВрдбрд┐рдпреЛ рд╣рд░ рдмрд╛рд░ рдЙрдиреНрд╣реЗрдВ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдЧрд╛ред  (рдЗрд╕ рддреИрдирд╛рддреА рдХреЗ рдЖрд╕рдкрд╛рд╕ рдФрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рддреИрдирд╛рддреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рдмрд┐рдирд╛, рд▓реЗрдХрд┐рди рдХреЛрдИ рдлрд╛рдпрджрд╛ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИ) <br><br>  рд╣рдо PostDeploy рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЙрдирдХреЗ рд▓рд┐рдП рдорд╛рди рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> @username <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">256</span></span>) = suser_sname() ,@curdatetime <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">format</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">getdate</span></span>(),<span class="hljs-string"><span class="hljs-string">'dd.MM.yyyy HH:mm:ss'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_updateextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeployerName'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = @username; <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_updateextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DBVersion'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [$(DBVersion)]; <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_updateextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeploymentDate'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = @curdatetime;</code> </pre> <br>  <code>sp_updateextendedproperty</code> рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЬрд╛рдБрдЪ рдХреЗ <code>sp_updateextendedproperty</code> , рдХреНрдпреЛрдВрдХрд┐ рдЬрдм рддрдХ PostDeploy рд╕реЗ рдмреНрд▓реЙрдХ рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛ рдерд╛, рддрдм рддрдХ рд╡реЗ рдирд╣реАрдВ рд╣реЛрдиреЗ рдкрд░ рд╕рднреА рдЧреБрдг рдкрд╣рд▓реЗ рд╣реА рдмрди рдЪреБрдХреЗ рдереЗред <br><br>  рдЦреИрд░, рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдЗрддрд┐рд╣рд╛рд╕ рд░рдЦрдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдХреМрди рдФрд░ рдХрдм рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рддреИрдирд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реИред <br><br>  <b>рдЙрдиреНрдирдд рдкреНрд░рдХрд╛рд╢рди рд╡рд┐рдХрд▓реНрдк</b> рд╡рд┐рдВрдбреЛ рдореЗрдВ <b>рд▓реЗрди-рджреЗрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ</b> рдмреЙрдХреНрд╕ рдХреЛ <b>рд╕рдХреНрд╖рдо</b> рдХрд░рдХреЗ рдорд╛рдирдХ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЗрдирджреЗрди рдореЗрдВ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рддреИрдирд╛рддреА рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдзреНрд╡рдЬ рд▓рд┐рдкрд┐рдпреЛрдВ (рдкреНрд░реА / рдкреЛрд╕реНрдЯ) рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдпреЗ рдмрд┐рдирд╛ рд▓реЗрди-рджреЗрди рдХреЗ рдЪрд▓рддреЗ рд░рд╣рддреЗ рд╣реИрдВред  рдмреЗрд╢рдХ, рдХреБрдЫ рднреА рдкреЛрд╕реНрдЯрдбреЗрдкреНрд▓реЙрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд▓реЗрдирджреЗрди рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕реЗ рдЕрд▓рдЧ рд▓реЗрдирджреЗрди рд╣реЛрдЧрд╛, рдФрд░ рдкреЛрд╕реНрдЯрдбреЗрдкрд▓ рдореЗрдВ рдЕрдкрд╡рд╛рдж рд╣реЛрдиреЗ рдкрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХрд╛ рд╣рдорд╛рд░рд╛ рдХрд╛рдо рд╣реИред <br><br>  рд╕рдорд╛рдзрд╛рди рд╕рд░рд▓ рд╣реИ - PreDeploy рдореЗрдВ рд▓реЗрдирджреЗрди рд╢реБрд░реВ рдХрд░реЗрдВ, рдФрд░ рдЗрд╕реЗ PostDeploy рдореЗрдВ рдХрд░реЗрдВ, рдФрд░ рдЗрди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХрд╛рд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЪреЗрдХрдорд╛рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВред <br><br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд░реВрдк рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдФрд░ рддреИрдирд╛рддреА рдХреЗ рджреМрд░рд╛рди рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рдЗрд╕реЗ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк SQLCMD рдЯреЗрдмрд▓реНрд╕ рдХрд╛ рд╕рд╣рд╛рд░рд╛ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдореИрдВ рдХреЛрдб рдХреЗ рд╡рд┐рдХрд▓реЛрдВ рдореЗрдВ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдХрд╣реАрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛, рдореИрдВ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдпрд╣ рд╕рддрд╣ рдкрд░ рд╣реЛред <br><br><img src="https://habrastorage.org/webt/yg/qm/o9/ygqmo9wf5pnwnyx7kfnumsflps8.png"><br><br>  рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдПрдХ рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реНрддрд░ рдкрд░ рд╡рд╣рд╛рдБ рд╕реЗ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрди рдмреНрд▓реЙрдХ рдХреЛ .sqlproj рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BeforeBuild"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ReadLinesFromFile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">File</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(ProjectDir)\Properties\DBVersion"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Output</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">TaskParameter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Lines"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">PropertyName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ExtDBVersion"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ReadLinesFromFile</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WriteLinesToFile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">File</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(ProjectDir)\\SetPreDepVarsTmp.sql"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Lines</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">":setvar DBVersion $(ExtDBVersion)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Overwrite</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рдпрд╣ MSBuild рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢ рд╣реИ рдХрд┐ рд╡рд╣ рдирд┐рд░реНрдорд╛рдг рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдПрдХ рдкрдВрдХреНрддрд┐ рдХреЛ рдкрдврд╝реЗрдВ рдФрд░ рд░реАрдб рдбреЗрдЯрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБред  MSBuild рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓ <code>SetPreDepVarsTmp.sql</code> , рдЬреЛ рдкрдВрдХреНрддрд┐ <code>:setvar DBVersion $(ExtDBVersion)</code> , рдЬрд╣рд╛рдБ <code>$(ExtDBVersion)</code> рд╣рдорд╛рд░реЗ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдкрдврд╝рд╛ рдЧрдпрд╛ рдорд╛рди рд╣реИ рдЬреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред <br><br>  рдЗрд╕ рддрд░рд╣ рдХреА рдЬреЛрдбрд╝рддреЛрдбрд╝ рдХреЗ рдмрд╛рдж, рдЖрдк рдЗрд╕ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓ рдХреЛ PreDeploy рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реЗ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдореЗрдВ рд╡реИрд╢реНрд╡рд┐рдХ рд▓реЗрдирджреЗрди рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs">:r .\SetPreDepVarsTmp.sql go :r ".\BeginTransaction.sql"</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдордзреНрдпрд╡рд░реНрддреА рд╕рдВрд╕реНрдХрд░рдг</b> <div class="spoiler_text">  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, ExtendedProperties.sql рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЦрд╛рд▓реА рдорд╛рди рдирд╣реАрдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЪрд░ рд╕реЗ рдорд╛рди <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeployerName'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [$(DeployerName)]; GO <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DeploymentDate'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [$(DeploymentDate)]; GO <span class="hljs-keyword"><span class="hljs-keyword">EXECUTE</span></span> sp_addextendedproperty @<span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'DBVersion'</span></span>, @<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [$(DBVersion)];</code> </pre> <br>  рдЪрд░, рдмрджрд▓реЗ рдореЗрдВ, MSPuild рджреНрд╡рд╛рд░рд╛ SetPreDepVarsTmp.sql рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкрдВрдЬреАрдХреГрдд рдХрд┐рдП рдЧрдП рдереЗ: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CurrentDateTime</span></span></span><span class="hljs-tag">&gt;</span></span>$([System.DateTime]::Now.ToString(dd.MM.yyyy HH:mm:ss))<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">CurrentDateTime</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NewLine</span></span></span><span class="hljs-tag">&gt;</span></span> -- <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NewLine</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BeforeBuild"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ReadLinesFromFile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">File</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(ProjectDir)\DBVersion"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Output</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">TaskParameter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Lines"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">PropertyName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ExtDBVersion"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ReadLinesFromFile</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WriteLinesToFile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">File</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(ProjectDir)\SetPreDepVarsTmp.sql"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Lines</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">":setvar DBVersion $(ExtDBVersion)$(NewLine):setvar DeploymentDate "</span></span></span><span class="hljs-tag">$(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CurrentDateTime</span></span></span><span class="hljs-tag">)"$(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">NewLine</span></span></span><span class="hljs-tag">)</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:setvar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DeploymentUser</span></span></span><span class="hljs-tag"> $(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">UserDomain</span></span></span><span class="hljs-tag">)\$(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">UserName</span></span></span><span class="hljs-tag">)" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Overwrite</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ PostDeploy рдореЗрдВ рдЗрди рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд░реЗрд╢рд╛рдиреА рдпрд╣ рд╣реИ рдХрд┐ SetPreDepVarsTmp.sql рдореЗрдВ рд╕реНрдерд┐рд░ рдореВрд▓реНрдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдФрд░ рдпрджрд┐ рдкреНрд░рдХрд╛рд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЕрднреА рдЙрддреНрдкрдиреНрди рд╣реБрдИ рдереА, рд▓реЗрдХрд┐рди рдПрдХ рдШрдВрдЯреЗ рдореЗрдВ рддреИрдирд╛рдд рдХреА рдЧрдИ, рдпрд╛ рдЗрд╕рд╕реЗ рднреА рдмрджрддрд░, рдЕрдЧрд▓реЗ рджрд┐рди (рдбреЗрд╡рд▓рдкрд░ рдиреЗ рдЗрд╕реЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЬрд╛рдВрдЪрд╛ред рдиреЗрддреНрд░рд╣реАрди, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП), рдЧреБрдгреЛрдВ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд╢рди рддрд┐рдерд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкреНрд░рдХрд╛рд╢рди рддрд┐рдерд┐ рд╕реЗ рднрд┐рдиреНрди рд╣реЛрдЧреА рдФрд░ рдЗрддрд┐рд╣рд╛рд╕ рдореЗрдВ рддрд╛рд░реАрдЦ рдХреЗ рд╕рд╛рде рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреАред <br></div></div><br><div class="spoiler">  <b class="spoiler_title">BeginTransaction.sql рдлрд╝рд╛рдЗрд▓ рд╕рд╛рдордЧреНрд░реА</b> <div class="spoiler_text">  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдпрд╣ рдорд╛рдирдХ рд▓реЗрдирджреЗрди рдкреНрд░рд╛рд░рдВрдн рдмреНрд▓реЙрдХ рд╕реЗ рд╕рд┐рд░реНрдл рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рд╣реИ рдЬрд┐рд╕реЗ рд╕реНрдЯреВрдбрд┐рдпреЛ рддрдм рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ рдЬрдм <b>рд▓реЗрдирджреЗрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ</b> рдЪреЗрдХ рдмреЙрдХреНрд╕ <b>рдЪрдпрдирд┐рдд рд╣реЛрддрд╛ рд╣реИ</b> , рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕реЗ рдЕрдкрдиреЗ рддрд░реАрдХреЗ рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ, рдХреЗрд╡рд▓ рдЕрд╕реНрдерд╛рдпреА рддрд╛рд▓рд┐рдХрд╛ рдирд╛рдо рдХреЛ <code>#tmpErrors</code> рд╕реЗ рдмрджрд▓рдХрд░ <code>#tmpErrors</code> рдХрд░ рджрд┐рдпрд╛ <code>#tmpErrorsManual</code> рддрд╛рдХрд┐ рдХреЛрдИ рдирд╛рдо рд╕рдВрдШрд░реНрд╖ рди рд╣реЛ рдЕрдЧрд░ рдХреЛрдИ рдЪреЗрдХрдмреЙрдХреНрд╕ рдЪрд╛рд▓реВ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="sql hljs">IF (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> OBJECT_ID(<span class="hljs-string"><span class="hljs-string">'tempdb..#tmpErrors'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-comment"><span class="hljs-comment">#tmpErrorsManual GO CREATE TABLE #tmpErrorsManual (Error int) GO SET XACT_ABORT ON GO SET TRANSACTION ISOLATION LEVEL READ COMMITTED GO BEGIN TRANSACTION GO</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">PostDeploy рд╕реНрдХреНрд░рд┐рдкреНрдЯ</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> @TableName <span class="hljs-built_in"><span class="hljs-built_in">VarChar</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-comment"><span class="hljs-comment">--        if $(SkipEnumDeploy) = 0 begin PRINT N' ...' :r ..\\EnumTable1.sql end --   PRINT N'  ...'; declare @username varchar(256) = suser_sname() , @curdatetime varchar(20) = format(getdate(),'dd.MM.yyyy HH:mm:ss') if $(DBVersion) &gt; (select isnull( MAX( DBVersion),0) from zDBVersionHistory) begin insert into zDBVersionHistory( DBVersion, DeploymentDate, DeployerName) values ($(DBVersion),@curdatetime,@username) EXECUTE sp_updateextendedproperty @name = N'DeployerName', @value = @username; EXECUTE sp_updateextendedproperty @name = N'DBVersion', @value = [$(DBVersion)]; EXECUTE sp_updateextendedproperty @name = N'DeploymentDate', @value = @curdatetime; end else begin RaisError ( N':          ,  .      ,        DBVersion          .' , 16 , 1 ) WITH SETERROR; end GO :r ".\CaptureTransactionError.sql" :r ".\CommitTransaction.sql"</span></span></code> </pre> <br>  SkipEnumDeploy рд╡реИрд░рд┐рдПрдмрд▓, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдЖрдкрдХреЛ рдЕрдкрдбреЗрдЯрд┐рдВрдЧ рд▓рд┐рд╕реНрдЯрд┐рдВрдЧ рдХреЗ рдЪрд░рдг рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдпрд╣ рдорд╛рдореВрд▓реА рдХреЙрд╕реНрдореЗрдЯрд┐рдХ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзрд░реНрдо рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдпрд╣ рд╕рдЪ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕реНрддрд░ рдкрд░ рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИред <br></div></div><br>  <code>CaptureTransactionError.sql</code> рдФрд░ <code>CaptureTransactionError.sql</code> рдлрд╝рд╛рдЗрд▓реЗрдВ рднреА рдорд╛рдирдХ рд▓реЗрди-рджреЗрди рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╕реЗ рдХреЙрдкреА рдкреЗрд╕реНрдЯ (рдорд╛рдореВрд▓реА рдмрджрд▓рд╛рд╡ рдХреЗ рд╕рд╛рде) рд╣реИрдВ рдЬреЛ рд╕реНрдЯреВрдбрд┐рдпреЛ рдЙрдкрд░реЛрдХреНрдд рдЭрдВрдбреЗ рдХреЗ рд╕реЗрдЯ рд╣реЛрдиреЗ рдкрд░ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЬрд┐рд╕реЗ рд╣рдо рдЕрдм рдЕрдкрдиреЗ рджрдо рдкрд░ рдЦреЗрд▓рддреЗ рд╣реИрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рд╡рд┐рд╖рдп-рд╡рд╕реНрддреБ</b> <div class="spoiler_text"><pre> <code class="sql hljs">IF @@ERROR &lt;&gt; 0 AND @@TRANCOUNT &gt; 0 <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ROLLBACK</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> @@TRANCOUNT = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-comment"><span class="hljs-comment">#tmpErrorsManual (Error) VALUES (1); BEGIN TRANSACTION; END</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">рдХрдорд┐рдЯреЗрд╢рдиред Sql рд╕рд╛рдордЧреНрд░реА</b> <div class="spoiler_text"><pre> <code class="sql hljs">IF EXISTS (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-comment"><span class="hljs-comment">#tmpErrorsManual) ROLLBACK TRANSACTION GO DROP TABLE #tmpErrorsManual GO IF @@TRANCOUNT&gt;0 BEGIN PRINT N'     .' COMMIT TRANSACTION END ELSE RaisError ( N'    .' , 16 , 1 );</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">рд╕рд╛рдордЧреНрд░реА EnumTable1.sql</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @TableName = N<span class="hljs-string"><span class="hljs-string">'Table1'</span></span> PRINT N<span class="hljs-string"><span class="hljs-string">'  '</span></span>+@TableName+<span class="hljs-string"><span class="hljs-string">'...'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> try <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nocount <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">drop</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> <span class="hljs-comment"><span class="hljs-comment">#tmpEnums; select * into #tmpEnums from (values ( 0, ' 1') , ( 1, ' 2') , ( 2, ' 3') ) as tmp ( Id , Title ) set nocount off --         If ((select count(*) from Table1) &gt; (select count(*) from #tmpEnums)) begin RaisError ( N':      ,   .' , 0 , 1 ) WITH SETERROR; end set Identity_insert Table1 on Merge Table1 as target Using ( select * from #tmpEnums except select * from dbo.Table1 ) as source on target.Id = source.Id when matched then update set target.Title = source.Title when not matched by target then insert ( Id , Title ) values ( source.Id , source.Title ); set Identity_insert Table1 off drop table if exists #tmpEnums; END TRY begin catch IF @@trancount &gt; 0 ROLLBACK TRANSACTION set @Error_Message = Error_Message(); RaisError ( N': %s.' , 0 , 1 , @Error_Message ) WITH SETERROR; end catch :r "..\\CaptureTransactionError.sql"</span></span></code> </pre> <br></div></div><br>  <code>Publish</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдирд┐рдореНрди рд╕рдВрд░рдЪрдирд╛ рд╣реЛрдЧреА <br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">-- PreDeploy ----:setvar DBVersion "10.6" --   ,     DBVersion ----   --    ,           -- PostDeploy ----  ----   ----  </span></span></code> </pre> <br><br>  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдореИрдВ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рд╕рдордп рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП <br><img src="https://habrastorage.org/webt/8a/9w/o2/8a9wo2o5lemfglm1ru1kt5yntdm.png"><br><br>  рд▓реЗрдХрд┐рди рдЖрдк рдЗрд╕ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдорд╛рди рдирд╣реАрдВ рдЦреАрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ MSBuild рдЗрд╕реЗ рдкрдврд╝рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ .DBqproj рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рдорджрдж рд╕реЗ рдПрдХреНрд╕рдЯреАрдбреА рд╡рд░реНрдЬрди рд╕рдВрдкрддреНрддрд┐ рдореЗрдВ рдбрд╛рд▓рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдирд┐рд░реНрдорд╛рдг <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SqlCmdVariable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DBVersion"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefaultValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefaultValue</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>$(ExtDBVersion)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SqlCmdVariable</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рд▓реБрдврд╝рдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдЕрдкрдиреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрдм рдбрд╛рдпрд░реА</a> рдореЗрдВ рд╕рд┐рдХреНрд╡рд▓ рдбреЗрд╡рд▓рдкрд░реНрд╕ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрдирдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЬрд╛рджреВ <code>SqlCommandVariableOverride</code> рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИ, рдЬреЛ рд╕рд░рд▓ рд╣реИ - .sqlproj рдкрд░рд┐рдпреЛрдЬрдирд╛ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВред <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SqlCommandVariableOverride</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DBVersion=$(ExtDBVersion)"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рдФрд░ рдХрд┐рдпрд╛ред  рдЕрдЪреНрдЫрд╛ рдкреНрд░рдпрд╛рд╕ рд╣реИ, рд▓реЗрдХрд┐рди рдирд╣реАрдВред  рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдпрд╣ рдмреНрд▓реЙрдЧ рдкреЛрд╕реНрдЯ рдкреНрд░рдХрд╛рд╢рд┐рдд рд╣реБрдЖ рдерд╛, рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд┐рдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рддрдм рд╕реЗ рдЗрди рдЕрдореЗрд░рд┐рдХрд╛ рдореЗрдВ рдЖрдк рддреАрди рд░рд╛рд╖реНрдЯреНрд░рдкрддрд┐ рдЪреБрдирд╛рд╡ рд╣реБрдП рд╣реИрдВ рдФрд░ рдХрд┐рд╕реА рдХреЛ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдирд┐рд░реНрджреЗрд╢ рдХрд▓ рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/xv/d9/li/xvd9liiwyjicnv5icr9d1utjnxs.jpeg"><br><br>  рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдПрдХ рдХреЙрдорд░реЗрдб рдиреЗ рд╕рднреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рд▓реЗрдХрд┐рди рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдиреЗ рднреА рдирд╣реАрдВ рд▓рд┐рдпрд╛ред <br><br>  рдЗрд╕рд▓рд┐рдП, рдпрд╛ рддреЛ dacpac рд╕реЗ рд╕рдВрд╕реНрдХрд░рдг рд▓реЗрдВ, рдпрд╛ рдЗрд╕реЗ PostDeploy рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВ, рдпрд╛ рдПрдХ рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рдпрд╛ _________ (рдЕрдкрдирд╛ рд╕рдВрд╕реНрдХрд░рдг рджрд░реНрдЬ рдХрд░реЗрдВ)ред <br><br><h4>  1 рд╕реА рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг </h4><br>  рдкрд╣рд▓реА рд╕рдорд╕реНрдпрд╛ рдпрд╣ рдереА рдХрд┐ 1C77 рдХреЗ рдкрд╛рд╕ рдХреЛрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд░реНрд╡рд░ рдпрд╛ рдЕрдиреНрдп рдбреЗрдореЙрди рдирд╣реАрдВ рд╣реИ рдЬреЛ рдЗрд╕реЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд▓реЙрдиреНрдЪ рдХрд┐рдП рдмрд┐рдирд╛ рдЗрд╕рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  1C77 рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдкреВрд░реНрдг рдХрдВрд╕реЛрд▓ рдореЛрдб рдирд╣реАрдВ рд╣реИред  рдЖрдк рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЛ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЙрдирдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреБрдЫ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдмрд╣реБрдд рдХрдо рдХрдВрд╕реЛрд▓ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВ рдФрд░ рдЙрдирдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдЕрд▓рдЧ рдерд╛ред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЙрдирдХреА рдорджрдж рд╕реЗ, рдЖрдк рдПрдХ рдкреВрд░реЗ рд╕рдВрдпреЛрдЬрди рдХреЛ рдирд╛рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рдЙрдбрд╝ рд╕рдХрддрд╛ рд╣реИ, рдпрд╣ рдПрдХ рдореЛрдбрд▓ рд╡рд┐рдВрдбреЛ рдХреЛ рдмрд╛рд╣рд░ рд▓рд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рдХреЛ рдУрдХреЗ рдФрд░ рдЕрдиреНрдп рдЖрдХрд░реНрд╖рдг рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдФрд░, рд╢рд╛рдпрдж, рд╕рдмрд╕реЗ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ - рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреА рдЧрддрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдХреБрдЫ рдЫреЛрдбрд╝ рджреЗрддреА рд╣реИ ... рдЗрд╕рд▓рд┐рдП, 1 рд╕реА рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рд╕рдорд╛рдзрд╛рди рд╣реИ - рдкреНрд░рддреНрдпрдХреНрд╖ рдкреНрд░рд╢реНрдиред  рд╕рдВрд░рдЪрдирд╛ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдЖрдк рдХреЗрд╡рд▓ рдЗрди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдирд╣реАрдВ рд▓реЗ рд╕рдХрддреЗ рдФрд░ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд▓рд╛рдн рдпрд╣ рд╣реИ рдХрд┐ рдПрдХ рд╕рдВрдкреВрд░реНрдг рд╕рдореБрджрд╛рдп рд╣реИ рдХрд┐ рдПрдХ рд╕рдордп рдореЗрдВ рдПрдХ рдЕрджреНрднреБрдд рдЙрдкрдХрд░рдг рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ - 1 рд╕реА ++ (1cpp.dll), рдЬреЛ рдЙрдирдХреЗ рд▓рд┐рдП рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реИ!  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЖрдкрдХреЛ 1 рд╕реА рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкреНрд░рд╢реНрди рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рддрдм рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдФрд░ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдирд╛рдореЛрдВ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдХрд┐рд╕реА рдХреЛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдПрдХ рдЫрджреНрдо рдирд╛рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд░реЛрдз рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛ <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> $.</code> </pre> <br>  рдРрд╕рд╛ рдЕрдиреБрд░реЛрдз рдордиреБрд╖реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд░реНрд╡рд░ рдкрд░ рдРрд╕реА рдХреЛрдИ рддрд╛рд▓рд┐рдХрд╛ рдФрд░ рдлрд╝реАрд▓реНрдб рдирд╣реАрдВ рд╣реИ, рдЕрдиреНрдп рдирд╛рдо рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП 1C ++ рдЗрд╕реЗ рдореЗрдВ рдмрджрд▓ рджреЗрдЧрд╛ <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> SP5278 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> SC2235</code> </pre> <br>  рдФрд░ рдРрд╕рд╛ рдЕрдиреБрд░реЛрдз рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдордЭрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рд░ рдХреЛрдИ рдЦреБрд╢ рд╣реИ, рдХреЛрдИ рднреА рд╢рдкрде рдирд╣реАрдВ рд▓реЗрддрд╛ рд╣реИ - рди рддреЛ рдПрдХ рд╡реНрдпрдХреНрддрд┐, рди рд╣реА рдПрдХ рд╕рд░реНрд╡рд░ред  рдпрд╣рд╛рдБ, рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ, рдЗрд╕ рдореБрджреНрджреЗ рдХреЛ рд╣рд▓ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рджреВрд╕рд░реА рд╕рдорд╕реНрдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╡рд┐рдорд╛рди рдореЗрдВ рд╣реИ: рдПрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢рд╛рдЦрд╛рдУрдВ рдореЗрдВ, рджреВрд╕рд░реЗ рдореЗрдВ рдХреЗрдВрджреНрд░реАрдп рдХрд╛рд░реНрдпрд╛рд▓рдп рдореЗрдВ рдФрд░ рддреАрд╕рд░реЗ рдореЗрдВ рд╢рд╛рдЦрд╛рдУрдВ рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛!  рдХрдХреНрд╖рд╛ !! 1 рдореБрдЭреЗ рднреА рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╡реЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд┐рд░рд╛рд╕рдд рднреА рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╡рд╛рдЗрдХрд┐рдВрдЧреНрд╕ рдХреЗ рджреМрд░рд╛рди рдЦрд░реЛрдВрдЪ рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░, рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЯ рдиреЗ рдЗрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдиреАрдВрд╡ рдирд╣реАрдВ рд░рдЦреА ... рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рд╡рд┐рд╡рд░рдг рдХрд╛ рдПрдХ рдЕрд▓рдЧ рд╕реЗрдЯ рд╣реИред  рд▓реЗрдХрд┐рди рди рдХреЗрд╡рд▓ рдХреБрдЫ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рдирд╛рдо рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрддреЗ рд╣реИрдВ, рдЬреЛ рд╡рд┐рд╡рд░рдг рдХреЗ рдирд╛рдореЛрдВ рдХреЗ рд╕рдорд╛рди рд╣реЛрдиреЗ рдкрд░ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдордЬреЗрджрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рдХрд╛ рдЕрд░реНрде рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/hs/jx/sv/hsjxsv_f7qy4xlgpwjiw7uir0ko.jpeg"><br><br>  рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рд▓рдЧрднрдЧ рдХреЛрдИ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреА рдкреЗрдЪреАрджрдЧрд┐рдпреЛрдВ рдкрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдХрднреА-рдХрднреА рдореБрдЭреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реЗ рдХреБрдЫ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рддрд░реНрдХ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдорд╛рдорд▓реЛрдВ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рдл рд▓реЗрдирджреЗрди рдкрд░ рдПрдХ рдкреВрд░реА рд╢реАрдЯ рд▓рд┐рдЦрдиреА рд╣реЛрддреА рдереА, рдЬреЛ рдкреНрд░рдкрддреНрд░ рдкрд░ рдкрд╛рда рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХреБрдЫ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рдЯреАрдо рдХреЛ рд╢реНрд░рджреНрдзрд╛рдВрдЬрд▓рд┐ рдЕрд░реНрдкрд┐рдд рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдиреЗ рдЗрди рд╕рднреА рд╡рд░реНрд╖реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд┐рдпрд╛ рдЬреЛ рдЙрдиреНрд╣реЗрдВ "рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдирдХрд░реНрддрд╛рдУрдВ" рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛, рдпрд╣ рдПрдХ рдмрд╣реБрдд рдмрдбрд╝рд╛ рдХрд╛рдо рд╣реИ - рдЗрд╕рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдирд╛ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХреБрдЫ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рдирд╛ред  рдЬрдм рддрдХ рдЖрдк рджреЗрдЦрддреЗ рд╣реИрдВ - рдЖрдк рд╕рдордЭ рдирд╣реАрдВ рдкрд╛рддреЗ рд╣реИрдВ, рдореИрдВ рдЦреБрдж рдкрд╣рд▓реЗ рдпрд╣ рдирд╣реАрдВ рдорд╛рдирддрд╛ рдерд╛ рдХрд┐ рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рдЬрдЯрд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдкреВрдЫреЗрдВ - рд╕реНрдХреНрд░реИрдЪ рд╕реЗ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдирд╛?  рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдХрдореА  рдХрдВрдкрдиреА рдЗрддрдиреА рддреЗрдЬреА рд╕реЗ рд╡рд┐рдХрд╛рд╕ рдХрд░ рд░рд╣реА рдереА рдХрд┐, рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреА рдПрдХ рдмрдбрд╝реА рдЯреАрдо рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд╡реЗ рдмрд╕ рд╡реНрдпрд╡рд╕рд╛рдп рдХреА рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд╕рд╛рде рдирд╣реАрдВ рд░рдЦ рд╕рдХрддреЗ рдереЗ, рди рдХрд┐ рдкреВрд░реА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдирд╛ред <br><br>  рд╣рдо рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рдХрд╣рд╛рдиреА рдЬрд╛рд░реА рд░рдЦрддреЗ рд╣реИрдВред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдбреЗрдЯрд╛ рдирд┐рд╖реНрдХрд░реНрд╖рдг рдХреЗ рд▓рд┐рдП рд╕рднреА рдмреНрд▓реЙрдХ рд╕реНрдЯреЛрд░реЗрдЬ рдореЗрдВ рдмрджрд▓ рдЧрдП рддрд╛рдХрд┐ рдмрд╛рдж рдореЗрдВ рдЙрдиреНрд╣реЗрдВ 1C рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рдХреЗ рд╕рд░реНрд╡рд░ рд╕рд╛рдЗрдб рдкрд░ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдирд┐рдпрдо рдпрд╣ рдерд╛: рдПрдХ рднрдВрдбрд╛рд░рдг рдПрдХ рдЗрдХрд╛рдИ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдХреНрдпреЛрдВрдХрд┐  рд╢реБрд░реБрдЖрддреА рдЪрд░рдг рдореЗрдВ рд╡рд┐рд╢рд▓рд┐рд╕реНрдЯ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬрдорд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд░реНрд╖реЛрдВ рд╕реЗ рджрд░реНрджрдирд╛рдХ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдлрд┐рд░ рджрд░реНрдЬрдиреЛрдВ рднрдВрдбрд╛рд░рдг рдлрд╛рдЗрд▓реЗрдВ рдирд┐рдХрд▓ рдЧрдИ рд╣реИрдВред <br><br>  рддреАрд╕рд░реА рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рд╡рд┐рдХрд╛рд╕ рдХреА рдЧрддрд┐ рдФрд░ рдЧреБрдгрд╡рддреНрддрд╛ рдХреИрд╕реЗ рдмрдврд╝рд╛рдИ рдЬрд╛рдП, рдФрд░ рдлрд┐рд░ рдЗрд╕ рд╕рднреА рд░рд╛рдХреНрд╖рд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдП?  1 рд╕реА ++ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдиреБрд░реЛрдз рд▓рд┐рдЦреЗрдВ рдФрд░ рднрдВрдбрд╛рд░рдг рдореЗрдВ рдЗрд╕рдХреЗ рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ?  рдпрд╣ рдмрд╣реБрдд рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдФрд░ рдердХрд╛рдК рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдПрдХ рдЙрдЪреНрдЪ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ - рдЧрд▓рдд рдПрдХ рдпрд╛ рдЧрд▓рдд рдХреЛ рдХреЙрдкреА рдХрд░реЗрдВ рдпрд╛ рдХреНрд╡реЗрд░реА рдХреА рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ рдХрд╛ рдЪрдпрди рди рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдмрд┐рдирд╛ рдХреЙрдкреА рдХрд░реЗрдВред  рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рдЪ рд╣реИ рдЬрдм рдпрд╣ 1C рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ <i>рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА</i> рддрд░рд╣ рдХреЛрдИ рдЫрджреНрдо рдирд╛рдо рдирд╣реАрдВ рд╣реИ <i>ред</i> рдирд╛рдордХрд░рдгред рдЕрдиреБрдЪреНрдЫреЗрдж, рдХреЗрд╡рд▓ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдирд╛рдо <i>SC2235.SP5278</i> рдФрд░ рдЗрд╕рд▓рд┐рдП рд╕рд╛рдорд╛рдиреЛрдВ рдХреА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рддрд╣рдд рдПрдХ рдЕрдиреБрд░реЛрдз рдХреЛ рдХреЙрдкреА рдХрд░рдирд╛ рдЬреЛ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред  рдмреЗрд╢рдХ, рдЕрдиреБрд░реЛрдз рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЧрдВрддрд╡реНрдп рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рдХрд╛рд░ рдФрд░ рдлрд╝реАрд▓реНрдбреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмреЗрдореЗрд▓ рд╣реЛрдиреЗ рдХреЗ рдХрд╛рд░рдг рдЧрд┐рд░рд╛рд╡рдЯ рдЖрдПрдЧреА, рд▓реЗрдХрд┐рди рд╕рдорд╛рди рдкреНрд▓реЗрдЯреНрд╕ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдЧрдгрдирд╛, рдЬрд╣рд╛рдВ рдХреЗрд╡рд▓ рджреЛ рдХреЙрд▓рдо рдЖрдИрдбреА рдФрд░ рдирд╛рдо рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рдХреЗрд╡рд▓ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╣рддрд╛ рд╣реИред  рдЦреИрд░, рдкрд░реНрдпрд╛рдкреНрдд рдЧреАрдд, рдЪрд▓реЛ рд╡реНрдпрд╛рдкрд╛рд░ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдЙрддрд░реЛ! <br><br>  рдореИрдВ рдЪрд╛рд╣рддрд╛ рдерд╛ рдХрд┐ рднрдВрдбрд╛рд░рдг рд╡рд┐рдХрд╛рд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдШрдЯреЗ: <br><br><ol><li>  рд╣рдо рдЫрджреНрдо рдирд╛рдореЛрдВ рдХреЗ рд╕рд╛рде SQL рдХреНрд╡реЗрд░реА рдХреЛ рдареАрдХ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ </li><li>  рд╣рдо рдПрдХ <b>рдореИрдЬрд┐рдХ рдмрдЯрди рджрдмрд╛рддреЗ рд╣реИрдВ</b> рдФрд░ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдкрд░ рд╣рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд SQL рдкрд░ рд╕рд╣реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд╛рд░реНрдпрд╡рд┐рдзрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИ, рдЬреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕реНрдкрд╖реНрдЯ рд╣реИ </li></ol><br><h4>  рдХреБрдЫ рд╡рд┐рд╡рд░рдг </h4><br>  рддреАрд╕рд░реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╛рд╣рд░реА рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг (.ert) рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдерд╛ред  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдХрдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рдЫрджреНрдо рдирд╛рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдЗрдХрд╛рдИ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА рдкрд╛рда рд╣реЛрддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> $.</code> </pre> <br>  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдлреЙрд░реНрдо рдкрд░, рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд╖реЗрддреНрд░ рд╣реИ, рдЕрд░реНрдерд╛рддред  рдЕрдиреБрд░реЛрдз рдПрдХ рдРрд╕реЗ рд░реВрдк рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЗрд╕реЗ рдЬрд▓реНрджреА рд╕реЗ рдЖрдЬрд╝рдорд╛ рд╕рдХреЗрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, <b>рдбрд┐рдмрдЧ рдмреНрд▓реЙрдХ рдХреЛ</b> рд╣рдореЗрд╢рд╛ рдЗрд╕ рдЕрдиреБрд░реЛрдз рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЪрд░ рдХреА рдШреЛрд╖рдгрд╛ рдХреЗ рд╕рд╛рде, рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛рдмреЗрд╕, рд╕рд░реНрд╡рд░ рдФрд░ рдЕрдзрд┐рдХ рдХреЗ рдирд╛рдоред  рдпрд╣ рдХреЗрд╡рд▓ SSMS рдореЗрдВ рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рдХрд░рдиреЗ рдФрд░ F5 рджрдмрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реА рд░рд╣рддрд╛ рд╣реИред  рдЖрдк рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдЕрдиреБрд░реЛрдз рдХреЛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд╣реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдиреБрд░реЛрдз рдпреЛрдЬрдирд╛ рдФрд░ рдпрд╣ рд╕рдм, рдареАрдХ рд╣реИ, рдЖрдк рд╕рдордЭрддреЗ рд╣реИрдВ ... рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рдХреИрд╕реЗ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХреНрдпреЛрдВрдХрд┐  рдХрдИ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИрдВ; рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рдХреНрд╡реЗрд░реАрдЬрд╝ рдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдЫрджреНрдо рдирд╛рдореЛрдВ рд╕реЗ рдЕрдВрддрд┐рдо рдкреНрд░рд╢реНрдиреЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдПрдХ рдХрдиреНрдлрд╝реЗрдХреНрд╢рди рдореЗрдВ рдирд╛рдордХрд░рдг рд╕рдВрджрд░реНрдн SC123 рд╣реИ, рдФрд░ рджреВрд╕рд░реЗ рдореЗрдВ - SC321ред  рд▓реЗрдХрд┐рди 1C ++ рдЖрдкрдХреЛ рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд▓реЛрдб рдХрд░рдиреЗ рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЖрдЙрдЯрдкреБрдЯ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдмреИрдЪ рд░рди рдореЛрдб рдХреЛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛, рдЬрдм рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛ рдЙрддреНрдкрд╛рджрди .sql рдлрд╝рд╛рдЗрд▓реЛрдВ (рдЗрд╕рдХреЗ рдмрд╛рдж рдореВрд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ) рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╣рдореЗрдВ рдореВрд▓ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рдВрдпреЛрдЬрди рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдорд┐рд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдмрд╛рдж рдореЗрдВ рд╡реАрдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЖрдзрд╛рд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ <b>рдбрд┐рдмрдЧ рдмреНрд▓реЙрдХ рд╢рд╛рдорд┐рд▓ рд╣реИ</b> ред <br><br>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ, рдХреНрдпреЛрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдЕрдВрддрд┐рдо рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рддреБрд░рдВрдд рдирд┐рд╖реНрдХрд░реНрд╖ рдирд╣реАрдВ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╕рдм рдХреБрдЫ рд░рдЦрддреЗ рд╣реИрдВ?  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдХреБрдЫ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдбрд┐рдмрдЧ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рдЙрди рдмреИрдЪреЛрдВ рдореЗрдВ рдЪрд▓рд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдЬрд┐рдирдореЗрдВ рд╕рднреА рдЪрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВ, рд╕рд╛рде рд╣реА рдореИрдВ рдЪрд╛рд╣рддрд╛ рдерд╛ рдХрд┐ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдирд╛рдо рд╡реАрдПрд╕ рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдП рдЬрд╛рдПрдВ, 1 рд╕реА рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рддреЗ рд╣реБрдП, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рддрд░реНрдХрд╕рдВрдЧрдд рд╣реИ, рд╣реИ рди? <br><br>  рд╡реИрд╕реЗ, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдореВрд▓ рдлрд╛рдЗрд▓реЗрдВ рднреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдареАрдХ рд╣реИ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рддреИрдпрд╛рд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдлрд╛рдЗрд▓реЗрдВред  рдХрд┐рд╕реА рднреА рд╕рдордп, 1C рд╢реБрд░реВ рдХрд┐рдП рдмрд┐рдирд╛, рдЖрдк SSMS рдореЗрдВ рдЖрдзрд╛рд░ рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЪрд░ рдШреЛрд╖рдгрд╛рдУрдВ рд╕реЗ рдкрд░реЗрд╢рд╛рди рдХрд┐рдП рдмрд┐рдирд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рдЕрдиреБрд░реЛрдз рд╡рд╛рд▓реА рд╕рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рднреА рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд╣реЛрддреА рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рд╕рдорд╛рди рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рдпрд╛ рдЙрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдХреЗрд╡рд▓ рдЖрд╡рд╢реНрдпрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХреБрдЫ рдореЗрдВ, рд╕рдм рдХреБрдЫ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдФрд░ рдХреБрдЫ рдореЗрдВ, рджреЛ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЛ рдХреЙрдкреА рдХрд░рдиреЗ рдФрд░ рдЦреБрдж рдХреЛ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд╕рд╛рде рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ рднрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЖрддрд╛ рд╣реИред <br><br>  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдХреЛрдб, рдЬреЛ рдмрд╛рдж рдореЗрдВ рдПрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ <br><img src="https://habrastorage.org/webt/ci/ev/sb/cievsb9urq5miainrvoqu9mkig0.png"><br><br>  рдЕрдВрддрд┐рдо рдХреНрд╡реЗрд░реА рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><pre> <code class="1c hljs">++<span class="hljs-string"><span class="hljs-string">"("</span></span>+OPENQUERY()+<span class="hljs-string"><span class="hljs-string">")"</span></span>+ </code> </pre> <br>  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ <br><img src="https://habrastorage.org/webt/yv/n4/in/yvn4injz09-m8ljnqhbediqvmqy.png"><br><br>  рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╕рдордп, рдбреЗрдЯрд╛ рд╕реВрдЪреА рдореЗрдВ рдЖрдЗрдЯрдо рдХреЛ рдЙрддрд╛рд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз (рдЖрд╡рд╢реНрдпрдХ) рдЖрдЗрдЯрдореЛрдВ рдХреА рд╕реВрдЪреА рдмрджрд▓ рдЬрд╛рддреА рд╣реИред  рдпрджрд┐ рд╕рдВрднрд╡ рд╣реЛ рддреЛ, 1 рд╕реА рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛрдб рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЙрддрдирд╛ рдПрдХреАрдХреГрдд рдерд╛ред  рдпрджрд┐ рд╕рдордХрдХреНрд╖реЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдпреЗ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдЕрд╕рдВрдЧрдд рд╣реИрдВ, рддреЛ рдкреАрдврд╝реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЕрдВрджрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдорд╛рдорд▓реЗ рд╣реИрдВ, рдЬреИрд╕реЗ: рдпрд╣ рдмреНрд▓реЙрдХ рд╕рднреА рдХреЗ рд▓рд┐рдП рддрдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рдПрдХ рдРрд╕реЗ рдХреЙрдиреНрдлреЙрди рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдЕрдВрддрд┐рдо рдЕрдиреБрд░реЛрдз рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рджреВрд╕рд░реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реИред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдПрдХ рдЗрдХрд╛рдИ рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рд▓реЗрдХрд┐рди рд╡рд┐рднрд┐рдиреНрди рд╡рд┐рдиреНрдпрд╛рд╕ рд╡реЗ рди рдХреЗрд╡рд▓ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдирд╛рдо рд╕реЗ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рдореЗрдВ рдореМрдЬреВрдж рдЬреЛрдбрд╝ рдХреЗ рдкреВрд░реЗ рдмреНрд▓реЙрдХ рдФрд░ рджреВрд╕рд░реЗ рдореЗрдВ рдЕрдиреБрдкрд╕реНрдерд┐рдд рд╣реИрдВред  рдЖрдЙрдЯрдкреБрдЯ рдлрд╝реАрд▓реНрдбреНрд╕ рдХрд╛ рд╕реЗрдЯ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рд╣реА рд╣реИ рдФрд░ рд░рд┐рд╕реАрд╡рд░ рдЯреЗрдмрд▓ рдпрд╛ рдПрд╕рдПрд╕рдЖрдИрдПрд╕ рдкреИрдХреЗрдЬ рдХреЗ рдХрдВрдЯреЗрдирд░ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдХреБрдЫ рдлрд╝реАрд▓реНрдб рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рд╕реНрдЯрдмреНрд╕ рд╕реЗ рднрд░рд╛ рд╣реБрдЖ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдпреЗ рд╡рд┐рд╡рд░рдг рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рд╣реИрдВред <br><br>  <b>рдореИрдЬрд┐рдХ рдмрдЯрди</b> <br><br>  рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдореЗрдВ MSbuild рдФрд░ рднрдпрд╛рдирдХ T4 рдЯреЗрдореНрдкрд▓реЗрдЯ рдЬреИрд╕реЗ рдЙрдкрдХрд░рдг рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдПрдХ рдЬрд╛рджреБрдИ рдмрдЯрди рдХреЗ рд░реВрдк рдореЗрдВ, T4 рдХреЗ рд▓рд┐рдП C # рдореЗрдВ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦреА рдЧрдИ рдереА, рдЬреЛ: <br><br><ol><li>  рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдПрдХ рдЦрд╛рд▓реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкрдВрдЬреАрдХреГрдд рдХрд░рддрд╛ рд╣реИ (рдЕрдиреНрдпрдерд╛ 1C рдПрдХ рдорд╛рди рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрдЭрд╛рд╡ рдХреЗ рд╕рд╛рде рдПрдХ рдореЛрдбрд▓ рд╡рд┐рдВрдбреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛) </li><li>  SQL рд╕рд░реНрд╡рд░ рдкрд░ рдЗрд╕ konf рдХреЗ рд▓рд┐рдП рдПрдХ рдЦрд╛рд▓реА рдбреЗрдЯрд╛рдмреЗрд╕ рдмрдирд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рдмрд┐рдирд╛ 1C рдПрдХ рддреНрд░реБрдЯрд┐ рджреЗрдЧрд╛ </li><li>  1C рд▓реЙрдиреНрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ OLE рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ (рдПрдХ рд╣реА .ert) рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИ, 1C рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп GUID рднреА рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рдЖрдЙрдЯрдкреБрдЯ рддреИрдпрд╛рд░-рдирд┐рд░реНрдорд┐рдд (рдкрд░рд┐рд╡рд░реНрддрд┐рдд) рдЕрдиреБрд░реЛрдзреЛрдВ рдФрд░ рдПрдХ рдорд╛рд░реНрдХрд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░ рдкреНрд░рд╛рдкреНрдд GUID рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ </li><li>  рд░рдЬрд┐рд╕реНрдЯреНрд░реА рд╕реЗ рдорд╛рди рдХрд╛ рдкрдВрдЬреАрдХрд░рдг рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗ рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдЦрд╛рд▓реА рдбреЗрдЯрд╛рдмреЗрд╕ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдЯреЛрдХрди рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреА рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдорд╛рд░реНрдХрд░ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ GUID рд╣реИ рдЬрд┐рд╕реЗ рд╣рдордиреЗ 1C рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдерд╛ рдЬрдм рдпрд╣ рд╢реБрд░реВ рд╣реБрдЖ рдерд╛, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдЕрдВрдд рддрдХ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рджреБрд░реНрдШрдЯрдирд╛рдЧреНрд░рд╕реНрдд рдирд╣реАрдВ рд╣реБрдЖ, рдЖрджрд┐, рдлрд┐рд░ рдЕрдЧрд▓реЗ рдЪрд░рдг рдкрд░ рдЬрд╛рдПрдВ, рдпрд╛ рд╣рдо рдПрдХ рддреНрд░реБрдЯрд┐ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ </li><li>  рд╣рдо рд╕реНрдЯреЛрд░реЗрдЬ рдмрдирд╛рддреЗ рд╣реИрдВред </li><li>  рд╣рдо рдореЙрдбреНрдпреВрд▓ рдЧреНрд░рдВрдереЛрдВ рдФрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд░реВрдкреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП gcomp рдХреЗ рд╕рд╛рде .ert рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдареАрдХ рд╣реИ, рд╣рдо рдмрд╛рдж рдореЗрдВ рдЧрд┐рдЯ рдХреЛ рднреЗрдЬрдиреЗ рдФрд░ рдЗрд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпреВрдирд┐рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ 1 рд╕реА рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреЗ рдереЗ: .ert рдлрд╝рд╛рдЗрд▓ рдПрдХ рдмрд╛рдЗрдирд░реА рдФрд░ рд╕реНрдЯреВрдбрд┐рдпреЛ рд╣реИ, рд╕рд╛рде рдореЗрдВ рдЧрд┐рдЯ, рдпрд╣ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ .ert рдлрд╝рд╛рдЗрд▓ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕рдореЗрдВ рдХреНрдпрд╛ рдмрджрд▓рд╛рд╡ рдЖрдпрд╛ рд╣реИ, рд╢рд╛рдпрдж рдмрд╕ рдХрд┐рд╕реА рдиреЗ рдмрдЯрди рдХреЛ рдЕрдкрдиреЗ рдкрд┐рдХреНрд╕реЗрд▓ рдХреЛ рдмрд╛рдИрдВ рдУрд░ рд▓реЗ рдЬрд╛рдпрд╛ (рдЬреЛ рдмрд┐рдирд╛ рдФрдЪрд┐рддреНрдп рдХреЗ рдЕрд╕реНрд╡реАрдХрд╛рд░реНрдп) </li></ol><br><br>     T4       ,     (   ,    )        .      ,          .         ,     ,       ,      ,         - тАФ   1. <br><br>  ,  ,    ,        ,        ,          .      тАФ   1,     1,  -   . <br><br>      :       ? <br><br><ol><li>     / ; </li><li>    VS     ,     ; </li><li>   4; </li><li> <s>.</s>  рд╣реЛ рдЧрдпрд╛ред </li></ol><br><div class="spoiler"> <b class="spoiler_title">?</b> <div class="spoiler_text">  рдХреНрдпреЛрдВрдХрд┐               ,       ,    .sqlproj,  <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">None</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" \1.sql"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">None</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" \2.sql"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">None</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" \3.sql"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Content</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" \*.sql"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>       ┬л     ┬╗.   ,  ,   ,     :) <br><br>     , ,    (, )     .           ( ),         , -   - -       ,             . <br></div></div><br>         ,      .      . , ,      ,      ,       ,       (    ),      . ,    (   ,      )  ,        ,  ,          .           ,   . ,     ,      ,     ,   ,     (   ,          1, ,    MD ). <br><br>      ,         <i>OPENQUERY</i> ,     1   ,     ,       ,       ,         <i>EXEC</i> . <i>OPENQUERY</i>    ,      ,   ,   . <br><br>  177 (  )   SQL2000,   varchar(max)  ,  varchar(8000),     9, тАж ,          EXEC(@SQL1+@SQL2).    ,       SQL2016,     SQL2000.     ,     ,    . <br><br><div class="spoiler"> <b class="spoiler_title">      </b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> @<span class="hljs-number"><span class="hljs-number">1</span></span>CDBName.dbo.$. <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> @<span class="hljs-number"><span class="hljs-number">1</span></span>CDBName.dbo.$. <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> xxx = <span class="hljs-string"><span class="hljs-string">'hello!'</span></span> ^<span class="hljs-comment"><span class="hljs-comment">--       8 , ,        ,       ,   .          ,             .. ... join ... ) join ...</span></span></code> </pre> </div></div><br><br><div class="spoiler"> <b class="spoiler_title">     </b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> [dbo].[SP1] @LinkedServerName <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">24</span></span>) ,@<span class="hljs-number"><span class="hljs-number">1</span></span>CDBName <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">24</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Declare</span></span> @TSQL0 <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">8000</span></span>), @TSQL1 <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">8000</span></span>), @TSQL2 <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">8000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @TSQL0=<span class="hljs-string"><span class="hljs-string">' select ... from OPENQUERY('</span></span>+@LinkedName+<span class="hljs-string"><span class="hljs-string">','' select ... from '</span></span>+@<span class="hljs-number"><span class="hljs-number">1</span></span>CDBName+<span class="hljs-string"><span class="hljs-string">'.dbo.DH123. join '</span></span>+@<span class="hljs-number"><span class="hljs-number">1</span></span>CDBName+<span class="hljs-string"><span class="hljs-string">'.SC123. ... where '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @TSQL1=<span class="hljs-string"><span class="hljs-string">' xxx = ''''hello!'''' join ... join ... )'' join ... '''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @TSQL2=<span class="hljs-string"><span class="hljs-string">' ... EXEC(@TSQL0+@TSQL1+@TSQL2) END</span></span></code> </pre> <br></div></div><br>     тАФ     .       (, )   ,       , ,     ,      ,      ,   OPENQUERY  8 . <br><br> .ert             ,        ..  ,     . <br><br>          ,    . <br><br><h4> ETL </h4><br> ,       (  ).      (Stage).   ,  ETL    SSIS , ,   ,     ,      .      .                    (  ),            . <br><br>                 ,     (   ) ,   ,        (..   ),            ,        . <br><br>          ,     ,      . ,     .     zabbix. <br><br>             . <br><br>  рдХреНрдпреЛрдВрдХрд┐    1     ,        ,            .      ,   ,   <code>truncate</code>  . <br><br> ,       (  )       -,  ┬л 1-┬╗     . <br><br>     SSIS  <br><br><img src="https://habrastorage.org/webt/al/nl/u_/alnlu_3yriilaxfcwlhq_mcf_ce.png"><br><br>      <br><br><img src="https://habrastorage.org/webt/rh/eh/c8/rhehc8b9jtn6qf6polrfqjiduuk.png"><br><br><h4>  ,   </h4><br>         SSIS     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> SQL Server</a> (SQL Server Destination),     ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> OLE DB</a> (OLE DB Destination). <br><br>      ,       ,     ,             .    ,        ,   . (,     ) <br><br>       .           ,    ,      ,        (/  ). <br>                      . <br><br>          ,         (  ).  рдпрд╛рдиреА       ,        .      ,        ,         .    -        тАФ          .            . <br><br>                  ,         (.. )   . <br><br>       ,     ,          . <br><br><h4>  рдкреБрдирд╢реНрдЪ </h4><br>     ,     ,      ,    ,   .   тАФ   ,    .           -  ,       ,   . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi423205/">https://habr.com/ru/post/hi423205/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi423191/index.html">рдЕрдкрддрдЯреАрдп рдкреНрд▓реЗрдЯрдлрд╛рд░реНрдореЛрдВ рдХреЗ рддрддреНрд╡реЛрдВ рдХрд╛ рд╢реБрднрд╛рд░рдВрднред рднрд╛рдЧ 1</a></li>
<li><a href="../hi423193/index.html">рд╡реЗрдм рдкреБрд╢ рд╕реВрдЪрдирд╛рдУрдВ рдХреЛ рдЪрд░рдг рджрд░ рдЪрд░рдг pywebpush рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi423195/index.html">рдЬреЗрдкреАрдП 2.2 рдореЗрдВ рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ</a></li>
<li><a href="../hi423197/index.html">LOLWUT: рдПрдХ db рдЯреАрдо рдореЗрдВ рдХрд▓рд╛ рдХрд╛ рдПрдХ рдХрд╛рдо</a></li>
<li><a href="../hi423203/index.html">рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдХреВрд▓ рдЯреАрдо рд▓реАрдб рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрдЧрд╛</a></li>
<li><a href="../hi423207/index.html">рдСрдирд▓рд╛рдЗрди рдЧреЗрдо рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдкрдбреЗрдЯ рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi423209/index.html">рдХрд┐рд▓рд░ рдлреЙрд░реНрдо 2? рдореВрдирд░реЗ рдПрд╕ 100 рдбреЗрдВрдЯрд▓ 3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдХрд╛ рдЕрд╡рд▓реЛрдХрди</a></li>
<li><a href="../hi423211/index.html">рд░рд╛рдЬреНрдп рдбреНрдпреВрдорд╛ рд╕рдорд┐рддрд┐: рдкрд╕рдВрдж рдФрд░ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдЖрдкрд░рд╛рдзрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрддрд░рджрд╛рдпреА рд░рд╣реЗрдВрдЧреЗ</a></li>
<li><a href="../hi423213/index.html">рдЬреИрд╕рд╛ рдХрд┐ рдкреБрд░рд╛рдиреЗ рд░реВрд╕реА рдореЗрдВ "рдпрд╣ рдПрдХ рдкрд░реАрдХреНрд╖рдг рд╣реИ" рд╣реЛрдЧрд╛</a></li>
<li><a href="../hi423215/index.html">рдореЗрд░рд╛ рдкреИрд╕рд╛ рдХрд╣рд╛рдВ рд╣реИ, рдпрд╛рд░: рд╕реНрдЯреАрдо рдХрд┐рд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЪреБрдк рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>