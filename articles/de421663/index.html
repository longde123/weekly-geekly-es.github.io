<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤳 👨🏻‍✈️ ⌚️ Container für Erwachsene (Teil 03): 10 Dinge, die Sie nicht mit Containern tun müssen 🎾 🔆 🤴🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie haben sich schließlich der Gnade der Container ergeben und festgestellt, dass sie viele Probleme lösen und viele Vorteile haben: 



1. Container ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Container für Erwachsene (Teil 03): 10 Dinge, die Sie nicht mit Containern tun müssen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/421663/">  Sie haben sich schließlich der Gnade der Container ergeben und festgestellt, dass sie viele Probleme lösen und viele Vorteile haben: <br><br><ol><li>  Container sind unveränderlich: Betriebssystem, Bibliotheken, Ordner und Anwendungen - da all dies direkt im Container gespeichert ist, sind Sie zu 100% sicher, dass das in der Qualitätssicherung getestete Image immer in Produktion geht.  Und es wird genauso funktionieren. </li><li>  Leichte Container: Ein Container verschwendet keinen Speicher.  Anstelle von Hunderten von Megabyte und Gigabyte benötigt ein Container nur Speicher für den Hauptprozess. </li><li>  Container sind schnell: Ein Container startet so schnell wie ein normaler Linux-Prozess.  Nicht Minuten, sondern buchstäblich Sekunden. </li></ol><br><img src="https://habrastorage.org/webt/kn/kz/0i/knkz0i3sesbhdq0nj4xvb8jxvsq.png" width="100%"><br><br>  Viele glauben jedoch immer noch, dass Container virtuelle Maschinen sind, und vergessen ihre wichtigste Eigenschaft ... <br><a name="habracut"></a><br><h3>  Vergängliche Behälter </h3><br>  Aufgrund der Verfügbarkeit sollten Sie Ihren Umgang mit Containern ändern. <br><br>  <b>Und hier ist, was auf keinen Fall getan werden sollte, um die Vorteile von Containern nicht zu verlieren:</b> <br><br>  <b>1. Es ist nicht erforderlich, Daten im Container zu speichern.</b>  Während des Lebenszyklus können Container aufgehängt, zerstört und ersetzt werden.  Wenn die Anwendung in einem Container ausgeführt wird, sollte Version 1.0 dieser Anwendung ohne Datenverlust und andere Probleme problemlos auf Version 1.1 geändert werden können.  Wenn Sie also Daten speichern möchten, müssen diese darauf geschrieben werden.  Dann müssen Sie jedoch darauf achten, dass die beiden Container nicht an dieselbe Stelle schreiben, um die Daten nicht zu beschädigen.  Überprüfen Sie daher, ob Anwendungen Daten korrekt in den gemeinsam genutzten Speicher schreiben. <br><br>  <b>2. Die Anwendungsbereitstellung muss nicht aufgeteilt werden.</b>  Einige Leute denken, dass ein Container dieselbe virtuelle Maschine ist.  Und die meisten von ihnen glauben, dass Anwendungen in vorhandenen Containern bereitgestellt werden sollten.  Tatsächlich ist dies auch möglich, insbesondere in der Entwicklungsphase, wenn ständig debuggt und bereitgestellt wird.  Sie sollten jedoch die CD-ROM mit kontinuierlicher Lieferung zur Übertragung an die QS-Abteilung oder die Produktion nur als Teil ihres eigenen Images eingeben.  Denken Sie daran: Behälter sind unerschütterlich. <br><br>  <b>3. Sie müssen keine großen Bilder erstellen.</b>  Ein großes Bild ist schwieriger zu verteilen.  Daher sollte das Image nur die Dateien und Bibliotheken enthalten, die zum Starten des Anwendungsprozesses wirklich benötigt werden.  Sie müssen keine unnötigen Pakete installieren oder Updates ausführen (yum update), die eine neue Ebene im Image erstellen und viele Dateien darauf schreiben. <br><br>  <b>4. Verwenden Sie keine einschichtigen Behälter.</b>  Um mehrschichtige (mehrstufige) Dateisysteme effektiv zu nutzen, erstellen Sie immer separate Schichten für das Betriebssystem, für die Definition des Benutzernamens, für die Konfiguration und schließlich für die Anwendung selbst.  So wird es einfacher, Bilder neu zu erstellen, zu pflegen und zu verteilen. <br><br>  <b>5. Sie müssen keine Bilder aus laufenden Containern erstellen.</b>  Verwenden Sie mit anderen Worten nicht den Docker-Commit-Befehl, um ein Bild zu erstellen, da solche Bilder nicht reproduzierbar sind.  Verwenden Sie stattdessen immer ein Dockerfile oder andere S2I-Tools (Source-to-Image), die die Reproduzierbarkeit gewährleisten.  Darüber hinaus können Sie in Dockerfile Änderungen problemlos verfolgen, wenn Sie sie im Quell-Repository (git) speichern. <br><br>  <b>6. Sie müssen nicht nur das neueste Tag verwenden.</b>  Dieses Tag ist so etwas wie SNAPSHOT für Maven-Benutzer.  Aufgrund der Vielschichtigkeit des Container-Dateisystems sind Tags sehr nützlich.  Sie können jedoch eine unangenehme Überraschung erwarten, wenn Sie beispielsweise nach einer monatelangen Pause beschließen, ein Bild zu erfassen, und plötzlich feststellen, dass die Anwendung nicht mehr gestartet wird, weil die übergeordnete Ebene (FROM in der Dockerfile-Sprache) durch eine neue Version ersetzt wurde, die keine Abwärtskompatibilität unterstützt.  Oder weil die falsche Version aus dem Build-Cache abgerufen wurde, auf den Sie gewartet haben.  Darüber hinaus sollte das neueste Tag auch beim Bereitstellen von Containern in der Produktion vermieden werden, da Sie nicht verfolgen können, welche Version des Images gestartet wird. <br><br>  <b>7. Es ist nicht erforderlich, mehr als einen Prozess in einem Container auszuführen.</b>  Container eignen sich ideal für einen einzelnen Prozess (http-Daemon-Daemon, Anwendungsserver, DBMS).  Andernfalls können alle möglichen Probleme auftreten, z. B. das Durchsuchen der Protokolle oder das separate Aktualisieren von Prozessen. <br><br>  <b>8. Es ist nicht erforderlich, Anmeldeinformationen in einem Image zu speichern. Verwenden Sie hierfür Umgebungsvariablen.</b>  Verschreiben Sie keine Anmeldungen und Passwörter im Bild.  Verwenden Sie stattdessen Umgebungsvariablen, um relevante Daten aus Quellen außerhalb des Containers abzurufen.  Das Postgres-Bild ist ein gutes Beispiel dafür, wie man das richtig macht. <br><br>  <b>9. Prozesse müssen nicht als Root ausgeführt werden.</b>  „Docker-Container werden standardmäßig als Root ausgeführt.  (...) Während sich die Technologie weiterentwickelt, werden möglicherweise andere, sicherere Standardstartoptionen angezeigt.  Unter den gegenwärtigen Bedingungen kann die Root-Anforderung als Bedrohung angesehen und möglicherweise nicht in allen Umgebungen bereitgestellt werden.  Um einen anderen Benutzer als root anzugeben, für den der Container gestartet wird, wird die USER-Direktive verwendet. “(Auszug aus der Anleitung für Docker-Bildautoren) <br><br>  <b>10. Sie müssen sich nicht auf IP-Adressen verlassen.</b>  Jeder Container hat eine eigene interne IP-Adresse, die sich nach dem Neustart des Containers ändern kann.  Wenn die Anwendung oder der Mikrodienst mit einem anderen Container kommunizieren muss, verwenden Sie Umgebungsvariablen, um den gewünschten Hostnamen von einem Container in einen anderen auf die Portnummer zu übertragen. <br>  Erinnerst du dich?  Jetzt können Sie es sicher verwenden.  Praktische Tipps zur Verwendung von Containern finden Sie in unserem Blog. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421663/">https://habr.com/ru/post/de421663/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421649/index.html">“Top 3D Expo. Digital Education 2018 ”21. September in der Technopolis Moskau</a></li>
<li><a href="../de421653/index.html">Übersicht und Gerät moderner Stromzähler</a></li>
<li><a href="../de421655/index.html">Jetpack-Ingenieure: Alexander Fedorovich Andreev</a></li>
<li><a href="../de421657/index.html">JSON Kontinuierliches Wachstum</a></li>
<li><a href="../de421659/index.html">Wie Microsoft die halbe Welt vergessen oder Fehlermeldungen gelesen hat</a></li>
<li><a href="../de421665/index.html">Android Jetpack: Apps in Raketen verwandeln</a></li>
<li><a href="../de421667/index.html">CJM Meetup in MegaFon - wie es war und worüber wir gesprochen haben (Videoberichte)</a></li>
<li><a href="../de421669/index.html">Das Gericht verbot die kostenlose Verteilung von CAD-Dateien in Waffenqualität, und der Schöpfer begann, sie zu verkaufen</a></li>
<li><a href="../de421671/index.html">Fünf Nanotechnologien aus der Natur, die uns zu neuen Entwicklungen inspirieren können</a></li>
<li><a href="../de421675/index.html">Schließlich gab es ein Problem, das nur Quantencomputer lösen können</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>