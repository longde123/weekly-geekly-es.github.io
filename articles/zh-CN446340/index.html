<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖐️ 👍🏼 🤴🏼 操作系统：三个简单的部分。 第1部分：简介（翻译） 👨🏽‍🚀 👩🏿‍🎓 🤜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="操作系统介绍 
 哈Ha！ 我想提请您注意一系列文章-我认为是OSTEP的有趣文献的翻译。 本文相当深入地讨论了类Unix操作系统的工作，即处理组成现代OS的进程，各种调度程序，内存和其他类似组件。 您可以在这里看到所有材料的原始材料。 请注意，翻译是非专业地进行的（相当自由），但是我希望我保留了一...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>操作系统：三个简单的部分。 第1部分：简介（翻译）</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446340/"><h1> 操作系统介绍 </h1><br> 哈Ha！ 我想提请您注意一系列文章-我认为是OSTEP的有趣文献的翻译。 本文相当深入地讨论了类Unix操作系统的工作，即处理组成现代OS的进程，各种调度程序，内存和其他类似组件。 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>看到所有材料的原始材料。 请注意，翻译是非专业地进行的（相当自由），但是我希望我保留了一般的含义。 <br><br> 有关此主题的实验室工作可以在这里找到： <br><br><ul><li> 原文： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pages.cs.wisc.edu/~remzi/OSTEP/Homework/homework.html</a> </li><li> 原文： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/remzi-arpacidusseau/ostep-code</a> </li><li> 我的个人改编： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/bykvaadm/OS/tree/master/ostep</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分：调度程序简介</a> </li></ul><br> 其他部分： <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1部分：简介</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分：抽象：过程</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分：Process API简介</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第4部分：计划程序简介</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第5部分：MLFQ调度程序</a> </li></ul><br> 您可以通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电报</a>查看我的频道=） <br><a name="habracut"></a><br><h3> 程序工作 </h3><br> 程序运行时会发生什么？ 运行程序可以做一件事-它执行指令。 处理器每秒从RAM中提取数百万甚至数十亿条指令，然后对它们进行解码（例如，识别这些指令属于哪种类型）并执行。 这可以是两个数字的加法，访问内存，检查条件，切换到功能等等。 完成一条指令后，处理器将继续执行另一条指令。 因此，逐条指令执行它们，直到程序完成。 <br><br> 该示例自然被认为是简化的-实际上，为了加快处理器速度，现代硬件使您可以依次执行指令，计算可能的结果，同时遵循指令和类似技巧。 <br><br><h3> 冯·诺依曼计算模型 </h3><br> 我们描述的简化工作形式类似于冯·诺依曼的计算模型。  <i>冯·诺依曼（Von Neumann）是计算机系统的先驱者之一；他也是博弈论的作者之一</i> 。 程序运行时，还会发生许多其他事件，许多其他进程和第三方逻辑会工作，其主要目的是简化系统的启动，操作和维护。 <br><br> 有一套软件负责简化程序的运行（甚至允许您同时运行多个程序），它允许程序共享相同的内存以及与不同的设备进行交互。 这样的一组软件（软件）在本质上被称为操作系统，其任务包括监视系统正确，有效地工作以及确保对该系统的易于管理。 <br><br><h2> 作业系统 </h2><br>  <b>操作系统（简称OS）是一组相互连接的程序，旨在管理计算机资源和组织用户与计算机的交互</b> 。 <br><br> 操作系统主要通过最重要的技术- <b>虚拟化</b>技术来实现其有效性。  OS与物理资源（处理器，内存，磁盘等）进行交互，并将其转换为更通用，更强大且更易于使用的自身形式。 因此，为了大致了解，您可以将操作系统与虚拟机进行非常粗略的比较。 <br><br> 为了允许用户向操作系统提供指令，从而使用虚拟机的功能（例如：启动程序，分配内存，访问文件等），操作系统提供了一些称为<b>API</b> （应用程序编程接口）的接口，您可以拨打电话。 典型的操作系统可以进行数百个系统调用。 <br><br> 最后，由于虚拟化允许许多程序运行（因此共享CPU），并同时获得对它们的指令和数据的访问权（从而共享内存），以及访问磁盘（从而共享I / O设备） ），操作系统也称为资源管理器。 每个处理器，磁盘和内存都是系统的资源，因此操作系统的角色之一成为管理这些资源，有效，诚实或相反地取决于设计此操作系统的任务来管理这些资源的任务。 <br><br><h3>  CPU虚拟化 </h3><br> 考虑以下程序： <br>  （https://www.youtube.com/watch?v=zDwT5fUcki4） <br><br><img src="https://habrastorage.org/getpro/habr/post_images/221/785/c38/221785c38f3f791323b19c5291411b6a.jpg" alt="图片"><br><br> 它不执行任何特殊操作，实际上它所做的只是调用<b>spin</b> （）函数，其任务是循环时间并在经过一秒钟后返回。 因此，它会无休止地重复用户作为参数传递的字符串。 <br><br> 运行该程序，并将符号“ A”作为参数传递给它。 结果不是很有趣-系统仅运行一个程序，该程序定期显示符号“ A”。 <br><br> 现在，当同一程序的许多实例正在运行但显示不同的字母时，让我们尝试一下该选项，以便于理解。 在这种情况下，结果将略有不同。 尽管我们只有一个处理器，但该程序会同时运行。 这是怎么发生的？ 但是事实证明，并非没有硬件功能的帮助，操作系统会产生一种幻觉。 错觉是系统中有多个虚拟处理器，从而将一个物理处理器转变为理论上无限的数量，从而使程序看起来可以同时执行。 这种错觉被称为<i>CPU虚拟化</i> 。 <br><br> 这种情况引起了很多问题，例如，如果要同时启动几个程序，将启动哪个程序？ 操作系统的“策略”负责这个问题。 策略在操作系统的许多地方都使用，并回答类似的问题，也是操作系统实现的基本机制。 因此，操作系统作为资源管理器的角色。 <br><br><h3> 内存虚拟化 </h3><br> 现在让我们看一下内存。  <b>现代系统中的物理内存模型表示为字节数组</b> 。 要从内存中读取，必须指定<b>单元</b>的<b>地址</b>才能访问它。 要记录或更新数据，还必须指定数据以及将数据写入单元的地址。 <br><br> 在程序运行期间，存储器访问不断发生。 程序将其整个数据结构存储在内存中，并按照各种指令进行访问。 同时，指令也存储在内存中，因此对下一条指令的每个请求都可以对其进行访问。 <br><br><h4> 调用malloc（） </h4><br> 考虑以下程序，该程序使用<b>malloc（）</b>调用（https://youtu.be/jnlKRnoT1m0）分配内存区域： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3fe/7e5/664/3fe7e5664b539edee41810391e0d79c9.jpg" alt="图片"><br><br> 该程序可以做一些事情。 首先，它分配一定数量的内存（第7行），然后显示所选单元的地址（第9行），将零写入已分配内存的第一个插槽。 接下来，程序进入一个循环，在该循环中，程序会递增变量“ p”中地址处内存中记录的值。 它还显示自身的进程标识符。  <b>进程ID对于每个正在运行的进程都是唯一的</b> 。 启动了多个副本后，我们会遇到一个有趣的结果：在第一种情况下，如果不执行任何操作而仅启动多个副本，则地址将有所不同。 但这不属于我们的理论范围！ 的确如此，因为在现代发行版中，默认情况下会启用内存随机化功能。 如果将其关闭，我们将得到预期的结果-两个同时运行的程序的内存地址将重合。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/27c/acf/16f/27cacf16ff51692ddb2d41c61211499f.jpg" alt="图片"><br><br>  <b>结果，事实证明两个独立的程序使用它们自己的专用地址空间，这些地址又由操作系统显示在物理内存中</b> 。 因此，在一个程序中使用内存地址不会以任何方式影响其他程序，并且在每个程序中它似乎都有自己的物理内存，这完全由其支配。 但是，现实情况是物理内存是由操作系统管理的共享资源。 <br><br><h3> 连贯性 </h3><br> 操作系统中的另一个重要主题是<b>一致性</b> 。 当涉及到在同一程序中同时处理许多事物时可能发生的系统问题时，可以使用该术语。 甚至在操作系统本身中也会出现一致性问题。 在前面有关内存和处理器虚拟化的示例中，我们意识到操作系统同时管理许多事务-它开始第一个过程，然后开始第二个过程，依此类推。 事实证明，这种行为可能导致一些问题。 因此，例如，现代的多线程程序遇到了这样的困难。 <br><br> 考虑以下程序： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b6/82f/a36/2b682fa368e2f5d17ebb970ddb04e137.jpg" alt="图片"><br><br> 主函数中的程序使用<b>Pthread_create（）</b>调用创建两个线程。 在此示例中，线程可以被认为是在其他功能之后的同一内存空间中运行的功能，并且同时启动的功能数量显然不止一个。 在此示例中，每个线程启动并执行<b>worker（）</b>函数， <b>该</b>函数<b>依次简单地递增变量。</b> <br><br> 使用参数1000运行该程序。您可能已经猜到了，结果应该是2000，因为每个线程将变量递增1000次。 但是，一切并非如此简单。 让我们尝试以重复次数多一个数量级的方式运行程序。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/4d6/10f/c3a4d610fac77897386eceaaf7ab6917.jpg" alt="图片"><br><br> 通过输入一个数字（例如100000），我们期望在输出上看到200000，但是，多次运行该数字100000，我们不仅看不到正确答案，而且会得到不同的错误答案。 答案在于以下事实：要增加数量，需要执行三个操作-从内存中提取数量，递增，然后再写回。 由于并非自动执行所有这些指令（全部同时执行），因此可能会发生此类奇怪的事情。 这个问题称为<b>竞争条件</b>编程- <b>竞争条件</b> 。 如果未知时刻的未知力量会影响您的任何操作的性能。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446340/">https://habr.com/ru/post/zh-CN446340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446330/index.html">自动机器反对意大利面条代码</a></li>
<li><a href="../zh-CN446332/index.html">IBM System i（又名AS / 400）-我们如何进行绿屏应用程序自动测试</a></li>
<li><a href="../zh-CN446334/index.html">关于IT事业的思考和针对初学者的提示</a></li>
<li><a href="../zh-CN446336/index.html">如何禁止标准密码并使所有人讨厌你</a></li>
<li><a href="../zh-CN446338/index.html">SVG 3D：创建，旋转和动画</a></li>
<li><a href="../zh-CN446342/index.html">透明大页面对系统性能的影响</a></li>
<li><a href="../zh-CN446344/index.html">分布式应用程序的构建块。 二阶近似</a></li>
<li><a href="../zh-CN446346/index.html">为Android开发应用程序就像是一个（非货币化的）YouTube</a></li>
<li><a href="../zh-CN446348/index.html">PHP中类似于JSON-RPC的简单API</a></li>
<li><a href="../zh-CN446350/index.html">最终杀死了AirPower的原因</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>