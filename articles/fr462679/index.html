<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅🏿 🔡 🧗🏽 Pourquoi nous avons décidé de développer une pratique de test ML ✨ 👓 ♒️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les services de prédiction et d'optimisation basés sur le Machine Learning intéressent aujourd'hui de nombreuses entreprises: des grandes banques aux ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pourquoi nous avons décidé de développer une pratique de test ML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/462679/"><img src="https://habrastorage.org/webt/jj/4m/8x/jj4m8xa_0bw0pikr53u3wm-pbdo.jpeg"><br><br>  Les services de prédiction et d'optimisation basés sur le Machine Learning intéressent aujourd'hui de nombreuses entreprises: des grandes banques aux petites boutiques en ligne.  En résolvant les problèmes de divers clients, nous avons rencontré un certain nombre de problèmes, qui ont servi de base à nos discussions sur les caractéristiques des tests ML.  Pour ceux qui sont intéressés, voici notre prochain article de Sergey Agaltsov, responsable des tests de Jet Infosystems. <br><a name="habracut"></a><br>  Auparavant, seules les grandes entreprises pouvaient tirer parti de l'apprentissage automatique, car il était coûteux et difficile, et il y avait très peu de données dans le domaine public.  Aujourd'hui, c'est devenu beaucoup plus facile.  L'expertise ML peut être demandée auprès d'un intégrateur, d'une entreprise spécialisée ou d'un site thématique.  C'est bon pour tout le monde, car avec la croissance de l'expertise, de nouveaux algorithmes sont développés et la «tirelire d'expérience» dans le domaine de l'apprentissage automatique s'enrichit constamment. <br><br>  Le seul aspect pour lequel nous n'avons pas trouvé de solution toute faite est le test des services ML.  Google, vous pouvez vous assurer que dans les résultats de recherche, il n'est pas fait mention des activités des testeurs dans le développement de ces services.  Bien sûr, les experts en science des données testent eux-mêmes leurs modèles à l'aide de diverses mesures, et selon ces mesures, le service peut même être aussi précis que possible, mais la réalité est que le modèle n'est pas toujours en mesure de prendre en compte diverses nuances de production et goulots d'étranglement.  Ensuite, la logique de l'apprentissage automatique commence à devenir un code dur. <br><br>  À cet égard, nous commençons à faire face à un certain nombre de problèmes: <br><br><ul><li>  Notre modèle d'optimisation tient-il toujours compte d'éventuelles contraintes de production? <br></li><li>  Nos modèles sont-ils capables de fonctionner avec des goulots d'étranglement? <br></li><li>  Notre modèle est-il capable de répondre correctement aux changements de production? <br></li></ul><br>  C'est là que nous avons décidé de concentrer l'équipe de test. <br><br>  Notre tâche consiste à unifier les pratiques de test ML afin de pouvoir répondre à tous les problèmes ci-dessus.  Pour le moment, nous sommes parvenus à un certain nombre de conclusions, et maintenant je vais vous dire lesquelles. <br><br>
<h3>  Tester la conformité aux restrictions et exigences de production pour leur prise en compte par l'algorithme d'optimisation </h3><br>  Dans les tests classiques, dans tout test, nous avons toujours un «résultat attendu».  Nous savons parfaitement quelle devrait être la réaction du système sur l'une ou l'autre des données d'entrée.  Cependant, si nous parlons de ML dans les environnements de production, ce résultat le plus attendu peut être la conformité aux documents réglementaires, tels que les GOST, les instructions technologiques et les organigrammes temporaires, qui limitent à la fois les processus de production eux-mêmes et les critères de qualité du produit final.  Lors de leurs tests, nous devons être sûrs que toutes ces restrictions sont effectivement respectées, et malgré leur nombre, nous sommes sûrs que chacune d'entre elles est couverte par des cas de test. <br><br>  Sur l'exemple d'un véritable projet d'optimisation de la production de matériaux N (nous n'avons pas encore divulgué le cas, nous utiliserons donc des noms anonymes), nous avons résolu ce problème comme suit: <br><br><ul><li>  Nous avons classé toutes les catégories de mélanges de matériaux N par le niveau d'éléments chimiques qu'ils contiennent.  En conséquence, nous avons obtenu une liste, que nous avons plus tard prévu d'utiliser comme aide pour assurer une couverture de test suffisante. <br></li><li>  Nous étions convaincus que les recommandations émises par le modèle pour tous ces mélanges étaient en fait acceptées inconditionnellement par les technologues de production et avons enregistré le résultat de ce problème dans un fichier CSV.  Ainsi, nous avons reçu des recommandations du système d'un certain «gold standard». <br></li><li>  Ensuite, un script a été écrit qui a parcouru la liste de nos mélanges de référence à travers le modèle de version en version et a comparé le résultat de sa livraison avec ce qui était stocké dans notre csv «étalon-or». <br></li><li>  Si aucun changement dans le comportement du modèle n'était détecté, les tests de régression pourraient être considérés comme réussis.  Sinon, un «débriefing» a été mené. <br></li></ul><br>  Ainsi, nous avons pu résoudre le problème des tests de régression et gagner la confiance que les changements introduits dans le modèle n'affectent pas les résultats antérieurs de notre travail. <br><br><h3>  Des tests axés sur les goulots d'étranglement </h3><br>  Les modèles d'optimisation sont mieux à même de prédire ce qui se trouve le plus souvent dans les données historiques et, inversement, un modèle peut «se transformer en citrouille» dès qu'il rencontre quelque chose d'inhabituel pour lui-même. <br><br>  Souvent, dans de tels cas, le service d'optimisation doit «inviter» un modèle de comportement adéquat et cela génère le code dur que j'ai écrit plus tôt.  Mais comment identifier ces goulots d'étranglement et déboguer le service?  J'en parlerai sur l'exemple du développement d'un service de recommandations sur la gestion de la production du matériau N (le cas n'est pas encore sujet à divulgation, donc les noms voilés sont mentionnés ci-dessous). <br><br>  Tout d'abord, notre architecte a développé un émulateur d'intégration qui a généré des données similaires à productives et a ainsi rempli le cadre de date, sur la base duquel le modèle d'optimisation a émis des recommandations pour le traitement du matériau N. Ensuite, le testeur a analysé ces recommandations et identifié les plus suspectes - celles qui ont été éliminées. paramètres de débit massique total recommandés.  Déjà à ce stade, nous avons pu identifier de nombreux problèmes lorsque le modèle d'une manière ou d'une autre ne pouvait pas traiter correctement le flux de données entrant.  Cela nous a permis de stabiliser l'état du service et de passer à l'étape suivante. <br><br>  La deuxième étape était le test «Silence».  Le service a été relevé dans l'environnement de production en arrière-plan.  Il a travaillé sans distraire l'opérateur de traitement des matériaux N de la commande de la machine, et nous avons à notre tour collecté des «solutions d'opérateur», en les comparant avec ce que le service recommandait.  Pour cette raison, nous avons trouvé les angles morts du modèle qui ne pouvaient pas être rattrapés à l'étape précédente. <br><br><h4>  Le modèle doit pouvoir répondre aux changements de production. </h4><br>  Nous avons un portefeuille de services dans notre portefeuille de projets pour optimiser la production de matériaux combustibles.  L'essence du service est que le technologue transfère le stock des composants de production au modèle, définit les indicateurs limitants de la qualité du produit et définit le plan de production nécessaire, et en réponse reçoit une recommandation: dans quelles proportions il a besoin d'utiliser certains composants afin d'obtenir le carburant de la quantité spécifiée la qualité. <br><br>  Dans le processus de développement de ce service, nous avons rencontré un curieux problème que nous ne pouvions pas prévoir à l'avance. <br><br>  Pendant plusieurs années, l'entreprise dans la production de carburant a travaillé dans une certaine gamme de révolutions globales et en même temps utilisé plus / moins le même rapport de composants. <br><br>  Mais récemment, l'organisation a modifié l'offre de ces composants et il est devenu possible de compenser ce fait en augmentant la vitesse des unités.  Le client s'attendait à ce que le modèle puisse répondre à ces changements, donc du point de vue de la production technologique - c'est une solution acceptable, mais cela ne s'est pas produit.  Pourquoi?  La réponse est évidente: le modèle a été formé sur un échantillon historique, ce qui n'était pas le cas auparavant.  Vous pouvez parler longtemps de la question de savoir qui a raison dans cette situation et qui est à blâmer, mais à l'avenir, nous avons prévu de réduire la probabilité de telles situations comme suit: <br><br><ol><li>  Travailler plus étroitement avec le représentant client de l'unité de production pour identifier les goulots d'étranglement et les changements potentiels de produit. <br></li><li>  Couvrir les cas de test avec des cas similaires à l'avance. <br></li><li>  Rédiger des autotests pour vérifier la conformité aux restrictions de production et la corrélation des signes. <br></li></ol><br>  Quelques mots sur les outils de test que nous avons dû utiliser: <br><br><ul><li>  suivi des bogues - Jira, <br></li><li>  système de gestion de la qualité - Test Rail, <br></li><li>  système de contrôle de version - GitLab, <br></li><li>  CI / CD - Jenkins, <br></li><li>  autotests - Java + Junit / TestNG, <br></li><li>  scripts d'interaction directe avec le modèle - Python + Jupyter. <br></li></ul><br><h2>  Testez-vous le ML? </h2><br>  Pour nous, la construction d'une pratique de test de ML est devenue un défi, elle a dû être développée à partir de zéro.  Mais les tests sont nécessaires - ils aident à réduire le nombre d'erreurs avant de passer en mode d'essai et à raccourcir le temps de mise en œuvre. <br><br>  Aujourd'hui, nous devons tous partager et échanger nos expériences.  Nous devons entamer des discussions sur les tests sur des sites spécialisés et des forums professionnels, qui, soit dit en passant, deviennent de plus en plus dans le domaine du ML.  Et si vous avez déjà établi des pratiques pour tester le ML, je pense que tout le monde sera intéressé à en lire plus, alors partagez votre expérience dans les commentaires. <br><br>  <i>Sergey Agaltsov, responsable des tests, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462679/">https://habr.com/ru/post/fr462679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462667/index.html">Galaxy Guide DevOpsConf 2019</a></li>
<li><a href="../fr462671/index.html">L'infrastructure de l'entreprise en tant que produit</a></li>
<li><a href="../fr462673/index.html">Pierre, ciseaux, papier, entretiens d'embauche, Spock</a></li>
<li><a href="../fr462675/index.html">Déception de l'information</a></li>
<li><a href="../fr462677/index.html">Vepp - nouveau panneau de contrôle de serveur et de site d'ISPsystem</a></li>
<li><a href="../fr462681/index.html">Comment Chris Zhukovsky a étudié le support client pour ses jeux à l'aéroport</a></li>
<li><a href="../fr462685/index.html">En route vers des applications durables en utilisant l'exemple de générateur de site statique PSKOV</a></li>
<li><a href="../fr462687/index.html">Nouveau panneau de contrôle d'hébergement d'ISPsystem: comment voir</a></li>
<li><a href="../fr462689/index.html">DISKOBALL: compétitions de lancer de disques durs, 23 août, Moscou</a></li>
<li><a href="../fr462691/index.html">Comment migrer d'AD vers LDAP lors de l'utilisation de Zimbra</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>