<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗿 🧑🏿‍🤝‍🧑🏿 🏇🏽 Sicherheitswoche 34: Außergewöhnliche Sicherheitslücken in Windows ✴️ 👸🏾 📎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 13. August veröffentlichte Microsoft das nächste Sicherheitsupdate (Review News ) für Windows-Betriebssysteme und Office-Programme. Diesmal erwies ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sicherheitswoche 34: Außergewöhnliche Sicherheitslücken in Windows</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/464365/"><img src="https://habrastorage.org/webt/uc/a7/yw/uca7yw3w8srbvllcrbdauqvdhm0.png" align="right">  Am 13. August veröffentlichte Microsoft das nächste Sicherheitsupdate (Review <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">News</a> ) für Windows-Betriebssysteme und Office-Programme. Diesmal erwies sich der Patch als wirklich gigantisch: Jemand konnte diesen Sommer offensichtlich nicht in den Urlaub fahren.  Insgesamt wurden 93 Sicherheitslücken geschlossen, von denen 23 als kritisch eingestuft wurden.  In Remotedesktopdiensten, im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DHCP-</a> Client und im .LNK-Dateihandler wurden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zwei</a> schwerwiegende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fehler</a> in Hyper-V mit einem Sandbox-Escape behoben. <br><br>  Eine monumentale Arbeit an den Bugs ist also eine sehr gute Nachricht.  Unter anderem sind mehrere Schwachstellen an sich interessant, und eine andere hat eine interessante Erkennungsgeschichte.  Zusätzlich zu den bereits in Remotedesktopdiensten erwähnten Problemen werden wir uns heute die Sicherheitsanfälligkeit im MSCTF-Dienst genauer ansehen.  Der Forscher von Google Project Zero, Tavis Ormandy, der letzteres entdeckt hat, behauptet, das Problem bestehe seit 20 Jahren.  Gleichzeitig werden wir die Sicherheitsanfälligkeit in Bluetooth bewerten, die nicht nur Windows betrifft. <br><a name="habracut"></a><br><h3>  WTF ist CTF? </h3><br>  Eine Sicherheitslücke im MSCTF-Dienst wurde von Tavis Ormandi fast zufällig entdeckt ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachrichten</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beitrag</a> auf Tavis 'Blog).  Alles begann mit einer Untersuchung der Windows-Mechanismen, mit denen verschiedene Programme miteinander interagieren können.  Diese Interaktion ist auf das System zur Isolierung von Benutzeroberflächenberechtigungen beschränkt, das beispielsweise verhindert, dass Benutzerprozesse Systemprozesse stören.  Tavis untersuchte seltsame Fälle, in denen trotz der Einschränkungen immer noch Nachrichten weitergegeben wurden, und stieß auf das MSCTF-Modul. <br><br>  Dieses Modul gehört zum Text Services Framework, das wiederum Tastaturlayouts und dergleichen steuert.  Alle laufenden Anwendungen sind damit verbunden.  Warum?  Zum Beispiel, um die Eingabe von Text auf Chinesisch oder Japanisch zu erleichtern. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/ek/xo/tyekxom8g1a-gsd1pxpmpzc6cog.png"></div><br>  Für solche Sprachen verarbeitet ein separates Programm die Eingabe im Anwendungsfenster und ändert die Eingabe in Hieroglyphen.  Im Wesentlichen ist MSCTF ein separater Kommunikationskanal zwischen Anwendungen, der, wie sich herausstellte, nicht ausreichend geschützt ist.  Die früheste Version von MSCTF, die Tavis gefunden hat, ist Teil der Microsoft Office XP-Office-Suite, die mit Windows 98 kompatibel ist. Ab Windows XP ist MSCTF Teil des Betriebssystems.  Die Möglichkeiten der Interaktion mit anderen Anwendungen über MSCTF sind sehr groß, und vor allem gibt es keine Autorisierung.  Infolgedessen schrieb Tavis ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogramm</a> für die Arbeit mit CTF und begann, nach Schwachstellen zu suchen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/ad/ag/cuadagwio3wdm2umvv9zjyluc_w.png"></div><br>  Es wurden Sicherheitslücken gefunden, wenn auch nicht sofort.  Im „besten“ Fall können Sie auf einem System mit einer der Sprachen, für die erweiterte Eingabetools erforderlich sind (Japanisch, Chinesisch, Koreanisch und einige andere), Text in der Anwendung ersetzen, Befehle mit Administratorrechten an die Konsole senden, ohne ein privilegierter Benutzer zu sein, oder Benutzerpasswörter stehlen.  Im schlimmsten Fall (obwohl das oben Genannte bereits schlimm genug ist) können Sie Systemrechte erhalten, dh Ihre Berechtigungen auf das Maximum erhöhen.  Ein solcher Proof of Concept wird im Video gezeigt: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/r3vrzzDpmhc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Die Sicherheitsanfälligkeit ist nur begrenzt von Nutzen, und höchstwahrscheinlich sind die meisten Szenarien nur mit Zugriff auf das System verfügbar.  Es gibt jedoch möglicherweise Fälle, in denen ein Benutzer ohne Berechtigungen beispielsweise die Rechte eines Domänenadministrators in einem Unternehmen erhält.  Die Sicherheitsanfälligkeit wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">durch das</a> August-Update für alle Betriebssysteme ab Windows 7 geschlossen. <br><br><h3>  Bluekeep oder nicht Bluekeep </h3><br>  Die Probleme bei Remotedesktopdiensten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachrichten</a> , ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Newsletter</a> auf der Microsoft-Website) ähneln teilweise der Sicherheitslücke, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bluekeep</a> im Mai dieses Jahres <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">entdeckt hat</a> .  Durch Löcher im RAS-Dienst (jedoch nicht im RDP-Protokoll selbst) kann der Angriff theoretisch ohne Beteiligung des Benutzers auf alle Computer im Netzwerk verteilt werden: Es besteht ein gewisses Risiko, dass sich die Situation mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WannaCry-</a> Kryptoverschlüsseler im Jahr 2017 wiederholt, als das Problem der Implementierung des SMB-Protokolls in großem Umfang ausgenutzt wurde. <br><br>  Es gibt jedoch Unterschiede zu BlueKeep.  Ein früheres Problem trat nicht bei den neuesten Betriebssystemversionen auf, betrifft jedoch im Gegenteil alle Betriebssysteme von Windows 7 bis Windows 10 (jedoch nicht Windows XP, Server 2003 und 2008).  Während der internen Revision von Microsoft wurden Fehler festgestellt, echte Angriffe wurden noch nicht bemerkt.  Sowohl Bluekeep als auch vier neue Probleme werden durch die Einbeziehung der Autorisierung auf Netzwerkebene neutralisiert.  NLA auf einem nicht gepatchten System rettet Sie jedoch nicht vollständig vor einer Reihe von Skripten für die Ausführung von Code auf einem Remotecomputer.  Im schlimmsten Fall (kein NLA, August-Patch nicht installiert, Fernzugriff aktiviert) kann die Autorisierung umgangen und die Kontrolle über das System durch Senden einer vorbereiteten Anforderung erlangt werden. <br><br><h3>  Bluetooth-Sicherheitsanfälligkeit </h3><br>  Das als KNOB Attack (Key Negotiation of Bluetooth) bekannte Problem wurde von Forschern aus Singapur, Deutschland und Großbritannien entdeckt ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachrichten</a> , Forschungsseite, wissenschaftliche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arbeit</a> ).  Im Gegensatz zu anderen Sicherheitslücken im Microsoft-Patch-Set gilt dies nicht nur für Windows, sondern ist im Allgemeinen fast überall dort relevant, wo Bluetooth verwendet wird.  Eine große Liste von Updates von Herstellern von Smartphones, Laptops und IP-Telefonen, die auf das Problem reagiert haben, finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  In den Bluetooth-Spezifikationen können zwei Geräte, die eine sichere Verbindung untereinander herstellen, eine Schlüssellänge zwischen 1 und 16 Byte auswählen.  Im Fall eines "Acht-Bit" -Schlüssels kann dieser durch einfache Aufzählung schnell genug geknackt werden: Wenn aus irgendeinem Grund eine solche "leicht sichere" Verbindung hergestellt wird, kann der Angreifer den Datenaustausch entschlüsseln.  Zum Beispiel zwischen einer Tastatur und einem Desktop-Computer.  Die Frage ist, wie ein solcher Angriff implementiert werden kann, und Forschungsarbeiten belegen, dass es mindestens zwei mäßig realistische Optionen gibt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hx/6h/b5/hx6hb5x8lvvih_tmzwuodme0fa0.png"></div><br>  Im ersten Fall kann ein Angreifer in der Nähe von zwei Opfern die Verwendung einer Verschlüsselung mit einer Schlüssellänge von 1 Byte erzwingen.  Tatsache ist, dass während des Verbindungsaufbaus keine Verschlüsselung oder gar Kontrolle der Datenintegrität erfolgt.  Im zweiten Fall wurde das Szenario eines Angriffs auf die Lieferkette untersucht: Das Ersetzen der Gerätefirmware führt in allen Fällen zu einer schwachen Verschlüsselung.  Der zweite Angriff wurde auf einem Nexus 5-Telefon ausgeführt: Wir ändern einige Bytes in der Firmware, begrenzen die Schlüssellänge und stellen eine Verbindung zu einem anderen Smartphone her, das die Bedingungen für den Verbindungsaufbau akzeptieren muss. <br><br>  Dies ist eine schwerwiegende Sicherheitsanfälligkeit, die aufgrund der anfänglich schwachen Spezifikationen des Bluetooth-Standards besteht.  Darüber hinaus sind viele Geräte weiterhin einem KNOB-Angriff ausgesetzt, da sie einfach kein Update veröffentlichen.  Andererseits ist die Umsetzung eines solchen Szenarios in der Praxis ziemlich kompliziert: Im ersten Fall ist es notwendig, zum richtigen Zeitpunkt in der Nähe des Opfers zu sein, im zweiten Fall in die Lieferkette einzugreifen und sich dann wieder neben dem angegriffenen Gerät zu befinden, wenn vertrauliche Daten über dieses übertragen werden.  In allen Fällen legt der Patch die minimale Schlüssellänge fest, sodass der Angriff praktisch nicht mehr anwendbar ist. <br><br>  <i>Haftungsausschluss: Die in dieser Übersicht geäußerten Meinungen stimmen möglicherweise nicht immer mit der offiziellen Position von Kaspersky Lab überein.</i>  <i>Sehr geehrte Redakteure empfehlen generell, Meinungen mit gesunder Skepsis zu behandeln.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464365/">https://habr.com/ru/post/de464365/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464353/index.html">1C: ERP VS 1C: KA 2.0. Was sollten Lebensmittelhersteller wählen?</a></li>
<li><a href="../de464355/index.html">Wie ein Frame in Shadow Fight 3 gerendert wird</a></li>
<li><a href="../de464357/index.html">RSA zufällige Blockchain</a></li>
<li><a href="../de464359/index.html">Funktionen zum Testen von mobilen Webanwendungen</a></li>
<li><a href="../de464361/index.html">Intel Quartz Canyon - NUC für Profis</a></li>
<li><a href="../de464367/index.html">Und ein weiterer Steam Windows Client Local Privilege Escalation 0day</a></li>
<li><a href="../de464369/index.html">Welchen Blocker benutzt du? Ergebnisse</a></li>
<li><a href="../de464371/index.html">/etc/resolv.conf für Kubernetes-Pods, Option ndots: 5, da dies die Anwendungsleistung beeinträchtigen kann</a></li>
<li><a href="../de464373/index.html">Edge-to-Edge unter Android: Richtig machen</a></li>
<li><a href="../de464375/index.html">Wie Suchmaschinen funktionieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>