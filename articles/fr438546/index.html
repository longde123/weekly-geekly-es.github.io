<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèæ üöú ü§ûüèΩ Analyse des approches de liaison de modules dans Node.js üè™ üïØÔ∏è üíÉüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De nombreux d√©veloppeurs de Node.js utilisent des d√©pendances mat√©rielles de module (exclusivement) en utilisant require () pour lier des modules, mai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analyse des approches de liaison de modules dans Node.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438546/"> De nombreux d√©veloppeurs de Node.js utilisent des d√©pendances mat√©rielles de module (exclusivement) en utilisant require () pour lier des modules, mais il existe d'autres approches avec leurs avantages et leurs inconv√©nients.  J'en parlerai dans cet article.  Quatre approches seront envisag√©es: <br><br><ul><li>  D√©pendances mat√©rielles (require ()) </li><li>  Injection de d√©pendance </li><li>  Localisateur de services </li><li>  Conteneurs de d√©pendance int√©gr√©s (conteneur DI) </li></ul><a name="habracut"></a><br><h4>  Un peu sur les modules </h4><br>  Les modules et l'architecture modulaire sont √† la base de Node.js.  Les modules fournissent l'encapsulation (masquant les d√©tails de l'impl√©mentation et ouvrant uniquement l'interface avec module.exports), la r√©utilisation du code, la division du code logique en fichiers.  Presque toutes les applications Node.js se composent de nombreux modules qui doivent en quelque sorte interagir.  Si vous liez de mani√®re incorrecte les modules ou laissez m√™me l'interaction des modules d√©river, vous pouvez tr√®s rapidement constater que l'application commence √† "s'effondrer": les modifications du code √† un endroit entra√Ænent une panne dans un autre et les tests unitaires deviennent tout simplement impossibles.  Id√©alement, les modules devraient avoir une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">connectivit√©</a> √©lev√©e, mais un faible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">couplage</a> . <br><br><h2>  D√©pendance dure </h2><br>  Une forte d√©pendance d'un module √† un autre se produit lorsque require () est utilis√©.  Il s'agit d'une approche efficace, simple et courante.  Par exemple, nous voulons simplement connecter le module charg√© d'interagir avec la base de donn√©es: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ourModule.js const db = require('db'); //    ...</span></span></code> </pre> <br><h4>  Avantages: </h4><br><ul><li>  Simplicit√© </li><li>  Organisation visuelle des modules </li><li>  D√©bogage facile </li></ul><br><h4>  Inconv√©nients: </h4><br><ul><li>  Difficult√© √† r√©utiliser le module (par exemple, si nous voulons utiliser notre module √† plusieurs reprises, mais avec une instance diff√©rente de la base de donn√©es) </li><li>  Difficult√© pour les tests unitaires (vous devez cr√©er une instance de base de donn√©es factice et la transmettre en quelque sorte au module) </li></ul><br><h4>  R√©sum√©: </h4><br>  L'approche est bonne pour les petites applications ou prototypes, ainsi que pour la connexion de modules sans √©tat: usines, concepteurs et jeux de fonctionnalit√©s. <br><br><h2>  Injection de d√©pendance </h2><br>  L'id√©e principale de l'injection de d√©pendances est de transf√©rer les d√©pendances d'un composant externe au module.  Ainsi, la forte d√©pendance dans le module est supprim√©e et il devient possible de le r√©utiliser dans diff√©rents contextes (par exemple, avec diff√©rentes instances de base de donn√©es). <br><br>  L'injection de d√©pendances peut √™tre impl√©ment√©e en passant la d√©pendance dans l'argument constructeur ou en d√©finissant les propri√©t√©s du module, mais en pratique, il est pr√©f√©rable d'utiliser la premi√®re m√©thode.  Appliquons concr√®tement l'impl√©mentation des d√©pendances en cr√©ant une instance de la base de donn√©es √† l'aide de la fabrique et en la passant √† notre module: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ourModule.js module.exports = (db) =&gt; { //       ... };</span></span></code> </pre> <br>  Module externe: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dbFactory = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'db'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> OurModule = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./ourModule.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dbInstance = dbFactory.createInstance(<span class="hljs-string"><span class="hljs-string">'instance1'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ourModule = OurModule(dbInstance);</code> </pre> <br>  Maintenant, nous pouvons non seulement r√©utiliser notre module, mais √©galement √©crire facilement un test unitaire pour lui: cr√©ez simplement un objet factice pour l'instance de base de donn√©es et passez-le au module. <br><br><h4>  Avantages: </h4><br><ul><li>  Facilit√© d'√©criture des tests unitaires </li><li>  Augmenter la r√©utilisabilit√© des modules </li><li>  Engagement r√©duit, connectivit√© accrue </li><li>  D√©placer la responsabilit√© de la cr√©ation de d√©pendances √† un niveau sup√©rieur - cela am√©liore souvent la lisibilit√© du programme, car les d√©pendances importantes sont collect√©es en un seul endroit et ne sont pas r√©parties par modules </li></ul><br><h4>  Inconv√©nients: </h4><br><ul><li>  La n√©cessit√© d'une conception de d√©pendance plus approfondie: par exemple, un certain ordre d'initialisation du module doit √™tre suivi </li><li>  La complexit√© de la gestion des d√©pendances, surtout lorsqu'il existe de nombreux </li><li>  D√©t√©rioration de la compr√©hensibilit√© du code du module: √©crire du code de module lorsqu'une d√©pendance vient de l'ext√©rieur est plus difficile car on ne peut pas regarder directement cette d√©pendance. </li></ul><br><h4>  R√©sum√©: </h4><br>  L'injection de d√©pendances augmente la complexit√© et la taille de l'application, mais en retour permet la r√©utilisation et facilite les tests.  Le d√©veloppeur doit d√©cider de ce qui est le plus important pour lui dans un cas particulier - la simplicit√© d'une forte d√©pendance ou les possibilit√©s plus larges d'introduire une d√©pendance. <br><br><h2>  Localisateur de services </h2><br>  L'id√©e est d'avoir un registre de d√©pendances qui sert d'interm√©diaire lors du chargement d'une d√©pendance avec n'importe quel module.  Au lieu d'une liaison mat√©rielle, les d√©pendances sont demand√©es par le module au localisateur de services.  De toute √©vidence, les modules ont une nouvelle d√©pendance - le localisateur de services lui-m√™me.  Un exemple de localisateur de services est le syst√®me de modules Node.js: les modules demandent une d√©pendance en utilisant require ().  Dans l'exemple suivant, nous allons cr√©er un localisateur de service, enregistrer les instances de base de donn√©es et notre module dedans. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// serviceLocator.js const dependencies = {}; const factories = {}; const serviceLocator = {}; serviceLocator.register = (name, instance) =&gt; { //[2] dependencies[name] = instance; }; serviceLocator.factory = (name, factory) =&gt; { //[1] factories[name] = factory; }; serviceLocator.get = (name) =&gt; { //[3] if(!dependencies[name]) { const factory = factories[name]; dependencies[name] = factory &amp;&amp; factory(serviceLocator); if(!dependencies[name]) { throw new Error('Cannot find module: ' + name); } } return dependencies[name]; };</span></span></code> </pre> <br>  Module externe: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> serviceLocator = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./serviceLocator.js'</span></span>)(); serviceLocator.register(<span class="hljs-string"><span class="hljs-string">'someParameter'</span></span>, <span class="hljs-string"><span class="hljs-string">'someValue'</span></span>); serviceLocator.factory(<span class="hljs-string"><span class="hljs-string">'db'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'db'</span></span>)); serviceLocator.factory(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ourModule = serviceLocator.get(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>);</code> </pre> <br>  Notre module: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ourModule.js module.exports = (serviceLocator) =&gt; { const db = serviceLocator.get('db'); const someValue = serviceLocator.get('someParameter'); const ourModule = {}; //  ,   ... return ourModule; };</span></span></code> </pre> <br>  Il convient de noter que le localisateur de services stocke des usines de service au lieu d'instances, ce qui est logique.  Nous avons obtenu les avantages de l'initialisation paresseuse, et maintenant nous n'avons plus √† nous soucier de l'ordre d'initialisation des modules - tous les modules seront initialis√©s quand cela sera n√©cessaire.  De plus, nous avons eu la possibilit√© de stocker des param√®tres dans le localisateur de service (voir "someParameter"). <br><br><h4>  Avantages: </h4><br><ul><li>  Facilit√© d'√©criture des tests unitaires </li><li>  R√©utiliser un module est plus facile qu'avec une forte d√©pendance </li><li>  Engagement r√©duit, connectivit√© accrue par rapport √† la d√©pendance dure </li><li>  Faire passer la responsabilit√© de la cr√©ation de d√©pendances √† un niveau sup√©rieur </li><li>  Pas besoin de suivre l'ordre d'initialisation du module </li></ul><br><h4>  Inconv√©nients: </h4><br><ul><li>  La r√©utilisation d'un module est plus difficile que l'impl√©mentation d'une d√©pendance (en raison de la d√©pendance suppl√©mentaire du localisateur de service) </li><li>  Lisibilit√©: il est encore plus difficile de comprendre ce que fait la d√©pendance requise par le localisateur de services </li><li>  Engagement accru par rapport √† l'injection de d√©pendance </li></ul><br><h4>  R√©sum√© </h4><br>  En g√©n√©ral, un localisateur de services est similaire √† l'injection de d√©pendances, √† certains √©gards, il est plus facile (il n'y a pas d'ordre d'initialisation), dans certains cas, il est plus difficile (moins que la possibilit√© de r√©utiliser du code). <br><br><h2>  Conteneurs de d√©pendance int√©gr√©s (conteneur DI) </h2><br>  Le localisateur de services pr√©sente un inconv√©nient en raison duquel il est rarement appliqu√© dans la pratique - la d√©pendance des modules sur le localisateur lui-m√™me.  Les conteneurs de d√©pendance int√©gr√©s (conteneurs DI) n'ont pas cet inconv√©nient.  En fait, il s'agit du m√™me localisateur de services avec une fonction suppl√©mentaire qui d√©termine les d√©pendances du module avant de cr√©er son instance.  Vous pouvez d√©terminer les d√©pendances du module en analysant et en extrayant les arguments du constructeur du module (en JavaScript, vous pouvez convertir un lien vers une fonction en cha√Æne √† l'aide de toString ()).  Cette m√©thode convient si le d√©veloppement se fait uniquement pour le serveur.  Si du code client est √©crit, il est souvent minifi√© et il sera inutile d'extraire les noms des arguments.  Dans ce cas, la liste des d√©pendances peut √™tre pass√©e sous forme de tableau de cha√Ænes (dans Angular.js, bas√©e sur l'utilisation de conteneurs DI, cette approche est utilis√©e).  Nous impl√©mentons le conteneur DI en utilisant l'analyse des arguments du constructeur: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fnArgs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'parse-fn-args'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dependencies = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> factories = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> diContainer = {}; diContainer.factory = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, factory</span></span></span><span class="hljs-function">) =&gt;</span></span> { factories[name] = factory; }; diContainer.register = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name, dep</span></span></span><span class="hljs-function">) =&gt;</span></span> { dependencies[name] = dep; }; diContainer.get = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!dependencies[name]) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> factory = factories[name]; dependencies[name] = factory &amp;&amp; diContainer.inject(factory); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!dependencies[name]) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Cannot find module: '</span></span> + name); } } diContainer.inject = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">factory</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = fnArgs(factory) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dependency</span></span></span><span class="hljs-function"> =&gt;</span></span> diContainer.get(dependency)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> factory.apply(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, args); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dependencies[name]; };</code> </pre> <br>  Par rapport au localisateur de services, la m√©thode inject a √©t√© ajout√©e, ce qui d√©termine les d√©pendances du module avant de cr√©er son instance.  Le code du module externe n'a pas beaucoup chang√©: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> diContainer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./diContainer.js'</span></span>)(); diContainer.register(<span class="hljs-string"><span class="hljs-string">'someParameter'</span></span>, <span class="hljs-string"><span class="hljs-string">'someValue'</span></span>); diContainer.factory(<span class="hljs-string"><span class="hljs-string">'db'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'db'</span></span>)); diContainer.factory(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ourModule = diContainer.get(<span class="hljs-string"><span class="hljs-string">'ourModule'</span></span>);</code> </pre> <br>  Notre module ressemble exactement √† une injection de d√©pendance simple: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ourModule.js module.exports = (db) =&gt; { //       ... };</span></span></code> </pre> <br>  Maintenant, notre module peut √™tre appel√© √† la fois √† l'aide d'un conteneur DI et en lui passant directement les instances de d√©pendance n√©cessaires, en utilisant une simple injection de d√©pendance. <br><br><h4>  Avantages: </h4><br><ul><li>  Facilit√© d'√©criture des tests unitaires </li><li>  R√©utilisation facile des modules </li><li>  Engagement r√©duit, connectivit√© accrue des modules (en particulier par rapport √† un localisateur de services) </li><li>  Faire passer la responsabilit√© de la cr√©ation de d√©pendances √† un niveau sup√©rieur </li><li>  Pas besoin de suivre l'initialisation du module </li></ul><br><h4>  Le plus gros inconv√©nient: </h4><br><ul><li>  Complication importante de la logique de liaison des modules </li></ul><br><h4>  R√©sum√© </h4><br>  Cette approche est plus difficile √† comprendre et contient un peu plus de code, mais elle en vaut la peine en raison de sa puissance et de son √©l√©gance.  Dans les petits projets, cette approche peut √™tre redondante, mais doit √™tre envisag√©e si une grande application est en cours de conception. <br><br><h2>  Conclusion </h2><br>  Les approches de base de la liaison de modules dans Node.js. ont √©t√© consid√©r√©es.  Comme cela arrive g√©n√©ralement, la ¬´solution miracle¬ª n'existe pas, mais le d√©veloppeur doit √™tre conscient des alternatives possibles et choisir la solution la plus appropri√©e pour chaque cas sp√©cifique. <br><br>  L'article est bas√© sur un chapitre du livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Node.js Design Patterns</a> publi√© en 2017.  Malheureusement, beaucoup de choses dans le livre sont d√©j√† d√©pass√©es, donc je ne peux pas recommander √† 100% de le lire, mais certaines choses sont toujours d'actualit√© aujourd'hui. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438546/">https://habr.com/ru/post/fr438546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438536/index.html">Sous le capot du chatbot: ce que RocketBot peut et comment cela fonctionne</a></li>
<li><a href="../fr438538/index.html">Teamlead Conf 2019 Msk: √† propos d'un autre format de communication</a></li>
<li><a href="../fr438540/index.html">Tendances de la gestion des documents et du stockage des donn√©es pour 2019</a></li>
<li><a href="../fr438542/index.html">Comment nous avons cr√©√© un service de recommandation pour la s√©lection de v√™tements sur les r√©seaux de neurones</a></li>
<li><a href="../fr438544/index.html">Nous regardons des films √† la maison: 10 documents sur la construction d'un home cin√©ma et le choix de l'√©quipement</a></li>
<li><a href="../fr438548/index.html">Lombok, sources.jar et d√©bogage pratique</a></li>
<li><a href="../fr438550/index.html">Un autre manifeste</a></li>
<li><a href="../fr438554/index.html">Gestion de l'√©tat et des √©v√©nements entre les composants de GameObject</a></li>
<li><a href="../fr438556/index.html">Scier les donn√©es confortablement</a></li>
<li><a href="../fr438560/index.html">√âcrire XGBoost √† partir de z√©ro - partie 1: arbres de d√©cision</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>