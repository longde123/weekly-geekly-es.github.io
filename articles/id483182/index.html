<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ¾ ğŸ’‹ ğŸ’¥ Lima cara menarik untuk menggunakan Array.reduce () (dan satu cara membosankan) ğŸ“ª ğŸšš ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya mempersembahkan kepada Anda terjemahan artikel "Lima Cara Menarik untuk Menggunakan Array.reduce () (Dan Satu Cara Membosankan)" oleh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lima cara menarik untuk menggunakan Array.reduce () (dan satu cara membosankan)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483182/"><p>  Halo, Habr!  Saya mempersembahkan kepada Anda terjemahan artikel <a href="https://24ways.org/2019/five-interesting-ways-to-use-array-reduce/" rel="nofollow">"Lima Cara Menarik untuk Menggunakan Array.reduce () (Dan Satu Cara Membosankan)"</a> oleh Chris Ferdinandi. </p><br><p>  Dari semua metode modern untuk bekerja dengan array, yang paling sulit dari semua yang harus saya gunakan adalah Array.reduce (). </p><br><p>  Pada pandangan pertama, ini tampaknya menjadi metode sederhana dan membosankan yang tidak banyak berpengaruh.  Namun, meskipun tampilannya sederhana, Array.reduce () adalah tambahan yang kuat dan fleksibel untuk set alat pengembang Anda. </p><br><p>  Hari ini, mari kita lihat beberapa hal menarik yang dapat Anda lakukan dengan Array.reduce (). </p><a name="habracut"></a><br><h4>  Bagaimana Array.reduce () Bekerja </h4><br><p>  Sebagian besar metode array modern mengembalikan array baru.  Metode Array.reduce () sedikit lebih fleksibel.  Dia bisa mengembalikan apa saja.  Tujuannya adalah untuk mengambil array dan mengompres isinya menjadi satu nilai. </p><br><p>  Nilai ini bisa berupa angka, string, atau bahkan objek atau array baru.  Ini adalah bagian yang selalu membingungkan saya - saya tidak mengerti betapa fleksibelnya itu! </p><br><h4>  Sintaks </h4><br><p>  Array.reduce () mengambil dua argumen: metode panggilan balik, yang dijalankan untuk meluncurkan setiap elemen dalam array, dan nilai awal initialValue. </p><br><p> Callback juga mengambil dua argumen: akumulator, yang merupakan nilai gabungan saat ini, dan item saat ini dalam loop CurrentValue.  Semua yang Anda kembalikan digunakan sebagai akumulator untuk elemen berikutnya dalam loop.  Loop pertama menggunakan nilai awal sebagai gantinya. </p><br><pre><code class="plaintext hljs">var myNewArray = [].reduce(function (accumulator, current) { return accumulator;}, starting); }, starting);</code> </pre> <br><p>  Mari kita lihat beberapa contoh. </p><br><pre> <code class="plaintext hljs">var myNewArray = [].reduce(function (accumulator, current) { return accumulator;}, starting);</code> </pre> <br><p>  <strong>1. Penjumlahan angka</strong> </p><br><p>  Misalkan Anda memiliki array angka yang ingin Anda tambahkan bersama.  Menggunakan Array.forEach (), kita dapat melakukan sesuatu seperti ini: </p><br><pre> <code class="plaintext hljs">var total = 0; [1, 2, 3].forEach(function (num) { total += num; });</code> </pre> <br><p>  Ini adalah contoh klise untuk menggunakan Array.reduce ().  Kata "akumulator" membingungkan, jadi dalam contoh ini kita akan menyebutnya "jumlah" karena itu adalah apa yang secara inheren. </p><br><pre> <code class="plaintext hljs">var total = [1, 2, 3].reduce(function (sum, current) { return sum + current; }, 0);    0    .</code> </pre> <br><p>  Dalam panggilan balik, kami menambahkan nilai saat ini ke jumlah yang memiliki nilai awal 0 pada siklus pertama, lalu 1 (nilai awal 0 ditambah nilai elemen 1), lalu 3 (nilai total 1 ditambah nilai elemen 2) dan seterusnya. <br>  <a href="https://codepen.io/cferdinandi/pen/drJOOB" rel="nofollow">Sebuah contoh</a> </p><br><p>  <strong>2. Alternatif untuk menggabungkan metode array Array.map () dan Array.filter () dalam satu langkah</strong> </p><br><p>  Bayangkan ada banyak penyihir di Hogwarts. </p><br><pre> <code class="plaintext hljs">var wizards = [ { name: 'Harry Potter', house: 'Gryfindor' }, { name: 'Cedric Diggory', house: 'Hufflepuff' }, { name: 'Tonks', house: 'Hufflepuff' }, { name: 'Ronald Weasley', house: 'Gryfindor' }, { name: 'Hermione Granger', house: 'Gryfindor' }];</code> </pre> <br><p>  Kami ingin membuat array baru yang hanya akan berisi nama-nama master dari Hufflepuff.  Salah satu cara untuk melakukan ini adalah menggunakan metode Array.filter () untuk mendapatkan kembali hanya penyihir yang memiliki properti Hufflepuff di rumah.  Kemudian kita menggunakan metode Array.map () untuk membuat array baru yang hanya berisi properti nama untuk master yang tersisa. </p><br><pre> <code class="plaintext hljs">//      var hufflepuff = wizards.filter(function (wizard) { return wizard.house === 'Hufflepuff'; }).map(function (wizard) { return wizard.name; });</code> </pre> <br><p>  Menggunakan metode Array.reduce (), Anda bisa mendapatkan array yang sama dalam satu pass, yang akan meningkatkan kinerja kami.  Kami melewati array kosong ([]) sebagai nilai awal.  Di setiap pass, kami memeriksa untuk melihat apakah wizard.house adalah Hufflepuff.  Jika demikian, kirim ke newArr (akumulator kami dalam contoh ini).  Jika tidak, jangan lakukan apa pun. </p><br><p>  Bagaimanapun, kembalikan newArr untuk mendapatkan akumulator di pass berikutnya. </p><br><pre> <code class="plaintext hljs">//      var hufflepuff = wizards.reduce(function (newArr, wizard) { if (wizard.house === 'Hufflepuff') { newArr.push(wizard.name); } return newArr; }, []);</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/jJYVyL" rel="nofollow">Sebuah contoh</a> </p><br><p>  <strong>3.Buat markup dari array</strong> </p><br><p>  Bagaimana jika, alih-alih membuat array nama, kami ingin membuat daftar master yang tidak terurut di Hufflepuff?  Alih-alih array kosong di Array.reduce () sebagai nilai awal kami, sampaikan string kosong ('') dan beri nama html. </p><br><p>  Jika wizard.house sama dengan Hufflepuff, kami menggabungkan string html kami dengan wizard.name yang dibungkus dengan elemen daftar pembuka dan penutup (li).  Kemudian kembalikan HTML sebagai akumulator di loop berikutnya. </p><br><pre> <code class="plaintext hljs">//      var hufflepuffList = wizards.reduce(function (html, wizard) { if (wizard.house === 'Hufflepuff') { html += '&lt;li&gt;' + wizard.name + '&lt;/li&gt;'; } return html; }, '');</code> </pre> <br><p>  Tambahkan membuka dan menutup item daftar yang tidak berurutan sebelum dan sesudah Array.reduce ().  Sekarang Anda siap untuk menambahkan markup ke DOM. </p><br><pre> <code class="plaintext hljs">//      var hufflepuffList = '&lt;ul&gt;' + wizards.reduce(function (html, wizard) { if (wizard.house === 'Hufflepuff') { html += '&lt;li&gt;' + wizard.name + '&lt;/li&gt;'; } return html; }, '') + '&lt;/ul&gt;';</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/oNgYRZZ" rel="nofollow">Sebuah contoh</a> </p><br><p>  <strong>4. Mengelompokkan elemen serupa ke dalam array</strong> </p><br><p>  Pustaka <a href="https://lodash.com/" rel="nofollow">lodash</a> memiliki metode <a href="" rel="nofollow">groupBy ()</a> yang mengambil kumpulan elemen sebagai array dan mengelompokkannya menjadi objek berdasarkan beberapa kriteria. </p><br><p>  Katakanlah kita membutuhkan sejumlah angka. </p><br><p>  Jika kita ingin mengelompokkan semua elemen menjadi angka dengan nilai integernya, maka ini harus dilakukan dengan menggunakan lodash. </p><br><pre> <code class="plaintext hljs">var numbers = [6.1, 4.2, 6.3]; // returns {'4': [4.2], '6': [6.1, 6.3]} _.groupBy(numbers, Math.floor);</code> </pre> <br><p>  Jika ada susunan kata, dan Anda perlu mengelompokkan elemen dalam kata berdasarkan panjangnya, kami akan melakukannya. </p><br><pre> <code class="plaintext hljs">var words = ['one', 'two', 'three']; // returns {'3': ['one', 'two'], '5': ['three']} _.groupBy(words, 'length');</code> </pre> <br><p>  <strong>Membuat fungsi groupBy () menggunakan Array.reduce ()</strong> </p><br><p>  Anda dapat membuat ulang fungsionalitas yang sama menggunakan metode Array.reduce (). </p><br><p>  Kami membuat fungsi bantu groupBy (), yang mengambil array dan kriteria untuk menyortir sebagai argumen.  Di dalam groupBy (), kita akan menjalankan Array.reduce () untuk array kita, melewati objek kosong ({}) sebagai titik awal dan mengembalikan hasilnya. </p><br><pre> <code class="plaintext hljs">var groupBy = function (arr, criteria) { return arr.reduce(function (obj, item) { // Some code will go here... }, {}); };</code> </pre> <br><p>  Di dalam Array.reduce (), kami memanggil fungsi callback untuk memeriksa apakah kriteria adalah fungsi yang diterapkan pada elemen atau properti elemen.  Kemudian kita mendapatkan nilainya dari elemen saat ini. </p><br><p>  Jika objek belum memiliki properti dengan nilai ini, buat [properti] dan tetapkan array kosong sebagai nilainya.  Akhirnya, tambahkan elemen ke properti ini dan kembalikan objek sebagai akumulator untuk siklus berikutnya. </p><br><pre> <code class="plaintext hljs">var groupBy = function (arr, criteria) { return arr.reduce(function (obj, item) { //   ,        //  var key = typeof criteria === 'function' ? criteria(item) : item[criteria]; //    ,  . if (!obj.hasOwnProperty(key)) { obj[key] = []; } //     obj[key].push(item); //      return obj; }, {});};</code> </pre> <br><p>  Peragaan fungsi pembantu yang lengkap. </p><br><p>  Terima kasih khusus kepada <a href="https://tbremer.com/" rel="nofollow">Tom Bremer</a> atas bantuannya.  Fungsi pembantu ini dan banyak lagi dapat ditemukan di <a href="https://vanillajstoolkit.com/" rel="nofollow">Vanilla JS Toolkit</a> . </p><br><p>  <strong>5. Menggabungkan data dari dua sumber ke dalam array</strong> </p><br><p>  Ingat daftar penyihir kami. </p><br><pre> <code class="plaintext hljs">var wizards = [ { name: 'Harry Potter', house: 'Gryfindor' }, { name: 'Cedric Diggory', house: 'Hufflepuff' }, { name: 'Tonks', house: 'Hufflepuff' }, { name: 'Ronald Weasley', house: 'Gryfindor' }, { name: 'Hermione Granger', house: 'Gryfindor' }];</code> </pre> <br><p>  Bagaimana jika ada set data yang berbeda - objek dengan rumah dan poin yang diperoleh masing-masing pesulap. </p><br><pre> <code class="plaintext hljs">var points = { HarryPotter: 500, CedricDiggory: 750, RonaldWeasley: 100, HermioneGranger: 1270 };</code> </pre> <br><p>  Bayangkan kita ingin menggabungkan kedua set data menjadi satu array dengan jumlah poin yang ditambahkan ke data masing-masing wizard dalam array wizards.  Bagaimana cara melakukannya? </p><br><p>  Metode Array.reduce () sangat cocok untuk ini! </p><br><pre> <code class="plaintext hljs">var wizardsWithPoints = wizards.reduce(function (arr, wizard) { //     points,     // var key = wizard.name.replace(' ', ' '); //     ,  , //   0. if (points[key]) { wizard.points = points[key]; } else { wizard.points = 0; } //   wizard   . arr.push(wizard); //  . return arr; }, []);</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/RwNoXEo" rel="nofollow">Contoh menggabungkan data dari dua sumber ke dalam array</a> . </p><br><p>  <strong>6. Menggabungkan data dari dua sumber menjadi suatu objek</strong> </p><br><p>  Bagaimana jika sebaliknya diperlukan untuk menggabungkan dua sumber data menjadi objek di mana nama masing-masing penyihir adalah kuncinya, dan rumah dan kacamata mereka adalah properti?  Sekali lagi, metode Array.reduce () sangat cocok untuk ini. </p><br><pre> <code class="plaintext hljs">var wizardsAsAnObject = wizards.reduce(function (obj, wizard) { //      points,     // var key = wizard.name.replace(' ', ' '); //     ,  , //   0. if (points[key]) { wizard.points = points[key]; } else { wizard.points = 0; } //   name delete wizard.name; //   wizard    obj[key] = wizard; //   return obj; }, {});</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/bGNBXZL" rel="nofollow">Contoh menggabungkan data dari dua sumber menjadi objek</a> . </p><br><p>  <strong>Haruskah saya menggunakan Array.reduce ()?</strong> </p><br><p>  Metode Array.reduce () telah berevolusi dari tidak berarti menjadi metode JavaScript favorit saya.  Jadi layakkah menggunakannya?  Dan kapan? </p><br><p>  Metode Array.reduce () memiliki dukungan browser yang fantastis.  Ini bekerja di semua browser modern dan di IE9.  Sudah lama didukung oleh peramban seluler.  Jika Anda membutuhkan lebih banyak, Anda dapat menambahkan polyfill untuk mengembalikan dukungan di IE6. </p><br><p>  Masalah yang paling serius mungkin adalah bahwa Array.reduce () membingungkan bagi orang yang belum pernah menemukannya [metode] sebelumnya.  Kombinasi metode Array.filter () dengan Array.map () lebih lambat dan melibatkan langkah-langkah tambahan, tetapi lebih mudah dibaca.  Nama-nama metode menunjukkan apa yang harus mereka lakukan. </p><br><p>  Seperti yang telah disebutkan, metode Array.reduce (), secara umum, menyederhanakan hal-hal yang lebih kompleks.  Contoh yang baik adalah fungsi helper groupBy (). </p><br><p>  Pada akhirnya, ini adalah alat lain untuk toolkit Anda.  Alat yang, jika digunakan dengan benar, dapat memberikan kekuatan super. </p><br><h4 id="ob-avtore">  Tentang penulis </h4><br><p>  Chris Ferdinandi membantu orang belajar JavaScript vanila.  Dia percaya bahwa ada cara yang lebih sederhana dan lebih dapat diandalkan untuk melakukan hal-hal untuk Internet. </p><br><p>  Chris adalah penulis seri <a href="https://vanillajsguides.com/" rel="nofollow">Panduan Saku Vanilla JS</a> , pencipta kurikulum <a href="https://vanillajsacademy.com/" rel="nofollow">Akademi Vanilla JS</a> , dan presenter <a href="https://vanillajspodcast.com/" rel="nofollow">Vanilla JS Podcast</a> .  <a href="https://gomakethings.com/" rel="nofollow">Buletin</a> penasihat <a href="https://gomakethings.com/" rel="nofollow">pengembangnya</a> dibaca oleh ribuan pengembang setiap hari kerja. </p><br><p>  Dia melatih pengembang di organisasi seperti Chobani dan Boston Globe, dan plugin JavaScript-nya digunakan oleh Apple dan Harvard Business School.  Chris Coyer, pendiri CSS-Tricks dan CodePen, menggambarkan karyanya sebagai "kutipan tanpa henti." </p><br><p>  Chris menyukai bajak laut, anak anjing dan film Pixar, dan juga tinggal di dekat peternakan kuda di pedesaan Massachusetts.  Dia memimpin <a href="https://gomakethings.com/" rel="nofollow">Go Make Things</a> dengan anak anjing Bailey. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id483182/">https://habr.com/ru/post/id483182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id483170/index.html">Database messenger (bagian 2): kami mempartisi "untung"</a></li>
<li><a href="../id483172/index.html">Bagaimana cara Melokalkan Aplikasi atau Game? Sepuluh Sumber E-learning Gratis</a></li>
<li><a href="../id483174/index.html">Rekam dan transfer suara dari perangkat ke perangkat menggunakan Konektivitas Multipeer</a></li>
<li><a href="../id483176/index.html">Database messenger (bagian 1): kami merancang bingkai dasar</a></li>
<li><a href="../id483178/index.html">Berikut adalah Pembaruan pada Flutter 1.9 Rilis Ditambah dengan Pemrograman Dart 2.5</a></li>
<li><a href="../id483184/index.html">Pemutakhiran kode otomatis ke TensorFlow 2</a></li>
<li><a href="../id483186/index.html">Memperkenalkan Java 13: Mari selami Ke Fitur Baru JDK</a></li>
<li><a href="../id483190/index.html">3CX jawaban dukungan teknis: Tingkatkan ke 3CX v16 dari versi sebelumnya</a></li>
<li><a href="../id483194/index.html">Bot untuk biaya. Pergi ke sepakbola dengan teknologi baru</a></li>
<li><a href="../id483198/index.html">Bagaimana Alibaba Cloud mengelola puluhan ribu cluster Kubernet dengan ... Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>