<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§±üèº üà∫ üåî Charles Nutter. Comment transf√©rer un ancien projet monolithique vers JRuby et √ßa vaut le coup? üìî üàØÔ∏è üë©üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans quelques jours, la conf√©rence RubyRussia se tiendra √† Moscou. Notre invit√© Charles Nutter (travaillant sur JRuby et le support JVM sur Red Hat) a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Charles Nutter. Comment transf√©rer un ancien projet monolithique vers JRuby et √ßa vaut le coup?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/railsclub/blog/425379/"> Dans quelques jours, la conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RubyRussia</a> se tiendra √† Moscou.  Notre invit√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Charles Nutter</a> (travaillant sur JRuby et le support JVM sur Red Hat) a r√©pondu √† quelques questions. <br><br><img align="left" src="https://habrastorage.org/webt/q2/r2/c3/q2r2c3e8olx0msepc7nj9e9ao0u.jpeg">  <b>Comment √™tes-vous entr√© dans le monde de la programmation et de Ruby?</b> <br><br>  En 2004, j'ai pass√© un contrat pour une soci√©t√© d'√âtat en tant qu'architecte Java Enterprise.  J'ai travaill√© sur un projet pour l'USDA et j'ai pass√© quelques semaines par mois √† Washington.  Un de ces voyages a co√Øncid√© avec RubyConf 2004, et depuis qu'un de mes amis m'a longtemps recommand√© de faire attention √† Ruby, j'ai d√©cid√© d'aller √† la conf√©rence.  Je me suis donc retrouv√© √† un √©v√©nement d√©di√© √† Ruby, n'ayant aucune id√©e de ce langage ... mais j'ai compris chaque morceau de code, chaque exemple donn√©.  J'ai √©t√© √©tonn√© et me suis promis de trouver un moyen d'amener Ruby dans mon monde Java. <br><br>  <b>Sur quels projets travaillez-vous actuellement?</b> <br><a name="habracut"></a><br>  Je suis l'un des deux chefs de projet JRuby.  Ce travail comprend divers projets connexes, par exemple, la prise en charge des biblioth√®ques natives (nous prenons en charge Ruby FFI sur JRuby) ou la conversion de cha√Ænes (portage d'une logique similaire √† partir de CRuby).  De plus, je travaille avec la communaut√© pour faire en sorte que nos utilisateurs puissent toujours obtenir de l'aide de notre part.  En g√©n√©ral, le travail est toujours complet! <br><br>  <b>Lequel de ces projets a le plus bel avenir?</b> <br><br>  Je pense que c'est JRuby, bien que ce ne soit pas le langage le plus populaire sur la plate-forme JVM. <br>  Au moins, nous avons contribu√© aux changements positifs dans la machine virtuelle Java elle-m√™me.  En grande partie gr√¢ce √† notre collaboration avec Sun Microsystems et Oracle, la JVM est devenue une plate-forme pratique pour de nombreux langages dynamiques, pas seulement Java.  J'esp√®re que nous avons jou√© un r√¥le important dans ce changement. <br><br>  <b>Quelles langues √©crivez-vous le plus souvent?</b>  <b>Laquelle pr√©f√©rez-vous et pourquoi?</b> <br><br>  J'√©cris principalement en Ruby et Java, puisque JRuby est √©crit en utilisant les deux.  Chacune de ces langues est bien adapt√©e √† ses t√¢ches.  Ruby - pour cr√©er des applications qui doivent se d√©velopper et s'adapter rapidement.  Java - pour √©crire des biblioth√®ques et des services rapides et fiables.  Et JRuby combine le meilleur des deux mondes! <br><br>  <b>Aimez-vous la programmation en Java?</b> <br><br>  Oui, en particulier compte tenu de toutes les am√©liorations de langage r√©cemment ajout√©es, telles que les lambdas (fermetures ou blocs dans Ruby), et la nouvelle syntaxe de d√©claration des variables locales (var) lorsqu'un type statique est unique. <br><br>  <b>Que pensez-vous de Rust?</b> <br><br>  La rouille est une excellente langue!  Au coll√®ge, j'ai beaucoup utilis√© le C ++, mais je peux certainement dire que si je connaissais Rust √† ce moment-l√†, je pr√©f√©rerais √©crire dessus.  J'aime particuli√®rement le mod√®le de propri√©t√© de type statique, qui nous permet d'√©crire des programmes parall√®les stables et garantit un acc√®s s√©curis√© √† la m√©moire.  Je pense que d'autres langues devraient l'adopter √† l'avenir. <br><br>  <b>Que pensez-vous des perspectives de Ruby?</b>  <b>Pendant de nombreuses ann√©es, beaucoup de gens croient que la langue et sa communaut√© "meurent" ...</b> <br><br>  Apr√®s de nombreuses ann√©es de travail sur JRuby, je suis tomb√© amoureux de la syntaxe Ruby et de son fonctionnement.  Mais, je crains que le probl√®me de performances existe vraiment et soit important.  JRuby a du mal √† faire des threads parall√®les une r√©alit√© pour les d√©veloppeurs Ruby, mais jusqu'√† pr√©sent, la grande majorit√© des services Ruby utilisent plusieurs processus isol√©s, gaspillant d'√©normes quantit√©s de ressources CPU et m√©moire.  Je pense que cela est d√ª √† l'API C trop grande et invasive pour l'√©criture d'extensions Ruby, qui ne permet pas la mise en ≈ìuvre d'am√©liorations telles que les threads parall√®les. <br>  Mais je ne perds pas espoir qu'un jour nous verrons encore des changements. <br><br>  <b>Laquelle des fonctionnalit√©s Ruby les moins populaires devriez-vous envisager √† l'avenir?</b> <br><br>  J'ai h√¢te que les cha√Ænes deviennent immuables par d√©faut, comme c'est le cas dans la plupart des autres langues.  La programmation simultan√©e serait beaucoup plus simple si davantage d'objets Ruby pouvaient √™tre rendus profond√©ment fig√©s.  Il peut ressembler au mod√®le utilis√© dans Rust ... si vous partagez un objet dans des flux, vous devez choisir la version de l'objet qui ne sera pas modifi√©e exactement.  Cela s'√©tend aux tableaux, aux hachages et √† presque tout autre objet modifiable dans Ruby: nous devons simplifier le blocage des modifications de donn√©es. <br><br>  <b>J'ai un gros vieux projet monolithique Ruby.</b>  <b>Je me demandais si je pouvais le traduire en JRuby.</b>  <b>Comment cela pourrait-il √™tre fait et est-ce m√™me logique?</b> <br><br>  En fait, la premi√®re question est de savoir si cette √©tape vous aidera. <br>  Les arguments importants pour passer √† JRuby pourraient √™tre: <br><br><ul><li>  R√©duire le co√ªt des ressources en cas d'inconv√©nient, par exemple, si plusieurs applications sont h√©berg√©es sur le m√™me serveur √† la fois </li><li>  D√©ploiement d'une application Ruby dans un environnement lourd JVM utilis√© par de grandes organisations financi√®res et gouvernementales </li><li>  La n√©cessit√© d'acc√©der √† des biblioth√®ques qui n'existent qu'en Java, ou qui sont plus faciles √† porter sur la JVM, que leurs √©quivalents en Ruby ou C </li><li>  Une l√©g√®re augmentation des performances dans les applications avec une informatique lourde (qui charge le processeur) ou avec un grand nombre de t√¢ches parall√®les. </li></ul><br>  Je dirais que si l'application √©volue bien et ne vous co√ªte pas trop cher, alors vous ne devriez peut-√™tre rien faire.  Mais si vous d√©cidez d'obtenir plus de Ruby, voici le processus de migration: <br><br><ul><li>  Rassemblez toutes les biblioth√®ques tierces que votre application utilise. </li><li>  Mettez en surbrillance parmi eux ceux qui utilisent des extensions C. </li><li>  Trouvez l'√©quivalent de JRuby pour chaque extension.  Nous avons plusieurs </li><li>  pages sur le wiki JRuby √† ce sujet.  Les biblioth√®ques les plus populaires ont des versions JRuby.  S'il n'y a pas de version JRuby, vous pouvez utiliser une version Ruby pure (elle sera assez rapide sur JRuby) ou des biblioth√®ques JVM (en Java, Scala, Clojure, etc.), qui peuvent √™tre utilis√©es en remplacement. </li><li>  D√®s que toutes vos gemmes auront gagn√© sur JRuby, l'application enti√®re fonctionnera!  Nous accordons beaucoup d'attention √† la compatibilit√© et essayons de prendre en compte les nouveaux probl√®mes auxquels nos utilisateurs sont attentifs.  Par cons√©quent, avec une forte probabilit√©, si vous disposez d'un bundle sur JRuby, l'application fonctionnera. </li></ul><br>  Eh bien, alors la partie la plus difficile commence - que faire des ressources lib√©r√©es.  Combien de threads pour parall√©liser l'application, comment d√©penser l'argent √©conomis√© ... :) <br><br>  <b>Que doivent savoir les √©tudiants pour devenir de bons programmeurs?</b> <br><br>  Quand j'√©tais √† l'universit√©, mes cours d'informatique enseignaient le sch√©ma, un langage fonctionnel comme le lisp qui √©tait parfait pour apprendre les bases de la programmation.  Je recommande toujours aux programmeurs novices d'√©tudier au moins une partie du livre Structure and Interpretation of Computer Programs, publi√© par le Massachusetts Institute of Technology (MIT).  Eh bien, en g√©n√©ral, plus vous connaissez de langues diff√©rentes, mieux c'est.  Cela donne de nouvelles id√©es et vous permet d'envisager la solution √† vos probl√®mes sous diff√©rents angles. <br><br>  <b>O√π trouvez-vous la motivation pour travailler?</b>  <b>Avez-vous rencontr√© le probl√®me de l'√©puisement professionnel?</b> <br><br>  L'√©puisement professionnel est un vrai probl√®me dans notre industrie.  Travailler surtout en open source <br>  Cela apporte beaucoup de stress.  Je pense que cela est arriv√© √† tout le monde ... quand il y a trop de travail, vous n'avez pas le temps de tout faire, vous sacrifiez du temps avec votre famille et vos amis, vous oubliez votre sant√© pour corriger un autre bug r√©gulier.  Pour lutter contre cela, j'essaie de me concentrer sur un passe-temps: jouer √† des jeux informatiques et de soci√©t√©, apprendre √† jouer de la guitare, <br>  apprendre des langues √©trang√®res et parcourir le monde, rencontrer de nouvelles personnes.  Un bourreau de travail grognon vivra toujours en moi, me persuadant de retourner au travail, mais j'essaie toujours de maintenir le bon √©quilibre. <br><br>  <b>Quelle est votre opinion sur la Russie et qu'attendez-vous du prochain √©v√©nement RubyRussia?</b> <br><br>  J'adore la Russie et tous mes voyages √† la conf√©rence ici au cours des derni√®res ann√©es ont √©t√© tr√®s utiles.  Ce sera ma quatri√®me visite, auparavant j'√©tais √† Saint-P√©tersbourg, Moscou et m√™me √† Novossibirsk (!!!).  J'ai h√¢te de retourner √† Moscou et de rencontrer la communaut√© russe Ruby, dont j'ai beaucoup entendu parler. <br><br>  Les questions ont √©t√© pr√©par√©es par <a href="">Dmitry Matveev</a> , PM d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Evrone</a> .  Et vous pouvez poser votre question d√®s le 6 octobre.  Alors rendez-vous √† la conf√©rence!  Tous les d√©tails sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site</a> . <br><br>  Vous pouvez lire l'original en anglais sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hype.codes</a> . <br><br>  Et un grand merci aux entreprises qui soutiennent le principal √©v√©nement Ruby en Russie: <br><br>  Associ√© commandit√© - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toptal</a> <br>  Partenaires Or - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gett</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cookpad</a> <br>  Partenaires Silver - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Instamart</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">UCHi.ru</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JetBrains</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Qlean</a> <br>  Partenaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Afterparty</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Teachbase</a> <br>  Partenaires Bronze - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bookmate</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">InSales</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425379/">https://habr.com/ru/post/fr425379/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425369/index.html">KTRU (Catalogue des biens, travaux, services) ou la mort des march√©s publics informatiques</a></li>
<li><a href="../fr425371/index.html">Node.JS: biblioth√®que pour modifier les r√©ponses http</a></li>
<li><a href="../fr425373/index.html">QA Fest 2018: bilan de la principale conf√©rence QA de l'Ukraine</a></li>
<li><a href="../fr425375/index.html">Une autre fa√ßon de voir les communications des applications</a></li>
<li><a href="../fr425377/index.html">Si les concepteurs de produits num√©riques cr√©aient de vraies choses</a></li>
<li><a href="../fr425383/index.html">Jet Infosystems, Rosreestr, NLMK et Utkonos lancent un hackathon IA</a></li>
<li><a href="../fr425385/index.html">La t√™te du programmeur: comment le codage affecte la pens√©e</a></li>
<li><a href="../fr425387/index.html">Construire une IA s√ªre: sp√©cifications, fiabilit√© et garanties</a></li>
<li><a href="../fr425389/index.html">FadeObjects - Masquez les objets entre la cam√©ra et le personnage</a></li>
<li><a href="../fr425393/index.html">QIWI server party 3.0: rapport + vid√©os compl√®tes de tous les rapports</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>