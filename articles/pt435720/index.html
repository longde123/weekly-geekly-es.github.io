<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÄüèΩ üëèüèº üë©üèø‚Äç‚öïÔ∏è R√°dio Adblock de desenvolvimento ‚è≥ üë¥üèº üôéüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="tl; dr: o Adblock Radio reconhece an√∫ncios de √°udio usando aprendizado de m√°quina e t√©cnicas semelhantes ao Shazam. O principal mecanismo de c√≥digo ab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>R√°dio Adblock de desenvolvimento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435720/"><img src="https://habrastorage.org/webt/so/4b/71/so4b71truayz8-hdmdphw4hgc0e.jpeg"><br><br><blockquote>  <b>tl; dr: o</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adblock Radio</a> reconhece an√∫ncios de √°udio usando aprendizado de m√°quina e t√©cnicas semelhantes ao Shazam.  O principal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mecanismo de c√≥digo aberto</a> : use-o em seus produtos!  Voc√™ pode unir for√ßas para oferecer suporte a mais esta√ß√µes de r√°dio e podcasts. </blockquote><br>  Poucas pessoas gostam de ouvir an√∫ncios de r√°dio.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lancei o</a> projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AdblockRadio.com para</a> que os ouvintes possam pular an√∫ncios em sua r√°dio favorita da Internet.  O algoritmo √© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo aberto</a> publicado e este artigo descreve como ele funciona. <br><br>  O Adblock Radio j√° testou dados reais de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mais de 60 esta√ß√µes de r√°dio em sete pa√≠ses</a> .  Tamb√©m √© compat√≠vel com podcasts e funciona muito bem! <br><a name="habracut"></a><br>  Comparado √†s implementa√ß√µes anteriores, nosso algoritmo oferece uma abordagem universal, processando threads de v√°rias fontes.  Das implementa√ß√µes anteriores, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conta com metadados de r√°dio na Internet</a> , mas apenas uma pequena fra√ß√£o do r√°dio √© compat√≠vel com esse m√©todo.  Outra implementa√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reconhece jingles conhecidos</a> , mas em muitos casos o in√≠cio e o fim dos intervalos comerciais n√£o s√£o marcados pelo jingle. <br><br>  Al√©m de detectar comerciais, o algoritmo proposto pode distinguir a conversa da m√∫sica.  Portanto, tamb√©m permite evitar conversas e ouvir apenas m√∫sica. <br><br>  Este √© um relat√≥rio do meu trabalho pessoal h√° quase tr√™s anos.  Lancei o Adblock Radio no final de 2015, alguns meses depois de me formar na faculdade de f√≠sica de fus√£o de plasma.  Quando a Adblock Radio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ganhou fama</a> em 2016, recebi amea√ßas de advogados de esta√ß√µes de r√°dio francesas (mais abaixo).  Eu tive que fechar parcialmente o site, mudar a arquitetura do sistema, estudar melhor as consequ√™ncias legais, etc. Hoje, acredito que o AdBlock Radio ser√° muito melhor desenvolvido no paradigma da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">inova√ß√£o aberta</a> . <br><br>  Este artigo possui tr√™s partes.  Eles s√£o projetados para diferentes p√∫blicos.  Voc√™ pode rolar para baixo ou clicar no nome para ir diretamente para a se√ß√£o desejada. <br><br><ul><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Detec√ß√£o de an√∫ncios: estrat√©gias comprovadas</a></b> .  Para pessoas tecnicamente experientes, cientistas, especialistas em an√°lise de dados ... Aqui est√£o v√°rios m√©todos t√©cnicos que tentei detectar an√∫ncios, incluindo reconhecimento de fala, impress√µes digitais sonoras e aprendizado de m√°quina.  Pensamentos sobre op√ß√µes para trabalhos futuros. </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">N√£o √© recomend√°vel executar o Adblock Radio na nuvem</a></b> .  Para desenvolvedores de software e pessoas interessadas em direitos autorais.  Discutiremos qu√£o dif√≠cil √© encontrar um compromisso satisfat√≥rio entre as limita√ß√µes t√©cnicas e legais ao iniciar o Adblock Radio em servi√ßos em nuvem.  Por esses motivos, √© melhor executar o Adblock Radio apenas em dispositivos de usu√°rio final. </li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Voc√™ pode integrar o Adblock Radio ao seu player</a></b> .  Para fabricantes, propriet√°rios de produtos, designers de UX, t√©cnicos ... Estou pensando em id√©ias para integrar um algoritmo de c√≥digo aberto em produtos finais, incluindo reprodutores de carros, e enfatizando a necessidade de feedback dos usu√°rios sobre casos de mau funcionamento.  Isso √© necess√°rio para manter o sistema.  Finalmente, aqui est√£o algumas dicas sobre como criar as interfaces de usu√°rio corretas.  Espero muito feedback sobre esse t√≥pico. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1d/ea9/09c/c1dea909ca297c940bf1630652af64a0.png"><br>  <i><font color="gray">O Adblock Radio traz de volta o prazer de ouvir r√°dio</font></i> <br><br><a name="1"></a><h1>  Detec√ß√£o de an√∫ncios: estrat√©gias comprovadas </h1><br>  Para bloquear um an√∫ncio, primeiro voc√™ precisa detect√°-lo.  O objetivo √© detectar an√∫ncios no fluxo de √°udio sem qualquer ajuda da esta√ß√£o de r√°dio.  Esta n√£o √© uma tarefa f√°cil.  Eu tentei v√°rias abordagens antes de obter um bom resultado. <br><br><h2>  1. M√©todos simples (n√£o funcionam) </h2><br><h3>  Volume </h3><br>  A primeira id√©ia √© verificar o volume do som, porque o an√∫ncio √© muito alto!  Para publicidade, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a compress√£o ac√∫stica √©</a> frequentemente usada.  Esse √© um crit√©rio interessante, mas n√£o basta distinguir a publicidade.  Por exemplo, essa estrat√©gia funciona muito bem para esta√ß√µes de m√∫sica cl√°ssica, onde os an√∫ncios geralmente s√£o mais altos que a m√∫sica.  Mas o pop √© t√£o alto quanto a publicidade.  Al√©m disso, algumas propagandas podem ser deliberadamente silenciosas para evitar a detec√ß√£o. <br><br><h3>  Bloqueio de rel√≥gio </h3><br>  Outra id√©ia √© que a publicidade √© transmitida em uma programa√ß√£o em um hor√°rio espec√≠fico.  At√© certo ponto, isso √© verdade, mas n√£o h√° precis√£o.  Por exemplo, vi o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">programa matinal</a> na esta√ß√£o francesa n√£o come√ßar exatamente na mesma hora, com varia√ß√µes de at√© dois minutos.  As esta√ß√µes de r√°dio podem facilmente contornar esse bloqueio, mudando aleatoriamente seus programas por v√°rias dezenas de segundos. <br><br><h3>  Metadados </h3><br>  A solu√ß√£o √≥bvia √© confiar nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">metadados ICY / Shoutcast</a> para jogadores como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VLC</a> exibirem informa√ß√µes sobre o fluxo.  Infelizmente, esses dados s√£o quebrados na maioria dos casos.  Pode-se obter informa√ß√µes da transmiss√£o ao vivo nos sites das esta√ß√µes de r√°dio (desenvolvi uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramenta para isso</a> ), mas na maioria das vezes o an√∫ncio n√£o √© identificado como est√°.  Geralmente, durante a publicidade no site, √© exibido o nome da m√∫sica ou programa anterior.  Uma exce√ß√£o not√°vel √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jazz Radio</a> , que escreve <i>‚Äúla musique revient vite ...‚Äù</i> durante os comerciais (a m√∫sica voltar√° em breve).  Em conclus√£o, deve-se notar que esta √© uma estrat√©gia n√£o confi√°vel, uma vez que as esta√ß√µes de r√°dio podem facilmente mudar os metadados. <br><br><h3>  Marca√ß√£o manual </h3><br>  Afinal, a detec√ß√£o de an√∫ncios √© poss√≠vel sem qualquer algoritmo!  Voc√™ pode simplesmente pedir a alguns ouvintes para pressionar um bot√£o quando um an√∫ncio come√ßa e termina.  Outros ouvintes se beneficiar√£o com isso.  Esta √© a estrat√©gia do decodificador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TiVo Bolt</a> .  Permite remover an√∫ncios em canais estabelecidos em um hor√°rio definido.  Isso fornece excelentes resultados, mas n√£o se adapta bem a milhares de esta√ß√µes de r√°dio. <br><br>  A desvantagem √© que √© dif√≠cil iniciar o sistema do zero.  Pode n√£o haver p√∫blico suficiente na nova esta√ß√£o para uma opera√ß√£o adequada.  Os primeiros ouvintes ficar√£o chateados e v√£o embora, de modo que a esta√ß√£o nunca reunir√° uma audi√™ncia grande o suficiente. <br><br>  Outra dificuldade √© que as esta√ß√µes de r√°dio desejam enviar sinais falsos para sabotar o sistema.  Requer um mecanismo de modera√ß√£o, um sistema de consenso ou um limite para vota√ß√£o. <br><br>  Crowdsourcing √© uma boa ideia.  Eu acho que parece ainda melhor se o algoritmo faz a maior parte do trabalho, deixando um m√≠nimo para as pessoas.  Foi o que eu fiz. <br><br><h2>  2. Reconhecimento de fala e an√°lise de campo lexical (falha) </h2><br>  A publicidade √© sempre o mesmo t√≥pico e campo lexical: comprar um carro, obter cupons de supermercado, inscrever-se em seguros etc. Se voc√™ reconhecer a fala, poder√° usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramentas</a> padr√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para combater o spam</a> .  Este foi o meu primeiro caminho de pesquisa no final de 2015, mas n√£o consegui implementar o reconhecimento de fala. <br><br>  Como iniciante no processamento de fala, comecei lendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o Processamento de fala de Huang</a> , um √≥timo livro, embora um pouco datado.  Coloquei minhas m√£ozinhas sujas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMU Sphinx</a> , o melhor mecanismo de reconhecimento de voz livre da √©poca. <br><br>  A primeira tentativa deu resultados muito ruins e exigiu c√°lculos intensivos na CPU.  Utilizei os par√¢metros padr√£o: dicion√°rio franc√™s padr√£o (lista de poss√≠veis palavras e fonemas correspondentes), modelo de linguagem (probabilidades de sequ√™ncias de palavras) e modelo ac√∫stico (conex√£o de fonemas com a forma de ondas sonoras). <br><br>  Tentativas de melhorar o sistema foram in√∫teis: o reconhecimento ainda funcionou mal.  Configurei o modelo de vocabul√°rio e idioma em um pequeno conjunto de dados, compartilhando o som <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com uma ferramenta de diariza√ß√£o</a> .  Ele tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adaptou o modelo ac√∫stico MLLR</a> √† esta√ß√£o de r√°dio Europe 1 (francesa), na qual treinou o sistema. <br><br>  Em geral, a id√©ia de reconhecimento de fala teve que ser abandonada.  Isto √© provavelmente para especialistas.  No entanto, no futuro, voc√™ poder√° retornar a ele.  Desde 2015, houve um progresso significativo no reconhecimento de fala.  Novas ferramentas de c√≥digo aberto foram publicadas, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mozilla Deep Speech</a> . <br><br><h2>  3. Base de publicidade de crowdsourcing, detec√ß√£o por impress√µes digitais sonoras (encorajador) </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A primeira vers√£o do</a> Adblock Radio em 2016 trabalhou com um banco de dados de comerciais.  O sistema ouvia continuamente o fluxo de som em busca de publicidade.  Os resultados foram realmente promissores, mas era dif√≠cil manter essa base atualizada. <br><br>  A t√©cnica de busca de impress√µes digitais √© semelhante ao que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Shazam faz em seus servidores</a> para reconhecer m√∫sicas.  Esse tipo de algoritmo √© conhecido como <i>ponto de refer√™ncia</i> .  Eu o adaptei para trabalhar com streaming e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abri o c√≥digo fonte</a> . <br><br>  A impress√£o digital √© adequada para detectar comerciais, porque eles s√£o transmitidos repetidamente da mesma forma.  Pela mesma raz√£o, ele reconhece a m√∫sica.  Mas essa t√©cnica n√£o funciona na fala, porque as pessoas nunca pronunciam palavras da mesma maneira.  Isso s√≥ √© poss√≠vel com a retransmiss√£o dos programas √† noite, o que n√£o nos interessa.  Portanto, publicidade e m√∫sica (como ‚Äún√£o anunciando‚Äù) devem ser inseridas no banco de dados de impress√µes digitais, mas n√£o faz sentido processar a fala. <br><br>  Essencialmente, impress√µes digitais sonoras s√£o a convers√£o de algumas caracter√≠sticas do som em uma s√©rie de n√∫meros denominados impress√µes digitais.  Se muitas impress√µes ao vivo coincidirem com a base, podemos concluir que a publicidade est√° sendo transmitida.  Para uma resolu√ß√£o ideal, intervalo de tempo e frequ√™ncia, √© necess√°rio algum ajuste.  Padr√µes diferentes devem variar bem.  No entanto, o sistema deve funcionar mesmo com uma pequena altera√ß√£o nos algoritmos de compress√£o de som ou se o r√°dio tiver alterado as configura√ß√µes do equalizador.  Por fim, voc√™ deve limitar o n√∫mero de impress√µes para n√£o carregar recursos de computa√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e7/860/99b/6e786099b35bb12604acae2049d4e26b.png"><br>  <i><font color="gray">Exemplo de c√°lculo de impress√µes sonoras.</font></i>  <i><font color="gray">Fundo vermelho - espectrograma.</font></i>  <i><font color="gray">Reflete a mudan√ßa na intensidade do som na frequ√™ncia (baixas frequ√™ncias abaixo).</font></i>  <i><font color="gray">Nesse mapa, os picos espectrais s√£o identificados (pontos azuis) e conectados (linhas cinzas).</font></i>  <i><font color="gray">A posi√ß√£o, comprimento e orienta√ß√£o de cada linha cinza √© convertida em um n√∫mero √∫nico, uma impress√£o</font></i> <br><br>  A classifica√ß√£o bin√°ria fornece o resultado: a amostra √© um an√∫ncio ou n√£o.  Se analisarmos casos de erros, o sistema quase sempre produziu um resultado falso negativo, ou seja, perdeu an√∫ncios e muito raramente notou um bom conte√∫do como publicidade.  Os usu√°rios podem denunciar an√∫ncios n√£o detectados com um clique, o que fornece uma excelente interface de usu√°rio.  O som correspondente √© adicionado automaticamente ao banco de dados.  Eu moderava essas a√ß√µes a posteriori. <br><br>  Era dif√≠cil manter o banco de dados atualizado, pois os comerciais geralmente mudam e os an√∫ncios s√£o transmitidos com pouca varia√ß√£o.  Eles tamb√©m s√£o atualizados com frequ√™ncia, em alguns casos a cada poucos dias.  Alguns fluxos com um n√∫mero insuficiente de ouvintes s√£o muito pouco reconhecidos. <br><br>  Explorei estrat√©gias interessantes para automatizar parcialmente o trabalho dos ouvintes.  Os an√∫ncios s√£o transmitidos da mesma maneira v√°rias vezes por dia.  Isso pode ser usado para identific√°-los.  Registros pesquisados ‚Äã‚Äãpara <i>sequ√™ncias m√°ximas de repeti√ß√£o</i> (MRS).  Outro conte√∫do tamb√©m √© repetido, por exemplo, m√∫sicas e jingles (protetores de tela).  Classifiquei todas as seq√º√™ncias por comprimento e colhi amostras com uma dura√ß√£o de cerca de 30 segundos, t√≠pica de comerciais.  Assim, muitas vezes conseguiu pegar um an√∫ncio.  Mas, √†s vezes, um coro de m√∫sicas ou at√© previs√µes meteorol√≥gicas gravadas apareciam. <br><br>  Encontrei uma maneira de filtrar a maioria das repeti√ß√µes musicais: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">analisei as playlists da esta√ß√£o, baixei as m√∫sicas</a> e as integrei ao banco de dados com o r√≥tulo "no ads".  Portanto, mais e mais candidatos √† MRS acabaram sendo comerciais reais.  Mas, ainda assim, nem todos, a assist√™ncia ao usu√°rio permaneceu necess√°ria. <br><br>  Foi necess√°rio menos trabalho manual, mas a carga do servidor j√° era um problema.  Olhando para tr√°s, a escolha do SQLite para essas opera√ß√µes de banco de dados com uso intensivo de recursos e tempo n√£o foi a melhor. <br><br>  Felizmente, o algoritmo teve alguns segundos para determinar se o som √© um an√∫ncio publicit√°rio ou n√£o.  Isso ocorre porque os r√°dios da Internet usam um buffer de √°udio, geralmente de 4 a 30 segundos, que n√£o √© reproduzido imediatamente no dispositivo do usu√°rio final.  Isso ajuda a evitar interrup√ß√µes na transmiss√£o no caso de uma perda tempor√°ria da rede. <br><br>  Usei esse atraso no buffer de p√≥s-processamento para tornar as previs√µes de algoritmos mais est√°veis ‚Äã‚Äãe sens√≠veis ao contexto.  Imediatamente antes de reproduzir o som no dispositivo do usu√°rio final, o algoritmo analisa os resultados das previs√µes que ainda est√£o no buffer, bem como as mais antigas que j√° foram reproduzidas.  Ele corta pontos de dados question√°veis ‚Äã‚Äãcom v√°rias correspond√™ncias de impress√µes digitais, mostrando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">histerese</a> .  Ele tamb√©m leva em considera√ß√£o o tempo m√©dio ponderado para atenuar poss√≠veis falhas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d4f/c7c/04a/d4fc7c04ab0b38f39f48da835f9e277f.jpg"><br>  <i><font color="gray">Adblock Radio em algum momento de 2016.</font></i>  <i><font color="gray">O destaque vermelho das esta√ß√µes de r√°dio em que o an√∫ncio est√° sendo exibido atualmente parecia muito legal!</font></i>  <i><font color="gray">Os usu√°rios podem marcar an√∫ncios ignorados com um bot√£o azul.</font></i>  <i><font color="gray">O bot√£o m√∫sica na nuvem, na parte superior, permite exportar um fluxo MP3 personalizado com o an√∫ncio removido e, se essa fun√ß√£o estiver configurada, transi√ß√µes suaves entre esta√ß√µes de r√°dio.</font></i>  <i><font color="gray">Abaixo est√£o os bot√µes e fun√ß√µes adicionais.</font></i> <br><br><h3>  4. Classifica√ß√£o de publicidade, conversa√ß√£o e m√∫sica no aprendizado de m√°quina (quase pronto!) </h3><br>  A pr√≥xima vers√£o do algoritmo analisa a ac√∫stica: de sons baixos a altos e sua mudan√ßa no tempo.  Novos comerciais desconhecidos s√£o detectados quase t√£o bem quanto os antigos nos quais o treinamento ocorreu, apenas por sinais de ru√≠do e import√¢ncia.  Este √© um m√©todo mais complexo para analisar o volume do som (consulte a discuss√£o anterior). <br><br>  Para isso, usei ferramentas de aprendizado de m√°quina, a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Keras</a> , conectada ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tensorflow</a> .  Isso deu resultados muito bons com pouco uso da CPU.  Esta vers√£o trabalhou em produ√ß√£o por mais de um ano, desde o in√≠cio de 2017 at√© meados de 2018.  Agora √© poss√≠vel distinguir conversas e m√∫sica; portanto, a classifica√ß√£o se tornou mais precisa: em vez de "publicidade / n√£o publicidade" - "publicidade / conversa / m√∫sica". <br><br>  Vamos estudar os detalhes.  O som √© convertido em um mapa 2D, onde a intensidade do som √© apresentada em fun√ß√£o da frequ√™ncia e do tempo (em uma escala de cerca de quatro segundos).  Este cart√£o √© conceitualmente semelhante ao cart√£o vermelho no cap√≠tulo sobre impress√µes digitais.  A principal diferen√ßa √© que, em vez do espectro cl√°ssico de Fourier, usei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">coeficientes Mel-cepstrais</a> relevantes no contexto do reconhecimento de fala. <br><br>  Os cart√µes sequenciais com diferentes carimbos de data / hora foram analisados ‚Äã‚Äãcomo imagens em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rede neural recorrente</a> , como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LSTM</a> (mem√≥ria de curto prazo).  Cada cart√£o foi analisado independentemente do outro (RNN <i>sem preserva√ß√£o de estado</i> ), mas os cart√µes se sobrepuseram.  As cartas duravam 4 segundos e a cada segundo uma nova aparecia.  O resultado final para cada cart√£o foi o vetor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">softmax</a> , por exemplo, <code>ad: 72%, talk: 11%, music 17%</code> .  Essas previs√µes foram processadas usando o mesmo m√©todo descrito na se√ß√£o de impress√µes digitais. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/625/87e/fd962587ee0d346bf5460541f3b1121c.png"><br>  <i><font color="gray">Visualize os resultados t√≠picos de aprendizado de m√°quina para duas esta√ß√µes de r√°dio.</font></i>  <i><font color="gray">O eixo horizontal representa cerca de 17 minutos.</font></i>  <i><font color="gray">A linha verde se move entre tr√™s posi√ß√µes: publicidade na parte superior, conversa no meio e m√∫sica na parte inferior (mais pr√≥xima de um fundo cinza uniforme).</font></i>  <i><font color="gray">√Åreas vermelhas - intervalos de escuta do usu√°rio.</font></i>  <i><font color="gray">Se o algoritmo fornecer uma previs√£o incorreta, o usu√°rio poder√° corrigi-lo</font></i> <br><br>  Inicialmente, treinei uma rede neural em um conjunto de dados muito pequeno.  Desenvolvi a interface do usu√°rio (veja a imagem acima) para visualizar previs√µes e poderia adicionar mais dados para treinar modelos com melhor desempenho.  No momento da reda√ß√£o deste artigo, o conjunto de dados de treinamento cont√©m cerca de dez dias de √°udio: 66 horas de publicidade, 96 horas de conversa√ß√£o e 73 horas de m√∫sica. <br><br>  Apesar do bom trabalho, a precis√£o da classifica√ß√£o ainda se mostrou um pouco menor que as expectativas dos usu√°rios (consulte a se√ß√£o sobre melhorias futuras abaixo).  No treinamento, a precis√£o da previs√£o da categoria foi de 95%, mas as classifica√ß√µes incorretas restantes deixaram os usu√°rios insatisfeitos. <br><br>  <i>Nota para especialistas em processamento de dados: √© habitual fornecer resultados formais, dividindo o conjunto de dados em subconjuntos de treinamento e teste.</i>  <i>Eu acho que isso n√£o faz sentido aqui, porque o conjunto de dados est√° sendo constru√≠do gradualmente em dados onde os modelos anteriores foram confundidos.</i>  <i>Isso significa que o conjunto de dados cont√©m mais patologias do que a transmiss√£o m√©dia e a precis√£o ser√° subestimada.</i>  <i>Ser√° necess√°rio um trabalho separado para medir indicadores reais.</i>  <i>O operador pode marcar segmentos cont√≠nuos de grava√ß√µes de √°udio convencionais como dados de teste, calcular a precis√£o e recuperar os dados.</i>  <i>Essa verifica√ß√£o regular permitir√° monitorar o desempenho dos filtros.</i> <br><br>  A categoriza√ß√£o da publicidade / conversas / m√∫sica adicionou conveni√™ncia aos ouvintes.  No entanto, essa classifica√ß√£o complicou a interface do usu√°rio e ficou mais dif√≠cil trabalhar com os relat√≥rios do usu√°rio.  Se a bandeira indicar que algum conte√∫do n√£o √© m√∫sica, √© propaganda ou conversa?  Aqui voc√™ precisa de modera√ß√£o imediata, n√£o p√≥s-factum. <br><br>  Para melhorar ainda mais a qualidade, desenvolvi a vers√£o mais recente do Adblock Radio, que melhora um pouco essa estrat√©gia. <br><br><h3>  5. A combina√ß√£o de classifica√ß√£o sonora e correspond√™ncia de impress√µes digitais (sucesso!) </h3><br>  Meu melhor algoritmo √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">publicado no Github</a> .  Para aumentar a confiabilidade, ele combina conceitos de duas tentativas anteriores: classifica√ß√£o ac√∫stica e banco de dados de impress√µes digitais. <br><br>  Um preditor de aprendizado de m√°quina devidamente treinado fornece a classifica√ß√£o correta da maioria dos materiais de origem, mas n√£o funciona em algumas situa√ß√µes (consulte a se√ß√£o sobre melhorias futuras abaixo).  O papel do m√≥dulo de correspond√™ncia de impress√µes digitais √© reduzir os erros do m√≥dulo de aprendizado de m√°quina. <br><br>  Nem todos os dados de treinamento conhecidos s√£o inseridos no banco de dados de impress√µes digitais, mas apenas um pequeno subconjunto em que o aprendizado de m√°quina mostra erros.  Eu chamo de "banco de dados da lista quente".  O tamanho pequeno ajuda a reduzir a taxa de erro geral, mantendo a carga da CPU baixa. <br><br>  Em um laptop comum, o algoritmo consome apenas 5 a 10% da CPU nos arquivos e 10 a 20% no ar. <br><br><h2>  Melhorias futuras </h2><br><h3>  Alguns tipos de conte√∫do ainda s√£o problem√°ticos. </h3><br>  O detector funciona imperfeitamente em alguns tipos espec√≠ficos de conte√∫do de √°udio: <br><br><ul><li>  A m√∫sica hip-hop √© frequentemente reconhecida como publicidade.  Voc√™ pode solucionar o problema adicionando faixas √† lista direta, mas isso √© muita m√∫sica.  Uma rede neural mais geral poderia ser desenvolvida, possivelmente √† custa do desempenho. </li><li>  os an√∫ncios de √°lbuns de m√∫sica s√£o frequentemente reconhecidos como m√∫sica.  Mas bloquear impress√µes digitais levar√° a falsos positivos quando uma m√∫sica real for transmitida.  O problema pode ser resolvido por uma an√°lise mais profunda do contexto, mas √© dif√≠cil no ar, onde o contexto √© conhecido apenas alguns segundos √† frente. </li><li>  Os an√∫ncios de talk show geralmente s√£o reconhecidos como conversa.  Existem limites borrados, porque √© uma conversa e um an√∫ncio.  Vemos o limite de possibilidades do classificador de publicidade / conversa√ß√£o / m√∫sica.  Para classifica√ß√£o por impress√µes digitais, usei a classe <i>ad_self</i> por algum tempo, que cont√©m an√∫ncios de talk show em esta√ß√µes espec√≠ficas, mas com a introdu√ß√£o do algoritmo de aprendizado de m√°quina, parei de fazer isso.  Conv√©m recriar essa classe.  Outra op√ß√£o √© uma melhor an√°lise do contexto. </li><li>  publicidade nativa, onde o host l√™ o texto do patroc√≠nio.  No r√°dio, isso √© raro e mais frequentemente em podcasts.  O pr√≥ximo passo l√≥gico para bloquear essa publicidade √© a introdu√ß√£o do software de reconhecimento de fala. </li></ul><br><h3>  Cadeias de Markov para p√≥s-processamento mais est√°vel </h3><br>  A estabilidade p√≥s-processamento pode ser melhorada.  Atualmente, apenas limites de confian√ßa s√£o usados.  Quando o valor limite √© atingido, a √∫ltima previs√£o confi√°vel √© realizada.  Assim, o sistema √†s vezes salva um erro. <br><br>  Os ciclos de publicidade, conversas e m√∫sica s√£o bastante c√≠clicos em todas as transmiss√µes.  Por exemplo, a publicidade geralmente dura alguns minutos.  Para cada per√≠odo de um intervalo comercial, voc√™ pode calcular a probabilidade de uma transi√ß√£o para outro estado (conversa ou m√∫sica).  Essa probabilidade ajudar√° a interpretar melhor as previs√µes barulhentas do algoritmo: √© apenas um pequeno segmento de m√∫sica no an√∫ncio ou a quebra de publicidade foi conclu√≠da?  Aqui, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">os modelos ocultos de Markov</a> ser√£o uma boa √°rea de pesquisa. <br><br><h3>  R√°dio anal√≥gico ainda n√£o suportado </h3><br>  Os sinais anal√≥gicos (FM) n√£o foram testados e atualmente n√£o s√£o suportados.  O ru√≠do anal√≥gico substitui os m√©todos usados ‚Äã‚Äãaqui.  Podem ser necess√°rios filtros e / ou algoritmos de reconhecimento de impress√£o digital resistentes ao ru√≠do.  Se isso acontecer, o programa poder√° encontrar aplicativos mais amplos entre os usu√°rios.  No entanto, o r√°dio est√° mudando cada vez mais para tecnologias digitais sem ru√≠do, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DAB</a> e o r√°dio na Internet. <br><br><a name="2"></a><h1>  N√£o √© recomend√°vel executar o Adblock Radio na nuvem </h1><br>  Idealmente, o Adblock Radio deve ser executado apenas em dispositivos terminais.  Mas agora os servi√ßos em nuvem est√£o na moda.  Al√©m disso, essa √© uma √≥tima ideia de neg√≥cio!  O Adblock Radio testou duas op√ß√µes de arquitetura com esse paradigma.  No entanto, a experi√™ncia mostra que essa n√£o √© a melhor op√ß√£o por raz√µes t√©cnicas e legais. <br><br><h2>  Op√ß√£o 1. Retransmitir do servidor </h2><br>  O servidor pode retransmitir o conte√∫do de √°udio com tags de an√∫ncio / conversa / m√∫sica para os ouvintes.  Testamos em 2016.  Aqui surgem problemas legais, uma vez que a retransmiss√£o do fluxo pode ser considerada uma falsifica√ß√£o e / ou viola√ß√£o de direitos autorais (embora eu n√£o seja advogado).  Tamb√©m n√£o tem uma boa escala, porque agora voc√™ √© uma CDN e deve arcar com os custos. <br><br>  Por uma piada, no domingo, quando eu estava fora por motivos familiares, a R√°dio Adblock recebeu muito popular, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da qual ela caiu</a> .  Curiosidade: alguns dias depois, a <i>France Inter</i> , uma importante esta√ß√£o de r√°dio p√∫blica francesa, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">anunciou a Adblock Radio</a> no hor√°rio nobre (mas sem nome√°-la).  Esta √© uma decis√£o editorial inesperada no contexto do fato de que os reguladores decidiram em 2016 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relaxar as restri√ß√µes √† publicidade nas esta√ß√µes de r√°dio estatais</a> , o que exacerbou a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">disputa entre os funcion√°rios e a administra√ß√£o da Radio France</a> . <br><br>  Algumas semanas depois, recebi amea√ßas do advogado da rede de r√°dio privada francesa <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Les Ind√©s Radio</a></i> , supostamente com base em viola√ß√£o de direitos autorais e marca registrada.  N√£o tendo recursos financeiros para prote√ß√£o s√©ria, tive que remover alguns fluxos do site, fechar parcialmente o site e alterar a arquitetura do sistema.  Ao mesmo tempo, essa rede de r√°dio se recusou a cooperar na busca de um compromisso.  Como vejo nos logs que eles continuaram monitorando meu site (√†s vezes com contas pseud√¥nimas), eles tamb√©m consultaram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seus advogados</a> .  Que honra para mim!  Olhando para tr√°s, eles ganharam tempo com sucesso, mas nada mais.  Ol√° pessoal do Ind√©s!  Espero que voc√™ goste de ler isso!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">xoxoxo</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/027/237/045/02723704599fab6c9543b33e2f8a4447.jpg"><br>  <i><font color="gray">Declara√ß√£o de amor da Les Ind√©s, uma rede de 131 esta√ß√µes de r√°dio francesas</font></i> <br><br><h2>  Op√ß√£o 2. O servidor retransmite o som, mas em particular </h2><br>  Isso pressup√µe an√°lise no servidor e retransmitindo o som limpo para um usu√°rio espec√≠fico.  Esse sistema pode ser isento da lei de direitos autorais como sua pr√≥pria c√≥pia privada da m√≠dia.  Se o servidor for gerenciado pelo usu√°rio final e a fonte original for legal e oficialmente dispon√≠vel em sua regi√£o, provavelmente tudo estar√° legalmente limpo.  Veja a discuss√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Station Ripper [FR]</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VCast [FR]</a> para mais informa√ß√µes.  Mas os usu√°rios raramente s√£o conhecedores de tecnologia para alugar e instalar um servidor por conta pr√≥pria. <br><br>  √â muito tentador colocar o servidor sob o controle de terceiros, mas isso gera problemas legais, porque o operador que est√° fazendo a c√≥pia e o usu√°rio final n√£o s√£o a mesma pessoa.  Nesse caso, restri√ß√µes legais s√£o impostas, pelo menos na Fran√ßa.  O servi√ßo de Internet franc√™s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wizzgo [FR]</a> encontrou essa regra em 2008.  Mais recentemente, nos EUA, o servi√ßo de televis√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aereo</a> foi encerrado, embora tenha tomado precau√ß√µes ao distribuir um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sintonizador separado</a> (!) Para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cada cliente</a> . <br><br>  No momento, o servi√ßo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Molotov.TV [FR] est√°</a> lutando contra os detentores de direitos autorais que desejam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">limitar suas fun√ß√µes [FR]</a> , apesar da influ√™ncia significativa de seus cofundadores.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>O imposto de c√≥pia particular</i> [FR]</a> deve ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pago √† organiza√ß√£o oficial</a> .  A quantia √© determinada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√°lculos bastante opacos [FR]</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aumenta [FR] a</a> cada ano, atingindo v√°rias dezenas de eurocentes por usu√°rio por m√™s.  Essa placa ficou t√£o alta que o Molotov.TV recentemente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">removeu os recursos de seu servi√ßo para usu√°rios gratuitos [FR]</a> .  (Nota: agrade√ßo sinceramente aos jornalistas do site franc√™s <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NextINpact</a></i> pela excelente cobertura deste t√≥pico). <br><br>  Pagar n√£o √© suficiente: a lei exige que entidades como a Molotov.TV <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">assinem acordos [FR]</a> com empresas com direitos autorais sobre a funcionalidade de seus servi√ßos.  Tente chegar a um acordo com as empresas de r√°dio se voc√™ come√ßar a cortar seus an√∫ncios. <br><br><h2>  Op√ß√£o 3. O servidor envia apenas metadados </h2><br>  Outra op√ß√£o √© que o usu√°rio e o servidor escutem o mesmo r√°dio da Internet ao mesmo tempo.  Nesse caso, o servidor analisa o som e envia os metadados de classifica√ß√£o do usu√°rio (an√∫ncio / conversa / m√∫sica), mas n√£o o conte√∫do de √°udio.  Desde 2017, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adblockradio.com</a> trabalha nessa arquitetura.  Ele conta com a CDN, portanto, n√£o incorre em nenhum custo em rela√ß√£o √† transmiss√£o de √°udio. <br><br>  Essa arquitetura elimina o problema de viola√ß√£o de direitos autorais (exonera√ß√£o de responsabilidade: n√£o sou advogado).  No entanto, ainda pode haver alguma incerteza quanto √†s leis de marcas registradas.  Recentemente (outubro de 2018), os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">propriet√°rios de</a> r√°dios da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Skyrock</a> exigiram que o conte√∫do fosse removido nessa base. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aa8/d87/7c0/aa8d877c0d17111b285fcfd93520025c.jpg"><br>  <i><font color="gray">Romance do Departamento Jur√≠dico de Skyrock</font></i> <br><br>  Al√©m de considera√ß√µes legais, h√° um problema t√©cnico com a sincroniza√ß√£o adequada entre √°udio e metadados.  Na maioria dos casos, tudo funciona bem com um intervalo de sincroniza√ß√£o de menos de dois segundos.  Mas algumas esta√ß√µes de r√°dio possuem CDNs estranhas / mal-intencionadas ou injetam an√∫ncios dinamicamente no fluxo.  Isso significa que os fluxos entre o servidor e diferentes clientes podem variar significativamente.  Por exemplo, na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">R√°dio FG</a> , as defasagens foram observadas at√© 20 segundos e na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">R√°dio Jazz</a> - at√© 45 segundos.  Isso desaponta os ouvintes. <br><br>  A sincroniza√ß√£o pode ser totalmente implementada comparando blocos de dados entre o servidor e o usu√°rio.  Infelizmente, isso n√£o funciona em navegadores da Web, porque a maioria das CDNs nas esta√ß√µes de r√°dio da Internet n√£o usa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cabe√ßalhos CORS</a> .  Portanto, o JavaScript no navegador n√£o poder√° ler o conte√∫do de √°udio para compara√ß√£o.  Para o trabalho, voc√™ precisar√° de m√≥dulos independentes separados (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electron</a> ), m√≥dulos Flash (sim) ou extens√µes da Web, o que parece um pouco redundante. <br><br><a name="3"></a><h1>  Voc√™ pode integrar o Adblock Radio ao seu player </h1><br>  Este projeto n√£o √© para usu√°rios finais, mas para empresas que lan√ßam um produto em massa.  Voc√™ pode fazer isso! <br><br>  Os desenvolvedores t√™m duas op√ß√µes para integrar o Adblock Radio.  Primeiro, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SDK</a> simplesmente pega metadados do servidor adblockradio.com.  Esta n√£o √© uma solu√ß√£o ideal pelos motivos descritos acima (problemas legais e de sincroniza√ß√£o).  √â melhor executar um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algoritmo de an√°lise</a> completo. <br><br><h2>  De software </h2><br><ul><li>  Aplicativos m√≥veis para r√°dio na Internet e podcasts.  Os modelos Keras precisam ser convertidos para o Tensorflow nativo, e a biblioteca Keras + Tensorflow pode ser substitu√≠da pelo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tensorflow Lite para Android e iOS</a> .  As rotinas do Node.JS s√£o implementadas usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o plug-in React Native</a> ou, em casos extremos, com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Termux</a> . </li><li>  extens√µes de navegador funcionam com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tensorflow JS</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SQL.js.</a>  A extens√£o pode controlar o controle deslizante de volume nos diret√≥rios populares de r√°dio da Internet, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TuneIn</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Radio.de</a> .  Eu j√° trabalhei nessa extens√£o.  Foi divertido bisbilhotar jogadores em JavaScript para obter esse controle.  Dependendo da implementa√ß√£o, lembre-se dos problemas de sincroniza√ß√£o que discutimos acima. </li></ul><br><h2>  Hardware </h2><br><ul><li>  alarmes digitais e projetos amadores, sujeitos √† disponibilidade de energia computacional e acesso √† rede suficientes.  Plataformas como Raspberry Pi Zero / A / B devem ser suficientes para analisar um √∫nico fluxo, embora o RPi 3B / 3B + seja recomendado para controle paralelo de v√°rios fluxos.  O Tensorflow est√° no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Raspbian</a> . </li><li>  alto-falantes conectados, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sonos</a> .  O algoritmo em si n√£o funcionar√° em tais equipamentos; portanto, voc√™ precisa processar dados na nuvem ou em um dispositivo separado na mesma rede local (por exemplo, no Raspberry).  √ìtima id√©ia para uma campanha de crowdfunding. </li></ul><br><h2>  R√°dio Adblock no carro </h2><br>  O carro √© um dos lugares mais populares para ouvir r√°dio.  L√°, as pessoas realmente precisam de um bloqueador de an√∫ncios.  Mas esse tamb√©m √© o contexto em que a implementa√ß√£o do Adblock Radio n√£o √© f√°cil.  Afinal, o sistema deve receber feedback para filtrar efetivamente novos an√∫ncios, para que o programa precise de uma conex√£o de rede.  Vejo tr√™s conceitos poss√≠veis para produtos automotivos com o Adblock Radio. <br><br><ul><li>  <b>Uma aplica√ß√£o compat√≠vel com os sistemas de informa√ß√£o e lazer dos carros modernos</b> .  Provavelmente, a maneira mais f√°cil de transmitir dados √© atrav√©s do smartphone do usu√°rio.  O smartphone tamb√©m pode ser usado separadamente - com um aplicativo m√≥vel, transmitindo r√°dio pela Internet, via sa√≠da de √°udio, conectando-se ao AUX ou Bluetooth do carro.  Tamb√©m pode ser integrado ao sistema de informa√ß√£o e entretenimento do carro, no esp√≠rito do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apple Car Play</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Android Auto</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MirrorLink</a> .  Seria fant√°stico ouvir r√°dio terrestre (FM, DAB).  Mas √© necess√°rio trabalho para determinar em quais configura√ß√µes espec√≠ficas o Adblock Radio pode acessar a sa√≠da de √°udio do sintonizador de r√°dio e, ao mesmo tempo, control√°-lo (volume, canal). </li><li>  <b>Adaptador de hardware universal, interface de usu√°rio dedicada</b> .  Tamb√©m √© poss√≠vel desenvolver equipamentos personalizados semelhantes aos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adaptadores DAB</a> existentes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para autom√≥veis</a> .  Esses dispositivos sintonizam esta√ß√µes de r√°dio e transmitem dados de √°udio para o sistema veicular via conector AUX ou via canal FM n√£o utilizado, como os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adaptadores antigos do iPod FM</a> .  O acesso √† rede pode passar por um smartphone via Bluetooth.  Solu√ß√µes alternativas, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sigfox</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LoRa</a> , podem ser consideradas se a taxa de bits e o pre√ßo forem adequados.  Uma interface de usu√°rio especial deve ser desenvolvida, separada do dispositivo principal do carro.  No final, isso pode ser muito caro. </li><li>  <b>Um dispositivo minimalista que entra no receptor de FM</b> .  Um dispositivo t√£o pequeno pode controlar o sintonizador, se necess√°rio.  Precisa de uma interface padr√£o, mas f√°cil de conectar.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os interruptores do volante s√£o um</a> bom candidato, mas os usu√°rios finais n√£o podem modific√°-los facilmente para essa finalidade.  Ent√£o voc√™ precisa invadir o sistema. <br><br>  Este dispositivo sem cabe√ßa ter√° um sintonizador de FM e microfone para analisar qual esta√ß√£o o usu√°rio est√° ouvindo (correla√ß√£o cruzada).  Quando um an√∫ncio √© detectado, o dispositivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">emite</a> dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RDS</a> falsos (como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">avisos de tr√¢nsito</a> ) para enganar o sintonizador do carro e mudar de esta√ß√£o durante o an√∫ncio.        FM-. <br><br>     ,    .  ,    .  ,     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a> . , ,           DAB. </li></ul><br>     ,       .  ,    . <br><br><h2>            </h2><br>   Adblock Radio  , ,    .       ,          . <br><br>   :     ()  ,   .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   . <br><br>    .    ,    ,        adblockradio.com. <b> </b> ,         -.           .    , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,      . <br><br><h2>   :  UX </h2><br>     :         .  ,     .         ! <br><br>  adblockradio.com    : <br><br><ul><li>   </li><li>          .  ,     .         . </li><li>     .     . </li></ul><br>       ,   - .   ,        ,   <i>  </i> .      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd6/28c/8c1/dd628c8c14e6a64cd7addc417a162c85.png"><br> <i><font color="gray"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">-</a> Adblock Radio</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cad/b61/9be/cadb619bed75fa25185e4bfda15c626a.png"><br> <i><font color="gray"> ,     .       .      ,      . .    !  ,       </font></i> <br><br>        .       adblockradio.com   ,  .        ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   Github</a> ),   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a> .         10  ( ,  ,  7.30      7.20).         ‚Äî       .                .       ,    . <br><br>    ,      .      ,       ?  ,       ( )  . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/66c/efd/e51/66cefde51490832f5892e7e61f0a2795.png"><br> <i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>     .    .   ,  ,   ‚Äî .       (ads),   </font></i> <br><br>              ‚Äî          .   ,    ,    . . -,   ¬´¬ª      ,      :  , ,  ,    . . ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> -  </a> . <br><br><h1>  Conclus√£o </h1><br>             ,   .        .  ,      ,   ,     WiFi-.         (FM, DAB+).  ,         ,         . <br><br> <b>    Adblock Radio.</b> <br><br><ul><li>  :  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,      ,    .    ?  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>   . </li><li>  :   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,  ,    .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>    Electron. </li><li>   :   ,    Adblock Radio   .   . </li></ul><br>        ! ,  . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt435720/">https://habr.com/ru/post/pt435720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt435706/index.html">Usamos o rcm para implantar a configura√ß√£o em qualquer pasta</a></li>
<li><a href="../pt435708/index.html">Fayal: um ponto de encontro no Atl√¢ntico</a></li>
<li><a href="../pt435712/index.html">Procter & Gamble lan√ßa impressora anti-envelhecimento para pele</a></li>
<li><a href="../pt435714/index.html">Os desenvolvedores ucranianos tiveram acesso aos arquivos de todas as c√¢meras Ring do mundo</a></li>
<li><a href="../pt435718/index.html">Bombeamos NGSW angular usando l√≥gica personalizada no Service Worker</a></li>
<li><a href="../pt435722/index.html">NB-IoT, Internet das coisas em banda estreita. Modos de economia de energia e comandos de controle</a></li>
<li><a href="../pt435724/index.html">Retendo os v√≠cios do imperativo</a></li>
<li><a href="../pt435728/index.html">[Sexta-feira] Hist√≥ria de como a venda de TI tentou vender lenha, ou nos bastidores de um concurso</a></li>
<li><a href="../pt435730/index.html">A concha rachou</a></li>
<li><a href="../pt435732/index.html">Friday JS: um quine que toca tic-tac-toe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>