<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüíº üîû üöº Tomada inteligente REDMOND Smart plug SkyPlug RSP-100S (Parte 2). A principal desvantagem da tomada e sua elimina√ß√£o ‚ôãÔ∏è ‚õ≤Ô∏è üíÉüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ent√£o, finalmente, "finalizei" a segunda parte sobre o soquete inteligente Redmond SkyPlug RSP-100S. 
 
 Como eu disse na primeira parte - o artigo "T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tomada inteligente REDMOND Smart plug SkyPlug RSP-100S (Parte 2). A principal desvantagem da tomada e sua elimina√ß√£o</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395883/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ent√£o, finalmente, "finalizei" a segunda parte sobre o soquete inteligente Redmond SkyPlug RSP-100S. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como eu disse na primeira parte - o artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tomada inteligente Redmond SkyPlug RSP-100S. An√°lise do projeto e diagrama de circuito el√©trico. Identifica√ß√£o de defeitos ‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , fui for√ßado a desenhar um diagrama dessa sa√≠da para finaliz√°-la. Eu realmente n√£o gostei mais de um, na minha opini√£o, a principal desvantagem deste outlet inteligente, sobre o qual n√£o falei na primeira parte. Na verdade, eu gosto de modificar algo, meus colegas de trabalho at√© brincam que, se algo n√£o for desenvolvido por mim, esse algo n√£o ser√° meu. :)</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, anunciaremos essa falha, e isso, se muitos n√£o adivinharam olhando o diagrama, √© a falta de uma fonte de energia aut√¥noma. O fato √© que o nRF51822 IC possui um rel√≥gio em tempo real e eles funcionam, ou seja, eles contam apenas o tempo quando h√° energia da rede, porque N√£o h√° fonte de energia interna, bateria, bateria ou mesmo um ionistor. E isso significa que, se ocorrer uma queda de energia, mesmo por pouco tempo, o rel√≥gio ser√° redefinido e os programas de ativa√ß√£o / desativa√ß√£o salvos anteriormente se tornar√£o irrelevantes. Usando uma tomada inteligente, chamei imediatamente a aten√ß√£o para essa falha e dei muita import√¢ncia a isso, porque A eletricidade da minha cidade √© frequentemente cortada. Especialmente muitas vezes h√° apag√µes durante uma tempestade, etc. E outra desvantagem √© que o soquete n√£o salva o estado atual,e se estava no estado "Ligado" durante uma queda de energia, depois de fornecer eletricidade, ele come√ßa a funcionar no estado "Desligado".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De alguma forma, tive que sair de casa por algumas semanas e pedi a uma pessoa maravilhosa que viesse √† minha casa para alimentar peixes de aqu√°rio. E um dia, ela me liga e diz que a ilumina√ß√£o do aqu√°rio est√° apagada. Pedi para ver se as horas no micro-ondas mostram a hora em que recebi uma resposta - n√£o, e esse √© o meu indicador de falta de energia. Percebi imediatamente que havia uma queda de energia e, quando a fonte de alimenta√ß√£o foi restaurada, o soquete inteligente n√£o ligou, porque n√£o previa o armazenamento do √∫ltimo estado no firmware. Mas mesmo que a condi√ß√£o tenha sido armazenada, devido √† falta de tempo preciso, essa condi√ß√£o pode ser irrelevante, por exemplo, se a eletricidade for desligada durante o dia e restaurada tarde da noite, quando a ilumina√ß√£o no mesmo aqu√°rio n√£o for mais necess√°ria.Aqui surgiu a id√©ia de modificar um soquete inteligente e introduzir alguma fonte de energia aut√¥noma nele. Para fazer isso, eu precisava descobrir o princ√≠pio de opera√ß√£o e, como resultado, conhecer o diagrama do circuito el√©trico de uma tomada inteligente: quais s√£o as tens√µes de alimenta√ß√£o, quais componentes, qual controlador Bluetooth, onde est√£o os programas on / off armazenados e onde s√£o contados o tempo e os dias da semana e provavelmente e datas. O tempo para toda a l√≥gica no soquete deveria ter sido incorporado, porque Os programas liga / desliga via smartphone s√£o definidos pelo dia da semana e por um determinado per√≠odo, e a conex√£o Bluetooth com o smartphone nem sempre √© suportada e, portanto, o soquete inteligente n√£o possui sincroniza√ß√£o constante de hor√°rio e programas. Como resultado do trabalho descrito na primeira parte, determineique os programas liga / desliga s√£o armazenados na mem√≥ria do pr√≥prio controlador Bluetooth e tamb√©m possui um rel√≥gio em tempo real, e o rel√≥gio √© sincronizado quando o soquete inteligente √© conectado via Bluetooth a um smartphone, ou seja, o tempo √© gasto no smartphone em cada conex√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, ficou claro que era necess√°ria prote√ß√£o contra a perda de eletricidade na rede de ilumina√ß√£o el√©trica, pelo menos por algumas horas, e isso s√≥ pode ser resolvido com a introdu√ß√£o dos dispositivos acima: bateria, bateria ou ionistor. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 PROCURE UM M√âTODO PARA FONTE DE ALIMENTA√á√ÉO OFFLINE</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para come√ßar, decidi tentar a coisa mais simples - o ionistor, j√° que este dispositivo n√£o precisa entrar em nenhum circuito de carregamento, e √© suficiente conect√°-lo em paralelo √†s sa√≠das de energia do controlador Bluetooth, e o ionistor seria carregado da fonte de energia para a tens√£o dessa fonte. Soldamos os pinos 1 e 4 do assento do plugue XP1 (lembro-me de que esse plugue n√£o est√° no quadro, mas h√° um local e orif√≠cios para ele, cujos pinos extremos 1 e 4 s√£o pinos conectados aos circuitos da fonte de alimenta√ß√£o do controlador Bluetooth e deve haver 3,3 V). O ionistor foi carregado na tens√£o de alimenta√ß√£o do controlador Bluetooth, mas depois de desconectar a tomada inteligente da rede, o ionistor foi descarregado em cerca de um minuto. A energia acumulada pelo ionistor n√£o foi suficiente para manter a energia por algumas horas, porqueh√° casos de falta de energia por 1 a 2 horas. Devo dizer que o ionistor que coloquei n√£o tem capacidade muito grande, apenas 0,33 F, porque Com capacidades maiores, os ionistores j√° tinham dimens√µes bastante decentes e n√£o seria f√°cil inseri-los nos soquetes. E, como a pr√°tica demonstrou, mesmo se voc√™ colocar o ionistor em 1,0 F, ele tamb√©m n√£o duraria o tempo que gostar√≠amos, mas, √© claro, seria bastante adequado para quedas de energia a curto prazo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o ionistor, surgiu a id√©ia de colocar algo como uma bateria de l√≠tio, semelhante ao tipo de computador - CR2032, mas n√£o desse tamanho, mas menor - CR1620. Mas, essa ideia foi eliminada quase imediatamente, porque a bateria tem vida curta - ela se senta rapidamente e n√£o pode ser carregada, e tamb√©m √© dif√≠cil conect√°-la - n√£o √© uma boa id√©ia os condutores de solda, pois Voc√™ pode superaquecer e isso falhar√°. N√£o encontrei baterias de tamanho pequeno com terminais soldados em minha cidade para venda, mas mesmo se encontrasse, teria que desmontar o soquete a cada vez ou substitu√≠-lo, o que aumentaria as dimens√µes do soquete inteligente e perderia sua apar√™ncia est√©tica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando eu procurava ionistores e baterias, em uma das lojas de r√°dio na janela, notei baterias Li-Pol de tamanho pequeno, na forma de um paralelep√≠pedo retangular e, o que √© mais importante, dimens√µes adequadas, na minha opini√£o. A loja possu√≠a baterias com capacidade de 20, 40, 65 e 100 mAh. Eu ent√£o descobri que parece ser mais adequado para 65 mAh em dimens√µes gerais, mas ainda assim eu tinha que olhar para dentro da tomada mais uma vez e avaliar o espa√ßo sob a bateria para n√£o ficar desapontado ao comprar a errada, e o pre√ßo √© alto: de 200 at√© 350 rublos e, como o mal, 65 mAh - o mais caro. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 TRABALHANDO O PODER AUT√îNOMO COM BASE NA BATERIA</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como foi decidido colocar a bateria, houve um problema na aplica√ß√£o do circuito de carregamento dessa bateria e na organiza√ß√£o da fonte de alimenta√ß√£o a partir do chip do controlador Bluetooth, porque possui uma tens√£o operacional permitida de 3,6 V, de acordo com a ficha t√©cnica, e uma bateria Li-Pol totalmente carregada produz uma tens√£o de 4,2 V. Para carregar a bateria, especialmente com uma capacidade t√£o pequena, √© necess√°ria uma pequena corrente e foi necess√°rio fazer um circuito de carga com limita√ß√£o de corrente . O circuito do TP4056 IC veio √† mente imediatamente. Len√ßos prontos - carregadores de baterias de √≠on de l√≠tio, com base neste microcircuito, eu pedi em um site conhecido h√° pouco tempo e, quando chegaram, eles n√£o foram usados ‚Äã‚Äãimediatamente e foram enviados com seguran√ßa para a caixa, onde aguardavam seu destino. Eles n√£o tiveram que esperar muito tempo por pelo menos um deles. O quadro se parece com a foto abaixo,cont√©m o TP4056 IC, LEDs de indica√ß√£o de modo e o restante do chicote. Embora este chip tamb√©m seja para baterias de √≠on de l√≠tio, acho que tamb√©m ser√° v√°lido para o Li-Pol.</font></font><br>
<br>
<img src="https://habrastorage.org/files/b88/7d9/524/b887d9524fe84d80a4ae8b6e800dbba0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 1 - Controlador de carga da bateria baseado no TP4056 IC</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acordo com a descri√ß√£o no site do vendedor, esta inst√¢ncia √© projetada para uma corrente de carga de 1 A, explicada pelo valor do resistor aplicado instalado entre o fio comum (IN-) e o pino 2 do microcircuito, na foto esse resistor est√° abaixo de 1,2 kOhm, o que corresponde √† limita√ß√£o da folha de dados corrente de carga de 1 A. De acordo com a folha de dados, na qual uma tabela de correntes de carga foi fornecida dependendo da classifica√ß√£o do resistor, eu n√£o consegui pegar um resistor que daria uma corrente de carga inferior a 130 mA, que √© o dobro da capacidade da bateria, e as baterias geralmente n√£o carregam com corrente mais de 0,2 de C (onde C √© a capacidade da bateria). Nesse caso, sugeri que uma bateria com capacidade de 65 mAh √© adequada para mim, ou seja, C = 65 mAh, de onde determinamos a corrente de carga 13 mA. Para garantir essa limita√ß√£o de corrente, foi necess√°rio selecionar um resistor entre o fio comum e o pino 2 do microcircuito.Com base nos valores dispon√≠veis do resistor e nas correntes correspondentes, fiz um gr√°fico no qual continuava condicionalmente a linha na dire√ß√£o de aumentar a resist√™ncia do resistor e determinava aproximadamente o valor desejado na corrente necess√°ria, escolhi a resist√™ncia de 62 kOhm. Ent√£o, de acordo com a folha de dados, o resistor proveniente da fonte de alimenta√ß√£o do pino TP4056 IC (pino 4) deve ser de 0,2 a 0,5 Ohms, mas como o resistor era 0 Ohms (jumper) na placa, decidi seguir a folha de dados e dos resistores de superf√≠cie de tamanho pequeno dispon√≠veis, encontrei um em 1 Ohm e dois em 1,5 Ohm, soldando todos em paralelo e, assim, obtendo uma resist√™ncia de cerca de 0,43 Ohm. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.em que continuei condicionalmente a linha na dire√ß√£o de aumentar a resist√™ncia do resistor e determinei aproximadamente o valor desejado na corrente necess√°ria, escolhi a resist√™ncia de 62 kOhm. Ent√£o, de acordo com a folha de dados, o resistor proveniente da fonte de alimenta√ß√£o do pino TP4056 IC (pino 4) deve ser de 0,2 a 0,5 Ohms, mas como o resistor era 0 Ohms (jumper) na placa, decidi seguir a folha de dados e dos resistores de superf√≠cie de tamanho pequeno dispon√≠veis, encontrei um em 1 Ohm e dois em 1,5 Ohm, soldando todos em paralelo e, assim, obtendo uma resist√™ncia de cerca de 0,43 Ohm. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.em que continuei condicionalmente a linha na dire√ß√£o de aumentar a resist√™ncia do resistor e aproximadamente determinei o valor desejado na corrente necess√°ria, escolhi a resist√™ncia de 62 kOhm. Ent√£o, de acordo com a folha de dados, o resistor proveniente da fonte de alimenta√ß√£o do pino TP4056 IC (pino 4) deve ser de 0,2 a 0,5 Ohms, mas como o resistor era 0 Ohms (jumper) na placa, decidi seguir a folha de dados e dos resistores de superf√≠cie de tamanho pequeno dispon√≠veis, encontrei um em 1 Ohm e dois em 1,5 Ohm, soldando todos em paralelo e, assim, obtendo uma resist√™ncia de cerca de 0,43 Ohm. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.de acordo com a folha de dados, o resistor proveniente da fonte de alimenta√ß√£o do pino TP4056 IC (pino 4) deve ser de 0,2 a 0,5 Ohms, mas como o resistor era 0 Ohms (jumper) na placa, decidi seguir a folha de dados de Encontrei um dos pequenos resistores de superf√≠cie, um em 1 Ohm e dois em 1,5 Ohm, soldando todos em paralelo e, assim, obtendo uma resist√™ncia de cerca de 0,43 Ohm. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.de acordo com a folha de dados, o resistor proveniente da fonte de alimenta√ß√£o do pino TP4056 IC (pino 4) deve ser de 0,2 a 0,5 Ohms, mas como o resistor era 0 Ohms (jumper) na placa, decidi seguir a folha de dados de Encontrei um dos pequenos resistores de superf√≠cie, um em 1 Ohm e dois em 1,5 Ohm, soldando todos em paralelo e, assim, obtendo uma resist√™ncia de cerca de 0,43 Ohm. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.soldou todos eles em paralelo e, assim, ganhou uma resist√™ncia de cerca de 0,43 ohms. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.soldou todos eles em paralelo e, assim, ganhou uma resist√™ncia de cerca de 0,43 ohms. Honestamente, n√£o sei por que, esse resistor, porque, a julgar pelo circuito, esse resistor n√£o √© uma deriva√ß√£o, mas, talvez, ocorra no caso de um curto-circuito na bateria para limitar a corrente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que os resistores foram selecionados e soldados, foi necess√°rio cortar o excesso da placa controladora de carregamento, ou seja, a √°rea onde o conector mini-USB √© soldado, essa √°rea n√£o permitiria que a placa fosse inserida no espa√ßo fornecido no caso e, se fosse cortada, ent√£o o quadro est√° claramente colocado onde eu o defini. Assim, desmontamos o soquete mini-USB para que seja mais conveniente cortar o excesso com uma tesoura para metal. Abaixo na figura, voc√™ pode ver como o quadro fica ap√≥s a conclus√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/files/d14/b37/3d3/d14b373d3af54b1bbd0843f75d4f72cb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 2 - Controlador de carga da bateria modificado </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas nesta figura voc√™ pode ver onde √© poss√≠vel colocar a placa do controlador de carregamento no compartimento do soquete inteligente: </font></font><br>
<br>
<img src="https://habrastorage.org/files/4ed/ee9/c9b/4edee9c9bf0249eda12f00a0a0e917ba.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 3 - Coloca√ß√£o do controlador de carregamento da bateria no compartimento do soquete inteligente</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, o seguinte problema surgiu. Agora precisamos alimentar o controlador de carregamento com alguma coisa, porque a fonte de alimenta√ß√£o sem transformador do soquete inteligente foi projetada para 12 V, no modo quando o rel√© est√° desligado, e o controlador de carregamento TP4056, de acordo com a folha de dados, √© alimentado por n√£o mais do que 8 V. Portanto, voc√™ n√£o pode carregar diretamente o controlador de carregamento , e foi necess√°rio diminuir a tens√£o para garantir a opera√ß√£o correta do TP4056. Mas √© melhor ser alimentado a partir de 5 V, porque essa √© uma voltagem mais comum e, al√©m disso, havia um soquete mini-USB na placa, que implicava energia de 5 V. A coisa mais simples e menor que eu consegui obter para obter 5 V foi colocar um estabilizador linear no pacote SOT-23 ou SOT-89, porque correntes de carga (carregamento) n√£o exceder√£o 100 mA, para as quais esses estabilizadores de tamanho pequeno s√£o geralmente projetados.No arsenal existente, havia um microcircuito L78L05ABUTR no pacote SOT-89, que eu decidi usar, mas ele tinha que ser instalado em algum lugar e a soldagem √© t√£o complicada de montar - era poss√≠vel tirar conclus√µes, e havia o risco de fechar algo em algum lugar , porque n√£o h√° muito espa√ßo livre na placa de um soquete inteligente. Portanto, ele rapidamente fez um len√ßo para esse chip, no qual tamb√©m fornecia a instala√ß√£o de capacitores de cer√¢mica.</font></font><br>
<br>
<img src="https://habrastorage.org/files/991/482/c2f/991482c2f12b44beb6999c6f4b403a4e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 4 - Regulador de tens√£o linear para 5 V </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, quando havia um controlador de carregamento e uma placa de energia para o controlador de carregamento, pude avaliar o local da instala√ß√£o e agora j√° era vis√≠vel - onde uma bateria seria usada. Eu visitei aquela loja novamente, olhei tudo de novo, e ainda assim eu escolhi a que tinha 65 mAh, pode ser vista na imagem abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/b2e/d0f/864/b2ed0f864f2d4bf9b9feedc15952a444.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 5 - Bateria Li-Pol LP451124 </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 MONTAGEM DE UM SISTEMA DE ALIMENTA√á√ÉO DE ALIMENTA√á√ÉO</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Agora h√° uma bateria, um circuito de carga, um regulador de tens√£o para um circuito de carga, conectamos tudo na sequ√™ncia correspondente e obtemos o design conforme a figura abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/1fe/7a2/995/1fe7a2995c7246ed8a353872e4ccba0a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 6 - Bateria com controlador de carregamento</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verificamos esta montagem no trabalho. Aplicamos uma voltagem de pouco mais de 5 V no estabilizador e observamos a voltagem na sa√≠da do estabilizador e depois na bateria. No meu caso, tudo funcionou imediatamente, a corrente de carga fluiu para a bateria e o LED vermelho acendeu. Tendo resistido um pouco e controlado a corrente de carga, conclu√≠ que o carregamento ocorre lentamente, que seria necess√°rio aumentar a corrente de carga. Mais uma vez, observei a folha de dados da bateria e foi dito que a corrente de carga padr√£o dessa bateria √© de 0,5 ‚Ä¢ C, o que corresponde a uma corrente de 27,5 mA. Em seguida, reduzi a resist√™ncia do resistor, que define a corrente de carga para 47 kOhm, como resultado, a bateria foi carregada mais rapidamente e um LED verde no controlador acendeu, indicando o fim da carga.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° uma bateria, um controlador de carregamento e um estabilizador de tens√£o para o controlador de carregamento, agora precisamos considerar o circuito de fonte de alimenta√ß√£o do controlador Bluetooth nRF51822 para n√£o exceder a tens√£o de alimenta√ß√£o de 3,6 V nele e, melhor ainda, n√£o exceder 3,0 - 3,3 V, no qual O fabricante garante opera√ß√£o normal. Para isso, a coisa mais simples e menor que voc√™ pode pensar √© colocar a tens√£o da bateria em dois diodos conectados em s√©rie do tipo 1N4148, nos quais 0,5 - 0,6 V cai cada um, como resultado, ap√≥s os diodos obtemos uma tens√£o de 3,0 - 3 , 2 V, o que √© aceit√°vel para a opera√ß√£o do IC nRF51822. Al√©m disso, os diodos n√£o permitir√£o descarregar a bateria quando houver tens√£o na rede; a sa√≠da do estabilizador linear DD1 como parte do circuito nativo do soquete inteligente ter√° uma tens√£o de 3,3 V,como resultado, os diodos fechar√£o e a tens√£o n√£o ir√° para a bateria e tamb√©m a tens√£o da bateria n√£o ir√° para o nRF51822 quando houver tens√£o na rede. Mesmo na folha de dados do nRF51822, diz-se que a tens√£o operacional m√≠nima √© de 1,8 V, que, quando a bateria est√° descarregada entre 2,8 e 3 V, nos permitir√° apoiar a opera√ß√£o do nRF51822 na aus√™ncia de energia el√©trica na rede, o que significa que o rel√≥gio em tempo real ainda n√£o √© zerado. ser√° mantido no estado ‚ÄúLigado‚Äù ou ‚ÄúDesligado‚Äù - como antes de uma falta de energia, e esse estado ser√° mantido at√© que o programa seja executado, se chegar a hora em que foi definido ou at√© que a bateria se esgote.Mesmo na folha de dados do nRF51822, diz-se que a tens√£o operacional m√≠nima √© de 1,8 V, que quando a bateria est√° descarregada entre 2,8 e 3 V nos permitir√° apoiar a opera√ß√£o do nRF51822 na aus√™ncia de energia el√©trica na rede, o que significa que o rel√≥gio em tempo real n√£o foi redefinido para este ponto e a carga ser√° mantido no estado ‚ÄúLigado‚Äù ou ‚ÄúDesligado‚Äù - como antes de uma falta de energia, e esse estado ser√° mantido at√© que o programa seja executado, se chegar a hora em que foi definido ou at√© que a bateria se esgote.Mesmo na folha de dados do nRF51822, diz-se que a tens√£o operacional m√≠nima √© de 1,8 V, que quando a bateria est√° descarregada entre 2,8 e 3 V nos permitir√° apoiar a opera√ß√£o do nRF51822 na aus√™ncia de energia el√©trica na rede, o que significa que o rel√≥gio em tempo real n√£o foi redefinido para este ponto e a carga ser√° mantido no estado ‚ÄúLigado‚Äù ou ‚ÄúDesligado‚Äù - como antes de uma falta de energia, e esse estado ser√° mantido at√© que o programa seja executado, se chegar a hora em que foi definido ou at√© que a bateria se esgote.e esse estado ser√° mantido at√© que o programa seja executado, se chegar a hora, se foi definido ou at√© que a bateria se esgote.e esse estado ser√° mantido at√© que o programa seja executado, se chegar a hora, se foi definido ou at√© que a bateria se esgote.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 CIRCUITO CIRCUITO EL√âTRICO DE UM SOQUETE INTELIGENTE COM FONTE DE ALIMENTA√á√ÉO AUT√îNOMA</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Estamos construindo um novo diagrama de circuito el√©trico de um soquete inteligente modificado, uma fonte de energia aut√¥noma baseada em uma bateria de Li-Pol. O diagrama √© apresentado na figura abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/276/ce6/7cb/276ce67cb6c84f5f8bb4879adbc8db97.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 7 - Diagrama esquem√°tico do refinamento el√©trico de um soquete inteligente </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No diagrama, diodos adicionais do tipo 1N4148 possuem as designa√ß√µes de posi√ß√£o D1 e D2 e ‚Äã‚Äãtamb√©m s√£o circulados por uma linha tracejada na placa A1 para facilitar a busca. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 INSTALAR O SISTEMA DE ENERGIA AUT√îNOMO COM BASE NA BATERIA. MONTAGEM DO NOVO PROJETO DO SOQUETE INTELIGENTE</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acordo com o esquema, diodos adicionais devem ser instalados na placa de soquete inteligente e, em seguida, a bateria, o controlador de carga e o estabilizador devem ser instalados no compartimento do soquete inteligente nos locais prescritos e sem soldar todas as entradas e sa√≠das. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definimos o controlador de carga e o estabilizador, conforme mostrado na figura abaixo. Simplesmente inserimos a placa do controlador de carregamento no espa√ßo entre o suporte do parafuso e a sali√™ncia do soquete sob o plugue, ele √© inserido relativamente firmemente - ele n√£o sai e n√£o sai, e colocamos a placa do regulador de tens√£o do controlador na cola hot-melt com os elementos voltados para o soquete. Tamb√©m √© visto que colei parcialmente o suporte de aterramento com fita adesiva resistente ao calor, para a qual ficar√° claro abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/816/84c/e02/81684ce024e84159a68c7863a43edcd0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 8 - Instala√ß√£o do controlador de carregamento Instalamos </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a bateria no lugar, conforme mostrado na foto abaixo:</font></font><br>
<br>
<img src="https://habrastorage.org/files/004/403/8cd/0044038cd6284fbbbf97c9c849b95142.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 9 - Instala√ß√£o da bateria</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A imagem mostra que a bateria est√° instalada na abertura de um dos cantos do soquete em um lado do suporte de aterramento. Para isolamento, colei esse suporte com duas camadas de fita resistente ao calor; primeiro, isola os terminais da bateria; em segundo lugar, haver√° isolamento adicional de fase e terra, porque A bateria possui uma tens√£o de fase aberta. Os condutores da polaridade correspondente s√£o soldados aos terminais da bateria, que v√£o da placa controladora de carga e, da placa controladora de carga, os condutores passam a alimentar o controlador Bluetooth atrav√©s de diodos na placa de soquete, conforme mostrado no diagrama de circuitos. Eu isolei os terminais da bateria com condutores soldados com um tubo termo-retr√°til e dobrei os terminais e parte da carca√ßa sem movimentos bruscos em um √¢ngulo de 90 ¬∞ com a base do soquete onde o suporte de aterramento est√° instalado.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A fia√ß√£o da fonte de alimenta√ß√£o do estabilizador e a sa√≠da da bateria, bem como a instala√ß√£o de diodos adicionais D1 e D2, podem ser feitas conforme mostrado na foto abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/1e0/748/fe4/1e0748fe47ba4812bedba86bc9d90649.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 10 - Fia√ß√£o dos circuitos da bateria e diodos adicionais</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta instala√ß√£o da bateria, controlador de carga e regulador de tens√£o do controlador de carga permite montar livremente a tomada, ou seja, a bateria e as placas adicionais ap√≥s a montagem n√£o interferem com a placa principal: nada repousa e n√£o interessa. No entanto, para fins de confiabilidade, isolei com uma fita resistente ao calor o local de solda do fio terra que vai para o suporte de aterramento do suporte de aterramento. E voc√™ tamb√©m deve prestar aten√ß√£o aos condutores flex√≠veis, que, durante a montagem, devem ser dobrados para que n√£o cruzem as aberturas de contato da tomada. Talvez, no meu caso, seja necess√°rio peg√°-los em algum lugar com cola quente. A prop√≥sito, como os condutores que eu usei o fio MGTF-0.12, ele √© forte o suficiente para quebra de alta tens√£o e o isolamento n√£o derrete quando soldado.</font></font><br>
<br>
<img src="https://habrastorage.org/files/b9b/2ab/e13/b9b2abe139b348f290c6cdd8fb801bf0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 11 - Embalagem dos condutores nas aberturas da tomada </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s instalar a bateria, notei que o suporte que aterra a carga, se voc√™ inserir o plugue na tomada inteligente, pressiona fortemente contra a bateria, o que pode danific√°-lo ou causar um curto-circuito na bateria, portanto, esse suporte deve ser finalize, ou seja, dobre, como mostra a foto abaixo. </font></font><br>
<br>
<img src="https://habrastorage.org/files/34a/929/4b3/34a9294b375a4e889f480f011754d34f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 12 - Forma√ß√£o dos contatos do suporte de aterramento </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â claro que voc√™ pode remov√™-lo completamente, mas √© mais seguro com o terra se voc√™ tiver uma rede de alimenta√ß√£o de tr√™s fios. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 VERIFICA√á√ÉO DO TRABALHO E REALIZA√á√ÉO DE ENSAIOS PRELIMINARES DO SOQUETE INTELIGENTE DESENVOLVIDO</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, ap√≥s o trabalho realizado e a montagem, temos uma sa√≠da mais inteligente, ou seja, j√° menos dependente de uma queda de energia, com a bateria e o controlador de carregamento da bateria a bordo, e mesmo atrav√©s do gabinete, voc√™ pode ver o brilho dos LEDs do controlador de carregamento, vermelho - a carga est√° ligada, verde - a carga acabou. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e3b/72c/b7c/e3b72cb7c9124964aca76bb1c1b3bc41.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 13 - Indica√ß√£o do modo de carregamento</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s a montagem, foi realizado um teste, o carregamento foi realizado, com o tempo, um LED verde acende, indicando o fim do carregamento, o rel√≥gio em tempo real considera o estado "On" / "Off", respectivamente, tamb√©m suportado, mas se n√£o for um "but". Como se viu, se durante a falha de energia houve um estado "On", ou seja, o transistor VT2 permaneceu aberto, ap√≥s a restaura√ß√£o da eletricidade na rede, o soquete foi ligado e √© claro que o LED VD6 est√° "On", mas, como o transistor est√° aberto, No momento da fonte de alimenta√ß√£o, a corrente da sa√≠da da ponte de diodos passa imediatamente pela bobina do rel√© e pelo transistor, como resultado, o capacitor n√£o tem tempo para carregar at√© 12 V e a tens√£o √© imediatamente espremida at√© 5 - 6 V, o que n√£o era suficiente para garantir a opera√ß√£o do rel√©. Acabouque parece ser um soquete no estado ‚ÄúOn‚Äù, mas o rel√© n√£o liga - a fonte de alimenta√ß√£o √© fraca e sua energia deve ser aumentada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7 MODIFICA√á√ïES ADICIONAIS NA FONTE DE ENERGIA DE UM SOQUETE INTELIGENTE. TESTES FINAIS </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comecei a descobrir que tipo de capacitores de lastro C3 e C5 eram usados ‚Äã‚Äãnesta tomada para encontrar os mesmos e adicionar, se poss√≠vel. Eu medi sua capacit√¢ncia, obtive cerca de 0,47 microfarads cada, para um total de cerca de 1 microfarads. Mas n√£o √© poss√≠vel medir a tens√£o, mas, a julgar pelo tamanho dos capacitores e pela tens√£o na rede, deveria ter sido de cerca de 400 a 500 V. Os tamanhos t√≠picos desses capacitores t√™m uma tens√£o de 500 V para esses capacitores, mas de acordo com as informa√ß√µes encontradas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no site de Murata capacitores semelhantes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, em tens√µes de cerca de 220 V, a capacit√¢ncia desses capacitores √© muito inferior ao seu valor nominal em baixas tens√µes. A partir disso, ficou claro por que esses capacitores n√£o permitem fornecer energia suficiente para que n√£o haja quedas significativas de tens√£o na sa√≠da dessa fonte de energia. E ent√£o o circuito de carga da bateria foi adicionado, o que tamb√©m levou alguma corrente, cerca de 10 - 20 mA, at√© a bateria ser carregada. Como esses capacitores n√£o apresentam um desempenho muito bom em altas tens√µes, decidi tentar encontrar um capacitor de filme met√°lico de tamanho pequeno, pelo menos 400 V e com uma capacidade menos normal. Comecei a investigar as placas antigas de v√°rios dispositivos e encontrei em uma delas um capacitor de filme met√°lico importado de tamanho pequeno a 450 V e uma capacidade de 0,47 uF.</font></font><br>
<br>
<img src="https://habrastorage.org/files/100/eb8/cc1/100eb8cc192744dfae4a323b7d700f46.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 14 - Capacitor de pel√≠cula met√°lica de 450 V - 0,47 ŒºF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peguei esse capacitor, examinei a placa de uma tomada inteligente e verificou-se que havia um local muito adequado para ele. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a9c/7b4/e9c/a9c7b4e9c6924ff297266d5f8c5655f8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 15 - Verificando a possibilidade de colocar um capacitor adicional O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
capacitor aproximou-se da altura e da espessura no mesmo local da figura acima, e foi decidido aplic√°-lo - solda em paralelo com os capacitores de lastro C3 e C5, e voc√™ pode fix√°-lo com adesivo hot-melt </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soldei os segmentos de fio MGTF-0.2 nos terminais do capacitor, isolei a praga de fios soldados com um tubo termo-retr√°til e adesivo derretido a quente. Em seguida, o capacitor colou o rel√© no hot melt e soldou os condutores paralelos ao capacitor C3. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e6b/22f/a8e/e6b22fa8ea04440d84c95eecc7d68dcc.jpg"><br>
<img src="https://habrastorage.org/files/ccc/295/fb7/ccc295fb7fdf4ad89035d006dea3f679.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 16 - Instala√ß√£o de um capacitor de lastro adicional</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de instalar este capacitor, verifiquei imediatamente a funcionalidade do soquete inteligente em tal ativa√ß√£o, ou seja, no estado ‚ÄúOn‚Äù, inseri esse soquete na rede, como resultado do funcionamento do rel√©, dos contatos fechados, da tens√£o nos terminais do capacitor C4 em cerca de 9 V, o que era suficiente. para iniciar o rel√© e para a opera√ß√£o dos demais √≥rg√£os da sa√≠da. Obviamente, nessa tens√£o, o consumo de corrente da bobina do rel√© √© maior, o que significa que o consumo de energia do soquete aumentou, medi com um watt√≠metro digital, a pot√™ncia em marcha lenta foi de 2,2 watts. Voc√™ pode tentar otimizar e reduzir ainda mais a tens√£o para um n√≠vel no qual o rel√© ser√° garantido para operar e o consumo de corrente ser√° m√≠nimo, mas neste est√°gio ainda n√£o me incomodei, o principal √© que agora existe uma tomada aut√¥noma,o que significa que o rel√≥gio n√£o se perder√° quando a tens√£o da rede el√©trica falhar at√© que a bateria acabe e o estado seja "On" ou "Off". Tamb√©m foi realizado um experimento sobre a dura√ß√£o da bateria, que totalizou de 10 a 11 horas, o que √© suficiente, porque A eletricidade raramente √© desligada por um tempo ou mais.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 PRINC√çPIO EL√âTRICO DO CIRCUITO FINAL DE UM SOQUETE INTELIGENTE COM UMA FONTE DE ALIMENTA√á√ÉO AUT√îNOMA</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bem, depois de todas as modifica√ß√µes, o circuito final de um soquete inteligente se parece com o seguinte: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aba/bea/ba6/ababeaba6ccf455384d24249350efc3a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 17 - Circuito el√©trico de um soquete inteligente com fonte de alimenta√ß√£o aut√¥noma </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse circuito, um capacitor de reator adicional √© </font><b><font style="vertical-align: inherit;">mostrado como C, paralelo a C</font></b><font style="vertical-align: inherit;"> , Cb e tracejado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© tudo, a segunda sa√≠da, talvez eu finalize de alguma forma. </font><font style="vertical-align: inherit;">Cr√≠ticas e talvez recomenda√ß√µes adicionais s√£o bem-vindas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado pela aten√ß√£o!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt395883/">https://habr.com/ru/post/pt395883/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt395871/index.html">Cientistas alertam para efeitos colaterais de fraca estimula√ß√£o el√©trica do c√©rebro</a></li>
<li><a href="../pt395873/index.html">Os cientistas primeiro investigaram e descreveram o mecanismo de ativa√ß√£o de uma cadeia de neur√¥nios cerebrais respons√°veis ‚Äã‚Äãpor uma tend√™ncia √† agress√£o</a></li>
<li><a href="../pt395875/index.html">Remo√ß√£o de linhas telef√¥nicas usando gateways VoIP da Grandstream</a></li>
<li><a href="../pt395879/index.html">Discuss√£o: Os comerciantes de HFT gostam de seu trabalho?</a></li>
<li><a href="../pt395881/index.html">Parasitica (est√≥ria)</a></li>
<li><a href="../pt395887/index.html">A constru√ß√£o do ITER est√° adiantada. O primeiro plasma est√° planejado para 2025</a></li>
<li><a href="../pt395889/index.html">A vida secreta dos gigantes</a></li>
<li><a href="../pt395891/index.html">Consola de jogos Sega Saturn invadiu a prote√ß√£o DRM ap√≥s 20 anos</a></li>
<li><a href="../pt395893/index.html">Vis√£o geral do novo IP-PBX Yeastar S20</a></li>
<li><a href="../pt395895/index.html">Chimia: falsifica√ß√£o de comida su√≠√ßa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>