<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöï üçÖ ‚ôèÔ∏è Nova linguagem de programa√ß√£o fa√ßa voc√™ mesmo üî• üëÜ ü§ΩüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! V√° direto ao ponto. No momento, estou lendo "The Dragon Book" e desenvolvendo um compilador para a minha linguagem de programa√ß√£o chamada Lo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nova linguagem de programa√ß√£o fa√ßa voc√™ mesmo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460283/">  Ol√° Habr!  V√° direto ao ponto.  No momento, estou lendo "The Dragon Book" e desenvolvendo um compilador para a minha linguagem de programa√ß√£o chamada Lolo (em homenagem ao pinguim do desenho animado sovi√©tico-japon√™s).  Pretendo terminar dentro de um ano se nada doer.  Em paralelo, publicarei trechos interessantes da experi√™ncia de tradu√ß√£o, cria√ß√£o de c√≥digo intermedi√°rio, otimiza√ß√£o etc. etc. Bem, hoje vou apresentar o idioma a voc√™.  Sente-se e v√°. <br><br>  A linguagem √© compilada, imperativa, n√£o orientada a objetos; a sem√¢ntica foi descaradamente descartada do C e complementada com muitos recursos √∫teis.  Vamos come√ßar com eles. <br><a name="habracut"></a><br><h2>  Modifica√ß√µes sem√¢nticas </h2><br><h4>  Indicadores seguros </h4><br>  Voc√™ pode ter pensado em indicadores inteligentes da Rust agora, mas eles n√£o s√£o.  No meu idioma, a seguran√ßa do acesso √† mem√≥ria √© fornecida por duas express√µes idiom√°ticas.  Primeiro: a falta de uma opera√ß√£o de desreferenciamento de ponteiros.  Em vez disso, ao acessar o ponteiro declarado, o pr√≥prio objeto √© referido.  Ou seja, voc√™ pode e deve escrever assim: <br><br><pre><code class="plaintext hljs">int # pointer ~~ new int(5) int variable ~ pointer + 7</code> </pre> <br>  A vari√°vel vari√°vel agora cont√©m o n√∫mero 12. Agora voc√™ v√™ uma sintaxe desconhecida e, talvez, esteja um pouco perplexo, mas vou explicar tudo no decorrer do artigo.  Segundo idioma: falta de opera√ß√µes nos ponteiros.  Novamente: todas as opera√ß√µes ao acessar ponteiros, incluindo atribui√ß√£o, incremento e decremento, s√£o executadas nos objetos.  A √∫nica opera√ß√£o que se relaciona diretamente ao ponteiro √© a atribui√ß√£o por endere√ßo ou, como eu chamo, identifica√ß√£o.  No exemplo de c√≥digo acima, na primeira linha, √© precisamente identifica√ß√£o.  Qualquer ponteiro pode ser definido como o endere√ßo apenas da √°rea de mem√≥ria j√° alocada, que √© a nova opera√ß√£o retornada.  Voc√™ tamb√©m pode colocar um ponteiro para o endere√ßo de outra vari√°vel alocada, mesmo na pilha, mesmo na pilha.  Aqui est√° um exemplo: <br><br><pre> <code class="plaintext hljs">int variable ~ 5 int # pointer ~~ variable</code> </pre> <br>  Aqui "~" √© a opera√ß√£o de atribui√ß√£o usual.  Voc√™ tamb√©m pode identificar ponteiros com um ponteiro nulo especial.  Ele atua como um ponteiro que se refere a um endere√ßo nulo.  Ap√≥s identificar as opera√ß√µes de compara√ß√£o e compara√ß√£o na identidade (endere√ßos id√™nticos) com nulo, elas produzir√£o true: <br><br><pre> <code class="plaintext hljs">int # pointer ~~ null if (pointer = null) nop ;; true if (pointer == nul) nop ;; true</code> </pre> <br>  Aqui "=" √© uma compara√ß√£o de valores, "==" √© uma compara√ß√£o por endere√ßos, "nop" √© uma opera√ß√£o vazia e depois de ";;"  - comente.  E sim, null √© a √∫nica opera√ß√£o de ponteiro com a qual √© poss√≠vel sem verificar a compatibilidade do tipo. <br><br>  Assim, os ponteiros s√≥ podem ser atribu√≠dos √† mem√≥ria alocada ou √†s √°reas nulas e n√£o podem ser movidos para nenhum lugar.  No entanto, essas medidas n√£o protegem totalmente contra erros de falha de segmenta√ß√£o.  Para obt√™-lo, basta seguir estas etapas: <br><br><pre> <code class="plaintext hljs">int # pointer1 ~~ new int(5) int # pointer2 ~~ pointer1 delete pointer1 int variable ~ pointer2 ;; segmentation fault!</code> </pre> <br>  Eu acho que tudo est√° claro aqui.  Mas cometer esse erro s√≥ pode ser feito de prop√≥sito e, depois, ter trabalhado duro.  Afinal, a opera√ß√£o de exclus√£o faz o mesmo que o coletor de lixo, apenas com menos seguran√ßa.  Falando dele ... <br><br><h4>  Coletor de lixo </h4><br>  Coletor de lixo - ele tamb√©m √© colecionador em Lolo.  Provavelmente n√£o h√° necessidade de explicar o que √©.  S√≥ posso dizer que ele pode ser desativado por uma op√ß√£o especial durante a compila√ß√£o.  Testamos o programa com o coletor, tudo funciona como deveria - voc√™ pode inserir a op√ß√£o e tentar otimizar o programa usando o gerenciamento manual de mem√≥ria. <br><br><h4>  Matrizes incorporadas </h4><br>  Embora eu tenha dito que a sem√¢ntica da linguagem √© eliminada de C, as diferen√ßas s√£o bastante significativas.  Aqui matrizes s√£o ponteiros.  As matrizes t√™m sua pr√≥pria sintaxe e endere√ßamento seguro.  N√£o, n√£o com uma verifica√ß√£o de alcance.  Com eles, em princ√≠pio, √© dif√≠cil obter um erro de tempo de execu√ß√£o.  Isso ocorre porque cada matriz armazena o comprimento no tamanho da vari√°vel, como em Java, e com cada indexa√ß√£o do √≠ndice ... existe o restante da divis√£o por esse tamanho!  Uma decis√£o est√∫pida, √† primeira vista, at√© olharmos para √≠ndices negativos.  Se voc√™ encontrar o restante da divis√£o -1 pelo comprimento da matriz, obt√©m um n√∫mero igual ao tamanho-1, ou seja, o elemento mais finito.  Com essa manobra, podemos acessar √≠ndices n√£o apenas desde o in√≠cio, mas tamb√©m no final da matriz.  Outro truque √© converter qualquer tipo primitivo na matriz de bytes [].  Mas como voc√™ obt√©m um erro de execu√ß√£o, voc√™ pergunta?  Vou deixar essa pergunta para voc√™ como um enigma f√°cil. <br><br><h4>  Refer√™ncias </h4><br>  N√£o sei ao certo se o padr√£o C atual inclui links, mas eles definitivamente estar√£o no Lolo.  Talvez a falta de refer√™ncias nas vers√µes anteriores do C seja uma das principais raz√µes para ponteiros para ponteiros.  Eles s√£o necess√°rios para passar argumentos para o endere√ßo, para retornar valores de fun√ß√µes sem copiar.  Ponteiros e matrizes tamb√©m podem ser passados ‚Äã‚Äãpor refer√™ncia (uma vez que ao passar por valor, as matrizes ser√£o completamente copiadas e os ponteiros configurados para um novo local pela opera√ß√£o ~~ n√£o o salvar√£o). <br><br><h4>  Multithreading </h4><br>  Tudo √© mais bonito e mais bonito.  Eu j√° estou apaixonado pelo meu idioma.  Seu pr√≥ximo hobby √© multithreading.  Honestamente, ainda n√£o decidi completamente quais ferramentas ser√£o fornecidas.  Provavelmente, a palavra-chave sincronizada com todas as propriedades de ala-Java e, possivelmente, a palavra-chave simult√¢nea na frente de fun√ß√µes n√£o embutidas, o que significa "executar essas fun√ß√µes em encadeamentos paralelos". <br><br><h4>  Sequ√™ncias em linha </h4><br>  S√£o strings, n√£o literais de strings, como em C ++.  Cada linha ter√° seu pr√≥prio comprimento, a indexa√ß√£o ocorrer√° com a localiza√ß√£o do restante.  Em geral, as strings no Lolo s√£o muito semelhantes √†s matrizes de caracteres, exceto que as matrizes n√£o t√™m concatena√ß√£o via "+", anima√ß√£o atrav√©s de "*" e compara√ß√µes atrav√©s de "&lt;" e "&gt;".  E j√° que estamos falando de falas, devemos mencionar os personagens.  S√≠mbolos em Lolo n√£o s√£o n√∫meros, como em C ++.  E eles cont√™m n√£o um byte, mas 4 para caracteres DKOTI e 6 para caracteres UTF.  Vou falar sobre o DKOTI da pr√≥xima vez, mas por enquanto, apenas saiba que o Lolo suporta caracteres e seq√º√™ncias de caracteres em duas codifica√ß√µes.  E sim, a propriedade length pode at√© ser obtida de constantes: <br><br><pre> <code class="plaintext hljs">int len ~ "Hello, world!".length ;; len = 13</code> </pre> <br><h4>  Tipo booleano com tr√™s valores </h4><br>  A grande maioria das linguagens de programa√ß√£o que possuem um tipo de dados l√≥gicos usa l√≥gica bin√°ria.  Mas em Lolo ser√° tern√°rio, ou melhor, tern√°rio confuso.  Tr√™s valores: verdadeiro - verdadeiro, falso - falso e nenhum - nada.  At√© agora, n√£o encontrei na linguagem das opera√ß√µes que n√£o retorne nenhuma, mas lembro-me de muitos exemplos da pr√°tica em que bandeiras com tr√™s valores seriam muito √∫teis.  Tinha que usar enumera√ß√µes ou um tipo inteiro.  N√£o precisa mais.  Esse √© apenas o nome desse tipo que n√£o posso escolher.  O mais comum √© "l√≥gico", mas muito longo.  Outras op√ß√µes s√£o "luk" em homenagem a Jan Lukasevich, "brus" em homenagem a N. P. Brusnetsov e "trit", mas estritamente falando, esse tipo n√£o √© um trit.  Em geral, a pesquisa est√° no final do artigo. <br><br><h4>  Listas para inicializar estruturas e listas </h4><br>  Se, depois de declarar uma vari√°vel estrutural, colocar o sinal ~ e abrir os colchetes, voc√™ poder√° definir os valores de seus campos alternadamente ou na forma de um dicion√°rio.  Se voc√™ executar esse procedimento com uma matriz, poder√° definir os valores de suas c√©lulas, apenas sem um dicion√°rio.  N√£o h√° nada especial para contar, basta olhar para o c√≥digo: <br><br><pre> <code class="plaintext hljs">struct { int i; real r; str s; } variable ~ [ i: 5, r: 3.14, s: "Hello!" ] int[5] arr ~ [ 1, 2, 3, 4, 5 ]</code> </pre> <br><br><h4>  Retornar v√°rios valores de fun√ß√µes </h4><br>  Assim como no Go!  Voc√™ pode escrever v√°rios nomes de vari√°veis ‚Äã‚Äãseparados por v√≠rgulas e atribuir a eles todos os valores retornados da fun√ß√£o de uma vez: <br><br><pre> <code class="plaintext hljs">int, real function() { return 5, 3.14 } byte ¬ß { int i; real r i, r ~ function }</code> </pre> <br><h4>  M√≥dulos em vez de cabe√ßalhos </h4><br>  Tudo est√° claro aqui.  Em vez de cabe√ßalhos C-timidos - m√≥dulos de Java. <br><br><h4>  para (item autom√°tico: matriz) </h4><br>  Novamente Java nativo.  Como temos matrizes com comprimento, √© um pecado n√£o usar a express√£o para cada uma. <br><br><h4>  O operador de sele√ß√£o n√£o √© apenas para int </h4><br>  N√£o conhe√ßo voc√™, mas em C e C ++ estou muito enfurecido com a falta de capacidade de usar a opera√ß√£o de caso de comuta√ß√£o para vari√°veis ‚Äã‚Äãn√£o inteiras.  E a sintaxe tamb√©m enfurece.  Aqui em Pascal √© outra quest√£o.  E agora em Lolo: <br><br><pre> <code class="plaintext hljs">case variable { "hello", "HELLO": nop "world": { nop; nop } "WORLD": nop }</code> </pre> <br><h4>  Operadores de energia e divis√£o </h4><br>  E isso √© do Python. <br><br><pre> <code class="plaintext hljs">real r ~ 3.14 ** 2 int i ~ r // 3</code> </pre> <br><h4>  Tuplas de par√¢metros de fun√ß√£o </h4><br>  Lembra que todas as opera√ß√µes com ponteiros s√£o proibidas no Lolo, exceto a identifica√ß√£o?  Agora vamos lembrar como acessar par√¢metros de fun√ß√£o a partir de listas de par√¢metros de comprimento vari√°vel.  Voc√™ precisa declarar um ponteiro para o primeiro elemento e depois incrementar at√© que a verifica√ß√£o da verdade retorne verdadeira.  Voc√™ n√£o pode incrementar no Lolo.  Mas tudo bem.  Afinal, a lista de par√¢metros aqui √© apresentada na forma de uma tupla de comprimento fixo (dependente de chamada), com √≠ndice seguro, como em matrizes.  O nome dele √© "?"  A verifica√ß√£o de tipo √© realizada apenas para os par√¢metros definidos na defini√ß√£o da fun√ß√£o.  Os demais par√¢metros (‚Äúmultiponto‚Äù) s√£o reduzidos a qualquer tipo e, com um movimento constrangedor, seu comportamento n√£o √© definido.  Mas, ainda assim, essa tupla √© muito mais segura e conveniente do que as macros em C. <br><br><pre> <code class="plaintext hljs">void function(...) { if (?.size &gt; 1) { int i ~ ?[0] real r ~ ?[1] } }</code> </pre> <br><h4>  Intervalos num√©ricos </h4><br>  E outro personagem - uma fam√≠lia de tipos de intervalo (intervalo, intervalo, intervalo, etc.).  Eles s√£o dados por dois n√∫meros inteiros atrav√©s de dois pontos (..) e podem cortar uma matriz de uma matriz, uma string de uma string, em geral, uma coisa √∫til, eu acho. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] int[3] subarr = arr[1..3] ;; [ 2, 3, 4 ]</code> </pre> <br><h4>  Operador </h4><br>  De Pascal.  Trabalha com strings, matrizes, tuplas?  e intervalos. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] if (4 in arr) nop</code> </pre> <br><h4>  Dicion√°rio de par√¢metros de fun√ß√£o </h4><br>  Honestamente, eu j√° estou confuso como essa coisa √© chamada corretamente, com isso voc√™ pode especificar diretamente os argumentos de fun√ß√µes n√£o puras: <br><br><pre> <code class="plaintext hljs">int pos = str_find(string, npos: -1)</code> </pre> <br><h4>  Op√ß√µes padr√£o </h4><br>  De C ++.  Aqui, nem mesmo um exemplo √© necess√°rio, e tudo fica claro. <br><br><h4>  Exce√ß√µes </h4><br>  Bem, e onde sem eles? <br><br><pre> <code class="plaintext hljs">try { raise SEGMENTATION_FAULT_EXCEPTION } except (Exception e) { print(e.rus) }</code> </pre> <br><h4>  Nenhum salto incondicional </h4><br>  Porque em 2019, o uso do operador GOTO da morte √© semelhante. <br><br><h2>  Sintaxe </h2><br>  Bem, um pouco de conversa sobre a sintaxe.  Como voc√™ notou, o ponto e v√≠rgula √© raso.  As linguagens de programa√ß√£o modernas se saem muito bem sem essa fonte de erro.  Exemplos s√£o Python, Kotlin.  O operador de seta (-&gt;) √© combinado com o operador de ponto.  Ao chamar fun√ß√µes sem argumentos, os colchetes s√£o opcionais.  As strings s√£o dadas em n√∫meros e vice-versa.  Operadores l√≥gicos e bit a bit s√£o combinados.  Existem modificadores de fun√ß√£o para tabula√ß√£o.  Fun√ß√µes aninhadas  type_of.  E o mais importante - multilinguismo.  Sim, vou duplicar palavras-chave, propriedades de strings e matrizes e todos os identificadores da biblioteca padr√£o em todos os idiomas da comunica√ß√£o internacional, a saber: ingl√™s, russo, japon√™s, chin√™s, espanhol, portugu√™s, √°rabe, franc√™s, alem√£o e latim. <br><br>  De fato, todas as op√ß√µes acima n√£o incluem metade das capacidades do Lolo.  S√≥ n√£o consigo me lembrar de todos os recursos.  Vou adicionar quando o compilador estiver pronto. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt460283/">https://habr.com/ru/post/pt460283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt460265/index.html">Criar um modelo de projeto do Xcode</a></li>
<li><a href="../pt460273/index.html">Autoriza√ß√£o no Apple Pay pelo menor</a></li>
<li><a href="../pt460275/index.html">Por que voc√™ n√£o precisa da solu√ß√£o perfeita</a></li>
<li><a href="../pt460279/index.html">Contrato de 10 bilh√µes: quem lidar√° com a nuvem para o Pent√°gono</a></li>
<li><a href="../pt460281/index.html">Como o UX Writer ajuda a melhorar o produto</a></li>
<li><a href="../pt460285/index.html">Estamos preparando o PHP. Como est√£o while, foreach, array_walk e algumas outras palavras assustadoras</a></li>
<li><a href="../pt460287/index.html">Visualiza√ß√£o de not√≠cias de runas</a></li>
<li><a href="../pt460291/index.html">Problemas no processamento em lote de solicita√ß√µes e suas solu√ß√µes (parte 1)</a></li>
<li><a href="../pt460295/index.html">O que significa inseguro em Rust?</a></li>
<li><a href="../pt460297/index.html">WeakRef - proposta de inclus√£o no padr√£o ECMAScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>