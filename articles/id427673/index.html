<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥉 😡 👊🏻 Pembelajaran mesin @ booking.com ✋🏼 ✌🏾 👌🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pembelajaran mesin memungkinkan Anda untuk membuat layanan ini jauh lebih nyaman bagi pengguna. Tidak begitu sulit untuk mulai menerapkan rekomendasi,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembelajaran mesin @ booking.com</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/427673/"> Pembelajaran mesin memungkinkan Anda untuk membuat layanan ini jauh lebih nyaman bagi pengguna.  Tidak begitu sulit untuk mulai menerapkan rekomendasi, hasil pertama dapat diperoleh bahkan tanpa memiliki infrastruktur yang mapan, yang utama adalah memulai.  Dan baru kemudian membangun sistem skala besar.  Begitulah semuanya dimulai di Booking.com.  Dan apa yang dihasilkannya, pendekatan apa yang sekarang digunakan, bagaimana model dimasukkan ke dalam produksi, mana yang harus dipantau, Viktor Bilyk mengatakan kepada HighLoad ++ Siberia.  Kemungkinan kesalahan dan masalah tidak tertinggal dari laporan, itu akan membantu seseorang untuk berkeliling dangkal, dan seseorang akan datang dengan ide-ide baru. <br><br><img src="https://habrastorage.org/webt/xi/se/oi/xiseoiionccibwqnt5plovk4qza.jpeg"><br><br>  <strong>Tentang Pembicara:</strong> Victor Bilyk memperkenalkan produk pembelajaran mesin ke dalam operasi komersial di Booking.com. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8IskcexLLpI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Pertama, mari kita lihat di mana Booking.com menggunakan pembelajaran mesin di produk mana. <br><img src="https://habrastorage.org/webt/ka/6t/3y/ka6t3y4chljglcr3ijjzszcxhgm.jpeg"><br><br>  Pertama, ini adalah sejumlah besar sistem rekomendasi untuk hotel, tujuan, tanggal, dan pada titik yang berbeda dalam corong penjualan dan dalam konteks yang berbeda.  Misalnya, kami mencoba menebak ke mana Anda akan pergi ketika Anda belum memasukkan apa pun di baris pencarian sama sekali. <br><br><img src="https://habrastorage.org/webt/lo/em/bh/loembheuhe8qp-vhv_jntors2je.jpeg"><br><br>  Ini adalah tangkapan layar di akun saya, dan saya pasti akan mengunjungi dua area ini tahun ini. <br><br><img src="https://habrastorage.org/webt/ab/zc/go/abzcgoqypaywtxwzygsoxo4njrc.jpeg"><br><br>  Kami memproses hampir semua pesan teks dari klien, dari filter spam dangkal hingga produk canggih seperti Assistant dan ChatToBook, yang menggunakan model untuk menentukan niat dan mengenali entitas.  Selain itu, ada model yang tidak begitu terlihat, misalnya, Deteksi Penipuan. <br><br>  Kami menganalisis ulasan.  Model memberi tahu kita mengapa orang pergi, katakanlah, ke Berlin. <br><img src="https://habrastorage.org/webt/xn/sv/9e/xnsv9escc-iqeayrkec7ekop_n4.jpeg"><br><br>  Dengan bantuan model pembelajaran mesin, dianalisis mengapa hotel dipuji sehingga Anda tidak perlu membaca ribuan ulasan sendiri. <br><img src="https://habrastorage.org/webt/u6/qi/4y/u6qi4yc7gz7vgiqk0ekkxa72a_i.jpeg"><br><br>  Di beberapa tempat antarmuka kami, hampir setiap bagian terkait dengan prediksi beberapa model.  Misalnya, di sini kami mencoba memprediksi kapan hotel akan habis terjual. <br><img src="https://habrastorage.org/webt/7f/yy/kv/7fyykvfv6k6h7unwgh2unlvgzdq.jpeg"><br><br>  Kita sering menemukan diri kita benar - setelah 19 jam kamar terakhir sudah dipesan. <br><img src="https://habrastorage.org/webt/41/wy/bp/41wybpl2pkhjpcidi6yv-geyvpy.jpeg"><br><br>  Atau, misalnya, - lencana "Penawaran yang menguntungkan".  Di sini kami mencoba memformalkan subyektif: apa yang merupakan tawaran yang menguntungkan.  Bagaimana memahami bahwa harga yang ditentukan oleh hotel untuk tanggal ini baik?  Lagi pula, ini, di samping harganya, tergantung pada banyak faktor, seperti layanan tambahan, dan seringkali bahkan pada alasan eksternal, jika, misalnya, Piala Dunia atau konferensi teknis besar sedang diadakan di kota ini sekarang. <br><br><h2>  Mulai dari implementasi <br></h2><br>  Mari kita mundur beberapa tahun yang lalu, pada tahun 2015.  Beberapa produk yang saya bicarakan sudah ada.  Terlebih lagi, sistem yang akan saya bicarakan hari ini belum.  Bagaimana pelaksanaannya saat itu?  Segalanya, jujur ​​saja, tidak terlalu.  Faktanya adalah bahwa kami memiliki masalah besar, yang sebagian bersifat teknis, dan sebagian lagi bersifat organisasi. <br><img src="https://habrastorage.org/webt/05/om/8s/05om8smme1rfenwrzl_ue7rwwh4.jpeg"><br><br>  Kami mengirim ilmuwan data ke tim lintas fungsi yang ada yang bekerja pada masalah pengguna tertentu dan berharap mereka untuk meningkatkan produk entah bagaimana. <br><br>  Paling sering, potongan-potongan produk ini dibangun di atas tumpukan Perl.  Ada masalah yang jelas dengan Perl - itu tidak dirancang untuk komputasi intensif, dan backend kami sudah dimuat dengan hal-hal lain.  Selain itu, pengembangan sistem serius yang akan menyelesaikan masalah ini tidak dapat diprioritaskan dalam tim, karena fokus tim adalah pada pemecahan masalah pengguna, dan bukan pada pemecahan masalah pengguna menggunakan pembelajaran mesin.  Oleh karena itu, Pemilik Produk (PO) akan sangat menentang ini. <br><br>  Mari kita lihat bagaimana itu terjadi. <br><br>  Hanya ada dua pilihan - saya tahu ini pasti, karena pada saat itu saya hanya bekerja di tim seperti itu dan membantu para Ilmuwan Data membawa model pertama mereka ke dalam pertempuran. <br><br>  Opsi pertama adalah <strong>materialisasi prediksi</strong> .  Misalkan ada model yang sangat sederhana dengan hanya dua fitur: <br><br><ol><li>  negara tempat pengunjung berada; </li><li>  kota tempat ia mencari hotel. </li></ol><br>  Kita perlu memprediksi kemungkinan suatu peristiwa.  Kami baru saja meledakkan semua vektor input: katakanlah, 100.000 kota, 200 negara - total 20 juta baris di MySQL.  Kedengarannya seperti opsi yang berfungsi penuh untuk menghasilkan beberapa sistem peringkat kecil atau model sederhana lainnya untuk produksi. <br><img src="https://habrastorage.org/webt/vh/jq/y0/vhjqy0gxsyydgrnirucbg4kpiva.jpeg"><br><br>  Pilihan lain adalah <strong>menanamkan prediksi secara langsung dalam kode backend</strong> .  Ada batasan besar - ratusan, mungkin ribuan koefisien - itulah yang kami mampu. <br><img src="https://habrastorage.org/webt/oa/sm/qn/oasmqn17bfvbsfjxla2qcidhgds.jpeg"><br><br>  Jelas, tidak ada satu atau pun cara lain yang memungkinkan Anda mengeluarkan setidaknya beberapa jenis model rumit dalam produksi.  Ini membatasi pusat data dan keberhasilan yang dapat mereka raih dengan meningkatkan produk.  Jelas, masalah ini harus dipecahkan entah bagaimana. <br><br><h3>  Layanan Prediksi <br></h3><br>  Hal pertama yang kami lakukan adalah layanan prediksi.  Mungkin, arsitektur paling sederhana yang pernah ditampilkan di Habré dan HighLoad ++ lebih rendah. <br><img src="https://habrastorage.org/webt/my/xw/jx/myxwjxsaotaglrxaq7obr2klmtc.jpeg"><br><br>  Kami menulis aplikasi kecil di Scala + Akka + Spray yang hanya mengambil vektor yang masuk dan mengembalikan prediksi.  Faktanya, saya sedikit cerdik - sistemnya sedikit lebih rumit, karena kami perlu memonitor dan menjalankannya.  Pada kenyataannya, semuanya tampak seperti ini: <br><img src="https://habrastorage.org/webt/jc/mi/o9/jcmio9itnh23j0xsjwm0--_mmkc.jpeg"><br><br>  Booking.com memiliki sistem acara - sesuatu seperti majalah untuk semua sistem.  Sangat mudah untuk menulis di sana, dan aliran ini sangat mudah untuk dialihkan.  Pada awalnya, kami perlu mengirim telemetri klien ke Graphite dan Grafana dengan persepsi latensi dan informasi detail dari sisi server. <br><img src="https://habrastorage.org/webt/r1/9x/kf/r19xkf9zdmzalcslvhxamaxj9qk.jpeg"><br><br>  Kami membuat pustaka klien sederhana untuk Perl - sembunyikan seluruh RPC dalam panggilan lokal, meletakkan beberapa model di sana, dan layanan mulai berjalan.  Untuk menjual produk seperti itu cukup sederhana, karena kami mendapat kesempatan <strong>untuk memperkenalkan model yang lebih kompleks dan menghabiskan lebih sedikit waktu</strong> . <br><img src="https://habrastorage.org/webt/g9/b-/xd/g9b-xdm7jzfyeysocelckin2rdc.jpeg"><br><br>  Para ilmuwan data mulai bekerja dengan pembatasan yang jauh lebih sedikit, dan dalam beberapa kasus pekerjaan back -ders dikurangi menjadi satu baris. <br><br><h3>  Prediksi Produk <br></h3><br>  Tapi mari kita kembali ke bagaimana kita menggunakan prediksi ini dalam produk. <br><br>  Ada model yang membuat prediksi berdasarkan fakta yang diketahui.  Berdasarkan prediksi ini, kami mengubah antarmuka pengguna.  Ini, tentu saja, bukan satu-satunya skenario untuk penggunaan pembelajaran mesin di perusahaan kami, tetapi cukup umum. <br><br>  <strong>Apa masalah meluncurkan fitur seperti itu?</strong>  Masalahnya adalah ini adalah dua hal dalam satu botol: model dan perubahan dalam antarmuka pengguna.  Sangat sulit untuk memisahkan efek dari keduanya. <br><br>  Bayangkan meluncurkan lencana "Penawaran yang Menguntungkan" sebagai bagian dari percobaan AB.  Jika tidak lepas landas - tidak ada perubahan signifikan secara statistik dalam metrik target - tidak diketahui apa masalahnya: lencana yang tidak dapat dipahami, kecil, tidak mencolok, atau model yang buruk. <br><br>  Selain itu, model dapat menurun, dan ada banyak alasan untuk ini.  Apa yang berhasil kemarin tidak selalu berhasil hari ini.  Selain itu, kami selalu dalam mode mulai dingin, terus-menerus menghubungkan kota dan hotel baru, orang-orang dari kota baru datang kepada kami.  Kita perlu entah bagaimana memahami bahwa model masih menggeneralisasi dengan baik di bagian ruang masuk ini. <br><img src="https://habrastorage.org/webt/np/rc/91/nprc91mvpwisjodjjq2ri2eueps.jpeg"><br><br>  Kasus degradasi model yang paling baru diketahui adalah kisah dengan Alex.  Kemungkinan besar, sebagai hasil dari pelatihan ulang, dia mulai memahami suara-suara acak, sebagai permintaan untuk tertawa, dan mulai tertawa di malam hari, menakuti para pemilik. <br><br><h3>  Pemantauan Prediksi <br></h3><br>  Untuk memantau prediksi, kami sedikit memodifikasi sistem kami (diagram di bawah).  Dengan cara yang sama, dari sistem acara, kami mengalihkan aliran ke Hadoop dan mulai menyimpan, selain semua yang kami simpan sebelumnya, juga semua vektor input dan semua prediksi yang dibuat oleh sistem kami.  Kemudian, menggunakan Oozie, kami mengumpulkannya di MySQL dan dari sana menunjukkannya dengan aplikasi web kecil untuk mereka yang tertarik pada beberapa jenis karakteristik kualitatif dari model. <br><img src="https://habrastorage.org/webt/nw/jj/3i/nwjj3iu-btqmjbx1ajvbsgik2hg.jpeg"><br><br>  Namun, penting untuk mengetahui apa yang harus ditampilkan di sana.  Masalahnya adalah bahwa dalam kasus kami, sangat sulit untuk menghitung metrik yang biasa digunakan dalam pelatihan model, karena seringkali kami mengalami keterlambatan besar pada label. <br><br>  Anggap ini sebagai contoh.  Kami ingin memprediksi apakah pengguna pergi berlibur sendirian atau bersama keluarga.  Kita perlu prediksi ini ketika seseorang memilih hotel, tetapi kita hanya bisa mengetahui kebenarannya dalam setahun.  Baru saja pergi berlibur, pengguna akan menerima undangan untuk meninggalkan ulasan, di mana antara lain akan ada pertanyaan apakah ia ada di sana sendirian atau bersama keluarganya. <br><br>  Artinya, Anda perlu menyimpan di suatu tempat semua prediksi yang dibuat sepanjang tahun, dan bahkan agar Anda dapat dengan cepat menemukan kecocokan dengan label yang masuk.  Kedengarannya sangat serius, bahkan mungkin investasi besar.  Oleh karena itu, sampai kami mengatasi masalah ini, kami memutuskan untuk melakukan sesuatu yang lebih sederhana. <br><br>  Ini "sederhana" ternyata hanya <strong>histogram prediksi yang</strong> dibuat oleh model. <br><img src="https://habrastorage.org/webt/k4/gu/gm/k4gugmskee9ve0ewmw2qldlcopg.jpeg"><br><br>  Di atas grafik adalah regresi logistik yang memprediksi apakah pengguna akan mengubah tanggal perjalanannya atau tidak.  Dapat dilihat bahwa ia membagi pengguna menjadi dua kelas: di sebelah kiri, bukit adalah mereka yang tidak akan melakukan ini;  bukit di sebelah kanan adalah mereka yang melakukannya. <br><img src="https://habrastorage.org/webt/fy/ac/dk/fyacdkdo2pmlpmbmnmelkm3zx8w.jpeg"><br><br>  Bahkan, kami bahkan menunjukkan dua grafik: satu untuk periode saat ini, dan yang lain untuk yang sebelumnya.  Terlihat jelas bahwa minggu ini (ini adalah grafik mingguan) model tersebut memprediksi perubahan tanggal sedikit lebih sering.  Sulit untuk mengatakan dengan pasti apakah itu musiman, atau degradasi yang sama dari waktu ke waktu. <br><br>  Hal ini menyebabkan perubahan dalam karya datacientes, yang berhenti melibatkan orang lain dan mulai beralih model mereka lebih cepat.  Mereka mengirim model ke produksi dalam jangka-kering bersama dengan para insinyur backend.  Yaitu, vektor dikumpulkan, model membuat prediksi, tetapi prediksi ini tidak digunakan dengan cara apa pun. <br><br>  Dalam kasus lencana, kami sama sekali tidak menunjukkan apa pun, seperti sebelumnya, tetapi mengumpulkan statistik.  Ini memungkinkan kami untuk tidak membuang waktu untuk proyek yang gagal sebelumnya.  Kami meluangkan waktu untuk front-end dan desainer untuk eksperimen lainnya.  <strong>Selama datacenter tidak yakin bahwa model bekerja seperti yang diinginkannya, ia tidak melibatkan orang lain dalam proses ini.</strong> <br><br>  Sangat menarik untuk melihat bagaimana grafik berubah di berbagai bagian. <br><img src="https://habrastorage.org/webt/kb/z_/oy/kbz_oyrod8128_uwtafqsjoym_m.jpeg"><br><br>  Di sebelah kiri adalah kemungkinan mengubah tanggal di desktop, di sebelah kanan ada di tablet.  Terlihat jelas bahwa pada tablet model memprediksi kemungkinan perubahan tanggal.  Ini kemungkinan besar disebabkan oleh fakta bahwa tablet sering digunakan untuk perencanaan perjalanan dan lebih jarang untuk pemesanan. <br><br>  Menarik juga untuk melihat bagaimana grafik ini berubah ketika pengguna bergerak melalui corong penjualan. <br><img src="https://habrastorage.org/webt/oi/ck/zi/oickzi_2tyz5vm8qyf4uk3g-dlw.jpeg"><br><br>  Di sebelah kiri adalah kemungkinan mengubah tanggal pada halaman pencarian, di sebelah kanan adalah pada halaman pemesanan pertama.  Dapat dilihat bahwa sejumlah besar orang yang telah memutuskan tanggalnya dapat mengunjungi halaman pemesanan. <br><br>  Tapi ini grafik yang bagus.  Seperti apa penampilan yang buruk?  Dengan cara yang sangat berbeda.  Terkadang itu hanya noise, terkadang itu adalah bukit besar, yang berarti bahwa model tersebut tidak dapat secara efektif memisahkan dua kelas prediksi. <br><img src="https://habrastorage.org/webt/uv/c4/zo/uvc4zocpgcdejqtebbpzzvgibws.jpeg"><br><br>  Terkadang ini adalah puncak besar. <br><img src="https://habrastorage.org/webt/gv/l1/y3/gvl1y36_ui-ut8wbo9ncdhciksg.jpeg"><br><br>  Ini juga merupakan regresi logistik, dan sampai titik tertentu itu menunjukkan gambar yang indah dengan dua bukit, tetapi suatu pagi menjadi seperti itu. <br><br>  Untuk memahami apa yang terjadi di dalam, Anda perlu memahami bagaimana regresi logistik dihitung. <br><br><h4>  Referensi cepat <br></h4><br><img src="https://habrastorage.org/webt/-f/op/w2/-fopw2q3tayu8rhnyg_pp5z4yms.jpeg"><br><br>  Ini adalah fungsi logistik dari produk skalar, di mana x <sub>n</sub> adalah beberapa fitur.  Salah satu fitur ini adalah harga malam di hotel (dalam euro). <br><img src="https://habrastorage.org/webt/sb/mw/6o/sbmw6ocz3ts8f-fdjawob2ve3zk.jpeg"><br><br>  Untuk memanggil model ini akan menjadi sesuatu seperti ini: <br><img src="https://habrastorage.org/webt/cf/so/m1/cfsom1foagpoo152nli4z31aqmo.jpeg"><br><br>  Perhatikan seleksi.  Itu perlu untuk mengkonversi harga ke euro, tetapi pengembang lupa melakukannya. <br><img src="https://habrastorage.org/webt/sz/5x/my/sz5xmybzwpcutqsc1xrj9vczaei.jpeg"><br><br>  Mata uang seperti rupee atau rubel meningkatkan produk skalar berkali-kali, dan, karenanya, memaksa model ini untuk menghasilkan nilai mendekati persatuan, lebih sering, yang kita lihat pada grafik. <br><br><h4>  Nilai ambang batas <br></h4><br>  Fitur lain yang berguna dari histogram ini adalah kemungkinan pilihan nilai ambang batas yang disadari dan optimal. <br><img src="https://habrastorage.org/webt/0p/j-/lj/0pj-ljv2emwsf_7wu8bttcdb-e8.jpeg"><br><br>  Jika Anda menempatkan bola di bukit tertinggi dalam histogram ini, dorong dan bayangkan di mana ia akan berhenti, ini akan menjadi titik yang optimal untuk pemisahan kelas.  Segala sesuatu di kanan adalah satu kelas, semua di sebelah kiri adalah kelas lain. <br><br>  Namun, jika Anda mulai menggerakkan titik ini, Anda dapat mencapai efek yang sangat menarik.  Misalkan kita ingin menjalankan percobaan itu, jika model mengatakan ya, entah bagaimana mengubah antarmuka pengguna.  Jika Anda memindahkan titik ini ke kanan, audiens percobaan kami berkurang.  Bagaimanapun, jumlah orang yang menerima prediksi ini adalah area di bawah kurva.  Namun, dalam praktiknya, akurasi prediksi jauh lebih tinggi.  Demikian pula, jika tidak ada daya statis yang cukup, Anda dapat meningkatkan audiens percobaan Anda, tetapi menurunkan akurasi prediksi. <br><br>  Selain prediksi itu sendiri, kami mulai memantau nilai input dalam vektor. <br><br><h4>  Satu pengkodean panas <br></h4><br>  Sebagian besar fitur dalam model kami yang paling sederhana bersifat kategorikal.  Ini berarti bahwa ini bukan angka, tetapi kategori tertentu: kota tempat pengguna berada, atau kota tempat ia mencari hotel.  Kami menggunakan One Hot Encoding dan mengubah masing-masing nilai yang mungkin menjadi unit dalam vektor biner.  Karena pada awalnya kami hanya menggunakan inti komputasi kami sendiri, mudah untuk mengidentifikasi situasi di mana tidak ada tempat untuk kategori yang masuk dalam vektor yang masuk, yaitu, model tidak melihat data ini selama pelatihan. <br><img src="https://habrastorage.org/webt/xf/9t/w4/xf9tw4lzt0qbikwpfzeenzjjpie.jpeg"><br><br>  Seperti inilah biasanya. <br><img src="https://habrastorage.org/webt/hb/ih/0n/hbih0nrx9t3xlnl2coxoot3ek7a.jpeg"><br><br>  destination_id - kota tempat pengguna mencari hotel.  Secara alami, model tidak melihat sekitar 5% dari nilai, karena kami terus-menerus menghubungkan kota-kota baru.  visitor_cty_id = 23,32%, karena datacientists terkadang secara sadar menghilangkan kota yang kurang umum. <br><br>  Dalam kasus yang buruk, mungkin terlihat seperti ini: <br><img src="https://habrastorage.org/webt/mq/14/ak/mq14akuux2wuwsqqyif_02e8j-e.jpeg"><br><br>  Segera 3 properti, 100% dari nilai yang modelnya belum pernah lihat.  Paling sering ini terjadi karena penggunaan format selain yang digunakan dalam pelatihan, atau hanya kesalahan ketik dangkal. <br><br>  Sekarang dengan bantuan dasbor, kami mendeteksi dan memperbaiki situasi seperti itu dengan sangat cepat. <br><br><h2>  Showcase Pembelajaran Mesin <br></h2><br>  Mari kita bicara tentang masalah lain yang telah kita selesaikan.  Setelah kami membuat perpustakaan dan pemantauan klien, layanan mulai mendapatkan momentum dengan sangat cepat.  Kami benar-benar kewalahan dengan aplikasi dari berbagai bagian perusahaan: “Mari sambungkan model ini juga!  Mari perbarui yang lama! "  Kami baru saja menjahit, pada kenyataannya, setiap perkembangan baru telah berhenti. <br><br>  Kami keluar dari situasi tersebut dengan membuat <strong>kios swalayan untuk para ilmuwan data</strong> .  Sekarang Anda bisa pergi ke portal kami, yang sama yang kami gunakan pada awalnya hanya untuk pemantauan, dan secara harfiah dengan mengklik tombol memuat model ke dalam produksi.  Dalam beberapa menit dia akan bekerja dan memberikan prediksi. <br><br>  Ada satu masalah lagi. <br><img src="https://habrastorage.org/webt/mw/rp/l-/mwrpl-evpqktnfdk9l61shicboc.jpeg"><br><br>  Booking.com memiliki sekitar 200 tim TI.  Bagaimana cara memberi tahu tim di beberapa bagian perusahaan yang sama sekali berbeda bahwa ada model yang dapat membantu mereka?  Anda mungkin tidak tahu bahwa tim seperti itu ada.  Bagaimana cara mengetahui model apa yang ada dan bagaimana menggunakannya?  Secara tradisional, komunikasi eksternal dalam tim kami terlibat dalam PO (Pemilik Produk).  Ini tidak berarti bahwa kita tidak memiliki koneksi horisontal lain, hanya PO yang melakukan ini lebih dari yang lain.  Tetapi jelas bahwa pada skala seperti itu, komunikasi satu lawan satu tidak berskala.  Anda perlu melakukan sesuatu tentang itu. <br><br>  <strong>Bagaimana komunikasi dapat difasilitasi?</strong> <br><br>  Kami tiba-tiba menyadari bahwa portal, yang kami buat khusus untuk pemantauan, secara bertahap mulai berubah menjadi sebuah karya pembelajaran mesin di perusahaan kami. <br><img src="https://habrastorage.org/webt/p_/r8/ps/p_r8pst3fhoza0zyb-b5lercws8.jpeg"><br><br>  Kami telah memungkinkan para datacientists untuk menggambarkan model mereka secara rinci.  Ketika ada banyak model, kami menambahkan label topik dan area untuk pengelompokan yang nyaman. <br><img src="https://habrastorage.org/webt/54/d5/ft/54d5ftteqrf-siyozzgllalvuly.jpeg"><br><br>  Kami menautkan alat kami dengan ExperimentTool.  Ini adalah produk di dalam perusahaan kami yang menyediakan eksperimen A / B dan menyimpan seluruh sejarah eksperimen. <br><img src="https://habrastorage.org/webt/kh/bp/e2/khbpe2ifrcjlhkpaf9ihq-_3m0e.jpeg"><br><br>  Sekarang, bersama dengan deskripsi model, Anda juga dapat melihat apa yang telah dilakukan tim lain dengan model ini sebelumnya dan seberapa suksesnya.  Itu telah mengubah segalanya. <br><br>  Serius, ini telah mengubah cara kerja TI, karena bahkan dalam situasi di mana tidak ada ilmuwan data dalam tim, Anda dapat menggunakan pembelajaran mesin. <br><img src="https://habrastorage.org/webt/kf/4n/pn/kf4npnnbrtj1vh_1080whzeewbk.jpeg"><br><br>  Sebagai contoh, banyak tim menggunakan ini selama sesi curah pendapat.  Ketika mereka datang dengan beberapa ide produk baru, mereka cukup memilih model yang sesuai dengan mereka dan menggunakannya.  Tidak ada yang rumit diperlukan untuk ini. <br><br>  <strong>Apa yang tumpah bagi kita?</strong>  Saat ini, pada puncaknya, kami memberikan sekitar 200 ribu prediksi per detik, dengan latensi kurang dari 20-30 ms, termasuk round trip HTTP, dan penempatan lebih dari 200 model. <br><br>  Kelihatannya sangat mudah berjalan-jalan di taman: kami melakukan pekerjaan yang luar biasa, semuanya bekerja, semua orang senang! <br><img src="https://habrastorage.org/webt/do/-q/mg/do-qmg7z1boovf5kyag7ngbr2wy.jpeg"><br><br>  Ini, tentu saja, tidak terjadi.  Ada kesalahan.  Pada awalnya, misalnya, kami menanam bom waktu kecil.  Untuk beberapa alasan, kami berasumsi bahwa sebagian besar model kami akan menjadi sistem rekomendasi dengan vektor input yang berat, dan tumpukan Scala + Akka dipilih dengan tepat karena sangat mudah untuk mengatur perhitungan paralel dengan bantuannya.  Namun dalam kenyataannya, overhead untuk semua paralelisasi ini, untuk mengumpulkan bersama, ternyata lebih tinggi dari kemungkinan keuntungan.  Pada titik tertentu, 100 mesin kami hanya memproses 100.000 RPS, dan kegagalan terjadi dengan gejala yang cukup khas: Penggunaan CPU rendah, tetapi waktu tunggu habis. <br><img src="https://habrastorage.org/webt/ms/so/zz/mssozzq2glmsbn5o-g5au7dqjaa.jpeg"><br><br>  Kemudian kami kembali ke inti komputasi, ditinjau, membuat tolok ukur, dan sebagai hasil dari pengujian kapasitas, kami mengetahui bahwa untuk lalu lintas yang sama, kami hanya membutuhkan 4 mesin. ,    ,      -,       , ,   ,      100 000 RPS  4 . <br><br>    -  ,        ,        .  -       ,      ,    ,    . <br><br>   —    ,           .  ,    ID ,     .    ,    0. <br><img src="https://habrastorage.org/webt/cq/0b/6w/cq0b6wonigy8ltd8_jwilv7j62k.jpeg"><br><br>   —    ,   —     . <br><img src="https://habrastorage.org/webt/v-/qb/-u/v-qb-uqcn4kn09heh1z03rycgfm.jpeg"><br><br>   ,        .       ,    .    ,        —      ,   .  , ,  ,       - . <br><br>     ,           —  ID .        — 49-51%.      ,     .     ,     ,    .     ,     . <br><br><h2>  Rencana masa depan <br></h2><br><ul><li> Label based metrics <br></li></ul><br>     -           ,     .   Label based metrics,   precision  recall   . <br><br><ul><li> More tools &amp; integrations <br></li></ul><br>        ,     .     ,            Perl  Java,  ,  ,   .       Spark,        . <br><br><ul><li> Reusable training pipelines <br></li></ul><br>          . <br><br> ,   -.  ,       , ,    ,  , <strong>steaming</strong> —    -   ,       ,   . <br><br>      .     pipeline,    ,   .       ,    ,    . <br><br><ul><li> Async models <br></li></ul><br>     .    ,  <strong>,   50 ,    </strong> .   ,            .          ,      ,   . <br><br><h3> Start small <br></h3><br><blockquote>  ,   ,         Booking.com,    ,   ,     —   ! <br></blockquote><br>        ,  ,    MySQL. ,      ,      .    -    . B      .      ,     ,    -     —      . <br><br><blockquote>    ,      ? <br></blockquote><br><h3> Monitor <br></h3><br>     —      , -, . <strong> —     </strong> .   —   ,    .    , ,   ,  .      :  ,  . ,      ,       ,      — ! <br><br><h3> Organization footprint <br></h3><br>   ,    .         ,     . ,                . <br><br><h3> (Don't) Follow our steps <br></h3><br>   - , , ,    . , -     ,    .   ,     .   —     ,      ,  ?  ,  ,     ,    ? <br><br> <strong>, ,   !</strong> <br><br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HighLoad++ 2018,</a>   8  9   ,  <strong>135 </strong> ,      .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> <strong>9  -  </strong> .    ,      . <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id427673/">https://habr.com/ru/post/id427673/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id427661/index.html">Sportiduino - sistem penandaan elektronik untuk acara olahraga, bagian 3</a></li>
<li><a href="../id427663/index.html">Habro beruang dan kepiting</a></li>
<li><a href="../id427665/index.html">Timbangan cerdas terbaik (menurut Wareable)</a></li>
<li><a href="../id427669/index.html">Kontrol Rumah KNX: Pencahayaan</a></li>
<li><a href="../id427671/index.html">Sberbank dan Yandex secara resmi meluncurkan platform perdagangan Beru, Amazon versi Rusia</a></li>
<li><a href="../id427675/index.html">Tolong, makalah. Bagaimana jaringan saraf membantu kami memverifikasi pelanggan dan menangkap scammers</a></li>
<li><a href="../id427679/index.html">Mengabaikan batas pembelian bebas bea akan memakan waktu satu setengah tahun, jika keputusan dibuat</a></li>
<li><a href="../id427681/index.html">Seret dan Geser di RecyclerView. Bagian 1: ItemTouchHelper</a></li>
<li><a href="../id427683/index.html">Mengapa porting over integer overflow bukanlah ide yang baik</a></li>
<li><a href="../id427685/index.html">FSB terhadap Internet satelit dari operator asing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>