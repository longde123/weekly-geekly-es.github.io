<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§µüèΩ üíç üöó Deno: Node.JS ¬øse est√° acabando el tiempo? ‚ùï üåßÔ∏è üëéüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Han pasado unos 18 meses desde el lanzamiento interno de Deno, se ha publicado un lanzamiento preliminar, han aparecido varios art√≠culos sobre Habr√© y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deno: Node.JS ¬øse est√° acabando el tiempo?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476972/"><p><img src="https://habrastorage.org/webt/ph/0g/t5/ph0gt5rsvagsf2ysoqple3gg7oo.png"></p><br><p>  Han pasado unos 18 meses desde el lanzamiento interno de Deno, se ha publicado un lanzamiento preliminar, han aparecido varios art√≠culos sobre Habr√© y Ryan va a conferencias y habla sobre √©l.  Sin embargo, nunca he visto un an√°lisis reflexivo de este proyecto en ninguna parte, por alguna raz√≥n, todos est√°n limitados a traducir la documentaci√≥n ... </p><br><p> Bueno, intentemos hacerlo ahora.  Durante los √∫ltimos 5 a√±os he estado escribiendo en Node.JS, y la compa√±√≠a OneTwoTrip, donde estoy trabajando ahora, ha estado escribiendo proyectos en el nodo durante aproximadamente 9 a√±os (s√≠, escrib√≠ la historia aproximadamente <a href="https://habr.com/ru/post/459206/">9 a√±os en un monolito en el nodo</a> ).  Entonces el an√°lisis deber√≠a ser bueno.  Adem√°s, ya le dije en el <a href="https://axept.timepad.ru/event/1110942/">Nodo de Mosc√∫. JS Meetup 10</a> , y fue interesante.  Por cierto, si es m√°s conveniente para usted escuchar, no leer, entonces <a href="https://youtu.be/4414kjKYekM">puede</a> escuchar y mirar <a href="https://youtu.be/4414kjKYekM">aqu√≠</a> .  Mi segundo discurso, soy un tipo con una camisa rosa. </p><a name="habracut"></a><br><p>  Por extra√±o que parezca, para comprender de d√≥nde vino el proyecto y por qu√©, es necesario caer en el pasado.  As√≠ que arrojamos un poco de plutonio, levantamos las puertas de nuestro delorean y nos embarcamos en un viaje: mira los 10 a√±os importantes que hicieron de Node.JS lo que vemos ahora. </p><br><p><img src="https://habrastorage.org/webt/sv/f7/xa/svf7xamhyfsi4rzxzdkwxlkfum0.jpeg"></p><br><h2 id="vperyod-v-proshloe">  Adelante al pasado </h2><br><h3 id="2009">  2009 </h3><br><p>  Ryan Dahl anuncia Node.JS, <a href="https://www.youtube.com/watch%3Fv%3DztspvPYybIY">aqu√≠</a> est√°, la primera presentaci√≥n en JSConf 2009. </p><br><h3 id="2010">  2010 </h3><br><p>  Expreso, aparece socket.io: los ladrillos principales en este momento son casi cualquier servicio. </p><br><p>  ¬°Hay personas locas que realmente escriben c√≥digo de servidor en esto! </p><br><h3 id="2011">  2011 </h3><br><p>  Los grandes comienzan a coquetear con Node.JS, incluidos Uber y Linkedin. </p><br><p>  Lanzamiento de Npm 1.0. </p><br><p>  El nodo comienza a funcionar en Windows. </p><br><h3 id="2012">  2012 </h3><br><p>  Ryan se aleja del desarrollo de Node.JS.  <strong>Recuerda</strong>  Era 2012  As√≠ que Ryan es ciertamente el creador, y ha hecho mucho por el ecosistema, pero los siguientes 7 a√±os pasaron <strong>sin</strong> su participaci√≥n. </p><br><h3 id="2013">  2013 </h3><br><p>  Nodo en Paypal, Walmart, eBay. </p><br><p>  Aparece Koa: ¬ørecuerda cu√°ntas copias se rompieron sobre los generadores? </p><br><h3 id="2014">  2014 </h3><br><p>  Nodo en Netflix.  Los intentos est√°n comenzando a formalizar el proyecto en algo m√°s maduro, con un modelo abierto para administrar una junta asesora.  Hay un estancamiento t√©cnico que conduce a la bifurcaci√≥n de io.js. </p><br><h3 id="2015">  2015 </h3><br><p>  Trabaja en los errores.  La fusi√≥n de io.js y Node en √©xtasis bajo los auspicios de Node Foundation y el lanzamiento de Node 4. Debo decir que esta es la versi√≥n que considero la primera en la que realmente fue posible desarrollar algo.  Si alguien escribi√≥ en las versiones 0.xx, entonces recuerda sobre var, callback hell, un mont√≥n de bibliotecas diferentes para simplificar el trabajo asincr√≥nico (como step y async. S√≠, async no solo es async, sino tambi√©n una biblioteca npm). </p><br><h3 id="2016">  2016 </h3><br><p>  El incidente con el panel izquierdo, que sigue siendo malas lenguas, recuerda el ecosistema.  Cu√°ntos art√≠culos y ataques.  Bueno, los que odian odiar√°n.  Sin embargo, se han aprendido lecciones importantes de esto. </p><br><h3 id="2017">  2017 </h3><br><p>  A√±o de avance.  No mencionar√© todas las versiones del nodo y el aumento en el n√∫mero de instalaciones de m√≥dulos con npm, sin embargo, este a√±o el n√∫mero de servicios en Node.JS super√≥ los 8 millones, y el n√∫mero de instalaciones fue de 3 mil millones por semana.  Figuras absolutamente c√≥smicas que son dif√≠ciles de imaginar. </p><br><p>  La N-API tambi√©n apareci√≥, y Node.JS se bifurc√≥ nuevamente en Ayo.js.  Una historia muy divertida e instructiva sobre SJW: vale la pena escribir un art√≠culo por separado, por lo que no me detendr√© en ello, solo recomiendo leerlo cuando lo desee.  Solo para el prospoiler que el tenedor muri√≥ con seguridad. </p><br><h3 id="2018">  2018 </h3><br><p>  La segunda histeria masiva desde la izquierda, ahora sobre c√≥mo el flujo de eventos roba bitcoins.  Cientos de publicaciones sobre inseguridad del ecosistema.  Publicaciones de fantas√≠a sobre c√≥mo los paquetes npm roban informaci√≥n de la tarjeta de cr√©dito.  La comunidad est√° rociando barro como una manguera.  Debo decir que fue muy √∫til, y tambi√©n se sacaron conclusiones sobre ellos un poco m√°s tarde. </p><br><p>  Adem√°s, Ryan explota de repente las publicaciones de la comunidad sobre el hecho de que vale la pena escribir sobre servicios serios en Go, describe 10 cosas en Node de las que se arrepiente y anuncia a Deno, quien resuelve todos los problemas. </p><br><h3 id="2019">  2019 </h3><br><p>  Deno va a la versi√≥n de vista previa, aparecen un mont√≥n de art√≠culos en el centro y ahora est√° leyendo uno de ellos. </p><br><p><img src="https://habrastorage.org/webt/r2/df/4i/r2df4igff7g0bhkz6a0sl0hq_cs.jpeg"></p><br><h2 id="nazad-v-nastoyaschee">  Volver al presente </h2><br><p>  Espero que despu√©s de esta gira haya quedado m√°s claro qu√© tipo de puntos dolorosos ten√≠a el ecosistema y c√≥mo se desarroll√≥. Teniendo este contexto, es mucho m√°s f√°cil entender lo que est√° sucediendo ahora. </p><br><h2 id="10-veschey-v-nodejs-o-kotoryh-sozhaleet-rayan-dal">  10 cosas que Ryan Dahl lamenta de Node.JS </h2><br><p>  Desafortunadamente, no encontr√© de improviso el art√≠culo con la traducci√≥n del informe, por lo que los enumerar√© aqu√≠ brevemente y aqu√≠ comentar√©. </p><br><ol><li>  <strong>Falta de apoyo a las promesas al comienzo del viaje</strong> .  S√≠, hubiera sido m√°s simple si Ryan no hubiera cortado las promesas, consider√°ndolas una complicaci√≥n adicional que no despeg√≥ al comienzo del desarrollo del nodo.  El tiempo perdido para todo este infierno de devoluci√≥n de llamada es ciertamente una pena, pero en 2019, todas las bibliotecas sensatas tienen promesas como interfaz principal.  Adem√°s, incluso las bibliotecas del sistema finalmente ofrecen promesas. </li><li>  <strong>Seguridad de llamadas al sistema y llamadas de red.</strong>  Por un lado, s√≠, es bueno cuando todo est√° seguro.  Por otro lado, no est√° claro c√≥mo a este respecto el nodo result√≥ ser peor que cualquier otro medio ... </li><li>  <strong>Construye m√≥dulos nativos usando GYP.</strong>  S√≠, probablemente fue superfluo, pero qui√©n podr√≠a saber que el cromo la dejar√≠a.  De nuevo, si el cromo se ha ido, entonces podemos irnos tambi√©n ... </li><li>  <strong>Excesivo package.json.</strong>  <strong>NPM como registro de monopolio.</strong>  El argumento sobre package.json es un poco extra√±o.  Por ejemplo, Ryan dice que hay basura all√≠ como una licencia.  Pero si no estuviera all√≠, ¬øc√≥mo podr√≠a averiguar r√°pidamente las licencias de los m√≥dulos utilizados en su proyecto? El argumento sobre NPM es m√°s como la verdad, pero nos detendremos en esto con m√°s detalle m√°s adelante. </li><li>  <strong>M√≥dulos de nodos.</strong>  <strong>La resoluci√≥n compleja de dependencias no funciona como en un navegador.</strong>  Si, eso es correcto.  Las dependencias estables comenzaron a ponerse sin ning√∫n milagro solo en la versi√≥n 4-5 de npm.  Pero el mecanismo funciona y le permite hacer cosas incre√≠bles, por el momento est√° bien.  En cuanto a la compatibilidad con el navegador, no importa lo que haga, todav√≠a habr√° etapas de procesamiento del c√≥digo, como compilar y recopilar paquetes.  Por lo tanto, es poco probable que los m√≥dulos de nodo tengan alg√∫n significado en este contexto. </li><li>  <strong>Exigir sin extensi√≥n y su incertidumbre</strong> .  S√≠, probablemente mal.  Pero no lo suficiente como para mencionarlo ... </li><li>  <strong>index.js como complicaci√≥n innecesaria.</strong>  Tambi√©n punto demasiado trivial y aburrido para describir. </li></ol><br><p>  Por cierto, ten en cuenta que dije que Ryan lamenta 10 cosas, pero solo 7 puntos. Esto no es un error, revis√© su informe varias veces y las revisiones del informe.  O era una broma complicada sobre el tema del procesamiento de valores num√©ricos, o Ryan era demasiado t√≠mido para nombrar 3 puntos m√°s ... </p><br><p>  Pero est√° bien, entendimos los problemas y seguimos adelante.  L√≥gicamente, en Deno, Ryan decidi√≥ deshacerse de todos los problemas de Node.JS.  Veamos que le pas√≥. </p><br><h2 id="iz-chego-sostoit-deno">  En que consiste Deno </h2><br><ol><li>  Deno est√° escrito en Rust. </li><li>  Como un bucle de eventos, Deno usa Tokio, escrito nuevamente en Rust. </li><li>  Deno es compatible con Typecript fuera de la caja. </li><li>  Bueno, el c√≥digo se ejecuta utilizando el mismo V8, que captur√≥ todo el mundo. </li></ol><br><p>  A primera vista, suena bien, pero echemos un vistazo m√°s de cerca a estos puntos. </p><br><p>  <strong>√ìxido</strong> .  No, por favor, enti√©ndeme correctamente. Creo que Rust and Go son idiomas maravillosos, y estoy sinceramente contento de que lo sean.  Permiten escribir c√≥digo de bajo nivel m√°s r√°pido y seguro que en C ++.  Sin embargo, hay un matiz: en el mejor de los casos, no ser√° m√°s lento que la implementaci√≥n en C ++.  Por lo tanto, personalmente no veo el punto de escribir un an√°logo completo de los filamentos del sistema y un bucle de eventos; es poco probable que traiga alg√∫n beneficio real, ya que estas son cosas que en alg√∫n momento simplemente alcanzan el estado √≥ptimo y en realidad no se optimizan a√∫n m√°s. </p><br><p>  <strong>TypeScript</strong>  De nuevo, no tengo nada contra TS.  Un gran n√∫mero de empresas y desarrolladores lo usan, y ya ha demostrado su val√≠a.  Pero Deno simplemente oculta el transpilador en el binario y el c√≥digo transpilado en directorios especiales.  Es decir, todo es igual bajo el cap√≥, y no hay ning√∫n beneficio en esto, excepto por la est√©tica.  Pero hay una desventaja: la versi√≥n del transpilador est√° muy ajustada a la versi√≥n de Deno.  No estoy seguro de que esto sea bueno; es f√°cil imaginar una situaci√≥n en la que desee actualizar el transpiler o el tiempo de ejecuci√≥n.  Pero no ambos a la vez. </p><br><p>  Entonces, mientras nada sabroso es visible.  Vayamos m√°s lejos, miremos las caracter√≠sticas principales. </p><br><h2 id="osnovnye-otlichiya-deno-i-nodejs">  Las principales diferencias entre Deno y Node.JS </h2><br><h3 id="deno-ne-ispolzuet-npm-net-centralizovannogo-reestra-moduli-importiruyutsya-po-url-net-packagejson">  Deno no usa npm.  No hay registro central.  Los m√≥dulos se importan por URL.  No package.json. </h3><br><p>  Es decir, el c√≥digo se ve as√≠: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { test, runIfMain } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/mod.ts"</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { assertEquals } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/asserts.ts"</span></span>;

test(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{
  assertEquals(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>, <span class="hljs-string"><span class="hljs-string">"hello"</span></span>);
});
</code></pre><br>
<p>      ,    .        .  ,       .       :</p><br>
<ol>
<li>      .         ,    ,      . .  ,     :<br>
1.1.  ,      ,      .<br>
1.2.    ,       ,    ,       .<br>
1.3.       ,         .       2012 ,  npm  ,  ?     , " "?</li>
<li> ,  .      github, gitlab,    ,       .   .   .  npm , ,  ‚Äî   ,     ?       ‚Äî   .     Entropic, , ,   ‚Äî    .</li>
</ol><br>
<p>     .    ,     -       (       ) ‚Äî   ‚Ä¶        ‚Ä¶    2019? ,    ,   2012   Node.JS   shrinkwrap,   lock file?      ,   ?</p><br>
<p>  ,    URL ‚Äî     ,    ‚Äî     .</p><br>
<h3 id="vse-asinhronnye-operacii-v-deno-vozvraschayut-promise">    Deno  Promise.</h3><br>
<p>  , .   2012      ‚Äî          .        .     -  .</p><br>
<h3 id="deno-vsegda-zavershaet-rabotu-na-uncaught-errors">Deno     Uncaught Errors</h3><br>
<p>      .  Node.JS       .    .</p><br>
<h3 id="ispolzuyutsya-es-modules-a-ne-require"> ES Modules,   require</h3><br>
<p>, ,        .  ,  Node.JS     ES Modules...</p><br>
<h3 id="deno-trebuet-razresheniya-na-rabotu-s-setyu-faylami-i-peremennymi-okruzheniya">Deno      ,    .</h3><br>
<p> !  ‚Ä¶  ‚Äî     allow-read, allow-net, allow-run, allow-env.   - :</p><br>
<pre><code class="bash hljs">deno --allow-read=/etc https://deno.land/std/examples/cat.ts /etc/passwd</code></pre><br>
<p>      :</p><br>
<ol>
<li>        .</li>
<li> ,          --allow-all.</li>
<li>        .      .    ,                ,    .       .   ,     ‚Äî   .</li>
<li>  .    ,     ,      .      .  ,     2019       2012,      ‚Äî        ...</li>
</ol><br>
<h2 id="nashe-vremya-nashi-dni-npm"> .  . NPM.</h2><br>
<p><img src="https://habrastorage.org/webt/zk/gz/ei/zkgzeiqxfwe_gxqhgbndrhi3sem.png"></p><br>
<p>      ,    npm  2012 :</p><br>
<ol>
<li>  .      .</li>
<li>Lock file   .</li>
<li>  .    github, snyk   npm.</li>
<li>    .</li>
<li>  .</li>
<li>       ‚Äî , ,  .</li>
<li>  .</li>
</ol><br>
<p>   npm  ‚Ä¶ ,         .  ,  ,   ‚Ä¶   " ",        ‚Äî facebook, google, microsoft, gitlab‚Ä¶         ,  npm       .</p><br>
<h2 id="podvodya-itogi"> </h2><br>
<p>  :</p><br>
<ol>
<li>Rust ‚Äî  .</li>
<li>TypeScript ‚Äî  .</li>
<li>   URL  NPM ‚Äî    .</li>
<li>  ‚Äî  .</li>
<li>  .   .  .  !</li>
</ol><br>
<p><img src="https://habrastorage.org/webt/qw/v8/qc/qwv8qcrwbqujdxridpefbeet4-0.png"></p><br>
<p>         Deno.     " ,  " ‚Äî ,     ,  Deno   ‚Äî      .</p><br>
<p>     ,    ,    ,     ,       .    Deno  , ,      Moscow Node.JS Meetup ‚Äî       .        ‚Äî ,     -     ?</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/476972/">https://habr.com/ru/post/476972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../476948/index.html">Trayectorias cu√°nticas y con qu√© comen</a></li>
<li><a href="../476954/index.html">El trabajo no es un lobo, parte 3. Principiante: ¬øcrecer o sobrevivir?</a></li>
<li><a href="../476956/index.html">Angular sin zone.js: m√°ximo rendimiento</a></li>
<li><a href="../476958/index.html">Omega Red + PS1 Emulator = Kojima Genius</a></li>
<li><a href="../476970/index.html">EkbDotNet Meeting No. 1 - Ekaterimburgo se une a la comunidad DotNet.Ru</a></li>
<li><a href="../476974/index.html">Aprenda dise√±o web receptivo en 5 minutos</a></li>
<li><a href="../476976/index.html">6 errores de hablar en p√∫blico en conferencias</a></li>
<li><a href="../476980/index.html">Qu√© es el soporte legal: recomendaciones para un abogado de una empresa de TI</a></li>
<li><a href="../476982/index.html">Desarrollador en un sitio remoto: desde cero hasta un h√©roe</a></li>
<li><a href="../476984/index.html">Caso de Narcade: los desarrolladores turcos hablan sobre la localizaci√≥n de juegos m√≥viles y el mercado de juegos turco</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>