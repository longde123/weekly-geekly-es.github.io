<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë®‚Äçüëß‚Äçüëß üë®üèø‚Äçüè≠ ‚öîÔ∏è Carrinho para um datacenter üôéüèª ü§Ωüèæ üéâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como implantar bot Python Telegram usando Webhooks no Google Cloud Platform 
 Em vez do pref√°cio 



 - Escreva um bot de telegrama. Agora, at√© crian√ß...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Carrinho para um datacenter</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/462141/"><p>  <i>Como implantar bot Python Telegram usando Webhooks no Google Cloud Platform</i> </p><br><h2>  Em vez do pref√°cio </h2><br><img src="https://habrastorage.org/webt/oi/jo/yy/oijoyytwumhn8skry24krjfi8ke.jpeg" width="45%" height="45%" alt="imagem" align="left"><br><p>  <i>- Escreva um bot de telegrama.</i>  <i>Agora, at√© crian√ßas em idade escolar escrevem ‚Äù, ela disse.</i> <i><br></i>  <i>"E por que n√£o", pensei ent√£o ("Bem, bem", eu diria agora).</i> </p><br><p>  Sentamos em Bean e tomamos uma x√≠cara de caf√© e discutimos as possibilidades de testar id√©ias com modelos de intelig√™ncia artificial em um c√≠rculo pr√≥ximo e n√£o muito de amigos.  Lena, minha ex-colega e, em todos os aspectos, n√£o uma loira que acabara de se formar em magistratura, raciocinou da seguinte maneira.  Ao criar um bot, voc√™ pode economizar tempo e energia na interface, concentrando-se no n√∫cleo com o aprendizado de m√°quina.  Voc√™ deve admitir que era imposs√≠vel resistir a essa l√≥gica de ‚Äúdesportista, membro do Komsomol e simplesmente linda‚Äù naquela linda manh√£ de domingo.  Est√° resolvido.  Bot de telegrama significa bot de telegrama. </p><br><p>  Primeiro, entrei no Google e encontrei um grande n√∫mero de links "como fazer um bot em 30 minutos".  Isso me inspirou tanto que n√£o fui al√©m dos nomes e comecei a criar um kernel.  Na primeira aproxima√ß√£o, tive que escrever um sistema de processamento de consultas de pesquisa usando PNL (processamento de linguagem natural).  Escrever o kernel levou algum tempo bastante razo√°vel (no entanto, a experi√™ncia da Coca-Cola n√£o pode ser embebedada).  Alguns dias depois, eu estava pronto para agrupar a primeira vers√£o de teste do kernel em alguns outros comandos de envio e recebimento em algumas horas, executando tudo isso no Telegram para o benef√≠cio de meus amigos.  Mas l√° estava. </p><br><p>  De repente, um monte de problemas surgiu.  Depois de passar alguns dias pesquisando na Internet e conversando com colegas da loja, percebi que o √≥bvio n√£o √© √≥bvio e outra "instru√ß√£o" n√£o vai doer.  Ent√£o este artigo apareceu. </p><a name="habracut"></a><br><h2>  Em vez de entrada.  Bibliotecas </h2><br><p>  Existem v√°rias bibliotecas Python para bots de telegrama.  O pr√≥prio telegrama refere-se a tr√™s deles: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">python-telegram-bot</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pyTelegramBotAPI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AIOGram</a> .  Links para essas bibliotecas e exemplos em outros idiomas podem ser encontrados no site do Telegram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Obviamente, ainda existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a API do Telegram</a> .  No decorrer de minhas experi√™ncias, tentei duas variantes da API do Telegram e do pyTelegramBotAPI.  E enquanto parou no segundo. </p><br><p>  Em geral, as impress√µes das bibliotecas s√£o as seguintes.  Todos s√£o muito parecidos, o que n√£o √© surpreendente.  Python-telegram-bot, me pareceu, tem a melhor documenta√ß√£o de todas, embora o trabalho tenha parado (espero estar enganado).  Pode-se observar que o trabalho continua no pyTelegramBotAPI, uma nova funcionalidade aparece.  AIOGram parece mais jovem e mais verde.  No √∫ltimo, eu n√£o gostei, em vez da documenta√ß√£o nos webhooks, havia um link para o site do Telegram.  Mas tudo flui, tudo muda.  E a escolha final ainda precisa ser feita. </p><br><p>  N√£o voltaremos ao problema das bibliotecas neste artigo. </p><br><p>  Quanto ao c√≥digo do bot em si, como j√° observei, existem muitos manuais na Internet dedicados √† cria√ß√£o de programas simples e mais complexos.  Para os fins deste artigo, isso n√£o tem princ√≠pios.  Vamos dar uma defini√ß√£o definitiva de dois exemplos do github oficial do pyTelegramBotAPI: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bot de telegrama usando polling</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/webhook_examples/webhook_aio">Bot de telegrama usando webhook</a> . </li></ol><br><p>  Os t√≥picos mais controversos dos bots de telegrama s√£o certificados ssl, webhooks e diploing.  Em torno disso e concentre nossa aten√ß√£o.  Abaixo, darei instru√ß√µes passo a passo que permitir√£o que voc√™ coloque seu bot de telegrama em um dos melhores servi√ßos de nuvem do mundo da maneira mais simples e confi√°vel no menor tempo (pelo menos no primeiro ano).  A cria√ß√£o de certificados SSL, seu registro no Telegram e outros assuntos relacionados tamb√©m ser√£o destacados.  Se necess√°rio, explicarei por que usamos essa ou aquela op√ß√£o, essas ou aquelas equipes. <br></p><br><h2>  Polling vs Webhook </h2><br><img src="https://habrastorage.org/webt/tp/2b/ve/tp2bveonfyk-z9uqucefpqkg90k.jpeg" width="45%" height="45%" alt="imagem" align="left"><br><p>  Se n√£o fosse o confronto entre pesquisa versus webhook e algumas dificuldades (parcialmente inventadas) com webhook, este artigo n√£o seria necess√°rio.  Como isso √© de fundamental import√¢ncia, vejamos com mais detalhes. </p><br><p>  O que √© um bot e como ele se comunica com o Telegram?  Obviamente, um bot √© um programa que roda no seu computador ou servidor.  E a comunica√ß√£o com o Telegram ocorre enviando e recebendo mensagens.  E se tudo estiver claro com o envio de mensagens, uma op√ß√£o √© enviar (o endere√ßo "onde" sabemos).  Existem duas op√ß√µes para receber mensagens de bot do Telegram. </p><br><p>  A primeira √© uma pesquisa (tradu√ß√£o literal da palavra pesquisa) do servidor Telegram para mensagens do bot.  A segunda √© uma ‚Äúcaixa de correio‚Äù com um endere√ßo IP (o webhook pode ser traduzido como uma armadilha da web), para a qual as mensagens do servidor Telegram chegam. </p><br><p>  A analogia mais simples com o correio real.  Deixar correio (ag√™ncia postal) √© o servidor Telegram e voc√™ √© o seu bot.  Ent√£o, no primeiro caso (sondagem), voc√™ precisa ir ao correio para obter correspond√™ncia.  E se voc√™ deseja receber mensagens sem demora, n√£o precisar√° ir, mas literalmente corre sem parar.  Como entendemos, √© proibido viver no correio aguardando mensagens!  No segundo caso, voc√™ informa aos correios o seu endere√ßo residencial e aguarda uma correspond√™ncia calma em casa, tomando ch√° ou fumando bambu. </p><br><p>  Obviamente, para uma pessoa, a primeira op√ß√£o parece a mais grave.  Mas, falando entre n√≥s, se corrermos atr√°s de mensagens que enviamos um peda√ßo de ferro com um c√≥digo, n√£o devemos nos importar.  E assim seria, se n√£o fosse por um problema.  De tempos em tempos, o correio (o servidor Telegram) √†s vezes fecha para o almo√ßo e depois se move.  E em sua primeira op√ß√£o (pesquisa), ocorre uma trag√©dia, que no mundo real dos bots termina com pairar e fracassar. </p><br><p>  No segundo caso, a ‚Äúcaixa de correio‚Äù com o endere√ßo (webhook) n√£o acontece.  Porque nem voc√™, nem seu bot, n√£o v√£o a lugar algum, apenas esperam.  E voc√™ n√£o se importa para onde os correios se mudaram, porque o carteiro traz correspond√™ncia para voc√™. </p><br><p>  Assim, em termos de quantidade de c√≥digo (veja o link acima), a primeira op√ß√£o parece mais simples.  E o segundo √© mais l√≥gico, mas mais dif√≠cil.  Para sua implementa√ß√£o, voc√™ precisa obter um endere√ßo, confirmar sua autenticidade e aumentar o servidor da Web, para o qual as mensagens do Telegram chegar√£o. </p><br><p>  Obviamente, para a primeira op√ß√£o, √© poss√≠vel adicionar manipula√ß√£o de exce√ß√£o ao c√≥digo.  Por exemplo, se o email estiver fechado, aguarde e aguarde.  Mas a Internet afirma que todos os mesmos rob√¥s com pesquisas s√£o apenas para jogar. </p><br><p>  No come√ßo, n√£o acreditava que o problema fosse t√£o s√©rio.  E ele optou pela pesquisa, sugerindo que um dia eu a reescreverei nos webhooks.  Mas isso n√£o funcionou.  No meu computador dom√©stico com o macOS, o bot funcionou sem problemas por uma hora e duas (√© claro, com uma VPN) e n√£o travou.  Mas assim que o transferi para o servidor em nuvem no Linux, ele n√£o funcionou por 20 minutos.  Tentei resolver esse problema de maneiras e configura√ß√µes diferentes, mas recebi apenas um c√≥digo de erro diferente.  Selawy, este √© o Telegram.  Tendo perdido um dia, tive que pegar webhooks, sem demora.  No final, eu queria lan√ßar o bot no servidor agora, e n√£o em um ano. <br></p><br><h2>  Reescrevendo c√≥digo no webhook </h2><br><p>  <i>O webhook n√£o √© t√£o assustador quanto √© pintado.</i> </p><br><p>  Se voc√™ j√° possui um c√≥digo bot com sondagem, n√£o ser√° dif√≠cil copi√°-lo para o webhook.  Compare os c√≥digos dos exemplos da biblioteca pyTelegramBotAPI.  Voc√™ encontrar√° a interse√ß√£o do c√≥digo.  As linhas 13-25 do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeiro exemplo s√£o</a> iguais √†s linhas 56-67 do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/webhook_examples/webhook_aio">segundo exemplo</a> .  Esta √© uma unidade l√≥gica respons√°vel pelo processamento de comandos, mensagens e respostas.  Nesse caso, o exemplo √© muito simples, mas reflete a ess√™ncia principal. </p><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Handle '/start' and '/help' @bot.message_handler(commands=['help', 'start']) def send_welcome(message): bot.reply_to(message, """\ Hi there, I am EchoBot. I am here to echo your kind words back to you. Just say anything nice and I'll say the exact same thing to you!\ """) # Handle all other messages with content_type 'text' (content_types defaults to ['text']) @bot.message_handler(func=lambda message: True) def echo_message(message): bot.reply_to(message, message.text)</span></span></code> </pre> <br><p>  Assim, o bloco l√≥gico do bot deve ser mantido inalterado, e o restante deve ser alterado usando o c√≥digo banal de c√≥pia / c√≥pia fora do bloco l√≥gico do segundo exemplo (ou seja, as linhas de c√≥pia 1-55 e 70-87).  Se voc√™ observar o c√≥digo que est√° copiando, poder√° descobrir facilmente que, usando a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://aio">aiohttp,</a> seu bot instala um servidor http e come√ßa a escutar a porta alocada para essa porta, enquanto o m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ssl</a> Python √© respons√°vel pela criptografia e pelos certificados.  Al√©m do aiohttp, existem outras bibliotecas semelhantes, cujos exemplos podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Ent√£o  Temos um bot com webhook.  Resta fazer o upload para o servidor e executar, recebendo simultaneamente dados para preencher os valores vazios no c√≥digo API_TOKEN, WEBHOOK_HOST, WEBHOOK_PORT, WEBHOOK_SSL_CERT, WEBHOOK_SSL_PRIV.  Por tr√°s de cada um desses valores h√° um determinado procedimento com um significado secreto. <br></p><br><h2>  Registrar bot no Telegram </h2><br><p>  Vamos come√ßar com o token de bot.  Para obt√™-lo, acesse o messenger Telegram e conecte-se ao bot @BotFather.  Digite o comando ‚Äú/ newbot‚Äù.  Em resposta, o BotFather nos pede para inserir o nome e o nome de usu√°rio do nosso bot e envia um token cobi√ßado no formato ‚Äú712308912: DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova‚Äù (√© claro, voc√™ ter√° um nome diferente).  Salvamos o token, n√£o o mostramos a ningu√©m.  No c√≥digo, atribu√≠mos √† vari√°vel API_TOKEN. <br></p><br><h2>  Onde postar?  Heroku vs Google Cloud Platform </h2><br><p>  Algumas palavras sobre o tormento de escolher um servi√ßo de nuvem.  Existem muitos exemplos na Internet em que os rob√¥s de telegrama est√£o hospedados no Heroku.  Heroku √© uma plataforma PaaS (plataforma como servi√ßo).  Voc√™ carrega o c√≥digo no GitHub e, a partir da√≠, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Heroku</a> .  E seu bot come√ßa a funcionar imediatamente.  N√£o h√° necessidade de instalar o servidor, Python e bibliotecas, tudo j√° foi feito para voc√™.  Pelo menos, idealmente.  Essa solu√ß√£o tamb√©m foi recomendada por um de meus amigos.  Mas eu recusei. </p><br><p>  Pelo que entendi, a principal mensagem das recomenda√ß√µes do Heroku em muitos manuais de "bot de 30 minutos" √© a disponibilidade de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plano tarif√°rio gratuito</a> no Heroku.  Mas, se voc√™ observar atentamente, esse plano √© muito limitado e n√£o permitir√° a implanta√ß√£o de um bot gratuito que funcionaria dia e noite. </p><br><p>  Ao contr√°rio do Heroku, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Cloud Platform</a> (GCP) oferece um ano inteiro de trabalho gratuito em todos os servi√ßos dentro de US $ 300.  Por esse valor para o ano, muitas coisas que voc√™ pode tentar.  Na minha opini√£o, este √© um presente maravilhoso, especialmente para quem est√° envolvido em ci√™ncia de dados.  E, √© claro, o GCP tamb√©m √© PaaS, uma lista completa de servi√ßos est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Existem solu√ß√µes sem servidor, como no Heroku.  Eu escolhi um caminho mais conservador para ter mais controle no futuro, a saber, a solu√ß√£o de servidor do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Compute Engine</a> no GCP. <br></p><br><h2>  Plataforma de nuvem do Google </h2><br><p>  <i>Projeto, inst√¢ncia, ip est√°tico, porta</i> </p><br><h4>  Crie um projeto e servidor </h4><br><p>  Vamos ao GCP, selecione "Come√ßar de gra√ßa" e siga as instru√ß√µes.  Se fizermos tudo certo, teremos uma conta no valor de US $ 300 e at√© o primeiro projeto criado.  Selecionamos este projeto ou criamos outro no menu superior, o que n√£o √© dif√≠cil.  E depois v√° para a guia "Compute Engine / VM Instance" no menu lateral que √© aberto. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hw/mu/dn/hwmudnnoog3fhutxopij3vmdaeo.png" width="60%" height="60%" alt="imagem"></div><br><p>  Clique em "CREATE INSTANCE" e selecione a configura√ß√£o do servidor, por exemplo, conforme mostrado na captura de tela abaixo.  Voc√™ pode escolher uma micro configura√ß√£o e, em seguida, custar√° apenas US $ 4 por m√™s.  Voc√™ tamb√©m pode embaralhar, os fundos ser√£o debitados de um presente do Google por US $ 300. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ah/u9/h9/ahu9h9oqvk0xvbltw08odqqkium.png" alt="imagem"></div><br><p>  Como resultado, chegamos. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s_/cv/x_/s_cvx_fytblpl3hbpwx48gdmrj8.png" alt="imagem"></div><br><p></p><br><h4>  Tornando o endere√ßo IP est√°tico </h4><br><p>  Na coluna "IP externo", vemos o endere√ßo que direcionamos para a vari√°vel WEBHOOK_HOST em nosso bot (neste exemplo, √© 35.224.231.90).  Mais tarde, receberemos um certificado SSL neste endere√ßo.  Se voc√™ pretende usar o bot por um longo per√≠odo de tempo (mesmo se alterar o servidor no GCP), recomendo que este endere√ßo IP esteja est√°tico para salv√°-lo ao alternar de uma inst√¢ncia para outra.  Isso √© feito na se√ß√£o "VPC / endere√ßos IP externos". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ws/08/f7/ws08f71j4vink6sredri7sn5k7w.png" width="60%" height="60%" alt="imagem"></div><br><p>  Alteramos o campo "Tipo" de "Ef√™mero" para "Est√°tico", atribuindo um nome a um endere√ßo est√°tico para que voc√™ n√£o se confunda mais tarde se tiver uma d√∫zia de endere√ßos IP posteriormente. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/sy/ug/vdsyugaqmpgjrcnn_v9lniyrp2y.png" alt="imagem"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pu/fh/i0/pufhi0ermqi0jckodbpyx_qyjdu.png" alt="imagem"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yg/ly/ln/yglylnfmm7oclpudssp7sycu8a4.png" width="60%" height="60%" alt="imagem"></div><br><p></p><br><h4>  Porta aberta </h4><br><p>  Para que o webhook funcione corretamente, precisamos abrir a porta na qual o Telegram bater√°.  Atualmente (julho de 2019), o Telegram suporta as seguintes portas: 443, 80, 88, 8443. Mais detalhes, voc√™ pode ver o guia completo do Telegram nos webhooks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Abriremos a porta 8443. Em nosso bot, esse valor j√° est√° atribu√≠do √† vari√°vel WEBHOOK_PORT.  Resta configurar a regra de firewall no GCP para nossa inst√¢ncia do webhook-bot.  Como fazer isso?  V√° para a guia "Regras da VPC / Firewall" e clique em "CRIAR REGRA DO FIREWALL". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gr/4i/f5/gr4if5xforj5psjgljivxmru8y4.png" width="60%" height="60%" alt="imagem"></div><br><p>  E crie uma regra, conforme mostrado na captura de tela abaixo. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ne/gt/jl/negtjln_cf8mbb0sledqn5wvvkg.png" alt="imagem"></div><br><p></p><br><h4>  N√≥s nos conectamos ao servidor, instalamos bibliotecas </h4><br><p>  Isso conclui a configura√ß√£o b√°sica do servidor no Google Cloud Platform.  Temos uma conta no GCP, criamos um projeto, criamos um servidor (inst√¢ncia) baseado no Ubuntu 19.04 como parte do projeto, reservamos um endere√ßo IP e abrimos a porta 8443. </p><br><p>  Ainda resta pouco.  Espero que possamos fazer sem uma descri√ß√£o detalhada da parte de instala√ß√£o do Python e das bibliotecas.  Portanto, brevemente. </p><br><p>  V√° para a guia GCP "Compute Engine / VM Instance" e, no campo "Connect", clique em "SSH". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s_/cv/x_/s_cvx_fytblpl3hbpwx48gdmrj8.png" alt="imagem"></div><br><p>  Um terminal deve abrir no seu computador local com acesso √† inst√¢ncia no GCP.  Este √© um ambiente normal do Ubuntu.  Instale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conda</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">virtualenv</a> , crie um ambiente virtual e instale o Python 3 com as principais bibliotecas.  Al√©m disso, instalamos as bibliotecas necess√°rias para a opera√ß√£o do nosso bot: <br>  pip install pyTelegramBotAPI <br>  pip install aiohttp </p><br><p>  Ap√≥s a instala√ß√£o, n√£o feche o terminal, precisamos dele. <br></p><br><h2>  Obtendo um certificado SSL autoassinado para IP </h2><br><p>  Devo dizer que na Internet o t√≥pico dos certificados SSL para o Telegram √© um horror s√≥lido.  Como Mikhail Lermontov disse a esse respeito: </p><br><p>  <i>‚ÄúCavalos misturados, pessoas,</i> <i><br></i>  <i>E voleios de mil armas</i> <i><br></i>  <i>Fundido em um longo uivo ... "</i> </p><br><p>  Se voc√™ ler o que eles escrevem na Internet, acontece que, se o bot n√£o funcionar com webhooks, os certificados recebidos incorretamente ser√£o os culpados.  E, no entanto, eles n√£o podem ser registrados no ip.  Em geral, o Telegram n√£o aceita certificados autoassinados.  E mesmo que ele aceite o certificado, isso n√£o significa que seu bot funcionar√° e o Telegram nem enviar√° um erro. </p><br><p>  Essas s√£o hist√≥rias de horror.  Por que estou escrevendo isso?  Al√©m do fato de que essas hist√≥rias de horror me custaram outro dia perdido, eu at√© tive que pular assistindo "O Hobbit".  Meu bot inicialmente se recusou a trabalhar em webhooks.  Isso aconteceu devido aos meus erros ao coloc√°-lo no servidor (ent√£o eu n√£o sabia disso).  Mas, devido √†s hist√≥rias de horror acima, eu estava procurando o problema que n√£o estava l√°, focando em resolver problemas com certificados SSL que n√£o estavam l√°.  Mas ganhei uma experi√™ncia inestim√°vel.  Registrei certificados para os pr√≥ximos anos, tanto em nomes de dom√≠nio quanto em ip, autoassinados e pagos, na forma de dois arquivos e na forma de quatro.  Eu descobri quais certificados entram e como fazer cadeias deles.  Espero que isso seja √∫til. </p><br><p>  Uma coisa √© boa, voc√™ n√£o precisa pisar neste ancinho, eu j√° fiz isso por voc√™.  Admito plenamente que, como n√£o h√° "fuma√ßa sem fogo", havia uma raz√£o para tais hist√≥rias de horror.  Mas para o dia atual, a situa√ß√£o parece ter se acalmado. </p><br><p>  No momento, receberemos um certificado SSL da maneira mais conveniente para n√≥s, nomeadamente no IP (e n√£o no nome de dom√≠nio), autoassinado (ou seja, de gra√ßa) e custando apenas uma linha sem sites. </p><br><p>  No terminal (que ainda n√£o fechamos), prepare um diret√≥rio separado no qual salvaremos o arquivo de certificado e a chave privada.  V√° para este diret√≥rio e chame o seguinte comando a partir dele. </p><br><pre> <code class="bash hljs">$ openssl req -newkey rsa:2048 -sha256 -nodes -keyout url_private.key -x509 -days 3560 -out url_cert.pem</code> </pre> <br><p>  Em resposta, voc√™ receber√° solicita√ß√µes para preencher v√°rios campos simples.  Preencha-os no exemplo abaixo.  Mas, √© claro, indique corretamente o c√≥digo do seu pa√≠s, regi√£o, cidade, nome da empresa (se houver), substitua seu IP e seu email. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wi/q3/fi/wiq3fixoya8owjmt_-hafyn3urw.png" alt="imagem"></div><br><p>  Como resultado, voc√™ obter√° dois arquivos no diret√≥rio a partir do qual voc√™ executou este comando.  Um arquivo url_cert.pem √© o seu certificado e a segunda chave privada √© url_private.key.  No c√≥digo bot, as vari√°veis ‚Äã‚ÄãWEBHOOK_SSL_CERT e WEBHOOK_SSL_PRIV s√£o alocadas para elas, respectivamente.  N√£o se esque√ßa de inserir caminhos de acesso a esses arquivos junto com os nomes.  Baixe c√≥pias e guarde-as para refer√™ncia futura. </p><br><p>  N√£o feche o terminal. <br></p><br><h2>  Registrar webhook no Telegram </h2><br><h4>  Registrando um webhook com um certificado autoassinado </h4><br><p>  Talvez esta seja a parte mais interessante de "O que o Telegram dir√°?".  Sem pre√¢mbulos, basta dirigir o seguinte comando ao seu terminal.  Substitua o endere√ßo IP pelo seu; n√£o toque na porta 8443.  Insira o token recebido do BotFather entre "/ bot" e "/ setWebhook") em vez de YOUR-TOKEN.  Execute o comando no diret√≥rio em que os certificados est√£o armazenados. </p><br><pre> <code class="bash hljs">$ curl -F <span class="hljs-string"><span class="hljs-string">"url=https://35.224.231.90:8443"</span></span> -F <span class="hljs-string"><span class="hljs-string">"certificate=@url_cert.pem"</span></span> https://api.telegram.org/botYOUR-TOKEN/setWebhook</code> </pre> <br><p>  Se tudo estiver correto, voc√™ receber√° no terminal uma mensagem concisa do Telegram de que o webhook est√° instalado. </p><br><h4>  Registrando um webhook com o certificado "correto" </h4><br><p>  Se voc√™ n√£o tiver um certificado autoassinado, poder√° instalar o webhook com o seguinte comando diretamente do navegador. </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setWebhook</span></span></span><span class="hljs-function">?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">url</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">https</span></span></span><span class="hljs-function">://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">YOUR.DOMAIN</span></span></span><span class="hljs-function">:8443/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">YOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span></span></code> </pre> <br><p>  Observe que seu token √© indicado duas vezes.  Al√©m disso, √© importante que YOUR.DOMAIN seja especificado conforme mostrado no certificado.  Por exemplo.  Registrei o dom√≠nio mydreem.com, o registrador me emitiu um certificado SSL para o dom√≠nio www.mydreem.com.  Em vez de YOUR.DOMAIN, voc√™ precisa especificar o √∫ltimo www.mydreem.com. </p><br><h4>  Como verificar se o webhook est√° instalado? </h4><br><p>  Voc√™ pode verificar se o webhook est√° instalado no navegador com o seguinte comando: </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWebhookInfo</span></span></span></span></code> </pre> <br><p>  Isso funciona para todos os casos.  Em resposta, voc√™ deve obter algo assim, caso o webhook esteja instalado e o bot esteja executando: </p><br><pre> <code class="dos hljs">{"ok":true,"result":{"url":"https://<span class="hljs-number"><span class="hljs-number">35</span></span>.<span class="hljs-number"><span class="hljs-number">224</span></span>.<span class="hljs-number"><span class="hljs-number">231</span></span>.<span class="hljs-number"><span class="hljs-number">90</span></span>:<span class="hljs-number"><span class="hljs-number">8443</span></span>/<span class="hljs-number"><span class="hljs-number">712308912</span></span>:DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova/","has_custom_certificate":true,"pending_update_count":<span class="hljs-number"><span class="hljs-number">0</span></span>,"max_connections":<span class="hljs-number"><span class="hljs-number">40</span></span>}}</code> </pre> <br><p>  Ou assim, quando o webhook est√° instalado, mas o bot n√£o funciona (n√£o est√° em execu√ß√£o): </p><br><pre> <code class="dos hljs">{"ok":true,"result":{"url":"https://<span class="hljs-number"><span class="hljs-number">35</span></span>.<span class="hljs-number"><span class="hljs-number">224</span></span>.<span class="hljs-number"><span class="hljs-number">231</span></span>.<span class="hljs-number"><span class="hljs-number">90</span></span>:<span class="hljs-number"><span class="hljs-number">8443</span></span>/<span class="hljs-number"><span class="hljs-number">712308912</span></span>:DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova/","has_custom_certificate":true,"pending_update_count":<span class="hljs-number"><span class="hljs-number">2</span></span>,"last_error_date":<span class="hljs-number"><span class="hljs-number">1564506964</span></span>,"last_error_message":"Connection refused","max_connections":<span class="hljs-number"><span class="hljs-number">40</span></span>}}</code> </pre> <br><h4>  Como redefinir o webhook? </h4><br><p>  √Äs vezes, pode ser necess√°rio alterar o certificado do bot, por exemplo, no caso de mudar para outro servidor (dom√≠nio).  Em seguida, o token permanece e o certificado √© alterado (o webhook √© reinstalado).  Ou torna-se necess√°rio executar o bot n√£o no webhook, mas na pesquisa (se o webhook estiver instalado, a pesquisa n√£o funcionar√°).  Nos dois casos, um comando que "redefine" o webhook √© √∫til: </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setWebhook</span></span></span></span></code> </pre> <br><p>  Agora est√° tudo pronto para carregar o c√≥digo no servidor e iniciar o bot.  Se voc√™ √© um mestre do jogo na linha de comando com dez dedos, n√£o ser√° dif√≠cil para voc√™.  E em um minuto seu bot funcionar√°.  Caso contr√°rio, a pr√≥xima se√ß√£o ajudar√° a facilitar um pouco a tarefa de carregar / baixar arquivos no servidor e gerenci√°-los. <br></p><br><h2>  Cloud Shell ou "Drop Dead Beautiful" </h2><br><p>  √â dif√≠cil para mim, como pessoa longe da administra√ß√£o do sistema, entender por que, na era do triunfo da intelig√™ncia artificial, ainda nos comunicamos com os servidores de linha de comando como nos velhos tempos no computador da UE / SM.  Suponha que haja raz√µes desconhecidas para meros mortais.  Ent√£o, um fen√¥meno como o Cloud Shell no GCP deve ser aceito com grande alegria.  Essa ferramenta permite, embora com muletas, mas para facilitar um pouco o trabalho dos n√£o iniciados.  Embora possa causar danos se voc√™ n√£o conhecer algumas das nuances. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Cloud Shell</a> fornece acesso aos recursos da nuvem na linha de comando diretamente do navegador.  Voc√™ pode <del>  f√°cil </del>  gerencie seus projetos e recursos sem instalar o Google Cloud SDK ou outras ferramentas em seu sistema (as duas √∫ltimas frases s√£o retiradas da p√°gina deles, elas s√£o "facilmente" riscadas por mim).  Como gerenciar seus projetos a partir da linha de comando pode ser encontrado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Mas o principal para n√≥s n√£o √© isso.  Inicie o Cloud Shell (veja o gif abaixo, retirado do google). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/si/7p/yh/si7pyhijurtp0i4ta3brjsee8yk.gif" alt="imagem"></div><br><p>  Voc√™ est√° conectado ao Cloud Shell.  Agora, se voc√™ clicar no bot√£o em forma de l√°pis, o "editor de texto da vers√£o beta" ser√° aberto. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jy/op/rt/jyoprt3zetf5mgzyoykqqwzfojs.png" width="45%" height="45%" alt="imagem"></div><br><p>  No menu "Ajuda / Sobre", voc√™ pode descobrir que √© "theia-editor-for-cloudshell-preview 0.0.1".  No final do artigo, n√£o vou me aprofundar nos recursos de trabalho com este editor.  Vou destacar apenas pontos-chave.  Este n√£o √© apenas um editor para v√°rios idiomas (verificado apenas com Python), mas tamb√©m um gerenciador de arquivos.  Voc√™ pode organizar facilmente o compartilhamento de arquivos entre o Cloud Shell e o computador local.  Voc√™ pode transferir arquivos e diret√≥rios dentro do espa√ßo do Cloud Shell com o mouse. </p><br><p>  Observe que n√£o escrevi em nenhum lugar acima do que, usando o editor, voc√™ pode editar e gerenciar arquivos no seu servidor (inst√¢ncia).  Mas mesmo isso √© suficiente para facilitar nossa vida.  E mais sobre isso abaixo.  E agora vou lhe contar uma coisa importante sobre o Cloud Shell.  Isso deve ser entendido para n√£o entrar na bagun√ßa, como aconteceu comigo. </p><br><p>  O Cloud Shell √© um servidor baseado no Debian com 5 GB de espa√ßo em disco e 1.7 GB de RAM.  Alguns softwares j√° est√£o pr√©-instalados nele (incluindo Python).  O Cloud Shell pode ser facilmente confundido com a sua inst√¢ncia, instale o condda nele, crie um ambiente e execute o bot.  E, se o bot estiver pesquisando, ele funcionar√°.  Se estiver no webhook, n√£o funcionar√°, porque todas as portas no Cloud Shell est√£o fechadas!  E quantas n√£o abrem portas na inst√¢ncia, elas n√£o aparecer√£o no Cloud Shell. </p><br><p>  Devido √† minha inexperi√™ncia juvenil e descuido, ca√≠ nessa armadilha e tentei entender por um longo tempo por que o Telegram n√£o v√™ meu bot com um webhook.  Ent√£o fiquei muito chateado.  Mas a esposa se aqueceu e os filhos tranquilizaram, e este artigo apareceu. </p><br><p>  A prop√≥sito, o Cloud Shell existe fora do espa√ßo e do tempo (uma piada pr√≥xima √† verdade).  Se voc√™ excluir todas as inst√¢ncias e projetos de sua casa, seu Cloud Shell continuar√° existindo por mais 120 dias com tudo o que voc√™ carregou.  N√£o confunda isso com o backup de seus servidores. </p><br><p>  Ent√£o  Previsto, depois armado.  E agora podemos falar sobre comodidades e conhecer alguns comandos √∫teis. </p><br><p>  Por exemplo, se voc√™ quiser usar o Cloud Shell como um terminal para acessar seu servidor (por exemplo, webhook-bot), ser√° necess√°rio ativar sua inst√¢ncia na linha de comando: </p><br><pre> <code class="bash hljs">$ gcloud compute ssh webhook-bot --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span></code> </pre> <br><p>  Depois disso, voc√™ se encontra na linha de comando do seu servidor.  Voc√™ pode retornar ao Cloud Shell com o comando "exit".  Suponha que voc√™ queira copiar alguns arquivos do Cloud Shell para uma inst√¢ncia.  Para fazer isso, no prompt de comando do Cloud Shell (n√£o uma inst√¢ncia), digite o seguinte comando: </p><br><pre> <code class="bash hljs">$ gcloud compute scp --recurse ~/telebot/my_favorite_robot.py webhook-bot:~/telebot --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span></code> </pre> <br><p>  Se voc√™ alterar a fonte com o destino, ocorrer√° a c√≥pia da inst√¢ncia para o Cloud Shell.  No exemplo abaixo, copiamos o arquivo ‚Äúex1.py‚Äù do diret√≥rio ‚Äú/ examples‚Äù do servidor ‚Äúwebhook-bot‚Äù para o diret√≥rio ‚Äú/ telebot2‚Äù do Cloud Shell: </p><br><pre> <code class="bash hljs">$ gcloud compute scp --recurse webhook-bot:~/examples/ex1.py --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span> ~/telebot2</code> </pre> <br><p>  Esses e outros comandos de compartilhamento de arquivos podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Voc√™ pode trocar n√£o apenas arquivos, mas tamb√©m diret√≥rios inteiros.  Como resultado, obtemos o seguinte esquema que facilita nossa vida.  No computador local, copiamos os arquivos clicando em alguns bot√µes do mouse no Cloud Shell atrav√©s do gerenciador de arquivos do editor ‚Äútheia-editor-for-cloudshell-preview 0.0.1‚Äù.  E ent√£o redirecionamos isso para o nosso servidor (inst√¢ncia) com a linha de comando.  Se precisarmos editar algo rapidamente, podemos faz√™-lo no mesmo editor no Cloud Shell e fazer upload de arquivos com o mesmo comando para o servidor.  Acontece rapidamente. </p><br><p>  Acredito que existem maneiras mais elegantes e convenientes de trocar e gerenciar arquivos para um servidor em nuvem no GCP em todos os aspectos (sem a instala√ß√£o de programas adicionais no computador local).  Talvez atrav√©s do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cloud Storage</a> .  Francamente, passei apenas algumas horas pesquisando e testando esse problema.  Portanto, ficaria muito grato se voc√™ compartilhar suas id√©ias ou solu√ß√µes de trabalho nos coment√°rios. </p><br><p>  Ent√£o  Carregamos os arquivos no servidor (inst√¢ncia).  E, se voc√™ ainda n√£o lan√ßou o bot, √© hora de fazer isso acessando o terminal do servidor, ativando o ambiente virtual necess√°rio e digitando um comando como ‚Äúpython my_webhook_bot.py‚Äù.  Tudo deve funcionar.  Para que o bot continue funcionando quando o terminal estiver fechado, ele precisa ser iniciado em segundo plano.  Por exemplo, "nohup python my_webhook_bot.py &amp;".  A quest√£o de como tirar o processo de segundo plano e conclu√≠-lo, deixo para voc√™, a menos que voc√™ j√° saiba. <br></p><br><h2>  Conclus√£o </h2><br><p>  Espero que este artigo tenha sido √∫til para voc√™, ajudou a economizar tempo e a evitar os erros que cometi ao escrever um bot de telegrama com webhooks e coloc√°-lo no servidor.  Tudo o que foi descrito no artigo, eu passei por mim e, no momento em que escrevi, de julho a agosto de 2019, funcionou exatamente assim.  Quero expressar uma gratid√£o especial a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mikhail Krutikov</a> por navegar em conjunto nas extens√µes dos servi√ßos do GCP e por ajudar a realizar uma s√©rie de verdades importantes.  Estou aberto a perguntas, discuss√µes e serei grato pelo conselho nos coment√°rios deste artigo.  Ou sinta-se √† vontade para me escrever no Telegram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@Eduard_Lanchev</a> . </p><br><p>  At√© o √∫ltimo momento, estava em aberto a quest√£o de saber se eu deveria dar um link para o meu bot de telegrama.  Amigos me convenceram de que valia a pena.  Voc√™ pode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conversar</a> com meu bot em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@AelitaSoccerBot</a> .  O bot est√° no come√ßo da jornada e ainda resta muito trabalho a ser feito.  Portanto, escreva, se algo estiver errado, escreva se voc√™ deseja compartilhar sua experi√™ncia ou dar conselhos.  Minha gratid√£o n√£o ter√° limites dentro de limites razo√°veis.  <em>Nota</em>  <em>At√© o final de 2019, o bot foi desativado devido √† falta de tempo para seu suporte e desenvolvimento.</em> </p><br><p>  E, no final, gostaria de desejar sucesso a todos os botovods e meus colegas, datacientistas! <br></p><br><h4>  Links √∫teis </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API de bot de telegrama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Exemplos de c√≥digo de bot</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">python-telegram-bot</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pyTelegramBotAPI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AIOGram</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ssl - wrapper TLS / SSL para objetos de soquete</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Heroku</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Plataforma de nuvem do Google</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mecanismo de computa√ß√£o do Google</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia Maravilhoso de Marvin para Todas as Coisas Webhook</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conda</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Virtualenv</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Concha de nuvem</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A ferramenta de linha de comando gcloud compute</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transferindo arquivos usando a ferramenta de linha de comando gcloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento na nuvem do Google</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462141/">https://habr.com/ru/post/pt462141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462125/index.html">10 passos para yaml zen</a></li>
<li><a href="../pt462127/index.html">Semin√°rio ‚ÄúPara si mesmo um auditor: auditoria de um projeto de data center e testes de aceita√ß√£o‚Äù, 15 de agosto, Moscou</a></li>
<li><a href="../pt462131/index.html">Atrav√©s de espinhos para um jogo dos sonhos</a></li>
<li><a href="../pt462133/index.html">Mais uma vez sobre Chipre, as nuances da vida</a></li>
<li><a href="../pt462135/index.html">Parceria estrat√©gica: por que a ServiceNow se une a um grande provedor de nuvem</a></li>
<li><a href="../pt462145/index.html">Por que demora alguns dias para cancelar a inscri√ß√£o?</a></li>
<li><a href="../pt462147/index.html">Trabalhando com navega√ß√£o ao refatorar um legado do projeto no React Native</a></li>
<li><a href="../pt462149/index.html">Acesso ao modo de restri√ß√£o para acess√≥rios em dispositivos iOS e como ignor√°-lo</a></li>
<li><a href="../pt462151/index.html">5 principais distribui√ß√µes de Kubernetes</a></li>
<li><a href="../pt462153/index.html">Unity Interactive Shaders de Mapa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>