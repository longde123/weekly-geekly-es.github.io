<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐พโ๐ซ ๐ค ๐ก Skaffold Review for Kubernetes Development ๐ฉ๐ฟโ๐ป ๐ ๐๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฐ ุนุงู ููุตู ุ ูู 5 ูุงุฑุณ 2018 ุ ุฃุตุฏุฑุช Google ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ูุดุฑูุนูุง ุงูููุชูุญ ุงููุตุฏุฑ ูู CI / CD ุงูุฐู ูุฏุนู Skaffold ุ ูุงูุฐู ูุงู ูุฏูู ุฅูุดุงุก "ุชุทููุฑ ุจุณูุท ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Skaffold Review for Kubernetes Development</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/474692/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/b3/-g/81/b3-g81qlbnrcybqb5rbrojnibyw.png"><br><br>  ููุฐ ุนุงู ููุตู ุ ูู 5 ูุงุฑุณ 2018 ุ ุฃุตุฏุฑุช Google ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ูุดุฑูุนูุง ุงูููุชูุญ ุงููุตุฏุฑ ูู CI / CD ุงูุฐู ูุฏุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Skaffold</a> ุ ูุงูุฐู ูุงู ูุฏูู ุฅูุดุงุก "ุชุทููุฑ ุจุณูุท ููุงุจู ููุชูุฑุงุฑ ูู Kubernetes" ุญุชู ูุชููู ุงููุทูุฑูู ูู ุงูุชุฑููุฒ ุจุดูู ุฎุงุต ุนูู ุงูุชุทููุฑ ุ ู ููุณ ุนูู ุงูุฅุฏุงุฑุฉ.  ูุง ูุฏ ูููู ููุถุน ุงูุชูุงู ุณูุงูููุฏุ  ููุง ุงุชุถุญ ุ ูุฏูู ุจุนุถ ุงูุฃูุฑุงู ุงูุฑุงุจุญุฉ ูู ุฌุนุจุชู ุ ูุจูุถู ุฐูู ูููู ุฃู ูุตุจุญ ุฃุฏุงุฉ ูููุฉ ููุทูุฑ ุ ูุฑุจูุง ูููุฏุณ ุชุดุบูู.  ุณูุชุนุฑู ุนูู ุงููุดุฑูุน ููุฏุฑุงุชู. <a name="habracut"></a><br><br>  <i><b>ููุญูุธุฉ</b> : ุจุงูููุงุณุจุฉ ุ ุชุญุฏุซูุง ุจุงููุนู ููุชุฑุฉ ูุฌูุฒุฉ ุนู ุณูุงูููุฏ ูู ูุธุฑุชูุง ุงูุนุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฃุฏูุงุช ูููุทูุฑูู</a> ุงูุฐูู ุชุฑุชุจุท ุญูุงุชูู ูุน Kubernetes.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุธุฑูุฉ.  ุงูุบุฑุถ ูุงูููุฒุงุช </h2><br>  ูุจุตูุฉ ุนุงูุฉ ุ ูุญู Skaffold ูุดููุฉ ุงูุชุดุบูู ุงูุชููุงุฆู ูุฏูุฑุฉ CI / CD (ูู ูุฑุงุญู ุงูุฅูุดุงุก ูุงูุฏูุน ูุงููุดุฑ) ุ ูุชูุฏูู ููุงุญุธุงุช ุณุฑูุนุฉ ูููุทูุฑ ุ ุฃู  ุงููุฏุฑุฉ ุนูู ุงูุญุตูู ุจุณุฑุนุฉ ุนูู ูุชูุฌุฉ ุงูุชุบููุฑุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ - ูู ุดูู ุชุทุจูู ูุญุฏุซ ูุนูู ูู ูุธุงู Kubernetes.  ููููู ุฃู ุชุนูู ูู ูุญูุทุงุช ูุฎุชููุฉ (dev ุ stage ุ ุฅูุชุงุฌ ...) ุ ูุงูุชู ุชุณุงุนุฏ Skaffold ูู ูุตู ุฎุทูุท ุงูุฃูุงุจูุจ ุงูููุงุณุจุฉ ูุจุฏุก ุงูุชุดุบูู. <br><br>  ุฑูุฒ ูุตุฏุฑ Skaffold ููุชูุจ ูู Go ุ ููุชู ุชูุฒูุนู ุจููุฌุจ ุฑุฎุตุฉ Apache ุงููุฌุงููุฉ 2.0 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GitHub</a> ). <br><br>  ุงููุธุฑ ูู ุงููุธุงุฆู ูุงูููุฒุงุช ุงูุฑุฆูุณูุฉ.  ุงูุฃูู ูุดูู ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุฏู Skaffold ุฃุฏูุงุช ูุฅูุดุงุก ุฎุทูุท ุฃูุงุจูุจ CI / CD. </li><li style=";text-align:right;direction:rtl">  ูุณูุญ ูู ุจูุฑุงูุจุฉ ุงูุชุบููุฑุงุช ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูู ุงูุฎูููุฉ ูุจุฏุก ุงูุนูููุฉ ุงูุชููุงุฆูุฉ ูุจูุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุตูุฑ ุงูุญุงููุฉ ุ ููุดุฑ ูุฐู ุงูุตูุฑ ูู Docker Registry ููุดุฑูุง ุนูู ูุธุงู Kubernetes. </li><li style=";text-align:right;direction:rtl">  ูุฒุงููุฉ ุงููููุงุช ูู ุงููุณุชูุฏุน ูุน ุฏููู ุงูุนูู ูู ุงูุญุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุง ุจุงุณุชุฎุฏุงู ุญุงููุฉ ุงุฎุชุจุงุฑ ุงููููู. </li><li style=";text-align:right;direction:rtl">  ุงูููุงูุฆ ุฅูู ุงูุฃูุงู. </li><li style=";text-align:right;direction:rtl">  ููุฑุฃ ุณุฌูุงุช ุงูุชุทุจูู ููุฏ ุงูุชุดุบูู ูู ุงูุญุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุณุงุนุฏ ูู ุชุตุญูุญ ุฃุฎุทุงุก ุงูุชุทุจููุงุช ุงูููุชูุจุฉ ุจูุบุฉ Java ู Node.js ู Python ู Go. </li></ul><br>  ุงูุขู ุนู ุงูููุฒุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>Skaffold ููุณูุง ูุง ุชุญุชูู ุนูู ููููุงุช ุฌุงูุจ ุงููุชูุฉ</b> .  ุฃู ุฃูู ูุณุช ุจุญุงุฌุฉ ุฅูู ุชูููู Kubernetes ูุงุณุชุฎุฏุงู ูุฐู ุงูุฃุฏุงุฉ. </li><li style=";text-align:right;direction:rtl">  <b>ุฎุทูุท ุฃูุงุจูุจ ูุฎุชููุฉ ููุชุทุจูู ุงูุฎุงุต ุจู</b> .  ูู ุชุญุชุงุฌ ุฅูู ุทุฑุญ ุงูููุฏ ูู Minikube ุงููุญูู ุฃุซูุงุก ููุงูู ุจุงูุชุทููุฑ ุ ุซู ุนูู ุงููุณุฑุญ ุฃู ุงูุฅูุชุงุฌุ  ููููุงู ุจุฐูู ุ ูุชู ุชูููุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุช ุงูุชุนุฑูู</a> ูุชููููุงุช ุงููุณุชุฎุฏู ููุชุบูุฑุงุช ุงูุจูุฆุฉ ูุงูุฃุนูุงู ุ ููุง ูุณูุญ ูู ุจูุตู ุฎุทูุท ุฃูุงุจูุจ ูุฎุชููุฉ ูุชุทุจูู ูุงุญุฏ. </li><li style=";text-align:right;direction:rtl">  <b>CLI.</b>  ูุญุฏุฉ ุงูุชุญูู ููุท ูุชููููุงุช ูู YAML.  ุนูู ุงูุดุจูุฉ ุ ููููู ุงูุนุซูุฑ ุนูู ูุฑุงุฌุน ููุญุงููุงุช ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ุงูุชุฌุฑูุจูุฉ</a> ุ ูููู ูู ุงูููุช ุงูุญุงูู ุ ุฑุจูุง ูุนูู ูุฐุง ููุท ุฃู ุดุฎุตูุง ูุง ูุญุชุงุฌูุง ุ ูููู ููุณ ูู ุงูุญูููุฉ. </li><li style=";text-align:right;direction:rtl">  <b>ููุทูุฉ</b> .  Skaffold ููุณ ูุฌููุนุฉ ูุณุชููุฉ ุ ููููู ูุณุนู ุฅูู ุงุณุชุฎุฏุงู ูุญุฏุงุช ูููุตูุฉ ุฃู ุญููู ููุฌูุฏุฉ ูููุงู ูุญุฏุฏุฉ. </li></ul><br>  ุงูุชูุถูุญ ุงูุฃุฎูุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ ุงูุชุฌููุน ุ ููููู ุงุณุชุฎุฏุงู: <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุงูู ุจูุงุก ุจูุงุก ูุญูููุง ุ ูู ูุชูุฉ ุจุงุณุชุฎุฏุงู kaniko ุฃู ูู Google Cloud Build ุ </li><li style=";text-align:right;direction:rtl">  ุจุงุฒูู ูุญููุง </li><li style=";text-align:right;direction:rtl">  Jib Maven ู Jib Gradle ูุญูููุง ุฃู ุนูู Google Cloud Build ุ </li><li style=";text-align:right;direction:rtl">  ุงูุจุฑุงูุฌ ุงููุตูุฉ ุจูุงุก ูุฎุตุตุฉ ุชุนูู ูุญููุง.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุดุบูู ุญู ุขุฎุฑ (ุฃูุซุฑ ูุฑููุฉ / ูุฃูููุฉ / ...) ููุชุฌููุน ุ ููุชู ูุตูู ูู ุงูุจุฑูุงูุฌ ุงููุตู ุจุญูุซ ูุนูู Skaffold ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงู ูู ุงููุซุงุฆู</a> ).  ูุชูุญ ูู ุฐูู ุงุณุชุฎุฏุงู ุฃู ุฃุฏุงุฉ ุชุฌููุน ูููู ุงุณุชุฏุนุงุกูุง ุจุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ูุตู ุ </li></ul></li><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ ุงูุงุฎุชุจุงุฑ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชู</a> ุฏุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุจุงุฑ ุจููุฉ ุงูุญุงููุฉ</a> ุงููุฐููุฑ ุจุงููุนู ุ </li><li style=";text-align:right;direction:rtl">  ูููุดุฑ ูุชูุฏู: <ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Kubectl. </li><li style=";text-align:right;direction:rtl">  ุฑุฃุณ. </li><li style=";text-align:right;direction:rtl">  kustomize. </li></ul></li></ul><br>  ุจูุถู ูุฐุง ุ ูููู ุฃู ูุทูู ุนูู ุณูุงูููุฏ ููุนูุง ูู <b>ุงูุฃุทุฑ ูุจูุงุก CI / CD</b> .  ูููุง ููู ูุซุงู ูุณูุฑ ุงูุนูู ุนูุฏ ุงุณุชุฎุฏุงูู (ูู ูุซุงุฆู ุงููุดุฑูุน): <br><br><img src="https://habrastorage.org/webt/9w/ch/hy/9wchhy7-rqss03vvpkftjtfo8ea.png"><br><br>  ููู ูุจุฏู ุนูู ุณูุงูููุฏ ุจุดูู ุนุงูุ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฑุงูุจ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูุชุบููุฑุงุช ูู ุงูุฏููู ุงููุตุฏุฑ.  ูู ุญุงูุฉ ุฅุฌุฑุงุก ุชุนุฏููุงุช ุนูู ุงููููุงุช ุ ุชุชู ูุฒุงููุชูุง ูุน ุฌุฑุงุจ ุงูุชุทุจูู ูู ูุธุงู Kubernetes.  ุฅุฐุง ูุงู ุฐูู ููููุง ุ ุฏูู ุฅุนุงุฏุฉ ุชุฌููุน ุงูุตูุฑุฉ.  ุฎูุงู ุฐูู ุ ุตูุฑุฉ ุฌุฏูุฏุฉ ุณูู. </li><li style=";text-align:right;direction:rtl">  ูุชู ูุญุต ุงูุตูุฑุฉ ุงููุฌูุนุฉ ุจุงุณุชุฎุฏุงู ุงุฎุชุจุงุฑ ุจููุฉ ุงูุญุงููุฉ ุ ููุถุน ุนูุงูุงุช ุนูููุง ูุฅุฑุณุงููุง ุฅูู ุณุฌู ุนุงูู ุงููููุงุก. </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูุชู ูุดุฑ ุงูุตูุฑุฉ - ูุชู ูุดุฑูุง ูู ูุชูุฉ Kubernetes. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชูุช ุชููุฆุฉ ุงูุฅุทูุงู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>skaffold dev</code> ุ <code>skaffold dev</code> ูู ุงุณุชูุงู ุงูุณุฌูุงุช ูู ุงูุชุทุจูู ุ ููุชููุน Skaffold ุฃู ุชูุฑุฑ ุงูุชุบููุฑุงุช ุฌููุน ุงูุฎุทูุงุช ูุฑุฉ ุฃุฎุฑู. </li></ol><br><br><img src="https://habrastorage.org/webt/mv/uy/sx/mvuysx7r_uteprwwtb3vufffblw.png"><br>  <i>ูุนุงูู ุณูุงูููุฏ ุงูุชูุถูุญ</i> <br><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงุฑุณุฉ.  ูุญุงููุฉ ุณูุงูููุฏ </h2><br>  ูุฅุซุจุงุช ุงุณุชุฎุฏุงู Skaffold ุ ุณุฃุฃุฎุฐ ูุซุงูุงู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน GitHub ูููุดุฑูุน</a> .  ุจุงูููุงุณุจุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููู</a> ุฃู ุชุฌุฏ ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ุงูุฃุฎุฑู ุงูุชู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ูุฎุชูู ุงูุชูุงุตูู.  ุณูุชู ุชูููุฐ ุฌููุน ุงูุฅุฌุฑุงุกุงุช ูุญููุง ูู Minikube.  ุงูุชุซุจูุช ุจุณูุท ููุณุชุบุฑู ุจุถุน ุฏูุงุฆู ุ ููุญุชุงุฌ kubectl ููุจุฏุก. <br><br>  ุชุซุจูุช ุณูุงูููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">curl -Lo skaffold https://storage.googleapis.com/skaffold/releases/latest/skaffold-linux-amd64 chmod +x skaffold sudo mv skaffold /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin skaffold version v0.37.1</code> </pre> <br>  ููุณุชูุณุฎ ูุณุชูุฏุน ุณูุงูููุฏ ุจุงูุฃูุซูุฉ ุงูุถุฑูุฑูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/GoogleContainerTools/skaffold <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> skaffold/examples/microservices</code> </pre> <br>  ููุฏ ุงุฎุชุฑุช ูุซุงููุง ูุน ุงุซููู ูู ุงููุฑูู ุ ูุญุชูู ูู ูููุง ุนูู ุชุทุจูู ุตุบูุฑ ุนูู Go.  ุชุทุจูู ูุงุญุฏ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (leeroy-web) ุ ุทูุจ ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุงูุชุทุจูู ุงูุซุงูู ูู ุงููุงุฌูุฉ ุงูุฎูููุฉ (ุชุทุจูู leeroy).  ุฏุนููุง ูุฑู ููู ูุจุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">~/skaffold/examples/microservices <span class="hljs-comment"><span class="hljs-comment"># tree . โโโ leeroy-app โ โโโ app.go โ โโโ Dockerfile โ โโโ kubernetes โ โโโ deployment.yaml โโโ leeroy-web โ โโโ Dockerfile โ โโโ kubernetes โ โ โโโ deployment.yaml โ โโโ web.go โโโ README.adoc โโโ skaffold.yaml 4 directories, 8 files</span></span></code> </pre> <br>  ูุญุชูู leeroy-app ู leeroy-web ุนูู ุฑูุฒ Go ู Dockerfiles ุงูุจุณูุท ูุฅูุดุงุก ูุฐุง ุงูุฑูุฒ ูุญูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">~/skaffold/examples/microservices <span class="hljs-comment"><span class="hljs-comment"># cat leeroy-app/Dockerfile FROM golang:1.12.9-alpine3.10 as builder COPY app.go . RUN go build -o /app . FROM alpine:3.10 CMD ["./app"] COPY --from=builder /app .</span></span></code> </pre> <br>  ูู ุฃุนุทู ุฑูุฒ ุงูุชุทุจูู - ูููู ุฃู ูุนุฑู ุฃู <code>leeroy-web</code> ุชูุจู ุงูุทูุจุงุช <code>leeroy-app</code> ุฅูู <code>leeroy-app</code> .  ูุฐูู ุ ุชูุฌุฏ ูู ูููุงุช <code>Deployment.yaml</code> ุฎุฏูุฉ ููุท <code>app</code> (ููุชูุฌูู ุงูุฏุงุฎูู).  ุณูุชู ุทุฑุญ ูููุฐ ุฌุฑุงุจ <code>web</code> ุฅูููุง ูููุตูู ุงูุณุฑูุน ุฅูู ุงูุชุทุจูู. <br><br>  <code>skaffold.yaml</code> ุชุจุฏู <code>skaffold.yaml</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">~/skaffold/examples/microservices # cat skaffold.yaml apiVersion: skaffold/v1beta13 kind: Config build: artifacts: - image: leeroy-web context: ./leeroy-web/ - image: leeroy-app context: ./leeroy-app/ deploy: kubectl: manifests: - ./leeroy-web/kubernetes/* - ./leeroy-app/kubernetes/* portForward: - resourceType: deployment resourceName: leeroy-web port: 8080 localPort: 9000</code> </pre> <br>  ุฌููุน ุงูุฎุทูุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ููุตููุฉ ููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ูุฐุง ุงูุชูููู ุ ููุงู ุฃูุถูุง ููู ุฐู ุฅุนุฏุงุฏุงุช ุนููููุฉ - <code>~/.skaffold/config</code> .  ูููู ุชุญุฑูุฑูุง ูุฏูููุง ุฃู ูู ุฎูุงู CLI - ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">skaffold config <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> --global <span class="hljs-built_in"><span class="hljs-built_in">local</span></span>-cluster <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br>  ูุนูู ูุฐุง ุงูุฃูุฑ ุงููุชุบูุฑ ุงูุนุงู <code>local-cluster</code> ุฅูู <code>true</code> ุ ูุจุนุฏ ุฐูู ูู ูุญุงูู Skaffold "ุฏูุน" ุงูุตูุฑ ุฅูู ุงูุณุฌู ุงูุจุนูุฏ.  ุฅุฐุง ููุช ุชุชุทูุฑ ูุญูููุง ุ ูููููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ ูุฅุถุงูุฉ ุตูุฑ ูุญูููุง ุฃูุถูุง. <br><br>  ุฑุฌูุน ุฅูู <code>skaffold.yaml</code> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ <code>build</code> ุ ูุดูุฑ ุฅูู ุฃูู ุจุญุงุฌุฉ ุฅูู ุฌูุน ูุญูุธ ุงูุตูุฑุฉ ูุญูููุง.  ุจุนุฏ ุจุฏุก ุงูุชุฌููุน ูุฃูู ูุฑุฉ ุ ุณูุฑู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">// .. Minikube      , //   ,    <span class="hljs-comment"><span class="hljs-comment"># minikube ssh $ docker images REPOSITORY TAG IMAGE ID CREATED SIZE leeroy-app 7d55a50803590b2ff62e47e6f240723451f3ef6f8c89aeb83b34e661aa287d2e 7d55a5080359 4 hours ago 13MB leeroy-app v0.37.1-171-g0270a0c-dirty 7d55a5080359 4 hours ago 13MB leeroy-web 5063bfb29d984db1ff70661f17d6efcc5537f2bbe6aa6907004ad1ab38879681 5063bfb29d98 5 hours ago 13.1MB leeroy-web v0.37.1-171-g0270a0c-dirty 5063bfb29d98 5 hours ago 13.1MB</span></span></code> </pre> <br>  ููุง ุชุฑูู ุ ูุงู ุณูุงูููุฏ ุจุงุฎุชุจุงุฑ ุงูุตูุฑ ุจุดูู ูุณุชูู.  ุจุงูููุงุณุจุฉ ุ ูุชู ุฏุนู ุงูุนุฏูุฏ ูู ุณูุงุณุงุช ูุถุน ุงูุนูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  ุชู ุชุญุฏูุฏ ูุง ููู ูู <code>context: ./leeroy-app/</code> ุงูุชูููู <code>context: ./leeroy-app/</code> ุ ุฃู  ูุชู ุชุญุฏูุฏ ุงูุณูุงู ุงูุฐู ูุชู ููู ุชุฌููุน ุงูุตูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ ุงููุดุฑ ุ ูุชู ุชุญุฏูุฏ ุฃููุง ุณูุณุชุฎุฏู kubectl ูููุงุน ููุจูุงูุงุช ุงููุทููุจุฉ. </li><li style=";text-align:right;direction:rtl">  <code>PortForward</code> : ุนูู ุบุฑุงุฑ ุงูุทุฑููุฉ ุงูุชู ูุนูุฏ ุชูุฌูู ุงูููุงูุฐ ุจูุง ุนุงุฏุฉู ุจุงุณุชุฎุฏุงู <code>kubectl port-forward</code> ุ ูุญู ููุฏู ุชุนูููุงุช Skaffold ูุงุณุชุฏุนุงุก ูุฐุง ุงูุฃูุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุงููููุฐ ุงููุญูู 9000 ุฅูู 8080 ูู ุงููุดุฑ ูุน ุงุณู <code>leeroy-web</code> . </li></ul><br>  ุญุงู ุงูููุช ูุจุฏุก ุชุดุบูู <code>skaffold dev</code> : ุณูููู ุงููุฑูู ุจุฅูุดุงุก "ุญููุฉ ุชุบุฐูุฉ ูุฑุชุฏุฉ" ูุณุชูุฑุฉ ุ ุฃู  ูุง ููุชุตุฑ ุงูุฃูุฑ ุนูู ุฌูุน ูู ุดูุก ูุชุซุจูุช ูู ูุชูุฉ ุ ูููู ุฃูุถุง ูุญูู ุนู ุญุงูุฉ ูุฑูู ูู ุงูููุช ุงูุฑุงูู ุ ุณูู ูุฑุงูุจ ุงูุชุบููุฑุงุช ูุชุญุฏูุซ ุญุงูุฉ ุงููุฑูู. <br><br>  ูุฐู ูู ูุชูุฌุฉ ุชุดุบูู <code>skaffold dev --port-forward</code> ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุฌููุน: <br><br><img src="https://habrastorage.org/webt/ao/hf/s8/aohfs8d_geqzv8tb8uywgtvun3o.png"><br><br>  ุฃููุงู ุ ูู ุงููุงุถุญ ุฃูู ูุชู ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุจุนุฏ ุฐูู - ูุชู ุชุฌููุน ุงูุชุทุจูู ููุดุฑู ูุฅุนุงุฏุฉ ุชูุฌูู ุงูููุงูุฐ.  ููุฐ ุฃู ุชู ุชุญุฏูุฏ <code>--port-forward</code> ุ ูุงู Skaffold ุจุฅุนุงุฏุฉ ุชูุฌูู ุงููููุฐ ุฅูู <code>web</code> ุ ููุง ูู ูุทููุจ ุ ูููู ูุงู ุจุฅุนุงุฏุฉ ุชูุฌูู <code>app</code> ููููุง ูุชูุฏูุฑู (ุงุฎุชุงุฑ ุงูุฃูุฑุจ ูุฌุงููุง).  ุจุนุฏ ุฐูู ุ ูุญุตู ุนูู ุงูุณุฌูุงุช ุงูุฃููู ูู ุงูุชุทุจููุงุช. <br><br>  ุชุญูู ุงูุฃุฏุงุกุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">~/skaffold/examples/microservices <span class="hljs-comment"><span class="hljs-comment"># kubectl get po NAME READY STATUS RESTARTS AGE leeroy-app-6998dfcc95-2nxvf 1/1 Running 0 103s leeroy-web-69f7d47c9d-5ff77 1/1 Running 0 103s ~/skaffold/examples/microservices # curl localhost:9000 leeroooooy app!!!</span></span></code> </pre> <br>  ุชุนุฏูู ููู <code>leeroy-app/app.go</code> - ูุณุชุบุฑู ุงูุฃูุฑ ุจุถุน ุซูุงูู ... ู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">~/skaffold/examples/microservices <span class="hljs-comment"><span class="hljs-comment"># kubectl get po NAME READY STATUS RESTARTS AGE leeroy-app-ffd79d986-l6nwp 1/1 Running 0 11s leeroy-web-69f7d47c9d-5ff77 1/1 Running 0 4m59s ~/skaffold/examples/microservices # curl localhost:9000 leeroooooy Habr!!!</span></span></code> </pre> <br>  ูู ุงูููุช ููุณู ุ ุฌูุจุช Skaffold ููุณูุง ุฅูู ูุญุฏุฉ ุงูุชุญูู ููุณ ุงูุดูุก ููุง ูุงู ูู ูุจู ุ ุจุงุณุชุซูุงุก ููุทุฉ ูุงุญุฏุฉ: ููุฏ ุชู ุทุฑุญ <code>leeroy-app</code> ููุท ุ ูููุณ ูู ุฐูู ูุฑุฉ ูุงุญุฏุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุฒูุฏ ูู ุงูููุงุฑุณุฉ </h2><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุนูุฏ ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุ ูููู ุฃู ุชููู ุงูุชููููุงุช ูู Skaffold ุจูุซุงุจุฉ ุฃุฏุงุฉ ุชูููุฏ ุจุงุณุชุฎุฏุงู ุฃูุฑ <code>init</code> ุ ููู ุฃูุฑ ูุฑูุญ ููุบุงูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ูุชุงุจุฉ ุงูุนุฏูุฏ ูู ุงูุชููุฆุฉ: ุงูุชุทููุฑ ุนูู ุงูุชููุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุ ุซู ุทุฑุญูุง ุนูู ุงููุณุฑุญ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ " <code>run</code> (ููุณ ุงูุนูููุฉ ูุซู <code>dev</code> ุ ูุง ุชุชุจุน ุงูุชุบููุฑุงุช ููุท) ุ ุจุงุณุชุฎุฏุงู ุชููุฆุฉ ูุฎุชููุฉ. <br><br>  ูุญุชูู Katacoda ุนูู ุจุฑูุงูุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนูููู</a> ูุน ูุซุงู ุฃูุซุฑ ุจุณุงุทุฉ.  ูููู ูููุฑ ุฑูู ุฌุงูุฒ ูุน Kubernetes ุ ูุงูุชุทุจูู ู Skaffold.  ุฎูุงุฑ ุฑุงุฆุน ุฅุฐุง ููุช ููุชููุง ุจุชุฌุฑุจุฉ ุงูุฃุณุงุณูุงุช ุจููุณู. <br><br>  ุฅุญุฏู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูููููุฉ ูู Skaffold ูู ุฅุฌุฑุงุก ุชุทููุฑ ุนูู ูุชูุฉ ุจุนูุฏุฉ.  ูุง ูุดุนุฑ ุงูุฌููุน ุจุงูุฑุงุญุฉ ุนูุฏ ุชุดุบูู Minikube ุนูู ุฃุฌูุฒุชูู ุงูุฎุงุตุฉ ุ ุซู ุทุฑุญ ุงูุชุทุจูู ูุงูุชุธุงุฑ ุฃุฏุงุฆู ุงูููุงุณุจ ... ูู ูุฐู ุงูุญุงูุฉ ุ ูุญู Skaffold ุงููููุฉ ุชูุงููุง ุ ูุงูุชู ูููู ุชุฃููุฏูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุจู ูููุฏุณู Reddit ุ ุงูุฐูู ูุชุจูุงูู ุจุงููุนู ุนูู ูุฏููุชูุง. <br><br>  ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูููุดูุฑ</a> ูู Weaveworks ุ ููููู ุงูุนุซูุฑ ุนูู ูุซุงู ูุฅูุดุงุก ุฎุท ุฃูุงุจูุจ ููุฅูุชุงุฌ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  Skaffold ูู ุฃุฏุงุฉ ููุงุณุจุฉ ูุจูุงุก ุฎุทูุท ุงูุฃูุงุจูุจ ุงูุชู ุชุชุถูู ุทุฑุญ ุงูุชุทุจููุงุช ุนูู Kubernetes ูุชุฑูุฒ ุจุดูู ุฃุณุงุณู ุนูู ุงุญุชูุงุฌุงุช ุงูุชุทููุฑ.  ูุน ุฐูู ุ ูู ุงูุณูู ุฌุฏูุง ุฅูุดุงุก ุฎุท ุฃูุงุจูุจ "ูุตูุฑ" ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุงุญุชูุงุฌุงุช ุงูุฃุณุงุณูุฉ ูููุทูุฑ ุ ููุน ุฐูู ุ ููููู ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ุชูุธูู ุนูููุงุช ุฃูุซุฑ ุทููุญูุง.  ุฃุญุฏ ุงูุฃูุซูุฉ ุงูุชูุถูุญูุฉ ูุงุณุชุฎุฏุงู Skaffold ูู ุนูููุงุช CI / CD <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑูุน ุงุฎุชุจุงุฑ</a> ูู 10 ุฎุฏูุงุช ูููุฑููุฉ ุชุณุชุฎุฏู ุฅููุงููุงุช Kubernetes ู gRPC ู Istio ู OpenCensus Tracing. <br><br>  ุชููู Skaffold ุจุงููุนู ูุง ููุฑุจ ูู 8000 ูุฌููุง ุนูู GitHub ุ ููุชู ุชุทููุฑู ุจูุงุณุทุฉ Google ููู ุฌุฒุก ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GoogleContainerTools</a> - ุจุดูู ุนุงู ุ ููุฌุฏ ูู ุงูููุช ุงูุญุงูู ูู ุงูุฃุณุจุงุจ ุงูุชู ุชุฏุนู ุฅูู ุงูุงุนุชูุงุฏ ุจุฃู ุงููุดุฑูุน ุณูุชุทูุฑ ุจุณุนุงุฏุฉ ุจุนุฏ ุฐูู. <br><br><h2 style=";text-align:right;direction:rtl">  PS </h2><br>  ุงูุฑุฃ ุฃูุถูุง ูู ูุฏููุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฏูุงุช ููุทูุฑู ุงูุชุทุจููุงุช ุงูุชู ุชุนูู ุนูู Kubernetes</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Werf ูู ุฃุฏุงุฉ CI / CD ุงูุฎุงุตุฉ ุจูุง ูู Kubernetes (ุชูุฑูุฑ ุงููุฑุงุฌุนุฉ ูุงูููุฏูู)</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Garden v0.10.0: ูุง ูุญุชุงุฌ ุงูููุจููุชุฑ ุงููุญููู ุฅูู Kubernetes</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฆุญ ูุญูู Kubernetes: ุญูู ุงูุชูููุฉ ุงููุญููุฉ ูุงูุชูุงุฌุฏ ุนู ุจุนุฏ</a> ". </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474692/">https://habr.com/ru/post/ar474692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474678/index.html">ูุงูุช ูุฌููุนุฉ ุฎุฑูููุณ ุจุฅูุดุงุก ูุณุชูุฏุน ููุญุฏ ุจุฃูุซูุฉ ููููุงู</a></li>
<li><a href="../ar474680/index.html">AI ู 2048. ุงูุฌุฒุก 2: Minimax + alpha beta ููุทุฉ</a></li>
<li><a href="../ar474686/index.html">ูุตุฉ ุฑุงุฆุนุฉ "ุงูุฎูุงุต" (10 ุฏูุงุฆู)</a></li>
<li><a href="../ar474688/index.html">ูุทุงุฑ ุงูุฑุฌุนูุฉ ูุน ูุงุทุฑุฉ ุงูุจุฎุงุฑ</a></li>
<li><a href="../ar474690/index.html">ุฅูุดุงุก ูุญุฏุฉ ุชุญูู ูุน ุงุฑุชูุงุน ูุชุบูุฑ ููุนูู ุฃูุซุฑ ููุงุกูุฉ ุนูู ุฌูุงุฒ ููุจููุชุฑ</a></li>
<li><a href="../ar474694/index.html">ููู ุงุฎุชุฑูุง ุงูููุชููุฉ ุฅุทุงุฑ ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก</a></li>
<li><a href="../ar474696/index.html">ุจุทุงูุฉ ุฅูู ุตูุงุนุฉ ุงูููุท ุฃู Rosneft ุชุณุชุฏุนู ุชุญุฏู ุงูุฒูุงุฒู</a></li>
<li><a href="../ar474698/index.html">ุจุงุณุชุฎุฏุงู ูููุฏูุฒ ูุดุฑูุท ูู ูุงุฌูุงุช ุงููุณุชุฎุฏู</a></li>
<li><a href="../ar474700/index.html">ุณุญุงุจุฉ ุงูููุฒู ุงูุฐูู. ุงูุฌุฒุก 2: ุงูุฎุฏูุฉ ุงูุณุญุงุจูุฉ</a></li>
<li><a href="../ar474702/index.html">ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ูู ูุฌูุฉ ูุธุฑ EcmaScript. ูุธุงุฆู ูููุฉ ุ lambdas ุ ุงูุญุตุงูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>