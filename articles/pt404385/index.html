<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≤ üëâüèø ‚ò∫Ô∏è Esta√ß√£o para medir a velocidade e dire√ß√£o do vento üö© ‚õàÔ∏è üë∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uma esta√ß√£o meteorol√≥gica dom√©stica ou de marca dom√©stica comum mede duas temperaturas de umidade (em uma sala e na rua), press√£o atmosf√©rica e, al√©m ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Esta√ß√£o para medir a velocidade e dire√ß√£o do vento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404385/">  Uma esta√ß√£o meteorol√≥gica dom√©stica ou de marca dom√©stica comum mede duas temperaturas de umidade (em uma sala e na rua), press√£o atmosf√©rica e, al√©m disso, possui um rel√≥gio com um calend√°rio.  No entanto, uma esta√ß√£o meteorol√≥gica real tem muito mais - um sensor de radia√ß√£o solar, um medidor de precipita√ß√£o e tudo o que, em geral, √© necess√°rio apenas para necessidades profissionais, com uma exce√ß√£o.  Um instrumento de medi√ß√£o dos par√¢metros do vento (velocidade e, principalmente, dire√ß√£o) √© uma adi√ß√£o muito √∫til para uma casa de campo.  Al√©m disso, os sensores de vento de marca s√£o bastante caros, mesmo para Ali Baba, e faz sentido procurar solu√ß√µes caseiras. <br><a name="habracut"></a><br>  Devo dizer imediatamente que, se soubesse com anteced√™ncia quanto trabalho manual e dinheiro gasto em experimentos despejariam minha ideia, talvez eu n√£o come√ßasse.  Mas a curiosidade superou, e os leitores deste artigo t√™m a chance de evitar as armadilhas pelas quais tive que trope√ßar. <br><br>  Para <b>medir a velocidade do vento</b> (anemometria), existem centenas de m√©todos, sendo os principais: <br><br>  - fio quente, <br>  - mec√¢nica - com uma h√©lice (mais precisamente, uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">h√©lice</a> ) ou uma h√©lice de copo horizontal ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">anem√¥metro de copo</a> cl√°ssico) A medi√ß√£o da velocidade nesses casos √© equivalente a medir a velocidade do eixo no qual a h√©lice ou o h√©lice est√° montado. <br>  - al√©m de ultra-som, combinando medi√ß√µes de velocidade e dire√ß√£o. <br>  Para <b>medir menos a dire√ß√£o dos</b> m√©todos: <br>  - ultrassom mencionado; <br>  - cata-vento mec√¢nico com remo√ß√£o eletr√¥nica do √¢ngulo de rota√ß√£o.  Existem tamb√©m v√°rias maneiras diferentes de medir o √¢ngulo de rota√ß√£o: √≥ptico, resistivo, magn√©tico, indutivo, mec√¢nico.  A prop√≥sito, √© poss√≠vel simplesmente conectar uma b√∫ssola eletr√¥nica ao eixo do cata-vento - esses s√£o apenas m√©todos confi√°veis ‚Äã‚Äãe simples (para repeti√ß√£o na altura dos joelhos) de transmitir leituras de um eixo rotativo aleatoriamente.  Portanto, escolhemos ainda o m√©todo √≥ptico tradicional. <br><br>  Se voc√™ repetir independentemente qualquer um desses m√©todos, lembre-se dos requisitos de consumo m√≠nimo de energia e exposi√ß√£o 24 horas (e talvez durante o ano todo) exposi√ß√£o ao sol e √† chuva.  O sensor de vento n√£o pode ser colocado sob o teto √† sombra - pelo contr√°rio, deve estar o mais longe poss√≠vel de todos os fatores interferentes e "aberto a todos os ventos".  Um local ideal √© o cume do telhado da casa ou, na pior das hip√≥teses, um celeiro ou mirante, distante de outros edif√≠cios e √°rvores.  Tais requisitos requerem energia aut√¥noma e, obviamente, um canal de dados sem fio.  Esses requisitos s√£o respons√°veis ‚Äã‚Äãpor alguns dos "sinos e assobios" do design, descritos abaixo. <br><br><div class="spoiler">  <b class="spoiler_title">Sobre o consumo m√≠nimo de energia</b> <div class="spoiler_text">  A prop√≥sito, quanto √© o consumo m√≠nimo de energia?  Com base em baterias dom√©sticas comuns do tipo AA, o consumo m√©dio do circuito n√£o deve idealmente ser superior a 1-2 mA.  Conte para si mesmo: a capacidade de um elemento alcalino decente do tamanho AA √© de cerca de 2,5-3 Ah ‚Ä¢ ou seja, um circuito com o consumo indicado funcionar√° por cerca de 1500-2500 horas ou 2-3 meses.  Em princ√≠pio, isso tamb√©m √© um pouco, mas relativamente aceit√°vel - voc√™ n√£o pode fazer menos do que isso: ou v√° √† fal√™ncia ou use baterias que precisar√£o ser carregadas com mais frequ√™ncia do que trocar as baterias.  Por esse motivo, ao elaborar esse esquema, somos obrigados a pegar migalhas: o modo obrigat√≥rio de economia de energia, o circuito cuidadosamente pensado e a sequ√™ncia de a√ß√µes do programa.  Al√©m disso, veremos que, no projeto final, eu ainda n√£o atendia aos requisitos necess√°rios e tive que usar a energia da bateria. <br><br></div></div><br>  Uma hist√≥ria cognitiva sobre como tentei reproduzir o mais moderno e avan√ßado dos m√©todos - o ultra-som e falhou, contarei em outro momento.  Todos os outros m√©todos envolvem uma medi√ß√£o separada de velocidade e dire√ß√£o, ent√£o tive que cercar dois sensores.  Depois de estudar teoricamente anem√¥metros de fio quente, percebi que n√£o poder√≠amos comprar um elemento sens√≠vel pronto para n√≠vel amador (eles est√£o dispon√≠veis no mercado ocidental!), Mas invent√°-lo por conta pr√≥pria - para participar da pr√≥xima pesquisa e desenvolvimento, com o correspondente desperd√≠cio de tempo e dinheiro.  Portanto, depois de pensar um pouco, decidi fazer um design unificado para os dois sensores: um anem√¥metro de copo com medi√ß√£o √≥ptica da velocidade de rota√ß√£o e um cata-vento com medi√ß√£o eletr√¥nica do √¢ngulo de rota√ß√£o com base em um disco de codifica√ß√£o (codificador). <br><br><h2>  Projetos de sensores </h2><br>  A vantagem dos sensores mec√¢nicos √© que n√£o √© necess√°ria pesquisa e desenvolvimento no local, o princ√≠pio √© simples e claro e a qualidade do resultado depende apenas da precis√£o da execu√ß√£o de um projeto cuidadosamente pensado. <br><br>  Assim, teoricamente, na pr√°tica, isso resultou em um monte de trabalho mec√¢nico, alguns dos quais tiveram que ser solicitados de lado, devido √† falta de m√°quinas de tornear e fresar dispon√≠veis.  Devo dizer imediatamente que nunca me arrependi de ter confiado em uma abordagem de capital desde o in√≠cio e n√£o ter come√ßado a fazer constru√ß√µes com materiais improvisados. <br><br>  Para um cata-vento e um anem√¥metro, s√£o necess√°rias as seguintes pe√ßas, que devem ser solicitadas a um operador de torneiro e fresadora (a quantidade e o material s√£o indicados imediatamente para os dois sensores): <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/abe/8c9/b4c/abe8c9b4c68f9b7a5593d81e5f729cf0.png" width="1000" alt="imagem"><br>  Os eixos, notamos, s√£o necessariamente girados em um torno: √© praticamente imposs√≠vel fazer um eixo com um ponto exatamente no centro de um joelho.  E o posicionamento da ponta exatamente ao longo do eixo de rota√ß√£o aqui √© um fator determinante para o sucesso.  Al√©m disso, o eixo deve estar perfeitamente reto, sem desvios. <br><br><h3>  Sensor mec√¢nico de dire√ß√£o do vento - cata-vento eletr√¥nico </h3><br>  A base do cata-vento (assim como o sensor de velocidade abaixo) √© um suporte em forma de U feito de duralum√≠nio D-16, mostrado no desenho no canto superior esquerdo.  Um peda√ßo de fluoropl√°stico √© pressionado no recesso inferior, no qual um recesso escalonado √© feito seq√ºencialmente com brocas de 2 e 3 mm.  Um eixo √© inserido neste recesso com uma extremidade afiada (para um cata-vento - de lat√£o).  De cima, ele passa livremente atrav√©s de um orif√≠cio de 8 mm.  Acima desse orif√≠cio, os parafusos M2 prendem ao suporte uma pe√ßa retangular do mesmo fluoropl√°stico com 4 mm de espessura, de forma que se sobreponha ao orif√≠cio.  √â feito um furo no fluoropl√°stico exatamente ao longo do di√¢metro do eixo de 6 mm (localizado exatamente ao longo do eixo geral dos furos - veja o desenho de montagem abaixo).  O Ftoroplast acima e abaixo desempenha o papel de rolamentos deslizantes. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/f85/413/03a/f8541303a5e102a6255d611e8190686a.png" width="600" alt="imagem"><br>  O eixo no local de atrito contra o fotopl√°stico pode ser polido, e a √°rea de atrito pode ser reduzida contrariando o orif√≠cio no fluoropl√°stico.  ( <b>Veja neste t√≥pico abaixo a UPD de 13/09/18 e 06/05/19</b> ).  Para o cata-vento, isso n√£o desempenha um papel especial - alguma ‚Äúinibi√ß√£o‚Äù √© √∫til para ele e, para o anem√¥metro, voc√™ ter√° que tentar minimizar o atrito e a in√©rcia. <br><br>  Agora sobre a remo√ß√£o do √¢ngulo de rota√ß√£o.  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">codificador Gray</a> cl√°ssico com 16 posi√ß√µes, no nosso caso, parece como mostrado na figura: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/4ec/2ee/310/4ec2ee310a65fbc1d80e85c834c65963.png" width="500" alt="imagem"><br>  O tamanho do disco foi escolhido com base no isolamento √≥ptico confi√°vel dos pares emissor-receptor.  Com essa configura√ß√£o, os slots de 5 mm de largura tamb√©m s√£o espa√ßados 5 mm e os pares √≥pticos s√£o espa√ßados exatamente 10 mm.  As dimens√µes do suporte ao qual o cata-vento est√° conectado foram calculadas precisamente com base em um di√¢metro de disco de 120 mm.  Tudo isso, √© claro, pode ser reduzido (especialmente se voc√™ escolher LEDs e fotodetectores com o menor di√¢metro poss√≠vel), mas a complexidade da fabrica√ß√£o do codificador foi levada em considera√ß√£o: verificou-se que as fresadoras n√£o executavam um trabalho t√£o delicado, por isso tinham que ser cortadas manualmente com um arquivo.  E, quanto maiores as dimens√µes, mais confi√°vel √© o resultado e menos inc√¥modo. <br><br>  O desenho da montagem acima mostra a montagem do disco no eixo.  Um disco cuidadosamente centralizado √© preso com parafusos M2 ao cubo de caprolon.  A luva √© colocada no eixo para que a folga na parte superior seja m√≠nima (1-2 mm) - para que o eixo na posi√ß√£o normal gire livremente e, durante a revolu√ß√£o, a ponta n√£o caia do soquete abaixo.  Blocos de fotodetectores e emissores s√£o anexados ao suporte na parte superior e inferior do disco, mais especificamente sobre seu design. <br><br>  Toda a estrutura √© colocada em uma caixa de pl√°stico (ABS ou policarbonato) 150 √ó 150 √ó 90 mm.  Montado (sem tampa e cata-vento), o sensor de dire√ß√£o √© o seguinte: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c34/85b/a61/c3485ba615b14aa3728b9e624c5f3b50.jpg" width="500" alt="imagem"><br><br>  Observe que a dire√ß√£o selecionada para o norte est√° marcada com uma seta; ela deve ser observada ao instalar o sensor no lugar. <br><br>  Na parte superior do eixo, o cata-vento real √© anexado.  √â feito com base no mesmo eixo de lat√£o, no corte no lado cego do qual uma haste de lat√£o √© soldada.  Na extremidade afiada, uma rosca M6 √© cortada at√© um certo comprimento e uma carga redonda de contrapeso, fundida a partir de chumbo, √© fixada nela com a ajuda de porcas: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/84c/f58/ebb/84cf58ebbc6312411db92a32a51b46d4.jpg" width="500" alt="imagem"><br><br>  A carga foi projetada para que o centro de gravidade caia exatamente no local da fixa√ß√£o (movendo-o ao longo da rosca, √© poss√≠vel obter um equil√≠brio perfeito).  A palheta √© fixada ao eixo usando um parafuso de a√ßo inoxid√°vel M3, que passa atrav√©s do orif√≠cio no eixo da palheta e √© parafusado na rosca cortada no eixo de rota√ß√£o (o parafuso de fixa√ß√£o √© vis√≠vel na foto acima).  Para uma orienta√ß√£o precisa, a parte superior do eixo de rota√ß√£o possui um recesso semicircular no qual se encontra o eixo do cata-vento. <br><br><h3>  DIY Sensor de velocidade do vento - DIY Cup Anemometer </h3><br>  Como voc√™ j√° entendeu, a base do sensor de velocidade para fins de unifica√ß√£o foi escolhida da mesma forma que para o cata-vento.  Mas os requisitos de projeto aqui s√£o um pouco diferentes: para reduzir o limiar de partida, o anem√¥metro deve ser o mais leve poss√≠vel.  Portanto, em particular, o eixo para ele √© feito de duralum√≠nio, o disco com furos (para medir a velocidade) √© reduzido em di√¢metro: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f79/4eb/e72/f794ebe7245a7132970c1a27c04b5d0a.jpg" width="500" alt="imagem"><br><br>  Se quatro optoacopladores forem necess√°rios para um codificador Gray de quatro bits, haver√° apenas um para um sensor de velocidade.  16 buracos foram perfurados em torno da circunfer√™ncia do disco a uma dist√¢ncia igual; portanto, uma rota√ß√£o do disco por segundo equivale a 16 hertz da frequ√™ncia proveniente do optocoupler (s√£o poss√≠veis mais buracos, menos poss√≠veis - a √∫nica quest√£o √© a escala de convers√£o de energia e economia de energia para os emissores). <br><br>  Um sensor caseiro ainda se mostra um tanto grosseiro (o limite de partida n√£o √© inferior a meio metro segundo por segundo), mas s√≥ pode ser reduzido se o design for radicalmente alterado: por exemplo, em vez de uma plataforma girat√≥ria para copos, coloque uma h√©lice.  Em um girador de copo, a diferen√ßa nas for√ßas de resist√™ncia ao fluxo, que determina o torque, √© relativamente pequena - √© alcan√ßada apenas devido ao formato diferente da superf√≠cie que atende ao fluxo de ar recebido (portanto, o formato dos copos deve ser o mais aerodin√¢mico poss√≠vel - idealmente, isso √© meio ovo ou uma bola).  A h√©lice tem muito mais torque, pode ser muito menor em peso e, finalmente, a fabrica√ß√£o em si √© mais simples.  Mas a h√©lice deve ser instalada na dire√ß√£o do fluxo de ar - por exemplo, colocando-a no <a href="">final do mesmo cata-vento</a> . <br><br>  A quest√£o √©: como transmitir leituras de um sensor que gira aleatoriamente em torno de um eixo vertical?  N√£o consegui resolv√™-lo e, a julgar pelo fato de que as constru√ß√µes profissionais de copas ainda s√£o difundidas, de maneira alguma √© decidido com um chute parcial (n√£o levamos em considera√ß√£o os anem√¥metros manuais - eles s√£o orientados manualmente pelo fluxo de ar). <br><br>  Minha vers√£o do anem√¥metro de copo √© feita com base em um disco a laser.  As vistas superior e inferior s√£o mostradas na foto: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/86b/dfe/b7d/86bdfeb7d725ad1cacc76c48c7e99739.jpg" width="400" alt="imagem"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/400/944/bf9/400944bf9dc46d666f49949f37fcf845.jpg" width="400" alt="imagem"><br><br>  As x√≠caras s√£o feitas de garrafas de debaixo da √°gua do beb√™ Agusha.  O fundo √© cuidadosamente cortado e os tr√™s - √† mesma dist√¢ncia, para que tenham o mesmo peso, aquecem localmente no centro (em nenhum caso n√£o aque√ßa o todo - ele distorce irreversivelmente!) E a parte de tr√°s do cabo de madeira se dobra para fora para torn√°-lo mais aerodin√¢mico.  Voc√™ vai repetir - estocar garrafas maiores de cinco ou seis pe√ßas, provavelmente ser√° capaz de fazer tr√™s mais ou menos a mesma x√≠cara.  Nas x√≠caras feitas, √© feito um corte na lateral e elas s√£o fixadas ao longo do per√≠metro do disco a 120 ¬∞ entre si com a ajuda de selante de cola √† prova d'√°gua.  O disco √© estritamente centralizado em torno do eixo (eu fiz isso com a ajuda de uma arruela de metal aninhada) e √© montado no cubo de caprolon com parafusos M2. <br><br><h3>  Projeto geral e instala√ß√£o de sensores </h3><br>  Ambos os sensores, como j√° mencionado, s√£o colocados em caixas pl√°sticas de 150 √ó 150 √ó 90 mm.  A escolha do material da caixa deve ser abordada com cuidado: ABS ou policarbonato t√™m resist√™ncia suficiente ao clima, mas poliestireno, plexigl√°s e especialmente polietileno n√£o ser√£o adequados aqui (e ser√° dif√≠cil pint√°-los para proteger do sol).  Se n√£o for poss√≠vel comprar uma caixa da empresa, √© melhor soldar a caixa de fibra de vidro e pint√°-la para proteg√™-la da corros√£o e dar uma apar√™ncia est√©tica. <br><br>  Um orif√≠cio de 8 a 10 mm √© feito na tampa exatamente no ponto de sa√≠da do eixo, no qual um cone de pl√°stico cortado de um bico de uma lata de spray com um selante ou cola de constru√ß√£o √© colado com o mesmo selante adesivo: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a0d/b61/78c/a0db6178c5977c8a8a9081daa31c4753.jpg" width="400" alt="imagem"><br><br>  Para centralizar o cone ao longo do eixo, use uma pin√ßa para fixar um peda√ßo de madeira na parte inferior da tampa, marque o centro exato e v√° um pouco mais fundo com uma broca de 12 mm, fazendo um recesso anular ao redor do furo.  O cone deve entrar ali exatamente, ap√≥s o qual pode ser revestido com cola.  Al√©m disso, pode ser fixado na posi√ß√£o vertical durante o per√≠odo de solidifica√ß√£o com o parafuso e a porca M6. <br><br>  O pr√≥prio sensor de velocidade cobre o eixo com este cone, como um guarda-chuva, impedindo a entrada de √°gua no corpo.  Para um cata-vento, √© necess√°rio colocar adicionalmente uma luva sobre o cone, o que fechar√° a folga entre o eixo e o cone do fluxo de √°gua direto (veja a foto da vis√£o geral dos sensores abaixo). <br><br>  Os fios dos acopladores √≥pticos s√£o direcionados para um conector do tipo D-SUB separado (veja a foto do sensor de dire√ß√£o acima).  A contraparte com o cabo √© inserida atrav√©s de um orif√≠cio retangular na base do alojamento.  O orif√≠cio √© coberto por uma tampa com uma fenda para o cabo, que evita que o conector caia.  Os suportes de duralumin s√£o parafusados ‚Äã‚Äãna base do alojamento para fixa√ß√£o no lugar.  Sua configura√ß√£o depende da localiza√ß√£o dos sensores. <br><br>  Quando montados, os dois sensores t√™m a seguinte apar√™ncia: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ac0/2ee/d02/ac02eed02599b4f62d7a959ecef6a136.jpg" width="500" alt="imagem"><br><br>  Aqui eles s√£o mostrados j√° instalados no lugar - na crista do caramanch√£o.  Observe que os recessos dos parafusos que prendem a tampa est√£o protegidos contra a √°gua por buj√µes de borracha em bruto.  Os sensores s√£o instalados estritamente horizontalmente em n√≠vel, para os quais eu tive que usar revestimentos de peda√ßos de lin√≥leo. <br><br><h2>  Parte eletr√¥nica </h2><br>  A esta√ß√£o meteorol√≥gica como um todo consiste em dois m√≥dulos: uma unidade remota (que serve os dois sensores de vento e tamb√©m faz leituras de um sensor externo de temperatura e umidade) e o m√≥dulo principal com displays.  A unidade remota est√° equipada com um transmissor sem fio para enviar dados instalados dentro dela (a antena se sobressai do lado).  O m√≥dulo principal recebe dados da unidade remota (o receptor, para conveni√™ncia de sua orienta√ß√£o, √© colocado em um cabo em uma unidade separada) e tamb√©m faz leituras do sensor interno de temperatura e umidade e exibe tudo isso nos displays.  Um componente separado da unidade principal √© um rel√≥gio com um calend√°rio que, para conveni√™ncia da configura√ß√£o geral da esta√ß√£o, √© atendido por um controlador Arduino Mini separado e possui seus pr√≥prios displays. <br><br><h3>  M√≥dulo remoto e circuito de medi√ß√£o de sensores de vento </h3><br>  Como emissores de fotos, os LEDs IR AL-107B foram selecionados.  Esses LEDs antigos, √© claro, n√£o s√£o os melhores da categoria, mas possuem um estojo em miniatura com di√¢metro de 2,4 mm e s√£o capazes de transmitir corrente de at√© 600 mA por pulso.  A prop√≥sito, durante os testes, verificou-se que a amostra deste LED por volta de 1980 (no caso vermelho) tem aproximadamente duas vezes mais efici√™ncia (expressa na faixa de opera√ß√£o confi√°vel do fotodetector) do que as c√≥pias modernas compradas no Chip-Dip (elas t√™m um corpo verde-amarelado).  √â improv√°vel que em 1980 os cristais estivessem melhores do que agora, embora o que diabos n√£o esteja brincando?  √â poss√≠vel, no entanto, que o assunto esteja em diferentes √¢ngulos de dispers√£o em um e outro projeto. <br><br>  Uma corrente constante de cerca de 20 mA (resistor de 150 Ohm com uma fonte de alimenta√ß√£o de 5 volts) foi passada atrav√©s do LED no sensor de velocidade, e um pulso (meandro com um ciclo de trabalho de 2) corrente de cerca de 65 mA (os mesmos 150 Ohms com uma fonte de alimenta√ß√£o de 12 volts) foi passado no sensor de dire√ß√£o.  A corrente m√©dia atrav√©s de um LED do sensor de dire√ß√£o, neste caso, √© de cerca de 33 mA, em apenas quatro canais - cerca de 130 mA. <br><br>  Como fotodetectores, foram escolhidos os fototransistores L-32P3C em um estojo com um di√¢metro de 3 mm.  O sinal foi obtido de um coletor carregado em um resistor de 1,5 ou 2 kOhm de uma fonte de 5 V. Esses par√¢metros s√£o selecionados para que a uma dist√¢ncia de ~ 20 mm entre o emissor e o receptor, um sinal l√≥gico em tamanho normal em n√≠veis de 5 volts chegue imediatamente √† entrada sem amplifica√ß√£o adicional .  As correntes que aparecem aqui podem parecer desproporcionalmente grandes para voc√™, com base no requisito m√≠nimo de consumo de energia indicado acima, mas como voc√™ ver√°, elas aparecem em cada ciclo de medi√ß√£o por no m√°ximo v√°rios milissegundos, para que o consumo total permane√ßa pequeno. <br><br>  A base para a montagem dos receptores e emissores foram os segmentos do canal a cabo (vis√≠veis na foto dos sensores acima), cortados de modo a formar ‚Äúorelhas‚Äù para montagem no suporte na base.  Para cada um desses fragmentos, uma placa de pl√°stico foi colada √† tampa de travamento por dentro, igual em largura √† largura do canal.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LEDs e fototransistores foram fixados √† dist√¢ncia correta nos orif√≠cios feitos nesta placa, de modo que os condutores fiquem dentro do canal, e somente as protuber√¢ncias no final das conchas se projetavam para fora. As conclus√µes s√£o soldadas de acordo com o diagrama (veja abaixo), as conclus√µes externas s√£o feitas por peda√ßos de um fio flex√≠vel multicolorido. Resistores para emissores do sensor de dire√ß√£o tamb√©m est√£o localizados dentro do canal, uma conclus√£o geral √© feita a partir deles. Ap√≥s a dessoldagem, a tampa se encaixa no lugar, todos os slots s√£o selados com plasticina e uma fita adesiva adicional, que tamb√©m fecha o orif√≠cio no lado oposto aos terminais e toda a estrutura √© preenchida com ep√≥xi. Conclus√µes externas, como pode ser visto na foto dos sensores, s√£o exibidas no bloco de terminais montado na parte traseira do suporte. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama de circuito</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A unidade para processamento de sensores de vento tem a seguinte apar√™ncia: </font></font><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3ed/42e/3b7/3ed42e3b7ef2fee830c17786e991db52.png" width="1000" alt="imagem"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre a origem da energia de 12 a 14 volts, veja abaixo. Al√©m dos componentes indicados no diagrama, a unidade remota cont√©m um sensor de temperatura e umidade, que n√£o √© mostrado no diagrama. O divisor de tens√£o conectado ao terminal A0 do controlador √© projetado para controlar a tens√£o da fonte de alimenta√ß√£o para substitui√ß√£o oportuna. O LED conectado ao terminal tradicional 13 (terminal 19 da caixa DIP) √© super brilhante, por seu brilho normal e n√£o ofuscante, corrente suficiente em miliamperes √© suficiente, o que √© garantido por uma resist√™ncia incomumente alta de 33 kOhm.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O esquema usa um controlador Atmega328 ‚Äúbare‚Äù em um pacote DIP, programado via Uno e montado em um soquete. Esses controladores com um carregador Arduino j√° gravado s√£o vendidos, por exemplo, no Chip-Dip (ou voc√™ mesmo pode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gravar o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> carregador </font><font style="vertical-align: inherit;">). Esse controlador √© convenientemente programado em um ambiente familiar, mas, desprovido de componentes na placa, √©, primeiramente, mais econ√¥mico e, em segundo lugar, ocupa menos espa√ßo. Um modo de economia de energia completo pode ser obtido ao se livrar do carregador tamb√©m (e geralmente pintando todo o c√≥digo no assembler :), mas aqui n√£o √© muito relevante e a programa√ß√£o √© desnecessariamente complicada.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No diagrama, ret√¢ngulos cinza s√£o circulados em torno de componentes relacionados separadamente aos canais de velocidade e dire√ß√£o. Considere a opera√ß√£o do circuito como um todo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A opera√ß√£o do controlador como um todo √© controlada pelo timer do watchdog WDT, que √© ativado no modo de chamada de interrup√ß√£o. O WDT acorda o controlador do modo de suspens√£o em intervalos definidos. Se o timer reiniciar na interrup√ß√£o chamada, ele n√£o reiniciar√° do zero, todas as vari√°veis ‚Äã‚Äãglobais permanecer√£o em seus valores. Isso permite que voc√™ acumule dados do despertar para o despertar e, em algum momento, processe-os - por exemplo, para obter a m√©dia. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No in√≠cio do programa, foram feitas as seguintes declara√ß√µes de bibliotecas e vari√°veis ‚Äã‚Äãglobais (para n√£o confundir o texto dos exemplos j√° extensos, tudo o que foi relacionado ao sensor de temperatura e umidade foi lan√ßado aqui):</font></font><br><br><pre><code class="plaintext hljs">#include &lt;VirtualWire.h&gt; #include &lt;avr/wdt.h&gt; #include &lt;avr/sleep.h&gt; . . . . . #define ledPin 13 //  (PB5  19 ATmega) #define IR_Pin 10 //  IRLU (PB2  16 Atmega) #define in_3p 9 //   3 #define in_2p 8 //   2 #define in_1p 7 //   1 #define in_0p 6 //   0 #define IR_PINF 5 //(PD5,11)   -  #define IN_PINF 4 //(PD4,6)    volatile unsigned long ttime = 0; //   float ff[4]; //      char msg[25]; //  byte count=0;// int batt[4]; //   byte wDir[4]; //   byte wind_Gray=0; //   </code> </pre> <br>  Os procedimentos a seguir s√£o usados ‚Äã‚Äãpara iniciar o modo de suspens√£o e o WDT (acordar a cada 4 s): <br><br><pre> <code class="plaintext hljs">//      void system_sleep() { ADCSRA &amp;= ~(1 &lt;&lt; ADEN); //. cbi(ADCSRA,ADEN);   set_sleep_mode(SLEEP_MODE_PWR_DOWN); //   sleep_mode(); //   sleep_disable(); //      watchdog ADCSRA |= (1 &lt;&lt; ADEN); /. sbi(ADCSRA,ADEN);   } //**************************************************************** // ii: 0=16ms, 1=32ms,2=64ms,3=128ms,4=250ms,5=500ms // 6=1 sec,7=2 sec, 8=4 sec, 9= 8sec void setup_watchdog(int ii) { byte bb; if (ii &gt; 9 ) ii=9; bb=ii &amp; 7; if (ii &gt; 7) bb|= (1&lt;&lt;5); // bb -   bb|= (1&lt;&lt;WDCE); MCUSR &amp;= ~(1&lt;&lt;WDRF); //   WDTCSR |= (1&lt;&lt;WDCE) | (1&lt;&lt;WDE); //      WDTCSR = bb; WDTCSR |= (1&lt;&lt;WDIE); // WDT } //**************************************************************** //     ISR(WDT_vect) { wdt_reset(); }</code> </pre><br>  O sensor de velocidade fornece a frequ√™ncia de interrup√ß√£o do canal √≥ptico, a ordem de magnitude √© de algumas dezenas de hertz.  Medir esse valor √© mais econ√¥mico e mais r√°pido ap√≥s um per√≠odo (este foi o assunto da publica√ß√£o do autor " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Avalia√ß√£o de m√©todos para medir baixas frequ√™ncias no Arduino</a> ").  Aqui, o m√©todo √© selecionado atrav√©s da fun√ß√£o pulseInLong () modificada, que n√£o vincula a medi√ß√£o a sa√≠das espec√≠ficas do controlador (o texto da fun√ß√£o periodInLong () pode ser encontrado na publica√ß√£o). <br><br>  Na fun√ß√£o setup (), as dire√ß√µes de sa√≠da s√£o declaradas, a biblioteca de transmissores de 433 MHz e o timer do watchdog s√£o inicializados (a linha para IN_PINF √© basicamente sup√©rflua e inserida para mem√≥ria): <br><br><pre> <code class="plaintext hljs">void setup() { pinMode(IR_PINF, OUTPUT); //  pinMode(IN_PINF, INPUT); //     pinMode(13, OUTPUT); // vw_setup(1200); //   VirtualWire vw_set_tx_pin(2); //D2, PD2(4)   VirtualWire // Serial.begin(9600); // Serial-     setup_watchdog(8); //WDT  4 c wdt_reset(); }</code> </pre><br>  Finalmente, no ciclo principal do programa, primeiro sempre que acordamos (a cada 4 segundos) lemos a tens√£o e calculamos a frequ√™ncia do sensor de velocidade do vento: <br><br><pre> <code class="plaintext hljs">void loop() { wdt_reset(); //  digitalWrite(ledPin, HIGH); //    batt[count]=analogRead(0); //      /*===  ==== */ digitalWrite(IR_PINF, HIGH); // -   float f=0; //   ttime=periodInLong(IN_PINF, LOW, 250000); // 0,25  // Serial.println(ttime); //    if (ttime!=0) {//    f = 1000000/float(ttime);} //      digitalWrite(IR_PINF, LOW); // - ff[count]=f; //     . . . . .</code> </pre><br>  O tempo de grava√ß√£o do LED IR (consumindo, lembro-me, 20 mA) aqui, como voc√™ v√™, ser√° m√°ximo na aus√™ncia de rota√ß√£o do disco do sensor e, nessa condi√ß√£o, ser√° de aproximadamente 0,25 segundos.  A frequ√™ncia m√≠nima medida, portanto, ser√° de 4 Hz (um quarto de rota√ß√£o do disco por segundo com 16 furos).  Como ocorreu durante a calibra√ß√£o do sensor (veja abaixo), isso corresponde a aproximadamente 0,2 m / s de velocidade do vento. Enfatizamos que esse √© o menor valor mensur√°vel da velocidade do vento, mas n√£o √© uma resolu√ß√£o e nem um limiar de partida (que ser√° muito maior).  Se houver uma frequ√™ncia (ou seja, quando o sensor gira), o tempo de medi√ß√£o (e, consequentemente, o tempo de queima do LED, ou seja, o consumo de corrente) ser√° proporcionalmente reduzido e a resolu√ß√£o aumentar√°. <br><br>  A seguir, s√£o apresentados procedimentos a cada quarto despertar (ou seja, a cada 16 segundos).  O valor da frequ√™ncia do sensor de velocidade dos quatro valores acumulados que transmitimos n√£o √© m√©dio, mas m√°ximo - como a experi√™ncia demonstrou, esse √© um valor mais informativo.  Por conveni√™ncia e uniformidade, cada um dos valores, independentemente do seu tipo, √© convertido antes da transmiss√£o para um n√∫mero inteiro positivo de 4 casas decimais.  A vari√°vel count √© monitorada pela vari√°vel count: <br><br><pre> <code class="plaintext hljs">// 16        //  4- : if (count==3){ f=0; //  for (byte i=0; i&lt;4; i++) if (f&lt;ff[i]) f=ff[i]; //    int fi=(int(f*10)+1000); //  4 .    int volt=0; //  for (byte i=0; i&lt;4; i++) volt=volt+batt[i]; volt=volt/4+100; //   100  = 3 . volt=volt*10; // 4 .  . . . . .</code> </pre><br>  A seguir, √© a defini√ß√£o da dire√ß√£o do c√≥digo Gray.  Aqui, para reduzir o consumo, em vez de constantemente nos LEDs infravermelhos, uma frequ√™ncia de 5 kHz √© fornecida a todos os quatro canais simultaneamente por meio de um transistor de efeito de campo usando a fun√ß√£o tone ().  A presen√ßa de uma frequ√™ncia em cada uma das descargas (sa√≠das in_0p - in_3p) √© detectada usando um m√©todo semelhante ao anti-ressalto ao ler as leituras de um bot√£o pressionado.  Primeiro, no ciclo, esperamos para ver se h√° um n√≠vel alto na sa√≠da e depois verificamos ap√≥s 100 Œºs.  100 Œºs √© um per√≠odo de meia frequ√™ncia de 5 kHz, ou seja, se houver uma frequ√™ncia pelo menos da segunda vez, cairemos novamente para um n√≠vel alto (apenas no caso, repita quatro vezes) e isso significa que ele definitivamente est√° l√°.  Repetimos esse procedimento para cada um dos quatro bits de c√≥digo: <br><br><pre> <code class="plaintext hljs">/* ===== Wind Gray ==== */ //: tone(IR_Pin,5000);// 5    boolean yes = false; byte i=0; while(!yes){ // 3 i++; boolean state1 = (digitalRead(in_3p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_3p)); if (i&gt;4) break; //   } if (yes) wDir[3]=1; else wDir[3]=0; yes = false; i=0; while(!yes){ // 2 i++; boolean state1 = (digitalRead(in_2p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_2p)); if (i&gt;4) break; //   } if (yes) wDir[2]=1; else wDir[2]=0; yes = false; i=0; while(!yes){ // 1 i++; boolean state1 = (digitalRead(in_1p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_1p)); if (i&gt;4) break; //   } if (yes) wDir[1]=1; else wDir[1]=0; yes = false; i=0; while(!yes){ // 0 i++; boolean state1 = (digitalRead(in_0p)&amp;HIGH); delayMicroseconds(100); //   100  yes=(state1 &amp; !digitalRead(in_0p)); if (i&gt;4) break; //   } if (yes) wDir[0]=1; else wDir[0]=0; noTone(IR_Pin); //  //     : wind_Gray=wDir[0]+wDir[1]*2+wDir[2]*4+wDir[3]*8; //   .  int wind_G=wind_Gray*10+1000; //  4- .  . . . . .</code> </pre><br>  A dura√ß√£o m√°xima de um procedimento ser√° na aus√™ncia de frequ√™ncia no receptor e igual a 4 √ó 100 = 400 microssegundos.  O tempo m√°ximo de grava√ß√£o de 4 LEDs de dire√ß√£o ser√° quando nenhum receptor estiver aceso, ou seja, 4 √ó 400 = 1,6 milissegundos.  A prop√≥sito, o algoritmo funcionar√° exatamente da mesma maneira, se, em vez de uma frequ√™ncia cujo per√≠odo for m√∫ltiplo de 100 ¬µs, for simples aplicar um n√≠vel alto constante aos LEDs.  Se houver um meandro em vez de um n√≠vel constante, simplesmente economizaremos comida pela metade.  Ainda podemos economizar se iniciarmos cada LED de IR por uma linha separada (respectivamente, por uma sa√≠da separada do controlador com seu pr√≥prio transistor de chave), mas ao mesmo tempo o circuito, a fia√ß√£o e o controle s√£o complicados e a corrente √© de 130 mA por 2 ms a cada 16 segundos - isto, veja voc√™, um pouco. <br><br>  Finalmente, <b>transfer√™ncia de dados sem fio</b> .  Para transferir dados do local de instala√ß√£o do sensor para o placar da esta√ß√£o meteorol√≥gica, foi escolhido o m√©todo mais simples, barato e confi√°vel: <a href="">um par transmissor / receptor com uma frequ√™ncia de 433 MHz</a> .  Concordo que o m√©todo n√£o √© o mais conveniente (devido ao fato de os dispositivos serem projetados para transmitir sequ√™ncias de bits, n√£o bytes inteiros, voc√™ precisa refinar sua mente sobre a convers√£o de dados entre os formatos necess√°rios) e tenho certeza de que muitas pessoas v√£o querer discutir comigo em termos de confiabilidade.  A resposta para a √∫ltima obje√ß√£o √© simples: "voc√™ simplesmente n√£o sabe como cozinh√°-los!" <br><br>  O segredo √© que ele geralmente permanece nos bastidores de v√°rias descri√ß√µes de troca de dados no canal de 433 MHz: como esses dispositivos s√£o puramente anal√≥gicos, a fonte de alimenta√ß√£o do receptor deve ser muito bem limpa de qualquer pulsa√ß√£o estranha.  Em nenhum caso voc√™ deve ligar o receptor a partir do estabilizador interno do Arduino de 5 volts!  A instala√ß√£o de um estabilizador de baixa pot√™ncia separado para o receptor (LM2931, LM2950 ou similar) diretamente perto de seus terminais, com os circuitos de filtragem corretos na entrada e na sa√≠da, aumenta radicalmente o alcance e a confiabilidade da transmiss√£o. <br><br>  Nesse caso, o transmissor trabalhava diretamente a partir da tens√£o da bateria de 12 V, o receptor e o transmissor eram equipados com antenas caseiras padr√£o na forma de um peda√ßo de fio com 17 cm de comprimento (lembro-me de que o fio para antenas √© adequado apenas para um n√∫cleo e √© necess√°rio colocar as antenas no espa√ßo paralelo um ao outro). Um pacote de informa√ß√µes de 24 bytes (levando em considera√ß√£o a umidade e a temperatura) sem problemas foi transmitido com confian√ßa a uma velocidade de 1200 bits / s na diagonal atrav√©s de uma horta de 15 acres (cerca de 40-50 metros) e depois atrav√©s de tr√™s logs  paredes dentro da sala (nas quais, por exemplo, um sinal celular √© recebido com grande dificuldade e n√£o em todo lugar).  Condi√ß√µes praticamente inating√≠veis para qualquer m√©todo padr√£o de 2,4 GHz (como Bluetooth, Zig-Bee e at√© Wi-Fi amador), apesar do consumo de transmissor aqui ser miser√°vel de 8 mA e apenas no momento da transmiss√£o real, o resto do tempo o transmissor consome centavos.  O transmissor √© estruturalmente colocado dentro da unidade remota, a antena se destaca horizontalmente do lado. <br><br>  Combinamos todos os dados em um √∫nico pacote (em uma esta√ß√£o real, a temperatura e a umidade ser√£o adicionadas a ele), consistindo em partes uniformes de 4 bytes e precedidas pela assinatura ‚ÄúDAT‚Äù, enviando-as ao transmissor e concluindo todos os ciclos: <br><br><pre> <code class="plaintext hljs">/*=====Transmitter=====*/ String strMsg="DAT"; // -  strMsg+=volt; //  4  strMsg+=wind_G; // wind 4  strMsg+=fi; //  4  strMsg.toCharArray(msg,16); //    // Serial.println(msg); //  vw_send((uint8_t *)msg, strlen(msg)); //   vw_wait_tx(); //    - ! delay(50); //+      count=0; //  }//end count==3 else count++; digitalWrite(ledPin, LOW); //   system_sleep(); // ‚Äî   } //end loop</code> </pre><br>  O tamanho do pacote pode ser reduzido se voc√™ recusar a exig√™ncia de apresentar cada um dos valores de v√°rios tipos na forma de um c√≥digo uniforme de 4 bytes (por exemplo, para o c√≥digo Gray, √© claro, um byte √© suficiente).  Mas, por uma quest√£o de universaliza√ß√£o, deixei tudo como est√°. <br><br>  <b>Recursos de nutri√ß√£o e design da unidade remota</b> .  O consumo da unidade remota √© calculado desta maneira: <br><br>  - 20 mA (emissor) + ~ 20 mA (controlador com circuitos auxiliares) por cerca de 0,25 s a cada quatro segundos - uma m√©dia de 40/16 = 2,5 mA; <br>  - 130 mA (emissores) + ~ 20 mA (controlador com circuitos auxiliares) por cerca de 2 ms a cada 16 segundos - uma m√©dia de 150/16/50 ¬± 0,2 mA; <br><br>  Tendo adotado esse c√°lculo, o consumo do controlador ao coletar dados do sensor de temperatura e umidade e quando o transmissor est√° funcionando, podemos elevar com seguran√ßa o consumo m√©dio a 4 mA (com um pico de cerca de 150 mA, lembre-se!).  As baterias (que, ali√°s, exigir√£o at√© 8 pe√ßas para fornecer ao transmissor a voltagem m√°xima!) Ter√£o que ser trocadas com muita frequ√™ncia; portanto, a id√©ia era alimentar a unidade remota de baterias de 12 volts para uma chave de fenda - eu tinha apenas duas extras.  Sua capacidade √© ainda menor que o n√∫mero correspondente de baterias AA - apenas 1,3 A ‚Ä¢ horas, mas ningu√©m se preocupa em troc√°-las a qualquer momento, mantendo um segundo carregado.  Com o consumo indicado de 4 mA, a capacidade de 1300 mA ‚Ä¢ horas √© suficiente por cerca de duas semanas, o que n√£o √© muito problem√°tico. <br><br>  Observe que a voltagem de uma bateria carregada recentemente pode ser de at√© 14 volts.  Um estabilizador de entrada de 12 volts foi instalado nesse caso - para evitar sobretens√£o na fonte de alimenta√ß√£o do transmissor e n√£o sobrecarregar o estabilizador principal de cinco volts. <br><br>  A unidade port√°til em um estojo de pl√°stico adequado est√° localizada sob o teto, um cabo de energia da bateria e as conex√µes com sensores de vento s√£o conectados a ela nos conectores.  A principal dificuldade √© que o circuito se mostrou extremamente sens√≠vel √† umidade do ar: em tempo chuvoso, ap√≥s algumas horas o transmissor come√ßa a falhar, as medi√ß√µes de frequ√™ncia mostram uma bagun√ßa completa e as medi√ß√µes de voltagem da bateria mostram ‚Äúclima em Marte‚Äù. <br><br>  Portanto, ap√≥s a depura√ß√£o dos algoritmos e a verifica√ß√£o de todas as conex√µes, o caso deve ser cuidadosamente selado.  Todos os conectores na entrada da carca√ßa s√£o vedados com selante, o mesmo se aplica a todas as cabe√ßas dos parafusos destacadas, sa√≠da da antena e cabo de alimenta√ß√£o.  As juntas do corpo s√£o borradas com plasticina (levando em considera√ß√£o que elas precisam ser separadas) e coladas no topo com tiras de fita adesiva.  √â bom fortalecer adicionalmente os conectores usados ‚Äã‚Äãno interior com um ep√≥xi: por exemplo, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DB-15</a> mostrado no diagrama do m√≥dulo remoto n√£o √© r√≠gido e o ar √∫mido vaza lentamente entre a estrutura met√°lica e a base pl√°stica. <br><br>  Mas todas essas medidas por si s√≥ produzir√£o apenas um efeito de curto prazo - mesmo se n√£o houver suc√ß√£o do ar frio e √∫mido, o ar seco da sala se transforma facilmente em ar √∫mido quando a temperatura fora da caixa cai (lembre-se do fen√¥meno chamado "ponto de orvalho"). <br><br>  Para evitar isso, √© necess√°rio deixar um cartucho ou uma bolsa com um dessecante - s√≠lica gel dentro do estojo (√†s vezes os sacos s√£o colocados em caixas com sapatos ou em algumas embalagens com dispositivos eletr√¥nicos).  Se o gel de s√≠lica de origem desconhecida tiver sido armazenado por um longo per√≠odo de tempo, ele dever√° ser calcinado antes de ser utilizado em um forno el√©trico a 140-150 graus por v√°rias horas.  Se o estojo estiver adequadamente selado, o dessecante precisar√° ser substitu√≠do n√£o mais frequentemente do que no in√≠cio de cada temporada de ver√£o. <br><br><h3>  M√≥dulo principal </h3><br>  No m√≥dulo principal, todos os valores s√£o aceitos, descriptografados, se necess√°rio, convertidos de acordo com as equa√ß√µes de calibra√ß√£o e exibidos. <br><br>  O receptor √© colocado fora do m√≥dulo principal da esta√ß√£o e colocado em uma pequena caixa com orelhas para montagem.  A antena √© trazida atrav√©s de uma abertura na tampa, todas as aberturas na caixa s√£o seladas com borracha bruta.  Os contatos do receptor s√£o conectados a um conector dom√©stico muito confi√°vel do tipo RS-4, no lado do receptor, atrav√©s de um cabo AV com blindagem dupla: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5da/ffc/abe/5daffcabee184faa792d98fffea4abb7.jpg" width="500" alt="imagem"><br><br>  Um sinal √© captado ao longo de um dos n√∫cleos dos cabos e, por outro, a energia √© fornecida na forma de 9 volts brutos do adaptador de energia do m√≥dulo.  O estabilizador do tipo LM-2950-5.0, juntamente com os capacitores de filtragem, √© instalado em uma caixa com o receptor em um len√ßo separado. <br><br>  Foram realizadas experi√™ncias para aumentar o comprimento do cabo (por precau√ß√£o, de repente ele n√£o funcionaria atrav√©s da parede?), No qual se descobriu que nada muda no comprimento de at√© 6 metros. <br><br>  Existem apenas quatro monitores OLED: dois amarelos servem dados meteorol√≥gicos, dois rel√≥gios verdes e um calend√°rio.  Sua coloca√ß√£o √© mostrada na foto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ccb/ff2/095/ccbff20958163b5865beb85f9a2bcf0f.jpg" width="500" alt="imagem"><br><br>  Observe que em cada grupo uma das telas √© texto, a segunda √© gr√°fica, com fontes criadas artificialmente na forma de figuras de glifos.  Aqui, n√£o vamos nos debru√ßar sobre a quest√£o de exibir informa√ß√µes nos displays para n√£o aumentar o texto j√° extenso do artigo e exemplos: devido √† presen√ßa de figuras de glifos que precisam ser exibidas individualmente (geralmente listando simplesmente as op√ß√µes usando o operador case), os programas de sa√≠da podem ser muito volumoso.  Para obter informa√ß√µes sobre como lidar com esses monitores, consulte a publica√ß√£o do autor, ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modo gr√°fico e de texto dos monitores Winstar</a> ‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> que inclui um exemplo de um monitor para a sa√≠da de dados de vento. <br><br>  <b>Diagrama de circuito</b>  O rel√≥gio e seus monitores s√£o atendidos por um controlador Arduino Mini separado para facilitar a instala√ß√£o e n√£o vamos mais desmont√°-los aqui.  O diagrama de conex√£o dos componentes ao Arduino Nano, que controla a recep√ß√£o e a sa√≠da de dados clim√°ticos, √© o seguinte: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c6/0c2/49d/6c60c249dfa514a332194b8c5cc10e95.png" width="1000" alt="imagem"><br><br>  Aqui, ao contr√°rio do m√≥dulo remoto, √© exibida a conex√£o dos sensores clim√°ticos - um bar√¥metro e um sensor interno de temperatura e umidade.  Preste aten√ß√£o √† fia√ß√£o el√©trica - os monitores s√£o alimentados por um estabilizador separado de 5 V do tipo LM1085.  √â natural alimentar o rel√≥gio exibido a partir dele, mas, neste caso, o controlador do rel√≥gio tamb√©m deve ser alimentado pela mesma tens√£o e, atrav√©s da sa√≠da de 5 V, n√£o do Vin (para o Mini Pro, o √∫ltimo √© chamado de RAW).  Se voc√™ alimentar o controlador do rel√≥gio da mesma maneira que Nano-9 volts atrav√©s do pino RAW, seu estabilizador interno entrar√° em conflito com os 5 volts externos e, √© claro, os mais fortes vencer√£o nesta luta, ou seja, o LM1085 e o Mini permanecer√£o completamente sem energia.  Al√©m disso, para evitar todo tipo de problema, antes de programar o Nano e especialmente o Mini (ou seja, antes de conectar o cabo USB), o adaptador externo deve ser desconectado. <br><br>  No estabilizador LM1085, quando todos os quatro monitores estiverem conectados, a energia ser√° alocada em torno de um watt; portanto, ele deve ser instalado em um pequeno radiador a cerca de 5 a 10 cm2 de um canto de alum√≠nio ou cobre. <br><br>  Recep√ß√£o e processamento de dados.  Aqui reproduzo e comento apenas fragmentos do programa relacionados a dados de vento, algumas palavras sobre outros sensores abaixo. <br><br>  Para receber uma mensagem em um canal de 433 MHz, √© aplic√°vel o m√©todo padr√£o descrito em muitas fontes.  Conectamos a biblioteca e declaramos as vari√°veis: <br><br><pre> <code class="plaintext hljs">#include &lt;VirtualWire.h&gt; . . . . . int volt; //      float batt; //  ‚Äî   byte wDir; //    uint16_t t_time = 0; //   char str[5]; //   uint8_t buf[VW_MAX_MESSAGE_LEN]; //    uint8_t buflen = VW_MAX_MESSAGE_LEN; // max    . . . . .</code> </pre><br>  Uma peculiaridade est√° relacionada ao tamanho do buffer buflen: declarar seu valor (VW_MAX_MESSAGE_LEN) uma vez no in√≠cio do programa n√£o √© suficiente.  Como essa vari√°vel aparece por refer√™ncia na fun√ß√£o de recebimento (veja abaixo), o tamanho da mensagem padr√£o deve ser atualizado a cada ciclo.  Caso contr√°rio, devido √† recep√ß√£o de mensagens corrompidas, o valor do buflen ser√° reduzido a cada vez at√© voc√™ come√ßar a receber todos os tipos de bobagens em vez de dados.  Nos exemplos, essas duas vari√°veis ‚Äã‚Äãs√£o geralmente declaradas localmente no ciclo loop (), porque o tamanho do buffer √© atualizado automaticamente, e aqui vamos simplesmente repetir a atribui√ß√£o do valor desejado no in√≠cio de cada ciclo. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No procedimento de configura√ß√£o, fa√ßa as seguintes configura√ß√µes: </font></font><br><br><pre> <code class="plaintext hljs">void setup() { delay (500); //    pinMode(16,INPUT_PULLUP); //   vw_setup(1200); //   VirtualWire vw_set_rx_pin(17); //A3   VirtualWire . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de tomar qualquer coisa, o intervalo de tempo t_time decorrido desde a √∫ltima recep√ß√£o √© verificado. </font><font style="vertical-align: inherit;">Se excedeu os limites razo√°veis ‚Äã‚Äã(por exemplo, 48 segundos - tr√™s vezes o tempo de repeti√ß√£o de mensagens da unidade externa), isso √© percebido como uma perda do sensor e, de alguma forma, √© exibido no visor:</font></font><br><br><pre> <code class="plaintext hljs">void loop() { vw_rx_start(); //   buflen = VW_MAX_MESSAGE_LEN; //     if ((int(millis()) - t_time) &gt; 48000) // t_time    48  { &lt;   &gt; }//end    if (vw_have_message()) { //  if (vw_get_message(buf, &amp;buflen)) //    { vw_rx_stop(); //    t_time = millis(); // t_time for (byte i=0;i&lt;3;i++) //     str[i]= buf[i]; str[3]='\0'; if((str[0]=='D')&amp;&amp;(str[1]=='A')&amp;&amp;(str[2]=='T')) { //  // : for (byte i=3;i&lt;7;i++) //     str[i-11]= buf[i]; //     volt=atoi(str); //    volt=(volt/10)-100; //   4-  batt=float(volt)/55.5; //       //      for (byte i=7;i&lt;11;i++) //     str[i-15]= buf[i]; //     int w_Dir=atoi(str); //    w_Dir=(w_Dir-1000)/10; //    wDir=lowByte(w_Dir); //  -   &lt;      case&gt; . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coeficiente 55.5 - convers√£o do valor do c√≥digo ADC em uma tens√£o real, seu valor depende da tens√£o de refer√™ncia e dos valores dos resistores do divisor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A prop√≥sito, o c√≥digo Gray tem uma caracter√≠stica: a ordem dos bits n√£o √© importante, o c√≥digo salva todas as suas propriedades quando elas s√£o reorganizadas. E como ao descriptografar, ainda consideramos cada caso separadamente, os bits podem ser visualizados em qualquer ordem e at√© confusos quando conectados. Outra quest√£o √© se voc√™ deseja resolver esse assunto de alguma forma - por exemplo, crie uma matriz de valores de dire√ß√£o ("s", "ssz", "sz", "ssz", "z" etc.) e, em vez de considera√ß√£o individual cada op√ß√£o para extrair designa√ß√µes por n√∫mero nessa matriz. Ent√£o seria necess√°rio converter o c√≥digo Gray em um bin√°rio ordenado, e a ordem dos bits teria um papel significativo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E, finalmente, extra√≠mos o valor da velocidade e fechamos todos os operadores: </font></font><br><br><pre> <code class="plaintext hljs">. . . . . for (byte i=19;i&lt;23;i++) //     str[i-19]= buf[i]; //     int wFrq=atoi(str); //    wFrq = (wFrq-1000)/10; //   4-  wFrq=10+0.5*wFrq;//      &lt;    &gt; }//end if str=DAT }//end vw_get_message } //end vw_have_message(); . . . . .</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui 10 + 0,5 * wFrq √© a equa√ß√£o do calibre. </font><font style="vertical-align: inherit;">10 dm / s (ou seja, 1,0 metro por segundo) √© o limite para a partida e 0,5 √© o coeficiente para converter a frequ√™ncia em velocidade (em dm / s). </font><font style="vertical-align: inherit;">Com um valor zero da frequ√™ncia de entrada, esta equa√ß√£o fornece 10 dm / s, portanto, deve-se tomar cuidado separadamente para que n√£o seja 1 m / s, mas um valor zero. </font><font style="vertical-align: inherit;">Voc√™ pode calibrar o sensor de velocidade usando qualquer um dos anem√¥metros port√°teis e ventiladores de mesa mais baratos. </font><font style="vertical-align: inherit;">N√£o tente determinar o limite inicial experimentalmente - ser√° muito mais preciso se dois ou tr√™s pontos do valor direto da calibra√ß√£o da velocidade V versus a frequ√™ncia F forem observados: V = V + K √ó F em diferentes vaz√µes, ent√£o o limite inicial √© determinado automaticamente como o valor de V (ordenada de pontos intersec√ß√£o desta linha com o eixo das velocidades).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de fechar o loop principal, voc√™ precisa fazer mais uma coisa. Temos a tens√£o da bateria, mas voc√™ n√£o precisa exibi-la o tempo todo - apenas ocupe espa√ßo. Para fazer isso, precisamos do bot√£o Kn1 - clicando nele, substitu√≠mos temporariamente (at√© a pr√≥xima atualiza√ß√£o de dados) a linha externa temperatura-umidade pelo valor da tens√£o:</font></font><br><br><pre> <code class="plaintext hljs">. . . . . if (digitalRead(16)==LOW){ //  &lt;   ,   -&gt; }//  delay(500); }// loop</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tinha um bot√£o, como pode ser visto no circuito, com um contato de comuta√ß√£o, mas nada impede a instala√ß√£o do habitual com um contato de fechamento, conectando-o √† fonte de alimenta√ß√£o atrav√©s de um resistor. Voc√™ tamb√©m pode adicionar a isso o piscar de s√≠mbolos no visor se a tens√£o da bateria cair abaixo de, por exemplo, 10 volts, como um sinal de que √© hora de alter√°-la. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em conclus√£o sobre sensores clim√°ticos.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como sensor externo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">utilizado</font></a><font style="vertical-align: inherit;"> o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SHT-75</font></a><font style="vertical-align: inherit;"> - o √∫nico sensor amador que encontrei que n√£o requer calibra√ß√£o e mostra valores reais de temperatura e umidade diretamente "prontos para uso" (da√≠ o seu alto pre√ßo). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma biblioteca para conect√°-lo pode ser encontrada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A SHT-75 foi projetada de maneira est√∫pida: o substrato met√°lico da placa conduz muito bem o calor, portanto deve ser completamente removido fora da caixa. Caso contr√°rio, a presen√ßa de apenas um controlador do tipo ATmega328 com um regulador de energia em um gabinete fechado √© suficiente para aquecer o sensor atrav√©s do substrato em alguns graus, mesmo que sua cabe√ßa seja retirada. Meu esquema com sensores de vento, com suas correntes de 20-130 mA (mesmo que sejam insignificantes milissegundos, corrente) aqueceu o SHT-75 graus em cinco, ent√£o ele foi trazido e instalado separadamente em uma placa de pl√°stico grudada lateralmente no corpo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os dados do SHT-75 s√£o obtidos pelo mesmo controlador que os dados dos sensores de vento e enviados do m√≥dulo remoto em um √∫nico pacote atrav√©s de um canal sem fio de 433 MHz. Para transmiss√£o, eles tamb√©m s√£o convertidos preliminarmente para um formato de string de 4 bytes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para medir a temperatura e a umidade dentro da sala, o banal DHT-22 foi escolhido - j√° que o alcance √© pequeno em compara√ß√£o com a rua, n√£o faz diferen√ßa qual sensor usar (exceto, √© claro, o DHT-11, que n√£o deve ser usado em hip√≥tese alguma, em qualquer circunst√¢ncia). simplesmente n√£o √© funcional). A temperatura do DHT-22 foi corrigida por medi√ß√µes com um term√¥metro de merc√∫rio (elas coincidiram completamente com o SHT-75!), E a umidade foi levemente achatada em compara√ß√£o com o SHT-75. As corre√ß√µes s√£o inseridas imediatamente antes da exibi√ß√£o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A prop√≥sito, o DHT-22 tamb√©m precisa ser retirado do gabinete com monitores - caso contr√°rio, inevitavelmente esquentar√° e mentir√°. Eu o fixo em uma montagem pl√°stica na parte inferior da caixa, a uma dist√¢ncia de dez mil√≠metros dela. Essa circunst√¢ncia, a prop√≥sito, como suspeito, √© uma das raz√µes (exceto pela falta de calibra√ß√£o individual) que todas as esta√ß√µes meteorol√≥gicas dom√©sticas da marca RST e Oregon est√£o descaradamente no testemunho, mesmo tendo uma propaga√ß√£o de si (um sensor interno com externo) de dois a tr√™s graus e at√© dez por cento de umidade. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bar√≥metro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ele n√£o apresenta problemas, uma vez que quase todos os produtos dispon√≠veis comercialmente s√£o fabricados na mesma base - o chip microeletromec√¢nico (MEMS) BMP180 ou suas modifica√ß√µes. Minha experi√™ncia pessoal de tentar usar uma variante mais rara baseada no LPS331AP foi negativa: foi mais dif√≠cil encontrar uma biblioteca para ela e, ainda por cima, foi encontrado um conflito com outros dispositivos no barramento I2C. As leituras do bar√¥metro podem precisar ser ajustadas no local da instala√ß√£o - a cada 10-12 metros acima do n√≠vel do mar, reduz a press√£o em 1 mm Hg.</font></font> Art.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, um determinado valor ter√° que ser subtra√≠do (ou adicionado) das leituras para que a press√£o corresponda √†s leituras da esta√ß√£o meteorol√≥gica oficial na √°rea. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o trago todos os programas das esta√ß√µes meteorol√≥gicas completamente - eles s√£o bastante volumosos e voc√™ ainda n√£o poder√° repetir a constru√ß√£o individualmente. Se alguma coisa, bata no PM. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD de 30/06/17.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Energia instalada a partir de um painel solar. Kit daqui: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">controlador de </font></a></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">painel solar</font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bateria</a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos juntos + entrega em Moscou dentro de 2,5 tyr. Funciona perfeitamente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma t√©cnica interessante para calcular a energia da bateria solar e da bateria, oferecida pelos consultores deste site. Um exemplo de c√°lculo de 3 W de consumo de energia (tenho muito menos), cito: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú3W multiplicado por 24h e dividido por 6 = 12Ah, essa √© a capacidade m√≠nima da bateria </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3W multiplicado por 24h e dividido por 3h = 24W, essa √© a pot√™ncia m√≠nima da bateria solar‚Äù</font></font><br>  Nenhum coment√°rio. <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No meu caso, a energia resultante de uma usina de energia solar √© dez vezes maior que o necess√°rio nas piores condi√ß√µes clim√°ticas. Portanto, no controlador do sensor, voc√™ n√£o pode se preocupar particularmente com a economia de energia e aplicar as frequ√™ncias necess√°rias para fazer leituras e calcular valores m√©dios. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD de 13/09/18.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por quase duas temporadas de opera√ß√£o, os pontos fortes e fracos da esta√ß√£o foram revelados. Fraco - antes de tudo, o ciclo de atualiza√ß√£o das leituras de 16 segundos (de quatro s√©ries de medi√ß√µes), como era inicialmente, √© muito longo. Instalar uma bateria solar com uma bateria reserva nos permitiu n√£o pensar em economia de energia e brincar com o tempo do ciclo. Como resultado, o ciclo foi ajustado em 8 segundos (quatro medi√ß√µes em dois segundos).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partir de melhorias mec√¢nicas, um rolamento axial s√≥lido foi introduzido sob a ponta do sensor de velocidade (sim, fui avisado sobre sua necessidade naquela √©poca, mas n√£o descobri como faz√™-lo). Ap√≥s algum tempo, o eixo do sensor cortou completamente o suporte fluoropl√°stico e o limiar inicial aumentou acentuadamente (a prop√≥sito, isso n√£o afetou a sensibilidade do cata-vento). Portanto, o suporte foi substitu√≠do por um mancal de a√ßo inoxid√°vel, no qual um pequeno recesso foi feito com uma broca fina. Prevejo que ent√£o terei que inventar outra coisa com um ponto que, como todo o eixo, seja feito de duralum√≠nio. Mas adiei at√© o momento em que o sensor ainda precisa ser refeito: o disco do laser, tomado como base do design, ficou nublado com o sol por duas esta√ß√µes e come√ßou a rachar. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD a partir de 06/05/19.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre a altera√ß√£o do sensor (o mesmo cata-vento restante). O sensor de velocidade teve que ser refeito devido ao eixo desgastado e devido ao disco a laser inutiliz√°vel. A base do design permanece a mesma, mas o novo disco a laser √© pintado com tinta spray dourada. A solu√ß√£o para a ponta do eixo foi encontrada na seguinte forma. Um recesso foi perfurado com precis√£o no eixo dural exatamente no centro, e uma guarni√ß√£o do topo da torneira chinesa de 3 mm foi inserida na segunda cola. A ponta da torneira √© um cone bem centrado, com um √¢ngulo de cerca de 70 a 80 graus, al√©m de ter sido polida com uma pele nula e depois uma pasta GOI. Como base, usei a cabe√ßa de um parafuso M3 inoxid√°vel com uma fenda serrada, na qual um pequeno recesso central √© marcado com uma broca convencional D = 2 mm. Este parafuso foi parafusado diretamente no recesso no fluoropl√°stico,serrado com um eixo anterior ao alinhamento.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ponta do eixo foi lubrificada com graxa de grafite para proteg√™-la da corros√£o (j√° que as propriedades de a√ßo inoxid√°vel da torneira s√£o desconhecidas para mim). </font><font style="vertical-align: inherit;">Ap√≥s uma moagem, o limiar inicial diminuiu tanto que ficou imposs√≠vel medir com um anem√¥metro de marca, no qual o limiar √© de cerca de 0,3-0,5 cm / s. </font><font style="vertical-align: inherit;">De acordo com dados indiretos (atrav√©s da constru√ß√£o de uma linha reta em dois pontos), um limite de 0,3 m / s foi adotado voluntariamente, embora seja prov√°vel que seja um pouco menor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A principal mudan√ßa nos algoritmos de c√°lculo tamb√©m diz respeito aos sensores de vento, e achei √∫til colocar isso em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo separado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt404385/">https://habr.com/ru/post/pt404385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt404375/index.html">Not√≠cias qu√¢nticas da IBM: lan√ßados dois poderosos processadores de um novo tipo</a></li>
<li><a href="../pt404377/index.html">O mundo da ‚ÄúInternet das coisas‚Äù russa: banda T, Element, X-turion, FlipFlic e muito mais</a></li>
<li><a href="../pt404379/index.html">Estamos √† procura de oradores no DIY-mitap 1 de julho</a></li>
<li><a href="../pt404381/index.html">V√≠deo 3D DIY</a></li>
<li><a href="../pt404383/index.html">Formlabs apresentou o Fus√≠vel 1, a Top 3D Shop encontrou um vencedor</a></li>
<li><a href="../pt404387/index.html">Ele fez uma entrevista em v√≠deo com o vice-presidente Arduino e discutiu com seus alunos FPGAs / FPGA e Verilog</a></li>
<li><a href="../pt404389/index.html">Atmotube Atmosphere Tube - Sensor port√°til de qualidade do ar</a></li>
<li><a href="../pt404391/index.html">Impressora n√≠vel 80. Epson WorkForce Enterprise</a></li>
<li><a href="../pt404393/index.html">Bobby Compact - uma nova gera√ß√£o de mochila "anti-roubo"</a></li>
<li><a href="../pt404395/index.html">Hist√≥rias em torno do mecanismo SCUMM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>