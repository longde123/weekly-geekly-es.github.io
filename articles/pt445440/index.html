<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç® üè£ üñïüèæ Revis√£o de c√≥digo: dicas ruins para colaborador e revisor üçí üßíüèª ‚ô¶Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Meu nome √© Nikolai Izhikov. Neste post, quero falar sobre um importante elemento de intera√ß√£o que encontramos no processo de desenvolvimento de sof...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revis√£o de c√≥digo: dicas ruins para colaborador e revisor</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/445440/">  Oi  Meu nome √© Nikolai Izhikov.  Neste post, quero falar sobre um importante elemento de intera√ß√£o que encontramos no processo de desenvolvimento de software, especialmente em c√≥digo aberto.  Esta √© uma explica√ß√£o passo a passo e uma revis√£o de c√≥digo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f66/961/f2e/f66961f2edb745a1eb878a96ed620c37.jpg"></div><br>  Darei conselhos <s>prejudiciais</s> sobre como criar meu recurso e integr√°-lo no assistente de projeto de c√≥digo aberto no contexto de diferen√ßas culturais, temporais, conceituais e outras diferen√ßas entre os membros da comunidade.  Geralmente, essa √© uma pergunta complicada, especialmente para aqueles que est√£o come√ßando no c√≥digo aberto. <br><a name="habracut"></a><br>  Vamos come√ßar com uma pequena introdu√ß√£o.  Ao se comunicar com as pessoas, especialmente no bate-papo ou pelo correio, especialmente em ingl√™s, sempre lembre-se de que sua mensagem pode ser percebida de maneira completamente diferente da esperada.  Quem ler√° a carta √© desconhecido.  Ele pode ser hindu, ingl√™s ou apenas uma pessoa com sono.  Sempre haver√° diferen√ßas no entendimento de palavras espec√≠ficas e, sem entrar em detalhes t√©cnicos, mostrarei como minimiz√°-las. <br><br>  Aten√ß√£o: a hist√≥ria cont√©m sarcasmo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b54/30b/4dc/b5430b4dc996b905cf0bc8be46c8ad35.png"><br><br><h2>  Dicas ruins para um colaborador </h2><br><h4>  N√£o discuta um novo recurso com ningu√©m </h4><br>  Se voc√™ deseja implementar um novo recurso, em nenhum caso discuta sua revis√£o com ningu√©m.  Algu√©m pode escutar e fazer isso antes de voc√™!  Ou, depois de ouvir os detalhes, eles podem dizer que voc√™ n√£o entendeu algo - para criticar sua ideia.  A cr√≠tica d√≥i muito.  Talvez um recurso como o seu j√° tenha sido discutido e voc√™ precise de outro ... Em geral, nunca diga a ningu√©m o que voc√™ deseja fazer.  Nunca. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af9/8b2/782/af98b278223872d47d0a28513325484b.png"><br><br><h4>  Nunca fa√ßa documenta√ß√£o t√©cnica </h4><br>  Committers e caras experientes da comunidade gostam muito de entender o c√≥digo do patch recebido.  Portanto, em nenhum caso, n√£o fa√ßa documenta√ß√£o t√©cnica.  Discuss√£o sobre Wiki, Jira, lista de e-mails - tudo isso √© um absurdo completo.  E a besteira n√£o √© para voc√™! <br><br>  Quando voc√™ envia um patch para [+5000, -3500] com uma descri√ß√£o dos aprimoramentos na forma de "aprimoramentos dos m√©todos de f√°brica e alguns outros aprimoramentos", todos descobrir√£o eles mesmos e, ao mesmo tempo, entender√£o como voc√™ √© bom. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df5/f4e/2c5/df5f4e2c5e4b566598e5052e45e36472.png"><br><br><h4>  Nunca execute testes </h4><br>  Qualquer teste √© perigoso porque pode quebrar alguma coisa.  Se voc√™ ainda conseguiu executar os testes, n√£o mostre seus resultados.  Erros nos resultados podem levar √† rejei√ß√£o do patch!  E definitivamente nunca escreva novos testes.  Executar Tudo ser√° mais longo, o consumo da CPU aumentar√°.  De qualquer forma, bons desenvolvedores escrevem c√≥digo sem erros - qualquer colega experiente examinar√° suas corre√ß√µes e entender√° que n√£o h√° erros. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/c6d/0ac/f40c6d0acfce007dae2bad5a621085a1.png"><br><br><h4>  Nunca Leia Como Fazer </h4><br>  Entrando em um projeto de c√≥digo-fonte aberto, nunca leia nenhum manual de instru√ß√µes.  Eles s√£o escritos para tolos, certo? <br>  Crie seu c√≥digo √† sua maneira.  Caso contr√°rio, como todos entender√£o que voc√™ √© um bom desenvolvedor e uma pessoa criativa vers√°til com um senso de beleza desenvolvido? <br><br>  Envie corre√ß√µes conforme for conveniente para voc√™.  Por exemplo, o projeto est√° vinculado √† infraestrutura do GitHub - envie-o como √© enviado ao kernel do linux, diretamente na carta.  Voc√™ pode at√© n√£o no anexo, mas diretamente no texto.  Afinal, Linus Torvalds n√£o aconselha mal!  E se o projeto for adotado de maneira diferente, esses s√£o problemas do projeto. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/952/f16/116/952f16116b7e47ef6f040a9283184291.png"><br><br><h4>  Sinta-se livre para complicar a API p√∫blica </h4><br>  Ao desenvolver a nova API p√∫blica, tente torn√°-la a mais abstrata e complexa poss√≠vel.  Qualquer d√∫vida do usu√°rio sobre o comportamento n√£o √≥bvio da API sempre pode ser respondida: ‚ÄúVoc√™ n√£o leu o manual?  P√°gina 42, tudo est√° escrito claramente!  Leia de novo!  Em projetos s√©rios, tudo deve ser complicado.  Temos um projeto s√©rio? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed8/a6b/6db/ed8a6b6db0196c7e61c5d8e80fcfee72.png"><br><br><h4>  N√£o aconselhe ou fale sobre problemas </h4><br>  N√£o consulte ningu√©m e n√£o conte a ningu√©m sobre os problemas encontrados no desenvolvimento.  √â muito mais divertido entender uma coisa.  De qualquer forma, bons desenvolvedores sempre obt√™m sucesso na primeira vez, n√£o t√™m problemas.  Se outras pessoas descobrirem seus problemas, elas se tornar√£o mais inteligentes e escrever√£o um c√≥digo mais rapidamente que voc√™.  Isso n√£o deve ser permitido.  E, de fato, n√£o √© habitual falar sobre seus problemas. <br><br>  As limita√ß√µes da decis√£o final tamb√©m n√£o merecem destaque.  Afinal, a solu√ß√£o pode ser solicitada a finalizar.  Quem se importa com restri√ß√µes?  Quando um usu√°rio come√ßa a apresentar seu produto e encontra restri√ß√µes, ele fica mais interessado e mais divertido.  Ele vir√° at√© voc√™ e solicitar√° que voc√™ termine.  E at√© este ponto, em nenhum caso, n√£o conte a ele sobre as restri√ß√µes - e se ele decidir n√£o implementar nada? <br><br>  Um revisor realmente bom encontrar√° tudo e solicitar√° detalhes.  Em nenhum caso, n√£o conte a ele nada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d64/b19/b2d/d64b19b2df118fa93c0f3c29cde71472.png"><br><br><h4>  Se voc√™ tiver d√∫vidas, escreva para a lista dev </h4><br>  Esta dica complementa a anterior.  √â melhor n√£o apenas n√£o contar nada a ningu√©m, mas tamb√©m fazer perguntas principalmente na lista de desenvolvedores. <br><br>  Aqui est√£o exemplos de perguntas que todo mundo gosta de responder.  Se voc√™ escrever algum tipo de teste, n√£o deixe de perguntar: "Voc√™ precisa verificar se h√° nulos nesta cole√ß√£o?".  Voc√™ n√£o precisa descobrir por conta pr√≥pria, sempre pode perguntar na planilha do desenvolvedor.  Afinal, h√° muitas pessoas que est√£o apenas esperando para fazer essa pergunta.  Eles procurar√£o responder mais rapidamente. <br><br>  "Como fa√ßo a tarefa?"  - Outra √≥tima pergunta.  Em nenhum caso, n√£o indique detalhes: o ID da tarefa ser√° suficiente.  Todos que precisarem ver√£o por si mesmos. <br><br>  "Qual estrutura usar?"  - tamb√©m √© uma pergunta muito boa.  √â sempre interessante responder e voc√™ pode debater. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84d/d90/71a/84dd9071ab1b361ecfc2d0936c3a87e9.png"><br><br><h4>  Corrija todos os problemas do projeto em uma solicita√ß√£o pull </h4><br>  Esta √© a minha dica favorita.  Corrija todos os problemas do projeto em uma solicita√ß√£o pull, especialmente se voc√™ estiver trabalhando na empresa.  Havia apenas tolos no projeto antes de voc√™, eles escreveram o c√≥digo mal.  E voc√™ escreve bem.  Portanto, voc√™ simplesmente deve: <br><br><ul><li>  Refatore todo o c√≥digo existente que voc√™ n√£o entende; <br></li><li>  renomeie todas, na sua opini√£o, vari√°veis ‚Äã‚Äãnomeadas incorretamente; <br></li><li>  corrija todos os coment√°rios javadoc existentes. <br></li></ul><br>  Em geral, voc√™ pode tirar e tirar algumas classes, f√°bricas etc., fazer outras transforma√ß√µes para que o c√≥digo seja melhor.  Isso parecer√° especialmente impressionante em √°reas que n√£o s√£o relevantes para sua tarefa.  Para que voc√™ possa revelar mais plenamente seu potencial.  Para a gl√≥ria do POO!  Am√©m! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e79/af3/a38/e79af3a385de40800b65304b4b5009fa.png"><br><br><h4>  Solicite uma revis√£o de c√≥digo com anteced√™ncia </h4><br>  Quando voc√™ executa uma tarefa e envia uma solicita√ß√£o para revis√£o de c√≥digo, o processo pode demorar um pouco.  Todos os especialistas geralmente est√£o ocupados.  Aproveite o truque: quando sua tarefa, como parece para voc√™, terminar em breve, solicite uma revis√£o com anteced√™ncia.  Afinal, eles n√£o parecer√£o imediatamente - at√© que suas m√£os cheguem at√© voc√™, voc√™ pode simplesmente terminar tudo. <br><br>  Bem, se o revisor repentinamente tiver tempo, embora a tarefa ainda n√£o tenha sido conclu√≠da, ele teve azar.  Explique a situa√ß√£o, diga que amanh√£ tudo estar√° pronto.  Dessa forma, voc√™ acelera o processo (pelo menos por revis√£o) e se mescla mais rapidamente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da9/3fe/85f/da93fe85f9a093e2f283452bebd845b4.png"><br><br><h4>  Cansado da tarefa - abandone-o </h4><br>  Todo mundo que trabalha em c√≥digo aberto tem muito tempo.  N√£o h√° necessidade de terminar nada.  Revis√£o de c√≥digo aprovada, coment√°rios recebidos.  E por que editar e trazer algo para mesclar?  Pegue o quebra-cabe√ßa a seguir e fa√ßa-o.  Este √© o caminho para o sucesso!  O revisor tem muito tempo e o pr√≥ximo patch ficar√° sem resultado! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/76f/468/c7f76f468fa689f4a4841816fe40810a.png"><br><br><h4>  O revisor √© seu inimigo </h4><br>  E o que mais para nomear a pessoa que fica entre voc√™ e o commit no mestre?  A cr√≠tica ao c√≥digo √© uma cr√≠tica a voc√™ pessoalmente!  Quem ele pensa que √©?  Na comunica√ß√£o pessoal, bombardeie o m√°ximo poss√≠vel!  Caso contr√°rio, como o revisor sabe que voc√™ se importa?  Esta √© a regra b√°sica do desenvolvimento! <br><br>  Eu recomendo este conselho no desenvolvimento di√°rio.  Isso ajuda a alcan√ßar o resultado e faz√™-lo corretamente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b35/cc2/6a7/b35cc26a71ecc4fa80d51b73d0789ec9.jpg"><br><br><h2>  Mau conselho para o revisor </h2><br><h4>  N√£o automatize verifica√ß√µes de rotina </h4><br>  Se voc√™ atingiu o n√≠vel no projeto quando as corre√ß√µes para revis√£o j√° est√£o sendo enviadas a voc√™, em nenhum caso, n√£o automatize as verifica√ß√µes de rotina!  √â muito mais divertido passar alguns ciclos de revis√£o na solu√ß√£o de problemas e discuss√£o: <br><br><ul><li>  formata√ß√£o de c√≥digo; <br></li><li>  nomea√ß√£o de vari√°veis; <br></li><li>  verifica se essas vari√°veis ‚Äã‚Äãest√£o marcadas como finais, que podem ser marcadas por elas; <br></li><li>  ... e tudo mais. <br></li></ul><br>  Em nenhum caso as verifica√ß√µes de rotina devem ser automatizadas.  Sim, e testes para n√£o levar a nada. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/181/763/e87/181763e878a864b49aff074117ad1c8b.png"><br><br><h4>  Nunca revele todas as regras do jogo at√© o fim. </h4><br>  Para estar √† frente, voc√™ sempre precisa manter um par de ases na manga.  N√£o conte a ningu√©m sobre a necessidade de compatibilidade com vers√µes anteriores.  √â melhor dizer logo antes do commit: "Aqui, de acordo com nossas regras, a compatibilidade com vers√µes anteriores deve ser garantida.  Por favor, corrija.  Isso ser√° especialmente eficaz se voc√™ j√° tiver revisado cinco vezes.  No sexto, ainda se pode dizer: "Eu n√£o sou especialista, ent√£o voc√™ precisa aguardar a revis√£o do Sr. X, que procurar√° novamente". <br><br>  Tais coment√°rios, especialmente na fase final da revis√£o, sempre adicionam motiva√ß√£o aos colaboradores. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e66/80a/66e/e6680a66eb6d5e1299f09d9064eefbc8.jpg"><br><br><h4>  Emo√ß√µes, autoridades e n√£o, obrigado </h4><br>  Essa dica se sobrep√µe √† mais recente dica de colaborador.  Escreva coment√°rios sobre a solicita√ß√£o pull o mais emocionalmente poss√≠vel.  Se algum lugar n√£o estiver marcado como nulo ou a vari√°vel n√£o tiver esse nome, adicione paix√£o aos seus coment√°rios.  Deixe-os ver que voc√™ se importa. <br><br>  Se surgir uma disputa, em nenhum caso forne√ßa argumentos t√©cnicos.  Com argumentos t√©cnicos, pode acontecer que voc√™ esteja errado.  Consulte as autoridades - este √© o melhor argumento da disputa, voc√™ sempre vencer√°. <br><br>  Se algu√©m passou por sua an√°lise, voc√™ nunca deve agradecer.  Ainda assim eles querem se comprometer com o c√≥digo aberto!  Em nenhum caso, n√£o tem que agradecer, e assim eles vir√£o novamente! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b92/260/83e/b9226083efc0f7cf90abd33ce83ca23d.png"><br><br><h2>  Agora, falando s√©rio: o que voc√™ deve pensar ao preparar e conduzir uma revis√£o de c√≥digo? </h2><br>  Espero que todos tenham entendido como conduzir e passar na revis√£o?  Em cada uma dessas dicas, al√©m do sarcasmo, h√° dores que geralmente ocorrem na pr√°tica. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54e/762/4a9/54e7624a9561e36f750d8f0178edf012.png"><br><br>  Serei o capit√£o da Evidence e direi o que voc√™ realmente precisa pensar ao preparar e conduzir uma revis√£o de c√≥digo.  As considera√ß√µes se aplicam ainda √†quele que desenvolve o recurso e √†quele que o revisar√°.  Ainda assim, esses s√£o dois lados da mesma moeda. <br>  O consenso na comunica√ß√£o √©, primeiramente, alcan√ß√°vel e, em segundo lugar, √© necess√°rio que o projeto avance.  Atualmente, poucos produtos podem ser desenvolvidos sozinhos.  Geralmente isso √© trabalho em equipe. <br><br><h4>  Use o bom senso </h4><br>  Este √© o conselho mais importante.  Use o bom senso, ele dirige.  Parece-me que este conselho se aplica a todas as situa√ß√µes da vida.  Se voc√™ estiver fazendo algo, considere se isso atende √† regra simples do senso comum? <br><br><h4>  Suponha ... </h4><br>  Isso √© sobre cultura.  Estive em v√°rias grandes comunidades de c√≥digo aberto.  N√£o sei se isso faz parte da mentalidade russa, mas muitas vezes uma pessoa que pode ser vista como chefe √© simultaneamente vista como uma pessoa que acidentalmente se encaixou.  Acredita-se que ele te queira mal, por padr√£o, h√° d√∫vidas sobre seu profissionalismo.  Portanto, √© muito importante em qualquer trabalho assumir pelo menos por um segundo que: <br><br><ul><li>  <i>O revisor (colaborador, seu chefe ou colega) n√£o √© seu inimigo</i> .  Ele n√£o quer que voc√™ seja ruim.  Essa √© uma suposi√ß√£o simples, mas geralmente n√£o √© feita.  Eu o aconselho a fazer o mesmo. <br></li><li>  <i>A pessoa que escreve seus coment√°rios tamb√©m √© um bom engenheiro.</i>  Voc√™, √© claro, √© bom, criou esse recurso.  Mas existem muitos outros bons engenheiros no mundo.  E quem enviou os coment√°rios tamb√©m se aplica a eles. <br></li><li>  <i>Essa pessoa tamb√©m quer que sua tarefa seja realizada.</i> <i><br></i> <br>  Quando ele pede alguma coisa, ele tem algum tipo de motiva√ß√£o.  Ele faz isso por uma raz√£o.  Especialmente se essa pessoa n√£o for o primeiro dia do projeto.  Certamente h√° alguma raz√£o.  Voc√™ pode perguntar sobre este motivo: Por que voc√™ precisa fazer exatamente isso?  Por que a compatibilidade com vers√µes anteriores √© necess√°ria aqui?  Se voc√™ fizer perguntas simples com calma, razoabilidade e ouvir as respostas, poder√° obter mais. <br></li></ul><br><h4>  Qual o valor que o produto trar√°? </h4><br>  A revis√£o n√£o √© apenas corre√ß√µes prontas, mas tamb√©m melhorias, corre√ß√µes do projeto.  De fato, a revis√£o de c√≥digo come√ßa no momento em que voc√™ est√° apenas discutindo sua revis√£o.  Nesse ponto, pergunte-se: que valor o produto trar√° para o produto? <br><br><ul><li>  Ser√° um novo recurso? <br></li><li>  Isso √© uma melhoria existente? <br></li><li>  Extens√£o de um recurso existente? <br></li><li>  Ser√° uma refatora√ß√£o de c√≥digo?  N√£o h√° nada de errado nisso.  Alguns s√£o cr√≠ticos da refatora√ß√£o, mas √© necess√°rio.  E voc√™ precisa estar ciente de que est√° fazendo isso, e n√£o um novo recurso ou outra coisa. <br></li><li>  Est√° acelerando um processo, melhorando o desempenho? <br></li><li>  Isso √© uma corre√ß√£o de bug? <br></li></ul><br>  Existem outras op√ß√µes.  De qualquer forma, come√ßando a desenvolver algo, a resolver um problema, voc√™ deve entender qual valor agregar√° ao projeto. <br><br><h4>  Por que a revis√£o (recurso) √© assim? </h4><br>  H√° v√°rias perguntas √∫teis a serem feitas. <br><br>  <i>Por que criar um recurso?</i>  <i>Por que esse recurso √© necess√°rio?</i>  A resposta a esta pergunta √© importante. <br><br>  <i>Onde √© o in√≠cio do trabalho?</i>  Na minha pr√°tica, aconteceu que me pediram para refazer uma certa aplica√ß√£o.  H√° um aplicativo A, voc√™ precisa fazer um aplicativo B, que faz quase o mesmo com pequenas altera√ß√µes.  Come√ßo a fazer o trabalho e acontece que A basicamente n√£o funciona.  De fato, ele √© usado em algum lugar da produ√ß√£o usando a interface homem-m√°quina - ou seja, algu√©m senta e reinicia constantemente o programa, corrigindo literalmente a exce√ß√£o do ponteiro nulo no ar.  Onde √© o in√≠cio do trabalho?  Nesse caso, ele estar√° consertando o programa A para que funcione de maneira est√°vel e, em seguida, escrevendo o programa B. <br><br>  <i>Onde est√° a conclus√£o completa do trabalho?</i>  <i>Como o trabalho realizado deve parecer ideal?</i>  √â importante formular desde o in√≠cio aonde voc√™ est√° indo. <br><br>  <i>Onde est√° o fim do est√°gio atual?</i>  √â claro que voc√™ n√£o pode comer um elefante imediatamente e √© melhor dividir o trabalho em etapas.  √â importante entender onde est√° o fim do est√°gio atual.  Muitas vezes, os projetos s√£o inflados e n√£o terminam apenas porque o escopo do projeto se torna infinitamente grande. <br><br>  <i>Por que o recurso √© dividido precisamente nessas etapas?</i>  Isso √© sobre MVP e tudo isso.  Por favor, pense sobre isso tamb√©m. <br><br><h4>  Agora sobre a API p√∫blica </h4><br>  Existem muitos artigos sobre as propriedades da API p√∫blica.  Leia antes de implement√°-lo.  Como um bom exemplo, posso citar a estrutura JQuery Spring em Java.  Existem tamb√©m exemplos negativos.  Quem programa em Java h√° anos, provavelmente se lembra do terr√≠vel do ponto de vista da API p√∫blica EJB 2.1.  A funcionalidade pode ser boa, mas se a API p√∫blica for ruim, ningu√©m poder√° convencer os usu√°rios a usar o produto. <br><br>  A API p√∫blica n√£o √© apenas uma ferramenta para usu√°rios de terceiros.  Isso e a API dos componentes internos, que voc√™ mesmo reutiliza entre si.  Propriedades importantes da API p√∫blica: <br><br><ul><li>  Simplicidade. <br></li><li>  A evid√™ncia. <br></li><li>  Os padr√µes corretos.  Vale a pena pensar neles, se, por exemplo, em um ambiente de teste, voc√™ criar 500 threads, como na produ√ß√£o.  Ou vice-versa, na produ√ß√£o, por padr√£o, existem tr√™s threads, como em um ambiente de teste. <br></li><li>  Limpar mensagens de erro.  Este √© o flagelo de tantos produtos.  Quando algo cai dentro do sistema, n√£o est√° claro o que √© feito de errado.  Ontem funcionou, hoje uma exce√ß√£o de ponteiro nulo.  O que exatamente voc√™ fez de errado e como corrigi-lo n√£o est√° claro na mensagem de erro. <br></li><li>  √â dif√≠cil cometer um erro.  H√° muitas recomenda√ß√µes sobre essa pontua√ß√£o.  As verifica√ß√µes em tempo de compila√ß√£o s√£o sempre melhores que as verifica√ß√µes em tempo de execu√ß√£o, etc. <br></li><li>  Logs claros e suficientes.  Isso √© especialmente importante quando voc√™ escreve um c√≥digo que ser√° reutilizado e implantado em algum lugar do servidor. <br></li><li>  A capacidade de monitorar.  Voc√™ precisa entender que os logs e o monitoramento tamb√©m fazem parte da sua API p√∫blica.  Ao analisar erros, os usu√°rios ver√£o como se comportam as m√©tricas que voc√™ exp√µe no monitoramento. <br></li></ul><br><h4>  Altera√ß√µes do subsistema </h4><br>  Quando voc√™ vem para a revis√£o de c√≥digo, √© importante ter em mente uma lista completa de sistemas e subsistemas de um grande produto em que voc√™ est√° alterando.  Em projetos empresariais, pode n√£o estar claro: se √© um esquema de banco de dados, um controlador ou uma apresenta√ß√£o, algum tipo de sistema de relat√≥rios, uploads, downloads etc. <br><br>  Ao trabalhar com um produto in a box, √© importante se perguntar: como as mudan√ßas afetam os processos existentes no sistema?  Existe uma compatibilidade com vers√µes anteriores?  Isso afeta o desempenho?  Se isso afeta, ent√£o o desempenho de qu√™?  Como isso afeta a experi√™ncia do usu√°rio? <br><br><h4>  Processos padr√£o do sistema </h4><br>  Cada sistema comercial possui processos padr√£o: in√≠cio, instala√ß√£o, alguma lista de opera√ß√µes.  Como eles v√£o fluir agora?  Antes da revis√£o do c√≥digo, √© importante entender isso.  Voc√™ deve passar pelo c√≥digo que implementa esses processos.  No caso do Ignite, √© o seguinte: <br><br><ul><li>  In√≠cio / Parada do N√≥ (servidor / cliente, coordenador / regular) - inicia, para um n√≥, inicia um servidor ou n√≥ do cliente, inicia um coordenador ou um n√≥ normal <br></li><li>  Jun√ß√£o de n√≥ - em termos de um novo n√≥ / coordenador / servidor / cliente <br></li><li>  Ativa√ß√£o de cluster (e desativa√ß√£o) <br></li><li>  Mudan√ßa de coordenador <br></li><li>  Criar / excluir cache <br></li><li>  Persist√™ncia / BLT / MVCC <br></li></ul><br>  √â claro que o conjunto desses processos √© bastante grande.  √â importante entender que esses processos existem e como eles mudam. <br><br><h4>  Caixas de canto </h4><br>  Em seu aplicativo de neg√≥cios, recupera√ß√£o de desastre, inicializa√ß√£o inicial do sistema, desligamento do n√≥, reinicializa√ß√£o, atualiza√ß√£o do aplicativo e coisas semelhantes podem acontecer.  No caso do Ignite, temos os seguintes casos de canto: <br><br><ul><li>  mudan√ßa de coordenador; <br></li><li>  queda de n√≥; <br></li><li>  problemas de rede - quando as mensagens da rede n√£o chegam; <br></li><li>  arquivos quebrados. <br></li></ul><br>  Devemos verificar e verificar essas coisas para que tudo esteja em ordem. <br><br><h4>  Bons recursos de c√≥digo </h4><br>  Ent√£o chegamos ao c√≥digo.  Eu aconselho voc√™ a n√£o ser pregui√ßoso e procurar nele: <br><br><ul><li>  simplicidade <br></li><li>  extensibilidade <br></li><li>  testabilidade <br></li><li>  confiabilidade <br></li><li>  alta velocidade de trabalho. <br></li></ul><br><h4>  Concorr√™ncia </h4><br>  Java tem suas pr√≥prias peculiaridades ao escrever c√≥digo de simultaneidade.  Se voc√™ possui um sistema comercial e h√° pouca concorr√™ncia l√°, n√£o precisa considerar esses recursos.  No entanto, geralmente algumas sincroniza√ß√µes passam pelo banco de dados.  Em coisas como Ignite, isso √© um pouco mais complicado.  E aqui, n√£o apenas a funcionalidade do c√≥digo √© importante, mas tamb√©m suas propriedades: <br><br><ul><li>  Qu√£o dif√≠cil √© entender o seu modelo de concorr√™ncia? <br></li><li>  Estrutura de dados compartilhada - como √© garantida sua integridade? <br></li><li>  Fechaduras - o qu√™ e por qu√™? <br></li><li>  Threads - quais pools s√£o usados?  Porque <br></li><li>  Garantias de visibilidade das mudan√ßas - para que s√£o fornecidas? <br></li></ul><br>  Essas perguntas devem ser feitas antes da revis√£o do c√≥digo de simultaneidade.  √â claro que esta lista pode ser continuada por um per√≠odo muito longo. <br><br><h4>  Testes de desempenho.  Benchmarks </h4><br>  Se voc√™ estiver desenvolvendo algum tipo de sistema, ele possui clientes, instala√ß√µes, e obviamente funciona com algum desempenho.  No mundo de hoje, √© imposs√≠vel aumentar a pot√™ncia do hardware indefinidamente.  Precisamos de testes e monitoramento de desempenho.  Ao realizar uma revis√£o de c√≥digo, √© importante entender: <br><br><ul><li>  O teste de desempenho √© necess√°rio?  Talvez seja algum tipo de refinamento que n√£o precise de testes de desempenho? <br></li><li>  Se necess√°rio, qual?  Existem muitas t√©cnicas e m√©todos de medi√ß√£o, etc. <br></li><li>  Onde-como-o que precisa ser medido? <br></li><li>  Quais refer√™ncias s√£o indicativas?  O n√∫mero de n√≥s?  Ferro?  Acender configura√ß√£o?  A natureza da carga? <br></li></ul><br><h4>  Total </h4><br>  No geral, a revis√£o de c√≥digo √© uma pr√°tica muito gratificante.  Espero que todos os desenvolvedores (incluindo produtos empresariais) j√° o tenham implementado em casa.  Caso contr√°rio, implemente o mais r√°pido poss√≠vel.  Ficarei feliz em discutir as pr√°ticas de revis√£o de c√≥digo com voc√™ nos coment√°rios. <br><br>  <i>V√≠deo da palestra:</i> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/Eihr5h5AETA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>A apresenta√ß√£o est√° dispon√≠vel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt445440/">https://habr.com/ru/post/pt445440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt445428/index.html">Wi-Fi de alta qualidade - a base da hospitalidade moderna e o motor dos neg√≥cios</a></li>
<li><a href="../pt445432/index.html">Gerenciador de Pacotes Unity</a></li>
<li><a href="../pt445434/index.html">Melhor Pior Emprego do Mundo: Procurando um Habraautor</a></li>
<li><a href="../pt445436/index.html">Reciclagem no DevOps - para o que se preparar</a></li>
<li><a href="../pt445438/index.html">Familiaridade com elementos iluminados e componentes da Web com base nele</a></li>
<li><a href="../pt445444/index.html">Atualiza√ß√£o de m√≥dulos solares de alto desempenho da REC e Trina (Solar)</a></li>
<li><a href="../pt445446/index.html">Como usamos a replica√ß√£o adiada para recupera√ß√£o de desastres com o PostgreSQL</a></li>
<li><a href="../pt445448/index.html">Configurando o recebimento autom√°tico de certificados letsencrypt usando o docker no linux</a></li>
<li><a href="../pt445450/index.html">Extens√£o do navegador para toster.ru</a></li>
<li><a href="../pt445452/index.html">Reposit√≥rios √∫teis com Eloquent?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>