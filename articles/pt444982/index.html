<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçí ‚è∞ ü§∑üèª Mockito e como cozinh√°-lo üë©‚Äçüë¶‚Äçüë¶ üë©üèΩ‚Äçüöí üöÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sobre o artigo 


 Aqui est√° outro guia para Mockito. Nele, por um lado, tentei descrever a funcionalidade dessa biblioteca para que um leitor n√£o fam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mockito e como cozinh√°-lo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444982/"><h2 id="o-state">  Sobre o artigo </h2><br><p>  Aqui est√° outro guia para Mockito.  Nele, por um lado, tentei descrever a funcionalidade dessa biblioteca para que um leitor n√£o familiarizado com ela tivesse a oportunidade de us√°-la imediatamente, e n√£o apenas uma id√©ia geral.  Por outro lado, eu queria torn√°-lo compacto o suficiente e estruturado para que pudesse l√™-lo rapidamente na √≠ntegra e rapidamente encontrar nele algo uma vez lido, mas esquecido.  Em geral, este artigo, que seria √∫til para mim, quando me deparei com esta biblioteca e realmente n√£o entendi como ela funciona. </p><br><p>  Suponho que possa me ser √∫til agora - √†s vezes esque√ßo um pouco disso, e √© mais conveniente recordar o material n√£o de acordo com a documenta√ß√£o oficial ou com os artigos de outras pessoas, mas com a minha pr√≥pria, digamos, sinopse.  Ao mesmo tempo, tentei criar o texto para que fosse conveniente principalmente conhecer Mockito do zero e, em alguns lugares, analiso em detalhes coisas aparentemente √≥bvias - nem todas as quais eram √≥bvias para mim desde o in√≠cio. </p><a name="habracut"></a><br><h2 id="soderzhanie">  Conte√∫do: </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mockito: o que √© e por que √© necess√°rio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ambiente, vers√µes e animal experimental</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">zombar e espionar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gerenciamento de comportamento</a> <br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Definir condi√ß√µes de chamada</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Definir resultados da chamada</a> </li></ol></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chamadas de m√©todo de rastreamento</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Objetos simulados como valores de campo e anota√ß√µes do Mockito</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Comportamento de revers√£o para sess√µes padr√£o e Mockito</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que mais?</a> </li></ol><br><h2 id="mockito-chto-eto-takoe-i-zachem-nuzhno">  Mockito: o que √© e por que √© necess√°rio </h2><br><p>  Em resumo, o Mockito √© uma estrutura de stub. </p><br><p>  Como voc√™ sabe, ao testar o c√≥digo (principalmente o teste de unidade, mas n√£o apenas), o elemento sob teste geralmente precisa fornecer inst√¢ncias de classes que ele deve usar ao trabalhar.  No entanto, muitas vezes eles n√£o precisam ser totalmente funcionais - pelo contr√°rio, s√£o obrigados a se comportar de maneira estritamente definida, para que seu comportamento seja simples e completamente previs√≠vel.  Eles s√£o chamados de stubs.  Para obt√™-los, voc√™ pode criar implementa√ß√µes de teste alternativas de interfaces, herdar as classes necess√°rias com redefini√ß√£o de funcionalidade e assim por diante, mas tudo isso √© bastante inconveniente, redundante e cheio de erros.  Uma solu√ß√£o mais conveniente em todos os sentidos s√£o estruturas especializadas para a cria√ß√£o de stubs.  Um deles (e talvez o mais famoso por Java) √© o Mockito. </p><br><p> O Mockito permite que voc√™ crie com uma √∫nica linha de c√≥digo o chamado mock (algo como a base para o esbo√ßo desejado) de qualquer classe.  Para tal simula√ß√£o, imediatamente ap√≥s a cria√ß√£o, um determinado comportamento padr√£o √© caracter√≠stico (todos os m√©todos retornam valores conhecidos anteriormente - geralmente isso √© <code>null</code> ou <code>0</code> ).  Voc√™ pode redefinir esse comportamento da maneira que desejar, control√°-lo com o grau certo de detalhes e assim por diante.  Como resultado, o mock se torna um esbo√ßo com as propriedades necess√°rias.  Abaixo, discutirei em detalhes como fazer isso. </p><br><p>  Observo que o mock tamb√©m pode ser criado para essas classes, cuja nova inst√¢ncia n√£o √© poss√≠vel apenas criar, em particular, classes com construtores exclusivamente privados, como classes singleton e utilit√°rio, e com uma configura√ß√£o m√≠nima da estrutura e enumera√ß√µes. </p><br><h2 id="okruzhenie-versii-i-podopytnoe-zhivotnoe">  Ambiente, vers√µes e animal experimental </h2><br><p>  Ao escrever este artigo, usei: </p><br><ul><li>  Mockito: 'org.mockito: mockito-core: 2.24.0' (√∫ltima vers√£o est√°vel no momento da reda√ß√£o) </li><li>  TestNG: 'org.testng: testng: 6.14.3' como uma estrutura de teste </li><li>  AssertJ: 'org.assertj: assertj-core: 3.11.1' como uma ferramenta de valida√ß√£o </li><li>  Lombok: 'org.projectlombok: lombok: 1.18.6' (apenas por conveni√™ncia) </li><li>  Java 8 </li></ul><br><p>  Para minhas experi√™ncias desumanas, escrevi essa interface de um servi√ßo que fornece acesso a determinados dados. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; dataToSave)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id, Supplier&lt;String&gt; calculateIfAbsent)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataListByIds</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; idList)</span></span></span></span>; <span class="hljs-function"><span class="hljs-function">List&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataByRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DataSearchRequest request)</span></span></span></span>; }</code> </pre> <br><p>  E este c√≥digo (que seja por uma quest√£o de ordem) da classe de solicita√ß√£o passada para o √∫ltimo dos m√©todos de interface. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataSearchRequest</span></span></span><span class="hljs-class"> </span></span>{ String id; Date updatedBefore; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length; }</code> </pre> <br><p>  As unidades de dados s√£o identificadas por ID e possuem mais algumas caracter√≠sticas, mas diretamente na forma em que s√£o retornadas pelo servi√ßo, s√£o cadeias de caracteres e n√£o objetos mais complexos.  N√£o perco nada importante, e os exemplos s√£o mais simples e claros. </p><br><p>  Observarei imediatamente: nos exemplos abaixo, chamo diretamente os m√©todos substitu√≠dos dos meus objetos simulados para maior clareza, mas com testes reais a id√©ia n√£o √© de todo!  Neste teste, eu consistentemente faria o seguinte: </p><br><ul><li>  configurei a simula√ß√£o do meu servi√ßo, conforme necess√°rio; </li><li>  passei (provavelmente, via construtor) para uma inst√¢ncia de outra classe que o utiliza (suponha que contenha algum tipo de l√≥gica de neg√≥cios usando os dados fornecidos pelo <code>DataService</code> ), que eu realmente testaria; </li><li>  habilitou a funcionalidade da classe testada e controlou os resultados; </li><li>  se necess√°rio, controlaria o n√∫mero e a ordem das chamadas para o (s) m√©todo (s) do meu mock, que deveria ter sido chamado pela classe testada como resultado da a√ß√£o anterior. </li></ul><br><h2 id="mock-i-spy">  zombar e espionar </h2><br><p>  A classe central do Mockito, atrav√©s da qual √© suposto acessar a maior parte da funcionalidade, √©, de fato, uma classe chamada <code>Mockito</code> (h√° tamb√©m a classe <code>BDDMockito</code> que fornece os mesmos recursos de uma forma mais adequada para o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BDD</a> , mas aqui n√£o vou me debru√ßar sobre isso) .  O acesso √† funcionalidade √© implementado atrav√©s de seus m√©todos est√°ticos. </p><br><p>  Para criar uma simula√ß√£o da classe <code>DataService</code> , basta fazer o seguinte: </p><br><pre> <code class="java hljs">DataService dataServiceMock = Mockito.mock(DataService.class);</code> </pre> <br><p>  Conclu√≠do - recebi uma inst√¢ncia da classe de que preciso.  Ser√° aceito por qualquer m√©todo ou construtor que exija um par√¢metro desse tipo (por exemplo, o construtor da classe que eu quero testar).  Mesmo que uma verifica√ß√£o de depend√™ncia aguarde mais tarde, ela ser√° aprovada: n√£o apenas a <code>instanceof DataService</code> retornar√° <code>true</code> , mas tamb√©m o <code>dataServiceMock.getClass()</code> - ou seja, <code>DataService.class</code> .  De alguma maneira formal, distinguir programaticamente um objeto falso de um objeto comum acaba sendo uma tarefa bastante dif√≠cil, que √© l√≥gica: afinal, o primeiro se destina apenas a ser indistingu√≠vel do segundo.  No entanto, o Mockito possui uma ferramenta para isso - o m√©todo <code>Mockito.mockingDetails</code> .  Ao passar para ele um objeto arbitr√°rio, recebo um objeto da classe <code>MockingDetails</code> .  Ele cont√©m informa√ß√µes sobre o que esse objeto representa do ponto de vista do Mockito: se √© falso, espi√£o (veja abaixo), como foi usado, como foi criado e assim por diante. </p><br><p>  √â digna de nota a situa√ß√£o em que tento criar uma simula√ß√£o para a classe final ou uma inst√¢ncia simulada de enum ou substituir o comportamento do m√©todo final.  Nesse caso, com o comportamento padr√£o do Mockito, o c√≥digo acima se recusa a funcionar, citando precisamente essa circunst√¢ncia.  No entanto, isso pode ser alterado - basta criar no projeto (com o dispositivo padr√£o da √°rvore de diret√≥rios do projeto) o arquivo <code>test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> e digite a linha: </p><br><pre> <code class="plaintext hljs">mock-maker-inline</code> </pre> <br><p>  Depois disso, voc√™ pode imitar as classes finais e enumera√ß√µes da maneira usual, bem como substituir os m√©todos finais. </p><br><p>  O esc√°rnio que eu entrei em a√ß√£o √© o menos caracter√≠stico poss√≠vel: nem um √∫nico m√©todo ter√° efeito sobre nada, e o valor retornado ser√° <code>null</code> para tipos de objetos e <code>0</code> para tipos primitivos.  Observe: se o m√©todo retornar uma cole√ß√£o, a simula√ß√£o padr√£o n√£o retornar√° <code>null</code> , mas inst√¢ncias de cole√ß√£o vazias.  Por exemplo, para <code>List</code> isso acabar√° sendo um <code>LinkedList</code> vazio <code>LinkedList</code> independentemente do que o m√©todo real deveria ter retornado.  Mas como os valores de matrizes, primitivas ou objetos, fico <code>null</code> .  O comportamento padr√£o (e n√£o apenas) pode ser alterado usando a funcionalidade da classe <code>MockSettings</code> , mas isso raramente √© necess√°rio. </p><br><p>  De uma maneira ou de outra, na maioria dos casos, n√£o precisarei do comportamento padr√£o e, na pr√≥xima se√ß√£o, analisarei em detalhes como definir o que √© necess√°rio. </p><br><p>  No entanto, e se eu quiser usar um objeto de classe real com a funcionalidade dispon√≠vel como um stub, redefinindo a opera√ß√£o de apenas parte de seus m√©todos?  Se estamos falando de teste de unidade, essa necessidade geralmente (mas nem sempre) indica que o projeto n√£o est√° bem com o design e, em princ√≠pio, isso n√£o √© recomendado.  No entanto, h√° situa√ß√µes em que isso, por algum motivo, n√£o pode ser evitado.  Para este caso, Mockito tem o chamado espi√£o, "espi√µes".  Diferentemente das simula√ß√µes, elas podem ser criadas com base na classe e no objeto final: </p><br><pre> <code class="java hljs">DataService dataServiceSpy = Mockito.spy(DataService.class); <span class="hljs-comment"><span class="hljs-comment">// or DataService dataService = new DataService(); dataServiceSpy = Mockito.spy(dataService);</span></span></code> </pre> <br><p>  Ao criar espi√£o com base em uma classe, se seu tipo for uma interface, um objeto simulado regular ser√° criado e, se o tipo for uma classe, o Mockito tentar√° criar uma inst√¢ncia usando o construtor padr√£o (sem par√¢metros).  E somente se n√£o houver esse construtor, ocorrer√° um erro e o teste n√£o funcionar√°. </p><br><p>  O comportamento de objetos espi√µes, por padr√£o, √© id√™ntico ao comportamento de uma inst√¢ncia de classe regular, no entanto, eles me oferecem as mesmas possibilidades que objetos simulados: permitem redefinir seu comportamento e monitorar seu uso (consulte as se√ß√µes a seguir).  Um ponto importante: o espi√£o n√£o √© um inv√≥lucro em torno da inst√¢ncia em que foi criado!  Portanto, chamar o m√©todo espi√£o n√£o afetar√° o estado da inst√¢ncia original. </p><br><h2 id="upravlenie-povedeniem">  Gerenciamento de comportamento </h2><br><p>  Ent√£o, sobre como conseguir zombaria ou espionagem para fazer o que eu preciso.  Al√©m disso, eu sempre escreverei simplesmente "zombaria" em todos os lugares - isso significa "zombaria ou espi√£o", a menos que expressamente indicado de outra forma. </p><br><p>  Em geral, controlar o comportamento de um objeto simulado se resume a um conceito √≥bvio: quando um simulado foi afetado de tal maneira (isto √©, tal e tal m√©todo foi chamado com tais e tais argumentos), deve responder de tal e tal maneira.  Esse conceito possui duas implementa√ß√µes na classe Mockito - a principal, recomendada pelos desenvolvedores para uso sempre que poss√≠vel, e a alternativa, usada onde a principal n√£o √© adequada. </p><br><p>  A principal implementa√ß√£o √© baseada no m√©todo <code>Mockito.when</code> .  Esse m√©todo usa como "par√¢metro" uma chamada para o m√©todo redefinido do objeto de simula√ß√£o (dessa maneira, a a√ß√£o detectada √© corrigida) e retorna um objeto do tipo <code>OngoingStubbing</code> , que permite chamar um dos m√©todos da fam√≠lia <code>Mockito.then...</code> (√© assim que a rea√ß√£o a esse efeito √© definida).  Todos juntos, no caso mais simples, √© algo parecido com isto: </p><br><pre> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.when(dataService.getAllData()).thenReturn(data);</code> </pre> <br><p>  Ap√≥s esta opera√ß√£o, chamando o m√©todo <code>getAllData()</code> no objeto <code>getAllData()</code> , obtenho o objeto especificado na primeira linha da listagem. </p><br><p>  Aqui, a intui√ß√£o familiar "orientada a objetos" pode causar algum tipo de mau funcionamento, portanto vale a pena insistir em mais detalhes.  Do ponto de vista da sintaxe Java, o valor passado para o m√©todo <code>when</code> como par√¢metro √©, obviamente, o valor retornado pelo m√©todo substitu√≠do.  Para simula√ß√£o, esse √© um valor vazio; para espi√£o, esse √© o valor retornado pelo m√©todo do objeto real.  Mas, gra√ßas √† a√ß√£o m√°gica "sob o cap√¥" do Mockito, o m√©todo <code>when</code> funcionar√° normalmente (e n√£o trava quando iniciado com um erro) somente se a chamada do m√©todo de objeto simulado estiver dentro dos colchetes depois de <code>when</code> . </p><br><p>  Uma ideologia semelhante geralmente funciona ao definir o comportamento de uma simula√ß√£o em um Mockito: chamando um m√©todo (de um objeto ou classe simulado do <code>Mockito</code> ), tento n√£o obter o valor retornado por ele, mas de alguma forma influenciar a poss√≠vel chamada do m√©todo do objeto simulado com o qual trabalho: especificar suas fronteiras, definir o resultado, estabelecer a observa√ß√£o de seus desafios e assim por diante.  Parece um pouco nebuloso, admito, e na primeira colis√£o parece estranho, mas, depois de descobrir, voc√™ logo come√ßa a sentir essa abordagem como completamente natural no contexto de trabalhar com stubs. </p><br><p>  Uma implementa√ß√£o alternativa de vincular a condi√ß√£o e o resultado da chamada s√£o os m√©todos da fam√≠lia <code>Mockito.do...</code>  Esses m√©todos permitem definir o comportamento come√ßando com o resultado da chamada e retornar um objeto da classe <code>Stubber</code> , com o qual voc√™ j√° pode definir a condi√ß√£o.  A mesma liga√ß√£o acima feita desta maneira √© assim: </p><br><pre> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.doReturn(data).when(dataService).getData()</code> </pre> <br><p>  Qual √© a diferen√ßa, por que vincular atrav√©s do <code>Mockito.when</code> √© considerado prefer√≠vel e quando voc√™ ainda precisa usar os m√©todos do <code>Mockito.do...</code> ?  Observe: na primeira implementa√ß√£o, ao definir o comportamento do m√©todo (neste caso, <code>getAllData()</code> ), a chamada para a vers√£o que ainda n√£o foi redefinida √© executada primeiro e somente ent√£o, nas entranhas do Mockito, ocorre uma substitui√ß√£o.  No segundo, essa chamada n√£o ocorre - o m√©todo <code>Stubber.when</code> passado diretamente para o m√©todo <code>Stubber.when</code> , e um objeto do mesmo tipo retornado por esse m√©todo, mas de natureza diferente, √© chamado com um m√©todo substitu√≠vel.  Essa diferen√ßa determina tudo.  A liga√ß√£o via <code>Mockito.do...</code> n√£o controla, no est√°gio de compila√ß√£o, qual m√©todo redefin√≠vel chamarei e se √© compat√≠vel no tipo com o valor de retorno fornecido.  Portanto, geralmente <code>Mockito.when</code> prefer√≠vel - n√£o pode haver erro com isso.  Mas pode haver casos em que eu quero evitar chamar um m√©todo substitu√≠do - para uma simula√ß√£o criada recentemente, tal chamada √© bastante aceit√°vel, mas se eu j√° redefinir esse m√©todo ou lidar com o espi√£o, pode ser indesej√°vel, e lan√ßar uma exce√ß√£o n√£o permitir√° a redefini√ß√£o necess√°ria. .  E aqui a liga√ß√£o atrav√©s do <code>Mockito.do...</code> vem em <code>Mockito.do...</code> </p><br><p>  Outra situa√ß√£o em que voc√™ n√£o pode ficar sem os m√©todos <code>Mockito.do...</code> est√° substituindo o m√©todo que retorna <code>void</code> : o par√¢metro <code>Mockito.when</code> pendente n√£o pode funcionar com esse m√©todo.  <code>Mockito.doReturn</code> aqui, mas h√° <code>Mockito.doThrow</code> , <code>Mockito.doAnswer</code> e, raramente, √© suficiente o <code>Mockito.doNothing</code> . </p><br><p>  A seguir, analisarei um pouco mais detalhadamente como definir condi√ß√µes e resultados das chamadas.  Considerarei apenas a liga√ß√£o atrav√©s do <code>Mockito.when</code> - uma maneira alternativa √© quase completamente semelhante no manuseio. </p><br><h3 id="zadanie-usloviy-vyzova">  Definir condi√ß√µes de chamada </h3><br><p>  O exemplo acima refere-se a um m√©todo sem par√¢metros, e a condi√ß√£o de chamada associada √© poss√≠vel, uma coisa - o fato da chamada.  Assim que os par√¢metros aparecem, a situa√ß√£o se torna mais complicada.  No m√≠nimo, para chamar um m√©todo cujo comportamento estou definindo, preciso passar algo para ele.  Mas outra coisa √© mais importante: pode ser que eu nem sempre queira obter a rea√ß√£o dada, mas apenas quando a chamo com par√¢metros que atendem a certos requisitos.  <code>DataService</code> possui este m√©todo: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataItemById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// some code... }</span></span></code> </pre> <br><p>  Se eu precisar definir uma resposta para qualquer chamada para esse m√©todo, independentemente dos argumentos, devo usar o m√©todo <code>Mockito.any</code> : </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataItemById(any())) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>);</code> </pre> <br><p>  Se eu precisar do mock para reagir apenas a um determinado valor do argumento, voc√™ pode usar esse valor diretamente ou os m√©todos de <code>Mockito.eq</code> (se for uma equival√™ncia) ou <code>Mockito.same</code> (se for necess√°ria a compara√ß√£o de links): </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataItemById(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>)) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); <span class="hljs-comment"><span class="hljs-comment">// or Mockito.when(dataService.getDataItemById(Mockito.eq("idValue"))) .thenReturn("dataItem");</span></span></code> </pre> <br><p>  E se eu quiser que o argumento atenda a alguns requisitos, existem v√°rios m√©todos est√°ticos especializados convenientes da mesma classe <code>Mockito</code> (por exemplo, as strings podem ser verificadas quanto ao conte√∫do no in√≠cio ou no final de uma determinada sequ√™ncia de caracteres, correspond√™ncia de padr√µes etc.).  H√° tamb√©m um m√©todo geral Mockito.argThat (e seus an√°logos para tipos primitivos) que aceita a implementa√ß√£o da interface funcional ArgumentMatcher: </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataById( Mockito.argThat(arg -&gt; arg == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || arg.length() &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>))) .thenReturn(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>);</code> </pre> <br><p>  <code>AdditionalMatchers</code> classes <code>ArgumentMatchers</code> e <code>AdditionalMatchers</code> permitem que voc√™ trabalhe com algumas implementa√ß√µes √∫teis prontas para uso dessa interface.  Por exemplo, <code>AdditionalMatchers.or</code> e <code>AdditionalMatchers.and</code> permitem combinar outros correspondentes (nota: os m√©todos est√°ticos dessas classes n√£o retornam inst√¢ncias dos correspondentes, mas apenas os acessam!) </p><br><p>  Para o mesmo m√©todo, voc√™ pode definir o comportamento v√°rias vezes com requisitos diferentes para os argumentos, e todos os modelos de comportamento definidos dessa maneira agir√£o simultaneamente.  Obviamente, em alguns casos, eles podem se cruzar - digamos, exigirei retornar um resultado quando o valor <code>int</code> do par√¢metro for menor que 5 e o outro quando o valor par for recebido.  Nessa situa√ß√£o, o comportamento especificado posteriormente tem preced√™ncia.  Portanto, ao definir padr√µes complexos de comportamento, voc√™ deve come√ßar com os requisitos mais fracos (no limite - <code>any()</code> ) e depois passar para os mais espec√≠ficos. </p><br><p>  Ao trabalhar com m√©todos com mais de um argumento, os requisitos especificados s√£o combinados de acordo com o AND l√≥gico, ou seja, para obter o resultado especificado, TODOS os argumentos devem atender ao requisito declarado.  N√£o encontrei uma maneira de definir uma maneira arbitr√°ria de combin√°-los, embora talvez exista. </p><br><p>  Al√©m disso, ao especificar o comportamento de um m√©todo desse tipo, n√£o √© poss√≠vel combinar os m√©todos est√°ticos do <code>Mockito</code> e a transfer√™ncia direta de valores.  Use <code>Mockito.eq</code> ou <code>Mockito.same</code> . </p><br><h3 id="zadanie-rezultatov-vyzova">  Definir resultados da chamada </h3><br><p>  Depois que o m√©todo do objeto simulado √© chamado, o objeto deve responder √† chamada.  As principais conseq√º√™ncias poss√≠veis s√£o retornar o resultado e lan√ßar uma exce√ß√£o, e √© justamente nessas op√ß√µes que o kit de ferramentas Mockito √© projetado principalmente. </p><br><p>  No caso mais simples j√° mostrado acima, a resposta √† chamada √© retornar um valor.  Vou dar o c√≥digo dele novamente: </p><br><pre> <code class="java hljs">List&lt;String&gt; data = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); data.add(<span class="hljs-string"><span class="hljs-string">"dataItem"</span></span>); Mockito.when(dataService.getAllData()).thenReturn(data);</code> </pre> <br><p>  Observe: voc√™ s√≥ pode retornar um objeto; n√£o h√° m√©todos separados para primitivos.  Portanto, se o m√©todo retornar um valor primitivo, em tal situa√ß√£o, ocorrer√° desmarca√ß√£o.  Na maioria dos casos, isso n√£o interfere, mas se o compilador pensa de outra forma, voc√™ ter√° que concordar de alguma forma com ele ... ou tolerar seus avisos. </p><br><p>  Lan√ßar exce√ß√µes n√£o √© mais dif√≠cil: </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"invalidId"</span></span>)) .thenThrow(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IllegalArgumentException());</code> </pre> <br><p>  Existe outra maneira: voc√™ pode criar um objeto de exce√ß√£o e jog√°-lo diretamente, ou pode fornecer ao Mockito apenas uma classe de exce√ß√£o para que ele seja criado automaticamente: </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"invalidId"</span></span>)) .thenThrow(IllegalArgumentException.class);</code> </pre> <br><p>  Nos dois casos, a sintaxe permite que voc√™ use e verifique as exce√ß√µes, mas o Mockito n√£o permitir√° que voc√™ execute esse teste se o tipo de exce√ß√£o n√£o corresponder ao m√©todo que desejo for√ßar ao lan√ßar essa exce√ß√£o. </p><br><p>  Ao usar uma classe como par√¢metro, construtores (mesmo sem par√¢metros), bem como a inicializa√ß√£o direta do campo, s√£o ignorados - o objeto √© criado ignorando-os (afinal, isso √© Mockito!), Para que todos os campos da exce√ß√£o lan√ßada sejam <code>null</code> .  Portanto, se o conte√∫do da exce√ß√£o for importante para voc√™ (por exemplo, algum campo de <code>type</code> que tenha um valor padr√£o), ser√° necess√°rio abandonar esse m√©todo e criar exce√ß√µes manualmente. </p><br><p>  Essas op√ß√µes de rea√ß√£o s√£o adequadas se, em resposta a uma chamada com determinadas condi√ß√µes, voc√™ sempre precisar retornar um certo valor, sempre o mesmo valor do resultado ou sempre lan√ßar a mesma exce√ß√£o, e na maioria dos casos esses recursos ser√£o suficientes.  Mas e se for necess√°ria mais flexibilidade?  Suponha que meu m√©todo aceite uma cole√ß√£o de valores e retorne outra cole√ß√£o de valores associados ao primeiro para um (por exemplo, obtendo uma cole√ß√£o de objetos de dados pelo conjunto de seus IDs) e eu quero usar esse objeto simulado repetidamente com diferentes conjuntos de entradas no teste dados, obtendo cada vez o resultado correspondente.  Obviamente, √© poss√≠vel descrever separadamente a rea√ß√£o a cada conjunto espec√≠fico de par√¢metros, mas existe uma solu√ß√£o mais conveniente - o m√©todo <code>Mockito.thenAnswer</code> , tamb√©m <code>Mockito.then</code> como <code>Mockito.then</code> .  Ele aceita uma implementa√ß√£o da interface funcional <code>Answer</code> , cujo √∫nico m√©todo √© receber um objeto da classe <code>InvocationOnMock</code> .  Deste √∫ltimo, posso solicitar os par√¢metros da chamada do m√©todo (um por n√∫mero ou todos de uma vez na forma de uma matriz) e agir com eles como eu quiser.  Por exemplo, voc√™ pode obter um valor correspondente a ele para cada um dos elementos da minha cole√ß√£o, formar uma nova cole√ß√£o a partir deles e retorn√°-lo (nota: o resultado desejado √© simplesmente retornado e n√£o gravado em algum campo do objeto de par√¢metro, como seria de esperar): </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataByIds(Mockito.any())) .thenAnswer(invocation -&gt; invocation .&lt;List&lt;String&gt;&gt;getArgument(<span class="hljs-number"><span class="hljs-number">0</span></span>).stream() .map(id -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (id) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"a"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"dataItemA"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"b"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"dataItemB"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }) .collect(Collectors.toList()));</code> </pre> <br><p>  Ideologicamente, isso √© algo como escrever um modelo de um m√©todo real: obter par√¢metros, processar, retornar um resultado.          -  ,    - ,      ,     ,    mock-    . </p><br><p>     <code>Answer</code> ,     , ‚Äî , <code>AnswersWithDelay</code> , <code>ReturnsElementsOf</code>  . . </p><br><p>  :  <code>InvocationOnMock</code>   ‚Äî       <code>Object[]</code> ,  generic-. </p><br><p>        ‚Äî <code>thenCallRealMethod</code> .    .     mock-,    spy-.   mock   ,      ,  -   <code>null</code> .  spy   <code>thenCallRealMethod</code>     spy  ;    ,     -      . </p><br><p>        <code>thenAnswer</code> :  <code>InvocationOnMock</code>   <code>callRealMethod()</code> ‚Äî   ,   ""    -  . </p><br><p>    <code>OngoingStubbing</code>    <code>OngoingStubbing</code> ,  ,   ,     .            ,   .  <code>thenReturn</code>  <code>thenThrow</code>   ,  varargs.       . </p><br><pre> <code class="java hljs">Mockito.when(dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>)) .thenReturn(<span class="hljs-string"><span class="hljs-string">"valueA1"</span></span>, <span class="hljs-string"><span class="hljs-string">"valueA2"</span></span>) .thenThrow(IllegalArgumentException.class);</code> </pre> <br><p>         <code>"valueA1</code> ,  ‚Äî <code>"valueA2</code> ( ),   (  )    <code>IllegalArgumentException</code> . </p><br><h2 id="slezhenie-za-vyzovami-metodov">     </h2><br><p>        :          (mock'    ),     .   ,     :   ,          ,       .      <code>verify</code> . </p><br><p>  ,           ,  : </p><br><pre> <code class="java hljs">Mockito.verify(dataService).getDataById(Mockito.any());</code> </pre> <br><p>      ,            <code>getDataById</code> ,  ,           . ,             Mockito,      <code>when</code> ,   ,  ,         mock-. , ,  ,      <code>when</code>  , ‚Äî      mock',       (. ). </p><br><p>           : </p><br><pre> <code class="plaintext hljs">Mockito.verify(dataService, Mockito.times(1)) .getDataById(Mockito.any());</code> </pre> <br><p>           <code>Mockito.times</code> ;       <code>Mockito.never</code> .    <code>Mockito.atLeast</code> (  <code>Mockito.atLeastOnce</code>   1)  <code>Mockito.atMost</code> ,       ,    <code>Mockito.only</code> , ,         mock-  (. .     ). </p><br><p>  ,         <code>Mockito</code> ,     <code>VerificationAfterDelay</code>  <code>VerificationWithTimeout</code> ,    <code>Mockito.after</code>  <code>Mockito.timeout</code> .  Por exemplo: </p><br><pre> <code class="plaintext hljs">Mockito.verify(dataService, Mockito.after(1000).times(1)) .getDataById(Mockito.any());</code> </pre> <br><p>    ,    mock   ,      ,              ,       .        .   <code>after</code>  <code>timeout</code>  ,          ,    ,    ‚Äî   ,     .  ,   <code>timeout</code>         ‚Äî       .   <code>VerificationWithTimeout</code>   <code>never</code>  <code>atMost</code> :         . </p><br><p>  ,             <code>Mockito.any()</code> .          ,   ,     ‚Äî    Mockito       ,    ,     . Mock-     ,        ,   , , : </p><br><pre> <code class="java hljs">dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"b"</span></span>); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">2</span></span>)).getDataById(Mockito.any()); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataById(<span class="hljs-string"><span class="hljs-string">"a"</span></span>); Mockito.verify(dataService, Mockito.never()).getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); dataService.getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); Mockito.verify(dataService, Mockito.times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataById(<span class="hljs-string"><span class="hljs-string">"c"</span></span>); Mockito.verifyNoMoreInteractions(dataService);</code> </pre> <br><p>      <code>verifyNoMoreInteractions</code> (  <code>verifyZeroInteractions</code> ) ‚Äî    -  (            <code>verify</code> )    mock- ‚Äî    .  :   varargs,     ,     ,         <strong> </strong> ! </p><br><p>       ,   ,      ,     .   ,    <code>InOrder</code> : </p><br><pre> <code class="java hljs">InOrder inOrder = Mockito.inOrder(dataService);</code> </pre> <br><p>     varargs;     ‚Äî    mock-   ,    <code>InOrder</code>                .     <code>verify</code>    ,   <code>Mockito.verify</code> : </p><br><pre> <code class="java hljs">inOrder.verify(dataService, times(<span class="hljs-number"><span class="hljs-number">2</span></span>)).saveData(any()); inOrder.verify(dataService).getData();</code> </pre> <br><p>       ,         <code>saveData</code> , <strong> </strong>  ‚Äî <code>getData</code> .  ,   <code>InOrder</code>    ,      ‚Äî     . </p><br><p>       ,   ,       ‚Äî , .      -      ,    ,      ‚Äî  ,     ,    .     <code>ArgumentCaptor</code>    <code>capture()</code> .  Por exemplo: </p><br><pre> <code class="java hljs">DataSearchRequest request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DataSearchRequest(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Date(System.currentTimeMillis()), <span class="hljs-number"><span class="hljs-number">50</span></span>); dataService.getDataByRequest(request); ArgumentCaptor&lt;DataSearchRequest&gt; requestCaptor = ArgumentCaptor.forClass(DataSearchRequest.class); Mockito.verify(dataService, times(<span class="hljs-number"><span class="hljs-number">1</span></span>)).getDataByRequest(requestCaptor.capture()); assertThat(requestCaptor.getAllValues()).hasSize(<span class="hljs-number"><span class="hljs-number">1</span></span>); DataSearchRequest capturedArgument = requestCaptor.getValue(); assertThat(capturedArgument.getId()).isNotNull(); assertThat(capturedArgument.getId()).isEqualTo(<span class="hljs-string"><span class="hljs-string">"idValue"</span></span>); assertThat(capturedArgument.getUpdatedBefore()).isAfterYear(<span class="hljs-number"><span class="hljs-number">1970</span></span>); assertThat(capturedArgument.getLength()).isBetween(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);</code> </pre> <br><p> <code>ArgumentCaptor</code>       ,      <strong> </strong> ,   <code>ArgumentCaptor</code>  . <code>getValue()</code>    , <code>getAllValues()</code> ‚Äî     .   ,         ,   . </p><br><h2 id="mock-obekty-kak-znacheniya-poley-i-annotacii-mockito"> Mock-      Mockito </h2><br><p>      ,     mock-   ,      ‚Äî     <code>@Mock</code>   -       : </p><br><pre> <code class="java hljs">MockitoAnnotations.initMocks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br><p> (  ,       mock',       ) </p><br><p>  spy   <code>@Spy</code> ‚Äî     <code>@Mock</code> ‚Ä¶   spy   ,      , ?          ,      ‚Äî  spy     . </p><br><p>   <code>@Captor</code>    <code>ArgumentCaptor</code> ‚Äî   , ,    . </p><br><p>   <code>@InjectMocks</code> .       -  Mockito,          .       mock-   ,   .        ,    .  -     ,     <code>null</code> ,   -     .         (      )  dependency injection. </p><br><h2 id="otkat-povedeniya-k-defoltnomu-i-sessii-mockito">       Mockito </h2><br><p>         ,  :   mock (spy, argument captor...),   ,    , .    ,  mock' ‚Äî    ,    . JUnit           ,      ,    TestNG   ‚Äî       . , ,   mock'    ,     ,   ,         . .  ,  ,  ‚Äî  ,          . </p><br><p>   ,             mock-    .  TestNG     <code>@BeforeMethod</code> ( <code>@AfterMethod</code>  ).           mock'   ,        ,           (    JUnit ‚Äî      <code>@Before</code> ). </p><br><p>   ,     , ‚Äî   <code>Mockito.reset</code>  <code>Mockito.clearInvocations</code> .   varargs,      mock'.      ,    .     :     (,              )  ,   /   mock'    , ‚Äî       .     ,    mock'       . .      , ,             . </p><br><p>       (,  ) ‚Äî     <code>MockitoAnnotations.initMocks(this);</code>  .    ""  ,   Mockito. </p><br><p>    ‚Äî     Mockito.    .     mock- ,          ( mock'      ).          ,      <code>MockitoSession</code> ,           .     TestNG: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Mock</span></span> DataService dataService; MockitoSession session; <span class="hljs-meta"><span class="hljs-meta">@BeforeMethod</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ session = Mockito.mockitoSession() .initMocks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .startMocking(); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// some code using the dataService field } @AfterMethod public void afterMethod() { session.finishMocking(); }</span></span></code> </pre> <br><p>  ,        ‚Äî  ,  "" (,     )  ,   . </p><br><h2 id="chto-eschyo">  ? </h2><br><p>      Mockito:  mock  spy-,        .      ,       .  ,  , : </p><br><ul><li>  Mockito   mock-   <code>MockSettings</code> (      ‚Äî ,   mock'    -  ); </li><li>     mock-,   <code>MockingDetails</code> ; </li><li>   <code>BDDMockito</code>   <code>Mockito</code> ; </li><li>     (    JUnit       Mockito,     ). </li></ul><br><p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  Mockito</a> .           javadoc'  <code>Mockito</code> . </p><br><p> , ,  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444982/">https://habr.com/ru/post/pt444982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444972/index.html">Arquitetura de GPU Intel Gen11 e placa gr√°fica discreta da Intel</a></li>
<li><a href="../pt444974/index.html">Criptografia em Java. Classe MessageDigest</a></li>
<li><a href="../pt444976/index.html">Quester - Plataforma para criar e completar miss√µes (Beta)</a></li>
<li><a href="../pt444978/index.html">Autoridades da UE multaram o Google em US $ 1,7 bilh√£o por bloquear an√∫ncios de concorrentes</a></li>
<li><a href="../pt444980/index.html">Analisando um erro cr√≠tico no algoritmo de criptografia KIB SEARCHINFORM</a></li>
<li><a href="../pt444984/index.html">De onde v√™m as fotos para testar os sistemas de reconhecimento facial?</a></li>
<li><a href="../pt444986/index.html">IETF aprova ACME - este √© o padr√£o para trabalhar com certificados SSL</a></li>
<li><a href="../pt444992/index.html">Erros incorporados no sistema: seu papel nas estat√≠sticas</a></li>
<li><a href="../pt444994/index.html">Sobre unidades e seu uso em computadores modernos</a></li>
<li><a href="../pt444996/index.html">Redis Streams como uma estrutura de dados limpa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>