<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ò∫Ô∏è üë©üèΩ‚Äçü§ù‚Äçüë©üèº üêç SPBm-Protokoll als Grundlage des Extreme Automated Campus üö¥üèª ü•ñ ü§≥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Extreme Netzwerke Extreme Automated Campus-L√∂sungen erm√∂glichen mehrere √úbertragungswege und eine schnelle Wiederherstellung im Katastrophenfall. Ein ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SPBm-Protokoll als Grundlage des Extreme Automated Campus</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/extremenetworks/blog/439586/">  Extreme Netzwerke Extreme Automated Campus-L√∂sungen erm√∂glichen mehrere √úbertragungswege und eine schnelle Wiederherstellung im Katastrophenfall.  Ein Netzwerk, das aus vielen physischen Switches besteht, ist verteilt.  Der Verkehr verl√§uft jedoch immer auf dem k√ºrzesten verf√ºgbaren Weg. <br>  Extreme Automated Campus baut im Wesentlichen eine Ethernet-Struktur auf, die auf einer Symbiose der Standards IEEE 802.1ah, 802.1aq und RFC6329 basiert.  Wie es funktioniert, warum es durch Schneiden in unserem Artikel einfach und bequem installiert, skaliert und verwaltet werden kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i4/po/mt/i4pomtyluijv9l_zqwz_ejfs2zy.jpeg" alt="Bild"></div><a name="habracut"></a><br>  Die werkseitige ‚ÄûDatenebene‚Äú ist eine Implementierung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IEEE 802.1ah</a> , wenn ein Ethernet-Paket vollst√§ndig mit einem Header in einem neuen Ethernet-Paket gekapselt ist, weshalb es als MAC-in-MAC oder auch als PBB (Provider Backbone Bridges) bezeichnet wird.  Da MAC-in-MAC bereits von den meisten Chips√§tzen auf dem Markt von Hardware unterst√ºtzt wird, hat dies seine gro√üe Beliebtheit im Vergleich zum TRILL-Protokoll vorbestimmt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tb/8t/d6/tb8td6wwmsabxvresfky87u2nk0.jpeg" alt="Bild"></div><br><br>  Im 802.1ah-Header wird zus√§tzlich zu den MAC-Adressen und der Backbone-Nummer des VLAN, die zum Senden von Paketen zwischen den Factory-Knoten erforderlich sind, auch das Feld I-SID (Individual Service ID) √ºbertragen, das bestimmt, ob der Benutzerverkehr zu einem bestimmten Dienst geh√∂rt.  Das I-SID-Feld hat eine L√§nge von 24 Bit, sodass die Fabrik theoretisch 16,7 Millionen verschiedene Dienste umschalten kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kt/cj/6f/ktcj6fwf_c1puyjpftrfdgt20ei.jpeg" alt="Bild"></div><br><br>  Die ‚ÄûSteuerebene‚Äú der Fabrik ist das SPB-Protokoll ‚ÄûShortest Path Bridging‚Äú, das vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IEEE 802.1aq-</a> Standard genehmigt wurde.  Der Standard selbst beschreibt zwei verschiedene Betriebsmodi SPBv und SPBm, basierend auf VLAN bzw. MAC-in-MAC.  In unserem speziellen Fall ist SPBm implementiert.  Der Standard f√ºhrt bestimmte neue Begriffe ein: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3o/2v/lt/3o2vltfefrhosdlgk57-tto1ll0.jpeg" alt="Bild"></div><br><br>  BEB - Backbone Edge Bridge <br>  BCB - Backbone Core Bridge <br>  B-VLAN - Backbone-VLAN <br>  C-VLAN - Kunden-VLAN <br>  UNI - Benutzer-zu-Netzwerk-Schnittstelle <br>  NNI - Netzwerk-zu-Netzwerk-Schnittstelle <br>  VSN - Virtual Service Network <br><br>  Die Begriffe selbst m√ºssen nicht wirklich erkl√§rt werden, aber diejenigen, die mit MPLS vertraut sind, werden sich an Begriffe wie P-Router, PE-Router, LSP, L2 / L3VPN erinnern ... <br><br>  Die Logik von SPBm selbst wird unter Verwendung des IS-IS-Protokolls implementiert.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RFC6329</a> - <i>‚ÄûIS-IS-Erweiterungen, die IEEE 802.1aq Shortest Path Bridging unterst√ºtzen‚Äú</i> beschreibt zus√§tzliche TLVs, die f√ºr die ordnungsgem√§√üe Funktion des SPB erforderlich sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mf/a8/3z/mfa83zm-zrikdf3wklzwd2c-n0w.jpeg" alt="Bild"></div><br><br>  Alle im Werk enthaltenen Schalter richten zun√§chst mithilfe von IS-IS eine Nachbarschaft ein und bilden dann den L1 IS-IS-Bereich.  Dann berechnet jeder Knoten unter Verwendung des Dijkstra-Algorithmus die SPT (Shortest Path Tree) von sich zu allen anderen Knoten.  Als n√§chstes f√ºllt IS-IS die B-VLAN-FIB.  F√ºr B-VLAN ist "Fluten, Senden, Lernen" deaktiviert. Ports k√∂nnen auch nicht manuell hinzugef√ºgt werden.  Aus diesem Grund sind die Backbone-MAC-Adressen immer bekannt und unter Bedienersteuerung sind die C-MACs im 802.1ah-Header gekapselt, und innerhalb der Fabrik findet keine Untersuchung dieser MACs statt. <br>  F√ºr Unicast wird in jedem konfigurierten B-VLAN eine einzelne SPT-Option berechnet.  Ein Beispiel f√ºr eine gef√ºllte Unicast-FIB k√∂nnte so aussehen. <br><br><pre><code class="plaintext hljs">Switch# show isis spbm unicast-fib ================================================================================ SPBM UNICAST FIB ENTRY INFO ================================================================================ DESTINATION BVLAN SYSID HOST-NAME OUTGOING COST ADDRESS INTERFACE -------------------------------------------------------------------------------- 00:16:ca:23:73:df 1000 0016.ca23.73df SPBM-1 1/21 10 00:16:ca:23:73:df 2000 0016.ca23.73df SPBM-1 1/21 10 00:18:b0:bb:b3:df 1000 0018.b0bb.b3df SPBM-2 MLT-2 10 00:14:c7:e1:33:e0 1000 0018.b0bb.b3df SPBM-2 MLT-2 10 00:18:b0:bb:b3:df 2000 0018.b0bb.b3df SPBM-2 MLT-2 10 -------------------------------------------------------------------------------- Total number of SPBM UNICAST FIB entries 5 --------------------------------------------------------------------------------</code> </pre> <br>  F√ºr Multicast werden alle m√∂glichen SPT-Paare berechnet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sq/x3/q8/sqx3q8coortpq_o6c9yknxudopa.jpeg" alt="Bild"></div><br><br>  Beispielsweise werden f√ºr einen Dienst, der auf 4 BEBs beendet wurde, 4 SPTs f√ºr jedes B-VLAN berechnet.  Jede solche SPT wird basierend auf der I-SID des konfigurierten Dienstes und der BEB berechnet, die die Wurzel dieses Baums ist.  Jeder SPBM-Knoten hat f√ºr jeden VSN eine eigene Multicast-Adresse.  Diese Adresse (gem√§√ü Standard) besteht aus 2 Teilen "Spitzname / Quelle B-MAC" + "I-SID" <br><br>  <b>Zum Beispiel:</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/br/yv/rt/bryvrtkezkzvjydstw4hij6hih4.jpeg" alt="Bild"></div><br><br>  <b>Quelle: 0A-BC-DE / ISID: fe-dc-ba (I-SID 16 702 650)</b> <b><br></b>  <b>MMAC-DA: Ein <i>3</i> -BC-DE-FE-DC-BA</b> <br>  (A-verschoben zur "MSB" -Position der oberen vier Bits; 3 - fester Wert) <br><br>  Ein Beispiel f√ºr eine gef√ºllte Multicast-FIB: <br><br><pre> <code class="plaintext hljs">Switch:1(config)#show isis spbm multicast-fib ========================================================================================== SPBM MULTICAST FIB ENTRY INFO ========================================================================================== MCAST DA ISID BVLAN SYSID HOST-NAME OUTGOING-INTERFACES INCOMING INTERFACE ------------------------------------------------------------------------------------------ 03:00:07:e4:e2:02 15000066 1001 0077.0077.0077 Switch-25 1/33 MLT-2 03:00:08:e4:e2:02 15000066 1001 0088.0088.0088 Switch-33 1/50,1/33 40.40.40.40 03:00:41:00:04:4d 1101 4058 00bb.0000.4100 Switch-1(*)1/3,1/49,0.0.0.0 TunnelHQ 03:00:41:00:04:4f 1103 4058 00bb.0000.4100 Switch-1(*)1/3,1/49,0.0.0.0 cpp ------------------------------------------------------------------------------------------ Total number of SPBM MULTICAST FIB entries 4 ------------------------------------------------------------------------------------------</code> </pre><br>  Um die Bildung von Schleifen zu verhindern, verwendet das Werk RPFC (Reverse Path Forwarding Check), dessen Logik auch mit IS-IS bereitgestellt wird.  Bei RPFC wird der Datenverkehr nur vom g√ºltigen "Quell-B-MAC / VLAN" empfangen, der Rest der Pakete wird verworfen. <br>  Danach m√ºssen nur noch die erforderlichen Dienste registriert werden, deren Abstimmung nur an der Fabrikgrenze erfolgt (dh BEB-Schalter). <br>  Beispiele f√ºr unterst√ºtzte Dienste sind unten aufgef√ºhrt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ca/gj/xt/cagjxta8som533ku_ls_wcw6vha.jpeg" alt="Bild"></div><br><br>  Die Funktionen beim Arbeiten mit IP-Multicast-Streams umfassen Folgendes: <br><br><ul><li>  In einem vorhandenen VSN weist die Fabrik beim Empfang eines IP-Multicast-Streams eine Dienst-I-SID (16000001 - 16600000) zu und sendet diese Informationen in Form von TLV 185/186 </li><li>  Nach Erhalt eines IGMP-Joins in diesem VSN berechnet die Factory die SPT f√ºr die Service-I-SID und f√ºllt die FIB </li></ul><br>  <b>Vorteile von Extreme Automated Campus:</b> <br><br>  ‚Ä¢ Arbeitet an offenen Standards <br>  ‚Ä¢ Unterst√ºtzung f√ºr Standard-Ethernet-OAM-Tools - IEEE 802.1ag und ITU-T Y.1731 <br>  ‚Ä¢ IS-IS arbeitet auf L2-Ebene, es ist keine IP-Einstellung innerhalb des Werks erforderlich <br>  ‚Ä¢ SPT (Shortest Path Tree) wird basierend auf Metriken berechnet und es gibt keine blockierten Links <br>  ‚Ä¢ STP muss nicht im Factory Core konfiguriert werden <br>  ‚Ä¢ Alle Teilnehmer im Werk haben nach Berechnungen den gleichen SPT-Satz <br>  ‚Ä¢ Symmetrische Pfade zwischen zwei beliebigen Knoten <br>  ‚Ä¢ RPFC (Reverse Path Forwarding Check) eliminiert Schleifen <br>  ‚Ä¢ Unterst√ºtzt ECMP (Equal Cost Multiple Paths) f√ºr den Ausgleich <br>  ‚Ä¢ Multicast-Mailing unterst√ºtzt "1-viele", "viele-1", "viele-viele" <br>  ‚Ä¢ Factory ist ein virtueller Hop f√ºr den Benutzerverkehr <br>  ‚Ä¢ Werksarbeiten √ºber jeder physischen Topologie: Ring, Vollmaschen, Teilmaschen, G√§nsebl√ºmchen ... <br>  ‚Ä¢ Hohe Skalierbarkeit bis zu 1000 Knoten in einer Fabrik <br>  ‚Ä¢ Konfigurieren von Diensten nur an der Werksgrenze <br>  ‚Ä¢ Minimierung des menschlichen Faktors <br>  ‚Ä¢ Konvergenz nach Ausf√§llen bis zu 200 ms <br><br>  UPD: Das Image der virtuellen VOSS-Maschine zum Testen von Extreme Automated Campus kann auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439586/">https://habr.com/ru/post/de439586/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439574/index.html">SmartCard I2C-Protokoll. Tauschen Sie APDU-Befehle √ºber die I2C-Schnittstelle aus</a></li>
<li><a href="../de439576/index.html">Ein umfassender √úberblick √ºber Python-Interviews. Tipps & Tricks</a></li>
<li><a href="../de439578/index.html">Zur Frage der Transformationen und anderer Operationen</a></li>
<li><a href="../de439580/index.html">Git f√ºr Windows in ReactOS zum Laufen bringen</a></li>
<li><a href="../de439584/index.html">Lenergy-Projekt als Umdenken bei tragbaren Netzteilen</a></li>
<li><a href="../de439588/index.html">ESET hat neue Versionen des DanaBot-Trojaners entdeckt</a></li>
<li><a href="../de439590/index.html">Quals: Saudi und Oman National Cyber ‚Äã‚ÄãSecurity CTF 2019. WriteUp</a></li>
<li><a href="../de439592/index.html">Automatisierung ethischer Aktivit√§ten</a></li>
<li><a href="../de439594/index.html">Fr√ºhlingsanmerkungen: AOP Magic</a></li>
<li><a href="../de439596/index.html">Wie ich die Bildverarbeitung auf Android 15 Mal beschleunigt habe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>