<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤼 👸🏾 😄 Okko的建议：如何通过乘以两个矩阵来赚取数亿美元 📕 ㊗️ 🎠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您是否熟悉这样一种情况，您花费大量时间选择与观看时间相当的电影？ 对于在线电影院的用户来说，这是一个普遍的问题，对于电影院本身来说，这就是利润的损失。 


 幸运的是，我们拥有Rekko-一种个人推荐系统，该系统已成功地帮助Okko用户一年来从一万多个内容中选择电影和系列。 在本文中，我将从算法和...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Okko的建议：如何通过乘以两个矩阵来赚取数亿美元</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/454224/"><p><img src="https://habrastorage.org/webt/lz/br/1e/lzbr1ep8ur0j8t_guasvydsyob8.jpeg" alt="Rekko-Okko在线电影院的个性化推荐"></p><br><p> 您是否熟悉这样一种情况，您花费大量时间选择与观看时间相当的电影？ 对于在线电影院的用户来说，这是一个普遍的问题，对于电影院本身来说，这就是利润的损失。 </p><br><p> 幸运的是，我们拥有Rekko-一种个人推荐系统，该系统已成功地帮助Okko用户一年来从一万多个内容中选择电影和系列。 在本文中，我将从算法和技术的角度告诉您如何安排它，我们如何进行它的开发以及如何评估结果。 好吧，我还会告诉您年度A / B测试的结果。 </p><a name="habracut"></a><br><p> 首先，有一点历史。  Okko于2011年作为Iota的一部分开始成立，以Yota Play的名字<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">开始</a> 。 </p><br><p><img src="https://habrastorage.org/webt/mv/a1/56/mva156eoduu0n4mxwzndqw8okia.jpeg" alt="旧的Yota Play界面"></p><br><div class="spoiler">  <b class="spoiler_title">用户早在2011年就接受了在互联网上合法观看电影的想法</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x9/qt/lw/x9qtlwkwdtshpzms52bk2_fcsem.png" alt="用户评论在线电影院中内容的成本"></p></div></div><br><p>  Yota Play当时是一项独特的服务：它与社交网络紧密集成，并在服务的许多部分中使用了朋友观看和评级的电影信息，包括推荐信息。 </p><br><p><img src="https://habrastorage.org/webt/tg/es/vx/tgesvx1rincasogqygiajdlbkbc.jpeg" alt="Yota Play的社交推荐"></p><br><p>  2012年，决定用算法性建议补充社会性建议。 这就是“甲骨文”的出现-在线电影院Okko的第一个推荐系统。 以下是他的设计文档的摘录： </p><br><blockquote> 已实施的个人推荐系统使用了类似的方法。 级别的等级从“无”（空虚，缺席）到“所有”（完全，最大）。 在[127 .. + 127]范围内，0-是中间值或“范数”。 在此规模上，还评估了产品主角的同情度和产品的主观价格以及“红色”度。 例如，宇宙的大小估计为+127（以维度为单位），而黑暗的估计数目为127（以光强度为单位）。 <br><br> 在提出建议时，不仅背景而且特定用户的性质也很重要。 个人资料还包含4种字符类型比例（根据K. Leonhard的指示，学究、,脚，容易受刺激）。 <br><br> 大脑的生理极限并不取决于一个人的性格，也不取决于他的友善和友善。 这位教授说，新皮层存在限制，新皮层负责清醒的思想和言语。 在已实施的系统中也要考虑到这种限制，尤其是在为学究类型的角色制定建议时，以及在社交关系中形成此类用户的样本时。 </blockquote><p><img src="https://habrastorage.org/webt/2m/uu/lx/2muulx2mhqmdcnpife9rzqvosr8.jpeg" alt="拍摄自电影《拉斯维加斯的恐惧与厌恶》"></p><br><p> 正如您已经了解的那样，时代是疯狂的，大脑的生理极限并不局限于任何事物，超频的新皮层本身可以以光速生成个人推荐。 因此，该模型决定立即投入生产。 </p><br><p> 据人们从尚存的古代文明的作品中可以判断，“ Oracle”是协作过滤算法的狂野组合，充分地运用了业务规则。 </p><br><p><img src="https://habrastorage.org/webt/0o/no/pg/0onopgsv10ay9p1gghbbkuy-bsq.jpeg" alt="体系结构“ Oracle”"></p><br><p> 到2013年中，每个人都松了一口气，最终决定检查推荐机器的质量。 为此，在应用程序的主要部分中填充了受过专门训练的编辑器，并启动了A / B测试：一半的用户看到了算法的输出，一半的用户看到了编辑器的选择。 </p><br><p> 现在，我们正在阅读有关人工智能的下一个胜利的文章，并恐怖地想象他将失去我们工作的那一天。 然后，在2013年，情况有所不同：一个人英勇地击败了汽车，在内容部门创造了更多工作。  Oracle已关闭，以后再也不会打开。 不久，所有社交筹码都消失了，Yota Play变成了Okko。 </p><br><p><img src="https://habrastorage.org/webt/zg/iy/si/zgiysix9gjqhvyvlzxxhbtkpjeo.jpeg" alt="重命名后立即在线电影院Okko的界面"></p><br><p>  2013年至2016年是人工智能的“冬天”和内容部门的极权统治的标志：该服务中没有个人推荐。 </p><br><p> 到2017年年中，很明显，您不能再这样生活了。  Netflix的成功举世闻名，整个行业正朝着个性化快速发展。 用户不再对“哑”静态服务感兴趣，他们已经开始习惯于“智能”界面，完全理解它们并预测所有需求。 </p><br><p> 作为第一次迭代，我们决定与两家大型俄罗斯建议供应商整合。 每天，这两种服务都会从Okko那里获取必要的数据，并在远程服务器上用黑匣子沙沙作响，然后上传结果。 </p><br><p> 根据六个月A / B测试的结果，对照组和测试组之间没有发现统计学上的显着差异。 </p><br><p> 在A / B测试结束时，我来到Okko，与分析主管Mikhail Alekseev（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">malekseev</a> ）一起使该服务真正变得个人化。 不到一年，Danil Kazakov（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">xaph</a> ）加入了我们，最终组成了现役团队。 </p><br><h2 id="obschie-soobrazheniya"> 一般注意事项 </h2><br><p> 当一个国际社会长期研究的业务问题浮出水面并且需要迅速解决时，很容易采用您拥有的第一个流行的深度神经网络解决方案，用铁锹将数据推入其中，将其推入并扔入产品中。 </p><br><p><img src="https://habrastorage.org/webt/wc/yk/q1/wcykq1ofa4dbrgtlxzgwvnwnrj8.png" alt="来自xkcd.com的有关机器学习的漫画书"></p><br><p> 最主要的是不要屈服于这种诱惑。 科学界的任务-在腐烂和合成的数据集上达到最大速度-通常与业务任务不符-赚更多的钱，而花更少的资源。 </p><br><p><img src="https://habrastorage.org/webt/kz/7j/lv/kz7jlvh1g1-kyj_aivbafyjcei4.png"></p><br><p> 不，这并不意味着您不需要循环网络，并且可以使用k最近邻方法来赚取数十亿美元。 可能会发现，根据您的数据，经典矩阵分解将使您每年可以有条件地赚取额外的1亿，而经常性网络可以赚取额外的收入-每年为1.05亿。 同时，为这些相同的网络维护一机架带有视频卡的服务器每年将花费1000万，并且需要额外几个月的开发和实施，而将现成的矩阵分解简单地集成到服务和邮件列表的另一部分中将需要一个月的改进，并将再提供100个有条件的百万每年。 </p><br><p> 因此，重要的是要从基础知识-成熟的基础方法开始-走向越来越现代的方法，一定要衡量和预测每种新方法将对业务产生什么影响，将花费多少成本以及将使您获得多少收入。 </p><br><p>  Okko可以很好地测量。 从字面上看，我们在A / B测试中对每一项新功能，每一项创新都进行了A / B测试，并检查了效果是否具有统计学意义，并且只有在做出是否接受新功能的决定之后才进行检查。 </p><br><p><img src="https://habrastorage.org/webt/a3/qs/52/a3qs52_u3h315fc3uilbjcfue6y.jpeg"></p><br><p> 例如，当前的Rekko仪表板将控件组和测试组的50多个指标进行了比较，包括收入，服务花费的时间，选择电影的时间，按订阅观看的次数，转换为购买和自动续订等。 是的，我们仍然保留一小部分从未收到个性化推荐的用户（对不起）。 </p><br><p><img src="https://habrastorage.org/webt/ji/wk/wa/jiwkwartjggsztf_2tnsv1yfezc.png"></p><br><h2 id="o-rekomendatelnyh-sistemah"> 关于推荐系统 </h2><br><p> 首先，简要介绍推荐系统。 </p><br><p> 推荐系统的目标是针对每个用户 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.107ex" height="1.937ex" viewBox="0 -728.2 1768.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1168" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> u \ in </script> 关于他与元素互动的故事 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow><mtext mathcolor=&quot;red&quot;>\&amp;#x5728;</mtext></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.018ex" height="2.66ex" viewBox="0 -832 2160.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text><g fill="red" stroke="red" transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">在</text></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow><mtext mathcolor="red">\在</mtext></math></span></span><script type="math/tex" id="MathJax-Element-2">我\在</script> 在所有元素的集合上建立顺序关系。 这意味着：无论我们采用两个任意元素，我们总是可以说哪个更适合用户，哪个更不适合。 </p><br><p><img src="https://habrastorage.org/webt/l5/er/eb/l5erebrzv_nfgsliqcvwsgnms4u.jpeg" alt="许多电影中等级关系的插图"></p><br><p> 这个相当普通的任务可以简化为一个简单的任务：将元素映射到已经定义了顺序关系的集合。 例如，在一组实数上。 在这种情况下，每个用户和每个元素都必须能够预测某个值-该用户偏爱该元素的程度。 </p><br><p><img src="https://habrastorage.org/webt/jf/jq/ur/jfjqur-h18fc3rzmphqaqwcnpoi.jpeg" alt="许多电影到许多实数的映射的插图"></p><br><p> 通过在元素上建立顺序关系，我们可以解决许多业务问题，例如，从所有元素N中选择与用户最相关的元素，或者根据用户的偏好对搜索结果进行排序。 </p><br><p> 理想情况下，我们需要一整套上下文相关的订单关系。 如果用户进入了“动作”系列，则他很可能更喜欢电影“驱逐舰”而不是电影“奥斯卡”，但是在“电影与西尔维斯特·史泰龙”电影中，偏好可能恰好相反。 可以针对星期几，一天中的时间或用户从中输入服务的设备给出类似的示例。 </p><br><p><img src="https://habrastorage.org/webt/-_/o4/qj/-_o4qjhy9azdbrp4plydn7yjkya.jpeg" alt="考虑到局部，将多部影片映射到多个实数的插图"></p><br><p> 传统上，所有用于构建个人推荐的方法都分为三大类：协作过滤（CF），内容模型（内容模型，CM）和结合了前两种方法的混合模型。 </p><br><p> 协作过滤方法使用有关所有用户和所有元素交互的信息。 通常，此类信息以稀疏矩阵的形式表示，其中行对应于用户，列对应于元素，并且用户和元素包含表征它们之间交互的值，如果没有交互则包含空格。 在这里构造顺序关系的任务减少到填写丢失的矩阵元素的任务。 </p><br><p><img src="https://habrastorage.org/webt/_h/m3/7j/_hm37jb5xe7ddcdyg1nanl3fsbk.jpeg" alt="协作过滤方法的交互矩阵图"></p><br><p> 通常，这些方法易于理解和实施，速度很快，但效果并不理想。 </p><br><p> 内容模型-用于解决分类或回归问题的任意机器学习方法，由一组特定的参数进行参数化 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="2016" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ theta </script>  。 在入口处，它们接受用户的属性和元素的属性，并且输出是给定元素与此用户的相关程度。 此类模型不是在所有用户和所有元素的交互（例如协作过滤方法）上讲授的，而只是在个别先例上讲授的。 </p><br><p><img src="https://habrastorage.org/webt/lx/lp/pd/lxlppd-mzqmhiy7yidyly3jeclu.jpeg" alt="内容模型图"></p><br><p> 通常，此类模型比协作过滤方法要准确得多，但是它们的速度要慢得多。 想象一下，如果我们具有某种通用形式的功能，可以接受用户和元素的符号作为输入，那么必须为每对调用它 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.413ex" height="2.298ex" viewBox="0 -780.1 9649.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="829" y="0"></use><g transform="translate(1402,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2232" y="0"></use><g transform="translate(2577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(3407,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="4237" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="5060" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="5405" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-55" x="6006" y="0"></use><g transform="translate(6773,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="7603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="8199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="8544" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="9145" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>U</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">（u，i），u \ in U，i \ in I </script>  。 对于一千个用户和一万个元素的情况，这是一百万个呼叫。 </p><br><p> 混合模型结合了这两种方法的优势，可以在合理的时间内提供质量建议。 </p><br><p> 当今最流行的混合方法是两层体系结构，其中协作过滤模型从所有可能的元素中选择少量（100-1000）的候选者，然后通过功能更强大的内容模型对其进行排名。 有时可能会有几个这样的阶段来选择候选人，并且在每个新级别都使用越来越复杂的模型。 </p><br><p><img src="https://habrastorage.org/webt/gg/mm/aj/ggmmaj0ypd3aioq8uqwg985w_uu.jpeg" alt="两层体系结构图"></p><br><p> 这种架构具有许多优点： </p><br><ol><li> 协作部分和内容部分没有互连，可以分别使用不同的频率进行培训； </li><li> 质量总是比单独的协作模型更好； </li><li> 速度远高于内容模型的速度。 </li><li>  “免费”是从协作模型中获取向量，然后可以将其用于解决相关问题。 </li></ol><br><p> 如果我们谈论特定技术，那么会有很多可能的组合。 </p><br><p> 作为协作部分，您可以接收用户订阅，流行内容，用户朋友中的流行内容，可以应用矩阵或张量分解，训练DSSM或具有相当快速预测的任何其他方法。 </p><br><p> 作为内容模型，通常可以使用任何方法，从线性回归到深层网格。 </p><br><p> 在Okko，我们目前专注于矩阵分解与WARP损失以及树上梯度增强的结合，我现在将对其进行详细讨论。 </p><br><h2 id="pervyy-etap-otbor-kandidatov"> 第一阶段：候选人甄选 </h2><br><p> 如果我说矩阵分解算法是迄今为止最受欢迎的协作过滤方法，我想我不会说谎。 该方法的本质从名称上很清楚：我们正在尝试通过两个较低等级的矩阵的乘积来介绍已经提到的用户与内容交互的矩阵，其中一个是“用户矩阵”，另一个是“元素矩阵”。 通过这种分解，我们可以恢复原始矩阵以及所有缺失值。 </p><br><p><img src="https://habrastorage.org/webt/rn/_t/fv/rn_tfvt7uh_z56ojjyiqt-zpmky.jpeg" alt="矩阵分解图"></p><br><p> 当然，在这种情况下，我们可以自由选择可用矩阵和恢复矩阵的相似性的标准。 最简单的标准是标准偏差。 </p><br><p> 让 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> p_u </script>  -对应于用户的用户矩阵行 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.107ex" height="1.937ex" viewBox="0 -728.2 1768.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1168" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> u \ in </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> q_i </script>  -与元素相对应的元素矩阵的列 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow><mtext mathcolor=&quot;red&quot;>\&amp;#x5728;</mtext></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.018ex" height="2.66ex" viewBox="0 -832 2160.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text><g fill="red" stroke="red" transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">在</text></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow><mtext mathcolor="red">\在</mtext></math></span></span><script type="math/tex" id="MathJax-Element-8">我\在</script>  。 然后，当矩阵相乘时，它们的乘积 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.044ex" height="2.419ex" viewBox="0 -780.1 8630.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="2159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="2457" y="0"></use><g transform="translate(2924,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(3932,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(4762,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="5803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="6254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="6784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="7384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="7865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="8163" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ langle p_u，q_i \ rangle </script> 表示给定用户与元素之间的预期互动程度。 现在计算此数量与相互作用的先验已知值之间的标准差 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.789ex" height="1.817ex" viewBox="0 -520.7 1200.6 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10"> r_ {ui} </script> 适用于所有互动用户和元素对 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext mathcolor=&quot;red&quot;>\&amp;#x5728;</mtext><mi>T</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>$</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.804ex" height="2.66ex" viewBox="0 -832 5943.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="829" y="0"></use><g transform="translate(1402,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2232" y="0"></use><g transform="translate(2577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g fill="red" stroke="red" transform="translate(3407,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">在</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-54" x="4738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-24" x="5442" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext mathcolor="red">\在</mtext><mi>T</mi><mrow class="MJX-TeXAtom-ORD"><mo>$</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-11">（u，i）\在T $</script>  ，我们获得了可以最小化的损失函数。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="68.608ex" height="3.142ex" viewBox="0 -987.6 29539.4 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">（</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="829" y="0"></use><g transform="translate(991,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2232" y="0"></use><g transform="translate(1822,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">）</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="3761" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="4107" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-54" x="4707" y="0"></use></g></g><g transform="translate(16371,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(17201,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="18624" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="19875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="20173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="20703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="21303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="21784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="22082" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(23557,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(24387,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="25428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="25880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="26409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="27010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="27490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="27789" y="0"></use><g transform="translate(28255,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-32" x="1173" y="640"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>−</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {（u，i）\ in T}（r_ {ui}-\ langle p_u，q_i \ rangle）^ 2 </script></p><br><p> 通常，仍会添加正则化。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="129.316ex" height="3.142ex" viewBox="0 -987.6 55677.3 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-66" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="2875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="3326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-63" x="3856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="4289" y="0"></use><g transform="translate(4790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-76" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="1034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="1500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-54" x="2313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="3268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-76" x="3719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="4205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="4671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="5123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-73" x="10524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="10994" y="0"></use><g transform="translate(11566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">（</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="829" y="0"></use><g transform="translate(991,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2232" y="0"></use><g transform="translate(1822,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">）</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="3761" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="4107" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-54" x="4707" y="0"></use></g></g><g transform="translate(16371,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(17201,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="18624" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="19875" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="20173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="20703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="21303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="21784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="22082" y="0"></use><g transform="translate(22549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(23557,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(24387,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="25428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="25880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="26409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="27010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="27490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="27789" y="0"></use><g transform="translate(28255,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-32" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2B" x="29761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="31012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="31310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="31840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-62" x="32718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-64" x="33148" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="33671" y="0"></use><g transform="translate(34201,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-73" x="35281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="35750" y="0"></use><g transform="translate(36323,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="37956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-56" x="38255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="39024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="39491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="39942" y="0"></use><g transform="translate(40304,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="41562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-56" x="42013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="42783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="43249" y="0"></use><g transform="translate(43701,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-32" x="511" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2B" x="44739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-73" x="45989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="46459" y="0"></use><g transform="translate(47031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="48504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-56" x="48803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="49572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="50039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="50490" y="0"></use><g transform="translate(50852,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="51892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-56" x="52344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="53113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="53580" y="0"></use><g transform="translate(54031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-32" x="511" y="583"></use></g><g transform="translate(54847,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>l</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi><mi>T</mi><mtext>&nbsp;</mtext><mi>r</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>t</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>T</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>−</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>p</mi><mi>u</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>V</mi><mi>e</mi><mi>r</mi><mi>t</mi><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>V</mi><mi>e</mi><mi>r</mi><msup><mi>t</mi><mn>2</mn></msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> \ min \ frac {1} {\ lvert T \ rvert} \ sum _ {（u，i）\ in T}（r_ {ui}-\ langle p_u，q_i \ rangle）^ 2 + \ lambda（\ sum_u \ lVert p_u \ rVert ^ 2 + \ sum_i \ lVert q_i \ rVert ^ 2）</script></p><br><p> 这样的问题不是凸且NP复杂的。 但是，很容易注意到，当固定其中一个矩阵时，任务变成相对于第二个矩阵的线性回归，这意味着我们可以迭代地寻找解决方案，交替冻结用户矩阵或元素矩阵。 这种方法称为交替最小二乘（ALS）。 </p><br><p><img src="https://habrastorage.org/webt/pj/fd/-o/pjfd-owy8_ujaucnfd1pc4cilbc.jpeg"></p><br><p>  ALS的主要优点是速度和易于并行化的能力。 为此，Yandex.Zen和Vkontakte非常喜欢他，用户和元素都达到数千万。 </p><br><p> 但是，如果我们谈论的是在一台计算机上可以容纳的数据量，则ALS不会受到批评。 他的主要问题是他优化了错误的损失函数。 记住制定推荐系统任务的制定。 我们想要获得集合上的顺序关系，而是优化标准偏差。 </p><br><p> 举一个矩阵的例子来说，标准偏差最小，这很容易，但是元素的顺序被无可救药地破坏了。 </p><br><p> 让我们看看我们能做些什么。 在用户的头部中，与用户交互的所有元素都以某种顺序排列。 例如，他确定星际争霸要比《重力》好，《重力》和《外星人》都是同样出色的电影，而且都比《终结者》差一点。 同时，他对用户尚未观看的电影也有一定的态度，每个人的态度都一样。 他可能认为这样的电影比他所观看的电影先验地糟糕。 或者，他可能认为例如普罗米修斯是一部糟糕的电影，而他尚未观看的任何电影都会比他更好。 </p><br><p><img src="https://habrastorage.org/webt/gk/pn/0b/gkpn0byianfyacfeq1byt0cfsd8.jpeg" alt="用户脑中许多电影上的的顺序关系的图示"></p><br><p> 想象一下，根据服务中用户行为的某些迹象，我们可以通过使用函数将与之交互的元素显示为整数来恢复此顺序。 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF1A;</mo></mrow><mi>U</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow><mtext mathcolor=&quot;red&quot;>\&amp;#x5230;</mtext><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Z</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.547ex" height="2.66ex" viewBox="0 -832 11860.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="1278" y="0"></use><g transform="translate(1763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">：</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-55" x="2593" y="0"></use><g fill="red" stroke="red" transform="translate(3360,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(4691,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><g transform="translate(5521,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g><g fill="red" stroke="red" transform="translate(6351,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">到</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="7931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="8810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="9339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="9701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-62" x="10277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-62" x="10707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-5A" x="11136" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>：</mo></mrow><mi>U</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow><mtext mathcolor="red">\到</mtext><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>Z</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14"> \ rho：U \乘以我\到\ mathbb {Z} </script>  。 用户使用的许多电影 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> u </script> 互动，表示为 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="622" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-16"> I_u </script>  。 我们同意 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>j</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.428ex" height="2.419ex" viewBox="0 -780.1 7073 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="1278" y="0"></use><g transform="translate(1763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="2593" y="0"></use><g transform="translate(3165,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="3995" y="0"></use><g transform="translate(4408,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="5516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-30" x="6572" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>j</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-17"> \ rho（u，j）= 0 </script> 如果用户尚未与电影互动 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> j </script> 那就是 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.32ex" height="2.419ex" viewBox="-11.5 -780.1 4012.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="1263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1748" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="2455" y="0"></use><g transform="translate(3056,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="622" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi><mtext>&nbsp;</mtext><mi>n</mi><mi>o</mi><mi>t</mi><mi>i</mi><mi>n</mi><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> j \ notin I_u </script>  。 因此，如果用户认为电影不好，那么 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>&amp;lt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.272ex" height="2.298ex" viewBox="0 -780.1 7006 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="1278" y="0"></use><g transform="translate(1763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="2593" y="0"></use><g transform="translate(3165,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="3995" y="0"></use><g transform="translate(4341,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3C" x="5449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-30" x="6505" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>&lt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> \ rho（u，i）<0 </script>  ，如果好的话 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.272ex" height="2.298ex" viewBox="0 -780.1 7006 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="1278" y="0"></use><g transform="translate(1763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="2593" y="0"></use><g transform="translate(3165,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="3995" y="0"></use><g transform="translate(4341,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3E" x="5449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-30" x="6505" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21"> \ rho（u，i）> 0 </script>  。 </p><br><p><img src="https://habrastorage.org/webt/cm/c1/xb/cmc1xb-_9fpvcdjszrwuu5yg45q.jpeg" alt="描述用户-电影交互的的整数值的函数的图标"></p><br><p> 现在我们可以进入排名 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF1A;</mo></mrow><mi>U</mi><mtext mathcolor=&quot;red&quot;>\&amp;#x4E58;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x4EE5;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow><mtext mathcolor=&quot;red&quot;>\&amp;#x5230;</mtext><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.719ex" height="2.66ex" viewBox="0 -832 12364.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6B" x="1581" y="0"></use><g transform="translate(2103,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">：</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-55" x="2932" y="0"></use><g fill="red" stroke="red" transform="translate(3700,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">乘</text></g></g><g transform="translate(5030,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">以</text></g><g transform="translate(5860,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g><g fill="red" stroke="red" transform="translate(6690,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">到</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="8271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="9149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="10040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-62" x="10617" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-62" x="11046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4E" x="11476" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mrow class="MJX-TeXAtom-ORD"><mo>：</mo></mrow><mi>U</mi><mtext mathcolor="red">\乘</mtext><mrow class="MJX-TeXAtom-ORD"><mo>以</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow><mtext mathcolor="red">\到</mtext><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22"> rank：U \乘以我\到\ mathbb {N} </script>  。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>I</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF1A;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>&amp;lt;</mo><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></mrow></msub><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>q</mi><mi>j</mi></msub><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="104.869ex" height="2.78ex" viewBox="0 -780.1 45151.8 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6B" x="1581" y="0"></use><g transform="translate(2103,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="2932" y="0"></use><g transform="translate(3505,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="4335" y="0"></use><g transform="translate(4680,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="5788" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-73" x="7095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="7564" y="0"></use><g transform="translate(8137,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="766" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="1111" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="1712" y="0"></use><g transform="translate(1567,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">：</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="3400" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="3851" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="4428" y="0"></use><g transform="translate(3474,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">（</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="5743" y="0"></use><g transform="translate(4466,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="7146" y="0"></use><g transform="translate(5297,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">）</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3C" x="8321" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="9453" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-68" x="9905" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="10481" y="0"></use><g transform="translate(7754,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">（</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="11797" y="0"></use><g transform="translate(8746,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="13199" y="0"></use><g transform="translate(9577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">）</text></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="19530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="19891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="20358" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="20930" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="21292" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="21743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="22622" y="0"></use><g transform="translate(23126,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="24206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="24505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="25034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="25635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="26115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="26414" y="0"></use><g transform="translate(26880,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(27889,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(28718,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="29759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="30211" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="30740" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="31341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="31821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="32120" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3C" x="32864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="33920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2B" x="34643" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="35894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="36192" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="36722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="37322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="37803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="38101" y="0"></use><g transform="translate(38568,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(39576,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(40406,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="41494" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="41946" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="42475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="43076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="43556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="43855" y="0"></use><g transform="translate(44321,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>I</mi><mrow class="MJX-TeXAtom-ORD"><mo>：</mo></mrow><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>&lt;</mo><mtext>&nbsp;</mtext><mi>r</mi><mi>h</mi><mi>o</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>i</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></mrow></msub><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo>&lt;</mo><mn>1</mn><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>q</mi><mi>j</mi></msub><mtext>&nbsp;</mtext><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> rank（u，i）= \ sum_ {j \ in I：\ rho（u，i）<\ rho（u，i）} \ textrm {I}（\ langle p_u，q_i \ rangle <1 + \ langle p_u，q_j \ rangle）</script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.119ex" height="2.298ex" viewBox="0 -780.1 6079 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="2012" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6D" x="2463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="3342" y="0"></use><g transform="translate(3846,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="4676" y="0"></use><g transform="translate(5248,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>r</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-24"> \ textrm {I}（x）</script> 这里表示指标函数，如果等于则等于1 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25"> x </script> 如果为true，则为零。 </p><br><p> 让我们停一分钟，想一想这样的排名意味着什么。 </p><br><p> 我们修复用户 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-26"> u </script>  ，这是一些特定的用户-我们对此不感兴趣。 因此，其向量 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-27"> p_u </script> 将被修复。 </p><br><p> 现在以他看过的任何电影为例，例如《星际穿越》。 在公式中， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-28">我</script>  。 接下来，我们发现用户认为比《星际穿越》更糟糕的电影。 我们可以选择“吸引力”，“外星人”，“普罗米修斯”或他尚未看过的任何电影。 </p><br><p><img src="https://habrastorage.org/webt/qv/mn/gm/qvmngmkgovxbalbbtbpdqjdnmrc.jpeg" alt="障碍的插图"></p><br><p> 采取“吸引力”。 在公式中， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-29"> j </script>  。  ,    «» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">q_i</script>     ,    ,     «» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>j</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.947ex" height="2.057ex" viewBox="0 -520.7 838.2 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">q_j</script>      .      .     «»,  «»    ,       . </p><br><p>   ,        ,  «».    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.024ex" height="2.66ex" viewBox="0 -832 2593.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2204" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">r(u, i)</script>         ,    . </p><br><p>       . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.093ex" height="5.672ex" viewBox="0 -1039.5 10804.1 2442.1" role="img" focusable="false" style="vertical-align: -3.258ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="959" y="0"></use><g transform="translate(2015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJSZ2-2211" x="778" y="0"></use><g transform="translate(0,-1102)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2208" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-55" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="2007" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="2286" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2208" x="2631" y="0"></use><g transform="translate(2332,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="622" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3D5" x="5183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="5779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="6169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="7150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6B" x="7750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="8661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="9234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="10025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="10414" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mo>∈</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>ϕ</mi><mo stretchy="false">(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-33">L = \sum_{u \in U, i \in I_u} \phi (rank(u, i))</script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo>:</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.293ex" height="2.419ex" viewBox="0 -780.1 4431.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3A" x="874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJAMS-4E" x="1430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2192" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJAMS-52" x="3709" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi><mo>:</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">→</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-34">\phi: \mathbb{N} \to \mathbb{R}</script> —  ,      .     ,        .     ,  ,          . </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.364ex" height="6.877ex" viewBox="0 -1662 5753.7 2960.8" role="img" focusable="false" style="vertical-align: -3.017ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="2225" y="0"></use><g transform="translate(3282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="735" y="1627"></use></g><g transform="translate(4726,0)"><g transform="translate(286,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="137" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>ϕ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-35">\phi(x) = \sum_{i=1}^x \frac{1}{i}</script></p><br><p>    .       ? , ,        ,              ,           . </p><br><p>     :       .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">j</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.633ex" height="2.66ex" viewBox="-38.5 -832 6730.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="1910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3C" x="2990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="4939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="5512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="6302" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-37">p(u, j) < p(u, i)</script>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.255ex" height="2.78ex" viewBox="0 -832 9151.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-27E9" x="2633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3C" x="3301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="4357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2B" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-27E8" x="6080" y="0"></use><g transform="translate(6470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="7478" y="0"></use><g transform="translate(7923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-27E9" x="8761" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">⟩</mo></math></span></span><script type="math/tex" id="MathJax-Element-38">\langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle</script>  。     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.066ex" height="2.178ex" viewBox="0 -780.1 2611.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="2111" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-39">N - 1</script>      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-40"> N </script> ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">i</script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2248;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230A;</mo><mfrac><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mo>&amp;#x2212;</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230B;</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.327ex" height="5.431ex" viewBox="0 -1558.2 9613.2 2338.3" role="img" focusable="false" style="vertical-align: -1.812ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2248" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-230A" x="5579" y="0"></use><g transform="translate(6023,0)"><g transform="translate(120,0)"><rect stroke="none" width="2904" height="60" x="0" y="220"></rect><g transform="translate(60,719)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-7C" x="783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="2284" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4E" x="1008" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-230B" x="9168" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>≈</mo><mo fence="false" stretchy="false">⌊</mo><mfrac><mrow><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo><mo>−</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence="false" stretchy="false">⌋</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-42">rank(u, i) \approx \lfloor \frac{\lvert I \rvert - 1}{N} \rfloor</script></p><br><p> 在哪里 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.465ex" height="2.66ex" viewBox="0 -832 1061.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-7C" x="783" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo></math></span></span><script type="math/tex" id="MathJax-Element-43">\lvert I \rvert</script> —   . </p><br><p>   ,   ,         ,   . </p><br><p>     WARP        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WSABIE: Scaling Up To Large Vocabulary Image Annotation</a> .   ,          ,     .          10%. </p><br><p>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-44">\rho(u, i)</script>  。  Okko       : </p><br><ol><li>  ; </li><li>   ; </li><li>    ( ); </li><li>   ; </li><li>    0  10. </li></ol><br><p>      ,          ,   .       399 ,  ,   .       ,     .      -,        . </p><br><p>  —  .      ,  explicit :               ,   .  ,   ,   implicit . </p><br><p>  ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.66ex" viewBox="0 -832 2659.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-45">\rho(u, i)</script>    ,     .    .        ,     . </p><br><p><img src="https://habrastorage.org/webt/vm/qy/rx/vmqyrx0t4ts9hnrh6ixb2bc7e3w.png" alt="各种消费类型的排名图示例"></p><br><p>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.091ex" height="2.66ex" viewBox="0 -832 5205.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="3993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-63" x="4772" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">\rho(u, i) = -c</script> ,          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.283ex" height="2.66ex" viewBox="0 -832 4427.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-63" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">\rho(u, i) = c</script> ,  . </p><br><p>     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cython</a> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LightFM</a> . </p><br><h2 id="vtoroy-etap-ranzhirovanie">  :  </h2><br><p><img src="https://habrastorage.org/webt/sf/p3/lm/sfp3lmbozxs5riogkbuwp9yuka8.jpeg"></p><br><p>     ,   top-N   :            .    ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Approximate nearest neighbor algorithm based on navigable small world graphs</a>        . </p><br><p>  , ,    ,    ,        .   ,       -  ,   .      :     ,   . </p><br><p>内容模型可以避免这些问题。 它们功能强大，富有表现力，您可以在其中粘贴任何符号，但它们的运行速度非常慢。 解决方案是不对所有元素都运行内容模型，而是对通过矩阵分解获得的候选对象运行内容模型。 您可以处理的候选人数量可以多达多少，但最好至少是向用户显示的候选人数量的两倍。 在我们的案例中，对于100部推荐电影，最佳解决方案是使用400部候选电影。 </p><br><p><img src="https://habrastorage.org/webt/x8/yk/jg/x8ykjgbsvsfisy1-usfx9lsd7b4.jpeg"></p><br><p> 我们提交给内容模型的属性可以分为三类：用户属性，元素属性和交互符号。 总共获得约50个标志。 </p><br><p> 作为用户的标志，我们使用他们在服务中行为的汇总统计信息，例如： </p><br><ul><li> 订阅观看百分比 </li><li> 用户从中登录应用程序的设备的分布， </li><li> 服务中的生命， </li><li> 等 </li></ul><br><p> 对于电影，我们几乎使用所有可用的元信息：类型，发行年份，国家/地区，演员，导演，年龄限制等。综合的业务指标也非常有帮助：访问卡的百分比，观看次数，收藏夹添加项，通过查看方法，设备等进行分发 </p><br><p> 互动的迹象包括从选择候选人的阶段开始加快速度，以及所有先前的用户和电影互动的汇总统计数据，以及与所讨论电影相同的演员，导演，编剧的参与。 </p><br><p> 在使用二级模型对候选人进行排名时，最常见的问题是如何训练该模型。 仅就矩阵分解而言，我们需要两组按时间分隔的组-训练和测试。 在两阶段系统的情况下，我们将需要其中的三个-两次培训和一次测试。 </p><br><p><img src="https://habrastorage.org/webt/8s/21/uq/8s21uqwknfro5hoexboth6n6f2y.png" alt="将数据分为两个模型的训练和测试集的图标"></p><br><p> 在第一个训练集上，我们将训练第一级模型并建立候选人。 从候选对象中排除在该集合中与用户进行交互的那些元素很重要。 然后，我们将在第二个训练集中看到用户与哪个候选者进行了交互。 我们称其为肯定，其余候选人为否定。 这将是我们对内容模型的培训。 </p><br><p><img src="https://habrastorage.org/webt/zd/dn/zw/zddnzwixuanlugakzjdv8hxe4j8.png" alt="两层模型的训练集的形成的说明"></p><br><p> 为什么行得通？ 首先，我们精确地在将要使用的数据上训练模型-一级模型的输出。 其次，在所有可能的负面示例中，我们采用最复杂的示例-一级模型调用的与用户相关的示例，但并非如此。 </p><br><p> 接下来是什么？ 最简单，最明显的解决方案是解决二进制分类问题，然后以概率降序对元素进行排序，这是一个很好的例子。 但是，我们可以再次回忆起关于构建推荐系统的问题的陈述，了解二进制分类不是我们要解决的问题，然后再次讨论排名问题。 </p><br><p> 在XGBoost和LightGBM中，用于排名任务的主要损失函数是LambdaMART。 如果您不进行详细介绍，则其背后的直觉非常简单。 如果 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.263ex" height="2.419ex" viewBox="0 -780.1 3127.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-66" x="0" y="0"></use><g transform="translate(550,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(1380,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="809" y="-213"></use></g><g transform="translate(2297,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-48"> f（x_i）</script>  -例如模型输出 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.129ex" height="1.817ex" viewBox="0 -520.7 916.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49"> x_i </script>  ，则该元素的概率 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-50">我</script> 的排名将高于元素 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-51"> j </script> 将相等 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>P_&amp;#xA0;{ij}&amp;#xA0;=&amp;#xA0;P&amp;#xFF08;i&amp;#xA0;\&amp;#xA0;gt&amp;#xA0;j&amp;#xFF09;=&amp;#xA0;\&amp;#xA0;frac&amp;#xA0;{1}&amp;#xA0;{1&amp;#xA0;+&amp;#xA0;\&amp;#xA0;exp&amp;#xFF08;f&amp;#xFF08;x_j&amp;#xFF09;-f&amp;#xFF08;x_i&amp;#xFF09;&amp;#xFF09;}}</mtext></merror></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><span class="noError" aria-hidden="true" style="display: inline-block;">P_&nbsp;{ij}&nbsp;=&nbsp;P（i&nbsp;\&nbsp;gt&nbsp;j）=&nbsp;\&nbsp;frac&nbsp;{1}&nbsp;{1&nbsp;+&nbsp;\&nbsp;exp（f（x_j）-f（x_i））}}</span><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><merror><mtext>P_&nbsp;{ij}&nbsp;=&nbsp;P（i&nbsp;\&nbsp;gt&nbsp;j）=&nbsp;\&nbsp;frac&nbsp;{1}&nbsp;{1&nbsp;+&nbsp;\&nbsp;exp（f（x_j）-f（x_i））}}</mtext></merror></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-52"> P_ {ij} = P（i \ gt j）= \ frac {1} {1 + \ exp（f（x_j）-f（x_i））}}</script></p><br><p> 然后可以将损失函数编写如下。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="43.676ex" height="2.66ex" viewBox="0 -780.1 18804.8 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="2015" y="0"></use><g transform="translate(2794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="4261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="5045" y="0"></use><g transform="translate(5526,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="7026" y="0"></use><g transform="translate(8027,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="8857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="9580" y="0"></use><g transform="translate(10580,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="345" y="0"></use></g></g><g transform="translate(11798,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="12878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6F" x="13176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="13662" y="0"></use><g transform="translate(14142,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-31" x="829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-2212" x="1552" y="0"></use><g transform="translate(2553,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="345" y="0"></use></g></g><g transform="translate(3831,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><mo>−</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>1</mn><mo>−</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext>&nbsp;</mtext><mi>l</mi><mi>o</mi><mi>g</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mn>1</mn><mo>−</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-53"> L =-Y_ {ij} \ log {P_ {ij}}-（1-Y_ {ij}）\ log {（1-P_ {ij}）} </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.828ex" height="2.66ex" viewBox="0 -780.1 1217.5 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54"> Y_ {ij} </script> 这是排名的真实概率。 如果将其定义为1 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.422ex" height="2.419ex" viewBox="0 -780.1 2334.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="1079" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="1560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="1921" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow><mtext>&nbsp;</mtext><mi>g</mi><mi>t</mi><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-55">我\ gt j </script>  ，如果为0 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.032ex" height="2.419ex" viewBox="0 -780.1 1736 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6C" x="595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-74" x="894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-67" x="1255" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mtext>&nbsp;</mtext><mi>l</mi><mi>t</mi><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-56"> i \ lt g </script> 如果是0.5 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.298ex" viewBox="0 -728.2 2092.1 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMAIN-3D" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhjXBt23eU00Xz7YHP9wlH7HQPl5Ew#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-57"> i = j </script>  。 </p><br><p> 与单级模型相比，两级模型的指标增加了50％。 排名损失函数又增加了10％。 </p><br><h2 id="bonus-pohozhie-filmy"> 奖励：相关电影 </h2><br><p> 记住，在我们方法的优点中，我提到了矩阵分解带来的“免费”向量，可以用来解决相关问题吗？ 因此，我们决定其中一项任务-寻找类似电影。 </p><br><p><img src="https://habrastorage.org/webt/pa/zp/bt/pazpbtfnwf1idcvg-qijo5wksac.jpeg" alt="搜索类似电影的插图"></p><br><p> 解决耻辱的方法很简单：对于每部电影，我们都采用它的向量，并寻找与它的余弦距离最近的向量。 看起来很合适。 下一阶段是添加元信息并使用图算法。 </p><br><p><img src="https://habrastorage.org/webt/ng/op/lf/ngoplf1c7oow_rrqxw6_lmujgwo.jpeg" alt="类似雷科和他的电影"></p><br><h2 id="tehnicheskaya-realizaciya"> 技术实施 </h2><br><p> 除了算法部分之外，我还想谈一谈实现。  Rekko由三个部分组成：私钥，rekko任务和rekko服务。 </p><br><p>  Lynch在一台功能强大的机器上运行，定期唤醒，为微服务准备数据，并将其放入S3中​​。 </p><br><p> 微服务rekko-tasks和rekko-service以及所有其他微服务和数据库都位于Okko产品环境中。 他们中的第一个不断监视S3的更改（如果有），将其下载并放入杂货店。 第二个微服务使用这些计算结果，以便实时响应用户请求并计算他们的推荐。 </p><br><p><img src="https://habrastorage.org/webt/i3/u3/ar/i3u3arrkx8ducuzbryj-efwzxmg.jpeg" alt="服务架构"></p><br><p> 微服务是使用falcon，gunicorn和gevent用Python编写的，除了业务逻辑之外，它们不代表任何有趣的东西。 与Okko产品环境中的所有其他微服务一样，它们由平衡器关闭。 </p><br><p> 林奇更有趣。 </p><br><p> 要为用户计算推荐的下一部分，需要做什么？ 至少： </p><br><ol><li> 下载自上次重新计票以来出现的新数据； </li><li> 处理它们； </li><li> 训练矩阵分解 </li><li> 建立候选人 </li><li> 重新安排候选人； </li><li> 应用业务规则 </li><li> 卸载。 </li></ol><br><p> 听起来似乎并不可怕，您可以将每个部分放到单独的函数中，然后依次调用它们： </p><br><pre><code class="python hljs">data = extract_data() data = transform_data(data) mf_model = train_mf_model(data) candidates = build_candidates(mf_model) predictions = build_predictions(content_model, candidates) upload_predictions(predictions)</code> </pre> <br><p> 好吧，一切都做得很好，我们不同意吗？ 不完全是 但是，如果整张纸落在某个地方怎么办？ 好吧，例如，由于内存不足。 即使我们已经花费了几个小时来训练模型和构建候选者，我们也将不得不重新启动一切。 </p><br><p> 好吧，接下来让我们将所有中间结果保存到文件中，然后在跌倒之后检查哪些结果已经存在，恢复状态并从正确的时刻开始计算。 实际上，这个想法比以前的想法还要糟糕。 程序在写入文件的过程中可能会中断，尽管该程序存在，但处于错误状态。 在最好的情况下，整个计算将失败；在最坏的情况下，它将以错误的结果结束。 </p><br><p> 好的，让我们写入原子文件。 然后，我们将每个函数都放在一个单独的实体中，并指出它们之间的依赖关系。 结果是一连串的计算，每个元素都可以执行或不执行。 </p><br><p><img src="https://habrastorage.org/webt/le/ou/1r/leou1rkpcgl-g9mkkwygytfgwvu.jpeg" alt="相关任务图"></p><br><p> 已经不错。 但是实际上，几乎所有必要的计算都不会通过列表来描述。 学习矩阵分解将不仅需要交易数据，而且还需要用户评级，建筑候选者将需要记住的电影列表以将它们排除在外，计算相似的电影将需要经过训练的矩阵分解和来自目录的元信息，等等。 我们的任务不再建立在简单连接的列表中，而是建立在没有循环的有向图中（有向无环图，DAG）。 </p><br><p><img src="https://habrastorage.org/webt/-e/cc/nw/-eccnwex1lkhzeha9qwnk0er6au.jpeg" alt="DAG插图"></p><br><p>  DAG是一个非常受欢迎的计算组织。 构建DAG的主要框架有两个： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Airflow</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Luigi</a> 。 在Okko，我们选择了后者。  Luigi由Spotify开发，正在积极开发中，完全用python编写，易于扩展，并允许您非常灵活地组织计算。 </p><br><p>  Luigi中的任务由继承自<code>luigi.Task</code>的类定义，并实现三个必需的方法： <code>luigi.Task</code> ， <code>output</code>和<code>run</code> 。 这是一个典型的任务： </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># RekkoTask  luigi.Task   class DoSomething(RekkoTask): #   date: datetime.datetime = luigi.DateSecondParameter() #   resources = { 'cores': 4, 'aws': 1, 'memory': 8 } # Namespace     task_namespace = 'Transform' def requires(self): # ,          return { 'data': DownloadData(date=self.date), 'element_mapping': MakeElementMapping(date=self.date) } def output(self): #      #       ,        s3 return luigi.LocalTarget( os.path.join(self.data_root, f'some_output_{self.date}.msg'), format=luigi.format.Nop ) def run(self): #  ,     #      with self.input()['data'].open('r') as f: data = pd.read_csv(f) with self.input()['element_mapping'].open('r') as f: element_mapping = json.load(f) #       result = ... #         Splunk self.log( n_results=len(result) ) #    with self.output().open('w') as f: result.to_msgpack(f)</span></span></code> </pre> <br><p> 路易吉将确保任务以正确的顺序完成，而不会超出可用资源的消耗。 如果可以并行执行任务，它将并行运行它们，从而最大程度地提高CPU利用率并缩短总体执行时间。 如果某些任务失败，他将多次重新启动它，如果失败，则会通知我们。 在这种情况下，将执行所有可以执行的任务。 这意味着，例如，对候选影片进行排名的错误不会妨碍计数和上传相似电影的列表。 </p><br><p> 目前，林奇（Lynch）包含47个独特的任务，生产约100个副本。 其中一些人忙于直接工作，其中一些人正在计算指标并将其发送到我们的Splunk BI工具。 林奇还定期通过电报向我们发送基本统计数据和工作报告。 他还写了关于错误的文章，但是在PM中。 </p><br><h2 id="monitoring-splity-i-rezultaty"> 监控，拆分和结果 </h2><br><p><img src="https://habrastorage.org/webt/lc/3p/5j/lc3p5jberk7xqscaocnrr01bxja.jpeg"></p><br><p> 数据科学的第一条规则：不要告诉任何人数据科学的薪水。 数据科学的第二条规则：无法衡量的规则无法改进。 </p><br><p> 我们试图跟踪一切。 首先，这当然是对历史数据的指标进行排名。 他们甚至在研究阶段都可以帮助您从多个模型中选择最佳模型，并为其选择超参数。 </p><br><p> 对于生产中使用的模型，我们还考虑了指标，但是已经是日常的。 这些度量标准非常不稳定，但是如果模型由于某种原因突然降级，可以用它们来表示。 在产品中启动新模型时，您可以将其闲置一周，并确保指标不会下垂。 之后，您可以为某些用户启用它，运行A / B测试并监视业务指标。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/655/c71/0c9/655c710c96fa12b795f4a0457d592b47.png"></p><br><p> 另外，我们考虑按类型，国家，年份，类型等分配建议的情况。这使我们能够了解用户偏好的当前性质，将其与真实的观看数据进行比较，并发现业务规则中的错误。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b0c/494/02a/b0c49402add8febc6b6d667e766f32df.png"></p><br><p> 跟踪所使用的所有性状的分布也很重要。 数据源中的错误可能会导致它们的急剧变化，并导致不可预测的结果。 </p><br><p> 但是，当然，需要密切关注的最重要的事情是业务指标。 作为推荐系统的一部分，我们的主要业务指标是： </p><br><ol><li> 交易和订阅消费模型的收入（TVOD / SVOD收入）； </li><li> 每位访客的平均收入（每位访客的平均收入，ARPV）； </li><li> 平均支票（每次购买的平均价格，APPP）； </li><li> 每位用户的平均购买量（APPU）； </li><li> 转换为购买（CR转换为购买）； </li><li> 转换为按订阅观看（观看CR）； </li><li> 试用期间的转换（CR转换为试用）。 </li></ol><br><p> 同时，我们分别考虑“建议”和“相似”部分中的指标以及整个服务的指标，以便考虑重新分配的影响并从不同角度考虑情况。 </p><br><p> 这看起来像是比较几个模型的仪表板： </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fd7/fcd/79f/fd7fcd79f0d63925319dc394844b6dc4.jpg"></p><br><p> 正如我在开始时所说的，我们不仅将模型彼此进行比较，而且还将具有建议的一组用户与没有建议的一组用户进行比较。 这使我们能够评估实施Rekko的最终效果，并了解我们目前所处的位置以及仍有哪些改进余地。 根据此A / B测试，我们目前有： </p><br><ul><li>  ARPV + 3.5％ </li><li> 保证金+ 5％ </li><li>  APPU + 4.3％ </li><li> 试用CR + 2.6％ </li><li> 观看率+ 2.5％ </li><li>  APPP -1％ </li></ul><br><p> 在线电影院中的电影可以分为两类：新项目和旧内容。 我们已经知道如何出售好消息。 个人推荐的主要目的是从目录中获取与用户相关的旧内容。 这会导致购买数量增加和平均支票下陷，因为这种内容自然更便宜。 但是，此类内容的利润率也很高，可以弥补支票的下陷并增加收入。 </p><br><p> 更相关的订阅内容已导致在试用期内转换和按订阅查看的次数增加。 </p><br><h2 id="rekko-challenge"> 瑞可挑战 </h2><br><p> 从2019年2月18日至4月18日，我们与Boosters平台一起举办<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了</a> Rekko挑战赛，我们邀请参与者根据匿名产品数据构建推荐系统。 </p><br><p><img src="https://habrastorage.org/webt/lc/93/ef/lc93efrsjm1w45ud7ftqev9leus.png" alt="瑞可挑战赛冠军表"></p><br><p> 预计建立与我们类似的两级系统的参与者将排在首位。 排名第一和第三的优胜者都加入了综合RNN。 来自第八名的参与者仅使用协作过滤模型就设法爬上了它。 </p><br><p> 在比赛中获得第二名的Evgeni Smirnov在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一篇文章</a>中谈到了自己的决定。 </p><br><p> 目前，比赛以沙盒形式进行，因此对推荐系统感兴趣的每个人都可以尝试一下，并获得有用的经验。 </p><br><h2 id="zaklyuchenie"> 结论 </h2><br><p> 在本文中，我想向您展示推荐系统在生产中并不困难，但有趣且有利可图。 最主要的是思考目标，而不是实现目标并不断衡量所有目标的方法。 </p><br><p> 在以后的文章中，我们将告诉您有关Okko室内厨房的更多信息，因此请不要忘记订阅和喜欢。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN454224/">https://habr.com/ru/post/zh-CN454224/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN454210/index.html">被遗忘的enchantjs +新的1C-Bitrix =激励客户的游戏</a></li>
<li><a href="../zh-CN454214/index.html">我讨厌几乎所有软件</a></li>
<li><a href="../zh-CN454216/index.html">找到的证据表明所有变化都是有序和偶然的混合</a></li>
<li><a href="../zh-CN454220/index.html">两位数温度计</a></li>
<li><a href="../zh-CN454222/index.html">使用PCIe 1.0-2.0总线升级旧服务器的磁盘子系统</a></li>
<li><a href="../zh-CN454226/index.html">圆柱磁域上的内存。 第1部分。工作原理</a></li>
<li><a href="../zh-CN454232/index.html">图形化编程语言中的OOP。 第2部分MOS和OOP</a></li>
<li><a href="../zh-CN454240/index.html">小波分析。 第三部分</a></li>
<li><a href="../zh-CN454242/index.html">“看，我有什么喷气背包！” “哈，看看我有什么火箭！” （火箭冠军的笔记）</a></li>
<li><a href="../zh-CN454246/index.html">Unity3d GUI中使用的各种坐标</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>