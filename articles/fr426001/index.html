<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍌 🎅🏻 😄 Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 3 🚙 👩🏼‍🚀 🚶🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 8: «Modèle de sécurité réseau» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 9: «Sécurité des applications Web», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conférence 10: «Exécution symbolique» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 11: «Ur / Web Programming Language» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  La dernière chose que nous devons faire et qui sera très instructive est de changer ce code en y indiquant le module de salle, puis d'essayer d'accéder à la table de salle, comme dans l'exemple précédent.  Cette option n'est pas autorisée car elle n'est pas autorisée. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Ce serait comme pouvoir lire et écrire des champs de classe privés en Java.  En effet, nous obtenons un message assez simple, disant essentiellement que nous avons ici une variable non liée, une expression inconnue pour le paramètre de pièce. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Nous pourrions mentionner ce module complémentaire, que nous avons créé juste pour le plaisir. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Mais alors ce seront des tableaux différents.  Nous pouvons facilement y accéder.  Par conséquent, je vais le diviser en deux parties, nous commencerons par appeler simplement la méthode room, puis ferons une chose légèrement différente pour lire ses éléments. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Afficher une liste de résultats, et non l'inverse, cela équivaut à peu près à la façon dont le programme fonctionnait auparavant, à l'exception de l'utilisation de divers types de données.  Voyons ce qui en résulte.  Maintenant, nous revenons à notre chat dans la salle 1 et entrons tous les messages dans la ligne.  Vous voyez qu'ils sont tous affichés sans erreur. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Autrement dit, nous avons maintenant cette encapsulation, vous pouvez donc penser à la structure de cette pièce comme une bibliothèque, mais vous n'avez pas à vous en préoccuper. <br><br>  Il existe différents endroits qui peuvent endommager l'invariance interne d'un système.  Peut-être que vous voulez qu'après l'ajout du message, il ne disparaisse jamais.  Tout cela est dans les magazines.  Cette structure fournit de telles propriétés indépendamment d'un autre code, tel que celui sur lequel le module de salle de conversation est écrit. <br><br>  <b>Étudiant:</b> vous avez donc changé la définition de la pièce, qu'arriverait-il à la table de base de données dans ce cas? <br><br>  <b>Professeur: vous</b> devez exécuter manuellement la commande alter table si vous souhaitez conserver les anciennes données.  Mais lorsque l'application démarre, elle interroge le répertoire de la base de données système et vérifie que le schéma est toujours comme prévu.  Vous obtiendrez alors une erreur statique.  J'espère que cela vous donne une idée de ce que vous devez changer dans la base de données. <br><br>  <b>Étudiant:</b> mais cela ne supprimera pas automatiquement la base de données ou quelque chose comme ça? <br><br>  <b>Professeur:</b> J'espère que non.  Je ne pense pas que le compilateur devrait faire cela.  Vous pouvez imaginer personnaliser le compilateur pour comprendre l'évolution de la base de données.  Je pense que vous devez écrire des commandes alter table pour démarrer, car le compilateur ne le fait pas pour le moment. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Parlons maintenant de la falsification de requêtes intersites et de sa prévention.  En fait, avant de faire cela, regardons le code sur cette page.  Nous avons un formulaire HTML traditionnel qui est généré ici.  Et, bien sûr, il n’existe aucune protection contre la falsification de demandes intersites, et je pense que c’est bien.  Parce que, si je comprends bien, le problème de la falsification des demandes intersites est le contexte implicite que l'application envoie avec chaque demande. <br><br>  Supposons qu'il existe une sorte d'attaquant qui ne connaît pas votre contexte implicite.  Supposons que votre mot de passe soit stocké dans un cookie, pour un exemple très simple.  Et lorsque l'attaquant vous trompe en cliquant sur le lien vers l'application dont il a besoin, le navigateur envoie automatiquement un contexte implicite et force l'application à faire ce que l'attaquant ne pourrait pas faire directement. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  Dans ce cas, il n'y a pas de contexte implicite, il n'y a donc aucun risque de falsification des requêtes intersites.  Quelqu'un veut-il contester cette fonctionnalité du système avant de continuer?  Cela peut être très instructif pour moi.  Sinon, ajoutez ici un contexte implicite.  Dans ce cas, le système va automatiquement prendre les bonnes contre-mesures, sur la base de l'analyse du programme, qui comprend qu'il existe désormais un contexte implicite. <br><br>  Maintenant, je vais insérer des cookies ici.  Comme autre exemple d'encapsulation de module, en fait, je vais mettre ici un système d'authentification utilisateur complet dans lequel nous avons des comptes utilisateur et des types abstraits d'identifiants et de mots de passe.  Par conséquent, vous ne pouvez pas simplement créer directement la valeur de l'un de ces types de données.  Vous devrez suivre une méthode approuvée de construction de valeurs de ces types. <br><br>  Je vais placer la table directement dans la signature.  Et je vais également lui imposer une restriction, en disant que la clé est le formulaire d'identification. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Mais le fait est que dans cette table utilisateur, l'ID et le mot de passe sont des types de données abstraits.  Par conséquent, le code ne peut pas voir le mot de passe et ne peut pas générer systématiquement tous les identifiants et les essayer dans ce tableau.  Parce qu'il utilise un type abstrait, à cause duquel il est impossible d'établir à quoi ressemble l'ID et il est impossible de trouver un mot de passe.  Ils viennent juste de cette table, et ce sont des jetons opaques. <br><br>  Mais nous pourrions leur permettre d'être des eaux usées.  Vous souhaiterez peut-être autoriser une direction de conversion entre les chaînes et ces types.  Maintenant, je vais faire quelque chose ici, principalement les détails, et je ne vais pas essayer de les expliquer.  Mais cela revient à déclarer que vous êtes autorisé à convertir des chaînes en ID.  Pour ceux qui connaissent Haskell, il s'agit d'une classe de type instantané, cette autorisation de transformer les chaînes en ID. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  Nous n'allons pas appliquer une autre autorisation, car nous ne voulons pas pouvoir reconvertir l'ID en autre chose.  Faisons de même pour le mot de passe.  Nous voulons pouvoir lire le mot de passe de l'utilisateur, mais nous n'allons pas accepter le mot de passe et le transformer en une chaîne qui nous dira que l'utilisateur est entré dans le chat. <br><br>  Ainsi, d'autres parties du code pourront accepter le mot de passe de l'utilisateur, le convertir en ce type et le transporter vers le module utilisateur pour vérification.  Mais ce qu'ils ne peuvent pas faire, c'est interroger la table des utilisateurs et obtenir tous les mots de passe sous une forme à partir de laquelle ils peuvent extraire leur expression textuelle. <br><br>  Ensuite, nous pouvons avoir une méthode de connexion qui accepte ces deux composants, l'ID et le mot de passe, et fonctionne simplement comme un effet secondaire, qui est en fait indiqué dans le code.  Nous aurons également besoin d'un moyen de savoir quel utilisateur est enregistré.  Il s'agit du code qui exécute la transaction qui crée l'ID. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  La première étape consiste à copier simplement cette définition.  Et puis vient une surprise.  Il s'avère que les ID utilisateur et les mots de passe sont des chaînes, mais cette circonstance ne sera pas divulguée en dehors du module. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Nous allons maintenant créer des cookies.  Les cookies sont une autre chose qui est intégrée dans la langue.  En fait, ils agissent comme des variables globales mutables qui ont une copie pour chaque client qui utilise votre application. <br><br>  Ainsi, nous allons créer un cookie qui pour chaque utilisateur stockera simplement une copie des deux mêmes champs que nous avons ici. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Ces cookies sont privés de ce module.  Les autres parties du code ne pourront pas lire les cookies car ils n'ont tout simplement pas ce champ privé.  Ainsi, personne ne pourra voir directement l'ID et le mot de passe enregistrés pour cet utilisateur.  Mais ils seront enregistrés lors de l'affichage de différentes pages, comme c'est le cas avec les cookies ordinaires. <br><br>  Maintenant, je vais insérer la fonction de connexion, qui lancera le processus pour vérifier la base de données et savoir s'il s'agit vraiment de la bonne paire de nom d'utilisateur et de mot de passe.  Ce processus vérifiera simplement si nous pouvons trouver une ligne dans la base de données contenant cet ID utilisateur et ce mot de passe. <br><br>  Si nous le trouvons, alors bon, alors c'est le sens correct.  Disons simplement enregistrer cela dans les cookies.  Nous utilisons une méthode qui modifie la valeur d'un cookie.  Et nous devons mettre certaines choses ici, pour simplifier je dirai que ce cookie n'expire pas.  Je ne veux pas exécuter SSL ici, donc je dirai que dans ce cas, nous n'avons pas besoin de sécurité et définissez le paramètre Secure = false. <br><br>  Mais si vous vous souciez vraiment de la sécurité, vous écrirez évidemment Secure = true.  Si la vérification échoue et que le module signale une erreur, le programme s'arrête et donne une description de cette erreur. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Enfin, nous pouvons créer cette fonction qui indique quel utilisateur particulier est connecté en recevant la valeur actuelle du cookie.  Ce paramètre peut également être défini sur aucun si l'utilisateur ne s'est pas encore connecté, auquel cas nous obtiendrons un autre message d'erreur.  Ou cela pourrait être une sorte d'enregistrement du type exact que nous avons utilisé ci-dessus.  Je viens donc de le copier ici et d'exécuter le même contrôle.  Si cela fonctionne, nous renvoyons simplement la partie de l'enregistrement ID que nous venons de vérifier dans la base de données. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  Alors laissez-moi vérifier cela.  Nous démarrons le compilateur et vous voyez le résultat à l'écran. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Au cœur de tous ces détails de mise en œuvre.  Mais en dehors de ce module, on y pense du point de vue de l'interface.  Il existe certains types d'ID et de mots de passe inconnus.  Ce tableau utilisateur exprime des termes qui vous permettent de transformer des chaînes en identificateurs et mots de passe, mais pas l'inverse.  Nous avons d'abord ces deux méthodes pour entrer la connexion et il y a une vérification de l'utilisateur qui est connecté à ce stade.  Vous avez des questions à ce sujet? <br><br>  <b>Étudiant:</b> Avez-vous besoin d'étendre la table des utilisateurs? <br><br>  <b>Professeur:</b> Je fais cela parce que je veux l'utiliser plus tard comme clé étrangère, donc ce n'est pas une raison importante.  Donc, nous sommes presque au point où je peux vous montrer la protection CSRF en action. <br><br>  Pour commencer, la connexion au système est assez simple.  Eh bien, que pouvons-nous faire d'autre à ce stade du programme?  Ajoutons simplement ici une autre partie de la page qui dit que c'est là que vous entrez la connexion.  Ici, vous devez entrer le nom d'utilisateur et le mot de passe, puis cliquer sur le bouton d'action de soumission.  Cette action fournira un appel à la fonction de connexion. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Définissons la connexion comme une fonction qui fait ces choses.  En fait, c'est juste un wrapper autour de l'appel de la fonction de connexion à partir de ce module, dans lequel nous prenons chacun des composants et le convertissons d'une chaîne en un type abstrait. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Elle vérifie une erreur de lecture.  L'erreur signifie que si la connexion ne fonctionne pas, l'opération sera interrompue à ce stade et la fonction reviendra à la partie principale du programme. <br>  Maintenant, nous pouvons nous connecter.  Nous voudrons probablement créer un compte qui nous permettra de nous connecter, alors laissez-moi créer un utilisateur avec un nom d'utilisateur et un mot de passe a. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Maintenant, je peux me connecter en tant qu'utilisateur a, croyez-moi.  Nous avons un ensemble de cookies pour enregistrer ces informations, alors allons dans la salle de chat et envoyons un message, par exemple, asfasf.  Vous voyez qu'après avoir cliqué sur le bouton Ajouter, il est apparu dans le chat. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  En fait, nous n'avons ajouté aucun contrôle d'accès ici, donc rien de spécial ne se produit ici.  Mais nous pouvons vérifier. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Il y a des cookies ici, mais le système a déterminé que nous n'utilisons pas de cookies.  Lorsque nous soumettons ce formulaire, le cookie n'est pas lisible.  Ainsi, jusqu'à présent, il n'est pas nécessaire d'ajouter ici une protection CSRF.  Donc, maintenant, nous devons ajouter un moyen d'utiliser les cookies et voir comment la protection se manifestera. <br><br>  <b>Étudiant:</b> qu'est-ce que le contenu des cookies? <br><br>  <b>Professeur:</b> c'est le contenu que vous vous attendez à recevoir du code.  En d'autres termes, le cookie est déclaré comme ayant le type de cet enregistrement - identifiant et mot de passe. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  C'est donc exactement ce qui y est contenu sous une certaine forme sérialisée.  Maintenant, utilisons des cookies.  Nous devrions voir cela, malgré le fait que nous allons utiliser le cookie indirectement, car nous allons l'utiliser dans le module de salle, qui n'a rien à voir avec les cookies.  Mais nous appellerons des méthodes de module personnalisées qui sont indirectement liées à l'utilisation de cookies.  Et puis le système comprendra que cela signifie que nous en dépendons. <br><br>  Alors, faisons-le très simplement et appelons la méthode whoami.  En fait, je vais juste l'ignorer, ou vice versa, le laisser faire quelque chose.  Décidons que l'utilisateur que nous avons créé est vraiment spécial, et seul cet utilisateur peut publier n'importe quoi.  Si ce n'est pas le cas, nous obtiendrons un message d'erreur. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  J'ajouterai un ID au module utilisateur, puis cela devrait fonctionner, car le type d'ID prend en charge la vérification d'égalité. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Maintenant, tout devrait être en ordre, et nous pouvons faire plus de choses avec cet ID, ce qui peut entraîner des problèmes de sécurité. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Cela nous permet d'ajouter une vérification de contrôle d'accès, alors voyons comment cela fonctionne et revenons à la page principale. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Maintenant, ces quatre lettres "a" sont apparues dans le chat. <br><br>  Dans la console d'interface, nous voyons que le formulaire a maintenant reçu automatiquement le nom d'entrée caché sig, qui est la signature cryptographique des valeurs de tous les cookies.  Cette signature a signé les cookies à l'aide d'une clé secrète pour le serveur.  Et lorsque le formulaire est prêt, l'application sait - parce que le compilateur l'a informé - que l'application doit vérifier les signatures pour le prochain ensemble d'opérations.  Pour cela, nous avons une opération de dire. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Étudiant:</b> les signatures ont-elles une sorte d'horodatage? <br><br>  <b>Professeur:</b> non, les signatures n'ont pas d'horodatage. <br><br>  <b>Étudiant:</b> dans ce cas, si un attaquant réussissait à "espionner" ces données, il pourrait prétendre être un utilisateur, car ces cookies n'expirent jamais. <br><br>  <b>Professeur:</b> oui, il n'expire jamais.  C'est quelque chose qui peut être changé en changeant simplement l'implémentation du langage sans changer les applications, puis en le déployant rapidement.  Mais maintenant, ce n'est pas ici.  Et je comprends pourquoi cela serait utile d'ajouter. <br><br>  <b>Étudiant:</b> vous pouvez également résoudre ce problème en plaçant simplement un horodatage sur la signature. <br><br>  <b>Professeur:</b> oui, vous avez raison, vous pouvez modifier l'application de manière à modifier intentionnellement les données des cookies assez souvent, c'est-à-dire faire expirer la signature. <br>  <b>Étudiant:</b> pouvez-vous réaffecter des URL? <br><br>  <b>Professeur:</b> oui, quelle réaffectation aimeriez-vous voir? <br><br>  <b>Étudiant:</b> tout, je veux juste voir comment cela se fait. <br><br>  <b>Professeur:</b> Donc, le compilateur attribue ... comme nous le voyons, nous avons appelé la fonction say, et cet appel de fonction est sérialisé en tant que forme spécifique d'URL.  Supposons que nous n'aimons pas ce formulaire. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Nous avons décidé que nous allions réécrire l'URL, pour ainsi dire, à l'intérieur du module de salle, à l'intérieur de la démo.  Mieux vaut le coller.  Nous voulons donc réaffecter l'URL Demo / Room / say à Demo / Room / Speak. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Nous démarrons le compilateur et allons à l'écran principal de l'application.  Voyons ce qui se passe.  Tout est en ordre, nous pouvons également saisir des messages texte et ils apparaissent dans la ligne de discussion.  Vous pouvez utiliser des caractères imprévisibles dans ces règles pour remplacer un préfixe par un autre, et le compilateur s'assurera que chaque fonction a un schéma d'URL distinct, mais l'URL est automatiquement générée par défaut. <br><br>  <b>Étudiant:</b> vous avez mentionné que HTML n'est pas spécifique au compilateur, c'est juste une bibliothèque.  Existe-t-il d'autres bibliothèques pour d'autres formats? <br><br>  <b>Professeur:</b> il existe d'autres bibliothèques qui ne vérifient pas le type avec la même exhaustivité fonctionnelle, mais, par exemple, il existe une bibliothèque pour sérialiser et désérialiser JSON, et un grand nombre de moyens automatisés pour gérer la structure de type.  De cette façon, vous pouvez faire des choses qui ne sont pas intégrées au compilateur. <br><br>  <b>Étudiant:</b> supposons que nous voulions toujours écrire en JavaScript, par exemple, pour animer certaines choses sur la page ... <br><br>  <b>Professeur:</b> laissez-moi télécharger la version Ajax de cela, qui répondra à votre question.  Cette version a du code côté client.  Passons à une version du programme appelée demo3.  J'ai entré les données sur la page principale de la ligne de discussion, et elles sont également apparues au bas de la discussion.  Croyez-le ou non, cette fois, le complément a fonctionné à l'aide d'un appel Ajax.  Cela est dû à la valeur du bouton de la balise bouton.  Il possède un attribut onclick qui, lorsque l'utilisateur clique sur le bouton, tout ce code sous la ligne avec cet attribut fonctionne du côté client. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ] <br><br>  Mais c'est du code Ur / Web, ce n'est pas du code JavaScript.  Le compilateur traduit cela en JavaScript pour vous et s'assure qu'il enregistre les propriétés que nous voulons pour les abstractions dans notre liste si l'utilisateur ne veut pas bricoler manuellement dans le navigateur. <br><br>  Étudiant: Je pense qu'aujourd'hui, il existe de nombreuses bibliothèques qui font des choses utiles, et dans de nombreux cas des choses complexes, si vous voulez tout recoder vous-même.  Existe-t-il un moyen d'interagir avec JavaScript depuis Ur / Web? <br><br>  <b>Professeur:</b> oui, il existe une interface de fonction externe qui vous permet de donner des noms de fonction Ur / Web aux noms de fonction JavaScript et aux appels.  Mais lorsque vous utilisez l'interface d'une fonction externe, vous ne pouvez plus utiliser toutes ces fonctions de construction utiles.  Dans ce cas, vous devez être très prudent. <br><br>  Vous devez comprendre la mise en œuvre de certaines de ces abstractions afin de ne pas interférer avec elles.  Tant que j'ai ce code, permettez-moi de vous montrer autre chose. <br><br>  Nous avons toujours la même fonction de dire qu'auparavant.  Mais maintenant, au lieu de l'appeler par référence, nous prenons simplement un appel de fonction qui est rempli d'arguments provenant du contexte du gestionnaire onclick. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Nous enveloppons simplement cette fonction dans la syntaxe rpc.  Cela signifie qu'il s'agit d'une fonction d'appel côté client, mais l'appel lui-même est lancé sur le serveur avec accès à la base de données et aux autres ressources du serveur, puis transfère le résultat ici. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et il est écrit dans un style si simple qu'il ne nécessite pas de rappels, que vous devez généralement utiliser en JavaScript pour appeler un serveur distant. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le client peut effectuer un appel n'importe où dans le cadre de la fonction, à l'exception des champs privés masqués. </font><font style="vertical-align: inherit;">Je veux dire, puisque la fonction est située à cet endroit du programme, elle peut appeler tous ceux dont les noms sont dans sa portée. </font></font><br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'avère que ce nom n'est pas dans le champ d'application, nous n'avons donc pas pu appeler ici. </font><font style="vertical-align: inherit;">Mais tout ce qui est dans le cadre de la fonction peut être appelé.</font></font><br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la meilleure façon est d'amener les gens à utiliser ces choses et à signaler des bogues. </font><font style="vertical-align: inherit;">C'est le meilleur conseil que je puisse vous donner. </font><font style="vertical-align: inherit;">L'idée est que ces compilateurs devraient être écrits beaucoup moins fréquemment que les nouvelles applications. </font><font style="vertical-align: inherit;">Parce qu'il recueille toutes les erreurs en un seul endroit et essaie de les éliminer, même si cela ne se produit pas de la manière la plus efficace. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étudiant:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pourquoi avez-vous choisi un tel nom pour votre langue - Ur? </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Professeur:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ur est un concept de la linguistique, le nom de la langue qui est l'ancêtre de la langue moderne. </font><font style="vertical-align: inherit;">Et l'idée est que cette langue vous permet d'insérer toutes sortes d'autres langues à l'intérieur. </font><font style="vertical-align: inherit;">C'est donc une sorte de progéniteur de toutes les langues.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La version complète du cours est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en décembre gratuitement</b> en payant pour une période de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426001/">https://habr.com/ru/post/fr426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425991/index.html">Comment nous avons créé l'hébergement</a></li>
<li><a href="../fr425993/index.html">Comment combler l'écart entre les sexes dans la technologie</a></li>
<li><a href="../fr425995/index.html">Visualisez FHIR - La norme informatique pour la médecine</a></li>
<li><a href="../fr425997/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 1</a></li>
<li><a href="../fr425999/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 2</a></li>
<li><a href="../fr426009/index.html">Epic fail resistance 1 ou Fox se faufilait inaperçu. Test d'anonymat et de sécurité + VPN pour l'utilisateur</a></li>
<li><a href="../fr426013/index.html">Stéroïdes de carrière</a></li>
<li><a href="../fr426015/index.html">L'utilisation de drones civils sciés pour la photographie aérienne géodésique professionnelle de la région</a></li>
<li><a href="../fr426017/index.html">Comment réduire le nombre d'expériences sur des animaux</a></li>
<li><a href="../fr426019/index.html">Station météo sur Arduino de A à Z. Partie 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>