<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛏️ 🤙 🍄 多媒体中心“ Kodi”和Yocto项目 🐻 ⛓️ 👨🏾‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Yocto项目简介 
 Yocto项目是一个协作的开源项目，旨在简化嵌入式系统发行版的开发。 Yocto包含大量模板，元数据和构建工具。 在Yocto Project中，您可以为各种硬件平台连接大量的BSP（平台支持包）层。 

 本文的主要目的是尝试以著名的多媒体中心Kodi（Raspberry ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>多媒体中心“ Kodi”和Yocto项目</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467443/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/q_/p2/ue/q_p2uexsi7n5tjnthirivhuwq2o.png"></div><br><h2>  Yocto项目简介 </h2><br>  Yocto项目是一个协作的开源项目，旨在简化嵌入式系统发行版的开发。  Yocto包含大量模板，元数据和构建工具。 在Yocto Project中，您可以为各种硬件平台连接大量的BSP（平台支持包）层。 <br><br> 本文的主要目的是尝试以著名的多媒体中心Kodi（Raspberry Pi 3B单板计算机的版本17.6）为例，展示Yocto Project中典型分发包的组装。 <br><br> 如果您内心深处某个地方觉得自己是一个收藏家，但尚未决定要收藏什么，那么本文适合您。 如果您已经在日常工作中使用Yocto Project，则可以滚动阅读本文。 直接进入上一章并做好准备。 <br><br> 本文纯粹是实用的，并演示了使用Yocto Project和OpenEmbedded的成果来建立多媒体中心“ Kodi”的可能性。  Yocto图层是使用Google的Repo实用程序进行管理的。 本系列文档中的一篇文章。 <br><br> 所以：走吧。 <br><a name="habracut"></a><br><h2> 内容： </h2><br> 在Ubuntu上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">安装</a> Yocto Project <br>  Yocto项目中的发行版构建<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">引擎</a> <br> 在Yocto项目中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用</a> OpenEmbedded <br> 平台支持<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">包</a> （BSP） <br> 使用回购<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">管理</a> Yocto图层 <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">安装</a>仓库 <br> 发行版本<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">清单</a> <br> 清单<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">内容</a> <br> 清单<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">说明</a> <br>  Bs清单<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">结构</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">初始化</a> Poky变量 <br> 回购<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">初始化</a> <br> 回购<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">同步</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">创建</a> Yocto项目配置 <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">配置</a>文件build / conf / local.conf <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">配置</a>文件build / conf / bblayers.conf <br> 组装多媒体中心的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">层</a> <br> 层<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">结构</a> <br> 层<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">配置</a> <br> 食谱的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">组成</a> <br> 食谱核心的组成 <br> 食谱内核的组成 <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">成分</a>食谱-媒体中心 <br> 食谱的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">组成</a> -多媒体 <br>  Kodi Build <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">食谱补遗</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">向</a> Kodi设置菜单<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">添加新</a>项目 <br> 视频的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">最大</a>缓冲<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设置</a> <br> 通过IPTV <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">观看电视</a> <br> 使用Kodi插件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">观看Youtube</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">控制台</a>外壳网络配置扩展 <br> 发行构建<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">配方</a> <br> 创建分发映像的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">简要</a>指南 <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">后记</a> <br><br><a name="install_yocto_koditv"></a><h2> 在Ubuntu上安装Yocto Project </h2><br> 要在Ubuntu上使用Yocto Project构建发行版，您需要安装以下软件包： <br><br><pre><code class="bash hljs">sudo apt-get install -y --no-install-suggests --no-install-recommends \ gawk wget git-core diffstat unzip texinfo gcc-multilib \ build-essential chrpath socat cpio python python3 python3-pip python3-pexpect \ xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa libsdl1.2-dev \ xterm</code> </pre> <br> 使用<strong>apt-get install</strong>命令和特权升级<strong>命令sudo</strong> <strong>安装</strong>软件包。 在Ubuntu系统中，当使用sudo命令执行管理操作时（这是创建系统的主要用户时，它会自动注册在“ sudo”组中），这是一种普遍的做法。 <br><br> 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处</a>查看更详细的安装说明<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">：</a> <br><br><a name="mechanism_build_koditv"></a><h2>  Yocto项目中的发行版构建引擎 </h2><br> 在Yocto项目中，每个程序单元都是使用汇编配方来描述的。 配方描述语言类似于“ bash”，能够以python语言插入代码段。 您可以从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yocto Project手册中</a>获取基本语法信息。 根据目的，可以将一组组装配方组合到单独的组装层中。 <br><br> 层分为与硬件相关的层-BSP层，UI层（用户界面），特定的Yocto层以及实现某些功能的层： <br> 例如，来自OpenEmbedded =&gt;多媒体，python，perl，ruby，网络，systemd，网络服务器等的图层。 <br><br><a name="openembedded_koditv"></a><h2> 在Yocto项目中使用OpenEmbedded </h2><br> 但是，如果您使用Yocto Project，则可以肯定的是，您将需要具有附加功能的图层，即 适用于所有场合的大量食谱。 有这么一套-这些是OpenEmbedded的食谱。  OpenEmbedded是用于构建嵌入式Linux软件包的基础结构。 <br><br>  OpenEmbedded与Yocto项目完全兼容，因为该项目是Yocto项目的基础。 也许这就是为什么Yocto Project的稳定性更好，文档更好，支持更好的原因（但基本上它仍然是相同的OpenEmbedded）。 <br><br><a name="package_bsp_koditv"></a><h2> 平台支持包（BSP） </h2><br> 板级支持包是特定板的单独的专用层，用于定义平台的硬件功能，即 实现那些使一块板与另一块板区分开的特定事物：处理器功能，中断，寻址，引导加载程序功能，视频适配器（GPU）功能等。 <br><br> 本文使用BSP层<strong>-meta-raspberrypi</strong> <br> 图层存储库位于： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">git.yoctoproject.org/git/meta-raspberrypi</a> <br><br><a name="repo_koditv"></a><h2> 使用回购管理Yocto图层 </h2><br>  Yocto Project可以使用来自不同供应商（设备开发人员）的大量层，所有这些都需要以某种方式进行管理。 想象一下，您有十几个不同的电路板，每个电路板都带有一个单独的BSP git存储库，并且这不包括Yocto项目本身的基础结构以及OpenEmbedded可能提供的其他功能。 <br><br> 在这种情况下，您将不会获得单独的简单安装脚本。  Willy-nilly，必须寻找能够做到这一点的工具。 甚至超过了好。 此类最佳工具之一是Google实用工具-Repo。 <br><br> 在使用大型代码库构建Android操作系统时， <strong>Repo</strong>是用于管理GIT存储库的主要工具。  Repo允许您在一个项目中管理十几个（如果不是一百个）单独的git存储库，您可以在<strong>宣言的</strong>一个xml文件中仔细指定其版本 <br><br> 为了正确同步所有存储库的所有版本，您只需要运行一个命令 <br><br>  <strong>回购同步</strong> <br><br><a name="install_repo_koditv"></a><h3> 安装仓库 </h3><br> 使用以下命令集，可以将Repo安装到<strong>〜/ bin</strong>主目录中 <br>  （curl命令可以单独安装：sudo apt-get install curl） <br><br><pre> <code class="bash hljs">PATH=<span class="hljs-variable"><span class="hljs-variable">${PATH}</span></span>:~/bin mkdir ~/bin curl http://commondatastorage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo chmod a+x ~/bin/repo</code> </pre><br><br> 将来您只需要在控制台中使用以下命令： <strong>repo</strong> <br><br><blockquote> 大概 <br> 如果HOME / bin目录未自动添加标准启动路径 <br> 参见文件HOME / .profile <br><br>  $ <br>  $ PATH = $ {PATH}：〜/ bin <br>  $回购 <br>  $ <br></blockquote><br><a name="manifest_repo_koditv"></a><h3> 发行版本清单 </h3><br> 在文章框架中收集的发行版，我需要称呼它。 命名为<strong>Torvin</strong> 。 代号为Torvin，它将包含一个Linux发行版和一个程序的汇编。 这指的是一个应用程序用户程序-Kodi，仅此而已（其他所有内容都是系统级的）。 对于多媒体中心，我认为这已经足够了。 <br><br><a name="context_repo_koditv"></a><h3> 清单内容 </h3><br>  <strong>torvin-0.2.5.xml</strong>文件用于管理分发层<strong>。</strong> <br><br><pre> <code class="xml hljs"> <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">default</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sync-j</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rocko"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">remote</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fetch</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://git.yoctoproject.org/git"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yocto"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">remote</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fetch</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://github.com/openembedded"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"oe"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">remote</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fetch</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://github.com/berserktv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"master"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs-manifest"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/bs-manifest"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setup-environment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setup-environment"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shell.sh"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"raspberry/shell.sh"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"raspberry/rocko"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yocto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rocko"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"poky"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/poky"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"oe"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rocko"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"meta-openembedded"</span></span></span><span class="hljs-tag"> \ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/meta-openembedded"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yocto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rocko"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"meta-raspberrypi"</span></span></span><span class="hljs-tag"> \ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/meta-raspberrypi"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"rocko"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"berserk"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/berserk"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">manifest</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><a name="desc_repo_koditv"></a><h3> 清单说明 </h3><br> 在清单的开头， <strong>远程</strong>标记表示两个主要的GIT存储库和一个辅助的： <br><br>  <strong>https：⁄⁄git.yoctoproject.org / git</strong> -Yocto存储库名为<strong>yocto</strong> <br>  <strong>https：⁄⁄github.com / openembedded-</strong>名为<strong>oe的</strong> OpenEmbedded存储库 <br>  https：⁄⁄github.com / berserktv-名为<strong>bs的</strong>辅助GIT存储库 <br><br> 在清单的下一部分，使用缩写命名，我们处理位于这些存储库中的<strong>项目</strong> ， <strong>project</strong>标签包含以下属性： <br><br>  <strong>remote-</strong>远程命名存储库的名称 <br>  <strong>版本</strong> -分支或哈希版本的名称 <br>  <strong>name-</strong>指定存储库中的项目名称 <br>  <strong>path-</strong>文件系统中的本地项目路径 <br><br><pre> <code class="html hljs xml">   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"master"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs-manifest"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/bs-manifest"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span>  xml      : git clone https://github.com/berserktv/bs-manifest -b master sources/bs-manifest</code> </pre><br> 在<strong>项目</strong>标签的主体中，我指示了一些命令，这些命令用于创建<strong>指向</strong>我<strong>需要</strong>的<strong>Poky</strong>构建系统的初始初始化和正常启动的辅助脚本的基础结构的符号链接。 <br><br><pre> <code class="html hljs xml">   linkfile <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">remote</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">revision</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"master"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bs-manifest"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/bs-manifest"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setup-environment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"setup-environment"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shell.sh"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"raspberry/shell.sh"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkfile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dest</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sources/base"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"raspberry/rocko"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span>        : ln -s src dest .. #      ln -s sources/bs-manifest/setup-environment setup-environment ln -s sources/bs-manifest/raspberry/shell.sh shell.sh #    ,  #      cd sources ln -s bs-manifest/raspberry/rocko base</code> </pre><br><a name="struct_repo_koditv"></a><h3>  Bs清单结构 </h3><br><pre> ├──复制
 ├──覆盆子
 │├──摇滚
 ││├──conf
 │││├──bblayers.conf
 │││└──local.conf
 ││└──torvin-0.2.5.xml
 │└──shell.sh
 ├──README.md
 └──设置环境
</pre><br><br>  <strong>bs-manifest</strong>项目用于灵活的配置管理，同时考虑了发行版不同版本的程序集。 我有这个版本-0.2.5 <br><br><a name="env_repo_koditv"></a><h3> 初始化Poky变量 </h3><br> 初始化脚本的<strong>设置环境</strong>来自Freescale Community项目（在yocto环境中，这是一个常见的解决方案）。 该脚本负责初始化Poky构建系统的变量，该脚本创建一个目录结构，该目录结构在其中进行了很好的划分： <br><br><ul><li>  <strong>建立</strong> - <strong>建立</strong>目录 </li><li>  <strong>源代码</strong> -汇编配方源代码 </li><li>  <strong>download-</strong>用于下载程序代码的目录（git数据库，tar.gz存档） </li></ul><br> 可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>查看安装环境脚本的内容<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">：</a> <br><br><div class="spoiler">  <b class="spoiler_title">Shell.sh脚本内容</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment">#!/bin/bash MACHINE='raspberrypi3' source ./setup-environment build echo "you may try 'bitbake core-image-minimal'" bash</span></span></code> </pre><br></div></div><br> 该根脚本用于初始化构建环境的配置变量，通常在会话开始时调用。 <br><br><a name="init_repo_koditv"></a><h3> 回购初始化 </h3><br> 要初始化仓库，您必须运行以下命令： <br><br><pre> <code class="bash hljs">mkdir torvin <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> torvin repo init -u https:⁄⁄github.com/berserktv/bs-manifest -m raspberry/rocko/torvin-0.2.5.xml</code> </pre><br>  <strong>-u https：⁄⁄github.com / berserktv / bs-manifest</strong>告诉GIT清单项目的路径 <br><br> 注意：您也可以指定<strong>-b tree_name</strong> <br>  （如果未指定-b开关，则假定使用master分支（默认情况下）） <br><br> 配置文件的路径<strong>-m raspberry / rocko / torvin-0.2.5.xml</strong>表示以下内容： <br><br><ol><li> 要为其执行装配的硬件平台的名称- <strong>树莓派</strong> </li><li>  Yocto / OpenEmbedded工作分支的主要名称是<strong>rocko</strong> </li><li> 该版本的代号为<strong>torvin</strong> （0.2.x系列的所有版本） </li><li> 正在组装的数字版本号是<strong>0.2.5</strong> </li></ol><br><a name="sync_repo_koditv"></a><h3> 回购同步 </h3><br> 要引导或后续同步，只需运行以下命令： <br><br><pre> <code class="bash hljs">repo sync</code> </pre><br> 它将获取清单文件中指定的GIT项目的所有最新版本（通常会显示分支），如果您在version属性中具有哈希提交或标记名称，则此git信息库的版本不会更改。 标签名称可以这样指定：版本=“ refs /标签/ v0.2.5” <br><br><a name="config_koditv"></a><h3> 创建Yocto项目配置 </h3><br> 执行repo sync命令后，您可以开始创建Yocto Project的主要配置： <br><br><pre> <code class="bash hljs">./shell.sh</code> </pre><br> 脚本完成后，将<strong>创建build / conf</strong>目录： <br> 有两个主要文件： <br><br><ul><li>  <strong>local.conf-</strong>程序集控制变量： <br> 平台名称，分发类型和构建软件包等。 </li><li>  <strong>bblayers.conf</strong> -Yocto项目的连接层的配置 </li></ul><br> 默认情况下，setup-environment脚本查找<strong>source / base / conf</strong> <br> 初始配置以及<strong>local.conf</strong>和<strong>bblayers.conf文件</strong> <br> 存在，将它们复制到<strong>build / conf</strong> <br>  （请参阅setup-environment中的TEMPLATES变量） <br><br> 即 文件取自/ bs-manifest / raspberry / rocko / conf <br> 看到创建一个符号链接到基础 <br><br><a name="local_conf_config_koditv"></a><h3> 配置文件build / conf / local.conf </h3><br><div class="spoiler">  <b class="spoiler_title">显示/隐藏</b> <div class="spoiler_text"><pre> <code class="bash hljs"> MACHINE ??= <span class="hljs-string"><span class="hljs-string">'raspberrypi3'</span></span> DISTRO ?= <span class="hljs-string"><span class="hljs-string">'poky'</span></span> PACKAGE_CLASSES ?= <span class="hljs-string"><span class="hljs-string">"package_deb"</span></span> EXTRA_IMAGE_FEATURES ?= <span class="hljs-string"><span class="hljs-string">"debug-tweaks"</span></span> USER_CLASSES ?= <span class="hljs-string"><span class="hljs-string">"buildstats image-mklibs image-prelink"</span></span> PATCHRESOLVE = <span class="hljs-string"><span class="hljs-string">"noop"</span></span> BB_DISKMON_DIRS = <span class="hljs-string"><span class="hljs-string">"\ STOPTASKS,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${TMPDIR}</span></span></span><span class="hljs-string">,1G,100K \ STOPTASKS,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DL_DIR}</span></span></span><span class="hljs-string">,1G,100K \ STOPTASKS,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SSTATE_DIR}</span></span></span><span class="hljs-string">,1G,100K \ STOPTASKS,/tmp,100M,100K \ ABORT,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${TMPDIR}</span></span></span><span class="hljs-string">,100M,1K \ ABORT,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DL_DIR}</span></span></span><span class="hljs-string">,100M,1K \ ABORT,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SSTATE_DIR}</span></span></span><span class="hljs-string">,100M,1K \ ABORT,/tmp,10M,1K"</span></span> PACKAGECONFIG_append_pn-qemu-native = <span class="hljs-string"><span class="hljs-string">" sdl"</span></span> PACKAGECONFIG_append_pn-nativesdk-qemu = <span class="hljs-string"><span class="hljs-string">" sdl"</span></span> CONF_VERSION = <span class="hljs-string"><span class="hljs-string">"1"</span></span> DL_DIR ?= <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${BSPDIR}</span></span></span><span class="hljs-string">/downloads/"</span></span> <span class="hljs-comment"><span class="hljs-comment"># size memory GPU for Raspberry Pi GPU_MEM = "128" GPU_MEM_256 = "112" GPU_MEM_512 = "160" GPU_MEM_1024 = "320" # for libs: "mpeg2dec libmad ffmpeg x264" LICENSE_FLAGS_WHITELIST += "commercial"</span></span></code> </pre><br></div></div><br><a name="bblayers_conf_config_koditv"></a><h3> 配置文件build / conf / bblayers.conf </h3><br><div class="spoiler">  <b class="spoiler_title">显示/隐藏</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment"># POKY_BBLAYERS_CONF_VERSION is increased each time build/conf/bblayers.conf # changes incompatibly LCONF_VERSION = "6" POKY_BBLAYERS_CONF_VERSION = "2" BBPATH = "${TOPDIR}" BSPDIR := \ "${@os.path.abspath(os.path.dirname(d.getVar('FILE', True)) + '/../..')}" BBFILES ?= "" BBLAYERS ?= " \ ${BSPDIR}/sources/poky/meta \ ${BSPDIR}/sources/poky/meta-poky \ ${BSPDIR}/sources/poky/meta-yocto-bsp \ ${BSPDIR}/sources/meta-openembedded/meta-oe \ ${BSPDIR}/sources/meta-openembedded/meta-python \ ${BSPDIR}/sources/meta-openembedded/meta-networking \ ${BSPDIR}/sources/meta-openembedded/meta-multimedia \ ${BSPDIR}/sources/meta-openembedded/meta-filesystems \ ${BSPDIR}/sources/meta-raspberrypi \ ${BSPDIR}/sources/berserk/meta-berserk \ "</span></span></code> </pre><br></div></div><br><br>  local.conf文件的主要变量-您需要注意： <br><br><ul><li>  MACHINE-进行组装的平台的名称 </li><li>  DISTRO-发行类别名称 </li><li>  PACKAGE_CLASSES-安装软件的软件包格式 </li><li>  LICENSE_FLAGS_WHITELIST-使用其他许可证 </li></ul><br>  Raspberry Pi系列主板的特定设置 <br><br><ul><li>  GPU_MEM =“ 128”-GPU视频适配器的视频内存量（从RAM分配） </li><li>  GPU_MEM_256 =“ 112”-仅对于总RAM大小为256MB的主板相同 </li><li>  GPU_MEM_512 =“ 160”-仅对于总RAM = 512MB的主板相同 </li><li>  GPU_MEM_1024 =“ 320”-相同，仅适用于RAM总大小= 1024MB的主板 </li></ul><br><blockquote> 注意： <br> 例如，如果仅保留变量GPU_MEM =“ 128”， <br> 然后对于所有RPI，RPI2，RPI3板 <br> 不管实际RAM的数量如何 <br> 板上的显卡将始终分配给GPU-128Mb <br>  （并且总RAM大小减少此值） <br></blockquote><br> 如果指定了所有变量，则指令GPU_MEM_256，GPU_MEM_512，GPU_MEM_1024的优先级更高。 <br><br> 有关常规中心Yocto层的多媒体中心组装，请参阅bblayers.conf文件。 <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/poky/meta \ <span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/poky/meta-poky \ <span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/poky/meta-yocto-bsp \</code> </pre><br> 我将四个层与OpenEmbedded的附加功能连接在一起。 <br><br>  Kodi Multimedia Center-是一个复杂的程序，使用大量外部库，您需要使用构建配方来构建每个库，因此，如果可能，我将使用“ <strong>多媒体”</strong>类别中来自OpenEmbedded的所有配方 <br><br> 因此，我连接了一个多媒体层及其所依赖的层 <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-openembedded/meta-oe \ <span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-openembedded/meta-python \ <span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-openembedded/meta-networking \ <span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-openembedded/meta-multimedia \</code> </pre><br> 然后连接另一个OpenEmbedded层以使用文件系统 <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-openembedded/meta-filesystems \</code> </pre><br> 进一步连接了Raspberry Pi平台的主要BSP层 <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/meta-raspberrypi \</code> </pre><br> 好吧，最后，连接了一个附加层，该附加层负责使用“多媒体中心”的功能来组装分发映像。 <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">${BSPDIR}</span></span>/sources/berserk/meta-berserk \</code> </pre><br><a name="layer_koditv"></a><h2> 组装多媒体中心的层 </h2><br> 在我看来，Yocto项目是用于创建嵌入式发行版的工业组合。 但是，如果您曾经使用过Buildroot构建系统，那么Yocto可能对您来说很麻烦。 它使用大量的可用硬盘空间。 对于正常运行，Yocto需要大约80-100 GB的可用空间，这通常只考虑了针对一个平台的组装。 <br><br>  Yocto满足其主要目的-支持尽可能多的不同硬件平台，这需要用于切换组件的最灵活的机制。 这种机制需要时间和地点。 在Yocto中建立发行版本不是一个快速的过程。 <br><br> 因此，我在单独的层中具有用于组装“多媒体中心”的所有功能： <br><br><pre> <code class="bash hljs">https://github/berserktv/berserk</code> </pre><br>  （摘自我最喜欢的书，《哈默与十字架》，哈里·哈里森（Harry Harrison）。） <br>  （托尔文也是这本书中的角色。） <br><br> 为了实现我需要的功能，我将使用所谓的食谱附加组件，这些附加组件位于扩展名为.bbappend的文件中 <br> 在.bbappend文件中，您可以将自己的命令调用添加到常规构建配方方法中，例如，添加到do_configure，do_compile，do_install方法等中。 <br><br><a name="struct_top_layer_koditv"></a><h3> 层结构 </h3><br><pre> ├──复制
 ├──元狂
 │├──conf
 ││└──layer.conf
 │├──菜式
 ││├──bs-net
 ││├──首轮
 ││├──图片
 ││└──电视
 │├──菜芯
 ││├──init-ifupdown
 ││└──psplash
 │├──食谱内核
 ││└──Linux
 │├──食谱-媒体中心
 ││├──科迪
 ││└──kodi插件
 │└──多媒体食谱
 │└──ffmpeg
 ├──README.md
 └──changelog.txt
</pre><br><br> 层组成： <br><br><ul><li>  <strong>conf-</strong>层配置 </li><li>  <strong>recipes-berserk-</strong>分发构建配方，电视，网络和首次启动配方 </li><li>  <strong>食谱核心</strong> -基本食谱，特别是对启动食谱的修改 </li><li>  <strong>recipes-kernel</strong> -Linux内核构建配方 </li><li>  <strong>recipes-mediacentre-</strong>构建Kodi及其插件的食谱 </li><li> 多媒体食谱-多媒体食谱，ffmpeg汇编 </li></ul><br><a name="config_layer_koditv"></a><h3> 层配置 </h3><br><div class="spoiler">  <b class="spoiler_title">包含layer.conf文件</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment"># We have a conf and classes directory, add to BBPATH BBPATH .= ":${LAYERDIR}" # We have a packages directory, add to BBFILES BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \ ${LAYERDIR}/recipes-*/*/*.bbappend" BBFILE_COLLECTIONS += "bs" BBFILE_PATTERN_bs := "^${LAYERDIR}/" BBFILE_PRIORITY_bs = "5" DISTRO_FEATURES_append += " wifi x11" PREFERRED_VERSION_ffmpeg = "3.1.11" SYSVINIT_ENABLED_GETTYS = "1" PREFERRED_VERSION_linux-raspberrypi ?= "4.9%"</span></span></code> </pre><br></div></div><br> 该文件包含ffmpeg库的版本，Linux内核的版本号以及虚拟控制台（tty）的指示，并包含分发工具包的功能-wifi x11 <br><blockquote>  DISTRO_FEATURES_append + =“ wifi x11” <br><br>  PREFERRED_VERSION_ffmpeg =“ 3.1.11” <br>  SYSVINIT_ENABLED_GETTYS =“ 1” <br><br>  PREFERRED_VERSION_linux-raspberrypi？=“ 4.9％” <br></blockquote><br><a name="berserk_layer_koditv"></a><h3> 食谱的组成 </h3><br><pre> ├──bs网
 │└──bs-net_0.1.3.bb
 ├──首轮
 │├──档案
 ││└──first-run.sh
 │└──first-run.bb
 ├──图片
 │└──berserk-image.bb
 └──电视
     ├──文件
     │└──berserk.m3u8
     ├──tv-config.bb
     └──tv-dir.inc
</pre><br><br> 其中： <br><br><ul><li>  bs-net_0.1.3.bb-构建WLAN /以太网接口外壳扩展的方法 </li><li>  first-run.bb-首次运行的配方，其他磁盘分区 </li><li>  first-run.sh-第一次运行的外壳脚本（在运行级别S上运行） </li><li>  berserk-image.bb-建立分布图的方法 </li><li>  tv-config.bb-使用IPTV配置电视频道的方法 </li><li>  berserk.m3u8-公共电视频道的配置（m3u8格式） </li></ul><br><a name="core_layer_koditv"></a><h3> 食谱核心组成 </h3><br><pre> ├──init-ifupdown
 │├──档案
 ││└──接口
 │└──init-ifupdown_1.0.bbappend
 └──psplash
     ├──文件
     │└──psplash-berserk-img.h
     └──psplash_git.bbappend
</pre><br><br> 其中： <br><br><ul><li>  interfaces-具有当前网络设置的文件 </li><li>  init-ifupdown_1.0.bbappend-网络配置配方的扩展 </li><li>  psplash-berserk-img.h-启动屏幕保护程序的图像 <br> 使用gdk-pixbuf-csource实用程序获得的头文件 </li><li>  psplash_git.bbappend-用于启动启动屏幕保护程序的配方的扩展 </li></ul><br> 目标设备上的网络配置在文件中： <br><br><pre> <code class="bash hljs">/etc/network/interfaces</code> </pre><br> 添加了配方init-ifupdown的扩展名后，我用自己的配置文件替换了常规配置文件，并更改了针对执行级别运行的脚本的顺序（优先级） <br><br><pre> <code class="bash hljs">INITSCRIPT_PARAMS = <span class="hljs-string"><span class="hljs-string">"start 98 2 3 4 5 . stop 10 0 6 1 ."</span></span></code> </pre><br> 目前，几乎所有现代Linux发行版都包含启动屏幕。 通常，启动屏幕保护程序会显示下载的当前状态，即 自系统启动以来经过的时间指示器。 在这方面，Yocto也不例外，您可以将标准启动屏幕保护程序的图像更改为任意图片。 <br><br> 为此，您必须： <br><br><ol><li>  FILESEXTRAPATHS_prepend-添加资源目录 </li><li>  SRC_URI-添加带有任意图片的头文件 </li><li>  SPLASH_IMAGES-更改程序包控制变量 </li></ol><br> 在图像配方“ berserk-image.bb”中，还需要添加启动启动图像作为图像的特征 <br><br><pre> <code class="bash hljs">IMAGE_FEATURES += <span class="hljs-string"><span class="hljs-string">"splash"</span></span> <span class="hljs-comment"><span class="hljs-comment">#          SPLASH = "psplash-berserk"</span></span></code> </pre><br><a name="kernel_layer_koditv"></a><h2> 食谱内核的组成 </h2><br><pre> └──Linux
     ├──文件
     │├──db.txt.patch
     │└──rbpi.cfg
     └──linux-raspberrypi_4.9.bbappend
</pre><br><br> 其中： <br><br><ul><li>  db.txt.patch-带有管理域基础的补丁（用于WiFi） </li><li>  rbpi.cfg-Linux内核配置片段 </li><li>  linux-raspberrypi_4.9.bbappend-Raspberry Pi 4.9内核构建配方的扩展 </li></ul><br>  Wi-Fi设备以特定的频率运行，因此对于它们来说，存在监管范围之类的东西-这是表明该设备应在哪个国家/地区工作的参数。 <br><br>  Linux内核有一个配套数据库，其中为每个国家/地区注册了允许的频率和允许的功率。 <br><br> 在最简单的情况下，可以通过指定一个参数将该数据库静态地直接直接包含在内核中： <br>  <strong>CONFIG_CFG80211_INTERNAL_REGDB = y</strong> <br> 这<strong>正是</strong>我通过将补丁程序与此<strong>db.txt.patch</strong>数据库连接而<strong>完成的</strong>操作 <br><br> 还有一件事：Yocto中存在诸如内核配置片段之类的东西。 通常，配置片段（带有cfg扩展名的文件）仅包含您出于某些特定目的明确需要的内核参数。 并将此配置添加到构建内核时配方中已经存在的默认参数中。 <br><br> 除了bbappend配方外，您还可以更改启动期间传递给内核的参数： <br><br> 即 覆盖变量 <br>  <strong>CMDLINE</strong>参见文件linux- <strong>raspberrypi_4.9.bbappend</strong> <br><br><div class="spoiler">  <b class="spoiler_title">rbpi.cfg内容</b> <div class="spoiler_text"><pre> <code class="html hljs xml"> # use statically compiled regulatory rules database CONFIG_CFG80211_INTERNAL_REGDB=y #  Wifi  Asus USB-N53 chipset Ralink RT3572 CONFIG_RT2800USB=m #  wifi    Atheros D-Link DWA-126 802.11n (AR9271), # NetGear WNDA3200, NetGear WNA1100, TP-Link TL-WN722N (AR9271), # TL-WN322G v3, TL-WN422G  .. . cateee.net CONFIG_ATH9K_HW=m CONFIG_ATH9K_HTC=m #  Wifi    wpa_supplicant CONFIG_WIRELESS=y CONFIG_WEXT_CORE=y CONFIG_WEXT_PROC=y CONFIG_CRYPTO_AES=y #    IPSec,    Wifi  #   wpa_supplicant   CONFIG_CRYPTO_CCM=m CONFIG_CRYPTO_CTR=m CONFIG_CRYPTO_ARC4=m ######################### #   CONFIG_HAVE_PERF_EVENTS=y CONFIG_PERF_EVENTS=y CONFIG_HAVE_LATENCYTOP_SUPPORT=y CONFIG_LATENCYTOP=y # This option adds support for ASIX AX88xxx # based USB 2.0 10/100 Ethernet adapters. CONFIG_USB_NET_AX8817X=m</code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"> linux-raspberrypi_4.9.bbappend</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment">#      rpbi.cfg FILESEXTRAPATHS_prepend := "${THISDIR}/files:" SRC_URI += "file://db.txt.patch;patch=1 \ file://rbpi.cfg \ " #  BSP  meta-raspberrypi     # https://github.com/agherzan/meta-raspberrypi/issues/14 #    #   do_kernel_configme   #     arch/    do_kernel_configme_append() { cat ${WORKDIR}/rbpi.cfg &gt;&gt; ${WORKDIR}/defconfig } # CMDLINE for raspberrypi # default CMDLINE = "dwc_otg.lpm_enable=0 console=serial0,115200 # root=/dev/mmcblk0p2 rootfstype=ext4 rootwait" CMDLINE = "quiet dwc_otg.lpm_enable=0 console=serial0,115200 \ root=/dev/mmcblk0p2 rootfstype=ext4 rootwait"</span></span></code> </pre><br></div></div><br><a name="mediacentre_layer_koditv"></a><h3>  recipes-mediacentre </h3><br><pre> <code class="bash hljs">├── kodi │  ├── kodi │  ├── kodi_17.bbappend │  ├── kodi-dir.inc │  ├── kodi-runner.bb │  ├── kodi-settings.bb │  └── kodi-version.inc └── kodi-plugins ├── files ├── kodi-language-ru_3.0.10.bb ├── kodi-pvr-iptvsimple.bb ├── plugin-video-youtube_5.5.1.bb ├── screensaver-kodi-universe_0.1.2.bb ├── script-berserk-network_0.2.5.bb └── script-module-requests_2.12.4.bb</code> </pre><br> 其中： <br><br><ol><li> kodi/ <br><ul><li> kodi —    <strong>icon,run,settings</strong> <br>           </li><li> kodi_17.bbappend —       Kodi </li><li> kodi-dir.inc —    Kodi    </li><li> kodi-runner.bb —   Kodi     </li><li> kodi-settings.bb —     Kodi </li><li> kodi-version.inc —        Kodi </li></ul><br></li><li> kodi-plugins/ <br><br><ul><li> files —   tar.gz      </li><li> kodi-language-ru_3.0.10.bb —     (  Kodi) </li><li> kodi-pvr-iptvsimple.bb —   Kodi  pvr-iptvsimple </li><li> plugin-video-youtube_5.5.1.bb —   Kodi    «Youtube» </li><li> screensaver-kodi-universe_0.1.2.bb —    screensaver-kodi-universe </li><li> script-berserk-network_0.2.5.bb —      </li><li> script-module-requests_2.12.4.bb —      Youtube </li></ul><br></li></ol><br><a name="multimedia_layer_koditv"></a><h3>  recipes-multimedia </h3><br><pre>└── ffmpeg<font></font>
    ├── ffmpeg<font></font>
    │  ├── 0001-ffmpeg-Call-get_format-to-fix-an-issue-with-MMAL-ren.patch<font></font>
    │  ├── h264_parser.patch<font></font>
    │  └── pfcd_hevc_optimisations.patch<font></font>
    └── ffmpeg_3.1.11.bb<font></font>
</pre><br><br> 其中： <br><br><ul><li> 0001-ffmpeg-Call-get_format-to-fix-an-issue-with-MMAL-ren.patch —   ffmpeg </li><li> h264_parser.patch —     h264 </li><li> pfcd_hevc_optimisations.patch —      Raspberry Pi </li><li> ffmpeg_3.1.11.bb —    ffmpeg (,  ) </li></ul><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -OpenSource库，用于编码/解码大量视频和音频格式。</font><font style="vertical-align: inherit;">FFmpeg支持近400种编解码器（ffmpeg -codecs）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和300多种格式（ffmpeg -formats）。</font></font><br><br><a name="build_kodi_koditv"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kodi Build Recipe Addition </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenEmbedded层包含一个用于构建Kodi的常规方法，但这很笼统，我想为Raspberry Pi平台获得一个稍微更稳定和经过测试的版本。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件开发人员具有反向端口修补程序之类的东西。该软件会不断更新，每个新版本均包含新功能和已知错误的更正。反向移植修补程序允许您将程序的新版本中的某些更改转移到较旧的版本，从而使其更稳定。但这是一项非常艰巨而艰苦的工作，始终由大量开发人员执行。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在开源社区中，有几个使用Kodi的知名项目，其中最好的（我认为）是LibreElec（OpenElec）。</font><font style="vertical-align: inherit;">LibreElec在Raspberry Pi平台上拥有良好的构建。</font><font style="vertical-align: inherit;">在这里，他们拥有了，最好是为Kodi准备反向端口修补程序。</font><font style="vertical-align: inherit;">因此，您甚至无需学习就可以摆脱大量问题。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kodi多媒体中心专注于播放“媒体”环境，我认为最关键的组成部分是Kodi和FFmpeg的结合，即 </font><font style="vertical-align: inherit;">在这些程序某些版本的交互作用下，Yocto和OpenEmbedded层可以保留其他库。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了进行组装，我选择了稳定的Kodi 17.6版本和FFmpeg 3.1.11版本。</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意事项：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">  ,       ,      systemD.         (   (  )).  ,     LibreElec       : <span class="hljs-comment"><span class="hljs-comment">#!/bin/bash HASH_VER="934507d922fb011ce46c76566206f2f1f603360b" git clone https://github.com/LibreELEC/LibreELEC.tv.git libreelec cd libreelec git checkout ${HASH_VER}   Kodi,   : projects/RPi2/patches/kodi (. : kodi-001-backport.patch)    FFmpeg,   : packages/multimedia/ffmpeg/patches</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随附的版本描述文件将是这样的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kodi-version.inc</font></font></strong> <br><br><pre> <code class="bash hljs">FILESEXTRAPATHS_prepend := <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${THISDIR}</span></span></span><span class="hljs-string">/kodi:"</span></span> <span class="hljs-comment"><span class="hljs-comment">#  Krypton SRCREV = "a9a7a20071bfd759e72e7053cee92e6f5cfb5e48" PV = "17.6+gitr${SRCPV}"</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我正在考虑的Yocto和OpenEmbedded分支</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-rocko</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含Kodi版本17.3，并且为了升级到版本17.6，只需在配方中添加一小部分内容</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-kodi_17.bbappend</font></font></strong> <br><br><pre> <code class="bash hljs">require kodi-version.inc <span class="hljs-comment"><span class="hljs-comment">#     (   17.3) SRC_URI_remove = "file://0013-FTPParse.cpp-use-std-string.patch" #  ,   systemd   SRC_URI_remove = "file://0004-handle-SIGTERM.patch" #      RPI   libreelec SRC_URI_append += "file://kodi-krypton-rpb-backports.patch" #  error adding symbols: DSO missing from command line SRC_URI_append += "file://vchostif.patch" MENU_ICON = "addons/skin.estuary/media/icons/settings" #       ( ) SRC_URI_append += "file://bs-menu.patch file://icon/bs-network.png" do_configure_prepend() { install -m 0644 ${WORKDIR}/icon/bs-network.png ${S}/${MENU_ICON} } #    kodi plugins RRECOMMENDS_${PN}_append = "\ python-xml python-misc python-db \ python-crypt python-threading python-math python-email \ python-io python-netserver python-urllib3 python-datetime" #     Raspberry Pi #  OPENGL    --enable-gles #  kodi     docs/README.linux =&gt; libxmu libxinerama # libxtst xdpyinfo #      DISTRO_FEATURES   "x11" #   kodi  RPI1  RPI2,3    --disable-x11 BS_RPI = " --disable-gl --enable-openmax --enable-player=omxplayer \ --with-platform=raspberry-pi --disable-x11" BS_RPI3 = " --disable-gl --enable-openmax --enable-player=omxplayer \ --with-platform=raspberry-pi2 --disable-x11" EXTRA_OECONF_append = "${@bb.utils.contains('MACHINE', 'raspberrypi', \ '${BS_RPI}', '', d)}" EXTRA_OECONF_append = "${@bb.utils.contains('MACHINE', 'raspberrypi2', \ '${BS_RPI3}', '', d)}" EXTRA_OECONF_append = "${@bb.utils.contains('MACHINE', 'raspberrypi3', \ '${BS_RPI3}', '', d)}" #       Kodi   #  ,  USB  microSDHC  ( ) EXTRA_OECONF_append = " --enable-optical-drive"</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构建选项“ --enable-optical-drive”使您可以连接Kodi在连接光盘时使用的便捷通知机制。</font><font style="vertical-align: inherit;">在这种情况下，MediaManager模块（a）（xbmc / storage / MediaManager.cpp）监视新磁盘分区的连接/断开连接，并显示有关它的弹出消息。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">udev连接/断开驱动器的示例：</font></font><br><br><pre> <code class="bash hljs">ACTION==<span class="hljs-string"><span class="hljs-string">"add"</span></span> SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"block"</span></span> ENV{ID_FS_TYPE}==<span class="hljs-string"><span class="hljs-string">"vfat"</span></span> \ KERNEL==<span class="hljs-string"><span class="hljs-string">"sd[az][0-9]"</span></span> \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/mkdir -p /media/%k"</span></span>, \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/mount -o iocharset=utf8,noatime /dev/%k /media/%k"</span></span> ACTION==<span class="hljs-string"><span class="hljs-string">"add"</span></span> SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"block"</span></span> ENV{ID_FS_TYPE}==<span class="hljs-string"><span class="hljs-string">"ntfs"</span></span> \ KERNEL==<span class="hljs-string"><span class="hljs-string">"sd[az][0-9]"</span></span> \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/mkdir -p /media/%k"</span></span>, \ RUN+=<span class="hljs-string"><span class="hljs-string">"/usr/bin/ntfs-3g -o \ iocharset=utf8,noatime,windows_names /dev/%k /media/%k"</span></span> ACTION==<span class="hljs-string"><span class="hljs-string">"add"</span></span> SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"block"</span></span> ENV{ID_FS_TYPE}==<span class="hljs-string"><span class="hljs-string">"ext2|ext3|ext4"</span></span> \ KERNEL==<span class="hljs-string"><span class="hljs-string">"sd[az][0-9]"</span></span> \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/mkdir -p /media/%k"</span></span>, \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/mount -o noatime /dev/%k /media/%k"</span></span> ACTION==<span class="hljs-string"><span class="hljs-string">"remove"</span></span> SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"block"</span></span> KERNEL==<span class="hljs-string"><span class="hljs-string">"sd[az][0-9]"</span></span> \ RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/umount /media/%k"</span></span>, RUN+=<span class="hljs-string"><span class="hljs-string">"/bin/rmdir /media/%k"</span></span></code> </pre><br><pre> <code class="html hljs xml">:  rmdir     ,       ( Linux    -  )       .</code> </pre><br><a name="add_menu_koditv"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 向Kodi设置菜单添加新项目 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Kodi 17.6中，xml配置文件负责显示菜单项。</font><font style="vertical-align: inherit;">要在“设置”菜单下添加更多项目，只需调整文件：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kodi / addons / skin.estuary / xml / Settings.xml </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中skin.estuary是默认菜单设计主题，项目</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明如下所示：</font></font><br><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;项目&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;label&gt; $ LOCALIZE [13279] &lt;/ label&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;onclick&gt; RunAddon（script.berserk.network，但网络）&lt;/ onclick&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;icon&gt;图标/设置/ bs-network.png &lt;/ icon&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/ item&gt;</font></font><font></font>
</pre><br><br> 其中： <br><br> <strong>label</strong> —    <br> <strong>onclick</strong> —       <br> ( ,      «butnetwork») <br> <strong>icon</strong> —    (  png ) <br><br>   ,      Kodi      bs-menu.patch <br><br><div class="spoiler"> <b class="spoiler_title">/</b> <div class="spoiler_text"><pre> <code class="bash hljs"> diff -Naur a/addons/skin.estuary/xml/Settings.xml b/addons/skin.estuary/xml/Settings.xml --- a/addons/skin.estuary/xml/Settings.xml 2018-02-01 18:17:45.000000000 +0300 +++ b/addons/skin.estuary/xml/Settings.xml 2018-03-08 12:06:50.000000000 +0300 @@ -134,6 +134,11 @@ &lt;icon&gt;icons/settings/interface.png&lt;/icon&gt; &lt;/item&gt; &lt;item&gt; + &lt;label&gt;<span class="hljs-variable"><span class="hljs-variable">$LOCALIZE</span></span>[13279]&lt;/label&gt; + &lt;onclick&gt;RunAddon(script.berserk.network,butnetwork)&lt;/onclick&gt; + &lt;icon&gt;icons/settings/bs-network.png&lt;/icon&gt; + &lt;/item&gt; + &lt;item&gt; &lt;label&gt;<span class="hljs-variable"><span class="hljs-variable">$LOCALIZE</span></span>[20077]&lt;/label&gt; &lt;onclick&gt;ActivateWindow(SkinSettings)&lt;/onclick&gt; &lt;icon&gt;icons/settings/skin.png&lt;/icon&gt; diff -Naur a/system/addon-manifest.xml b/system/addon-manifest.xml --- a/system/addon-manifest.xml 2018-03-07 15:58:24.000000000 +0300 +++ b/system/addon-manifest.xml 2018-05-14 14:06:58.000000000 +0300 @@ -27,6 +27,7 @@ &lt;addon&gt;resource.uisounds.kodi&lt;/addon&gt; &lt;addon&gt;screensaver.xbmc.builtin.black&lt;/addon&gt; &lt;addon&gt;screensaver.xbmc.builtin.dim&lt;/addon&gt; + &lt;addon&gt;screensaver.kodi.universe&lt;/addon&gt; &lt;addon&gt;script.module.pil&lt;/addon&gt; &lt;addon&gt;service.xbmc.versioncheck&lt;/addon&gt; &lt;addon&gt;skin.estuary&lt;/addon&gt; @@ -43,4 +44,8 @@ &lt;addon&gt;xbmc.python&lt;/addon&gt; &lt;addon&gt;xbmc.webinterface&lt;/addon&gt; &lt;addon optional=<span class="hljs-string"><span class="hljs-string">"true"</span></span>&gt;peripheral.joystick&lt;/addon&gt; + &lt;addon&gt;script.berserk.network&lt;/addon&gt; + &lt;addon&gt;resource.language.ru_ru&lt;/addon&gt; + &lt;addon&gt;script.module.requests&lt;/addon&gt; + &lt;addon&gt;plugin.video.youtube&lt;/addon&gt; &lt;/addons&gt;</code> </pre><br></div></div><br><a name="max_set_video_koditv"></a><h3>      </h3><br>    Kodi        : <br><br><pre> <code class="bash hljs">&lt;advancedsettings&gt; &lt;cache&gt; &lt;buffermode&gt;1&lt;/buffermode&gt; &lt;memorysize&gt;139460608&lt;/memorysize&gt; &lt;readfactor&gt;20&lt;/readfactor&gt; &lt;/cache&gt; &lt;/advancedsettings&gt;</code> </pre><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buffermode = 1-</font></font></strong> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有文件系统（包括本地）</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读因子的</font></font></strong> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓冲区请求</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-根据平均视频比特率调整下载速度。</font><font style="vertical-align: inherit;">因此，例如，如果您播放的视频的平均数据传输速率为5 Mbit / s，并将缓冲区读取比率设置为2.0，则会将下载速度（以及缓存填充率）限制为大约10 Mbit / s，因此：</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">readfactor = 20 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消除了对下载速度</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memorysize</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 139460608 </font><font style="vertical-align: inherit;">的限制</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-缓冲区大小为133 MB，而使用133 * 3 RAM，即 </font><font style="vertical-align: inherit;">大约400 MB的RAM</font></font><br><br><a name="iptv_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 通过IPTV观看电视 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kodi Media Center是用于查看数字内容的非常强大的工具。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我收集的“媒体中心”的主要功能是使用IPTV（互联网协议电视）观看数字电视的功能，即互联网协议上的电视。使用此功能，您可以从互联网提供商处观看数字电视。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论是在图像质量还是在附加功能方面，这都是最现代，最理想的选择。提供的服务。例如，可以在档案库中提供电视频道，其中在广播之后的某个时间可以使用所需的视频记录。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了在Kodi中支持IPTV，有几个插件选项，其中我选择了插件</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pvr.iptvsimple</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要构建插件，请使用以下配方：</font></font><br><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    └──kodi插件</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        └──kodi-pvr-iptvsimple.bb</font></font><font></font>
</pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该插件是通过以下方式连接/配置的：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kodi主菜单=&gt;“附加组件” =&gt;“我的附加组件” =&gt;“ PVR客户端” =&gt;“ PVR IPTV简单客户端” </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了检查IPTV电视作为Kodi的一部分的运行方式，我采用了一些公共新闻频道并将它们以m3u8格式添加到列表中，并且还在媒体中心开始处打开了插件“ pvr.iptvsimple”的自动启动功能。</font></font><br><br><a name="youtube_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用Kodi插件观看Youtube </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发Kodi的程序员提供了扩展其功能的灵活性。</font><font style="vertical-align: inherit;">这样做是为了使任何发烧友（如果需要）可以向Kodi添加他真正需要的东西。</font><font style="vertical-align: inherit;">这些Kodi插件是黑暗的。</font></font>好吧，你明白了。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们太多了，因此值得在另一篇文章中进行描述。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件的安装非常简单，只需将Kodi连接到互联网，然后按菜单中的几个按钮即可。您可以在任何有关Kodi的论坛上阅读有关它的信息。但是程序集，就是程序集，我将在分发工具包中包含一个插件作为示例。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我看来，Kodi最有趣和广泛使用的插件（ohm）是Youtube视图插件。 Kodi是一个多媒体中心，而Youtube是此类非常丰富的多媒体内容的最大存储库，因此Kodi的Youtube插件几乎是强制性的。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该插件是用python编写的，这是一种常规的插件机制，您无需编译任何东西，只需将完成的插件复制到带有插件的根目录中，然后在xml清单文件中指定插件名称：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ System / addon-manifest.xml” </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该插件取自官方存储库，其源代码包含在存档中：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recipes-mediacentre / kodi-plugins / files / plugin.video.youtube.tar.gz有关</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件构建食谱</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">位置，请参见上文“食谱-媒体中心组成”一章</font></font><br><br><a name="bsnet_layer_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 控制台外壳网络配置扩展 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于在本文框架内组装的分发套件是一个演示，因此对其设置“网络接口”的要求最低。</font><font style="vertical-align: inherit;">我不想为此而拖累任何繁重的网络管理器，这对我来说是很不容易理解的，而且非常笨重，因此我编写了两个补充常规配置机制配置的Shell脚本：</font></font><br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">############################################################## #     /etc/network/interfaces: ############################################################## auto eth0 iface eth0 inet manual up /etc/network/eth-manual $IFACE up down /etc/network/eth-manual $IFACE down auto wlan0 iface wlan0 inet manual up /etc/network/wlan $IFACE up down /etc/network/wlan $IFACE down</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了通过GUI方便地配置以太网/ WLAN网络接口，我使用了另一个小的Kodi插件“ script.berserk.network”。</font><font style="vertical-align: inherit;">这几乎是我发现的唯一Kodi插件，但为此我不得不编写它。</font><font style="vertical-align: inherit;">它非常紧凑和简约，并以python语言编写。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两个组件都是使用配方收集的：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 菜谱-Berserk / bs-net / bs-net_0.1.3.bb </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 食谱-媒体中心/ kodi-插件/脚本-berserk-network_0.2.5.bb </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这一点上，我想详细介绍一下。</font><font style="vertical-align: inherit;">因此，使用Yocto的所有灵活性都在于不同的食谱集，即 </font><font style="vertical-align: inherit;">连接一组配方-将最简单的网络管理器添加到分发工具箱中，连接另一组-使用例如systemD等添加您喜欢的网络管理器。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了在系统启动时自动连接到WiFi接入点，我使用udev规则：/etc/udev/rules.d/80-wifi-start.rules</font></font><br><br><pre> <code class="bash hljs">SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"net"</span></span>, ACTION==<span class="hljs-string"><span class="hljs-string">"add"</span></span>, DRIVERS==<span class="hljs-string"><span class="hljs-string">"?*"</span></span>, KERNEL==<span class="hljs-string"><span class="hljs-string">"wlan*"</span></span>, \ RUN+=<span class="hljs-string"><span class="hljs-string">"/etc/network/wlan-runner </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$env</span></span></span><span class="hljs-string">{INTERFACE} up"</span></span> SUBSYSTEM==<span class="hljs-string"><span class="hljs-string">"net"</span></span>, ACTION==<span class="hljs-string"><span class="hljs-string">"remove"</span></span>, DRIVERS==<span class="hljs-string"><span class="hljs-string">"?*"</span></span>, KERNEL==<span class="hljs-string"><span class="hljs-string">"wlan*"</span></span>, \ RUN+=<span class="hljs-string"><span class="hljs-string">"/etc/network/wlan-runner </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$env</span></span></span><span class="hljs-string">{INTERFACE} down"</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wlan-runner脚本只需执行以下命令：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / network / wlan $ IFACE up</font></font><br> 或 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / etc / network / wlan $ IFACE下来 </font></font><br><br><a name="distrib_recipe_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 发行构建配方 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yocto项目具有重用机制。您可以从中继承类（指令“继承”），也可以连接一些基本配方（指令“ include”）。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我将使用类示例显示继承：</font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poky / meta / clasess / core-image.bbclass</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该类负责描述可以包含在特定配方中的软件包组。为此，只需在菜谱的开头指示结构即可：</font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">继承核心图像</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使在此类的文本中，您也可以看到图像的功能，每个功能负责图像中包含的一组功能，每个组最终描述了一组已安装的程序或库。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该图像的特征如下所示：</font></font><br><br><pre> <code class="bash hljs">IMAGE_FEATURES += <span class="hljs-string"><span class="hljs-string">"ssh-server-dropbear splash"</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有DISTRO_FEATURES-可以在层配置文件中指定的分发功能。</font><font style="vertical-align: inherit;">这些是分发级别的功能，例如，如果您更改某些功能（例如x11），则随后的程序集将开始重新组装所有依赖此选项的程序包（这可能需要很长时间）。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我使用的基本基本配方是：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poky / meta /食谱核心/图像/ core-image-minimal.bb</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像制作配方</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment"># Project: "Berserk" - build Kodi for the Raspberry Pi platform # license - The MIT License (MIT) DESCRIPTION = "Berserk - the image for the Raspberry PI" LICENSE = "MIT" MD5_SUM = "md5=0835ade698e0bcf8506ecda2f7b4f302" LIC_FILES_CHKSUM = "file://${COMMON_LICENSE_DIR}/MIT;${MD5_SUM}" IMAGE_FEATURES += "ssh-server-dropbear splash" #    rootfs    (250000kB=~250Mb) IMAGE_ROOTFS_EXTRA_SPACE_append += "+ 250000" # Base this image on core-image-minimal include recipes-core/images/core-image-minimal.bb # Set default password for 'root' user inherit extrausers ROOTUSERNAME = "root" ROOTPASSWORD = "berserk" EXTRA_USERS_PARAMS = "usermod -P ${ROOTPASSWORD} ${ROOTUSERNAME};" #  ,      SPLASH = "psplash-berserk" BS_DEBUG_TOOLS = "ldd strace ltrace" BS_GLIBC = "glibc-thread-db \ glibc-gconv-utf-16 \ glibc-gconv-utf-32 \ glibc-binary-localedata-en-us \ glibc-binary-localedata-ru-ru \ glibc-charmap-utf-8 \ " BS_BASE = "kernel-modules \ lsb \ pciutils \ parted \ tzdata \ dosfstools \ ntp \ ntpdate \ e2fsprogs-resize2fs \ ntfs-3g \ ntfsprogs \ " BS_WLAN = "kernel-module-rt2800usb \ kernel-module-rt2800lib \ kernel-module-rt2x00lib \ kernel-module-rt2x00usb \ kernel-module-cfg80211 \ kernel-module-nls-utf8 \ kernel-module-ath9k-common \ kernel-module-ath9k-hw \ kernel-module-ath9k-htc \ kernel-module-ctr \ kernel-module-ccm \ kernel-module-arc4 \ " BS_WIFI_SUPPORT = " \ iw \ dhcp-client \ wireless-tools \ wpa-supplicant \ linux-firmware \ " BS_SOFT = "mc \ kodi \ kodi-runner \ kodi-settings \ kodi-language-ru \ kodi-pvr-iptvsimple \ bs-net \ tv-config \ first-run \ script-berserk-network \ screensaver-kodi-universe \ plugin-video-youtube \ script-module-requests \ " # Include modules in rootfs IMAGE_INSTALL += " \ ${BS_BASE} \ ${BS_WLAN} \ ${BS_WIFI_SUPPORT} \ ${BS_GLIBC} \ ${BS_SOFT} \ ${BS_DEBUG_TOOLS} \ "</span></span></code> </pre><br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我想澄清一下，例如</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，kernel-modules</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包</font><font style="vertical-align: inherit;">会将</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defconfig文件中指定的所有内核模块</font><font style="vertical-align: inherit;">安装</font><font style="vertical-align: inherit;">到分发映像中。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，如果您强烈地自定义某些内容，则当然甚至不需要所有的内核模块，在这种情况下，按名称添加每个模块很方便，如</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BS_WLAN</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量所示</font><font style="vertical-align: inherit;">，就像备忘单一样，仅指定需要的内容并在检查软件包后删除，检查“内核模块”等</font></font><br><br><a name="instruction_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 创建分发映像的简要指南 </font></font></h2><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1）在Ubuntu中安装Yocto Project依赖项：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> sudo apt-get install -y --no-install-suggests --no-install-recommends \ gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential \ chrpath socat cpio python python3 python3-pip python3-pexpect \ xz-utils debianutils iputils-ping python3-git python3-jinja2 \ libegl1-mesa libsdl1.2-dev xterm</code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2）下载并安装Repo：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> mkdir ~/bin curl http://commondatastorage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo chmod a+x ~/bin/repo</code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3）从github下载项目：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> PATH=<span class="hljs-variable"><span class="hljs-variable">${PATH}</span></span>:~/bin mkdir torvin <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> torvin repo init -u https://github.com/berserktv/bs-manifest \ -m raspberry/rocko/torvin-0.2.5.xml repo sync</code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4）构建项目：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> ./shell.sh bitbake berserk-image</code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5）将分发映像写入存储卡：</font></font></b> <div class="spoiler_text"><blockquote>         <br> torvin/build/tmp/deploy/images/raspberrypi3 <br><br>      <br>     : <br> berserk-image-raspberrypi3.rpi-sdimg <br><br> c       <br> c      UTC <br><br>        dd <br><br> : <br>       «microSDHC» <br>      . <br><br> $ sudo bash <br> $ cd torvin/build/tmp/deploy/images/raspberrypi3 <br> $ dd if=berserk-image-raspberrypi3.rpi-sdimg of=/dev/sdX bs=1M <br> $ sync <br><br>  /dev/sdX: <br> X   a,b,c  .. <br>        <br><br>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">:</a> <br>     Windows,    <br>  Win32 Disk Imager  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">:</a> <br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">:</a> <br></blockquote><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意事项：</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">             N      ,      <span class="hljs-string"><span class="hljs-string">""</span></span>          ,    git  (..         <span class="hljs-string"><span class="hljs-string">""</span></span>)   :  - Intel(R) Core(TM) i5-3570 CPU @ 3.40GHz  - 8    -  USB-3.0 1T   - 4  05    - 1     - 274.8 M   torvin/build    (cache ,   ,   ,  ,   ,    ..) -   42    torvin/downloads -  9.1  (git    tar.gz )  rootfs   - 550     /lib/firmware - 212  /lib/modules - 53  :        firmware (   )       ,   200 </code> </pre><br></div></div><br><a name="postscriptum_koditv"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 后记 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近年来，OpenSource的功能只是在增加。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是这些机会并不小，例如，您甚至不必走太远。同一位“微软”不太可能期望开源技术将其从移动操作系统市场上抛弃。我指的是来自Google的操作系统-“ Android”，该操作系统在一夜之间就抛弃了移动系统的“先锋”。目前尚不清楚微软是否能够再次回到它。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，“ Google”是一家拥有几乎无限的资金和优秀的开发人员的大型公司，但正如他们所说的那样，“没有Core而不是没有地方”。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">随着时间的推移，最佳的开源项目成为一件艺术品（例如Kodi，Openelec / libre等）</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今天，任何人都可以加入OpenSource的最佳实践，可以这么说，而无需离开Github（a）。</font><font style="vertical-align: inherit;">本文是关于它的。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有许多适合您的好程序集，请记住“物联网的世界即将到来”。</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467443/">https://habr.com/ru/post/zh-CN467443/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467427/index.html">BudgetTracker-另一个用于个人理财的开源工具</a></li>
<li><a href="../zh-CN467429/index.html">Habrastatistics：浏览网站上访问量最高和访问量最少的部分</a></li>
<li><a href="../zh-CN467435/index.html">我们通过电子邮件或电报发送Veeam代理Linux的报告</a></li>
<li><a href="../zh-CN467437/index.html">PostgreSQL-1中的MVCC。 隔离度</a></li>
<li><a href="../zh-CN467439/index.html">为什么黑胶唱片会回来，流媒体服务与此相关？</a></li>
<li><a href="../zh-CN467445/index.html">无法安装的Windows更新列表</a></li>
<li><a href="../zh-CN467449/index.html">具有内置保护的漏洞检测和对智能卡和加密处理器的黑客攻击的抵抗性评估</a></li>
<li><a href="../zh-CN467453/index.html">使用行星超级计算机解决42号问题</a></li>
<li><a href="../zh-CN467455/index.html">使用Milander控制器示例在QtCreator中对微控制器进行编程的QBS模板</a></li>
<li><a href="../zh-CN467457/index.html">从手术到游戏开发者的方式或Unity上的移动开发的首次体验</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>