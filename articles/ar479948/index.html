<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😺 🚽 🏴󠁧󠁢󠁥󠁮󠁧󠁿 إدارة الإيماءات: من الحافة إلى الحافة. الجزء 1 🗡️ 🧝🏽 💋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحبا بالجميع. خاصة للطلاب من دورة متقدمة في تطوير أندرويد ، أعدوا ترجمة لمقال مثير للاهتمام. 



 هذه هي المقالة الأولى في سلسلة إدارة الإيماءات الخا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>إدارة الإيماءات: من الحافة إلى الحافة. الجزء 1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/479948/" style=";text-align:right;direction:rtl">  <i>مرحبا بالجميع.</i>  <i>خاصة للطلاب من <a href="https://otus.pw/nFh0/">دورة متقدمة في تطوير أندرويد ،</a> أعدوا ترجمة لمقال مثير للاهتمام.</i> <br><br><img src="https://habrastorage.org/webt/6u/0m/hr/6u0mhrlxtht0cmvwastqgm4uzo0.png"><br><hr><br>  هذه هي المقالة الأولى في سلسلة إدارة الإيماءات الخاصة بهم.  مقالات أخرى يمكنك أن تجد <a href="https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c">هنا</a> . <br><br>  أضاف Android Q وضع تنقل نظام جديد ، مما يسمح للمستخدم بالعودة إلى الشاشة السابقة ، والانتقال إلى الشاشة الرئيسية وتشغيل المساعد باستخدام الإيماءات. <br><br><img src="https://habrastorage.org/webt/j_/qb/0i/j_qb0illtic47y4wir_fhns1-q0.gif"><br>  <i>مظاهرة لفتات جديدة في Android Q</i> <br><br>  مع الانتقال إلى نموذج نظام التحكم بالإيماءات ، اكتسبت التطبيقات مساحة أكبر على الشاشة.  سمح هذا للتطبيقات بتوفير تجربة مستخدم أكثر غامرة. <br><br>  في معظم الأجهزة ، يمكن للمستخدمين اختيار وضع التنقل حسب ذوقهم.  لا يزال وضع التنقل بثلاثة أزرار الحالي (يتكون من أزرار الظهر ، والمنزل ، وأزرار التكرار) على الرغم من ذلك.  يعد هذا الإجراء ضروريًا لجميع أجهزة الإصدار Q والإصدارات الأحدث. <a name="habracut"></a><br><br>  يمكنك قراءة المزيد حول الأبحاث والحلول المضمنة في مفهوم التحكم بالإيماءات في هذه <a href="https://android-developers.googleblog.com/2019/08/gesture-navigation-backstory.html%3Fsource%3Dpost_page-----812f62e4e83e----------------------">المقالة</a> من مديري المنتجات في نظام Android System UI. <br><br>  هذه المقالة هي الأولى في سلسلة صغيرة تركز على كيف يمكن للمطورين توفير التحكم بالإيماءات في تطبيقاتهم.  في هذه السلسلة سوف نغطي الموضوعات التالية: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  من الحافة إلى الحافة: اسمح للتطبيق الخاص بك بملء الشاشة بالكامل. </li><li style=";text-align:right;direction:rtl">  معالجة التراكبات المرئية لواجهة مستخدم النظام. </li><li style=";text-align:right;direction:rtl">  معالجة إيماءات التطبيق يتعارض مع إيماءات النظام. </li><li style=";text-align:right;direction:rtl">  سيناريوهات مشتركة وطرق دعمها. </li></ol><br>  لنبدأ كيف يمكن أن تتراوح التطبيقات من حافة إلى حافة الشاشة. <br><br><img src="https://habrastorage.org/webt/y5/yi/1w/y5yi1wllhbfnwf_x2qj5h581geu.gif"><br><br><h3 style=";text-align:right;direction:rtl">  الحافة إلى الحافة </h3><br>  يمكنني استخدام المصطلح من الحافة إلى الحافة لوصف التطبيقات التي يمكن توسيع نافذتها إلى ملء الشاشة لتحقيق تأثير أكثر إثارة.  بشكل افتراضي ، توجد التطبيقات أسفل شريط الحالة (شريط الحالة) وفوق شريط التنقل (شريط التنقل) (يطلق عليها معًا أشرطة النظام). <br><br>  من الحافة إلى الحافة ، تتجاوز التطبيقات لوحات النظام.  سيؤدي ذلك إلى الاحتفاظ بمحتوى التطبيق الخاص بك في دائرة الضوء لإنشاء تجربة مستخدم جيدة. <br><br>  في الممارسة العملية ، هذا يعني أن منشئ التطبيق يجب أن يتذكر شيئين: <br><br><h4 style=";text-align:right;direction:rtl">  باستخدام منطقة شريط التنقل </h4><br>  الاعتبار الأول والأهم لدعم التحكم بالإيماءات هو التعامل مع الموقع خلف شريط التنقل.  نظرًا لانخفاض حجم شريط التنقل ومدى ملاءمته ، يوصى بشدة بوضع التطبيقات خلف شريط التنقل عند العمل مع Android Q + لإنشاء UX أكثر حداثة وجاذبية. <br><br>  عند تشغيله على الأجهزة التي تعمل بنظام Android Pie وتحته ، يعتبر الموقع خلف شريط التنقل اختياريًا ، ويترك القرار لمنشئ التطبيق فيما إذا كان هذا منطقيًا أم لا.  ومع ذلك ، فإن جميع واجهات برمجة التطبيقات (APIs) الضرورية تقريبًا متوافقة مع الإصدارات السابقة حتى API 21 (أو أن AndroidX سيتعامل مع الاختلافات من تلقاء نفسه) ، وبالتالي فإن مقدار العمل الإضافي المطلوب لدعم الأجهزة قبل إصدار Q هو الحد الأدنى.  يمكن للمستخدمين على الأجهزة التي تصل إلى Q جيل الحصول على تجربة غامرة.  يعتبر التقليل إلى الحد الأدنى من العمل والاختبار الضروريين أمرًا اختياريًا. <br><br><h4 style=";text-align:right;direction:rtl">  باستخدام منطقة شريط الحالة </h4><br>  ثانياً ، يجب الانتباه إلى الجزء العلوي من الشاشة - شريط الحالة.  الآن من المنطقي استخدام مساحات شريط الحالة إذا كان المحتوى الخاص بك أو التخطيط يحتاجها.  ماذا نعني بذلك؟  مثال على تخطيط قد يأخذ شريط الحالة هو صورة عريضة.  بالنسبة للمطورين ، يعني هذا استخدام شيء مثل <i>AppBarLayout</i> ، والذي يتم <i>تحديده وإصلاحه</i> في الجزء العلوي من الشاشة. <br><br><img src="https://habrastorage.org/webt/g3/fh/nr/g3fhnr33g0cz8zahfxyazy0irac.png"><br>  <i>مثال التطبيق مع صورة ملء الشاشة على شريط الحالة</i> <br><br>  من ناحية أخرى ، إذا كانت واجهة المستخدم تتكون من قائمة بالعناصر ذات موضع شريط أدوات ثابت في الأعلى ، فقد لا تكون هناك فائدة من استخدام منطقة شريط الحالة.  تنطبق نفس القواعد على شريط التنقل: ليس من الضروري استخدامها على الأجهزة قبل Android Q. <br><br><h3 style=";text-align:right;direction:rtl">  تطبيق </h3><br>  هناك ثلاث خطوات أساسية في التنفيذ باستخدام مناطق الحافة إلى الحافة. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  طلب عرض في وضع ملء الشاشة </li></ol><br>  تتمثل الخطوة الأولى في إخبار النظام بأنه يجب وضع طلبنا أعلى لوحات النظام (على طول المحور ص).  واجهة برمجة التطبيقات التي نستخدمها في هذا الأمر هي <a href="https://developer.android.com/reference/android/view/View.html">setSystemUiVisibility ()</a> على طريقة العرض مع العديد من العلامات.  الأعلام التي تهمنا تبدو هكذا: <br><br><pre style=";text-align:right;direction:rtl"><code class="kotlin hljs">view.systemUiVisibility = <span class="hljs-comment"><span class="hljs-comment">// Tells the system that the window wishes the content to // be laid out at the most extreme scenario. See the docs for // more information on the specifics View.SYSTEM_UI_FLAG_LAYOUT_STABLE or // Tells the system that the window wishes the content to // be laid out as if the navigation bar was hidden View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</span></span></code> </pre> <br>  بعد ذلك ، سيتم تحديد <code>view</code> نظرنا في وضع ملء الشاشة على شريط التنقل. <br><br><img src="https://habrastorage.org/webt/1n/aw/pg/1nawpg_oot1660ielawyaut5tew.png"><br>  <i>الآن سيكون تطبيقنا موجودًا في وضع ملء الشاشة على شريط التنقل</i> <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>تغيير ألوان لوحة النظام</b> </li></ol><br>  نظرًا لأن تطبيقنا الآن في وضع ملء الشاشة ، نحتاج إلى تغيير ألوان لوحة النظام حتى نتمكن من رؤية المحتوى الذي يقف وراءه. <br><br>  <b>Android Q</b> <br><br>  عندما يتم تشغيله على Android Q ، فإن مهمتنا الوحيدة هي جعل لوحة النظام شفافة. <br><br><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs">&lt;!-- values-v29/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@android</span></span>:color/transparent &lt;/item&gt; &lt;!-- Optional, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> drawing behind the status bar too --&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:statusBarColor"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@android</span></span>:color/transparent &lt;/item&gt; &lt;/style&gt;</code> </pre> <br>  في نظام Android Q ، أصبح النظام الآن مسؤولاً عن معالجة كل الحماية المرئية لمحتويات لوحة النظام (الوقت ، الأيقونات ، معالجة السحب والإفلات ، إلخ) في جميع أوضاع التنقل.  هذا يعني أننا لم نعد بحاجة إلى التفكير في الأمر.  في الممارسة العملية ، هذا يعني أن النظام سيقوم بأحد أمرين: <br><br>  <b>اللون التكيف الديناميكي</b> <br><br>  تتغير محتويات لوحة النظام بالألوان حسب المحتويات الموجودة خلفها.  وبالتالي ، إذا كانت اللوحة أعلى نوع من المحتوى الخفيف ، فسوف يتغير لونها إلى الظلام.  على العكس ، يتغير اللون إلى الإضاءة إذا كان المحتوى غامقًا.  هذا هو ما نسميه التكيف اللون الحيوي. <br><br><img src="https://habrastorage.org/webt/du/im/5b/duim5bisdugdipbqh_vemeph2jc.gif"><br>  <i>التكيف الديناميكي للألوان في Android Q</i> <br><br>  <b>شبكة شفافة</b> <br><br>  بدلاً من ذلك ، يمكن للنظام استخدام شبكة شفافة (scrim) خلف لوحات النظام.  يرجى ملاحظة أن هذا لا يعمل إلا إذا أعلنت أن <code>targetSdkVersion 29</code> في طلبك.  إذا كان تطبيقك يستهدف SDK 28 أو أقل ، فلن يتم عرض الشبكة تلقائيًا ، وسيظل أمامك شريط تنقل شفاف. <br><br><img src="https://habrastorage.org/webt/mr/kb/gd/mrkbgdr-mbninc17xy8ou_4jx5k.png"><br>  <i>الشبكة التي يوفرها النظام في وضع التحكم على Android Q</i> <br><br>  يتم تنفيذ كل من هذه الإجراءات حتى يتمكن المستخدم دائمًا من رؤية محتويات لوحة النظام.  يعتمد الخيار الذي يختاره النظام على عدة عوامل.  سيتم استخدام الشبكة إذا: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يتم تمكين أحد أوضاع الزر (2 أو 3 زر) ؛ </li><li style=";text-align:right;direction:rtl">  في وضع التحكم بالإيماءات ، قرر المصنع نفسه إيقاف تشغيل التكيف الديناميكي للألوان.  قد يكون السبب المحتمل هو نقص أداء الجهاز لمعالجة تكيف الألوان. </li></ul><br><img src="https://habrastorage.org/webt/tx/lb/ii/txlbiimkiqpmuhtnx2htaxaef1w.png"><br>  <i>مثال على كيفية استخدام الشاشة مع التحكم بالإيماءات</i> <br><br>  في جميع الحالات الأخرى ، سيتم استخدام التكيف الديناميكي للألوان.  الأسباب المذكورة ذات صلة فقط في هذه اللحظة من الزمن ، في المستقبل يمكن أن يتغير كل شيء. <br><br>  <b>تعطيل حماية لوحة النظام في Q</b> <br><br>  إذا كنت لا تريد أن يقوم النظام بحماية المحتوى تلقائيًا ، فيمكنك تعطيل هذا الخيار عن طريق تعيين <code>android:enforceNavigationBarContrast</code> و / أو <code>android:enforceStatusBarContrast</code> إلى <code>false</code> . <br><br>  <b>فطيرة الروبوت وتحت</b> <br><br>  إذا قررت الانتقال إلى مفهوم "الحافة إلى الحافة" وعلى الأجهزة حتى الإصدار Q ، فستحتاج إلى تعيين الألوان الشفافة من لوحة النظام لاستخدام حماية المحتوى.  ستكون الشبكة السوداء مع عتامة 70٪ خطوة جيدة لإنشاء مظهر مع لوحات نظام داكنة. <br><br><pre style=";text-align:right;direction:rtl"> <code class="kotlin hljs">&lt;!-- values/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; #B3FFFFFF &lt;/item&gt; &lt;/style&gt; &lt;!-- values-night/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; #B3000000 &lt;/item&gt; &lt;/style&gt;</code> </pre> <br>  قد تحتاج إلى ضبط شفافية اللوحات العلوية والسفلية ، اعتمادًا على المحتوى الموجود خلفها.  بالنسبة إلى السمات المميزة للضوء ، يمكنك تعيين لون شفاف خفيف (على سبيل المثال ، # B3FFFFFF). <br><br><img src="https://habrastorage.org/webt/xf/2c/7z/xf2c7zi2los9ob8phhsgnjxegbi.png"><br>  <i>مثال يوضح كلتا الشبكات في مظاهر مظلمة وخفيفة</i> <i><br></i> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>الصراعات البصرية</b> </li></ol><br>  بعد الانتهاء من هذه الخطوات ، ربما لاحظت أن بعض طرق العرض الخاصة بك تقع الآن خلف لوحات النظام.  الخطوة الثالثة والأخيرة هي معالجة أي تراكبات مرئية ، والتي سنناقشها في المقالات التالية. <br><br>  <i>هذا كل شيء.</i>  <i><b>نحن ندعو جميع القراء إلى <a href="https://otus.pw/nFh0/">ندوة عملية على Android UI Testing</a> .</b></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar479948/">https://habr.com/ru/post/ar479948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar479930/index.html">الجيش الوطني الرواندي. اختبارات سرعة روبوت البرمجيات</a></li>
<li><a href="../ar479932/index.html">كيفية تحسين مهارات البرمجة الخاصة بك في الواقع</a></li>
<li><a href="../ar479938/index.html">Google Stadia - نظام ألعاب قائم على السحابة مع استراتيجية تسييل غريبة</a></li>
<li><a href="../ar479940/index.html">كيفية التحول إلى التنمية من مهنة أخرى والنمو بسرعة في مكان جديد</a></li>
<li><a href="../ar479942/index.html">[تم التحديث في الساعة 10:52 ، 12/14/19] أجري بحث في مكتب Nginx. Kopeiko: "Nginx تم تطويره بواسطة Sysoev بشكل مستقل"</a></li>
<li><a href="../ar479950/index.html">تاريخ معالجات الفيديو ، الجزء 4: ظهور GPU للأغراض العامة</a></li>
<li><a href="../ar479952/index.html">ما بداخل الشاورما: الخدمات الدقيقة والأنظمة الموزعة وكافكا. مشاركة المواد من Backend United # 5</a></li>
<li><a href="../ar479954/index.html">ربيع التمهيد البرنامج التعليمي الادارية</a></li>
<li><a href="../ar479958/index.html">البرامج الثابتة ومعالج نقاط الضعف</a></li>
<li><a href="../ar479960/index.html">نموذج أداء الإعلان الإعلامي للمتاجر عبر الإنترنت</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>