<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå≥ üåë üçï La journalisation NodeJS est bien faite üêè üßúüèª üï∫üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qu'est-ce qui vous inqui√®te le plus lorsque vous pensez √† vous connecter √† NodeJS? Si vous me demandez, je vais dire le manque de normes de l'industri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La journalisation NodeJS est bien faite</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442392/"><p><img src="https://habrastorage.org/webt/5a/em/fo/5aemfoyk841-ll_xjint9es2kao.jpeg"></p><br><p> Qu'est-ce qui vous inqui√®te le plus lorsque vous pensez √† vous connecter √† NodeJS?  Si vous me demandez, je vais dire le manque de normes de l'industrie pour cr√©er des identifiants de trace.  Dans cet article, nous allons pr√©senter comment cr√©er ces ID de trace (ce qui signifie que nous allons examiner bri√®vement comment fonctionne le stockage local de continuation aka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CLS</a> ) et approfondir la fa√ßon dont nous pouvons utiliser le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proxy</a> pour le faire fonctionner avec N'IMPORTE QUEL enregistreur. </p><a name="habracut"></a><br><h2 id="why-is-it-even-a-problem-to-have-a-trace-id-for-each-request-in-nodejs">  Pourquoi est-ce m√™me un probl√®me d'avoir un ID de trace pour chaque demande dans NodeJS? </h2><br><p>  Eh bien, sur les plates-formes qui utilisent le multithread et g√©n√®rent un nouveau thread pour chaque demande.  Il y a une chose appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage local de thread aka TLS</a> , qui permet de garder toutes les donn√©es arbitraires disponibles √† quoi que ce soit dans un thread.  Si vous avez une API native pour le faire, il est assez simple de g√©n√©rer un ID al√©atoire pour chaque demande, mettez-le dans TLS et utilisez-le plus tard dans votre contr√¥leur ou service.  Alors, quel est le probl√®me avec NodeJS? <br>  Comme vous le savez, NodeJS est une plate-forme monothread (qui n'est plus vraiment vraie car nous avons maintenant des travailleurs, mais cela ne change pas la vue d'ensemble), ce qui rend TLS obsol√®te.  Au lieu d'utiliser diff√©rents threads, NodeJS ex√©cute diff√©rents rappels dans le m√™me thread (il y a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">grande s√©rie d'articles</a> sur la boucle d'√©v√©nements dans NodeJS si vous √™tes int√©ress√©) et NodeJS nous fournit un moyen d'identifier de mani√®re unique ces rappels et de tracer leurs relations les uns avec les autres . </p><br><p>  Dans le pass√© (v0.11.11), nous avions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">addAsyncListener</a> qui nous permettait de suivre les √©v√©nements asynchrones.  Sur cette base, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Forrest Norvell a</a> construit la premi√®re impl√©mentation du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stockage local</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">continuation aka CLS</a> .  Nous n'allons pas couvrir cette impl√©mentation de CLS car nous, en tant que d√©veloppeurs, avons d√©j√† √©t√© d√©pouill√©s de cette API dans la v0.12. </p><br><p>  Jusqu'√† NodeJS 8, nous n'avions aucun moyen officiel de se connecter au traitement des √©v√©nements asynchrones de NodeJS.  Et enfin, NodeJS 8 nous a accord√© le pouvoir que nous avons perdu via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">async_hooks</a> (si vous voulez mieux comprendre async_hooks, jetez un ≈ìil √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> ).  Cela nous am√®ne √† l'impl√©mentation moderne bas√©e sur async_hooks de CLS - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cls-hooked</a> . </p><br><h2 id="cls-overview">  Pr√©sentation de CLS </h2><br><p>  Voici un flux simplifi√© du fonctionnement de CLS: </p><br><p><img src="https://habrastorage.org/webt/ix/xe/wj/ixxewjdn0xn7r5feuvgdl1vnjow.jpeg"></p><br><p>  D√©composons-le √©tape par √©tape: </p><br><ol><li>  Disons que nous avons un serveur Web typique.  Nous devons d'abord cr√©er un espace de noms CLS.  Une fois pour toute la dur√©e de vie de notre application. </li><li>  Deuxi√®mement, nous devons configurer un middleware pour cr√©er un nouveau contexte CLS pour chaque demande.  Par souci de simplicit√©, supposons que ce middleware est juste un rappel qui est appel√© lors de la r√©ception d'une nouvelle demande. </li><li>  Ainsi, lorsqu'une nouvelle demande arrive, nous appelons cette fonction de rappel. </li><li>  Dans cette fonction, nous cr√©ons un nouveau contexte CLS (l'une des fa√ßons consiste √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ex√©cuter l'</a> appel de l'API). </li><li>  √Ä ce stade, CLS place le nouveau contexte dans une carte des contextes par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ID d'ex√©cution en cours</a> . </li><li> Chaque espace de noms CLS a <code>active</code> propri√©t√© <code>active</code> .  √Ä ce stade, CLS affecte des <code>active</code> au contexte. </li><li>  √Ä l'int√©rieur du contexte, nous appelons une ressource asynchrone, disons, nous demandons des donn√©es √† la base de donn√©es.  Nous passons un rappel √† l'appel, qui va s'ex√©cuter une fois la demande √† la base de donn√©es termin√©e. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">init</a> hook async est d√©clench√© pour une nouvelle op√©ration asynchrone.  Il ajoute le contexte actuel √† la carte des contextes par ID asynchrone (consid√©rez-le comme un identifiant de la nouvelle op√©ration asynchrone). </li><li>  Comme nous n'avons plus de logique √† l'int√©rieur de notre premier rappel, il se termine effectivement mettant fin √† notre premi√®re op√©ration asynchrone. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apr√®s que le</a> crochet asynchrone est d√©clench√© pour le premier rappel.  Il d√©finit le contexte actif de l'espace de noms sur <code>undefined</code> (ce n'est pas toujours vrai car nous pouvons avoir plusieurs contextes imbriqu√©s, mais dans le cas le plus simple, c'est vrai). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">destroy</a> hook est tir√© pour la premi√®re op√©ration.  Il supprime le contexte de notre carte des contextes par son ID asynchrone (c'est le m√™me que l'ID d'ex√©cution actuel de notre premier rappel). </li><li>  La demande √† la base de donn√©es est termin√©e et notre deuxi√®me rappel est sur le point d'√™tre d√©clench√©. </li><li>  √Ä ce stade, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avant que le</a> crochet asynchrone n'entre en jeu.  Son ID d'ex√©cution actuel est le m√™me que l'ID asynchrone de la deuxi√®me op√©ration (requ√™te de base de donn√©es).  Il d√©finit <code>active</code> propri√©t√© <code>active</code> de l'espace de noms sur le contexte trouv√© par son ID d'ex√©cution actuel.  C'est le contexte que nous avons cr√©√© auparavant. </li><li>  Maintenant, nous ex√©cutons notre deuxi√®me rappel.  Ex√©cutez une logique m√©tier √† l'int√©rieur.  Dans cette fonction, nous pouvons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">obtenir n'importe quelle valeur par cl√©</a> du CLS et il va retourner tout ce qu'il trouve par la cl√© dans le contexte que nous avons cr√©√© auparavant. </li><li>  En supposant que c'est la fin du traitement de la demande, notre fonction retourne. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apr√®s que le</a> crochet asynchrone est d√©clench√© pour le deuxi√®me rappel.  Il d√©finit le contexte actif de l'espace de noms sur <code>undefined</code> . </li><li>  <code>destroy</code> hook est d√©clench√© pour la deuxi√®me op√©ration asynchrone.  Il supprime notre contexte de la carte des contextes par son ID asynchrone le laissant absolument vide. </li><li>  Comme nous ne d√©tenons plus de r√©f√©rences √† l'objet contextuel, notre garbage collector lib√®re la m√©moire qui lui est associ√©e. </li></ol><br><p>  C'est une version simplifi√©e de ce qui se passe sous le capot, mais il couvre toutes les √©tapes principales.  Si vous voulez creuser plus profond√©ment, vous pouvez jeter un ≈ìil au <a href="">code source</a> .  C'est moins de 500 lignes. </p><br><h2 id="generating-trace-ids">  G√©n√©ration d'ID de trace </h2><br><p>  Donc, une fois que nous avons une compr√©hension globale de CLS, r√©fl√©chissons √† comment nous pouvons l'utiliser pour notre propre bien.  Une chose que nous pourrions faire est de cr√©er un middleware qui enveloppe chaque demande dans un contexte, g√©n√®re un identifiant al√©atoire et le place dans CLS par cl√© <code>traceID</code> .  Plus tard, √† l'int√©rieur de l'un de nos contr√¥leurs et services gazillion, nous pourrions obtenir cet identifiant de CLS. </p><br><p>  Pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exprimer</a> ce middleware pourrait ressembler √† ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cls = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'cls-hooked'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uuidv4 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'uuid/v4'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clsNamespace = cls.createNamespace(<span class="hljs-string"><span class="hljs-string">'app'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clsMiddleware = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// req and res are event emitters. We want to access CLS context inside of their event callbacks clsNamespace.bind(req) clsNamespace.bind(res) const traceID = uuidv4() clsNamespace.run(() =&gt; { clsNamespace.set('traceID', traceID) next() }) }</span></span></code> </pre> <br><p>  Ensuite, dans notre contr√¥leur, nous pourrions obtenir l'ID de trace g√©n√©r√© comme ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controller = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traceID = clsNamespace.get(<span class="hljs-string"><span class="hljs-string">'traceID'</span></span>) }</code> </pre> <br><p>  Il n'y a pas tant d'utilisation de cet ID de trace que si nous l'ajoutons √† nos journaux. </p><br><p>  Ajoutons-le √† notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">winston</a> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { createLogger, format, transports } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'winston'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addTraceId = printf(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">info</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = info.message <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> traceID = clsNamespace.get(<span class="hljs-string"><span class="hljs-string">'taceID'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (traceID) { message = <span class="hljs-string"><span class="hljs-string">`[TraceID: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${traceID}</span></span></span><span class="hljs-string">]: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${message}</span></span></span><span class="hljs-string">`</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> message }) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> logger = createLogger({ <span class="hljs-attr"><span class="hljs-attr">format</span></span>: addTraceId, <span class="hljs-attr"><span class="hljs-attr">transports</span></span>: [<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> transports.Console()], })</code> </pre> <br><p>  Eh bien, si tous les enregistreurs prenaient en charge les formateurs dans une forme de fonctions (beaucoup d'entre eux ne le font pas pour une bonne raison), cet article n'existerait pas.  Alors, comment ajouter un identifiant de trace √† mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pino</a> bien-aim√©?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Procuration</a> √† la rescousse! </p><br><h2 id="combining-proxy-and-cls">  Combinaison de proxy et CLS </h2><br><p>  Le proxy est un objet qui enveloppe notre objet d'origine nous permettant de remplacer son comportement dans certaines situations.  La liste de ces situations (elles sont en fait appel√©es pi√®ges) est limit√©e et vous pouvez jeter un ≈ìil √† l'ensemble <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , mais nous ne sommes int√©ress√©s que par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get get</a> .  Il nous donne la possibilit√© d'intercepter l'acc√®s √† la propri√©t√©.  Cela signifie que si nous avons un objet <code>const a = { prop: 1 }</code> et l'enveloppons dans un proxy, avec <code>get</code> trap, nous pourrions retourner tout ce que nous voulons pour <code>a.prop</code> . </p><br><p>  L'id√©e est donc de g√©n√©rer un ID de trace al√©atoire pour chaque demande et de cr√©er un <a href="">enregistreur de pino enfant</a> avec l'ID de trace et de le mettre dans CLS.  Ensuite, nous pourrions envelopper notre enregistreur d'origine avec un proxy, qui redirigerait toutes les demandes de journalisation vers l'enregistreur enfant dans CLS s'il en trouvait un et continuerait √† utiliser l'enregistreur d'origine dans le cas contraire. </p><br><p>  Dans ce sc√©nario, notre proxy pourrait ressembler √† ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pino = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'pino'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> logger = pino() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> loggerCls = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Proxy</span></span>(logger, { get(target, property, receiver) { <span class="hljs-comment"><span class="hljs-comment">// Fallback to our original logger if there is no child logger in CLS target = clsNamespace.get('loggerCls') || target return Reflect.get(target, property, receiver) }, })</span></span></code> </pre> <br><p>  Notre middleware se transformerait en quelque chose comme ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cls = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'cls-hooked'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uuidv4 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'uuid/v4'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> clsMiddleware = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// req and res are event emitters. We want to access CLS context inside of their event callbacks clsNamespace.bind(req) clsNamespace.bind(res) const traceID = uuidv4() const loggerWithTraceId = logger.child({ traceID }) clsNamespace.run(() =&gt; { clsNamespace.set('loggerCls', loggerWithTraceId) next() }) }</span></span></code> </pre> <br><p>  Et nous pourrions utiliser l'enregistreur comme ceci: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controller = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res, next</span></span></span><span class="hljs-function">) =&gt;</span></span> { loggerCls.info(<span class="hljs-string"><span class="hljs-string">'Long live rocknroll!'</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Logs something like // {"level":30,"time":1551385666046,"msg":"Long live rocknroll!","pid":25,"hostname":"eb6a6c70f5c4","traceID":"9ba393f0-ec8c-4396-8092-b7e4b6f375b5","v":1} }</span></span></code> </pre> <br><h2 id="cls-proxifyhttpsgithubcomkeenondrumscls-proxify">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cls-proxify</a> </h2><br><p>  Sur la base de l'id√©e ci-dessus, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">petite biblioth√®que appel√©e cls-proxify a</a> √©t√© cr√©√©e.  Il a une int√©gration avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">express</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">koa</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fastify pr√™t</a> √† l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">emploi</a> . <br>  Il s'applique non seulement √† <code>get</code> pi√®ge sur l'objet d'origine, mais aussi sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bien d'autres</a> .  Il y a donc une infinit√© d'applications possibles.  Vous pouvez utiliser des appels de fonction proxy, la construction de classes, √† peu pr√®s n'importe quoi!  Vous n'√™tes limit√© que par votre imagination! <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jetez un ≈ìil aux d√©monstrations en direct de son utilisation avec pino et fastify, pino et express</a> . </p><br><p>  J'esp√®re que vous avez trouv√© quelque chose d'utile pour votre projet.  N'h√©sitez pas √† me faire part de vos retours!  J'appr√©cie tr√®s certainement toute critique et question. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442392/">https://habr.com/ru/post/fr442392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442376/index.html">Densit√© de parcelle au d√©tail</a></li>
<li><a href="../fr442378/index.html">Un clic dans l'interface de Booking com peut g√¢cher des vacances ou pourquoi un syst√®me de notation fonctionnel est important</a></li>
<li><a href="../fr442380/index.html">Sort Chaos</a></li>
<li><a href="../fr442384/index.html">Extension des fonctionnalit√©s du syst√®me audio standard</a></li>
<li><a href="../fr442386/index.html">Thymeleaf: Disposition des dialectes + Spring Boot 2</a></li>
<li><a href="../fr442396/index.html">√âv√©nements num√©riques √† Moscou du 04 mars au 10 mars</a></li>
<li><a href="../fr442402/index.html">Le plus important. Int√©gration avec des services externes</a></li>
<li><a href="../fr442404/index.html">Le plus important. Int√©gration avec des services externes (partie 2)</a></li>
<li><a href="../fr442406/index.html">Fintech digest: transferts gratuits dans le syst√®me SBP, vuln√©rabilit√© des banques aux attaques et autres actualit√©s</a></li>
<li><a href="../fr442408/index.html">La machine universelle pour effectuer des tests de bricolage, partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>