<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐅 😤 🤲🏿 Estándar SNI cifrado implementado en Firefox Nightly 🕓 👩🏼‍🚀 🛌🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Firefox fue el primer navegador en implementar el cifrado de indicación de nombre de servidor (SNI) TLS . El soporte de ESNI se introdujo en la última...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estándar SNI cifrado implementado en Firefox Nightly</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/globalsign/blog/427563/"><img src="https://habrastorage.org/getpro/habr/post_images/703/0ac/dd9/7030acdd9207d68029841125f3547c73.png" width="370" align="left">  Firefox fue el primer navegador en implementar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cifrado de indicación de nombre de servidor (SNI) TLS</a> .  El soporte de ESNI se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">introdujo</a> en la última versión de Firefox Nightly, en la que se incorporan todas las innovaciones antes de agregarlas a la rama principal. <br><br>  La importancia de este estándar fue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">discutida hace un</a> mes por el proveedor de CloudFare CDN.  En resumen, ESNI cifra la información sobre a qué dominio está enviando la solicitud.  En HTTPS estándar, los encabezados con nombres de dominio no están encriptados y están disponibles para que los vea el proveedor u otra "persona en el medio".  Ahora solo ve la dirección IP.  Dado que cientos de dominios se pueden ubicar en la misma dirección IP en Internet moderno, ESNI oculta efectivamente la información sobre el dominio en el que el usuario inicia sesión. <br><br>  Por lo tanto, el bloqueo por nombre deja de funcionar y la censura de Internet se vuelve muy complicada.  Los censores tendrán que bloquear las direcciones IP, lo cual es una práctica dudosa.  Tal bloqueo puede afectar a sitios no relacionados, y un servicio bloqueado puede cambiar fácilmente (automáticamente) a otra dirección IP. <br><a name="habracut"></a><br>  ¿Por qué brillan los nombres de host en un SNI TLS normal?  El hecho es que antes de comenzar el cifrado, el servidor necesita saber a qué dominio está accediendo el cliente para poder presentar el certificado necesario.  Por esta razón, el nombre de host se transmite en texto plano (debajo de la ilustración <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">del blog Cloudflare</a> ). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c3/9be/b9a/6c39beb9a95d36338872f54af5188f57.png"><br><br>  En SNI cifrado (ESNI), este problema se resuelve de la siguiente manera: el cliente toma la clave pública del servidor del DNS y cifra todos los datos con ella hasta que se establece la sesión TLS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ad/797/7aa/2ad7977aa957e447c71fdb73e487bdda.png"><br>  La compatibilidad del navegador para Firefox Nightly significa que ESNI funcionará con todos los sitios / proveedores que lo admitan. <br><br>  Los desarrolladores de Mozilla <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">explican</a> que hay cuatro formas principales de filtrar su historial de navegación: <br><br><ol><li>  Mensaje de certificado TLS </li><li>  Resolución de nombre DNS </li><li>  Dirección IP del servidor </li><li>  Indicación del nombre del servidor TLS. </li></ol><br>  Hasta la fecha, han realizado un buen progreso en el cierre de los dos primeros canales de fuga: el nuevo estándar TLS 1.3 encripta el certificado del servidor predeterminado (canal 1), y en los últimos meses, Mozilla ha estado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://blog.mozilla.org/futurereleases/2018/09/13/dns-over-">estudiando el</a> uso de DNS sobre HTTPS para proteger el tráfico DNS (canal 2).  Los resultados de la prueba no son malos, y en los próximos meses la función se implementará para todos los usuarios de Firefox.  Una dirección IP sigue siendo un problema, pero en muchos casos varios sitios comparten la misma dirección IP, por lo que el canal de fuga principal es SNI. <br><br>  En un momento, la tecnología de Indicación de Nombre de Servidor (SNI) comenzó a usarse precisamente porque varios hosts están ubicados en la misma dirección IP.  En este caso, el campo SNI le dice al servidor a qué host está intentando conectarse, permitiéndole seleccionar el certificado correcto.  En otras palabras, SNI ayuda a garantizar el funcionamiento del alojamiento TLS a gran escala.  Es decir, esta función se introdujo en aras de la seguridad, y ahora tenemos que tratarla como un canal de fuga de datos. <br><br>  El problema de SNI era conocido desde hace mucho tiempo, escriben los desarrolladores de Mozilla, y estaba claro que este campo necesitaba ser encriptado.  Pero cada diseño que probaron incluía un compromiso en el rendimiento.  Había otro inconveniente importante: el hecho de que un sitio en particular se cambiara a ESNI era una señal de que "tenía algo que ocultar", es decir, los censores tenían la oportunidad de filtrar trivialmente el tráfico por ESNI.  Al final, se decidió lanzar el estándar TLS 1.3 sin ESNI. <br><br>  Solo a principios de 2018, los desarrolladores se dieron cuenta de que había una opción bastante buena: las grandes redes de distribución de contenido (CDN) alojan muchos sitios en los mismos servidores físicos.  Si aceptan transferir <b>todos los</b> clientes a ESNI a la <b>vez</b> , de repente ESNI deja de ser una señal útil para un atacante.  Por lo tanto, se hizo posible implementar ESNI en TLS 1.3, personalizando en masa muchos sitios en un conjunto existente de servidores. <br><br>  ESNI es una tecnología completamente nueva, y Firefox es el primer navegador en implementarlo.  Para activarlo en Firefox Nightly, debe completar los siguientes pasos: <br><br><ol><li>  Asegúrese de haber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">habilitado DNS sobre HTTPS</a> (DoH): <br><ul><li><code>about:config</code> </li> <li>  establezca <code>network.trr.mode</code> en 2 <br><br><img src="https://habrastorage.org/webt/-c/rm/6k/-crm6kytlx-2xmzsr97lvi5thr0.png"></li><li>  configure <code>network.trr.uri</code> en el servidor DoH (por ejemplo, <code>https://mozilla.cloudflare-dns.com/dns-query</code> ). <br><br><img src="https://habrastorage.org/webt/d5/su/po/d5supohnfruugywea6h8xtu5ino.png"></li></ul></li><li><ul><li> <code>about:config</code> </li> <li>  establecer <code>network.security.esni.enabled</code> en <code>true</code> <br><br><img src="https://habrastorage.org/webt/r6/vx/ka/r6vxkaywtuinmiko4rr3inme_bw.png"></li></ul></li></ol><br>  Esto debería habilitar automáticamente ESNI para cualquier sitio que lo admita.  Por el momento, de los grandes servidores y CDN, esto es solo Cloudflare, pero los desarrolladores de Firefox esperan que otros proveedores se conecten pronto.  Puede verificar el cifrado mediante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este enlace</a> . <br><br><img src="https://habrastorage.org/webt/e3/vz/ic/e3vzicnie3cxmeevn8t5ardhlfq.png"><br><br>  En los próximos meses, Mozilla probará cómo ESNI interactúa con diferentes tipos de firewall y otros dispositivos de red.  Si activó el cifrado y algo se rompió, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informe a los desarrolladores a</a> través del rastreador de errores. <br><br><hr><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/rw/hk/1y/rwhk1y-msfqaknqu2kbktqf6g7a.jpeg"></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/od/n-/xe/odn-xebtl8a5lexzip_kkkezr6s.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427563/">https://habr.com/ru/post/es427563/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427549/index.html">Informe del Club de Roma 2018, Capítulo 1.6: comodines tecnológicos</a></li>
<li><a href="../es427551/index.html">¿Por qué no podemos abandonar el teclado QWERTY?</a></li>
<li><a href="../es427555/index.html">Animales que los humanos han aprendido a rastrear utilizando la tecnología de reconocimiento facial</a></li>
<li><a href="../es427557/index.html">Resumen de eventos de TI en noviembre (primera parte)</a></li>
<li><a href="../es427561/index.html">Derecho a reparar: los primeros pasos en la dirección correcta de Motorola</a></li>
<li><a href="../es427565/index.html">"Mi logro fue que generalmente volví a la profesión" - 10 preguntas para el programador, número 10</a></li>
<li><a href="../es427567/index.html">Mapas hexagonales en Unity: ciclo del agua, erosión, biomas, mapa cilíndrico</a></li>
<li><a href="../es427569/index.html">Ajuste fino OpenStack bajo alta carga</a></li>
<li><a href="../es427571/index.html">La unión de R y PostgreSQL. Analizamos el trabajo de los aeropuertos, calculamos las pensiones.</a></li>
<li><a href="../es427573/index.html">Candy or Life: Halloween como una razón para atraer a tu hijo a la ciencia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>