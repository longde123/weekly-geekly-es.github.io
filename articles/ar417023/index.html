<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💠 🕚 👈🏼 تجربة مجموعة Rambler Group: كيف بدأنا في التحكم الكامل في تشكيل وسلوك مكونات التفاعل الأمامي 🐘 🥣 😧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="هناك العديد من الطرق لإنشاء تطبيق ويب حديث ، ولكن كل فريق يواجه حتمًا نفس المجموعة من الأسئلة: كيفية توزيع المسؤوليات الأمامية والخلفية ، وكيفية تقليل...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>تجربة مجموعة Rambler Group: كيف بدأنا في التحكم الكامل في تشكيل وسلوك مكونات التفاعل الأمامي</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rambler-co/blog/417023/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qx/mz/rd/qxmzrd_ehgvjx1pimjk_fuelvgk.jpeg"></div><br>  هناك العديد من الطرق لإنشاء تطبيق ويب حديث ، ولكن كل فريق يواجه حتمًا نفس المجموعة من الأسئلة: كيفية توزيع المسؤوليات الأمامية والخلفية ، وكيفية تقليل ظهور المنطق المكرر - على سبيل المثال ، عند التحقق من صحة البيانات ، والمكتبات التي تستخدمها ، وكيفية ضمان موثوقة وشفافية النقل بين الأمام والخلف وتوثيق التعليمات البرمجية. <br><br>  في رأينا ، تمكنا من تنفيذ مثال جيد على حل متوازن في التعقيد والربح ، والذي نستخدمه بنجاح في الإنتاج بناءً على Symfony و React. <a name="habracut"></a><br><br>  ما نوع تنسيق تبادل البيانات الذي يمكن أن نختاره عند التخطيط لتطوير واجهة برمجة تطبيقات الواجهة الخلفية في منتج ويب مطور بنشاط يحتوي على نماذج ديناميكية مع الحقول ذات الصلة ومنطق الأعمال المعقد؟ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  SWAGGER هو خيار جيد ، وهناك وثائق وأدوات تصحيح ملائمة.  علاوة على ذلك ، هناك مكتبات لـ Symfony تعمل على أتمتة العملية ، ولكن للأسف تبين أن JSON Schema هو الأفضل ؛ </li><li style=";text-align:right;direction:rtl">  مخطط JSON - تم تقديم هذا الخيار بواسطة مطوري الواجهة الأمامية.  لديهم بالفعل مكتبات تسمح لهم بعرض النماذج.  هذا حدد اختيارنا.  يتيح لك التنسيق وصف الفحوصات البدائية التي يمكن إجراؤها في المتصفح.  هناك أيضًا وثائق تصف جميع الخيارات الممكنة للمخطط ؛ </li><li style=";text-align:right;direction:rtl">  GraphQL صغير جدًا.  ليس هناك الكثير من المكتبات والخوادم الأمامية.  في وقت إنشاء النظام ، لم يتم اعتباره في المستقبل - أفضل طريقة لإنشاء واجهة برمجة تطبيقات ، ستكون هناك مقالة منفصلة حول هذا الأمر ؛ </li><li style=";text-align:right;direction:rtl">  SOAP - لديه كتابة بيانات صارمة ، والقدرة على بناء الوثائق ، ولكن ليس من السهل تكوين صداقات مع واجهة التفاعل.  يحتوي SOAP أيضًا على مقدار حمل أكبر لنفس الكمية القابلة للاستخدام من البيانات المرسلة ؛ </li></ul><br>  كل هذه الأشكال لا تغطي احتياجاتنا بالكامل ، لذلك كان علي أن أكتب حصادة خاصة بي.  يمكن أن يوفر نهج مماثل حلولًا فعالة للغاية لأي تطبيق معين ، ولكن هذا ينطوي على مخاطر: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  احتمالية عالية للأخطاء ؛ </li><li style=";text-align:right;direction:rtl">  في كثير من الأحيان لا يتم توثيق 100 ٪ وتغطية الاختبار ؛ </li><li style=";text-align:right;direction:rtl">  انخفاض "النمطية" بسبب إغلاق واجهة برمجة التطبيقات.  عادة ، يتم كتابة هذه الحلول تحت كتلة متجانسة ولا تعني المشاركة بين المشاريع في شكل مكونات ، لأن هذا يتطلب إنشاءًا معماريًا خاصًا (اقرأ تكلفة التطوير) ؛ </li><li style=";text-align:right;direction:rtl">  مستوى عال من دخول المطورين الجدد.  قد يستغرق الأمر وقتًا طويلاً لفهم كل برودة الدراجة ؛ </li></ul><br>  لذلك ، من الممارسات الجيدة استخدام المكتبات العامة والمستقرة (مثل اللوحة اليسرى من npm) حسب القاعدة - أفضل رمز هو الرمز الذي لم تكتبه مطلقًا ، ولكن حل مشكلة الأعمال.  يتم تطوير الواجهة الخلفية لتطبيق الويب في تقنيات الإعلان لمجموعة Rambler Group في Symfony.  لن نتطرق إلى جميع المكونات المستخدمة للإطار ، سنتحدث أدناه عن الجزء الرئيسي ، الذي يتم على أساسه تنفيذ العمل - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نموذج Symfony</a> .  تستخدم الواجهة الأمامية React والمكتبة المقابلة التي تمد مخطط JSON لتفاصيل WEB - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">React JSON Schema Form</a> . <br><br>  مخطط العمل العام: <br><br><img src="https://habrastorage.org/webt/fk/ym/pf/fkympfjqrjcrpzb2u04mc5lsera.png"><br><br>  هذا النهج له مزايا عديدة: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يتم إنشاء الوثائق خارج الصندوق ، كما هو الحال مع القدرة على بناء اختبارات تلقائية - مرة أخرى وفقًا للمخطط ؛ </li><li style=";text-align:right;direction:rtl">  تتم كتابة جميع البيانات المرسلة ؛ </li><li style=";text-align:right;direction:rtl">  من الممكن إرسال معلومات حول قواعد التحقق الأساسية ؛ <br>  تكامل سريع لطبقة النقل في React - بسبب مكتبة Mozilla React JSON Schema ؛ </li><li style=";text-align:right;direction:rtl">  القدرة على توليد مكونات الويب الأمامية من الصندوق من خلال تكامل bootstrap ؛ </li><li style=";text-align:right;direction:rtl">  يتم التحكم في التجميع المنطقي ، ومجموعة من عمليات التحقق والقيم المحتملة لعناصر HTML ، بالإضافة إلى كل منطق الأعمال في نقطة واحدة - في الخلفية ، لا يوجد تكرار للشفرة ؛ </li><li style=";text-align:right;direction:rtl">  إنه بسيط بقدر الإمكان لنقل التطبيق إلى أنظمة أساسية أخرى - يتم فصل جزء العرض عن عنصر التحكم (انظر الفقرة السابقة) ، بدلاً من React والمتصفح ، يمكن لتطبيق Android أو iOS تقديم ومعالجة طلبات المستخدم ؛ </li></ul><br>  دعونا نلقي نظرة على مكونات ومخطط تفاعلهم بمزيد من التفصيل. <br><br>  مبدئيًا ، يسمح لك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مخطط JSON</a> بوصف عمليات الفحص البدائية التي يمكن إجراؤها على العميل ، مثل ربط أو كتابة أجزاء مختلفة من المخطط: <br><br><pre style=";text-align:right;direction:rtl"><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> schema = { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"A registration form"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A simple form example."</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"firstName"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastName"</span></span> ], <span class="hljs-string"><span class="hljs-string">"properties"</span></span>: { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"First name"</span></span> }, <span class="hljs-string"><span class="hljs-string">"lastName"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Last name"</span></span> }, <span class="hljs-string"><span class="hljs-string">"password"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Password"</span></span>, <span class="hljs-string"><span class="hljs-string">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span> }, <span class="hljs-string"><span class="hljs-string">"telephone"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Telephone"</span></span>, <span class="hljs-string"><span class="hljs-string">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> } } }</code> </pre> <br>  للعمل مع المخططات الأمامية ، توجد مكتبة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">React JSON Schema Form</a> Library الشهيرة التي توفر الوظائف الإضافية اللازمة لـ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">JSON Schema</a> لتطوير الويب: <br><br>  <b>uiSchema</b> - يحدد مخطط JSON نفسه نوع المعلمات المطلوب تمريرها ، ولكن هذا لا يكفي لإنشاء تطبيق ويب.  على سبيل المثال ، يمكن تمثيل حقل من نوع String كـ &lt;input ... /&gt; أو كـ &lt;textarea ... /&gt; ، فهذه فروق دقيقة مهمة ، مع مراعاة ما تحتاجه لرسم رسم تخطيطي للعميل بشكل صحيح.  تعمل UiSchema أيضًا على نقل هذه الفروق الدقيقة ، على سبيل المثال ، لمخطط JSON المعروض أعلاه ، يمكنك تحديد مكون الويب المرئي لـ uiSchema التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uiSchema = { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:autofocus"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:emptyValue"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }, <span class="hljs-string"><span class="hljs-string">"age"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"updown"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Age of person"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:description"</span></span>: <span class="hljs-string"><span class="hljs-string">"(earthian year)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"bio"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"textarea"</span></span> }, <span class="hljs-string"><span class="hljs-string">"password"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"password"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hint: Make it strong!"</span></span> }, <span class="hljs-string"><span class="hljs-string">"date"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"alt-datetime"</span></span> }, <span class="hljs-string"><span class="hljs-string">"telephone"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:options"</span></span>: { <span class="hljs-string"><span class="hljs-string">"inputType"</span></span>: <span class="hljs-string"><span class="hljs-string">"tel"</span></span> } } }</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يمكن رؤية</a> مثال ملعب مباشر <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا</a> . <br><br>  باستخدام هذا المخطط ، سيتم تنفيذ التقديم الأمامي بواسطة مكونات التمهيد القياسية في عدة خطوط: <br><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">render(( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">schema</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{schema}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">uiSchema</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{uiSchema}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> ), document.getElementById("app"));</span></span></code> </pre><br>  إذا كانت الحاجيات القياسية التي تأتي مع bootstrap لا تناسبك وتحتاج إلى التخصيص - بالنسبة لبعض أنواع البيانات ، يمكنك تحديد قوالبك الخاصة في uiSchema ، في وقت الكتابة ، يتم دعم <i>السلسلة</i> ، <i>الرقم</i> ، <i>العدد الصحيح</i> ، <i>المنطقي</i> . <br><br>  <b>FormData</b> - يحتوي على بيانات النموذج ، على سبيل المثال: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"firstName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Chuck"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"lastName"</span></span>: <span class="hljs-string"><span class="hljs-string">"Norris"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"age"</span></span>: <span class="hljs-number"><span class="hljs-number">78</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bio"</span></span>: <span class="hljs-string"><span class="hljs-string">"Roundhouse kicking asses since 1940"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"password"</span></span>: <span class="hljs-string"><span class="hljs-string">"noneed"</span></span> }</code> </pre><br>  بعد العرض ، سيتم ملء الأدوات بهذه البيانات - مفيدة لتحرير النماذج ، وكذلك لبعض الآليات المخصصة التي أضفناها للحقول ذات الصلة والنماذج المعقدة ، المزيد عن ذلك أدناه. <br><br>  يمكنك قراءة المزيد حول جميع الفروق الدقيقة في إعداد واستخدام الأقسام الموضحة أعلاه في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">صفحة المكون الإضافي</a> . <br><br>  خارج الصندوق ، تسمح لك المكتبة بالعمل فقط مع هذه الأقسام الثلاثة ، ولكن بالنسبة لتطبيق ويب كامل ، تحتاج إلى إضافة عدد من الميزات: <br><br>  <b>الأخطاء</b> - من الضروري أيضًا أن تكون قادرًا على نقل أخطاء عمليات التحقق من الواجهة الخلفية المختلفة لتقديمها إلى المستخدم ، ويمكن أن تكون الأخطاء إما أخطاء بسيطة للتحقق - على سبيل المثال ، تفرد تسجيل الدخول عند تسجيل المستخدم ، أو أكثر تعقيدًا بناءً على منطق الأعمال - أي  يجب أن نكون قادرين على تخصيص رقم (أخطاء) ونصوص الإشعارات المعروضة.  للقيام بذلك ، بالإضافة إلى تلك المذكورة أعلاه ، تمت إضافة قسم الأخطاء إلى مجموعة البيانات المرسلة - لكل حقل ، يتم تحديد قائمة بأخطاء العرض هنا <br><br>  <b>الإجراء</b> ، <b>الطريقة</b> - لإرسال البيانات التي أعدها المستخدم إلى الواجهة الخلفية ، تمت إضافة سمتين تحتويان على عنوان URL للواجهة الخلفية لجهاز التحكم الذي يقوم بالمعالجة وطريقة تسليم HTTP <br><br>  ونتيجة لذلك ، للتواصل بين الأمام والخلف ، حصلنا على json مع الأقسام التالية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://..."</span></span>, <span class="hljs-attr"><span class="hljs-attr">"method"</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"errors"</span></span>:{}, <span class="hljs-attr"><span class="hljs-attr">"schema"</span></span>:{}, <span class="hljs-attr"><span class="hljs-attr">"formData"</span></span>:{}, <span class="hljs-attr"><span class="hljs-attr">"uiSchema"</span></span>:{} }</code> </pre><br>  ولكن كيف يتم إنشاء هذه البيانات على الواجهة الخلفية؟  في وقت إنشاء النظام ، لم تكن هناك مكتبات جاهزة تسمح لك بتحويل نموذج Symfony إلى مخطط JSON.  لقد ظهروا الآن بالفعل ، ولكن لديهم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">عيوبهم</a> - على سبيل المثال ، يفسر <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LiformBundle</a> مخطط JSON بحرية كبيرة ويغير المعيار وفقًا لتقديره ، لذلك ، لسوء الحظ ، كان علي كتابة التنفيذ الخاص بي. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يتم</a> استخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نموذج Symfony</a> القياسي كأساس للجيل.  يكفي استخدام الباني وإضافة الحقول الضرورية: <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مثال على النموذج</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$builder -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, TextType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.title'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.title'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, TextareaType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.description'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.description'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, ChoiceType::class, [ <span class="hljs-string"><span class="hljs-string">'choices'</span></span> =&gt; range(<span class="hljs-number"><span class="hljs-number">1981</span></span>, <span class="hljs-number"><span class="hljs-number">1990</span></span>), <span class="hljs-string"><span class="hljs-string">'choice_label'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $val; }, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.year'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.year'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'genre'</span></span>, ChoiceType::class, [ <span class="hljs-string"><span class="hljs-string">'choices'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'fantasy'</span></span>, <span class="hljs-string"><span class="hljs-string">'thriller'</span></span>, <span class="hljs-string"><span class="hljs-string">'comedy'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'choice_label'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'genre.choice.'</span></span>.$val; }, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.genre'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.genre'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'available'</span></span>, CheckboxType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.available'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.available'</span></span>, ], ]);</code> </pre><br></div></div><br>  عند الإخراج ، يتم تحويل هذا النموذج إلى دائرة من النموذج: <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مثال JsonSchema</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"//localhost/create.json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"method"</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"schema"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-attr"><span class="hljs-attr">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.title"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.description"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"year"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1981"</span></span>, <span class="hljs-string"><span class="hljs-string">"1982"</span></span>, <span class="hljs-string"><span class="hljs-string">"1983"</span></span>, <span class="hljs-string"><span class="hljs-string">"1984"</span></span>, <span class="hljs-string"><span class="hljs-string">"1985"</span></span>, <span class="hljs-string"><span class="hljs-string">"1986"</span></span>, <span class="hljs-string"><span class="hljs-string">"1987"</span></span>, <span class="hljs-string"><span class="hljs-string">"1988"</span></span>, <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1981"</span></span>, <span class="hljs-string"><span class="hljs-string">"1982"</span></span>, <span class="hljs-string"><span class="hljs-string">"1983"</span></span>, <span class="hljs-string"><span class="hljs-string">"1984"</span></span>, <span class="hljs-string"><span class="hljs-string">"1985"</span></span>, <span class="hljs-string"><span class="hljs-string">"1986"</span></span>, <span class="hljs-string"><span class="hljs-string">"1987"</span></span>, <span class="hljs-string"><span class="hljs-string">"1988"</span></span>, <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.year"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"genre.choice.fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"available"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.available"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>, <span class="hljs-string"><span class="hljs-string">"available"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"formData"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"year"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"uiSchema"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.title"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"text"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.description"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"textarea"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"year"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.year"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.genre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"available"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.available"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"mainForm"</span></span> } }</code> </pre><br></div></div><br>  يتم إغلاق جميع الرموز التي تحول النماذج إلى JSON ويتم استخدامها فقط في مجموعة Rambler Group ، إذا كان المجتمع مهتمًا بهذا الموضوع ، فسنقوم بإعادة تشكيله بتنسيق الحزم في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مستودع github الخاص</a> بنا. <br><br>  دعونا نلقي نظرة على بعض الجوانب الأخرى التي بدونها يصعب إنشاء تطبيق ويب حديث: <br><br><h3 style=";text-align:right;direction:rtl">  التحقق من صحة الحقل </h3><br>  يتم تعيينه باستخدام <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مدقق symfony</a> ، الذي يصف قواعد التحقق من كائن ما ، مثال على المدقق: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"title"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">constraint</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Length"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"min"</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"max"</span></span></span><span class="hljs-tag">&gt;</span></span>255<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"minMessage"</span></span></span><span class="hljs-tag">&gt;</span></span>title.min<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"maxMessage"</span></span></span><span class="hljs-tag">&gt;</span></span>title.max<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">constraint</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"NotBlank"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"message"</span></span></span><span class="hljs-tag">&gt;</span></span>title.not_blank<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">option</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">constraint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  في هذا المثال ، تقوم قيود من نوع NotBlank بتعديل النظام عن طريق إضافة حقل إلى مصفوفة الحقول المطلوبة للمخطط ، ويضيف قيد من نوع Length السمات السمات-&gt; الخصائص-&gt; title-&gt; maxLength والمخطط-&gt; الخصائص-&gt; title-&gt; minLength ، التي يجب أن تأخذها عملية التحقق بالفعل في الاعتبار في الواجهة الأمامية. <br><br><h3 style=";text-align:right;direction:rtl">  عناصر التجميع </h3><br>  في الحياة الواقعية ، تكون الأشكال البسيطة على الأرجح استثناء للقاعدة.  على سبيل المثال ، قد يحتوي المشروع على نموذج يحتوي على عدد كبير من الحقول وإعطاء كل شيء في قائمة صلبة ليس الخيار الأفضل - يجب أن نهتم بمستخدمي تطبيقنا: <br><img src="https://habrastorage.org/webt/ez/wo/w3/ezwow3h3t7sgngwhcujbv-b93vw.png"><br>  القرار الواضح هو تقسيم النموذج إلى مجموعات منطقية من عناصر التحكم بحيث يسهل على المستخدم التنقل وارتكاب أخطاء أقل: <br><img src="https://habrastorage.org/webt/o3/z2/w-/o3z2w-uxh-gqpzd1sjsynspzltu.png"><br>  كما تعلمون ، فإن قدرات نموذج Symfony خارج الصندوق كبيرة جدًا - على سبيل المثال ، يمكن وراثة النماذج من أشكال أخرى ، وهذا مناسب ، ولكن في حالتنا هناك عيوب.  في التنفيذ الحالي ، يحدد الترتيب في مخطط JSON الترتيب الذي يتم فيه رسم عنصر النموذج في المتصفح ، وقد ينتهك الميراث هذا الطلب.  كان أحد الخيارات هو تجميع العناصر ، على سبيل المثال: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مثال على النموذج المتداخل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$info = $builder -&gt;create(<span class="hljs-string"><span class="hljs-string">'info'</span></span>,FormType::class,[<span class="hljs-string"><span class="hljs-string">'inherit_data'</span></span>=&gt;<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'title'</span></span>, TextType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.title'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.title'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'description'</span></span>, TextareaType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.description'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.description'</span></span>, ], ]); $builder -&gt;add($info) -&gt;add(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, ChoiceType::class, [ <span class="hljs-string"><span class="hljs-string">'choices'</span></span> =&gt; range(<span class="hljs-number"><span class="hljs-number">1981</span></span>, <span class="hljs-number"><span class="hljs-number">1990</span></span>), <span class="hljs-string"><span class="hljs-string">'choice_label'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $val; }, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.year'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.year'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'genre'</span></span>, ChoiceType::class, [ <span class="hljs-string"><span class="hljs-string">'choices'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'fantasy'</span></span>, <span class="hljs-string"><span class="hljs-string">'thriller'</span></span>, <span class="hljs-string"><span class="hljs-string">'comedy'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'choice_label'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'genre.choice.'</span></span>.$val; }, <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.genre'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.genre'</span></span>, ], ]) -&gt;add(<span class="hljs-string"><span class="hljs-string">'available'</span></span>, CheckboxType::class, [ <span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'label.available'</span></span>, <span class="hljs-string"><span class="hljs-string">'attr'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title.available'</span></span>, ], ]);</code> </pre><br></div></div><br>  سيتم تحويل هذا النموذج إلى دائرة من النموذج: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مثال متداخل JsonSchema</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"schema"</span></span>: { <span class="hljs-string"><span class="hljs-string">"properties"</span></span>: { <span class="hljs-string"><span class="hljs-string">"info"</span></span>: { <span class="hljs-string"><span class="hljs-string">"properties"</span></span>: { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.title"</span></span> }, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.description"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1981"</span></span>, <span class="hljs-string"><span class="hljs-string">"1982"</span></span>, <span class="hljs-string"><span class="hljs-string">"1983"</span></span>, <span class="hljs-string"><span class="hljs-string">"1984"</span></span>, <span class="hljs-string"><span class="hljs-string">"1985"</span></span>, <span class="hljs-string"><span class="hljs-string">"1986"</span></span>, <span class="hljs-string"><span class="hljs-string">"1987"</span></span>, <span class="hljs-string"><span class="hljs-string">"1988"</span></span>, <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-string"><span class="hljs-string">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1981"</span></span>, <span class="hljs-string"><span class="hljs-string">"1982"</span></span>, <span class="hljs-string"><span class="hljs-string">"1983"</span></span>, <span class="hljs-string"><span class="hljs-string">"1984"</span></span>, <span class="hljs-string"><span class="hljs-string">"1985"</span></span>, <span class="hljs-string"><span class="hljs-string">"1986"</span></span>, <span class="hljs-string"><span class="hljs-string">"1987"</span></span>, <span class="hljs-string"><span class="hljs-string">"1988"</span></span>, <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.year"</span></span> }, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> ], <span class="hljs-string"><span class="hljs-string">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"genre.choice.fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.comedy"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> }, <span class="hljs-string"><span class="hljs-string">"available"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.available"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"info"</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>, <span class="hljs-string"><span class="hljs-string">"available"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }</code> </pre><br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">و uiSchema المقابلة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"uiSchema"</span></span>: { <span class="hljs-string"><span class="hljs-string">"info"</span></span>: { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.title"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"text"</span></span> }, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.description"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"textarea"</span></span> }, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"form"</span></span> }, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.year"</span></span> }, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.genre"</span></span> }, <span class="hljs-string"><span class="hljs-string">"available"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.available"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span> }, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"group"</span></span> }</code> </pre><br></div></div><br>  لم تلائمنا طريقة التجميع هذه نظرًا لأن نموذج البيانات يبدأ في الاعتماد على العرض التقديمي ولا يمكن استخدامه ، على سبيل المثال ، في واجهة برمجة التطبيقات أو النماذج الأخرى.  تقرر استخدام معلمات إضافية في uiSchema دون كسر معيار JSON Schema القياسي.  ونتيجة لذلك ، تمت إضافة خيارات إضافية من النوع التالي إلى نموذج السمفونية: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'fieldset'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'groups'</span></span> =&gt; [ [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'base'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'info'</span></span>, <span class="hljs-string"><span class="hljs-string">'fields'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span>, <span class="hljs-string"><span class="hljs-string">'description'</span></span>], <span class="hljs-string"><span class="hljs-string">'order'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span>, <span class="hljs-string"><span class="hljs-string">'description'</span></span>] ] ], <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'base'</span></span> ]</code> </pre><br>  سيتم تحويل هذا إلى المخطط التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"ui:group"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"base"</span></span>, <span class="hljs-string"><span class="hljs-string">"groups"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"group"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"info"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"legend.info"</span></span>, <span class="hljs-string"><span class="hljs-string">"fields"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> ], <span class="hljs-string"><span class="hljs-string">"order"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> ] } ], <span class="hljs-string"><span class="hljs-string">"order"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"info"</span></span> ] },</code> </pre><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">النسخة الكاملة من المخطط و uiSchema</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"schema"</span></span>: { <span class="hljs-string"><span class="hljs-string">"properties"</span></span>: { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: { <span class="hljs-string"><span class="hljs-string">"maxLength"</span></span>: <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-string"><span class="hljs-string">"minLength"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.title"</span></span> }, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.description"</span></span> }, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-string"><span class="hljs-string">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"1989"</span></span>, <span class="hljs-string"><span class="hljs-string">"1990"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.year"</span></span> }, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> ], <span class="hljs-string"><span class="hljs-string">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"genre.choice.fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.comedy"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> }, <span class="hljs-string"><span class="hljs-string">"available"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"boolean"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.available"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"required"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>, <span class="hljs-string"><span class="hljs-string">"year"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>, <span class="hljs-string"><span class="hljs-string">"available"</span></span> ], <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"uiSchema"</span></span>: { <span class="hljs-string"><span class="hljs-string">"title"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.title"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"text"</span></span> }, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.description"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"textarea"</span></span> }, <span class="hljs-string"><span class="hljs-string">"year"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.year"</span></span> }, <span class="hljs-string"><span class="hljs-string">"genre"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.genre"</span></span> }, <span class="hljs-string"><span class="hljs-string">"available"</span></span>: { <span class="hljs-string"><span class="hljs-string">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.available"</span></span>, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span> }, <span class="hljs-string"><span class="hljs-string">"ui:group"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"base"</span></span>, <span class="hljs-string"><span class="hljs-string">"groups"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"group"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"info"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"legend.info"</span></span>, <span class="hljs-string"><span class="hljs-string">"fields"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> ], <span class="hljs-string"><span class="hljs-string">"order"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"title"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span> ] } ], <span class="hljs-string"><span class="hljs-string">"order"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"info"</span></span> ] }, <span class="hljs-string"><span class="hljs-string">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"fieldset"</span></span> }</code> </pre><br></div></div><br>  نظرًا لأن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مكتبة React التي نستخدمها</a> في الواجهة الأمامية لا تدعم هذا من خارج الصندوق ، كان علي أن أضيف هذه الوظيفة بأنفسنا.  مع إضافة عنصر جديد "ui: group" نحصل على فرصة التحكم الكامل في عملية تجميع العناصر والنماذج باستخدام واجهة برمجة التطبيقات الحالية. <br><br><h3 style=";text-align:right;direction:rtl">  أشكال ديناميكية </h3><br>  ماذا لو كان أحد الحقول يعتمد على حقل آخر ، على سبيل المثال ، قائمة منسدلة من الفئات الفرعية تعتمد على الفئة المحددة؟ <br><br><img src="https://habrastorage.org/webt/4p/6c/-t/4p6c-tgimotfkxkvhfrvglduxlw.gif"><br><br>  يمنحنا Symfony FORM الفرصة لإنشاء <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نماذج ديناميكية</a> بمساعدة الأحداث ، ولكن للأسف ، في وقت التنفيذ ، لم تكن هذه الميزة مدعومة من JSON Schema ، على الرغم من ظهور <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هذه الميزة</a> في الإصدارات الأخيرة.  في البداية ، كانت الفكرة هي إعطاء القائمة بالكامل لكائن Enum و EnumNames ، بناءً على تصفية القيم: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"genre.choice.fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sgenre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"eccentric"</span></span>, <span class="hljs-string"><span class="hljs-string">"romantic"</span></span>, <span class="hljs-string"><span class="hljs-string">"grotesque"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"sgenre.choice.eccentric"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"sgenre.choice.romantic"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"sgenre.choice.grotesque"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }</code> </pre><br>  ولكن مع هذا النهج ، من الضروري لكل عنصر من هذا النوع كتابة معالجته الخاصة على الواجهة الأمامية ، ناهيك عن حقيقة أن كل شيء يصبح معقدًا للغاية عندما يكون هناك العديد من هذه العناصر أو يعتمد عنصر واحد على عدة قوائم.  بالإضافة إلى ذلك ، فإن كمية البيانات المرسلة إلى الواجهة الأمامية تنمو بشكل كبير من أجل المعالجة الصحيحة وتقديم جميع التبعيات.  على سبيل المثال ، تخيل رسمًا يتكون من ثلاثة حقول مترابطة - البلدان والمدن والشوارع.  يمكن أن يزعج مقدار البيانات الأولية التي يجب إرسالها إلى الواجهة الخلفية إلى الواجهة العملاء الرقيقين ، وكما تتذكر ، يجب علينا رعاية مستخدمينا.  لذلك ، تقرر تنفيذ الديناميكيات بإضافة سمات مخصصة: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  SchemaID - سمة من سمات النظام ، تحتوي على عنوان وحدة التحكم لمعالجة FormData التي تم إدخالها حاليًا وتحديث مخطط النموذج الحالي ، إذا لزم الأمر منطق الأعمال ؛ </li><li style=";text-align:right;direction:rtl">  إعادة تحميل - سمة تخبر الواجهة الأمامية أن التغيير في هذا المجال يبدأ تحديثًا للدائرة عن طريق إرسال بيانات النموذج إلى الواجهة الخلفية ؛ </li></ul><br>  قد يبدو وجود <i>SchemaID</i> بمثابة تكرار - بعد كل شيء ، هناك سمة <i>إجراء</i> ، ولكن هنا نتحدث عن تقسيم المسؤولية - وحدة تحكم <i>SchemaID</i> مسؤولة عن التحديث المتوسط <i>للمخطط</i> و <i>UISchema</i> ، وتقوم وحدة التحكم <i>بالإجراء</i> بإجراء العمل الضروري - على سبيل المثال ، إنشاء أو تحديث كائن ولا تسمح بإرسال جزء من النموذج كما تنتج عمليات التحقق من الصحة. مع هذه الإضافات ، يبدأ المخطط في الظهور بالشكل التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"schemaId"</span></span>: <span class="hljs-string"><span class="hljs-string">"//localhost/schema.json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"properties"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"genre.choice.fantasy"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.thriller"</span></span>, <span class="hljs-string"><span class="hljs-string">"genre.choice.comedy"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.genre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sgenre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"enum"</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">"enumNames"</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"label.sgenre"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"uiSchema"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"genre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:options"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"reload"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.genre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"sgenre"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ui:help"</span></span>: <span class="hljs-string"><span class="hljs-string">"title.sgenre"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ui:widget"</span></span>: <span class="hljs-string"><span class="hljs-string">"mainForm"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"object"</span></span> }</code> </pre><br>  في حالة تغيير حقل "النوع" ، ترسل الواجهة الأمامية النموذج بالكامل مع البيانات الحالية إلى الواجهة الخلفية ، وتتلقى استجابةً مجموعة من الأقسام اللازمة لعرض النموذج: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">{ <span class="hljs-attribute"><span class="hljs-attribute">action</span></span>: “https://...”, method: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>, schema:{} <span class="hljs-selector-tag"><span class="hljs-selector-tag">formData</span></span>:{} <span class="hljs-selector-tag"><span class="hljs-selector-tag">uiSchema</span></span>:{} }</code> </pre><br>  وتقديمه بدلاً من النموذج الحالي.  ما سيتم تغييره بالضبط بعد الإرسال يتم تحديده من الخلف ، قد يتغير تكوين أو عدد الحقول ، إلخ.  - أي تغيير يتطلبه منطق العمل في التطبيق. <br><br><h3 style=";text-align:right;direction:rtl">  الخلاصة </h3><br>  نظرًا للتمديد الصغير للنهج القياسي ، حصلنا على عدد من الميزات الإضافية التي تسمح لنا بالتحكم الكامل في تشكيل وسلوك مكونات التفاعل الأمامية ، وبناء دوائر ديناميكية استنادًا إلى منطق الأعمال ، ولديها نقطة واحدة لتشكيل قواعد التحقق ، والقدرة على إنشاء أجزاء VIEW جديدة بسرعة ومرونة - على سبيل المثال ، المحمول أو سطح المكتب التطبيقات.  عند الدخول في مثل هذه التجارب الجريئة ، تحتاج إلى تذكر المعيار الذي تعمل على أساسه والحفاظ على التوافق مع ذلك.  بدلاً من React ، يمكن استخدام أي مكتبة أخرى على الواجهة الأمامية ، والشيء الرئيسي هو كتابة محول النقل إلى مخطط JSON وتوصيل بعض مكتبة تقديم النماذج.  عمل Bootstrap بشكل جيد مع React لأن لدينا خبرة في العمل مع مجموعة التكنولوجيا هذه ، لكن النهج الذي تحدثنا عنه لا يحد من اختيارك للتقنيات.  بدلاً من Symfony ، قد يكون هناك أيضًا أي إطار عمل آخر يسمح لك بتحويل النماذج إلى تنسيق JSON Schema. <br><br>  تحديث: يمكنك مشاهدة تقريرنا عن لقاء <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Symfony Moscow Meetup # 14</a> حول هذا من 1:15:00. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar417023/">https://habr.com/ru/post/ar417023/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar417009/index.html">كيفية تطبيق تكنولوجيا تعلُم الآلة في عملك</a></li>
<li><a href="../ar417011/index.html">أفضل 10 مشاريع بلوكتشين جديدة لعام 2018 - فوربس</a></li>
<li><a href="../ar417013/index.html">"كثبان الرمال" في بلوتو ليست مصنوعة من الرمل - هذه حبيبات من الميثان المجمد</a></li>
<li><a href="../ar417015/index.html">نحن نفهم ما يسجل وما لا يسجل تطبيق برجر كنج</a></li>
<li><a href="../ar417017/index.html">كيف ولدت تجربة نووية فاشلة عن طريق الفلك النيوترينو عن طريق الخطأ</a></li>
<li><a href="../ar417027/index.html">كيف كتبت مكتبة C ++ 11 القياسية أو لماذا يكون التعزيز مخيفًا جدًا. مقدمة</a></li>
<li><a href="../ar417029/index.html">التنميط رمز مع LLVM</a></li>
<li><a href="../ar417031/index.html">أمان OAuth 2.0 للأجهزة المحمولة</a></li>
<li><a href="../ar417033/index.html">QIWI Kitchen في 7 يونيو - فيديو لخطب المتحدثين</a></li>
<li><a href="../ar417035/index.html">UnnyWorld: بعد الوفاة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>