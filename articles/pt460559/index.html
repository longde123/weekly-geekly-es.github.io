<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåâ üçï üßñüèª Os dez mandamentos dos componentes de rea√ß√£o ü¶é üçü üëºüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Escrito por Kristofer Selbekk , em colabora√ß√£o com Caroline Odden . Com base em uma palestra com o mesmo nome e com as mesmas pessoas na reuni√£o React...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Os dez mandamentos dos componentes de rea√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460559/"><p><img src="https://habrastorage.org/getpro/habr/post_images/adf/1cf/5da/adf1cf5da0c04102046e8b6e8c12322e.jpg" alt="os mandamentos de 10 componentes"></p><br><blockquote>  Escrito por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Kristofer Selbekk</a> , em colabora√ß√£o com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Caroline Odden</a> .  Com base em uma palestra com o mesmo nome e com as mesmas pessoas na reuni√£o ReactJS em Oslo em junho de 2019. </blockquote><p>  <em>Do tradutor - o nome original de <strong>Os 10 Mandamentos dos Componentes</strong> n√£o menciona React, mas a maioria dos exemplos e recomenda√ß√µes se relaciona especificamente √† rea√ß√£o. Al√©m disso, o artigo √© apresentado sob a tag react e os desenvolvedores escreveram a rea√ß√£o</em> . </p><br><p>  N√£o √© f√°cil criar componentes que muitos desenvolvedores usar√£o.  Voc√™ deve considerar cuidadosamente quais objetos usar se esses objetos fizerem parte da API p√∫blica. </p><br><p> Neste artigo, faremos uma breve introdu√ß√£o a algumas das melhores pr√°ticas para o desenvolvimento da API como um todo, al√©m de formar <strong>dez mandamentos</strong> que voc√™ pode usar para criar componentes que seus colegas desenvolvedores ter√£o prazer em usar. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eb9/35b/750/eb935b750f7a08ad9116ecd5a115f81e.jpg" alt="api"></p><br><h2 id="chto-takoe-api">  O que √© uma API? </h2><br><p>  Uma API - ou interface de programa√ß√£o de aplicativos - √© onde dois peda√ßos de c√≥digo se encontram.  Essa √© a superf√≠cie de contato entre <em>seu c√≥digo</em> e o resto do mundo.  Chamamos essa superf√≠cie de interface.  Este √© um conjunto espec√≠fico de a√ß√µes ou pontos de dados com os quais voc√™ pode interagir. </p><br><p>  A interface entre a classe e o c√≥digo que chama essa classe tamb√©m √© uma API.  Voc√™ pode chamar os m√©todos da classe para receber dados ou executar as fun√ß√µes inclu√≠das nele. </p><br><p>  Seguindo o mesmo princ√≠pio, os <strong>props que seu componente aceita, essa √© sua API</strong> .  √â assim que os desenvolvedores interagem com seu componente. </p><br><h2 id="nekotorye-luchshie-praktiki-proektirovaniya-api">  Algumas pr√°ticas recomendadas de design de API </h2><br><p>  Ent√£o, quais regras e considera√ß√µes se aplicam ao desenvolver uma API?  Bem, fizemos uma pequena pesquisa e constatamos que existem muitos recursos excelentes sobre esse assunto.  Escolhemos dois - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Josh Tauberer</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">"O que faz uma boa API?"</a>  e um artigo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Ron Kurir com o mesmo t√≠tulo</a> - e chegou a essas quatro pr√°ticas. </p><br><h3 id="stabilnye-versii">  Vers√µes est√°veis </h3><br><p>  Uma das coisas mais importantes a considerar ao criar uma API √© mant√™-la o mais est√°vel poss√≠vel.  O n√∫mero de mudan√ßas cr√≠ticas deve ser m√≠nimo.  Se voc√™ precisar fazer altera√ß√µes cr√≠ticas, escreva guias de atualiza√ß√£o detalhados e, se poss√≠vel, escreva um c√≥digo mod que automatize esse processo para os desenvolvedores. </p><br><h3 id="opisatelnye-soobscheniya-ob-oshibkah">  Mensagens de erro descritivas </h3><br><p>  Sempre que ocorrer um erro ao chamar sua API, voc√™ deve fazer todo o poss√≠vel para explicar o que deu errado e como corrigi-lo.  Se voc√™ censurar o usu√°rio com mensagens como "uso indevido" e n√£o fornecer nenhuma explica√ß√£o, sua API deixar√° uma m√° impress√£o. </p><br><p>  Em vez disso, escreva erros descritivos que ajudam o usu√°rio a corrigir como eles usam sua API. </p><br><h3 id="minimizirovat-syurprizy-dlya-razrabotchikov">  Minimize surpresas para desenvolvedores </h3><br><p>  Os desenvolvedores s√£o criaturas fr√°geis e voc√™ n√£o deve assust√°-los quando usarem sua API.  Em outras palavras, torne sua API o mais intuitiva poss√≠vel.  Voc√™ conseguir√° isso se seguir as pr√°ticas recomendadas e as conven√ß√µes de nomenclatura existentes. </p><br><p> Al√©m disso, seu c√≥digo deve sempre ser consistente.  Se voc√™ usar os nomes l√≥gicos das propriedades com <code>is</code> ou <code>has</code> em um local, mas ignor√°-los ainda mais, isso confundir√° as pessoas. </p><br><h3 id="minimizirovat-poverhnost-api">  Minimizar a superf√≠cie da API </h3><br><p>  Sua API tamb√©m precisa ser minimizada.  Muitos recursos s√£o √≥timos, mas quanto menor a superf√≠cie da sua API (superf√≠cie da API), menos desenvolvedores precisar√£o estud√°-la para come√ßar a trabalhar produtivamente com ela.  Gra√ßas a isso, sua API ser√° percebida como f√°cil de usar! </p><br><p>  Sempre existe uma maneira de controlar o tamanho das suas APIs.  Um deles √© refatorar a nova API da antiga. </p><br><h2 id="desyat-zapovedey-dlya-veb-komponentov">  Os dez mandamentos para componentes da Web </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/15e/2c7/33c/15e2c733cf1d3b5e5916c17692a6df5a.jpg" alt="Os 10 mandamentos componentes"></p><br><p>  Portanto, essas quatro regras de ouro funcionam bem para a API REST e para as antigas partes processuais do Pascal - mas como transferi-las para o mundo moderno do React? </p><br><p>  Como dissemos anteriormente, os componentes t√™m sua pr√≥pria API.  N√≥s os chamamos de <code>props</code> e √© com a ajuda deles que os dados s√£o transferidos para os componentes.  Como estruturamos adere√ßos para n√£o violar nenhuma das regras acima? </p><br><p>  Criamos esta lista de <strong>dez regras de ouro</strong> que s√£o melhor seguidas ao criar seus componentes.  Esperamos que eles sejam √∫teis para voc√™. </p><br><h3 id="1-dokumentiruyte-ispolzovanie-komponentov">  1. Documente o uso de componentes </h3><br><p>  Se a maneira como voc√™ deseja usar seu componente n√£o estiver documentada, esse componente ser√° in√∫til.  Bem, quase in√∫til, voc√™ sempre pode olhar para sua implementa√ß√£o, mas poucas pessoas gostam de fazer isso. </p><br><p>  Existem v√°rias maneiras de documentar seus componentes, mas recomendamos que voc√™ preste aten√ß√£o a estes tr√™s: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Livro de hist√≥rias</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Styleguidist</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Docz</a> </li></ul><br><p>  Os dois primeiros oferecem um local para voc√™ trabalhar no desenvolvimento de seus componentes, e o terceiro permite que voc√™ escreva a documenta√ß√£o de forma livre usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">MDX</a> </p><br><p>  N√£o importa o que voc√™ escolher, sempre documente a API em si e <strong>como e quando seus componentes devem ser usados</strong> .  A √∫ltima parte √© cr√≠tica nas bibliotecas de uso geral - para as pessoas usarem corretamente um bot√£o ou grade de layout em um determinado contexto. </p><br><h3 id="2-razreshite-kontekstnuyu-semantiku">  2. Ativar sem√¢ntica contextual </h3><br><p>  HTML √© uma linguagem para estruturar informa√ß√µes de maneira sem√¢ntica.  Somente aqui, a maioria dos nossos componentes consiste em tags <code>&lt;div /&gt;</code> .  Isso faz sentido - componentes universais n√£o podem saber antecipadamente o que ser√£o, talvez <code>&lt;article /&gt;</code> , ou <code>&lt;section /&gt;</code> ou <code>&lt;aside /&gt;</code> - mas essa situa√ß√£o est√° longe de ser ideal. </p><br><p>  H√° outra op√ß√£o: deixe seus componentes aceitarem prop <code>as</code> e, assim, determine qual elemento DOM ser√° renderizado.  Aqui est√° um exemplo de como implementar isso: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Grid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ as: Element, ...props }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Element</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"grid"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> } Grid.defaultProps = { as: 'div', };</span></span></code> </pre> <br><p>  Renomeamos prop <code>as</code> √† vari√°vel <code>Element</code> e a usamos em nosso JSX.  Fornecemos um valor <code>div</code> padr√£o comum se n√£o tivermos uma tag HTML mais sem√¢ntica para passar. </p><br><p>  Quando chegar a hora de usar o componente <code>&lt;Grid /&gt;</code> , voc√™ pode simplesmente passar a tag correta: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">MoreContent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  Isso tamb√©m funciona com os componentes React.  Por exemplo, se voc√™ deseja que o componente <code>&lt;Button /&gt;</code> renderize o <code>&lt;Link /&gt;</code> do React Router: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Link}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/profile"</span></span></span><span class="hljs-tag">&gt;</span></span> Go to Profile <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="3-izbegayte-logicheskih-boolean-propsov">  3. Evite adere√ßos booleanos </h3><br><p>  Adere√ßos l√≥gicos s√£o uma boa ideia.  Eles podem ser usados ‚Äã‚Äãsem valor, por isso parece muito elegante: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag">&gt;</span></span>BUY NOW!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Mas, embora pare√ßa bom, as propriedades l√≥gicas permitem apenas duas possibilidades.  Ativado ou desativado  Vis√≠vel ou oculto.  1 ou 0. </p><br><p>  Sempre que voc√™ come√ßa a introduzir propriedades l√≥gicas para itens como tamanho, op√ß√µes, cores ou qualquer outra coisa que n√£o seja uma op√ß√£o bin√°ria, voc√™ tem problemas. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">small</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">primary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secondary</span></span></span><span class="hljs-tag">&gt;</span></span>   ?? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Em outras palavras, as propriedades l√≥gicas geralmente n√£o se adaptam √†s mudan√ßas nos requisitos.  Em vez disso, para valores que podem se tornar algo diferente de uma sele√ß√£o bin√°ria, √© melhor usar valores enumerados, como seq√º√™ncias de caracteres. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">variant</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"large"</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Isso n√£o significa que propriedades l√≥gicas n√£o possam ser usadas.  Voc√™ pode!  O suporte <code>disabled</code> , que listei acima, ainda deve ser l√≥gico - porque n√£o h√° estado intermedi√°rio entre ativado e desativado.  Apenas deixe as propriedades booleanas apenas para uma escolha verdadeiramente bin√°ria. </p><br><h3 id="4-ispolzuyte-propschildren">  4. Use <code>props.children</code> </h3><br><p>  O React possui algumas propriedades especiais que s√£o tratadas de maneira diferente das outras.  Uma dessas <code>key</code> √© necess√°ria para rastrear a ordem dos itens da lista.  E outro desses objetos especiais s√£o as <code>children</code> . </p><br><p>  Tudo o que voc√™ coloca entre a tag de abertura e fechamento do componente √© colocado dentro do <code>props.children</code> .  E voc√™ deve usar isso o mais r√°pido poss√≠vel. </p><br><p>  Porque  Porque √© muito mais f√°cil do que ter <code>content</code> prop para conte√∫do ou algo parecido que normalmente usa apenas valores simples, como texto. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some text"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span>Some text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Existem v√°rias vantagens em usar <code>props.children</code> .  Em primeiro lugar, isso √© semelhante ao funcionamento do HTML comum.  Em segundo lugar, voc√™ pode transferir livremente o que quiser!  Em vez de adicionar adere√ßos como <code>leftIcon</code> e <code>rightIcon</code> ao seu componente - apenas passe-os como parte do <code>props.children</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImportantIcon</span></span></span><span class="hljs-tag"> /&gt;</span></span> Some text <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Voc√™ pode argumentar que seu componente s√≥ precisa renderizar texto sem formata√ß√£o e, em alguns casos, √©.  At√© algum ponto.  Usando <code>props.children</code> , voc√™ garante que sua API estar√° pronta para alterar os requisitos. </p><br><h3 id="5-pozvolte-roditelyu-ceplyatsya-za-vnutrennyuyu-logiku">  5. Deixe o pai se apegar √† l√≥gica interna </h3><br><p>  √Äs vezes, criamos componentes com muita l√≥gica e estados internos - por exemplo, diagramas de preenchimento autom√°tico ou interativo. </p><br><p>  Esses componentes geralmente sofrem de APIs excessivas, uma das raz√µes para isso √© o grande n√∫mero de casos de uso diferentes que se acumulam com o desenvolvimento do projeto. </p><br><p>  Mas e se pud√©ssemos fornecer um suporte √∫nico e padronizado que permita ao desenvolvedor controlar, responder ou simplesmente alterar o comportamento padr√£o do componente? </p><br><p>  Kent Dodds escreveu um excelente artigo sobre o conceito de redutores de estado.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Aqui est√° um artigo sobre o pr√≥prio conceito</a> e tamb√©m um artigo sobre como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">implementar isso para ganchos do React</a> . </p><br><p>  Em resumo, esse √© um padr√£o de transfer√™ncia de fun√ß√£o de redutor de estado para o seu componente, o que permitir√° ao desenvolvedor acessar todas as a√ß√µes executadas dentro do seu componente.  Voc√™ pode mudar de estado ou at√© causar efeitos colaterais.  Essa √© uma √≥tima maneira de fornecer um <strong>alto n√≠vel de personaliza√ß√£o, sem adere√ßos</strong> . </p><br><p>  Aqui est√° o que pode parecer: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyCustomDropdown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stateReducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === Dropdown.actions.CLOSE) { buttonRef.current.focus(); } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;Dropdown stateReducer={stateReducer} {...props} /&gt; &lt;Button ref={buttonRef}&gt;Open&lt;/Button&gt; &lt;/&gt; }</code> </pre> <br><p>  A prop√≥sito, voc√™ pode criar maneiras mais simples de responder a eventos.  O uso do <code>onClose</code> no exemplo anterior provavelmente tornar√° o uso do componente mais conveniente.  Use o padr√£o "redutor de estado" quando necess√°rio. </p><br><h3 id="6-ispolzuyte-operator-troetochie-spread-dlya-ostavshihsya-propsov">  6. Use o operador de propaga√ß√£o para os demais adere√ßos </h3><br><p>  Cada vez que voc√™ cria um novo componente, aplique as retic√™ncias aos objetos restantes e envie-as ao elemento para o qual isso faz sentido. </p><br><p>  Voc√™ n√£o precisa continuar adicionando acess√≥rios ao seu componente, que simplesmente ser√° passado para o componente ou elemento base.  Isso tornar√° sua API mais est√°vel, eliminando a necessidade de muitos erros de vers√£o pequena quando o pr√≥ximo desenvolvedor precisar de um novo ouvinte de evento ou tag ARIA. </p><br><p>  Voc√™ pode fazer assim: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ isVisible, ...rest }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isVisible ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...rest</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> : null; }</span></span></code> </pre> <br><p>  Sempre que seu componente passa prop para sua implementa√ß√£o, como um nome de classe ou manipulador <code>onClick</code> , verifique se outro desenvolvedor pode fazer o mesmo.  No caso de uma classe, voc√™ pode simplesmente adicionar a classe prop usando a conveniente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">biblioteca de nomes de classe npm</a> (ou apenas concatena√ß√£o de cadeias): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classNames <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'classnames'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classNames(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">)} /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><p>  No caso de manipuladores de clique e outros retornos de chamada, voc√™ pode combin√°-los em uma fun√ß√£o usando um pequeno utilit√°rio.  Aqui est√° uma maneira de fazer isso: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...functions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) =&gt;</span></span> functions .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> func === <span class="hljs-string"><span class="hljs-string">'function'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> func(...args)); }</code> </pre> <br><p>  Aqui, criamos uma fun√ß√£o que aceita uma lista de fun√ß√µes para combin√°-las.  Ele retorna um novo retorno de chamada, que chama todos eles por sua vez, com os mesmos argumentos. </p><br><p>  Esta fun√ß√£o pode ser usada desta maneira: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isVisible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;span {...props} className={classNames(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'tooltip'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, props.className</span></span></span><span class="hljs-function">)} </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onMouseIn</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>), props.onMouseIn)} onMouseOut={combine(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), props.onMouseOut)} /&gt; ); }</code> </pre> <br><h3 id="7-ispolzuyte-znacheniya-po-umolchaniyu">  7. Use os valores padr√£o </h3><br><p>  Certifique-se de fornecer padr√µes suficientes (padr√µes) aos seus acess√≥rios.  Assim, voc√™ reduzir√° o n√∫mero de adere√ßos obrigat√≥rios.  Isso simplificar√° bastante sua API. </p><br><p>  Pegue, por exemplo, o manipulador <code>onClick</code> .  Se o seu c√≥digo n√£o precisar desse manipulador, use a fun√ß√£o vazia (fun√ß√£o noop) como o suporte padr√£o.  Dessa forma, voc√™ pode cham√°-lo em seu c√≥digo como se sempre fosse passado. </p><br><p>  Outro exemplo pode ser a entrada do usu√°rio.  Suponha que a sequ√™ncia de entrada seja uma sequ√™ncia vazia, a menos que especificado de outra forma.  Isso permitir√° que voc√™ sempre lide com um objeto string, n√£o com algo indefinido ou nulo. </p><br><h3 id="8-ne-nado-pereimenovyvat-atributy-html">  8. N√£o h√° necessidade de renomear atributos HTML </h3><br><p>  O HTML como idioma possui seus pr√≥prios props - ou atributos, e ele pr√≥prio √© uma API para elementos HTML.  Ent√£o, por que n√£o continuar usando esta API? </p><br><p>  Como mencionamos anteriormente, minimizar a superf√≠cie da API e sua intuitividade s√£o m√©todos √∫teis para melhorar a API de seus componentes.  Ent√£o, em vez de criar seu pr√≥prio suporte <code>screenReaderLabel</code> , por que n√£o usar apenas um <code>aria-label</code> existente? </p><br><p>  <strong>Evite renomear quaisquer atributos HTML existentes</strong> para sua pr√≥pria "facilidade de uso".  Voc√™ nem substitui a API existente - basta adicionar a sua pr√≥pria sobre ela.  As pessoas ainda podem passar o <code>aria-label</code> da <code>aria-label</code> junto com o <code>screenReaderLabel</code> screenReaderLabel - e qual deve ser o valor final? </p><br><p>  Al√©m disso, nunca substitua os atributos HTML em seus componentes.  Um √≥timo exemplo √© o atributo <code>type</code> do elemento <code>&lt;button /&gt;</code> .  Pode ser <code>submit</code> (padr√£o), <code>button</code> ou <code>reset</code> .  No entanto, muitos desenvolvedores redefinem esse suporte para indicar o tipo visual do bot√£o ( <code>primary</code> , <code>cta</code> etc.). </p><br><p>  Se voc√™ usar esse suporte, precisar√° adicionar uma substitui√ß√£o para o atributo true <code>type</code> .  Isso levar√° a confus√£o, d√∫vida e aborrecimento por parte dos desenvolvedores. </p><br><p>  Acredite em mim - cometi esse erro repetidamente - se voc√™ o cometer, ter√° que desembara√ß√°-lo por um longo tempo. </p><br><h3 id="9-pishite-tipy-propsov-ili-prosto-tipy">  9. Escreva os tipos de adere√ßos (ou apenas os tipos) </h3><br><p>  Nenhuma documenta√ß√£o ser√° t√£o boa quanto a documenta√ß√£o que est√° dentro do seu c√≥digo.  O React vem com uma √≥tima maneira de declarar suas APIs usando o pacote <code>prop-types</code> .  Use-o. </p><br><p>  Voc√™ pode especificar quaisquer requisitos de formato para seus acess√≥rios obrigat√≥rios e opcionais e pode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">aprimor√°-</a> los com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">coment√°rios do JSDoc</a> . </p><br><p>  Se voc√™ n√£o especificar um suporte obrigat√≥rio ou passar um valor inv√°lido ou inesperado, em tempo de execu√ß√£o, voc√™ receber√° um aviso no console.  Isso ajuda muito durante o desenvolvimento e pode ser removido da produ√ß√£o. </p><br><p>  Se voc√™ escreve seus aplicativos React no TypeScript ou usa o Flow, obt√©m a documenta√ß√£o da API como uma fun√ß√£o de linguagem.  Isso aprimora ainda mais o suporte das ferramentas de desenvolvimento e simplifica o trabalho. </p><br><p>  Se voc√™ mesmo n√£o usar JavaScript digitado, considere fornecer defini√ß√µes de tipo para os desenvolvedores que o usam.  Ent√£o ser√° muito mais f√°cil eles usarem seus componentes. </p><br><h3 id="10-proektiruyte-dlya-razrabotchikov">  10. Design para desenvolvedores </h3><br><p>  Finalmente, a regra mais importante a seguir.  Verifique se sua API e o trabalho com seus componentes est√£o otimizados para desenvolvedores que a usar√£o. </p><br><p>  Uma maneira de simplificar o trabalho de um desenvolvedor √© fornecer feedback sobre o uso inadequado.  Fa√ßa isso com mensagens de erro e tamb√©m, mas apenas durante o desenvolvimento, com avisos de que existem maneiras mais eficientes de usar seu componente. </p><br><p>  Ao escrever erros e avisos, forne√ßa links para sua documenta√ß√£o ou mostre exemplos simples de c√≥digo.  Quanto mais r√°pido o desenvolvedor entender qual √© o problema e como corrigi-lo, mais conveniente ser√° o seu componente para o trabalho. </p><br><p>  Incrivelmente, mas, como se viu, a presen√ßa de todos esses avisos de erro longos n√£o afeta o tamanho do pacote final.  Gra√ßas aos milagres de eliminar o c√≥digo morto, todo esse texto e c√≥digo de erro podem ser removidos durante a montagem na produ√ß√£o. </p><br><p>  Uma das bibliotecas que fornece um feedback incrivelmente bom √© o pr√≥prio React.  N√£o importa se voc√™ esqueceu de especificar a chave para os itens da lista, ou se escreveu o m√©todo do ciclo de vida incorretamente, ou se esqueceu de estender a classe base ou chamou o gancho de maneira incerta - em qualquer caso, voc√™ receber√° grandes e grossas mensagens de erro no console.  Por que os desenvolvedores que usam seus componentes esperam menos de voc√™? </p><br><p>  Ent√£o, crie para seus futuros usu√°rios.  Projete para si mesmo a partir do futuro.  Projete para os infelizes que ter√£o que manter seu c√≥digo quando voc√™ sair!  Design para desenvolvedores. </p><br><h3 id="itogo">  Total </h3><br><p>  Podemos aprender muito com a abordagem cl√°ssica da API.  Seguindo as dicas, truques, regras e mandamentos deste artigo, voc√™ pode criar componentes f√°ceis de usar, f√°ceis de manter, intuitivos e, se necess√°rio, muito flex√≠veis. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt460559/">https://habr.com/ru/post/pt460559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt460547/index.html">Antiguidades: Psion 5MX e Vida Aposentada</a></li>
<li><a href="../pt460551/index.html">Portugal As melhores praias e mil startups por ano</a></li>
<li><a href="../pt460553/index.html">Tecnologia, terceiriza√ß√£o e mentalidade: como implementamos o Microsoft Dynamics 365 no escrit√≥rio alem√£o da Lamoda</a></li>
<li><a href="../pt460555/index.html">Relat√≥rio do PyDaCon meetup no Mail.ru Group, 22 de junho</a></li>
<li><a href="../pt460557/index.html">Uma sele√ß√£o de exemplos de trabalho de processamento de dados</a></li>
<li><a href="../pt460561/index.html">Como desenvolver outro jogo de plataformas usando o Unity. Outro tutorial, parte 2</a></li>
<li><a href="../pt460565/index.html">Batalha pela conta. Fundador da rede Jeffrey's Coffee processa a VKontakte</a></li>
<li><a href="../pt460567/index.html">React Native: fa√ßa uma lista arrast√°vel e desliz√°vel</a></li>
<li><a href="../pt460569/index.html">Software de grava√ß√£o com a funcionalidade dos utilit√°rios cliente-servidor Windows, parte 01</a></li>
<li><a href="../pt460573/index.html">O Google afirma que "reCAPTCHA" n√£o abuse dos dados do usu√°rio. Vale a pena acreditar?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>