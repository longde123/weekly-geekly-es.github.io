<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èÆÔ∏è üë≠ üë©üèæ‚Äç‚öñÔ∏è Toute la v√©rit√© sur RTOS. Article # 11. T√¢ches: configuration et introduction √† l'API üå≤ üß§ üçö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le concept de probl√®me a √©t√© pr√©sent√© dans les articles pr√©c√©dents. En substance, une t√¢che est simplement un ensemble de valeurs qui peuvent √™tre cha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Toute la v√©rit√© sur RTOS. Article # 11. T√¢ches: configuration et introduction √† l'API</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424481/"><img src="https://habrastorage.org/webt/0c/3i/wg/0c3iwgjkuq1yriusgd5f_doplxs.jpeg"><br><br>  Le concept de probl√®me a √©t√© pr√©sent√© dans les articles pr√©c√©dents.  En substance, une t√¢che est simplement un ensemble de valeurs qui peuvent √™tre charg√©es dans les registres du processeur (pour la t√¢che en cours d'ex√©cution) ou peuvent √™tre stock√©es dans un √©tat pr√™t pour une commutation contextuelle vers une t√¢che √† l'avenir.  Le plus souvent, une t√¢che a sa propre pile. <br><a name="habracut"></a><br>  Bien s√ªr, lorsque vous utilisez le planificateur Run to Completion (RTC), le changement de contexte n'est pas utilis√© et la t√¢che peut √™tre consid√©r√©e uniquement comme la valeur du compteur de programme (point d'entr√©e de code). <br><br>  La d√©finition de la t√¢che n'inclut pas le code lui-m√™me.  La t√¢che doit ex√©cuter le code, mais il ne lui appartient pas.  Les t√¢ches peuvent avoir des fonctions communes.  De plus, tout le code de plusieurs t√¢ches peut √™tre partag√©.  Le code g√©n√©ral devrait presque toujours √™tre √©crit en fonction des exigences r√©entrantes.  La plupart des compilateurs peuvent facilement g√©rer ce code, mais il faut faire attention aux fonctions de biblioth√®que, car elles peuvent ne pas convenir aux applications multit√¢ches. <br><br>  Une telle d√©finition dicte certaines r√®gles qui doivent √™tre suivies lors du d√©veloppement des structures de donn√©es des t√¢ches et des fonctions API d√©crites dans cet article.  Je passerai en revue la configuration des t√¢ches dans Nucleus SE et commencerai un aper√ßu d√©taill√© des appels de service (appels API) qui s'appliquent aux t√¢ches dans Nucleus SE et Nucleus RTOS. <br><br>  Articles pr√©c√©dents de la s√©rie: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scheduler: fonctionnalit√©s avanc√©es et pr√©servation du contexte</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scheduler: impl√©mentation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nucleus SE: conception interne et d√©ploiement</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nucleus SE: Introduction</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Autres services RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Interaction et synchronisation des t√¢ches</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">T√¢ches, changement de contexte et interruptions</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">T√¢ches et planification</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RTOS: Structure et mode temps r√©el</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article # 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RTOS: introduction.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a> <br><h2>  Configuration des t√¢ches </h2><br><h3>  Nombre de t√¢ches </h3><br>  Dans Nucleus SE, la configuration des t√¢ches est principalement pilot√©e par les directives <b>#define</b> dans <b>nuse_config.h</b> .  Le param√®tre cl√© <b>NUSE_TASK_NUMBER</b> d√©termine le nombre de t√¢ches pouvant √™tre configur√©es dans l'application.  La valeur par d√©faut est 1 (c'est-√†-dire une t√¢che pendant l'ex√©cution) et la valeur maximale du param√®tre est 16. Une valeur incorrecte entra√Ænera une erreur de compilation, qui sera g√©n√©r√©e en <b>archivant nuse_config_chech.h</b> (elle est incluse dans <b>nuse_config.c</b> , ce qui signifie compil√© avec ce module), la directive <b>#error</b> se <b>d√©clenchera</b> .  Ce param√®tre est utilis√© pour d√©terminer les structures de donn√©es; leur taille d√©pend de sa valeur. <br><br>  Dans Nucleus SE, sauf lors de l'utilisation du planificateur RTC, il est essentiel qu'au moins une t√¢che soit toujours pr√™te √† √™tre ex√©cut√©e.  Lorsque vous utilisez le planificateur de priorit√©, vous devez vous assurer que la t√¢che avec la priorit√© la plus basse ne sera jamais suspendue, une telle t√¢che doit √™tre consid√©r√©e comme une "t√¢che d'arri√®re-plan". <br><br>  Contrairement √† certains autres c≈ìurs en temps r√©el, Nucleus SE n'utilise pas de ¬´t√¢ches syst√®me¬ª, ce qui signifie que les 16 t√¢ches sont disponibles pour le code d'application utilisateur ou le middleware. <br><br><h3>  Param√®tres API </h3><br>  Chaque fonction API (appel d'utilitaire) dans Nucleus SE est activ√©e par la directive <b>#define</b> dans <b>nuse_config.h</b> .  Pour les t√¢ches, ces param√®tres sont: <br><br><ul><li>  <b>NUSE_TASK_SUSPEND</b> </li><li>  <b>NUSE_TASK_RESUME</b> </li><li>  <b>NUSE_TASK_SLEEP</b> </li><li>  <b>NUSE_TASK_RELINQUISH</b> </li><li>  <b>NUSE_TASK_CURRENT</b> </li><li>  <b>NUSE_TASK_CHECK_STACK</b> </li><li>  <b>NUSE_TASK_RESET</b> </li><li>  <b>NUSE_TASK_INFORMATION</b> </li><li>  <b>NUSE_TASK_COUNT</b> </li></ul><br>  Par d√©faut, tous les param√®tres ci-dessus sont d√©finis sur <b>FALSE</b> , d√©sactivant ainsi chaque appel de service et emp√™chant l'inclusion de tout code qui les impl√©mente.  Pour configurer les t√¢ches de l'application, vous devez s√©lectionner les appels d'API n√©cessaires et d√©finir les caract√®res correspondants sur <b>TRUE</b> . <br><br>  Voici un <b>extrait</b> du fichier <b>nuse_config.h</b> par d√©faut. <br><br><img src="https://habrastorage.org/webt/6d/oe/s_/6does_k3iu5pvaa2r49h9lxw1tq.png"><br><br>  Si votre code utilise un appel d'API qui n'a pas √©t√© activ√©, une erreur appara√Ætra lors de la liaison car le code d'impl√©mentation n'√©tait pas inclus dans l'application. <br><br><h3>  Param√®tres fonctionnels </h3><br>  Nucleus SE peut ajouter des fonctionnalit√©s de t√¢che.  Et encore une fois, les param√®tres n√©cessaires sont dans le fichier <b>nuse_config.h</b> : <br><br>  <b>NUSE_SUSPEND_ENABLE vous</b> permet de suspendre des t√¢ches.  Si cette option n'est pas s√©lectionn√©e, toutes les t√¢ches attendent constamment la planification.  L'activation de ce param√®tre est requise lors de l'utilisation du planificateur de priorit√©. <br><br>  <b>NUSE_BLOCKING_ENABLE vous</b> permet de suspendre des t√¢ches √† plusieurs appels d'API de fonction.  Si cette option est activ√©e, <b>NUSE_SUSPEND_ENABLE</b> doit √©galement √™tre activ√©. <br><br>  <b>NUSE_INITIAL_TASK_STATE_SUPPORT vous</b> permet de d√©finir l'√©tat initial de la t√¢che.  Si cette option n'est pas s√©lectionn√©e, toutes les t√¢ches seront ajout√©es au planificateur imm√©diatement apr√®s la cr√©ation. <br><br><h2>  Appels de t√¢ches utilitaires </h2><br>  Nucleus RTOS prend en charge 16 appels de service (API) pour travailler avec des t√¢ches qui offrent les fonctionnalit√©s suivantes: <br><br><table><tbody><tr><th>  <b>Description fonctionnelle</b> </th><th>  <b>Nucleus RTOS</b> </th><th>  <b>Nucleus SE</b> </th></tr><tr><td>  Suspendre une t√¢che </td><td>  <b>NU_Suspend_Task ()</b> </td><td>  <b>NUSE_Task_Suspend ()</b> </td></tr><tr><td>  Reprendre la t√¢che </td><td>  <b>NU_Resume_Task ()</b> </td><td>  <b>NUSE_Task_Resume ()</b> </td></tr><tr><td>  Suspendre une t√¢che pour un <br>  la p√©riode </td><td>  <b>NU_Sleep ()</b> </td><td>  <b>NUSE_Task_Sleep ()</b> </td></tr><tr><td>  Version de contr√¥le du processeur </td><td>  <b>NU_Relinquish ()</b> </td><td>  <b>NUSE_Task_Relinquish ()</b> </td></tr><tr><td>  Obtention de l'ID de la t√¢che en cours </td><td>  <b>NU_Current_Task_Pointer ()</b> </td><td>  <b>NUSE_Task_Current ()</b> </td></tr><tr><td>  V√©rification de la taille de pile disponible </td><td>  <b>NU_Check_Stack ()</b> </td><td>  <b>NUSE_Task_Check_Stack ()</b> </td></tr><tr><td>  Rendre la t√¢che inutilis√©e <br>  √©tat (r√©initialisation) </td><td>  <b>NU_Reset_Task ()</b> </td><td>  <b>NUSE_Task_Reset ()</b> </td></tr><tr><td>  Fournir des informations sur une t√¢che sp√©cifique </td><td>  <b>NU_Task_Information ()</b> </td><td>  <b>NUSE_Task_Information ()</b> </td></tr><tr><td>  Obtenir un compteur configur√© <br>  t√¢ches (en ce moment) dans l'application </td><td>  <b>NU_Established_Tasks ()</b> </td><td>  <b>NUSE_Task_Count ()</b> </td></tr><tr><td>  Ajout d'une nouvelle t√¢che √† l'application (cr√©ation) </td><td>  <b>NU_Create_Task ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Suppression d'une t√¢che de l'application </td><td>  <b>NU_Delete_Task ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Retourner des pointeurs vers toutes les t√¢ches <br>  dans l'appli </td><td>  <b>NU_Task_Pointers ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Changer l'algorithme d'extrusion </td><td>  <b>NU_Change_Preemption ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Modifier la priorit√© des t√¢ches </td><td>  <b>NU_Change_Priority ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Modifier le quantum temporel d'une t√¢che </td><td>  <b>NU_Change_Time_Slice ()</b> </td><td>  Non impl√©ment√©. </td></tr><tr><td>  Ach√®vement de la t√¢che </td><td>  <b>NU_Terminate_Task ()</b> </td><td>  Non impl√©ment√©. </td></tr></tbody></table><br>  La mise en ≈ìuvre de chacun des appels de service ci-dessus est discut√©e en d√©tail ci-dessous, ainsi que dans les articles suivants sur RTOS. <br><br><h2>  Services de gestion des t√¢ches </h2><br>  Op√©rations de base avec des t√¢ches: suspendre une t√¢che pour une dur√©e ind√©termin√©e, reprendre, suspendre une t√¢che pour une dur√©e sp√©cifique, lib√©rer le processeur.  Nucleus RTOS et Nucleus SE fournissent quatre appels d'API de base pour effectuer ces op√©rations, que je d√©crirai ci-dessous. <br><br><h3>  Suspendre une t√¢che </h3><br>  Nucleus PLUS fournit un appel API simple qui vous permet de suspendre une t√¢che sp√©cifique ind√©finiment.  Nucleus SE a un appel de bureau avec des fonctionnalit√©s similaires. <br><br>  <i><b>Suspendre une t√¢che dans Nucleus RTOS</b></i> <br>  Prototype d'appel de service: <br>  <b>STATUS NU_Suspend_Task (t√¢che NU_TASK *);</b> <br><br>  Param√®tres: <br>  <b>task</b> - un pointeur vers l'unit√© de contr√¥le de la t√¢che suspendue (qui peut √™tre courante et son ID peut √™tre obtenu en utilisant <b>NU_Current_Task_Pointer ()</b> , plus dans l'article suivant). <br><br>  Valeur de retour: <br>  <b>NU_SUCCESS</b> - l'appel s'est termin√© avec succ√®s; <br>  <b>NU_INVALID_TASK</b> - pointeur non valide vers la t√¢che; <br>  <b>NU_INVALID_SUSPEND</b> - La t√¢che sp√©cifi√©e a le statut <b>NU_FINISHED</b> ou <b>NU_TERMINATED</b> . <br><br>  <i><b>Pause de d√©fi dans Nucleus SE</b></i> <br>  Cet appel d'API prend en charge la fonctionnalit√© principale de l'API Nucleus PLUS. <br><br>  Prototype d'appel de service: <br>  <b>STATUS NUSE_Task_Suspend (t√¢che NUSE_TASK);</b> <br><br>  Param√®tres: <br>  <b>task</b> - l'index (ID) de la t√¢che suspendue (qui peut √™tre en cours, et son ID peut √™tre obtenu en utilisant <b>NUSE_Task_Current ()</b> - plus dans le prochain article). <br><br>  Valeur de retour: <br>  <b>NUSE_SUCCESS</b> - l'appel s'est termin√© avec succ√®s; <br>  <b>NUSE_INVALID_TASK</b> - index de t√¢che non valide. <br><br>  <i><b>Mettre en ≈ìuvre la suspension d'une t√¢che dans Nucleus SE</b></i> <br>  La fonctionnalit√© principale de la fonction API est assez simple: <br><br><img src="https://habrastorage.org/webt/4v/ju/z5/4vjuz5oyjviowrrgcd2gzok4ypg.png"><br><br>  En fait, dans cette impl√©mentation, la fonction de planificateur <b>NUSE_Suspend_Task ()</b> est appel√©e avec le param√®tre ¬´arr√™t inconditionnel¬ª ( <b>NUSE_PURE_SUSPEND</b> ).  Cette fonction appelle le planificateur si la t√¢che suspendue est en cours. <br><br><h3>  Reprendre la t√¢che </h3><br>  Nucleus RTOS fournit un simple appel d'API qui vous permet de reprendre une t√¢che qui √©tait pr√©c√©demment suspendue ind√©finiment.  Nucleus SE a un appel de bureau avec des fonctionnalit√©s similaires. <br><br>  <i><b>T√¢che de reprise de d√©fi dans Nucleus RTOS</b></i> <br>  Prototype d'appel de service: <br>  <b>STATUS NU_Resume_Task (t√¢che NU_TASK *);</b> <br><br>  Param√®tres: <br>  <b>t√¢che</b> - un pointeur vers l'unit√© de contr√¥le de la t√¢che renouvel√©e. <br><br>  Valeur de retour: <br>  <b>NUSE_SUCCESS</b> - l'appel s'est termin√© avec succ√®s; <br>  <b>NUSE_INVALID_TASK</b> - pointeur non valide vers la t√¢che; <br>  <b>NUSE_INVALID_RESUME</b> - La t√¢che n'a pas √©t√© suspendue sans condition. <br><br>  <i><b>T√¢ches de reprise du d√©fi dans Nucleus SE</b></i> <br>  Cet appel d'API prend en charge la fonctionnalit√© principale de l'API Nucleus RTOS. <br><br>  Prototype d'appel de service: <br>  <b>STATUS NUSE_Task_Resume (t√¢che NUSE_TASK);</b> <br><br>  Param√®tres: <br>  <b>task</b> - index (ID) de la t√¢che renouvel√©e. <br><br>  Valeur de retour: <br>  <b>NUSE_SUCCESS</b> - l'appel s'est termin√© avec succ√®s; <br>  <b>NUSE_INVALID_TASK</b> - index de t√¢che non valide; <br>  <b>NUSE_INVALID_RESUME</b> - La t√¢che n'a pas √©t√© suspendue sans condition. <br><br>  <i><b>Impl√©mentation de t√¢ches de reprise dans Nucleus SE</b></i> <br>  La fonctionnalit√© principale de la fonction API est assez simple: <br><br><img src="https://habrastorage.org/webt/8f/ih/al/8fihalzojhb_mn8d26pzyxcvfna.png"><br><br>  En fait, la fonction de planificateur <b>NUSE_Wake_Task ()</b> est appel√©e dans cette impl√©mentation.  Cette fonction appelle le planificateur si le planificateur prioritaire est utilis√© et que la t√¢che renouvel√©e a une priorit√© plus √©lev√©e que la t√¢che actuelle. <br><br><h3>  Suspension d'une t√¢che pendant une p√©riode de temps sp√©cifique </h3><br>  Nucleus RTOS fournit un appel API simple pour suspendre la t√¢che en cours pendant une p√©riode de temps sp√©cifique.  Nucleus SE a un appel de bureau avec des fonctionnalit√©s similaires. <br><br>  <i><b>Appelez les t√¢ches de suspension pendant une p√©riode sp√©cifique Nucleus RTOS</b></i> <br>  Prototype d'appel de service: <br>  <b>VOID NU_Sleep (ticks NON SIGNES);</b> <br><br>  Param√®tres: <br>  <b>ticks</b> - p√©riode pendant laquelle la t√¢che doit √™tre suspendue (en <b>ticks d'</b> horloge en temps r√©el). <br><br>  Valeur de retour: <br>  Non. <br><br>  <i><b>D√©fiez une pause de t√¢che pour une p√©riode sp√©cifique Nucleus SE</b></i> <br>  Cet appel d'API prend en charge la fonctionnalit√© principale de l'API Nucleus RTOS. <br><br>  Prototype d'appel de service: <br>  <b>void NUSE_Task_Sleep (U16 ticks);</b> <br><br>  Param√®tres: <br>  <b>ticks</b> - p√©riode pendant laquelle la t√¢che doit √™tre suspendue (en <b>ticks d'</b> horloge en temps r√©el). <br><br>  Valeur de retour: <br>  Non. <br><br>  <i><b>Impl√©mentation d'une suspension d'une t√¢che pour une p√©riode de temps sp√©cifique dans Nucleus SE</b></i> <br>  La fonctionnalit√© principale de la fonction API est assez simple: <br><br><img src="https://habrastorage.org/webt/xz/_y/fe/xz_yfebb4wdhr7wzxhepfu6j1yy.png"><br><br>  Ce code charge la valeur de retard dans le param√®tre de t√¢che actuel dans <b>NUSE_Task_Timeout_Counter []</b> .  Apr√®s cela, la t√¢che est interrompue √† l'aide de <b>NUSE_Suspend_Task ()</b> avec la p√©riode de suspension ( <b>NUSE_SLEEP_SUSPEND</b> ). <br><br>  La valeur de d√©lai d'attente est utilis√©e par le gestionnaire d'interruption d'horloge en temps r√©el.  Le code est illustr√© ci-dessous et sera discut√© plus en d√©tail dans un prochain article. <br><br><img src="https://habrastorage.org/webt/_r/cu/mw/_rcumw5d8xxuzvdti8qu4qamc-o.png"><br><br><h3>  Version du processeur </h3><br>  Nucleus PLUS fournit un simple appel d'API pour permettre le transfert du contr√¥le du processeur √† l'une des t√¢ches pr√™tes √† ex√©cuter avec la m√™me priorit√© bas√©e sur l'algorithme Round Robin.  Nucleus SE a un appel de bureau avec des fonctionnalit√©s tr√®s similaires.  Cependant, il ne peut pas √™tre utilis√© avec le planificateur de priorit√©s, car plusieurs t√¢ches avec la m√™me priorit√© ne sont pas prises en charge.  Toute tentative d'utilisation de cet appel d'API avec le planificateur de priorit√© entra√Ænera une erreur.  Un appel utilitaire fonctionne avec les planificateurs Round Robin et Time Slice; avec le planificateur Run To Completion, cet appel API est inefficace. <br><br>  <i><b>Appel de lib√©ration du processeur Nucleus RTOS</b></i> <br>  Cet appel d'API prend en charge la fonctionnalit√© principale de l'API Nucleus PLUS. <br><br>  Prototype d'appel de service: <br>  <b>VOID NU_Relinquish (VOID);</b> <br><br>  Param√®tres: <br>  Sont absents. <br><br>  Valeur de retour: <br>  Non. <br><br>  <i><b>Appel de lib√©ration du processeur Nucleus SE</b></i> <br>  Cet appel d'API prend en charge la fonctionnalit√© principale de l'API Nucleus PLUS. <br><br>  Prototype d'appel de service: <br>  <b>void NUSE_Task_Relinquish (void);</b> <br><br>  Param√®tres: <br>  Sont absents. <br><br>  Valeur de retour: <br>  Non. <br><br>  <i><b>Impl√©mentation de la version du processeur Nucleus SE</b></i> <br>  La fonctionnalit√© principale de la fonction API: <br><br><img src="https://habrastorage.org/webt/fd/a_/nk/fda_nkanqupe9wqqkdazlsauuoq.png"><br><br>  Essentiellement, cette impl√©mentation appelle la fonction de planificateur <b>NUSE_Reschedule ()</b> .  Cette fonction indique simplement au planificateur de terminer la t√¢che suivante. <br><br>  Les deux prochains articles continueront de passer en revue les appels d'utilitaires RTOS li√©s aux t√¢ches √† l'aide des exemples Nucleus RTOS et Nucleus SE. <br><br>  <b>√Ä propos de l'auteur:</b> Colin Walls travaille dans l'industrie √©lectronique depuis plus de trente ans, consacrant la majeure partie de son temps au micrologiciel.  Il est maintenant ing√©nieur firmware chez Mentor Embedded (une division de Mentor Graphics).  Colin Walls intervient souvent lors de conf√©rences et s√©minaires, auteur de nombreux articles techniques et de deux livres sur le firmware.  Vit au Royaume-Uni.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blog</a> professionnel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de Colin</a> , e-mail: colin_walls@mentor.com. <br><br>  <b>√Ä propos de la traduction:</b> cette s√©rie d'articles semblait int√©ressante en ce que, malgr√© les approches d√©crites obsol√®tes √† certains endroits, l'auteur pr√©sente au lecteur mal form√© les caract√©ristiques du syst√®me d'exploitation en temps r√©el.  J'appartiens moi-m√™me √† l'√©quipe de cr√©ateurs du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RTOS russe</a> , que nous avons l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">intention de rendre gratuit</a> , et j'esp√®re que le cycle sera utile aux d√©veloppeurs novices. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424481/">https://habr.com/ru/post/fr424481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424465/index.html">Cr√™pes avec ICO sur python ou comment mesurer les personnes et les projets ICO</a></li>
<li><a href="../fr424467/index.html">Antenne de pulv√©risation: miniature, flexible et puissante</a></li>
<li><a href="../fr424471/index.html">L'ind√©pendance financi√®re √† ma fa√ßon</a></li>
<li><a href="../fr424475/index.html">Rapport du Centre de surveillance de la s√©curit√© des informations pour le premier semestre 2018</a></li>
<li><a href="../fr424477/index.html">La disponibilit√© des jeux sur pygame</a></li>
<li><a href="../fr424483/index.html">Accord de 38 milliards de dollars et ses implications: comment Comcast et Disney combattent Amazon et Netflix avec des investissements</a></li>
<li><a href="../fr424485/index.html">SSL Pinning Bypass dans l'application iOS</a></li>
<li><a href="../fr424491/index.html">Cartes d'hexagone Unity: asp√©rit√©s, rivi√®res et routes</a></li>
<li><a href="../fr424495/index.html">Google Chrome ajoutera la possibilit√© de refuser la synchronisation automatique des profils lors de la connexion aux services de l'entreprise *</a></li>
<li><a href="../fr424497/index.html">Arr√™tez de soup√ßonner les d√©veloppeurs d'imposture. Apprenez √† mieux interviewer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>