<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜“ ğŸ’ƒğŸ¾ ğŸ‘¨ğŸ¾â€ğŸ³ GestÃ¤ndnisse eines Testers: Wie ich in einem Konkurrenten IDS stÃ¶berte ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ ã€½ï¸ ğŸŒ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kein sich selbst respektierendes UTM-Netzwerksicherheits-Gateway kann ohne ein Intrusion Detection System (IDS) auskommen. Eine andere Sache ist, dass...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GestÃ¤ndnisse eines Testers: Wie ich in einem Konkurrenten IDS stÃ¶berte</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/smart_soft/blog/421893/">  Kein sich selbst respektierendes UTM-Netzwerksicherheits-Gateway kann ohne ein Intrusion Detection System (IDS) auskommen.  Eine andere Sache ist, dass der Hersteller hÃ¤ufig die Option fÃ¼r ein HÃ¤kchen angibt, um mit der Konkurrenz mithalten zu kÃ¶nnen.  Ich weiÃŸ aus meiner Erfahrung als Tester, wie dies geschieht - es scheint IDS zu geben, aber tatsÃ¤chlich ist es nicht gut.  Als mir angeboten wurde, eine relativ kostengÃ¼nstige UTM-Hardware zu testen, schlug ich daher vor, zunÃ¤chst die OWL zu â€vertreibenâ€œ. <br><br><img src="https://habrastorage.org/webt/om/x9/vb/omx9vbdtha8doiwq72xhixgx1ps.png"><br>  <i>UTM-Teil des Verkehrsinspektors Next Generation S100 und Cisco 2960G Switch</i> <br><br><a name="habracut"></a><br>  Wenn Sie Erfahrung mit IDS haben, ist es interessant, dies in den Kommentaren zum Artikel zu lesen.  Es ist ratsam - nicht Ã¼ber teure Hardware (es ist klar, dass es einigen Cisco NGFW fÃ¼r eine Million gut geht), sondern Ã¼ber LÃ¶sungen, die gÃ¼nstiger sind.  Ich denke, Lokalka-Administratoren und potenzielle Benutzer von Netzwerk-Gateways werden gespannt sein, wer mit IDS arbeitet und ob es sich lohnt, zu einem hohen Preis zu kaufen, wenn Sie nach dem Tanzen mit einem Tamburin dasselbe fÃ¼r weniger Geld erreichen kÃ¶nnen. <br><br>  In diesem Test geht es um das S100-Modell - den gÃ¼nstigsten Preis in der Traffic Inspector Next Generation-Reihe (Zahlen bedeuten, dass es fÃ¼r 100 Teilnehmer ausgelegt ist).  Hier ist ihre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschreibung auf der offiziellen Website &gt;&gt;&gt;</a> .  Kurz gesagt, die Hardware enthÃ¤lt beispielsweise einen Netzwerkfilter, ein VPN, einen Ressourcenblocker und natÃ¼rlich IDS. <br><br>  Ich schlage eine einfache Testmethode vor - wir Ã¼berprÃ¼fen den Durchsatz und bauen die AbhÃ¤ngigkeit der Anzahl verworfener Pakete von der VerkehrsintensitÃ¤t in Schritten von 50, 100, 150 und 200 Mbit / s auf.  Warum machen wir solche Intervalle?  Wir beginnen mit 100 Mbit / s - der beliebtesten Client-Anfrage - und verschieben Plus und Minus, um zu sehen, was in mehr oder weniger geladenen Modi sowie im Extremmodus 200 Mbit / s passiert. <br><br>  Die Lebenserfahrung zeigt mir, dass der S100 bei allen aktiven Regeln mÃ¶glicherweise nicht zieht. Daher empfehle ich, das beschriebene Verfahren in drei Modi auszufÃ¼hren: zuerst, wenn alle Regeln aktiv sind, dann mit ausgeschaltetem Teil der Regeln (nennen wir es Gruppe Nr. 1) und schlieÃŸlich nur, wenn er aktiv ist nur ein paar Regeln (nennen wir es Gruppe Nr. 2).  Wir bilden folgende Regelgruppen: <br><br>  - Gruppe Nr. 0: Nun, das ist verstÃ¤ndlich, alle Regeln ohne Ausnahme. <br>  - Gruppe Nr. 1: Regelgruppe "Emerging Threads" (Ich kenne die Regeln seit dem Testen von IDS Snort, mit Ausnahme der Regeln fÃ¼r Emerging Games). <br>  - Gruppe Nr. 2: Eine Gruppe von Regeln, die ich fÃ¼r IDS als einfach bindend betrachte (siehe unten), einschlieÃŸlich der HinzufÃ¼gung von P2P-Regeln, da ich aus eigener Erfahrung weiÃŸ, wie groÃŸe Unternehmen sich negativ auf die Tatsache auswirken, dass ihre Mitarbeiter Unternehmen aktiv nutzen Netzwerk zum Herunterladen Ihrer Lieblingssendungen. <br><br>  Das Testen ist mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogramm tcpreplay mÃ¶glich</a> .  Mit diesem Dienstprogramm kÃ¶nnen Sie aufgezeichneten Netzwerkverkehr mit einer bestimmten Geschwindigkeit wiedergeben.  Befehl: <b>tcpreplay â€“i &lt;Schnittstelle&gt; -l 0 testTI.pcap</b> .  Die Datei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">testTI.pcap</a> enthÃ¤lt 1 146 313 Pakete (wir wÃ¤hlen ein solches Volume so, dass einerseits gute Statistiken vorliegen, andererseits die Zeit zum â€AusfÃ¼hrenâ€œ nicht zu lang wÃ¤re, in unserem Fall nicht mehr als 15 Minuten).  DarÃ¼ber hinaus starten wir, wie gesagt, einen Torrent-Tracker. <br><br>  PrÃ¼fstandslayout: <br><br><img src="https://habrastorage.org/webt/bx/b-/qr/bxb-qrz2b5eaz-jhjihskbabadq.png"><br><br>  Wenn jemand Fragen zur Testmethode hat, bin ich bereit, diese in den Kommentaren zu beantworten. <br><br>  Also die Ergebnisse. <br><br>  <b>Gruppe 0</b> <br><br>  Beim Testen eines vollstÃ¤ndigen Satzes werden alle Regeln geladen, von denen 30 bis 305 vorhanden sind. <br><br>  Beim Testen verwenden wir die Standard-IDS-Einstellungen: <br><br><img src="https://habrastorage.org/webt/kl/2b/w9/kl2bw9dxrpimxfk_7lpbjzzen_i.png"><br><br>  Wir beginnen mit 100 Mbit / s zu testen und verstehen, dass das StÃ¼ck Eisen kaum ziehen kann: Von 114.000 Paketen werden 109.000 weggeworfen!  Es macht also keinen Sinn, bei 150 und noch mehr bei 200 Mb / s zu testen.  Im Gegenteil, ich schlage vor, dem GerÃ¤t eine Chance zu geben und einen zusÃ¤tzlichen Test mit 10 Mb / s durchzufÃ¼hren.  Das Ergebnis in der Tabelle: <br><br><img src="https://habrastorage.org/webt/vp/sx/it/vpsxitlg8-miyc34mch3w_r4v2m.png"><br><br>  Hinweis: <br><br>  kernel_packets - gesendete Pakete; <br>  kernel_drops - verworfene Pakete.  Wie Sie sehen kÃ¶nnen, treten bei Standardeinstellungen und einem vollstÃ¤ndigen Regelsatz groÃŸe Paketverluste auf (&gt; 30% im Vergleich zu kernel_packets).  Hoffen wir, dass die Optimierung der Regeln fÃ¼r Einstellungen die Situation Ã¤ndert. <br>  decoder_packets - die Anzahl der Pakete, die das System korrekt verarbeitet hat; <br>  detect_alerts - Anzahl der erkannten Angriffe.  Der GroÃŸteil der Angriffe ist vom Typ Fragmented Package, es wurden jedoch auch die Torrent Tracker Detection-Angriffe identifiziert. <br><br>  <b>Gruppennummer 1</b> <br><br>  Offensichtlich ist die Hardware nicht fÃ¼r die Verwendung als vollwertiges, leistungsstarkes IDS optimiert, aber es gibt Handlungsspielraum, nÃ¤mlich die MÃ¶glichkeit, den Suchmechanismus fÃ¼r Routen zu Ã¤ndern, den Download von Paketinhalten (Nutzdaten) zu deaktivieren und Regelgruppen und bestimmte Paketgruppen zu deaktivieren.  Ein kleines Experimentieren mit den Einstellungen - und wir kommen zu der Option, die ich in der folgenden Abbildung vorstelle. <br><br><img src="https://habrastorage.org/webt/df/l_/hb/dfl_hbxxcotwty1uf6bfmzwrs6i.jpeg"><br><br>  Die Liste der aktiven Regeln, die wir verlassen: <br><br><img src="https://habrastorage.org/webt/a4/nv/ls/a4nvls33gssilc3plyf-kgatbt8.png"><br><br>  Testergebnis: <br><br><img src="https://habrastorage.org/webt/ek/tq/6p/ektq6poxykowllmgy2xtbcnwehi.png"><br><br>  Wie Sie sehen, hat sich das Bild mit dieser Regelgruppe erheblich verbessert (der Prozentsatz der verworfenen Pakete hat sich mehrmals verringert).  Ein Angriff wie "Erkennen eines Torrent-Trackers" wurde erfolgreich erkannt ("Fragmentierte Paket" -Angriffe wurden nicht mehr angezeigt). <br><br>  <b>Gruppennummer 2</b> <br><br>  Die Einstellungen sind gleich.  Liste der aktiven Regeln: <br><br><img src="https://habrastorage.org/webt/vi/g3/rd/vig3rdsn16jezodfjmaiavvymh8.png"><br><br>  Das Ergebnis in der Tabelle: <br><br><img src="https://habrastorage.org/webt/dc/yw/8a/dcyw8ak_y7bhtj0a3uqyz3lmiu0.png"><br>  <i>Hier ist das Bild der Bearbeitung von Paketen noch besser, was zu erwarten ist.</i> <br><br>  <b>Zusammenfassung</b> <br><br>  Die endgÃ¼ltige Ergebnistabelle, ausgedrÃ¼ckt als Prozentsatz von kernel_drops relativ zu kernel_packets, ist unten dargestellt: <br><br><img src="https://habrastorage.org/webt/pl/fi/j9/plfij9pmoyi6nllbdkjzjquxlcu.png"><br><br>  Grafisch ist das Ergebnis wie folgt: <br><br><img src="https://habrastorage.org/webt/n6/ig/7b/n6ig7bt4vdkfeiyftkivflro9k8.png"><br><br>  Wie Sie sehen, wirkt sich die Anzahl der aktiven Regeln und Einstellungen direkt auf die Effizienz aus.  Es ist nicht sinnvoll, die Einstellungen auf das Maximum und alle Regeln gleichzeitig einzuschalten - die Verluste gehen sogar um 10 Mb / s sofort aus dem Rahmen.  In optimierten Modi fÃ¼hlt sich die Hardware bis zu 100 Mbit / s normal an, aber die Verluste nehmen bei intensiverem Datenverkehr stark zu.  FÃ¼r die Verwendung im BÃ¼ro reichen jedoch 100 Mbit / s aus.  Wenn Sie das GerÃ¤t mit dieser Geschwindigkeit fahren und die Regeln auswÃ¤hlen, kÃ¶nnen Sie ein recht zufriedenstellendes IDS erzielen. <br><br>  Um alle Regeln nutzen zu kÃ¶nnen, sind mÃ¶glicherweise Verbesserungen erforderlich, um den pf_ring-Mechanismus (https://www.ntop.org/products/packet-capture/pf_ring/) als Mechanismus zum Ãœbertragen eines Pakets aus dem Netzwerkschnittstellenpuffer in den Benutzerbereich zu verwenden.  Um dies zu tun, mÃ¼ssen Sie mehrere Instanzen von Suricata verwenden, die natÃ¼rlich Ressourcen aus anderen Prozessen beanspruchen, aber vielleicht ist das Spiel die Kerze wert. <br><br>  Ich wiederhole, dass meiner Meinung nach der Hauptzweck des getesteten GerÃ¤ts eine Firewall ist und die IDS-Option eine Hilfsoption ist.  Ehrlich gesagt war ich bereit fÃ¼r die Tatsache, dass die Hardware ausfallen wird.  Es stellte sich heraus, dass mit einer gewissen Guttawahrnehmung des Systemadministrators das Intrusion Detection-System im S100 voll funktionsfÃ¤hig ist. <br><br>  PS Wie oben erwÃ¤hnt, fordere ich die Leser auf, Ã¼ber ihre Erfahrungen mit der Verwendung von IDS in relativ kostengÃ¼nstigen LÃ¶sungen zu schreiben. <br><br>  Der PPS-Test wird im Konto des Herstellers verÃ¶ffentlicht, da ich mich nicht selbst "glÃ¤nzen" mÃ¶chte.  Trotzdem bin ich bereit, alle Fragen und Debatten in den Kommentaren zu beantworten, aber auch nicht in meinem eigenen Namen :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421893/">https://habr.com/ru/post/de421893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421879/index.html">BottomAppBar-Implementierung. Teil 1: Materialkomponenten fÃ¼r Android</a></li>
<li><a href="../de421883/index.html">Videoberichte von CocoaHeads @ FunCorp mitap</a></li>
<li><a href="../de421887/index.html">Die Verzeichnisstruktur fÃ¼r das Projekt (insbesondere auf Flask)</a></li>
<li><a href="../de421889/index.html">Skillbox Friday Webinare: Entwicklung fÃ¼r AnfÃ¤nger</a></li>
<li><a href="../de421891/index.html">Hintergrund: 4-tÃ¤gige Arbeitswoche - eine echte Chance oder eine Fantasie?</a></li>
<li><a href="../de421895/index.html">Stoppen Sie die Entwicklung von Software mit einem gewissen Spielraum</a></li>
<li><a href="../de421897/index.html">Red Hogwarts. Serie 10. Studenten - Metallurge</a></li>
<li><a href="../de421899/index.html">Tester's Way: Wo fange ich an, Automatisierung zu lernen?</a></li>
<li><a href="../de421901/index.html">Versuchen Sie nicht, die Probleme von morgen vorherzusagen</a></li>
<li><a href="../de421903/index.html">TiKV - verteilte SchlÃ¼sselwertdatenbank fÃ¼r Cloud Native</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>