<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦆 🆒 👲🏿 AWS EC2服务并与其一起使用 📖 👩‍🏫 🚯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好 下周， Cloud Services课程的课程将开始。 我们提请您注意公开课程 “ AWS EC2-service”的简要介绍。 该课程由拥有10多年经验的云服务老师兼专家Egor Zuev主持。 在本研讨会中，我们回顾了AWS EC2服务，对简单的应用程序进行了编码和部署，提出了数据库，还...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AWS EC2服务并与其一起使用</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/468185/"><img src="https://habrastorage.org/webt/m1/vo/xg/m1voxgo_gmovaheysc3t0h2wqau.jpeg"><br><br> 大家好 下周， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cloud Services</a>课程的课程将开始。 我们提请您注意<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">公开课程</a> “ AWS EC2-service”的简要介绍。 该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">课程</a>由拥有10多年经验的云服务老师兼专家<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Egor Zuev</a>主持。 在本研讨会中，我们回顾了AWS EC2服务，对简单的应用程序进行了编码和部署，提出了数据库，还研究了映像复制和负载平衡器。 <br><br><hr><a name="habracut"></a><br><h3>  AWS EC2服务概述 </h3><br>  EC2（弹性计算云）是一项通过向虚拟机/物理机提供操作系统（例如，Ubuntu，Debian，Windows）的预创建映像来提供计算能力的服务。 <br><br> 可供选择<b>的实例类型</b> ： <br><br><img src="https://habrastorage.org/webt/bw/zt/j0/bwztj0kneamjnxr-ycqjg_gmqum.jpeg"><br><br> 对于映像，AWS EC2使用AMI（Amazon机器映像），这也是EC2实例将使用的预构建操作系统的映像。 最接近的类比是具有已安装系统的虚拟磁盘，例如在Virtual Box中。 <br><br> 重要的是要知道，当我们配置机器并选择映像时，我们将需要配置访问权限。 由于该机器将位于云中，因此我们和其他用户将需要接触到它。 为此，请配置安全组-一组规则（策略），该组规则适用于EC2实例，并包括传入和传出流量的权限。 <br><br><h3> 使用控制台 </h3><br> 注册服务后，您将立即被带到AWS EC2控制台。 在这里，您可以选择EC2以及我们将在其上部署所有内容的计算机的类型。 在我们的例子中，选择Ubuntu Server。 <br><br><img src="https://habrastorage.org/webt/di/vs/rg/divsrgl9vgy0rgi6qqsls2-dqea.jpeg"><br><br><img src="https://habrastorage.org/webt/lg/_e/zn/lg_ezntccszfsrh47bs7awmjqiu.jpeg"><br><br><img src="https://habrastorage.org/webt/4z/5b/zk/4z5bzknko_tukythl12qyrelzrw.jpeg"><br><br>  <b>要点</b> ：在第2步，我们对<b>t2micro</b> （标有绿色标签）感兴趣， <b>因为</b>其他所有费用都将支付。 <br><br> 在接下来的三个步骤中，我们保留默认设置，但是应该特别注意步骤6。 在这里，您需要输入组的名称，例如backend-security-group，然后立即添加规则，以便只有第80个端口可以与外界连接。 <br><br><img src="https://habrastorage.org/webt/z4/xf/uj/z4xfujcizt6if-4g6thoile9b84.jpeg"><br><br> 在第七步中，单击启动并启动实例。 但是在此之前，系统会要求您创建一个用于通过ssh连接的密钥。 完成所有步骤后，需要1-2分钟进行初始化。 <br><br> 创建的实例称为后端。 <br><br><img src="https://habrastorage.org/webt/sa/vo/ia/savoiaistvztm5lvxpqecbzjeyu.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关设置的详细视频</a> 。 <br><br><h3> 连接方式 </h3><br> 如果有人忘记了连接的复杂性，该服务将立即告知您： <br><br><img src="https://habrastorage.org/webt/hd/mo/oi/hdmooiygkq3uffpscvbyjivte18.jpeg"><br><br> 您可以使用单独的程序来连接，例如，Bitvise SSH客户端-一种非常方便的工具。 <br><br> 机器立即具有公用和专用IP地址。 我们使用public来访问我们所驱动的机器，并通过ssh对其进行访问。 我们将ubuntu写为用户名，然后导入创建的密钥。 剩下的就是开车登录。 顺便说一下，我们将从根目录下执行所有操作，以输入要键入<b>sudo su</b>命令的内容。 <br><br><img src="https://habrastorage.org/webt/de/ct/pl/dectplezl4mxzti9fzlzrwmbujs.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">连接详细信息。</a> <br><br><h3> 我们连接数据库 </h3><br> 作为数据库，决定使用PostgreSQL。 要继续，请使用以下设置创建一个新实例： <br><br><ul><li> 在大小列中放入16 GB（步骤4）； </li><li> 安全组名称称为数据库安全组（步骤6）； </li><li> 通过从子列表中选择PostgreSQL（步骤6）在配置中添加规则。 </li></ul> 顺便说一句，在这里的IP地址字段中，您可以驱动安全组，在本例中，我们讨论的是backend-security-group。 因此，属于该组的每个人都可以访问专用网络上的数据库。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里，</a>您可以聆听此专用网络的魔力。 <br><br> 结果，我们在控制台中获得了两个实例-后端和数据库。 <br><br><img src="https://habrastorage.org/webt/vr/-4/do/vr-4do6xcadvd-ret8wmbwbiq-o.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">数据库连接详细信息。</a> <br><br><h3> 我们创建并部署应用程序 </h3><br> 使用WebStorm和Node.js创建一个新项目。 我们的任务是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">编写一个</a>仅做两件事<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>简单应用程序-响应ping并计算到特定端点的请求请求数，并相应地发出该请求。 <br><br> 我们将分两个阶段<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部署</a>应用程序。 要进行部署，请转到一台称为后端的计算机，进行更新，安装Node.js，进行git clone，安装库。 <br><br> 接下来，我们<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提高基础</a> 。 请注意，Node和Postgres在不同的机器上工作。 关键时刻-通过公共地址<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">连接</a>到应用程序。 万岁，一切正常！ <br><br><img src="https://habrastorage.org/webt/mi/yg/37/miyg37sbwljohvsjs1pz5cqfcb0.jpeg"><br><br> 下一步是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">创建</a> <b>我们自己的AMI映像</b> ，该<b>映像</b>将可供我们使用。 基于此AMI映像，我们可以复制我们的后端，然后单击两次即可对其进行部署。 为此，请转到“图像”-“创建图像”。 <br><br><img src="https://habrastorage.org/webt/iz/jn/rk/izjnrklscqwwzdegbttl_i4fed4.jpeg"><br><br> 创建图像后， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们进行</a>必要的设置。 选项很少：例如，您需要指定硬盘的最小大小。 我们正在谈论快照的大小，也就是说，实际上，快照将从安装了所有内容的硬盘驱动器中删除。 可以说AMI是一个虚拟实体，由安装了OS的图像和快照设置组成（在我们的示例中，是安装了Node.js的OS和应用程序）。 <br><br>  <b>重要的一点</b> ：创建快照大约需要五分钟，在此期间机器将处于保留状态（图像“比较混乱”，保留的时间越长）。 <br><br> 让我们命名图像，例如<b>backend-ami</b> 。 名称显示在这里： <br><br><img src="https://habrastorage.org/webt/e0/wx/xl/e0wxxldzdvjv6-fhghklxmfmfa0.jpeg"><br><br> 创建映像后，我们只需单击几下即可复制它并获得计算机的相同副本。 并且不单独连接机器，而是通过<b>负载平衡器连接</b> 。 有几种平衡器可供选择，它们的平衡算法不同。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设置</a>选定的平衡器不会造成困难，尽管需要记住一些<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">细微差别</a> 。 <br><br><img src="https://habrastorage.org/webt/kn/bx/zo/knbxzoyudaox4flm4vpyeps6hys.jpeg"><br><br><h3> 价格模型 </h3><br>  AWS EC2提供4种价格模型。 下面的屏幕快照包含对其中三个的描述：预留，现货市场和按需。 顺便说一句，在公开课中，我们使用了按需模型。 <br><br><img src="https://habrastorage.org/webt/zl/l8/03/zll803tzdytzicwuye6iteikstg.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关模型的更多信息。</a> <br><br> 除了选择模型之外，AWS EC2-service也很不错，因为它与AWS监控系统<b>Cloudwatch</b>集成在一起（就像许多其他AWS产品一样）。 该监视系统配置灵活，可以监视资源消耗和预算。 只需单击几下，即可设置EC2资源的使用限制，然后您将收到通知，例如通过邮件。 <br><br> 仍然需要补充的是，公开课的内容非常丰富。 而且，如果您对此主题感兴趣，最好观看整个网络研讨会，以免错过任何东西。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN468185/">https://habr.com/ru/post/zh-CN468185/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN468169/index.html">jQuery的历史和传承</a></li>
<li><a href="../zh-CN468175/index.html">前端开发博客值得一读</a></li>
<li><a href="../zh-CN468177/index.html">内外翻滚</a></li>
<li><a href="../zh-CN468179/index.html">分析：俄罗斯证券市场的基础设施如何运作</a></li>
<li><a href="../zh-CN468181/index.html">沉默的三位一体：探索后开发框架的新版本</a></li>
<li><a href="../zh-CN468189/index.html">使用控制台技巧提高JavaScript调试技能</a></li>
<li><a href="../zh-CN468191/index.html">RubyRussia 2019：Nikolay Sverchkov关于无服务器</a></li>
<li><a href="../zh-CN468193/index.html">JVM内部，第1部分-类加载器</a></li>
<li><a href="../zh-CN468195/index.html">为什么我的财务依赖Beeline？</a></li>
<li><a href="../zh-CN468197/index.html">我们如何进行大型传统网络的自动化</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>