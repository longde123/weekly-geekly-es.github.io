<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😗 🤘🏼 👩🏾‍🚀 Lecciones sobre SDL 2: Lección 1 - Hola, SDL 2 🖕🏼 🤬 🚸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! Decidí mirar SDL 2, pero no encontré nada sensato en ruso. Decidí escribir el mío, comiendo inspiración de aquí . 

 Omitiré la instalac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lecciones sobre SDL 2: Lección 1 - Hola, SDL 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453700/">  Hola a todos!  Decidí mirar SDL 2, pero no encontré nada sensato en ruso.  Decidí escribir el mío, comiendo inspiración <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de aquí</a> . <br><br>  Omitiré la instalación de SDL 2 y comenzaré de inmediato escribiendo programas, así que: <br><br><h2>  Tu primera ventana </h2><br><br><a name="habracut"></a><br>  Comencemos conectando SDL 2. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt;</span></span></span></span></code> </pre> <br>  Aquí declararemos varias variables globales. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_WIDTH = <span class="hljs-number"><span class="hljs-number">640</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_HEIGHT = <span class="hljs-number"><span class="hljs-number">480</span></span>;</code> </pre><br>  A continuación, abra la función principal familiar para todos. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ** args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( SDL_Init( SDL_INIT_EVERYTHING ) != <span class="hljs-number"><span class="hljs-number">0</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } SDL_Surface* screen_surface = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; SDL_Window* window = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>;</code> </pre><br>  Veamos un poco el código.  En general, los parámetros de la línea de comando se aceptan desde la línea de comando, deben aceptarse.  A continuación, inicializamos SDL 2 con la función <b>SDL_Init ()</b> .  Le pasamos <b>SDL_INIT_EVERYTHING</b> , lo que significa que inicializamos todos los módulos SDL (video, audio, etc.).  Hay algunas banderas más para SDL_Init: <br><br><div class="spoiler">  <b class="spoiler_title">Banderas</b> <div class="spoiler_text">  <b>SDL_INIT_TIMER</b> - conexión del temporizador; <br>  <b>SDL_INIT_AUDIO</b> - conexión de audio; <br>  <b>SDL_INIT_VIDEO</b> : conexión de video, los eventos se conectan automáticamente; <br>  <b>SDL_INIT_JOYSTICK</b> - conexión de control de joystick; <br>  <b>SDL_INIT_HAPTIC</b> - subsistema táctil (no sé qué es, para ser honesto); <br>  <b>SDL_INIT_GAMECONTROLER</b> : conecta el control, el joystick se conecta automáticamente; <br>  <b>SDL_INIT_EVENTS</b> : <b>habilita el</b> procesamiento de eventos; <br>  <b>SDL_INIT_EVERYTHING</b> : conecta todo lo mencionado anteriormente; <br>  <b>SDL_INIT_NOPARACHUTE</b> : comprobación de compatibilidad. <br></div></div><cut text=":  "></cut><br>  A continuación, cree una ventana con la función <b>SDL_CreateWindow ()</b> .  Si algo salió mal según lo previsto, devuelva 1. <br><br><pre> <code class="cpp hljs"> window = SDL_CreateWindow(<span class="hljs-string"><span class="hljs-string">"Hello, SDL 2!"</span></span>,SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SDL_SCREEN_WIDTH, SDL_SCREEN_HEIGHT, SDL_WINDOW_SHOWN); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (window == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  La función <b>SDL_CreateWindow ()</b> acepta el nombre de la ventana, la posición de la ventana OX, la posición de la ventana OY, el ancho de la ventana, la altura de la ventana y las banderas.  Ahora vamos a sortear la bandera <b>SDL_WINDOW_SHOWN</b> . <br><br>  Hay otras banderas para crear una ventana. <br><br><div class="spoiler">  <b class="spoiler_title">Banderas</b> <div class="spoiler_text">  <b>SDL_WINDOW_FULLSCREEN</b> : abre una ventana en modo de pantalla completa, cambia la resolución del escritorio; <br>  <b>SDL_WINDOW_FULLSCREEN_DESKTOP</b> : abre una ventana en modo de pantalla completa con el permiso de este escritorio; <br>  <b>SDL_WINDOW_OPENGL</b> : una ventana con soporte para OpenGL; <br>  <b>SDL_WINDOW_HIDDEN</b> : la ventana está oculta; <br>  <b>SDL_WINDOW_BORDERLESS</b> : una ventana sin marco; <br>  <b>SDL_WINDOW_RESIZABLE</b> : puede cambiar el tamaño de la ventana; <br>  <b>SDL_WINDOW_MINIMIZED</b> : la ventana está minimizada; <br>  <b>SDL_WINDOW_MAXIMIZED</b> : la ventana está maximizada; <br></div></div><br>  Si compilamos y ejecutamos el programa ahora, veremos una ventana de 640x480 llena de blanco, que se cierra después de un momento.  Maravilloso!  Para disfrutar un poco este milagro, podemos escribir <b>SDL_Delay (2000)</b> .  Hará que el programa se congele durante 2 segundos. <br><br>  Solo una ventana es, por supuesto, buena, pero sería aún más genial dibujarla, ¿verdad?  Para hacer esto, cree una superficie en la que dibujaremos todo, porque directamente en la ventana, el dibujo es de alguna manera feo o algo así. <br><br><pre> <code class="cpp hljs"> screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, SDL_MapRGB(screen_surface-&gt;format, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); SDL_UpdateWindowSurface(window);</code> </pre><br>  Primero obtenemos la superficie de la ventana con la función <b>SDL_GetWindowSurface ()</b> .  Fue hecho de manera que no era necesario indicar las dimensiones de la superficie, su formato, sino obtener inmediatamente la superficie terminada.  Además, esta superficie no necesita dibujarse en la ventana; hará todo por sí misma. <br><br>  Luego usamos <b>SDL_FillRect ()</b> para pintar nuestra superficie de verde.  Escribimos <b>SDL_MapRGB</b> , diciéndole al programa que <b>usaríamos</b> RGB (Rojo Verde Azul) para establecer el color. <br><br>  Y al final, debemos actualizar la ventana con la función <b>SDL_UpdateWindowSurface ()</b> para que muestre lo que le dijimos. <br><br>  En esta etapa, cuando inicie el programa, se mostrará una ventana llena de color verde brillante, que no se cerrará en 2 segundos. <br><br>  Después de completar el programa, necesitamos borrar la RAM de los archivos innecesarios, cerrar la ventana, en general, determinar la terminación correcta del programa.  En esto, las funciones especialmente preparadas nos ayudarán. <br><br><pre> <code class="cpp hljs"> SDL_DestroyWindow(window); SDL_Quit();</code> </pre><br>  La función <b>SDL_DestroyWindow ()</b> cierra la ventana, y la función <b>SDL_Quit () desinicializa</b> todos los módulos previamente conectados con la función <b>SDL_Init ()</b> . <br><br>  Bueno, la lección número 1 ha llegado a su fin, espero que todo esté claro.  Aquí está el código que obtuve al final: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt; const int SCREEN_WIDTH = 640; const int SCREEN_HEIGHT = 480; int main (int argc, char ** args) { if( SDL_Init( SDL_INIT_EVERYTHING ) != 0 ) { return 1; } SDL_Surface* screen_surface = NULL; SDL_Window* window = NULL; window = SDL_CreateWindow("Hello, SDL 2!",SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); if (window == NULL) { return 1; } screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, NULL, SDL_MapRGB( screen_surface-&gt;format, 0, 255, 0)); SDL_UpdateWindowSurface(window); SDL_Delay(2000); SDL_DestroyWindow(window); SDL_Quit(); return 0; };</span></span></span></span></code> </pre><br>  ¡Buena suerte a todos! <br><br>  Próxima lección <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">&gt;&gt;</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/453700/">https://habr.com/ru/post/453700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453688/index.html">Java no solo es una empresa sangrienta, sino también aplicaciones rápidas sensibles a la latencia</a></li>
<li><a href="../453692/index.html">Shaders 3D para principiantes: efectos</a></li>
<li><a href="../453694/index.html">Conéctese a Windows a través de SSH como en Linux</a></li>
<li><a href="../453696/index.html">Enlace angular de dos vías, un poco más de comprensión</a></li>
<li><a href="../453698/index.html">Información cuántica en la conciencia cuántica</a></li>
<li><a href="../453706/index.html">Cómo pasé el examen de certificación de ingeniero de datos de Google Cloud Professional</a></li>
<li><a href="../453708/index.html">SO AQUA RTOS en tiempo real para MK AVR en el entorno BASCOM AVR</a></li>
<li><a href="../453710/index.html">Práctica de desarrollo en grandes proyectos: mitp SberPractice iOS # 1</a></li>
<li><a href="../453712/index.html">Cómo eBay hizo un escáner de código de barras en WebAssembly</a></li>
<li><a href="../453714/index.html">Cliente de prueba TON (Telegram Open Network) y el nuevo lenguaje Fift para contratos inteligentes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>