<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥‡ ğŸ“ ğŸ• Kami menyingkirkan peringatan yang mengganggu saat memasuki server terminal ğŸ¸ ğŸ„ â˜¹ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Belum lama ini, kami mengimplementasikan solusi pada server terminal Windows. Seperti biasa, mereka melemparkan pintasan untuk koneksi ke desktop kary...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami menyingkirkan peringatan yang mengganggu saat memasuki server terminal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pc-administrator/blog/477808/"><p><img src="https://habrastorage.org/getpro/habr/post_images/702/310/c1f/702310c1fe62aa89d2d3c2f35fe47ef0.jpg"></p><br><p>  Belum lama ini, kami mengimplementasikan solusi pada server terminal Windows.  Seperti biasa, mereka melemparkan pintasan untuk koneksi ke desktop karyawan, dan berkata - bekerja.  Tetapi pengguna diintimidasi dalam hal Keamanan Cyber.  Dan saat terhubung ke server, melihat pesan seperti: â€œApakah Anda mempercayai server ini?  Tepat? â€, Mereka takut dan menoleh ke kami - apakah semuanya baik-baik saja, bisakah Anda mengklik OK?  Kemudian diputuskan untuk melakukan semuanya dengan indah, sehingga tidak ada pertanyaan dan panik. </p><br><p>  Jika pengguna Anda masih mendatangi Anda dengan ketakutan yang sama, dan Anda sudah lelah mencentang kotak â€œJangan tanya lagiâ€ - selamat datang di kucing. </p><a name="habracut"></a><br><h1 id="shag-nulevoy-podgotovka-i-voprosy-doveriya">  Langkah nol.  Masalah Pelatihan dan Kepercayaan </h1><br><p>  Jadi, pengguna kami menusuk file yang disimpan dengan ekstensi .rdp dan menerima permintaan seperti itu: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/017/d20/a69/017d20a69c2fa84f756e8835f00d0b78.jpg"></p><br><p>  <em>Koneksi "berbahaya"</em> . </p><br><p> Untuk menghilangkan jendela ini, utilitas khusus yang disebut <strong>RDPSign.exe digunakan.</strong>  Dokumentasi lengkap tersedia, seperti biasa, di <a href="https://docs.microsoft.com/ru-ru/windows-server/administration/windows-commands/rdpsign">situs web resmi</a> , dan kami akan menganalisis contoh penggunaan. </p><br><p>  Pertama kita perlu mengambil sertifikat untuk menandatangani file.  Itu bisa: </p><br><ul><li>  Publik </li><li>  Dikeluarkan oleh otoritas internal Otoritas Sertifikat. </li><li>  Benar-benar ditandatangani sendiri. </li></ul><br><p>  Yang paling penting, sertifikat harus dapat ditandatangani (ya, Anda dapat memilih <br>  Akuntan EDS), dan PC klien mempercayainya.  Di sini saya akan menggunakan sertifikat yang ditandatangani sendiri. </p><br><p>  Biarkan saya mengingatkan Anda bahwa kepercayaan pada sertifikat yang ditandatangani sendiri dapat diatur menggunakan kebijakan grup.  Sedikit lebih detail - di bawah spoiler. </p><br><div class="spoiler">  <b class="spoiler_title">Cara membuat sertifikat tepercaya menggunakan sihir GPO</b> <div class="spoiler_text"><p>  Pertama, Anda perlu mengambil sertifikat yang ada tanpa kunci pribadi dalam format .cer (ini dapat dilakukan dengan mengekspor sertifikat dari snap-in Sertifikat) dan memasukkannya ke dalam folder jaringan yang dapat diakses oleh pengguna untuk membaca.  Setelah itu, Anda dapat mengonfigurasi kebijakan grup. </p><br><p>  Impor sertifikat dikonfigurasi di bagian: Konfigurasi Komputer - Kebijakan - Konfigurasi Windows - Pengaturan Keamanan - Kebijakan Kunci Publik - Otoritas Sertifikasi Root Tepercaya.  Selanjutnya, klik kanan untuk mengimpor sertifikat. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/089/2e2/57e/0892e257e9796e10bf8a093f776042ff.jpg"></p><br><p>  <em>Kebijakan yang disesuaikan.</em> </p><br><p>  PC Klien sekarang akan mempercayai sertifikat yang ditandatangani sendiri. </p></div></div><br><p>  Jika masalah dengan kepercayaan diselesaikan, kami melanjutkan langsung ke masalah tanda tangan. </p><br><h1 id="shag-pervyy-razmashisto-podpisyvaem-fayl">  Langkah pertama.  File yang ditandatangani menyapu </h1><br><p>  Ada sertifikat, sekarang Anda perlu tahu sidik jarinya.  Cukup buka di snap-in "Sertifikat" dan salin ke tab "Komposisi". </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c10/1c7/a08/c101c7a087b3114a04844f520e8c6c25.jpg"></p><br><p>  <em>Kami membutuhkan sidik jari.</em> </p><br><p>  Lebih baik segera membawanya ke bentuk yang tepat - hanya huruf kapital dan tanpa spasi, jika ada.  Ini bisa dilakukan dengan mudah di konsol PowerShell dengan perintah: </p><br><pre><code class="bash hljs">(<span class="hljs-string"><span class="hljs-string">"6b142d74ca7eb9f3d34a2fe16d1b949839dba8fa"</span></span>).ToUpper().Replace(<span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">""</span></span>)</code> </pre> <br><p>  Setelah menerima sidik jari dalam format yang diinginkan, Anda dapat dengan aman menandatangani file rdp: </p><br><pre> <code class="bash hljs">rdpsign.exe /sha256 6B142D74CA7EB9F3D34A2FE16D1B949839DBA8FA .\contoso.rdp</code> </pre><br><p>  Di mana. \ Contoso.rdp adalah jalur absolut atau relatif ke file kami. </p><br><blockquote>  Setelah file ditandatangani, tidak mungkin lagi untuk mengubah beberapa parameter melalui antarmuka grafis seperti nama server (apakah valid, apa lagi maksud penandatanganan?) Dan jika Anda mengubah pengaturan dengan editor teks, tanda tangan "terbang". </blockquote><p>  Sekarang, ketika Anda mengklik dua kali pada pintasan, pesannya akan berbeda: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/76f/080/bd9/76f080bd9fd2d0bd59ce5c10aeca95b3.jpg"></p><br><p>  <em>Pesan baru</em>  <em>Warna kurang berbahaya, sudah berkembang.</em> </p><br><p>  Mari kita singkirkan dia juga. </p><br><h1 id="shag-vtoroy-i-snova-voprosy-doveriya">  Langkah Dua  Dan lagi, masalah kepercayaan </h1><br><p>  Untuk menghilangkan pesan ini, kita perlu Kebijakan Grup.  Kali ini, jalannya terletak pada Konfigurasi Komputer - Kebijakan - Template Administratif - Komponen Windows - Layanan Desktop Jarak Jauh - Klien Koneksi Desktop Jarak Jauh - Menentukan sidik jari sertifikat SHA1 yang mewakili penerbit RDP tepercaya. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d09/240/479/d0924047971139996ea0bbc3550bc8b8.jpg"></p><br><p>  <em>Kami membutuhkan kebijakan.</em> </p><br><p>  Dalam politik, cukup menambahkan sidik jari yang sudah akrab bagi kita dari langkah sebelumnya. </p><br><blockquote>  Perlu dicatat bahwa kebijakan ini mengesampingkan kebijakan "Izinkan file RDP dari penerbit yang valid dan pengaturan RDP default pengguna". </blockquote><p><img src="https://habrastorage.org/getpro/habr/post_images/4a7/d3d/d78/4a7d3dd7883ceaf71bcf6698edead822.jpg"></p><br><p>  <em>Kebijakan yang disesuaikan.</em> </p><br><p>  Voila, sekarang tidak ada pertanyaan aneh - hanya permintaan kata sandi masuk.  Hmm ... </p><br><h1 id="shag-tretiy-prozrachnyy-vhod-na-server">  Langkah Tiga  Login server transparan </h1><br><p>  Memang, jika kita sudah diizinkan ketika memasuki komputer domain, lalu mengapa kita perlu memasukkan kembali nama pengguna dan kata sandi yang sama?  Kami akan mentransfer kredensial ke server "secara transparan".  Dalam hal RDP sederhana (tanpa menggunakan RDS Gateway), kami akan membantu kami ... Benar, kebijakan grup. </p><br><p>  Kami pergi ke bagian: Konfigurasi Komputer - Kebijakan - Template Administratif - Sistem - Transfer Kredensial - Mengizinkan transfer kredensial default. </p><br><p>  Di sini Anda dapat menambahkan server yang diperlukan ke daftar atau menggunakan wildcard.  Akan terlihat seperti <strong>TERMSRV / trm.contoso.com</strong> atau <strong>TERMSRV /</strong> <b>*</b> <strong>.contoso.com.</strong> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/712/fa7/3bb/712fa73bb547a895b1a8a4c65c8ae640.jpg"></p><br><p>  <em>Kebijakan yang disesuaikan.</em> </p><br><p>  Sekarang, jika Anda melihat pintasan kami, itu akan terlihat seperti ini: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/caf/153/8ec/caf1538ec0a117ec8288dd53372dab1d.jpg"></p><br><p>  <em>Jangan mengubah nama pengguna.</em> </p><br><p>  Jika Anda menggunakan RDS Gateway, Anda juga harus mengizinkan transfer data.  Untuk melakukan ini, di IIS Manager, di "Metode Otentikasi", nonaktifkan otentikasi anonim dan aktifkan otentikasi Windows. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0cb/a26/4a2/0cba264a2f7d8320fdd4487d511bd85f.jpg"></p><br><p>  <em>IIS yang dikonfigurasi.</em> </p><br><p>  Jangan lupa untuk me-restart layanan web ketika selesai: </p><br><pre> <code class="bash hljs">iisreset /noforce</code> </pre><br><p>  Sekarang semuanya baik-baik saja, tidak ada pertanyaan dan permintaan. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477808/">https://habr.com/ru/post/id477808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477782/index.html">DJI Mavic Mini dan hukum</a></li>
<li><a href="../id477788/index.html">PHP Mitap di Ivanovo</a></li>
<li><a href="../id477790/index.html">Bagaimana Sistem Satelit Galileo terputus karena Kebingungan Organisasi dan Masalah Lainnya</a></li>
<li><a href="../id477792/index.html">Kapan menang adalah profil Anda</a></li>
<li><a href="../id477804/index.html">Jalan menuju kecerdasan alami</a></li>
<li><a href="../id477810/index.html">Kami membuat router dan NAS pada satu prosesor</a></li>
<li><a href="../id477812/index.html">Tinjauan undang-undang Rusia untuk melindungi infrastruktur informasi penting</a></li>
<li><a href="../id477814/index.html">Apakah ada virus di bawah Mac?</a></li>
<li><a href="../id477816/index.html">Cara mencari pekerjaan dengan kontrak yang bagus</a></li>
<li><a href="../id477818/index.html">Bagaimana cara menjadi Ilmuwan Data pada tahun 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>