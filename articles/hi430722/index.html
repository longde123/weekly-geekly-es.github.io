<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЦХЁЯП╝ ЁЯХ╡ЁЯП╛ ЁЯжЕ PHP рдкреНрд░рджрд░реНрд╢рди: рдпреЛрдЬрдирд╛, рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ, рдЕрдиреБрдХреВрд▓рди ЁЯС╢ЁЯП╝ ЁЯС╝ЁЯП╜ ЁЯСиЁЯП╛тАНЁЯФм</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рд╣рдордиреЗ рд▓рд┐рдЦрд╛ рдерд╛ рдХрд┐ рдХреИрд╕реЗ рд╣рдордиреЗ PHP 7.0 рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд┐рдпрд╛ рдФрд░ рдПрдХ рдорд┐рд▓рд┐рдпрди рдбреЙрд▓рд░ рдмрдЪрд╛рдпрд╛ред рд╣рдорд╛рд░реЗ рд▓реЛрдб рдкреНрд░реЛрдлрд╛рдЗрд▓ рдкрд░, рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PHP рдкреНрд░рджрд░реНрд╢рди: рдпреЛрдЬрдирд╛, рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ, рдЕрдиреБрдХреВрд▓рди</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/430722/"><img src="https://habrastorage.org/webt/k_/fe/vv/k_fevvrhhn2aruuz19gpne_jypy.jpeg"><br><br>  рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░!  рджреЛ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдЦрд╛ рдерд╛</a> рдХрд┐ рдХреИрд╕реЗ рд╣рдордиреЗ PHP 7.0 рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд┐рдпрд╛ рдФрд░ рдПрдХ рдорд┐рд▓рд┐рдпрди рдбреЙрд▓рд░ рдмрдЪрд╛рдпрд╛ред  рд╣рдорд╛рд░реЗ рд▓реЛрдб рдкреНрд░реЛрдлрд╛рдЗрд▓ рдкрд░, рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ рдореЗрдВ рджреЛрдЧреБрдирд╛ рдХреБрд╢рд▓ рдерд╛: рдЬрд┐рд╕ рд▓реЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо ~ 600 рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рдереЗ, рд╕рдВрдХреНрд░рдордг рдХреЗ рдмрд╛рдж ~ 300 рдкрд░реЛрд╕рдирд╛ рд╢реБрд░реВ рд╣реБрдЖред  рдирддреАрдЬрддрди, рджреЛ рд╕рд╛рд▓ рддрдХ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреНрд╖рдорддрд╛ рдХрд╛ рднрдВрдбрд╛рд░ рдерд╛ред <br><br>  рд▓реЗрдХрд┐рди рд╡реНрдпрд╕реНрддрддрд╛ рдмрдврд╝ рд░рд╣реА рд╣реИред  рд╕рдХреНрд░рд┐рдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд▓рдЧрд╛рддрд╛рд░ рдмрдврд╝ рд░рд╣реА рд╣реИред  рд╣рдо рдЕрдкрдиреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рдмрд┐рддрд╛рддреЗ рд╣реИрдВред  рдФрд░ рдпрд╣, рдмрджрд▓реЗ рдореЗрдВ, рдЙрди рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рдкрд┐рдЫрд▓реЗ рджреЛ рд╡рд░реНрд╖реЛрдВ рдореЗрдВ 2-2.5 рдЧреБрдирд╛ рдмрдврд╝ рдЧрдП рд╣реИрдВред <br><br>  рд╣рдордиреЗ рдЦреБрдж рдХреЛ рдРрд╕реА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╣рд╛рдВ рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рджреЛрдЧреБрдиреЗ рд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рджрд░реНрд╢рди рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рджреЛрдЧреБрдиреА рд╡реГрджреНрдзрд┐ рд╣реБрдИ, рдФрд░ рд╣рдо рдлрд┐рд░ рд╕реЗ рдЕрдкрдиреЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рд╕реАрдорд╛рдУрдВ рдХреЗ рдХрд░реАрдм рдкрд╣реБрдВрдЪрдиреЗ рд▓рдЧреЗред  PHP рдХреЗ рдореВрд▓ рдореЗрдВ, рдЙрдкрдпреЛрдЧреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреБрдХреВрд▓рди</a> (JIT, рдкреНрд░реАрд▓реЛрдбрд┐рдВрдЧ) рдлрд┐рд░ рд╕реЗ рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИ, рд▓реЗрдХрд┐рди рд╡реЗ рдХреЗрд╡рд▓ PHP 7.4 рдХреЗ рд▓рд┐рдП рдпреЛрдЬрдирд╛рдмрджреНрдз рд╣реИрдВ, рдФрд░ рдпрд╣ рд╕рдВрд╕реНрдХрд░рдг рдПрдХ рд╡рд░реНрд╖ рд╕реЗ рдкрд╣рд▓реЗ рдирд╣реАрдВ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП, рд╕рдВрдХреНрд░рдордг рдЪрд╛рд▓ рдХреЛ рдЕрдм рджреЛрд╣рд░рд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рдЖрдкрдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛрдб рдХреЛ рд╕реНрд╡рдпрдВ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдХрдЯ рдХреЗ рддрд╣рдд, рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рддрд╛ рд╣реВрдВ рдХрд┐ рд╣рдо рдРрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рдХреМрди рд╕реЗ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдиреБрдХреВрд▓рди, рд╡рд┐рдЪрд╛рд░реЛрдВ рдФрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рдЙрджрд╛рд╣рд░рдг рджреЗрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдо рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд┐рд╕рдиреЗ рд╣рдорд╛рд░реЗ рд╕рдордп рдореЗрдВ рд╣рдорд╛рд░реА рдорджрдж рдХреАред <br><a name="habracut"></a><br><h1>  рдЕрдиреБрдХреВрд▓рди рдХреНрдпреЛрдВ? </h1><br>  рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рдФрд░ рд╕рдмрд╕реЗ рд╕реНрдкрд╖реНрдЯ рддрд░реАрдХрд╛ рд▓реЛрд╣реЗ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХрд╛ рдХреЛрдб рдПрдХ рд╣реА рд╕рд░реНрд╡рд░ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рддреЛ рдПрдХ рдФрд░ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдЖрдкрдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рджреЛрдЧреБрдирд╛ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдбреЗрд╡рд▓рдкрд░ рдХреА рдХрд╛рд░реНрдп рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рдЗрди рд▓рд╛рдЧрддреЛрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдЦреБрдж рд╕реЗ рдкреВрдЫрддреЗ рд╣реИрдВ: рдХреНрдпрд╛ рд╡рд╣ рдЗрд╕ рд╕рдордп рдХреЗ рджреМрд░рд╛рди рдЙрддреНрдкрд╛рджрдХрддрд╛ рдореЗрдВ рджреЛ рдЧреБрдирд╛ рд╡реГрджреНрдзрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рдкрд╛рдПрдВрдЧреЗ?  рд╢рд╛рдпрдж рд╣рд╛рдВ, рд▓реЗрдХрд┐рди рд╢рд╛рдпрдж рдирд╣реАрдВ: рдпрд╣ рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдкрд╣рд▓реЗ рд╕реЗ рдХрд┐рддрдирд╛ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ рдФрд░ рдбреЗрд╡рд▓рдкрд░ рдХрд┐рддрдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реИред  рджреВрд╕рд░реА рдУрд░, рдЦрд░реАрджрд╛ рдЧрдпрд╛ рд╕рд░реНрд╡рд░ рдХрдВрдкрдиреА рдХреА рд╕рдВрдкрддреНрддрд┐ рдмрдирд╛ рд░рд╣реЗрдЧрд╛, рдФрд░ рдмрд┐рддрд╛рдпрд╛ рдЧрдпрд╛ рд╕рдордп рд╡рд╛рдкрд╕ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред <br><br>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЫреЛрдЯреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рд╕рд╣реА рд╕рдорд╛рдзрд╛рди рдЕрдХреНрд╕рд░ рд▓реЛрд╣реЗ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрдЧрд╛ред <br><br>  рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реА рд╕реНрдерд┐рддрд┐ рд▓реЗ рд▓реЛред  рдЕрдм, PHP 7.0 рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рдиреЗ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдЧрддрд┐рд╡рд┐рдзрд┐ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдСрдлрд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдлрд┐рд░ рд╕реЗ 600 рд╕рд░реНрд╡рд░ рд╣реИрдВ рдЬреЛ PHP рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВред  рдбреЗрдврд╝ рдЧреБрдирд╛ рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ 300 рд╕рд░реНрд╡рд░ рдЬреЛрдбрд╝рдиреЗ рд╣реЛрдВрдЧреЗред <br><br>  рдПрдХ рд╕рд░реНрд╡рд░ рдХреА рдФрд╕рдд рд▓рд╛рдЧрдд рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП рд▓реЗ рд▓реЛ - $ 4,000ред  300 * 4000 = $ 1,200,000 - рдбреЗрдврд╝ рдЧреБрдирд╛ рдХреНрд╖рдорддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреА рд▓рд╛рдЧрддред <br><br>  рдпрд╣реА рд╣реИ, рд╣рдорд╛рд░реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рд╣рдо рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдорд╛рддреНрд░рд╛ рдореЗрдВ рдирд┐рд╡реЗрд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдЕрднреА рднреА рд▓реЛрд╣реЗ рдХреЛ рдЦрд░реАрджрдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд▓рд╛рднрджрд╛рдпрдХ рд╣реЛрдЧрд╛ред <br><br><h1>  рдХреНрд╖рдорддрд╛ рдпреЛрдЬрдирд╛ </h1><br>  рдХреБрдЫ рднреА рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИред  рдпрджрд┐ рд╡рд╣ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИ рдХрд┐ рд╡рд╣ рдХрдм рджрд┐рдЦрд╛рдИ рджреЗ рд╕рдХрддреА рд╣реИред  рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХреНрд╖рдорддрд╛ рдирд┐рдпреЛрдЬрди рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рдПрдХ рдареЛрд╕ рд╕рдВрдХреЗрддрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп рд╣реИред  рд╕рдм рдХреЗ рдмрд╛рдж, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╕реАрдкреАрдпреВ (рдпрд╛ рдЕрдиреНрдп рд╕рдВрд╕рд╛рдзрди) 6% рдпрд╛ 146% рдкрд░ рд▓реЛрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: рдпрджрд┐ рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рд╕рдВрддреЛрд╖рдЬрдирдХ рд╕рдордп рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдЧреБрдгрд╡рддреНрддрд╛ рдХреА рд╕реЗрд╡рд╛ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рд╕рдм рдХреБрдЫ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдиреБрдХрд╕рд╛рди рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдХреЗрд╡рд▓ рддрдм рд╣реА рдмрдврд╝рдирд╛ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рд╕рдорд╕реНрдпрд╛ рдкрд╣рд▓реЗ рд╣реА рдкреНрд░рдХрдЯ рд╣реЛ рдЪреБрдХреА рд╣реЛрддреА рд╣реИред  рдпрджрд┐ рдпрд╣ рдЕрднреА рддрдХ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЗрд╕рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп рд╕рднреА рдХрд╛рд░рдХреЛрдВ (рдмреНрд░реЗрдХрд┐рдВрдЧ рд╕реЗрд╡рд╛рдУрдВ, рдиреЗрдЯрд╡рд░реНрдХ, рдбреНрд░рд╛рдЗрд╡, рдЖрджрд┐) рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдФрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдХрд╛рд░рдгреЛрдВ рдХреА рд╕рдордЭ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕реАрдкреАрдпреВ рдЖрдорддреМрд░ рдкрд░ рдЕрдбрд╝рдЪрди рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рдореВрд╣реЛрдВ рдХреЗ рдЖрдХрд╛рд░ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╕рдордп, рд╣рдо рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЬреБрдбрд╝реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдкрд░ рдзреНрдпрд╛рди рджреЗрддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдиреА рд╕рднреА рдорд╢реАрдиреЛрдВ рд╕реЗ рд╕реАрдкреАрдпреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдФрд╕рдд рдореВрд▓реНрдп, рдФрд╕рдд, 75 рд╡реЗрдВ рдФрд░ 95 рд╡реЗрдВ рдкреНрд░рддрд┐рд╢рдд рдХреЗ рд╕рд╛рде рдЧреНрд░рд╛рдл рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/pt/xs/dr/ptxsdr6jybv45cznqjykeqd11_g.png"><br>  <i>рдкреНрд░рддрд┐рд╢рдд рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдорд╢реАрдиреЛрдВ рдХрд╛ рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ: рдФрд╕рдд, рдФрд╕рдд, рдкреНрд░рддрд┐рд╢рдд</i> <br><br>  рд╣рдорд╛рд░реЗ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реИрдХрдбрд╝реЛрдВ рдорд╢реАрдиреЗрдВ рд╣реИрдВ рдЬреЛ рдХрдИ рд╡рд░реНрд╖реЛрдВ рд╕реЗ рд╡рд╣рд╛рдВ рдЬреЛрдбрд╝реЗ рдЧрдП рд╣реИрдВред  рд╡реЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рднрд┐рдиреНрди рд╣реИрдВ (рдХреНрд▓рд╕реНрдЯрд░ рд╕рдЬрд╛рддреАрдп рдирд╣реАрдВ рд╣реИ)ред  рд╣рдорд╛рд░реЗ рдмреИрд▓реЗрдВрд╕рд░ рдЗрд╕реЗ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реАрдбрд┐рдпреЛ</a> ) рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдорд╢реАрдиреЛрдВ рдХреЛ рдЙрдирдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрдзрд┐рдХрддрдо рдФрд░ рдиреНрдпреВрдирддрдо рд▓реЛрдбреЗрдб рдорд╢реАрдиреЛрдВ рдХреА рдПрдХ рдЕрдиреБрд╕реВрдЪреА рднреА рд╣реИред <br><br><img src="https://habrastorage.org/webt/nf/we/f7/nfwef7cixau-uxenwsglrnvfzho.png"><br>  <i>рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдФрд░ рдХрдо рд╕реЗ рдХрдо рднрд░реА рд╣реБрдИ рдХреНрд▓рд╕реНрдЯрд░ рдорд╢реАрдиреЗрдВ</i> <br><br>  рдпрджрд┐ рдЖрдк рдЗрди рдЧреНрд░рд╛рдлреНрд╕ (рдпрд╛ рд╕рд┐рд░реНрдл рд╢реАрд░реНрд╖ рдХрдорд╛рдВрдб рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдкрд░) рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдФрд░ 50% рдХрд╛ рд╕реАрдкреАрдпреВ рд▓реЛрдб рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрднреА рднреА рд▓реЛрдб рдореЗрдВ рджреЛ рдЧреБрдирд╛ рд╡реГрджреНрдзрд┐ рдХрд╛ рдорд╛рд░реНрдЬрд┐рди рд╣реИред  рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдФрд░ рдпрд╣рд╛рдБ рдХреНрдпреЛрдВ рд╣реИред <br><br><h1>  рд╣рд╛рдЗрдкрд░ рдереНрд░реЗрдбрд┐рдВрдЧ </h1><br>  рд╣рд╛рдЗрдкрд░рдЯреНрд░реЗрдбрд┐рдВрдЧ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдХреЛрд░ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВред  рд╣рдо рдЗрд╕реЗ рдПрдХ рд╕реАрдкреАрдпреВ-рдмрд╛рдЙрдВрдб рдереНрд░реЗрдб рдХреЗ рд╕рд╛рде рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рд╢реАрд░реНрд╖ рдореЗрдВ 100% рд▓реЛрдб рд╣реЛрддреЗ рджреЗрдЦреЗрдВрдЧреЗред <br><br>  рдЕрдм рдЗрд╕ рдХрд░реНрдиреЗрд▓ рдкрд░ рд╣рд╛рдЗрдкрд░реНрд░реЗрдбрд┐рдВрдЧ рдЪрд╛рд▓реВ рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдареАрдХ рдЙрд╕реА рддрд░рд╣ рд▓реЛрдб рдХрд░реЗрдВред  рд╢реАрд░реНрд╖ рдореЗрдВ, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рджреЛ рддрд╛рд░реНрдХрд┐рдХ рдХреЛрд░ рджреЗрдЦреЗрдВрдЧреЗ, рдФрд░ рдХреБрд▓ рднрд╛рд░ 50% рд╣реЛрдЧрд╛ (рдЖрдорддреМрд░ рдкрд░ рдПрдХ 0% рдкрд░, рдФрд░ рдЕрдиреНрдп 100% рдкрд░)ред <br><br><img src="https://habrastorage.org/webt/gr/zi/hw/grzihwfkj986zatrfrsrgg4-ykk.png"><br>  <i>рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ: рд╢реАрд░реНрд╖ рдбреЗрдЯрд╛ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ</i> <br><br>  рдорд╛рдиреЛ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗрд╡рд▓ 50% рд▓реЛрдб рд╣реИред  рд▓реЗрдХрд┐рди рд╢рд╛рд░реАрд░рд┐рдХ рд░реВрдк рд╕реЗ рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рдореБрдХреНрдд рдХреЛрд░ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджрд┐рдпрд╛ред  рд╣рд╛рдЗрдкрд░рдЯреНрд░реЗрдбрд┐рдВрдЧ <i>рдХреБрдЫ рдорд╛рдорд▓реЛрдВ</i> рдореЗрдВ рдПрдХ рд╕рдордп рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╢рд╛рд░реАрд░рд┐рдХ рдХреЛрд░ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ <i>рд╣реИ</i> ред  рд▓реЗрдХрд┐рди рдпрд╣ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рджреЛрдЧреБрдирд╛ рдХрд░рдиреЗ рд╕реЗ рдмрд╣реБрдд рджреВрд░ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ рдЧреНрд░рд╛рдл рдкрд░ рдпрд╣ рдЖрдзреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: 50% рд╕реЗ 100% рддрдХред <br><br>  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ 50% CPU рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рдж рдЬрдм рд╣рд╛рдЗрдкрд░рдЯреНрд░реЗрдбрд┐рдВрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЙрддрдирд╛ рд╣реА рдирд╣реАрдВ рдмрдврд╝реЗрдЧрд╛ рдЬрд┐рддрдирд╛ рдкрд╣рд▓реЗ рд╣реБрдЖ рдерд╛ред <br><br>  рдореИрдВрдиреЗ рдЗрд╕ рдХреЛрдб рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдерд╛ (рдпрд╣ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╕рд┐рдВрдереЗрдЯрд┐рдХ рдорд╛рдорд▓рд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рднрд┐рдиреНрди рд╣реЛрдВрдЧреЗ): <br><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛрдб</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $concurrency = $_SERVER[<span class="hljs-string"><span class="hljs-string">'argv'</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>] ?? <span class="hljs-number"><span class="hljs-number">1</span></span>; $hashes = <span class="hljs-number"><span class="hljs-number">100000000</span></span>; $chunkSize = intval($hashes / $concurrency); $t1 = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $children = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i = <span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt; $concurrency; $i++) {    $pid = pcntl_fork();    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> === $pid) {        $first = $i * $chunkSize;        $last = ($i + <span class="hljs-number"><span class="hljs-number">1</span></span>) * $chunkSize - <span class="hljs-number"><span class="hljs-number">1</span></span>;        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($j = $first; $j &lt; $last; $j++) {            $dummy = md5($j);        }        printf(<span class="hljs-string"><span class="hljs-string">"[%d]: %d hashes in %0.4f sec\n"</span></span>, $i, $last - $first, microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) - $t1);        <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>;    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {        $children[$pid] = <span class="hljs-number"><span class="hljs-number">1</span></span>;    } } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (count($children) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {    $pid = pcntl_waitpid(<span class="hljs-number"><span class="hljs-number">-1</span></span>, $status);    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($pid &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {        <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>($children[$pid]);    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {        <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(<span class="hljs-string"><span class="hljs-string">"Got a error pid=$pid"</span></span>);    } }</code> </pre> <br><br></div></div><br>  рдореЗрд░реЗ рд▓реИрдкрдЯреЙрдк рдкрд░ рджреЛ рднреМрддрд┐рдХ рдХреЛрд░ рд╣реИрдВред  рд╕рдорд╛рдирд╛рдВрддрд░ C рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдПрдХ рдЕрд▓рдЧ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХреЛрдб рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдПрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдорд╛рдк рдХреЗ рдкрд░рд┐рдгрд╛рдо</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/n5/3z/ev/n53zevyyvda4w4u-2xkjryqlj9m.png"><br></div></div><br>  рд╣рдо рд▓реЙрдиреНрдЪ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рд╕рд╛рдЬрд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ: <br><img src="https://habrastorage.org/webt/xg/iv/rn/xgivrnyyynb418fnr5muqfn0qba.png"><br>  <i>рд╕рдорд╛рдирд╛рдВрддрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкреНрд░рджрд░реНрд╢рди</i> <br><br>  рдЖрдк рдХрд┐рд╕ рдкрд░ рдзреНрдпрд╛рди рджреЗ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  рд╕реА = 1 рдФрд░ рд╕реА = 2 рдЕрдиреБрдорд╛рдирд┐рдд рд░реВрдк рд╕реЗ рдПрдЪрдЯреА = рдСрди рдФрд░ рдПрдЪрдЯреА = рдСрдл рдХреЗ рд▓рд┐рдП рд╕рдорд╛рди рд╣реИрдВ, рдЬрдм рдПрдХ рднреМрддрд┐рдХ рдХреЛрд░ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдкреНрд░рджрд░реНрд╢рди рджреЛрдЧреБрдирд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ; <br></li></ul><br><ul><li>  C = 3 рдкрд░, HT рдХреЗ рдлрд╛рдпрджреЗ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ: HT = on рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рджрд░реНрд╢рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдереЗ, рдЬрдмрдХрд┐ C = 3 рдХреЗ рд╕рд╛рде HT = рдмрдВрдж рдХреЗ рд▓рд┐рдП рдпрд╣ рдзреАрд░реЗ-рдзреАрд░реЗ рдХрдо рд╣реЛрдиреЗ рд▓рдЧрддрд╛ рд╣реИ; <br></li></ul><br><ul><li>  C = 4 рдореЗрдВ рд╣рдо HT рдХреЗ рд╕рднреА рд▓рд╛рднреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ;  рд╣рдо рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд 30% рдЙрддреНрдкрд╛рджрдХрддрд╛ рдХреЛ рдирд┐рдЪреЛрдбрд╝рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдереЗ, рд▓реЗрдХрд┐рди рдЗрд╕ рд╕рдордп C = 2 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, CPU рдЙрдкрдпреЛрдЧ 50% рд╕реЗ рдмрдврд╝рдХрд░ 100% рд╣реЛ рдЧрдпрд╛ред <br></li></ul><br>  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рд╕реАрдкреАрдпреВ рд▓реЛрдб рдХреЗ рд╢реАрд░реНрд╖ 50% рдореЗрдВ рджреЗрдЦрдиреЗ рдкрд░, рдЗрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╕рдордп рд╣рдореЗрдВ 8,065 рдорд╣рд╛рд╢ / рд╕реЗрдХрдВрдб рдорд┐рд▓рддреЗ рд╣реИрдВ, рдФрд░ 100% - 10,511 рдореНрд╣рд╛рд╕ / рд╕реЗрдХрдВрдб рдкрд░ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╢реАрд░реНрд╖ рдХреЗ рд▓рдЧрднрдЧ 50% рдкрд░, рд╣рдореЗрдВ рдЕрдзрд┐рдХрддрдо рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рджрд░реНрд╢рди рдХреЗ 8.065 / 10.511 ~ 77% рдорд┐рд▓рддреЗ рд╣реИрдВ, рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд▓рдЧрднрдЧ 100% рдмрдЪреЗ рд╣реИрдВ - 77% = 23%, рдФрд░ 50% рдирд╣реАрдВ, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдкреНрд░рддреАрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╕рдордп рдЗрд╕ рддрдереНрдп рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><img src="https://habrastorage.org/webt/ru/6g/00/ru6g002t0ziv1pkppgqfjber80o.png"><br>  <i>рдбреЗрдореЛрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рд╕реАрдкреАрдпреВ рдЙрдкрдпреЛрдЧ: рд╢реАрд░реНрд╖ рдбреЗрдЯрд╛ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ</i> <br><br><h1>  рдпрд╛рддрд╛рдпрд╛рдд рдХреА рдЕрд╕рдВрдЧрддрд┐ </h1><br>  рд╣рд╛рдЗрдкрд░рдЯреНрд░реЗрдбрд┐рдВрдЧ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреНрд▓рд╛рдирд┐рдВрдЧ рджрд┐рди рдХреЗ рд╕рдордп, рд╕рдкреНрддрд╛рд╣ рдХреЗ рджрд┐рди, рдореМрд╕рдо рдФрд░ рдЕрдиреНрдп рдЖрд╡реГрддреНрддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдпрд╛рддрд╛рдпрд╛рдд рдХреА рдЕрд╕рдорд╛рдирддрд╛ рдХреЛ рднреА рдЬрдЯрд┐рд▓ рдХрд░рддреА рд╣реИред  рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЪреЛрдЯреА рд░рд╡рд┐рд╡рд╛рд░ рдХреА рд╢рд╛рдо рд╣реИред <br><br><img src="https://habrastorage.org/webt/eh/ks/58/ehks58pfn7sjva3c869i7cwj7fy.png"><br>  <i>рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рд░рд╡рд┐рд╡рд╛рд░ рд╢рд╛рдо рдХреЛ рдЪреЛрдЯреА</i> <br><br>  рд╣рдореЗрд╢рд╛ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реНрдкрд╖реНрдЯ рддрд░реАрдХреЗ рд╕реЗ рдирд╣реАрдВ рдмрджрд▓рддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд┐рд╕реА рддрд░рд╣ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рдХреБрдЫ рдХреА рдЧрддрд┐рд╡рд┐рдзрд┐ рджреВрд╕рд░реЛрдВ рдХреЛ рдзрдХреНрдХрд╛ / рдИрдореЗрд▓ рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреА рд╣реИ рдФрд░ рдЗрд╕ рддрд░рд╣ рдЙрдиреНрд╣реЗрдВ рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреА рд╣реИред  рдЗрд╕рдореЗрдВ рдЯреНрд░реИрдлрд╝рд┐рдХ рдмрдврд╝рд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдЪрд╛рд░ рдЕрднрд┐рдпрд╛рди рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рддреИрдпрд╛рд░ рд░рд╣рдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рдпрд╣ рд╕рдм рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╕рдордп рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреАрдХ рджрд┐рдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдПрдХ рдкреНрд░рд╡реГрддреНрддрд┐ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ рдФрд░ рдЪреЛрдЯреА рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рдЧреИрд░-рд░реИрдЦрд┐рдХрддрд╛ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ред <br><br><h1>  рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ рдФрд░ рдорд╛рдкрдиреЗ рдХреЗ рдЙрдкрдХрд░рдг </h1><br>  рдорд╛рди рд▓реЗрдВ рдХрд┐ рд╣рдореЗрдВ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВ, рддреЛ рд╕рдордЭреЗрдВ рдХрд┐ рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ / рд╕реЗрд╡рд╛рдПрдВ / рд╕рд╛рдорд╛рди рдирд╣реАрдВ рд╣реИ, рдФрд░ рдлрд┐рд░ рднреА рд╣рдордиреЗ рдХреЛрдб рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдмрд╛рдзрд╛рдУрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдпрд╛ рдХреБрдЫ рдЯреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ рдмрд╛рдж рдореЗрдВ рд╣рдорд╛рд░реЗ рдЕрдиреБрдХреВрд▓рди рдХреЗ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВред <br><br>  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЖрдЬ PHP рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЕрдЪреНрдЫрд╛ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдЙрдкрдХрд░рдг рдирд╣реАрдВ рд╣реИред <br><br><h2>  рдкрд░реНрдлрд╝ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">perf</a> рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рдПрдХ рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ рдЯреВрд▓ рд╣реИред  рдпрд╣ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирдореВрдирд╛</a> рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджреНрд╡рд╛рд░рд╛ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рд╕реАрдзреЗ рдУрд╡рд░рд╣реЗрдб рдХрд┐рдП рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдУрд╡рд░рд╣реЗрдб рдирд╣реАрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рдЕрдкреНрд░рддреНрдпрдХреНрд╖ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдУрд╡рд░рд╣реЗрдб рд╕рдорд╛рди рд░реВрдк рд╕реЗ "рд╕реНрдореАрдпрд░" рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдорд╛рдк рдХреЛ рд╡рд┐рдХреГрдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЕрдкрдиреЗ рд╕рднреА рдлрд╛рдпрджреЛрдВ рдХреЗ рд▓рд┐рдП, perf рдХреЗрд╡рд▓ рд╕рдВрдХрд▓рд┐рдд рдХреЛрдб рдХреЗ рд╕рд╛рде рдФрд░ JIT рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ рдФрд░ "рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рддрд╣рдд" рдХреЛрдб рдЪрд▓рд╛рдиреЗ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИред  рдЗрд╕рд▓рд┐рдП, PHP рдХреЛрдб рдХреЛ рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ PHP рд╡рд┐рднрд┐рдиреНрди PHP рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╕рд╣рд┐рдд, рдФрд░ рдЕрдВрджрд░ рдХрд┐рддрдиреЗ рд╕рдВрд╕рд╛рдзрди рдЦрд░реНрдЪ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, perf рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдПрдХ рд╕рдВрдкреАрдбрд╝рди рд╕реНрдерд╛рди рд╕рд╣рд┐рдд рдХрдИ рдЕрдбрд╝рдЪрдиреЗрдВ рдорд┐рд▓реАрдВ, рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореИрдВ рдиреАрдЪреЗ рдЪрд░реНрдЪрд╛ рдХрд░реВрдВрдЧрд╛ред <br><br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг: <br><br> <code>perf record --call-graph dwarf,65528 -F 99 -p $(pgrep php-cgi | paste -sd "," -) -- sleep 20 <br> perf report</code> <br> <br>  (рдпрджрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдФрд░ perf рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рддрд╣рдд рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ perf рдХреЛ sudo рдХреЗ рддрд╣рдд рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ)ред <br><br><img src="https://habrastorage.org/webt/k9/vu/k6/k9vuk6sf37xhshipgvx2byw3xps.png"><br>  <i>PHP-FPM рдХреЗ рд▓рд┐рдП рд╕рдВрдкреВрд░реНрдг рд░рд┐рдкреЛрд░реНрдЯ рдЖрдЙрдЯрдкреБрдЯ рдЙрджрд╛рд╣рд░рдг</i> <br><br><h2>  XHProf рдФрд░ XHProf рдПрдЧреНрд░реАрдЧреЗрдЯрд░ </h2><br>  XHProf PHP рдХреЗ рд▓рд┐рдП рдПрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рд╣реИ рдЬреЛ рд╕рднреА рдХреЙрд▓ рдХреЛ рдлрд╝рдВрдХреНрд╢рди / рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдорд░ рдХреЗ рдЖрд╕рдкрд╛рд╕ рд░рдЦрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рддрд╛ рд╣реИред  Perf рдХреЗ рд╡рд┐рдкрд░реАрдд, рдпрд╣ рдЖрдкрдХреЛ PHP-code рдХреА рд╢рд░реНрддреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдЙрд╕реА рд╕рдордп, рдЬреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдореЗрдВ рд╣реЛ рд░рд╣рд╛ рд╣реИ рд╡рд╣ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ)ред <br><br>  рдиреБрдХрд╕рд╛рди рдореЗрдВ рджреЛ рдЪреАрдЬреЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: <br><br><ul><li>  рд╕рднреА рдорд╛рдк рдПрдХ рд╣реА рдЕрдиреБрд░реЛрдз рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░ рдПрдХрддреНрд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╡реЗ рдЪрд┐рддреНрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВ; <br></li><li>  рдУрд╡рд░рд╣реЗрдб, рд╣рд╛рд▓рд╛рдВрдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрддрдирд╛ рдмрдбрд╝рд╛ рдирд╣реАрдВ рд╣реИ</a> , рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬрдм Xdebug рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рд╣реИ, рдФрд░ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдмрд╣реБрдд рд╡рд┐рдХреГрдд рд╣реЛрддреЗ рд╣реИрдВ (рдЕрдзрд┐рдХ рдмрд╛рд░ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдЬрд┐рддрдирд╛ рдЖрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИ, рдЙрддрдирд╛ рд╣реА рдЕрдзрд┐рдХ рд╡рд┐рдХреГрддрд┐ рд╣реЛрддреА рд╣реИ)ред <br></li></ul><br>  рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдЬреЛ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">child1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">child2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parent1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ child1(); child2(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i = <span class="hljs-number"><span class="hljs-number">0</span></span>; $i &lt; <span class="hljs-number"><span class="hljs-number">1000000</span></span>; $i++) { parent1(); }</code> </pre> <br><img src="https://habrastorage.org/webt/iw/7m/y6/iw7my6irzq5xg7_soy7sfkqpj7m.png"><br>  <i>рдбреЗрдореЛ рдХреЗ рд▓рд┐рдП XHProf рдЖрдЙрдЯрдкреБрдЯ: рдкреЗрд░реЗрдВрдЯ 1 рдмрдЪреНрдЪреЗ 1 рдФрд░ рдЪрд╛рдЗрд▓реНрдб 2 рдХреЗ рдпреЛрдЧ рд╕реЗ рдЕрдзрд┐рдХ рдкрд░рд┐рдорд╛рдг рдХрд╛ рдЖрджреЗрд╢ рд╣реИ</i> <br><br>  рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ parent1 () рдЪрд╛рдЗрд▓реНрдб 1 () + рдЪрд╛рдЗрд▓реНрдб 2 () рдХреА рддреБрд▓рдирд╛ рдореЗрдВ ~ 500 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рд╕рдордп рддрдХ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпреЗ рд╕рдВрдЦреНрдпрд╛ рд▓рдЧрднрдЧ рдмрд░рд╛рдмрд░ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП, рдЬреИрд╕рд╛ рдХрд┐ рдореБрдЦреНрдп () рдФрд░ рдкреЗрд░реЗрдВрдЯ 1 () рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИред <br><br>  рдпрджрд┐ рдЕрдВрддрд┐рдо рдЦрд╛рдореА рд╕реЗ рд▓рдбрд╝рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ, рддреЛ рдкрд╣рд▓реЗ рдХрд╛ рдореБрдХрд╛рдмрд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдордиреЗ рдПрдХреНрд╕рдПрдЪрдкреНрд░реЛрдл рдХреЗ рд▓рд┐рдП рдПрдХ рдРрдб-рдСрди рдмрдирд╛рдпрд╛, рдЬреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХреЛ рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХрддреНрд░рд┐рдд рдбреЗрдЯрд╛ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  рдПрдХреНрд╕рдПрдЪрдкреНрд░реЛрдл рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХрдИ рдЕрдиреНрдп рдХрдо-рдЬреНрдЮрд╛рдд рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рд╣реИрдВ рдЬреЛ рдПрдХ рд╕рдорд╛рди рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдЙрдирдХреЗ рд╕рдорд╛рди рдлрд╛рдпрджреЗ рдФрд░ рдиреБрдХрд╕рд╛рди рд╣реИрдВред <br><br><h2>  Pinba </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдирдмрд╛</a> рдЖрдкрдХреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ (рдХреНрд░рд┐рдпрд╛) рдФрд░ рдкреВрд░реНрд╡-рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕рдордп рдХреЗ рдЕрдиреБрд╕рд╛рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рджрд░реНрд╢рди рдХреА рдирд┐рдЧрд░рд╛рдиреА</a> рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд▓рд┐рдкрд┐рдпреЛрдВ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕рднреА рдорд╛рдк рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдЕрддрд┐рд░рд┐рдХреНрдд рдХрджрдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдЯрд╛рдЗрдорд░ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреЗрдЯреНрд░реЗрдЬреЗрдЬ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</a> , рдЗрд╕рд▓рд┐рдП рд╣рдо рдареАрдХ рд╕реЗ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдХреЛрдб рдкрд░ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХрд╛ рдХрд┐рддрдирд╛ рд╕рдордп рдмрд┐рддрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ (рдирдореВрдирд╛ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░реЛрдВ рдХреЗ рд╡рд┐рдкрд░реАрдд, рдЬрд╣рд╛рдВ рдпрд╣ рд╕рдордп рдиреЗрдЯрд╡рд░реНрдХ, рдбрд┐рд╕реНрдХ, рдЖрджрд┐ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ)ред  рдкрд┐рдирд╛рдмрд╛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рдбреЗрдЯрд╛ рдХреЛ рдмрдЪрд╛рдиреЗ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдФрд░ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рднреАрддрд░ рдПрдХ рддрд╕реНрд╡реАрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/od/x5/qr/odx5qryl0ufhceiuyjkytjhtm0c.png"><br>  <i>рдкрд┐рдирдмрд╛ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╕рднреА рд▓рд┐рдкрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХреНрд░рдо</i> <br><br>  рдиреБрдХрд╕рд╛рди рдореЗрдВ рдпрд╣ рддрдереНрдп рд╢рд╛рдорд┐рд▓ рд╣реИ рдХрд┐ рдХреЛрдб рдХреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд░реНрдЧреЛрдВ рдХреЛ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯрд╛рдЗрдорд░, рдФрд░ рд╕рдВрдкреВрд░реНрдг рд▓рд┐рдкрд┐рдпреЛрдВ рдХреЛ рдирд╣реАрдВ, рдХреЛрдб рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рд╕рд╛рде рд╣реА рдПрдХ рдУрд╡рд░рд╣реЗрдб рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ (рдЬреИрд╕реЗ рдХрд┐ XHProf рдореЗрдВ) рдбреЗрдЯрд╛ рдХреЛ рд╡рд┐рдХреГрдд рдХрд░ рд╕рдХрддреА рд╣реИред <br><br><h2>  phpspy </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">phpspy</a> рдПрдХ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдирдИ рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╣реИ (GitHub рдкрд░ рдкрд╣рд▓реА рдкреНрд░рддрд┐рдмрджреНрдзрддрд╛ рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдереА), рдЬреЛ рдЖрд╢рд╛рдЬрдирдХ рд▓рдЧ рд░рд╣реА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕реЗ рдмрд╛рд░реАрдХреА рд╕реЗ рджреЗрдЦ рд░рд╣реЗ рд╣реИрдВред <br><br>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, phpspy рдкреВрд░реНрдг рдХреЗ рд╕рдорд╛рди рд╣реИ: рдПрдХ рд╕рдорд╛рдирд╛рдВрддрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХреА рдЬрд╛рддреА рд╣реИ, рдЬреЛ рд╕рдордп-рд╕рдордп рдкрд░ PHP рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдореЗрдореЛрд░реА рднрд╛рдЧреЛрдВ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рддреА рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдкрд╛рд░реНрд╕ рдХрд░рддреА рд╣реИ рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рд╕реНрдЯреИрдХ рдХреЗ рдирд┐рд╢рд╛рди рдФрд░ рдЕрдиреНрдп рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИред  рдпрд╣ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рддрд░реАрдХреЗ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдУрд╡рд░рд╣реЗрдб рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, phpspy PHP рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрдВрдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рджреМрд░рд╛рди рд╕реАрдзреЗ рдореЗрдореЛрд░реА рдХреЛ рдХреЙрдкреА рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░реЛрдлрд╛рдЗрд▓рд░ рдПрдХ рдЕрд╕рдВрдЧрдд рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд╕реНрдЯреИрдХ рдХреЗ рдирд┐рд╢рд╛рди рдХреЛ рддреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди phpspy рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рддрд░рд╣ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рддреНрдпрд╛рдЧ рд╕рдХрддрд╛ рд╣реИред <br><br>  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдЗрд╕ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд┐рддреНрд░ рдкрд░ рджреЛрдиреЛрдВ рдбреЗрдЯрд╛ рдХреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХрддреНрд░ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред <br><br><h2>  рддреБрд▓рдирд╛ рддрд╛рд▓рд┐рдХрд╛ </h2><br>  рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП рдПрдХ рдзреБрд░реА рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рддреЗ рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/bg/1a/bt/bg1abtxk-f8i5q83qm5teok3lbs.png"><br>  <i>рдкреНрд░реЛрдлрд╛рдЗрд▓рд░реЛрдВ рдХреА рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреА рддреБрд▓рдирд╛</i> <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреНрд╡рд╛рд▓рд╛ рд░реЗрдЦрд╛рдВрдХрди</a></i> <br><br><h1>  рдЕрдиреБрдХреВрд▓рди рдФрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдг </h1><br>  рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде, рд╣рдо рдЕрдкрдиреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдФрд░ рдЙрдкрдпреЛрдЧ рдХреА рд▓рдЧрд╛рддрд╛рд░ рдирд┐рдЧрд░рд╛рдиреА рдХрд░рддреЗ рд╣реИрдВред  рдЬрдм рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреБрдЪрд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рд╣рдо рдереНрд░реЗрд╢реЛрд▓реНрдб рдХреЗ рдкрд╛рд╕ рдЖ рд░рд╣реЗ рд╣реИрдВ (рд╕реАрдкреАрдпреВ рдХреЗ рд▓рд┐рдП рд╣рдордиреЗ рдЖрдиреБрднрд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП 55% рдХрд╛ рдорд╛рди рдЪреБрдирд╛ рд╣реИ), рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдКрдкрд░ рд▓рд┐рдЦрд╛ рдерд╛, рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рдорд╛рдзрд╛рди рдореЗрдВ рд╕реЗ рдПрдХ рдЕрдиреБрдХреВрд▓рди рд╣реИред <br><br>  рдареАрдХ рд╣реИ, рдЕрдЧрд░ рдЕрдиреБрдХреВрд▓рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд┐рд╕реА рдФрд░ рдиреЗ рдХрд┐рдпрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ PHP 7.0 рдХреЗ рд╕рд╛рде рд╣реБрдЖ рдерд╛, рдЬрдм рдпрд╣ рд╕рдВрд╕реНрдХрд░рдг рдкрд┐рдЫрд▓реЗ рд╡рд╛рд▓реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЙрддреНрдкрд╛рджрдХ рдирд┐рдХрд▓рд╛ред  рд╣рдо рдЖрдо рддреМрд░ рдкрд░ рдЖрдзреБрдирд┐рдХ рддрдХрдиреАрдХреЛрдВ рдФрд░ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ PHP рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдордп рдкрд░ рдЕрджреНрдпрддрди рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХреЗ</a> рдЕрдиреБрд╕рд╛рд░, PHP 7.1 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ PHP 7.2 5-12% рддреЗрдЬ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдкрд░рд┐рд╡рд░реНрддрди, рдЕрдлрд╕реЛрд╕, рд╣рдореЗрдВ рдмрд╣реБрдд рдХрдо рджрд┐рдпрд╛ред <br><br>  рд╣рд░ рд╕рдордп рд╣рдордиреЗ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЕрдиреБрдХреВрд▓рди рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЙрдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рджреГрдврд╝рддрд╛ рд╕реЗ рд╣рдорд╛рд░реЗ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рддрд░реНрдХ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред  рдореИрдВ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдЬреЛ рди рдХреЗрд╡рд▓ рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рдпрд╛ рд╣рдорд╛рд░реЗ рдХреЛрдб рдХреЗ рдмрд╛рд╣рд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдФрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h2>  рдЬрд╝рд╛рд▓рд┐рдм рд╕рдВрдкреАрдбрд╝рди =&gt; zstd </h2><br>  рд╣рдо рдмрдбрд╝реЗ рдореЗрдореЗрдХреА рдХреБрдВрдЬреА рдХреЗ рд▓рд┐рдП рд╕рдВрдкреАрдбрд╝рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рд╣рдореЗрдВ рд╕рдВрдкреАрдбрд╝рди / рдЕрдкрдШрдЯрди рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реАрдкреАрдпреВ рд▓рд╛рдЧрдд рдХреЗ рдХрд╛рд░рдг рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рддреАрди рд╕реЗ рдЪрд╛рд░ рдЧреБрдирд╛ рдХрдо рдореЗрдореЛрд░реА рдЦрд░реНрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд╣рдордиреЗ рдЗрд╕рдХреЗ рд▓рд┐рдП zlib рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ (рдореЗрдордХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рд╣рдорд╛рд░рд╛ рд╡рд┐рд╕реНрддрд╛рд░ PHP рдХреЗ рд╕рд╛рде рдЖрдиреЗ рд╡рд╛рд▓реЗ рд▓реЛрдЧреЛрдВ рд╕реЗ рдЕрд▓рдЧ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд▓реЛрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднреА</a> zlib рдХрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ</a> )ред <br><br>  рд╕рд╣реА рдореЗрдВ, рдЙрддреНрдкрд╛рджрди рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдерд╛: <br><br> <code>+    4.03%     0.22% php-cgi  libz.so.1.2.11      [.] inflate <br> +    3.38%     0.00% php-cgi  libz.so.1.2.11      [.] deflate</code> <br> <br>  рд╕рдордп рдХрд╛ 7-8% рд╕рдВрдкреАрдбрд╝рди / рдЕрдкрдШрдЯрди рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br>  рд╣рдордиреЗ рд╡рд┐рднрд┐рдиреНрди рд╕реНрддрд░реЛрдВ рдФрд░ рд╕рдВрдкреАрдбрд╝рди рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ zstd рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рдкрд░ рд▓рдЧрднрдЧ рджрд╕ рдЧреБрдирд╛ рддреЗрдЬреА рд╕реЗ рдЪрд▓рддрд╛ рд╣реИ, ~ 1.1 рдмрд╛рд░ рдЬрдЧрд╣ рдореЗрдВ рдЦреЛ рдЬрд╛рддрд╛ рд╣реИред  рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдореЗрдВ рдПрдХ рдХрд╛рдлреА рд╕рд░рд▓ рдкрд░рд┐рд╡рд░реНрддрди рдиреЗ рд╣рдореЗрдВ ~ 7.5% рд╕реАрдкреАрдпреВ (рдпрд╣, рдореБрдЭреЗ рдпрд╛рдж рд╣реИ, рд╣рдорд╛рд░реЗ рд╡реЙрд▓реНрдпреВрдо рдкрд░ ~ 45 рд╕рд░реНрд╡рд░ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ) рдмрдЪрд╛рдпрд╛ред <br><br>  рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрдкреАрдбрд╝рди рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдЕрдиреБрдкрд╛рдд рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрд╣реБрдд рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╡рд┐рднрд┐рдиреНрди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддреБрд▓рдирд╛рдПрдВ рд╣реИрдВ</a> , рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдпрд╣ рдХреЗрд╡рд▓ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><h2>  IS_ARRAY_IMMUT рд╢рд╛рдпрдж рд╣реА рдХрднреА рд╕рдВрд╢реЛрдзрд┐рдд рдбреЗрдЯрд╛ рдХреЗ рднрдВрдбрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ </h2><br>  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдРрд╕реЗ рдбреЗрдЯрд╛ рд╕реЗ рдирд┐рдкрдЯрдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреА рдЖрдкрдХреЛ рдЕрдХреНрд╕рд░ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рд╕реАрдорд┐рдд рдЖрдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕рдорд╛рди рдбреЗрдЯрд╛ рд╣реИ, рдПрдХ рдЕрдЪреНрдЫрд╛ рдЙрджрд╛рд╣рд░рдг <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рднрд╛рдЬрди рдкрд░реАрдХреНрд╖рдгреЛрдВ</a> рдХрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИред  рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдкрд░реАрдХреНрд╖рд╛ рдХреА рд╢рд░реНрддреЛрдВ рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдЖрддрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдФрд░ рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣рдо рдЙрд╕реЗ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдпрд╛ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ (рдпрд╣ рдЖрдкрдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рджреМрд░рд╛рди рд▓рдЧрднрдЧ рд╣реЛрддрд╛ рд╣реИ)ред  рдЕрдиреНрдп рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реЛ рд╕рдХрддреА рд╣реИрдВ: рджреЗрд╢, рд╢рд╣рд░, рднрд╛рд╖рд╛рдПрдВ, рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ, рдмреНрд░рд╛рдВрдб, рдЖрджрд┐ред <br><br>  рдЪреВрдВрдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рдбреЗрдЯрд╛ рдХрд╛ рдЕрдХреНрд╕рд░ рдЕрдиреБрд░реЛрдз рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЙрдирдХреА рд░рд╕реАрдж рдЖрд╡реЗрджрди рдкрд░ рдФрд░ рдЬрд┐рд╕ рд╕реЗрд╡рд╛ рдореЗрдВ рдпрд╣ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИ, рджреЛрдиреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдЕрддрд┐рд░рд┐рдХреНрдд рдмреЛрдЭ рдкреИрджрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдмрд╛рдж рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдкреАрд╕реАрдпреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдЬреЛ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд░реВрдк рдореЗрдВ рдкреАрдПрдЪрдкреА-рдПрдлрдкреАрдПрдо рдЪрд▓рд╛рдиреЗ рд╡рд╛рд▓реА рдПрдХ рд╣реА рдорд╢реАрди рдХреА рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА: <br><br><ul><li>  рдХреНрд░рдорд╛рдВрдХрди / deserialization рд▓рд╛рдЧрдд рд╣реЛрдЧреА; <br></li><li>  рдмрджрд▓рддреЗ рд╕рдордп рдЖрдкрдХреЛ рдХрд┐рд╕реА рддрд░рд╣ рдбреЗрдЯрд╛ рдХреЛ рдЕрдорд╛рдиреНрдп рдХрд░рдирд╛ рд╣реЛрдЧрд╛; <br></li><li>  PHP рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдЪрд░ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХреБрдЫ рдУрд╡рд░рд╣реЗрдб рд╣реИред <br></li></ul><br>  PHP 7.0 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">IS_ARRAY_IMMUTABLE</a> рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдкрд░рд┐рдЪрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЗрддрд╛</a> рд╣реИред  рдпрджрд┐ рдЖрдк рдПрдХ рд╕рд░рдгреА рдШреЛрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рдирдХреЗ рд╕рднреА рддрддреНрд╡ рд╕рдВрдХрд▓рди рдХреЗ рд╕рдордп рдЬреНрдЮрд╛рдд рд╣реИрдВ, рддреЛ рдЗрд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдПрдХ рдмрд╛рд░ OPCache рдореЗрдореЛрд░реА рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛, PHP-FPM рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдЗрд╕ рд╕рд╛рдЭрд╛ рдореЗрдореЛрд░реА рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрдкрдирд╛ рд╕рдордп рдЦрд░реНрдЪ рдХрд┐рдП рдмрд┐рдирд╛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рднреА рд╣реИ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рд╕рд░рдгреА рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдореЗрдВ рдЖрдХрд╛рд░ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рдирд┐рд░рдВрддрд░ рд╕рдордп рд▓рдЧреЗрдЧрд╛ (рдЖрдорддреМрд░ рдкрд░ ~ 1 рдорд╛рдЗрдХреНрд░реЛрд╕реЗрдХрдВрдб)ред <br><br>  рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП: рд╢рд╛рдорд┐рд▓ рдФрд░ apcu_fetch рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ 10,000 рддрддреНрд╡реЛрдВ рдХреА рдПрдХ рд╕рд░рдгреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг: <br><br><pre> <code class="php hljs">$t0 = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $a = <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">'test-incl-1.php'</span></span>; $t1 = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); printf(<span class="hljs-string"><span class="hljs-string">"include (%d): %d microsec\n"</span></span>, count($a), ($t1-$t0) * <span class="hljs-number"><span class="hljs-number">1e6</span></span>); $t0 = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); $a = apcu_fetch(<span class="hljs-string"><span class="hljs-string">'a'</span></span>); $t1 = microtime(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); printf(<span class="hljs-string"><span class="hljs-string">"apcu_fetch (%d): %d microsec\n"</span></span>, count($a), ($t1-$t0) * <span class="hljs-number"><span class="hljs-number">1e6</span></span>); <span class="hljs-comment"><span class="hljs-comment">//include (10000): 1 microsec //apcu_fetch (10000): 792 microsec</span></span></code> </pre><br>  рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рдЕрдиреБрдХреВрд▓рди рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрджрд┐ рдЖрдк рдЬрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП рдСрдкрдХреЛрдб рдХреЛ рджреЗрдЦреЗрдВ рддреЛ рдпрд╣ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs">$ cat immutable.php <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'key1'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'val1'</span></span>, <span class="hljs-string"><span class="hljs-string">'key2'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'val2'</span></span>, <span class="hljs-string"><span class="hljs-string">'key3'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'val3'</span></span>, ]; $ cat mutable.php <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'key1'</span></span> =&gt; \SomeClass::CONST_1, <span class="hljs-string"><span class="hljs-string">'key2'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'val2'</span></span>, <span class="hljs-string"><span class="hljs-string">'key3'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'val3'</span></span>, ]; $ php -d opcache.enable=<span class="hljs-number"><span class="hljs-number">1</span></span> -d opcache.enable_cli=<span class="hljs-number"><span class="hljs-number">1</span></span> -d opcache.opt_debug_level=<span class="hljs-number"><span class="hljs-number">0x20000</span></span> immutable.php $_main: ; (lines=<span class="hljs-number"><span class="hljs-number">1</span></span>, args=<span class="hljs-number"><span class="hljs-number">0</span></span>, vars=<span class="hljs-number"><span class="hljs-number">0</span></span>, tmps=<span class="hljs-number"><span class="hljs-number">0</span></span>) ; (after optimizer) ; /home/ubuntu/immutable.php:<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-8</span></span> L0 (<span class="hljs-number"><span class="hljs-number">4</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(...) $ php -d opcache.enable_cli=<span class="hljs-number"><span class="hljs-number">1</span></span> -d opcache.opt_debug_level=<span class="hljs-number"><span class="hljs-number">0x20000</span></span> mutable.php $_main: ; (lines=<span class="hljs-number"><span class="hljs-number">5</span></span>, args=<span class="hljs-number"><span class="hljs-number">0</span></span>, vars=<span class="hljs-number"><span class="hljs-number">0</span></span>, tmps=<span class="hljs-number"><span class="hljs-number">2</span></span>) ; (after optimizer) ; /home/ubuntu/mutable.php:<span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-8</span></span> L0 (<span class="hljs-number"><span class="hljs-number">4</span></span>): T1 = FETCH_CLASS_CONSTANT string(<span class="hljs-string"><span class="hljs-string">"SomeClass"</span></span>) string(<span class="hljs-string"><span class="hljs-string">"CONST_1"</span></span>) L1 (<span class="hljs-number"><span class="hljs-number">4</span></span>): T0 = INIT_ARRAY <span class="hljs-number"><span class="hljs-number">3</span></span> T1 string(<span class="hljs-string"><span class="hljs-string">"key1"</span></span>) L2 (<span class="hljs-number"><span class="hljs-number">5</span></span>): T0 = ADD_ARRAY_ELEMENT string(<span class="hljs-string"><span class="hljs-string">"val2"</span></span>) string(<span class="hljs-string"><span class="hljs-string">"key2"</span></span>) L3 (<span class="hljs-number"><span class="hljs-number">6</span></span>): T0 = ADD_ARRAY_ELEMENT string(<span class="hljs-string"><span class="hljs-string">"val3"</span></span>) string(<span class="hljs-string"><span class="hljs-string">"key3"</span></span>) L4 (<span class="hljs-number"><span class="hljs-number">6</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> T0</code> </pre><br>  рдкрд╣рд▓реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдУрдкрдХреЛрдб рд╣реИ - рд╕рдорд╛рдкреНрдд рд╕рд░рдгреА рдХреА рд╡рд╛рдкрд╕реАред  рджреВрд╕рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рдХрд╛ рддрддреНрд╡-рджрд░-рддрддреНрд╡ рдЧрдарди рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рд░ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрддреА рд╣реИред <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рдПрдХ рдРрд╕реЗ рд░реВрдк рдореЗрдВ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬрд┐рд╕реЗ рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдСрдЯреЛрд▓реЙрдб рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдмрд╛рд░ "_" рдФрд░ "\" рд╕рдВрдХреЗрддреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдЧ рдХреЗ рдирд╛рдореЛрдВ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдкрддреНрд░рд╛рдЪрд╛рд░ рдорд╛рдирдЪрд┐рддреНрд░ "рдХрдХреНрд╖рд╛ =&gt; рдкрде" рдХреЛ рдкреВрд░реНрд╡-рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд░реВрдкрд╛рдВрддрд░рдг рдлрд╝рдВрдХреНрд╢рди рдПрдХ рд╣реА рд╣реИрд╢ рдЯреЗрдмрд▓ рдХреЙрд▓ рдореЗрдВ рдХрдо рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдпрджрд┐ рдЖрдк <a href="">рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝-рдСрдЯреЛрд▓реИрдбрд░ рд╡рд┐рдХрд▓реНрдк рдХреЛ</a> рд╕рдХреНрд╖рдо рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╕рдВрдЧреАрддрдХрд╛рд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХрд░рддрд╛ рд╣реИред <br><br>  рдЗрд╕ рддрд░рд╣ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдЕрдорд╛рдиреНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ - PHP рдЦреБрдж рдХреЛ рдмрджрд▓рддреЗ рд╕рдордп рдлрд╝рд╛рдЗрд▓ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬреЛрдбрд╝ рджреЗрдЧрд╛, рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдХреЛрдб рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЗ рд╕рд╛рде рд╣реЛрдЧрд╛ред  рдПрдХрдорд╛рддреНрд░ рджреЛрд╖ рдЬрд┐рд╕реЗ рдЖрдкрдХреЛ рдирд╣реАрдВ рднреВрд▓рдирд╛ рдЪрд╛рд╣рд┐рдП: рдпрджрд┐ рдлрд╝рд╛рдЗрд▓ рдмрд╣реБрдд рдмрдбрд╝реА рд╣реИ, рддреЛ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рдмрд╛рдж рдкрд╣рд▓рд╛ рдЕрдиреБрд░реЛрдз рдПрдХ рдкреБрдирд░реНрдореВрд▓реНрдпрд╛рдВрдХрди рдХрд╛ рдХрд╛рд░рдг рд╣реЛрдЧрд╛, рдЬреЛ рдПрдХ рдореВрд░реНрдд рд╕рдордп рд▓реЗ рд╕рдХрддрд╛ рд╣реИред <br><br><h2>  рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╢рд╛рдорд┐рд▓ / рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </h2><br>  рд╕реНрдерд┐рд░ рд╕рд░рдгреА рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╡рд┐рдкрд░реАрдд, рд╡рд░реНрдЧ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдШреЛрд╖рдгрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдлрд╛рдЗрд▓реЗрдВ рд╕рдВрд▓рдЧреНрди рдХрд░рдирд╛ рдЗрддрдирд╛ рддреЗрдЬрд╝ рдирд╣реАрдВ рд╣реИред  OPCache рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рдмрд╛рд╡рдЬреВрдж, PHP рдЗрдВрдЬрди рдХреЛ рдЙрдиреНрд╣реЗрдВ рдкреНрд░реЛрд╕реЗрд╕ рдореЗрдореЛрд░реА рдореЗрдВ рдХреЙрдкреА рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдкреБрдирд░рд╛рд╡рд░реНрддреА рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рдирд╛, рдЬреЛ рдЕрдВрдд рдореЗрдВ рдкреНрд░рддрд┐ рдлрд╝рд╛рдЗрд▓ рд╕реИрдХрдбрд╝реЛрдВ рдорд╛рдЗрдХреНрд░реЛрд╕реЗрдХрдВрдб рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рд▓реЗ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдпрджрд┐ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рдореНрдлрдиреА 4.1</a> рдкрд░ рдПрдХ рдирдИ рдЦрд╛рд▓реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реВрдк рдореЗрдВ get_included_files ()</a> рдбрд╛рд▓рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ 310 рдлрд╛рдЗрд▓реЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬреБрдбрд╝реА рд╣реБрдИ рд╣реИрдВред  рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ, рдпрд╣ рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рддрд┐ рдЕрдиреБрд░реЛрдз рд╣рдЬрд╛рд░реЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреА рд╣реИред  рдпрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрд╛рддреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИред <br><br>  <b>рдСрдЯреЛ-рд▓реИрдбрд┐рдВрдЧ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЕрднрд╛рд╡</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлрдВрдХреНрд╢рди рдСрдЯреЛрд▓рдбрд┐рдВрдЧ рдЖрд░рдПрдлрд╕реА рд╣реИ</a> , рд▓реЗрдХрд┐рди рдХрдИ рд╡рд░реНрд╖реЛрдВ рд╕реЗ рдХреЛрдИ рд╡рд┐рдХрд╛рд╕ рдирд╣реАрдВ рджреЗрдЦрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдХрдореНрдкреЛрдЬрд╝рд░ рдореЗрдВ рдПрдХ рдирд┐рд░реНрднрд░рддрд╛ рд╡рд░реНрдЧ рдХреЗ рдмрд╛рд╣рд░ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИ рдФрд░ рдпреЗ рдлрд╝рдВрдХреНрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рд╕реБрд▓рдн рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рддреЛ рдпрд╣ рдСрдЯреЛрд▓реИрдбрд░ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЖрд░рдВрднреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде <a href="">рдПрдХ</a> рдлрд╝рд╛рдЗрд▓ рдХреЛ <a href="">рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдирд┐рд╡рд╛рд░реНрдп</a> рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдВрдкреЛрдЬрд╝рд░.рдЬрд╕рди рдореЗрдВ рд╕реЗ рдПрдХ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рджреВрд░ рдХрд░рдирд╛, рдЬреЛ рдХрдИ рдХрд╛рд░реНрдпреЛрдВ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдХреЛрдб рдХреА рдПрдХ рд╕реМ рд▓рд╛рдЗрдиреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рдордиреЗ рд╕реАрдкреАрдпреВ рдХрд╛ рдПрдХ-рджреЛ рдкреНрд░рддрд┐рд╢рдд рдЬреАрддрд╛ред <br><br>  <b>рдСрдЯреЛ-рд▓реЛрдбрд░ рдХреЛ рдЕрдзрд┐рдХ рдмрд╛рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рддрдирд╛ рдпрд╣ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИред</b> <br><br>  рд╡рд┐рдЪрд╛рд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдХрдХреНрд╖рд╛ рдХреЗ рд╕рд╛рде рдРрд╕реА рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБ: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">D</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AC1 = \E::E1;   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AC2 = \F::F1;   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $as3 = \G::G1;   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $as4 = \H::H1;   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $a5 = \I::I1;   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $a6 = \J::J1;   <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\K $k = null)</span></span></span><span class="hljs-function"> </span></span>{}   <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asf1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\L $l = null)</span></span></span><span class="hljs-function"> :? </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LR</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }   <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">asf2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\M $m = null)</span></span></span><span class="hljs-function"> :? </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MR</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }   <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">af3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\N $n = null)</span></span></span><span class="hljs-function"> :? </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NR</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }   <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">af4</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\P $p = null)</span></span></span><span class="hljs-function"> :? </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PR</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre> <br>  <b>рд░рдЬрд┐рд╕реНрдЯрд░ рдСрдЯреЛ-рд▓реЛрдбрд░:</b> <br><br><pre> <code class="php hljs">spl_autoload_register(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name)</span></span></span><span class="hljs-function"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Including $name...\n"</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">"$name.php"</span></span>; });</code> </pre> <br>  <b>рдФрд░ рд╣рдо рдЗрд╕ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдХрдИ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдмрдирд╛рдПрдВрдЧреЗ:</b> <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">'A.php'</span></span> Including B... Including D... Including C... \A::AC1 Including A... Including B... Including D... Including C... Including E... <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> A() Including A... Including B... Including D... Including C... Including E... Including F... Including G... Including H... Including I... Including J...</code> </pre><br>  рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЬрдм рд╣рдо рд╕рд┐рд░реНрдл рдХрд┐рд╕реА рддрд░рд╣ рд╡рд░реНрдЧ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдирд╣реАрдВ рдмрдирд╛рддреЗ рд╣реИрдВ, рддреЛ рдЕрднрд┐рднрд╛рд╡рдХ, рдЗрдВрдЯрд░рдлреЗрд╕ рдФрд░ рд▓рдХреНрд╖рдг рдЬреБрдбрд╝реЗ рд╣реЛрдВрдЧреЗред  рдпрд╣ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдкреБрдирд░рд╛рд╡рд░реНрддреА рдХреЗ рд░реВрдк рдореЗрдВ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ рдЬреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИред <br><br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╕рдордп, рд╕рднреА рд╕реНрдерд┐рд░рд╛рдВрдХ рдФрд░ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдЗрд╕рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдХрдиреЗрдХреНрд╢рди рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ, рдирдП рд╡рд░реНрдЧреЛрдВ рдХреЗ рд▓рдХреНрд╖рдг, рдорд╛рддрд╛-рдкрд┐рддрд╛ рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдкреБрдирд░рд╛рд╡рд░реНрддреА рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдХрд╛рд░рдг рднреА рд╣реЛрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/8a/qq/2t/8aqq2tf_8j-mixi8p_ydoypo-yo.png"><br>  <i>рдЙрджрд╛рд╣рд░рдг рдирд┐рд░реНрдорд╛рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдФрд░ рдЕрдиреНрдп рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрдмрдВрдзрд┐рдд рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛</i> <br><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдХреЛрдИ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд╣реИ, рдЖрдкрдХреЛ рдмрд╕ рдЗрд╕реЗ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдиреЗ рдФрд░ рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рдПрдХ рдкрдВрдХреНрддрд┐ рд╕реИрдХрдбрд╝реЛрдВ рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдЦреАрдВрдЪ рд╕рдХрддреА рд╣реИред <br><br>  <b>OPCache рд╕реЗрдЯрд┐рдВрдЧреНрд╕</b> <br><br>  рдпрджрд┐ рдЖрдк PHP рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛, рд░рд╕рдорд╕ рд▓реЗрд░рдбреЙрд░реНрдл рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рдорд▓рд┐рдВрдХ рдХреЛ рдмрджрд▓рдХрд░ рдкрд░рдорд╛рдгреБ рддреИрдирд╛рддреА</a> рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рд╕рд┐рдореНрд▓рд┐рдВрдХ рдХреЛ "рдЪрд┐рдкрдХреЗ" рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рд▓</a> рдХрд░рдиреЗ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдП</a> рдЖрдкрдХреЛ opcache.revalidid_path рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд▓реЗрдЦ</a> рдореЗрдВ OPCache рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рдореЗрд▓ рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдУрдкреЗрдХ рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред .Ru рд╕рдореВрд╣ред <br><br>  рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ (рдФрд╕рддрди, рдбреЗрдврд╝ рд╕реЗ рджреЛ рдмрд╛рд░) рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХрд╛ рд╕рдордп рдмрдврд╝рд╛рддрд╛ рд╣реИред  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдорд╛рддреНрд░рд╛ рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рд╕реЗ 7-9% рдХрд╛ рд▓рд╛рдн рдорд┐рд▓рд╛)ред <br><br>  рдЗрд╕реЗ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рджреЛ рдХрд╛рдо рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ: <br><br><ul><li>  рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЛ рд╕рд┐рдорд┐рд▓рд┐рдВрдХ рдХреЛ рд╣рд▓ рдХрд░рдирд╛; <br></li><li>  PHP рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдЕрдВрджрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рд╣рд╛рдиреБрднреВрддрд┐ рд░рдЦрдиреЗ рд╡рд╛рд▓реЗ рд░рд╛рд╕реНрддреЛрдВ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ рдмрдВрдж рдХрд░реЗрдВ, рдпрд╛ рдЙрдиреНрд╣реЗрдВ рд░реАрдбрд▓рд┐рдВрдХ () рдпрд╛ рд░рд┐рдпрд▓рдкрде () рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рдзреНрдп рдХрд░реЗрдВред <br></li></ul><br>  рдпрджрд┐ рд╕рднреА рдлрд╛рдЗрд▓реЗрдВ рдХрдореНрдкреЛрдЬрд╝рд░ рдСрдЯреЛрд▓реИрдбрд░ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реА рд╣реБрдИ рд╣реИрдВ, рддреЛ рдкрд╣рд▓реЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рджреВрд╕рд░реЗ рдЖрдЗрдЯрдо рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: omposer __DIR__ рдирд┐рд░рдВрддрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  OPCache рдХреЗ рдкрд╛рд╕ рдХреБрдЫ рдФрд░ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ рдЬреЛ рд▓рдЪреАрд▓реЗрдкрди рдХреЗ рдмрджрд▓реЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдмрдврд╝рд╛рд╡рд╛ рджреЗ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдк рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдХрд╛ рдореИрдВрдиреЗ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИред <br><br>  рдЗрди рд╕рднреА рдЕрдиреБрдХреВрд▓рди рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд╢рд╛рдорд┐рд▓ рдЕрднреА рднреА рдореБрдХреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдЗрд╕рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП, PHP 7.4 рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реАрд▓реЛрдб</a> рдЬреЛрдбрд╝рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рд╣реИред <br><br><h2>  рдПрдкреАрд╕реАрдпреВ рд▓реЙрдХ </h2><br>  рдпрджреНрдпрдкрд┐ рд╣рдо рдпрд╣рд╛рдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдирд╣реАрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдХреЛрдб рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рддрд╛рд▓реЗ рднреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреЛ рдмрдврд╝рд╛рддреЗ рд╣реИрдВред <br><br>  рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рдЕрдиреБрд░реЛрдз рдмрдврд╝рддрд╛ рдЧрдпрд╛, рд╣рдордиреЗ рдЪрд░рдо рд╕рдордп рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рддреАрд╡реНрд░ рдордВрджреА рджреЗрдЦреАред  рдХрд╛рд░рдгреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдпрджреНрдпрдкрд┐ рдПрдкреАрд╕реАрдпреВ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рддреЗрдЬрд╝ рддрд░реАрдХрд╛ рд╣реИ (рдореЗрдореЗрдЪреЗ, рд░реЗрдбрд┐рд╕ рдФрд░ рдЕрдиреНрдп рдмрд╛рд╣рд░реА рднрдВрдбрд╛рд░рдг рдХреА рддреБрд▓рдирд╛ рдореЗрдВ), рдпрд╣ рдПрдХ рд╣реА рдХреБрдВрдЬреА рдХреЗ рд▓рдЧрд╛рддрд╛рд░ рдУрд╡рд░рд░рд╛рдЗрдЯрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдзреАрд░реЗ-рдзреАрд░реЗ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/hs/05/gc/hs05gcwvqozrqews1ewwtsskdyo.png"><br>  <i>рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдФрд░ рд░рдирдЯрд╛рдЗрдо рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛: 16 рдФрд░ 17 рдЕрдХреНрдЯреВрдмрд░ рдХреЛ рдЪреЛрдЯрд┐рдпрд╛рдВ</i> <br><br>  рдХреИрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдкреАрд╕реАрдпреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдЗрддрдиреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХреИрд╢рд┐рдВрдЧ рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рджреБрд░реНрд▓рдн рд▓реЗрдЦрди рдФрд░ рдЕрдХреНрд╕рд░ рдкрдврд╝рдиреЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХреБрдЫ рдХрд╛рд░реНрдпреЛрдВ рдФрд░ рдПрд▓реНрдЧреЛрд░рд┐рджрдо (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">PHP рдореЗрдВ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a> )) рдореЗрдВ рдЕрдХреНрд╕рд░ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИ, рдЬреЛ рддрд╛рд▓реЗ рдХрд╛ рдХрд╛рд░рдг рдмрдирддреА рд╣реИред <br><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдХреЛрдИ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд░реНрдХрд┐рдЯ рдмреНрд░реЗрдХрд░ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЗрд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ PHP рдХреЗ рд╕рд╛рде рдорд╢реАрдиреЛрдВ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд▓рдЧ рд╕реЗрд╡рд╛</a> рдореЗрдВ рдбрд╛рд▓рдХрд░ред <br><br><h2>  рдмреИрдЪ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг </h2><br>  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдзреНрдпрд╛рди рдореЗрдВ рдирд╣реАрдВ рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдорддреМрд░ рдкрд░ рдХреНрд╡реЗрд░реА рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХрд╛ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣рд┐рд╕реНрд╕рд╛ рдЕрднреА рднреА рдЖрд░рдВрднреАрдХрд░рдг рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдПрдХ рд░реВрдкрд░реЗрдЦрд╛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдбреАрдЖрдИ рдХрдВрдЯреЗрдирд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ рдФрд░ рдЗрд╕рдХреА рд╕рднреА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╢реБрд░реВ рдХрд░рдирд╛, рд╕рднреА рд╢реНрд░реЛрддрд╛рдУрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛, рд╕рддреНрд░ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛), рд╕рддреНрд░, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛, рдФрд░ рдЗрд╕реА рддрд░рд╣ред рдкрд░ред <br><br>  рдпрджрд┐ рдЖрдкрдХрд╛ рдмреИрдХрдПрдВрдб рдХрд┐рд╕реА рдЪреАрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрдВрддрд░рд┐рдХ рдПрдкреАрдЖрдИ рд╣реИ, рддреЛ рдХреБрдЫ рдЦрд╛рд╕ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдмрдВрдбрд▓ рдХрд░рдХреЗ рдПрдХрд▓ рдЕрдиреБрд░реЛрдз рдХреЗ рд░реВрдк рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдХрдИ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╛рд░ рдкреНрд░рд╛рд░рдВрдн рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>      ,   ,    .    -  ,          .       . <br><br><h2>    </h2><br>    Badoo   ,     .    PHP-FPM,      CPU,   ,            ,    :        IO, CPU  . <br><br>      PHP-FPM    тАФ  ,          PHP. <br><br>         (CPU, IO),    . , ,       ,  ,    -     ,        .        ,     .   ,  ,      . <br><br><h1>  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br>        .                    PHP     . <br><br>  : <br><br><ul><li>       ; <br></li><li>     ; <br></li><li>  -  ,  :  ,    ; <br></li><li>   :       (, ,  ); <br></li><li>    :     ; <br></li><li>   , OPCache    PHP,  , ,   ; <br></li><li>    :       (, ,   PHP 7.2   ,   ); <br></li><li>    : ,        . <br></li></ul><br>       ? <br><br>  рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi430722/">https://habr.com/ru/post/hi430722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi430710/index.html">рдпрджрд┐ рдмреНрд▓реИрдХ рдлреНрд░рд╛рдЗрдбреЗ рдХрд▓ рд╣реИ рдФрд░ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рддреИрдпрд╛рд░ рдирд╣реАрдВ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рдХрд░реЗрдВ</a></li>
<li><a href="../hi430712/index.html">NeurIPS: рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдПрдордПрд▓ рд╕рдореНрдореЗрд▓рди рдХреИрд╕реЗ рдЬреАрддреЗрдВ</a></li>
<li><a href="../hi430714/index.html">рд╡реАрдПрдорд╡реЗрдпрд░ рд╣реЗрдкреНрдЯрд┐рдпреЛ рдЦрд░реАрджрддрд╛ рд╣реИ - рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ</a></li>
<li><a href="../hi430718/index.html">рдХреНрд▓рд╛рдЙрдб рд╡реАрдбрд┐рдпреЛ рдирд┐рдЧрд░рд╛рдиреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдХрд┐рди рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд╛рдпрдХ рд╣реИ?</a></li>
<li><a href="../hi430720/index.html">Intel RealSense D435i: рдЫреЛрдЯрд╛ рдЕрджреНрдпрддрди рдФрд░ рдЫреЛрдЯрд╛ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд╡рд┐рд╖рдпрд╛рдВрддрд░</a></li>
<li><a href="../hi430724/index.html">DEFCON 21. DNS рд╕рдореНрдореЗрд▓рди рдЖрдкрдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗ рд▓рд┐рдП рдЦрддрд░рдирд╛рдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рднрд╛рдЧ 1</a></li>
<li><a href="../hi430728/index.html">рдореБрдЭреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджреЗрдирд╛ рд╕рд┐рдЦрд╛рдПрдВ</a></li>
<li><a href="../hi430730/index.html">R & D ABBYY рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВ: рдПрдирдПрд▓рдкреА рдПрдбрд╡рд╛рдВрд╕реНрдб рд░рд┐рд╕рд░реНрдЪ рдЧреНрд░реБрдк</a></li>
<li><a href="../hi430732/index.html">рд╡рд┐рднрд╛рдЬрди рдФрд░ рдЯреАрдЖрдИ рдХреЗ рд╕рд╡рд╛рд▓ рдкрд░</a></li>
<li><a href="../hi430734/index.html">рд╕реНрдорд╛рд░реНрдЯ рдЕрдкрдбреЗрдЯ рдмрдирд╛рдо рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>