<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üé™ üë©üèæ‚Äçüé§ Experiencia en el uso de pantallas LCD basadas en productos MELT üñêÔ∏è üßôüèø üë®üèæ‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo est√° dedicado a una aventura de aventura emocionante que tuve que atravesar en el proceso de crear un sensor externo actualizado para la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experiencia en el uso de pantallas LCD basadas en productos MELT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430828/"> Este art√≠culo est√° dedicado a una aventura de aventura emocionante que tuve que atravesar en el proceso de crear un sensor externo actualizado para la estaci√≥n meteorol√≥gica descrita <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠ en este art√≠culo hace</a> un a√±o y medio.  De acuerdo con la experiencia operativa de la versi√≥n anterior, realmente quer√≠a crear un sensor con una pantalla de control para que fuera posible verificar peri√≥dicamente (y verificar) el componente m√°s caprichoso de la estaci√≥n: el sensor de velocidad del viento.  Las aventuras comenzaron cuando comenc√© a seleccionar una pantalla para este prop√≥sito y, por varias razones, sobre las cuales, me decid√≠ por los productos de mi MELT nativo.  Pero antes de continuar describiendo las <s>t√©cnicas de las</s> formas <s>sexuales no tradicionales</s> para hacer frente a los productos de esta compa√±√≠a que he elegido, vale la pena considerar brevemente la raz√≥n principal de toda esta grandiosa modernizaci√≥n que comenc√©. <br><a name="habracut"></a><br>  En los comentarios a ese art√≠culo, me se√±alaron correctamente sobre el dise√±o de los sensores que el eje de dicho dispositivo debe tener una punta s√≥lida y descansar sobre una base igualmente s√≥lida (recuerde un reloj de pulsera "en tantas piedras").  Por supuesto, lo sab√≠a, pero no pod√≠a pensar en una forma de proporcionar un eje de luz con un punto afilado de suficiente dureza, por lo tanto, por el contrario, tom√© el camino de minimizar la fricci√≥n sumergiendo una punta de lat√≥n (para veleta) o dural (para sensor de velocidad) en un PTFE suave (ver Dibujante en el art√≠culo especificado).  En pleno entendimiento, que esta decisi√≥n es temporal y de corta duraci√≥n y en el futuro cercano ser√° necesario llegar a algo m√°s sustantivo. <br><br>  Sin embargo, el resultado de las √∫ltimas dos temporadas de operaci√≥n mostr√≥ que tal soluci√≥n es bastante adecuada para una veleta, que, por supuesto, aserr√≥ la base fluoropl√°stica al metal con un eje de lat√≥n, pero no lo lastim√≥ en absoluto: no se requiere fricci√≥n m√≠nima all√≠, incluso parcialmente al rev√©s.  Fue peor con un sensor de velocidad, en el cual no solo se cort√≥ el fluoropl√°stico en la base, sino tambi√©n la punta misma de un duraluminio suave borrado de dos mil√≠metros de longitud.  Como resultado, en primer lugar, el umbral para comenzar se increment√≥ inaceptablemente y el sensor tuvo que modernizarse.  El anem√≥metro en s√≠ tambi√©n se someti√≥ a modernizaci√≥n, ya que el disco compacto l√°ser sobre cuya base se estratific√≥ del sol y adquiri√≥ una apariencia desordenada (tampoco sab√≠a anteriormente que los discos compactos constan de dos capas). <br><br>  Espero contarle m√°s sobre el nuevo sensor m√°s tarde, despu√©s de que est√© al menos un poco en funcionamiento y pueda asegurarse de que no tenga que modificar nada a la vez (es decir, no antes del comienzo del verano).  Y ahora solo algunos detalles sobre los cambios en el circuito de medici√≥n, ya que est√°n relacionados con el tema principal de este art√≠culo. <br><br><h2>  Sobre el circuito de medici√≥n del sensor </h2><br>  En relaci√≥n con la disminuci√≥n del umbral de inicio, surgi√≥ la cuesti√≥n del considerable tiempo que lleva medir las bajas frecuencias que provienen del sensor de velocidad (para m√°s detalles, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta publicaci√≥n</a> sobre m√©todos para medir bajas frecuencias).  Para no limitar el umbral de arranque artificial, en este caso debemos medir frecuencias a partir de 1-2 hertzios: teniendo en cuenta que el sensor tiene 16 agujeros en un c√≠rculo (ver foto del sensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el art√≠culo original</a> ), esto corresponde a aproximadamente una revoluci√≥n en 8-16 segundos, que obviamente es m√°s bajo que cualquier umbral para comenzar.  Es decir, el tiempo de espera para esperar la llegada del siguiente pulso de frecuencia debe ser de al menos 1 s (consulte el art√≠culo indicado sobre los m√©todos de medici√≥n), lo que tiene sentido de la historia de ahorro de energ√≠a: para obtener un tiempo de actualizaci√≥n aceptable y al mismo tiempo lograr promediar los datos para evitar la charla en la pantalla, Tenemos que activar el controlador cada dos segundos.  Y si la mitad de ellos se tomar√° el tiempo de esperar los pulsos, entonces no habr√° ahorro de energ√≠a, teniendo en cuenta el hecho de que el LED emisor del sensor ha estado funcionando todo este tiempo, consumiendo aproximadamente 20 mA. <br><br><div class="spoiler">  <b class="spoiler_title">Algunos detalles entre par√©ntesis</b> <div class="spoiler_text">  Observo entre par√©ntesis que, en relaci√≥n con este problema, record√© de inmediato el medidor actual que fue dise√±ado en nuestra oficina de dise√±o a principios de los a√±os ochenta, incluso antes de la aparici√≥n de todo tipo de controladores.  En √©l se implement√≥ el promedio real de vectores: a saber, la grabaci√≥n de todas las lecturas fue sincronizada por la se√±al de la plataforma giratoria del sensor de velocidad, un an√°logo aproximado del despertar de una interrupci√≥n externa.  En otras palabras, si no hay corriente, entonces no se realiz√≥ ninguna grabaci√≥n y el circuito no consumi√≥ nada: solo funcionaban los relojes en tiempo real.  El umbral para el inicio de ese plato giratorio, hecho en forma de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">impulsor</a> con flotabilidad cero, era, para decir la verdad, 2-3 cm / seg, y el medidor indicaba la direcci√≥n girando todo el cuerpo.  ¬°Entonces est√° en el agua, que es 700 veces m√°s densa que el aire!  Durante el tiempo promedio, que ascendi√≥ a horas, un molinete de este tipo giraba al menos una vez, porque all√≠ casi no hab√≠a mediciones vac√≠as.  Y para una estaci√≥n meteorol√≥gica, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">como ya se mencion√≥</a> , un m√©todo de promedio matem√°ticamente correcto no es adecuado, ya que en ausencia de viento deber√≠a mostrar algo real.  Por lo tanto, aqu√≠ no podemos prescindir de un tiempo de espera artificialmente limitado para esperar pulsos del sensor. <br></div></div><br>  Es posible equipar el control complejo del despertar del controlador desde dos fuentes: normalmente, desde una interrupci√≥n externa del sensor de velocidad (es decir, mientras se esperan pulsos del sensor, el controlador tambi√©n pasa al modo de ahorro de energ√≠a), y en ausencia de viento, el Watchdog lo fuerza.  Esto tendr√≠a sentido solo cuando se cambia el principio de leer el sensor de velocidad de circuitos √≥pticos a circuitos que consumen menos energ√≠a (que a√∫n deben buscarse; el sensor Hall, por ejemplo, consume 5-10 mA, que es fundamentalmente menos que el dise√±o √≥ptico).  Pero todo se simplific√≥ debido al hecho de que mi sensor ahora funciona con una bater√≠a solar, lo que me permiti√≥ simplemente abandonar el modo de ahorro de energ√≠a. <br><br>  Para ver las lecturas, no me molest√© con los temporizadores ni cont√© Arduino millis (), sino que simplemente configur√© un generador de frecuencia externo primitivo con un per√≠odo de aproximadamente 1.5 segundos en el temporizador 555: <br><br><img src="https://habrastorage.org/webt/hn/o0/ig/hno0igehcu7spf5ge0q4fx9jynu.png" width="400"><br>  Como recordamos, el circuito del sensor usa el controlador Atmega328 "desnudo" en el paquete DIP, programado a trav√©s de Uno e instalado en el z√≥calo; Arduino se usa solo para la creaci√≥n de prototipos.  La salida del generador se ajust√≥ a la salida de interrupci√≥n INT0, pin 4 del microcircuito (pin D2 de la placa Uno).  La interrupci√≥n de diferencia positiva (RISING) establece un determinado indicador, seg√∫n el cual se toma la siguiente lectura en el ciclo principal.  La frecuencia del sensor tambi√©n se mide mediante el m√©todo de interrupci√≥n (la salida del sensor est√° conectada a la entrada de interrupci√≥n INT1, pin 4 (D3), consulte el √∫ltimo m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el mismo art√≠culo</a> ), porque el tiempo de espera total m√°ximo es el doble del per√≠odo de la frecuencia medida.  Con un tiempo de espera de 1 segundo, la frecuencia m√≠nima medida es de 2 Hz (una revoluci√≥n del anem√≥metro en 8 segundos).  En cada cuarto ciclo, se produce un promedio y los datos terminados se env√≠an al m√≥dulo principal, es decir, las lecturas se actualizan aproximadamente cada 6 segundos. <br><br>  Toda la historia con un sensor actualizado tendr√° que calibrarse y verificarse peri√≥dicamente para ver si la fricci√≥n ha aumentado, comparando las lecturas con un anem√≥metro manual.  Por lo tanto, es muy inconveniente cuando las lecturas se muestran en un lugar (en la casa) y el sensor externo se instala en un lugar completamente diferente: en la glorieta del jard√≠n.  Surgi√≥ la pregunta sobre la instalaci√≥n de una pantalla LCD de control en la carcasa del sensor.  Dado que aqu√≠ no se requiere belleza, los requisitos de informaci√≥n para ella son m√≠nimos: una pantalla de 10 caracteres de una sola l√≠nea es suficiente.  Pero los requisitos geom√©tricos son bastante estrictos: la pantalla debe caber en el ancho del gabinete existente, que es de 70 mm.  Debo decir que debido a mi aversi√≥n org√°nica por las pantallas LCD (tenue, de bajo contraste, con letras min√∫sculas, repugnante calidad de la luz de fondo y tambi√©n consume mucho, m√°s sobre eso m√°s adelante), casi no soy consciente del rango disponible en el comercio minorista.  Y de inmediato qued√≥ claro que las pantallas que necesitaba ten√≠an que ser muy buscadas a la venta: la pantalla LCD est√°ndar de 16x2, que es dominante en las tiendas, tiene una placa de 80 mm de largo y no puede caber en mi sensor, y todos los dem√°s tipos son incluso m√°s grandes, independientemente de la empresa  En la naturaleza, por supuesto, hay variedades m√°s peque√±as, pero luego en la naturaleza, y no en el comercio minorista nacional. <br><br><h2>  Soluci√≥n: ¬°oh, MELT! </h2><br>  Al final, descubr√≠ dos MELT a la vez que encajaban maravillosamente en mi tarea.  El primero de ellos es un MT-10S1 de 10 caracteres de una sola l√≠nea con un controlador que, seg√∫n los fabricantes, "es <i>similar al HD44780 de HITACHI y KS0066 de SAMSUNG</i> ".  Tiene caracteres bastante grandes: m√°s de 8 mm de altura, lo que en realidad es caracter√≠stico de las pantallas chinas de tama√±os mucho m√°s grandes.  El ancho del tablero es de 66 mm, las dimensiones de la pantalla sobresaliente (externa) son 62x19.5.  El consumo en este caso no me molesta mucho (porque el sensor externo est√° alimentado por una bater√≠a solar de una potencia obviamente mayor que la necesaria), pero por costumbre, al mirar la l√≠nea en la hoja de datos, descubr√≠ que tambi√©n es m√°s peque√±o de lo habitual: 0,7 mA (todas las pantallas LCD comunes) pantallas en an√°logos de HD44780 consumen desde 1.2 mA y superior).  Todav√≠a hay una luz de fondo en el mont√≥n, como es habitual para todos estos tipos, bastante miserable y al mismo tiempo consume mucha energ√≠a. <br><br><img src="https://habrastorage.org/webt/6h/j2/wp/6hj2wpcmpeo_32v2pui7fxdbqwm.png" width="400"><br><br>  La segunda pantalla del MT-10T7 es a√∫n m√°s sorprendente: exactamente en las mismas dimensiones caben 10 d√≠gitos de siete segmentos con una altura de hasta 13 mm.  Algunas sospechas fueron causadas por una interfaz no est√°ndar y, aparentemente, una interfaz propia (para la cual el ejemplo de programaci√≥n en pseudoc√≥digo verbal incluso se da en la hoja de datos).  La pantalla no contiene un controlador real: hay un conjunto de disparadores est√°ticos controlados por l√≥gica combinacional.  Pero gracias a esta simplicidad, todo este dise√±o consume solo 30 ŒºA, es decir, es realmente adecuado para dispositivos que funcionan con bater√≠a durante todo el d√≠a (el consumo de 1.4 mA en pantallas convencionales e incluso 0.7 mA en MT-10S1 es mucho m√°s alto de lo permitido para tales dispositivos). aplicaci√≥n del valor: calcule por s√≠ mismo cu√°nto tiempo funcionar√° dicha pantalla, incluso sin tener en cuenta los componentes restantes del dispositivo, por ejemplo, de bater√≠as AAA con una capacidad de aproximadamente 1500 mAh). <br><br><img src="https://habrastorage.org/webt/4c/dv/ki/4cdvkitbls9tkoihtq7swvmauly.png" width="400"><br><br>  En resumen, ¬°da dos! <br><br><h2>  MT-10T7 </h2><br>  Un intento de reproducir independientemente el algoritmo para MT-10T7, descrito en la hoja de datos (tanto en Arduino como en ensamblador puro), no condujo al √©xito.  Lo que se hizo mal, no lo entend√≠, porque me encontr√© con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta publicaci√≥n</a> , donde el autor (eshkinkot) dio un ejemplo muy bien escrito y bien ejecutado del manejo del MT-10T7, despu√©s de lo cual todo funcion√≥ de inmediato.  Si alguien est√° interesado, <a href="">aqu√≠ hay un</a> ejemplo modificado de eshkinkot, complementado con todos los s√≠mbolos significativos que son v√°lidos en los indicadores de siete d√≠gitos, incluidas las letras que no coinciden con los n√∫meros: <br><br><img src="https://habrastorage.org/webt/hz/1u/4_/hz1u4_8n0uolveo40f-osvuitua.jpeg" width="400"><br><img src="https://habrastorage.org/webt/lk/wo/4g/lkwo4gmlxuqqfkmntzs13krvitc.jpeg" width="400"><br><img src="https://habrastorage.org/webt/n6/dd/pj/n6ddpjvxujkqk82ballqqvmua3w.jpeg" width="400"><br><img src="https://habrastorage.org/webt/gm/qq/x0/gmqqx0kwdiutig9tfvwrtuq2mtq.jpeg" width="400"><br><br>  En estas im√°genes, el contraste de la pantalla se distorsiona ligeramente al configurar el divisor para que produzca Vo - 18 kOhm (a potencia): 10 kOhm (a tierra), aunque sin √©l el contraste "predeterminado" es bastante aceptable. <br><br>  Luego agregu√© al ejemplo indicado una funci√≥n que reproduce un n√∫mero arbitrario en la pantalla dentro de tres a cuatro decimales: positivo o negativo, entero o coma flotante, es decir, el n√∫mero total de caracteres puede llegar a cinco: "-12.7", por ejemplo.  Dado que el punto en el c√≥digo de siete segmentos no ocupa una familiaridad separada, el n√∫mero m√°ximo de bits que se muestra es 4. Los par√°metros de entrada para esta funci√≥n son: a) una matriz (char buf [5]) que contiene una representaci√≥n ACSII del n√∫mero, b) el n√∫mero real de caracteres que contiene (ii de 1 a 5) yc) la posici√≥n (pos de 0 a 9) donde colocar el primer signo (izquierdo) del n√∫mero (para las funciones y la notaci√≥n utilizadas en el camino, consulte la publicaci√≥n indicada por eshkinkot o en el ejemplo por referencia): <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de funci√≥n</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeASCIIdig_serial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> buf[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">], byte ii, byte pos)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//      { boolean dot; //     //  ,   pos: pos=pos+(4-ii); //  ,    : for (byte i=0; i &lt;= ii; i++) if (buf[i]=='.') pos++; // : for (byte i=0; i &lt;= ii; i++){ // .  ,    : if (buf[i+1]=='.') dot=true; else dot=false; switch (buf[i]) { //decoder ASCII -&gt; 7-  case '0': writeSymbol(pos, DIGIT_ZERO, dot); break; case '1': writeSymbol(pos, DIGIT_ONE, dot); break; case '2': writeSymbol(pos, DIGIT_TWO, dot); break; case '3': writeSymbol(pos, DIGIT_THREE, dot); break; case '4': writeSymbol(pos, DIGIT_FOUR, dot); break; case '5': writeSymbol(pos, DIGIT_FIVE, dot); break; case '6': writeSymbol(pos, DIGIT_SIX, dot); break; case '7': writeSymbol(pos, DIGIT_SEVEN, dot); break; case '8': writeSymbol(pos, DIGIT_EIGHT, dot); break; case '9': writeSymbol(pos, DIGIT_NINE, dot); break; case '-': writeSymbol(pos, SYMBOL_MINUS, dot); break; } //end decoder if (buf[i]!='.') pos++; //  ,  +1  }//end for i }</span></span></span></span></code> </pre> <br></div></div><br>  El m√≥dulo MT-10T7 para la salida de control de valores num√©ricos es m√°s conveniente que las pantallas de matriz de l√≠nea ordinarias: tiene d√≠gitos grandes y el punto decimal no ocupa una familiaridad separada y, por lo tanto, puede colocar un car√°cter m√°s en las mismas posiciones.  Pero para mis prop√≥sitos es m√°s conveniente si existe la posibilidad de generar letras (de lo contrario, la direcci√≥n tendr√° que mostrarse en grados de br√∫jula, lo cual es algo inusual).  Por lo tanto, para este caso, volv√≠ mis ojos a la matriz de una sola l√≠nea de tama√±o id√©ntico MT-10S1, que, a pesar de una serie de inconvenientes, migr√≥ al dise√±o terminado.  Al mismo tiempo, √©l ya tiene una luz de fondo, que carece de MT-10T7 (para esto era necesario comprar MT-10T8 de inmediato), y decid√≠ que en este caso su presencia no doler√≠a. <br><br><h2>  MT-10S1 </h2><br>  La pantalla MT-10S1 tiene letras una vez y media m√°s peque√±as, pero tambi√©n un tama√±o bastante decente.  Adem√°s, su pantalla est√° econ√≥micamente empaquetada en dimensiones generales: no hay contrapartes de importaci√≥n de 10 d√≠gitos, pero en el Winstar WH1601L (donde los caracteres son incluso un poco m√°s cortos en altura) un mil√≠metro completo es m√°s de un signo de la longitud total del tablero y la pantalla.  Bueno, el consumo del controlador est√° casi a la mitad (en comparaci√≥n con el mismo WH1601L).  En realidad, las ventajas terminan all√≠, luego comienzan las "caracter√≠sticas". <br><br>  El m√≥dulo se jacta de que, como ya se mencion√≥, tiene un controlador compatible con HD44780 de HITACHI.  Es decir, deber√≠a trabajar con su amado Cristal L√≠quido sin un estr√©s excesivo.  Adem√°s, la p√°gina de codificaci√≥n "predeterminada" coincide con la p√°gina en ingl√©s-cir√≠lico de HD44780 y sus muchos an√°logos, es decir, MT-10S1 deber√≠a funcionar con Liquid Crystal Rus sin ning√∫n problema, no se requieren p√°ginas de c√≥digos para que esto se cambie.  Y √©l realmente hace todo esto, pero con matices. <br><br>  El primer matiz es que en la versi√≥n de una sola l√≠nea, los desarrolladores aparentemente ahorran en registros, y solo 8 caracteres de una cadena (direcciones 00h - 07h) est√°n en la memoria por registro (los dos caracteres restantes ya est√°n en otro registro (40h-41h).  Es decir, la pantalla de facto es de dos l√≠neas, solo ambas l√≠neas est√°n ubicadas f√≠sicamente en una l√≠nea.  Tras un examen m√°s detallado, result√≥ que lo mismo es cierto para WH1601 (solo all√≠ el segundo registro toma ocho d√≠gitos completos).  No est√° claro por qu√© se hace de manera tan inconveniente, en general los registros de pantallas de 16x2 son de diecis√©is bits, y tal truncamiento apenas hace que el producto sea m√°s barato, m√°s bien, por el contrario, debido a la necesidad de producir diferentes versiones del controlador (si son diferentes, de lo que no estoy seguro).  Pens√© que estaba asociado con un consumo menor de lo habitual de MT-10S1, pero el mismo WH1601 consume 1.2-1.4 mA, es decir, no es diferente de sus hom√≥logos avanzados. <br><br>  Bueno, parece que est√° bien, en Liquid Crystal Rus, se encontraron la funci√≥n setDRAMModel () y la constante constante LCD_DRAM_WH1601.  Para este modo, la biblioteca tiene una traducci√≥n de direcci√≥n obvia: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ac&gt;<span class="hljs-number"><span class="hljs-number">7</span></span> &amp;&amp; ac&lt;<span class="hljs-number"><span class="hljs-number">0x14</span></span>) command(LCD_SETDDRAMADDR | (<span class="hljs-number"><span class="hljs-number">0x40</span></span>+ac<span class="hljs-number"><span class="hljs-number">-8</span></span>));</code> </pre> <br>  Pero no s√© c√≥mo funciona en otras pantallas de una sola l√≠nea, y el MT-10S1 se niega completamente a funcionar en este modo: la pantalla permanece en blanco.  Como estamos hablando de direccionamiento, no podr√° arreglar esto con una simple funci√≥n autoescrita en la parte superior de la biblioteca, pero no busqu√© en la biblioteca y descubr√≠ cu√°l es el problema: ya tengo m√°s de media docena de opciones corregidas de cristal l√≠quido, no quiero producirlas y m√°s lejos <br><br>  La pantalla del MT-10S1 debe declararse como de dos l√≠neas: lcd.begin (16, 2);  (en lugar de 16 puede sustituir 10 o 12, nada cambiar√°, ya que el n√∫mero real de caracteres en una l√≠nea sigue siendo 8).  Un intento de inicializarlo como una sola l√≠nea (n√∫mero 1 en la segunda posici√≥n) conducir√° a una falla: el fondo se oscurecer√°.  Y los n√∫meros de varios d√≠gitos se pueden mostrar solo dentro de 8 caracteres, para l√≠neas m√°s largas, los caracteres extremos m√°s all√° de 8 simplemente desaparecer√°n.  Por lo tanto, los caracteres 9 y 10 solo son adecuados para mostrar cantidades auxiliares (unidades de medida, por ejemplo), o necesita dividir el n√∫mero de l√≠nea en d√≠gitos separados, y al ir m√°s all√° del octavo car√°cter, cambie la posici√≥n del cursor al primer car√°cter de la segunda l√≠nea. <br><br>  Para los pacientes <a href="">, aqu√≠</a> puede descargar un boceto de prueba para esta pantalla (conexi√≥n de cables, en el texto del boceto o en el diagrama a continuaci√≥n).  Por cierto, el contraste (sobre el cual no hay una palabra en el conjunto de datos de f√°brica, y la salida de Vo se designa como NC) se ajusta de la manera habitual aqu√≠, pero realmente no necesita hacer esto: en ausencia de retroiluminaci√≥n, el fondo parece un poco oscuro, pero cuando intenta aclararlo conectando el divisor a la salida de Vo el contraste se pierde notablemente cuando se enciende la luz de fondo. <br><br><h2>  Interfaz con controlador </h2><br>  Despu√©s de verificar que todo funciona como deber√≠a, surgi√≥ la pregunta sobre c√≥mo conectar todo esto al controlador del sensor.  Por supuesto, no hab√≠a suficientes conclusiones libres para que el controlador del sensor proporcionara control desde √©l, pero realmente no quer√≠a cercar la ciudad con controladores grandes: es m√°s conveniente cuando el sistema es modular y la salida a la pantalla no interfiere con el funcionamiento del algoritmo b√°sico que ya se depur√≥ anteriormente.  Quedaba por usar cualquiera de las interfaces seriales. <br><br>  Esto exige la soluci√≥n I <sup>2</sup> C basada en PCF8574 (o sus muchos an√°logos), especialmente porque este chip en s√≠ mismo es solo un registro de desplazamiento enga√±ado, y por lo tanto consume varias decenas de microamperios en el trabajo y menos de 10 microamperios en reposo.  Junto con MT-10T7, forman un excelente par para crear dispositivos de baja potencia con indicadores, y MELT incluso tiene una opci√≥n preparada para este caso: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MT-10T11</a> con un consumo total de 30 ŒºA. <br><br>  Pero para MT-10S1 no existe una soluci√≥n tan conveniente: por alguna raz√≥n, solo las versiones con una configuraci√≥n 20x4 se suministran con una adici√≥n en forma de un an√°logo de PCF8574 entre las pantallas de l√≠nea MELT ( <b>UPD:</b> en los comentarios sugirieron que tambi√©n hay una configuraci√≥n MT-16S2H de 16x4 con la misma interfaz, sin embargo , sus dimensiones est√°n m√°s all√° de las dimensiones que necesito).  El m√≥dulo terminado del tipo descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en este art√≠culo es</a> inc√≥modo de usar en este caso, ya que la segunda caracter√≠stica desagradable de la pantalla MT-10S1 es su pinout no est√°ndar.  Las conclusiones son las mismas (HD44780, sin embargo, m√°s precisamente, su contraparte dom√©stica, KB1013VG6), pero est√°n ubicadas en un orden completamente no est√°ndar.  En aras del inter√©s, verifiqu√© los importados 16x1 y MELT de dos / cuatro l√≠neas: todos tienen un orden de salida est√°ndar, y el MT-10S1 se destaca en este contexto por alguna raz√≥n.  Entonces debes tomar una decisi√≥n propia. <br><br>  Como resultado, puse trivialmente el mismo controlador ATmega328 en la pantalla, programado de la misma manera, a trav√©s de UNO, y luego insertado en el z√≥calo en una placa separada, equipado solo con los accesorios necesarios para comenzar: cuarzo con conductores, fuente de alimentaci√≥n y circuito RC Restablezca la salida (consulte el circuito del sensor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el art√≠culo original</a> , donde el controlador est√° conectado de manera similar). <br><br><div class="spoiler">  <b class="spoiler_title">Hablando de reiniciar el encadenamiento</b> <div class="spoiler_text">  Por cierto, sobre el circuito de reinicio: tengo un condensador tan peque√±o como 1 ŒºF en la resistencia de varios kOhms, es decir, el tiempo de retraso al encender la alimentaci√≥n es de unos pocos milisegundos.  Cuantas  El manual nos ense√±a que, como para toda la familia Mega, aqu√≠ no se requiere una cadena externa, se supone que el circuito interno debe llevar a cabo el arranque correcto, y mucho m√°s r√°pido.  Pero el h√°bito de poner una cadena RC externa en el pin 1 del controlador para el inicio retrasado cuando lo encend√≠ permaneci√≥ conmigo desde el momento de la familia AVR Classic ya olvidada, donde el controlador podr√≠a no iniciarse correctamente si el voltaje de suministro no aumentara lo suficientemente r√°pido.  Y en la familia Mega Brown-out Detector puede que no funcione muy bien.  En casos cr√≠ticos, todav√≠a vale la pena instalar un monitor de energ√≠a externo, bueno, pero aqu√≠ la cadena RC no hace da√±o a nada, pero puede ayudar en casos con malas fuentes de energ√≠a.  Los desarrolladores de placas Arduino, por cierto, son muy conscientes de esto, porque en la placa Uno, por ejemplo, existe la misma cadena de 10 kOhm / 100 nF. <br></div></div><br>  Y Dios mismo orden√≥ que dos controladores AVR id√©nticos se acoplaran a trav√©s de la interfaz serial habitual, que de todos modos, excepto por el proceso de programaci√≥n, no se usa en ning√∫n otro lugar en este proyecto, y para el uso de los cuales todo ya est√° a la mano.  Por cierto, tal soluci√≥n no difiere en precio de los componentes basados ‚Äã‚Äãen PCF8574 y puede competir con ella en t√©rminos de ahorro de energ√≠a en la variante con MT-10T7, en caso de que el MT-10T11 mencionado anteriormente no est√© disponible. <br><br>  En total, el circuito del m√≥dulo MT-10S1 con el controlador es el siguiente (en el diagrama, la designaci√≥n de las conclusiones de ATmega328 se da entre par√©ntesis despu√©s de las conclusiones de la placa Arduino): <br><br><img src="https://habrastorage.org/webt/zu/4h/sg/zu4hsgop0jxa8ufsqopzlr4xqro.png" width="880"><br><br>  En el controlador, apliqu√© el modo de ahorro de energ√≠a (bueno, s√≠, no es realmente necesario aqu√≠, pero ¬øpor qu√© mantener el chip encendido innecesariamente?).  Adem√°s, la activaci√≥n se produce de acuerdo con la se√±al del mismo generador de onda cuadrada en el chip 555 que el reloj del controlador principal, solo que esta vez a lo largo del borde descendente (FALLING) para separar ligeramente las funciones de medici√≥n y transferencia de datos. <br><br><div class="spoiler">  <b class="spoiler_title">El misterio de la naturaleza</b> <div class="spoiler_text">  Un misterio de la naturaleza est√° relacionado con esto, que no pude resolver.  Se sabe que Mega solo puede ser sacado del sue√±o profundo por una interrupci√≥n asincr√≥nica externa, ya que el reloj est√° apagado y la interrupci√≥n sincr√≥nica simplemente no puede suceder.  Y toda la familia de controladores AVR de 28 pines, liderando su √°rbol geneal√≥gico desde ATmega8 (48/88/168/328), tiene como tal solo interrupciones de bajo nivel INT0 e INT1 (e interrupci√≥n PCINT, pero no se usa en Arduino).  Todas las recomendaciones oficiales est√°n relacionadas con esto tanto en los materiales de Atmel como en los sitios de Arduino.  El ejemplo en el sitio web arduino.cc dice expl√≠citamente: " <i>En todos, excepto en los modos de reposo IDLE, solo se puede usar BAJO</i> ".  Y esto, por as√≠ decirlo, no est√° en duda, por ejemplo, Monk repite lo mismo con m√°s detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en su libro</a> : ‚Äú <i>Tenga en cuenta que se selecciona el tipo de interrupci√≥n BAJO.</i>  <i>Este es el √∫nico tipo de interrupci√≥n que se puede usar en este ejemplo.</i>  <i>Los tipos RISING, FALLING y CHANGE no funcionar√°n</i> ". <br><br>  La interrupci√≥n a un nivel bajo es muy inc√≥moda de usar, ya que una vez que ocurre, con este nivel m√°s bajo en la salida, ocurrir√° una y otra vez, y se deben tomar medidas especiales para deshacerse de los desencadenantes innecesarios.  Entonces, hurgando en los foros en busca de varias soluciones a este problema, de repente me encontr√© con un par de ejemplos de c√≥digo en los que INT0 del tipo RISING o FALLING se usa expl√≠citamente para salir del sue√±o.  Por supuesto, atribu√≠ esto al analfabetismo de los autores.  Pero cuando tropec√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> con la frase: " <i>Aunque puede usar cualquier otro tipo de interrupci√≥n (LEVANTARSE, CAERSE, CAMBIARSE), todos sacar√°n el procesador del sue√±o</i> ", entonces decid√≠, a pesar de los enemigos, realizar un experimento en vivo; fue bueno para eso a mano <br><br>  Y, para mi sorpresa, todo funcion√≥ a la perfecci√≥n.  Modo de ahorro de energ√≠a: SLEEP_MODE_PWR_DOWN;  debido a la inutilidad, aqu√≠ no tom√© medidas para reducir a√∫n m√°s el consumo deshabilitando todas las dem√°s funciones, pero a√∫n as√≠ el generador de reloj est√° obviamente apagado.  Sin embargo, el controlador se despierta regularmente en el flanco descendente, solicita datos, los muestra en la pantalla y se duerme nuevamente.  Para la pureza del experimento, quit√© el MK de la placa UNO y lo insert√© en mi z√≥calo con el cuarzo conectado, y a√∫n as√≠ todo sigui√≥ funcionando.  Esto se puede ver en el consumo: casi 17 mA en modo normal y 0.9-1 mA con ahorro de energ√≠a activado (de los cuales 0.7 mA deben atribuirse a la pantalla). <br><br>  Sin salir de mi asombro, le√≠ las hojas de datos de Atmel, busqu√© en el libro de Evstifeev (con su traducci√≥n), incluso mir√© el antiguo manual de Atmel sobre la familia Cl√°sica, luego pas√© medio d√≠a buscando al menos alguna explicaci√≥n de lo que estaba sucediendo (tanto en ruso como en ruso). en ingl√©s) en dos buscadores conocidos, pero en ninguna parte no encontramos ni una pista.  A menos que sea √∫til en las Notas de aplicaci√≥n de Atmel, porque es dudoso que all√≠ se haya publicado algo contrario a las hojas de datos. Ser√© feliz si alguien que sabe sabe lo que no entiendo. <br>  <b>UPD: la</b> verificaci√≥n del ensamblador en vivo (ATmega8) mostr√≥ el pleno cumplimiento de las hojas de datos, es decir, solo funciona la interrupci√≥n de nivel.  La √∫nica explicaci√≥n que viene a la mente es que Arduino de alguna manera conect√≥ la interrupci√≥n PCINT a una interrupci√≥n regular.  Un intento de aclarar la situaci√≥n estudiando el texto de las bibliotecas del sistema Arduino no arroj√≥ nada: all√≠ el diablo se romper√≠a la pierna. <br></div></div><br>  La transferencia de datos desde el controlador del sensor al controlador de pantalla a trav√©s de UART se organiza en forma de di√°logo.  Al despertar, cada cuarta interrupci√≥n, el controlador de pantalla solicita datos a su vez: <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag==<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//   4-  ~6  Serial.print('T'); //   while(!Serial.available()); //  T iit = Serial.readBytes(buft,5); //  5  , //  ii    Serial.print('H'); //   while(!Serial.available()); //  iihh=Serial.readBytes(bufhh,5); //  5  , //  ii    Serial.print('S'); //   while(!Serial.available()); //  iiss=Serial.readBytes(bufss,5); //  5  , //  ii    Serial.print('D'); //   while(!Serial.available()); //  iid=Serial.readBytes(bufd,5); //  5  , //  ii    flag=0; //   } . . . . .</span></span></code> </pre><br>  Aqu√≠ buft, bufhh, bufss y bufd son matrices (¬°no cadenas!) De cinco bytes, que contienen datos sobre temperatura, humedad, velocidad y direcci√≥n en forma de descomposici√≥n ASCII de los n√∫meros correspondientes.  Para no aceptar demasiado, la configuraci√≥n especifica un tiempo de espera abreviado para la recepci√≥n: <br><br><pre> <code class="cpp hljs">. . . . . Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); Serial.setTimeout(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   10  . . . . .</span></span></code> </pre><br>  Es m√°s conveniente mostrar: en primer lugar, inmediatamente tiene la longitud del n√∫mero recibido y, en segundo lugar, la funci√≥n Serial.print () env√≠a una cadena ASCII desde el lado del controlador del sensor, con pausas establecidas en los mismos 10 ms entre env√≠os : <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-comment"><span class="hljs-comment">//     : if (Serial.available()&gt;0) //  { char ch=Serial.read(); if (ch=='T') { Serial.print(temperature,1); delay(10);} if (ch=='H') { Serial.print(humidity,0); delay(10);} if (ch=='S') { float wFrq=(3+0.8*f)/10; //   / if (wFrq&gt;0.3) Serial.print(wFrq,1); else Serial.print(0.0,1); delay(10);} if (ch=='D') { // Serial.println(wind_G); Serial.println(wind_Avr); delay(10); }//end ch }//end serial . . . . .</span></span></code> </pre><br>  El c√°lculo de la velocidad en m / s aqu√≠ es id√©ntico al realizado en el m√≥dulo principal de la estaci√≥n (el umbral de inicio se establece al azar en 0.3 m / s) y tambi√©n deber√° cambiarse de acuerdo con los resultados de la calibraci√≥n. <br><br>  Si intenta aceptar los datos con el Serial.read () habitual y luego muestra el resultado de la recepci√≥n en una pantalla con una funci√≥n como lcd.print (t, 1), donde t es la temperatura en grados, igual, por ejemplo, a 12.7, luego MT-10S1 en respuesta a esto el comando generar√° "49.5".  Adivinado, o sugerir?  Estos son los primeros tres caracteres en la secuencia "49 50 46 55", es decir, en la expansi√≥n ASCII del n√∫mero "12.7".  Por lo tanto, es m√°s f√°cil aceptar de inmediato una matriz de caracteres y mostrar directamente tantos caracteres como se enviaron (el recuento es un contador que aumenta en uno cada interrupci√≥n): <br><br><pre> <code class="cpp hljs">. . . . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (count%<span class="hljs-number"><span class="hljs-number">8</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-comment"><span class="hljs-comment">// 8   lcd.clear(); if (buft[0]!='-') lcd.print("+"); for (byte i = 0; i &lt; iit; i++) lcd.print(buft[i]); //  lcd.setCursor(6, 0); for (byte i = 0; i &lt; iihh; i++) lcd.print(bufhh[i]); //  lcd.setCursor(0, 1); lcd.print("%"); } if ((count+4)%8==0){ //  4  lcd.clear(); lcd.setCursor(0, 0); for (byte i = 0; i &lt; iiss; i++) lcd.print(bufss[i]); //  lcd.setCursor(5, 0); dir_dd(bufd); //  } . . . . .</span></span></code> </pre><br>  La √∫ltima l√≠nea necesita ser descifrada.  El hecho es que los datos de direcci√≥n se env√≠an en el c√≥digo 0-15 (al que todav√≠a se transfieren del c√≥digo Gray cuando se implementa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el promedio de vectores</a> ).  En el caso de la pantalla MT-10T7 de siete segmentos, se tradujeron a grados de br√∫jula: <br><br><pre> <code class="cpp hljs">. . . . . dd=atoi(bufd); <span class="hljs-comment"><span class="hljs-comment">//   dd=dd*22.5; //   itoa(dd,bufd,10); //    . . . . .</span></span></code> </pre><br>  Y aqu√≠ podemos escribir directamente en letras rusas, de la misma manera que en el m√≥dulo principal de la estaci√≥n meteorol√≥gica (por lo que, de hecho, se eligi√≥ esta pantalla): <br><br><pre> <code class="cpp hljs">. . . . . <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dir_dd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dd[])</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(atoi(dd)) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span>: {lcd.print(<span class="hljs-string"><span class="hljs-string">"C"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;} }<span class="hljs-comment"><span class="hljs-comment">//end switch }//end dir . . . . .</span></span></code> </pre><br><h2>  Apariencia </h2><br>  La foto muestra la apariencia de la pantalla con el controlador conectado en condiciones de funcionamiento: <br><br><img src="https://habrastorage.org/webt/wo/dg/fk/wodgfkuefea3shdafmubstmlmke.jpeg" width="400"><br><br>  As√≠ es como se ve el conjunto del sensor modificado: <br><br><img src="https://habrastorage.org/webt/ww/v4/p_/wwv4p_duhu45imp1gwppoz0ydzo.jpeg" width="400"><br><br>  Los par√°metros de retroiluminaci√≥n son los indicados en el diagrama anterior.  Dado que la ca√≠da de voltaje a trav√©s de la luz de fondo en los m√≥dulos MELT es de 4.5 V, con una fuente de alimentaci√≥n de 12 V, la corriente de luz de fondo es de 50 mA (como m√°ximo para este m√≥dulo de 60 mA). <br><br>  La carcasa est√° sellada al m√°ximo para evitar que entre aire h√∫medo (el marco negro de la pantalla es de la cubierta de goma de un cable delgado).  La placa blanca a la derecha es el recinto del sensor de temperatura y humedad SHT-75, sacado de la caja (el sensor se encuentra detr√°s de √©l).  El cable amarillo de arriba es la antena transmisora ‚Äã‚Äãde 433 MHz.  A la izquierda est√°n los conectores donde est√°n conectados los sensores de velocidad y direcci√≥n. <br><br>  Y as√≠ es como se ven las lecturas en la pantalla del m√≥dulo principal de la estaci√≥n meteorol√≥gica (el m√≥dulo negro con la antena blanca a la derecha es el receptor de 433 MHz): <br><br><img src="https://habrastorage.org/webt/53/kd/kg/53kdkgcw_aqjwuzrjw4ev1k7uby.jpeg" width="400"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430828/">https://habr.com/ru/post/es430828/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430818/index.html">SQLAlchemy Acceleration for Architectural Astronauts</a></li>
<li><a href="../es430820/index.html">Black Friday 2018 - VDS en Mosc√∫ y Amsterdam</a></li>
<li><a href="../es430822/index.html">Seguridad de la informaci√≥n de Internet de las cosas: ¬øqui√©n es la cosa y qui√©n es el maestro?</a></li>
<li><a href="../es430824/index.html">Buscar objetos da√±ados por n√∫mero de p√°gina da√±ado en MS SQL Server 2005</a></li>
<li><a href="../es430826/index.html">C√≥mo desarrollar un gerente de desarrollo</a></li>
<li><a href="../es430830/index.html">Black Friday, tradiciones y modismos ingleses sobre compras</a></li>
<li><a href="../es430832/index.html">Precio del viernes negro humano</a></li>
<li><a href="../es430834/index.html">10 pecados mortales del orador</a></li>
<li><a href="../es430836/index.html">Kotlin: est√°tica que no existe</a></li>
<li><a href="../es430838/index.html">Las maravillas del marketing masivo o c√≥mo promocionar un negocio con rese√±as</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>