<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🚒 🅿️ ✊🏼 SNA Hackathon 2019: Architektur vereinfachen - Funktionen vereinfachen 🤵🏼 👨🏻‍⚕️ 🐡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich über meine Lösung für den Textteil der Aufgabe SNA Hackathon 2019 sprechen. Einige der vorgeschlagenen Ideen werden für di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SNA Hackathon 2019: Architektur vereinfachen - Funktionen vereinfachen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/445348/"><img src="https://habrastorage.org/webt/g7/n-/lw/g7n-lwqhzzuabg1ul4kaexfouhg.png"><br><br>  In diesem Artikel werde ich über meine Lösung für den Textteil der Aufgabe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SNA Hackathon 2019</a> sprechen.  Einige der vorgeschlagenen Ideen werden für die Teilnehmer des Vollzeit-Teils des Hackathons nützlich sein, der vom 30. März bis 1. April im Moskauer Büro der Mail.ru Group stattfinden wird.  Darüber hinaus kann diese Geschichte für Leser von Interesse sein, die die praktischen Probleme des maschinellen Lernens lösen.  Da ich keine Preise beanspruchen kann (ich arbeite bei Odnoklassniki), habe ich versucht, die einfachste, aber gleichzeitig effektive und interessante Lösung anzubieten. <br><br>  Wenn ich über neue Modelle des maschinellen Lernens lese, möchte ich verstehen, wie der Autor bei der Arbeit an einer Aufgabe argumentiert hat.  Daher werde ich in diesem Artikel versuchen, alle Komponenten meiner Lösung im Detail zu begründen.  Im ersten Teil werde ich über die Problemstellung und die Einschränkungen sprechen.  Im zweiten - über die Entwicklung des Modells.  Der dritte Teil ist den Ergebnissen und der Analyse des Modells gewidmet.  Schließlich werde ich in den Kommentaren versuchen, alle aufgetretenen Fragen zu beantworten.  Ungeduldige Leser können sich sofort die <a href="">endgültige Architektur</a> ansehen. <br><a name="habracut"></a><br><h2>  Herausforderung </h2><br>  Die Organisatoren des Hackathons schlugen vor, das Problem der Bildung eines Smartbands zu lösen.  Für jeden Benutzer muss der Satz von Beiträgen so sortiert werden, dass die maximale Anzahl von Beiträgen, für die der Benutzer die „Klasse“ festgelegt hat, ganz oben in der Liste steht.  Um den Ranking-Algorithmus zu konfigurieren, sollten historische Daten des Formulars (Benutzer, Beitrag, Feedback) verwendet werden.  Die Tabelle enthält eine kurze Beschreibung der Daten aus dem Textteil und der Notation, die ich in diesem Artikel verwenden werde. <br><br><table><tbody><tr><th width="130">  Quelle <br></th><th width="150">  Bezeichnung <br></th><th width="160">  Typ <br></th><th>  Beschreibung <br></th></tr><tr><td>  der Benutzer <br></td><td>  user_id <br></td><td>  kategorisch <br></td><td>  Benutzer-ID <br></td></tr><tr><td>  Post <br></td><td>  post_id <br></td><td>  kategorisch <br></td><td>  Post-ID <br></td></tr><tr><td>  Post <br></td><td>  Text <br></td><td>  kategoriale Liste <br></td><td>  Liste der normalisierten Wörter <br></td></tr><tr><td>  Post <br></td><td>  Funktionen <br></td><td>  kategorisch <br></td><td>  Gruppe von Merkmalen des Beitrags (Autor, Sprache usw.) <br></td></tr><tr><td>  Rückkopplung <br></td><td>  Feedback <br></td><td>  binäre Liste <br></td><td>  verschiedene Aktionen, die der Benutzer mit dem Beitrag ausführen kann (Ansicht, Klasse, Kommentar usw.) <br></td></tr></tbody></table><br>  Bevor ich mit dem Erstellen des Modells begann, habe ich einige Einschränkungen für die zukünftige Lösung eingeführt.  Dies war notwendig, um die Anforderungen an Einfachheit und Praktikabilität sowie meine Interessen zu erfüllen und die Anzahl der möglichen Optionen zu verringern.  Hier sind die wichtigsten dieser Einschränkungen. <br><br>  <b>Vorhersage der Wahrscheinlichkeit von "Klasse"</b> .  Ich entschied sofort, dass ich dieses Problem als Klassifizierungsproblem lösen würde.  Man könnte die im Ranking verwendeten Methoden anwenden, um beispielsweise die Reihenfolge in Beitragspaaren vorherzusagen.  Aber ich habe mich für eine einfachere Formulierung entschieden, bei der die Beiträge nach der vorhergesagten Wahrscheinlichkeit sortiert werden, eine "Klasse" zu erhalten.  Es ist erwähnenswert, dass der unten beschriebene Ansatz erweitert werden kann, um das Ranking zu formulieren. <br><br>  <b>Monolithisches Modell</b> .  Trotz der Tatsache, dass Modellensembles dazu neigen, Wettbewerbe zu gewinnen, ist es schwieriger, ein Ensemble in einem Kampfsystem zu halten als ein einzelnes Modell.  Außerdem wollte ich zumindest einige Nicht-Black-Box-Interpretationsfunktionen haben. <br><br>  <b>Differenzierbarer Rechengraph</b> .  Erstens bestimmen Modelle dieser Klasse (neuronale Netze) den Stand der Technik bei vielen Aufgaben, einschließlich solcher, die sich auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Analyse von</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Textdaten</a> beziehen.  Zweitens ermöglichen moderne Frameworks, in meinem Fall <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Apache MXNet</a> , die Implementierung sehr unterschiedlicher Architekturen.  Daher können Sie mit verschiedenen Modellen experimentieren, indem Sie nur wenige Codezeilen ändern. <br><br>  <b>Minimale Arbeit mit Schildern</b> .  Ich wollte, dass das Modell einfach mit neuen Daten erweitert werden kann.  Dies kann im Vollzeitbereich erforderlich sein, wo nur wenig Zeit für die Vorbereitung der Schilder bleibt.  Daher habe ich mich für den einfachsten Ansatz zur Identifizierung von Attributen entschieden: <br><br><ul><li>  Binärdaten werden durch ein Tag mit dem Wert 1 oder 0 dargestellt. </li><li>  numerische Daten bleiben entweder unverändert oder werden in Kategorien diskretisiert; </li><li>  kategoriale Daten werden durch Einbettungen dargestellt. </li></ul><br>  Nachdem ich mich für die allgemeine Strategie entschieden hatte, fing ich an, verschiedene Modelle auszuprobieren. <br><br><h2>  Modellentwicklung </h2><br>  Ausgangspunkt war der Ansatz der Matrixfaktorisierung, der häufig bei Empfehlungsaufgaben verwendet wird: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">i</span><span class="MJXp-mo" id="MJXp-Span-6">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-9">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">a</span><span class="MJXp-mo" id="MJXp-Span-15" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-16"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17" style="margin-right: 0.05em;">u</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-18" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">i</span></span></span><span class="MJXp-mtext" id="MJXp-Span-20">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">t</span><span class="MJXp-msubsup" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26" style="margin-right: 0.05em;">v</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-27" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> p_ {i, j} = \ sigma (u_ {i} \ cdot v_ {j}) </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">V</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">t</span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">i</span><span class="MJXp-mo" id="MJXp-Span-43">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-48" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">i</span><span class="MJXp-mo" id="MJXp-Span-50">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">i</span><span class="MJXp-msubsup" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-68" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">u</span><span class="MJXp-mo" id="MJXp-Span-70">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">v</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> Verlust (y_ {i, j}, p_ {i, j}) \ rightarrow min_ {u, v} </script></p><br>  In der Sprache der Berechnungsgraphen bedeutet dies, dass die Schätzung der Wahrscheinlichkeit, dass Benutzer <i>i</i> eine "Klasse" auf Post <i>j</i> setzt, das Sigmoid aus dem Skalarprodukt der Einbettungen der Benutzer-ID und der Post-ID ist.  Das gleiche kann durch ein Diagramm ausgedrückt werden: <br><br><img src="https://habrastorage.org/webt/dk/ac/1u/dkac1uzffso-cinlnzwefakma_s.png"><br><br>  Ein solches Modell ist nicht sehr interessant: Es nutzt nicht alle Funktionen, ist für niederfrequente Kennungen nicht allzu nützlich und leidet unter dem Problem eines Kaltstarts.  Nachdem wir die Aufgabe in Form eines Rechengraphen formuliert haben, haben wir „unsere Hände losgebunden“ und können nun Probleme schrittweise lösen.  Zunächst werden wir für niederfrequente Werte die einzige Einbettung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">außerhalb des Wortschatzes</a> erstellen.  Beseitigen Sie als Nächstes die Notwendigkeit von Einbettungen mit derselben Dimension.  Dazu ersetzen wir das Skalarprodukt durch ein flaches Perzeptron, das verkettete Merkmale als Eingabe empfängt.  Das Ergebnis ist im Diagramm dargestellt: <br><br><img src="https://habrastorage.org/webt/c6/uk/-m/c6uk-mxjwwnwcx7trljgrelygq4.png"><br><br>  Sobald wir eine feste Dimension entfernt haben, hindert uns nichts mehr daran, neue Attribute hinzuzufügen.  Indem wir den Beitrag mit allen möglichen Merkmalen (Sprache, Autor, Text, ...) darstellen, werden wir das Problem des Kaltstarts von Beiträgen lösen.  Das Modell erfährt beispielsweise, dass ein Benutzer mit <i>user_id = 42</i> "Klassen" auf Beiträge in russischer Sprache setzt, die das Wort "Teppich" enthalten.  In Zukunft können wir diesem Benutzer alle russischsprachigen Beiträge zu Teppichen empfehlen, auch wenn diese nicht in den Trainingsdaten enthalten sind.  Für die Texteinbettung werden wir vorerst einfach die Einbettungen der darin enthaltenen Wörter mitteln.  Infolgedessen sieht das Modell folgendermaßen aus: <br><br><img src="https://habrastorage.org/webt/6s/mq/ul/6smqulw3mslpoddknuyoigwkpgy.png"><br><br>  Abschließend möchte ich mich mit dem Kaltstart der Benutzer befassen.  Es wäre möglich, Features aus historischen Daten in Benutzeransichten von Posts zu erstellen.  Dieser Ansatz entspricht nicht der gewählten Strategie: Wir haben beschlossen, die manuelle Erstellung von Attributen zu minimieren.  Daher bot ich dem Modell die Möglichkeit, die Präsentation des Benutzers unabhängig aus der Reihenfolge der Beiträge zu lernen, die vor dem Beitrag angezeigt wurden, für den die Wahrscheinlichkeit der „Klasse“ bewertet wird.  Im Gegensatz zu dem Beitrag, der ausgewertet wird, ist jedes Feedback für jeden Beitrag in der Sequenz bekannt.  Dies bedeutet, dass das Modell Zugriff auf Informationen darüber hat, ob der Benutzer die "Beiträge" auf vorherige Beiträge gesetzt oder im Gegenteil aus dem Feed gelöscht hat. <br><br><img src="https://habrastorage.org/webt/qk/k0/6m/qkk06mydcetsmnd1roumkqigtm4.png"><br><br>  Es bleibt zu entscheiden, wie Sequenzen von Pfosten unterschiedlicher Länge zu einer Darstellung fester Breite kombiniert werden sollen.  Als solche Kombination habe ich die gewichtete Summe der Darstellungen der einzelnen Beiträge verwendet.  In der Tabelle wird das <i>Nachgewicht</i> <i>j</i> mit <i>α_j bezeichnet</i> .  Die Gewichte wurden unter Verwendung des Abfrageschlüsselwert-Aufmerksamkeitsmechanismus berechnet, ähnlich dem im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Transformator</a> oder <a href="">NMT verwendeten</a> .  Somit wird die gelernte Präsentation des Benutzers auch für den Beitrag konfiguriert, für den die Bewertung durchgeführt wird.  Hier ist ein Teil des Diagramms, der für die Berechnung von <i>α_j verantwortlich ist</i> : <br><br><img src="https://habrastorage.org/webt/pq/dh/en/pqdhen_hrmrwsicjsokis3a6a_y.png"><br><br>  Nachdem ich <s>einen Festgesang verspürt hatte, war ich</s> von der Wirksamkeit des Aufmerksamkeitsansatzes überzeugt. Es wurde beschlossen, die Aufmerksamkeit bei der Präsentation von Texten zu verwenden.  Um Zeit und Eisen zu sparen, habe ich beschlossen, nicht wie im selben Transformator auf sich selbst zu achten, sondern die Wortgewichte im Text direkt wie folgt zu trainieren: <br><br><img src="https://habrastorage.org/webt/xw/nl/i5/xwnli58eyq6udoihpvpkjur5918.png"><br><br>  Damit war die Entwicklung der Architektur des Modells abgeschlossen.  Infolgedessen ging ich von der klassischen Matrixfaktorisierung zu einem ziemlich komplexen Sequenzmodell über. <br><br><h2>  Ergebnisse und Analyse </h2><br>  Ich habe meine Lösung für ein Siebtel der Daten auf einem Laptop mit 16 GB Speicher und einer GeForce 930MX-Grafikkarte entwickelt und getestet.  Vollständige Datenexperimente wurden auf einem dedizierten Server mit 256 GB Speicher und einer Tesla T4-Karte durchgeführt.  Zur Optimierung wurde der Adam-Algorithmus mit den Standardparametern von MXNet verwendet.  Die Tabelle zeigt die Ergebnisse für ein abgespecktes Modell - die Länge der Folge von Beiträgen war auf zehn begrenzt.  Bei der Einreichung des Wettbewerbs habe ich Sequenzen mit einer Länge von fünfzig verwendet. <br><br><table><tbody><tr><th width="120">  Modell <br></th><th width="120">  Protokollverlust <br></th><th width="200">  Verbesserung gegenüber der vorherigen Zeile <br></th><th width="100">  Trainingszeit <br></th></tr><tr><td>  Zufällig <br></td><td>  0,4374 ± 0,0009 <br></td><td></td><td></td></tr><tr><td>  Perceptron <br></td><td>  0,4330 ± 0,0010 <br></td><td>  0,0043 ± 0,0002 <br></td><td>  7 min <br></td></tr><tr><td>  Perceptron mit Zeichen <br></td><td>  0,4119 ± 0,0008 <br></td><td>  0,0212 ± 0,0003 <br></td><td>  44 min <br></td></tr><tr><td>  Perceptron mit einer Folge von Beiträgen <br></td><td>  0,3873 ± 0,0008 <br></td><td>  0,0247 ± 0,0003 <br></td><td>  4 Stunden 16 Minuten <br></td></tr><tr><td>  Perceptron mit einer Folge von Beiträgen und Aufmerksamkeit in den Texten <br></td><td>  0,3874 ± 0,0008 <br></td><td>  0,0001 ± 0,0001 <br></td><td>  4 Stunden 43 Minuten <br></td></tr></tbody></table><br>  Die letzte Zeile erwies sich für mich als die unerwartetste: Die Verwendung von Aufmerksamkeit bei der Präsentation von Texten führt zu keiner sichtbaren Verbesserung des Ergebnisses.  Ich erwartete, dass das Aufmerksamkeitsnetzwerk die Gewichte von Wörtern in Texten lernen würde, so etwas wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">idf</a> .  Vielleicht ist dies nicht geschehen, weil die Organisatoren die Stoppwörter im Voraus entfernt haben und Wörter von ungefähr gleicher Bedeutung in den vorbereiteten Listen verblieben sind.  Daher ergab das „intelligente“ Wiegen keinen greifbaren Vorteil gegenüber der einfachen Mittelwertbildung.  Ein weiterer möglicher Grund ist, dass das Aufmerksamkeitsnetzwerk für Wörter recht klein war: Es enthielt nur eine schmale verborgene Schicht.  Vielleicht fehlte ihr die Repräsentationsfähigkeit, um etwas Nützliches zu lernen. <br><br>  Mit dem Abfrageschlüsselwert-Aufmerksamkeitsmechanismus können Sie in das Modell schauen und herausfinden, worauf es bei einer Entscheidung „achtet“.  Um dies zu veranschaulichen, habe ich einige Beispiele ausgewählt: <br><br><pre><code class="plaintext hljs">,       http://ollston.ru/2018/02/10/uznajte-kakogo-cveta-vasha - [0.02] PADDING - [0.02] PADDING - [0.02] PADDING - [0.02] PADDING - [0.16]        2016        2016 GZ8btjgY_Q0 https: - [0.16]  . Nike http://ollston.ru/2018/02/04/istorii-yspeha-nike/   -  : - [0.09]    - 5      - 5   O3qAop0A5Qs https://ww - [0.09] ...      ,          - [0.22] Microsoft Windows —   http://ollston.ru/2018/02/06/microsoft-windows-istoriia-yspeha/  - [0.20]  ,   6  . ,   ? http://ollston.ru/2018/02/08/buddisty-g</code> </pre> <br>  Die erste Zeile zeigt den Text des Beitrags, der ausgewertet werden muss, dann die zuvor angezeigten Beiträge und die entsprechende Aufmerksamkeitsbewertung.  Mit Erleichterung stellen wir fest, dass das Modell gelernt hat, das Auffüllen zu ignorieren.  Das Modell betrachtete Beiträge als die wichtigsten über Seelentypen und über Windows.  Es sollte bedacht werden, dass die Aufmerksamkeit entweder positiv (der Benutzer antwortet auf einen Beitrag über eine Aura ähnlich wie ein Beitrag über Seelentypen) oder negativ (wir bewerten einen Beitrag über eine Aura - daher ist die Reaktion nicht die gleiche wie die Reaktion auf den Beitrag über Technologie).  Das folgende Beispiel ist Aufmerksamkeit "in ihrer ganzen Pracht": <br><br><pre> <code class="plaintext hljs">          - [0.20]      2018    (),  ,    .     - [0.08]       ...  !!!        - [0.04]  )))  - [0.18]      !    ,   .  10   - [0.18]   2-    ,  5 , , 2 , . .   - [0.07]     !   -   ()       - [0.03]     "".   .       - [0.13]   ,    - [0.05] ,    ... - [0.05]     ...</code> </pre> <br>  Hier sah das Modell deutlich das Thema Sommerferien.  Sogar Kinder und Kätzchen blieben auf der Strecke.  Das folgende Beispiel zeigt, dass das Interpretieren von Aufmerksamkeit nicht immer möglich ist.  Manchmal ist sogar gar nichts klar: <br><br><pre> <code class="plaintext hljs">        ! - [0.02] PADDING - [0.02] PADDING - [0.02] PADDING - [0.02] PADDING - [0.02] PADDING - [0.15] , !   !!! - [0.16]  ! http://gifok.ru/dobryj-vecher/ - [0.20] http://gifq.ru/aforizmy/ - [0.25]     .  . - [0.15] ,      . : 800   250-300  </code> </pre> <br>  Nachdem ich mir einige solcher Listen angesehen hatte, kam ich zu dem Schluss, dass das Modell lernen konnte, was ich erwartet hatte.  Als nächstes habe ich mir die Einbettung von Wörtern angesehen.  In unserem Problem können wir nicht erwarten, dass Einbettungen so schön werden wie beim Erlernen eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sprachmodells</a> : Wir versuchen, eine ziemlich verrauschte Variable vorherzusagen, außerdem haben wir kein kleines Kontextfenster - die Einbettungen aller Wörter werden einfach gemittelt, ohne ihre Reihenfolge im Text zu berücksichtigen.  Beispiele für Token und ihre nächsten Nachbarn im Einbettungsbereich: <br><br><pre> <code class="plaintext hljs"> -  : , , , ,  -  : , , , ,  -  : , , , ,  -  : , , , ,  -  : , , , , </code> </pre> <br>  Einige dieser Listen sind leicht zu erklären (program - bl), etwas ist rätselhaft (iPhone - youki), aber im Allgemeinen hat das Ergebnis wieder meine Erwartungen erfüllt. <br><br><h2>  Fazit </h2><br>  Ich mag den Ansatz, Modelle basierend auf differenzierbaren Graphen zu erstellen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">viele sind sich</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einig</a> ).  Sie können sich von der mühsamen manuellen Auswahl von Funktionen lösen und sich auf die korrekte Formulierung des Problems und das Entwerfen interessanter Architekturen konzentrieren.  Und obwohl mein Modell bei der Textaufgabe SNA Hackathon 2019 nur den zweiten Platz belegte, bin ich mit diesem Ergebnis aufgrund seiner Einfachheit und nahezu unbegrenzten Erweiterungsmöglichkeiten sehr zufrieden.  Ich bin sicher, dass es in Zukunft immer interessantere und anwendbarere Modelle in Kampfsystemen geben wird, die auf ähnlichen Ideen basieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445348/">https://habr.com/ru/post/de445348/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445336/index.html">FlexiRemap® vs RAID</a></li>
<li><a href="../de445338/index.html">DHCP + MySQL-Server in Python</a></li>
<li><a href="../de445340/index.html">Erhöhen Sie die Netzwerksicherheit mithilfe eines Cloud-Analysators</a></li>
<li><a href="../de445344/index.html">OpenVox Unified Communications Platform</a></li>
<li><a href="../de445346/index.html">Wie schreibe ich eine schlechte API</a></li>
<li><a href="../de445350/index.html">Sonata - SIP-Bereitstellungsserver</a></li>
<li><a href="../de445352/index.html">Spark Structured Streaming-Anwendungen auf Kubernetes. Erleben Sie FASTEN RUS</a></li>
<li><a href="../de445354/index.html">Objekte in Bildern finden</a></li>
<li><a href="../de445356/index.html">Überblick über den Bereich Mobile bei DUMP-2019: Maximal angewendet und nützlich in der täglichen Arbeit</a></li>
<li><a href="../de445358/index.html">Organisation des Ereignissystems in Unity - mit den Augen eines Spieledesigners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>