<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüè≠ üõÉ üë§ Autre chose: des packages d'application Haiku? üí™üèΩ üë©üèø‚ÄçüöÄ üç†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR : Haiku peut-il obtenir un support appropri√© pour les packages d'application, tels que les r√©pertoires d'application (comme .app sur Mac) et / ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Autre chose: des packages d'application Haiku?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/466301/"><p><img src="https://habrastorage.org/webt/9x/n3/tt/9xn3tthtqlazwuhk6ow9mr8hq_s.png"></p><br><p> <strong>TL; DR</strong> : Haiku peut-il obtenir un support appropri√© pour les packages d'application, tels que les r√©pertoires d'application (comme <code>.app</code> sur Mac) et / ou les images d'application (Linux <code>AppImage</code> )?  Il me semble que ce sera un ajout digne, qui est plus facile √† mettre en ≈ìuvre correctement que dans d'autres syst√®mes, car la plupart des infrastructures sont d√©j√† l√†. </p><a name="habracut"></a><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Il y a une semaine,</a> j'ai d√©couvert Haiku, un syst√®me √©tonnamment bon.  Eh bien, depuis que je m'int√©resse depuis longtemps aux catalogues et aux images d'application (inspir√©s de la simplicit√© du Macintosh), il n'est pas surprenant qu'une id√©e m'est venue √† l'esprit ... </p><br><p>  Pour une compr√©hension compl√®te: Je suis le cr√©ateur et l'auteur d'AppImage, un format de distribution d'applications Linux visant √† la simplicit√© Mac et offrant un contr√¥le complet aux auteurs d'applications et aux utilisateurs finaux (voulez en savoir plus - voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">wiki</a> et la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> ). </p><br><h2 id="chto-esli-my-sdelaem-appimage-dlya-haiku">  Et si nous faisons une AppImage pour Haiku? </h2><br><p>  R√©fl√©chissons un peu, purement th√©oriquement: que faut-il faire pour obtenir une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AppImage</a> , ou quelque chose de similaire, sur Haiku?  Il n'est pas n√©cessaire de cr√©er quelque chose en ce moment, car le syst√®me qui est d√©j√† dans Haiku fonctionne de mani√®re incroyable, mais une exp√©rience imaginaire se r√©v√©lerait agr√©able.  Il d√©montre √©galement la sophistication de Haiku, par rapport aux environnements de bureau Linux o√π de telles choses sont terriblement difficiles (j'ai le droit de le dire: je d√©bogue depuis 10 ans maintenant). </p><br><p><img src="https://habrastorage.org/webt/zg/jj/jx/zgjjjxz_1kt8tzdf4r8_1yfmtsu.png"><br>  <em>Sur Macintosh System 1, chaque application √©tait un fichier distinct qui √©tait ¬´g√©r√©¬ª dans le Finder.</em>  <em>En utilisant AppImage, j'essaie de recr√©er la m√™me exp√©rience utilisateur sous Linux.</em> </p><br><p>  Tout d'abord, qu'est-ce que AppImage?  Il s'agit d'un syst√®me de lib√©ration d'applications tierces (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ultimaker Cura</a> ) qui vous permet de lib√©rer des applications quand et comment elles chassent: vous n'avez pas besoin de conna√Ætre les fonctionnalit√©s de diverses distributions, de construire des politiques ou de construire une infrastructure, elles n'ont pas besoin de l'assistance de mainteneurs et elles ne disent pas aux utilisateurs quoi (non) peut √™tre install√© sur les ordinateurs.  AppImage doit √™tre compris comme quelque chose comme un package pour Mac au format <code>.app</code> int√©rieur d'une image disque <code>.dmg</code> .  La principale diff√©rence est que les applications ne sont pas copi√©es, mais restent toujours dans AppImage, tout comme les packages Haiku <code>.hpkg</code> sont install√©s et ne sont jamais install√©s dans le sens habituel. </p><br><p>  Pendant plus de 10 ans de son existence, AppImage a gagn√© en attrait et en popularit√©: Linus Torvalds lui-m√™me l'a approuv√© publiquement, et des projets r√©pandus (par exemple, LibreOffice, Krita, Inkscape, Scribus, ImageMagick) l'ont accept√© comme principal moyen de distribuer des assemblages continus ou nocturnes, non interf√©rer avec les applications utilisateur install√©es ou non install√©es.  Cependant, les bureaux et les distributions Linux s'accrochent le plus souvent au mod√®le de distribution centralis√© traditionnel bas√© sur les mainteneurs et / ou promeuvent leurs propres programmes d'entreprise et / ou d'ing√©nierie bas√©s sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flatpak</a> (RedHat, Fedora, GNOME) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Snappy</a> (Canonical, Ubuntu) .  Vient <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√† dr√¥le</a> . </p><br><h3 id="kak-vse-rabotaet">  Comment √ßa marche </h3><br><ul><li>  Chaque AppImage contient 2 parties: un petit ELF ex√©cutable √† double-clic (le soi-disant. <code>runtime.c</code> ), suivi de l'image du syst√®me de fichiers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SquashFS</a> . </li></ul><br><p><img src="https://habrastorage.org/webt/mj/ry/_u/mjry_uymqpffrzpljadx3vflzbm.png"></p><br><ul><li>  Le syst√®me de fichiers SquashFS contient une charge utile sous la forme d'une application et tout ce dont vous avez besoin pour l'ex√©cuter, ce qui, dans votre bon sens, ne peut pas √™tre consid√©r√© comme faisant partie de l'installation par d√©faut pour chaque syst√®me cible assez r√©cent (distribution Linux).  Il contient √©galement des m√©tadonn√©es, par exemple, le nom de l'application, des ic√¥nes, des types MIME, etc., etc. </li></ul><br><p><img src="https://habrastorage.org/webt/7v/16/zx/7v16zxiadfjhqaeqrkbb9ctdfm4.png"></p><br><ul><li>  Lorsqu'il est lanc√© par l'utilisateur, le runtime utilise FUSE et squashfuse pour monter le syst√®me de fichiers, apr√®s quoi il traite le lancement d'un point d'entr√©e (le soi-disant AppRun) √† l'int√©rieur de l'AppImage mont√©. <br>  Le syst√®me de fichiers est d√©mont√© une fois le processus termin√©. </li></ul><br><p>  Il semble que tout soit simple. </p><br><p>  Et ces choses compliquent les choses: </p><br><ul><li>  avec une telle vari√©t√© de distributions Linux, il n'y a rien ¬´dans leur bon sens¬ª que vous pouvez appeler ¬´une partie de l'installation par d√©faut pour chaque nouveau syst√®me cible¬ª.  Nous contournons ce probl√®me en assemblant une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste</a> d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exclusion</a> , ce qui nous permet de d√©terminer ce qui sera empaquet√© dans AppImage et ce qui doit √™tre pris ailleurs.  Dans le m√™me temps, nous manquons parfois, malgr√© le fait qu'en g√©n√©ral, tout fonctionne bien.  Pour cette raison, nous recommandons aux cr√©ateurs de packages de v√©rifier AppImages sur tous les syst√®mes cibles (distributions). </li><li>  Les applications sous forme de charge utile doivent √™tre itin√©rantes dans le syst√®me de fichiers.  Malheureusement, dans de nombreuses applications, les chemins absolus vers, par exemple, les ressources dans <code>/usr/share</code> cod√©s en dur.  Cela doit √™tre corrig√© d'une mani√®re ou d'une autre.  De plus, vous devez soit exporter <code>LD_LIBRARY_PATH</code> , soit corriger <code>rpath</code> pour que le chargeur puisse trouver les biblioth√®ques associ√©es.  La premi√®re m√©thode a ses inconv√©nients (qui sont g√©r√©s de mani√®re complexe), et la seconde est tout simplement lourde. </li><li>  Le plus grand pi√®ge UX pour les utilisateurs consiste √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©finir le bit ex√©cutable</a> dans le fichier AppImage apr√®s le t√©l√©chargement.  Croyez-le ou non, pour certains, c'est une v√©ritable barri√®re.  La n√©cessit√© de d√©finir un bit ex√©cutable est lourde m√™me pour les utilisateurs avanc√©s.  Comme solution de contournement, nous avons propos√© d'installer un petit service qui surveille les fichiers AppImage et d√©finit le bit ex√©cutable pour eux.  Dans sa forme pure, pas la meilleure solution, car cela ne fonctionnera pas hors de la bo√Æte.  Les distributions Linux ne fournissent pas ce service, par cons√©quent, les utilisateurs pr√™ts √† l'emploi ne se portent pas bien. </li><li>  Les utilisateurs de Linux s'attendent √† ce que la nouvelle application ait une ic√¥ne dans le menu de lancement.  Vous ne pouvez pas dire au syst√®me: "Regardez, il y a une nouvelle application, travaillons." Au lieu de cela, selon la sp√©cification XDG, vous devez copier le fichier <code>.desktop</code> √† l'emplacement souhait√© dans <code>/usr</code> pour une installation √† l'√©chelle du syst√®me ou dans <code>$HOME</code> pour une installation individuelle. Ic√¥nes de certaines tailles, selon la sp√©cification XDG, vous devez le placer √† certains endroits dans <code>usr</code> ou <code>$HOME</code> , puis ex√©cuter des commandes dans l'environnement de travail pour mettre √† jour le cache des ic√¥nes, ou esp√©rer que le gestionnaire de l'environnement de travail le d√©couvrira et d√©tectera automatiquement tout. De m√™me avec les types MIME. Comme solution de contournement, il propose  Pour utiliser le m√™me service, qui, en plus de d√©finir l'indicateur d'ex√©cution, copiera, s'il y a des ic√¥nes, etc. dans AppImage, d'AppImage vers les emplacements corrects selon le XDG, il est suppos√© que le service effacera tout lors de la suppression ou du d√©placement. Bien s√ªr, il existe des diff√©rences de comportement pour chacun environnement de travail, dans les formats de fichiers graphiques, leurs tailles, les emplacements de stockage et les moyens de mettre √† jour les caches, ce qui cr√©e un probl√®me. En bref, cette m√©thode est une b√©quille. </li><li>  Si ce qui pr√©c√®de ne suffit pas, il n'y a pas d'ic√¥ne AppImage dans le gestionnaire de fichiers.  Dans le monde Linux, ils n'ont toujours pas d√©cid√© d'impl√©menter elficon (malgr√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion</a> et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©mentation</a> ), il est donc impossible d'incorporer l'ic√¥ne directement dans l'application.  Il s'av√®re donc que les applications dans le gestionnaire de fichiers n'ont pas leurs propres ic√¥nes (pas de diff√©rence, AppImage ou autre), elles ne sont que dans le menu D√©marrer.  Comme solution de contournement, nous utilisons des miniatures - un m√©canisme qui a √©t√© d√©velopp√© √† l'origine pour que les gestionnaires de bureau puissent afficher des miniatures pour pr√©visualiser les fichiers graphiques sous forme d'ic√¥nes.  Par cons√©quent, le service de d√©finition du bit ex√©cutable fonctionne √©galement comme un ¬´miniaturiseur¬ª, cr√©ant et enregistrant des miniatures d'ic√¥nes aux endroits correspondants <code>/usr</code> et <code>$HOME</code> .  Ce service effectue √©galement la suppression si AppImage est supprim√© ou d√©plac√©.  √âtant donn√© que chaque gestionnaire de bureau se comporte un peu diff√©remment, par exemple, dans quels formats il accepte les ic√¥nes, dans quelles tailles ou √† quels endroits, tout cela est vraiment douloureux. </li><li>  L'application se bloque simplement au moment de l'ex√©cution si des erreurs se produisent (par exemple, il existe une biblioth√®que qui ne fait pas partie du syst√®me de base et n'est pas fournie dans AppImage), et personne ne dit √† l'utilisateur dans l'interface graphique ce qui se passe exactement.  Nous avons commenc√© √† contourner ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">probl√®me en</a> utilisant des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notifications</a> sur le bureau, ce qui signifie que nous devons d√©tecter les erreurs dans la ligne de commande, les convertir en messages compr√©hensibles par l'utilisateur, qui doivent ensuite √™tre affich√©s sur le bureau.  Et bien s√ªr, chaque environnement de travail les traite un peu diff√©remment. </li><li>  Pour le moment (septembre 2019, traducteur environ), je n'ai pas trouv√© de moyen simple de dire au syst√®me que le fichier <code>1.png</code> √™tre ouvert en utilisant Krita et <code>2.png</code> - en utilisant GIMP. </li></ul><br><p><img src="https://habrastorage.org/webt/hi/vm/wf/hivmwfnwibvtqftyv9re6qqcscc.png"><br>  <em>L'emplacement de stockage pour les sp√©cifications multi-bureaux utilis√©es par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GNOME</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">KDE</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Xfce</a> est freedesktop.org</em> </p><br><p>  Il est difficile, voire impossible, d'atteindre un niveau de sophistication profond√©ment ancr√© dans l'environnement de travail de Haiku, en raison des sp√©cifications <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">XDG de freedesktop.org</a> pour le cross-desktop, ainsi que des impl√©mentations de gestionnaires de bureau bas√©es sur ces sp√©cifications.  √Ä titre d'exemple, nous pouvons citer une ic√¥ne Firefox √† l'√©chelle du syst√®me: apparemment, les auteurs de XDG ne pensaient m√™me pas que l'utilisateur pouvait avoir plusieurs versions de la m√™me application. </p><br><p><img src="https://habrastorage.org/webt/q7/ru/ul/q7ruul0hbp0pcgpc0wa5qubwwz8.png"><br>  <em>Ic√¥nes de diff√©rentes versions de Firefox</em> </p><br><p>  Je me demandais ce que le monde Linux pouvait apprendre de Mac OS X, afin de ne pas g√¢cher l'int√©gration du syst√®me.  Si vous avez le temps et que vous le faites, assurez-vous de lire ce qu'Arno Gourdol, l'un des premiers ing√©nieurs de Mac OS X, a d√©clar√©: </p><br><blockquote>  Nous voulions installer l'application aussi facilement que faire glisser l'ic√¥ne de l'application depuis un endroit (serveur, lecteur externe) sur le disque de votre ordinateur.  Pour ce faire, toutes les informations sont stock√©es dans le package d'application, y compris les ic√¥nes, la version, le type de fichier en cours de traitement, le type de sch√©mas d'URL que le syst√®me doit conna√Ætre pour traiter l'application.  Cela inclut √©galement des informations sur le ¬´stockage centralis√©¬ª dans la base de donn√©es Icon Services et Launch Services.  Pour maintenir les performances, les applications sont `` d√©couvertes '' √† plusieurs endroits `` bien connus '': dans le r√©pertoire syst√®me et utilisateur Applications, ainsi que dans certains autres, automatiquement si l'utilisateur est pass√© au Finder dans le r√©pertoire contenant l'application.  En pratique, cela a tr√®s bien fonctionn√©. </blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://youtu.be/qQsnqWJ8D2c</a> <br>  <em>Apple WWDC 2000 Session 144 - Mac OS X: empaquetage d'applications et impression de documents.</em> </p><br><p>  Il n'y a rien de similaire √† cette infrastructure sur les bureaux Linux, nous recherchons donc des solutions de contournement autour des contraintes structurelles dans le projet AppImage. </p><br><p><img src="https://habrastorage.org/webt/4f/cv/te/4fcvtehvp1ftttgg6ebjfb5t0qu.png"><br>  <em>Haiku est-il press√© d'aider?</em> </p><br><p>  Et encore une chose: les plates-formes Linux comme base des environnements de travail, en r√®gle g√©n√©rale, sont si peu sp√©cifi√©es que de nombreuses choses tr√®s simples dans un syst√®me coh√©rent avec une pile compl√®te d√©√ßoivent la fragmentation et la complexit√© de Linux.  J'ai consacr√© tout un rapport aux probl√®mes li√©s √† la plate-forme Linux pour les environnements de travail (des d√©veloppeurs avertis l'ont confirm√©: tout restera ainsi tr√®s longtemps). </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SQ8OXf7o6UA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  <em>Mon rapport sur les environnements de bureau Linux en 2018</em> </p><br><p>  M√™me Linus Torvalds a admis que c'√©tait √† cause de la fragmentation que l'id√©e d'environnements de travail avait √©chou√©. </p><br><p>  Ravi de voir Haiku! </p><br><h2 id="s-haiku-vse-stanovitsya-potryasayusche-prostym">  Avec Haiku, tout est incroyablement simple. </h2><br><p>  Bien que l'approche na√Øve du portage d'AppImage vers Haiku consiste simplement √† essayer de construire (principalement runtime.c et service) ses composants (ce qui peut m√™me √™tre possible!), Cela n'apportera pas beaucoup d'avantages √† Haiku.  Parce qu'en fait, la plupart de ces probl√®mes ont √©t√© r√©solus par Haiku et conceptuellement justifi√©s.  Haiku fournit exactement ces briques pour l'infrastructure syst√®me que je cherchais depuis si longtemps dans les environnements de bureau Linux et je ne pouvais pas croire qu'elles n'√©taient pas l√†.  √Ä savoir: </p><br><p><img src="https://habrastorage.org/webt/g1/gb/ur/g1gbur48coofaseihxmf3qntdao.gif"><br>  <em>Croyez-le ou non, de nombreux utilisateurs de Linux ne peuvent pas surmonter cela.</em>  <em>Chez Haiku, tout se fait automatiquement!</em> </p><br><ul><li>  Les fichiers ELF qui n'ont pas de bit ex√©cutable le re√ßoivent automatiquement lorsque vous double-cliquez dans le gestionnaire de fichiers. </li><li>  Les applications peuvent avoir des ressources int√©gr√©es, par exemple, des ic√¥nes qui apparaissent dans le gestionnaire de fichiers.  Vous n'avez pas besoin de copier un groupe d'images dans des r√©pertoires d'ic√¥nes sp√©ciaux et, par cons√©quent, vous n'avez pas besoin de les nettoyer apr√®s avoir supprim√© ou d√©plac√© l'application. </li><li>  Il existe une base de donn√©es pour lier les applications aux documents, il n'est pas n√©cessaire de copier de fichiers pour cela. </li><li>  Dans le r√©pertoire lib / √† c√¥t√© de l'ex√©cutable, les biblioth√®ques sont recherch√©es par d√©faut. </li><li>  Il n'y a pas de nombreuses distributions et environnements de bureau, tout cela fonctionne - fonctionne partout. </li><li>  Il n'y a pas de module de lancement distinct qui diff√®re du r√©pertoire Applications. </li><li>  Les applications n'ont pas de chemin absolu int√©gr√© vers leurs ressources; il existe des fonctions sp√©ciales pour d√©terminer l'emplacement au moment de l'ex√©cution. </li><li>  L'id√©e d'images compress√©es du syst√®me de fichiers a √©t√© introduite: il s'agit de n'importe quel package hpkg.  Tous sont mont√©s par le noyau. </li><li>  Chaque fichier est ouvert par l'application qui l'a cr√©√©, sauf si vous sp√©cifiez explicitement autre chose.  Comme c'est g√©nial! </li></ul><br><p><img src="https://habrastorage.org/webt/l8/ur/av/l8uravftyfwibziifquz7o7mg5g.png"><br>  <em>Deux fichiers png.</em>  <em>Faites attention aux diff√©rentes ic√¥nes montrant qu'elles seront ouvertes par diff√©rentes applications en double-cliquant.</em>  <em>Faites √©galement attention au menu d√©roulant "Ouvrir avec:", o√π l'utilisateur peut s√©lectionner une application distincte.</em>  <em>Comme c'est facile!</em> </p><br><p>  Il semble que de nombreuses b√©quilles et solutions de contournement n√©cessaires √† AppImage sur Linux deviennent inutiles sur Haiku, qui est bas√© sur la simplicit√© et la sophistication, gr√¢ce auxquelles il r√©pond √† la plupart de nos besoins. </p><br><h2 id="nuzhny-li-haiku-pakety-prilozheniy-v-konce-koncov">  Haiku a-t-il finalement besoin de packages d'application? </h2><br><p>  Cela m√®ne √† une grande question.  Si ce serait un ordre de grandeur plus facile de cr√©er un syst√®me comme AppImage sur Haiku que sur Linux, cela en vaudrait-il la peine?  Ou Haiku avec son syst√®me de paquets hpkg a-t-il pratiquement √©limin√© la n√©cessit√© de d√©velopper une telle id√©e?  Eh bien, pour la r√©ponse, vous devez examiner la motivation de l'existence d'AppImages. </p><br><h3 id="vzglyad-so-storony-polzovatelya">  Vue de l'utilisateur </h3><br><p>  Jetez un ≈ìil √† notre utilisateur final: </p><br><ul><li>  Je souhaite installer l'application sans demander le mot de passe administrateur (root).  <em>Sur Haiku, il n'y a pas de concept d'administrateur, l'utilisateur a le contr√¥le total, car il s'agit d'un syst√®me personnel!</em>  (En principe, vous pouvez imaginer cela en mode multi-utilisateurs, j'esp√®re que les d√©veloppeurs garderont la simplicit√©) </li><li>  Je veux obtenir les derni√®res et meilleures versions des applications, ne pas attendre qu'elles apparaissent dans ma distribution (le plus souvent cela signifie "jamais", du moins si vous ne mettez pas √† jour l'int√©gralit√© du syst√®me d'exploitation).  <em>Sur Haiku, cela est "r√©solu" avec des versions flottantes.</em>  <em>Cela signifie qu'il est possible d'obtenir les derni√®res et meilleures versions d'applications, mais pour cela, vous devez constamment mettre √† jour le reste du syst√®me, en le transformant en une "cible mobile"</em> . </li><li>  Je veux plusieurs versions de la m√™me application √† proximit√©, car vous ne pouvez pas savoir ce qui a √©t√© cass√© dans la derni√®re version, ou, en tant que d√©veloppeur Web, je dois v√©rifier mon travail sous diff√©rentes versions du navigateur.  <em>Haiku a r√©solu le premier, mais pas le deuxi√®me probl√®me.</em>  <em>Les mises √† jour sont annul√©es, mais uniquement pour l'ensemble du syst√®me, il est impossible (comme je le sais) de lancer, par exemple, plusieurs versions de WebPositive ou LibreOffice en m√™me temps.</em> </li></ul><br><p>  L'un des d√©veloppeurs √©crit: </p><br><blockquote>  En substance, la justification est la suivante: le cas d'utilisation est si rare que l'optimisation n'a pas de sens pour lui;  le traiter comme un cas particulier chez HaikuPorts semble plus qu'acceptable. </blockquote><br><ul><li>  Je dois enregistrer les applications o√π je veux, et non sur le disque de d√©marrage.  Je manque souvent d'espace sur les disques, j'ai donc besoin de connecter un lecteur externe ou un r√©pertoire r√©seau pour stocker les applications (toutes les versions que j'ai t√©l√©charg√©es).  Si je connecte un tel lecteur, j'ai besoin que les applications soient lanc√©es en double-cliquant.  <em>Haiku enregistre les anciennes versions des packages, mais je ne sais pas comment les d√©placer vers un disque externe, ni comment appeler des applications √† partir de l√† plus tard.</em> </li></ul><br><p>  Commentaire du d√©veloppeur: </p><br><blockquote>  Techniquement, cela est d√©j√† possible avec la commande mount.  Bien s√ªr, nous cr√©erons une interface graphique pour cela d√®s que suffisamment d'utilisateurs int√©ress√©s seront r√©unis. </blockquote><br><ul><li>  Je n'ai pas besoin de millions de fichiers dispers√©s dans le syst√®me de fichiers que je ne peux pas g√©rer moi-m√™me manuellement.  Je veux un fichier par application, que je peux facilement t√©l√©charger, d√©placer, supprimer.  <em>Sur Haiku, ce probl√®me a √©t√© r√©solu √† l'aide de packages <code>.hpkg</code> , qui transf√®rent, par exemple python, de milliers de fichiers √† un.</em>  <em>Mais s'il y a, par exemple, Scribus utilisant python, alors je dois g√©rer au moins deux fichiers.</em>  <em>Et je dois faire attention √† ce que leurs versions fonctionnent ensemble.</em> </li></ul><br><p><img src="https://habrastorage.org/webt/38/4b/qi/384bqiagnw7mg50rjdaaceoggpo.jpeg"><br>  <em>De nombreuses versions d'AppImages fonctionnant c√¥te √† c√¥te sur un seul Linux</em> </p><br><h3 id="vzglyad-so-storony-razrabotchika-prilozheniy">  Vue du c√¥t√© du d√©veloppeur d'application </h3><br><p>  Regardons du point de vue du d√©veloppeur de l'application: </p><br><ul><li>  Je souhaite g√©rer l'ensemble de l'exp√©rience utilisateur.  Je ne veux pas d√©pendre du syst√®me d'exploitation, qui me dira quand et comment je devrais publier les applications.  <em>Chez Haiku, les d√©veloppeurs peuvent travailler avec leurs propres r√©f√©rentiels hpkg, mais cela signifie que les utilisateurs devront les configurer manuellement, ce qui rend cette id√©e moins attrayante.</em> </li><li>  J'ai une page de t√©l√©chargement sur mon site Web o√π je distribue <code>.exe</code> pour Windows, <code>.dmg</code> pour Mac et <code>.AppImage</code> pour Linux.  Ou peut-√™tre que je veux mon√©tiser l'acc√®s √† cette page, est-ce possible?  De quoi ai-je besoin pour publier sur Haiku?  <em>Assez de fichier <code>.hpkg</code> avec les d√©pendances de <code>.hpkg</code> uniquement</em> </li><li>  Mon logiciel a besoin de certaines versions d'autres logiciels.  Par exemple, il est connu que Krita a besoin d'une version fixe de Qt, ou Qt, qui est affin√©e √† une version sp√©cifique de Krita, au moins jusqu'√† ce que les corrections reviennent √† Qt.  <em>Vous pouvez emballer votre propre Qt pour l'application dans le package <code>.hpkg</code> , mais ce n'est probablement pas le bienvenu.</em> </li></ul><br><p><img src="https://habrastorage.org/webt/wv/-3/hy/wv-3hy_nmufyuir2fsgcttwbu0q.png"><br>  <em>Page de t√©l√©chargement normal des applications.</em>  <em>Que placer ici pour Haiku?</em> </p><br><p>  Les bundles (existants en tant que r√©pertoires d'application comme AppDir ou <code>.app</code> dans le style Apple) et / ou les images (en tant qu'AppImages ou <code>.dmg</code> Apple fortement modifi√©s) seront-ils des ajouts utiles √† l'environnement de travail Haiku?  Ou va-t-il diluer le tableau dans son ensemble et entra√Æner une fragmentation, et donc ajouter de la complexit√©?  Je suis d√©chir√©: d'une part, la beaut√© et la sophistication du Haiku sont bas√©es sur le fait qu'il y a g√©n√©ralement une fa√ßon de faire quelque chose, pas beaucoup.   ,      /     ,     ,         . </p><br><p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mr. waddlesplash</a> </p><br><blockquote>  Linux  ( <em>   , ‚Äî . </em> )       .  Haiku      . </blockquote><br><h2 id="a-vy-chto-dumaete">    ? </h2><br><h3 id="prezhde-chem-otvetite">   ... </h3><br><p> ,     :   <em> </em> ‚Äî   Haiku: </p><br><p><img src="https://habrastorage.org/webt/vh/fl/i3/vhfli3p-el8xxez6xruqbsdiocm.png"><br> <em>     Haiku,       </em> </p><br><p>      , , ,  Macintosh Finder.    ,    QtCreator          "QtCreator",     ? </p><br><p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> : </p><br><blockquote>  ,       ,             ?  ,  -         ? </blockquote><p>       Haiku,        ?  , . </p><br><p>  mr. waddlesplash: </p><br><blockquote> ,      :       ,  ,  -              .      BeOS R5  Haiku ‚Äî   ... </blockquote><p>  ! </p><br><h3 id="kakoy-plan-deystviy-dolzhna-prinyat-haiku">      Haiku? </h3><br><p>      hpkg,    : </p><br><ul><li>    <code>.hpkg</code> </li><li>      (  ,     )  <code>.hpkg</code> ( 80%  ) </li><li> ,   <code>.hpkg</code> ,          ( , QtCreator):      <code>.hpkg</code> ,   . </li></ul><br><p> mr. waddlesplash : </p><br><blockquote>  ,  ,  ‚Äî    <code>/system/apps</code> ,       Deskbar    ,  <code>/system/apps</code>    ,        (   MacOS).     Haiku  ,   ,  , . </blockquote><br><ul><li> Haiku      , ,     ,    ,     "  ",     ,      ( 20%  ).         <code>.hpkg</code> ,   ,     ‚Äî . (,       <code>.hpkg</code>   ,      ‚Äî ,          .    !    ‚Äî .)   ,          <code>.hpkg</code> ,         ,       HaikuDepot‚Ä¶    ). </li></ul><br><p>   mr. waddlesplash: </p><br><blockquote>            .       ""  pkgman    . </blockquote><p>      hpkg,    .     ,    . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  Haiku  ,        ,      ,       Linux.   <code>.hpkg</code> ‚Äî    ,       .   ,        Haiku  .      ‚Äî    ,  Haiku,      ,  .      Haiku   .    ,  ,       ,    Haiku.   ,       ¬´-¬ª.    10           Linux,         Haiku,   ,   ,   .           ,   ,    Haiku   ,  , ‚Äî     .  ,     ,    <code>hpkg</code>   ,     . ,  Haiku          ,   , ( )    "".  ,    ? </p><br><p>  !   Haiku      DVD  USB,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br>  ?     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">telegram-</a> . </p><br><p>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">      C  C++.   Haiku OS</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> :       Haiku. </p><br><p>  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466301/">https://habr.com/ru/post/fr466301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466287/index.html">Rapport et recherche sur la fiabilit√© des segments Internet nationaux 2019</a></li>
<li><a href="../fr466289/index.html">Initiatives l√©gislatives. √âtrange, mais pr√©sent√© √† la Douma d'√âtat</a></li>
<li><a href="../fr466291/index.html">Enqu√™te de durabilit√© des segments Internet nationaux pour 2019</a></li>
<li><a href="../fr466295/index.html">Cache de secours indolore sur Scala</a></li>
<li><a href="../fr466299/index.html">Des sociologues russes ont men√© le premier sondage mondial sur les chatbots</a></li>
<li><a href="../fr466305/index.html">Takashi Kokubun: comment acc√©l√©rer l'ex√©cution des applications Ruby</a></li>
<li><a href="../fr466307/index.html">Comment concevoir SCS</a></li>
<li><a href="../fr466311/index.html">Atelier SLS 6 septembre</a></li>
<li><a href="../fr466315/index.html">@Pythonetc compilation, ao√ªt 2019</a></li>
<li><a href="../fr466317/index.html">Trucs et astuces de ma cha√Æne Telegram @pythonetc, ao√ªt 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>