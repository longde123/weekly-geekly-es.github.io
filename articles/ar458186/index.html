<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ท ๐ค ๐ง๐ป WAL ูู ุจูุณุชุฌุฑุณ: 1. ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ๐ โฃ๏ธ ๐ฐ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชู ุชูุฑูุณ ุงูุณูุณูุฉ ุงูุณุงุจูุฉ ูุนุฒู PostgreSQL ููุณุฎุชู ุงููุชุนุฏุฏุฉ ุ ููุญู ุงูููู ูุจุฏุฃ ุณูุณูุฉ ุฌุฏูุฏุฉ - ุญูู ุขููุฉ ุชุณุฌูู ุงููุชุงุจุฉ ุงููุณุจูุฉ. ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑูู ุจุฃู ุงููุงุฏ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WAL ูู ุจูุณุชุฌุฑุณ: 1. ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/458186/" style=";text-align:right;direction:rtl">  ุชู ุชูุฑูุณ ุงูุณูุณูุฉ ุงูุณุงุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนุฒู</a> PostgreSQL ููุณุฎุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุชุนุฏุฏุฉ</a> ุ ููุญู ุงูููู ูุจุฏุฃ ุณูุณูุฉ ุฌุฏูุฏุฉ - <strong>ุญูู ุขููุฉ</strong> ุชุณุฌูู ุงููุชุงุจุฉ ุงููุณุจูุฉ.  ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑูู ุจุฃู ุงููุงุฏุฉ ุชุณุชูุฏ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูุฑุงุช ุชุฏุฑูุจูุฉ</a> ุฅุฏุงุฑูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุฃุฌุฑููุง</a> ุฃูุง ูุจุงููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุจููุฒุงููู</a> ุ ููู ูุง ุชูุฑุฑูุง ุญุฑูููุง ูุชูุฏู ุฅูู ุงููุฑุงุกุฉ ุงููุฏุฑูุณุฉ ูุงูุชุฌุฑูุจ ุงููุณุชูู. <br><br>  ุณุชุชุฃูู ูุฐู ุงูุฏูุฑุฉ ูู ุฃุฑุจุนุฉ ุฃุฌุฒุงุก: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช (ูุฐู ุงูููุงูุฉ) ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌูุฉ Prerecord</a> - ููู ูุชู ุชุฑุชูุจูุง ูููู ูุชู ุงุณุชุฎุฏุงููุง ุฃุซูุงุก ุงูุงูุชุนุงุด ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุฉ ุชูุชูุด</a> ูุชุณุฌูู ุงูุฎูููุฉ - ููุงุฐุง ูู ุจุญุงุฌุฉ ูููู ูุชู ุชูููููุง ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุถุจุท ุณุฌู</a> - ุงููุณุชููุงุช ูุงูููุงู ุงูุชู ูุชุนูู ุญููุง ูุงูููุซูููุฉ ูุงูุฃุฏุงุก. </li></ul><br><h1 style=";text-align:right;direction:rtl">  ููุงุฐุง ุงูููููุฉ ุถุฑูุฑูุฉุ </h1><br>  ูู ูุฐู ุงูุนูููุฉ ุ ูุชู ุชุฎุฒูู ุฌุฒุก ูู ุงูุจูุงูุงุช ุงูุชู ุชุชุนุงูู ูุนูุง DBMS ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุชู ูุชุงุจุชูุง ุฅูู ุงููุฑุต (ุฃู ุงููุณุงุฆุท ุบูุฑ ุงููุชุทุงูุฑุฉ ุงูุฃุฎุฑู) ุจุทุฑููุฉ ูุคุฌูุฉ.  ูููุง ุญุฏุซ ูุฐุง ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ูู ุฏุฎู ุงูุฅุฏุฎุงู ูุฃุณุฑุน ูุนูู ุงููุธุงู. <br><br>  ูููู ูุงุฐุง ุณูุญุฏุซ ูู ุญุงูุฉ ุญุฏูุซ ุนุทู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุฅููุงู ุชุดุบูู ุงูุทุงูุฉ ุฃู ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ ูู ููุฏ DBMS ุฃู ูุธุงู ุงูุชุดุบููุ  ุณูุชู ููุฏ ุฌููุน ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ูุณุชุจูู ุงูุจูุงูุงุช ุงูููุชูุจุฉ ุนูู ุงููุฑุต ููุท (ูุน ุจุนุถ ุฃููุงุน ุงูุฅุฎูุงูุงุช ุ ูุฏ ูุนุงูู ุงููุฑุต ุฃูุถูุง ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ูู ุชุณุงุนุฏ ุฅูุง ูุณุฎุฉ ุงุญุชูุงุทูุฉ).  ูู ุญูุซ ุงููุจุฏุฃ ุ ูููู ุชูุธูู ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุจุทุฑููุฉ ูุชู ุจูุง ุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต ุฏุงุฆููุง ูู ุญุงูุฉ ูุชุณูุฉ ุ ูููู ูุฐุง ุฃูุฑ ุตุนุจ ูุบูุฑ ูุนุงู (ุนูู ุญุฏ ุนููู ุ ูุงูุฑุจูุฑุฏ ููุท ูู ุงูุฐู ุฐูุจ ุจูุฐู ุงูุทุฑููุฉ). <br><br>  ุนุงุฏุฉ ุ ุจูุง ูู ุฐูู PostgreSQL ุ ุชููู ุงูุจูุงูุงุช ุงูููุชูุจุฉ ุนูู ุงููุฑุต ุบูุฑ ูุชุณูุฉ ุ ูุนูุฏ ุงูุชุนุงูู ูู ุงููุดู ุ ููุฒู ุงุชุฎุงุฐ ุฅุฌุฑุงุกุงุช ุฎุงุตุฉ ูุงุณุชุนุงุฏุฉ ุงูุงุชุณุงู.  ุงูููููุฉ ูู ุงูุขููุฉ ุงูุชู ุชุฌุนู ุฐูู ูููููุง. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช </h1><br>  ุงูุบุฑูุจ ูู ุงูุฃูุฑ ุฃููุง ุณูุจุฏุฃ ูู ุงูุญุฏูุซ ุนู ุนูู ุงูููููุฉ ูุน ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุคูุชุฉ.  ููุณุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ูู ุงูุจููุฉ ุงููุญูุฏุฉ ุงููุฎุฒูุฉ ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ูููููุง ูุงุญุฏุฉ ูู ุฃูููุง ููุนูุฏุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุนุฏ ููู ูุจุฏุฃ ุนูููุง ุฃูุฑูุง ููููุง ูู ุญุฏ ุฐุงุชู ุ ูู ูุฐุง ุงููุซุงู ุ ุณูู ูุชุนุฑู ุนูู ููููุฉ ุชุจุงุฏู ุงูุจูุงูุงุช ุจูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุงููุฑุต. <br><br>  ูุชู ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ูู ูู ููุงู ูู ุฃูุธูุฉ ุงูุญูุณุจุฉ ุงูุญุฏูุซุฉ ุ ูููู ููุนุงูุฌ ูุงุญุฏ ูุญุฏู ุญุณุงุจ ุซูุงุซุฉ ุฃู ุฃุฑุจุนุฉ ูุณุชููุงุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุจุดูู ุนุงู ุ ููุฒู ูุฌูุฏ ุฃู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูู ุฃุฌู ุชูุฏุฆุฉ ุงููุฑู ูู ุงูุฃุฏุงุก ุจูู ููุนู ุงูุฐุงูุฑุฉ ุ ุฃุญุฏููุง ุณุฑูุน ูุณุจููุง ุ ูููู ูุง ูููู ููุฌููุน ุ ูุงูุขุฎุฑ ุจุทูุก ูุณุจููุง ุ ูููู ูููุฑ.  ูุจุงูุชุงูู ูุฅู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ูุณูู ุงููุฑู ุจูู ููุช ุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (ุงููุงููุซุงููุฉ) ูุงููุฑุต (ูููู ุซุงููุฉ). <br><br>  ูุงุญุธ ุฃู ูุธุงู ุงูุชุดุบูู ูุญุชูู ุฃูุถูุง ุนูู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ุนูู ุงููุฑุต ุชุญู ููุณ ุงููุดููุฉ.  ูุฐูู ุ ุนุงุฏุฉู ูุง ูุญุงูู DBMS ุชุฌูุจ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฒุฏูุฌ ุนู ุทุฑูู ุงููุตูู ุฅูู ุงููุฑุต ูุจุงุดุฑุฉู ุ ูุชุฌุงูุฒ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุธุงู ุงูุชุดุบูู.  ูููู ูู ุญุงูุฉ PostgreSQL ุ ููุณ ูุฐุง ูู ุงูุญุงู: ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุช ููุชุงุจุชูุง ุจุงุณุชุฎุฏุงู ุนูููุงุช ุงููููุงุช ุงูุนุงุฏูุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุญุชูู ุตูุงุฆู ุงููุฑุต ุ ูุญุชู ุงูุฃูุฑุงุต ููุณูุง ุ ุฃูุถูุง ุนูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุตุฉ ุจูุง.  ูุฐู ุงูุญูููุฉ ูุง ุชุฒุงู ูููุฏุฉ ููุง ุนูุฏูุง ูุตู ุฅูู ูุณุฃูุฉ ุงูููุซูููุฉ. <br><br>  ูููู ุงูุนูุฏุฉ ุฅูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช DBMS. <br><br>  ูุทูู ุนููู ุฐูู ูุฃูู ูุฌููุนุฉ ูู <em>ุงููุฎุงุฒู ุงููุคูุชุฉ</em> .  ูู ูุฎุฒู ูุคูุช ูู ููุงู ูุตูุญุฉ ุจูุงูุงุช ูุงุญุฏุฉ (ูุชูุฉ) ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฑุฃุณ.  ูุญุชูู ุงูุนููุงู ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููููุน ุนูู ูุฑุต ุงูุตูุญุฉ ูู ุงููุฎุฒู ุงููุคูุช (ููู ูุฑูู ูุชูุฉ ููู) ุ </li><li style=";text-align:right;direction:rtl">  ุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุงูุตูุญุฉ ูุฏ ุชุบูุฑุช ูุฃู ุนุงุฌูุงู ุฃู ุขุฌูุงู ูุฌุจ ูุชุงุจุชูุง ุนูู ุงููุฑุต (ูุณูู ูุฐุง ุงููุฎุฒู ุงููุคูุช <em>ุจุงูุชุณุฎูุฑ</em> ) ุ </li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูููุงููุงุช ุฅูู ุงููุฎุฒู ุงููุคูุช (ุนุฏุฏ ุงูุงุณุชุฎุฏุงู) ุ </li><li style=";text-align:right;direction:rtl">  ุนูู ุชุซุจูุช ุงููุฎุฒู ุงููุคูุช (ุนุฏุฏ ุงูุฏุจูุณ). </li></ul><br>  ุชูุฌุฏ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููุฎุฒู ุงููุคูุช ูู ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ ููุฎุงุฏู ููููู ุงููุตูู ุฅูููุง ูู ุฌููุน ุงูุนูููุงุช.  ููุนูู ูุน ุงูุจูุงูุงุช - ูุฑุงุกุฉ ุฃู ุชุนุฏูู ุ - ุนูููุงุช ูุฑุงุกุฉ ุงูุตูุญุงุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุจูููุง ุชููู ุงูุตูุญุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุฅููุง ูุนูู ูุนูุง ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููููุฑูุง ุนูุฏ ุงููุตูู ุฅูู ุงููุฑุต. <br><br><img src="https://habrastorage.org/webt/1u/-j/fd/1u-jfdnjvzjwvrddgb7tbvohhge.png"><br><br>  ูู ุงูุจุฏุงูุฉ ุ ุชุญุชูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุฎุงุฒู ูุคูุชุฉ ุ ููููุง ูุฑุชุจุทุฉ ุจูุงุฆูุฉ ุงููุฎุงุฒู ุงููุคูุชุฉ ุงููุฌุงููุฉ.  ุณูู ูุตุจุญ ูุนูู ุงููุคุดุฑ ุฅูู "ุงูุถุญูุฉ ุงูุชุงููุฉ" ูุงุถุญูุง ูุงุญููุง.  ููุนุซูุฑ ุจุณุฑุนุฉ ุนูู ุงูุตูุญุฉ ุงููุทููุจุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุชู ุงุณุชุฎุฏุงู ุฌุฏูู ุงูุชุฌุฒุฆุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุตูุญุฉ ุงูุจุญุซ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช </h1><br>  ุนูุฏูุง ุชุญุชุงุฌ ุนูููุฉ ุฅูู ูุฑุงุกุฉ ุตูุญุฉ ุ ูุฅููุง ุชุญุงูู ุฃููุงู ุงูุนุซูุฑ ุนูููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุจุงุณุชุฎุฏุงู ุฌุฏูู ุงูุชุฌุฒุฆุฉ.  ููุชุงุญ ุงูุชุฌุฒุฆุฉ ูู ุฑูู ุงูููู ูุฑูู ุงูุตูุญุฉ ุฏุงุฎู ุงูููู.  ูู ุงูุณูุฉ ุงูููุงุจูุฉ ูุฌุฏูู ุงูุชุฌุฒุฆุฉ ุ ุชุนุซุฑ ุงูุนูููุฉ ุนูู ุฑูู ุงููุฎุฒู ุงููุคูุช ูุชุชุญูู ููุง ุฅุฐุง ูุงู ูุญุชูู ุจุงููุนู ุนูู ุงูุตูุญุฉ ุงููุทููุจุฉ.  ููุง ูู ุงูุญุงู ูุน ุฃู ุฌุฏูู ุงูุชุฌุฒุฆุฉ ุ ุงูุชุตุงุฏู ูููู ููุง.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชุนูู ุนูู ุงูุนูููุฉ ุงูุชุญูู ูู ุนุฏุฉ ุตูุญุงุช. <br><br><blockquote style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ุฌุฏูู ุงูุชุฌุฒุฆุฉ ููุฐ ูุชุฑุฉ ุทูููุฉ ูุงูุชูุฏ.  ุชุณูุญ ูู ูุฐู ุงูุจููุฉ ุจุงูุนุซูุฑ ุจุณุฑุนุฉ ุนูู ุงููุฎุฒู ุงููุคูุช ุนูู ุงูุตูุญุฉ ุ ููููุง ุบูุฑ ูุฌุฏูุฉ ุชูุงููุง ุฅุฐุง ููุช ุชุญุชุงุฌ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู ุงูุนุซูุฑ ุนูู ุฌููุน ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุชู ูุดุบููุง ุฌุฏูู ูุนูู.  ููู ูุง ุฃุญุฏ ุงูุชุฑุญ ุจุฏููุงู ุฌูุฏุงู ุญุชู ุงูุขู. <br></blockquote><br>  ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ุงูุตูุญุฉ ุงููุทููุจุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุฌุจ ุฃู "ุชุฌูุฏ" ุงูุนูููุฉ ุงููุฎุฒู ุงููุคูุช ุนู ุทุฑูู ุฒูุงุฏุฉ ุนุฏุฏ ุงูุฏุจูุณ (ูููู ุฃู ุชููู ุนุฏุฉ ุนูููุงุช ุจุฐูู ูู ููุช ูุงุญุฏ).  ุทุงููุง ุชู ุฅุตูุงุญ ุงููุฎุฒู ุงููุคูุช (ูููุฉ ุงูุนุฏุงุฏ ุฃูุจุฑ ูู ุงูุตูุฑ) ุ ูุชู ุงุนุชุจุงุฑ ุงุณุชุฎุฏุงู ุงููุฎุฒู ุงููุคูุช ูุชุบููุฑ ูุญุชููุงุชู "ุจุดูู ุฌุฐุฑู".  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูุธูุฑ ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุณุทุฑ ูู ุงูุตูุญุฉ - ูุฐุง ูุง ูุฒุนุฌ ุฃู ุดุฎุต ุจุณุจุจ ููุงุนุฏ ุงูุฅุตุฏุงุฑุงุช ุงููุชุนุฏุฏุฉ ูุถูุญ ุงูุฑุคูุฉ.  ูููู ูุง ูููู ูุฑุงุกุฉ ุตูุญุฉ ุฃุฎุฑู ูู ุงููุฎุฒู ุงููุคูุช ุงููุซุจุช. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุงุฒุฏุญุงู </h1><br>  ูุฏ ูุญุฏุซ ุฃู ุงูุตูุญุฉ ุงูุถุฑูุฑูุฉ ุบูุฑ ููุฌูุฏุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ูุฑุงุกุชูุง ูู ุงููุฑุต ุฅูู ุจุนุถ ุงููุฎุฒู ุงููุคูุช. <br><br>  ูู ุญุงูุฉ ุงุณุชูุฑุงุฑ ูุฌูุฏ ูุฎุงุฒู ูุคูุชุฉ ูุฌุงููุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุชู ุชุญุฏูุฏ ุฃูู ูุฎุฒู ูุฌุงูู.  ูููู ุนุงุฌูุงู ุฃู ุขุฌูุงู ุณููุชูู ุงูุฃูุฑ (ุนุงุฏุฉู ูุง ูููู ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃูุจุฑ ูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ููุฐุงูุฑุฉ ุงููุคูุชุฉ) ูุจุนุฏ ุฐูู ุณูุชุนูู ุนููู ุงุฎุชูุงุฑ ุฃุญุฏ ุงููุฎุงุฒู ุงููุคูุชุฉ ุงููุดุบููุฉ ุ ููุฑุถ ุงูุตูุญุฉ ููุงู ููุฑุงุกุฉ ุตูุญุฉ ุฌุฏูุฏุฉ ุนูู ุงููุณุงุญุฉ ุงูุฎุงููุฉ. <br><br>  ุชุณุชูุฏ ุขููุฉ ุงูุงุณุชุจุงู ุฅูู ุญูููุฉ ุฃูู ูู ูู ูุฑุฉ ูุชู ูููุง ุงููุตูู ุฅูู ุงููุฎุฒู ุงููุคูุช ุ ุชุฒูุฏ ุงูุนูููุงุช ูู ุนุฏุฏ ุงูุงุณุชุฎุฏุงู ูู ุฑุฃุณ ุงููุฎุฒู ุงููุคูุช.  ูุจุงูุชุงูู ุ ูุฅู ุชูู ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุชู ุชุณุชุฎุฏู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุฃูู ูู ุบูุฑูุง ููุง ูููุฉ ุนุฏุงุฏ ุฃูู ููุฑุดุญุฉ ุฌูุฏุฉ ููุงุฒุฏุญุงู. <br><br>  ุชุนูู ุฎูุงุฑุฒููุฉ ุงูุชุณุงุญ ุงูุณุงุนุฉ ุนุจุฑ ุฌููุน ุงููุฎุงุฒู ุงููุคูุชุฉ (ุจุงุณุชุฎุฏุงู ุงููุคุดุฑ ุฅูู "ุงูุถุญูุฉ ุงูุชุงููุฉ") ุ ููุง ูููู ูู ุนุฏุฏ ูุฑุงุช ุงููุตูู ุงูุฎุงุตุฉ ุจูู ุจููุฏุงุฑ ูุงุญุฏ.  ููุงุฒุฏุญุงู ุ ูุชู ุชุญุฏูุฏ ุงููุฎุฒู ุงููุคูุช ุงูุฃูู ุ ูุงูุฐู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุนูู ุนุฏุงุฏ ุฏุฎูู ุตูุฑู (ุนุฏุฏ ุงูุงุณุชุฎุฏุงู) ุ </li><li style=";text-align:right;direction:rtl">  ูููุณุช ุซุงุจุชุฉ (ุตูุฑ ุฑูู ุงูุฏุจูุณ). </li></ol><br>  ูุฏ ุชูุงุญุธ ุฃูู ุฅุฐุง ูุงูุช ุฌููุน ุงููุฎุงุฒู ุงููุคูุชุฉ ุจูุง ุนุฏุงุฏ ุฏุฎูู ุบูุฑ ุตูุฑู ุ ูุณูู ูุชุนูู ุนูู ุงูุฎูุงุฑุฒููุฉ ุฅูุดุงุก ุฃูุซุฑ ูู ุฏุงุฆุฑุฉ ุ ูุฅุนุงุฏุฉ ุถุจุท ุงูุนุฏุงุฏุงุช ุ ุญุชู ููุชูู ุฃุญุฏูุง ุฃุฎูุฑูุง ุฅูู ุงูุตูุฑ.  ูุชุฌูุจ "ุฏูุงุฆุฑ ุงููู" ุ ูุฅู ุงูุญุฏ ุงูุฃูุตู ููููุฉ ุนุฏุงุฏ ุงูุฏุฎูู ูุญุฏุฏ ุจู 5. ูููู ูุง ูุฒุงู ุ ูุน ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุจูุฑ ุงููุฎุฒู ุงููุคูุช ุ ูููู ุฃู ุชุณุจุจ ูุฐู ุงูุฎูุงุฑุฒููุฉ ุญูููุฉ ูุจูุฑุฉ. <br><br>  ุจุนุฏ ุงูุนุซูุฑ ุนูู ุงููุฎุฒู ุงููุคูุช ุ ูุญุฏุซ ูุง ููู ูุฐูู. <br><br>  ูุชู ุชุซุจูุช ุงููุฎุฒู ุงููุคูุช ูุฅุธูุงุฑ ุงูุนูููุงุช ุงูุฃุฎุฑู ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฅุตูุงุญ ุ ูุชู ุงุณุชุฎุฏุงู ูุณุงุฆู ุฃุฎุฑู ููุญุธุฑ ุ ููููุง ุณูุชุญุฏุซ ุฃูุซุฑ ุนู ุฐูู ุจุดูู ูููุตู. <br><br>  ุฅุฐุง ุชุจูู ุฃู ุงููุฎุฒู ุงููุคูุช ุณูุฆ ุ ุฃู ุฃูู ูุญุชูู ุนูู ุจูุงูุงุช ุชู ุชุบููุฑูุง ุ ููู ูุชู ุชุฌุงูู ุงูุตูุญุฉ ุจุจุณุงุทุฉ - ุฃููุงู ูุฌุจ ุญูุธูุง ุนูู ุงููุฑุต.  ูุฐุง ููุณ ูููููุง ุฌูุฏูุง ุ ูุธุฑูุง ูุฃู ุงูุนูููุฉ ุงูุชู ุนูู ูุดู ูุฑุงุกุฉ ุงูุตูุญุฉ ูุฌุจ ุฃู ุชูุชุธุฑ ุชุณุฌูู ุงูุจูุงูุงุช "ุงูุฃุฌูุจูุฉ" ุ ูููู ูุฐุง ุงูุชุฃุซูุฑ ุชู ุณูุงุณุฉ ุจูุงุณุทุฉ ููุงุท ุงูุชูุชูุด ูุนูููุงุช ุชุณุฌูู ุงูุฎูููุฉ ุ ูุงูุชู ุณุชุชู ููุงูุดุชูุง ูุงุญููุง. <br><br>  ุจุนุฏ ุฐูู ุ ุชุชู ูุฑุงุกุฉ ุตูุญุฉ ุฌุฏูุฏุฉ ูู ุงููุฑุต ุฅูู ุงููุฎุฒู ุงููุคูุช ุงููุญุฏุฏ.  ูุชู ุชุนููู ุนุฏุงุฏ ุนุฏุฏ ุงูููุงููุงุช ุฅูู ูุงุญุฏ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุชุณุฌูู ุงูุฑุงุจุท ุฅูู ุงูุตูุญุฉ ุงููุญููุฉ ูู ุฌุฏูู ุงูุชุฌุฒุฆุฉ ุญุชู ูููู ุงูุนุซูุฑ ุนููู ูู ุงููุณุชูุจู. <br><br>  ุงูุขู ูุดูุฑ ุฑุงุจุท "ุงูุถุญูุฉ ุงูุชุงููุฉ" ุฅูู ุงููุฎุฒู ุงููุคูุช ุงูุชุงูู ุ ูุงููุงุญุฏ ุงูุฐู ุชู ุชุญูููู ููุท ูุฏูู ุงูููุช ูุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุฏุฎูู ุญุชู ูุฏูุฑ ุงููุคุดุฑ ุญูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุจุฃููููุง ููุนูุฏ ูุฑุฉ ุฃุฎุฑู. <br><br><h1 style=";text-align:right;direction:rtl">  ุจุฃู ุนููู </h1><br>  ููุง ูู ูุนุชุงุฏ ูู PostgreSQL ุ ููุงู ุงูุชุฏุงุฏ ูุณูุญ ูู ุจุงูุจุญุซ ุฏุงุฎู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุคูุชุฉ. <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXTENSION</span></span> pg_buffercache;</code> </pre> <br>  ุฅูุดุงุก ุฌุฏูู ูุฅุฏุฑุงุฌ ุตู ูุงุญุฏ ููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> cacheme( id <span class="hljs-type"><span class="hljs-type">integer</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (autovacuum_enabled = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> cacheme <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><br>  ูุงุฐุง ุณูููู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุชุ  ูุญุฏ ุฃุฏูู ุ ูุฌุจ ุฃู ุชุธูุฑ ุตูุญุฉ ููู ูุน ุฅุถุงูุฉ ุณุทุฑ ูุงุญุฏ.  ุณูู ูุชุญูู ูู ุฐูู ูู ุฎูุงู ุงูุงุณุชุนูุงู ุงูุชุงูู ุ ุงูุฐู ูุญุฏุฏ ููู ููุท ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุชู ุชูุชูู ุฅูู ุฌุฏูููุง (ุจูุงุณุทุฉ ุฑูู ุงูููู relfilenode) ุ ููููู ุจูู ุชุดููุฑ ุฑูู ุงูุทุจูุฉ (relforknumber): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> bufferid, <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> relforknumber <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'main'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'fsm'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'vm'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> relfork, relblocknumber, isdirty, usagecount, pinning_backends <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'cacheme'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> bufferid | relfork | relblocknumber | isdirty | usagecount | pinning_backends ----------+---------+----------------+---------+------------+------------------ 15735 | main | 0 | t | 1 | 0 (1 row)</code> </pre><br>  ูุฐูู ูู - ููุงู ุตูุญุฉ ูุงุญุฏุฉ ูู ุงููุฎุฒู ุงููุคูุช.  ุฅูู ูุชุณุฎ (isdirty) ุ ุนุฏุงุฏ ุงูุนุฏุงุฏ ูุณุงูู ูุงุญุฏ (usagecount) ุ ููุง ูุชู ุฅุตูุงุญู ุจูุงุณุทุฉ ุฃู ุนูููุฉ (pinning_backends). <br><br>  ุงูุขู ูู ุจุฅุถุงูุฉ ุณุทุฑ ุขุฎุฑ ููุฑุฑ ุงูุงุณุชุนูุงู.  ูุญูุธ ุงูุญุฑูู ุ ูููู ุจุฅุฏุฑุงุฌ ุณุทุฑ ูู ุฌูุณุฉ ุฃุฎุฑู ุ ูููุฑุฑ ุงูุทูุจ ุงูุทููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>\g</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> cacheme <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; \g</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> bufferid | relfork | relblocknumber | isdirty | usagecount | pinning_backends ----------+---------+----------------+---------+------------+------------------ 15735 | main | 0 | t | 2 | 0 (1 row)</code> </pre><br>  ุชูุช ุฅุถุงูุฉ ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ุงูุฌุฏูุฏุฉ - ุงูุณุทุฑ ุงูุซุงูู ุงุญุชูุงุก ุนูู ููุณ ุงูุตูุญุฉ.  ูุฑุฌู ููุงุญุธุฉ ุฃู ุนุฏุงุฏ ุงูุงุณุชุฎุฏุงู ูุฏ ุฒุงุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> cacheme;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| id | ---- | 1 | 2 | (2 rows)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; \g</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> bufferid | relfork | relblocknumber | isdirty | usagecount | pinning_backends ----------+---------+----------------+---------+------------+------------------ 15735 | main | 0 | t | 3 | 0 (1 row)</code> </pre><br>  ูุจุนุฏ ุงููุตูู ุฅูู ุงูุตูุญุฉ ูููุฑุงุกุฉ ุ ูุฒุฏุงุฏ ุงูุนุฏุงุฏ ุฃูุถูุง. <br><br>  ูุฅุฐุง ููุช ูุธููุฉุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">VACUUM</span></span> cacheme;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; \g</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> bufferid | relfork | relblocknumber | isdirty | usagecount | pinning_backends ----------+---------+----------------+---------+------------+------------------ 15731 | fsm | 1 | t | 1 | 0 15732 | fsm | 0 | t | 1 | 0 15733 | fsm | 2 | t | 2 | 0 15734 | vm | 0 | t | 2 | 0 15735 | main | 0 | t | 3 | 0 (5 rows)</code> </pre><br>  ุฃูุดุฃ ุงูุชูุธูู ุฎุฑูุทุฉ ุฑุคูุฉ (ุตูุญุฉ ูุงุญุฏุฉ) ูุฎุฑูุทุฉ ูุณุงุญุฉ ุญุฑุฉ (ุซูุงุซ ุตูุญุงุช - ุงูุญุฏ ุงูุฃุฏูู ูุญุฌู ูุฐู ุงูุฎุฑูุทุฉ). <br><br>  ุญุณูุง ูููู ุฌุฑุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุญุฌู ุงูุฅุนุฏุงุฏ </h1><br>  ูุชู ุชุนููู ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุจูุงุณุทุฉ ุงููุนููุฉ <em>Shared_buffers</em> .  ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ุณุฎููุฉ 128 ููุบุงุจุงูุช.  ูุฐู ูู ุฅุญุฏู ุงููุนููุงุช ุงูุชู ูู ุงูููุทูู ุฒูุงุฏุชูุง ููุฑูุง ุจุนุฏ ุชุซุจูุช PostgreSQL. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> setting, unit <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_settings <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> = <span class="hljs-string"><span class="hljs-string">'shared_buffers'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> setting | unit ---------+------ 16384 | 8kB (1 row)</code> </pre><br>  ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุชุบููุฑ ุงููุนููุฉ ูุชุทูุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุ ุญูุซ ูุชู ุชุฎุตูุต ุฌููุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุถุฑูุฑูุฉ ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุฎุงุฏู. <br><br>  ูุฃู ุฃุณุจุงุจ ูุงุฎุชูุงุฑ ุงููููุฉ ุงูููุงุณุจุฉุ <br><br>  ุญุชู ุฃูุจุฑ ูุงุนุฏุฉ ุจูุงูุงุช ูุฏููุง ูุฌููุนุฉ ูุญุฏูุฏุฉ ูู ุงูุจูุงูุงุช "ุงูุณุงุฎูุฉ" ุ ูุงูุชู ูุชู ุชูููุฐ ุงูุนูู ุงููุดุท ูู ูู ูุญุธุฉ ูู ุงูููุช ุงูููุงุณุจ.  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุฌุจ ูุถุน ูุฐู ุงููุฌููุนุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช (ุจุงูุฅุถุงูุฉ ุฅูู ุจุนุถ ุงููุณุงุญุฉ ูุจูุงูุงุช "ููุฑุฉ ูุงุญุฏุฉ").  ุฅุฐุง ูุงู ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃุตุบุฑ ุ ูุฅู ุงูุตูุญุงุช ุงููุณุชุฎุฏูุฉ ุจูุงุนููุฉ ุณุชุถุบุท ุจุงุณุชูุฑุงุฑ ุนูู ุจุนุถูุง ุงูุจุนุถ ุ ููุง ูุคุฏู ุฅูู ุฒูุงุฏุฉ ุฅูุชุงุฌ ุงููุฏุฎูุงุช.  ููู ุฒูุงุฏุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุจุดูู ุฎุงุทุฆ.  ูุน ุงูุญุฌู ุงููุจูุฑ ุ ุณุชุฒุฏุงุฏ ุงูุชูุงููู ุงูุนุงูุฉ ูุตูุงูุชูุง ุ ูุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (RAM) ูุทููุจุฉ ุฃูุถูุง ูุชูุจูุฉ ุงูุงุญุชูุงุฌุงุช ุงูุฃุฎุฑู. <br><br>  ูุจุงูุชุงูู ุ ูุฅู ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฃูุซู ุณูููู ูุฎุชูููุง ูู ุงูุฃูุธูุฉ ุงููุฎุชููุฉ: ูุนุชูุฏ ุนูู ุงูุจูุงูุงุช ุ ุนูู ุงูุชุทุจูู ุ ุนูู ุงูุชุญููู.  ูุณูุก ุงูุญุธ ุ ูุง ููุฌุฏ ูุซู ูุฐุง ุงููุนูู ุงูุณุญุฑู ุงูุฐู ููุงุณุจ ุงูุฌููุน ุนูู ูุฏู ุงููุณุงูุงุฉ. <br><br>  ุงูุชูุตูุฉ ุงูููุงุณูุฉ ูู ุฃุฎุฐ 1/4 ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุชูุฑูุจ ุฃููู (ุจุงููุณุจุฉ ููุธุงู Windows ูุจู PostgreSQL 10 ุ ููุตู ุจุงุฎุชูุงุฑ ุญุฌู ุฃุตุบุฑ). <br><br>  ุซู ุชุญุชุงุฌ ุฅูู ุฅููุงุก ูุธุฑุฉ ุนูู ุงููุถุน.  ูู ุงูุฃูุถู ุฅุฌุฑุงุก ุชุฌุฑุจุฉ: ุฒูุงุฏุฉ ุฃู ุชูููู ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููุงุฑูุฉ ุฃุฏุงุก ุงููุธุงู.  ุจุงูุทุจุน ุ ููุฐุง ูู ุงูุถุฑูุฑู ุฃู ูููู ูุฏูู ููุนุฏ ุงุฎุชุจุงุฑ ูุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงูุญูู ุงููููุฐุฌู - ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุ ุชุจุฏู ูุซู ูุฐู ุงูุชุฌุงุฑุจ ููุฃููุง ูุชุนุฉ ูุดููู ูููุง. <br><br><blockquote style=";text-align:right;direction:rtl">  ุชุฃูุฏ ูู ุฅููุงุก ูุธุฑุฉ ุนูู ุชูุฑูุฑ ูููููุงู ุณุงููุฎูุงููู ูู PgConf-2019: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงุฑุจุฉ ุตูุงุนูุฉ</a> ูุถุจุท <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PostgreSQL: ุชุฌุงุฑุจ ูุงุนุฏุฉ ุงูุจูุงูุงุช</a> " <br></blockquote><br>  ูููู ูููู ุงูุญุตูู ุนูู ุจุนุถ ุงููุนูููุงุช ุญูู ูุง ูุญุฏุซ ูุจุงุดุฑุฉ ุนูู ูุธุงู ูุจุงุดุฑ ุจุงุณุชุฎุฏุงู ููุณ ุงูุชุฏุงุฏ pg_buffercache - ูุงูุฃูู ูู ุฐูู ุ ุฃูุธุฑ ุฅูู ุงูุฒุงููุฉ ุงูุตุญูุญุฉ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฏุฑุงุณุฉ ุชูุฒูุน ุงููุฎุงุฒู ุงููุคูุชุฉ ููููุง ูุฏุฑุฌุฉ ุงุณุชุฎุฏุงููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> usagecount, count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> usagecount <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> usagecount;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> usagecount | count ------------+------- 1 | 221 2 | 869 3 | 29 4 | 12 5 | 564 | 14689 (6 rows)</code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฅู ุงููุซูุฑ ูู ููู ุงูุนุฏุงุฏ ุงููุงุฑุบุฉ ูู ูุฎุงุฒู ูุคูุชุฉ ูุฌุงููุฉ.  ููุณ ูู ุงููุณุชุบุฑุจ ูุฌูุฏ ูุธุงู ูุง ูุญุฏุซ ููู ุดูุก. <br><br>  ููููู ูุนุฑูุฉ ููุฏุงุฑ ุงูุฌุฏุงูู ุงููุฎุฒูุฉ ูุคูุชูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง ููุฏู ูุงุนููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูุจูุงูุงุช (ูุนูู ุงูุงุณุชุฎุฏุงู ุงููุดุท ูู ูุฐุง ุงูุงุณุชุนูุงู ูุฌูุฏ ูุฎุงุฒู ูุคูุชุฉ ุจูุง ุนุฏุงุฏ ุงุณุชุฎุฏุงู ูุฃูุซุฑ ูู 3): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> c.relname, count(*) blocks, round( <span class="hljs-number"><span class="hljs-number">100.0</span></span> * <span class="hljs-number"><span class="hljs-number">8192</span></span> * count(*) / pg_table_size(c.oid) ) "% of rel", round( <span class="hljs-number"><span class="hljs-number">100.0</span></span> * <span class="hljs-number"><span class="hljs-number">8192</span></span> * count(*) <span class="hljs-keyword"><span class="hljs-keyword">FILTER</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> b.usagecount &gt; <span class="hljs-number"><span class="hljs-number">3</span></span>) / pg_table_size(c.oid) ) "% hot" <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache b <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> pg_class c <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pg_relation_filenode(c.oid) = b.relfilenode <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> b.reldatabase <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> ( <span class="hljs-number"><span class="hljs-number">0</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-type"><span class="hljs-type">oid</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_database <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> datname = current_database()) ) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> b.usagecount <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> c.relname, c.oid <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> relname | blocks | % of rel | % hot ---------------------------+--------+----------+------- vac | 833 | 100 | 0 pg_proc | 71 | 85 | 37 pg_depend | 57 | 98 | 19 pg_attribute | 55 | 100 | 64 vac_s | 32 | 4 | 0 pg_statistic | 27 | 71 | 63 autovac | 22 | 100 | 95 pg_depend_reference_index | 19 | 48 | 35 pg_rewrite | 17 | 23 | 8 pg_class | 16 | 100 | 100 (10 rows)</code> </pre><br>  ููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูููู ููุงุญุธุฉ ุฃู ุฌุฏูู vac ูุญุชู ุฃูุจุฑ ููุงู (ุงุณุชุฎุฏููุงู ูู ุฃุญุฏ ุงูููุถูุนุงุช ุงูุณุงุจูุฉ) ุ ูููู ูู ูุชูุงููู ุฃุญุฏ ููุชุฑุฉ ุทูููุฉ ููู ูุชู ุฅูุบุงุคู ุจุจุณุงุทุฉ ูุฃู ุงููุฎุงุฒู ุงููุคูุชุฉ ุงููุฌุงููุฉ ูู ุชููุฏ ุจุนุฏ. <br><br>  ููููู ุงูุฎุฑูุฌ ุจุฃูุณุงู ุฃุฎุฑู ุชููุฑ ูุนูููุงุช ูููุฏุฉ ููุชูููุฑ.  ูู ุงูุถุฑูุฑู ููุท ุงููุธุฑ ูู ูุฐู ุงูุทูุจุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุชูุฑุงุฑูุง ุนุฏุฉ ูุฑุงุช: ุณุชุฎุชูู ุงูุฃุฑูุงู ูู ุญุฏูุฏ ูุนููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููุณ ูู ุงูุถุฑูุฑู ุงูููุงู ุจูุง ุจุงุณุชูุฑุงุฑ (ูุฌุฒุก ูู ุงููุฑุงูุจุฉ) ูุธุฑูุง ูุญูููุฉ ุฃู ูุชู ุงูุงูุชุฏุงุฏ ุชุนูู ูุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุคูุชุฉ ููุชุฑุฉ ูุตูุฑุฉ. </li></ul><br>  ูุฃูุซุฑ ุดูุก ูุงุญุฏ.  ูุฌุจ ุฃูุง ููุณู ุฃู PostgreSQL ูุนูู ูุน ุงููููุงุช ูู ุฎูุงู ููุงููุงุช ููุชุธูุฉ ุฅูู ูุธุงู ุงูุชุดุบูู ุ ูุจุงูุชุงูู ุ ููุงู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุฒุฏูุฌุฉ: ุงูุตูุญุงุช ุชูุน ูู ูู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช DBMS ูุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุธุงู ุงูุชุดุบูู.  ูุจุงูุชุงูู ุ ูุฅู "ุชูููุช" ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ูุง ูุคุฏู ุฏุงุฆูุงู ุฅูู ุงูุญุงุฌุฉ ุฅูู I / O ุงูุญูููู.  ููู ุงุณุชุฑุงุชูุฌูุฉ ุงุฒุฏุญุงู ูุธุงู ุงูุชุดุบูู ุชุฎุชูู ุนู ุงุณุชุฑุงุชูุฌูุฉ DBMS: ูุง ูุนุฑู ูุธุงู ุงูุชุดุบูู ุดูุฆูุง ุนู ูุนูู ูุฑุงุกุฉ ุงูุจูุงูุงุช. <br><br><h1 style=";text-align:right;direction:rtl">  ุงููุฒูุญ ุงูุฌูุงุนู </h1><br>  ูู ุงูุนูููุงุช ุงูุชู ุชุคุฏู ูุฑุงุกุฉ ูุฌูุนุฉ ููุจูุงูุงุช ุฃู ูุชุงุจุชูุง ุ ููุงู ุฎุทุฑ ูู ููู ุงูุตูุญุงุช ุงููููุฏุฉ ุจุณุฑุนุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุคูุชุฉ ุจุจูุงูุงุช "ููุฑุฉ ูุงุญุฏุฉ". <br><br>  ูููุน ุญุฏูุซ ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ูุง ูุณูู <em>ุญููุงุช ุงููุฎุฒู ุงููุคูุช</em> ููุซู ูุฐู ุงูุนูููุงุช - ูุชู ุชุฎุตูุต ุฌุฒุก ุตุบูุฑ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ููู ุนูููุฉ.  ูุนูู ุงููุชูุก ููุท ุฏุงุฎู ุงูุญููุฉ ุ ูุฐูู ูุง ุชุนุงูู ุจููุฉ ุจูุงูุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุคูุชุฉ. <br><br>  ูู ุฃุฌู ุงููุฑุงุกุฉ ุงููุชุณูุณูุฉ ููุฌุฏุงูู ุงููุจูุฑุฉ (ุญุฌููุง ูุชุฌุงูุฒ ุฑุจุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช) ูุชู ุชุฎุตูุต 32 ุตูุญุฉ.  ุฅุฐุง ุงุญุชุงุฌุช ุนูููุฉ ุฃุฎุฑู ุฃูุถูุง ุฅูู ูุฐู ุงูุจูุงูุงุช ุฃุซูุงุก ูุฑุงุกุฉ ุฌุฏูู ุ ูุฅููุง ูุง ุชุจุฏุฃ ูู ูุฑุงุกุฉ ุงูุฌุฏูู ุฃููุงู ุ ูููููุง ุชุชุตู ุจุญููุฉ ุนุงุฒูุฉ ููุฌูุฏุฉ.  ุจุนุฏ ุงููุณุญ ุ ููุฑุฃ ุจุฏุงูุฉ "ุงูุฌุฏูู ุงูุถุงุฆุนุฉ". <br><br>  ุฏุนููุง ุงูุชุญูู ูู ุฐูู.  ููููุงู ุจุฐูู ุ ูู ุจุฅูุดุงุก ุฌุฏูู ุจุญูุซ ูุญุชู ุตู ูุงุญุฏ ุตูุญุฉ ูุงููุฉ - ููู ุฃูุซุฑ ููุงุกูุฉู ููุนุฏ.  ุญุฌู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุงูุงูุชุฑุงุถู ูู 128 ููุบุงุจุงูุช = 16384 ุตูุญุฉ ูู 8 ูููู ุจุงูุช.  ูุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅุฏุฑุงุฌ ุฃูุซุฑ ูู 4096 ุตูุญุฉ ูู ุงูุฌุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> big( id <span class="hljs-type"><span class="hljs-type">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PRIMARY KEY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GENERATED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALWAYS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>, s <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">1000</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (fillfactor=<span class="hljs-number"><span class="hljs-number">10</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> big(s) <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-string"><span class="hljs-string">'FOO'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> generate_series(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4096</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><br>  ุฏุนูุง ูุญูู ุงูุฌุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ANALYZE</span></span> big; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> relpages <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_class <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-type"><span class="hljs-type">oid</span></span> = <span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> relpages ---------- 4097 (1 row)</code> </pre><br>  ุงูุขู ูุชุนูู ุนูููุง ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ููุณุญ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุจูุงูุงุช ุงูุฌุฏูู ุงูุชู ููุฑุฃูุง ุงูุชุญููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main restart</code> </pre><br>  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุงูุฑุฃ ุงูุฌุฏูู ุจุฃูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">EXPLAIN</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ANALYZE</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">COSTS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> big;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN --------------------------------------------------------------------- Aggregate (actual time=14.472..14.473 rows=1 loops=1) -&gt; Seq Scan on big (actual time=0.031..13.022 rows=4097 loops=1) Planning Time: 0.528 ms Execution Time: 14.590 ms (4 rows)</code> </pre><br>  ูุชุฃูุฏ ูู ุงุญุชูุงู 32 ุตูุญุฉ ููุท ูู ุตูุญุงุช ุฌุฏูููุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ------- 32 (1 row)</code> </pre><br>  ุฅุฐุง ูุงู ุงููุณุญ ุงูุชุณูุณูู ูุญุธูุฑูุง ุ ูุณูุชู ูุฑุงุกุฉ ุงูุฌุฏูู ุญุณุจ ุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> enable_seqscan = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">EXPLAIN</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">ANALYZE</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">COSTS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> big;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN ------------------------------------------------------------------------------------------- Aggregate (actual time=50.300..50.301 rows=1 loops=1) -&gt; Index Only Scan using big_pkey on big (actual time=0.098..48.547 rows=4097 loops=1) Heap Fetches: 4097 Planning Time: 0.067 ms Execution Time: 50.340 ms (5 rows)</code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูุชู ุงุณุชุฎุฏุงู ุญููุฉ ุงููุฎุฒู ุงููุคูุช ููุธูุฑ ุงูุฌุฏูู ุจุฃูููู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช (ูุงูููุฑุณ ุจุฃูููู ุชูุฑูุจูุง ุ ุฃูุถูุง): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ------- 4097 (1 row)</code> </pre><br>  ุจุทุฑููุฉ ููุงุซูุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุงูุญููุงุช ุงูุนุงุฒูุฉ ูุนูููุฉ ุงูุชูุธูู (ุฃูุถูุง 32 ุตูุญุฉ) ููุนูููุงุช ุงููุชุงุจุฉ ุงููุฌูุนุฉ COPY IN ู CREATE TABLE AS SELECT (ุนุงุฏุฉู 2048 ุตูุญุฉ ุ ููู ูุง ุชุฒูุฏ ุนู 1/8 ูู ุฅุฌูุงูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุคูุชุฉ). <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุฌุฏุงูู ุงููุคูุชุฉ </h1><br>  ุงุณุชุซูุงุก ุงููุงุนุฏุฉ ุงูุนุงูุฉ ูู ุงูุฌุฏุงูู ุงููุคูุชุฉ.  ูุธุฑูุง ูุฃู ุงูุจูุงูุงุช ุงููุคูุชุฉ ูุฑุฆูุฉ ูุนูููุฉ ูุงุญุฏุฉ ููุท ุ ููู ูููู ููุง ุฃู ุดูุก ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุดุชุฑูุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุชูุฌุฏ ุงูุจูุงูุงุช ุงููุคูุชุฉ ููุท ุฎูุงู ุฌูุณุฉ ูุงุญุฏุฉ ุ ูุฐูู ูุง ุชุญุชุงุฌ ุฅูู ุงูุญูุงูุฉ ูู ุงููุดู. <br><br>  ุจุงููุณุจุฉ ููุจูุงูุงุช ุงููุคูุชุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ุงูุฐุงูุฑุฉ ุงููุญููุฉ ููุนูููุฉ ุงูุชู ุชููู ุงูุฌุฏูู.  ูุธุฑูุง ูุฃู ูุซู ูุฐู ุงูุจูุงูุงุช ูุชุงุญุฉ ูุนูููุฉ ูุงุญุฏุฉ ููุท ุ ูุฅููุง ูุง ุชุญุชุงุฌ ุฅูู ุงูุญูุงูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃููุงู.  ุชุณุชุฎุฏู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุญููุฉ ุงูุฎูุงุฑุฒููุฉ ุงูุงุณุชุจุงููุฉ ุงููุนุชุงุฏุฉ. <br><br>  ุจุฎูุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุงูุนุงูุฉ ุ ูุชู ุชุฎุตูุต ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุญูู ุญุณุจ ุงูุญุงุฌุฉ ุ ูุฃูู ูุง ูุชู ุงุณุชุฎุฏุงู ุงูุฌุฏุงูู ุงููุคูุชุฉ ูู ุฌููุน ุงูุฏูุฑุงุช.  ูุชู ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃูุตู ูููุฏุงุฑ ุงูุฐุงูุฑุฉ ููุฌุฏุงูู ุงููุคูุชุฉ ูู ุฌูุณุฉ ูุงุญุฏุฉ ุจูุงุณุทุฉ ุงููุนููุฉ <em>temp_buffers</em> . <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุงุญูุงุก ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช </h1><br>  ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุ ูุฌุจ ุฃู ููุฑ ุจุนุถ ุงูููุช ูุจู ุฃู "ุชุณุฎู" ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช - ุชุฌูุน ุงูุจูุงูุงุช ุงููุนููุฉ ุงููุณุชุฎุฏูุฉ ูุนูููุง.  ูู ุจุนุถ ุงูุฃุญูุงู ูุฏ ูููู ูู ุงููููุฏ ูุฑุงุกุฉ ุจูุงูุงุช ุฌุฏุงูู ูุนููุฉ ุนูู ุงูููุฑ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุชู ุชุตููู ููุญู ุฎุงุต ููุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXTENSION</span></span> pg_prewarm;</code> </pre><br>  ูู ุงูุณุงุจู ุ ูุงู ุจุฅููุงู ุงูููุญู ูุฑุงุกุฉ ุฌุฏุงูู ูุนููุฉ ููุท ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช (ุฃู ููุท ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุธุงู ุงูุชุดุบูู).  ูููู ูู PostgreSQL 11 ุ ูุงู ุจุฅููุงูู ุญูุธ ุญุงูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุญุงููุฉ ุนูู ุงููุฑุต ูุงุณุชุนุงุฏุชูุง ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู.  ููุงุณุชูุงุฏุฉ ูู ูุฐุง ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงูููุชุจุฉ ุฅูู <em>Shared_preload_libraries</em> ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> shared_preload_libraries = <span class="hljs-string"><span class="hljs-string">'pg_prewarm'</span></span>;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main restart</code> </pre><br>  ุญูู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุ ุฅุฐุง ูู ูุชู ุชุบููุฑ ุงููุนููุฉ <em>pg_prewarm.autoprewarm</em> ุ ุณูุชู ุชููุงุฆููุง ุจุฏุก ุนูููุฉ ุงูุฎูููุฉ ุงูุฑุฆูุณูุฉ autoprewarm ุชููุงุฆููุง ุ ูุงูุชู ูุฑุฉ ูุงุญุฏุฉ ูู <em>pg_prewarm.autoprewarm_interval ุณุชููู</em> ูุงุฆูุฉ ุงูุตูุญุงุช ุงููุฎุฒูุฉ ูุคูุชูุง ุนูู ุงููุฑุต (ูุง ุชูุณู ุฃู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุนูููุฉ ุงูุฌุฏูุฏุฉ ุนูุฏ ุฅุนุฏุงุฏ <em>max_parallel_processes</em> ). <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span>, setting, unit <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_settings <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'pg_prewarm%'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> name | setting | unit ---------------------------------+---------+------ pg_prewarm.autoprewarm | on | pg_prewarm.autoprewarm_interval | 300 | s (2 rows)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ ps -o pid,command --ppid `head -n 1 /var/lib/postgresql/11/main/postmaster.pid` | grep prewarm</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">10436 postgres: 11/main: autoprewarm master</code> </pre><br>  ุงูุขู ูุง ุชูุฌุฏ ุทุงููุฉ ูุจูุฑุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ------- 0 (1 row)</code> </pre><br>  ุฅุฐุง ุงูุชุฑุถูุง ุฃู ุฌููุน ูุญุชููุงุชู ูููุฉ ุฌุฏูุง ุ ููููููุง ูุฑุงุกุชูุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pg_prewarm(<span class="hljs-string"><span class="hljs-string">'big'</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_prewarm ------------ 4097 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ------- 4097 (1 row)</code> </pre><br>  ูุชู ุชูุฑูุบ ูุงุฆูุฉ ุงูุตูุญุงุช ุฅูู ููู autoprewarm.blocks.  ูุฑุคูุชูุง ุ ููููู ููุท ุงูุงูุชุธุงุฑ ุญุชู ูุชู ุชุดุบูู ุนูููุฉ autoprewarm ุงูุฑุฆูุณูุฉ ูููุฑุฉ ุงูุฃููู ุ ููููุง ูุจุฏุฃ ูุฐุง ูุฏูููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> autoprewarm_dump_now();</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> autoprewarm_dump_now ---------------------- 4340 (1 row)</code> </pre><br>  ูุฒูุฏ ุนุฏุฏ ุงูุตูุญุงุช ุงูููููุฉ ุนู 4097 - ููุดูู ุฐูู ุตูุญุงุช ูุงุฆูุงุช ูุชุงููุฌ ุงููุธุงู ุงูุชู ุชูุช ูุฑุงุกุชูุง ุจุงููุนู ุจูุงุณุทุฉ ุงูุฎุงุฏู.  ูููุง ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">postgres$ ls -l /var/lib/postgresql/11/main/autoprewarm.blocks</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">-rw------- 1 postgres postgres 102078  29 15:51 /var/lib/postgresql/11/main/autoprewarm.blocks</code> </pre><br>  ุงูุขู ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู ูุฑุฉ ุฃุฎุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">student$ sudo pg_ctlcluster 11 main restart</code> </pre><br>  ูุจุงุดุฑุฉ ุจุนุฏ ุงูุฅุทูุงู ุ ุชุธูุฑ ุทุงููุชูุง ูุฑุฉ ุฃุฎุฑู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_buffercache <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> relfilenode = pg_relation_filenode(<span class="hljs-string"><span class="hljs-string">'big'</span></span>::<span class="hljs-type"><span class="hljs-type">regclass</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ------- 4097 (1 row)</code> </pre><br>  ูููุฑ ูุฐุง ููุณ ุนูููุฉ autoprewarm ุงูุฑุฆูุณูุฉ: ูููู ุจูุฑุงุกุฉ ุงูููู ุ ูุชูุณูู ุงูุตูุญุงุช ุฅูู ููุงุนุฏ ุงูุจูุงูุงุช ุ ููุฑุฒูุง (ุจุญูุซ ุชููู ุงููุฑุงุกุฉ ูู ุงููุฑุต ูุชุณูุฉ ูุฏุฑ ุงูุฅููุงู) ุ ูุชูุฑูุฑ ุนุงูู autoprewarm ุฅูู ุณูุฑ ุงูุนูู ุงููููุตู ูููุนุงูุฌุฉ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃู ุชุณุชูุฑ</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458186/">https://habr.com/ru/post/ar458186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458170/index.html">ุงูุงูุบูุงุณ ูู ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงูุชูุงููููุฉ. ุงูุฌุฒุก 5/10 - 18</a></li>
<li><a href="../ar458172/index.html">ุทุฑู ููุฒุงูุฌุฉ ุงูุชูุตููุงุช ุงูููุฑุจุงุฆูุฉ ุนูุฏ ุชุชุจุน ุงูุฃุฒูุงุฌ ุงูุชูุงุถููุฉ ุนูู ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ</a></li>
<li><a href="../ar458176/index.html">ุณูุชู ุงูุชุบูุจ ุนูู ุญุงุฌุฒ exaflops ูู ุนุงู 2021</a></li>
<li><a href="../ar458180/index.html">ุฎุงุฏู ูุณุชูุฏ ุฅูู Kea ูุดู DHCP</a></li>
<li><a href="../ar458184/index.html">Haxe ู PHP: ุงููุชุงุจุฉ ุงูุณุงููุฉ ููุธุงุฆู ุงูุณูู ูุงูููุชุงุจูุบุฑุงู ูุบูุฑ ุฐูู ุงููุซูุฑ</a></li>
<li><a href="../ar458188/index.html">ููู ูุนูุช ุดุจูุฉ ุงุฌุชูุงุนูุฉ ูู ุนุงู 2019</a></li>
<li><a href="../ar458190/index.html">ุฃุฑู ุ ูุฐุง ูุนูู ุฃููู ููุฌูุฏ: ูุฑุงุฌุนุฉ ุงูุชุนูู ุงูุนููู ูู ุฑุคูุฉ ุงูููุจููุชุฑ (ุงูุฌุฒุก 2)</a></li>
<li><a href="../ar458202/index.html">ูุฌุฑุฏ ุฅููุงุก ูุธุฑุฉ ุนูู SObjectizer ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู Actors ุฃู CSP ูู ูุดุฑูุน C ++</a></li>
<li><a href="../ar458204/index.html">ููููุฉ ุชูููู ุฃุฏุงุก ุงูุชุฎุฒูู ุนูู ูุธุงู Linux: ุงูููุงุณ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ููุชูุญุฉ</a></li>
<li><a href="../ar458208/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู 01 ููููู ุฅูู 07 ููููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>