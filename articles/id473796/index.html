<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏿 ✈️ ☣️ Extender HDMI Optik. 300 meter 🗂️ 👨🏻‍🎓 👨🏼‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, Habr! 



 Pengembangan kabel ekstensi serat optik HDMI untuk 300 meter. Penolakan saluran balik (transmisi data pada satu kabel serat ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Extender HDMI Optik. 300 meter</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473796/"> Selamat siang, Habr! <br><br><img src="https://habrastorage.org/webt/mn/v0/c1/mnv0c1yzdk47cytsckizxbgnvxk.jpeg"><br><br>  Pengembangan kabel ekstensi serat optik HDMI untuk 300 meter.  Penolakan saluran balik (transmisi data pada satu kabel serat optik).  Mengkloning EDID dari monitor. <br><a name="habracut"></a><br>  Standar HDMI banyak digunakan di banyak area di mana Anda ingin menampilkan gambar di layar.  Secara pribadi, saya dapat mengirimkan sinyal melalui kabel HDMI ke jarak 10 meter (itu tidak diperlukan lagi).  Saya pikir tanpa kehilangan kualitas, Anda dapat mentransfer gambar ke jarak 30-40m.  Kerugian utama dalam kasus pemasangan kabel seperti itu adalah diameter dan ukurannya, secara langsung, dari konektor.  Cara termudah untuk mengecualikan kabel adalah dengan menggunakan kabel ekstensi nirkabel, saya pikir akan mungkin mencapai 100-150 meter, tapi saya tidak akan mengatakannya dengan pasti.  Sayangnya, tidak semua objek, karena satu dan lain hal, memungkinkan penggunaan jaringan nirkabel.  Dan jika Anda perlu lebih jauh? <br><br><img src="https://habrastorage.org/webt/a0/bl/n5/a0bln5vodfqydql1puhfo7gwdjw.jpeg"><br>  <i>Fig. 1.</i>  <i>Kabel dan optik HDMI (LC)</i> <br><br>  Tentu saja, optik mungkin bukan pilihan terbaik untuk mentransmisikan video, tetapi ketika menggunakan PC dan monitor stasioner, itu bahkan bukan apa-apa.  Tesis pertama adalah diameter kabel optik (dalam kasus saya, itu adalah 2-3mm) dan diameter konektor kabel serat optik.  Yang kedua, tentu saja, jaraknya.  Ke depan, saya akan mengatakan bahwa pengujian dilakukan pada kabel 300m, diameter (eksternal) - 3mm. <br><br><h4>  Basis unsur </h4><br>  Ketika mengembangkan basis elemen, pilihannya secara tak terduga jatuh pada perusahaan Cina SiFotonics, yang berspesialisasi dalam peralatan semacam ini.  Sebagai permulaan, kami mempelajari produk-produk mereka dan mendapatkan dua debug yang kami sambungkan dengan kabel optik setinggi tiga ratus meter dan memastikan semuanya bekerja dengan sempurna.  Mereka juga memiliki penerima / pemancar optik SFP (ROSA / TOSA), serializers / deserializers, driver, dll. <br><br><h4>  Prinsip kerja </h4><br>  Untuk menghubungkan dan mengoperasikan perangkat, Anda perlu menghubungkan dua kabel optik dan menerapkan daya (kabel microUSB).  Jika kita memberikan analogi dengan kabel HDMI konvensional, di mana ada I2C untuk bertukar tabel EDID, maka semuanya sama - satu saluran untuk transfer data, yang kedua - untuk mentransfer EDID dari monitor ke kartu video.  Data ditransmisikan dengan kecepatan 10Gbps.  Merobek kabel saluran balik, gambar selalu hilang.  Pada saat ini, beberapa keraguan merayap masuk, dan apakah ada data layanan atau tanda sinkronisasi di saluran kembali sedang dikirim, atau mungkin perangkat sedang memonitor koneksi satu sama lain ... <br><br><img src="https://habrastorage.org/webt/kr/zc/jj/krzcjjntpkohogy_33h8uf0nksk.png"><br>  <i>Fig. 2.</i>  <i>Komposisi modul</i> <br><br>  Iterasi pertama papan, itu juga tata letak, ternyata berukuran 20X45mm.  Dengan konektor daya "samping", untuk memudahkan mendistribusikan bus listrik di tempat pembuangan sampah.  Total 4 lapisan ternyata.  Mengapa konfigurasi PCB ini buruk, saya akan menulis nanti.  Pengembang debug yang rumit menggunakan 0201 pasif, yang saya benar-benar tidak ingin melakukannya, jadi saya menggunakan 0402 dan bubur kapasitor di bawah chip. <br><br><img src="https://habrastorage.org/webt/qj/90/cf/qj90cfepirzf-imyui0ouuutqu8.png"><br>  <i>Fig. 3.</i>  <i>Model 3D dari tata letak papan modul sumber</i> <br><br>  Seperti yang saya tulis di atas, tugas saya bukan hanya membuat pasangan dengan jarak kerja 300 meter, tetapi juga untuk menghapus saluran balik optik.  Bahkan pada tahap pengembangan, kami memutuskan untuk tidak terlibat dalam menyelesaikan perangkat lunak Cina (meskipun kami dengan baik hati disediakan dengan semua sumber), karena, pertama, ini adalah sekelompok baris kode aneh dalam kompiler yang tidak dapat dipahami, dan kedua, SiFotonics dapat menyediakan chip yang di-flash, yang Sangat nyaman, karena sangat sulit untuk mem-flash perangkat sebagai bagian dari produksi.  Agar pembaca tidak berpikir bahwa saya melebih-lebihkan ketika berbicara tentang kesulitannya, saya akan memberikan foto stand pemrograman. <br><br><img src="https://habrastorage.org/webt/n_/nm/fn/n_nmfnhsezuqt1q-ly4tg3kewms.jpeg"><br>  <i>Fig. 4.</i>  <i>Berdiri untuk pemrograman dan diagnostik</i> <br><br>  Ya, ya, seperti yang mungkin sudah Anda duga, kontak JTAG untuk pemrograman adalah output ke kontak microUSB, dan untuk beberapa kontak HDMI yang dulunya GND.  Saya harus mengatakan segera bahwa ini tidak mempengaruhi kualitas pekerjaan.  Jadi, berdirilah.  Untuk memprogram chip, Anda harus terlebih dahulu memasang satu sirkuit dudukan dan meletakkan chip dalam mode pemrograman menggunakan perangkat lunak khusus.  Selanjutnya, Anda perlu memasang sirkuit lain dan menggunakan perangkat lunak lain untuk mem-flash board.  Setelah itu, secara otomatis masuk ke mode kerja. <br>  Secara umum, menurut saya ini tidak praktis bahkan untuk 1000 buah. <br><br>  Mari kita kembali ke saluran balik.  Untuk menyimpan tabel EDID, kita memerlukan EEPROM, dan kita perlu mengubah alamatnya dengan cepat.  Dia mengambil N24C02UDTG dalam paket miniatur US-8.  Untuk pemrogramannya, saya menggunakan mikrokontroler STM32F031G4U6, juga dalam paket terkecil yang dapat ditemukan di domain publik - UFQFPN-28.  Saya juga mengambil saklar daya TPS27081ADDCR.  Dan inilah yang saya dapat: <br><br><img src="https://habrastorage.org/webt/h4/kb/gj/h4kbgj-h9ntrucsztkaiurs06do.jpeg"><br>  <i>Fig. 5.</i>  <i>Skema implementasi kloning EDID</i> <br><br>  Idenya adalah sebagai berikut.  Sirkuit ini diimplementasikan pada modul transmisi (yang menghubungkan ke PC).  Untuk mengkloning monitor EDID, perangkat terhubung ke monitor.  Secara default, alamat EEPROM pada modul kami tidak boleh bertepatan dengan alamat EEPROM di monitor (saat membaca), yaitu, dapat berupa yang lain, misalnya, saya membuat kaki A0 dapat dikelola.  Pada saat menghubungkan ke monitor, daya disuplai ke EEPROM, dan kaki A0 ditarik ke resistor logis "0".  Dua EEPROM dengan alamat yang sama tergantung di bus i2c, tetapi ini tidak penting, karena kami belum bekerja dengan mereka.  Di sirkuit saya ada juga tombol dan LED untuk menunjukkan daya / firmware EDID / kesalahan.  Tekan sebentar tombol mengubah alamat dan memungkinkan mikrokontroler untuk mulai membaca / menulis EDID.  Kami menyetel ulang EEPROM dengan daya (untuk berjaga-jaga) ketika kami menerima sinyal dari tombol, membaca EDID monitor dan segera menuliskannya ke chip kami.  Kami berkedip 3 kali dengan LED dan mematikan kekuatan EEPROM.  Membaca / menulis terjadi secara instan, sehingga penundaan terpaksa dilakukan untuk berkedip, sehingga pengguna mengerti bahwa ada sesuatu yang terjadi.  Artinya, kita mulai berkedip ketika sudah mungkin untuk melepaskannya.  Jika ada sesuatu yang salah, maka jangan menyalakan LED. <br><br>  Selanjutnya, hubungkan modul ke PC dan segera lihat monitor baru di pengaturan.  Masalahnya terpecahkan. <br><br>  Untuk pemrograman, mikrokontroler membawa bus SWD. <br><br><img src="https://habrastorage.org/webt/oe/xl/ba/oexlbaajt8temn8aq4sdthg29dy.jpeg"><br>  <i>Fig. 6.</i>  <i>Sisi belakang papan modul</i> <br><br><h4>  Fitur </h4><br>  Setelah semua pekerjaan dilakukan dengan kloning EDID, saya menghapus saluran optik terbalik dan semuanya bekerja dengan sempurna.  Dalam percobaan ini, daya berasal dari PC USB.  Selama boot, komputer (dalam kasus apa pun milik saya) mematikan daya USB untuk sesaat dan gambar BIOS berkedip pada monitor - ini tidak kritis.  Kemudian saya mengeluarkan modul saluran balik dari perangkat dan setelah ini berkedip gambar berhenti pulih.  Dan ini justru karena kurangnya modul TOSA pada perangkat monitor.  Saya mencoba meniru kehadiran laser, tetapi semuanya sia-sia.  Saya hampir yakin bahwa masalah ini dapat diselesaikan dengan firmware, tetapi kami memutuskan untuk tidak membahasnya.  Sebuah keajaiban terjadi ketika saya menghubungkan kedua perangkat (penerima dan pemancar) ke catu daya (seperti, seperti yang ditunjukkan dalam pernyataan kerja).  Gambar berhenti berkedip, dan karenanya menghilang.  Jika Anda mendistorsi kekuatan perangkat selama operasi, gambar dipulihkan tanpa masalah. <br><br><img src="https://habrastorage.org/webt/fz/00/35/fz0035l-7lplz-hgibwwnnkma8m.png"><br>  <i>Gbr. 7.</i>  <i>Sirkuit switching modul pemancar (laser)</i> <br><br>  Sekarang kembali ke konfigurasi PCB dan konektor daya samping.  Implementasi ini awalnya tidak nyaman dan hanya cocok untuk tata letak.  Dalam perangkat rilis, saya mengurangi lebar papan menjadi 16,3 mm dan meletakkan konektor daya di tempat modul optik saluran balik - ini akan memungkinkan Anda untuk memasukkan beberapa perangkat dalam satu kartu video.  Kalau tidak, konektor daya mengganggu saya dan papan sangat lebar. <br><br><img src="https://habrastorage.org/webt/9l/jd/_4/9ljd_4un4tsnidmubcxb2pjgiz4.jpeg"><br>  <i>Gbr. 8.</i>  <i>Papan penerima dan pemancar yang sempit</i> <br><br>  Di sini, tentu saja, ada banyak pengkabelan ulang dan penataan ulang komponen.  Kisaran suplai benar-benar diperbaiki untuk mengoptimalkan ukuran ini dan mentransfer konektor microUSB.  Seperti yang Anda duga, casing untuk kedua perangkat identik, oleh karena itu konfigurasi papan, konektor, dan modul optik terletak sama.  Tubuh digiling dari aluminium dan merupakan pendingin untuk prosesor dan driver.  Tonjolan untuk komponen-komponen ini digiling di dalam, sehingga mereka juga terletak dengan cara yang sama. <br><br><h4>  Kesimpulan </h4><br>  Saat ini, empat pasang perangkat disolder, tes dilakukan pada kabel panjang pada monitor dan TV yang berbeda.  Tidak ada keluhan tentang pekerjaan itu.  Kami memeriksa hanya pada FullHD dan di bawah ini. <br><br>  Terima kasih dan sampai jumpa lagi! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473796/">https://habr.com/ru/post/id473796/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473784/index.html">Bagaimana cara menulis kontrak pintar untuk WebAssembly di jaringan Ontology? Bagian 2: C ++</a></li>
<li><a href="../id473786/index.html">Pendaftaran untuk hackathon di Riga berakhir. Hadiah - pelatihan jangka pendek di PhysTech</a></li>
<li><a href="../id473788/index.html">Microprotein menemukan aspek yang tidak diketahui dari biologi modern</a></li>
<li><a href="../id473790/index.html">Splines dalam grafik 3d, opsi paling otomatis</a></li>
<li><a href="../id473794/index.html">Mobile Phishing - Ancaman Tak Berujung</a></li>
<li><a href="../id473798/index.html">Pemrograman berorientasi protokol. Bagian 1</a></li>
<li><a href="../id473800/index.html">Radar bio, drone kardus dan sosis terbang - Nikita Kalinovsky tentang teknologi pencarian yang baik dan buruk</a></li>
<li><a href="../id473802/index.html">Alain Bombar - Jatuh demi Kemenangan</a></li>
<li><a href="../id473804/index.html">Berapa gaji SMP QA?</a></li>
<li><a href="../id473806/index.html">Ini adalah jenis internet yang kita inginkan: bagaimana media sosial berubah menjadi senjata yang mematikan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>