<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧜🏿 🏂 👎 Disposition de test? Facile 🙅🏾 ➰ 🤞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article a été préparé par Anna anna-che et Ksenia KseMish . 

 L'une des raisons pour lesquelles nous nous sommes activement lancés dans les mises...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Disposition de test? Facile</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/441674/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ve/hr/xz/vehrxzet4vk1c2wtj-apbx6j8xq.png" width="600"></div><br>  <i>Cet article a été préparé par Anna <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">anna-che</a> et Ksenia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">KseMish</a> .</i> <br><br>  L'une des raisons pour lesquelles nous nous sommes activement lancés dans les mises en page de tests était, comme d'habitude, un râteau.  Nous avons marché sur un bug qui a commencé à apparaître après la prochaine mise à jour de Chrome.  Il s'est avéré que dans les 3 heures, les utilisateurs ne pouvaient pas transférer des fonds du compte via le compte personnel de notre banque Internet.  Et tout cela parce que dans la nouvelle version du navigateur, la forme de transfert de fonds d'un compte à un autre a quitté la fenêtre. <br><br>  Des bogues similaires sont inoffensifs.  Par exemple, une marque de vêtements bien connue est également tombée sur ce râteau.  En raison de tests de mise en page insuffisants, les utilisateurs du site de cette marque au lieu du bouton "En savoir plus" ont longtemps vu "Apprendre la douleur ..." <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ji/t8/_f/jit8_fp2oqk4f1jtrrq2vho-bgg.png" width="500"></div> <br>  L'inscription sur le bouton, bien sûr, est proche de la vérité, les prix y sont vraiment pénibles, mais ce n'est clairement pas ce que les créateurs du site voulaient.  En général, ces moments doivent être surveillés et corrigés, indépendamment de ce qu'ils provoquent - un inconvénient ou un sourire. <br><br>  Conscients de ces problèmes, nous avons appliqué la pratique de l'examen obligatoire de la conception par nos concepteurs de produits, mais ce n'était pas le cas.  Il s'est avéré que toutes les équipes n'ont pas un concepteur dédié, ou qu'elles n'ont pas assez de temps, ou pire encore, le recto et le concepteur ne peuvent pas parvenir à une approche commune de la mise en page d'une page, d'un formulaire ou d'un élément. <br><br>  Sans réfléchir à deux fois, nous sommes partis à la recherche d'options pour minimiser à la fois le nombre de défauts de mise en page et les impasses Front VS Designer.  Après avoir étudié les pratiques et outils possibles pour automatiser les mises en page de test et collecter les cônes, nous avons mis en œuvre l'approche suivante. <br><blockquote>  <i>En bref sur nous:</i> <br>  Nous développons maintenant un produit unique, sur lequel travaillent plus de 20 équipes Scrum, chacune étant responsable d'une certaine fonctionnalité, tandis que nous essayons de maintenir un style et une conception uniques du produit lui-même - présentation visuelle, emplacement des principaux éléments, etc. <br><br>  Concernant la répartition des utilisateurs par navigateur, nos utilisateurs utilisent aujourd'hui (les valeurs sont arrondies): <br><br><ul><li>  60% Chrome </li><li>  30% - Firefox, </li><li>  10% - autres navigateurs. </li></ul><br>  Nous testons la fonctionnalité avec notre framework Akita BDD (Java + Cucumber + Selenide), nous en avons parlé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </blockquote>  Pour commencer, nous voulions résoudre le problème des accords entre le front et le designer.  Au stade initial de la création d'une maquette de fonctionnalité, la façade et le concepteur décrivent ensemble le «contrat».  Dans ce contrat, ils décrivent tous les arrangements pour l'agencement des éléments, leurs styles, la distance, etc.  Pour cette raison, lors de la détection des décalages de la mise en page avec la mise en page, les gars n'auront pas à découvrir pendant longtemps qui a raison et qui est à blâmer. <br><br>  Ils décrivent leurs arrangements dans un fichier de spécification galen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/7g/02/xo7g02bazkdk9vuzt9py7a8r25i.png"></div><br><h2>  Qu'est-ce que Galen-spec? </h2><br>  Afin d'automatiser les tests de mise en page et ainsi minimiser le nombre de défauts, nous avons décidé de mettre en œuvre l'outil Galen Framework.  Il est basé uniquement sur un fichier .spec (spécification ou, comme nous l'avons appelé, «contrat»).  Et il s'intègre facilement aux tests Selenium. <br><br>  Après que le concepteur et l'avant aient rédigé le «contrat», le testeur forme un fichier .spec basé sur celui-ci, conformément aux exigences de Galen.  Le framework utilise son propre langage pour rédiger des spécifications de vérification. <br><br>  En quoi consiste un fichier .spec? <br><br>  Logiquement, il peut être divisé en deux parties: <br><br>  <b>1. définitions d'objets</b> <br><br>  Ici, nous devons spécifier quels objets sont sur notre page - en-tête, pied de page, menu, contenu, etc.  En général, nous listons les principaux éléments que nous allons vérifier, leur donnons des noms et définissons des localisateurs. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/p3/qw/wkp3qwgrloe9mudmze4s5onbhas.png"></div><br>  <b>@objects</b> - éléments sur la page (vous pouvez utiliser CSS, XPATH, ID) <br><br>  <b>2.</b> Lorsque les localisateurs sont définis, les styles et les spécifications d'objets spécifiques doivent être définis.  Pour cela, nous utilisons la partie de la <b>spécification d'objet</b> , où nous décrivons en détail, par exemple, que notre bloc de texte (description-texte) est situé à l'intérieur du formulaire de description, sous l'en-tête et contient un certain texte. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sg/p5/yv/sgp5yvsy8ivk1klbpblxrkwloc4.png"></div><br>  <b>Section principale</b> - pour chaque élément décrit, @objects décrit les paramètres de vérification. <br><br>  <i>* Le langage de spécification galen est sensible à l'indentation dans la section principale, alors faites particulièrement attention à cela et respectez les onglets :)</i> <br><br>  Ainsi, le «Contrat», conclu entre le front et le designer et transféré dans la langue Galien, nous permet de vérifier automatiquement l'emplacement et le contenu interne des éléments, ainsi que l'adaptabilité et la compatibilité entre navigateurs. <br><br><h2>  Exemple de démarrage rapide </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jd/iz/i6/jdizi6elmbwl6khngbv4tixgrxg.png"></div><br><ol><li>  Nous décrivons les éléments d'une page spécifique et vérifions les fichiers .spec en utilisant le langage Galen Spec, et mettons les spécifications dans le package. </li><li>  Nous ajoutons les captures d'écran de référence au package de spécifications / images </li><li>  Nous travaillons sur BDD, donc le script dans le fichier .feature pourrait ressembler à ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_9/yx/af/_9yxafhsfjzt36f4edm00j6yzoi.png"></div></li><li>  Exécutez le script de test via le Cucumber Runner habituel. </li></ol><br>  Dans ce scénario, nous vérifions la page d'accueil de GitHub.  Dans la dernière étape, nous avons ajouté la vérification de la mise en page.  Des tests similaires peuvent compléter les tests fonctionnels existants ou les exécuter séparément.  Si des disparités sont trouvées dans la mise en page, nous aurons alors une image avec le résultat attendu et avec le résultat, plus la différence.  Tout cela est joint au rapport du cocu. <br><br>  La différence dans les rapports est la suivante: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/si/3y/vdsi3yuoje6lkl3fkl74ydyczzo.png"></div><br>  <b>error = Erreur {[L'élément ne ressemble pas à "./akita-testing-template/src/test/resources/specs/images/registration-form.png".</b>  <b>Il y a 10,47% de pixels incompatibles mais le maximum autorisé est de 10%]</b> <br><br>  Ici, nous voyons que la vérification a échoué, les images diffèrent de plus de 10% et toutes ces différences de couleur, à l'exception du remplissage noir, c'est la différence entre les éléments. <br><br>  Si les éléments sont complètement identiques, la différence sera affichée en noir. <br><br>  La question la plus courante est: où puis-je obtenir une capture d'écran de référence? <br><br>  Réponse: Nous prenons la norme soit du concepteur, soit en exécutant des tests sur l'environnement prodov, que nous considérons comme la norme.  Nous obtenons des photos de nos blocs à partir de là, que nous comparerons et les placerons dans le dossier images, d'où les spécifications tireront des liens vers eux. <br><br><h2>  Qu'en est-il venu d'utiliser cette approche </h2><br><ul><li>  réussi à réduire le nombre de tests de fumée et le temps de leur passage d'environ 20% en raison du fait que la vérification de certaines formes et éléments similaires s'est effondrée en un seul test, qui vérifie leur composante visuelle et révèle immédiatement des écarts </li><li>  Maintenant, nous pouvons être sûrs que nos applications s'affichent correctement dans les navigateurs sélectionnés </li><li>  sachez que l'adaptabilité est correcte et non séparée </li><li>  est venu à une revue de conception automatique. </li></ul><br>  Vous pouvez lire la documentation sur la compilation des fichiers de spécification <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">galen</a> ici - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">galen-spec-language-guide</a> . <br><br>  Nous avons parlé des aspects techniques de l'utilisation du cadre Galen, de ses capacités et des vérifications de base lors du dernier camp de sélénium, et nous écrirons sur le blog. <br><br>  La possibilité d'utiliser galen-spec et les nouvelles étapes pour vérifier la disposition que nous avons prise dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notre bibliothèque Akita</a> , où il y a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modèle pour un démarrage rapide</a> , et nous menons également une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion par télégramme</a> où vous pouvez poser des questions qui vous intéressent. <br><br>  Et nous répondrons. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441674/">https://habr.com/ru/post/fr441674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441650/index.html">Webinar Group-IB «Vue médico-légale sur la protection des objets CII en 2019»</a></li>
<li><a href="../fr441654/index.html">Comment partir en stage dans une grande entreprise informatique</a></li>
<li><a href="../fr441660/index.html">STM32F103C8T6 en tant que lecteur flash avec système de fichiers FAT12</a></li>
<li><a href="../fr441664/index.html">Linus Torvalds ne pense pas que les serveurs de l'architecture ARM remplaceront x86. «Vendre un modèle 64 bits - idiotie»</a></li>
<li><a href="../fr441668/index.html">STM32. Pratique de perte de poids ou régime pour le contrôleur</a></li>
<li><a href="../fr441676/index.html">Comment se faire des amis PLUTO et HDSDR</a></li>
<li><a href="../fr441678/index.html">Jeu physique des tornades: comment l'aérodynamique est implémentée dans Just Cause 4 (trafic)</a></li>
<li><a href="../fr441680/index.html">Programme de la conférence Lua à Moscou 2019</a></li>
<li><a href="../fr441682/index.html">HyperX Fury 3D - SSD avec un pedigree clair</a></li>
<li><a href="../fr441684/index.html">Prédictions: les nuages ​​vont changer 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>