<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèΩ ‚è∫Ô∏è üëÇüèº Umgang mit Backups f√ºr Dell EMC UnityVSA üë©üèΩ‚Äçüé® üë®‚Äçüöí üëèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn es kein Geld f√ºr die Eisenspeicherung von einem renommierten Anbieter gibt oder es Geld gibt, aber es gibt keinen Ort, an dem Eisen f√ºr Tests ver...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Umgang mit Backups f√ºr Dell EMC UnityVSA</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/471126/"><p><img src="https://habrastorage.org/webt/oy/ha/fm/oyhafmrrxviinait3ligqh7ued4.png"></p><br><p>  Wenn es kein Geld f√ºr die Eisenspeicherung von einem renommierten Anbieter gibt oder es Geld gibt, aber es gibt keinen Ort, an dem Eisen f√ºr Tests verwendet werden kann, hilft uns die Virtual Storage Appliance, kurz VSA.  Ein virtualisierter Controller eines so begehrten Repositorys, mit dem Sie fast alle Funktionen Ihres eisernen Bruders erhalten k√∂nnen, mit Ausnahme der sehr exotischen, die nur auf physischer Hardware implementiert sind.  Fast alle (und vielleicht nur alle) haben VSAs f√ºr klassische Speicheranbieter: HPE, Dell EMC, NetApp, IBM usw.  Es gibt umgekehrte Situationen wie Nutanix und StarWind, aber heute geht es nicht mehr darum.  Aus Gr√ºnden der Ordnung werden wir die Open-Source-Entwicklung von FreeNAS nicht vergessen, deren Funktionalit√§t respektiert wird. </p><br><p> Ein weiteres Merkmal von VSA, das per Definition den Eisenbr√ºdern vorenthalten wird, ist die Verf√ºgbarkeit freier Funktionen, die normalerweise durch die akzeptable Speichergr√∂√üe und die Unterst√ºtzung von ‚ÄûUnternehmensprotokollen‚Äú wie FC begrenzt sind.  (Obwohl es oft Testversionen f√ºr einen bestimmten Zeitraum gibt, geht es jetzt nicht darum.) </p><br><p>  Heute werden wir uns mit der Arbeit mit Dell EMC UnityVSA befassen. Wir beginnen mit den ersten Bereitstellungsschritten, einschlie√ülich der Erstellung eines Dateisystems, der Konfiguration von NAS und NDMP und der Integration mit Veeam Backup &amp; Replication.  Warum gerade diese VSA?  Nur weil ich solche Materialien auf Habr√© nicht gefunden habe und beschlossen habe, diese Ungerechtigkeit zu beseitigen. </p><a name="habracut"></a><br><h4 id="kratkoe-vstuplenie">  Kurze Einf√ºhrung </h4><br><p>  Mit Dell EMC UnityVSA oder, wie es √ºblich ist, Software-Defined Storage (SDS) k√∂nnen Sie mehrere verschiedene Arten von Speichern verwalten, die mit unterschiedlichen Protokollen innerhalb desselben Systems betrieben werden.  Es gibt zwei Formen: die kostenlose Community Edition mit einem Limit von 4 TB und die kostenpflichtige Professional-Version.  Alle folgenden Schritte wurden in der Community Edition ausgef√ºhrt und sollten der Professional-Version nicht widersprechen oder sogar vollst√§ndig damit √ºbereinstimmen. <br>  Mit UnityVSA k√∂nnen Sie Repositorys aller Basistypen erstellen. Es unterst√ºtzt viele Protokolle. Hier gibt es nichts Interessantes.  Der wichtige Teil f√ºr uns ist die Integration in VMware vSphere. Dies bedeutet, dass wir Volume-Snapshots mit allen daraus resultierenden Vorteilen erhalten k√∂nnen, die von schnellen Sicherungen √ºber die Unterst√ºtzung optimaler RTO- und RPO-Werte bis hin zu einem weiteren Hindernis f√ºr den Schutz vor Datenverlust reichen. </p><br><h4 id="razvertyvanie">  Bereitstellung </h4><br><p>  UnityVSA wird als Standard-OVA-Datei geliefert und stellt w√§hrend der Installation keine unn√∂tigen Fragen. <br>  Worauf Sie achten sollten: </p><br><ul><li>  F√ºr die Installation eines einzelnen Knotens sind 18 GB RAM erforderlich.  Im HA-Modus sind bereits alle 30 GB RAM vorhanden.  Sie k√∂nnen es nach der Installation festziehen, aber es kann sich auf die Leistung auswirken, also auf eigene Gefahr und Gefahr. </li><li>  Anwendungen ben√∂tigen 4 Netzwerkkarten.  Es ist gut (aber nicht notwendig), wenn sie 10 GbE sind.  Eine dient zum Verwalten des VSA selbst, die andere zum Empfangen und Senden von Daten aus dem Speicher.  Dann k√∂nnen Sie frei mehr hinzuf√ºgen. </li><li>  Es wird traditionell empfohlen, statische IP-Adressen zu verwenden und die entsprechenden DNS- (A) und PTR-Eintr√§ge zu erstellen, um den vollqualifizierten Dom√§nennamen aufzul√∂sen. </li><li>  Der Computer wird mit einem Standardsatz von Datentr√§gern bereitgestellt. Wenn Sie also virtuelle Datentr√§ger als Speicher selbst verwenden m√∂chten, k√∂nnen Sie diese vor dem ersten Start hinzuf√ºgen. </li></ul><br><h4 id="pervyy-zapusk">  Erster Start </h4><br><p>  Nach dem Laden (und dem ersten Mal, wenn es sehr schnell geladen wird) stehen wir vor der Wahl eines Tools f√ºr die Ersteinrichtung.  Nat√ºrlich k√∂nnen Sie alles auf die altmodische Art und Weise in der Konsole erledigen oder die sehr praktische Weboberfl√§che verwenden, die √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unisphere</a> funktioniert.  Hier ist eine Liste der ersten Vorteile des zweiten Ansatzes, die mir in den Sinn kommen: </p><br><ul><li>  Einzelne Konsole zur Verwaltung mehrerer Ger√§te </li><li>  Als Ergebnis: Es gibt Funktionen wie die M√∂glichkeit, Replikate an Remote-Standorten zu erstellen </li><li>  Es gibt eine Integration mit der VMware vCenter-API </li><li>  Iron Dell Unity funktioniert auch damit </li></ul><br><p>  √úbrigens gibt es eine nicht offensichtliche Nuance in Bezug auf die Konsole: Die Standard-Credits aus der Dokumentation zu admin / Password123 # sind nur f√ºr WebGUI geeignet.  Verwenden Sie f√ºr die Konsole service / Password123 #. </p><br><p>  √ñffnen Sie also die Weboberfl√§che und rufen Sie den Assistenten f√ºr die Erstkonfiguration auf.  Es ist eine seltsame Idee, jeden Schritt zu beschreiben, aber Sie k√∂nnen beim Schritt " <strong>Pools"</strong> anhalten.  Hier kombinieren wir die verbundenen Laufwerke zu einer virtuellen Einheit, die wir in Zukunft den Speichersubsystemen pr√§sentieren werden. </p><br><p><img src="https://habrastorage.org/webt/w-/ca/4o/w-ca4opuv7wojt38qc6z7ypc_e8.png"></p><br><p>  Jede CD muss sofort in Tier gelegt werden.  Wie √ºberall ist die Idee ihrer Existenz die Aufteilung von Lasten.  <em>Extreme ist</em> gut f√ºr schnelle SSDs, <em>Perfomance f√ºr</em> Hybrid-SATA mit SSD-Cache und <em>Kapazit√§t f√ºr</em> alles andere.  UnityVSA verf√ºgt √ºber einen integrierten FAST VP-Mechanismus, der die H√§ufigkeit der Verwendung von Datenbl√∂cken geschickt √ºberwacht und zwischen Ebenen verschiebt. </p><br><p><img src="https://habrastorage.org/webt/2w/cw/wn/2wcwwnoxbbisp4pzweqinbmlwc8.png"></p><br><p>  Vergessen Sie auch nicht, mehrere iSCSI-Schnittstellen zu erstellen.  Da sie vier Netzwerkkarten von uns angefordert haben, lassen Sie sie alle arbeiten =) </p><br><p><img src="https://habrastorage.org/webt/ja/0a/kf/ja0akfbqu-svw-attgw8nzke3rm.png"></p><br><h4 id="nas">  NAS </h4><br><p>  Dell EMC UnityVSA unterst√ºtzt drei Arten von Speicher: Datei, Block und VMware (Vermarktung eines solchen Marketings).  Unter diesen ist der NAS am einfachsten zu konfigurieren.  Mal sehen, wie sie entstehen. </p><br><p>  Wir gehen zu <strong>Speicher&gt; Datei&gt; NAS-Server</strong> , klicken auf <strong>+</strong> und f√ºhren alle Schritte des Assistenten aus. Am schwierigsten ist es, die unterst√ºtzten Protokolle auszuw√§hlen und eine IP-Adresse zuzuweisen. <br>  Direkt im Assistenten k√∂nnen Sie Active Directory einen zuk√ºnftigen NAS zuordnen, was sehr praktisch ist.  Sie k√∂nnen w√§hlen, ob der Server in der Liste der Computer als normaler Windows-Computer oder unter einer benutzerdefinierten Organisationseinheit angezeigt werden soll.  Sehr bequem im Quadrat.  Wenn auf dieser Plattform zwei NASs bereitgestellt sind, k√∂nnen Sie sofort sowohl die gegenseitige Replikation als auch die Einwegreplikation konfigurieren. </p><br><p><img src="https://habrastorage.org/webt/mv/bx/dx/mvbxdxyx5-odqnqay2xjxumzr6s.png"></p><br><p>  Nach Abschluss des Assistenten k√∂nnen wir das Dateisystem und die B√§lle selbst erstellen.  Mit Unisphere k√∂nnen Sie mehrere FS mit unterschiedlichen Einstellungen gleichzeitig erstellen. Es ist eine S√ºnde, diese nicht zu verwenden.  Lassen Sie uns dar√ºber nachdenken, warum: </p><br><ul><li>  Effiziente Raumnutzung und Laststeuerung.  In der Art von virtuellen Festplatten kann jedes System d√ºnn oder dick gemacht werden.  Alle Reize und M√§ngel beider Ans√§tze wurden bereits vor uns gesagt, sodass wir nicht tiefer gehen werden. </li><li>  Schnappsch√ºsse.  Sie werden es nicht glauben, aber im Lieferumfang ist ein angepasster Snapshot-Zeitplan enthalten, der eine detaillierte Wiederherstellung erm√∂glicht.  Sie m√ºssen nur das gew√ºnschte Skript aktivieren.  Und nat√ºrlich k√∂nnen Sie Ihren Zeitplan anpassen. </li><li>  FAST VP.  Die Funktion der automatischen Datenmigration zwischen den oben bereits erw√§hnten Speicherebenen. </li><li>  Replikation.  Die M√∂glichkeit, die synchrone oder asynchrone Datenreplikation zu aktivieren, ist ein sehr gro√ües Plus.  Die Replikation kann mithilfe des Assistenten konfiguriert werden, und Sie k√∂nnen sogar das Verkehrsaufkommen steuern. </li></ul><br><p>  Um ein Dateisystem zu erstellen, gehen Sie zum Abschnitt <strong>Dateisysteme</strong> und starten Sie den n√§chsten Assistenten. </p><br><p>  Wir w√§hlen das Protokoll aus, geben den Namen ein und gehen zum Schritt <strong>File Level Retention (FLR)</strong> .  Mit dieser Funktion k√∂nnen wir die WORM-Strategie implementieren: Alle aufgezeichneten Dateien k√∂nnen f√ºr einen bestimmten Zeitraum nicht bearbeitet werden. </p><br><p>  Es funktioniert in zwei Modi: Im ersten Modus k√∂nnen Benutzer keine Informationen √§ndern, im zweiten Fall √ºberhaupt niemand, selbst Administratoren.  Dies geschieht zur Einhaltung des Gesetzes.  Es ist wichtig zu beachten, dass Sie diese Funktion nach dem Einschalten nicht mehr ausschalten k√∂nnen. </p><br><p><img src="https://habrastorage.org/webt/9h/ql/an/9hqlannoo9uj-ndr8xh2bicdvhs.png"></p><br><p>  In den n√§chsten Schritten des Assistenten k√∂nnen Sie sofort einen SMB-Ball erstellen, und ich sehe keinen Grund, diese Gelegenheit nicht zu nutzen.  Zus√§tzlich zu den allgemeinen Einstellungen wird vorgeschlagen, einen der Zeitpl√§ne f√ºr die Snapshot-Erstellung f√ºr die Datensicherheit aufzunehmen.  Anschlie√üend k√∂nnen andere SMB-B√§lle im selben Dateisystem erstellt werden. </p><br><h4 id="ndmp">  Ndmp </h4><br><p>  Das Hauptziel dieses Protokolls besteht darin, die direkte √úbertragung von Daten zwischen dem NAS und anderen Speichern sicherzustellen.  Je weniger Verarbeitung auf dem Datenpfad erfolgt, desto h√∂her ist die √úbertragungsgeschwindigkeit.  Urspr√ºnglich wurde dieses Protokoll von NetApp entwickelt, aber dank der Komplexit√§t des Schicksals stellte sich heraus, dass es bei EMC war.  Die Protokollunterst√ºtzung ist in fast allen Sicherungssoftware implementiert, daher ist es unbedingt erforderlich, sie zu aktivieren. </p><br><p>  Es wird beim Erstellen des NAS-Servers aktiviert. Wenn Sie jedoch das erforderliche H√§kchen √ºbersehen haben, k√∂nnen Sie die Einstellungen jederzeit auf der Registerkarte <strong>Schutz und Ereignisse</strong> abrufen. </p><br><p><img src="https://habrastorage.org/webt/fh/i8/7l/fhi87l8zsfg523k91hrf5gzmdpe.png"></p><br><p>  Wenn das Protokoll aktiviert ist, wird ein neuer Benutzer mit Lese- und Schreibberechtigungen erstellt, die f√ºr Sicherungen und Wiederherstellungen verwendet werden.  Vernachl√§ssigen Sie also nicht die Komplexit√§t des Kennworts, obwohl Sie mit Unity keine einfachen Kennw√∂rter erstellen k√∂nnen. </p><br><h4 id="podklyuchaem-esxi">  Schlie√üen Sie ESXi an </h4><br><p>  Lassen Sie uns nun herausfinden, welche Speichertypen Dell EMC UnityVSA f√ºr die Verwendung mit VMware ESXi bereitstellen kann. </p><br><p>  Wenn wir oberfl√§chlich schauen, dann ist UnityVSA ein Sicherheitsdatenblatt mit allen Vorteilen in Form von Flexibilit√§t der Einstellungen, der M√∂glichkeit, Zugriff f√ºr Remotestandorte bereitzustellen, Sandboxen f√ºr Entwickler, Tester usw. hervorzuheben. </p><br><p>  Wenn Sie sich die Dokumentation ansehen, gibt es fast alle Optionen f√ºr Block- und Dateispeicher. Daher ist es schwieriger zu finden, welche Art von Speicher nicht bereitgestellt werden kann, als zu versuchen, alle unterst√ºtzten Speicher aufzulisten. <br>  Da es sich jedoch um die VMware-Umgebung handelt, sind VMFS, NFS und VVol hier besser in Form.  Nat√ºrlich werden auch iSCSI und FC f√ºr die Blockspeicherung bereitgestellt. </p><br><p>  Der Einrichtungsprozess selbst ist der gleiche wie in den besten H√§usern in Europa: Wir weisen Speicherplatz zu, bezeichnen LUNs (optional) und stellen eine Verbindung zu vCenter her.  Alle erforderlichen Vorg√§nge werden w√§hrend der Verbindung automatisch ausgef√ºhrt, einschlie√ülich der M√∂glichkeit, den Speicher automatisch zu registrieren und zu scannen. <br>  Aber das sind Texte.  Von viel gr√∂√üerem Interesse ist die Integration mit VAAI (vStorage API f√ºr Array-Integration) und VASA (vStorage API f√ºr Storage Awareness). </p><br><p>  <strong>VAAI:</strong> ist eine API, mit der Sie eine Reihe von Vorg√§ngen mit Daten direkt auf dem Hundertstel ausf√ºhren k√∂nnen, um die Last vom Host zu entfernen.  Vorg√§nge wie Klonen, Kopieren, Erstellen eines Schnappschusses, Umschreiben mit Nullen usw.  wird vom Speicherprozess selbst ohne Belastung des Hosts ausgef√ºhrt.  Zus√§tzlich zur Reduzierung der Last wird auch die Geschwindigkeit ihrer Ausf√ºhrung erh√∂ht. </p><br><p>  <strong>VASA:</strong> - Eine API, mit der vCenter den Status und die Funktionen des Speichers besser verstehen kann.  Eine Art erweiterte √úberwachung, mit der Sie Richtlinien f√ºr die Verwendung von Hunderten genauer konfigurieren k√∂nnen.  Es gibt zwar eine Einschr√§nkung: Wenn Sie mehrere vCenter'ov verbinden, k√∂nnen Sie VASA nur mit einem von ihnen verwenden. </p><br><p>  Es ist Zeit, mit dem Aufbau fortzufahren.  Zun√§chst m√ºssen Sie den Zugriff auf der UnityVSA-Seite zulassen.  Gehen Sie zu <strong>ACCESS&gt; VMware</strong> und f√ºhren Sie auf der Registerkarte <strong>vCenter</strong> den Verbindungsassistenten aus.  F√ºllen Sie alle Felder aus, klicken <strong>Sie</strong> auf <strong>Suchen</strong> und stellen Sie sicher, dass unser vCenter mit allen Hosts im Status <em>Kann importiert werden kann</em> . </p><br><p><img src="https://habrastorage.org/webt/mi/8k/qi/mi8kqi7gepypstem2niabdw3cpe.png"></p><br><p>  Aktivieren Sie auf der n√§chsten Registerkarte fett die Verwendung eines VASA-Anbieters.  Dazu m√ºssen Sie das Konto des Administrators von UnityVSA angeben oder diesem entsprechen.  Der Registrierungsprozess wird auf allen Hosts aus dem vorherigen Absatz gestartet. </p><br><p><img src="https://habrastorage.org/webt/sq/7m/w8/sq7mw8xk7co_fgy03pkjr0qimd4.png"></p><br><p>  Stellen Sie im letzten Schritt sicher, dass alles korrekt ist, und klicken Sie auf <strong>Fertig stellen</strong> . </p><br><p><img src="https://habrastorage.org/webt/uq/g0/69/uqg069xvkwmok-9lg9m7kqugygm.png"></p><br><p>  Wenn alles erfolgreich ist (aber hier kann es nicht erfolgreich sein, nur wenn sie in Credits versiegelt wurden), wird auf der Registerkarte <strong>ESXi-Hosts</strong> so etwas angezeigt. </p><br><p><img src="https://habrastorage.org/webt/e9/i_/o0/e9i_o0zpi4i_sgu5hzzqgi9lsk4.png"></p><br><h4 id="podklyuchaem-k-vcenter">  Stellen Sie eine Verbindung zu vCenter her </h4><br><p>  Es ist Zeit, VMFS-Speicher zu erstellen und ihn mit unserer Infrastruktur zu verbinden! <br>  Gehen Sie zu <strong>Speicher&gt; VMware</strong> und starten Sie den Assistenten, um einen neuen Speicher zu erstellen.  In meinem Beispiel werde ich einen Block-VMFS-Speicher erstellen. </p><br><p><img src="https://habrastorage.org/webt/qj/kw/fm/qjkwfmhr0vqpxl49we0bstye82w.png"></p><br><p>  Geben Sie in den n√§chsten Schritten den Namen und dann die Gr√∂√üe an und geben Sie an, aus welchem ‚Äã‚ÄãPool Festplatten entnommen werden sollen.  Wie wir uns erinnern, kann UnityVSA die Festplattentypen bestimmen und ihnen die entsprechende Schicht zuweisen.  Hier k√∂nnen Sie das E / A-Limit einstellen. </p><br><p><img src="https://habrastorage.org/webt/pl/sm/g6/plsmg66-bj_6y2rssj_vfvyypxs.png"></p><br><p>  Geben Sie auf der Registerkarte <strong>Zugriff an</strong> , welche Hosts √ºber welches Protokoll Zugriff auf unseren Speicher haben.  Normalerweise ist es besser, alles auf einmal auszuw√§hlen, um in Zukunft keine Probleme mit vMotion zu haben. Dies h√§ngt jedoch bereits von Ihrer spezifischen Infrastruktur ab.  Hier k√∂nnen Sie auch eine LUN-ID zuweisen. </p><br><p><img src="https://habrastorage.org/webt/ny/zn/a2/nyzna2gcb7rchqogi4dnhh3qkgc.png"></p><br><p>  Auf den Registerkarten <strong>Snapshot</strong> und <strong>Replikation werden</strong> offensichtliche Funktionen zum Schutz von Daten zugewiesen.  Das Schema zum Erstellen von Snapshots kann in Ihr eigenes ge√§ndert werden. F√ºr die synchrone Replikation ben√∂tigen Sie jedoch eine zus√§tzliche Installation eines anderen UnityVSA. </p><br><p><img src="https://habrastorage.org/webt/8t/1k/72/8t1k72lzj4c-3a9_rjlhumwx0b0.png"></p><br><p>  Nach einigen Sekunden wird der Speicher erstellt und Sie k√∂nnen ihn in der VMware vCenter-Oberfl√§che anzeigen. </p><br><p><img src="https://habrastorage.org/webt/uo/vv/mf/uovvmfxbfwdxusolm0xhlurkcrc.png"></p><br><h4 id="integraciya-s-veeam">  Integration mit Veeam </h4><br><p>  Trotz aller M√∂glichkeiten zum Speichern von Daten, die UnityVSA uns sofort zur Verf√ºgung stellt, kann UnityVSA keine vollst√§ndigen Backups erstellen. Daher wird hier externe Software ben√∂tigt.  Und vorzugsweise mit Integrationsunterst√ºtzung, um die Produktionslast zu reduzieren. </p><br><p>  Veeam Backup &amp; Replication unterst√ºtzt die Dell EMC API f√ºr die direkte Kommunikation mit Unity Storage Array.  Auf diese Weise k√∂nnen Sie Snapshots der virtuellen Maschine auf Speicherebene erstellen.  Wir haben ihre Vorteile viele Male besprochen, deshalb werden wir nicht n√§her darauf eingehen, aber ich werde einfach die offensichtlichsten auflisten: </p><br><ul><li>  Hostlast minimieren </li><li>  Schnelle Erstellung von Schnappsch√ºssen und kurze Arbeitszeit, was f√ºr stark belastete Maschinen sehr wichtig ist </li><li>  M√∂glichkeit der granularen Wiederherstellung direkt vom Snapshot zum Speicher </li></ul><br><p>  Wir werden erl√§utern, wie Sie UnityVSA mit Veeam verbinden und Veeam Backup Proxy so konfigurieren, dass es ordnungsgem√§√ü funktioniert. </p><br><p>  Starten Sie auf der Registerkarte <strong>Speicherinfrastruktur</strong> den Assistenten, um neuen Speicher hinzuzuf√ºgen, und w√§hlen Sie <em>Dell EMC aus</em> . </p><br><p><img src="https://habrastorage.org/webt/nt/hq/om/nthqomons0fgriglqhshkjhdemu.png"></p><br><p>  Veeam unterst√ºtzt mehrere Modelle. W√§hlen Sie daher <em>Unity</em> . </p><br><p><img src="https://habrastorage.org/webt/ba/2w/wv/ba2wwvy_f3epjufbgbcindqmvts.png"></p><br><p>  Geben Sie dann den FQDN oder die IP an und erstellen Sie ein Konto.  Wenn Sie ein selbstsigniertes Zertifikat verwenden, erhalten Sie eine Warnung und die Kontobest√§tigung beginnt. </p><br><p><img src="https://habrastorage.org/webt/rt/hr/n5/rthrn5kbb4rw8isleqgcnt78r5i.png"></p><br><p>  Wenn alles in Ordnung ist, m√ºssen Sie im n√§chsten Schritt ausw√§hlen, welche Protokolle mit Ihrem Repository kommunizieren k√∂nnen.  Der Fibre Channel ist nicht Teil der Dell Community-Lizenz, daher k√∂nnen Sie ihn deaktivieren.  (Und Sie k√∂nnen es verlassen, in Zukunft wird es automatisch ausgeschaltet.) <br>  Standardm√§√üig versucht Veeam, den am besten geeigneten Proxy aus der Liste der verf√ºgbaren Proxys auszuw√§hlen. Ich empfehle jedoch jedem, einen bestimmten Proxy anzugeben, um ein garantiertes Ergebnis zu erzielen.  Wenn ein bestimmter Proxy angegeben ist, hat der Rest keinen Zugriff auf das Repository.  Im selben Schritt k√∂nnen Sie ausw√§hlen, welche Volumes Veeam verarbeiten soll (wenn Sie mehrere haben). </p><br><p><img src="https://habrastorage.org/webt/yg/ly/hu/yglyhu3mqku7owuxtxkoxhfxeys.png"></p><br><p>  Nachdem Sie alle Punkte des Assistenten abgeschlossen haben, wird der Scanvorgang des Speichers gestartet und ist in der Veeam-Oberfl√§che verf√ºgbar. </p><br><p><img src="https://habrastorage.org/webt/oj/lo/sv/ojlosvrnxro80ef7ryu4yj1k3lu.png"></p><br><p>  Kehren Sie nun zur Unity-Konsole zur√ºck, um den Zugriff f√ºr Veeam Backup Proxy zu erm√∂glichen.  Gehen Sie dazu zur Registerkarte <strong>Zugriff&gt; Hosts</strong> und f√ºhren Sie den Assistenten aus, um einen neuen Host hinzuzuf√ºgen. </p><br><p><img src="https://habrastorage.org/webt/gc/0z/ea/gc0zea8q2cx0vg1ac313kuknmzg.png"></p><br><p>  Im n√§chsten Schritt ist es wichtig, den iSCSI-Initiator zu benennen, wenn UnityVSA ihn nicht automatisch erkennt (was normal ist).  Sie k√∂nnen mehrere gleichzeitig erstellen, um MPIO zu erhalten.  Und ein kleiner Kapit√§n: Wenn der iSCSI-Initiator nicht auf Ihrem Proxy konfiguriert ist, ist es jetzt an der Zeit, ihn einzuschalten und zu konfigurieren. </p><br><p><img src="https://habrastorage.org/webt/cs/bi/zd/csbizdl7x56iv1bisg8yu63uqm8.png"></p><br><p>  Wir gehen den Assistenten bis zum Ende durch und erhalten ein Zertifikat √ºber das erfolgreiche Hinzuf√ºgen eines neuen Hosts. </p><br><p><img src="https://habrastorage.org/webt/9i/yu/vd/9iyuvd857qkge6lx-jcjyzx9f3m.png"></p><br><p>  Erstellen Sie nun eine Sicherungsaufgabe.  Im allgemeinen Fall unterscheidet es sich nicht vom Standard, daher werden wir uns nur mit den wichtigsten Punkten befassen. <br>  In diesem Beispiel werde ich der Aufgabe nur die Computer hinzuf√ºgen, die sich in UnityVSA befinden.  Technisch gesehen k√∂nnen Sie Autos mit gew√∂hnlichen Geschichten hinzuf√ºgen. Dies erfordert ein weiteres H√§kchen, √ºber das wir sp√§ter sprechen werden. </p><br><p><img src="https://habrastorage.org/webt/8_/db/dg/8_dbdgcbxsxzp5-mdylq6i9ojui.png"></p><br><p>  Im <strong>Speicherschritt</strong> : </p><br><ul><li>  Wenn sich in der Aufgabe alle Computer auf demselben Speicher befinden, ist es besser, denselben Proxy auszuw√§hlen, der Zugriff auf den Speicher hat. </li><li>  Wenn sich die Computer auf einem anderen Computer befinden, k√∂nnen Sie die automatische Erkennung verlassen, wenn Sie nicht alle Daten √ºber einen Proxy √ºbertragen m√∂chten. </li></ul><br><p><img src="https://habrastorage.org/webt/xx/2q/wo/xx2qwoa5vf7ypl3yzrluvczfxwm.png"></p><br><p>  Gehen Sie als N√§chstes zu <strong>Erweitert</strong> und √∂ffnen Sie die Registerkarte <strong>Integration</strong> .  Hier befindet sich das wichtigste H√§kchen - <strong>Aktivieren Sie die Sicherung von Speicher-Snapshots</strong> , dank derer Veeam die Speicher-API verwendet.  Hier k√∂nnen Sie die Anzahl der Autos begrenzen, die gleichzeitig im Schnappschuss enthalten sind.  Dies ist eine n√ºtzliche Funktion f√ºr Besitzer sehr gro√üer Installationen und geladener Systeme. <br>  Das zweite wichtige H√§kchen ist das <strong>Failover f√ºr die Standart-Sicherung</strong> .  Wenn die Aufgabe Computer in Speichern enth√§lt, die keine Snapshots unterst√ºtzen, arbeitet Veeam mit dem Standard-Hypervisor-Snapshot. Andernfalls wird die Aufgabe sofort mit einem Fehler abgeschlossen. </p><br><p><img src="https://habrastorage.org/webt/7z/mo/ak/7zmoakyc0nrnpyxsvt5n3j2ofd4.png"></p><br><p>  Sie m√ºssen nichts anderes konfigurieren.  Wir √ºbergeben den Assistenten bis zum Ende und f√ºhren die Sicherung durch.  Wenn alles richtig konfiguriert ist, ist die Zeile im Aufgabenprotokoll die Zeile <em>Erstellen eines Speicher-Snapshots</em> . Im Protokoll jedes Computers werden Sie feststellen, dass der Snapshot auf dem Hypervisor unmittelbar nach dem Erstellen des Snapshots und dem Sammeln von Informationen zu den Datentr√§gern gel√∂scht wurde.  In meinem Fall arbeitete das Auto in nur 7 Sekunden an einem Schnappschuss. </p><br><p><img src="https://habrastorage.org/webt/k6/wq/7l/k6wq7l8bvo_npo4qv0zu3hxgbgo.png"></p><br><p>  Tolles Ergebnis, scheint mir. </p><br><p>  Und lesen Sie zum Thema: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verwenden Sie Vergeam zum Einrichten von Sicherungen mit Speicher-Snapshots</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Best Practices f√ºr die Verwendung von Dell EMC Unity</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alle aktuellen Veeam-Produktdokumentationen</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471126/">https://habr.com/ru/post/de471126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471112/index.html">Dummer Grund, warum Ihre listige Bildverarbeitungsanwendung nicht funktioniert: Orientierung in EXIF</a></li>
<li><a href="../de471116/index.html">5 Food-Tech-Ger√§te und ein Roboter mit Tomaten</a></li>
<li><a href="../de471118/index.html">So f√ºhren Sie Ihre Organisation in OpenStack ein</a></li>
<li><a href="../de471120/index.html">So l√∂sen Sie aktuelle IT-Probleme bei der Verwaltung von Ger√§tereparaturen</a></li>
<li><a href="../de471122/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 480 (24.09.2019 - 09.09.2019)</a></li>
<li><a href="../de471128/index.html">Collage-Projekt: Bek√§mpfung der Internet-Zensur mit benutzerdefinierten Inhalten</a></li>
<li><a href="../de471130/index.html">Digitale Veranstaltungen in Moskau vom 14. bis 20. Oktober</a></li>
<li><a href="../de471132/index.html">Professioneller Burnout von IT-Spezialisten: 15 Antworten des Psychiaters Maxim Malyavin</a></li>
<li><a href="../de471134/index.html">Python vs JavaScript: Welches kann Ihnen am meisten n√ºtzen?</a></li>
<li><a href="../de471136/index.html">Russlands erstes gro√ües U-Bahn-Treffen der Scala-Gemeinde - so wie es war</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>