<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèº üèπ ‚ûó Treinamento Cisco 200-125 CCNA v3.0. Dia 38. Protocolo EtherChannel para OSI Layer 2 üî™ ü§∑üèº üìë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, examinamos a opera√ß√£o do protocolo de agrega√ß√£o de link EtherChannel da camada 2 para a camada 2 do modelo OSI. Esse protocolo n√£o √© muito difer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Treinamento Cisco 200-125 CCNA v3.0. Dia 38. Protocolo EtherChannel para OSI Layer 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466427/"> Hoje, examinamos a opera√ß√£o do protocolo de agrega√ß√£o de link EtherChannel da camada 2 para a camada 2 do modelo OSI.  Esse protocolo n√£o √© muito diferente do protocolo da camada 3, mas antes de come√ßar a aprender sobre o EtherChannel da camada 3, tenho que apresentar v√°rios conceitos, para que passemos ao terceiro n√≠vel mais tarde.  Continuamos a seguir o cronograma do curso do CCNA; hoje, veremos a se√ß√£o 1.5 "Configurando, verificando e solucionando problemas da camada 2/3 EtherChannel" e as subse√ß√µes 1.5a "Static EtherChannel", 1.5b "PAGP Protocol" e 1.5c "Open IEEE-LACP Standard" . <br><br><img src="https://habrastorage.org/webt/xb/7i/bl/xb7iblcsfkfg3qg51pr6hkl9k-8.jpeg"><br><br>  Antes de prosseguir, precisamos entender o que √© um EtherChannel.  Suponha que tenhamos o comutador A e o comutador B, excessivamente conectados por tr√™s linhas de comunica√ß√£o.  Se voc√™ usar o protocolo STP, duas linhas extras ser√£o logicamente bloqueadas para impedir a forma√ß√£o de loops. <a name="habracut"></a><br><br>  Suponha que tenhamos portas FastEthernet que fornecem velocidade de tr√°fego de 100 Mbps; portanto, a taxa de transfer√™ncia total √© de 3 x 100 = 300 Mbps.  Deixamos apenas um canal de comunica√ß√£o, pelo qual ele cair√° para 100 Mbps, ou seja, neste caso, o STP degradar√° o desempenho da rede.  Al√©m disso, 2 canais extras ficar√£o ociosos em v√£o. <br><br>  Para evitar isso, o desenvolvedor KALPANA, a empresa que criou os switches Cisco Catalist e que a Cisco comprou mais tarde, desenvolveu uma tecnologia chamada EtherChannel nos anos 90. <br><br><img src="https://habrastorage.org/webt/np/0y/7x/np0y7xshs60ireatpkieqkl0p6u.jpeg"><br><br>  No nosso caso, essa tecnologia transforma tr√™s canais de comunica√ß√£o separados em um canal l√≥gico com uma taxa de transfer√™ncia de 300 Mbps. <br><br>  O primeiro modo da tecnologia EtherChannel √© manual ou est√°tico.  Nesse caso, os comutadores n√£o far√£o nada sob nenhuma condi√ß√£o de transmiss√£o, contando com o fato de que todas as configura√ß√µes manuais dos par√¢metros de opera√ß√£o s√£o feitas corretamente.  O canal simplesmente liga e funciona, confiando totalmente nas configura√ß√µes do administrador da rede. <br><br>  O segundo modo √© o protocolo de agrega√ß√£o de link propriet√°rio Cisco PAGP e o terceiro √© o protocolo de agrega√ß√£o de link padr√£o IEEE LACP. <br><br>  Para que esses modos funcionem, o EtherChannel deve estar dispon√≠vel.  A vers√£o est√°tica deste protocolo √© muito f√°cil de ativar: voc√™ precisa acessar as configura√ß√µes da interface do switch e inserir o comando de modo do grupo de canais 1. <br><br>  Se tivermos o comutador A com duas interfaces f0 / 1 ef0 / 2, devemos entrar nas configura√ß√µes de cada porta e inserir este comando, e o n√∫mero do grupo de interfaces EtherChannel pode ser de 1 a 6, o principal √© que esse valor seja o mesmo para todas as portas do switch.  Al√©m disso, as portas devem funcionar nos mesmos modos: no modo de acesso ou no modo de tronco e ter a mesma VLAN nativa ou VLANs permitidas. <br><br><img src="https://habrastorage.org/webt/sh/uf/sv/shufsv48th79jzcokqt2ogcgvry.jpeg"><br><br>  A agrega√ß√£o EtherChannel funcionar√° apenas se o grupo de canais consistir nas mesmas interfaces configuradas. <br><br>  Conectamos o switch A com duas linhas de comunica√ß√£o ao switch B, que tamb√©m possui duas interfaces f0 / 1 ef0 / 2.  Essas interfaces formam seu pr√≥prio grupo.  Voc√™ pode configur√°-los para funcionar no EtherChannel usando o mesmo comando, e o n√∫mero do grupo n√£o importa, pois eles est√£o localizados no comutador local.  Voc√™ pode designar esse grupo como n√∫mero 1 e tudo funcionar√°.  No entanto, lembre-se de que para que ambos os canais funcionem sem problemas, todas as interfaces devem ser configuradas exatamente da mesma maneira, para o mesmo modo - acesso ou tronco.  Depois de inserir as configura√ß√µes de ambas as interfaces do comutador A e do comutador B e entrar no modo de grupo de canais de comando 1, a agrega√ß√£o dos canais EtherChannel ser√° realizada. <br><br>  Ambas as interfaces f√≠sicas de cada switch funcionar√£o como uma interface l√≥gica.  Se observarmos os par√¢metros STP, veremos que o switch A mostrar√° uma interface comum, agrupada em duas portas f√≠sicas. <br><br>  Vamos para o PAGP, um protocolo de agrega√ß√£o de portas desenvolvido pela Cisco. <br><br><img src="https://habrastorage.org/webt/fp/kb/6j/fpkb6jgy3xm_7d1flyaiesro8ji.jpeg"><br><br>  Imagine a mesma imagem - dois comutadores A e B, cada um com as interfaces f0 / 1 ef0 / 2, conectados por duas linhas de comunica√ß√£o.  Para habilitar o PAGP, use o mesmo comando de modo do grupo de canais 1 com os par√¢metros &lt;desej√°vel / autom√°tico&gt;.  No modo est√°tico manual, voc√™ simplesmente entra no modo de grupo de canais 1 sob comando em todas as interfaces e a agrega√ß√£o come√ßa a funcionar; aqui voc√™ precisa especificar o par√¢metro desej√°vel ou autom√°tico.  Se voc√™ digitar o comando de modo do grupo de canais 1 com o sinal?, O sistema exibir√° uma dica com as seguintes op√ß√µes: ativado, desej√°vel, autom√°tico, passivo, ativo. <br><br>  Se voc√™ inserir o mesmo comando desej√°vel no modo de grupo de canais 1 nas duas extremidades do link, o EtherChannel ser√° ativado.  O mesmo acontecer√° se em uma extremidade do canal as interfaces estiverem configuradas com o comando desej√°vel no modo grupo de canais 1 e na outra extremidade com o comando autom√°tico no modo grupo-1 de canais. <br><br>  No entanto, se as interfaces nas duas extremidades dos canais estiverem definidas como autom√°ticas com o comando auto do modo de grupo de canais 1, a agrega√ß√£o de canais n√£o ocorrer√°.  Portanto, lembre-se - se voc√™ deseja usar o EtherChannel via PAGP, as interfaces de pelo menos uma das partes devem estar no estado desej√°vel. <br><br>  Ao usar o protocolo LACP aberto, o mesmo comando do modo de grupo de canais 1 com os par√¢metros &lt;ativo / passivo&gt; √© usado para agregar canais. <br><br><img src="https://habrastorage.org/webt/b3/px/gm/b3pxgmyabpd1ermxo_xqerrt-og.jpeg"><br><br>  As combina√ß√µes poss√≠veis de configura√ß√µes nos dois lados dos canais s√£o as seguintes: se as interfaces estiverem definidas no modo ativo ou de um lado para ativo e o outro lado como passivo - o modo EtherChannel funcionar√°, se os dois grupos de interfaces estiverem configurados como passivos, a agrega√ß√£o de canais n√£o ocorrer√°.  Deve-se lembrar que, para organizar a agrega√ß√£o de canais usando o protocolo LACP, √© necess√°rio que pelo menos um dos grupos de interface esteja no estado ativo. <br><br>  Vamos tentar responder √† pergunta: se tivermos os comutadores A e B conectados por linhas de comunica√ß√£o, com as interfaces de um comutador no estado ativo e outro no estado autom√°tico ou desej√°vel, o EtherChannel funcionar√°? <br><br><img src="https://habrastorage.org/webt/ek/su/ta/eksutaqprcruqvub8yqzhvowweu.jpeg"><br><br>  N√£o, n√£o, porque a rede deve ter o mesmo protocolo - PAGP ou LACP, porque n√£o s√£o compat√≠veis entre si. <br><br>  Considere alguns comandos usados ‚Äã‚Äãpara organizar um EtherChannel.  Primeiro de tudo, voc√™ precisa atribuir um n√∫mero de grupo, pode ser qualquer um.  Para o primeiro comando de modo do grupo de canais 1, voc√™ pode selecionar 5 par√¢metros como uma op√ß√£o: ativado, desej√°vel, autom√°tico, passivo ou ativo. <br>  Nos subcomandos da interface, usamos a palavra-chave group-group, mas se, por exemplo, voc√™ deseja especificar o balanceamento de carga, a palavra port-channel √© usada.  Considere o que √© o balanceamento de carga. <br><br>  Suponha que tenhamos o comutador A com duas portas conectadas √†s portas correspondentes do comutador B. Tr√™s computadores est√£o conectados ao comutador B - 1,2,3 e um computador, n√∫mero 4, ao comutador A. <br><br><img src="https://habrastorage.org/webt/my/5g/-n/my5g-ni-rha-l69pts0eavoofnk.jpeg"><br><br>  Quando o tr√°fego passa do computador n¬∫ 4 para o computador n¬∫ 1, o comutador A come√ßar√° a transmitir pacotes nas duas linhas de comunica√ß√£o.  O m√©todo de balanceamento de carga usa hash do endere√ßo MAC do remetente para que todo o tr√°fego no quarto computador passe apenas por uma das duas linhas de comunica√ß√£o.  Se conectarmos o computador n¬∫ 5 ao comutador A, devido ao balanceamento de carga, o tr√°fego desse computador se mover√° apenas ao longo de uma linha de comunica√ß√£o inferior. <br><br><img src="https://habrastorage.org/webt/xh/bs/oe/xhbsoeo0zldmxnyxjejwrdtbi-m.jpeg"><br><br>  No entanto, essa n√£o √© uma situa√ß√£o t√≠pica.  Suponha que tenhamos uma Internet na nuvem e um dispositivo ao qual o comutador A esteja conectado a tr√™s computadores.  O tr√°fego da Internet ser√° direcionado para o switch com o endere√ßo MAC deste dispositivo, ou seja, com o endere√ßo de uma porta espec√≠fica, porque esse dispositivo √© um gateway.  Assim, todo o tr√°fego de sa√≠da ter√° o endere√ßo MAC deste dispositivo. <br><br><img src="https://habrastorage.org/webt/bf/3g/pe/bf3gpelb4suq-tj4uupoz80tgws.jpeg"><br><br>  Se colocarmos o comutador B conectado a ele por tr√™s linhas de comunica√ß√£o antes do comutador A, todo o tr√°fego do comutador B na dire√ß√£o do comutador A correr√° ao longo de uma das linhas, o que n√£o corresponde aos nossos objetivos.  Portanto, precisamos definir os par√¢metros de balanceamento para esse comutador. <br><br><img src="https://habrastorage.org/webt/rs/5m/0a/rs5m0ai3cyhyhrb8p7azfjzvxcy.jpeg"><br><br>  Para fazer isso, use o comando de equil√≠brio de carga do canal de porta, em que o endere√ßo IP de destino √© usado como par√¢metro de op√ß√£o.  Se esse for o endere√ßo do computador n¬∫ 1, o tr√°fego ser√° acelerado na primeira linha, se n¬∫ 3 - na terceira e, se voc√™ especificar o endere√ßo IP do segundo computador, na linha do meio. <br><br><img src="https://habrastorage.org/webt/uw/eh/xi/uwehxim1dl3bneklf4jggwnbkze.jpeg"><br><br>  Para fazer isso, o comando usa a palavra-chave port-channel no modo de configura√ß√£o global. <br><br>  Se voc√™ deseja ver quais links est√£o envolvidos no canal e quais protocolos s√£o usados, em modo privilegiado, √© necess√°rio inserir o comando show etherchannel summary.  Voc√™ pode visualizar as configura√ß√µes de balanceamento de carga usando o comando show etherchannel load-balance. <br><br>  Agora considere tudo isso no programa Packet Tracer.  Temos 2 switches conectados por dois links.  O STP come√ßar√° seu trabalho e uma das 4 portas ser√° bloqueada. <br><br><img src="https://habrastorage.org/webt/ou/od/2o/ouod2o38wmmcejjbo-deannlb44.jpeg"><br><br>  Entramos nas configura√ß√µes do SW0 e inserimos o comando show spanning-tree.  Vemos que o STP est√° funcionando e podemos verificar o ID da raiz e o ID da ponte.  Usando o mesmo comando para o segundo comutador, veremos que o primeiro comutador SW0 √© o comutador raiz, pois, ao contr√°rio do SW1, possui os mesmos identificadores de raiz e ponte.  Al√©m disso, h√° uma mensagem de que SW0 √© a raiz - "Esta ponte √© a raiz". <br><br><img src="https://habrastorage.org/webt/nm/v2/zi/nmv2zi3bxwt7v1oemttrbrc9kfq.jpeg"><br><br>  Ambas as portas do comutador raiz est√£o no estado Designado, a porta bloqueada do segundo comutador √© indicada como Alternativa e a segunda como a porta raiz.  Voc√™ v√™ como o STP executa perfeitamente todo o trabalho necess√°rio, configurando automaticamente a conex√£o. <br><br>  Ativamos o protocolo PAGP, para isso, nas configura√ß√µes de SW0, inseriremos seq√ºencialmente os comandos int f0 / 1 e modo de grupo de canais 1 com um dos 5 par√¢metros poss√≠veis, uso desej√°vel. <br><br><img src="https://habrastorage.org/webt/kp/qa/wv/kpqawvjis6sc1y6w2xyt8v4cckw.jpeg"><br><br>  Voc√™ v√™ que o protocolo linear foi primeiro desligado e depois ligado novamente, ou seja, as altera√ß√µes feitas entraram em vigor e a interface do canal de porta 1 foi criada. <br><br><img src="https://habrastorage.org/webt/if/pq/tl/ifpqtlgsasxio-40cuw3vkvj2fa.jpeg"><br><br>  Agora vamos para a interface f0 / 2 e insira o mesmo modo de comando do grupo de canais 1 desej√°vel. <br><br><img src="https://habrastorage.org/webt/9k/sd/qb/9ksdqbsfuvqyjlbf0rqnt0vfcto.jpeg"><br><br>  Voc√™ v√™ que agora as portas do link superior est√£o marcadas com um marcador verde e as portas do link inferior est√£o marcadas em laranja.  Nesse caso, n√£o pode haver um modo de porta mista autom√°tica desej√°vel, porque todas as interfaces do mesmo switch devem ser configuradas com o mesmo comando.  O modo autom√°tico pode ser usado no segundo switch, mas, no primeiro, todas as portas devem funcionar no mesmo modo, neste caso, √© desej√°vel. <br><br>  Iremos para as configura√ß√µes do SW1 e usaremos o comando para o intervalo de interfaces int range f0 / 1-2, para n√£o inserir manualmente os comandos separadamente para cada uma das interfaces, mas para configurar ambos com um comando. <br><br>  Eu uso o comando de modo do grupo de canais 2, mas posso usar qualquer n√∫mero de 1 a 6 para indicar o grupo de interfaces do segundo comutador.  Como o lado oposto do canal est√° definido no modo desej√°vel, as interfaces desse comutador devem estar no modo desej√°vel ou autom√°tico.  Seleciono o primeiro par√¢metro, digite o modo de grupo de canais 2 desej√°vel e pressione Enter. <br>  Vemos uma mensagem de que a interface do canal Port-channel 2 foi criada e as portas f0 / 1 e f0 / 2 mudaram sequencialmente do estado inativo para o estado ativo.  A seguir, √© exibida uma mensagem de que a interface do canal da porta 2 foi ativada e que o protocolo de linha dessa interface tamb√©m foi ativado.  Agora formamos o canal agregado EtherChannel. <br><br>  Voc√™ pode verificar isso acessando as configura√ß√µes do comutador SW0 e emitindo o comando show etherchannel summary.  Voc√™ v√™ v√°rios sinalizadores, que consideraremos posteriormente e, em seguida, agrupar 1 usando 1 canal, o n√∫mero de agregadores tamb√©m √© 1. Po1 significa PortChannel 1, e a designa√ß√£o (SU) significa S - sinalizador de n√≠vel 2, U - usado.  A seguir, o protocolo PAGP usado e as portas f√≠sicas agregadas ao canal s√£o Fa0 / 1 (P) e Fa0 / 2 (P), onde o sinalizador P indica que essas portas fazem parte do PortChannel. <br><br>  Eu uso os mesmos comandos para o segundo comutador e informa√ß√µes semelhantes para SW1 aparecem na janela da CLI. <br><br><img src="https://habrastorage.org/webt/qe/j4/bu/qej4bu23qi21lubbbp_i9tbxtri.jpeg"><br><br>  Entro no comando show spanning-tree nas configura√ß√µes do SW1 e voc√™ pode ver que o PortChannel 2 representa uma interface l√≥gica e seu custo diminuiu em compara√ß√£o com o custo de duas portas separadas 19 e agora √© igual a 9. <br><br><img src="https://habrastorage.org/webt/4a/eo/y7/4aeoy7q47qlcgvzi-_hcckwbvcg.jpeg"><br><br>  Vamos fazer o mesmo com a primeira op√ß√£o.  Voc√™ v√™ que os par√¢metros Root n√£o foram alterados, mas agora entre os dois comutadores, em vez de dois links f√≠sicos, existe uma interface l√≥gica Po1-Po2. <br><br><img src="https://habrastorage.org/webt/wq/mx/3n/wqmx3nkjs7ctva_yfoftxigmpck.jpeg"><br><br>  Vamos tentar substituir o PAGP pelo LACP.  Para fazer isso, nas configura√ß√µes do primeiro switch, eu uso o comando para o intervalo de interfaces int range f0 / 1-2.  Se eu entrar no comando ativo do modo channel-group1 para ativar o LACP, ele ser√° rejeitado porque as portas Fa0 / 1 e Fa0 / 2 j√° fazem parte de um canal usando um protocolo diferente. <br><br><img src="https://habrastorage.org/webt/ur/fd/w8/urfdw8qgugivc0wewcjqbwvfvly.jpeg"><br><br>  Portanto, devo primeiro inserir o comando no modo de grupo de canais 1 ativo e somente depois usar o modo de comando no grupo de canais1 ativo.  Vamos fazer o mesmo com o segundo comutador, primeiro inserindo o comando no channel-group 2 e, em seguida, o comando ativo no modo channel-group 2.  Se voc√™ observar os par√¢metros da interface, poder√° ver que o Po2 foi ativado novamente, mas ainda est√° no modo de protocolo PAGP.  Isso n√£o √© verdade, porque agora temos o LACP e, neste caso, h√° uma exibi√ß√£o incorreta dos par√¢metros pelo programa Packet Tracer. <br>  Para resolver essa discrep√¢ncia, estou usando uma solu√ß√£o tempor√°ria - criando outro PortChannel.  Para fazer isso, digitei os comandos int range f0 / 1-2 e nenhum grupo de canais 2 e, em seguida, o modo de grupo de canais 2 de comando ativo.  Vamos ver como isso afeta a primeira op√ß√£o.  Entro no comando show etherchannel summary e vejo que Po1 √© novamente mostrado como usando PAGP.  Esse √© um problema de simula√ß√£o do Packet Tracer, porque o PortChannel est√° desativado no momento e n√£o precisamos ter um canal. <br><br>  Volto √† janela CLI do segundo switch e emito o comando show etherchannel summary.  Agora Po2 √© mostrado com um √≠ndice (SD), onde D significa baixo, ou seja, o canal n√£o funciona.  Tecnicamente, o PortChannel est√° presente, mas n√£o √© usado, porque nenhuma porta est√° associada a ele. <br>  Entro no intervalo int f0 / 1-2 e nenhum comando do grupo de canais 1 nas configura√ß√µes do primeiro comutador e depois crio um novo grupo de canais, desta vez sob o n√∫mero 2, usando o comando ativo do modo do grupo de canais 2.  Ent√£o eu fa√ßo o mesmo nas configura√ß√µes do segundo switch, s√≥ que agora o grupo de canais obt√©m o n√∫mero 1. <br><br>  Agora, um novo grupo de canais da porta 2 foi criado no primeiro comutador e o canal de porta 1. no segundo comutador. Acabei de trocar os nomes dos grupos.  Como voc√™ pode ver, tecnicamente criei um novo Canal de porta no segundo switch e agora ele √© exibido com o par√¢metro correto - depois de inserir o comando show etherchannel summary, vemos que Po1 (SU) usa LACP. <br><br>  Vemos exatamente a mesma imagem na janela CLI do switch SW0 - o novo grupo Po2 (SU) est√° executando o LACP. <br><br><img src="https://habrastorage.org/webt/gx/ve/xb/gxvexbyeb1jxmpvl-as-9hvs7dq.jpeg"><br><br>  Considere a diferen√ßa entre uma interface no estado ativo e uma interface que est√° sempre ativada.  Vou criar um novo grupo de canais para o comutador SW0 com os comandos int range f0 / 1-2 e o modo de grupo de canais 3 ativado.  Antes disso, √© necess√°rio excluir os grupos de canais 1 e 2 com os comandos no group-channel 1 e no channel-group 2; caso contr√°rio, ao tentar usar o modo de grupo de canais 3 no comando, o sistema exibir√° uma mensagem de que a interface j√° est√° sendo usada para trabalhar com outro protocolo de canal. <br><br>  Fa√ßa o mesmo com o segundo comutador - exclua o grupo de canais 1 e 2 e crie o grupo 3 com o modo de grupo de canais 3 ativado.  Agora vamos entrar nas configura√ß√µes do SW0 e usar o comando show etherchannel summary.  Voc√™ ver√° que o novo canal Po3 j√° est√° operacional e n√£o requer nenhuma opera√ß√£o preliminar, como PAGP ou LACP. <br><br><img src="https://habrastorage.org/webt/b-/i8/1p/b-i81p-_tppmxsrtuobxu9bcyqy.jpeg"><br><br>  Ele liga imediatamente, sem desligar e depois ligar as portas.  Usando o mesmo comando para SW1, veremos que aqui o Po3 n√£o usa nenhum protocolo, ou seja, criamos um EtherChannel est√°tico. <br><br>  A Cisco alega que, para uma ampla disponibilidade de rede, √© necess√°rio esquecer o PAGP e usar o EtherChannel est√°tico como uma maneira mais confi√°vel de agrega√ß√£o de links. <br>  Como equilibramos a carga?  Volto √† janela da CLI do switch SWI e emito o comando show etherchannel load-balance.  Voc√™ v√™ que o balanceamento de carga √© feito com base no endere√ßo MAC do endere√ßo MAC de origem. <br><br><img src="https://habrastorage.org/webt/ai/vw/zu/aivwzus8ei6ffabb_vmlq9wlbke.jpeg"><br><br>  Normalmente, o balanceamento usa esse par√¢metro espec√≠fico, mas √†s vezes n√£o corresponde √†s nossas tarefas.  Se quisermos alterar esse m√©todo de balanceamento, precisamos entrar no modo de configura√ß√£o global e inserir o comando de balanceamento de carga do canal de porta, ap√≥s o qual o sistema fornecer√° prompts com poss√≠veis par√¢metros para esse comando. <br><br><img src="https://habrastorage.org/webt/tg/2a/oq/tg2aoqxzmzxbf7kw4bykdl-xziw.jpeg"><br><br>  Se voc√™ especificar o par√¢metro src-mac do balanceamento de carga do canal da porta, ou seja, especificar o endere√ßo MAC de origem, uma fun√ß√£o hash ser√° ativada, que indicar√° qual porta, que faz parte deste EtherChannel, deve ser usada para transmitir tr√°fego.  Sempre que o endere√ßo de origem for o mesmo, o sistema usar√° essa interface f√≠sica espec√≠fica para enviar tr√°fego. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/mkLnjNFBjRs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</a> na Holanda!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99!</b></b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466427/">https://habr.com/ru/post/pt466427/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466413/index.html">Troca de sites por Bitrix e 1C: resolvendo os principais problemas</a></li>
<li><a href="../pt466417/index.html">Guerra de navios - uma amea√ßa cibern√©tica enviada por correio normal</a></li>
<li><a href="../pt466419/index.html">Por que trabalhamos no Sitefinity</a></li>
<li><a href="../pt466423/index.html">O misterioso programa LyX. Parte 1</a></li>
<li><a href="../pt466425/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 37. STP: sele√ß√£o de Bridge Root, recursos de prote√ß√£o PortFast e BPDU. Parte 2</a></li>
<li><a href="../pt466429/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 39. Pilhas e agrega√ß√£o do chassi do switch</a></li>
<li><a href="../pt466431/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 40. Fam√≠lia padr√£o 802.1X e protocolo AAA</a></li>
<li><a href="../pt466433/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 41. VLAN nativa do DHCP Snooping e Nondefault</a></li>
<li><a href="../pt466435/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 42. Roteamento Inter-VLAN e SVI</a></li>
<li><a href="../pt466437/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 43. Protocolos de Roteamento Dist√¢ncia do Vetor e Estado do Link</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>