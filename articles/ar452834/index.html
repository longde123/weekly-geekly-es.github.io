<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âš ï¸ ğŸ˜– ğŸ•¡ microframework Ø¶Ø¦ÙŠÙ„Ø© ğŸ’‡ğŸ¾ ğŸ¤¹ğŸ» ğŸ¤“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙÙŠ 25 Ù†ÙŠØ³Ø§Ù† (Ø£Ø¨Ø±ÙŠÙ„) 2019 ØŒ Ø´Ù‡Ø¯Øª Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© alpha Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…ØµØºØ±Ø© " Ø³Ù„ÙŠÙ…" Ø§Ù„Ù…ØµØºØ±Ø© ØŒ Ø§Ù„Ù†ÙˆØ± ØŒ ÙˆÙÙŠ 18 Ø£ÙŠØ§Ø± (Ù…Ø§ÙŠÙˆ) ØŒ Ø£ØµØ¨Ø­Øª Ù†Ø³Ø®Ø© beta . Ø£Ù‚ØªØ±...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>microframework Ø¶Ø¦ÙŠÙ„Ø©</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452834/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> ÙÙŠ 25 Ù†ÙŠØ³Ø§Ù† (Ø£Ø¨Ø±ÙŠÙ„) 2019 ØŒ Ø´Ù‡Ø¯Øª Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© <code>alpha</code> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…ØµØºØ±Ø© " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø³Ù„ÙŠÙ…"</a> Ø§Ù„Ù…ØµØºØ±Ø© ØŒ Ø§Ù„Ù†ÙˆØ± ØŒ ÙˆÙÙŠ 18 Ø£ÙŠØ§Ø± (Ù…Ø§ÙŠÙˆ) ØŒ Ø£ØµØ¨Ø­Øª Ù†Ø³Ø®Ø© <code>beta</code> .  Ø£Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ Ø£Ù† ØªØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯. </p><br><p style=";text-align:right;direction:rtl">  ØªØ­Øª Ø§Ù„Ù‚Ø·Ø¹: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ø­ÙˆÙ„ Ø§Ø¨ØªÙƒØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø·Ø§Ø± </li><li style=";text-align:right;direction:rtl">  ÙƒØªØ§Ø¨Ø© ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø³ÙŠØ· Ø¹Ù„Ù‰ Slim-4 </li><li style=";text-align:right;direction:rtl">  Ø¹Ù† Slim Ùˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PhpStorm</a> Ø§Ù„ØµØ¯Ø§Ù‚Ø© <a name="habracut"></a></li></ul><br><h2 id="novoe-v-slim-4" style=";text-align:right;direction:rtl">  Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Slim 4 </h2><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù…Ù† Ø¥ØµØ¯Ø§Ø± PHP Ù‡Ùˆ 7.1 Ø› </li><li style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù… PSR-15 (Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ÙˆØ³ÙŠØ·Ø©) Ø› </li><li style=";text-align:right;direction:rtl">  Ø¥Ø²Ø§Ù„Ø© ØªÙ†ÙÙŠØ° Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…ØªØ´Ø¹Ø¨.  ØªØ«Ø¨ÙŠØª Ø£ÙŠ Ù…ÙƒØªØ¨Ø© Ù…ØªÙˆØ§ÙÙ‚Ø© PSR-7 ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ø› </li><li style=";text-align:right;direction:rtl">  Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ¨Ø¹ÙŠØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¨Ø«Ø±Ø©</a> .  Ù‚Ù… Ø¨ØªØ«Ø¨ÙŠØª Ø­Ø§ÙˆÙŠØ© PSR-11 Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ø¯ÙŠÙƒ ÙˆØ§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø› </li><li style=";text-align:right;direction:rtl">  Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ø³Ø§Ø¨Ù‚Ù‹Ø§ ØŒ Ù„Ù… ÙŠÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ù…ÙƒÙ† Ø§Ù„ØªØ®Ù„ÙŠ Ø¹Ù† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FastRoute</a> ) Ø› </li><li style=";text-align:right;direction:rtl">  ØªØºÙŠÙŠØ± ØªÙ†ÙÙŠØ° Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø› </li><li style=";text-align:right;direction:rtl">  ØªØºÙŠÙŠØ± ØªÙ†ÙÙŠØ° Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø› </li><li style=";text-align:right;direction:rtl">  ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù…ØµÙ†Ø¹ Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«ÙŠÙ„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø› </li><li style=";text-align:right;direction:rtl">  Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙŠ ØªÙ…Øª Ø¥Ø²Ø§Ù„ØªÙ‡Ø§ </li><li style=";text-align:right;direction:rtl">  Ù„Ù… ÙŠØ¹Ø¯ Slim ÙŠØ¹ÙŠÙ‘Ù† <code>default_mimetype</code> Ø¥Ù„Ù‰ Ø³Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ØŒ Ù„Ø°Ù„Ùƒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ«Ø¨ÙŠØªÙ‡ Ø¨Ù†ÙØ³Ùƒ ÙÙŠ <code>php.ini</code> Ø£Ùˆ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <code>ini_set('default_mimetype', '')</code> Ø› </li><li style=";text-align:right;direction:rtl">  ÙŠÙ‚Ø¨Ù„ Ù…Ø¹Ø§Ù„Ø¬ Ø·Ù„Ø¨ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù† ÙƒØ§Ø¦Ù† Ø§Ù„Ø·Ù„Ø¨ ÙÙ‚Ø· (ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ… ØŒ ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©). </li></ul><br><h3 id="kak-teper-sozdat-prilozhenie" style=";text-align:right;direction:rtl">  ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù†ØŸ </h3><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø«Ø§Ù„Ø« ØŒ Ø¨Ø¯Ø§ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ù„ Ù‡Ø°Ø§: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">App</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $settings = [ <span class="hljs-string"><span class="hljs-string">'addContentLengthHeader'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, ]; $app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> App([<span class="hljs-string"><span class="hljs-string">'settings'</span></span> =&gt; $settings]); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response, array $args)</span></span></span><span class="hljs-function"> </span></span>{ $name = $args[<span class="hljs-string"><span class="hljs-string">'name'</span></span>]; $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ‚Ø¨Ù„ Ù…ÙÙ†Ø´Ø¦ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  Ù…Ø¹Ù„Ù…Ø© </th><th>  Ù†ÙˆØ¹ </th><th>  Ø¥Ù„Ø²Ø§Ù…ÙŠ </th><th>  ÙˆØµÙ </th></tr></thead><tbody><tr><td>  $ Ø§Ø³ØªØ¬Ø§Ø¨Ø©Ø§Ù„Ù…ØµÙ†Ø¹ </td><td> <code>Psr\Http\Message\ResponseFactoryInterface</code> </td> <td>  Ù†Ø¹Ù… </td><td>  PSR-17 Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ù…ØµÙ†Ø¹ Ø·Ù„Ø¨ Ø®Ø§Ø¯Ù… HTTP </td></tr><tr><td>  Ø­Ø§ÙˆÙŠØ© $ </td><td> <code>\Psr\Container\ContainerInterface</code> </td> <td>  Ù„Ø§ </td><td>  Ø­Ø§ÙˆÙŠØ© Ø§Ù„ØªØ¨Ø¹ÙŠØ© </td></tr><tr><td>  callableResolver $ </td><td> <code>\Slim\Interfaces\CallableResolverInterface</code> </td> <td>  Ù„Ø§ </td><td>  Ø±Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬ </td></tr><tr><td>  Ù…Ø³Ø§Ø± Ø§Ù„Ø·Ø±ÙŠÙ‚ </td><td> <code>\Slim\Interfaces\RouteCollectorInterface</code> </td> <td>  Ù„Ø§ </td><td>  Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ </td></tr><tr><td>  $ routeResolver </td><td> <code>\Slim\Interfaces\RouteResolverInterface</code> </td> <td>  Ù„Ø§ </td><td>  Ù…Ø¹Ø§Ù„Ø¬ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ </td></tr></tbody></table></div><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© <code>create</code> Ø§Ù„Ø«Ø§Ø¨ØªØ© Ù„ØªØ·Ø¨ÙŠÙ‚ factory <code>\Slim\Factory\AppFactory</code> . <br>  ØªÙ‚Ø¨Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ù†ÙØ³ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª ÙƒÙ…Ø¯Ø®Ù„Ø§Øª ØŒ ÙˆÙƒÙ„Ù‡Ø§ ÙÙ‚Ø· Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response)</span></span></span><span class="hljs-function"> </span></span>{ $name = $request-&gt;getAttribute(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><h3 id="vernite-mne-404-oshibku" style=";text-align:right;direction:rtl">  Ø£Ø¹Ø·Ù†ÙŠ 404 Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! </h3><br><p style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ Ø­Ø§ÙˆÙ„Ù†Ø§ ÙØªØ­ ØµÙØ­Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø© ØŒ ÙØ³ÙˆÙ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² Ø§Ø³ØªØ¬Ø§Ø¨Ø© <code>500</code> ØŒ ÙˆÙ„ÙŠØ³ <code>404</code> .  Ù„ÙƒÙŠ ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ <code>\Slim\Middleware\ErrorMiddleware</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ErrorMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ErrorMiddleware( $app-&gt;getCallableResolver(), $app-&gt;getResponseFactory(), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> ); $app-&gt;add($middleware); $app-&gt;get(<span class="hljs-string"><span class="hljs-string">'/hello/{name}'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, ResponseInterface $response)</span></span></span><span class="hljs-function"> </span></span>{ $name = $request-&gt;getAttribute(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); $response-&gt;getBody()-&gt;write(<span class="hljs-string"><span class="hljs-string">"Hello, $name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response; }); $app-&gt;run();</code> </pre> <br><h3 id="middleware" style=";text-align:right;direction:rtl">  Ø§Ù„ÙˆØ³ÙŠØ·Ø© </h3><br><p style=";text-align:right;direction:rtl">  ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„ÙˆØ³ÙŠØ·Ø© Ø§Ù„Ø¢Ù† ØªÙ†ÙÙŠØ° PSR-15.  ÙƒØ§Ø³ØªØ«Ù†Ø§Ø¡ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙ…Ø±ÙŠØ± ÙˆØ¸Ø§Ø¦Ù ØŒ ÙˆÙ„ÙƒÙ† ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ·Ø§Ø¨Ù‚ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ù…Ø¹ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ <code>process()</code> Ø§Ù„Ø®Ø§Øµ <code>\Psr\Http\Server\MiddlewareInterface</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ServerRequestInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Message</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Server</span></span>\<span class="hljs-title"><span class="hljs-title">RequestHandlerInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;add(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ServerRequestInterface $request, RequestHandlerInterface $handler)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ResponseInterface</span></span></span><span class="hljs-function"> </span></span>{ $response = $handler-&gt;handle($request); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $response-&gt;withHeader(<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>, <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>); }); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ <code>($request, $response, $next)</code> Ù„Ù… ÙŠØ¹Ø¯ Ù…Ø¯Ø¹ÙˆÙ…Ù‹Ø§ </p><br><h3 id="kak-zhit-bez-nastroek" style=";text-align:right;direction:rtl">  ÙƒÙŠÙ ØªØ¹ÙŠØ´ Ù…Ù† Ø¯ÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŸ </h3><br><p style=";text-align:right;direction:rtl">  ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹ÙŠØ´ Ø¯ÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.  Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø³ÙˆÙ ØªØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ Ù‡Ø°Ø§. </p><br><p style=";text-align:right;direction:rtl">  <strong><code>httpVersion</code></strong> Ùˆ <strong><code>responseChunkSize</code></strong> </p><br><p style=";text-align:right;direction:rtl">  ÙƒØ§Ù† <code>httpVersion</code> Ù…Ø³Ø¤ÙˆÙ„Ø§Ù‹ Ø¹Ù† Ø¥Ø®Ø±Ø§Ø¬ Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©. <br>  ÙŠØ­Ø¯Ø¯ Ø¥Ø¹Ø¯Ø§Ø¯ <code>responseChunkSize</code> Ø­Ø¬Ù… ÙƒÙ„ Ù‚Ø·Ø¹Ø© ØªØªÙ… Ù‚Ø±Ø§Ø¡ØªÙ‡Ø§ Ù…Ù† Ù†Øµ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¹Ù†Ø¯ Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ¹Ø±Ø¶. </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ† ØªØ¹ÙŠÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø¥Ù„Ù‰ Ø¨Ø§Ø¹Ø« Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ø§ÙƒØªØ¨ Ø¨Ø§Ø¹Ø« </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// /src/ResponseEmitter.php namespace App; use Psr\Http\Message\ResponseInterface; use Slim\ResponseEmitter as SlimResponseEmitter; class ResponseEmitter extends SlimResponseEmitter { private $protocolVersion; public function __construct(string $protocolVersion = '1.1', int $responseChunkSize = 4096) { $this-&gt;protocolVersion = $protocolVersion; parent::__construct($responseChunkSize); } public function emit(ResponseInterface $response) : void{ parent::emit($response-&gt;withProtocolVersion($this-&gt;protocolVersion)); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù†Ø­Ù† Ù†ØªØµÙ„ Ø¨Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseEmitter</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $serverRequestFactory = \Slim\Factory\ServerRequestCreatorFactory::create(); $request = $serverRequestFactory-&gt;createServerRequestFromGlobals(); <span class="hljs-comment"><span class="hljs-comment">// ...     $response = $app-&gt;handle($request); $emitter = new ResponseEmitter('2.0', 4096); $emitter-&gt;emit($response);</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong><code>outputBuffering</code></strong> </p> <br><p style=";text-align:right;direction:rtl">  Ø³Ù…Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ØªØ´ØºÙŠÙ„ / Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬.  ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙŠÙ…: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>false</code> - ØªÙ… Ø¥ÙŠÙ‚Ø§Ù ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª (ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ <code>echo</code> ØŒ ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø¹Ø¨Ø§Ø±Ø§Øª <code>print</code> ). </li><li style=";text-align:right;direction:rtl">  <code>'append'</code> - ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ <code>echo</code> ØŒ ÙˆØªØ¶Ø§Ù Ø¨ÙŠØ§Ù†Ø§Øª <code>print</code> Ø¨Ø¹Ø¯ Ù‡ÙŠØ¦Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© </li><li style=";text-align:right;direction:rtl">  <code>'prepend'</code> - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ <code>echo</code> ØŒ ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª <code>print</code> Ù‚Ø¨Ù„ Ù‡ÙŠØ¦Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© </li></ul><br><p style=";text-align:right;direction:rtl">  ÙŠÙ‚ØªØ±Ø­ Ù…Ø·ÙˆØ±Ùˆ <code>\Slim\Middleware\OutputBufferingMiddleware</code> Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø®ÙŠØ§Ø± <code>\Slim\Middleware\OutputBufferingMiddleware</code> ØŒ ÙÙŠ Ù…ÙÙ†Ø´Ø¦ Ù…ÙÙ†Ø´Ø£Ø© Ù…ØµÙ†Ø¹ Ø¯ÙÙ‚ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ PSR-17 ÙˆÙˆØ¶Ø¹ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ø³Ø§ÙˆÙŠØ§Ù‹ <code>prepend</code> Ø£Ùˆ <code>prepend</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">Psr17</span></span>\<span class="hljs-title"><span class="hljs-title">SlimPsr17Factory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">OutputBufferingMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputBufferingMiddleware(SlimPsr17Factory::getStreamFactory(), OutputBufferingMiddleware::APPEND); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong><code>determineRouteBeforeAppMiddleware</code></strong> </p> <br><p style=";text-align:right;direction:rtl">  Ø£ØªØ§Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù† ÙƒØ§Ø¦Ù† Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ÙˆØ³ÙŠØ· </p><br><p style=";text-align:right;direction:rtl">  ÙŠØªÙ… ØªÙˆÙÙŠØ± Ø¨Ø¯ÙŠÙ„ <code>\Slim\Middleware\RoutingMiddleware</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">RoutingMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RoutingMiddleware($app-&gt;getRouteResolver()); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong><code>displayErrorDetails</code></strong> </p> <br><p style=";text-align:right;direction:rtl">  ÙŠØ³Ù…Ø­ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù„Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£.  Ø¹Ù†Ø¯ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØŒ ÙØ¥Ù†Ù‡ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø­ÙŠØ§Ø© Ø£Ø³Ù‡Ù„. </p><br><p style=";text-align:right;direction:rtl">  ØªØ°ÙƒØ± <code>\Slim\Middleware\ErrorMiddleware</code> ØŸ  Ù‡Ù†Ø§ Ø³ÙˆÙ ÙŠØ³Ø§Ø¹Ø¯Ù†Ø§! </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ErrorMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ErrorMiddleware( $app-&gt;getCallableResolver(), $app-&gt;getResponseFactory(), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">//        false, //   false //    ); $app-&gt;add($middleware); // ...     $app-&gt;run();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong><code>addContentLengthHeader</code></strong> </p> <br><p style=";text-align:right;direction:rtl">  ÙŠØ³Ù…Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ØªÙ…ÙƒÙŠÙ† / ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ø±Ø£Ø³ <code>Content-Length</code> Ù…Ø¹ Ù‚ÙŠÙ…Ø© Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù†Øµ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© </p><br><p style=";text-align:right;direction:rtl">  ÙŠØ³ØªØ¨Ø¯Ù„ Ø®ÙŠØ§Ø± Ø§Ù„ÙˆØ³ÙŠØ·Ø© <code>\Slim\Middleware\ContentLengthMiddleware</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Middleware</span></span>\<span class="hljs-title"><span class="hljs-title">ContentLengthMiddleware</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $middleware = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ContentLengthMiddleware(); $app-&gt;add($middleware); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> <strong><code>routerCacheFile</code></strong> </p> <br><p style=";text-align:right;direction:rtl">  ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ«Ø¨ÙŠØª Ù…Ù„Ù Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹ </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Slim</span></span>\<span class="hljs-title"><span class="hljs-title">Factory</span></span>\<span class="hljs-title"><span class="hljs-title">AppFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'vendor/autoload.php'</span></span>; $app = AppFactory::create(); $app-&gt;getRouteCollector()-&gt;setCacheFile(<span class="hljs-string"><span class="hljs-string">'/path/to/cache/router.php'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// ...     $app-&gt;run();</span></span></code> </pre> <br><h2 id="sozdanie-prilozheniya-na-slim-4" style=";text-align:right;direction:rtl">  Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Slim-4 </h2><br><p style=";text-align:right;direction:rtl">  Ù„Ø¥Ù„Ù‚Ø§Ø¡ Ù†Ø¸Ø±Ø© ÙØ§Ø­ØµØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ø§Ø± ØŒ Ø³Ù†Ù‚ÙˆÙ… Ø¨ÙƒØªØ§Ø¨Ø© Ø·Ù„Ø¨ ØµØºÙŠØ±. </p><br><p style=";text-align:right;direction:rtl">  Ø³ÙŠÙƒÙˆÙ† Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„ØªØ§Ù„ÙŠØ©: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>/hello/{name}</code> - ØµÙØ­Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø› </li><li style=";text-align:right;direction:rtl">  <code>/</code> - Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© <code>/hello/world</code> </li><li style=";text-align:right;direction:rtl">  Ø³ØªÙØ±Ø¬Ø¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ ØµÙØ­Ø© Ù…Ø®ØµØµØ© Ø¨Ù‡Ø§ 404 Ø£Ø®Ø·Ø§Ø¡. </li></ul><br><p style=";text-align:right;direction:rtl">  Ø³ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù†Ø·Ù‚ ÙÙŠ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… ØŒ ÙˆØ³ÙˆÙ Ù†Ù‚Ø¯Ù… Ø§Ù„ØµÙØ­Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø­Ø±Ùƒ Ù‚Ø§Ù„Ø¨ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØºØµÙŠÙ†</a> <br>  ÙƒÙ…ÙƒØ§ÙØ£Ø© ØŒ Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ø³ØªÙ†Ø§Ø¯Ù‹Ø§ Ø¥Ù„Ù‰ Ù…ÙƒÙˆÙ† Symfony <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Console</a> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù…Ø± ÙŠØ¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª </p><br><h3 id="shag-0-ustanovka-zavisimostey" style=";text-align:right;direction:rtl">  Ø§Ù„Ø®Ø·ÙˆØ© 0. ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª </h3><br><p style=";text-align:right;direction:rtl">  Ø³Ù†Ø­ØªØ§Ø¬: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  microframeworkØŒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù†Ø­ÙŠÙ / Ù†Ø­ÙŠÙ</a> Ø› </li><li style=";text-align:right;direction:rtl">  ØªÙ†ÙÙŠØ° ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© (PSR-11) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">psr / Ø­Ø§ÙˆÙŠØ©</a> Ø› </li><li style=";text-align:right;direction:rtl">  ØªÙ†ÙÙŠØ° ÙˆØ§Ø¬Ù‡Ø§Øª http-message (PSR-7) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://packagist.org/packages/psr/">psr / http-message</a> Ø› </li><li style=";text-align:right;direction:rtl">  ØªÙ†ÙÙŠØ° ÙˆØ§Ø¬Ù‡Ø§Øª Ù…ØµÙ†Ø¹ http-message (PSR-17) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://packagist.org/packages/psr/">psr / http-factory</a> Ø› </li><li style=";text-align:right;direction:rtl">  Ù‚Ø§Ù„Ø¨ Ù…Ø­Ø±Ùƒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØºØµÙŠÙ† / ØºØµÙŠÙ†</a> . </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">symfony / ÙˆØ­Ø¯Ø©</a> Ø§Ù„ØªØ­ÙƒÙ… ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ø¯Ø©. </li></ul><br><p style=";text-align:right;direction:rtl">  Ù„Ù‚Ø¯ Ø§Ø®ØªØ±Øª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙØ§Ø¦Ù‚Ø© Ø§Ù„Ø­Ø§ÙˆÙŠØ© / Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙƒØ­Ø§ÙˆÙŠØ©</a> ØªØ¨Ø¹ÙŠØ© ØŒ ÙˆØ®ÙÙŠÙØ© Ø§Ù„ÙˆØ²Ù† ÙˆÙ…ÙˆØ¬Ø²Ø© ÙˆÙ…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¹ÙŠØ§Ø±. <br>  ÙŠÙˆÙØ± Ù…Ø·ÙˆØ±Ùˆ PSR-7 Ùˆ PSR-Slim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¶Ø¦ÙŠÙ„Ø© / Ø¶Ø¦ÙŠÙ„Ø© psr7</a> ÙÙŠ Ø­Ø²Ù…Ø© ÙˆØ§Ø­Ø¯Ø©.  Ø³ÙˆÙ Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§ </p><br><blockquote style=";text-align:right;direction:rtl">  Ù…Ù† Ø§Ù„Ù…ÙØªØ±Ø¶ Ø£Ù† Ù…Ø¯ÙŠØ± Ø­Ø²Ù…Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Composer</a> Ù…Ø«Ø¨Øª Ø¨Ø§Ù„ÙØ¹Ù„. </blockquote><p style=";text-align:right;direction:rtl">  Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ (Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… <code>/path/to/project</code> ÙƒÙ…Ø«Ø§Ù„) ÙˆØ§Ù†ØªÙ‚Ù„ Ø¥Ù„ÙŠÙ‡. </p><br><p style=";text-align:right;direction:rtl">  Ø£Ø¶Ù Ù…Ù„Ù <code>composer.json</code> Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"php"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=7.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slim/slim"</span></span>: <span class="hljs-string"><span class="hljs-string">"4.0.0-beta"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slim/psr7"</span></span>: <span class="hljs-string"><span class="hljs-string">"~0.3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ultra-lite/container"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"symfony/console"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"twig/twig"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.10"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"autoload"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"psr-4"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"App\\"</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span> } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø± </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">composer install</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† Ù„Ø¯ÙŠÙ†Ø§ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù„Ø§Ø²Ù…Ø© ÙˆÙŠØªÙ… ØªÙƒÙˆÙŠÙ† autoloader Ø§Ù„Ø·Ø¨Ù‚Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ Ø¹Ù…Ù„Ù†Ø§ Ù…Ø¹ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">git</a> ØŒ ÙØ£Ø¶Ù Ù…Ù„Ù <code>.gitignore</code> ÙˆØ£Ø¶Ù Ø¯Ù„ÙŠÙ„ <code>vendor</code> Ù‡Ù†Ø§Ùƒ (ÙˆØ¯Ù„ÙŠÙ„ IDE Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±) </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/.idea/* /vendor/*</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø£Ù†Ø§ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø£Ø³ØªØ®Ø¯Ù…</a> IDE <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PhpStorm</a> <del>  Ùˆ ÙØ®ÙˆØ± Ø¨Ù‡ </del>  .  Ù„ØªØ·ÙˆÙŠØ± Ù…Ø±ÙŠØ­ ØŒ Ø­Ø§Ù† Ø§Ù„ÙˆÙ‚Øª Ù„ØªÙƒÙˆÙŠÙ† ØµØ¯Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ùˆ IDE. <br>  ÙÙŠ Ø¬Ø°Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù <code>.phpstorm.meta.php</code> ÙˆØ§ÙƒØªØ¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù‡Ù†Ø§Ùƒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// .phpstorm.meta.php namespace PHPSTORM_META { override( \Psr\Container\ContainerInterface::get(0), map([ '' =&gt; '@', ]) ); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>\Psr\Container\ContainerInterface</code> Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² IDE Ø¨Ø£Ù†Ù‡ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙƒØ§Ø¦Ù† ÙŠÙ‚ÙˆÙ… Ø¨ØªØ·Ø¨ÙŠÙ‚ <code>\Psr\Container\ContainerInterface</code> ØŒ Ø³ØªÙØ±Ø¬Ø¹ Ø·Ø±ÙŠÙ‚Ø© <code>get()</code> ÙƒØ§Ø¦Ù† ÙØ¦Ø© Ø£Ùˆ ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø¬Ù‡Ø© ÙŠØªÙ… ØªÙ…Ø±ÙŠØ± Ø§Ø³Ù…Ù‡ ÙÙŠ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©. </p><br><h3 id="shag-1-karkas-prilozheniya" style=";text-align:right;direction:rtl">  Ø§Ù„Ø®Ø·ÙˆØ© 1. Ø¥Ø·Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ </h3><br><p style=";text-align:right;direction:rtl">  Ø£Ø¶Ù Ø§Ù„Ø¯Ù„Ø§Ø¦Ù„: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>app</code> - Ø±Ù…Ø² Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.  Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªÙˆØµÙŠÙ„ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù†Ø§ Ø¥Ù„Ù‰ autoloader Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ø§ Ø› </li><li style=";text-align:right;direction:rtl">  <code>bin</code> - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…Ø› </li><li style=";text-align:right;direction:rtl">  <code>config</code> - Ù‡Ù†Ø§ Ø³ØªÙƒÙˆÙ† Ù…Ù„ÙØ§Øª ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø› </li><li style=";text-align:right;direction:rtl">  <code>public</code> - Ø¯Ù„ÙŠÙ„ ØªÙ… ÙØªØ­Ù‡ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙŠØ¨ (Ù†Ù‚Ø·Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØŒ Ø§Ù„Ø£Ù†Ù…Ø§Ø· ØŒ js ØŒ Ø§Ù„ØµÙˆØ± ØŒ Ø¥Ù„Ø®) Ø› </li><li style=";text-align:right;direction:rtl">  Ø¯Ù„ÙŠÙ„ <code>template</code> Ø› </li><li style=";text-align:right;direction:rtl">  <code>var</code> Ù‡Ùˆ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù„Ù…Ø®ØªÙ„Ù Ø§Ù„Ù…Ù„ÙØ§Øª.  Ø§Ù„Ø³Ø¬Ù„Ø§Øª ØŒ Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª ØŒ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ ØŒ Ø¥Ù„Ø®. </li></ul><br><p style=";text-align:right;direction:rtl">  ÙˆØ§Ù„Ù…Ù„ÙØ§Øª: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>config/app.ini</code> - ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø› </li><li style=";text-align:right;direction:rtl">  <code>config/app.local.ini</code> - Ø§Ù„ØªÙƒÙˆÙŠÙ† Ù„Ù„Ø¨ÙŠØ¦Ø© <code>local</code> Ø› </li><li style=";text-align:right;direction:rtl">  <code>app/Support/CommandMap.php</code> - ØªØ¹ÙŠÙŠÙ† Ø£ÙˆØ§Ù…Ø± ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØ³ÙˆÙ„. </li><li style=";text-align:right;direction:rtl">  <code>app/Support/Config.php</code> - ÙØ¦Ø© Ø§Ù„ØªÙƒÙˆÙŠÙ† (Ø­ØªÙ‰ ÙŠØ¹Ø±Ù IDE Ø§Ù„ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙ†Ø§). </li><li style=";text-align:right;direction:rtl">  <code>app/Support/NotFoundHandler.php</code> - 404 ÙØ¦Ø© Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡. </li><li style=";text-align:right;direction:rtl">  <code>app/Support/ServiceProviderInterface.php</code> - ÙˆØ§Ø¬Ù‡Ø© Ù…Ø²ÙˆØ¯ Ø§Ù„Ø®Ø¯Ù…Ø©. </li><li style=";text-align:right;direction:rtl">  <code>app/Provider/AppProvider.php</code> - Ø§Ù„Ù…Ø²ÙˆØ¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚. </li><li style=";text-align:right;direction:rtl">  <code>bootstrap.php</code> - ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø› </li><li style=";text-align:right;direction:rtl">  <code>bin/console</code> - Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø› </li><li style=";text-align:right;direction:rtl">  <code>public/index.php</code> - Ù†Ù‚Ø·Ø© Ø¥Ø¯Ø®Ø§Ù„ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆÙŠØ¨. </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªÙƒÙˆÙŠÙ† / app.ini</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">;   slim.debug=Off ;   templates.dir=template ;   templates.cache=var/cache/template</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">config / app.local.ini</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">;        .       ;        slim.debug=On ;       templates.cache=</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø£ÙˆÙ‡ Ù†Ø¹Ù… ØŒ Ù„Ø§ ÙŠØ²Ø§Ù„ Ù…Ù† Ø§Ù„Ø¬ÙŠØ¯ Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ ØªÙƒÙˆÙŠÙ†Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹.  Ø¨Ø¹Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ ØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø¸Ø§Ù‡Ø± / ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±.  ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ø£ÙŠØ¶Ù‹Ø§. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">.gitignore</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">/.idea/* /config/* /vendor/* /var/cache/* !/config/app.ini !/var/cache/.gitkeep</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ø¯Ø¹Ù… / CommandMap.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/CommandMap.php namespace App\Support; class CommandMap { /** *  .   =&gt;    * @var string[] */ private $map = []; public function set(string $name, string $value) { $this-&gt;map[$name] = $value; } /** * @return string[] */ public function getMap() { return $this-&gt;map; } }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ø¯Ø¹Ù… / Config.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/Config.php namespace App\Support; class Config { /** * @var string[] */ private $config = []; public function __construct(string $dir, string $env, string $root) { if (!is_dir($dir)) return; /* *    */ $config = (array)parse_ini_file($dir . DIRECTORY_SEPARATOR . 'app.ini', false); /* *      */ $environmentConfigFile = $dir . DIRECTORY_SEPARATOR . 'app.' . $env . '.ini'; if (is_readable($environmentConfigFile)) { $config = array_replace_recursive($config, (array)parse_ini_file($environmentConfigFile, false)); } /* * ,      */ $dirs = ['templates.dir', 'templates.cache']; foreach ($config as $name=&gt;$value) { $this-&gt;config[$name] = $value; } /* *      */ foreach ($dirs as $parameter) { $value = $config[$parameter]; if (mb_strpos($value, '/') === 0) { continue; } if (empty($value)) { $this-&gt;config[$parameter] = null; continue; } $this-&gt;config[$parameter] = $root . DIRECTORY_SEPARATOR . $value; } } public function get(string $name) { return array_key_exists($name, $this-&gt;config) ? $this-&gt;config[$name] : null; } }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ø¯Ø¹Ù… / NotFoundHandler.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/NotFoundHandler.php namespace App\Support; use Psr\Http\Message\ResponseFactoryInterface; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\ErrorHandlerInterface; use Throwable; class NotFoundHandler implements ErrorHandlerInterface { private $factory; public function __construct(ResponseFactoryInterface $factory) { $this-&gt;factory = $factory; } /** * @param ServerRequestInterface $request * @param Throwable $exception * @param bool $displayErrorDetails * @param bool $logErrors * @param bool $logErrorDetails * @return ResponseInterface */ public function __invoke(ServerRequestInterface $request, Throwable $exception, bool $displayErrorDetails, bool $logErrors, bool $logErrorDetails): ResponseInterface { $response = $this-&gt;factory-&gt;createResponse(404); return $response; } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ù„ÙŠÙ… PhpStorm Ù„ÙÙ‡Ù… Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ÙˆÙ†ÙˆØ¹Ù‡Ø§. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">.phpstorm.meta.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// .phpstorm.meta.php namespace PHPSTORM_META { override( \Psr\Container\ContainerInterface::get(0), map([ '' =&gt; '@', ]) ); override( \App\Support\Config::get(0), map([ 'slim.debug' =&gt; 'bool', 'templates.dir' =&gt; 'string|false', 'templates.cache' =&gt; 'string|false', ]) ); }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ø¯Ø¹Ù… / ServiceProviderInterface.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Support/ServiceProviderInterface.php namespace App\Support; use UltraLite\Container\Container; interface ServiceProviderInterface { public function register(Container $container); }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ù…Ù‚Ø¯Ù… / AppProvider.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/AppProvider.php namespace App\Provider; use App\Support\CommandMap; use App\Support\Config; use App\Support\NotFoundHandler; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Psr\Http\Message\ResponseFactoryInterface; use Slim\CallableResolver; use Slim\Exception\HttpNotFoundException; use Slim\Interfaces\CallableResolverInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteResolverInterface; use Slim\Middleware\ErrorMiddleware; use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ResponseFactory; use Slim\Routing\RouteCollector; use Slim\Routing\RouteResolver; use UltraLite\Container\Container; class AppProvider implements ServiceProviderInterface { public function register(Container $container) { /* *     */ $container-&gt;set(CommandMap::class, function () { return new CommandMap(); }); /* *   http- */ $container-&gt;set(ResponseFactory::class, function () { return new ResponseFactory(); }); /* *    http-   */ $container-&gt;set(ResponseFactoryInterface::class, function (ContainerInterface $container) { return $container-&gt;get(ResponseFactory::class); }); /* *     */ $container-&gt;set(CallableResolver::class, function (ContainerInterface $container) { return new CallableResolver($container); }); /* *        */ $container-&gt;set(CallableResolverInterface::class, function (ContainerInterface $container) { return $container-&gt;get(CallableResolver::class); }); /* *   */ $container-&gt;set(RouteCollector::class, function (ContainerInterface $container) { $router = new RouteCollector( $container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(CallableResolverInterface::class), $container ); return $router; }); /* *      */ $container-&gt;set(RouteCollectorInterface::class, function (ContainerInterface $container) { return $container-&gt;get(RouteCollector::class); }); /* *     */ $container-&gt;set(RouteResolver::class, function (ContainerInterface $container) { return new RouteResolver($container-&gt;get(RouteCollectorInterface::class)); }); /* *        */ $container-&gt;set(RouteResolverInterface::class, function (ContainerInterface $container) { return $container-&gt;get(RouteResolver::class); }); /* *    404 */ $container-&gt;set(NotFoundHandler::class, function (ContainerInterface $container) { return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class)); }); /* *  middleware   */ $container-&gt;set(ErrorMiddleware::class, function (ContainerInterface $container) { $middleware = new ErrorMiddleware( $container-&gt;get(CallableResolverInterface::class), $container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(Config::class)-&gt;get('slim.debug'), true, true); $middleware-&gt;setErrorHandler(HttpNotFoundException::class, $container-&gt;get(NotFoundHandler::class)); return $middleware; }); /* *  middleware  */ $container-&gt;set(RoutingMiddleware::class, function (ContainerInterface $container) { return new RoutingMiddleware($container-&gt;get(RouteResolverInterface::class)); }); } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù„Ù‚Ø¯ Ù†Ù‚Ù„Ù†Ø§ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø­ØªÙ‰ Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹Ù‡Ø§ Ø¯ÙˆÙ† ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙƒØ§Ø¦Ù† <code>\Slim\App</code> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php require_once __DIR__ . DIRECTORY_SEPARATOR . 'vendor' . DIRECTORY_SEPARATOR . 'autoload.php'; use App\Support\ServiceProviderInterface; use App\Provider\AppProvider; use App\Support\Config; use UltraLite\Container\Container; /* *   */ $env = getenv('APP_ENV'); if (!$env) $env = 'local'; /* *   */ $config = new Config(__DIR__ . DIRECTORY_SEPARATOR . 'config', $env, __DIR__); /* *  - */ $providers = [ AppProvider::class, ]; /* *    */ $container = new Container([ Config::class =&gt; function () use ($config) { return $config;}, ]); /* *   */ foreach ($providers as $className) { if (!class_exists($className)) { /** @noinspection PhpUnhandledExceptionInspection */ throw new Exception('Provider ' . $className . ' not found'); } $provider = new $className; if (!$provider instanceof ServiceProviderInterface) { /** @noinspection PhpUnhandledExceptionInspection */ throw new Exception($className . ' has not provider'); } $provider-&gt;register($container); } /* *   */ return $container;</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø¨Ù† / ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env php &lt;?php // bin/console use App\Support\CommandMap; use Psr\Container\ContainerInterface; use Symfony\Component\Console\Application; use Symfony\Component\Console\CommandLoader\ContainerCommandLoader; use Symfony\Component\Console\Input\ArgvInput; use Symfony\Component\Console\Output\ConsoleOutput; /** @var ContainerInterface $container */ $container = require dirname(__DIR__) . DIRECTORY_SEPARATOR . 'bootstrap.php'; $loader = new ContainerCommandLoader($container, $container-&gt;get(CommandMap::class)-&gt;getMap()); $app = new Application(); $app-&gt;setCommandLoader($loader); /** @noinspection PhpUnhandledExceptionInspection */ $app-&gt;run(new ArgvInput(), new ConsoleOutput());</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­Ø³Ù† Ø¥Ø¹Ø·Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ø­Ù‚ÙˆÙ‚ Ø§Ù„ØªÙ†ÙÙŠØ° </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">chmod +x ./bin/console</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">public / index.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// public/index.php use Psr\Container\ContainerInterface; use Psr\Http\Message\ResponseFactoryInterface; use Slim\App; use Slim\Interfaces\CallableResolverInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteResolverInterface; use Slim\Middleware\ErrorMiddleware; use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ServerRequestFactory; /** @var ContainerInterface $container */ $container = require dirname(__DIR__) . DIRECTORY_SEPARATOR . 'bootstrap.php'; $request = ServerRequestFactory::createFromGlobals(); Slim\Factory\AppFactory::create(); $app = new App( $container-&gt;get(ResponseFactoryInterface::class), $container, $container-&gt;get(CallableResolverInterface::class), $container-&gt;get(RouteCollectorInterface::class), $container-&gt;get(RouteResolverInterface::class) ); $app-&gt;add($container-&gt;get(RoutingMiddleware::class)); $app-&gt;add($container-&gt;get(ErrorMiddleware::class)); $app-&gt;run($request);</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ØªØ­Ù‚Ù‚. <br>  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">./bin/console</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ø°Ù„Ùƒ ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…ÙƒÙˆÙ† <code>symfony/console</code> Ù…Ø¹ Ø£Ù…Ø±ÙŠÙ† Ù…ØªØ§Ø­ÙŠÙ† - <code>help</code> <code>list</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Console Tool Usage: command [options] [arguments] Options: -h, --help Display this help message -q, --quiet Do not output any message -V, --version Display this application version --ansi Force ANSI output --no-ansi Disable ANSI output -n, --no-interaction Do not ask any interactive question -v|vv|vvv, --verbose Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug Available commands: help Displays help for a command list Lists commands</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† Ø§Ø¨Ø¯Ø£ Ø®Ø§Ø¯Ù… Ø§Ù„ÙˆÙŠØ¨. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">php -S localhost:8080 -t public public/index.php</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙØªØ­ Ø£ÙŠ Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¶ÙŠÙ Ø§Ù„Ù…Ø­Ù„ÙŠ: 8080. <br>  ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ø¬Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¨Ø§Ù„ÙƒÙˆØ¯ <code>404</code> ÙØ§Ø±Øº. <br>  ÙŠØ­Ø¯Ø« Ù‡Ø°Ø§ Ù„Ø£Ù†Ù‡ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ†Ø§ Ø·Ø±Ù‚ Ù…Ø¯Ø±Ø¬Ø©. </p><br><p style=";text-align:right;direction:rtl">  ÙŠØ¨Ù‚Ù‰ Ù„Ù†Ø§ Ø£Ù† Ù†Ø±Ø¨Ø· Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… ØŒ ÙˆÙƒØªØ§Ø¨Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ ØŒ ÙˆØ£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø·Ø±Ù‚. </p><br><h3 id="shag-2-render" style=";text-align:right;direction:rtl">  Ø§Ù„Ø®Ø·ÙˆØ© 2. ØªÙ‚Ø¯ÙŠÙ… </h3><br><p style=";text-align:right;direction:rtl">  Ø£Ø¶Ù Ù‚Ø§Ù„Ø¨ <code>template/layout.twig</code> .  Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù‚Ø§Ù„Ø¨ / layout.twig</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{# template/layout.twig #} &lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;title&gt;{% block title %}Slim demo{% endblock %}&lt;/title&gt; &lt;/head&gt; &lt;body&gt; {% block content %}{% endblock %} &lt;/body&gt; &lt;/html&gt;</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø¥Ø¶Ø§ÙØ© <code>template/hello.twig</code> ØµÙØ­Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ <code>template/hello.twig</code> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù‚Ø§Ù„Ø¨ / hello.twig</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{# template/hello.twig #} {% extends 'layout.twig' %} {% block title %}Slim demo::hello, {{ name }}{% endblock %} {% block content %} &lt;h1&gt;Welcome!&lt;/h1&gt; &lt;p&gt;Hello, {{ name }}!&lt;/p&gt; {% endblock %}</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  <code>template/err404.twig</code> ØµÙØ­Ø© Ø®Ø·Ø£ <code>template/err404.twig</code> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ù‚Ø§Ù„Ø¨ / err404.twig</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{# template/err404.twig #} {% extends 'layout.twig' %} {% block title %}Slim demo::not found{% endblock %} {% block content %} &lt;h1&gt;Error!&lt;/h1&gt; &lt;p&gt;Page not found =(&lt;/p&gt; {% endblock %}</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø£Ø¶Ù <code>app/Provider/RenderProvider.php</code> Ù…ÙˆÙØ± Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… <code>app/Provider/RenderProvider.php</code> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ù…Ù‚Ø¯Ù… / RenderProvider.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/RenderProvider.php namespace App\Provider; use App\Support\Config; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Twig\Environment; use Twig\Loader\FilesystemLoader; use UltraLite\Container\Container; class RenderProvider implements ServiceProviderInterface { public function register(Container $container) { $container-&gt;set(Environment::class, function (ContainerInterface $container) { $config = $container-&gt;get(Config::class); $loader = new FilesystemLoader($config-&gt;get('templates.dir')); $cache = $config-&gt;get('templates.cache'); $options = [ 'cache' =&gt; empty($cache) ? false : $cache, ]; $twig = new Environment($loader, $options); return $twig; }); } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙØ± ÙÙŠ bootstrap </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\RenderProvider; // ... $providers = [ // ... RenderProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  Ø£Ø¶Ù ØªØ¬Ø³ÙŠØ¯Ù‹Ø§ Ø¥Ù„Ù‰ Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ 404 </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ø¯Ø¹Ù… / NotFoundHandler.php (Ù…Ù‡Ø±Ø¬Ø§Ù† Ø¯Ø¨ÙŠ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ Ø§Ù„Ø¯ÙˆÙ„ÙŠ)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- a/app/Support/NotFoundHandler.php +++ b/app/Support/NotFoundHandler.php @@ -8,15 +8,22 @@ use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\ErrorHandlerInterface; use Throwable; +use Twig\Environment; +use Twig\Error\LoaderError; +use Twig\Error\RuntimeError; +use Twig\Error\SyntaxError; class NotFoundHandler implements ErrorHandlerInterface { private $factory; - public function __construct(ResponseFactoryInterface $factory) + private $render; + + public function __construct(ResponseFactoryInterface $factory, Environment $render) { $this-&gt;factory = $factory; + $this-&gt;render = $render; } /** @@ -26,10 +33,14 @@ class NotFoundHandler implements ErrorHandlerInterface * @param bool $logErrors * @param bool $logErrorDetails * @return ResponseInterface + * @throws LoaderError + * @throws RuntimeError + * @throws SyntaxError */ public function __invoke(ServerRequestInterface $request, Throwable $exception, bool $displayErrorDetails, bool $logErrors, bool $logErrorDetails): ResponseInterface { $response = $this-&gt;factory-&gt;createResponse(404); + $response-&gt;getBody()-&gt;write($this-&gt;render-&gt;render('err404.twig')); return $response; } }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ù…Ø²ÙˆØ¯ / AppProvider.php (Ù…Ù‡Ø±Ø¬Ø§Ù† Ø¯Ø¨ÙŠ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ Ø§Ù„Ø¯ÙˆÙ„ÙŠ)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- a/app/Provider/AppProvider.php +++ b/app/Provider/AppProvider.php @@ -19,6 +19,7 @@ use Slim\Middleware\RoutingMiddleware; use Slim\Psr7\Factory\ResponseFactory; use Slim\Routing\RouteCollector; use Slim\Routing\RouteResolver; +use Twig\Environment; use UltraLite\Container\Container; class AppProvider implements ServiceProviderInterface @@ -99,7 +100,7 @@ class AppProvider implements ServiceProviderInterface *    404 */ $container-&gt;set(NotFoundHandler::class, function (ContainerInterface $container) { - return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class)); + return new NotFoundHandler($container-&gt;get(ResponseFactoryInterface::class), $container-&gt;get(Environment::class)); }); /*</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">   404   . </p><br><h3 id="shag-3-kontrollery" style=";text-align:right;direction:rtl">  3.  </h3><br><p style=";text-align:right;direction:rtl">      <br>     2: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>app/Controller/HomeController.php</code> â€”   </li><li style=";text-align:right;direction:rtl"> <code>app/Controller/HelloController.php</code> â€”   </li></ul><br><p style=";text-align:right;direction:rtl">        (  URL ),     â€”  (  html) </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">app/Controller/HomeController.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Controller/HomeController.php namespace App\Controller; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Slim\Interfaces\RouteParserInterface; class HomeController { /** * @var RouteParserInterface */ private $router; public function __construct(RouteParserInterface $router) { $this-&gt;router = $router; } public function index(ServerRequestInterface $request, ResponseInterface $response) { $uri = $this-&gt;router-&gt;fullUrlFor($request-&gt;getUri(), 'hello', ['name' =&gt; 'world']); return $response -&gt;withStatus(301) -&gt;withHeader('location', $uri); } }</span></span></code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">app/Controller/HelloController.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Controller/HelloController.php namespace App\Controller; use Psr\Http\Message\ResponseInterface; use Psr\Http\Message\ServerRequestInterface; use Twig\Environment as Render; use Twig\Error\LoaderError; use Twig\Error\RuntimeError; use Twig\Error\SyntaxError; class HelloController { /** * @var Render */ private $render; public function __construct(Render $render) { $this-&gt;render = $render; } /** * @param ServerRequestInterface $request * @param ResponseInterface $response * @return ResponseInterface * @throws LoaderError * @throws RuntimeError * @throws SyntaxError */ public function show(ServerRequestInterface $request, ResponseInterface $response) { $response-&gt;getBody()-&gt;write($this-&gt;render-&gt;render('hello.twig', ['name' =&gt; $request-&gt;getAttribute('name')])); return $response; } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ,   </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">app/Provider/WebProvider.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/WebProvider.php namespace App\Provider; use App\Controller\HelloController; use App\Controller\HomeController; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Slim\Interfaces\RouteCollectorInterface; use Slim\Interfaces\RouteCollectorProxyInterface; use Twig\Environment; use UltraLite\Container\Container; class WebProvider implements ServiceProviderInterface { public function register(Container $container) { /* *   */ $container-&gt;set(HomeController::class, function (ContainerInterface $container) { return new HomeController($container-&gt;get(RouteCollectorInterface::class)-&gt;getRouteParser()); }); $container-&gt;set(HelloController::class, function (ContainerInterface $container) { return new HelloController($container-&gt;get(Environment::class)); }); /* *   */ $router = $container-&gt;get(RouteCollectorInterface::class); $router-&gt;group('/', function(RouteCollectorProxyInterface $router) { $router-&gt;get('', HomeController::class . ':index')-&gt;setName('index'); $router-&gt;get('hello/{name}', HelloController::class . ':show')-&gt;setName('hello'); }); } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">       </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\WebProvider; // ... $providers = [ // ... WebProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">    - ( )... </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">php -S localhost:8080 -t public public/index.php</code> </pre> <br><p style=";text-align:right;direction:rtl"> â€¦    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://localhost:8080</a>  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://localhost:8080/hello/world</a> </p><br><p style=";text-align:right;direction:rtl">     world'. <br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://localhost:8080/hello/ivan</a>    ivan'. </p><br><p style=";text-align:right;direction:rtl">  , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://localhost:8080/helo/world</a>       404 . </p><br><h3 id="shag-4-konsolnaya-komanda" style=";text-align:right;direction:rtl">  4.   </h3><br><p style=";text-align:right;direction:rtl">   <code>route:list</code> </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">app/Command/RouteListCommand.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Command/RouteListCommand.php namespace App\Command; use Slim\Interfaces\RouteCollectorInterface; use Symfony\Component\Console\Command\Command; use Symfony\Component\Console\Input\InputInterface; use Symfony\Component\Console\Output\OutputInterface; use Symfony\Component\Console\Style\SymfonyStyle; class RouteListCommand extends Command { /* *    ,        */ const NAME = 'route:list'; /** * @var RouteCollectorInterface */ private $router; public function __construct(RouteCollectorInterface $router) { $this-&gt;router = $router; parent::__construct(); } protected function configure() { $this-&gt;setName(self::NAME) -&gt;setDescription('List of routes.') -&gt;setHelp('List of routes.') ; } protected function execute(InputInterface $input, OutputInterface $output) { $io = new SymfonyStyle($input, $output); $io-&gt;title('Routes'); $rows = []; $routes = $this-&gt;router-&gt;getRoutes(); if (!$routes) { $io-&gt;text('Routes list is empty'); return 0; } foreach ($routes as $route) { $rows[] = [ 'path' =&gt; $route-&gt;getPattern(), 'methods' =&gt; implode(', ', $route-&gt;getMethods()), 'name' =&gt; $route-&gt;getName(), 'handler' =&gt; $route-&gt;getCallable(), ]; } $io-&gt;table( ['Route', 'Methods', 'Name', 'Handler'], $rows ); return 0; } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">   ,           </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">app/Provider/CommandProvider.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// app/Provider/CommandProvider.php namespace App\Provider; use App\Command\RouteListCommand; use App\Support\CommandMap; use App\Support\ServiceProviderInterface; use Psr\Container\ContainerInterface; use Slim\Interfaces\RouteCollectorInterface; use UltraLite\Container\Container; class CommandProvider implements ServiceProviderInterface { public function register(Container $container) { /* *       */ $container-&gt;set(RouteListCommand::class, function (ContainerInterface $container) { return new RouteListCommand($container-&gt;get(RouteCollectorInterface::class)); }); /* *        */ $container-&gt;get(CommandMap::class)-&gt;set(RouteListCommand::NAME, RouteListCommand::class); } }</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">    </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">bootstrap.php</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// bootstrap.php // ... use App\Provider\CommandProvider; // ... $providers = [ // ... CommandProvider::class, // ... ]; // ...</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">     ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">./bin/console route:list</code> </pre> <br><p style=";text-align:right;direction:rtl"> â€¦    : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Routes ====== --------------- --------- ------- ------------------------------------- Route Methods Name Handler --------------- --------- ------- ------------------------------------- / GET index App\Controller\HomeController:index /hello/{name} GET hello App\Controller\HelloController:show --------------- --------- ------- -------------------------------------</code> </pre> <br><p style=";text-align:right;direction:rtl"> , ,  ! </p><br><p style=";text-align:right;direction:rtl">    , Slim â€”         <code>routes.php</code> (   ),        .  â€”     ,   ,   . </p><br><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">     </a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452834/">https://habr.com/ru/post/ar452834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452824/index.html">Ø¹Ø´Ø±Ø§Øª Ø§Ù„Ø¢Ù„Ø§Ù Ù…Ù† Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª Ø´ÙØ§ÙØ© Ù…Ø«Ù„ Ø§Ù„Ø²Ø¬Ø§Ø¬: ÙƒØ´Ù Ø§Ù„ØªØ´Ø§Ø¨Ùƒ</a></li>
<li><a href="../ar452826/index.html">Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©. Ù…Ù† Ù…Ù‚Ø§Ø¨Ù„ Ø«Ù… - ÙƒÙŠÙÙŠØ© ÙÙ‡Ù… Ø£ÙŠ ÙƒÙ„Ù…Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a></li>
<li><a href="../ar452828/index.html">Ù…Ù‡Ù…Ø© Ù…Ø³ØªØ­ÙŠÙ„Ø©: ÙƒÙŠÙ ØªØµÙ†Ø¹ Ø£ÙˆÙ„ Ø­Ø¯Ø« ØªØ¬Ø§Ø±ÙŠ Ù„Ùƒ ÙÙŠ Ø¨Ù„Ø¯ Ø£Ø¬Ù†Ø¨ÙŠ</a></li>
<li><a href="../ar452830/index.html">Ø§Ù„Ø§Ù†ÙØ¬Ø§Ø± Ø§Ù„ÙƒØ¨ÙŠØ± Ø§Ù„Ø´Ø±Ø±</a></li>
<li><a href="../ar452832/index.html">Ø®Ø·Ø© ÙƒØ§Ù…Ù„Ø© Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù†Ø§Ø³Ø§ Ø§Ù„Ù‚Ù…Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ "Ø£Ø±ØªÙ…ÙŠØ³" (Ø£Ø±ØªÙ…ÙŠØ³)</a></li>
<li><a href="../ar452836/index.html">Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙˆÙŠØ¨ ØŒ Ø£Ùˆ Ù…Ù† Ø£ÙŠÙ† ØªØ¨Ø¯Ø£ Ø¨Ù†ØªØ³ØªØ±ØŸ</a></li>
<li><a href="../ar452838/index.html">ØªÙƒØ§Ù…Ù„ 3CX Ù…Ø¹ Office 365 Ù…Ù† Ø®Ù„Ø§Ù„ Azure API</a></li>
<li><a href="../ar452840/index.html">Ù…Ø¤ØªÙ…Ø± Ø¥Ù… ÙˆÙŠØ± Ø¥Ù…Ø¨Ø§ÙˆØ± 2019: ÙƒÙŠÙ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„</a></li>
<li><a href="../ar452842/index.html">SMPP - Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù‚ØµÙŠØ±Ø© Ù…Ù† Ù†Ø¸ÙŠØ± Ø¥Ù„Ù‰ Ù†Ø¸ÙŠØ±</a></li>
<li><a href="../ar452844/index.html">Ø§Ù„ØªØ­ÙˆÙ„ Ø£Ùˆ Ø§Ù„Ø£Ù„ÙØ§Ø¸ Ø§Ù„Ù†Ø§Ø¨ÙŠØ©: ÙƒÙŠÙÙŠØ© "Ø±Ù‚Ù…Ù†Ø©" Ù…Ø´ØºÙ„ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>