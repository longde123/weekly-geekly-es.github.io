<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍💻 👩🏻‍🍳 ⏮️ Bagaimana kami mengembangkan IT di Leroy Merlin: membangun kembali sebuah mesin saat bepergian 👨‍👨‍👧‍👧 🕵🏼 🈹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Empat tahun lalu, basis pelanggan dipertahankan secara terpisah di setiap toko, ditambah yang lain di situs. 

 Dalam seri sebelumnya: tiga tahun lalu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana kami mengembangkan IT di Leroy Merlin: membangun kembali sebuah mesin saat bepergian</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/leroy_merlin/blog/457466/"><img src="https://habrastorage.org/webt/cy/-z/2f/cy-z2fzscbxzwe8sybjnsqkg7j8.jpeg"><br><br>  Empat tahun lalu, basis pelanggan dipertahankan secara terpisah di setiap toko, ditambah yang lain di situs. <br><br>  Dalam seri sebelumnya: tiga tahun lalu, kami memutuskan bahwa kami perlu melakukan pengembangan di Rusia.  Dua tahun lalu, mereka mulai menulis kode mereka sendiri alih-alih memodifikasi kode garpu dari perusahaan induk.  Kisah hari ini adalah tentang bagaimana kita beralih dari satu monolit Legacy besar ke sekelompok layanan mikro kecil yang dihubungkan oleh sejenis bus (orkestra). <br><br>  Kasing pengguna termudah: lakukan pemesanan melalui situs dan ambil di toko nyata Leroy Merlin di Rusia.  Sebelumnya, pesanan toko online diproses di aplikasi lain secara umum dan sesuai dengan skema yang berbeda.  Sekarang kami membutuhkan showcase omnichannel sehingga pesanan apa pun dipecah menjadi antarmuka: kasir di toko, aplikasi seluler, terminal di toko, situs web - apa pun.  Jika Anda meletakkan Linux di microwave, biarkan microwave.  Hal utama adalah bahwa beberapa antarmuka dapat mengetuk API ke belakang dan mengatakan bahwa di sini Anda perlu memesan ini dan itu.  Dan mereka menerima jawaban yang jelas untuk ini.  Kisah kedua adalah dengan permintaan untuk ketersediaan dan properti barang dari kartunya. <br><br>  Di depan (kami akan segera menulis tentang ini), kami memiliki monster - AEM, dan di belakangnya ada dua aplikasi besar: OPUS dan MoVe.  Yang pertama adalah database properti masing-masing produk (dari dimensi ke deskripsi), yang kedua bertanggung jawab untuk checkout, yaitu monolit meja kas.  Jika sangat disederhanakan. <a name="habracut"></a><br><br><h3>  Apa yang salah dengan Opus? </h3><br>  OPUS adalah basis distribusi besar.  Lebih tepatnya, itu adalah perangkat lunak yang menyediakan antarmuka untuk mengakses database, yaitu, mengakses database dan, misalnya, mencari atau hanya mengekspos API sehingga klien tidak langsung pergi ke database.  Perangkat lunak ini berfungsi dan didukung di Prancis.  Fitur kedua, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">seperti yang telah kami katakan</a> , adalah bahwa garis perbaikannya sangat panjang, dan kami tidak berada dalam prioritas tertinggi dibandingkan dengan unit bisnis Perancis. <br><br>  Dengan susah payah, kami dapat memahami bagaimana pengembang dapat melakukan perubahan tanpa tim dari Perancis, persetujuan yang sangat lama terjadi.  Fitur dirilis selama enam bulan.  Sebenarnya, pada awalnya kami ingin melakukan pengembangan sendiri dan ulasan mereka, dan kemudian kami sampai pada pengembangan kami sendiri, infrastruktur kami, tes kami, dan secara umum kami sendiri.  Dan pada saat yang sama membuang hampir sepertiga dari kode Legacy. <br><br>  Tetapi kembali ke OPUS.  Karena sistem menyimpan informasi yang relevan tentang ketersediaan, karakteristik, transaksi, dan hal-hal lain, kami mengetuknya dengan alasan apa pun.  Khusus untuk situs, ini berarti bahwa jika pengguna memiliki tiga produk dalam keranjang, maka Anda perlu mengetuk basis data dari setiap halaman, karena relevansi diperiksa.  Bahkan jika Anda mengetuk sekali untuk cache, dan kemudian memperbaruinya dengan cerdas, maka masih ada fitur.  Ketika Anda membuka halaman katalog secara umum, semua spesifikasi produk diambil dari OPUS. <br><br>  Langkah logis berikutnya adalah bahwa kami mulai lebih jarang menarik OPUS dan membuat basis kami (lebih tepatnya, layanan microser dengan basis).  Sistem secara keseluruhan disebut PUB Rusia. <br><br>  Kemudian mereka membuat orkestra, yang sudah dapat menyimpan agregat, yaitu, sebenarnya - data yang dikumpulkan untuk membangun halaman.  Dalam arti bahwa ketika pengguna mengalihkan tampilan halaman dari kartu ke daftar, itu masih agregat yang sama, hanya bagian depan yang berbeda. <br><br>  Yaitu, kami meninggalkan OPUS yang asli (masih di Perancis), tetapi cermin kami yang hampir lengkap "menghisap" itu, yang memotong pangkalan menjadi potongan-potongan, siap untuk berkumpul di orkestra.  Dan orkestra mengumpulkan dan menyimpan agregat (atau dengan cepat menerimanya dan mulai menyimpannya), yang dibutuhkan oleh sistem lain.  Akibatnya, bagian ini berfungsi sebagaimana mestinya.  Dari fungsi asli OPUS Prancis, sekitar lima persen tersisa.  Kami akan segera menggantinya. <br><br><h3>  Apa yang salah dengan MoVe? </h3><br>  Tidak ada yang istimewa, kecuali kenyataan bahwa kami memutuskan untuk membuang semua kode, karena: <br><br><ol><li>  Sudah kuno di tumpukan tua. </li><li>  Dia memperhitungkan karakteristik masing-masing wilayah "Leroy Merlin" dalam rantai IF. </li><li>  Sangat sulit untuk membaca dan mempertahankan bahwa metode refactoring terbaik adalah "menulis lagi dan segera mendokumentasikan secara normal." </li></ol><br>  Yang kami lakukan.  Hanya kami menulis ulang bukan sebagai monolit, tetapi mulai membuat layanan microser untuk setiap fungsi individu.  Dan kemudian bagian dari fungsi MoVe dengan beralih ke microservice dengan lancar diambil.  Jadi - satu per satu, sampai fungsi MoVe berakhir sepenuhnya.  Artinya, masih berfungsi, tetapi di suatu tempat dalam ruang hampa dan tanpa aliran data. <br><br>  Karena kami membangun platform dari potongan-potongan, proyek itu bernama Lego. <br><br>  Lego benar-benar mengubah tengah ini.  Ya, mari kita perjelas: backend nyata adalah legacy bus, sistem file, basis data, dan tingkat infrastruktur lainnya.  Aplikasi besar di sekitar ini dan microservices dari logika sedang.  Presentasi sudah menjadi bagian depan. <br><br><h3>  Mengapa Anda perlu menulis ulang semua ini? </h3><br>  Karena kami hidup dengan basis klien terpisah untuk setiap contoh 15 tahun sejak pembukaan di Rusia, dan ini tidak cocok untuk siapa pun.  Tidak ada sinkronisasi juga.  Di negara lain mereka masih hidup seperti itu. <br><br>  Perusahaan induk dari Perancis membuat logistik umum, kami menggunakan kembali sistem Pixis - ini adalah satu toko kwitansi, yaitu, pesanan pelanggan: satu toko melihat pesanan dari toko lain.  Tapi ini tidak sepenuhnya menyelesaikan masalah pesanan omnichannel.  Oleh karena itu, perlu untuk mengkonsolidasikan basis dan melakukan pemrosesan umum.  Ini yang utama. <br><br>  Alasan kedua adalah hukum box office federal: dengan jadwal pengembangan kami untuk sistem umum (dan pengujian) untuk semua negara, kami akan didenda karena denda. <br><br>  Sebuah opsi yang kira-kira serupa digulirkan di Brasil: mereka memulai Leroy Merlin di sana tanpa perangkat lunak dari perusahaan induk, dan mereka berhasil.  Itu sebelum keputusan split.  Ngomong-ngomong, mereka banyak berkomitmen untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">innersor</a> , mereka memiliki perkembangan yang sangat cepat. <br><br>  Pixis diperbolehkan memesan hanya dari kasir, sebenarnya.  Kami mengubah situasi dalam tiga tahap: <br><br><ol><li>  Pertama kami membuat aplikasi mobile untuk karyawan, yang sangat menyederhanakan hidupnya.  Atas dasar ini, mereka mulai membangun ekosistem di mana antarmuka dipisahkan dengan logika. </li><li>  Sementara semuanya sudah diatur, pesanan Internet dibawa ke meja kas dengan tangan. </li><li>  Mereka menempatkan layanan microser pada gilirannya, yang menggantikan semuanya di tengah. </li></ol><br>  Mengapa Anda harus memulai dengan aplikasi toko?  Karena kami kembali memiliki proses unik dibandingkan dengan Prancis.  Misalnya, seseorang memutuskan untuk membeli rantai enam meter sepuluh sentimeter di toko.  Penjual memotongnya, memberikan dokumen berapa lama dan berapa biayanya.  Anda pergi ke kasir dengan selembar kertas ini, Anda membayar di sana.  Dari sudut pandang logika, penjualan tidak harus di box office, tetapi penjual harus memilikinya, tetapi sebenarnya di box office itulah hal yang paling menarik dimulai: Anda harus memiliki barang dan kertas. <br><br>  Pada akhirnya, kami akan menjadi platform untuk menempatkan pesanan: sekarang, misalnya, di atas sistem utama kami, layanan untuk membeli layanan master ditambahkan (saya membeli dapur - saya memesan instalasi dari master eksternal, tetapi kami menemukannya dan memberikan jaminan dari diri kami sendiri), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">marketplace</a> ( pembelian langsung dari pemasok dalam rentang yang lebih luas), dan segera harus ada afiliasi sehingga blok kami dapat ditempatkan di mana saja.  Sesuatu seperti menanamkan toko Amazon di blog, hanya lebih fleksibel. <br><br><h3>  Bagaimana keputusan penggantian dibuat? </h3><br>  <b>Saya melangkah.</b>  <b>Sempurnakan model bisnis.</b> <br><br>  Kami memeriksa, dan memang: model, seperti di Rusia - harga rendah setiap hari - berhasil.  Leroy Merlin di Eropa jauh lebih mahal, tetapi di Rusia inilah ceruk kami: toko konstruksi tempat Anda dapat menemukan barang dengan harga terbaik. <br><br>  <b>Langkah II.</b>  <b>Buat skrip klien.</b> <br><br>  Artinya, untuk membangun proses seperti yang kita inginkan mereka berinteraksi dengan kita dari sudut pandang klien.  Yaitu, satu visi tentang siapa yang kita inginkan dalam beberapa tahun dan bagaimana tampilannya dari sudut pandang arsitektur. <br><br>  <b>Langkah III.</b>  <b>Bangun arsitektur.</b> <br><br>  Hancurkan visi ini menjadi TK dan arsitektur spesifik dengan detail lebih tinggi.  Ternyata 110 proyek, yang kami bagi menjadi lima kategori selama lima tahun. <br><br>  Kemudian mereka membentuk tim khusus.  Paling sering ini adalah orang-orang mereka ditambah kontraktor.  Pada awalnya, mereka sangat menderita dari ini: ketika mereka pergi ke prod, mereka tidak benar-benar mengerti bagaimana mencerna volume perubahan yang begitu besar.  Kemudian mereka mulai membuat pendekatan umum untuk tugas-tugas dan secara bertahap meningkatkan andil perkembangan mereka. <br><br>  Di tempat-tempat di mana kesalahan itu kritis, mereka bekerja sesuai dengan skema NASA, di mana kesalahan tidak dapat diterima, bukan pilihan sama sekali.  Ini semua tentang transaksi uang. <br><br>  Dan di mana dimungkinkan untuk jatuh, hal utama adalah bangun dengan cepat, kami menggunakan pendekatan yang dekat dengan SRE Google.  Iteratif, dengan tiang tembok, tetapi proyek dapat diimplementasikan sesegera mungkin.  Dan sekarang kami melakukan banyak hal, dan sangat keren untuk dikembangkan. <br><br>  Pendekatan ketiga adalah inovasi.  Kami mengembangkan kotak pasir ide untuk dengan cepat melakukan MVP pertama dengan sumber daya internal kami, yang memungkinkan kami untuk menguji dengan cepat dan murah.  Ini adalah nyata "coba cepat, gagal cepat".  Ini memungkinkan Anda untuk mendapatkan anggaran dan otoritas untuk mereka yang datang dengan proyek keren. <br><br>  Fokus penting kedua adalah dalam geo-development.  Kemudian membuka 20 toko setahun (sekarang sedikit lebih lambat).  Enam ribu karyawan.  Banyak daerah.  Itu perlu untuk menulis ulang seluruh rantai pasokan, untuk dengan cepat mengembangkan proses untuk meningkatkan infrastruktur toko. <br><br>  Pada 2017, kami memutuskan untuk menjadi platform untuk pesanan konstruksi: ini adalah strategi yang menjanjikan untuk beberapa tahun mendatang. <br><br>  Untuk geografi, kami membutuhkan back office TI yang besar untuk pertumbuhan perusahaan dan pertumbuhan rantai pasokan.  Untuk omnichannel (urutan umum) - tingkat SLA yang berbeda untuk sistem internal, waktu nyata, layanan mikro, dan sinkronisasi antara ratusan subsistem.  Ini umumnya tingkat kematangan TI yang berbeda.  Untuk platform, kecepatan perubahan juga penting. <br><br>  Ketika baru mulai, semua orang berpikir bahwa gesit akan menyelamatkan dunia.  Dengan kontraktor, gesit mungkin tidak efektif.  Karenanya keinginan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">merekrut</a> 200 orang di departemen IT. <br><br>  Kami menyaksikan seberapa cepat kami dapat mengimplementasikan semuanya tanpa kehilangan merek.  Sesuatu dapat ditulis dengan cepat, tetapi tidak punya waktu untuk menyiapkan layanan.  Misalnya, jika tidak ada informasi stok, maka tidak ada cara untuk membayar online tanpa jaminan bahwa barang akan dipesan.  Kami menguraikan rantai saling ketergantungan menjadi beberapa.  Sekarang kita sudah tahu bahwa kita perlu membuat siklus lebih pendek, karena kompetensi tim masih penting.  Sekarang kami menggergaji fitur dalam potongan-potongan kecil, kami mengumpulkan koneksi, sekarang hanya tahun ini dalam rencana.  Strategi jangka panjang, tetapi berdasarkan fitur, adalah maksimum satu tahun, dan banyak tim produk terpisah. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457466/">https://habr.com/ru/post/id457466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457450/index.html">10 tren teknologi teratas dalam pemrosesan data dan analitik pada 2019 menurut Gartner</a></li>
<li><a href="../id457458/index.html">Mobile stand untuk peralatan mesin Cina. Atau bagaimana cara menempatkannya di apartemen</a></li>
<li><a href="../id457460/index.html">Kartu Keamanan Kernel Linux</a></li>
<li><a href="../id457462/index.html">Uber: Tinjauan Algoritma Manajemen Platform Utama</a></li>
<li><a href="../id457464/index.html">Deduplikasi iklan di Yandex.Real Estate</a></li>
<li><a href="../id457468/index.html">Memori universal: SRAM, DRAM, dan memori flash dalam satu botol</a></li>
<li><a href="../id457470/index.html">Matematika daun: bagaimana satu semak yang tidak biasa mengubah persamaan model pertumbuhan tanaman</a></li>
<li><a href="../id457476/index.html">Mengurangi ukuran gambar buruh pelabuhan dengan aplikasi booting pegas</a></li>
<li><a href="../id457480/index.html">Membuat aplikasi mendengarkan untuk melihat lalu lintas MMORPG seluler</a></li>
<li><a href="../id457490/index.html">Aisioshechka dari Zuckerberg - secara singkat dan dalam kasus Libra</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>