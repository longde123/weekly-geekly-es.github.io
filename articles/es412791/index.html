<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòï üïî ü§Ωüèæ Mejora del rendimiento del sistema de videovigilancia y prevenci√≥n de accidentes. üï¥üèº üéÖüèø üö∂üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Obviamente, es mejor prevenir la enfermedad que tratarla m√°s tarde. 

 Con la construcci√≥n de sistemas de video, todo es exactamente igual. En lugar d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mejora del rendimiento del sistema de videovigilancia y prevenci√≥n de accidentes.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/macroscop/blog/412791/"> Obviamente, es mejor prevenir la enfermedad que tratarla m√°s tarde. <br><br>  Con la construcci√≥n de sistemas de video, todo es exactamente igual.  En lugar de buscar razones y resolver problemas con la visualizaci√≥n / grabaci√≥n / archivo durante el uso, es mejor pensar un poco m√°s y con cuidado en la etapa de dise√±o para evitar futuros problemas. <br><br>  Nuestro soporte t√©cnico es activo, muy activo.  Ella aconseja, ayuda a configurar y, por supuesto, resuelve problemas en sistemas de video.  A menudo, estos problemas son visibles en el entorno del software, pero no est√°n relacionados con Macroscop.  El sistema de video es de m√∫ltiples componentes, si algo se rompe o simplemente no funciona correctamente, el usuario no ver√° que alguna parte se ha deteriorado.  Ver√° que aparecieron imb√©ciles en video en tiempo real, y aparecieron "agujeros" en el archivo.  ¬øEsto significa que el problema est√° en el software?  A menudo, la raz√≥n es completamente diferente. <br><br><img src="https://habrastorage.org/webt/4p/2l/d-/4p2ld-taaiydceuzg-kdpov88bm.jpeg"><br><a name="habracut"></a><br>  Debido al hecho de que las llamadas de soporte t√©cnico de Macroscop (como se explicar√° m√°s adelante) en el 40% de los casos no est√°n relacionadas con el rendimiento del software, decidimos llevar a cabo un peque√±o programa educativo sobre planificaci√≥n y construcci√≥n de sistemas de video.  Y para decir por qu√© es importante no escatimar en tiempo y dinero en estas etapas, y qu√© suceder√° si no lo hace.  Tambi√©n hablaremos de lo obvio.  Pero la experiencia muestra que <b>comprender y hacer son dos cosas diferentes</b> . <br><br>  Comencemos con c√≥mo podr√≠a verse el problema.  Visualmente, una se√±al de que algo va mal en el sistema puede ser: <br><br><ol><li>  Falta de conexi√≥n a la c√°mara.  Simplemente no ve el video de la c√°mara en tiempo real y no recibe un archivo de √©l. </li><li>  Pantalla de video suave (sacudidas / aceleraci√≥n / retraso). </li><li>  Lugares vac√≠os ("agujeros") en el archivo.  La grabaci√≥n, al parecer, continuaba, pero no hay ning√∫n video en el archivo. </li><li>  Artefactos.  En el video aparece lo que en realidad no era (siempre que las fuerzas de otro mundo no hayan contribuido a esto). </li></ol><br><img src="https://habrastorage.org/webt/-k/ho/n_/-khon_enrwhilupsa4ctfsjrqyo.jpeg"><br><br>  ¬øQu√© puede causar violaciones? <br><br><h2>  <i>Red</i> </h2><br>  Si el video no vino de la c√°mara al servidor, desde el servidor no fue al cliente o al almacenamiento, el canal de comunicaci√≥n es el m√°s frecuentemente culpable.  Puede que no sea lo suficientemente amplio, no lo suficientemente estable, no legible (no sabe c√≥mo priorizar adecuadamente cuando hay mucha informaci√≥n diversa sobre √©l). <br><br>  Por lo tanto, lo primero a lo que debe prestar atenci√≥n al principio es el ancho del futuro canal de comunicaci√≥n.  <b>Se calcula de manera</b> simple: tomamos todas las c√°maras del sistema futuro, determinamos cu√°ntos Mbit de informaci√≥n enviar√° cada una de ellas por segundo (para esto necesitamos entender qu√© calidad de grabaci√≥n se requiere: resoluci√≥n, frecuencia, formato), tomamos en cuenta si el video se mostrar√° (de cu√°ntas c√°maras y cu√°ntos monitores), hacemos un aumento del 10-15% en el tr√°fico t√©cnico y entendemos d√≥nde y qu√© ancho de banda se necesitar√°. <br><br>  Es mejor <b>dibujar un diagrama del</b> sistema futuro.  Esto se puede hacer, entre otras cosas, con la ayuda de programas especiales (Graphical Network Simulator 3, por ejemplo), que ayudar√°n con los c√°lculos y la identificaci√≥n de "cuellos de botella" que requieren atenci√≥n especial.  Esta es una herramienta simple y obvia, pero en la pr√°ctica, pocas personas la usan.  Especialmente entre instaladores principiantes. <br><br>  <b>Separe</b> la red de videovigilancia de la red de telefon√≠a, Internet y cualquier otro sistema.  Para que el sistema de video que elimina la ofensa no pierda en la lucha por el tr√°fico con YouTube, que en ese mismo momento 10 empleados de su empresa decidieron mirar, debe asignar un canal separado para ello. <br><br>  Las redes se pueden dividir f√≠sica y l√≥gicamente.  En el primer caso, instala equipos separados y coloca cables separados, en el segundo, selecciona conmutadores con soporte VLAN.  En la pr√°ctica, desde el punto de vista de la configuraci√≥n, es m√°s f√°cil separar f√≠sicamente si existe la oportunidad de incurrir en costos adicionales. <br><br>  Es importante calcular la <b>potencia al elegir equipos de red</b> .  Un fabricante puede reclamar un mayor ancho de banda de los puertos del conmutador, pero esto no garantiza que el procesador del dispositivo de red resistir√° todo este volumen de datos. <br><br>  La red no solo debe ser pensada correctamente, sino tambi√©n <b>ensamblada de manera eficiente</b> .  Se trata de lo banal: el usuario tiene un cable de conexi√≥n muy comprimido y esto provoca una p√©rdida de conexi√≥n o interrupciones en el archivo.  No es posible encontrar este problema no tan r√°pido, porque, como regla, lo √∫ltimo que se debe verificar es el rendimiento de bagatelas como los cables de conexi√≥n o las tomas de enrutador. <br><br><h2>  <i>Sistemas de almacenamiento de datos</i> </h2><br>  Es importante no olvidar calcular el <b>ancho de canal</b> necesario entre el servidor y el almacenamiento conectado a la red.  A menudo se pasa por alto. <br><br>  Para que los sistemas de almacenamiento puedan hacer frente a la grabaci√≥n de la cantidad entrante de informaci√≥n del sistema de video, es necesario calcular la <b>cantidad de memoria</b> requerida, as√≠ como evaluar <b>IOPS</b> (un par√°metro responsable del n√∫mero de operaciones de entrada-salida realizadas por el sistema de almacenamiento por segundo).  Esto se puede hacer usando programas especiales (Iometer, IOzone, FIO, CrystalDiskMark). <br><br>  Si el sistema es multiservidor, recomendamos que en lugar de un almacenamiento de gran capacidad, elija un volumen ligeramente m√°s peque√±o para evitar una carga excesiva. <br><br><h2>  <i>Antivirus y cortafuegos</i> </h2><br>  Como regla, el firewall y el software antivirus afectan el funcionamiento del sistema de video, ya que interfieren con el tr√°fico de la red.  Tambi√©n puede ser Windows Defender, Firewall de Windows, Firewall de hardware, etc. <br><br>  Puede deshabilitar el software antivirus, pero simplemente excluir un firewall sin cambiar la configuraci√≥n general del sistema cuando ya est√° construido (especialmente cuando se trata de un sistema grande y complejo).  Tenemos que reconstruir toda la red.  Por lo tanto, es anticipado ocuparse de <b>deshabilitar o excluir</b> del sistema de videovigilancia todo software y dispositivo que pueda limitar la recepci√≥n o transmisi√≥n de datos.  A menudo, incluso establecer "excepciones" no limita completamente el acceso de tales soluciones al tr√°fico de video. <br><br><h2>  <i>Equipo</i> </h2><br>  Adem√°s de lo obvio (c√°maras, servidores, el almacenamiento deber√≠a estar funcionando) hay algunos puntos en la configuraci√≥n del hardware, que tambi√©n es conveniente tener en cuenta.  Aseg√∫rese de verificar que sus computadoras <b>no entren en modo de ahorro de energ√≠a</b> .  De lo contrario, el sistema funcionar√°, pero la red tendr√° baja prioridad, por lo que es posible que algunos de los datos de las c√°maras simplemente no lleguen.  Adem√°s, ser√° muy dif√≠cil encontrar la causa, porque tan pronto como comiences a buscar, todo saldr√° milagrosamente. <br><br>  Al elegir c√°maras IP en un proyecto, preste atenci√≥n al protocolo de transferencia de datos con el que trabajan.  Para minimizar las p√©rdidas, elija una conexi√≥n <b>TCP</b> (bueno, es mucho m√°s com√∫n que otras).  Luego, en caso de errores de red, se producir√° una solicitud repetida de informaci√≥n de la c√°mara y, con una alta probabilidad, se levantar√° con un ligero retraso, que el usuario no notar√°. <br><br>  A veces surgen problemas porque el usuario solicita <b>varias transmisiones</b> de la c√°mara a la vez, y la c√°mara no hace frente a esto.  Los fabricantes rara vez dan sus recomendaciones con respecto al n√∫mero de flujos, por lo que aqu√≠ debe verificarlo emp√≠ricamente. <br>  Es posible que la c√°mara instalada en s√≠ misma no funcione correctamente y env√≠e video con artefactos al servidor.  Para verificar que el problema est√° en la c√°mara, y no en el software del sistema de video, puede, por ejemplo, usar un reproductor VLC: si se observan artefactos en el reproductor, la raz√≥n debe buscarse en la c√°mara misma.  Solo primero debe asegurarse de que el sistema de video y el reproductor de video se transmitan utilizando el mismo protocolo. <br><br>  Si no puede proporcionar un canal de comunicaci√≥n suficientemente amplio, puede <b>reducir la tasa</b> de <b>bits</b> en las c√°maras.  Para hacer esto, en la configuraci√≥n, reduzca la velocidad de cuadros o la calidad de grabaci√≥n, use c√°maras con formatos de compresi√≥n modernos (h.264 +, h.265 +), tecnolog√≠a zipstream.  Adem√°s, la gran mayor√≠a tiene la oportunidad de usar una tasa de bits variable: cuando no hay movimiento en el cuadro, se transmite menos informaci√≥n, cuando comienza el movimiento, aumentar√° la calidad de grabaci√≥n y la cantidad de datos. <br><br><h2>  <i>¬øC√≥mo encontrar un problema?</i> </h2><br>  Sin embargo, si surgi√≥ un problema, los siguientes pasos pueden ser una prioridad para diagnosticar la causa: <br><br><ol><li>  Vaya al administrador de tareas y verifique la carga general del sistema. </li><li>  Verifique la condici√≥n f√≠sica del equipo (si la alimentaci√≥n se apag√≥, si alguien rompi√≥ el cable, si las c√°maras funcionan, etc.). </li><li>  Comprueba si el antivirus est√° desactivado. </li><li>  Aproveche <b>las</b> funciones de <b>autodiagn√≥stico de</b> Macroscop.  El autodiagn√≥stico muestra mensajes de error y ofrece recomendaciones sobre c√≥mo resolverlos usted mismo. </li></ol><br>  Todo esto lo puede hacer el administrador del sistema sin la participaci√≥n de especialistas externos. <br><br>  Si no encuentra el motivo y no puede resolver el problema usted mismo, debe ponerse en contacto con el soporte t√©cnico.  Lo primero que verificamos cuando tratamos con el problema de demoras, artefactos o p√©rdida de conexi√≥n es la red entre la c√°mara y el servidor.  Para hacer esto, utilizamos programas especiales (Iperf), as√≠ como una prueba de ping.  Solo hacemos ping a un paquete de datos grande, ya que el video es 99% m√°s que el volumen de datos m√°ximo permitido de un paquete est√°ndar (MTU). <br><br>  <i>Ejemplo</i> : ping -l 5000 -t (ping infinito con un paquete de 5000 bytes). <br><br>  Enviamos un paquete de datos, lo recuperamos y calculamos la p√©rdida.  Y generalmente son inaceptables.  Incluso el 1% de los fotogramas perdidos provoca varios efectos negativos: desde artefactos, p√©rdidas en el archivo, sacudidas en tiempo real hasta una desconexi√≥n completa de la c√°mara. <br>  Del mismo modo, se puede diagnosticar un problema de canal de comunicaci√≥n entre el servidor y las computadoras cliente. <br><br>  Macroscop tambi√©n registra el funcionamiento del sistema, y ‚Äã‚Äãlos registros ayudan mucho a reducir el √°rea de b√∫squeda de problemas para nuestros especialistas.  Gracias a las funciones de diagn√≥stico, el software identifica problemas con la violaci√≥n de la secuencia de paquetes enviados por la c√°mara al servidor, el acceso al servidor, el subsistema de decodificaci√≥n, la autorizaci√≥n, el lanzamiento de servicios y la grabaci√≥n. <br><br>  Estas son solo algunas opciones para verificar el estado y encontrar las fuentes del problema, pero en la mayor√≠a de los casos, estas herramientas son suficientes para diagnosticar la causa.  De lo contrario, comienza un estudio individual y un control minucioso. <br><br><h2>  <i>Pensar de antemano</i> </h2><br>  Como en muchos otros, en el caso de un sistema de video, se pueden evitar varios problemas simplemente estando seguros en la etapa de dise√±o.  Calcule los par√°metros de red de antemano, seleccione el equipo un poco m√°s productivo de lo que requieren los c√°lculos, compre consumibles de alta calidad y preste atenci√≥n a su instalaci√≥n, escuche las recomendaciones de los fabricantes de equipos y desarrolladores de software que elija, p√≥ngase en contacto con el soporte t√©cnico o los ingenieros de preventa si permanecen preguntas o dudas <br><br>  En general, cuanta m√°s atenci√≥n preste al sistema de video al principio, menos lo requerir√° durante muchos a√±os de uso. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412791/">https://habr.com/ru/post/es412791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412781/index.html">El fan√°tico de NES ha permitido lanzar juegos de SNES en la consola</a></li>
<li><a href="../es412783/index.html">Instalaci√≥n del proxy MTProto Telegram desde la fuente en Centos 7</a></li>
<li><a href="../es412785/index.html">Master of Management y Freelancer. La historia en tres partes.</a></li>
<li><a href="../es412787/index.html">Incrustar Git en un sistema de desarrollo empresarial</a></li>
<li><a href="../es412789/index.html">"Ayuda en el trabajo": c√≥mo hacer que los robots de chat sean m√°s inteligentes</a></li>
<li><a href="../es412793/index.html">Mass transit, Saga y RabbitMQ para implementar un administrador de procesos</a></li>
<li><a href="../es412795/index.html">Y saquemos conclusiones de la discusi√≥n del art√≠culo "¬øQu√© tiene de malo el regreso de Geektimes a Habr?"</a></li>
<li><a href="../es412797/index.html">Sobre los peligros de CDN, servicios y fuentes de Google</a></li>
<li><a href="../es412799/index.html">Siempre en contacto: Mango Talker - messenger y softphone</a></li>
<li><a href="../es412801/index.html">Estudio: los piratas inform√°ticos roban millones de d√≥lares debido a la baja seguridad de los intercambios de criptomonedas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>