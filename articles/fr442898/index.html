<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏽 👨🏽‍✈️ ☝🏾 Solutions au problème des robots anti-spam ajoutés aux groupes de télégrammes 🐣 👩🏻‍🎤 🤰🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Je suis l'auteur de plusieurs robots populaires pour l'administration de groupes de télégrammes: @daysandbox , @watchdog_robot et autres. Chaque...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Solutions au problème des robots anti-spam ajoutés aux groupes de télégrammes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442898/"><p> Salut  Je suis l'auteur de plusieurs robots populaires pour l'administration de groupes de télégrammes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@daysandbox</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@watchdog_robot</a> et autres.  Chaque jour, dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le groupe de</a> soutien et dans les messages privés, je vois la même question: comment puis-je me protéger contre les spambots ajoutés au groupe.  Habituellement, ils précisent également qu'il s'agit de robots de spam arabes.  Les gens essaient de trouver un bot anti-spam qui supprimera les liens, supprimera les messages avec des caractères arabes, supprimera les utilisateurs avec des caractères arabes dans leurs noms et des trucs comme ça.  Mais ce sont toutes des conséquences, et dans de nombreux cas, la raison est la même et il est facile de la corriger.  La raison est simple, mais pas évidente. </p><a name="habracut"></a><br><p>  Quelle est l'unicité du problème des robots anti-spam ajoutés au groupe?  Les robots de télégramme ne voient pas les messages des autres robots de télégramme.  Même si vous avez déjà installé des robots dans le groupe qui suppriment les liens, les caractères arabes et d'autres choses, même s'ils interdisent aux nouveaux membres d'écrire des messages jusqu'à ce que les nouveaux membres cliquent sur un bouton ou passent une sorte de test, cela n'aide pas spam </p><br><p>  Le spam apparaît dans le scénario suivant: </p><br><ul><li>  un membre du groupe ajoute un robot de spam au groupe </li><li>  bot anti-spam voit le fait d'ajouter un bot </li><li>  bot anti-spam, appelle la méthode API de télégramme, qui limite le bot de spam à écrire des messages dans le groupe.  Par exemple, il le fait pour tous les nouveaux utilisateurs ou seulement pour ceux dont le nom d'utilisateur contient le mot "bot" à la fin.  Peu importe. </li><li>  Il s'écoule un certain temps entre le moment où un robot de spam pénètre dans un groupe et les télégrammes du serveur traitent une demande pour restreindre ce robot à écrire des droits de chat.  À ce stade, le robot de spam peut envoyer un message au chat. </li><li>  Le bot anti-spam ne voit pas ce message, car les bots ne voient pas les messages des autres bots.  C'est ainsi que fonctionnent les télégrammes. </li></ul><br><p>  Le scénario considéré montre qu'il n'est pas toujours possible de faire face aux conséquences des robots ajoutés.  Il est plus efficace de gérer la raison - la possibilité d'ajouter des robots à un groupe par membres du groupe. </p><br><p>  Il existe deux types de groupes de télégrammes: public et privé.  Le type de groupe détermine ce que les administrateurs, les utilisateurs ordinaires et les robots peuvent faire à l'intérieur du groupe et comment.  Une condition préalable pour un groupe public est l'existence d'un lien du formulaire " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/XXX</a> ", par lequel vous pouvez entrer dans le groupe.  Pour un groupe privé, un lien de connexion n'est pas requis. </p><br><p>  Considérez le processus de création d'un groupe à partir de zéro.  Créez un groupe avec les paramètres par défaut.  Nous aurons un groupe privé sans lien d'invitation.  Essayons d'ajouter n'importe quel bot en tant que simple membre du groupe.  Ajouté!  Comment résoudre le problème?  La seule façon d'interdire l'ajout de bots à un groupe privé est d'interdire manuellement l'ajout de nouveaux membres, en utilisant la case à cocher "Gestion de groupe -&gt; Autorisations -&gt; Ajouter des membres".  Cela limitera uniquement les utilisateurs ordinaires, les administrateurs de groupe pourront toujours ajouter de nouveaux membres (et bots) à la main. </p><br><p>  Avec le cas le plus simple trié.  Créez maintenant un lien d'invitation pour entrer dans le groupe: "Gestion de groupe -&gt; Informations sur le groupe -&gt; Lien d'invitation -&gt; Créer un lien d'invitation".  Nous obtenons un lien du formulaire " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/joinchat/</a> ...".  Un lien d'invitation est créé pour chaque administrateur, initialement seul l'administrateur qui l'a créé le sait.  L'administrateur peut maintenant placer ce lien où bon lui semble, et tout utilisateur peut rejoindre le chat en utilisant ce lien.  À tout moment, l'administrateur peut générer un nouveau lien d'invitation, tandis que l'ancien lien cessera de fonctionner. </p><br><p>  Remarque importante: les robots collecteurs de mails ne peuvent pas entrer dans le groupe par lien d'invitation.  Un bot de spam (et tout bot en général) ne peut entrer dans le chat que si quelqu'un y ajoute manuellement le bot.  La raison la plus courante pour laquelle les robots indésirables apparaissent dans les discussions privées est que les administrateurs créent des liens d'invitation mais ne désactivent pas (via la gestion de groupe -&gt; Autorisations) la possibilité d'ajouter manuellement de nouveaux utilisateurs. </p><br><p>  Voyons maintenant ce qui se passe si nous transférons un groupe de privé à public en utilisant "Gestion de groupe -&gt; Informations sur le groupe -&gt; Groupe public".  Nous devrons également proposer une adresse publique du formulaire " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/XXX</a> ", sans quoi nous ne pouvons pas rendre le groupe public.  Que ce soit " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/habr_test</a> ".  Quelle est la différence entre un groupe public et un groupe privé avec un lien d'invitation?  Un groupe public peut être trouvé via une recherche de télégramme interne, et vous pouvez également voir n'importe quel message de groupe via le Web à " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/habr_test/X</a> ", où X est le numéro de série du message dans le groupe. </p><br><p>  Ainsi, notre groupe est devenu public, il a changé les propriétés de visibilité, et pas seulement.  La chose la plus intéressante est que vous ne pouvez plus y inviter de robots.  S'il est autorisé d'inviter de nouveaux utilisateurs dans "Gestion de groupe -&gt; Autorisations", les utilisateurs peuvent inviter de nouveaux utilisateurs, mais uniquement des personnes ordinaires, pas des bots.  Lorsque vous essayez d'ajouter un bot, l'erreur "Échec de l'ajout de l'utilisateur. Réessayez plus tard."  Ce dont vous avez besoin! </p><br><p>  Conclusion  L'immunité contre l'infection d'un groupe par des bots donne l'une des deux actions suivantes: </p><br><ul><li>  interdire aux participants réguliers d'ajouter des bots (Gestion de groupe -&gt; Autorisations) </li><li>  transférer le groupe en mode public, c'est-à-dire  attribuer au groupe une adresse du formulaire " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://t.me/habr_test</a> " </li></ul><br><p>  PS Le titre de l'article est un petit clickbait.  Bien sûr, beaucoup de spams de télégrammes sont générés non pas par des bots API bot, mais par des bots utilisant des comptes d'utilisateurs ordinaires, mais le problème et sa solution, décrits dans l'article, ont leur place.  Et ils ont un endroit où être tous les jours, et j'ai hésité à répondre aux mêmes questions sur les mêmes questions, j'ai donc écrit cet article. </p><br><p>  UPD: créé un bot qui supprime automatiquement les messages contenant des caractères arabes et supprime également les nouveaux utilisateurs dont les noms contiennent des caractères arabes.  Installez simplement le robot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@noarab_bot</a> dans le chat et donnez-lui le droit de supprimer des messages et d'interdire les utilisateurs.  Documentation du bot: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://tgdev.io/bot/noarab_bot</a> </p><br><p>  UPD2: Si pour une raison ou une autre, il est impossible de rendre le groupe public ou d'interdire l'ajout de membres dans un groupe privé, vous pouvez utiliser le bot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@watchdog_robot</a> avec le filtre "bot" - watchdog supprimera les bots immédiatement après que quelqu'un les aura ajoutés au chat. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442898/">https://habr.com/ru/post/fr442898/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442886/index.html">Sketch + Node.js: générez des icônes pour de nombreuses plateformes et marques. 2e partie</a></li>
<li><a href="../fr442888/index.html">Personnaliser la sélection sur css pur</a></li>
<li><a href="../fr442890/index.html">CYOD? COPE? BYOD?</a></li>
<li><a href="../fr442892/index.html">Programmation orientée débogage ou tristesse aux yeux de l'intégrateur</a></li>
<li><a href="../fr442896/index.html">La production additive en cycle complet dans une entreprise aéronautique est une question pour l'avenir proche</a></li>
<li><a href="../fr442900/index.html">Pourquoi avons-nous besoin de la décentralisation d'Internet et pourquoi est-il inévitable</a></li>
<li><a href="../fr442902/index.html">Cinq conseils pour apprendre à accepter calmement les commentaires au travail</a></li>
<li><a href="../fr442904/index.html">À propos de la fonctionnalité des dispositifs de sécurité</a></li>
<li><a href="../fr442906/index.html">Y a-t-il de la vie sur le marché russe des OS? Aperçu du système d'exploitation russe populaire</a></li>
<li><a href="../fr442910/index.html">Pourquoi avons-nous besoin d'analyses avancées dans SIBUR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>