<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè∫ üõê üßîüèª ¬°Automat√≠zalo! C√≥mo mejoramos las pruebas de integraci√≥n ‚èØÔ∏è üï¥üèø ‚ò†Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En los viejos tiempos, ten√≠amos solo unos pocos servicios, y poner en un d√≠a una actualizaci√≥n de m√°s de uno de ellos en producci√≥n fue un gran √©xito ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬°Automat√≠zalo! C√≥mo mejoramos las pruebas de integraci√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yamoney/blog/458690/">  En los viejos tiempos, ten√≠amos solo unos pocos servicios, y poner en un d√≠a una actualizaci√≥n de m√°s de uno de ellos en producci√≥n fue un gran <s>√©xito</s> .  Luego, el mundo se aceler√≥, el sistema se volvi√≥ m√°s complejo y nos transformamos en una organizaci√≥n con arquitectura de microservicios.  Ahora tenemos alrededor de un centenar de servicios, y con el aumento en su n√∫mero, la frecuencia de los lanzamientos tambi√©n aumenta: hay m√°s de 250 por semana. <br><br>  Y si se prueban nuevas caracter√≠sticas dentro de los equipos de productos, entonces la tarea del equipo de pruebas de integraci√≥n es verificar que los cambios incluidos en la versi√≥n no rompan la funcionalidad del componente, el sistema y otras caracter√≠sticas. <br><br><img src="https://habrastorage.org/webt/uf/se/rm/ufsermb8tifgozgjgtfs3cdcbk8.jpeg"><br><br>  Trabajo como ingeniero de automatizaci√≥n de pruebas en Yandex.Money. <br>  En este art√≠culo hablar√© sobre la evoluci√≥n de las pruebas de integraci√≥n de los servicios web, as√≠ como sobre la adaptaci√≥n del proceso para aumentar el n√∫mero de componentes del sistema y aumentar la frecuencia de los lanzamientos. <br><a name="habracut"></a><br>  Acerca de los cambios en el ciclo de lanzamiento y el desarrollo del mecanismo de c√°lculo fueron descritos por ops y dev en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">uno de los art√≠culos anteriores</a> .  Te contar√© sobre el historial de cambios en los procesos de prueba durante esta transformaci√≥n. <br><br>  Ahora tenemos unos 30 equipos de desarrollo.  El equipo generalmente incluye al gerente de producto, gerente de proyecto, desarrolladores y probadores de front-end y back-end.  Est√°n unidos por el trabajo en tareas para un producto espec√≠fico.  En general, el servicio es responsable del servicio, que a menudo realiza cambios en √©l. <br><br><h2>  Pruebas de aceptaci√≥n de extremo a extremo </h2><br>  No hace mucho tiempo, con el lanzamiento de cada componente, solo se ejecutaban pruebas de unidades y componentes, y despu√©s de eso, solo algunos de los scripts de extremo a extremo m√°s importantes se ejecutaban en un entorno de prueba completo antes de poner el servicio en producci√≥n.  Junto con el aumento en el n√∫mero de componentes, el n√∫mero de conexiones entre ellos comenz√≥ a crecer exponencialmente.  A menudo, conexiones completamente no triviales.  Recuerdo c√≥mo la falta de disponibilidad del servicio para emitir datos de marketing rompi√≥ el registro del usuario por completo (por supuesto, por un corto tiempo). <br><br>  Este enfoque para verificar los cambios comenz√≥ a fallar cada vez m√°s a menudo: requer√≠a cubrir todos los escenarios empresariales cr√≠ticos con pruebas autom√°ticas y ejecutarlos en un entorno de prueba completo con una versi√≥n de componente lista para su lanzamiento. <br><br>  Bien, han aparecido pruebas autom√°ticas para escenarios cr√≠ticos, pero ¬øc√≥mo ejecutarlas?  Hab√≠a una tarea para integrar en el ciclo de lanzamiento, afectando m√≠nimamente su fiabilidad con falsas ca√≠das de prueba.  Por otro lado, quer√≠a llevar a cabo la etapa de prueba de integraci√≥n lo m√°s r√°pido posible.  Entonces hab√≠a una infraestructura para llevar a cabo pruebas de aceptaci√≥n. <br><br>  Intentamos aprovechar al m√°ximo las herramientas ya utilizadas para llevar a cabo el componente en el ciclo de lanzamiento y las tareas de lanzamiento: Jira y Jenkins, respectivamente. <br><br><h3>  Ciclo de prueba de aceptaci√≥n </h3><br>  Para realizar pruebas de aceptaci√≥n, determinamos el siguiente ciclo: <br><ol><li>  monitoreo de tareas entrantes para pruebas de aceptaci√≥n de una versi√≥n, <br></li><li>  ejecutar el trabajo de Jenkins para instalar la compilaci√≥n de lanzamiento en un entorno de prueba, <br></li><li>  comprobar que el servicio ha aumentado <br></li><li>  lanzar el trabajo de Jenkins con pruebas de integraci√≥n, <br></li><li>  an√°lisis de los resultados de la carrera, <br></li><li>  prueba repetida (si es necesario), <br></li><li>  actualizar el estado de la tarea: completada o interrumpida, indicando el motivo en el comentario. <br></li></ol><br>  El ciclo completo se realiz√≥ manualmente cada vez.  Como resultado, ya en el d√©cimo lanzamiento por d√≠a, quer√≠a jurar que realizar√≠a las mismas tareas, en el mejor de los casos, por lo bajo, agarr√°ndome la cabeza y exigiendo <s>cerveza de</s> valeriana. <br><br><h2>  Monitor Bot </h2><br>  Nos dimos cuenta de que el seguimiento y la notificaci√≥n de nuevas tareas en Jira son procesos importantes que son r√°pidos y f√°ciles de automatizar.  Entonces hab√≠a un bot que hace esto. <br><br>  Los datos para generar alertas vienen en forma de notificaciones push de Jira.  Despu√©s de iniciar el bot, dejamos de actualizar la p√°gina del tablero con las tareas de aceptaci√≥n, y el ancho de la sonrisa del aut√≥mata aument√≥ ligeramente. <br><br><h2>  Pinger </h2><br>  Decidimos simplificar la verificaci√≥n de que durante la implementaci√≥n en el entorno de prueba no se produjeron errores de ensamblaje o instalaci√≥n y que se levant√≥ la versi√≥n deseada del componente, y no otra.  El componente proporciona su versi√≥n y estado a trav√©s de HTTP.  Y comprobar que el servicio devuelve la versi√≥n correcta ser√≠a simple y comprensible si no se escribieran diferentes componentes en diferentes idiomas, algunos en Node.js, otros en C #.  Adem√°s, nuestros servicios m√°s populares en Java tambi√©n dieron la versi√≥n en un formato diferente. <br><br>  Adem√°s, quer√≠a tener informaci√≥n y notificaciones en tiempo real no solo sobre los cambios de versi√≥n, sino tambi√©n sobre los cambios en la disponibilidad de componentes en el sistema.  Para resolver este problema, apareci√≥ el servicio Pinger, que recopila informaci√≥n sobre el estado y la versi√≥n de los componentes sonde√°ndolos c√≠clicamente. <br><br>  Utilizamos un modelo de env√≠o de mensajes push: se implementa un agente en cada instancia del entorno de prueba, que recopila informaci√≥n sobre los componentes de este entorno y almacena los datos en un nodo central cada 10 segundos.  Accedemos a este nodo para conocer el estado actual: este enfoque nos permite admitir m√°s de cien bancos de pruebas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/666/dfe/88a/666dfe88ade7ac5107ec244103a2b0d7.png"><br><br><h2>  Taquilla </h2><br>  Ha llegado el momento de realizar tareas m√°s complejas: actualizaci√≥n autom√°tica de componentes y ejecuci√≥n de pruebas.  En ese momento, nuestro equipo ya ten√≠a 3 bancos de pruebas en OpenStack para las pruebas de aceptaci√≥n, y primero era necesario resolver el problema de administrar los recursos de los bancos de pruebas: ser√≠a desagradable si la actualizaci√≥n de la pr√≥xima versi√≥n "se ejecuta" cuando se ejecutan pruebas en el sistema.  Tambi√©n sucede que el banco de pruebas est√° depurado, y luego no debe usarlo para su aceptaci√≥n. <br>  Quer√≠a poder ver el estado del empleo y, si es necesario, bloquear manualmente el soporte durante el an√°lisis de las pruebas ca√≠das o hasta la finalizaci√≥n de otro trabajo. <br><br>  Por todo esto, ha aparecido el servicio Locker.  Mantiene el estado del banco de pruebas durante mucho tiempo ("ocupado" / "libre"), le permite especificar un comentario sobre "ocupado", para que quede claro que ahora estamos depurando, volviendo a crear una copia del entorno de prueba o ejecutando pruebas para la pr√≥xima versi√≥n.  Tambi√©n comenzamos a bloquear stands en la noche; en ellos, los administradores realizan el trabajo en un horario, como copias de seguridad y sincronizaci√≥n de bases de datos. <br><br>  Cuando se bloquea, siempre se establece el tiempo despu√©s del cual expira la cerradura; ahora las personas no necesitan participar en el regreso de los stands al grupo disponible, y la m√°quina hace todo. <br><br><h2>  Deber </h2><br>  Para distribuir equitativamente la carga entre los miembros del equipo para analizar los resultados de las pruebas, elaboramos turnos diarios.  El asistente trabaja con las tareas de pruebas de aceptaci√≥n de versiones, analiza las pruebas autom√°ticas ca√≠das e informa de errores.  Si el asistente comprende que no est√° haciendo frente al flujo de tareas, puede pedir ayuda al equipo.  En este momento, el resto del equipo est√° involucrado en tareas que no est√°n relacionadas con los lanzamientos. <br><br>  Con el aumento en el n√∫mero de lanzamientos, apareci√≥ la funci√≥n del segundo asistente, que se conecta con el principal si hay bloqueos o hay lanzamientos cr√≠ticos en la cola.  Para proporcionar informaci√≥n sobre el progreso de las versiones de prueba, creamos una p√°gina con el n√∫mero de tareas en los estados "abierto" / "en ejecuci√≥n" / "esperando una respuesta del deber", el estado de los bancos de prueba bloqueados y los componentes inaccesibles en los bancos: <br><img src="https://habrastorage.org/webt/mi/am/v0/miamv0ugxbwqruuip9quxjjk45g.png"><br><br>  El trabajo del oficial de servicio requiere concentraci√≥n, por lo que tiene un mo√±o: el d√≠a de servicio, puede elegir un lugar para almorzar para todo el equipo cerca de la oficina.  Los sobornos de servicio en el estilo se ven especialmente divertidos: "d√©jame ayudarte a resolver las tareas, y hoy iremos a <i>mi</i> lugar favorito" =) <br><br><h2>  Reportero </h2><br>  Una de las tareas que encontramos cuando presentamos el reloj fue la necesidad de transferir el conocimiento de un oficial a otro, por ejemplo, sobre las pruebas que caen en una nueva versi√≥n o los detalles de la actualizaci√≥n de un componente. <br><br>  Adem√°s, tenemos nuevas caracter√≠sticas de trabajo. <br><br><ol><li>  Hubo una categor√≠a de pruebas que caen con una frecuencia mayor o menor debido a problemas con los bancos de prueba.  Las ca√≠das pueden ocurrir debido al mayor tiempo de respuesta de uno de los servicios o la larga carga de recursos en el navegador.  No quiero apagar las pruebas; se han agotado los medios razonables para aumentar su fiabilidad. <br></li><li>  Tuvimos un segundo proyecto experimental con pruebas autom√°ticas, y surgi√≥ la necesidad de analizar las ejecuciones de dos proyectos a la vez, mirando los informes de Allure. <br></li><li>  Una ejecuci√≥n de prueba puede demorar hasta 20 minutos, y desea comenzar a analizar los resultados inmediatamente despu√©s del inicio de las primeras gotas.  Especialmente si la tarea es cr√≠tica y los miembros del equipo responsable de la liberaci√≥n est√°n parados detr√°s de usted <s>, sosteniendo el cuchillo en la garganta</s> con ojos lastimosos. <br></li></ol><br>  As√≠ es como surgi√≥ el servicio Reporter.  En √©l, empujamos los resultados de la ejecuci√≥n de la prueba en tiempo real durante el proceso de prueba.  El servicio tiene una base de datos de problemas o errores conocidos que est√°n vinculados a una prueba espec√≠fica.  Adem√°s, se public√≥ una publicaci√≥n en el portal wiki de la compa√±√≠a de un informe resumido sobre los resultados de la ejecuci√≥n del reportero.  Esto es conveniente para los gerentes que no desean sumergirse en los detalles t√©cnicos con los que abunda la interfaz Reporter o Allure. <br><br>  Si la prueba falla, puede buscar en el Reporter una lista de errores relacionados o corregir tareas.  Dicha informaci√≥n acorta el tiempo de an√°lisis y facilita el intercambio de conocimientos sobre problemas entre los miembros de nuestro equipo.  Los registros de las tareas completadas se archivan, pero si es necesario, puede "espiarlos" en una lista separada.  Para no cargar servicios internos durante el horario comercial, entrevistamos a Jira por la noche y archivamos entradas para problemas con el estado final. <br><br>  Una ventaja adicional de la introducci√≥n de Reporter fue la aparici√≥n de una base de datos de ejecuci√≥n, en la que puede analizar la frecuencia de ca√≠das, clasificar las pruebas por su nivel de estabilidad o "utilidad" en t√©rminos de la cantidad de errores encontrados. <br><br><h2>  Autorun </h2><br>  A continuaci√≥n, pasamos a automatizar el lanzamiento de las pruebas cuando el tema de las pruebas de aceptaci√≥n del lanzamiento llega al rastreador de problemas.  Para este prop√≥sito, se escribi√≥ el servicio Autorun, que verifica si hay nuevas tareas de aceptaci√≥n en Jira, y si es as√≠, determina el nombre del componente y su versi√≥n en funci√≥n del contenido de la tarea. <br><br>  Para la tarea, se realizan varios pasos: <br><br><ol><li>  tome la cerradura de uno de los bancos de prueba gratuitos en el servicio Locker, <br></li><li>  comience la instalaci√≥n del componente necesario en Jenkins, espere a que el componente se genere con la versi√≥n requerida, <br></li><li>  ejecutar pruebas <br></li><li>  espere a que se complete la ejecuci√≥n de la prueba, en el proceso de ejecuci√≥n todos los resultados se env√≠an a Reporter, <br></li><li>  le pedimos a Reporter la cantidad de pruebas fallidas, excluyendo las que cayeron debido a problemas conocidos, <br></li><li>  si 0 ha ca√≠do, transferimos la tarea para la prueba de aceptaci√≥n a "Finalizar" y terminamos de trabajar con ella.  Todo est√° listo =) <br></li><li>  si hay pruebas "rojas", traducimos la tarea a "En espera" y vamos a Reporter para analizarlas. <br></li></ol><br>  El cambio entre etapas est√° organizado por el principio de una m√°quina de estados finitos.  Cada etapa en s√≠ misma conoce las condiciones para la transici√≥n a la siguiente.  Los resultados de la etapa se almacenan en el contexto de la tarea, que es com√∫n para las etapas de una tarea. <br><br><img src="https://habrastorage.org/webt/dw/dp/iy/dwdpiy0irgtip9wdw0z_v5gnsue.png"><br><br>  Todo esto le permite transferir autom√°ticamente versiones a lo largo de la tuber√≠a de implementaci√≥n, de acuerdo con las cuales el 100 por ciento de las pruebas son verdes.  Pero, ¬øqu√© pasa con la inestabilidad causada no por problemas en el componente, sino por las caracter√≠sticas "naturales" de las pruebas de IU o por el aumento de los retrasos de la red en el banco de pruebas? <br><br>  Para hacer esto, hemos implementado un mecanismo de reintento, que muchas personas usan, pero pocos lo reconocen.  Las retransmisiones se organizan como una ejecuci√≥n secuencial de pruebas en la tuber√≠a de Jenkins. <br><br>  Despu√©s de la ejecuci√≥n, solicitamos una lista de pruebas fallidas de Reporter de Jenkins, y reiniciamos solo las fallidas.  Adem√°s, reducimos el n√∫mero de subprocesos al inicio.  Si el n√∫mero de pruebas descartadas no ha disminuido en comparaci√≥n con la ejecuci√≥n anterior, finalizamos inmediatamente Job.  En nuestro caso, este enfoque para reiniciar nos permite aumentar el √©xito de las pruebas de aceptaci√≥n aproximadamente 2 veces. <br><br><h2>  Bloqueo r√°pido </h2><br>  El sistema de pruebas de aceptaci√≥n resultante nos permiti√≥ realizar m√°s del 60% de las emisiones sin intervenci√≥n humana.  ¬øPero qu√© hacer con el resto?  Si es necesario, el asistente crea un informe de error en el componente bajo prueba o la tarea de arreglar las pruebas al equipo de desarrollo.  A veces: elabora un error de la configuraci√≥n del banco de pruebas para el departamento de operaciones. <br><br>  Las tareas para corregir las pruebas a menudo bloquean el paso correcto de las pruebas autom√°ticas, ya que las pruebas irrelevantes siempre ser√°n "rojas".  Los evaluadores de los equipos de desarrollo son responsables de escribir nuevas pruebas y actualizar las existentes, haciendo cambios a trav√©s de solicitudes de extracci√≥n al proyecto con pruebas autom√°ticas.  Estas ediciones est√°n sujetas a una revisi√≥n obligatoria, que requiere un tiempo del revisor y del autor, y quiero bloquear temporalmente las pruebas irrelevantes hasta que la tarea se traduzca a su estado final. <br><br>  Primero, implementamos un mecanismo de apagado basado en anotaciones de m√©todos de prueba.  Posteriormente, result√≥ que debido a la presencia de una revisi√≥n obligatoria del c√≥digo, el bloqueo del c√≥digo no siempre es conveniente y puede llevar m√°s tiempo del que quisi√©ramos. <br><br>  Por lo tanto, trasladamos la lista de tareas que bloquean las pruebas a un nuevo servicio con una p√°gina web: bloqueo r√°pido.  Por lo tanto, los miembros del equipo responsable del componente pueden bloquear r√°pidamente la prueba.  Antes de la ejecuci√≥n, vamos a este servicio y obtenemos una lista de pruebas en cuarentena, que traducimos al estado omitido. <br><br><h2>  Resumen </h2><br>  Hemos pasado de la aceptaci√≥n de lanzamientos en modo manual a un proceso casi completamente autom√°tico, que puede realizarse a trav√©s de pruebas de aceptaci√≥n de m√°s de 50 lanzamientos por d√≠a.  Esto ayuda a la compa√±√≠a a reducir el tiempo que lleva publicar los cambios, y nuestro equipo puede encontrar recursos para experimentar y desarrollar herramientas de prueba. <br><br>  En el futuro, planeamos aumentar la confiabilidad del proceso, por ejemplo, mediante la distribuci√≥n de solicitudes entre un par de instancias de cada servicio de la lista anterior.  Esto le permitir√° actualizar las herramientas sin tiempo de inactividad e incluir nuevas funciones solo para parte de las pruebas de aceptaci√≥n.  Adem√°s, prestamos atenci√≥n a estabilizar las pruebas en s√≠.  En desarrollo, un generador de tickets para refactorizar pruebas con la tasa de √©xito m√°s baja. <br><br>  Mejorar la confiabilidad de las pruebas no solo aumentar√° la confianza en ellas, sino que tambi√©n acelerar√° las pruebas de lanzamientos debido a la falta de reinicios de scripts ca√≠dos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458690/">https://habr.com/ru/post/458690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458676/index.html">C√≥mo aprovechar al m√°ximo la educaci√≥n en inform√°tica</a></li>
<li><a href="../458680/index.html">¬øPor qu√© necesitamos UML? O c√≥mo salvar tus nervios y tu tiempo</a></li>
<li><a href="../458684/index.html">ICANN elimina el umbral de precio para el dominio .org: por qu√© la comunidad de TI est√° en contra y qu√© suceder√° despu√©s</a></li>
<li><a href="../458686/index.html">@Pythonetc Junio ‚Äã‚Äã2019</a></li>
<li><a href="../458688/index.html">Consejos y trucos de mi canal de Telegram @pythonetc, junio de 2019</a></li>
<li><a href="../458692/index.html">M√≥nada "Tal vez" a trav√©s de as√≠ncrono / espera en C # (¬°Sin tareas!)</a></li>
<li><a href="../458694/index.html">¬øPython GIL est√° realmente muerto?</a></li>
<li><a href="../458696/index.html">Texturizado, o lo que necesitas saber para convertirte en un Artista de Surface. Parte 3. PBR y materiales</a></li>
<li><a href="../458698/index.html">El camino de la paz y el camino de la guerra en proyectos de TI</a></li>
<li><a href="../458702/index.html">Perros de trineo: lo que necesita saber sobre ellos y c√≥mo fueron tra√≠dos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>