<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¨ üßü üç∂ Plotter caseiro: dicas para iniciantes, trabalhando com grbl-firmware üï¥üèΩ üôèüèæ üßôüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Enquanto estudava na universidade um assunto t√£o divertido como o circuito, ocorreu-me como parte do projeto do curso "Plotter de dois eixos no papel,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Plotter caseiro: dicas para iniciantes, trabalhando com grbl-firmware</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432818/"><p>  Enquanto estudava na universidade um assunto t√£o divertido como o circuito, ocorreu-me como parte do projeto do curso "Plotter de dois eixos no papel, com a cabe√ßa de uma caneta-tinteiro baseada no Arduino".  No momento em que comecei a trabalhar, eu mesmo imaginava vagamente o desenvolvimento da parte el√©trica do projeto, bem como da parte mec√¢nica.  Nunca houve essa experi√™ncia na minha vida.  Foi por isso que encontrei na rede, classificando muitos recursos, que me pareciam o tutorial mais simples e compreens√≠vel, e decidi segui-lo exatamente.  No entanto, logo ficou claro que tudo o que era simples √† primeira vista n√£o era suficientemente detalhado para um "artes√£o" como eu.  Portanto, nas perguntas que permaneceram nos bastidores, eu tive que improvisar, nem sempre com sucesso, como aconteceu mais tarde.  Foi um pouco de fundo.  Agora, gostaria de compartilhar minha valiosa experi√™ncia em diversas quest√µes importantes.  N√£o darei instru√ß√µes completamente novas com a minha vers√£o deste dispositivo, porque  na Internet para solu√ß√µes mais bem-sucedidas. </p><br><h3 id="soderzhanie">  Conte√∫do </h3><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Constru√ß√£o civil</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Circuito el√©trico</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">De software</a> <a name="habracut"></a></li></ol><br><h3 id="1-konstrukciya-a-name1a">  1. Constru√ß√£o </h3><br><p><img src="https://habrastorage.org/webt/2q/j-/rx/2qj-rxkxvbgoa4oqvzwh9a0v4lk.png"></p><br><p>  O design que escolhi foi feito de madeira compensada.  Como eixos, foram utilizados pinos, que foram rotacionados por motores de passo, e, devido a isso, a plataforma nas porcas se moveu ao longo do eixo.  Um eixo foi preso √† plataforma e o outro com uma aresta.  Da fabrica√ß√£o de tudo isso, posso dizer: </p><br><ul><li>  Se o eixo superior n√£o tiver suporte em ambos os lados, mas estiver preso, como o meu, com apenas uma aresta, ser√° necess√°rio pensar antecipadamente no equil√≠brio dos eixos.  A parte superior ir√° inevitavelmente saltar, se n√£o for de todo, sobrecarregar toda a estrutura com o peso de sua borda "suspensa". </li><li>  As linhas do padr√£o podem entrar em ondas ao longo do tamanho da rosca, bem como devido ao tremor da pr√≥pria estrutura durante a opera√ß√£o. </li><li>  Dois dos problemas acima levam a mais uma coisa: a caneta (no meu caso, a caneta) pode escrever de maneira desigual em diferentes partes da p√°gina. </li><li>  O peso e as dimens√µes do dispositivo tamb√©m devem ser calculados com anteced√™ncia, para que, posteriormente, n√£o fique claro que seus motores n√£o puxam essa carga. </li><li>  E mais um detalhe importante: √© melhor usar parafusos, pregos, etc. sempre que poss√≠vel para a fixa√ß√£o.  Desenhos em cola, mesmo os mais confi√°veis, tendem a desmoronar no momento mais inesperado.  E, em alguns casos, ap√≥s a montagem da pe√ßa principal, ser√° muito dif√≠cil retornar √† "colagem" de pe√ßas internas pequenas, mas muito importantes, sem desmontar as pe√ßas acabadas. </li><li>  Se voc√™ usar cola em algum lugar, observe com muito cuidado, para que n√£o caia nas partes m√≥veis da estrutura.  Mesmo uma pequena gota pode parar o mecanismo e torn√°-lo inutiliz√°vel. <cut></cut></li></ul><br><h2 id="2-shema-elektricheskaya-a-name2a">  2. O circuito el√©trico </h2><br><p><img src="https://habrastorage.org/webt/4q/9x/qf/4q9xqfsgp-mutarfcxtixrq7kwa.png"><br><img src="https://habrastorage.org/webt/ne/sc/q0/nescq0lychg2doa4rlzzvavfrmo.png"><br>  O circuito em si era extremamente simples e nem sequer exigia solda.  Eu at√© peguei o CNC Shield acabado especificamente para trabalhar com o CNC.  No entanto, existem algumas nuances aqui: </p><br><ul><li>  Meu an√°logo chin√™s do Arduino, codinome WAVGAT, para um segmento se recusou a piscar como um Arduino Uno R3 comum.  Afirmou-se na Internet que essas placas s√£o totalmente compat√≠veis com todos os softwares arduino, mas para trabalhar com ela atrav√©s do IDE era necess√°rio fazer o download de uma biblioteca WAVGAT Update separada.  Ent√£o, eu consegui fazer o upload do esbo√ßo no quadro, mas o software em si ainda n√£o queria funcionar corretamente.  Tentei todas as op√ß√µes para corrigir esses problemas (sobrecarreguei o carregador de inicializa√ß√£o da placa, alterei os arquivos da placa e as constantes da biblioteca com o software), mas o resultado permaneceu o mesmo.  Aparentemente, √© para esta tarefa que voc√™ ter√° que obter o cl√°ssico Arduino. </li><li>  Outro problema foi o lan√ßamento de motores de passo.  Eles cantarolavam, aqueciam, apesar dos motoristas frios, mas n√£o se mexiam.  Ao verificar metodicamente o elemento da cadeia por elemento, percebi que o problema est√° em sua conex√£o.  O fato √© que desta vez os chineses tamb√©m eram originais.  Verificou-se que os cabos do motor cont√™m pares cruzados AB.  Se os pares de um mecanismo de armazenamento comum fossem da ordem de 2B-2A-1A-1B, por algum motivo os chineses tinham 2V-1A-2A-1B.  Isso pode ser verificado ‚Äúescolhendo‚Äù o circuito com um mult√≠metro no modo correspondente: as sa√≠das AB emparelhadas est√£o rangendo. </li><li>  E, no entanto, como se viu, o inofensivo servo de baixa pot√™ncia √© bastante capaz de irremediavelmente "queimar" toda a placa do arduino com carga excessiva prolongada.  Nesse caso, a placa continuar√° funcionando, mas √†s vezes ser√° interrompida no meio, parando nos comandos servo. </li><li>  Portanto, monitore a temperatura dos dispositivos durante a opera√ß√£o para evitar consequ√™ncias fatais. <cut></cut></li></ul><br><h2 id="3-po-a-name3a">  3. Software </h2><br><p>  Existem op√ß√µes: </p><br><ul><li>  A maneira mais f√°cil de obter um maravilhoso programa simples da BenBox.  √â especializado especificamente para trabalhar com CNC e √© f√°cil de instalar e manusear.  A desvantagem desta op√ß√£o s√£o suas limita√ß√µes.  Em primeiro lugar, o firmware da placa no pacote de software j√° est√° contido no arquivo hexadecimal, portanto, h√° problemas com a edi√ß√£o.  E a funcionalidade em geral n√£o √© muito extensa, parece um simples editor gr√°fico.  Se voc√™ n√£o quiser entrar em detalhes da opera√ß√£o de todo esse mecanismo, poder√° trabalhar com esta op√ß√£o. </li><li>  Um pouco mais complicado, mas tamb√©m mais promissor, est√° trabalhando no firmware GRBL.  Esta biblioteca pode ser facilmente acessada na Internet e oferece significativamente mais recursos que o BenBox.  Mas, para trabalhar com esse mecanismo, voc√™ precisa lidar com a configura√ß√£o inicial de tudo isso. <br><ol><li>  Portanto, fa√ßa o download e descompacte a biblioteca grbl-servo.  Agora voc√™ pode envi√°-lo para o quadro atrav√©s do IDE, simplesmente encontrando-o entre os exemplos. </li><li>  Para enviar comandos diretamente para o dispositivo, voc√™ precisar√° do Universal Gcode Sender (ou outro software similar).  Ap√≥s instal√°-lo em um computador, abrimos o canal de comunica√ß√£o com a placa atrav√©s da porta de conex√£o √† qual a placa est√° conectada. </li><li>  Para as configura√ß√µes iniciais e subsequentes do quadro na linha de comando do aplicativo, digite "$$".  Por esse comando, obtemos um conjunto completo de configura√ß√µes b√°sicas da placa, que podem ser alteradas definindo os par√¢metros necess√°rios.  Por exemplo, os comandos "$ 110 = 380" e "$ 111 = 380" definem a velocidade dos motores nos eixos X e Y para 380 mm \ min.  As configura√ß√µes importantes s√£o a velocidade e acelera√ß√£o dos motores, a dire√ß√£o dos eixos (diretos ou inversos).  Mais instru√ß√µes sobre essa configura√ß√£o podem ser encontradas na Internet. </li><li>  Existe tamb√©m a possibilidade de controle da m√°quina sobre os motores (guia controle de m√°quina) e servo (comandos M5 (rota√ß√£o para a posi√ß√£o inicial) e M3 s90 (rota√ß√£o 90 ou qualquer outro n√∫mero de graus)). </li><li>  Em seguida, voc√™ precisa preparar uma imagem para o trabalho.  Para isso, voc√™ tamb√©m precisar√° de mais.  Software, por exemplo, Inkscape.  √â semelhante a qualquer outro editor gr√°fico e voc√™ pode aprender mais sobre como trabalhar com ele tamb√©m na Internet.  Mas h√° alguns pontos importantes: </li></ol></li><li>  Primeiro, voc√™ precisa definir os tamanhos de p√°gina corretos nas propriedades para que o tamanho da sua imagem n√£o seja maior que os recursos da plotadora.  Tamb√©m √© necess√°rio substituir pixels por mil√≠metros em unidades de medida. </li><li>  Ap√≥s criar a imagem, pressione ctrl + shift + C e v√° para o menu - extensions - MI GRBL ... - defina a velocidade dos motores e o √¢ngulo de rota√ß√£o do servo - salve a imagem no formato gcode. <br><ol><li>  Finalmente, retornamos ao Universal Gcode Sender e, na guia File Mode, abrimos nossa gcode-image.  Usando o bot√£o Visualizar, voc√™ pode monitorar graficamente a opera√ß√£o do programa e, na janela Tabela de comandos, pode seguir a execu√ß√£o do comando.  Resta apenas executar tudo isso e observar o resultado. </li></ol></li></ul><br><p>  Como resultado, o trabalho nesse dispositivo acabou sendo dif√≠cil e trabalhoso, e o resultado final n√£o √© o ideal.  Mas essa experi√™ncia √© interessante e n√£o √© in√∫til.  Portanto, espero que algu√©m seja √∫til e ajude a evitar desnecess√°rios "ajuntar" meus conselhos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt432818/">https://habr.com/ru/post/pt432818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt432808/index.html">Sal√°rios em IA: onde h√° mais dinheiro e quem eles procuram na R√∫ssia</a></li>
<li><a href="../pt432810/index.html">Primeiras multas para o RGPD: quem j√° foi punido</a></li>
<li><a href="../pt432812/index.html">Escrevemos rob√¥s de negocia√ß√£o usando a estrutura gr√°fica StockSharp. Parte 1</a></li>
<li><a href="../pt432814/index.html">Integra√ß√£o Cake e TeamCity</a></li>
<li><a href="../pt432816/index.html">AXIS M3046-V vs IDIS DC-D3212X: Compare C√¢meras CFTV</a></li>
<li><a href="../pt432820/index.html">Teste din√¢mico de aplicativos Android</a></li>
<li><a href="../pt432822/index.html">Eu estrago o c√≥digo da minha vida para desenvolvedores e n√£o quero</a></li>
<li><a href="../pt432824/index.html">Acelerando a cria√ß√£o do ConcurrentReferenceHashMap</a></li>
<li><a href="../pt432826/index.html">Desenvolvimento moderno do Android no Kotlin. Parte 2</a></li>
<li><a href="../pt432828/index.html">Testando e depurando o MapReduce</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>