<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèª üé• üõå Einf√ºhrung in Spring Boot Actuator üåç ‚úåüèø ü•ë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gru√ü, Chabrowiten! In einer Woche beginnt der Unterricht in der neuen Gruppe des Kurses "Developer on the Spring Framework" . In diesem Zusammenhang t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einf√ºhrung in Spring Boot Actuator</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/452624/">  Gru√ü, Chabrowiten!  In einer Woche beginnt der Unterricht in der neuen Gruppe des Kurses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Developer on the Spring Framework"</a> .  In diesem Zusammenhang teilen wir Ihnen n√ºtzliches Material mit, das erkl√§rt, was Spring Actuator ist und wie es n√ºtzlich sein kann. <br><br><img src="https://habrastorage.org/webt/2m/hc/7v/2mhc7vty5dbzksjukrcjxprxjqu.png"><br><br><ol><li>  Was ist ein Federantrieb? </li><li>  Wie f√ºge ich Spring Actuator zum Maven- oder Gradle-Projekt hinzu? </li><li>  Erstellen Sie ein Spring Boot-Projekt mit einer Spring Actuator-Abh√§ngigkeit. </li><li>  Anwendungs√ºberwachung mit Spring Actuator-Endpunkten. </li></ol><a name="habracut"></a><br>  <b>Was ist ein Federantrieb?</b> <br><br>  Nachdem Sie die Anwendung entwickelt und in der Produktion bereitgestellt haben, ist es sehr wichtig, ihre Leistung zu √ºberwachen.  Dies gilt insbesondere f√ºr gesch√§ftskritische Anwendungen wie Bankensysteme, bei denen Anwendungsfehler das Gesch√§ft direkt betreffen. <br><br>  Traditionell mussten wir vor dem Spring Actuator Code schreiben, um den Zustand der Anwendung zu testen, aber mit Spring Actuator mussten wir keinen Code schreiben.  Spring Actuator bietet mehrere Endpunkte, die zur √úberwachung der Anwendung hilfreich sein k√∂nnen. <br><br>  <b>Wie f√ºge ich Spring Actuator zum Maven- oder Gradle-Projekt hinzu?</b> <br><br>  <i><b>Maven</b></i> <br><br><pre><code class="java hljs">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;</code> </pre> <br>  <i><b>Gradle</b></i> <br><br><pre> <code class="java hljs">dependencies { compile(<span class="hljs-string"><span class="hljs-string">"org.springframework.boot:spring-boot-starter-actuator"</span></span>) }</code> </pre> <br>  <b>Erstellen eines Spring Boot-Projekts mit Spring Actuator</b> <br><br>  Lassen Sie uns mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spring Initializer</a> ein Spring Boot-Projekt mit Spring Actuator-, Web- und DevTools-Abh√§ngigkeiten erstellen. <br><br>  Bitte beachten Sie, dass zum Zeitpunkt dieses Schreibens die Spring Boot-Version 2.1.0 war. <br><br><img src="https://habrastorage.org/webt/fq/9z/cu/fq9zcueb62pygpoaf0whu_p_udc.png"><br><br>  Importieren Sie das Projekt in Eclipse oder eine andere IDE und f√ºhren Sie <code>SpringActuatorApplication.java</code> . <br><br>  In der Konsole sehen Sie Folgendes: <br><br><img src="https://habrastorage.org/webt/1k/qr/wl/1kqrwlcwuwvmzuxg9xzezx7y6ws.png"><br><br>  Sie k√∂nnen sehen, dass der eingebettete Tomcat auf Port 8080 ausgef√ºhrt wird und <code>SpringActuatorApplication</code> auf Tomcat ausgef√ºhrt wird.  Sie k√∂nnen auch sehen, dass die Aktuatorendpunkte unter <code>/actuator.</code> verf√ºgbar sind <code>/actuator.</code> <br><br><pre> <code class="plaintext hljs">018-11-09 20:00:29.346 INFO 8338 --- [ restartedMain] osbwembedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path '' 2018-11-09 20:00:29.354 INFO 8338 --- [ restartedMain] nbjsSpringActuatorApplication : Started SpringActuatorApplication in 9.273 seconds (JVM running for 11.823) 2018-11-09 20:00:29.190 INFO 8338 --- [ restartedMain] osbaeweb.EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'.</code> </pre><br>  <b>Anwendungs√ºberwachung mit Spring Actuator-Endpunkten</b> <br><br>  Wie oben erw√§hnt, bietet Spring Actuator mehrere Endpunkte, mit denen wir den Anwendungszustand √ºberwachen k√∂nnen. <br><br><div class="scrollable-table"><table><tbody><tr><th>  ID </th><th>  Beschreibung </th></tr><tr><td>  auditevents <br></td><td>  Bietet Ereignisinformationen <br>  Audit f√ºr die aktuelle Anwendung. <br></td></tr><tr><td>  Bohnen </td><td>  Zeigt eine vollst√§ndige Liste aller an <br>  Fr√ºhlingsbohnen in der Anwendung. <br></td></tr><tr><td>  Caches </td><td>  Cache-Informationen. <br></td></tr><tr><td>  Bedingungen </td><td>  Zeigt den Zustand an, der <br>  wurden f√ºr Konfigurationsklassen berechnet <br>  und Autokonfiguration und Gr√ºnde f√ºr <br>  was sie √ºbereinstimmten oder nicht <br>  korrespondierte. <br></td></tr><tr><td>  configprops </td><td>  Zeigt eine Liste aller an <br>  @ConfigurationProperties <br></td></tr><tr><td>  env </td><td>  Zeigt Eigenschaften von an <br>  Konfigurierbare Umgebung. <br></td></tr><tr><td>  Flugbahn </td><td>  Zeigt Datenbankmigrationen an <br>  Flyway, die angewendet wurden. <br></td></tr><tr><td>  Gesundheit </td><td>  Zeigt Gesundheitsinformationen an <br>  Anwendungen. <br></td></tr><tr><td>  httptrace </td><td>  Zeigt Trace-Informationen an <br>  HTTP (standardm√§√üig die letzten 100 HTTP <br>  Anfrage-Antwort). <br></td></tr><tr><td>  info </td><td>  Zeigt zus√§tzliche Informationen an <br>  √ºber die Anwendung. <br></td></tr><tr><td>  Integrationsgraph </td><td>  Count Spring Integration. <br></td></tr><tr><td>  Logger </td><td>  Zeigt und erlaubt <br>  √Ñndern Sie die Konfiguration der Logger in <br>  Anwendung. <br></td></tr><tr><td>  Liquibase </td><td>  Zeigt angewandte Migrationen an <br>  Liquibase-Datenbanken <br></td></tr><tr><td>  Metriken </td><td>  Zeigt Metrikinformationen an <br>  f√ºr die aktuelle Anwendung. <br></td></tr><tr><td>  Zuordnungen </td><td>  Zeigt eine Liste aller Pfade an. <br>  @RequestMapping. <br></td></tr><tr><td>  geplante Aufgaben </td><td>  Zeigt geplante Aufgaben an <br>  (geplante Aufgaben). <br></td></tr><tr><td>  Sitzungen </td><td>  Erm√∂glicht das Abrufen und L√∂schen <br>  Benutzersitzungen aus Repositorys, <br>  unterst√ºtzt von Spring Session.  Nicht verf√ºgbar <br>  bei Verwendung der Fr√ºhlingssitzung f√ºr reaktive <br>  Webanwendungen. <br></td></tr><tr><td>  Herunterfahren </td><td>  Erm√∂glicht die korrekte Anwendung <br>  um die Arbeit abzuschlie√üen. <br></td></tr><tr><td>  Threaddump </td><td>  Zeigt Stream-Informationen an. <br></td></tr></tbody></table></div><br>  <b>Endpunkte aktivieren</b> <br><br>  Standardm√§√üig sind alle Endpunkte au√üer dem <code>shutdown</code> aktiviert.  Verwenden Sie zum Aktivieren des Endpunkts die folgende Eigenschaft in der Datei <code>application.properties</code> . <br><br><pre> <code class="plaintext hljs">management.endpoint.&lt;code&gt;&lt;&lt;/code&gt;id&lt;code&gt;&gt;&lt;/code&gt;.enabled</code> </pre> <br><blockquote>  <i>Anmerkung des √úbersetzers: Standardm√§√üig erfolgt der Zugriff auf alle Endpunkte nur √ºber JMX, es erfolgt kein Zugriff √ºber HTTP auf alle Endpunkte (siehe unten).</i> </blockquote><br>  <i>Ein Beispiel:</i> <br><br>  Um den Endpunkt zum <code>shutdown</code> zu aktivieren, m√ºssen Sie den folgenden Eintrag in der Datei <code>application.properties</code> vornehmen: <br><br><pre> <code class="plaintext hljs">management.endpoint.shutdown.enabled=true</code> </pre> <br>  Wir k√∂nnen alle Endpunkte deaktivieren und dann nur diejenigen einschlie√üen, die wir ben√∂tigen.  In der n√§chsten Konfiguration werden alle Endpunkte au√üer <code>info</code> deaktiviert. <br><br><pre> <code class="plaintext hljs">management.endpoints.enabled-by-default=false management.endpoint.info.enabled=true</code> </pre> <br>  <b>Zugriff auf Endpunkte √ºber HTTP</b> <br><br>  Gehen wir zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">localhost-</a> URL: 8080 / actuator und sehen uns die verf√ºgbaren Endpunkte an. <br><br>  Hinweis: Ich verwende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Postman</a> zum Testen, da JSON in einem gut strukturierten Format angezeigt wird.  Sie k√∂nnen jedes andere Tool oder nur einen Browser verwenden. <br><br><img src="https://habrastorage.org/webt/sm/jf/mf/smjfmfgw9dqygqisozxv4qflydy.png"><br><br>  Wie Sie bereits bemerkt haben, werden hier nur die <code>health</code> und <code>info</code> Endpunkte angezeigt.  Weil dies die einzigen Endpunkte sind, auf die standardm√§√üig √ºber http zugegriffen werden kann.  Der Zugriff √ºber http auf andere Endpunkte ist aus Sicherheitsgr√ºnden standardm√§√üig geschlossen, da diese vertrauliche Informationen enthalten und daher gef√§hrdet sein k√∂nnen. <br><br>  <i><b>Zugriff auf bestimmte Endpunkte</b></i> <br><br>  Wenn wir √ºber das Web (http) Zugriff auf andere Endpunkte gew√§hren m√∂chten, m√ºssen wir die folgenden Eintr√§ge in der Datei <code>application.properties</code> vornehmen. <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=&lt;    &gt;&lt;a href="http://localhost:8080/actuator"&gt;&lt;/a&gt;</code> </pre> <br>  <i>Ein Beispiel</i> : <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include= health,info,env</code> </pre> <br>  Nachdem Sie den obigen Eintrag zu <code>application.properties</code> hinzugef√ºgt haben, gehen wir erneut zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 8080 / actuator</a> <br><br>  Wie wir im folgenden Screenshot sehen, ist auch der <code>env</code> Endpunkt enthalten. <br><br><img src="https://habrastorage.org/webt/lj/ni/zj/ljnizjt8y8iy1y334kp-gwtoajm.png"><br><br>  <i><b>Zugriff auf alle Endpunkte</b></i> <br><br>  Wenn wir alle Endpunkte einschlie√üen m√∂chten, k√∂nnen wir das <code>*</code> -Zeichen wie unten gezeigt verwenden. <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=*</code> </pre> <br><img src="https://habrastorage.org/webt/d9/ml/4o/d9ml4o3aeh_hdtlqttit0qtbvwi.png"><br><br>  <i><b>Zugriff auf alle bis auf wenige Endpunkte</b></i> <br><br>  Die beiden folgenden Eintr√§ge aktivieren alle Endpunkte, deaktivieren jedoch den env-Endpunkt. <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.include=* management.endpoints.web.exposure.exclude=env</code> </pre> <br><img src="https://habrastorage.org/webt/lt/sx/6s/ltsx6sc4ycgzw-7bexjdjomy0vw.png"><br><br><img src="https://habrastorage.org/webt/t1/rw/uc/t1rwuct9mugidfox6n3f1fwb_74.png"><br><br>  <i><b>Deaktivieren aller HTTP-Endpunkte</b></i> <br><br>  Wenn Sie keine Endpunkte √ºber HTTP bereitstellen m√∂chten, k√∂nnen Sie dies tun, indem Sie in der Datei <code>application.properties</code> Folgendes festlegen: <br><br><pre> <code class="plaintext hljs">management.server.port=-1</code> </pre> <br>  oder so: <br><br><pre> <code class="plaintext hljs">management.endpoints.web.exposure.exclude=*</code> </pre> <br>  <i><b>Konfigurieren Sie URLs f√ºr den Zugriff auf Endpunkte</b></i> <br><br>  Standardm√§√üig sind alle Endpunkte √ºber URL <code>/actuator</code> an Adressen der Form <code>/actuator/{id}</code> zug√§nglich.  Sie k√∂nnen den Basispfad <code>/actuator</code> mithilfe der folgenden Eigenschaft in <code>application.properties</code> √§ndern. <br><br><pre> <code class="plaintext hljs">management.endpoints.web.base-path</code> </pre> <br>  Wenn Sie beispielsweise die Basis-URL wie <code>/monitor</code> anstelle von <code>/actuator</code> festlegen m√∂chten <code>/actuator</code> k√∂nnen Sie dies wie folgt tun: <br><br><pre> <code class="plaintext hljs">management.endpoints.web.base-path=/monitor</code> </pre> <br><img src="https://habrastorage.org/webt/ow/ob/ez/owobez3sklfk3pk3aiauyuttcoy.png"><br><br>  In diesem Fall sind alle Endpunkte als <code>/monitor/{id}</code> anstelle von <code>/actuator/{id}</code> verf√ºgbar. <br><br><img src="https://habrastorage.org/webt/9i/7g/ux/9i7guxcbkgygwvkix4r0njakccg.png"><br><br>  <b>Endpunkte Spring Boot Actuator</b> <br><br>  Lassen Sie uns einige der wichtigsten Endpunkte diskutieren. <br><br>  <b><i>/ Gesundheit</i></b> <br><br>  Der Integrit√§tsendpunkt gibt den Gesamtstatus der Anwendung an: ob sie aktiv ist oder nicht.  Dies ist sehr wichtig, um den Status der Anwendung w√§hrend der Produktion zu √ºberwachen.  Dieser Endpunkt kann in √úberwachungsanwendungen integriert werden und ist sehr n√ºtzlich, um den Zustand von Anwendungen in Echtzeit zu bestimmen. <br><br>  Die vom Integrit√§tsendpunkt bereitgestellte Informationsmenge h√§ngt von der Eigenschaft <code>management.endpoint.health.show-details</code> in der Datei <code>application.properties</code> . <br><br>  Wenn <code>management.endpoint.health.show-details=never</code> , werden keine zus√§tzlichen Informationen angezeigt.  In diesem Fall wird nur Folgendes angezeigt (dies ist das Standardverhalten). <br><br><img src="https://habrastorage.org/webt/op/a0/wd/opa0wdajx2oo3zg5b4bdu0556fc.png"><br><br>  Wenn <code>management.endpoint.health.show-details=always</code> ist, werden allen Benutzern zus√§tzliche Informationen angezeigt.  Wie wir in der Antwort unten sehen, haben wir Informationen zum Speicherplatz (diskSpace).  Wenn Ihre Anwendung mit einer Datenbank verbunden ist, werden auch Informationen zum Status der Datenbank angezeigt. <br><br><img src="https://habrastorage.org/webt/lw/ui/oz/lwuiozd2jbjlfbupg14iln-pfn0.png"><br><br>  Wenn <code>management.endpoint.health.show-details=when-authorized</code> , werden zus√§tzliche Informationen nur autorisierten Benutzern angezeigt.  Die Autorisierung kann mithilfe der Eigenschaft <code>management.endpoint.health.roles</code> konfiguriert werden. <br><br>  <i><b>Voreingestellte Indikatoren</b></i> <br><br>  Spring Boot Actuator verf√ºgt √ºber viele automatisch konfigurierte ‚ÄûIntegrit√§tsindikatoren‚Äú (HeathIndicators), mit denen der Zustand verschiedener Teile der Anwendung getestet werden kann.  Beispielsweise stellt <code>DiskspaceHealthIndicator</code> Informationen zum <code>DiskspaceHealthIndicator</code> bereit.  Wenn Sie MongoDB verwenden, √ºberpr√ºft <code>MongoHealthIndicator</code> die Mongo-Datenbank (ob der Server ausgef√ºhrt wird oder nicht) und zeigt die entsprechenden Informationen an.  Standardm√§√üig wird der endg√ºltige Status der Anwendung vom <code>HealthAggregator</code> , der einfach die Liste der von jedem <code>HealthIndicator</code> bereitgestellten Status sortiert.  Der erste Status in der sortierten Liste wird als endg√ºltiger Status der Anwendung verwendet. <br><br>  <i><b>Deaktivieren aller vorkonfigurierten Anzeigen</b></i> <br><br>  Die oben beschriebenen ‚ÄûGesundheitsindikatoren‚Äú sind standardm√§√üig aktiviert. Sie k√∂nnen sie jedoch mithilfe der folgenden Eigenschaft deaktivieren: <br><br><pre> <code class="plaintext hljs">management.health.defaults.enabled=false</code> </pre> <br>  <i><b>Deaktivieren einer einzelnen Anzeige</b></i> <br><br>  Alternativ k√∂nnen Sie einen separaten <code>HealthIndicator</code> deaktivieren, wie unten gezeigt, um beispielsweise die √úberpr√ºfung des Speicherplatzes zu deaktivieren: <br><br><pre> <code class="plaintext hljs">management.health.diskspace.enabled=false</code> </pre> <br>  Hinweis: Die Kennung eines <code>HealthIndicator</code> ist der Name der Bean ohne das <code>HealthIndicator</code> Suffix. <br><br>  <i>Zum Beispiel</i> : <br><br><pre> <code class="plaintext hljs">DiskSpaceHealthIndicator diskspace MongoHealthIndicator mongo CassandraHealthIndicator cassandra DataSourceHealthIndicator datasource</code> </pre> <br>  usw‚Ä¶ <br><br>  <i><b>Schreiben Ihrer Indikatoren (HealthIndicator)</b></i> <br><br>  Zusammen mit dem integrierten <code>HealthIndicator</code> der vom Spring Boot Actuator bereitgestellt wird, k√∂nnen wir benutzerdefinierte Statusanzeigen erstellen.  Dazu m√ºssen Sie eine Klasse erstellen, die die <code>HealthIndicator</code> Schnittstelle implementiert, ihre <code>health()</code> -Methode implementiert und <code>Health</code> als Antwort mit den relevanten Informationen zur√ºckgibt, wie unten gezeigt: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.actuate.health.Health; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.actuate.health.HealthIndicator; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component; <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomHealthIndicator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HealthIndicator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Health </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">health</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> errorCode = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// In the above line,I am simple assigning zero,but you can call Health check related code like below commented line and that method can return the appropriate code. // int errorCode = performHealthCheck(); if (errorCode != 0) { return Health.down().withDetail("Error Code", errorCode).build(); } return Health.up().build(); } }</span></span></code> </pre><br>  Gehen wir noch einmal zum Gesundheitsendpunkt und sehen, ob unser Indikator reflektiert wird oder nicht. <br><br><img src="https://habrastorage.org/webt/of/n5/-i/ofn5-ifhhfwkvzz3f21fwhsaoos.png"><br><br>  Wir sehen unseren Indikator. <br><br>  <i><b>Einzelkomponentenstatus</b></i> <br><br>  Sie k√∂nnen auch den Status einer einzelnen Komponente √ºberpr√ºfen.  Im obigen Beispiel haben wir den von uns geschriebenen Indikator und diskSpace gesehen. <br><br>  Wenn wir nur den Status der Festplatte sehen m√∂chten, k√∂nnen wir die folgende URL verwenden: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 8080 / actuator / health / diskSpace</a> <br><br><img src="https://habrastorage.org/webt/sd/b_/y5/sdb_y5cvpzbvyuckqpk9n8tlilq.png"><br><br>  <i><b>/ info</b></i> <br><br>  Der <code>info</code> Endpunkt bietet allgemeine Informationen zu der Anwendung, die er von Dateien wie <code>build-info.properties</code> oder <code>git.properties</code> oder von in <code>application.properties</code> angegebenen Eigenschaften erh√§lt. <br><br>  Da es in unserem Projekt keine solche Datei gibt, ist die Antwort leer, wie unten gezeigt: <br><br><img src="https://habrastorage.org/webt/vo/vf/lh/vovflhl5vmav0zfb_ltc1nan2g0.png"><br><br>  Spring Boot Actuator zeigt Build-Informationen an, wenn <code>META-INF/build-info.properties</code> .  Diese Projektinformationsdatei wird zum Zeitpunkt der <code>build-info</code> vom <code>build-info</code> Ziel erstellt.  Hier k√∂nnen Sie auch eine beliebige Anzahl zus√§tzlicher Eigenschaften hinzuf√ºgen. <br><br>  <code>spring-boot-maven-plugin</code> <code>pom.xm</code> l ein <code>build-info</code> Ziel f√ºr das <code>spring-boot-maven-plugin</code> <code>pom.xm</code> . <br><br><pre> <code class="java hljs">&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.1</span></span>.0.RELEASE&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;build-info&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;additionalProperties&gt; &lt;encoding.source&gt;UTF-<span class="hljs-number"><span class="hljs-number">8</span></span>&lt;/encoding.source&gt; &lt;encoding.reporting&gt;UTF-<span class="hljs-number"><span class="hljs-number">8</span></span>&lt;/encoding.reporting&gt; &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt; &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt; &lt;/additionalProperties&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;</code> </pre> <br>  Schauen wir uns nun den <code>info</code> Endpunkt noch einmal an und sehen uns die Baugruppeninformationen an, wie unten gezeigt: <br><br><img src="https://habrastorage.org/webt/7r/s_/kx/7rs_kxqo4mektufolezgitvngmk.png"><br><br>  Dar√ºber hinaus k√∂nnen wir Anwendungsinformationen mit dem <code>info</code> Schl√ºssel zu <code>application.properties</code> hinzuf√ºgen, wie unten gezeigt, und diese werden am Endpunkt <code>/info</code> angezeigt. <br><br><pre> <code class="plaintext hljs">info.application.name=spring-actuator info.application.description=spring boot actuator application info.application.version=0.0.1-SNAPSHOT</code> </pre> <br><img src="https://habrastorage.org/webt/ed/9n/no/ed9nnobv3fuvs5d4-nr0ecjn-x4.png"><br><br>  <i><b>/ Bohnen</b></i> <br><br>  Der <code>beans</code> Endpunkt zeigt alle im Spring-Container definierten <code>beans</code> mit den folgenden Informationen zu jeder Bean an: <br><br><pre> <code class="plaintext hljs">aliases :    scope :   type :    resource :  (),     dependencies :   </code> </pre> <br>  Zum Beispiel habe ich einen RestController namens <code>TestController</code> und eine Komponente namens <code>TestService</code> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.GetMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RestController; <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TestService testService; <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/messages"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.annotation.Configuration; <span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestService</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br>  Wie dies f√ºr testController angezeigt wird, sehen Sie im folgenden Screenshot. <br><br><img src="https://habrastorage.org/webt/8_/15/vd/8_15vdhjtlitkji7oaeuprm0wam.png"><br><br>  <i><b>/ configprops</b></i> <br>  Der <code>configProps</code> zeigt alle von <code>@ConfigurationProperties</code> Anmerkungen versehenen <code>@ConfigurationProperties</code> . <br><br><img src="https://habrastorage.org/webt/is/q6/6l/isq66l89ceyopzk9kj-uckhp7bg.png"><br><br>  Im obigen Screenshot sehen wir zwei Beans, die im Spring Framework selbst definiert und mit <code>@ConfigurationProperties</code> kommentiert <code>@ConfigurationProperties</code> und daher an diesem Endpunkt angezeigt werden. <br><br>  Der folgende Screenshot zeigt den von <code>HttpTraceProperties</code> mit Anmerkungen versehenen <code>@ConfigurationProperties</code> . <br><br><img src="https://habrastorage.org/webt/ct/mz/sp/ctmzsp7gxx2rpnkzflxiqqnm5se.png"><br><br>  <i><b>/ env</b></i> <br><br>  Der <code>env</code> Endpunkt stellt alle Umgebungsinformationen in der folgenden Reihenfolge bereit: <br><br><div class="scrollable-table"><table><tbody><tr><th>  Systemeigenschaften <br></th><th>  JVM-abh√§ngig (plattformunabh√§ngig) <br></th></tr><tr><td>  Systemumgebung oder Variablen <br>  Umgebung <br></td><td>  h√§ngt vom Betrieb ab <br>  System (plattformabh√§ngig) <br></td></tr><tr><td>  Einstellungen auf Anwendungsebene <br></td><td>  definiert in <br>  application.properties <br></td></tr></tbody></table></div><br><img src="https://habrastorage.org/webt/l_/bn/fa/l_bnfamlop3_0atho5cxwtfvpyo.png"><br><br>  <i><b>/ heapdump</b></i> <br><br>  Der Heapdump-Endpunkt gibt den Anwendungsheap aus.  Dieser Endpunkt gibt Bin√§rdaten im HPROF-Format zur√ºck.  Da normalerweise viele Daten zur√ºckgegeben werden, m√ºssen Sie diese speichern und analysieren. <br><br>  <i><b>/ Logger</b></i> <br><br>  Der <code>loggers</code> bietet Anwendungsloggern Informationen zu ihrer konfigurierten Protokollebene (configureLevel) und ihrer effektiven Ebene (effektiveLevel).  Wenn die konfigurierte Ebene f√ºr den Logger und sein √ºbergeordnetes Element (null) nicht angegeben ist, ist die Root-Logger-Ebene eine effektive Ebene. <br><br>  Die Eigenschaft <code>level</code> gibt an, welche Protokollierungsstufen vom Protokollierungsframework unterst√ºtzt werden. <br><br><img src="https://habrastorage.org/webt/kv/x4/4z/kvx44z3tu3olaho08_87p3df3og.png"><br><br>  Um Informationen f√ºr einen bestimmten Logger zu erhalten, √ºbergeben Sie den Namen (ID) des Loggers in der URL nach dem <code>/loggers</code> , wie unten gezeigt: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http: // localhost: 8080 / actuator / loggers / nl.blogpsot.javasolutionsguide.springactuator.SpringActuatorApplication</a> <br><br><img src="https://habrastorage.org/webt/6e/i5/la/6ei5laqadln50sb5drfnwogizde.png"><br><br>  <i><b>/ Metriken</b></i> <br><br>  Der <code>metrics</code> zeigt alle Metriken an, die Sie f√ºr Ihre Anwendung verfolgen k√∂nnen. <br><br><img src="https://habrastorage.org/webt/om/jm/mq/omjmmqeywqprsopnwrqdjkder_c.png"><br><br>  <i><b>√úberpr√ºfung einzelner Metriken</b></i> <br><br>  Sie k√∂nnen eine einzelne Metrik <code>/metrics</code> , indem Sie sie wie unten gezeigt in der URL after <code>/metrics</code> : <br><br>  <a href="">http: // localhost: 8080 / actuator /metrics / jvm.memory.used</a> <br><br><img src="https://habrastorage.org/webt/yd/mw/tr/ydmwtraamszohbs56xwrvz6ubba.png"><br><br>  <b>Referenzen</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">docs.spring.io/spring-boot/docs/current/actuator-api/html</a> <br><br>  Gem√§√ü der etablierten Tradition warten wir auf Ihre Kommentare und laden alle zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tag der offenen T√ºr ein</a> , der am 23. Mai stattfinden wird. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de452624/">https://habr.com/ru/post/de452624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de452612/index.html">Verst√§rktes maschinelles Lernen in tiefen neuronalen Netzen auf tensorflow.js: Tricks</a></li>
<li><a href="../de452614/index.html">So starten Sie die Programmierung in Adobe Illustrator. Teil zwei</a></li>
<li><a href="../de452618/index.html">Was auf Google I / O 2019 gesagt wurde: Android 10, AR-Anwendungen und vieles mehr</a></li>
<li><a href="../de452620/index.html">Ableiten eines Aktionstyps mithilfe von Typescript</a></li>
<li><a href="../de452622/index.html">Einf√ºhrung in die Genomik f√ºr Programmierer</a></li>
<li><a href="../de452628/index.html">Benutzerdefiniertes unteres Blatt: wie es funktionieren sollte</a></li>
<li><a href="../de452630/index.html">Backup, Teil 2: √úbersicht und Testen von rsync-basierten Backup-Tools</a></li>
<li><a href="../de452638/index.html">Wie wir 2GIS unter CarPlay gestartet haben und uns immer noch entwirren</a></li>
<li><a href="../de452642/index.html">Die St√§rke der Menge. Wie Chicago einen M√ºllroboter entwickelte - einen Flussreiniger</a></li>
<li><a href="../de452644/index.html">DevConf X Web Developer Conference - 21. Juni</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>