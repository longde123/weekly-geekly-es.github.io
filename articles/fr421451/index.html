<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📋 🚘 🐭 Comment protéger votre enfant des déchets sur YouTube et créer un lecteur personnalisé avec une liste blanche de chaînes 🚍 🤜🏽 🕙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vous pouvez discuter longuement sur la question de savoir s'il vaut la peine de donner aux jeunes enfants accès aux tablettes et aux smartphones. Quel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment protéger votre enfant des déchets sur YouTube et créer un lecteur personnalisé avec une liste blanche de chaînes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421451/"><p>  Vous pouvez discuter longuement sur la question de savoir s'il vaut la peine de donner aux jeunes enfants accès aux tablettes et aux smartphones.  Quelqu'un dit que c'est nocif pour les yeux ou la psyché, quelqu'un - que les parents devraient jouer et lire avec leurs enfants eux-mêmes, et ne pas essayer de les clôturer avec des gadgets.  Ce qui est caractéristique, le plus souvent, c'est ce que disent les personnes qui n'ont pas leurs propres enfants.  Et ils ne savent pas ce que c'est que le bonheur - quand l'enfant se tait pendant au moins une demi-heure, cesse de tout gâcher, se couche calmement sur le canapé et regarde des dessins animés.  Il y a un argument de plus - les enfants répètent avec sensibilité après les parents, si les parents sont constamment assis avec leurs mains sur le téléphone, il est très difficile d'expliquer aux enfants pourquoi les parents le peuvent et ils ne le font pas. </p><br><p><img src="https://habrastorage.org/webt/k3/y2/sz/k3y2szb9qvds9nza5bamfw1pb9w.jpeg"></p><br><p>  En général, vous pouvez me jeter des tomates pourries, mais mon fils, qui est maintenant sans deux jours depuis trois ans, s'allonge parfois avec une tablette sur le canapé et regarde des dessins animés sur YouTube. </p><br><p>  Malheureusement, je me suis vite rendu compte que YouTube pour les enfants n'est qu'un HELLY TRASH.  À ce sujet, même sur Habré, il y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avait</a> déjà <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une traduction de l'article</a> .  Les chaînes pour enfants sont une sorte de puisards sans fond remplis de vidéos vyrviglaznymi comme "déployer cent surprises plus douces", "des rimes stupides avec des graphismes 3D misérables à une musique bruyante" et "conduire des voitures dans Beam NG à des commentaires stupides".  Pour une raison quelconque, tout cela est très attrayant pour les jeunes enfants qui se précipitent pour cliquer sur ces vidéos dès qu'ils les voient dans les vidéos recommandées.  Et YouTube ne vous permet pas de gérer les recommandations.  Même en donnant à mon fils une tablette avec les dessins animés «normaux» allumés, après quelques minutes, je regarde comment il retrouve ces maudits œufs en chocolat en deux clics sur les recommandations et recommence à les coller. </p><br><p>  Ça me suffit, j'ai décidé.  Et il a commencé à voir sa demande pour regarder YouTube, vous permettant de sélectionner une liste de chaînes et de n'afficher que la vidéo de ces chaînes.  Comment je l'ai fait - sous la coupe. <a name="habracut"></a></p><br><p>  Voici un exemple d'une vidéo thrash avec laquelle nous nous battrons.  Shitty a créé une animation 3D insensée sur une musique stupide - et 142 millions de vues.  Pour une raison quelconque, ces vidéos d'enfants sont simplement zombifiées; elles sont prêtes à les examiner et à les réviser. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YdZn3PXmFnE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  À titre de comparaison, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vidéo</a> la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus cool</a> où Chris Hadfield chante sur une guitare sur l'ISS n'a que 40 millions de vues, et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">merveilleux clip OK GO</a> avec une gravité zéro réelle (pas de câbles et chromakey, seulement une gravité zéro honnête à bord d'un avion spécial) - seulement 12 millions, dix fois moins. </p><br><p>  Soit dit en passant, les annonceurs sur YouTube <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eux-mêmes ne sont pas satisfaits de la popularité des chaînes pour enfants</a> , car afficher des annonces sur elles est une perte de budget.  Les enfants regardent les publicités, parfois ils cliquent même, mais ils n'achètent rien et des millions de vues dépensent rapidement le budget. </p><br><h2 id="postanovka-zadachi">  Énoncé du problème </h2><br><p>  Je dois dire tout de suite que je ne me suis pas donné pour tâche de faire une demande impénétrable pour les enfants.  De telles tentatives existent déjà, y compris ici sur le hub - tout est coupé là-bas, de sorte que l'enfant ne peut pas quitter l'application, acheter quelque chose, ouvrir un navigateur, etc.  Il existe des options avec des verrous matériels, des ports désactivés, des coques Android personnalisées et d'autres difficultés (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voici un article</a> pour 2012, le projet semble être toujours vivant).  Mais tout cela a du sens pour les enfants plus âgés qui explorent déjà les possibilités de leurs gadgets.  Pour les enfants de 2 à 3 ans, aucune protection spéciale n'est nécessaire, ils sont très heureux de regarder des vidéos et de temps en temps de fouiller dans les aperçus d'autres vidéos.  L'essentiel est que ces vidéos soient ce dont vous avez besoin, et non ce que YouTube offrira (et il offrira des œufs en chocolat sans fin et des doigts de bébé). </p><br><p>  De cela est venue la liste des exigences: </p><br><ul><li>  Liste de chaînes personnalisée </li><li>  Le protéger des changements (plutôt des accidents, car les enfants adultes rusés ont déjà un tas de façons d'identifier les mots de passe de leurs parents) </li><li>  L'application elle-même est similaire à YouTube, elle lit la vidéo à gauche, à droite il y a une colonne de vignettes sur laquelle vous pouvez cliquer </li><li>  Le cas d'utilisation principal est la lecture aléatoire de la vidéo, l'enfant, en général, ne se soucie pas de ce qu'il doit regarder </li></ul><br><p>  Dans le même temps, l'application se compose de deux parties principales: la recherche et la configuration de chaînes à l'aide de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API YouTube Data</a> , puis la lecture de la vidéo.  De plus, pour le moment, j'ai trouvé deux options pour lire des vidéos dans ma propre application: </p><br><h2 id="youtube-android-player-api">  API YouTube Android Player </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://developers.google.com/youtube/android/player/</a> </p><br><p>  C'est la façon officielle de lire des vidéos dans votre application Android.  Pour que cela fonctionne sur l'appareil de l'utilisateur, l'application YouTube officielle doit déjà être installée, ce qui inclut dans sa composition un certain service qui peut être utilisé à partir d'autres applications.  Donc, cette API très Player est une petite bibliothèque qui interagit avec une application installée séparément. </p><br><p>  Au début, je l'ai utilisé, mais après un certain temps d'utilisation, il s'est avéré qu'il avait un problème critique.  Vous ne pouvez pas vraiment personnaliser l'apparence du joueur, en particulier, contrôler les boutons (vous pouvez uniquement masquer le tout, mais vous perdrez également le bouton du mode plein écran).  Et sur le panneau de contrôle du lecteur, il y a un mauvais bouton «aller à la visualisation sur YouTube» qui ouvre l'application officielle (qui doit être sur l'appareil), dans laquelle il n'y a plus de filtrage.  Et les enfants cliquent dessus facilement (par accident ou non), accèdent à l'application non filtrée, et après quelques minutes, j'entends déjà à nouveau «doigt de bébé, doigt de bébé où es-tu» et vois une sorte de tréanyanimation des yeux tordus sur l'écran. </p><br><p>  Un peu plus de déchets que les enfants trouvent en quelques clics.  Plus de 900 millions de vues! </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YJyNoFkud6g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Par conséquent, j'ai refusé le joueur officiel, lui trouvant un remplaçant sous la forme de la bibliothèque suivante. </p><br><h2 id="android-youtube-player">  Android YouTube Player </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/PierfrancescoSoffritti/android-youtube-player</a> </p><br><p>  La bibliothèque semble être un wrapper autour de la WebView qui contrôle le lecteur Web via son API JavaScript.  Des avantages - la possibilité de personnaliser entièrement l'interface. </p><br><p>  L'initialisation du lecteur n'est pas évidente, surtout après avoir quitté la bibliothèque officielle: </p><br><ol><li>  Obtenez notre vue de la classe com.pierfrancescosoffritti.androidyoutubeplayer.player.YouTubePlayerView </li><li>  Appelez-la initialize (), en passant l'auditeur </li><li>  La méthode onInitSuccess (@Nonnull final YouTubePlayer youTubePlayer) est appelée sur l'écouteur, qui reçoit une instance de l'objet lecteur.  C'est le seul moyen de l'obtenir.  Jusque-là, le processus d'initialisation était identique à celui du client officiel </li><li>  Nous appelons la méthode addListener () sur le lecteur, en lui passant un autre écouteur (plus d'auditeurs au dieu écouteur!) </li><li>  La méthode onReady () est appelée sur cet écouteur - seulement après ce moment, vous pouvez télécharger et afficher la vidéo et utiliser le lecteur.  Si vous essayez par erreur de charger quelque chose dans onInitSuccess, la bibliothèque commencera à cracher des erreurs étranges. </li></ol><br><p>  Vous pouvez contrôler le cycle de vie du lecteur (arrêter la lecture dans onPause () et tout le reste) manuellement, ou vous pouvez enregistrer notre vue en tant qu'observateur du cycle de vie (pour lequel notre activité doit être héritée d'AppCompatActivity).  Dans ce cas, la bibliothèque reprendra toute la routine. </p><br><p>  Une autre nuance étrange de la bibliothèque est le manque de prise en charge plein écran hors de la boîte.  Il y a un bouton par défaut dans le lecteur, mais il ne fait rien.  En fait, vous devez faire le mode plein écran manuellement - cachez le gars, agrandissez la fenêtre du lecteur en plein écran, puis restaurez tout.  Cela peut s'avérer assez simple si vous avez une sorte d'interface compliquée autour du lecteur.  Je n'avais qu'une liste de vidéos là-bas, qui est facilement masquée manuellement. </p><br><p>  Dans les exemples de la bibliothèque, il y a une classe FullScreenHelper, à partir de laquelle vous pouvez prendre le code souhaité.  Son utilisation ressemble à ceci: </p><br><pre><code class="java">youTubePlayerView.addFullScreenListener(new YouTubePlayerFullScreenListener() {

            private final View rootLayout = findViewById(R.id.rootLayout);

            @Override
            public void onYouTubePlayerEnterFullScreen() {
                fullScreenHelper.enterFullScreen();
                rootLayout.setPadding(0, 0, 0, 0);
            }

            @Override
            public void onYouTubePlayerExitFullScreen() {
                fullScreenHelper.exitFullScreen();
                rootLayout.setPadding(8, 8, 8, 8);
                youTubePlayerView.getLayoutParams().height = LinearLayout.LayoutParams.MATCH_PARENT;
                  }
        });</code></pre><br>
<p>FullScreenHelper        .      (   ,  )   -      ,     .</p><br>
<p> -      ,      —    .      "  YouTube",     :</p><br>
<pre><code class="java">youTubePlayerView.getPlayerUIController().showFullscreenButton(true);
youTubePlayerView.getPlayerUIController().showYouTubeButton(false);</code></pre><br>
<p>      ,   ,     View  .. —             .</p><br>
<p>            youTubePlayer.loadVideo(url, startTime);</p><br>
<h2 id="poluchenie-spiskov-video-rabota-s-youtube-data-api">  ,   YouTube Data API</h2><br>
<p>URL    - .    YouTube   API,          .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>   Developer Console   .</p><br>
<p>      :         .   - ,         "Peppa Pig".   id (          id)  snippet       : , -, .</p><br>
<pre><code class="java"> YouTube.Search.List searchListByKeywordRequest = youTube.search().list("snippet,id");
 searchListByKeywordRequest.setMaxResults(10L);
 searchListByKeywordRequest.setQ("Peppa Pig");
 searchListByKeywordRequest.setType("channel,playlist");
 searchListByKeywordRequest.setKey("&lt;api key&gt;");
 SearchListResponse response = searchListByKeywordRequest.execute();</code></pre><br>
<p>       (    snippet  id)    . YouTube API      :       ,         .      - ( ,   ),       .           ,        . ..          5  (      2   sinppet  id).       ,   6 ,   13.    10 ,      21  .      ,   .</p><br>
<p>         :</p><br>
<pre><code class="java">YouTube.Search.List request = youTube.search().list("snippet,id");
request.setChannelId("&lt;channel id&gt;");
request.setType("video");
request.setMaxResults(50L);
request.setKey("&lt;api key&gt;");
SearchListResponse response = request.execute();</code></pre><br>
<p>      ,          ,      nextPageToken,    —     ,            .</p><br>
<pre><code class="java">if (response.getNextPageToken() != null) {
    request.setPageToken(response.getNextPageToken());
    response = request.execute();
}</code></pre><br>
<p>  API  ,       ,        ..</p><br>
<h2 id="opyt-ispolzovaniya"> </h2><br>
<p> ,     ,  .    ,      Google Play      .   :</p><br>
<ol>
<li>    .            .   " "          (""  " "), -      .</li>
<li>  —    .   ,     "     ",       ,    . </li>
<li>     .   ,               ,     —   .</li>
<li>       .   "     ",      ,              .</li>
<li>         .</li>
<li>   Pinned Mode —       ,            .</li>
</ol><br>
<p>  -  — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://play.google.com/store/apps/details?id=ru.sundogs.youtubekiosk</a>        ,    —     .       —       .         ,           ,    . </p><br>
<p> ,       ,       , -      (   ),     .    —       ,        .        .</p><br>
<p><strong>UPD</strong>:    ,          .             — ,  .     Play Market   ""</p><br>
<p><strong>UPD2</strong>:      ,        .   ,    ,             .</p><br>
<p><strong>UPD3</strong>:     ,     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://channelwhitelist.tilda.ws</a>. , !</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421451/">https://habr.com/ru/post/fr421451/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421439/index.html">Les Japonais ont présenté un prototype de processeur pour le supercalculateur exaflops: comment fonctionne la puce</a></li>
<li><a href="../fr421441/index.html">Embox commence à escalader le mont Elbrouz</a></li>
<li><a href="../fr421443/index.html">Nouveau sur notre marché: Présentation des téléphones IP Snom D385 et D785</a></li>
<li><a href="../fr421445/index.html">Nous écrivons un traducteur simple en Lisp - II</a></li>
<li><a href="../fr421447/index.html">Meetup Redmadrobot iOS</a></li>
<li><a href="../fr421453/index.html">Situation: Sonos est devenu public et pourrait «quitter la pièce»</a></li>
<li><a href="../fr421455/index.html">Le Japon lance le premier essai clinique mondial de cellules souches utilisant la maladie de Parkinson</a></li>
<li><a href="../fr421461/index.html">Time Tracker pour Google Scripts, Docs et Spreadsheets</a></li>
<li><a href="../fr421463/index.html">La vie nocturne du ciel ou à la recherche des Perséides - traitement</a></li>
<li><a href="../fr421465/index.html">DevOps mobiles en pratique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>