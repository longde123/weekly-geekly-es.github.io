<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèåÔ∏è üö∫ üåÅ Fast interne und externe Einstellungen f√ºr die Anwendung in Unity3D üôèüèº ‚ùé üöß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einf√ºhrung 
 Hallo liebe Leser, im heutigen Artikel m√∂chte ich √ºber die Einstellungen und die Konfiguration von Spieleanwendungen sprechen, die in der...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fast interne und externe Einstellungen f√ºr die Anwendung in Unity3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436634/"><h2>  Einf√ºhrung </h2><br>  Hallo liebe Leser, im heutigen Artikel m√∂chte ich √ºber die Einstellungen und die Konfiguration von Spieleanwendungen sprechen, die in der Unity3d-Umgebung erstellt wurden. <br><br>  Traditionell beginne ich mit dem Hintergrund.  W√§hrend meiner Arbeit in der Spielebranche entwickelte ich verschiedene Projekte mit unterschiedlicher Komplexit√§t und besuchte sowohl das Game Design Camp als auch das Programmiercamp (wo ich bis heute bin).  Es ist kein Geheimnis, dass eine Anwendung eine gro√üe Anzahl unterschiedlicher Konfigurationsdaten und Einstellungen erfordert.  In der klassischen, relativ Unity3d-Form werden solche Einstellungen im sichtbaren Teil des Inspektors platziert, wo einige Zahlen usw. eingegeben werden.  Ich denke, dass es sich nicht lohnt, √ºber die Bequemlichkeit dieses Ansatzes zu sprechen, auch wenn dies ausgeschlossen ist, die Tatsache, dass zum Zeitpunkt der <b>Optimierung</b> die Szene, in der sich die <b>MonoBehaviour-</b> Klasse befindet, f√ºr √Ñnderungen durch andere Entwickler blockiert ist.  Nach einer Reihe verschiedener Pr√ºfungen in der Vergangenheit habe ich mich daher entschlossen, etwas Einfaches und Effektives zu schreiben, das allen das Leben erleichtert und die Arbeit mit solchen Daten vereinfacht, die ich mit Ihnen teilen m√∂chte. <br><br>  <b>Hinweis</b> : Der <i>gesamte unten beschriebene Code gilt f√ºr Unity Version 2018.3+ und verwendet den Roslyn-Compiler (Sprachversion C # 7+).</i> <br><a name="habracut"></a><br><h2>  Interne Einstellungen </h2><br>  Ber√ºcksichtigen Sie zun√§chst die internen Einstellungen des Projekts, zu denen verschiedene Konstanten, Links, Kennungen externer SDKs, Schl√ºssel usw. geh√∂ren.  Dinge wie globale und lokale Gameplay-Einstellungen.  Im Allgemeinen k√∂nnen alle diese Daten in vier Typen unterteilt werden: <br><br><ul><li>  String </li><li>  Int </li><li>  Float </li><li>  Bool </li></ul><br>  Alle anderen Daten k√∂nnen problemlos in ihnen gespeichert werden. Unter Ber√ºcksichtigung der Zeichenfolge k√∂nnen Sie mithilfe der JSON-Serialisierung alles speichern.  Wir werden <b>ScriptableObject</b> als Basis verwenden, das wie kein anderer zur L√∂sung dieser Aufgabe geeignet ist. <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Setting</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> ParameterTypeEnum { Float, Int, String, Bool } [Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ParameterData</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name =&gt; _name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ParameterTypeEnum ParameterType =&gt; _parameterType; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> DefaultValue =&gt; _defaultValue; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _name; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ParameterTypeEnum _parameterType; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _defaultValue; } [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ParameterData[] Parameters; }</code> </pre> <br>  In der Datenbank gibt es also eine Reihe von Werten: <br><br><ul><li>  Parametername </li><li>  Parametertyp </li><li>  Parameterwerte als Zeichenfolge </li></ul><br>  <b>Hinweis</b> : <i>Warum Linien?</i>  <i>Es schien mir bequemer, als 4 Variablen verschiedener Typen zu speichern.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Zur Verwendung im Code f√ºgen wir Hilfsmethoden und ein W√∂rterbuch hinzu, in dem die konvertierten Werte in einer Boxform gespeichert werden.</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">protected</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">readonly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IDictionary</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">string</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">object</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">settingParameters</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">new</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Dictionary</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">string</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">object</span></span>&gt;(); <span class="hljs-selector-attr"><span class="hljs-selector-attr">[NonSerialized]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">protected</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bool</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">initialized</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">private</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OnEnable</span></span>() { #if UNITY_EDITOR if (EditorApplication.isPlayingOrWillChangePlaymode) { Initialization(); } <span class="hljs-selector-id"><span class="hljs-selector-id">#else</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Initialization</span></span>(); <span class="hljs-selector-id"><span class="hljs-selector-id">#endif</span></span> } <span class="hljs-selector-tag"><span class="hljs-selector-tag">public</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">virtual</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">T</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetParameterValue</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">T</span></span>&gt;(<span class="hljs-selector-tag"><span class="hljs-selector-tag">string</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">name</span></span>) { if (settingParameters.ContainsKey(name)) { var parameterValue = (T)settingParameters[name]; return parameterValue; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">else</span></span> { Debug.Log("[Setting]: name not found [{0}]"<span class="hljs-selector-class"><span class="hljs-selector-class">.Fmt</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">name</span></span>)); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">return</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">protected</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">virtual</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Initialization</span></span>() { if (initialized || Parameters == null) return; for (var i = 0; i &lt; Parameters.Length; i++) { var parameter = Parameters[i]; object parameterValue = null; switch (parameter.ParameterType) { case <span class="hljs-attribute"><span class="hljs-attribute">ParameterTypeEnum.Float</span></span>: { if (!float.<span class="hljs-built_in"><span class="hljs-built_in">TryParse</span></span>(parameter.DefaultValue, out float value)) { value = default; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">parameterValue</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetValue</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">parameter</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Name</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">value</span></span>); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">break</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">case</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ParameterTypeEnum</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Int</span></span>: { if (!int.TryParse(parameter.DefaultValue, out int value)) { value = default; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">parameterValue</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetValue</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">parameter</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Name</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">value</span></span>); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">break</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">case</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ParameterTypeEnum</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.String</span></span>: { parameterValue = GetValue(parameter.Name, parameter.DefaultValue); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">break</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">case</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ParameterTypeEnum</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Bool</span></span>: { if (!bool.TryParse(parameter.DefaultValue, out bool value)) { value = default; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">parameterValue</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetValue</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">parameter</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Name</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">value</span></span>); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">break</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">settingParameters</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Add</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">parameter</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Name</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">parameterValue</span></span>); } <span class="hljs-selector-tag"><span class="hljs-selector-tag">initialized</span></span> = <span class="hljs-selector-tag"><span class="hljs-selector-tag">true</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">protected</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">virtual</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">object</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetValue</span></span>&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">T</span></span>&gt;(<span class="hljs-selector-tag"><span class="hljs-selector-tag">string</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">paramName</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">T</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">defaultValue</span></span>) { return defaultValue; }</code> </pre><br></div></div><br>  Die Initialisierung erfolgt in <b>OnEnable</b> .  Warum nicht bei <b>Awake</b> ?  Diese Methode wird nicht f√ºr Instanzen aufgerufen, die als Assets gespeichert sind (sie wird zum Zeitpunkt von <b>CreateInstance aufgerufen</b> , was wir nicht ben√∂tigen).  Wenn die Anwendung f√ºr Assets <b>gestartet wird, wird das ScriptableObject</b> zuerst <b>OnDisable</b> (nur im Editor) und dann <b>OnEnable aufgerufen</b> .  Damit der Editor bei jeder Neukompilierung und beim √ñffnen der Projektinitialisierung nicht funktioniert, m√ºssen Sie Vorkompilierungsanweisungen hinzuf√ºgen und am Anfang der Datei einf√ºgen: <br><pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> UNITY_EDITOR using UnityEditor; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre><br>  Wir werden die <b>GetValue-</b> Methode weiter ben√∂tigen und f√ºr interne Einstellungen einfach den Standardwert zur√ºckgeben. <br><br>  Die <b>GetParameterValue-</b> Methode <b>ist</b> unsere Hauptmethode f√ºr den Zugriff auf Parameter.  Es ist zu ber√ºcksichtigen, dass die in <b>Setting</b> gespeicherten Parameter trotz des Auspackens der Werte in gewisser Weise Konstanten sind. Sie sollten daher beim Initialisieren der Szenen ber√ºcksichtigt werden.  Rufen Sie die Methode nicht in <b>Update auf</b> . <br><br>  Anwendungsbeispiel: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLogic</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Setting _localSetting; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _localStrValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _localIntValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _localFloatValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _localBoolValue; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { _localStrValue = _localSetting.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyStr"</span></span>); _localIntValue = _localSetting.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyInt"</span></span>); _localFloatValue = _localSetting.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyFloat"</span></span>); _localBoolValue = _localSetting.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyBool"</span></span>); } }</code> </pre><br>  Wir haben die Stiftung geschrieben und brauchen jetzt einen Editor, da das Hauptziel f√ºr uns nur die Bequemlichkeit f√ºr diejenigen war, die mit diesen Einstellungen arbeiten. <br><br>  Um ein Men√ºelement hinzuzuf√ºgen, um ein Asset erstellen zu k√∂nnen, k√∂nnen Sie das folgende Attribut verwenden: <br><br><pre> <code class="cs hljs">CreateAssetMenu(fileName = <span class="hljs-string"><span class="hljs-string">"New Setting"</span></span>, menuName = <span class="hljs-string"><span class="hljs-string">"Setting"</span></span>)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Jetzt schreiben wir einen benutzerdefinierten Inspektor, mit dem Sie Daten zum Asset anzeigen und einen externen Editor starten k√∂nnen.</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">CustomEditor(typeof(Setting), true)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SettingCustomInspector</span></span> : <span class="hljs-title"><span class="hljs-title">Editor</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _paramsStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _paramInfoStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _parameterInfo = <span class="hljs-string"><span class="hljs-string">"&lt;color=white&gt;Name&lt;/color&gt;&lt;color=grey&gt; = &lt;/color&gt;&lt;color=yellow&gt;{0}&lt;/color&gt; &lt;color=white&gt;Type&lt;/color&gt;&lt;color=grey&gt; = &lt;/color&gt;&lt;color=yellow&gt;{1}&lt;/color&gt; &lt;color=white&gt;Defualt Value&lt;/color&gt;&lt;color=grey&gt; = &lt;/color&gt;&lt;color=yellow&gt;{2}&lt;/color&gt;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnInspectorGUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(<span class="hljs-string"><span class="hljs-string">"Edit Setting"</span></span>)) { SettingEditorWindow.Show(serializedObject.targetObject <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Setting); } EditorGUILayout.LabelField(<span class="hljs-string"><span class="hljs-string">"Parameters:"</span></span>, _parametersStyle, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramsProp = serializedObject.FindProperty(<span class="hljs-string"><span class="hljs-string">"Parameters"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; paramsProp.arraySize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramProp = paramsProp.GetArrayElementAtIndex(i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramNameProp = paramProp.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramTypeProp = paramProp.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_parameterType"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> paramDefaultValueProp = paramProp.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_defaultValue"</span></span>); EditorGUILayout.BeginHorizontal(); EditorGUILayout.LabelField(_paramInfo.Fmt( paramNameProp.stringValue, paramTypeProp.enumDisplayNames[paramTypeProp.enumValueIndex], paramDefaultValueProp.stringValue), _paramInfoStyle); EditorGUILayout.EndHorizontal(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareGUIStyle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_parametersStyle == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _paramsStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIStyle(GUI.skin.label); _paramsStyle.fontStyle = FontStyle.Bold; _paramsStyle.fontSize = <span class="hljs-number"><span class="hljs-number">12</span></span>; _paramsStyle.normal.textColor = Color.green; _paramInfoStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIStyle(GUI.skin.label); _paramInfoStyle.richText = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } }</code> </pre><br></div></div><br>  So wird es aussehen: <br><br><img src="https://habrastorage.org/webt/jl/ol/8d/jlol8dt8uslasjuultnenljn0dm.png" alt="Bild"><br><br><div class="spoiler">  <b class="spoiler_title">Jetzt brauchen wir einen Editor der Parameter selbst und ihrer Werte, daf√ºr verwenden wir ein benutzerdefiniertes Fenster.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SettingEditorWindow</span></span> : <span class="hljs-title"><span class="hljs-title">EditorWindow</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Setting SelectedAsset; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _currentSelectedAsset = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; _assetNames = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IList&lt;SerializedObject&gt; _settingSerializationObjects = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;SerializedObject&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IList&lt;T&gt; _assets = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;T&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IList&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; _editedNames = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;();; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIContent _editNameIconContent; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _headerStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _parametersStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _parameterHeaderStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GUIStyle _nameStyle; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 _scrollInspectorPosition = Vector2.zero; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Vector2 _scrollAssetsPosition = Vector2.zero; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _SELECTED_ASSET_STR = <span class="hljs-string"><span class="hljs-string">"SettingSelected"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Setting asset</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = GetWindow&lt;Setting&gt;(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); instance.title = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIContent(<span class="hljs-string"><span class="hljs-string">"Settings Editor"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Empty); instance.SelectedAsset = asset; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> assetGuids = AssetDatabase.FindAssets(<span class="hljs-string"><span class="hljs-string">"t:{0}"</span></span>.Fmt(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Setting).Name)); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> guid <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> assetGuids) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = AssetDatabase.GUIDToAssetPath(guid); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> asset = AssetDatabase.LoadAssetAtPath&lt;T&gt;(path); _assetNames.Add(path.Replace(<span class="hljs-string"><span class="hljs-string">"Assets/"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>).Replace(<span class="hljs-string"><span class="hljs-string">".asset"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)); _assets.Add(asset); _settingSerializationObjects.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SerializedObject(asset)); } _currentSelectedAsset = PlayerPrefs.GetInt(_SELECTED_ASSET_STR, <span class="hljs-number"><span class="hljs-number">-1</span></span>); _editNameIconContent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIContent(EditorGUIUtility.IconContent(<span class="hljs-string"><span class="hljs-string">"editicon.sml"</span></span>)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDisable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { PlayerPrefs.SetInt(_SELECTED_ASSET_STR, _currentSelectedAsset); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareGUIStyle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_headerStyle == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _headerStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIStyle(GUI.skin.box); _headerStyle.fontStyle = FontStyle.Bold; _headerStyle.fontSize = <span class="hljs-number"><span class="hljs-number">14</span></span>; _headerStyle.normal.textColor = Color.white; _headerStyle.alignment = TextAnchor.MiddleCenter; _parametersStyle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GUIStyle(GUI.skin.label); _parametersStyle.fontStyle = FontStyle.Bold; _parametersStyle.fontSize = <span class="hljs-number"><span class="hljs-number">12</span></span>; _parametersStyle.normal.textColor = Color.green; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnGUI</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { PrepareGUIStyle(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (SelectedAsset != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { _currentSelectedAsset = _assets.IndexOf(SelectedAsset); SelectedAsset = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } EditorGUILayout.BeginHorizontal(); EditorGUILayout.BeginVertical(GUI.skin.box, GUILayout.MinWidth(<span class="hljs-number"><span class="hljs-number">350f</span></span>), GUILayout.ExpandHeight(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); _scrollAssetsPosition = EditorGUILayout.BeginScrollView(_scrollAssetsPosition, GUIStyle.none, GUI.skin.verticalScrollbar); _currentSelectedAsset = GUILayout.SelectionGrid(_currentSelectedAsset, _assetNames.ToArray(), <span class="hljs-number"><span class="hljs-number">1</span></span>); EditorGUILayout.EndScrollView(); EditorGUILayout.EndVertical(); EditorGUILayout.BeginVertical(GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> assetSerializedObject = (_currentSelectedAsset &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) ? _settingSerializationObjects[_currentSelectedAsset] : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; EditorGUILayout.Space(); EditorGUILayout.LabelField((_currentSelectedAsset &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) ? _assetNames[_currentSelectedAsset] : <span class="hljs-string"><span class="hljs-string">"Select Asset..."</span></span>, _headerStyle, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); EditorGUILayout.Space(); _scrollInspectorPosition = EditorGUILayout.BeginScrollView(_scrollInspectorPosition, GUIStyle.none, GUI.skin.verticalScrollbar); Draw(assetSerializedObject); EditorGUILayout.EndScrollView(); EditorGUILayout.EndVertical(); EditorGUILayout.EndHorizontal(); assetSerializedObject?.ApplyModifiedProperties(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Draw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SerializedObject assetSerializationObject</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (assetSerializationObject == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; EditorGUILayout.BeginHorizontal(); EditorGUILayout.LabelField(<span class="hljs-string"><span class="hljs-string">"Parameters:"</span></span>, _parametersStyle, GUILayout.Width(<span class="hljs-number"><span class="hljs-number">20f</span></span>), GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parametersProperty = assetSerializationObject.FindProperty(<span class="hljs-string"><span class="hljs-string">"Parameters"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(<span class="hljs-string"><span class="hljs-string">"Add"</span></span>, GUILayout.MaxWidth(<span class="hljs-number"><span class="hljs-number">40f</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (parametersProperty != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { parametersProperty.InsertArrayElementAtIndex(parametersProperty.arraySize); } } EditorGUILayout.EndHorizontal(); EditorGUILayout.Space(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (parametersProperty != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; parametersProperty.arraySize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameterProperty = parametersProperty.GetArrayElementAtIndex(i); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameterNameProperty = parameterProperty.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameterTypeProperty = parameterProperty.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_parameterType"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameterDefaultValueProperty = parameterProperty.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"_defaultValue"</span></span>); EditorGUILayout.BeginHorizontal(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(_editNameIconContent, GUILayout.MaxWidth(<span class="hljs-number"><span class="hljs-number">25f</span></span>), GUILayout.MaxHeight(<span class="hljs-number"><span class="hljs-number">18f</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_editedNames.Contains(i)) { _editedNames.Remove(i); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { _editedNames.Add(i); } } EditorGUILayout.LabelField(<span class="hljs-string"><span class="hljs-string">"Name"</span></span>, _parameterHeaderStyle, GUILayout.MaxWidth(<span class="hljs-number"><span class="hljs-number">40f</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_editedNames.Contains(i)) { parameterNameProperty.stringValue = EditorGUILayout.TextField(parameterNameProperty.stringValue, GUILayout.Width(<span class="hljs-number"><span class="hljs-number">175f</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ev = Event.current; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ev.type == EventType.MouseDown || ev.type == EventType.Ignore || (ev.type == EventType.KeyDown &amp;&amp; ev.keyCode == KeyCode.Return)) { _editedNames.Remove(i); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { EditorGUILayout.LabelField(parameterNameProperty.stringValue, _nameStyle, GUILayout.Width(<span class="hljs-number"><span class="hljs-number">175f</span></span>)); } EditorGUILayout.LabelField(<span class="hljs-string"><span class="hljs-string">"Type"</span></span>, _parameterHeaderStyle, GUILayout.MaxWidth(<span class="hljs-number"><span class="hljs-number">40f</span></span>)); parameterTypeProperty.enumValueIndex = EditorGUILayout.Popup(parameterTypeProperty.enumValueIndex, parameterTypeProperty.enumDisplayNames, GUILayout.Width(<span class="hljs-number"><span class="hljs-number">75f</span></span>)); GUILayout.Space(<span class="hljs-number"><span class="hljs-number">20f</span></span>); EditorGUILayout.LabelField(<span class="hljs-string"><span class="hljs-string">"DefaultValue"</span></span>, _parameterHeaderStyle, GUILayout.Width(<span class="hljs-number"><span class="hljs-number">85f</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (parameterTypeProperty.enumValueIndex) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>.TryParse(parameterDefaultValueProperty.stringValue, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = EditorGUILayout.FloatField(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); parameterDefaultValueProperty.stringValue = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.ToString(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.TryParse(parameterDefaultValueProperty.stringValue, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = EditorGUILayout.IntField(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); parameterDefaultValueProperty.stringValue = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.ToString(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: parameterDefaultValueProperty.stringValue = EditorGUILayout.TextField(parameterDefaultValueProperty.stringValue, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>.TryParse(parameterDefaultValueProperty.stringValue, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = EditorGUILayout.Toggle(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, GUILayout.ExpandWidth(<span class="hljs-literal"><span class="hljs-literal">true</span></span>)); parameterDefaultValueProperty.stringValue = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>.ToString(); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (GUILayout.Button(<span class="hljs-string"><span class="hljs-string">"-"</span></span>, GUILayout.MaxWidth(<span class="hljs-number"><span class="hljs-number">25f</span></span>), GUILayout.MaxHeight(<span class="hljs-number"><span class="hljs-number">18f</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_editedNames.Contains(i)) { _editedNames.Remove(i); } parametersProperty.DeleteArrayElementAtIndex(i); } EditorGUILayout.EndHorizontal(); } } } }</code> </pre><br></div></div><br>  Ich werde den Code nicht viel erkl√§ren, hier ist alles einfach.  Ich stelle nur fest, dass Sie mit dem Editor optional alle Assets vom Typ <b>Einstellung</b> bearbeiten k√∂nnen.  Zu diesem <b>Zweck</b> finden wir sie beim √ñffnen des Fensters im Projekt mithilfe der <b>AssetDatabase.FindAssets-</b> Methode <b>("t: {0}". Fmt (typeof (Setting) .Name))</b> .  Die Bearbeitung des Parameternamens erfolgt ebenfalls √ºber die Schaltfl√§che, um eine versehentliche √Ñnderung auszuschlie√üen. <br><br>  So sieht der Editor aus: <br><br><img src="https://habrastorage.org/webt/x1/5a/d1/x15ad1d3gw0jeza8lzcwfybpyn0.png" alt="Bild"><br><br>  Wir haben die in der Anwendung verwendeten Einstellungen untersucht und werden nun einen spezifischeren Fall betrachten. <br><br><h2>  Externe Einstellungen </h2><br>  Stellen Sie sich eine Situation vor, in der wir in einem bereits laufenden Spiel pl√∂tzlich bestimmte Werte √§ndern mussten, um das Gameplay anzupassen.  In der primitiven Version √§ndern wir dies im Build, sammeln solche √Ñnderungen, nehmen ein Update vor und senden es an die Filialen. Danach warten wir auf die Best√§tigung usw.  Aber wie w√§re es mit denen, die die Anwendung nicht aktualisieren?  Und was ist, wenn dringend √Ñnderungen vorgenommen werden m√ºssen?  Um dieses Problem zu l√∂sen, gibt es einen Mechanismus wie <b>Remote-Einstellungen</b> .  Dies ist keine neue Erfindung und wird beispielsweise in vielen SDKs von Drittanbietern f√ºr Analysen usw. verwendet - in <b>Firebase</b> , <b>GameAnalytics</b> sowie in <b>Unity Analytics</b> .  Letzteres werden wir verwenden. <br><br>  <b>Hinweis</b> : <i>Im Allgemeinen gibt es keinen Unterschied zwischen all diesen Systemen. Sie sind √§hnlich und verwenden dieselben Prinzipien.</i> <br><br>  Lassen Sie uns n√§her darauf <b>eingehen,</b> was <b>Remote-Einstellungen</b> in <b>Unity Analytics sind</b> und was sie <b>bewirken</b> k√∂nnen. <br><br>  Damit diese Funktionalit√§t im Projekt verf√ºgbar wird, m√ºssen Sie die Analyse im Projekt auf der Registerkarte <b>Dienste</b> aktivieren. <br><br><img src="https://habrastorage.org/webt/ki/eb/pf/kiebpfcyu4b2f53c35qzoxipd2e.png" alt="Bild"><br><br>  Danach m√ºssen Sie sich bei Ihrem Unity3d-Konto anmelden und dort Ihr Projekt finden und dem Link zum Analysebereich folgen, wo Sie links im Men√º <b>Remote-Einstellungen</b> ausw√§hlen. <br><br><img src="https://habrastorage.org/webt/nj/m_/ww/njm_wwk4dwtmfut-1wdy9gugnp0.png" alt="Bild"><br><br>  Alle Einstellungen sind in diejenigen unterteilt, die im Entwicklungsmodus verwendet werden, und diejenigen, die in einer bereits ver√∂ffentlichten Anwendung verwendet werden. <br><br><img src="https://habrastorage.org/webt/7t/hf/ts/7thftsk8qatbs2cbhy_z6ek1alq.png" alt="Bild"><br><br>  Um einen Parameter hinzuzuf√ºgen, w√§hlen Sie das entsprechende Element aus und geben Sie den Namen, den Typ und den Wert des Parameters ein. <br><br><img src="https://habrastorage.org/webt/jo/il/im/joilimonh5653fmucnogp5lck7m.png" alt="Bild"><br><br>  Nachdem wir alle erforderlichen Parameter hinzugef√ºgt haben, ben√∂tigen wir Unterst√ºtzung im Code, um mit ihnen arbeiten zu k√∂nnen. <br><br>  <b>Hinweis</b> : Die <i>Schaltfl√§che Synchronisieren synchronisiert die Einstellungen mit der Anwendung.</i>  <i>Dieser Vorgang findet nicht sofort statt. In dem Moment, in dem die Parameter in der Anwendung aktualisiert werden, werden entsprechende Ereignisse ausgel√∂st, √ºber die wir sp√§ter sprechen werden</i> . <br><br>  Um mit <b>Remote-Einstellungen zu arbeiten,</b> ben√∂tigen Sie keine zus√§tzlichen SDKs. Aktivieren Sie einfach die Analyse, wie oben beschrieben. <br><br><div class="spoiler">  <b class="spoiler_title">Wir werden eine Klasse f√ºr die Arbeit mit Remote-Einstellungen schreiben. Dazu verwenden wir die oben beschriebene Setting-Klasse als Basis.</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RemoteSetting</span></span> : <span class="hljs-title"><span class="hljs-title">Setting</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IList&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetUpdatedParameter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> updatedParameters = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Parameters.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameter = Parameters[i]; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (parameter.ParameterType) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ParameterTypeEnum.Float: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentValue = Get&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;(parameter.Name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newValue = RemoteSettings.GetFloat(parameter.Name, currentValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentValue != newValue) { settingParameters[parameter.Name] = newValue; updatedParameters.Add(parameter.Name); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ParameterTypeEnum.Int: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentValue = Get&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(parameter.Name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newValue = RemoteSettings.GetInt(parameter.Name, currentValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentValue != newValue) { settingParameters[parameter.Name] = newValue; updatedParameters.Add(parameter.Name); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ParameterTypeEnum.String: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentValue = Get&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(parameter.Name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newValue = RemoteSettings.GetString(parameter.Name, currentValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Compare(currentValue, newValue, System.StringComparison.Ordinal) != <span class="hljs-number"><span class="hljs-number">0</span></span>) { settingParameters[parameter.Name] = newValue; updatedParameters.Add(parameter.Name); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> ParameterTypeEnum.Bool: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentValue = Get&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(parameter.Name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newValue = RemoteSettings.GetBool(parameter.Name, currentValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentValue != newValue) { settingParameters[parameter.Name] = newValue; updatedParameters.Add(parameter.Name); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> updatedParameters; } <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> GetValue&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> paramName, T defaultValue) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(defaultValue) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RemoteSettings.GetFloat(paramName, f); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RemoteSettings.GetInt(paramName, i); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> s: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RemoteSettings.GetString(paramName, s); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> b: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RemoteSettings.GetBool(paramName, b); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; } } }</code> </pre><br></div></div><br>  Wie Sie sehen, haben wir die <b>GetValue-</b> Methode neu definiert und eine neue Methode hinzugef√ºgt, mit der Sie eine Liste ge√§nderter Parameter <b>abrufen</b> k√∂nnen. Wir werden sie sp√§ter ben√∂tigen. <br><br>  Oben haben wir ein Beispiel f√ºr die Verwendung von <b>Einstellungen</b> in Code geschrieben. Es ist recht einfach, ber√ºcksichtigt jedoch nicht das Vorhandensein von Remote-Einstellungen. Um den Zugriff auf alle Einstellungen in einem einzigen Schl√ºssel zu vereinheitlichen, schreiben wir einen Manager, der Ihnen dabei hilft. <br><br><div class="spoiler">  <b class="spoiler_title">Einstellungen Manager Code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SettingsManager</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviourSingleton</span></span>&lt;<span class="hljs-title"><span class="hljs-title">SettingsManager</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Setting <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span> index] =&gt; GetSetting(index); [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Setting[] _settings; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, Setting&gt; _settingsByName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, Setting&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForceUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RemoteSettings.ForceUpdate(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> setting <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _settings) { _settingsByName.Add(setting.name, setting); } RemoteSettings.BeforeFetchFromServer += OnRemoteSettingBeforeUpdate; RemoteSettings.Updated += OnRemoteSettingsUpdated; RemoteSettings.Completed += OnRemoteSettingCompleted; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Setting </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSetting</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(_settingsByName.ContainsKey(name)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _settingsByName[name]; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Debug.LogWarningFormat(<span class="hljs-string"><span class="hljs-string">"[SettingManager]: setting name [{0}] not found"</span></span>, name); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemoteSettingBeforeUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RemoteSettingBeforeUpdate.Call(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemoteSettingsUpdated</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> setting <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> _settingsByName.Values) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (setting <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> RemoteSetting) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> updatedParameter = remoteSetting.GetUpdatedParameter(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parameterName <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> updatedParameter) { RemoteSettingUpdated.Call(parameterName); } } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnRemoteSettingCompleted</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> wasUpdatedFromServer, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> settingsChanged, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> serverResponse</span></span></span><span class="hljs-function">)</span></span> { RemoteSettingsCompleted.Call(wasUpdatedFromServer, settingsChanged, serverResponse); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RemoteSettings.BeforeFetchFromServer -= OnRemoteSettingBeforeUpdate; RemoteSettings.Updated -= OnRemoteSettingsUpdated; RemoteSettings.Completed -= OnRemoteSettingCompleted; } }</code> </pre><br></div></div><br>  Der Manager wird in Form eines Sigleton dargestellt, der nur in der Szene lebt.  Dies wurde durchgef√ºhrt, um die Referenz zu vereinfachen und um eine Reihe von Parametern in jeder Szene einfach verwalten zu k√∂nnen (schlie√üen Sie Parameter aus, die von der Logik nicht ben√∂tigt werden). <br><br>  Wie Sie sehen k√∂nnen, hat <b>RemoteSettings</b> drei Ereignisse: <br><br><ol><li>  Ereignis, das ausgel√∂st wird, bevor Parameterwerte vom Remote-Server empfangen werden </li><li>  Parameteraktualisierungsereignis (wird nur √ºber die Schaltfl√§che "Synchronisieren" aufgerufen, √ºber die wir zuvor geschrieben haben) sowie im Fall einer erzwungenen Aktualisierung von Parametern √ºber die ForceUpdate-Funktion </li><li>  Ereignis ausgel√∂st, wenn Daten zu Remote-Einstellungen vom Server empfangen werden.  Hier wird auch der Server-Antwortcode ausgegeben, falls ein Fehler auftritt. </li></ol><br>  <b>Hinweis</b> : Der <i>Code verwendet ein Ereignissystem, das auf Datentypen basiert. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Weitere Informationen hierzu finden</a> Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einem anderen Artikel von mir</a> .</i> <br><br>  <b>Hinweis</b> : Sie <i>m√ºssen verstehen, wie RemoteSettings funktioniert.</i>  <i>Wenn zu Beginn ein Internetzugang vorhanden ist, werden automatisch Daten zu den Parametern heruntergeladen und zwischengespeichert. Wenn Sie das n√§chste Mal starten und kein Internet vorhanden ist, werden die Daten aus dem Cache entnommen.</i>  <i>Die Ausnahme ist die Situation, in der die Anwendung zum ersten Mal mit deaktiviertem Zugriff auf das Netzwerk gestartet wird. In diesem Fall geben die Funktionen zum Abrufen des Parameterwerts den Standardwert zur√ºck.</i>  <i>In unserem Fall sind dies diejenigen, die wir in den Editor eingeben.</i> <br><br>  Lassen Sie uns nun das Beispiel f√ºr die Verwendung von Einstellungen aus dem Code unter Ber√ºcksichtigung der obigen Punkte √§ndern. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLogic</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> INGAME_PARAMETERS = <span class="hljs-string"><span class="hljs-string">"IngamgeParameters"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> REMOTE_RAPAMETERS = <span class="hljs-string"><span class="hljs-string">"RemoteParamteters"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _localStrValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _localIntValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _localFloatValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _localBoolValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _remoteStrValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _remoteIntValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _remoteFloatValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _remoteBoolValue; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ingameParametes = SettingsManager.Instance[INGAME_PARAMETERS]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> remoteParametes = SettingsManager.Instance[REMOTE_RAPAMETERS]; _localStrValue = ingameParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyStr"</span></span>); _localIntValue = ingameParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyInt"</span></span>); _localFloatValue = ingameParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyFloat"</span></span>); _localBoolValue = ingameParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyBool"</span></span>); _remoteStrValue = remoteParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyStr"</span></span>); _remoteIntValue = remoteParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyInt"</span></span>); _remoteFloatValue = remoteParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyFloat"</span></span>); _remoteBoolValue = remoteParametes.GetParameterValue&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"MyBool"</span></span>); } }</code> </pre><br>  Wie Sie dem Code entnehmen k√∂nnen, gibt es keinen Unterschied in der Arbeit zwischen internen und externen Einstellungen. Wenn es die Logik erfordert, k√∂nnen Sie jedoch bei Bedarf Managerereignisse abonnieren, die sich auf Remoteeinstellungen beziehen. <br><br>  <b>Hinweis</b> : <i>Wenn Sie nur Remote-Parameter ben√∂tigen, k√∂nnen Sie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">spezielles Plug-In aus AssetStore herunterladen</a> , mit dem Sie sofort arbeiten k√∂nnen.</i> <br><br><h2>  Fazit </h2><br>  In diesem Artikel habe ich versucht zu zeigen, wie Sie eine in Unity3d geschriebene Anwendung einfach mit internen und Remote-Einstellungen konfigurieren k√∂nnen.  Ich verwende in meinen Projekten einen √§hnlichen Ansatz, der seine Wirksamkeit unter Beweis stellt.  Wir haben es sogar geschafft, unsere Remote-Einstellungen zur Implementierung unseres <b>A / B-Testsystems zu verwenden</b> .  Dar√ºber hinaus werden die Einstellungen h√§ufig zum Speichern verschiedener Konstanten verwendet, die sich auf das SDK, Server-Dinge sowie Gameplay-Einstellungen usw. beziehen.  Der Spieledesigner kann im Voraus eine Reihe von Parametern erstellen und beschreiben, wie, wof√ºr und wo sie verwendet werden, w√§hrend er das Gameplay anpassen kann, ohne die Szene zu blockieren.  Aufgrund der Tatsache, dass wir <b>ScriptableObject verwendet</b> und Parameter wie Assets <b>gespeichert haben</b> , k√∂nnen diese √ºber <b>AssetBundle</b> geladen werden, wodurch unsere Funktionen weiter erweitert werden. <br><br>  <b>Im Artikel angegebene Links</b> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">habr.com/de/post/282524</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Assetstore.unity.com/packages/add-ons/services/analytics/unity-analytics-remote-settings-89317</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436634/">https://habr.com/ru/post/de436634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436624/index.html">Studie: Die meisten Nutzer verstehen nicht, wie Facebook mit ihren Daten umgeht.</a></li>
<li><a href="../de436626/index.html">Python wird zur beliebtesten Programmiersprache der Welt.</a></li>
<li><a href="../de436628/index.html">Verbesserung des aktienbasierten Q-Learning-Agenten durch Hinzuf√ºgen von Wiederholungen und Belohnungen</a></li>
<li><a href="../de436630/index.html">Microservices. Vereinigung und warum es so wichtig ist. Teil 1 - Konfiguration</a></li>
<li><a href="../de436632/index.html">Wie wir ein System zur Verarbeitung, Speicherung und Analyse von Daten in SIBUR aufbauen</a></li>
<li><a href="../de436636/index.html">So erstelle ich einen VKontakte-Community-Empfehlungsdienst</a></li>
<li><a href="../de436638/index.html">Verteilen von Fenstern zwischen Monitoren nach dem Aufwachen aus dem Ruhemodus</a></li>
<li><a href="../de436640/index.html">Meine Erfahrung mit Werbung und Entwicklung von Android- und iOS-Anwendungen</a></li>
<li><a href="../de436642/index.html">Ticket to Ride.Europe - bescheidene Schritte in der Arithmetik des Spiels</a></li>
<li><a href="../de436644/index.html">Synthetische Symbole und Module (WinDbg / DbgEng)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>