<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¬œï¸ ğŸšº ğŸ‘©ğŸ¾â€ğŸ’» Kami mengontrol fokus atau sejumput C # dan STM32 untuk webcam ğŸŒ´ ğŸ›ŒğŸ¼ ğŸ‘µğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Semuanya dimulai dengan sangat lucu. Dua webcam dari pabrikan Logitech (model C525) terhubung ke komputer saya. Kamera yang cukup bagus, tetapi ternya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mengontrol fokus atau sejumput C # dan STM32 untuk webcam</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463595/"><p>  Semuanya dimulai dengan sangat lucu.  Dua webcam dari pabrikan Logitech (model C525) terhubung ke komputer saya.  Kamera yang cukup bagus, tetapi ternyata kemudian, dengan driver yang kualitasnya sangat meragukan.  Padahal, ini bukan hanya masalah pabrikan ini.  Utilitas konfigurasi mereka menggantikan sistem, tetapi bahkan tidak curiga bahwa komputer mungkin memiliki lebih dari satu kamera model ini.  Akibatnya, ketika Anda membuka jendela pengaturan untuk kamera berbeda dari OBS Studio, fokus selalu berubah untuk satu.  Kekacauan. </p><a name="habracut"></a><br><p>  Pada suatu waktu, ia banyak bermain dengan menangkap dan menyiarkan kamera di VLC.  Dari antarmuka-nya saya belajar tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DirectShow</a> .  Saya memutuskan untuk berkembang di C #, meskipun kurangnya pengalaman (kami tidak akan mempertimbangkan laboratorium di universitas).  Secara harfiah di malam hari, saya membuat sketsa TrackBars untuk semua kamera yang ditemukan, dan untungnya tidak ada batasan.  Saya membuang utilitas ke beberapa blogger video yang akrab untuk digunakan pada streaming. </p><br><p><img src="https://habrastorage.org/webt/u7/lk/r0/u7lkr0kbvcctpzcx-omoeoh_xso.png"></p><br><p>  Selanjutnya, mereka menerima permintaan untuk memperluas fungsionalitas.  Tambahkan penyesuaian keseimbangan putih.  Lalu mengapa tidak membiarkan pengguna memilih parameter yang dia butuhkan?  Untuk setiap kamera secara terpisah.  Mulai saat ini tab muncul.  Yang pertama bersifat umum, dengan parameter yang dipilih, dan tab untuk setiap webcam yang terdeteksi. </p><br><p><img src="https://habrastorage.org/webt/89/no/yk/89noyk07su9il5ctzcpgdskcvje.png"></p><br><p>  Benar, tidak semua parameter didukung oleh kamera.  Hanya 3 status: tidak tersedia, hanya penyesuaian manual, penyesuaian manual dan otomatis.  Ada juga hanya otomatis, tetapi saya tidak ingat mendapatkannya dari perangkat apa pun.  Karenanya, beberapa jalur dimatikan.  Untuk kamera laptop, misalnya, setengah dari daftar yang terkait dengan pengaturan pengambilan tidak tersedia.  Tetapi koreksi sudah ada di sana. </p><br><p>  Selama implementasi "antarmuka tab", muncul pikiran di benak saya: untuk melampirkan encoder.  Pada kamera SLR, memutar cincin fokus sangat nyaman.  Tetapi mereka tidak mengirimkannya ke webcam.  Jadi bayi-bayi STM32F070 terhubung ke proyek.  Ini adalah chip terkecil dengan dukungan untuk USB 2.0.  Sudah ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> bagus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tentang Habr tentang Custom HID</a> , sehingga Anda dapat melewati deskripsi terperinci dari item ini.  Tata letak perangkat sangat sederhana.  Tidak diperlukan pemipaan untuk mikrokontroler ini.  Hanya sekarang dia tidak tahu bagaimana memulai generator built-in pada PLL, jadi kuarsa diperlukan.  Dari elemen kontrol, selain encoder, ada 4 tombol.  Salah satunya dibangun ke dalam encoder.  Ini sekarang sangat umum.  Soal pengangkatan masing-masing akan sedikit nanti. </p><br><img src="https://habrastorage.org/webt/hf/gi/ad/hfgiad3md__bq8_nz-qmn6kbk1a.png"><br><p>  Untuk men-debug perangkat lunak, dua instance perangkat HID disolder.  Tetapi mereka berkumpul hampir di atas sebuah papan tempat memotong roti.  Ini sebenarnya syal untuk Pinboard II.  Sia-sia, ketika kabel mereka, saya tidak segera menambahkan port USB dan stabilizer linier.  Itu akan terlihat pertanian kolektif kurang (tidak).  Pada perangkat yang sudah jadi, direncanakan untuk menempatkan syal di dudukan kamera pada tripod.  Tentu saja dicetak pada printer 3D.  Agar hanya satu kabel yang mengarah ke kamera, Anda juga dapat menempatkan hub USB di tempat yang sama.  Misalnya, FE1.1 tidak lebih besar dari STM32.  Tapi jujur â€‹â€‹480 megabit.  Secara umum, penerapan besi masih menjadi pertanyaan terbuka. </p><br><p>  Mereka yang ingin mengulang dapat mengunduh sumber dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> .  Biaya sepotong besi oleh komponen kondisional 100 rubel, 55 di mana mikrokontroler "makan".  Dalam kasus saya, kuarsa harganya 20 megahertz, tapi ini "apa yang ada di tempat sampah."  Ubah denominasi, tetapi konfigurasi ulang sistem jam sehingga modul USB cocok untuk semuanya. </p><br><p><img src="https://habrastorage.org/webt/id/xl/mt/idxlmtt2b9jlrhxv3posnsx6ogc.jpeg"></p><br><p>  Sekarang tentang pengangkatan tombol perangkat keras.  Encoder bawaan mengembalikan parameter ke mode otomatis, jika memungkinkan.  Rotasi diterjemahkan menjadi manual.  Karena pengguna dapat menyesuaikan beberapa parameter, Anda perlu beralih di antaranya.  Tombol S1 bertanggung jawab untuk perulangan melalui parameter, dan pada S2 dan S3 Anda dapat menetapkan yang spesifik agar tidak terganggu oleh jendela program dengan memeriksa parameter yang dipilih. </p><br><p>  Indikasi digunakan untuk mengidentifikasi perangkat.  Pada tab kamera, Anda dapat mengikat perangkat HID ke kamera tertentu.  LED menyala ketika dipilih dalam daftar drop-down.  Diagram menyediakan LED dengan dua kristal dalam satu rumahan, tetapi semua fitur-fiturnya tidak digunakan.  Meninggalkan masa depan. </p><br><p>  Setiap perangkat HID memiliki nomor seri uniknya sendiri, yang dikirimkan melalui USB.  Dialah yang ditampilkan dalam daftar.  Keunikan angka dipastikan oleh pengidentifikasi mikrokontroler itu sendiri.  Ini adalah tanggal produksi dan tempatnya di atas piring.  Metode pembentukan yang sangat lucu.  Meskipun bukan nomor seri disimpan dalam file INI, tetapi jalur ke perangkat (berisi VID, PID dan GUID).  Semua pengaturan dapat dibaca, sehingga file dapat diedit dengan notepad.  Tapi kenapa. </p><br><p>  Bilah kamera adalah hal yang buruk.  OBS Studio, misalnya, meninggalkan bingkai terakhir.  Terkadang Anda tidak segera melihat gangguan.  Jadi pemberitahuan helm.  Secara umum, pemrosesan menghubungkan perangkat baru dan menghubungkan kembali yang ada adalah tugas yang paling sulit.  Webcam dan HID.  Pada dasarnya yang pertama.  Dipengaruhi oleh kurangnya pengalaman pemrograman di C #.  Penting untuk membaca beberapa jenis buku ... Berapa banyak aliran yang dilewati ketika masih berfungsi ... Proses disiarkan di YouTube, di mana pemirsa secara berkala diminta oleh kode dan fungsi aplikasi.  Sangat nyaman.  Pikiran bersama. </p><br><p>  Jadi, karena pengemudi miring, kerajinan seperti itu muncul.  Tentu saja, seiring waktu itu akan diperbarui, di-debug, jadi ada tautan ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463595/">https://habr.com/ru/post/id463595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463581/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 23. Teknologi Routing Lanjut</a></li>
<li><a href="../id463583/index.html">Plugin yang fantastis, vol. 1. Teori</a></li>
<li><a href="../id463585/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 24. IPv6</a></li>
<li><a href="../id463587/index.html">ConfigureAunggu, siapa yang harus disalahkan dan apa yang harus dilakukan?</a></li>
<li><a href="../id463591/index.html">BlueKeep-2 - semua versi Windows baru sekarang rentan</a></li>
<li><a href="../id463597/index.html">Menggunakan Context API in React untuk membuat desain aplikasi yang responsif</a></li>
<li><a href="../id463599/index.html">"Ini adalah mimpi buruk": para astronot berbagi pendapat tentang kesalahan yang dilakukan Hollywood ketika membuat film tentang ruang</a></li>
<li><a href="../id463601/index.html">Pisahkan metode logging di Java / logback</a></li>
<li><a href="../id463605/index.html">Intelektual teknis - dari luar angkasa</a></li>
<li><a href="../id463607/index.html">Alternatif bawaan redux dengan Bereaksi Konteks dan kait</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>