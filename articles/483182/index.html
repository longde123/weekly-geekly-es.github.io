<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÄÑÔ∏è üíÇüèº ‚ôèÔ∏è Cinco formas interesantes de usar Array.reduce () (y una forma aburrida) üïπÔ∏è üï£ ü•´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Le presento la traducci√≥n del art√≠culo "Cinco formas interesantes de usar Array.reduce () (y una forma aburrida)" de Chris Ferdinandi. 


 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cinco formas interesantes de usar Array.reduce () (y una forma aburrida)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483182/"><p>  Hola Habr!  Le presento la traducci√≥n del art√≠culo <a href="https://24ways.org/2019/five-interesting-ways-to-use-array-reduce/" rel="nofollow">"Cinco formas interesantes de usar Array.reduce () (y una forma aburrida)"</a> de Chris Ferdinandi. </p><br><p>  De todos los m√©todos modernos de trabajar con matrices, el m√°s dif√≠cil de todos que tuve que usar fue Array.reduce (). </p><br><p>  A primera vista, parece ser un m√©todo simple y aburrido que hace poco.  Pero, a pesar de su apariencia modesta, Array.reduce () es una adici√≥n poderosa y flexible a su conjunto de herramientas de desarrollador. </p><br><p>  Hoy, veamos algunas cosas interesantes que puedes hacer con Array.reduce (). </p><a name="habracut"></a><br><h4>  C√≥mo funciona Array.reduce () </h4><br><p>  La mayor√≠a de los m√©todos de matriz modernos devuelven una nueva matriz.  El m√©todo Array.reduce () es un poco m√°s flexible.  √âl puede devolver cualquier cosa.  Su prop√≥sito es tomar una matriz y comprimir su contenido en un valor. </p><br><p>  Este valor puede ser un n√∫mero, una cadena o incluso un objeto o una nueva matriz.  Esta es la parte que siempre me desconcert√≥: ¬°no entend√≠ lo flexible que es! </p><br><h4>  Sintaxis </h4><br><p>  Array.reduce () toma dos argumentos: el m√©todo de devoluci√≥n de llamada, que se ejecuta para iniciar cada elemento en la matriz, y el valor inicial initialValue. </p><br><p>  La devoluci√≥n de llamada tambi√©n toma dos argumentos: el acumulador, que es el valor combinado actual, y el elemento actual en el bucle currentValue.  Todo lo que devuelva se usa como acumulador para el siguiente elemento del bucle.  El primer bucle utiliza el valor inicial en su lugar. </p><br><pre><code class="plaintext hljs">var myNewArray = [].reduce(function (accumulator, current) { return accumulator;}, starting); }, starting);</code> </pre> <br><p>  Veamos algunos ejemplos. </p><br><pre> <code class="plaintext hljs">var myNewArray = [].reduce(function (accumulator, current) { return accumulator;}, starting);</code> </pre> <br><p>  <strong>1. Suma de n√∫meros</strong> </p><br><p>  Suponga que tiene una serie de n√∫meros que desea sumar.  Usando Array.forEach (), podemos hacer algo como esto: </p><br><pre> <code class="plaintext hljs">var total = 0; [1, 2, 3].forEach(function (num) { total += num; });</code> </pre> <br><p>  Este es un ejemplo clich√© para usar Array.reduce ().  La palabra "acumulador" es confusa, por lo que en este ejemplo la llamaremos "suma" porque es lo que es inherentemente. </p><br><pre> <code class="plaintext hljs">var total = [1, 2, 3].reduce(function (sum, current) { return sum + current; }, 0);    0    .</code> </pre> <br><p>  En la devoluci√≥n de llamada, agregamos el valor actual a la cantidad que tiene un valor inicial de 0 en el primer ciclo, luego 1 (valor inicial 0 m√°s valor de elemento 1), luego 3 (valor total 1 m√°s valor de elemento 2) y as√≠ sucesivamente. <br>  <a href="https://codepen.io/cferdinandi/pen/drJOOB" rel="nofollow">Un ejemplo</a> </p><br><p>  <strong>2.Una alternativa a la combinaci√≥n de los m√©todos de matriz Array.map () y Array.filter () en un solo paso</strong> </p><br><p>  Imagina que hay muchos magos en Hogwarts. </p><br><pre> <code class="plaintext hljs">var wizards = [ { name: 'Harry Potter', house: 'Gryfindor' }, { name: 'Cedric Diggory', house: 'Hufflepuff' }, { name: 'Tonks', house: 'Hufflepuff' }, { name: 'Ronald Weasley', house: 'Gryfindor' }, { name: 'Hermione Granger', house: 'Gryfindor' }];</code> </pre> <br><p>  Queremos crear una nueva matriz que contendr√° solo los nombres de los maestros de Hufflepuff.  Una forma de hacerlo es utilizar el m√©todo Array.filter () para recuperar solo aquellos asistentes que tienen una propiedad Hufflepuff en casa.  Luego usamos el m√©todo Array.map () para crear una nueva matriz que contenga solo la propiedad de nombre para los maestros restantes. </p><br><pre> <code class="plaintext hljs">//      var hufflepuff = wizards.filter(function (wizard) { return wizard.house === 'Hufflepuff'; }).map(function (wizard) { return wizard.name; });</code> </pre> <br><p>  Usando el m√©todo Array.reduce (), puede obtener la misma matriz en una sola pasada, lo que mejorar√° nuestro rendimiento.  Pasamos una matriz vac√≠a ([]) como valor inicial.  En cada pase, verificamos si wizard.house es un Hufflepuff.  Si es as√≠, env√≠elo a newArr (nuestro acumulador en este ejemplo).  Si no, no hagas nada. </p><br><p>  En cualquier caso, devuelva newArr para obtener el acumulador en la pr√≥xima pasada. </p><br><pre> <code class="plaintext hljs">//      var hufflepuff = wizards.reduce(function (newArr, wizard) { if (wizard.house === 'Hufflepuff') { newArr.push(wizard.name); } return newArr; }, []);</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/jJYVyL" rel="nofollow">Un ejemplo</a> </p><br><p>  <strong>3.Crear marcado desde una matriz</strong> </p><br><p>  ¬øQu√© sucede si, en lugar de crear una matriz de nombres, queremos crear una lista desordenada de maestros en Hufflepuff?  En lugar de una matriz vac√≠a en Array.reduce () como nuestro valor inicial, pase una cadena vac√≠a ('') y ll√°mela html. </p><br><p>  Si wizard.house es igual a Hufflepuff, combinamos nuestra cadena html con wizard.name envuelta en los elementos de la lista de apertura y cierre (li).  Luego devuelva HTML como acumulador en el siguiente ciclo. </p><br><pre> <code class="plaintext hljs">//      var hufflepuffList = wizards.reduce(function (html, wizard) { if (wizard.house === 'Hufflepuff') { html += '&lt;li&gt;' + wizard.name + '&lt;/li&gt;'; } return html; }, '');</code> </pre> <br><p>  Agregue el elemento de lista desordenada de apertura y cierre antes y despu√©s de Array.reduce ().  Ahora est√° listo para agregar marcado al DOM. </p><br><pre> <code class="plaintext hljs">//      var hufflepuffList = '&lt;ul&gt;' + wizards.reduce(function (html, wizard) { if (wizard.house === 'Hufflepuff') { html += '&lt;li&gt;' + wizard.name + '&lt;/li&gt;'; } return html; }, '') + '&lt;/ul&gt;';</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/oNgYRZZ" rel="nofollow">Un ejemplo</a> </p><br><p>  <strong>4. Agrupando elementos similares en una matriz</strong> </p><br><p>  La biblioteca <a href="https://lodash.com/" rel="nofollow">lodash</a> tiene un m√©todo <a href="" rel="nofollow">groupBy ()</a> que toma una colecci√≥n de elementos como una matriz y los agrupa en un objeto seg√∫n algunos criterios. </p><br><p>  Digamos que necesitamos una matriz de n√∫meros. </p><br><p>  Si queremos agrupar todos los elementos en n√∫meros por su valor entero, entonces esto debe hacerse usando lodash. </p><br><pre> <code class="plaintext hljs">var numbers = [6.1, 4.2, 6.3]; // returns {'4': [4.2], '6': [6.1, 6.3]} _.groupBy(numbers, Math.floor);</code> </pre> <br><p>  Si hay una variedad de palabras, y necesita agrupar los elementos en las palabras por su longitud, lo haremos. </p><br><pre> <code class="plaintext hljs">var words = ['one', 'two', 'three']; // returns {'3': ['one', 'two'], '5': ['three']} _.groupBy(words, 'length');</code> </pre> <br><p>  <strong>Crear una funci√≥n groupBy () usando Array.reduce ()</strong> </p><br><p>  Puede recrear la misma funcionalidad utilizando el m√©todo Array.reduce (). </p><br><p>  Creamos una funci√≥n auxiliar groupBy (), que toma una matriz y criterios para ordenar como argumentos.  Dentro de groupBy (), ejecutaremos Array.reduce () para nuestra matriz, pasando un objeto vac√≠o ({}) como punto de partida y devolviendo el resultado. </p><br><pre> <code class="plaintext hljs">var groupBy = function (arr, criteria) { return arr.reduce(function (obj, item) { // Some code will go here... }, {}); };</code> </pre> <br><p>  Dentro de Array.reduce (), llamamos a la funci√≥n de devoluci√≥n de llamada para verificar si el criterio es una funci√≥n aplicada a un elemento o una propiedad de un elemento.  Luego obtenemos su valor del elemento actual. </p><br><p>  Si el objeto a√∫n no tiene una propiedad con este valor, cr√©elo [propiedad] y asigne una matriz vac√≠a como su valor.  Finalmente, agregue un elemento a esta propiedad y devuelva el objeto como acumulador para el pr√≥ximo ciclo. </p><br><pre> <code class="plaintext hljs">var groupBy = function (arr, criteria) { return arr.reduce(function (obj, item) { //   ,        //  var key = typeof criteria === 'function' ? criteria(item) : item[criteria]; //    ,  . if (!obj.hasOwnProperty(key)) { obj[key] = []; } //     obj[key].push(item); //      return obj; }, {});};</code> </pre> <br><p>  Demostraci√≥n de una funci√≥n auxiliar completa. </p><br><p>  Un agradecimiento especial a <a href="https://tbremer.com/" rel="nofollow">Tom Bremer</a> por su ayuda.  Esta funci√≥n auxiliar y mucho m√°s se pueden encontrar en <a href="https://vanillajstoolkit.com/" rel="nofollow">Vanilla JS Toolkit</a> . </p><br><p>  <strong>5. Combinando datos de dos fuentes en una matriz</strong> </p><br><p>  Recordemos nuestra lista de magos. </p><br><pre> <code class="plaintext hljs">var wizards = [ { name: 'Harry Potter', house: 'Gryfindor' }, { name: 'Cedric Diggory', house: 'Hufflepuff' }, { name: 'Tonks', house: 'Hufflepuff' }, { name: 'Ronald Weasley', house: 'Gryfindor' }, { name: 'Hermione Granger', house: 'Gryfindor' }];</code> </pre> <br><p>  ¬øQu√© pasar√≠a si hubiera un conjunto de datos diferente: un objeto con una casa y puntos ganados por cada mago? </p><br><pre> <code class="plaintext hljs">var points = { HarryPotter: 500, CedricDiggory: 750, RonaldWeasley: 100, HermioneGranger: 1270 };</code> </pre> <br><p>  Imagine que queremos combinar ambos conjuntos de datos en una matriz con el n√∫mero de puntos agregados a los datos de cada asistente en la matriz de asistentes.  Como hacerlo </p><br><p>  ¬°El m√©todo Array.reduce () es perfecto para esto! </p><br><pre> <code class="plaintext hljs">var wizardsWithPoints = wizards.reduce(function (arr, wizard) { //     points,     // var key = wizard.name.replace(' ', ' '); //     ,  , //   0. if (points[key]) { wizard.points = points[key]; } else { wizard.points = 0; } //   wizard   . arr.push(wizard); //  . return arr; }, []);</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/RwNoXEo" rel="nofollow">Un ejemplo de combinaci√≥n de datos de dos fuentes en una matriz</a> . </p><br><p>  <strong>6. Combinando datos de dos fuentes en un objeto</strong> </p><br><p>  ¬øQu√© sucede si en cambio es necesario combinar las dos fuentes de datos en un objeto en el que el nombre de cada asistente es la clave, y su casa y sus anteojos son propiedades?  Nuevamente, el m√©todo Array.reduce () es perfecto para esto. </p><br><pre> <code class="plaintext hljs">var wizardsAsAnObject = wizards.reduce(function (obj, wizard) { //      points,     // var key = wizard.name.replace(' ', ' '); //     ,  , //   0. if (points[key]) { wizard.points = points[key]; } else { wizard.points = 0; } //   name delete wizard.name; //   wizard    obj[key] = wizard; //   return obj; }, {});</code> </pre> <br><p>  <a href="https://codepen.io/cferdinandi/pen/bGNBXZL" rel="nofollow">Un ejemplo de combinaci√≥n de datos de dos fuentes en un objeto</a> . </p><br><p>  <strong>¬øDebo usar Array.reduce ()?</strong> </p><br><p>  El m√©todo Array.reduce () ha evolucionado de sin sentido a mi m√©todo JavaScript favorito.  Entonces, ¬øvale la pena usarlo?  Y cuando </p><br><p>  El m√©todo Array.reduce () tiene un fant√°stico soporte para el navegador.  Funciona en todos los navegadores modernos y en IE9.  Hace tiempo que es compatible con navegadores m√≥viles.  Si necesita a√∫n m√°s, puede agregar un polyfill para devolver el soporte en IE6. </p><br><p>  El problema m√°s grave puede ser que Array.reduce () es confuso para las personas que nunca antes lo han encontrado [m√©todo].  La combinaci√≥n de los m√©todos Array.filter () con Array.map () es m√°s lenta e implica pasos adicionales, pero es m√°s f√°cil de leer.  Los nombres de los m√©todos muestran lo que deben hacer. </p><br><p>  Como ya se mencion√≥, el m√©todo Array.reduce (), en general, simplifica las cosas m√°s complejas.  Un buen ejemplo es la funci√≥n auxiliar groupBy (). </p><br><p>  En √∫ltima instancia, esta es otra herramienta para su kit de herramientas.  Una herramienta que, si se usa correctamente, puede dar superpoderes. </p><br><h4 id="ob-avtore">  Sobre el autor </h4><br><p>  Chris Ferdinandi ayuda a las personas a aprender JavaScript vainilla.  √âl cree que hay una manera m√°s simple y confiable de hacer cosas por Internet. </p><br><p>  Chris es el autor de la serie <a href="https://vanillajsguides.com/" rel="nofollow">Vanilla JS Pocket Guide</a> , creador del curr√≠culum <a href="https://vanillajsacademy.com/" rel="nofollow">Vanilla JS Academy</a> y presentador del <a href="https://vanillajspodcast.com/" rel="nofollow">Vanilla JS Podcast</a> .  Miles de desarrolladores leen su <a href="https://gomakethings.com/" rel="nofollow">bolet√≠n informativo</a> para desarrolladores todos los d√≠as de la semana. </p><br><p>  Entren√≥ a desarrolladores en organizaciones como Chobani y Boston Globe, y Apple y Harvard Business School utilizaron sus complementos de JavaScript.  Chris Coyer, fundador de CSS-Tricks y CodePen, describi√≥ su trabajo como "interminablemente citado". </p><br><p>  A Chris le encantan los piratas, los cachorros y las pel√≠culas de Pixar, y tambi√©n vive cerca de granjas de caballos en el campo de Massachusetts.  √âl dirige <a href="https://gomakethings.com/" rel="nofollow">Go Make Things</a> con un cachorro Bailey. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/483182/">https://habr.com/ru/post/483182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483170/index.html">Base de datos de Messenger (parte 2): particionamos "beneficio"</a></li>
<li><a href="../483172/index.html">¬øC√≥mo localizar una aplicaci√≥n o juego? Las diez principales fuentes gratuitas de aprendizaje electr√≥nico</a></li>
<li><a href="../483174/index.html">Grabe y transfiera sonido de un dispositivo a otro utilizando la Conectividad Multipeer</a></li>
<li><a href="../483176/index.html">Base de datos de Messenger (parte 1): dise√±amos el marco base</a></li>
<li><a href="../483178/index.html">Aqu√≠ hay una actualizaci√≥n sobre la versi√≥n Flutter 1.9 junto con la programaci√≥n Dart 2.5</a></li>
<li><a href="../483184/index.html">Actualizaci√≥n autom√°tica de c√≥digo a TensorFlow 2</a></li>
<li><a href="../483186/index.html">Presentamos Java 13: vamos a sumergirnos en las nuevas caracter√≠sticas de JDK</a></li>
<li><a href="../483190/index.html">Respuestas de soporte t√©cnico de 3CX: Actualice a 3CX v16 desde versiones anteriores</a></li>
<li><a href="../483194/index.html">Bot por honorarios. Ir al f√∫tbol con nuevas tecnolog√≠as.</a></li>
<li><a href="../483198/index.html">C√≥mo Alibaba Cloud gestiona decenas de miles de grupos de Kubernetes con ... Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>