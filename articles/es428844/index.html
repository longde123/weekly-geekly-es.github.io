<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçµ ü§† üë©üèæ‚Äçüéì Lectura del medidor de inicio ‚õÑÔ∏è ‚ò£Ô∏è üë∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En un art√≠culo anterior , habl√© sobre c√≥mo tom√© lecturas de medidores de agua. Han pasado varios a√±os desde entonces. El dispositivo contin√∫a funciona...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lectura del medidor de inicio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428844/"><p><img src="https://habrastorage.org/webt/sn/ui/_i/snui_i22dpzhcwmnmcxcvgumtjy.png" width="300" align="left">  En un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> anterior <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,</a> habl√© sobre c√≥mo tom√© lecturas de medidores de agua.  Han pasado varios a√±os desde entonces.  El dispositivo contin√∫a funcionando y durante todo este tiempo no lo toqu√©.  Pero no me pareci√≥ suficiente, porque  Hab√≠a otros dispositivos en la casa de los cuales era necesario tomar lecturas.  Quiero hablar sobre esto <br clear="all"></p><a name="habracut"></a><br><h2 id="schetchik-elektroenergii">  Medidor de electricidad </h2><br><p>  Cada apartamento tiene un medidor de electricidad y sus lecturas tambi√©n deben entregarse a tiempo.  Tuvimos el mismo problema con esto que con los medidores de agua: recordamos constantemente sobre √©l cuando est√°bamos bastante lejos.  Era necesario resolver de alguna manera este problema.  Aqu√≠ hay un contador que he instalado en el escudo en el rellano. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kz/mx/jc/kzmxjcx0unqi_tae5q4tdfnaxue.png"></div><br><p>  Cada contador indica el n√∫mero de pulsos que realiza en 1kW * h.  Tengo un viejo medidor de electricidad instalado y no tiene conclusiones especiales para contar estos pulsos.  Pero tiene un LED que parpadea al ritmo de estos pulsos.  Por lo tanto, debemos determinar de alguna manera que el LED parpade√≥.  Para esto, decid√≠ usar un fototransistor, que cambia su resistencia dependiendo de su iluminaci√≥n.  Para reaccionar solo al LED, el fototransistor se instal√≥ en un fragmento de un bloque cuadrado de madera y se peg√≥ con cinta adhesiva al mostrador.  Al final result√≥ que, se puede ver en la foto de abajo. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nm/h7/vq/nmh7vqul8tuqx0p4pmt-yrvzp9m.png"></div><br><p>  Incluso durante la reparaci√≥n en el departamento, en el escudo general, instal√© un z√≥calo y sostuve un par trenzado dentro del escudo del apartamento con un voltaje bajo.  Instal√© el dispositivo en este escudo (tambi√©n tiene una toma de corriente) y a trav√©s de la placa base conect√© el fototransistor a mi dispositivo.  Y de esta forma, todo ha estado funcionando durante m√°s de seis meses. </p><br><h2 id="datchik-protechki-vody">  Sensor de fugas de agua </h2><br><p>  Como muestra, tom√© un sensor de fugas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GIDROLOCK WSP</a> convencional.  Su principio de funcionamiento es similar al de un fototransistor, solo que cambia su resistencia al agua que ingresa. </p><br><h2 id="dorabotka-platy">  Revisi√≥n de la junta </h2><br><p>  Modifiqu√© un poco el viejo tablero.  Ahora el circuito es el siguiente </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lg/fi/cv/lgficvuj_fpdk45lkzjs8r_qwt0.png"></div><br><p>  Se han realizado los siguientes cambios: </p><br><ol><li>  El chip CP2102 se agrega al circuito para que pueda conectarse directamente a la placa sin adaptadores </li><li>  El n√∫mero de salidas se ha incrementado a 4 (M1, M2, M3, M4), lo que le permite conectar simult√°neamente un mayor n√∫mero de contadores </li><li>  Se agregaron resistencias auxiliares (R1..R8), lo que permiti√≥ configurar las salidas seg√∫n sea necesario </li></ol><br><p>  Ahora cada salida se puede configurar para: </p><br><ul><li>  conectar LED </li><li>  botones de conexi√≥n </li><li>  conexi√≥n de contadores (sensores) </li></ul><br><p>  Cuando se usa un fototransistor y un sensor de fugas, su resistencia m√≠nima puede no ser suficiente para que el voltaje caiga al nivel de cero l√≥gico.  Para hacer esto, se agreg√≥ un divisor de voltaje a cada terminal. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yp/rr/uj/yprrujoepaq5avvr9b3zkdthcoc.png"></div><br><p>  Usemos el sensor de fugas como ejemplo para calcular el divisor de voltaje.  Supongamos que un sensor est√° conectado al pin M1.  Tiene resistencias auxiliares R1 y R2.  Tensi√≥n de alimentaci√≥n (U) ESP 3.3V.  La resistencia del sensor de fugas (Rd) cuando entra agua se convierte en 10kOhm.  Necesitamos asegurarnos de que el voltaje <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>U</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.642ex" height="2.298ex" viewBox="0 -780.1 1137.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="966" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-1"> U_2 </script>  estaba por debajo del voltaje cero l√≥gico.  Para ESP es 0.8V, tome 0.6V. <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.818ex" height="2.298ex" viewBox="0 -780.1 1213.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-31" x="1074" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mn>1</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> R_1 </script>  no necesitamos, respectivamente, tomamos igual a 0. La f√≥rmula para calcular el voltaje <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>U</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.642ex" height="2.298ex" viewBox="0 -780.1 1137.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="966" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>U</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> U_2 </script>  : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>U</mi><mn>2</mn></msub><mo>=</mo><mi>U</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>R</mi><mi>d</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>R</mi><mn>2</mn></msub><mo>+</mo><msub><mi>R</mi><mi>d</mi></msub></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.038ex" height="2.419ex" viewBox="0 -780.1 10349.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="966" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-3D" x="1415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="2471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-66" x="3488" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-72" x="4039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-61" x="4490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-63" x="5020" y="0"></use><g transform="translate(5453,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-64" x="1074" y="-213"></use></g><g transform="translate(6683,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2B" x="1435" y="0"></use><g transform="translate(2436,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-64" x="1074" y="-213"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>U</mi><mn>2</mn></msub><mo>=</mo><mi>U</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>R</mi><mi>d</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>R</mi><mn>2</mn></msub><mo>+</mo><msub><mi>R</mi><mi>d</mi></msub></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> U_2 = U \ frac {R_d} {R_2 + R_d} </script></p><br><p>  Destacar <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.818ex" height="2.298ex" viewBox="0 -780.1 1213.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="1074" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> R_2 </script>  : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mn>2</mn></msub><mo>=</mo><msub><mi>R</mi><mi>d</mi></msub><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>U</mi><mo>&amp;#x2212;</mo><msub><mi>U</mi><mn>2</mn></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>U</mi><mn>2</mn></msub></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.824ex" height="2.419ex" viewBox="0 -780.1 10257.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-3D" x="1491" y="0"></use><g transform="translate(2547,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-64" x="1074" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-66" x="4027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-72" x="4577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-61" x="5029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-63" x="5558" y="0"></use><g transform="translate(5992,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2212" x="989" y="0"></use><g transform="translate(1990,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="966" y="-213"></use></g></g><g transform="translate(9119,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="966" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mn>2</mn></msub><mo>=</mo><msub><mi>R</mi><mi>d</mi></msub><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>U</mi><mo>‚àí</mo><msub><mi>U</mi><mn>2</mn></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msub><mi>U</mi><mn>2</mn></msub></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> R_2 = R_d \ frac {U-U_2} {U_2} </script></p><br><p>  donde <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mi>d</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.856ex" height="2.419ex" viewBox="0 -780.1 1229.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-64" x="1074" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mi>d</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> R_d </script>  Es la resistencia del sensor </p><br><p>  Sustituir los valores conocidos en la f√≥rmula. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mn>2</mn></msub><mo>=</mo><mn>10000</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3.3</mn><mo>&amp;#x2212;</mo><mn>0.6</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0.6</mn></mrow><mo>=</mo><mn>45000</mn><mi>O</mi><mi>h</mi><mi>m</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.463ex" height="2.419ex" viewBox="0 -780.1 20435.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-3D" x="1491" y="0"></use><g transform="translate(2547,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-63" x="5299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-64" x="5733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-6F" x="6256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-74" x="6742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-66" x="7353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-72" x="7904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-61" x="8355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-63" x="8885" y="0"></use><g transform="translate(9318,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-33" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2212" x="1501" y="0"></use><g transform="translate(2502,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-36" x="779" y="0"></use></g></g><g transform="translate(13100,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-36" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-3D" x="14658" y="0"></use><g transform="translate(15714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMAIN-30" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-4F" x="18216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-68" x="18980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhgfAnFAZKK80Nufx2dDqJouplaZOQ#MJMATHI-6D" x="19556" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mn>2</mn></msub><mo>=</mo><mn>10000</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3.3</mn><mo>‚àí</mo><mn>0.6</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>0.6</mn></mrow><mo>=</mo><mn>45000</mn><mi>O</mi><mi>h</mi><mi>m</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> R_2 = 10000 \ cdot \ frac {3.3 - 0.6} {0.6} = 45000 Ohm </script></p><br><p>  , redondea al m√°s grande m√°s cercano y obt√©n 47kOhm. <br>  Para un fototransistor, el c√°lculo es similar, solo Rd es igual a la resistencia del fototransistor cuando se ilumina con un LED. </p><br><h2 id="proshivka">  Firmware </h2><br><p>  Como antes, el firmware se ensambl√≥ utilizando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">constructor en l√≠nea</a> .  El antiguo script fue modificado para 2 modos de operaci√≥n: tomar lecturas de medidores de agua y tomar lecturas de un medidor el√©ctrico.  En consecuencia, hay 2 ventanas de configuraci√≥n: </p><br><p><img src="https://habrastorage.org/webt/qn/wb/9g/qnwb9g6woj81whlu1a541wgnome.png" width="380"><img src="https://habrastorage.org/webt/ub/1f/4y/ub1f4ycr1cbf1_y1is9bjtccyoa.png" width="380"></p><br><p>  Si lo desea, puede combinar todo y agregar algo propio.  Al depurar, conect√© simult√°neamente 2 medidores de agua, un sensor de fugas y un LED. <br>  En el modo de tomar lecturas de medidores de agua, los datos se transmiten cada 60 segundos, siempre que haya habido cambios en las lecturas.  En el modo de lectura del medidor, los datos se transmiten cada 20 segundos sin ninguna condici√≥n.  Los datos a√∫n se transmiten a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">thingspeak.com</a> <br>  Porque  en el nuevo esquema no hay un bot√≥n para ingresar al modo de configuraci√≥n, se decidi√≥ al inicio cambiar el dispositivo al modo de configuraci√≥n durante 60 segundos.  Si dentro de 60 segundos no hay nadie conectado al dispositivo, entonces comenzamos el modo de lectura.  Si alguien se conecta, salga del modo de configuraci√≥n guardando datos en la p√°gina o reiniciando el dispositivo. </p><br><h2 id="dorabotka-prilozheniya">  Revisi√≥n de solicitud </h2><br><p>  Las lecturas del medidor de electricidad deb√≠an transferirse a un canal separado, por lo que en la nueva versi√≥n de la aplicaci√≥n agregu√© la capacidad de agregar varios canales.  Todos los datos se almacenan en una base de datos SQL local para que pueda crear gr√°ficos de manera f√°cil y r√°pida.  Porque  Envi√© datos en el medidor de electricidad cada 20 segundos, lo que afect√≥ la cantidad de datos y, en consecuencia, la velocidad de su recepci√≥n.  A modo de comparaci√≥n, durante todo el tiempo de tomar lecturas en medidores de agua, se acumularon aproximadamente 72,000 registros, y en el medidor de electricidad en aproximadamente 7 meses, aproximadamente 2.6 millones. Despu√©s de optimizar las consultas a la base de datos, logramos aumentar la velocidad de muestreo en varios miles de veces (no esperaba tal crecimiento). <br>  En la nueva versi√≥n se agregaron: </p><br><ol><li>  widget de medidor de electricidad </li><li>  gr√°ficos lineales </li><li>  la capacidad de compartir un widget o gr√°fico con otras personas </li><li>  la capacidad de trabajar con m√∫ltiples canales </li><li>  optimizaci√≥n de velocidad </li></ol><br><h2 id="itogo">  Total </h2><br><p>  Despu√©s de todas las mejoras, puedo obtener la siguiente informaci√≥n: </p><br><ol><li>  lectura de contador actual </li><li>  consumo actual </li><li>  Informaci√≥n sobre el consumo y el consumo de electricidad durante un determinado per√≠odo de tiempo. </li></ol><br><p>  Por supuesto, la pregunta plantea por qu√© no hice que el dispositivo sea independiente (hay varios art√≠culos sobre este tema en el concentrador).  Si hace que el dispositivo sea aut√≥nomo, entonces necesita transferir datos varias veces al d√≠a, pero quer√≠a ver los datos casi en tiempo real. <br>  La aplicaci√≥n se puede usar no solo con mi dispositivo, sino simplemente como cliente de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">thingspeak.com</a> para mostrar gr√°ficos o valores.  Por el momento, la aplicaci√≥n muestra maravillosamente las lecturas de los medidores de agua y electricidad, si alguien tiene otras ideas que puede agregar, escr√≠bame en PM. </p><br><h2 id="poleznye-ssylki">  Enlaces utiles </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scripts y firmware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">App</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Reordenar junta</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Fotos del dispositivo</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/c5/sw/qz/c5swqzgluewaanqpsmtru-wtala.jpeg"><br><img src="https://habrastorage.org/webt/cq/lt/sa/cqltsaf-jcsb5fse6wvypifd778.jpeg"></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428844/">https://habr.com/ru/post/es428844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428832/index.html">Leyendas de TI: por qu√© Newton fall√≥ y es la tecnolog√≠a de reconocimiento rusa la culpable</a></li>
<li><a href="../es428834/index.html">La mitad de los autos vendidos en Noruega - autos el√©ctricos</a></li>
<li><a href="../es428836/index.html">AI entrenado para tratar el envenenamiento de la sangre y diagnosticar fracturas</a></li>
<li><a href="../es428840/index.html">Dejando - ¬øvete? Charla nocturna sobre despidos</a></li>
<li><a href="../es428842/index.html">Eventos digitales en Mosc√∫ del 6 al 11 de noviembre.</a></li>
<li><a href="../es428846/index.html">Trabajar con cadenas en la etapa de compilaci√≥n en C ++ moderno</a></li>
<li><a href="../es428848/index.html">Notas del proveedor de IoT: ¬øc√≥mo crear una red LoRa en una ciudad sin red en un d√≠a?</a></li>
<li><a href="../es428850/index.html">Gesti√≥n del desarrollo en un gran proyecto.</a></li>
<li><a href="../es428852/index.html">Transmisi√≥n abierta de la sala principal HighLoad ++ 2018</a></li>
<li><a href="../es428854/index.html">C√≥mo cortar la luz en un peque√±o centro de datos: una forma econ√≥mica de implementar emergencias</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>