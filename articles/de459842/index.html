<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥕 🕙 👆🏾 Luxor 👩🏼‍🚀 👩🏻‍💼 👦🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute schauen wir uns ein Grafikpaket für die Julia-Sprache namens Luxor an . Dies ist eines dieser Werkzeuge, die den Prozess der Erstellung von Vekt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Luxor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459842/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/kg/wh/ji/kgwhjiyhv4jhmwonchevfm5s16a.gif"></div><br><p>  Heute schauen wir uns ein Grafikpaket für die Julia-Sprache namens <a href="">Luxor an</a> .  Dies ist eines dieser Werkzeuge, die den Prozess der Erstellung von Vektorbildern in die Lösung logischer Probleme mit einem begleitenden Sturm von Emotionen verwandeln. </p><br><p>  <strong>Achtung</strong>  Unter dem Schnitt 8,5 MB leichte Bilder und Gifs mit psychedelischen Eiern und vierdimensionalen Objekten, deren Betrachtung zu einer leichten Trübung des Geistes führen kann! </p><a name="habracut"></a><br><h2 id="ustanovka">  Installation </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://julialang.org</a> - Laden Sie die Julia-Distribution von der offiziellen Website herunter.  Dann starten wir den Interpreter und steuern die Befehle in seine Konsole: </p><br><pre><code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Pkg Pkg.add(<span class="hljs-string"><span class="hljs-string">"Colors"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"ColorSchemes"</span></span>) Pkg.add(<span class="hljs-string"><span class="hljs-string">"Luxor"</span></span>)</code> </pre> <br><p>  Dadurch werden Pakete für fortgeschrittene Arbeiten mit Farben und Luxor selbst installiert. </p><br><h3 id="vozmozhnye-problemy">  Mögliche Probleme </h3><br><p>  Das Hauptproblem sowohl der modernen Programmierung im Allgemeinen als auch von Open Source im Besonderen besteht darin, dass einige Projekte auf anderen aufbauen, alle Fehler erben und aufgrund von Inkompatibilitäten sogar neue generieren.  Wie viele andere Pakete verwendet Luxor für seine Arbeit andere Julia-Pakete, die wiederum Schalen bestehender Lösungen sind. </p><br><p>  <a href="">ImageMagick.jl</a> wollte also keine Dateien herunterladen und speichern.  Die Lösung wurde auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Originalseite gefunden</a> - es stellte sich heraus, dass er das kyrillische Alphabet in keiner Weise mag. <br>  Problem Nummer zwei trat mit dem Low-Level-Grafikpaket von <a href="">Cairo unter</a> Windows 7 auf. Ich werde die Lösung hier verstecken: </p><br><div class="spoiler">  <b class="spoiler_title">Tanzen mit einem Tamburin</b> <div class="spoiler_text"><ol><li>  Wir geben den Interpreter ein <code>]add Gtk</code> - das Paket für die Arbeit mit GUI wird installiert und fällt höchstwahrscheinlich während des Baus </li><li>  Laden Sie als Nächstes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gtk + -bundle_3.6.4-20130513_win64</a> herunter </li><li>  Während der Installation war alles in dem Ordner mit Julias Paketen erforderlich, aber <em>gtk war</em> während der Ausführung des Elements nicht fertig. <em>Deshalb haben</em> wir die fertige Version für unseren Computer heruntergeladen. Wir werfen den Inhalt des heruntergeladenen Archivs in das Verzeichnis <em>C: \ Users \ User.julia \ packages \ WinRPM \ Y9QdZ \ deps \ usr \ x86_64-w64-mingw32 \ sys-root \ mingw</em> (Ihr Pfad kann variieren) </li><li>  Starten Sie Julia und fahren Sie in <code>]build Gtk</code> Nach dem <code>]build Gtk</code> wir Luxor neu auf: <code>]build Luxor</code> </li><li>  Wir starten Julia neu und können sicher alles verwenden, was wir brauchen: <code>using Luxor</code> </li></ol><br><p>  Bei anderen Problemen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">versuchen</a> wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, unseren eigenen Fall zu finden.</a> </p></div></div><br><h3 id="esli-hochetsya-probovat-animaciyu">  Wenn Sie Animation ausprobieren möchten </h3><br><p>  Das Luxor-Paket erstellt Animationen mit <em>ffmpeg</em> , sofern diese auf Ihrem Computer vorhanden sind.  ffmpeg ist eine plattformübergreifende Open-Source-Bibliothek für die Verarbeitung von Video- und Audiodateien, eine sehr nützliche Sache (es gibt einen guten Ausflug <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf dem Hub</a> ).  Installieren Sie es: </p><br><ul><li>  Laden Sie ffmpeg offsite herunter.  In meinem Fall ist dies ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Download für Windows</a> </li><li>  Entpacken Sie den Pfad zu ffmpeg.exe und schreiben <em>Sie ihn</em> in die Variable <em>Path</em> . </li></ul><br><div class="spoiler">  <b class="spoiler_title">Weitere Informationen zum Verstopfen im Pfad</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/6f/do/c0/6fdoc0hwjk1dzyjle92qvbeallw.png"></p><br><p>  <em>Computer / Systemeigenschaften / Erweiterte Systemparameter / Umgebungsvariablen / Pfad</em> (Erstellen, falls nicht) und fügen Sie dort den Pfad zu Ihrer <em>ffmpeg.exe hinzu</em> <br>  Beispiel <em>C: \ Programme \ ffmpeg-4.1.3-win64-static \ bin</em> <br>  Wenn Path bereits Werte hat, trennen Sie diese mit einem Semikolon. <br>  Wenn Sie nun <code>ffmpeg</code> mit den erforderlichen Parametern in die Befehlskonsole ( <em>cmd</em> ) fahren, wird es gestartet und funktioniert, und Julia kommuniziert nur mit ihm. </p></div></div><br><h2 id="hello-world">  Hallo Welt </h2><br><p>  Beginnen wir mit einer kleinen Gefahr: Beim Erstellen eines Bildes wird eine Grafikdatei erstellt und im Arbeitsverzeichnis gespeichert.  Das heißt, wenn Sie in REPL arbeiten, wird der Julia-Stammordner mit Bildern verstopft. Wenn Sie in Jupyter zeichnen, sammeln sich die Bilder neben dem Projektnotizbuch an. Daher ist es eine gute Angewohnheit, das Arbeitsverzeichnis vor Beginn der Arbeit an einem separaten Ort festzulegen: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Luxor cd(<span class="hljs-string"><span class="hljs-string">"C:\\Users\\User\\Desktop\\mycop"</span></span>)</code> </pre> <br><p>  Erstellen Sie die erste Zeichnung </p><br><pre> <code class="julia hljs">Drawing(<span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-string"><span class="hljs-string">"hw.png"</span></span>) origin() background(<span class="hljs-string"><span class="hljs-string">"white"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) text(<span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>) circle(Point(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-number"><span class="hljs-number">100</span></span>, :stroke) finish() preview()</code> </pre> <br><p><img src="https://habrastorage.org/webt/gz/sx/-v/gzsx-vrzn87n7adcf2etdoi-dic.png"></p><br><p>  <code>Drawing()</code> erstellt eine Zeichnung. Standardmäßig im PNG-Format lautet der Standarddateiname 'luxor-draw.png', die Standardgröße ist 800x800, für alle Formate außer png können Sie nicht ganzzahlige Größen angeben und Sie können auch Papierformate ("A0" verwenden "," A1 "," A2 "," A3 "," A4 "...) <br>  <code>finish()</code> - Beendet das Zeichnen und schließt die Datei.  Sie können es in einer externen Anzeigeanwendung mit <code>preview()</code> öffnen. Bei der Arbeit in Jupyter (IJulia) wird eine PNG- oder SVG-Datei im Editor angezeigt.  Wenn Sie in Juno arbeiten, wird eine PNG- oder SVG-Datei im Grafikfenster angezeigt.  In Repl wird das Tool zum Arbeiten mit Bildern aufgerufen, das Sie in Ihrem Betriebssystem für dieses Format festgelegt haben. <br>  Das gleiche kann in Kurzform mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Makros geschrieben werden</a> </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> text(<span class="hljs-string"><span class="hljs-string">"Hello world"</span></span>) circle(Point(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-number"><span class="hljs-number">100</span></span>, :stroke) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Bei den Vektorformaten EPS, SVG, PDF funktioniert alles auf die gleiche Weise. </p><br><h2 id="evklidovo-yayco">  Euklidisches Ei </h2><br><p><img src="https://habrastorage.org/webt/g9/5l/hw/g95lhwoldl79t0nc0zcsyra12m0.jpeg"></p><br><p>  Dies ist eine ziemlich interessante Art, ein Ei zu zeichnen, und wenn Sie die Schlüsselpunkte verbinden und entlang der erhaltenen Linien schneiden, wird ein ausgezeichnetes Tangram herauskommen </p><br><p><img src="https://habrastorage.org/webt/gj/it/uy/gjituyn446nqqmuog5saz3d842m.jpeg"></p><br><p>  Beginnen wir mit dem Kreis: </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-string"><span class="hljs-string">"egg0"</span></span> <span class="hljs-comment"><span class="hljs-comment">#    </span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/15/yh/9g/15yh9ggn9amdca0uepq_j0jzzji.png"></p><br><p>  Alles ist sehr einfach: <code>setdash("dot")</code> - mit Punkten zeichnen, <code>sethue("gray30")</code> - Linienfarbe: <code>sethue("gray30")</code> kleiner, <code>sethue("gray30")</code> dunkler, <code>sethue("gray30")</code> näher an 100 <code>sethue("gray30")</code> weißer.  Die Punktklasse wird ohne uns definiert und der Koordinatenmittelpunkt (0,0) kann durch den Buchstaben <code>O</code> angegeben werden <code>O</code>  Fügen Sie zwei Kreise hinzu und unterschreiben Sie die Punkte: </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) label(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, :NW, A) label(<span class="hljs-string"><span class="hljs-string">"O"</span></span>, :N, O) label(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, :NE, B) circle.([A, O, B], <span class="hljs-number"><span class="hljs-number">2</span></span>, :fill) circle.([A, B], <span class="hljs-number"><span class="hljs-number">2</span></span>radius, :stroke) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">600</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-string"><span class="hljs-string">"egg2"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/uc/e_/ua/uce_uazxgxiumb6txd1wqqb1eji.png"></p><br><p>  Um nach Schnittpunkten zu suchen, gibt es eine Funktion namens <code>intersectionlinecircle()</code> , die den Punkt oder die Punkte findet, an denen die Linie den Kreis schneidet.  Somit können wir zwei Punkte finden, an denen einer der Kreise eine imaginäre vertikale Linie schneidet, die durch O gezogen wird. Aufgrund der Symmetrie können wir nur den Kreis A verarbeiten. </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) label(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, :NW, A) label(<span class="hljs-string"><span class="hljs-string">"O"</span></span>, :N, O) label(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, :NE, B) circle.([A, O, B], <span class="hljs-number"><span class="hljs-number">2</span></span>, :fill) circle.([A, B], <span class="hljs-number"><span class="hljs-number">2</span></span>radius, :stroke) <span class="hljs-comment"><span class="hljs-comment"># &gt;&gt;&gt;&gt; nints, C, D = intersectionlinecircle(Point(0, -2radius), Point(0, 2radius), A, 2radius) if nints == 2 circle.([C, D], 2, :fill) label.(["D", "C"], :N, [D, C]) end end 600 400 "egg3"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/yi/2z/uq/yi2zuqwafbkjr4pphiucqpu5q44.png"></p><br><p>  Um den Mittelpunkt des oberen Kreises zu bestimmen, finden wir den Schnittpunkt OD </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) label(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, :NW, A) label(<span class="hljs-string"><span class="hljs-string">"O"</span></span>, :N, O) label(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, :NE, B) circle.([A, O, B], <span class="hljs-number"><span class="hljs-number">2</span></span>, :fill) circle.([A, B], <span class="hljs-number"><span class="hljs-number">2</span></span>radius, :stroke) <span class="hljs-comment"><span class="hljs-comment"># &gt;&gt;&gt;&gt; nints, C1, C2 = intersectionlinecircle(O, D, O, radius) if nints == 2 circle(C1, 3, :fill) label("C1", :N, C1) end end 600 400 "egg4"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ry/fk/ho/ryfkhojejo1_vdprc8ltwrfuv1w.png"></p><br><p>  Der Radius des untergeordneten Kreises wird durch die Beschränkung auf zwei große Kreise bestimmt: </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) label(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, :NW, A) label(<span class="hljs-string"><span class="hljs-string">"O"</span></span>, :N, O) label(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, :NE, B) circle.([A, O, B], <span class="hljs-number"><span class="hljs-number">2</span></span>, :fill) circle.([A, B], <span class="hljs-number"><span class="hljs-number">2</span></span>radius, :stroke) <span class="hljs-comment"><span class="hljs-comment"># &gt;&gt;&gt;&gt; nints, C1, C2 = intersectionlinecircle(O, D, O, radius) if nints == 2 circle(C1, 3, :fill) label("C1", :N, C1) end # &gt;&gt;&gt;&gt; nints, I3, I4 = intersectionlinecircle(A, C1, A, 2radius) nints, I1, I2 = intersectionlinecircle(B, C1, B, 2radius) circle.([I1, I2, I3, I4], 2, :fill) # &gt;&gt;&gt;&gt; if distance(C1, I1) &lt; distance(C1, I2) ip1 = I1 else ip1 = I2 end if distance(C1, I3) &lt; distance(C1, I4) ip2 = I3 else ip2 = I4 end label("ip1", :N, ip1) label("ip2", :N, ip2) circle(C1, distance(C1, ip1), :stroke) end 600 400 "egg5"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/b9/ek/s8/b9eks8aadbrrvgkr1hx7cus5bq0.png"></p><br><p>  Das Ei ist fertig!  Es bleibt, es aus vier durch die Funktion <code>arc2r()</code> angegebenen Bögen zusammenzusetzen und den Bereich auszufüllen: </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> radius=<span class="hljs-number"><span class="hljs-number">80</span></span> setdash(<span class="hljs-string"><span class="hljs-string">"dot"</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"gray30"</span></span>) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] line(A, B, :stroke) circle(O, radius, :stroke) label(<span class="hljs-string"><span class="hljs-string">"A"</span></span>, :NW, A) label(<span class="hljs-string"><span class="hljs-string">"O"</span></span>, :N, O) label(<span class="hljs-string"><span class="hljs-string">"B"</span></span>, :NE, B) circle.([A, O, B], <span class="hljs-number"><span class="hljs-number">2</span></span>, :fill) circle.([A, B], <span class="hljs-number"><span class="hljs-number">2</span></span>radius, :stroke) <span class="hljs-comment"><span class="hljs-comment"># &gt;&gt;&gt;&gt; nints, C1, C2 = intersectionlinecircle(O, D, O, radius) if nints == 2 circle(C1, 3, :fill) label("C1", :N, C1) end # &gt;&gt;&gt;&gt; nints, I3, I4 = intersectionlinecircle(A, C1, A, 2radius) nints, I1, I2 = intersectionlinecircle(B, C1, B, 2radius) circle.([I1, I2, I3, I4], 2, :fill) # &gt;&gt;&gt;&gt; if distance(C1, I1) &lt; distance(C1, I2) ip1 = I1 else ip1 = I2 end if distance(C1, I3) &lt; distance(C1, I4) ip2 = I3 else ip2 = I4 end label("ip1", :N, ip1) label("ip2", :N, ip2) circle(C1, distance(C1, ip1), :stroke) # &gt;&gt;&gt;&gt; setline(5) setdash("solid") arc2r(B, A, ip1, :path) # centered at B, from A to ip1 arc2r(C1, ip1, ip2, :path) arc2r(A, ip2, B, :path) arc2r(O, B, A, :path) strokepreserve() setopacity(0.8) sethue("ivory") fillpath() end 600 400 "egg6"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ij/ip/t3/ijipt3kqr5wlqfukxudzfnyzteo.png"></p><br><p>  Und jetzt, um uns richtig zu verwöhnen, bringen wir unsere Erfolge ein </p><br><div class="spoiler">  <b class="spoiler_title">die Funktion</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> egg(radius, action=:none) A, B = [Point(x, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [-radius, radius]] nints, C, D = intersectionlinecircle(Point(<span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">2</span></span>radius), Point(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>radius), A, <span class="hljs-number"><span class="hljs-number">2</span></span>radius) flag, C1 = intersectionlinecircle(C, D, O, radius) nints, I3, I4 = intersectionlinecircle(A, C1, A, <span class="hljs-number"><span class="hljs-number">2</span></span>radius) nints, I1, I2 = intersectionlinecircle(B, C1, B, <span class="hljs-number"><span class="hljs-number">2</span></span>radius) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> distance(C1, I1) &lt; distance(C1, I2) ip1 = I1 <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ip1 = I2 <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> distance(C1, I3) &lt; distance(C1, I4) ip2 = I3 <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> ip2 = I4 <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> newpath() arc2r(B, A, ip1, :path) arc2r(C1, ip1, ip2, :path) arc2r(A, ip2, B, :path) arc2r(O, B, A, :path) closepath() do_action(action) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> </div></div><br><p>  Wir verwenden zufällige Farben, Ebenenmalerei und verschiedene Anfangsbedingungen: </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> setopacity(<span class="hljs-number"><span class="hljs-number">0.7</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> θ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, step=<span class="hljs-literal"><span class="hljs-literal">π</span></span>/<span class="hljs-number"><span class="hljs-number">6</span></span>, length=<span class="hljs-number"><span class="hljs-number">12</span></span>) <span class="hljs-meta"><span class="hljs-meta">@layer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> rotate(θ) translate(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-comment"><span class="hljs-comment"># translate(0, -150) #rulers() egg(50, :path) setline(10) randomhue() fillpreserve() randomhue() strokepath() end end end 400 400 "eggs2"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/up/bv/c-/upbvc-1_iuzchpyx6wxp_4aqggg.png"><br><img src="https://habrastorage.org/webt/oj/wr/oz/ojwrozg35shdvmhcjmvd4mgi64m.png"></p><br><p>  Zusätzlich zu Strich und Füllung können Sie den Umriss als Beschneidungsbereich (Zuschneiden eines anderen Bildes in Form eines Eies) oder als Grundlage für verschiedene Designer verwenden.  Die Funktiongg () erstellt einen Umriss und ermöglicht es Ihnen, eine Aktion darauf anzuwenden.  Es ist auch möglich, unsere Kreation in ein Polygon (ein Array von Punkten) umzuwandeln.  Der folgende Code konvertiert den Umriss eines Eies in ein Polygon und verschiebt dann den anderen Punkt des Polygons auf halber Strecke zum Schwerpunkt. </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> egg(<span class="hljs-number"><span class="hljs-number">160</span></span>, :path) pgon = first(pathtopoly()) pc = polycentroid(pgon) circle(pc, <span class="hljs-number"><span class="hljs-number">5</span></span>, :fill) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>:length(pgon) pgon[pt] = between(pc, pgon[pt], <span class="hljs-number"><span class="hljs-number">0.5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> poly(pgon, :stroke) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">350</span></span> <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-string"><span class="hljs-string">"polyegg"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/dn/i_/gh/dni_ghzswixnychlt2-p0lup6vi.png"></p><br><p>  Das ungleichmäßige Erscheinungsbild der internen Punkte ergibt sich aus den Standardeinstellungen für die Leitungsverbindung.  Experimentieren Sie mit <code>setlinejoin("round")</code> , um <code>setlinejoin("round")</code> , ob sich dadurch die Geometrie ändert.  Nun versuchen <code>offsetpoly()</code> , <code>offsetpoly()</code> erstellen, um eine polygonale Kontur außerhalb oder innerhalb eines vorhandenen Polygons zu erstellen. </p><br><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> egg(<span class="hljs-number"><span class="hljs-number">80</span></span>, :path) pgon = first(pathtopoly()) pc = polycentroid(pgon) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> pt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>:length(pgon) pgon[pt] = between(pc, pgon[pt], <span class="hljs-number"><span class="hljs-number">0.9</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span>:-<span class="hljs-number"><span class="hljs-number">3</span></span>:-<span class="hljs-number"><span class="hljs-number">8</span></span> randomhue() op = offsetpoly(pgon, i) poly(op, :stroke, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">350</span></span> <span class="hljs-number"><span class="hljs-number">500</span></span> <span class="hljs-string"><span class="hljs-string">"polyeggs"</span></span></code> </pre> <br><p><img src="https://habrastorage.org/webt/jl/dp/ka/jldpkahkeamyvi5yfe0q4fziohg.png"><br>  Kleine Änderungen in der Regelmäßigkeit von Punkten, die durch Konvertieren des Pfads in ein Polygon erstellt wurden, und die unterschiedliche Anzahl von Abtastwerten werden in aufeinanderfolgenden Konturen ständig verstärkt. </p><br><h3 id="animaciya">  Animation </h3><br><p>  Definieren wir zunächst die Funktionen, die den Hintergrund und das Rendern des Eies in Abhängigkeit von der Frame-Nummer implementieren: </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Colors demo = Movie(<span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> backdrop(scene, framenumber) background(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> frame(scene, framenumber) setopacity(<span class="hljs-number"><span class="hljs-number">0.7</span></span>) θ = framenumber * <span class="hljs-literal"><span class="hljs-literal">π</span></span>/<span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-meta"><span class="hljs-meta">@layer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> rotate(θ) translate(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>) egg(<span class="hljs-number"><span class="hljs-number">50</span></span>, :path) setline(<span class="hljs-number"><span class="hljs-number">10</span></span>) randomhue() fillpreserve() randomhue() strokepath() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> </div></div><br><p>  Die Animation wird durch einen einfachen Befehlssatz implementiert: </p><br><pre> <code class="julia hljs">animate(demo, [ Scene(demo, backdrop, <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>), Scene(demo, frame, <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, easingfunction=easeinoutcubic, optarg=<span class="hljs-string"><span class="hljs-string">"made with Julia"</span></span>) ], framerate=<span class="hljs-number"><span class="hljs-number">10</span></span>, tempdirectory=<span class="hljs-string"><span class="hljs-string">"C:\\Users\\User\\Desktop\\mycop"</span></span>, creategif=<span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre> <br><p>  Was verursacht eigentlich unser ffmpeg </p><br><pre> <code class="julia hljs">run(<span class="hljs-string"><span class="hljs-string">`ffmpeg -f image2 -i </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(tempdirectory)</span></span></span><span class="hljs-string">/%10d.png -vf palettegen -y </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(seq.stitle)</span></span></span><span class="hljs-string">-palette.png`</span></span>) run(<span class="hljs-string"><span class="hljs-string">`ffmpeg -framerate 30 -f image2 -i </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(tempdirectory)</span></span></span><span class="hljs-string">/%10d.png -i </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(seq.stitle)</span></span></span><span class="hljs-string">-palette.png -lavfi paletteuse -y /tmp/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(seq.stitle)</span></span></span><span class="hljs-string">.gif`</span></span>)</code> </pre> <br><p>  Das heißt, eine Reihe von Bildern wird erstellt, und dann wird aus diesen Frames ein GIF zusammengestellt: </p><br><p><img src="https://habrastorage.org/webt/u9/cz/_n/u9cz_nh6qbjpiczbe8mc4097kdo.gif"></p><br><h2 id="pentahor">  Pentahore </h2><br><p>  Er ist ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fünfkern</a> - der richtige vierdimensionale Simplex.  Um 4-dimensionale Objekte auf zweidimensionalen Bildern zu zeichnen und zu bearbeiten, definieren wir zunächst </p><br><div class="spoiler">  <b class="spoiler_title">Klasse 4-dimensionaler Punkt</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Point4D &lt;: <span class="hljs-built_in"><span class="hljs-built_in">AbstractArray</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>} x::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> y::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> z::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> w::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Point4D(a::<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>}) = Point4D(a...) Base.size(pt::Point4D) = (<span class="hljs-number"><span class="hljs-number">4</span></span>, ) Base.getindex(pt::Point4D, i) = [pt.x, pt.y, pt.z, pt.w][i] <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Point3D &lt;: <span class="hljs-built_in"><span class="hljs-built_in">AbstractArray</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>} x::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> y::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> z::<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Base.size(pt::Point3D) = (<span class="hljs-number"><span class="hljs-number">3</span></span>, )</code> </pre> </div></div><br><p>  Anstatt viele Operationen manuell zu definieren, können wir unsere Struktur als Subtyp von AbstractArray definieren ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Weitere Informationen zu Klassen als Schnittstellen</a> ). </p><br><p>  Die Hauptaufgabe, die wir lösen müssen, ist das Konvertieren eines 4D-Punkts in einen 2D-Punkt.  Beginnen wir mit einer einfacheren Aufgabe: Wie konvertiere ich einen 3D-Punkt in einen 2D-Punkt, d. H.  Wie können wir eine 3D-Figur auf einer ebenen Fläche zeichnen?  Betrachten Sie einen einfachen Würfel.  Die Vorder- und Rückseite können die gleichen X- und Y-Koordinaten haben und variieren nur in ihren Z-Werten. </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> fontface(<span class="hljs-string"><span class="hljs-string">"Menlo"</span></span>) fontsize(<span class="hljs-number"><span class="hljs-number">8</span></span>) setblend(blend( boxtopcenter(BoundingBox()), boxmiddlecenter(BoundingBox()), <span class="hljs-string"><span class="hljs-string">"skyblue"</span></span>, <span class="hljs-string"><span class="hljs-string">"white"</span></span>)) box(boxtopleft(BoundingBox()), boxmiddleright(BoundingBox()), :fill) setblend(blend( boxmiddlecenter(BoundingBox()), boxbottomcenter(BoundingBox()), <span class="hljs-string"><span class="hljs-string">"grey95"</span></span>, <span class="hljs-string"><span class="hljs-string">"grey45"</span></span> )) box(boxmiddleleft(BoundingBox()), boxbottomright(BoundingBox()), :fill) sethue(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) setline(<span class="hljs-number"><span class="hljs-number">2</span></span>) bx1 = box(O, <span class="hljs-number"><span class="hljs-number">250</span></span>, <span class="hljs-number"><span class="hljs-number">250</span></span>, vertices=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) poly(bx1, :stroke, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) label.([<span class="hljs-string"><span class="hljs-string">"-1 1 1"</span></span>, <span class="hljs-string"><span class="hljs-string">"-1 -1 1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1 -1 1"</span></span>, <span class="hljs-string"><span class="hljs-string">"1 1 1"</span></span>], slope.(O, bx1), bx1) setline(<span class="hljs-number"><span class="hljs-number">1</span></span>) bx2 = box(O, <span class="hljs-number"><span class="hljs-number">150</span></span>, <span class="hljs-number"><span class="hljs-number">150</span></span>, vertices=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) poly(bx2, :stroke, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) label.([<span class="hljs-string"><span class="hljs-string">"-1 1 0"</span></span>, <span class="hljs-string"><span class="hljs-string">"-1 -1 0"</span></span>, <span class="hljs-string"><span class="hljs-string">"1 -1 0"</span></span>, <span class="hljs-string"><span class="hljs-string">"1 1 0"</span></span>], slope.(O, bx2), bx2, offset=-<span class="hljs-number"><span class="hljs-number">45</span></span>) map((x, y) -&gt; line(x, y, :stroke), bx1, bx2) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-string"><span class="hljs-string">"cube.png"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/wm/ma/kk/wmmakkoeiu2q7pbhlue41othjj8.png"></p><br><p>  Daher besteht die Idee darin, einen Würfel von 3D in 2D zu projizieren, die ersten beiden Werte zu speichern und sie mit dem dritten Wert zu multiplizieren oder zu ändern.  Überprüfen Sie </p><br><div class="spoiler">  <b class="spoiler_title">Wie funktioniert es?</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> K = <span class="hljs-number"><span class="hljs-number">4.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> convert(Point, pt3::Point3D) k = <span class="hljs-number"><span class="hljs-number">1</span></span>/(K - pt3.z) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Point(pt3.x * k, pt3.y * k) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> cube = Point3D[ Point3D(-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D(-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D( <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D(-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D(-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D( <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>), Point3D( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>), ] circle.(convert.(Point, cube) * <span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, :fill) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">220</span></span> <span class="hljs-number"><span class="hljs-number">220</span></span> <span class="hljs-string"><span class="hljs-string">"points"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/0q/q9/oi/0qq9oivznmalvlw2cvwfqlzdc1c.png"></p><br><p>  Erstellen wir nach demselben Prinzip eine Methode zum Konvertieren von 4D-Punkten und eine Funktion, die eine Liste von vierdimensionalen Punkten verwendet und diese zweimal einer Liste von zweidimensionalen Punkten zuordnet, die zum Zeichnen geeignet sind. </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> convert(Point3D, pt4::Point4D) k = <span class="hljs-number"><span class="hljs-number">1</span></span>/(K - pt4.w) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Point3D(pt4.x * k, pt4.y * k, pt4.z * k) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> flatten(shape4) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> map(pt3 -&gt; convert(Point, pt3), map(pt4 -&gt; convert(Point3D, pt4), shape4)) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  Als nächstes legen Sie die Eckpunkte und Flächen fest und überprüfen Sie, wie es in Farbe funktioniert </p><br><div class="spoiler">  <b class="spoiler_title">Tyk!</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> n = -<span class="hljs-number"><span class="hljs-number">1</span></span>/√<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pentachoron = [Point4D(vertex...) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> vertex <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [ [ <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, n], [ <span class="hljs-number"><span class="hljs-number">1.0</span></span>, -<span class="hljs-number"><span class="hljs-number">1.0</span></span>, -<span class="hljs-number"><span class="hljs-number">1.0</span></span>, n], [-<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, -<span class="hljs-number"><span class="hljs-number">1.0</span></span>, n], [-<span class="hljs-number"><span class="hljs-number">1.0</span></span>, -<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, n], [ <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, n + √<span class="hljs-number"><span class="hljs-number">5</span></span>]]]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pentachoronfaces = [ [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]]; <span class="hljs-meta"><span class="hljs-meta">@png</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> setopacity(<span class="hljs-number"><span class="hljs-number">0.2</span></span>) pentachoron2D = flatten(pentachoron) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (n, face) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(pentachoronfaces) randomhue() poly(<span class="hljs-number"><span class="hljs-number">1500</span></span> * pentachoron2D[face], :fillpreserve, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) strokepath() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">300</span></span> <span class="hljs-number"><span class="hljs-number">250</span></span> <span class="hljs-string"><span class="hljs-string">"5ceil"</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ho/-d/nh/ho-dnhlwatveknu9k-tn30llpk0.png"></p><br><p>  Jeder sich selbst respektierende Spieleentwickler sollte die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mathematischen Grundlagen der Maschinengrafik kennen</a> .  Wenn Sie nie versucht haben, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teekannen in OpenGL</a> zu komprimieren, zu drehen oder zu reflektieren - seien Sie nicht beunruhigt, alles ist ganz einfach.  Um einen Punkt relativ zu einer geraden Linie zu reflektieren oder eine Ebene um eine bestimmte Achse zu drehen, müssen Sie die Koordinaten mit einer speziellen Matrix multiplizieren.  Tatsächlich werden wir die Transformationsmatrizen, die wir benötigen, weiter bestimmen </p><br><div class="spoiler">  <b class="spoiler_title">nimm mehr auf</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> XY(θ) [cos(θ) -sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; sin(θ) cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> XW(θ) [cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> -sin(θ); <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ)] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> XZ(θ) [cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> -sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> YZ(θ) [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ) -sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> sin(θ) cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> YW(θ) [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> -sin(θ); <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> sin(θ) <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ)] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ZW(θ) [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> cos(θ) -sin(θ); <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> sin(θ) cos(θ)]; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> rotate4(A, matrixfunction) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> map(A) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> pt4 Point4D(matrixfunction * pt4) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> </div></div><br><p>  Normalerweise drehen Sie Punkte auf einer Ebene relativ zu einem eindimensionalen Objekt.  3D-Punkte liegen um eine 2D-Linie (häufig ist dies eine der XYZ-Achsen).  Daher ist es logisch, dass sich 4D-Punkte relativ zur 3D-Ebene drehen.  Wir haben Matrizen identifiziert, die eine vierdimensionale Drehung um eine Ebene ausführen, die durch zwei Achsen X, Y, Z und W definiert ist. Die XY-Ebene ist normalerweise die Ebene der Zeichenfläche.  Wenn Sie die XY-Ebene als Computerbildschirm wahrnehmen, verläuft die XZ-Ebene parallel zu Ihrem Tisch oder Boden, und die YZ-Ebene ist die Wand neben Ihrem Tisch rechts oder links.  Aber was ist mit XW, YW und ZW?  Dies ist das Geheimnis vierdimensionaler Figuren: Wir können diese Ebenen nicht sehen, wir können uns ihre Existenz nur vorstellen, indem wir beobachten, wie sich Formen durch sie und um sie herum bewegen. </p><br><p>  Jetzt stellen wir die Funktionen für die Frames ein und nähen die Animation: </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ColorSchemes <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> frame(scene, framenumber, scalefactor=<span class="hljs-number"><span class="hljs-number">1000</span></span>) background(<span class="hljs-string"><span class="hljs-string">"white"</span></span>) <span class="hljs-comment"><span class="hljs-comment"># antiquewhite setlinejoin("bevel") setline(1.0) sethue("black") eased_n = scene.easingfunction(framenumber, 0, 1, scene.framerange.stop) pentachoron′ = rotate4(pentachoron, XZ(eased_n * 2π)) pentachoron2D = flatten(pentachoron′) setopacity(0.2) for (n, face) in enumerate(pentachoronfaces) sethue(get(ColorSchemes.diverging_rainbow_bgymr_45_85_c67_n256, n/length(pentachoronfaces))) poly(scalefactor * pentachoron2D[face], :fillpreserve, close=true) sethue("black") strokepath() end end function makemovie(w, h, fname; scalefactor=1000) movie1 = Movie(w, h, "4D movie") animate(movie1, Scene(movie1, (s, f) -&gt; frame(s, f, scalefactor), 1:300, easingfunction=easeinoutsine), #framerate=10, tempdirectory="C:\\Users\\User\\Desktop\\mycop", creategif=true, pathname="C:\\Users\\User\\Desktop\\mycop\\$(fname)") end makemovie(320, 320, "pentachoron-xz.gif", scalefactor=2000)</span></span></code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/_-/kf/jn/_-kfjnlandsje4b_ducdd198l2k.gif"></p><br><p>  Nun, und noch ein Winkel: </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> frame(scene, framenumber, scalefactor=<span class="hljs-number"><span class="hljs-number">1000</span></span>) background(<span class="hljs-string"><span class="hljs-string">"antiquewhite"</span></span>) setlinejoin(<span class="hljs-string"><span class="hljs-string">"bevel"</span></span>) setline(<span class="hljs-number"><span class="hljs-number">1.0</span></span>) setopacity(<span class="hljs-number"><span class="hljs-number">0.2</span></span>) eased_n = scene.easingfunction(framenumber, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, scene.framerange.stop) pentachoron2D = flatten( rotate4( pentachoron, XZ(eased_n * <span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-literal"><span class="hljs-literal">π</span></span>) * YW(eased_n * <span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-literal"><span class="hljs-literal">π</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (n, face) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(pentachoronfaces) sethue(get(ColorSchemes.diverging_rainbow_bgymr_45_85_c67_n256, n/length(pentachoronfaces))) poly(scalefactor * pentachoron2D[face], :fillpreserve, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) sethue(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) strokepath() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> makemovie(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-string"><span class="hljs-string">"pentachoron-xz-yw.gif"</span></span>, scalefactor=<span class="hljs-number"><span class="hljs-number">2000</span></span>)</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/ly/dp/ga/lydpgaqmek-xv2bn3kslhxti550.gif"></p><br><p>  Der Wunsch, ein beliebteres vierdimensionales Objekt, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tesseract,</a> zu realisieren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> ist völlig natürlich. </p><br><div class="spoiler">  <b class="spoiler_title">Tops und Gesichter</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tesseract = [Point4D(vertex...) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> vertex <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [ [-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [ <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>], [-<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span>]]] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tesseractfaces = [ [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>], [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>], [<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>], [<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>], [<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>], [<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>]];</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Animation erstellen</b> <div class="spoiler_text"><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> frame(scene, framenumber, scalefactor=<span class="hljs-number"><span class="hljs-number">1000</span></span>) background(<span class="hljs-string"><span class="hljs-string">"black"</span></span>) setlinejoin(<span class="hljs-string"><span class="hljs-string">"bevel"</span></span>) setline(<span class="hljs-number"><span class="hljs-number">10.0</span></span>) setopacity(<span class="hljs-number"><span class="hljs-number">0.7</span></span>) eased_n = scene.easingfunction(framenumber, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, scene.framerange.stop) tesseract2D = flatten( rotate4( tesseract, XZ(eased_n * <span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-literal"><span class="hljs-literal">π</span></span>) * YW(eased_n * <span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-literal"><span class="hljs-literal">π</span></span>))) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (n, face) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(tesseractfaces) sethue([Luxor.lighter_blue, Luxor.lighter_green, Luxor.lighter_purple, Luxor.lighter_red][mod1(n, <span class="hljs-number"><span class="hljs-number">4</span></span>)]...) poly(scalefactor * tesseract2D[face], :fillpreserve, close=<span class="hljs-literal"><span class="hljs-literal">true</span></span>) sethue([Luxor.darker_blue, Luxor.darker_green, Luxor.darker_purple, Luxor.darker_red][mod1(n, <span class="hljs-number"><span class="hljs-number">4</span></span>)]...) strokepath() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> makemovie(<span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-string"><span class="hljs-string">"tesseract-xz-yw.gif"</span></span>, scalefactor=<span class="hljs-number"><span class="hljs-number">1000</span></span>)</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/rt/1m/tj/rt1mtj1txgr2b3nixiay82jttfe.gif"></p><br><p>  <strong><em>Hausaufgabe:</em></strong> Automatisieren Sie die Erstellung von Arrays von Koordinaten und Scheitelpunktnummern ( <em>Permutationen mit Wiederholungen bzw. ohne Wiederholungen</em> ).  Außerdem haben wir nicht alle Übersetzungsmatrizen verwendet.  Jede neue Perspektive bringt ein neues „Wow!“, Aber ich habe beschlossen, die Seite nicht zu überladen.  Nun, Sie können mit vielen Gesichtern und Dimensionen experimentieren. </p><br><h3 id="ssylki">  Referenzen </h3><br><ul><li>  <a href="">Luxor</a> - Github Seite </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Luxor docs</a> - eine Anleitung mit Beispielen </li><li>  <a href="">Kairo</a> - eine einfache Grafikbibliothek;  von Luxor als Umgebung genutzt </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der Blog des Autors der Bibliothek</a> - es gibt viel Coolness und fortgeschrittenere Beispiele, einschließlich vierdimensionaler Figuren. </li></ul><br><p><img src="https://habrastorage.org/webt/f2/4o/pr/f24oprfnnrnguwwb03xcyo__xx4.gif" alt="Kottke"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459842/">https://habr.com/ru/post/de459842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459832/index.html">9 coole Erweiterungsregeln für Visual Studio</a></li>
<li><a href="../de459834/index.html">Erkennen in C ++, ob ein Typ definiert ist: Vordeklarieren von Dingen, die Sie prüfen möchten</a></li>
<li><a href="../de459836/index.html">Ankündigung von XAML Hot Reload für Xamarin.Forms</a></li>
<li><a href="../de459838/index.html">Schreiben Sie mit Roslyn Analyzers schneller besseren Code</a></li>
<li><a href="../de459840/index.html">XAML Hot Reload für Xamarin.Forms veröffentlicht</a></li>
<li><a href="../de459844/index.html">Pinguin im Fenster: über das Potenzial und die Perspektiven von WSL2</a></li>
<li><a href="../de459850/index.html">Amateurfunktechnologie: Wie ich die Installation einer Leiterplatte in einer chinesischen Fabrik bestellt habe</a></li>
<li><a href="../de459852/index.html">Die Praxis der Verwendung der Lottie-Bibliothek in der mobilen Anwendung der Bank</a></li>
<li><a href="../de459858/index.html">Erkundung der modernen Malware Cerberus für Android</a></li>
<li><a href="../de459860/index.html">ClickHouse für Integrationstests in gitlab-ci konfigurieren</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>