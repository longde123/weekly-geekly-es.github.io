<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚉 👷🏻 🛄 JMeter - Swiss Tester Knife (Bagian 2) 🏇🏾 🧖🏽 💹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini saya akan memberi tahu Anda bagaimana, dengan bantuan JMeter, kami menyiapkan proses caching halaman produk, menguji pengoperasian aplikasi s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JMeter - Swiss Tester Knife (Bagian 2)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463443/">  Hari ini saya akan memberi tahu Anda bagaimana, dengan bantuan JMeter, kami menyiapkan proses caching halaman produk, menguji pengoperasian aplikasi seluler tanpa aplikasi itu sendiri dan menciptakan 2.000 pengguna dalam sistem tanpa akses ke database. <br><br>  Siapa pun yang tidak tahu apa yang sedang terjadi di sini, baca bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama artikel</a> - di dalamnya saya memberi tahu bagaimana JMeter membantu kami "menangkap" masalah dengan jatuhnya situs di antara beberapa pengguna. <br><a name="habracut"></a><br><h2>  Cara cepat men-cache beberapa ribu halaman produk </h2><br>  Klien kami yang lain adalah perusahaan manufaktur peralatan Italia untuk penerangan indoor, outdoor dan dekoratif. <br><br><img src="https://habrastorage.org/webt/xx/q1/q9/xxq1q96rdlara9p8zag2ig_h2lu.png" alt="Tangkapan layar aplikasi IPad"><br>  <font color="#999999"><i>Peralatan klien kami menerangi karya seni lukis dunia, monumen arsitektur, monumen, bangunan pusat bisnis dan bandara</i></font> <br><br>  Kami mengembangkan situs untuk perusahaan ini di Kentico.  Ini menyajikan semua bahan dan model peralatan pencahayaan - 20.000 salinan.  Dan masing-masing memiliki halaman terpisah. <br><br>  Setelah situs dirilis, kami menemukan satu fitur yang tidak menyenangkan dari Kentico: ia tidak memiliki alat untuk secara otomatis memuat file media ke dalam cache.  Setelah memperbarui dan memulai ulang situs (yang terjadi secara teratur), cache diset ulang dan sebagian besar halaman terbuka selama 10 detik.  Tidak semua pengguna siap menunggu begitu lama. <br><br>  Kami melihat dua opsi untuk memuat file media ke dalam cache.  Pertama: ini adalah waktu yang lama untuk secara manual melalui situs secara manual melalui browser.  Kedua: menulis skrip yang akan melakukan ini untuk kita - cocok! <br><br>  Kami memutuskan untuk menggunakan JMeter: kami baru saja memberinya sitemap penuh, dia berjalan di atasnya dan mengirim file media ke cache. <br><br>  Itu adalah solusi sederhana, tetapi tidak terlalu optimal.  Script membutuhkan enam (!!!) jam untuk selesai.  Diperlukan cara yang lebih cepat. <br><br>  Setelah mempelajari sedikit topik, kami memutuskan untuk menggunakan regexps.  JMeter dapat meminta sumber daya yang dibangun ke dalam halaman untuk topeng tertentu dari server.  Inilah yang kami manfaatkan.  Setelah menghilangkan apa yang tidak terletak di server kami dan tidak memerlukan pemuatan ke dalam cache (gambar pihak ketiga, font, gaya, dll.), Kami telah mengurangi waktu yang dibutuhkan untuk skrip untuk menelusuri halaman hingga dua jam. <br><img src="https://habrastorage.org/webt/df/25/0e/df250egkgmk3uozctdqxm77q6xm.png"><br>  <font color="#999999"><i>Ini akan terlihat seperti Permintaan HTTP di JMeter untuk memuat hanya jenis aset tertentu</i></font> <br><br>  Tapi ini terlalu lama: pengisian dimulai pukul 9:00 di Chelyabinsk dan memakan waktu satu jam, kemudian dua jam dihabiskan untuk skrip, sebagai hasilnya kita akan selesai pada pukul 12:00.  Di Italia, sudah jam 08:00, dan beberapa penduduk setempat sudah mulai bekerja pukul 6-7 pagi.  Situs ini lambat, banyak keluhan ... Kami perlu mengoptimalkan lebih lanjut! <br><br>  Keputusan datang ketika kami menyadari bahwa gambar yang hampir sama digunakan pada semua 20.000 halaman produk.  Kami melakukan analisis dan menyadari bahwa itu cukup untuk mengunduh sepenuhnya (dengan semua sumber daya bawaan) hanya 30% dari halaman acak, dan sisanya dapat dijalankan tanpa memuat file media.  Dengan demikian, sebagian besar bahan - gambar, font, skrip dan gaya untuk halaman produk - termasuk dalam cache.  Ketika seorang pengguna menghubungi salah satu dari mereka, mengunduh dari server hanya akan memerlukan sebagian kecil dari konten, dan itu akan memakan waktu tidak lebih dari 1-2 detik. <br><br><img src="https://habrastorage.org/webt/zm/ug/_o/zmug_ovryd349t3177cyuueac0m.png" alt="Kami mengacak skrip JMeter menggunakan parameter"><br>  <font color="#999999"><i>Dengan meminta nomor halaman acak dari tabel Variabel Buatan Pengguna, setiap kali kami mendapatkan halaman acak dari daftar</i></font> <br><br>  Dengan menggunakan metode yang dijelaskan, kami mendapatkan situs yang dalam 90% kasus bekerja dengan cepat.  Ya, dalam satu dari sepuluh kasus, butuh hingga 30 detik untuk menunggu halaman dimuat, tetapi di sembilan yang lain semuanya baru saja terbang.  Dan itu hanya dalam 15-30 menit. <br><br>  Sekarang trik seperti itu tidak lagi diperlukan - para pengembang telah mengoptimalkan sistem caching itu sendiri.  Tetapi pada saat itu, keputusan ini adalah penyelamatan nyata, dan JMeter ternyata menjadi alat yang sangat berguna, bahkan setelah dilepaskan dan dituangkan. <br><br><h2>  Cara membuat 2000 pengguna aplikasi, jika Anda hanya memiliki email dan dua jam untuk bekerja </h2><br>  Klien ketiga, yang akan saya bicarakan, adalah perusahaan yang mengembangkan, memproduksi dan menjual peralatan medis: dari pisau bedah sederhana hingga pemotong laser dan latihan kompleks dengan kamera bawaan.  Manajer mereka pergi ke klinik, berkomunikasi dengan ahli bedah dan memberi tahu mereka tentang produk mereka.  Untuk melakukan ini, mereka memiliki aplikasi khusus untuk iPad: data dokter dan daftar alat yang menarik baginya dimasukkan ke dalamnya.  Kemudian, tautan ke halaman pribadi dengan daftar semua alat ini, uraian terperinci dan karakteristik datang ke email dokter.  Halaman-halaman ini untuk ahli bedah yang kami kembangkan.  Aplikasi dan email buletin dibuat oleh perusahaan lain. <br><br>  Salah satu tugas untuk JMeter pada proyek ini adalah untuk menguji sistem untuk membuat versi yang berbeda dari halaman-halaman tersebut, terlepas dari kenyataan bahwa kami hanya memiliki backend.  Kami menulis sebuah skrip sehingga dengan menggunakan generator angka acak, ia membuat halaman dari berbagai jenis, dan kemudian mengirimkannya ke email kami yang berfungsi untuk verifikasi.  Semuanya sederhana.  Dan saya bahkan tidak akan menyebut klien ini di artikel, jika bukan karena satu kasus. <br><br>  Beberapa hari sebelum peluncuran, manajer saya menelepon saya dan meminta untuk membuat 2000 pengguna untuk aplikasi tersebut.  Kesulitannya adalah bahwa kami tidak memiliki akses ke server langsung atau database.  Kami harus membuat 2.000 pengguna hanya melalui CMS (dalam hal ini, melalui Umbraco).  Pada saat yang sama, setelah pendaftaran, setiap pengguna harus menerima surat dengan tipe kira-kira sebagai berikut: <br><br><img src="https://habrastorage.org/webt/ae/gw/xx/aegwxxnxnhu_w0q34wz8nerttb0.png" alt="Surat setelah pendaftaran"><br>  <font color="#999999"><i>Setelah menerima email seperti itu, pengguna menginstal aplikasi dan mengubah kata sandi standar menjadi miliknya</i></font> <br><br>  Untuk mendaftarkan pengguna, diperlukan lima bidang: <br><br><ul><li>  Email </li><li>  nama </li><li>  nama belakang; </li><li>  login; </li><li>  kata sandi </li></ul><br>  Saya hanya punya dua jam untuk menyelesaikan tugas.  Sekali lagi: 2000 pengguna, lima bidang untuk masing-masing, dua jam ... Data dari manajer datang dalam bentuk berikut: <br><br><img src="https://habrastorage.org/webt/bx/8s/_n/bx8s_nesrxxftxe1uty-wnsduty.png" alt="Bukan format data yang paling mudah dibaca, hanya daftar email dalam bentuk teks"><br><br>  Jika saya seorang pengembang, bukan spesialis QA, saya akan menulis skrip, misalnya, dalam perl: ia akan menguraikan data ini dan dengan cepat menyebarkan semuanya.  Tapi saya memilih jalur yang berbeda dan menggunakan yang paling, mungkin, alat ideal untuk organisasi data cepat - MS Excel.  Spreadsheet menyelamatkan dunia! <br><br>  Menggunakan manipulasi sederhana dengan mengganti data, memotong kelebihan dan trik lainnya, saya membuat file ~ 10rb baris, dari formulir: <br><br>  login1 |  john.smith <br>  login2 |  dokter <br>  ... <br>  name1 |  John <br>  ... <br><br>  Saya tidak terlalu peduli dengan kata sandi - saya hanya menulis kata sandiNumber1 dan “memperpanjang” kolom ini di Excel untuk semua 2000 pengguna.  Ini tidak masalah, karena hanya digunakan untuk entri pertama.  Ya, dan saya tidak mengurutkan daftar email secara alfabet, yang berarti kemungkinan menebak kata sandi secara acak diminimalkan. <br><br>  Mengumpankan file ini (melalui clipboard) ke JMeter, saya bersandar di kursi saya dan menyaksikan dengan senang hati bagaimana pengguna dibuat.  Seluruh proses pemrosesan data dan pembuatan pengguna baru membutuhkan waktu 1 jam 45 menit - bahkan waktu tersisa untuk kopi! <br><br>  <b>Kesimpulan:</b> JMeter ternyata menjadi alat yang nyaman untuk pengujian otomatis backend aplikasi mobile, dan juga, tiba-tiba, untuk otomatisasi tugas-tugas non-standar - seperti ini, dengan sekelompok pengguna dan informasi minimum tentang mereka. <br><br>  Secara umum, JMeter dapat digunakan (dan digunakan oleh saya secara pribadi) untuk berbagai tugas.  Misalnya, untuk: <br><br><ul><li>  analisis optimasi: melakukan pengujian beban, memperbaiki optimasi roll, melakukan pengujian lagi, membandingkan hasil; </li><li>  Tes keamanan kueri: menulis skrip menggunakan proxy, mengirim permintaan langsung ke server tanpa pemeriksaan front-end, menghapus berbagai kunci dari permintaan, memeriksa apakah server merespons dengan memadai; </li><li>  memeriksa respons terhadap tajuk: kami menulis skrip yang mengirim permintaan ke halaman yang sama dengan tajuk yang berbeda dalam satu lingkaran, kami memeriksa reaksi server dan melihat apa yang harus dihapus; </li><li>  enumerasi kombinasi otorisasi: letakkan siklus dengan kata sandi dalam siklus dengan login, uji formulir otorisasi; </li><li>  memeriksa perlindungan terhadap serangan: kami mengirim permintaan untuk mengirimkan formulir di beberapa aliran dan melihat apakah perlindungan Anda berfungsi; </li><li>  otomatisasi sistem API: setiap hasil permintaan API dapat diproses oleh skrip dan digunakan pada langkah berikutnya dari siklus pengujian - dengan cara ini Anda dapat mengotomatiskan pengujian sistem apa pun tersebut. </li></ul><br>  Dari hal di atas, kita dapat menarik kesimpulan umum: JMeter adalah alat universal, pisau Swiss nyata untuk tester (dan untuk seorang pengembang, jujur ​​saja). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463443/">https://habr.com/ru/post/id463443/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463433/index.html">Email Blog: Fitur Gmail</a></li>
<li><a href="../id463435/index.html">Tinjauan umum layanan cloud untuk mengembangkan backend untuk aplikasi seluler</a></li>
<li><a href="../id463437/index.html">Hubungkan perangkat seluler ke database tanpa menulis kode server</a></li>
<li><a href="../id463439/index.html">Komputer kontrol on-board Apollo: analisis dipstick dan rekayasa memori pada beberapa inti yang dijahit</a></li>
<li><a href="../id463441/index.html">Sampler. Utilitas konsol untuk memvisualisasikan hasil dari setiap perintah shell</a></li>
<li><a href="../id463445/index.html">9 Jenis Solusi Perangkat Lunak Kolaborasi untuk Mengelola Tim Agile</a></li>
<li><a href="../id463447/index.html">Astra Linux 1.6 (Smolensk). Apakah sistem siap bekerja dengan pengguna biasa? Contoh Kruk</a></li>
<li><a href="../id463455/index.html">Ribuan hal untuk diperbaiki di Jawa dari versi satu: wawancara hebat dengan Oracle, Sergey Kuksenko</a></li>
<li><a href="../id463459/index.html">Kesalahan tersembunyi dengan Transisi Elemen Bersama</a></li>
<li><a href="../id463461/index.html">Apa yang ada dan apa yang tidak ada dalam Go. Bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>