<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💨 🚶🏽 ☪️ Desarrollo de juegos en Procesamiento con control a través del tablero Arduino Uno 😾 🏓 🚧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para comenzar, describiré brevemente el propósito del proyecto. Quería crear algo simple e intuitivo para demostrar la comunicación de la placa Arduin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo de juegos en Procesamiento con control a través del tablero Arduino Uno</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384479/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para comenzar, describiré brevemente el propósito del proyecto. </font><font style="vertical-align: inherit;">Quería crear algo simple e intuitivo para demostrar la comunicación de la placa Arduino Uno y una PC a través de una conexión en serie. </font><font style="vertical-align: inherit;">Algo que encajaría en las regulaciones del proyecto "fin de semana", a saber: se realizó en un par de horas y se codificó fácilmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se decidió crear un juego con las siguientes reglas. </font><font style="vertical-align: inherit;">La acción tiene lugar en un plano bidimensional en funcionamiento. </font><font style="vertical-align: inherit;">La bola de "héroe", controlada por el jugador, está tratando de evitar una colisión con las bolas de "oponentes". </font><font style="vertical-align: inherit;">La bola de héroe se mueve solo a lo largo del eje de abscisas, los oponentes aparecen en un lugar arbitrario en el plano de trabajo y se mueven rectilíneamente a lo largo del eje de ordenadas. </font><font style="vertical-align: inherit;">Si la bola del "héroe" abandona la colisión con el "oponente", el valor del contador de puntos se incrementa, de lo contrario, el contador se reinicia y los puntos acumulados anteriormente se "queman".</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paso 1</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La elección del lenguaje de programación. </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El procesamiento se eligió porque el lenguaje de programación para las placas Arduino se basa en él. El procesamiento también es una herramienta buena y simple para crear imágenes, efectos de animación, etc. Sí, también es gratis.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paso 2</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construye un "joystick" casero. </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo es completamente trivial. </font><font style="vertical-align: inherit;">El papel del joystick lo desempeña un potenciómetro convencional conectado entre + 5V de potencia y tierra GND en la placa Arduino Uno. </font><font style="vertical-align: inherit;">El pin central está conectado al pin analógico "A0". </font></font><br>
<br>
<img src="https://habrastorage.org/files/6ad/47a/125/6ad47a125ec6460f877207e703fb3594.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturalmente, si lo desea, puede usar el stick analógico, el panel táctil, etc. La esencia es la misma.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paso 3</font></font></h4> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programación de placa Arduino. </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En este proyecto, se requiere que la placa Arduino envíe continuamente datos sobre la posición del control deslizante del potenciómetro. </font><font style="vertical-align: inherit;">Posteriormente, estos datos en la computadora son "recogidos" por Processing para las necesidades del juego (determinando las coordenadas de la pelota "hero").</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código para la placa Arduino Uno</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> potPin = <span class="hljs-number">0</span>;<span class="hljs-comment">//   ,     </span>
<span class="hljs-comment">// </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{<font></font>
Serial.begin(<span class="hljs-number">9600</span>);<span class="hljs-comment">// serial      </span><font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{
 <span class="hljs-keyword">int</span> val = <span class="hljs-built_in">map</span> (analogRead(potPin), <span class="hljs-number">0</span>, <span class="hljs-number">1023</span>, <span class="hljs-number">0</span>, <span class="hljs-number">640</span>);<span class="hljs-comment">//    </span>
<span class="hljs-comment">//     Arduino     0  1023.</span>
<span class="hljs-comment">//  map      0  640. </span>
<span class="hljs-comment">// ,        </span>
<span class="hljs-comment">//  Processing   </span>
 Serial.println(val);<span class="hljs-comment">//       </span>
 delay(<span class="hljs-number">50</span>);<span class="hljs-comment">//   50 </span><font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paso 4</font></font></h4> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En realidad, la escritura del juego en sí. </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como se mencionó anteriormente, el juego está escrito en el lenguaje de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">procesamiento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Puede descargar el kit de distribución en el sitio web, también hay ejemplos de uso. </font><font style="vertical-align: inherit;">En mi caso, el "motor" consta de 49 líneas de código, de las cuales la mitad son comentarios. </font><font style="vertical-align: inherit;">Lo que quiero decir, entenderlo no es difícil. </font><font style="vertical-align: inherit;">Puedes cambiar de forma independiente las "máscaras" de los héroes, agregar el número de oponentes, introducir bonificaciones en el juego, eliminar los ruidos del potenciómetro, etc. Mi código está debajo del spoiler.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procesando código de juego</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-keyword">import</span> processing.serial.*;<span class="hljs-comment">//I/O library</span><font></font>
Serial port;<font></font>
PShape bot; <span class="hljs-comment">//       </span>
PFont font; <span class="hljs-comment">//   </span>
<span class="hljs-keyword">int</span> radiusOfHero=<span class="hljs-number">100</span>, radiusOfEnemy, speedOfEnemy=<span class="hljs-number">1</span>, Counter=<span class="hljs-number">0</span>;
<span class="hljs-keyword">float</span> positionOfHeroX=<span class="hljs-number">100.0</span>, positionOfEnemyY = <span class="hljs-number">0.0</span> ,positionOfEnemyX=<span class="hljs-number">0.0</span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span>
</span>{<font></font>
  size(<span class="hljs-number">640</span>, <span class="hljs-number">400</span>);<span class="hljs-comment">//   </span>
  port = <span class="hljs-keyword">new</span> Serial(<span class="hljs-keyword">this</span>, <span class="hljs-string">"COM4"</span>, <span class="hljs-number">9600</span>);<span class="hljs-comment">//     COM  </span>
<span class="hljs-comment">//  4 </span>
  port.bufferUntil(<span class="hljs-string">'\n'</span>);<font></font>
  bot = loadShape(<span class="hljs-string">"2.svg"</span>);<span class="hljs-comment">//  ,      Processing</span>
  font = loadFont(<span class="hljs-string">"AgencyFB-Bold-200.vlw"</span>);<span class="hljs-comment">//    </span>
  textFont(font,<span class="hljs-number">200</span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">draw</span><span class="hljs-params">()</span> </span>{<font></font>
    background(<span class="hljs-number">0</span>);<font></font>
    fill(<span class="hljs-number">255</span>);<font></font>
    text(Counter, <span class="hljs-number">30</span>,<span class="hljs-number">175</span>);<span class="hljs-comment">//        (30; 175)</span>
<span class="hljs-comment">//===============definiton of hero position=============</span>
fill(<span class="hljs-number">0</span>, <span class="hljs-number">102</span>, <span class="hljs-number">153</span>);<font></font>
ellipse(positionOfHeroX, height-radiusOfHero/<span class="hljs-number">2</span>, radiusOfHero, radiusOfHero);<span class="hljs-comment">// </span>
<span class="hljs-comment">// -</span>
<span class="hljs-comment">//===============definition of enemy===============</span>
fill(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<font></font>
radiusOfEnemy=round(random(<span class="hljs-number">60</span>));{
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; height; i++) <font></font>
      positionOfEnemyY=positionOfEnemyY+<span class="hljs-number">0.02</span>*speedOfEnemy;<span class="hljs-comment">//   -   </span>
      ellipse(positionOfEnemyX, positionOfEnemyY, radiusOfEnemy*<span class="hljs-number">2</span>, radiusOfEnemy*<span class="hljs-number">2</span>); }<span class="hljs-comment">//  -</span>
<span class="hljs-keyword">if</span> (positionOfEnemyY&gt;height) {<font></font>
positionOfEnemyY=<span class="hljs-number">0.0</span>;<font></font>
positionOfEnemyX = round(random(width)); <span class="hljs-comment">//     -</span><font></font>
Counter++;}<font></font>
<span class="hljs-comment">//==============clash==========================</span>
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>(positionOfHeroX-positionOfEnemyX) &lt; (radiusOfHero+radiusOfEnemy)/<span class="hljs-number">2</span> &amp; <font></font>
   (<span class="hljs-built_in">abs</span>(height-radiusOfHero/<span class="hljs-number">2</span>)-positionOfEnemyY) &lt; (radiusOfHero+radiusOfEnemy)/<span class="hljs-number">2</span>){<span class="hljs-comment">//   -</span>
background(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<font></font>
shape(bot, positionOfHeroX-radiusOfHero/<span class="hljs-number">2</span>,height-radiusOfHero, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);  <font></font>
Counter=<span class="hljs-number">-1</span>;<font></font>
fill(<span class="hljs-number">255</span>);<font></font>
textFont(font,<span class="hljs-number">150</span>);<font></font>
text(<span class="hljs-string">"TURN AWAY!"</span>, <span class="hljs-number">0</span>,height/<span class="hljs-number">2</span>);<font></font>
}<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">serialEvent</span> <span class="hljs-params">(Serial port)</span> </span>{<font></font>
positionOfHeroX=round(<span class="hljs-keyword">float</span>(port.readStringUntil(<span class="hljs-string">'\n'</span>)));<span class="hljs-comment">//    -   COM4</span><font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paso 5</font></font></h4> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demostración de un juego</font></font></i><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vídeo</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.youtube.com/embed/5cKMhVj1EZk%3Ffeature%3Doembed&amp;usg=ALkJrhhEARL1A-uBvx5AE1LPauwvCZa29g" frameborder="0" allowfullscreen=""></iframe><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.youtube.com/embed/th6G79fV5yI%3Ffeature%3Doembed&amp;usg=ALkJrhhwVxjPMC5KPYBq-7Z_9bJgdZB36w" frameborder="0" allowfullscreen=""></iframe><br>
</div></div></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es384479/">https://habr.com/ru/post/es384479/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es384467/index.html">Watchdog basado en nano de Arduino</a></li>
<li><a href="../es384471/index.html">El robot de construcción de Hadrian puede correr 20 veces más rápido que los humanos</a></li>
<li><a href="../es384473/index.html">Hablando de cine en casa</a></li>
<li><a href="../es384475/index.html">La revisión no es un gadget. Elegir el mejor estuche de entrenamiento y otros accesorios para teléfonos inteligentes: apósitos, bolsos y bolsillo de silicona</a></li>
<li><a href="../es384477/index.html">La NASA probará la tecnología de desarrollo de asteroides usando luz solar</a></li>
<li><a href="../es384481/index.html">La guerra obligó a los científicos sirios a reponer las existencias de semillas de la "Bóveda del Juicio Final"</a></li>
<li><a href="../es384483/index.html">Un teléfono experimental alimentado por paneles solares. RC 1.0</a></li>
<li><a href="../es384485/index.html">Módulos Laurent y Smart Home (Parte 1). Mayordomo</a></li>
<li><a href="../es384487/index.html">Canción "Happy Birthday To You" por orden judicial anunciada públicamente</a></li>
<li><a href="../es384489/index.html">Nueva unidad de estado sólido más rápida del fabricante coreano: Samsung 950 Pro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>