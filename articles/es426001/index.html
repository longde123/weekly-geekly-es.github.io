<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòö üë≤üèæ üõ§Ô∏è Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 3 üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø ü§πüèª üöÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/426001/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Lo √∫ltimo que debemos hacer y que ser√° muy instructivo es cambiar este c√≥digo indicando el m√≥dulo de sala all√≠, y luego intentar acceder a la tabla de sala, como en el ejemplo anterior.  Esta opci√≥n no est√° permitida porque no est√° permitida. <br><br><img src="https://habrastorage.org/webt/lq/cl/1b/lqcl1bhdj-8n1iwdldrcdud9aae.jpeg"><br><br>  Esto ser√≠a como poder leer y escribir campos de clases privadas en Java.  De hecho, recibimos un mensaje bastante simple, b√°sicamente diciendo que tenemos una variable no relacionada aqu√≠, una expresi√≥n desconocida para el par√°metro room. <br><br><img src="https://habrastorage.org/webt/4m/1g/_x/4m1g_xnn66lyaelr9s4uxpco8lg.jpeg"><br><br>  Podr√≠amos mencionar este m√≥dulo adicional, que creamos solo por diversi√≥n. <br><br><img src="https://habrastorage.org/webt/_a/d9/xt/_ad9xtpqlfi614nkm7p7ncnoubg.jpeg"><br><br>  Pero entonces ser√°n tablas diferentes.  Podemos acceder f√°cilmente a √©l.  Por lo tanto, lo dividir√© en dos partes, comenzaremos simplemente llamando al m√©todo room y luego haremos algo ligeramente diferente para leer sus elementos. <br><br><img src="https://habrastorage.org/webt/-v/oo/uw/-voouwvojaigv3v_pwgm8hjwdpo.jpeg"><br><br>  Muestre una lista de resultados, y no al rev√©s, esto es m√°s o menos equivalente a c√≥mo funcionaba el programa anteriormente, excepto por el uso de varios tipos de datos.  Veamos que viene de esto.  Ahora volvemos a nuestro chat en la sala 1 e ingresamos cualquier mensaje en la l√≠nea.  Ver√° que todos se muestran sin errores. <br><br><img src="https://habrastorage.org/webt/o0/he/wy/o0hewytedbbixmmshkq12gybvp4.jpeg"><br><br>  Es decir, ahora tenemos esta encapsulaci√≥n, por lo que puede pensar en la estructura de esta sala como una biblioteca, pero no necesita preocuparse por eso. <br><br>  Hay varios lugares que pueden da√±ar la invariancia interna de un sistema.  Tal vez desee que despu√©s de agregar el mensaje, nunca desaparezca.  Todo esto est√° en las revistas.  Esta estructura proporciona tales propiedades independientemente de otro c√≥digo, como aquel en el que est√° escrito el m√≥dulo de la sala de chat. <br><br>  <b>Estudiante:</b> entonces cambi√≥ la definici√≥n de la sala, ¬øqu√© pasar√≠a con la tabla de la base de datos en este caso? <br><br>  <b>Profesor:</b> debe ejecutar manualmente el comando alterar tabla si desea conservar los datos antiguos.  Pero cuando se inicia la aplicaci√≥n, consulta el directorio de la base de datos del sistema y verifica que el esquema sigue siendo el esperado.  Entonces obtendr√° un error est√°tico.  Espero que esto te d√© una idea de lo que debes cambiar en la base de datos. <br><br>  <b>Estudiante: ¬ø</b> pero no eliminar√° autom√°ticamente la base de datos o algo as√≠? <br><br>  <b>Profesor:</b> espero que no.  No creo que el compilador deba hacer esto.  Puedes imaginar personalizar el compilador para comprender la evoluci√≥n de la base de datos.  Creo que necesita escribir comandos de alterar tabla para comenzar, porque el compilador no hace esto ahora. <br><br><img src="https://habrastorage.org/webt/eo/je/bg/eojebgjidagcmajm7estxbmexsc.jpeg"><br><br>  Ahora hablemos sobre la falsificaci√≥n de solicitudes entre sitios y su prevenci√≥n.  De hecho, antes de hacer esto, veamos el c√≥digo en esta p√°gina.  Tenemos un formulario HTML tradicional que se genera aqu√≠.  Y, por supuesto, no hay protecci√≥n contra la falsificaci√≥n de solicitudes entre sitios, y creo que es bueno.  Porque, seg√∫n tengo entendido, el problema de falsificar las solicitudes entre sitios es el contexto impl√≠cito que la aplicaci√≥n env√≠a con cada solicitud. <br><br>  Supongamos que hay alg√∫n tipo de atacante que no conoce su contexto impl√≠cito.  Digamos que su contrase√±a se almacena en una cookie, por un ejemplo muy simple.  Y cuando el atacante lo enga√±a al hacer clic en el enlace a la aplicaci√≥n que necesita, el navegador env√≠a autom√°ticamente un contexto impl√≠cito y obliga a la aplicaci√≥n a hacer lo que el atacante no pudo hacer directamente. <br><br><img src="https://habrastorage.org/webt/le/1b/wt/le1bwtuntlm1h57fs04fo5ddo-e.jpeg"><br><br>  En este caso, no existe un contexto impl√≠cito, por lo que no hay riesgo de falsificar las solicitudes entre sitios.  ¬øAlguien quiere desafiar esta caracter√≠stica del sistema antes de continuar?  Puede ser muy informativo para m√≠.  Si no, entonces agregue un contexto impl√≠cito aqu√≠.  En este caso, el sistema tomar√° autom√°ticamente las contramedidas correctas, seg√∫n el an√°lisis del programa, que comprende que ahora hay un contexto impl√≠cito. <br><br>  Ahora insertar√© cookies aqu√≠.  Como otro ejemplo de encapsulaci√≥n de m√≥dulos, de hecho, pondr√© aqu√≠ un sistema completo de autenticaci√≥n de usuarios en el que tenemos cuentas de usuario y tipos abstractos de identificadores y contrase√±as.  Por lo tanto, no puede simplemente crear el valor de ninguno de estos tipos de datos directamente.  Tendr√° que pasar por alg√∫n m√©todo aprobado para construir valores de estos tipos. <br><br>  Voy a colocar la mesa justo en la firma.  Y tambi√©n le impondr√© una restricci√≥n, diciendo que la clave es el formulario de identificaci√≥n. <br><br><img src="https://habrastorage.org/webt/ax/ci/7o/axci7otxzeirl84vccpxjnlq7cq.jpeg"><br><br>  Pero el hecho es que en esta tabla de usuario, la ID y la contrase√±a son tipos de datos abstractos.  Por lo tanto, el c√≥digo no puede ver la contrase√±a y no puede generar consistentemente todos los identificadores y probarlos en esta tabla.  Debido a que usa un tipo abstracto, por lo que es imposible establecer c√≥mo se ve la ID y es imposible encontrar una contrase√±a.  Solo vienen de esta tabla, y estos son tokens opacos. <br><br>  Pero podr√≠amos permitir que sean entradas de aguas residuales.  Es posible que desee permitir una direcci√≥n de conversi√≥n entre cadenas y estos tipos.  Ahora har√© algo aqu√≠, principalmente los detalles, y no intentar√© explicarlos.  Pero esto es como declarar que puede convertir cadenas a ID.  Para aquellos familiarizados con Haskell, esta es una clase de tipo instant√°nea, este permiso para convertir cadenas en ID. <br><br><img src="https://habrastorage.org/webt/sp/to/jh/sptojh8mtta3h7iybbruu9atirs.jpeg"><br><br>  No vamos a aplicar otro permiso, porque no queremos poder volver a convertir la ID en otra cosa.  Hagamos lo mismo con la contrase√±a.  Queremos poder leer la contrase√±a del usuario, pero no vamos a aceptar la contrase√±a y convertirla en una cadena que nos dir√° que el usuario ha entrado en el chat. <br><br>  Por lo tanto, otras partes del c√≥digo podr√°n aceptar la contrase√±a del usuario, convertirla a este tipo y transportarla al m√≥dulo de usuario para su verificaci√≥n.  Pero lo que no pueden hacer es consultar la tabla de usuario y obtener todas las contrase√±as en un formulario del que puedan extraer su expresi√≥n de texto. <br><br>  Entonces podemos tener un m√©todo de inicio de sesi√≥n que acepte estos dos componentes, ID y contrase√±a, y simplemente funcione como un efecto secundario, que en realidad se indica en el c√≥digo.  Tambi√©n necesitaremos una forma de averiguar qu√© usuario est√° registrado.  Este es el c√≥digo que ejecuta la transacci√≥n que crea la ID. <br><br><img src="https://habrastorage.org/webt/8x/na/j8/8xnaj8mitfi-5rqiq7hl-snqq6c.jpeg"><br><br>  El primer paso es simplemente copiar esta definici√≥n.  Y luego viene una sorpresa.  Resulta que los ID de usuario y las contrase√±as son cadenas, pero esta circunstancia no se revelar√° fuera del m√≥dulo. <br><br><img src="https://habrastorage.org/webt/1k/-l/ny/1k-lnyojw9-zowxahm6pqfkrp20.jpeg"><br><br>  Ahora vamos a crear cookies.  Las cookies son otra cosa que est√° integrada en el lenguaje.  De hecho, act√∫an como variables globales mutables que tienen una copia para cada cliente que utiliza su aplicaci√≥n. <br><br>  Por lo tanto, vamos a crear una cookie que para cada usuario simplemente almacenar√° una copia de los mismos dos campos que tenemos aqu√≠. <br><br><img src="https://habrastorage.org/webt/f2/rw/om/f2rwomhtpjbhtsvvh206wswxtne.jpeg"><br><br>  Estas cookies son privadas para este m√≥dulo.  Otras partes del c√≥digo no podr√°n leer cookies porque simplemente no tienen este campo privado.  Por lo tanto, nadie podr√° ver directamente el ID y la contrase√±a guardados para este usuario.  Pero se guardar√°n al ver varias p√°ginas, como es el caso de las cookies comunes. <br><br>  Ahora insertar√© la funci√≥n de inicio de sesi√≥n, que iniciar√° el proceso para verificar la base de datos y averiguar si este es realmente el par correcto de nombre de usuario y contrase√±a.  Este proceso solo verificar√° si podemos encontrar una fila en la base de datos que contenga este ID de usuario y contrase√±a. <br><br>  Si lo encontramos, entonces bueno, entonces este es el significado correcto.  Solo guardemos esto en las cookies.  Utilizamos un m√©todo que cambia el valor de una cookie.  Y tenemos que poner algunas cosas aqu√≠, por simplicidad dir√© que esta cookie no caduca.  No quiero ejecutar SSL aqu√≠, por lo que dir√© que en este caso no necesitamos seguridad y establecer√© el par√°metro Secure = false. <br><br>  Pero si realmente le importa la seguridad, obviamente escribir√° Secure = true.  Si la verificaci√≥n falla y el m√≥dulo se√±ala un error, el programa se detendr√° y dar√° una descripci√≥n de este error. <br><br><img src="https://habrastorage.org/webt/nm/zq/ql/nmzqqlpz1iiuywxpp-ykkxgkbsq.jpeg"><br><br>  Finalmente, podemos crear esta funci√≥n que indica qu√© usuario en particular ha iniciado sesi√≥n al recibir el valor de cookie actual.  Este par√°metro tambi√©n se puede establecer en none si el usuario a√∫n no ha iniciado sesi√≥n, en cuyo caso obtendremos otro mensaje de error.  O podr√≠a ser alg√∫n tipo de registro del tipo exacto que utilizamos anteriormente.  As√≠ que solo lo copio aqu√≠ y ejecuto la misma verificaci√≥n.  Si esto funciona, simplemente devolvemos esa parte del registro de ID que acabamos de verificar en la base de datos. <br><br><img src="https://habrastorage.org/webt/go/kt/l1/goktl14i1ghmh09xw1lxmkhuhoc.jpeg"><br><br>  As√≠ que d√©jame ver esto.  Iniciamos el compilador y ver√° el resultado en la pantalla. <br><br><img src="https://habrastorage.org/webt/41/ce/g7/41ceg7zqyldmdfdq31s7cf7oaum.jpeg"><br><br>  Central para todos estos detalles de implementaci√≥n.  Pero fuera de este m√≥dulo, lo pensamos desde el punto de vista de la interfaz.  Hay algunos tipos desconocidos de ID y contrase√±as.  Esta tabla de usuario expresa t√©rminos que le permiten convertir cadenas en identificadores y contrase√±as, pero no al rev√©s.  Tenemos estos dos m√©todos para ingresar el inicio de sesi√≥n primero y hay una verificaci√≥n de qu√© usuario ha iniciado sesi√≥n en esta etapa.  ¬øTienes preguntas sobre esto? <br><br>  <b>Estudiante:</b> ¬øNecesita expandir la tabla de usuarios? <br><br>  <b>Profesor:</b> Hago esto porque quiero usarlo m√°s tarde como una clave externa, por lo que esta no es una raz√≥n importante.  Entonces, estamos casi en el punto en que puedo mostrarle la protecci√≥n CSRF en acci√≥n. <br><br>  Para empezar, iniciar sesi√≥n en el sistema es bastante f√°cil de hacer.  Bueno, ¬øqu√© m√°s podemos hacer en este punto del programa?  Agreguemos aqu√≠ otra parte de la p√°gina que dice que aqu√≠ es donde ingresa el inicio de sesi√≥n.  Aqu√≠ debe ingresar el nombre de usuario y la contrase√±a y luego hacer clic en el bot√≥n Enviar acci√≥n.  Esta acci√≥n proporcionar√° una llamada a la funci√≥n de inicio de sesi√≥n. <br><br><img src="https://habrastorage.org/webt/p1/s6/hs/p1s6hsyomulyl0n0xso9bhy6ubw.jpeg"><br><br>  Definamos el inicio de sesi√≥n como una funci√≥n que hace estas cosas.  De hecho, es solo un contenedor para llamar a la funci√≥n de inicio de sesi√≥n desde este m√≥dulo, en el que tomamos cada uno de los componentes y los convertimos de una cadena a un tipo abstracto. <br><br><img src="https://habrastorage.org/webt/sd/hn/8_/sdhn8_z1ixaqdhxvthw9xwoygke.jpeg"><br><br>  Ella busca un error de lectura.  El error significa que si el inicio de sesi√≥n no funciona, la operaci√≥n se interrumpir√° en este punto y la funci√≥n volver√° a la parte principal del programa. <br>  Ahora podemos iniciar sesi√≥n.  Probablemente querremos crear una cuenta que nos permita iniciar sesi√≥n, as√≠ que perm√≠tame crear un usuario con nombre de usuario ay contrase√±a a. <br><br><img src="https://habrastorage.org/webt/ik/kq/go/ikkqgobwhfsupe2uzoimf_ek5fe.jpeg"><br><br><img src="https://habrastorage.org/webt/tv/hb/en/tvhbenxm6qxvijq7ifhfap8v-g8.jpeg"><br><br>  Ahora puedo iniciar sesi√≥n como usuario a, conf√≠e en mi palabra.  Tenemos un conjunto de cookies para registrar esta informaci√≥n, as√≠ que vayamos a la sala de chat y enviemos un mensaje, por ejemplo, asfasf.  Ver√° que despu√©s de hacer clic en el bot√≥n Agregar, apareci√≥ en el chat. <br><br><img src="https://habrastorage.org/webt/-v/l6/6m/-vl66mfy3oektu_serlrv4enir4.jpeg"><br><br>  De hecho, no hemos agregado ning√∫n control de acceso aqu√≠, por lo que no sucede nada especial aqu√≠.  Pero podemos comprobarlo. <br><br><img src="https://habrastorage.org/webt/co/xw/fa/coxwfac0s4ysqowm6laeuge4xhe.jpeg"><br><br>  Aqu√≠ hay cookies, pero el sistema ha determinado que no las utilizamos.  Cuando enviamos este formulario, la cookie no es legible.  Por lo tanto, hasta ahora no hay necesidad de agregar protecci√≥n CSRF aqu√≠.  Entonces, ahora necesitamos agregar una forma de usar cookies y ver c√≥mo se manifestar√° la protecci√≥n. <br><br>  <b>Estudiante:</b> ¬øqu√© es el contenido de cookies? <br><br>  <b>Profesor:</b> este es el contenido que espera recibir del c√≥digo.  En otras palabras, se declara que la cookie tiene el tipo de este registro: identificador y contrase√±a. <br><br><img src="https://habrastorage.org/webt/ao/vi/fc/aovifcoydtayum942uhjpil-ewk.jpeg"><br><br>  Entonces, esto es exactamente lo que est√° contenido all√≠ en cierta forma serializada.  Ahora usemos realmente cookies.  Deber√≠amos ver esto, a pesar del hecho de que usaremos la cookie indirectamente, porque la vamos a usar en el m√≥dulo de sala, que no tiene nada que ver con las cookies.  Pero llamaremos m√©todos de m√≥dulos personalizados que est√°n indirectamente relacionados con el uso de cookies.  Y entonces el sistema comprender√° que esto significa que dependemos de √©l. <br><br>  Entonces, hag√°moslo de manera muy simple y llamemos al m√©todo whoami.  De hecho, solo voy a ignorarlo, o viceversa, dejar que haga algo.  Decidamos que el usuario que creamos es realmente especial, y solo este usuario puede publicar cualquier cosa.  Si este no es el caso, recibiremos un mensaje de error. <br><br><img src="https://habrastorage.org/webt/g9/6a/sl/g96aslxn7mcopzcmbkqp1a6mv8c.jpeg"><br><br>  Agregar√© una ID al m√≥dulo de usuario, y esto deber√≠a funcionar, ya que el tipo de ID admite la verificaci√≥n de igualdad. <br><br><img src="https://habrastorage.org/webt/z5/ka/ia/z5kaialskkermc7kjbrm37ctp7a.jpeg"><br><br>  Ahora todo deber√≠a estar en orden, y podemos hacer m√°s cosas con esta ID, lo que puede causar algunos problemas de seguridad. <br><br><img src="https://habrastorage.org/webt/14/-t/yp/14-typltmad_rnxmo_czeyedvr8.jpeg"><br><br>  Esto nos permite agregar una verificaci√≥n de control de acceso, as√≠ que veamos c√≥mo funciona y regresemos a la p√°gina principal. <br><br><img src="https://habrastorage.org/webt/ol/pl/-b/olpl-br8rs9ne6c7yoim_luhdyg.jpeg"><br><br>  Ahora estas cuatro letras "a" aparecieron en el chat. <br><br>  En la consola de la interfaz, vemos que ahora el formulario ha recibido autom√°ticamente el nombre de entrada oculto sig, que es la firma criptogr√°fica de los valores de todas las cookies.  Esta firma firm√≥ cookies utilizando una clave que es secreta para el servidor.  Y cuando el formulario est√° listo, la aplicaci√≥n sabe, porque el compilador le cont√≥ sobre esto, que la aplicaci√≥n debe verificar las firmas para el pr√≥ximo conjunto de operaciones.  Para esto, tenemos una operaci√≥n de decir. <br><br><img src="https://habrastorage.org/webt/jq/gu/ij/jqguijif9ny_uoz7nkbtw8jli3e.jpeg"><br><br>  <b>Estudiante:</b> ¬ølas firmas tienen una especie de marca de tiempo? <br><br>  <b>Profesor:</b> no, las firmas no tienen marcas de tiempo. <br><br>  <b>Estudiante:</b> en este caso, si un atacante logra "espiar" estos datos, podr√≠a pretender ser un usuario, porque estas cookies nunca caducar√°n. <br><br>  <b>Profesor:</b> s√≠, nunca caduca.  Esto es algo que se puede cambiar simplemente cambiando la implementaci√≥n del lenguaje sin cambiar las aplicaciones, y luego despleg√°ndolo r√°pidamente.  Pero ahora esto no est√° aqu√≠.  Y entiendo por qu√© ser√≠a √∫til agregar esto. <br><br>  <b>Estudiante:</b> tambi√©n puede solucionar esto simplemente poniendo una marca de tiempo en la firma. <br><br>  <b>Profesor:</b> s√≠, tiene raz√≥n, puede cambiar la aplicaci√≥n de manera tal que cambie intencionalmente los datos de las cookies con la suficiente frecuencia, es decir, haga que la firma caduque. <br>  <b>Estudiante:</b> ¬øpuedes reasignar URL? <br><br>  <b>Profesor:</b> s√≠, ¬øqu√© reasignaci√≥n te gustar√≠a ver? <br><br>  <b>Estudiante:</b> cualquiera, solo quiero ver c√≥mo se hace esto. <br><br>  <b>Profesor:</b> Entonces, el compilador asigna ... como vemos, llamamos a la funci√≥n say, y esta llamada a la funci√≥n se serializa como una forma espec√≠fica de URL.  Supongamos que no nos gusta este formulario. <br><br><img src="https://habrastorage.org/webt/xb/hs/dx/xbhsdxk5qkrjihios4qdpccye-k.jpeg"><br><br>  Decidimos que √≠bamos a reescribir la URL, por as√≠ decirlo, dentro del m√≥dulo de sala, dentro de la demostraci√≥n.  Mejor pegarlo.  Por lo tanto, queremos reasignar la url Demo / Room / say a Demo / Room / Speak. <br><br><img src="https://habrastorage.org/webt/d4/is/y7/d4isy713jhdomsgp40du31ot604.jpeg"><br><br>  Iniciamos el compilador y vamos a la pantalla principal de la aplicaci√≥n.  Veamos que pasa.  Todo est√° en orden, tambi√©n podemos ingresar cualquier mensaje de texto y aparecer√°n en la l√≠nea de chat.  Se pueden usar caracteres impredecibles en estas reglas para reemplazar un prefijo por otro, y el compilador se asegurar√° de que cada funci√≥n tenga un esquema de URL diferente, pero la URL se genera autom√°ticamente de forma predeterminada. <br><br>  <b>Estudiante:</b> mencionaste que HTML no es espec√≠fico del compilador, es solo una biblioteca.  ¬øHay otras bibliotecas para otros formatos? <br><br>  <b>Profesor:</b> hay otras bibliotecas que no comprueban el tipo con la misma integridad funcional, pero, por ejemplo, hay una biblioteca para serializar y deserializar JSON, y una gran cantidad de formas automatizadas para administrar la estructura de tipos.  De esta manera puede hacer cosas que no est√°n integradas en el compilador. <br><br>  <b>Estudiante:</b> supongamos que todav√≠a queremos escribir en JavaScript, por ejemplo, para animar algunas cosas en la p√°gina ... <br><br>  <b>Profesor:</b> d√©jame descargar la versi√≥n Ajax de esto, que responder√° a tu pregunta.  Esta versi√≥n tiene c√≥digo del lado del cliente.  Pasemos a una versi√≥n del programa llamada demo3.  Ingres√© los datos en la p√°gina principal en la l√≠nea de chat, y tambi√©n aparecieron en la parte inferior del chat.  Lo creas o no, esta vez el complemento funcion√≥ usando una llamada Ajax.  Esto se debe al valor del bot√≥n de etiqueta del bot√≥n.  Tiene un atributo onclick que, cuando el usuario hace clic en el bot√≥n, todo este c√≥digo debajo de la l√≠nea con este atributo funciona en el lado del cliente. <br><br><img src="https://habrastorage.org/webt/es/pu/me/espumedw6lwlmlwxf_zihskonai.jpeg">  ] <br><br>  Pero este es el c√≥digo Ur / Web, este no es el c√≥digo JavaScript.  El compilador traduce esto en JavaScript para usted y se asegura de que guarda las propiedades que deseamos para abstracciones en nuestra lista si el usuario no quiere jugar manualmente en el navegador. <br><br>  Estudiante: Creo que hoy en d√≠a hay muchas bibliotecas que hacen cosas √∫tiles, y en muchos casos cosas complejas, si quieres recodificar todo t√∫ mismo.  ¬øHay alguna forma de interactuar con JavaScript desde Ur / Web? <br><br>  <b>Profesor:</b> s√≠, hay una interfaz de funci√≥n externa que le permite asignar nombres de funciones Ur / Web a nombres de funciones y llamadas de JavaScript.  Pero cuando usa la interfaz de una funci√≥n externa, ya no puede usar todas estas funciones de construcci√≥n √∫tiles.  En este caso hay que tener mucho cuidado. <br><br>  Debe comprender la implementaci√≥n de algunas de estas abstracciones para no interferir con ellas.  Mientras tenga este c√≥digo, d√©jame mostrarte algo m√°s. <br><br>  Todav√≠a tenemos la misma funci√≥n de decir que antes.  Pero ahora, en lugar de llamarlo por referencia, solo tomamos una llamada de funci√≥n, que se rellena con argumentos que provienen del contexto del controlador onclick. <br><br><img src="https://habrastorage.org/webt/wt/jr/re/wtjrrewr_9dni8-z5u_aaw5bm_i.jpeg"><br><br>  Simplemente envolvemos esta funci√≥n dentro de la sintaxis rpc.  Esto significa que esta es una funci√≥n de llamada del lado del cliente, pero la llamada en s√≠ se inicia en el servidor con acceso a la base de datos y otros recursos del servidor, y luego transfiere el resultado aqu√≠. <br><br>       ,     ,      JavaScript     . <br>           ,     .   ,        ,     ,       . <br><br><img src="https://habrastorage.org/webt/of/wz/j1/ofwzj1yseezr5sbgdnllh6ddr4i.jpeg"><br><br>  , ,     ,        .  ,      ,  . <br><br>  ,   -     ,     .       GUI     ,       , , ,      . <br><br>           ,     ,    ,   .     ,       DOM.    ,            ,       . <br><br><img src="https://habrastorage.org/webt/rw/dz/hy/rwdzhy-stenvyaaa3wrzvb1bcrq.jpeg"><br><br>     ,        GUI,         ,   ,        ,   . <br><br> ,    ,     . <br><br> <b>:</b> ? <br><br> <b>:</b>   ,      ,     .      ,      -      . <br><br> <b>:</b>       .    ,     ? <br><br><img src="https://habrastorage.org/webt/q1/00/us/q100us_wg7adgt1d53dq-nbxhom.jpeg"><br><br> <b>:</b>   ‚Äî          .   ,     .    ,       ,   .             ,         . <br><br> <b>:</b>         ‚Äî Ur? <br><br> <b>:</b> Ur ‚Äî    ,   ,     .    ,          .        . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . <br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los Estados Unidos!</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es426001/">https://habr.com/ru/post/es426001/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425991/index.html">C√≥mo creamos hosting</a></li>
<li><a href="../es425993/index.html">C√≥mo cerrar la brecha de g√©nero en tecnolog√≠a</a></li>
<li><a href="../es425995/index.html">Visualice FHIR: el est√°ndar de TI para la medicina</a></li>
<li><a href="../es425997/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 1</a></li>
<li><a href="../es425999/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 11: Ur / Lenguaje de programaci√≥n web, Parte 2</a></li>
<li><a href="../es426009/index.html">Epic fail resistencia 1 o Fox se escabulleba desapercibido. Prueba de anonimato y seguridad + VPN para el usuario</a></li>
<li><a href="../es426013/index.html">Esteroides profesionales</a></li>
<li><a href="../es426015/index.html">El uso de drones civiles aserrados para fotograf√≠a a√©rea geod√©sica profesional de la zona.</a></li>
<li><a href="../es426017/index.html">C√≥mo reducir el n√∫mero de experimentos con animales.</a></li>
<li><a href="../es426019/index.html">Estaci√≥n meteorol√≥gica en Arduino de la A a la Z. Parte 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>