<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèº üèéÔ∏è üçÇ Crie n√≠veis 2D isom√©tricos com o sistema Tilemap üñïüèæ üïç üî™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O Unity 2018.3 introduziu o suporte para mapas de blocos isom√©tricos, muito semelhantes aos mapas de blocos hexagonais, que foram adicionados na vers√£...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crie n√≠veis 2D isom√©tricos com o sistema Tilemap</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469497/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abe/6f3/004/abe6f3004d910b9ff91386b4bde99205.png" alt="imagem"></div><br>  O Unity 2018.3 introduziu o suporte para mapas de blocos isom√©tricos, muito semelhantes aos mapas de blocos hexagonais, que foram adicionados na vers√£o 2018.2.  Os novos recursos do Tilemap permitem criar ambientes 2D de maneira r√°pida e eficiente, com base nas grades isom√©tricas e hexagonais usadas em muitos jogos cl√°ssicos, incluindo as primeiras partes de Diablo e Fallout, Civilization, Age of Empires e muitos outros. <br><br>  Ambos os sistemas s√£o baseados no sistema Tilemap j√° existente, que apareceu no Unity 2017.2, e hoje √© t√£o f√°cil trabalhar com eles!  Al√©m disso, eles t√™m integra√ß√£o nativa com o Editor.  Nas vers√µes futuras do Unity, elas podem ser portadas para o gerenciador de pacotes. <br><br>  Se voc√™ estiver interessado em experimentar esses sistemas, criamos um projeto pr√©-preparado do Isometric Starter Kit com um personagem animado e v√°rios conjuntos de pe√ßas do ambiente.  Voc√™ pode baix√°-lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">aqui</a> . <a name="habracut"></a><br><br><h2>  Configura√ß√µes do projeto para mapa de blocos isom√©trico </h2><br>  Antes de come√ßarmos com o Tilemap, √© importante configurar o projeto corretamente.  O Tilemap isom√©trico funciona com sprites bidimensionais e usa a classifica√ß√£o correta de renderiza√ß√£o para criar a ilus√£o de um mapa isom√©trico com uma vista superior.  Precisamos deixar os ladrilhos mais afastados do visualizador e os mais pr√≥ximos em cima deles. <br><br>  Voc√™ pode usar a fun√ß√£o Unity chamada Custom Axis Sort para ajustar a ordem de renderiza√ß√£o de objetos 2D na tela.  Esse par√¢metro pode ser definido para a c√¢mera (atualmente esse m√©todo √© padr√£o para pipelines de renderiza√ß√£o por script, incluindo LWRP e HDRP) ou globalmente, no n√≠vel do projeto. <br><br>  Para definir a Classifica√ß√£o de eixo personalizada no n√≠vel do projeto, v√° em <i>Editar&gt; Configura√ß√µes do projeto&gt; Gr√°ficos</i> .  Na se√ß√£o Configura√ß√µes da c√¢mera, voc√™ ver√° o menu suspenso Modo de classifica√ß√£o de transpar√™ncias, bem como as op√ß√µes de valor X, YZ para o eixo de classifica√ß√£o de transpar√™ncias. <br><br>  Por padr√£o, o Eixo de classifica√ß√£o da transpar√™ncia define os eixos XYZ como (0, 0, 1).  No entanto, todos os nossos ladrilhos 2D est√£o realmente no mesmo plano Z. Portanto, para determinar quais ladrilhos est√£o na frente ou atr√°s, voc√™ precisa usar n√£o a profundidade, mas a altura.  Os ladrilhos localizados mais acima na tela ser√£o classificados pelos mais baixos.  Para classificar blocos por altura, altere o valor do Modo de classifica√ß√£o da transpar√™ncia para Personalizado e defina Eixo da classifica√ß√£o da transpar√™ncia como (0, 1, 0). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77f/fb4/5f7/77ffb45f77020bf6af96f3542964561a.png"></div><br>  Para saber mais sobre como isso funciona, voc√™ pode ler a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">p√°gina</a> correspondente na classifica√ß√£o 2D na documenta√ß√£o do Unity. <br><br>  Em alguns casos, tamb√©m pode ser necess√°rio alterar o valor do Eixo de classifica√ß√£o da transpar√™ncia para Z. Falaremos mais sobre isso abaixo. <br><br><h2>  Tipos de cart√£o lado a lado </h2><br>  O sistema Tilemap consiste em v√°rios componentes em intera√ß√£o.  Os dois primeiros s√£o os objetos de jogo Grid e Tilemap.  Para criar uma Grade, clique com o bot√£o direito do mouse em qualquer lugar da Hierarquia, v√° para o Objeto 2D e selecione o tipo de Mapa de Mosaico que voc√™ deseja usar.  Por padr√£o, cada nova grade √© criada com um objeto de jogo filho do Tilemap do tipo correspondente.  Os seguintes tipos de mapa de mosaico existem atualmente: <br><br>  <i>Tilemap</i> - cria Grid e Tilemap retangulares.  Um exemplo do uso deste Tilemap pode ser visto no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">2D Game Kit do</a> mecanismo Unity. <br><br>  <i>Hexagonal Point Top Tilemapmap</i> - cria um Grid e Tilemap a partir de hex√°gonos, nos quais um dos v√©rtices de cada hex√°gono √© direcionado para cima. <br><br>  <i>O Hexagonal Flat Top Tilemap</i> √© outro tipo de Grade de hex√°gonos, na qual na parte superior do hex√°gono existe uma face paralela √† borda superior da tela. <br><br>  Os dois √∫ltimos tipos, <i>Isom√©trico</i> e <i>Isom√©trico Z como Y</i> , criam duas implementa√ß√µes diferentes da grade isom√©trica.  A diferen√ßa entre eles aparece ao simular diferentes n√≠veis de altura dos ladrilhos, por exemplo, quando h√° uma plataforma alta no n√≠vel isom√©trico. <br><br>  Se voc√™ deseja criar objetos de jogo Tilemap separados para cada n√≠vel de altura do bloco, √© melhor usar o tipo de <i>mapa de blocos isom√©trico</i> usual.  Ele simplifica o processo de cria√ß√£o de formas autom√°ticas de colis√µes, mas tem menos flexibilidade ao trabalhar com eleva√ß√µes entre ladrilhos, porque todos os ladrilhos na mesma camada devem estar no mesmo "plano". <br><br>  No caso de <i>Z isom√©trico como Mapa de mosaico Y, o</i> valor da posi√ß√£o Z de cada bloco trabalha em conjunto com o par√¢metro Classifica√ß√£o do eixo da transpar√™ncia, fazendo com que os blocos apare√ßam empilhados um sobre o outro.  Ao desenhar um Z como Y Tilemap, alteramos dinamicamente o par√¢metro Z do pincel para alternar entre diferentes alturas.  Para renderizar <i>Z como Y Tilemap corretamente</i> , √© necess√°rio um valor Z adicional no modo Eixo de classifica√ß√£o de transpar√™ncia com modo personalizado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9a/5cb/677/b9a5cb6779c1984cb82aa805663e73af.gif"></div><br>  <i>Nota: Os ativos mostrados nas capturas de tela foram retirados do bloco Temple do projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><i>Isometric Starter Kit</i></a> .</i>  <i>Eles s√£o totalmente gratuitos, para que voc√™ possa us√°-los para criar seus pr√≥prios ambientes!</i> <br><br>  Pense na Grade como um ‚Äúcavalete‚Äù no qual residem todos os objetos do jogo Tilemap.  E eles, por sua vez, s√£o essencialmente uma tela na qual desenharemos azulejos.  Para come√ßar a desenhar no Tilemap, tamb√©m precisamos de um pincel e uma paleta.  Todos os ativos de lado a lado est√£o localizados na Paleta de lado a lado, na qual eles podem ser selecionados usando a ferramenta Pincel e iniciando o desenho. <br><br>  Para criar uma paleta de mosaicos, escolha Janela&gt; 2D&gt; Paleta de mosaicos.  No menu suspenso superior esquerdo, selecione "Criar nova paleta".  Verifique se o tipo de malha apropriado est√° selecionado.  No exemplo, usarei o mapa de mosaico isom√©trico usual, bem como ativos do projeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">Isometric Starter Kit</a> .  Especificaremos Manual como o tamanho da c√©lula da paleta (tamanho da c√©lula) para poder redimensionar blocos isom√©tricos.  Nesse caso, eu sei que os tamanhos dos meus blocos correspondem a uma grade com um tamanho de c√©lula de 1 por X e 0,5 por Y;  no entanto, eles dependem da resolu√ß√£o selecionada ao importar os valores de pixels por unidade e o tamanho dos ativos - de fato, no √¢ngulo isom√©trico em que os blocos s√£o girados. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/673/805/79767380522e8028ecb0760888589d12.png"></div><br><h2>  Nota sobre a importa√ß√£o de ativos </h2><br>  Talvez voc√™ n√£o saiba quais op√ß√µes de importa√ß√£o e tamanho do cart√£o lado a lado s√£o melhores para seus ativos.  H√° uma regra geral que voc√™ pode seguir: primeiro voc√™ precisa observar a resolu√ß√£o dos blocos.  Normalmente, os blocos isom√©tricos s√£o maiores em altura do que em largura;  Os ladrilhos "planos" (que mais se parecem com um plano que com um cubo) s√£o mais largos que altos.  No entanto, a largura entre eles sempre ser√° a mesma.  Portanto, se voc√™ deseja que os ladrilhos ocupem exatamente uma unidade de medida do Unity, defina os <i>pixels por unidade</i> nas configura√ß√µes de importa√ß√£o de ladrilhos com um valor igual √† largura em pixels.  Em alguns casos, esse valor ter√° que ser alterado, geralmente na dire√ß√£o de diminuir (ou aumentar a resolu√ß√£o dos ativos);  isso pode ser √∫til se voc√™ deseja recriar um efeito no qual alguns blocos parecem ocupar mais de uma c√©lula da grade e se sobrep√µem aos blocos adjacentes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/140/aba/539140abad90bb2fe03e911eed9c8675.gif"></div><br>  Para determinar o valor correto da grade em Y para os ladrilhos, tome a altura da base (ou v√©rtice) de um ladrilho e divida-o pela largura.  Isso fornecer√° um valor de Y em rela√ß√£o a X, j√° que X √© 1. Vejamos alguns exemplos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/86a/5b8/234/86a5b823465588ce10010011b3ae2b85.png"></div><br>  Nos recursos de pixel art que usamos para este projeto, todos os blocos base t√™m 32 pixels de altura e 64 pixels de largura.  Portanto, o tamanho da grade em Y ser√° igual a 0,5.  O segundo bloco da imagem √© retirado do pacote de ativos do Golden Skull Studios;  Voc√™ pode v√™-lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">aqui</a> .  O bloco de exemplo foi reduzido, mas os recursos originais t√™m 128 pixels de largura.  A base do ladrilho √© de aproximadamente 66 pixels, o que fornece um tamanho de grade Y de 66/128, ou seja, aproximadamente 0,515 unidades. <br><br><h2>  O processo b√°sico de trabalho com o Tilemap </h2><br>  Depois de decidir o tamanho correto da grade, adicione alguns ladrilhos √† nossa paleta.  Basta pegar um dos sprites de azulejos e arrast√°-lo para a janela Paleta de azulejos.  Isso criar√° o ativo de bloco.  Ele cont√©m informa√ß√µes sobre o pr√≥prio bloco, por exemplo, os sprites utilizados, o matiz e o tipo do colisor gerado.  Se voc√™ precisar ver informa√ß√µes detalhadas sobre o bloco da paleta, selecione a ferramenta Selecionar (S) na parte superior da janela Paleta do bloco e clique nesse bloco.  Observe que o Inspetor pode ver a qual ativo do Tile ele se refere. <br><br>  Para desenhar um novo Tile by Tilemap, selecione a ferramenta Pincel (B) e clique no Tile na Paleta.  Depois disso, voc√™ pode desenhar com o bloco selecionado na janela da cena.  Existem outras ferramentas de desenho, como Borracha (D), Preenchimento de caixa (U), Preenchimento de inunda√ß√£o (G) e Seletor de lado a lado (I). <br><br>  √Äs vezes, voc√™ precisa alterar a localiza√ß√£o dos blocos na pr√≥pria paleta.  Logo abaixo da barra de ferramentas, h√° um bot√£o Editar.  Se voc√™ clicar nele, o modo de edi√ß√£o da paleta ser√° ativado, no qual as ferramentas afetam a pr√≥pria paleta de pe√ßas.  N√£o se esque√ßa de sair deste modo depois de fazer as altera√ß√µes necess√°rias. <br><br><h3>  Modos de renderizador de mosaico </h3><br>  Em alguns casos, blocos de tipos diferentes podem n√£o ser classificados corretamente, apesar de estarem no mesmo Mapa de Mosaicos, como neste exemplo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ea/a2e/878/6eaa2e878effb4b905e7bb3e27a1bbe1.png"></div><br>  Isso √© determinado pelo par√¢metro Mode do componente Tilemap Renderer.  Por padr√£o, Mode √© Chunk. <br><br>  <i>O</i> modo <i>Chunk</i> √© eficaz na redu√ß√£o do consumo de recursos do Tilemap.  Em vez de renderizar cada bloco individualmente, ele os renderiza em uma √∫nica passagem como um bloco grande.  No entanto, este modo tem duas principais desvantagens.  Primeiro, ele n√£o suporta classifica√ß√£o din√¢mica com outros objetos 2D na cena.  Isso significa que, se o Tilemap estiver no modo Chunk, ele n√£o poder√° classificar dinamicamente na frente ou atr√°s de outros objetos, por exemplo, caracteres - apenas um ou o outro ser√° vis√≠vel por vez, e isso depende do par√¢metro Order in Layer.  No entanto, ainda √© extremamente eficaz na otimiza√ß√£o do jogo e pode ser usado para renderizar em lotes grandes √°reas do terreno. <br><br>  No entanto, isso n√£o nos salva do problema de classifica√ß√£o incorreta de blocos diferentes.  Para a renderiza√ß√£o em lote de pe√ßas obtidas de dois ou mais sprites diferentes (por exemplo, texturas), os sprites devem ser combinados em um √∫nico recurso do Sprite Atlas. <br><br>  Para criar o Sprite Atlas, selecione <i>Ativos&gt; Criar&gt; Sprite Atlas</i> .  O Sprite Atlas possui uma lista de <i>objetos para embalagem</i> .  Basta arrastar e soltar nele todos os blocos que precisam ser renderizados em lotes e especificar os par√¢metros de importa√ß√£o apropriados, geralmente correspondendo aos par√¢metros de sprites individuais. <br><br>  Depois disso, os ladrilhos ser√£o classificados corretamente;  mas eles s√≥ ser√£o vis√≠veis no modo Play ou durante a execu√ß√£o do jogo. <br><br>  Portanto, durante o processo de edi√ß√£o, √© melhor selecionar o modo <i>Individual</i> para o Rendermap Tilemap.  Nesse modo, cada sprite ser√° classificado separadamente;  isso significa que eles ser√£o renderizados corretamente mesmo fora do modo Play, o que √© muito √∫til ao editar um n√≠vel.  Depois de concluir a cria√ß√£o da estrutura de n√≠veis, √© poss√≠vel alternar o modo Renderizador de mapa de pe√ßas para Chunk novamente a qualquer momento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/689/b8f/0e9/689b8f0e92a40d0f0093bb5f762999fa.png"></div><br>  O modo de renderiza√ß√£o individual tamb√©m √© √∫til quando voc√™ precisa adicionar objetos como √°rvores, objetos e terrenos mais altos que devem ser classificados dinamicamente com caracteres ou entre si.  Nesta postagem, ativaremos o modo Individual para todos os Tilemap. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/268/978/3ef/2689783eff96afb9bc21905444f7f060.png"></div><br><h2>  Usando v√°rios mapas de mosaicos </h2><br>  √Äs vezes, √© necess√°rio usar v√°rios Tilemap em uma grade.  No caso de Mapa de pe√ßas isom√©trico e hexagonal, √© √∫til poder adicionar ao n√≠vel do item alinhado na grade ou pe√ßas que parecem mais altas que a primeira camada. <br><br>  Para conectar outro Tilemap √† grade, clique com o bot√£o direito do mouse no objeto Grid e crie um novo Tilemap do tipo apropriado. <br><br>  Para come√ßar a desenhar no novo Tilemapmap, volte para a janela Tile Palette e altere o Active Tilemapmap na barra de ferramentas principal. <br><br><h2>  Adicionando √°reas levantadas </h2><br>  Existem duas maneiras principais de adicionar √°reas elevadas aos n√≠veis.  Escolher o caminho certo geralmente depende do tipo de Tilemap selecionado.  Vamos considerar cada um dos casos. <br><br>  Al√©m disso, preparamos um pequeno v√≠deo sobre esse t√≥pico, que demonstra essas abordagens usando o Mapa de blocos isom√©trico usual, al√©m de adicionar √°reas de colis√£o aos blocos.  Assista ao v√≠deo se quiser entender brevemente as duas maneiras: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2DsKCJsEzSA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Usando um mapa de blocos isom√©trico regular </h3><br>  Para um mapa de mosaico isom√©trico regular, voc√™ pode simplesmente criar um novo mapa de mosaico com a mesma grade e atribuir um valor mais alto √† ordem na camada.  Voc√™ pode alterar o par√¢metro Anchor Tile para que a nova camada seja ancorada em um ponto mais alto na mesma grade. <br><br>  Meu Tilemap de n√≠vel inferior para X e Y tem a √Çncora de telha definida como (0, 0).  Quero que a nova camada seja desenhada uma unidade mais alta, ent√£o alterarei o ponto de ancoragem do novo Mapa de Mosaico para (1, 1).  Tamb√©m definirei Order in Layer como 1 - um a mais que o n√≠vel base. <br><br>  Agora voc√™ pode alterar o Tilemap ativo para um segundo n√≠vel de altura e come√ßar a desenhar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c38/091/eb0/c38091eb0600f78c47de390d339ae8c3.gif"></div><br><br><h3>  Usando Z como Y Isometric Tilemap </h3><br>  √Äs vezes, pode ser √∫til simular diferentes alturas com um √∫nico Tilemap.  Nesse caso, Z como Y Isometric Tilemap and Grid podem ser usados. <br><br>  No caso de Z como Y Tilemap, o valor Z de cada bloco tem um efeito adicional na ordem em que os blocos s√£o renderizados.  Podemos alterar o valor dos blocos Z ao desenh√°-los usando o par√¢metro do pincel Posi√ß√£o Z na parte inferior da Paleta de blocos (assim como as teclas de atalho "+" e "-"): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a28/1ab/3f8/a281ab3f8dd22f84b274ddbb3bf40a81.png"></div><br>  No entanto, para que o valor Z influencie corretamente e os ladrilhos classifiquem corretamente, voc√™ precisa voltar ao valor Classifica√ß√£o do eixo personalizado e adicionar a influ√™ncia Z. O n√∫mero usado aqui est√° diretamente relacionado a como o Unity converte as posi√ß√µes das c√©lulas da grade isom√©trica em valores no espa√ßo do mundo. <br><br>  Por exemplo, uma grade com dimens√µes de acordo com XYZ de (1, 0,5, 1) - padr√£o para isometria - ter√° um valor de classifica√ß√£o ao longo do eixo Z igual a -0,26.  Se voc√™ estiver interessado em saber como esse n√∫mero √© calculado ou se usar uma grade com um tamanho de c√©lula diferente, continue lendo para descobrir como encontrar o valor Z correto para o seu caso. <br><br>  Ao definir o valor correto para Classifica√ß√£o de eixo personalizada, voc√™ pode come√ßar a desenhar ladrilhos com diferentes valores de Z. Voc√™ tamb√©m pode configurar os incrementos com os quais o valor Z move os ladrilhos elevados para cima ou para baixo, alterando o tamanho Z da grade, que √© 1 por padr√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4cf/1ce/9c2/4cf1ce9c2e97c429620b3e096349a9b0.gif"></div><br><h3>  C√°lculo do valor Z </h3><br>  Existe uma f√≥rmula geral que pode ser usada para determinar o valor Z da classifica√ß√£o dos eixos.  Primeiro, pegue o tamanho Y da grade.  Se voc√™ ainda n√£o decidiu o tamanho de Y, consulte a nota sobre a importa√ß√£o de ativos acima.  Multiplique esse valor por -0,5 e subtraia outro 0,01. <br><br>  De acordo com esta f√≥rmula, uma grade com um tamanho de (1, 0,5, 1) nos fornecer√° um valor de classifica√ß√£o por Z de -0,26.  Com esse valor de classifica√ß√£o, os blocos de qualquer grade (1, 0,5, 1) ser√£o classificados corretamente. <br><br>  Se voc√™ quiser saber mais sobre esse valor e sobre c√°lculos, estude a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">documenta√ß√£o</a> .  Ele explica em detalhes o trabalho dos renderizadores 2D e o que acontece quando as c√©lulas isom√©tricas s√£o convertidas em valores do espa√ßo mundial. <br><br><h2>  Adicionando colis√µes </h2><br>  Agora que colocamos algumas pe√ßas sobre as outras, com a ajuda de colis√µes, podemos controlar as √°reas que o jogador pode alcan√ßar e as transi√ß√µes entre elas. <br><br>  Existem muitas maneiras de adicionar colis√µes, mas, no nosso caso, √© necess√°rio que o jogador suba e des√ßa ao longo da encosta, portanto, n√£o √© t√£o √≥bvio quais objetos devem ter colisores.  Podemos definir conflitos manualmente usando o Tilemap opcional. <br><br>  Neste projeto, criamos v√°rios sprites correspondentes a v√°rias formas que definir√£o √°reas de colis√µes.  Podemos desenhar essas formas no terceiro Tilemap em lugares onde o jogador n√£o pode passar.  Por exemplo, queremos que um jogador consiga escalar uma rocha apenas ao longo de uma ladeira, e n√£o subir diretamente nela. <br><br>  Tamb√©m podemos adicionar material exclusivo ao Tilemap Renderer para dar aos azulejos uma tonalidade diferente e diferenci√°-los do restante do n√≠vel. <br><br>  Ao colocar blocos de colis√£o, voc√™ pode adicionar o componente Tilemap Collider √†s colis√µes de Tilemap.  Nesse caso, para cada bloco individual, os coletores s√£o criados automaticamente, determinados pela forma do sprite. <br><br>  Para otimizar o desempenho, voc√™ tamb√©m pode adicionar o componente 2D do Composite Collider e marcar a caixa de sele√ß√£o Used by Composite para o Tilemap Collider.  Isso combinar√° todos os coletores individuais em uma forma grande. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0a/37d/0d7/a0a37d0d790cdd5bcea7687004cf5d18.gif"></div><br><h2>  Adicionando itens </h2><br>  Adicionar itens a um n√≠vel √© bastante simples.  Voc√™ pode colocar manualmente sprites de itens em qualquer ponto desejado da cena ou anexar itens √† Grade do Tilemap, transformando-os em blocos separados.  Escolha qual solu√ß√£o √© melhor para voc√™. <br><br>  Neste projeto, colocamos manualmente v√°rias √°rvores no n√≠vel.  √Årvores e personagens t√™m a mesma ordem na camada, o que permite classificar dinamicamente o personagem na frente e atr√°s das √°rvores. <br><br>  Usando o colisor, voc√™ pode especificar o ponto em que o jogador pode se aproximar da √°rvore.  Isso tamb√©m pode ser feito de v√°rias maneiras. <br><br>  O primeiro √© mostrado no v√≠deo - basta anexar um colisor filho ao objeto e alterar sua forma, conforme necess√°rio. <br><br>  A segunda maneira √© definir o <i>Custom Physics Shape</i> para o objeto no Sprite Editor.  Para abrir o Editor de Sprite, selecione o objeto Sprite e localize o bot√£o Editor de Sprite no Inspetor.  No menu suspenso superior esquerdo, alterne para o editor Custom Physics Shape.  Aqui voc√™ pode criar formas poligonais que definem as bordas do colisor.  Depois de definir o formul√°rio f√≠sico, voc√™ pode anexar o componente Polygon Collider ao objeto, que corresponder√° a esse formul√°rio. <br><br>  Se voc√™ usar objetos como blocos no Tilemap, tamb√©m poder√° usar o colisor de Grade.  Escolha o recurso de bloco que corresponde ao bloco de itens (se voc√™ n√£o se lembra onde encontr√°-lo, consulte a se√ß√£o "Processo b√°sico do mapa de blocos").  Voc√™ ver√° o menu Tipo de colisor.  Por padr√£o, um sprite √© definido como o tipo, ou seja, o colisor gerado automaticamente usar√° o Physics Shape, sobre o qual falamos acima.  Se o tipo estiver definido como grade.  sempre corresponder√° exatamente √† forma da c√©lula da malha √† qual o item est√° anexado.  Talvez essa n√£o seja a maneira mais precisa de implementar coletores, mas, para alguns tipos de jogos, pode ser √∫til. <br><br>  Para usar coletores para esses blocos, selecione o Tilemap com objetos e adicione o componente Tilemap Collider. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e3/98e/cc5/3e398ecc5b71b09f5179ce93956f1b9a.gif"></div><br><h2>  Usando blocos de regras </h2><br>  Mosaicos de regras s√£o extremamente √∫teis para automatizar o processo de desenho com mosaicos.  O Tile Rule funciona como um tile normal, mas possui uma lista adicional de op√ß√µes de tile.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando esses par√¢metros (regras), um bloco pode escolher automaticamente qual sprite desenhar, dependendo dos blocos vizinhos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ladrilhos de regra s√£o √∫teis quando voc√™ n√£o deseja selecionar manualmente ladrilhos com curvas diferentes, por exemplo, ao criar uma rocha ou plataforma. Eles tamb√©m podem ser usados ‚Äã‚Äãpara randomizar entre diferentes varia√ß√µes do mesmo bloco, para evitar padr√µes repetidos e at√© para criar blocos animados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os blocos de regras isom√©tricos e hexagonais est√£o dispon√≠veis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no reposit√≥rio 2D Extras</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unity no GitHub. Ele tamb√©m possui muitos outros recursos √∫teis do Tilemap que valem a pena explorar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicionamos o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">Isometric Starter Kit</font></a><font style="vertical-align: inherit;"> ao projeto.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mosaicos de regras para cada conjunto de pe√ßas. </font><font style="vertical-align: inherit;">Aqui est√£o alguns exemplos dos blocos de projeto que voc√™ pode experimentar:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/ac1/31d/186ac131d5b332dd0e7091a71569ff48.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/eaf/d22/24aeafd227b8c539c6a4b077406d94b3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/966/48d/15d/96648d15de848c73803c614a1173cbd6.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a9/f3b/d11/4a9f3bd113e3763a58d63924542ba360.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80f/087/1a6/80f0871a6b4c0df7b40ecac46bba4ba1.png"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trabalho adicional </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora que voc√™ aprendeu sobre o dispositivo de cart√µes isom√©tricos no Unity, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">baixe o projeto do kit Isometric Starter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e tente trabalhar com eles! </font><font style="vertical-align: inherit;">Se voc√™ √© um programador, tem a oportunidade de interagir com o Tilemap por meio de scripts, pode us√°-lo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, assistindo a este v√≠deo, voc√™ pode aprender como implementar um simples controlador de caracteres compat√≠vel com o Isometric Tilemap:</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tywt9tOubEY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os gr√°ficos deste projeto foram criados para o Unity por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@castpixel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">seus outros trabalhos podem ser vistos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se voc√™ quiser saber mais sobre a cria√ß√£o de jogos 2D no Unity, deve aprender alguns √≥timos cursos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no site Learn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se voc√™ estiver procurando recursos adicionais para experimentar mapas de blocos, confira a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unity Asset Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando n√≠veis pela primeira vez com o Tilemap? </font><font style="vertical-align: inherit;">Aprenda a construir mundos bidimensionais neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial para iniciantes do</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unity Learn.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt469497/">https://habr.com/ru/post/pt469497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt469479/index.html">De onde vem a probabilidade qu√¢ntica</a></li>
<li><a href="../pt469487/index.html">Configurando top no GNU / Linux</a></li>
<li><a href="../pt469491/index.html">Intera√ß√£o com o servidor Asterisk a partir de um aplicativo Java</a></li>
<li><a href="../pt469493/index.html">Torne o C ++ √≥timo de novo! .. in Tula</a></li>
<li><a href="../pt469495/index.html">Novas abordagens para a cria√ß√£o de ACS usando tecnologias WEB</a></li>
<li><a href="../pt469499/index.html">Como n√≥s da Parallels Conquistamos entre com a Apple</a></li>
<li><a href="../pt469503/index.html">Seguran√ßa cibern√©tica: protegemos os dados dos assinantes contra vazamentos em 2019</a></li>
<li><a href="../pt469505/index.html">3 maneiras pr√°ticas de levar neg√≥cios para mercados estrangeiros: abordagens e t√©cnicas de empresas reais</a></li>
<li><a href="../pt469507/index.html">Terceira vulnerabilidade do Steam Windows Client, mas n√£o 0 dia</a></li>
<li><a href="../pt469509/index.html">Esquemas angulares, ou como eu escrevi meu modelo para cli angular</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>