<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤹🏻 ✋🏼 👨‍🍳 Dengan cepat melokalkan masalah kinerja Microsoft SQL Server di Quest Foglight 🖇️ 👩🏻‍🚒 🀄️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel sebelumnya tentang alat pemantauan Foglight for Databases, kami berbicara tentang kemampuan pemantauan dari satu antarmuka: SQL Server, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dengan cepat melokalkan masalah kinerja Microsoft SQL Server di Quest Foglight</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/galssoftware/blog/464963/"><img src="https://habrastorage.org/webt/3n/t3/ou/3nt3ouckicz65xztkx1lntnvdxo.png"><br><br>  Dalam artikel sebelumnya tentang alat pemantauan Foglight for Databases, kami berbicara tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kemampuan pemantauan dari satu antarmuka:</a> SQL Server, Oracle, PostgreSQL, MySQL, SAP ASE, DB2, Cassandra, dan MongoDB.  Hari ini kami akan menganalisis pendekatan untuk mengidentifikasi dengan cepat penyebab operasi Microsoft SQL Server yang abnormal: <br><br><ul><li>  Cari sumber kunci; </li><li>  Perbandingan pengaturan basis data "sudah-jadi-jadi" dengan mengacu pada metrik kinerja; </li><li>  Cari perubahan dalam struktur basis data, yang kinerjanya menurun. </li></ul><br>  Detail di bawah potongan. <br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Foglight for Databases</a> adalah alat untuk memantau kinerja dan perubahan dalam database populer.  Jika Anda tidak terbiasa dengan produk ini, kami sarankan Anda membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel sebelumnya</a> .  Dan di bawah ini kami memberikan tangkapan layar dari antarmuka untuk menunjukkan kemampuan Foglight dan kemudahan menemukan masalah dalam database. <br><br><h2>  Pencarian Sumber Kunci </h2><br>  Anda dapat mencari alasan kunci di Studio Manajemen.  Tetapi workstation dengan utilitas ini mungkin tidak tersedia, dan membuka konsol tidak selalu nyaman.  Di Quest Foglight, Anda dapat menemukan alasan pemblokiran dalam beberapa klik.  Pada tangkapan layar di bawah, Anda melihat konsol pemantauan basis data utama. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/05f/5a5/0df/05f5a50dfd3b80b8584ba5d103ebbaa8.png" alt="gambar"><br><br>  Administrator tugas yang telah menerima pemberitahuan masuk ke tampilan SQL PI (Penyelidik Kinerja).  Kolom Beban kerja memiliki bidang merah yang terlihat, yang menunjukkan nilai bukan nol dari parameter Kunci Tunggu. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/680/4da/9e8/6804da9e89d4470476c2edf2ba3150ca.png" alt="gambar"><br><br>  Setelah mengklik pada grafik Beban Kerja, tampilan terperinci dari sumber beban basis data terbuka, dan di kolom kiri menu adalah menu untuk analisis kinerja multivarian.  Di sini, seperti pada tangkapan layar di atas, dapat dilihat bahwa pemblokiran menyebabkan pemanfaatan sumber daya yang besar.  Di menu di sebelah kiri ada pandangan khusus dari objek terkunci, di mana objek terkunci terdeteksi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/703/cea/2d4/703cea2d4f6e07f4bee7e402e40f0c34.png" alt="gambar"><br><br>  Objek Terkunci menyimpan objek yang dikunci.  Di sisi kanan layar, alasan pemblokiran: durasi, dari server mana (atau workstation), program apa, dari mana pengguna dan objek yang dapat dieksekusi yang mengarah ke pemblokiran. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab8/18f/1d9/ab818f1d982f046b9d2b50476010449b.png" alt="gambar"><br><br>  Saat Anda beralih ke objek yang dapat dieksekusi, tampilan baru terbuka dengan kemampuan untuk melihat konten objek ini.  Dan setelah mengklik pada View Batch Text, kode yang dieksekusi akan terbuka. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c5a/2ce/783/c5a2ce783d3ca687838ff4370560fb0f.png" alt="gambar"><br><br>  Mempercepat waktu diagnostik adalah kunci keberhasilan tim TI. <br><br><h2>  Perbandingan pengaturan dari database itu-telah-menjadi </h2><br>  Perubahan yang dilakukan oleh pengembang atau DBA juga dapat menyebabkan pelambatan dramatis.  Tetapi pada saat masalah terjadi, tidak peduli siapa yang melakukannya, penting apa yang terjadi.  Kami akan mencoba memecahkannya.  Buka menu konteks instance database masalah. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/753/709/c87/753709c8713b6ba86ee8ad0f40fa5d70.png" alt="gambar"><br><br>  Di menu yang terbuka, buka SQL PI (Investigator Kinerja) untuk membuka tampilan dengan analisis multivarian. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d0/22e/770/7d022e77022981f6cb01eb26572f13d3.png" alt="gambar"><br><br>  Mari kita beralih ke tampilan Baseline untuk mengevaluasi perilaku metrik dibandingkan dengan nilai biasanya. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/107/f6a/b01/107f6ab01025f5bc0c502baa84419e94.png" alt="gambar"><br><br>  Grafik menunjukkan bahwa setelah 13:40 peningkatan konsumsi sumber daya yang abnormal dimulai. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cb4/4c5/708/cb44c57083073ef36d32cef247323306.png" alt="gambar"><br><br>  Dalam tampilan ini, kami akan mengonfigurasi apa yang akan dibandingkan.  Sekarang perhatikan perbandingan metrik dengan dirinya sendiri (sepanjang garis dasar), karena  Deviasi abnormal terungkap di atas.  Secara umum, Anda juga dapat membandingkan kinerja dengan instance database lain. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b43/aba/f3c/b43abaf3cdb4c56479fe922af34d7805.png" alt="gambar"><br><br>  Setelah memilih objek untuk perbandingan, tombol Bandingkan berharga akan muncul. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/82a/2ad/1c2/82a2ad1c2892e4efdf171dd7b735ba1b.png" alt="gambar"><br><br>  Tampilan rata-rata menunjukkan bahwa nilai anomali diamati oleh metrik: Waktu Aktif, Eksekusi, dan Tingkat Masuk.  Mari kita mulai perbandingan baru untuk mengidentifikasi perubahan. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad1/deb/cbf/ad1debcbf8bed4cafcf86abc7b9bc21f.png" alt="gambar"><br><br>  Bandingkan nilai metrik dengan diri kami sendiri, tetapi sehari yang lalu. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b7f/2df/d77/b7f2dfd77074740927818754e762f66c.png" alt="gambar"><br><br>  Setelah memilih pengaturan, tombol Bandingkan akan muncul, yang harus Anda klik. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e1f/e17/ba0/e1fe17ba0c435d2e9995ea6b54f38595.png" alt="gambar"><br><br>  Tampilan muncul yang ada pengukuran untuk perbandingan.  Untuk demonstrasi, kami akan memilih item menu Program.  Bagian Statistik sudah menunjukkan peningkatan dua kali lipat dalam nilai metrik Eksekusi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16c/f85/158/16cf851585a23c48f0c76c4130b35e6d.png" alt="gambar"><br><br>  Di sebelah kiri dan kanan skala, di bagian menu Program, nilai metrik ditampilkan.  Di sini kita melihat bahwa Waktu dan Eksekusi Aktif hampir dua kali lipat, dan ini adalah kesempatan untuk analisis situasi yang terperinci. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28a/de8/7a7/28ade87a7f6dd7b65442800c2cf12147.png" alt="gambar"><br><br>  Dengan cara yang sama, Anda dapat melakukan analisis komparatif dari metrik lain, dan mengunggah presentasi apa pun ke laporan PDF. <br><br><h2>  Cari perubahan dalam struktur basis data </h2><br>  Perubahan indeks, rencana eksekusi, dan objek lain mungkin tidak berdokumen.  Pengembang atau administrator database membuat perubahan yang tampaknya kecil, yang mungkin dia lupakan setelah beberapa saat.  Di antarmuka Foglight for Databases, perubahan konfigurasi terkait dengan perubahan kinerja.  Untuk mengidentifikasi perubahan, buka dari layar pemantauan basis data utama ke tampilan Beban Kerja. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/083/e39/ff0/083e39ff08e06d407481bca49ec12b7c.png" alt="gambar"><br><br>  Misalkan kita tahu bahwa beban besar pada database dihasilkan dari beberapa mesin klien.  Kami mengungkapkan Mesin Klien di tampilan kiri. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8aa/e87/293/8aae87293feb66c7174efc6250b881d8.png" alt="gambar"><br><br>  Batch diurutkan sesuai dengan beban pada database.  Mari kita pergi ke objek pertama dalam daftar dan kemudian melihat perubahannya (Ubah Pelacakan). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e00/f44/6fb/e00f446fbd8cc4d8ed44432e8af849a9.png" alt="gambar"><br><br>  Pada bagan, menurut legenda di sebelah kanan, perubahan yang sesuai untuk periode yang dipilih ditandai.  Perubahan pertama di sini adalah penghapusan indeks, yang kedua adalah penambahan rencana eksekusi baru.  Seperti yang Anda lihat, setelah indeks telah dihapus, beban Tunggu Lainnya telah meningkat tajam - zona ungu (eksekusi pekerjaan batch juga merujuk padanya).  Perubahan keempat adalah peningkatan tingkat paralelisme, yang berpotensi menyebabkan peningkatan jumlah permintaan (IO Tunggu - zona biru).  Pertimbangkan implikasi penambahan rencana eksekusi baru. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec9/24b/ac9/ec924bac9168c6b676fad8a2326b6b6f.png" alt="gambar"><br><br>  Setelah transisi, rincian rencana eksekusi baru telah dibuka.  Sekarang bandingkan perubahan yang telah terjadi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d44/0fb/362/d440fb3629400dba3ade2f8676d1e1c6.png" alt="gambar"><br><br>  Setelah transisi, rincian rencana eksekusi baru telah dibuka. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/687/134/6c1/6871346c1ee748f9d48e430c1005103d.png" alt="gambar"><br><br>  Paket eksekusi yang sama dapat dibuka di Management Studio langsung dari antarmuka Quest Foglight. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8c/a6b/77c/c8ca6b77c6567cb7552e8c34a692142f.png" alt="gambar"><br><br>  Jadi itu terlihat di konsol Management Studio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/064/407/95c/06440795cd09a85818735760ad68c2b7.png" alt="gambar"><br><br>  Saat Anda beralih ke tampilan Riwayat, Anda dapat melihat perubahan dalam metrik dari waktu ke waktu. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0e/565/d61/a0e565d619e0e20d3cbcd257e73002ae.png" alt="gambar"><br><br>  Tampilan Riwayat dapat digunakan untuk mengevaluasi dampak perubahan pada metrik tertentu.  Selanjutnya, buka tampilan Other. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/49e/b0e/d12/49eb0ed1232c3d863ed8f83ec937548e.png" alt="gambar"><br><br>  Dalam tampilan ini, Anda bisa melihat kumpulan mana yang memengaruhi beban basis data.  Mereka sudah diurutkan dalam urutan menurun. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/089/6f4/aa9/0896f4aa95bc99af4a2e3986bc44ee37.png" alt="gambar"><br><br>  Selain melacak perubahan secara otomatis, pengguna Foglight dapat menambahkan perubahan secara manual.Jika terjadi penurunan kinerja, administrator yang bertugas tidak akan lagi mencari penyebab degradasi layanan. <br><br>  Jika Anda menyukai Foglight untuk Database dan ingin mencobanya di database Anda - tinggalkan permintaan untuk distribusi dan kunci percobaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam formulir umpan balik</a> di situs web kami.  Operasi basis data yang stabil dan lokalisasi yang cepat untuk pekerjaan yang tidak normal! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id464963/">https://habr.com/ru/post/id464963/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id464949/index.html">Sekali lagi tentang GCD, algoritma Euclidean dan sedikit tentang sejarah algoritma secara umum. Tentu saja dengan contoh Swift</a></li>
<li><a href="../id464951/index.html">Semakin sederhana tugasnya, semakin sering saya salah</a></li>
<li><a href="../id464955/index.html">Iron Mike Tyson dan proyek blockchain Fight to Fame</a></li>
<li><a href="../id464959/index.html">Mengurai kalimat bahasa Rusia</a></li>
<li><a href="../id464961/index.html">Buat komponen visual dalam Unity UI. Sistem partikel</a></li>
<li><a href="../id464965/index.html">Frontend Weekly Digest (19 - 25 Agustus 2019)</a></li>
<li><a href="../id464967/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 377 (19 - 25 Agustus 2019)</a></li>
<li><a href="../id464969/index.html">CRISPR memberi Anda kesempatan untuk menyelamatkan seseorang dari rasa sakit</a></li>
<li><a href="../id464971/index.html">PHP Digest No. 163 (12 - 26 Agustus 2019)</a></li>
<li><a href="../id464973/index.html">Tulis lagu Anda dalam 10 menit (modul textgenrnn Python3)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>