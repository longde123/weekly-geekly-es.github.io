<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥋 🗳️ 🦏 Mécanisme de commission Bitcoin et pourquoi être ami avec les mineurs 🤹🏿 👨🏿‍🏫 👩🏻‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, nous allons essayer de décrire en détail la tâche principale des commissions dans Bitcoin, comment elles fonctionnent et ce qu'elles...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mécanisme de commission Bitcoin et pourquoi être ami avec les mineurs</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/417775/"> Dans cet article, nous allons essayer de décrire en détail la tâche principale des commissions dans Bitcoin, comment elles fonctionnent et ce qu'elles affectent.  Nous expliquerons les raisons de la volatilité des commissions, des retards dans la confirmation des transactions et décrirons les approches pour résoudre ces problèmes.  De plus, nous clarifierons en quoi la mise à jour des témoins distincts permet de réduire les coûts de transaction.  Et en prime, nous partagerons nos réflexions sur la façon dont l'amitié avec les mineurs réduit les commissions à zéro et à quoi cette tendance pourrait conduire à l'avenir.  Commençons donc. <br><a name="habracut"></a><br><h2>  <b>Heure de confirmation de la transaction</b> </h2><br>  Il est important de distinguer le processus de traitement des transactions (vérification) du processus de leur confirmation (confirmation).  Sur le réseau Bitcoin, les transactions sont traitées presque instantanément et confirmées - pendant une heure entière.  Dans d'autres monnaies numériques, tout peut être fait en quelques secondes.  Qu'est-ce qui détermine le délai de confirmation complète d'une transaction dans un environnement décentralisé?  Surtout du mécanisme de recherche d'un consensus. <br><br>  Dans sa forme la plus pure, <abbr title="preuve de travail">PoW</abbr> ne peut pas atteindre un consensus en moins d'une heure.  À leur tour, les protocoles de consensus basés sur <abbr title="preuve de participation déléguée">PBFT</abbr> et les protocoles <abbr title="preuve de participation déléguée">basés</abbr> sur <abbr title="preuve de participation déléguée">DPoS</abbr> peuvent atteindre un consensus en quelques secondes.  Cependant, le niveau de décentralisation et d'indépendance de ces systèmes est beaucoup plus faible que dans Bitcoin. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d4b/44e/08a/d4b44e08a1cb2c448d523c2bdadb4275.png" alt="image"><br><br>  Selon les règles du protocole Bitcoin, les propriétaires de la majeure partie de la puissance de calcul doivent confirmer la transaction (le bloc qui contient cette transaction) afin d'être considérés comme entièrement confirmés.  En d'autres termes, en fonction du bloc dans lequel la transaction a reçu la première confirmation, plusieurs blocs supplémentaires doivent être créés.  De plus, cette chaîne devrait être la plus longue et il ne devrait pas y avoir de chaînes compétitives.  Le nombre de ces blocs (confirmations de transaction) est déterminé par le bénéficiaire lui-même à sa discrétion.  Il est guidé par la règle qui stipule que plus une transaction a de confirmations, moins elle sera annulée par la suite. <br><br><h2>  <b>Limitations de bande passante</b> </h2><br>  Avec la popularité de Bitcoin, le flux de nouvelles transactions sur le réseau a considérablement augmenté.  Il est connu que la taille du bloc est déterminée par les règles du protocole et est strictement limitée.  Dans Bitcoin, la taille de bloc maximale est de 1 Mo, par conséquent, la bande passante est limitée (1,7 Ko / s).  Si le flux de nouvelles transactions dépasse le débit, toutes ne seront pas traitées.  Et de telles situations se produisent souvent.  Quelles transactions recevront une confirmation en premier et lesquelles attendront - c'est une question qui nécessite une réponse claire.  Son essence est que les transactions doivent se faire concurrence. <br><br><h2>  <b>Le rôle des commissions</b> </h2><br>  Le mécanisme de commission dans Bitcoin est nécessaire pour payer les services réseau distribués, où le service réseau est en fait un stockage de données fiable.  Les utilisateurs du réseau Bitcoin paient réellement pour chaque octet de données ajouté à la base de données commune.  En raison du fait que la bande passante de cette base de données est limitée, les utilisateurs se font concurrence pour la priorité d'enregistrement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83e/47c/3f1/83e47c3f112d688ce635f7b10831e19b.png" alt="image"><br><br>  En formant des transactions, les utilisateurs définissent une commission sous la forme d'une certaine quantité de satoshi pour un octet de données.  De plus, chaque nœud de validateur met en file d'attente toutes les transactions non confirmées de telle manière qu'il confirme d'abord les transactions qui paient une commission importante pour une unité de leur poids.  De toute évidence, les transactions qui tombent à la fin de la file d'attente peuvent rester longtemps non acquittées. <br><br>  Une autre tâche importante que le mécanisme de commission résout est la «tragédie des communautés».  Dans le contexte de Bitcoin, la protection contre le spam est impliquée par les transactions.  La présence de commissions obligatoires signifie qu'il sera coûteux pour un attaquant de boucher le réseau avec de fausses transactions pendant longtemps s'il a de telles intentions. <br><br><h2>  <b>Écrire la volatilité des prix</b> </h2><br>  Les utilisateurs du réseau Bitcoin rencontrent de temps en temps une volatilité de commission inhabituellement élevée.  Par exemple, en 2017, le prix moyen de l'écriture d'un octet de données dans la blockchain Bitcoin variait de 1 à 500 satoshi.  Et la file d'attente des transactions non confirmées allait de quelques Kio à des dizaines, voire des centaines de Mio. <br><br>  En raison du fait que le prix de l'enregistrement des données peut changer considérablement, les utilisateurs sont obligés de se faire concurrence presque aveuglément.  Cela est dû au fait qu'en fait, la transaction sera confirmée en moyenne dans les 8 minutes, tandis que les frais de traitement doivent être fixés avant sa signature.  Par conséquent, la question d'une commission correctement établie reste d'actualité, car tout le monde veut une confirmation rapide de ses transactions à moindre coût.  Naturellement, payer plus de 50 USD pour une transaction typique n'est pas la meilleure option, surtout lorsque vous pouvez économiser jusqu'à 90% de ce montant si vous calculez correctement la commission. <br><br>  Les conséquences d'une forte augmentation du flux de nouvelles transactions sont l'émergence d'une grande file d'attente de transactions en attente dans la blockchain de transactions.  Parmi celles-ci figurent les transactions dont les expéditeurs n'ont pas prêté attention à la variation du prix de l'enregistrement ou ont formé une transaction au moment précédant la forte augmentation.  Souvent, le problème ne vient pas de l'utilisateur, mais du logiciel de portefeuille ou des services de gestion de Bitcoin.  Un utilisateur actif rencontre souvent des produits logiciels pour travailler avec Bitcoin, dans lesquels la gestion des commissions est généralement cachée. <br><br><h2>  <b>Résoudre le problème de la volatilité des commissions</b> </h2><br>  Qu'il soit possible de contrôler manuellement la priorité d'enregistrement des transactions générées, les portefeuilles Bitcoin peuvent utiliser des mécanismes pour estimer le prix actuel de l'enregistrement des données, au lieu d'utiliser des valeurs constantes ou mises à jour manuellement.  Cela donne au portefeuille un gros avantage en termes de gestion de la priorité d'enregistrement de la transaction dans une base de données commune et d'économiser de l'argent sur la commission. <br><br>  Il convient de noter que la prévision du prix d'un enregistrement est également possible, mais souvent de telles prévisions ne fonctionnent que pour de très courtes périodes (en moyenne plusieurs minutes).  Si la prévision est obsolète et que la transaction n'est pas confirmée, il est probable que vous puissiez attendre sa confirmation pendant longtemps - le plus souvent plusieurs heures, et parfois même des jours. <br><br>  <b><i>frais de transaction = taille de la transaction * prix en octets</i></b> <br><br>  Le calcul dynamique ou adaptatif des frais de transaction signifie une évaluation automatique de la taille totale de la transaction en octets et une estimation du prix de l'écriture d'un octet dans la blockchain Bitcoin pour les prochaines heures.  Pour les deux évaluations, il existe des algorithmes spécifiques pour analyser les transactions et l'activité dans le réseau.  Après avoir obtenu une estimation de la taille de la transaction en octets et du prix d'enregistrement d'un octet, ces valeurs sont multipliées et le montant réel en bitcoins est obtenu, qui doit être ajouté à la transaction en tant que commission. <br><br>  L'avantage de l'approche d'évaluation adaptative est l'inclusion d'une commission plus précise dans la transaction, qui sera supérieure au seuil minimum, mais pas trop élevée, ce qui permet d'économiser de l'argent pour l'utilisateur.  De plus, la probabilité que la transaction soit au fond de la file d'attente des non confirmés, est minime.  Il existe cependant des exceptions.  Par conséquent, nous considérons plus en détail ce qu'il est important de faire en cas d'urgence. <br><br><h2>  <b>Augmentation de la commission après l'envoi de la transaction</b> </h2><br>  Notez que le protocole Bitcoin est très flexible par rapport aux commissions.  Par exemple, il existe deux améliorations de protocole: remplacer par des frais et enfant-paie-pour-parent, qui vous permettent d'augmenter la commission d'une transaction déjà générée et envoyée.  Malheureusement, très peu de portefeuilles mettent en œuvre cette fonctionnalité pour la commodité de leurs utilisateurs, bien qu'avec le temps, ils deviennent plus. <br><br>  En outre, cette fonctionnalité présente un certain nombre de nuances techniques et d'exigences organisationnelles pour une utilisation correcte.  L'une de ces exigences est que l'utilisateur (ou le logiciel en mode automatique) doit réévaluer les frais de transaction, former et signer une nouvelle transaction (alternative), la distribuer au réseau et continuer à surveiller son état. <br><br><h2>  <b>Comment le témoin isolé aide</b> </h2><br>  L'un des changements de protocole introduits par la mise à jour de Segregated Witness est l'introduction d'un nouveau format de transaction et son poids de transaction.  Avant l'avènement de Segregated Witness, seule la taille de la transaction était généralement prise en compte lors du calcul de la commission.  La taille, les transactions et leur poids sont désormais importants.  La nouvelle transaction stocke la preuve de la propriété des pièces dans une structure distincte (données des témoins).  Pour traduire la taille totale d'une transaction en son poids, la taille des données témoins est multipliée par un coefficient plus petit que le reste des données de transaction.  Le poids de la transaction est calculé à l'aide d'une formule spéciale: <br><br>  <b><i>poids = taille de base * 3 + taille totale</i></b> . <br><br>  Dans ce cas, la taille de base est la taille de la transaction, à l'exclusion de la taille des données témoins.  Comme vous pouvez le deviner, toutes les données incluses dans les données des témoins nécessitent 4 fois moins de commission que les autres données de transaction.  Une telle approche permet aux mineurs de déterminer une transaction plus rentable en fonction de la place occupée dans le bloc et de la récompense reçue. <br><br>  Il est connu qu'environ 60% de toutes les données de transaction sont précisément la preuve de la propriété des pièces (c'est-à-dire celles qui peuvent être enregistrées dans les données des témoins).  En conséquence, le poids des transactions du nouveau format diminuera considérablement.  Ainsi, l'utilisateur peut payer moins pour confirmer une nouvelle transaction, alors qu'il aura la même priorité parmi les mineurs lorsqu'il est inclus dans le bloc que l'ancienne transaction avec une commission plus élevée. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f1/81e/61f/1f181e61f40ecc9707c1c32b822bd50c.png" alt="image"><br><br>  Le diagramme montre la dépendance du prix d'écriture d'un octet de données dans la blockchain Bitcoin sur la charge (flux de transactions non confirmées), exprimé en octets par seconde.  La conclusion peut être très simple: si le flux de nouvelles transactions est inférieur ou égal au débit du système comptable, alors le prix d'enregistrement est presque nul.  Et si le flux de nouvelles transactions dépasse le débit, le prix augmente fortement. <br><br><h2>  <b>Option avec un ami mineur</b> </h2><br>  Imaginez que vous avez un ami qui exploite et contrôle 10% de toute la puissance de traitement impliquée dans le réseau Bitcoin.  En moyenne, il génère un bloc toutes les 100 minutes.  Dans ce cas, vous pouvez créer votre propre transaction, dans laquelle vous définissez une commission nulle, puis envoyer cette transaction à votre ami pour confirmation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/748/9cb/1c6/7489cb1c681fe038f18ed76404af86a9.png" alt="image"><br><br>  Votre transaction avec une probabilité de 50% recevra la première confirmation dans les 50 minutes et la confirmation complète - en moyenne 50 minutes après la première.  En conséquence, vos transactions recevront une confirmation complète dans environ 100 minutes.  Si vous n'aviez pas un tel ami, la transaction recevrait une confirmation complète dans un délai d'environ 60 minutes, mais avec le paiement d'une commission complète. <br><br>  Comme vous pouvez le voir, s'il s'agit d'économiser de l'argent, vous avez de la chance si vous avez un ami mineur.  Mais s'il n'y a pas un tel ami, il peut y avoir d'autres options pour payer une place dans le bloc. <br><br><h2>  <b>Placer l'option de tokenisation</b> </h2><br>  Habituellement, le mineur fonctionne selon le schéma standard et trie les transactions en fonction du prix de l'écriture de 1 octet de données dans la blockchain.  Tout le monde semble le faire maintenant.  Cependant, il est possible que le mineur ait une meilleure motivation.  Il peut formuler indépendamment une politique de monétisation de son activité.  En d'autres termes, il peut agir de manière non standard en ce qui concerne les transactions qu'il écrira sur son bloc.  S'il y a des conditions plus favorables que de simplement prendre une commission pour votre transaction, il est fort probable qu'il changera sa politique. <br><br>  Cette approche suppose que les utilisateurs paieront au mineur pour la confirmation de leurs transactions non pas par le biais d'une commission prédéterminée, mais directement (selon leur propre schéma). <br><br>  Dans la pratique, tout pool minier suffisamment important peut mener sa campagne afin d'augmenter la rentabilité et utiliser des mécanismes simples pour cela, par exemple: <br><br><ul><li>  Définissez vos priorités de tri des transactions </li><li>  conclure un partenariat avec un certain service (échange, magasin, navigateur); </li><li>  vendre des garanties pour une certaine place dans le bloc à l'avenir. </li></ul><br>  De plus, le pool peut même tokeniser l'espace libre dans ses blocs (oui, pour vendre des tokens). <br><br><h2>  <b>Conclusion</b> </h2><br>  À l'avenir, nous verrons probablement de nombreuses façons de payer pour une entrée dans la «base de données la plus fiable sur Terre».  Étant donné l'intérêt de nombreux services et applications pour les propriétés de cette base de données, il existe depuis longtemps des solutions tierces pour ajouter des données arbitraires à la blockchain Bitcoin dans le but de leur «horodatage» fiable.  Mais de telles solutions ne correspondent pas bien à l'écosystème d'applications, et il est difficile pour les développeurs de les monétiser. <br><br>  Pour le moment, l'option de pousser les transactions «par amitié» et l'option de symboliser l'espace libre en blocs peuvent sembler comiques, mais au rythme actuel de développement de l'industrie, de tels scénarios peuvent se révéler réalisables.  De plus, ils peuvent devenir fondamentaux dans la relation entre les utilisateurs et les valideurs, mais ce n'est pas exact. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr417775/">https://habr.com/ru/post/fr417775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr417763/index.html">MVIDroid: une revue de la nouvelle bibliothèque MVI (Model-View-Intent)</a></li>
<li><a href="../fr417767/index.html">Analyse des sentiments textuels à l'aide de réseaux de neurones convolutifs</a></li>
<li><a href="../fr417769/index.html">Conception de la mémoire utilisateur: comment concevoir pour les âges</a></li>
<li><a href="../fr417771/index.html">Plan de l'ICANN: la société propose un nouveau modèle de gestion de serveur racine DNS</a></li>
<li><a href="../fr417773/index.html">Installateur de composants OpenPnP fait maison</a></li>
<li><a href="../fr417777/index.html">Week-end de lecture: 25 documents pour les amateurs de vinyle débutants</a></li>
<li><a href="../fr417779/index.html">Utilisation d'Unity3D dans une application iOS / Android native pour modéliser l'éclairage des espaces ouverts</a></li>
<li><a href="../fr417781/index.html">La sonde de la NASA «touche» le Soleil - et ne fond pas</a></li>
<li><a href="../fr417783/index.html">Optimisations utilisées en Python: liste et tuple</a></li>
<li><a href="../fr417785/index.html">Quel administrateur système ne rêve pas de son entreprise d'externalisation?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>