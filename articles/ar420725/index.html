<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ต๐ฟ ๐ฉ๐ป ููู ุนููุช ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ูุนุจ Tetris ูู NES. ุงูุฌุฒุก ุงูุฃูู: ุชุญููู ููุฏ ุงููุนุจุฉ ๐จ๐ฝโ๐ ๐ผ ๐ฅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุณุชูุดู ุงูุขููุงุช ุงูุจุณูุทุฉ ุงูุฎุงุฏุนุฉ ูู Nintendo Tetris ุ ููู ุงูุฌุฒุก ุงูุซุงูู ุณุฃุดุฑุญ ููู ุฃูุดุฃุช ุฐูุงุก ุงุตุทูุงุนู ูุณุชุบู ูุฐู ุงููููุงูููุง. 


 ุฌุฑุจูุง ุจู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ุนููุช ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ูุนุจ Tetris ูู NES. ุงูุฌุฒุก ุงูุฃูู: ุชุญููู ููุฏ ุงููุนุจุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420725/" style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุณุชูุดู ุงูุขููุงุช ุงูุจุณูุทุฉ ุงูุฎุงุฏุนุฉ ูู Nintendo Tetris ุ ููู ุงูุฌุฒุก ุงูุซุงูู ุณุฃุดุฑุญ ููู ุฃูุดุฃุช ุฐูุงุก ุงุตุทูุงุนู ูุณุชุบู ูุฐู ุงููููุงูููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/48f/1a4/9b8/48f1a49b87860e6139e8d298e1fe6188.png"></div><br><h2 style=";text-align:right;direction:rtl">  ุฌุฑุจูุง ุจููุณู </h2><br><h3 style=";text-align:right;direction:rtl">  ุนู ุงููุดุฑูุน </h3><br>  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ููุชูุฑูู ุฅูู ุงููุซุงุจุฑุฉ ูุงูุตุจุฑ ูุงูููุช ุงููุงุฒู ูุฅุชูุงู Nintendo Tetris ุ ููุช ุจุฅูุดุงุก ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ุงูุชู ูููู ุฃู ุชูุนุจ ูู ุชููุงุก ููุณูุง.  ููููู ุฃุฎูุฑูุง ุงููุตูู ุฅูู ุงููุณุชูู 30 ูุฃูุซุฑ ูู ุฐูู.  ุณุชุฑู ููููุฉ ุงูุญุตูู ุนูู ุฃูุตู ุนุฏุฏ ูู ุงูููุงุท ููุฑุงูุจุฉ ุงูุชุบููุฑ ุงูุฐู ูุง ููุงูุฉ ูู ูู ุนุฏุงุฏุงุช ุงูุตู ูุงููุณุชููุงุช ูุงูุฅุญุตุงุฆูุงุช.  ุณูู ุชุชุนูู ุงูุฃููุงู ุงูุชู ุชุธูุฑ ูู ุงููุณุชููุงุช ุงูุชู ูุง ูุณุชุทูุน ุงูุดุฎุต ุชุณูููุง.  ุงูุธุฑ ุฅูู ุฃู ูุฏู ูููู ุฃู ุชุฐูุจ. <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุงููุชุทูุจุงุช </h3><br>  ูุชุดุบูู AI ุ ุชุญุชุงุฌ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุงูู</a> NES / Famicom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FCEUX ุนุงููู</a> .  ุชู ุชุทููุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">FCEUX 2.2.2</a> ุ ููู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุงููุญุงูู ูู ููุช ุงููุชุงุจุฉ. <br><br>  ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ููู Nintendo Tetris ROM (ุงูุฅุตุฏุงุฑ ุงูุฃูุฑููู).  ุญุงูู ุงูุจุญุซ ุนูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุฌู</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฒูู </h3><br>  ูู ุจูู ุถุบุท <code>lua/NintendoTetrisAI.lua</code> ูู <a href="">ููู zip ุงููุตุฏุฑ</a> ูุฐุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุทูุงู </h3><br>  ุฅุทูุงู FCEUX.  ูู ุงููุงุฆูุฉ ุ ุญุฏุฏ ููู |  ูุชุญ ROM ... ูู ูุฑุจุน ุงูุญูุงุฑ ูุชุญ ููู ุ ุญุฏุฏ ููู Nintendo Tetris ROM ูุงููุฑ ููู ูุชุญ.  ุณุชุจุฏุฃ ุงููุนุจุฉ. <br><br>  ูู ุงููุงุฆูุฉ ุ ุญุฏุฏ ููู |  ููุง |  ูุงูุฐุฉ Lua Script ุฌุฏูุฏุฉ ... ูู ูุงูุฐุฉ Lua Script ุ ุฃุฏุฎู ุงููุณุงุฑ ุฅูู <code>NintendoTetrisAI.lua</code> ุฃู ุงููุฑ ููู ุงูุฒุฑ "ุงุณุชุนุฑุงุถ" ููุนุซูุฑ ุนููู.  ุจุนุฏ ุฐูู ุ ุงููุฑ ููู ุชุดุบูู. <br><br>  ุณูููู ุงูุจุฑูุงูุฌ ุงููุตู ุงูููุฌูุฏ ูู Lua ุจุฅุนุงุฏุฉ ุชูุฌููู ุฅูู ุงูุดุงุดุฉ ุงูุฃููู ูู ุงููุงุฆูุฉ.  ุงุชุฑู ููุน ุงููุนุจุฉ A-Type ุ ูููููู ุงุฎุชูุงุฑ ุฃู ููุณููู.  ุนูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุจุทูุฆุฉ ุ ูููู ุชุดุบูู ุงูููุณููู ุจูุธุงุธุฉ ุดุฏูุฏุฉ ุ ุซู ูุฌุจ ุฅููุงู ุชุดุบูููุง.  ุงุถุบุท ุนูู Start (Enter) ููุงูุชูุงู ุฅูู ุดุงุดุฉ ุงููุงุฆูุฉ ุงูุชุงููุฉ.  ูู ุงููุงุฆูุฉ ุงูุซุงููุฉ ุ ููููู ุงุณุชุฎุฏุงู ููุงุชูุญ ุงูุฃุณูู ูุชุบููุฑ ูุณุชูู ุงูุจุฏุก.  ุงููุฑ ููู ุงุจุฏุฃ ูุจุฏุก ุงููุนุจุฉ.  ูููุง ุณูุชุญูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู. <br><br>  ุฅุฐุง ููุช ุจุนุฏ ุชุญุฏูุฏ ูุณุชูู ูู ุดุงุดุฉ ุงููุงุฆูุฉ ุงูุซุงููุฉ ุ ูุงุถุบุท ูุน ุงูุงุณุชูุฑุงุฑ ุนูู ุฒุฑ ููุญุฉ ุงูุฃูุนุงุจ A (ููููู ุชุบููุฑ ุชุฎุทูุท ููุญุฉ ุงูููุงุชูุญ ูู ูุงุฆูุฉ Config | Input ...) ูุงุถุบุท ุนูู Start ุ ุนูุฏุฆุฐู ุณูููู ุงููุณุชูู ุงูุฃููู 10 ุฃูุซุฑ ูู ุงููููุฉ ุงููุญุฏุฏุฉ.  ูุณุชูู ุงูุฏุฎูู ุงูุฃูุตู ูู ุงูุชุงุณุน ุนุดุฑ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูููู </h3><br>  ูุฌุนู ุงููุนุจุฉ ุชุนูู ุจุดูู ุฃุณุฑุน ุ ุงูุชุญ ุจุฑูุงูุฌ Lua ุงููุตู ูู ูุญุฑุฑ ูุตูุต.  ูู ุจุฏุงูุฉ ุงูููู ุ ุงุจุญุซ ุนู ุงูุณุทุฑ ุงูุชุงูู. <br><br> <code>PLAY_FAST = false</code> <br> <br>  ุงุณุชุจุฏู <code>false</code> <code>true</code> ููุง ูู ููุถุญ ุฃุฏูุงู. <br><br> <code>PLAY_FAST = true</code> <br> <br>  ุงุญูุธ ุงูููู.  ุซู ุงููุฑ ููู ุฒุฑ ุฅุนุงุฏุฉ ุงูุชุดุบูู ูู ูุงูุฐุฉ Lua Script. <br><br><h2 style=";text-align:right;direction:rtl">  ูููุงูููุง ูููุชูุฏู ุชุชุฑูุณ </h2><br><h3 style=";text-align:right;direction:rtl">  ูุตู Tetrimino </h3><br>  ูุชุทุงุจู ูู ุดูู ูู ุฃุดูุงู tetrimino ูุน ุงุณู ูู ุญุฑู ูุงุญุฏ ูุดุจู ุดููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/975/440/5ed/9754405ed7b3d83a47181edef3de6913.png"></div><br>  ูููู ูุตููู Nintendo Tetris ุจุชุนููู ุฃูุฑ tetrimino ุงูููุถุญ ุฃุนูุงู ุจุดูู ุชุนุณูู.  ุชุธูุฑ ุงูุฃุฑูุงู ูู ุงูุงุชุฌุงู ุงูุฐู ุชุธูุฑ ููู ุนูู ุงูุดุงุดุฉ ุ ูุชุฎูู ุงูุฏุงุฆุฑุฉ ุตูุฑุฉ ูุชูุงุซูุฉ ุชูุฑูุจูุง (ุฑุจูุง ูุฐุง ูู ุณุจุจ ุงุฎุชูุงุฑ ูุฐุง ุงูุชุฑุชูุจ).  ูุนุทู ูุคุดุฑ ุงูุชุณูุณู ููู tetrimino ูุนุฑู ุฑููู ูุฑูุฏ.  ุชุนุชุจุฑ ูุนุฑูุงุช ุงูุชุณูุณู ูุงูููุน ูููุฉ ุนูู ูุณุชูู ุงูุจุฑูุฌุฉ ุ  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅููุง ุชุธูุฑ ูู ุชุฑุชูุจ ุงูุฃุฑูุงู ุงููุนุฑูุถุฉ ูู ูุฌุงู ุงูุฅุญุตุงุฆูุงุช (ุงูุธุฑ ุฃุฏูุงู). <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dc2/35d/778/dc235d778c47654e1abbc5896581fd6a.png"></div><br>  ุชู ุชุฑููุฒ ุงูุงุชุฌุงูุงุช ุงูู 19 ุงููุณุชุฎุฏูุฉ ูู Nintendo Tetris tetrimino ูู ุฌุฏูู ููุน ุนูู <code>$8A9C</code> ูู ุฐุงูุฑุฉ ูุญุฏุฉ ุงูุชุญูู ูู NES.  ูุชู ุชูุซูู ูู ุดูู ูุชุณูุณู ูู 12 ุจุงูุช ูููู ุชูุณููู ุฅูู ุซูุงุซูุงุช <code>(Y, tile, X)</code> ุชุตู ูู ูุฑุจุน ูู ุงูุดูู.  ุชุดูุฑ ุงูููู ุงูุณุช ุนุดุฑูุฉ ููุฅุญุฏุงุซูุงุช ุฃุนูุงู <code>$7F</code> ุฅูู ุฃุนุฏุงุฏ ุตุญูุญุฉ ุณุงูุจุฉ ( <code>$FF= โ1</code> ู <code>$FE = โ2</code> ). <br><br> <code>; Y0 T0 X0 Y1 T1 X1 Y2 T2 X2 Y3 T3 X3 <br> <br> 8A9C: 00 7B FF 00 7B 00 00 7B 01 FF 7B 00 ; 00: T up <br> 8AA8: FF 7B 00 00 7B 00 00 7B 01 01 7B 00 ; 01: T right <br> 8AB4: 00 7B FF 00 7B 00 00 7B 01 01 7B 00 ; 02: T down (spawn) <br> 8AC0: FF 7B 00 00 7B FF 00 7B 00 01 7B 00 ; 03: T left <br> <br> 8ACC: FF 7D 00 00 7D 00 01 7D FF 01 7D 00 ; 04: J left <br> 8AD8: FF 7D FF 00 7D FF 00 7D 00 00 7D 01 ; 05: J up <br> 8AE4: FF 7D 00 FF 7D 01 00 7D 00 01 7D 00 ; 06: J right <br> 8AF0: 00 7D FF 00 7D 00 00 7D 01 01 7D 01 ; 07: J down (spawn) <br> <br> 8AFC: 00 7C FF 00 7C 00 01 7C 00 01 7C 01 ; 08: Z horizontal (spawn) <br> 8B08: FF 7C 01 00 7C 00 00 7C 01 01 7C 00 ; 09: Z vertical <br> <br> 8B14: 00 7B FF 00 7B 00 01 7B FF 01 7B 00 ; 0A: O (spawn) <br> <br> 8B20: 00 7D 00 00 7D 01 01 7D FF 01 7D 00 ; 0B: S horizontal (spawn) <br> 8B2C: FF 7D 00 00 7D 00 00 7D 01 01 7D 01 ; 0C: S vertical <br> <br> 8B38: FF 7C 00 00 7C 00 01 7C 00 01 7C 01 ; 0D: L right <br> 8B44: 00 7C FF 00 7C 00 00 7C 01 01 7C FF ; 0E: L down (spawn) <br> 8B50: FF 7C FF FF 7C 00 00 7C 00 01 7C 00 ; 0F: L left <br> 8B5C: FF 7C 01 00 7C FF 00 7C 00 00 7C 01 ; 10: L up <br> <br> 8B68: FE 7B 00 FF 7B 00 00 7B 00 01 7B 00 ; 11: I vertical <br> 8B74: 00 7B FE 00 7B FF 00 7B 00 00 7B 01 ; 12: I horizontal (spawn) <br> <br> 8B80: 00 FF 00 00 FF 00 00 FF 00 00 FF 00 ; 13: Unused</code> <br> <br>  ููุฌุฏ ูู ุฃุณูู ุงูุฌุฏูู ุณุฌู ูุงุญุฏ ุบูุฑ ูุณุชุฎุฏู ุ ููู ุงููุญุชูู ุฃู ูููุญ ุงููุฑุตุฉ ูุฅุถุงูุฉ ุงุชุฌุงู ุขุฎุฑ.  ููุน ุฐูู ุ ูู ุฃุฌุฒุงุก ูุฎุชููุฉ ูู ุงูุฑูุฒ ุ ูุดูุฑ <code>$13</code> ุฅูู ุฃู ูุนุฑู ุงูุงุชุฌุงู ูู tetrimino ุงููุดุท ูู ูุชู ุชุนููู ูููุฉ ูู. <br><br>  ูุณูููุฉ ุงููุฑุงุกุฉ ุ ูุชู ุนุฑุถ ุฅุญุฏุงุซูุงุช ุงููุฑุจุนุงุช ูู ุงูุนูุงูุฉ ุงูุนุดุฑูุฉ ุฃุฏูุงู. <br><br> <code>-- { { X0, Y0 }, { X1, Y1 }, { X2, Y2 }, { X3, Y3 }, }, <br> <br> { { -1, 0 }, { 0, 0 }, { 1, 0 }, { 0, -1 }, }, -- 00: T up <br> { { 0, -1 }, { 0, 0 }, { 1, 0 }, { 0, 1 }, }, -- 01: T right <br> { { -1, 0 }, { 0, 0 }, { 1, 0 }, { 0, 1 }, }, -- 02: T down (spawn) <br> { { 0, -1 }, { -1, 0 }, { 0, 0 }, { 0, 1 }, }, -- 03: T left <br> <br> { { 0, -1 }, { 0, 0 }, { -1, 1 }, { 0, 1 }, }, -- 04: J left <br> { { -1, -1 }, { -1, 0 }, { 0, 0 }, { 1, 0 }, }, -- 05: J up <br> { { 0, -1 }, { 1, -1 }, { 0, 0 }, { 0, 1 }, }, -- 06: J right <br> { { -1, 0 }, { 0, 0 }, { 1, 0 }, { 1, 1 }, }, -- 07: J down (spawn) <br> <br> { { -1, 0 }, { 0, 0 }, { 0, 1 }, { 1, 1 }, }, -- 08: Z horizontal (spawn) <br> { { 1, -1 }, { 0, 0 }, { 1, 0 }, { 0, 1 }, }, -- 09: Z vertical <br> <br> { { -1, 0 }, { 0, 0 }, { -1, 1 }, { 0, 1 }, }, -- 0A: O (spawn) <br> <br> { { 0, 0 }, { 1, 0 }, { -1, 1 }, { 0, 1 }, }, -- 0B: S horizontal (spawn) <br> { { 0, -1 }, { 0, 0 }, { 1, 0 }, { 1, 1 }, }, -- 0C: S vertical <br> <br> { { 0, -1 }, { 0, 0 }, { 0, 1 }, { 1, 1 }, }, -- 0D: L right <br> { { -1, 0 }, { 0, 0 }, { 1, 0 }, { -1, 1 }, }, -- 0E: L down (spawn) <br> { { -1, -1 }, { 0, -1 }, { 0, 0 }, { 0, 1 }, }, -- 0F: L left <br> { { 1, -1 }, { -1, 0 }, { 0, 0 }, { 1, 0 }, }, -- 10: L up <br> <br> { { 0, -2 }, { 0, -1 }, { 0, 0 }, { 0, 1 }, }, -- 11: I vertical <br> { { -2, 0 }, { -1, 0 }, { 0, 0 }, { 1, 0 }, }, -- 12: I horizontal (spawn)</code> <br> <br>  ูุชู ูุถุน ุฌููุน ุงูุงุชุฌุงูุงุช ูู ูุตูููุฉ 5 ร 5. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8ca/435/322/8ca435322ee85d07cc631640c11a9aee.png"></div><br>  ูู ุงูุดูู ุฃุนูุงู ุ ูุดูุฑ ุงููุฑุจุน ุงูุฃุจูุถ ุฅูู ูุฑูุฒ ุงููุตูููุฉ ุ ููู ุงูููุทุฉ ุงููุฑุฌุนูุฉ ูุชุฏููุฑ ุงูุดูู. <br><br>  ูุชู ุนุฑุถ ุฌุฏูู ุงูุชูุฌูู ุจูุงููุงู ุฃุฏูุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b18/4e0/f0e/b184e0f0ea182222b58d151c09217567.png"></div><br>  ูุชู ุนุฑุถ ูุนุฑู ุงูุงุชุฌุงู (ููุฑุณ ุงูุฌุฏูู) ุจุงููุธุงู ุงูุณุช ุนุดุฑู ูู ุงูุฒุงููุฉ ุงููููู ุงูุนููุง ูู ูู ูุตูููุฉ.  ูุชุธูุฑ ูู ุงูุฅุณุชุฐูุงุฑ ุงูุฐู ุชู ุงุฎุชุฑุงุนู ููุฐุง ุงููุดุฑูุน ูู ุงูุฒุงููุฉ ุงููุณุฑู ุงูุนููุง.  <code>u</code> ู <code>r</code> ู <code>d</code> ู <code>l</code> ู <code>h</code> ู <code>v</code> ูู ุงุฎุชุตุงุฑุงุช "ููุฃุนูู ูุงููููู ูุงูุฃุณูู ูุงููุณุงุฑ ูุงูุฃููู ูุงูุฑุฃุณู".  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุฃุณูู ุงูุฅุดุงุฑุฉ ุฅูู ุงุชุฌุงู <code>Jd</code> ุจุฏูุงู ูู <code>$07</code> . <br><br>  ูุชู ุชูููุฒ ุงููุตูููุงุช ุงูุชู ุชุญุชูู ุนูู ุงุชุฌุงูุงุช ุงูุฃุดูุงู ุฃุซูุงุก ุงูุฅูุดุงุก ุจุฅุทุงุฑ ุฃุจูุถ. <br><br>  ูููู ุฅุนุทุงุก Tetrimino I ู S ู Z 4 ุงุชุฌุงูุงุช ูููุตูุฉ ุ ููู ูุจุฏุนู Nintendo Tetris ูุฑุฑูุง ุฃู ููุชุตุฑูุง ุนูู ุงุซููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ุชุนุชุจุฑ <code>Zv</code> ู <code>Sv</code> ุตูุฑูุง ูุชุทุงุจูุฉ ูุซุงููุฉ ูุจุนุถููุง ุงูุจุนุถ.  ูุชู ุฅูุดุงุก ููุงููุง ุนู ุทุฑูู ุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ ุ ููุง ูุคุฏู ุฅูู ุงุฎุชูุงู ุงูุชูุงุฒู. <br><br>  ูุญุชูู ุฌุฏูู ุงูุชูุฌูู ุฃูุถูุง ุนูู ููู ุชุฌุงูุจ ููู ูุฑุจุน ูู ูู ุดูู ููุฌู.  ููุน ุฐูู ุ ูุน ุฏุฑุงุณุฉ ูุชุฃููุฉ ุ ูุตุจุญ ูู ุงููุงุถุญ ุฃู ููู ููุน ูุงุญุฏ ูู tetrimino ูู ููุณูุง ุฏุงุฆููุง. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุช </th><th>  ู </th><th>  ุถ </th><th>  ูุง </th><th>  ู </th><th>  ูุงู </th><th>  ุฃูุง </th></tr><tr><td> <code>7B</code> </td> <td> <code>7D</code> </td> <td> <code>7C</code> </td> <td> <code>7B</code> </td> <td> <code>7D</code> </td> <td> <code>7C</code> </td> <td> <code>7B</code> </td> </tr></tbody></table></div><br>  ููู ุงูุชุฌุงูุจ ูู ูุคุดุฑุงุช ุงูุฌุฏูู (ุงูููู ุงูุฒุงุฆู) ูููููุฐุฌ ุงูููุถุญ ุฃุฏูุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e00/97a/713/e0097a713f629afaf73936d3192820e3.png"></div><br>  ูุชู ูุถุน ูุฑุจุนุงุช <code>$7B</code> ู <code>$7C</code> ู <code>$7D</code> ุฃุณูู "ATIS" ูุจุงุดุฑุฉ ูู ูููุฉ "STATISTICS".  ูุฐู ูู ุงูุฃููุงุน ุงูุซูุงุซุฉ ูู ุงููุฑุจุนุงุช ุงูุชู ุชุตูุน ูููุง tetrimino. <br><br>  ูููุถูู ุ ุณุฃููู ุฃูู ูุชู ุงุณุชุฎุฏุงู ุงููุนุงู ูุทููุฑ ุงูุจุทุฑูู ูู ููุงูุฉ ูุถุน B-Type.  ุชูุช ููุงูุดุฉ ูุฐุง ุงูููุถูุน ุจุงูุชูุตูู ูู ูุณู "ุฅููุงุก". <br><br>  ูููุง ููู ูุชูุฌุฉ ุชุนุฏูู ROM ุจุนุฏ ุงุณุชุจุฏุงู <code>$7B</code> ุจู <code>$29</code> .  ุงูููุจ ูู ุงูุจูุงุท ุชุญุช ุงูุฑูุฒ P ูู ุฌุฏูู ุงูููุท ูุฌููุน ุงูุงุชุฌุงูุงุช T. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5fa/551/215/5fa55121523b443f8f3b6daa2bd46ad8.png"></div><br>  ูุจูู ุจูุงุท ุงูููุจ ูู ุงูููุนุจ ุญุชู ุจุนุฏ ุชุซุจูุช Ts ุงููุนุฏูุฉ ูู ููุงููุง.  ููุง ูู ููุถุญ ุฃุฏูุงู ูู ูุณู "ุฅูุดุงุก Tetrimino" ุ ูุฐุง ูุนูู ุฃู ููุนุจ ุงููุนุจ ูุฎุฒู ุงูููู ุงูุญููููุฉ ููุคุดุฑุงุช ุงูุจูุงุท ูู Tetrimino ุงูุชู ุชู ูุนุจูุง. <br><br>  ุฌุนู ูุจุฑูุฌู ุงููุนุจุฉ ูู ุงููููู ุงุณุชุฎุฏุงู 4 ูุฑุจุนุงุช ูููุตูุฉ ููู ุดูู ุ ูููุณ ููุนูุง ูุงุญุฏูุง ุซุงุจุชูุง ูู ุงููุฑุจุนุงุช.  ูุฐู ููุฒุฉ ูููุฏุฉ ูููู ุงุณุชุฎุฏุงููุง ูุชุนุฏูู ูุธูุฑ ุงููุนุจุฉ.  ูุญุชูู ุฌุฏูู ุงูููุท ุนูู ุงููุซูุฑ ูู ุงููุณุงุญุฉ ุงููุงุฑุบุฉ ููุจูุงุท ุงูุฌุฏูุฏ ุงูุฐู ูููู ุฃู ูููุญ ูู tetrimino ูุธูุฑูุง ูุฑูุฏูุง. <br><br>  ูู ุงูุณูู ุฌุฏูุง ูุนุงูุฌุฉ ุฅุญุฏุงุซูุงุช ุงููุฑุจุนุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุนุฑุถ ูุณุฎุฉ ูุนุฏูุฉ ูู ุงูุซูุงุซูุงุช ุงูุฃุฑุจุน ุงูุฃููู ูู ุฌุฏูู ุงูุชูุฌูู ุฃุฏูุงู. <br><br> <code>8A9C: FE 7B FE FE 7B 02 02 7B FE 02 7B 02 ; 00: T up</code> <br> <br>  ูุฐุง ุงูุชุบููุฑ ูุดุงุจู ููุง ููู: <br><br> <code>{ { -2, -2 }, { 2, -2 }, { -2, 2 }, { 2, 2 }, }, -- 00: T up</code> <br> <br>  ูุงููุชูุฌุฉ ูู tetrimino ุงูุงููุณุงู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3a6/ab5/86d/3a6ab586d06a57b92208bd612b755109.png"></div><br>  ุนูุฏ ุชุญุฑูู tetrimino ุงูููุณูู ุ ูุง ูููู ุฃู ุชุชุฌุงูุฒ ูุฑุจุนุงุชู ุญุฏูุฏ ุณุงุญุฉ ุงููุนุจ ููุง ูููู ุฃู ุชูุฑ ูู ุฎูุงู ุงูุฃุฑูุงู ุงูุชู ุชู ููููุง ูุณุจููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชููุน ุงููุนุจุฉ ุงูุฏูุฑุงู ูู ูุฐุง ุงูุงุชุฌุงู ุฅุฐุง ุฃุฏุช ุฅูู ุณููุท ูุฑุจุน ุฎุงุฑุฌ ุญุฏูุฏ ุงูููุนุจ ุฃู ุฅูู ุญูููุฉ ุฃู ุงููุฑุจุน ูุชุฏุงุฎู ูุน ูุฑุจุน ูุณุชููู ุจุงููุนู. <br><br>  ูุชู ููู tetrimino ุงูููุณู ูู ููุงูู ุนูุฏูุง ูููู ููุงู ุฏุนู ูุฃู ูู ูุฑุจุนุงุชู.  ุฅุฐุง ุชู ุญุธุฑ ุงูุดูู ุ ูุณุชุณุชูุฑ ุงููุฑุจุนุงุช ุงููุนููุฉ ูู ุงูููุงุก ูู ุงูุชุนููู. <br><br>  ุชุนุงูุฌ ุงููุนุจุฉ ุชูุณูู tetriminos ูุซู ุฃู ุดุฎุตูุฉ ุนุงุฏูุฉ.  ูุฐุง ูุฌุนููุง ูููู ุฃูู ูุง ููุฌุฏ ุฌุฏูู ุฅุถุงูู ูุชุฎุฒูู ุงูุจูุงูุงุช ุงููุตููุฉ ููุฃุดูุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูููู ููุงู ุฌุฏูู ูุฎุฒู ุญุฌู ุงููุฑุจุน ุงููุญูุท ููู ุงุชุฌุงู ููุชุญูู ูู ุงูุชุตุงุฏูุงุช ูุน ูุญูุท ุงูููุนุจ.  ูููู ูุง ูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฌุฏูู.  ุจุฏูุงู ูู ุฐูู ุ ุชููู ุงููุนุจุฉ ุจุจุณุงุทุฉ ุจูุญุต ุงููุฑุจุนุงุช ุงูุฃุฑุจุนุฉ ูุจุงุดุฑุฉู ูุจู ุงูุชูุงุนุจ ุจุงูุดูู. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุฃู ุชููู ุฅุญุฏุงุซูุงุช ุงููุฑุจุนุงุช ุฃู ููู ุ  ูุง ุชูุชุตุฑ ุนูู ุงููุงุตู ุงูุฒููู <code>[โ2, 2]</code> .  ูุจุงูุทุจุน ุ ูุฅู ุงูููู ุงูุชู ุชุชุฌุงูุฒ ูุฐุง ุงููุงุตู ุงูุฒููู ุณุชุนุทููุง ุฃุฑูุงููุง ุบูุฑ ูุงุจูุฉ ููุชุทุจูู ูุง ูููู ูุถุนูุง ูู ุงูููุนุจ.  ุงูุฃูู ูู ุฐูู ุ ููุง ูู ูุฐููุฑ ูู ูุณู "ุญุงูุงุช ุงููุนุจุฉ ูุฃูุถุงุน ุงูุนุฑุถ" ุ ุนูุฏูุง ูุชู ุชุซุจูุช ุงูุดูู ูู ููุงูู ุ ูุฅู ุขููุฉ ุชูุธูู ุงูุฎุทูุท ุงูููููุกุฉ ุชูุญุต ููุท ุฅุฒุงุญุฉ ุงูุตููู ูู โ2 ุฅูู 1 ูู ุงููุฑุจุน ุงููุฑูุฒู ููุดูู ุ  ูู ูุชู ุงูุชุนุฑู ุนูู ูุฑุจุน <code>y</code> ุฎุงุฑุฌ ูุฐุง ุงููุงุตู ุงูุฒููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุงูุจ ุชุชุฑููููู </h3><br>  ูู ุฑุณู ุชูุถูุญู ูุฌุฏูู ุงูุชูุฌูู ุ ูุชููู ุงูุฏูุฑุงู ูู ุงูุงูุชูุงู ูู ูุตูููุฉ ุฅูู ุฃุญุฏ ุงููุตูููุงุช ุนูู ุงููุณุงุฑ ุฃู ุนูู ุงููููู ูุน ููู ุงูุณูุณูุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ.  ุชู ุชุฑููุฒ ูุฐุง ุงูููููู ูู ุฌุฏูู ุจุณุนุฑ <code>$88EE</code> . <br><br> <code>; CCW CW <br> 88EE: 03 01 ; Tl Tr <br> 88F0: 00 02 ; Tu Td <br> 88F2: 01 03 ; Tr Tl <br> 88F4: 02 00 ; Td Tu <br> 88F6: 07 05 ; Jd Ju <br> 88F8: 04 06 ; Jl Jr <br> 88FA: 05 07 ; Ju Jd <br> 88FC: 06 04 ; Jr Jl <br> 88FE: 09 09 ; Zv Zv <br> 8900: 08 08 ; Zh Zh <br> 8902: 0A 0A ; OO <br> 8904: 0C 0C ; Sv Sv <br> 8906: 0B 0B ; Sh Sh <br> 8908: 10 0E ; Lu Ld <br> 890A: 0D 0F ; Lr Ll <br> 890C: 0E 10 ; Ld Lu <br> 890E: 0F 0D ; Ll Lr <br> 8910: 12 12 ; Ih Ih <br> 8912: 11 11 ; Iv Iv</code> <br> <br>  ูุฌุนู ุงูุฃูุฑ ุฃูุซุฑ ูุถูุญูุง ุ ุณูููู ูู ุนููุฏ ูู ูุฐุง ุงูุฌุฏูู ุฅูู ุตู ุงูุฌุฏูู ุฃุฏูุงู. <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th></th><th> <code>Tu</code> </th> <th> <code>Tr</code> </th> <th> <code>Td</code> </th> <th> <code>Tl</code> </th> <th> <code>Jl</code> </th> <th> <code>Ju</code> </th> <th> <code>Jr</code> </th> <th> <code>Jd</code> </th> <th> <code>Zh</code> </th> <th> <code>Zv</code> </th> <th> <code>O</code> </th> <th> <code>Sh</code> </th> <th> <code>Sv</code> </th> <th> <code>Lr</code> </th> <th> <code>Ld</code> </th> <th> <code>Ll</code> </th> <th> <code>Lu</code> </th> <th> <code>Iv</code> </th> <th> <code>Ih</code> </th> </tr><tr><th>  ุจุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ </th><td> <code>Tl</code> </td> <td> <code>Tu</code> </td> <td> <code>Tr</code> </td> <td> <code>Td</code> </td> <td> <code>Jd</code> </td> <td> <code>Jl</code> </td> <td> <code>Ju</code> </td> <td> <code>Jr</code> </td> <td> <code>Zv</code> </td> <td> <code>Zh</code> </td> <td> <code>O</code> </td> <td> <code>Sv</code> </td> <td> <code>Sh</code> </td> <td> <code>Lu</code> </td> <td> <code>Lr</code> </td> <td> <code>Ld</code> </td> <td> <code>Ll</code> </td> <td> <code>Ih</code> </td> <td> <code>Iv</code> </td> </tr><tr><th>  ูู ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ </th><td> <code>Tr</code> </td> <td> <code>Td</code> </td> <td> <code>Tl</code> </td> <td> <code>Tu</code> </td> <td> <code>Ju</code> </td> <td> <code>Jr</code> </td> <td> <code>Jd</code> </td> <td> <code>Jl</code> </td> <td> <code>Zv</code> </td> <td> <code>Zh</code> </td> <td> <code>O</code> </td> <td> <code>Sv</code> </td> <td> <code>Sh</code> </td> <td> <code>Ld</code> </td> <td> <code>Ll</code> </td> <td> <code>Lu</code> </td> <td> <code>Lr</code> </td> <td> <code>Ih</code> </td> <td> <code>Iv</code> </td> </tr></tbody></table></div><br>  ูููู ุชูุณูุฑ ุงูุงุณุชููุงู ูู ุงูุนูุงููู ุฃุนูุงู ููุคุดุฑ ุชุณูุณู ุฃู ููุชุงุญ ุชูุฒูุน.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุญููู <code>Tu</code> ุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ ูุนุทููุง <code>Tl</code> ุ ูุชุญููู <code>Tu</code> ุจุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ ูุนุทู <code>Tr</code> . <br><br>  ูุดูุฑ ุฌุฏูู ุงูุฏูุฑุงู ุชุณูุณูุงุช ูุนุฑูุงุช ุงูุงุชุฌุงู ุงููุฑุชุจุทุฉ ุจุงูุณูุณูุฉ ุ  ูุฐูู ุ ูููููุง ุชุนุฏูู ุงูุชุณุฌููุงุช ุจุญูุซ ูุญูู ุงูุฏูุฑุงู ููุนูุง ูุงุญุฏูุง ูู tetrimino ุฅูู ููุน ุขุฎุฑ.  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงูุชูููุฉ ููุงุณุชูุงุฏุฉ ูู ุตู ุบูุฑ ูุณุชุฎุฏู ูู ุฌุฏูู ุงูุชูุฌูู. <br><br>  ุฃูุงู ุฌุฏูู ุงูุงุณุชุฏุงุฑุฉ ูู ุฑูุฒ ูููุตูู ุฅููู. <br><br> <code>88AB: LDA $0042 <br> 88AD: STA $00AE ; originalOrientationID = orientationID; <br> <br> 88AF: CLC <br> 88B0: LDA $0042 <br> 88B2: ASL <br> 88B3: TAX ; index = 2 * orientationID; <br> <br> 88B4: LDA $00B5 <br> 88B6: AND #$80 ; if (not just pressed button A) { <br> 88B8: CMP #$80 ; goto aNotPressed; <br> 88BA: BNE $88CF ; } <br> <br> 88BC: INX <br> 88BD: LDA $88EE,X <br> 88C0: STA $0042 ; orientationID = rotationTable[index + 1]; <br> <br> 88C2: JSR $948B ; if (new orientation not valid) { <br> 88C5: BNE $88E9 ; goto restoreOrientationID; <br> ; } <br> <br> 88C7: LDA #$05 <br> 88C9: STA $06F1 ; play rotation sound effect; <br> 88CC: JMP $88ED ; return; <br> <br> aNotPressed: <br> <br> 88CF: LDA $00B5 <br> 88D1: AND #$40 ; if (not just pressed button B) { <br> 88D3: CMP #$40 ; return; <br> 88D5: BNE $88ED ; } <br> <br> 88D7: LDA $88EE,X <br> 88DA: STA $0042 ; orientationID = rotationTable[index]; <br> <br> 88DC: JSR $948B ; if (new orientation not valid) { <br> 88DF: BNE $88E9 ; goto restoreOrientationID; <br> ; } <br> <br> 88E1: LDA #$05 <br> 88E3: STA $06F1 ; play rotation sound effect; <br> 88E6: JMP $88ED ; return; <br> <br> restoreOrientationID: <br> <br> 88E9: LDA $00AE <br> 88EB: STA $0042 ; orientationID = originalOrientationID; <br> <br> 88ED: RTS ; return;</code> <br> <br>  ููุฏูุฑุงู ุจุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ ุ ูุชู ุทุฑุญ ููุฑุณ ุฌุฏูู ุงูุชุฏููุฑ ุจูุถุงุนูุฉ ูุนุฑู ุงูุงุชุฌุงู.  ุจุฅุถุงูุฉ 1 ุฅููู ูุญุตู ุนูู ูุคุดุฑ ุฏูุฑุงู ุจุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ. <br><br>  ูุชู ุชุฎุฒูู ุฅุญุฏุงุซูุงุช <code>x</code> ู <code>y</code> ููุนุฑู ุงูุงุชุฌุงู ูู tetrimino ุงูุญุงูู ูู ุงูุนูุงููู <code>$0040</code> ู <code>$0041</code> ู <code>$0042</code> ุนูู ุงูุชูุงูู. <br><br>  ูุณุชุฎุฏู ุงูููุฏ ูุชุบูุฑูุง ูุคูุชูุง ูุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุนุฑู ุงูุงุชุฌุงู.  ูู ููุช ูุงุญู ุ ุจุนุฏ ุชุบููุฑ ุงูุงุชุฌุงู ุ ูุชุญูู ุงูุฑูุฒ ูู ุฃู ุฌููุน ุงููุฑุจุนุงุช ุงูุฃุฑุจุนุฉ ุชูุน ุฏุงุฎู ุญุฏูุฏ ูุฌุงู ุงููุนุจ ููุง ูุชุฏุงุฎู ุฃู ูููุง ูุน ุงููุฑุจุนุงุช ุงููุงุฆูุฉ ุจุงููุนู (ููุน ุฑูุฒ ุงูุชุญูู ุนูุฏ <code>$948B</code> ุ ุฃุณูู ุฌุฒุก ุงูุฑูุฒ ุงูููุถุญ ุฃุนูุงู).  ุฅุฐุง ูุงู ุงูุงุชุฌุงู ุงูุฌุฏูุฏ ุบูุฑ ุตุญูุญ ุ ูุณูุชู ุงุณุชุนุงุฏุฉ ุงูุงุชุฌุงู ุงูุฃุตูู ุ ููุง ูุณูุญ ููุงุนุจ ุจุชุฏููุฑ ุงูุดูู. <br><br>  ูุน ุงูุนุฏ ุจุตููุจ ุ ุชุญุชูู ูุญุฏุฉ ุชุญูู NES ุนูู ุซูุงููุฉ ุฃุฒุฑุงุฑ ุ ูุชู ุชูุซูู <code>$00B6</code> ุจุช ุงูุนููุงู <code>$00B6</code> . <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code>7</code> </th> <th> <code>6</code> </th> <th> <code>5</code> </th> <th> <code>4</code> </th> <th> <code>3</code> </th> <th> <code>2</code> </th> <th> <code>1</code> </th> <th> <code>0</code> </th> </tr><tr><td>  ุฃ </td><td>  ุจ </td><td>  ุญุฏุฏ </td><td>  ุงุจุฏุฃ </td><td>  ูุฃุนูู </td><td>  ููุฃุณูู </td><td>  ุฅูู ุงููุณุงุฑ </td><td>  ุฅูู ุงููููู </td></tr></tbody></table></div><br>  ุนูู ุณุจูู ุงููุซุงู ุ <code>$00B6</code> ุนูู ุงููููุฉ <code>$81</code> ุจูููุง ูุญูู ุงููุงุนุจ A ู Left. <br><br>  ูู ูุงุญูุฉ ุฃุฎุฑู ุ <code>$00B5</code> ุนู ุงูุถุบุท ุนูู ุงูุฃุฒุฑุงุฑ ุ  ุงูุจุชุงุช <code>$00B5</code> ุตุญูุญุฉ ููุท ุฎูุงู ุชูุฑุงุฑ ูุงุญุฏ ูู ุญููุฉ ุงููุนุจุฉ (ุฅุทุงุฑ ูุงุญุฏ).  ูุณุชุฎุฏู ุงูุฑูุฒ <code>$00B5</code> ููุงุณุชุฌุงุจุฉ ููุถุบุท A ู B. ูุฌุจ ุชุญุฑูุฑ ูู ูุงุญุฏ ูููู ูุจู ุงุณุชุฎุฏุงูู ูุฑุฉ ุฃุฎุฑู. <br><br>  <code>$00B5</code> ู <code>$00B6</code> ุนุจุงุฑุฉ ุนู ูุฑุงูุง <code>$00F5</code> ู <code>$00F6</code> .  ูุณุชุฎุฏู ุงูููุฏ ุงูููุฌูุฏ ูู ุงูุฃูุณุงู ุงูุชุงููุฉ ูุฐู ุงูุนูุงููู ุจุงูุชุจุงุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅูุดุงุก Tetrimino </h3><br>  ูุชููู ููุนุจ Nintendo Tetris ูู ูุตูููุฉ ุจูุง 22 ุตููุง ู 10 ุฃุนูุฏุฉ ุจุญูุซ ูุชู ุฅุฎูุงุก ุงูุตููู ุงูุนููููู ูู ุงููุดุบู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6e1/0dc/33b/6e10dc33b40eaa5dec35bc6e7bf42c5f.png"></div><br>  ููุง ูู ููุถุญ ูู ุงูููุฏ ุฃุฏูุงู ุ ุนูุฏ ุฅูุดุงุก ุดุฎุตูุฉ Tetrimino ุ ูุชู ูุถุนู ุฏุงุฆููุง ูู ุฅุญุฏุงุซูุงุช <code>(5, 0)</code> ุงูููุนุจ. <br><br> <code>98BA: LDA #$00 <br> 98BC: STA $00A4 <br> 98BE: STA $0045 <br> 98C0: STA $0041 ; Tetrimino Y = 0 <br> 98C2: LDA #$01 <br> 98C4: STA $0048 <br> 98C6: LDA #$05 <br> 98C8: STA $0040 ; Tetrimino X = 5</code> <br> <br>  ููุฌุฏ ุฃุฏูุงู ูุตูููุฉ 5 ร 5 ูุชุฑุงูุจุฉ ุนูู ูุฐู ุงูููุทุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fcf/d3b/d94/fcfd3bd94514779d6e967770a1f216cb.png"></div><br>  ูุง ุชุญุชูู ุฃู ูู ูุตูููุงุช ุงูุฅูุดุงุก ุนูู ูุฑุจุนุงุช ููู ููุทุฉ ุงูุจุฏุงูุฉ.  ุฃู ุนูุฏ ุฅูุดุงุก tetrimino ุ ุชุตุจุญ ุฌููุน ูุฑุจุนุงุชูุง ุงูุฃุฑุจุนุฉ ูุฑุฆูุฉ ููุงุนุจ ุนูู ุงูููุฑ.  ููุน ุฐูู ุ ุฅุฐุง ูุงู ุงููุงุนุจ ุจุชุฏููุฑ ุงููุทุนุฉ ุจุณุฑุนุฉ ูุจู ุฃู ูุชุงุญ ููุง ุงูููุช ูุฅุณูุงุทูุง ุ ูุณูุชู ุฅุฎูุงุก ุฌุฒุก ูู ุงููุทุนุฉ ูุคูุชูุง ูู ุฃูู ุณุทุฑูู ูู ุงูููุนุจ. <br><br>  ุนุงุฏุฉ ูุนุชูุฏ ุฃู ุงููุนุจุฉ ุชูุชูู ุนูุฏูุง ูุตู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ุฅูู ุงูููุฉ.  ููู ูู ุงููุงูุน ุ ูุฐุง ููุณ ุตุญูุญูุง ุชูุงููุง.  ุชูุชูู ุงููุนุจุฉ ุนูุฏูุง ูุชุนุฐุฑ ุฅูุดุงุก ุงููุทุนุฉ ุงูุชุงููุฉ.  ุฃู ุ ูุจู ุธููุฑ ุงูุดูู ุ ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุฎูุงูุง ุงูุฃุฑุจุนุฉ ูู ุงูููุนุจ ุงูููุงุจูุฉ ูููุงูุน ูุฑุจุนุงุช tetrimino ุงูุชู ุชู ุฅูุดุงุคูุง ุฎุงููุฉ.  ูุฏ ูุชู ููู ุงูุดูู ูู ููุงูู ุจุญูุซ ูุธูุฑ ุฌุฒุก ูู ูุฑุจุนุงุชู ูู ุฎุทูุท ูุฑููุฉ ุจุดูู ุณูุจู ุ ููุง ุชูุชูู ุงููุนุจุฉ ุ  ููุน ุฐูู ุ ูู Nintendo Tetris ุ ุงูุฎุทูุท ุงูุณุงูุจุฉ ูู ุชุฌุฑูุฏ ูุชุนูู ููุท ุจู tetrimino ุงููุดุท.  ุจุนุฏ ุญุฌุจ ุงูุดูู (ูุตุจุญ ูุณุชูููุง) ุ ุชุชู ูุชุงุจุฉ ุงููุฑุจุนุงุช ูู ุณุทูุฑ ูู ุงูุตูุฑ ูุฃูุซุฑ ููุท ุฅูู ุงูุญูู.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ุงุชุถุญ ุฃู ุงูุฎุทูุท ุฐุงุช ุงูุฃุฑูุงู ุงูุณุงูุจุฉ ูุชู ูุณุญูุง ุชููุงุฆููุง ุจุนุฏ ุงูุญุธุฑ.  ูููู ูู ุงููุงูุน ุ ูุฅู ุงููุนุจุฉ ุจุจุณุงุทุฉ ูุง ุชุฎุฒู ูุฐู ุงูุจูุงูุงุช ุ ูุชูุทุน ุงูุฃุฌุฒุงุก ุงูุนูููุฉ ูู ุงูุฃุฑูุงู. <br><br>  ูุชู ุชุฎุฒูู ุงููุณุงุญุฉ ุงููุฑุฆูุฉ ูู ูุฌุงู ุงููุนุจ 20 ร 10 ุจุณุนุฑ <code>$0400</code> ุฎุทูุง ุจุฎุท ุ ููุญุชูู ูู ุจุงูุช ุนูู ูููุฉ ุชุฌุงูุจ ุงูุฎูููุฉ.  ููุดุงุฑ ุฅูู ุงูุฎูุงูุง ุงููุงุฑุบุฉ ุจุงูุจูุงุท <code>$EF</code> ุ ููู ูุฑุจุน ุฃุณูุฏ ุฎุงูุต. <br><br>  ุนูุฏ ุฅูุดุงุก ุดูู ุ ูุชู ุงุณุชุฎุฏุงู ุซูุงุซุฉ ุฌุฏุงูู ุจุญุซ.  ุฅุฐุง ูุงู ููุงู ูุนุฑู ุงุชุฌุงู ุชุนุณูู ุ ูุฅู ุงูุฌุฏูู ุนูุฏ <code>$9956</code> ูุนุทููุง ูุนุฑู ุงูุงุชุฌุงู ุนูุฏ ุฅูุดุงุก ุงูููุน ุงูููุงุจู ูู tetrimino. <br><br> <code>9956: 02 02 02 02 ; Td <br> 995A: 07 07 07 07 ; Jd <br> 995E: 08 08 ; Zh <br> 9960: 0A ; O <br> 9961: 0B 0B ; Sh <br> 9963: 0E 0E 0E 0E ; Ld <br> 9967: 12 12 ; Ih</code> <br> <br>  ูู ุงูุฃุณูู ุฅุธูุงุฑ ุฐูู ูู ุงูุฌุฏูู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code>Tu</code> </th> <th> <code>Tr</code> </th> <th> <code>Td</code> </th> <th> <code>Tl</code> </th> <th> <code>Jl</code> </th> <th> <code>Ju</code> </th> <th> <code>Jr</code> </th> <th> <code>Jd</code> </th> <th> <code>Zh</code> </th> <th> <code>Zv</code> </th> <th> <code>O</code> </th> <th> <code>Sh</code> </th> <th> <code>Sv</code> </th> <th> <code>Lr</code> </th> <th> <code>Ld</code> </th> <th> <code>Ll</code> </th> <th> <code>Lu</code> </th> <th> <code>Iv</code> </th> <th> <code>Ih</code> </th> </tr><tr><td> <code>Td</code> </td> <td> <code>Td</code> </td> <td> <code>Td</code> </td> <td> <code>Td</code> </td> <td> <code>Jd</code> </td> <td> <code>Jd</code> </td> <td> <code>Jd</code> </td> <td> <code>Jd</code> </td> <td> <code>Zh</code> </td> <td> <code>Zh</code> </td> <td> <code>O</code> </td> <td> <code>Sh</code> </td> <td> <code>Sh</code> </td> <td> <code>Ld</code> </td> <td> <code>Ld</code> </td> <td> <code>Ld</code> </td> <td> <code>Ld</code> </td> <td> <code>Ih</code> </td> <td> <code>Ih</code> </td> </tr></tbody></table></div><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุฑุจุท ุฌููุน ุงุชุฌุงูุงุช J ุจู <code>Jd</code> . <br><br>  ูุญุชูู ุงูุฌุฏูู ูู <code>$993B</code> ุนูู ููุน Tetrimino ููุนุฑู ุงูุงุชุฌุงู ุงููุญุฏุฏ. <br><br> <code>993B: 00 00 00 00 ; T <br> 993F: 01 01 01 01 ; J <br> 9943: 02 02 ; Z <br> 9945: 03 ; O <br> 9946: 04 04 ; S <br> 9948: 05 05 05 05 ; L <br> 994C: 06 06 ; I</code> <br> <br>  ููุชูุถูุญ ุ ุณุฃุนุฑุถ ูู ุดูุก ูู ุดูู ุฌุฏููู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code>Tu</code> </th> <th> <code>Tr</code> </th> <th> <code>Td</code> </th> <th> <code>Tl</code> </th> <th> <code>Jl</code> </th> <th> <code>Ju</code> </th> <th> <code>Jr</code> </th> <th> <code>Jd</code> </th> <th> <code>Zh</code> </th> <th> <code>Zv</code> </th> <th> <code>O</code> </th> <th> <code>Sh</code> </th> <th> <code>Sv</code> </th> <th> <code>Lr</code> </th> <th> <code>Ld</code> </th> <th> <code>Ll</code> </th> <th> <code>Lu</code> </th> <th> <code>Iv</code> </th> <th> <code>Ih</code> </th> </tr><tr><td> <code>T</code> </td> <td> <code>T</code> </td> <td> <code>T</code> </td> <td> <code>T</code> </td> <td> <code>J</code> </td> <td> <code>J</code> </td> <td> <code>J</code> </td> <td> <code>J</code> </td> <td> <code>Z</code> </td> <td> <code>Z</code> </td> <td> <code>O</code> </td> <td> <code>S</code> </td> <td> <code>S</code> </td> <td> <code>L</code> </td> <td> <code>L</code> </td> <td> <code>L</code> </td> <td> <code>L</code> </td> <td> <code>I</code> </td> <td> <code>I</code> </td> </tr></tbody></table></div><br>  ุณูููู ูุธุฑุฉ ุนูู ุฌุฏูู ุงูุจุญุซ ุงูุซุงูุซ ูู ุงููุณู ุงูุชุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงุฎุชูุงุฑ Tetrimino </h3><br>  ุชุณุชุฎุฏู Nintendo Tetris ุณุฌู ุฅุฒุงุญุฉ ุงูููุงุญุธุงุช ุงูุฎุทูุฉ 16 ุจุช (LFSR) ููููุดุฆ ููุฃุฑูุงู ุงูุนุดูุงุฆูุฉ ุงูุฒุงุฆูุฉ (PRNG) ูู ุชูููู ููุจููุงุชุดู.  ูุชู ุชุฎุฒูู ูููุฉ 16 ุจุช ุนูู ุฃููุง ููุงูุฉ ูุจูุฑุฉ ูู ุงูุนูุงููู <code>$0017</code> - <code>$0018</code> .  ูุชู ุงุณุชุฎุฏุงู ุฑูู ุชุนุณูู <code>$8988</code> . <br><br> <code>80BC: LDX #$89 <br> 80BE: STX $0017 <br> 80C0: DEX <br> 80C1: STX $0018</code> <br> <br>  ูุชู ุฅูุดุงุก ูู ุฑูู ุนุดูุงุฆู ุฒุงุฆู ูุงุญู ุนูู ุงููุญู ุงูุชุงูู: ูููุธุฑ ุฅูู ุงููููุฉ ุนูู ุฃููุง ุฑูู 17 ุจุช ุ ููุชู ุงูุญุตูู ุนูู ุงูุจุช ุงูุฃูุซุฑ ุฃูููุฉ ูู ุฎูุงู ุฅุฌุฑุงุก XOR ููุจุชูู 1 ู 9. ุซู ูุชู ุชุญููู ุงููููุฉ ุฅูู ุงููููู ุ ูุน ุชุฌุงูู ุงูุจุช ุงูุฃูู ุฃูููุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3a0/45d/3f2/3a045d3f2d64a94aa272aa15f351ac7a.png"></div><br>  ุชุญุฏุซ ูุฐู ุงูุนูููุฉ ุนูุฏ <code>$AB47</code> . <br><br> <code>AB47: LDA $00,X <br> AB49: AND #$02 <br> AB4B: STA $0000 ; extract bit 1 <br> <br> AB4D: LDA $01,X <br> AB4F: AND #$02 ; extract bit 9 <br> <br> AB51: EOR $0000 <br> AB53: CLC <br> AB54: BEQ $AB57 <br> AB56: SEC ; XOR bits 1 and 9 together <br> <br> AB57: ROR $00,X <br> AB59: INX <br> AB5A: DEY ; right shift <br> AB5B: BNE $AB57 ; shifting in the XORed value <br> <br> AB5D: RTS ; return</code> <br> <br>  ูู ุงููุซูุฑ ููุงูุชูุงู ุ ูููู ุชุนููู ูุนููุงุช ุงูุฑูุชูู ุฃุนูุงู ุจุญูุซ ูููู ููุธููุฉ ุงูุงุณุชุฏุนุงุก ุชุญุฏูุฏ ุนุฑุถ ุณุฌู ุงูุชุญูู ูุงูุนููุงู ุงูุฐู ูููู ุงูุนุซูุฑ ุนููู ูู ุงูุฐุงูุฑุฉ.  ููุน ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ููุณ ุงููุนููุงุช ูู ูู ููุงู ุ ูุฐูู ูููููุง ุฃู ููุชุฑุถ ุฃู ุงููุทูุฑูู ุงุณุชุนุงุฑูุง ูุฐุง ุงูุฑูุฒ ูู ููุงู ูุง. <br><br>  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูุฑุบุจูู ูู ุชุนุฏูู ุงูุฎูุงุฑุฒููุฉ ุ ููุฏ ูุชุจุชูุง ูู Java. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateNextPseudorandomNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bit1 = (value &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bit9 = (value &gt;&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> leftmostBit = bit1 ^ bit9; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (leftmostBit &lt;&lt; <span class="hljs-number"><span class="hljs-number">15</span></span>) | (value &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre> <br>  ููููู ุถุบุท ูู ูุฐุง ุงูุฑูุฒ ุฅูู ุณุทุฑ ูุงุญุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateNextPseudorandomNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((((value &gt;&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>) ^ ((value &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">1</span></span>)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">15</span></span>) | (value &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre> <br>  ูููุฏ ูุฐุง PRNG ุจุงุณุชูุฑุงุฑ ูุญุชููุฉ 32ุ767 ูููุฉ ูุฑูุฏุฉ ุ ุจุฏุกูุง ูู ูู ุฏูุฑุฉ ูู ุงูุจุฐุฑุฉ ุงูุฃุตููุฉ.  ูุฐุง ูุงุญุฏ ุฃูู ูู ูุตู ุงูุฃุฑูุงู ุงููุญุชููุฉ ุงูุชู ูููู ุงุญุชูุงุคูุง ูู ุงูุณุฌู ุ ููููู ุงุณุชุฎุฏุงู ุฃู ูููุฉ ูู ูุฐู ุงููุฌููุนุฉ ูุจุฐูุฑ.  ุชูุดุฆ ุงูุนุฏูุฏ ูู ุงูููู ุฎุงุฑุฌ ุงููุฌููุนุฉ ุณูุณูุฉ ุชุคุฏู ูู ุงูููุงูุฉ ุฅูู ุฑูู ูู ุงููุฌููุนุฉ.  ููุน ุฐูู ุ ุชุคุฏู ุจุนุถ ุงูุฃุฑูุงู ุงูุฃูููุฉ ุฅูู ุชุณูุณู ูุง ููุงุฆู ูู ุงูุฃุตูุงุฑ. <br><br>  ูุชูููู ุฃุฏุงุก PRNG ูุฐุง ุชูุฑูุจูุง ุ ููุช ุจุฅูุดุงุก ุชูุซูู ุฑุณููู ููููู ุงูุชู ููุดุฆูุง ุงุณุชูุงุฏูุง ุฅูู ุฌููุฉ ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RANDOM.ORG</a> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/254/477/bef/254477befbd14f540925a6d3169e5179.png"></div><br>  ุนูุฏ ุฅูุดุงุก ุงูุตูุฑุฉ ุ ุชู ุงุณุชุฎุฏุงู PRNG ููููุฏ ุฃุฑูุงู ุนุดูุงุฆู ุนุดูุงุฆู ุ ุจุฏูุงู ูู ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ 16 ุจุช.  ูุชู ุชูููู ูู ุจูุณู ุงุณุชูุงุฏูุง ุฅูู ูููุฉ ุงูุจุช 0. ุญุฌู ุงูุตูุฑุฉ 128 ร 256 ุ ุฃู ุฃููุง ุชุบุทู ุงูุชุณูุณู ุจุฃูููู. <br><br>  ูุจุตุฑู ุงููุธุฑ ุนู ุงูุฎุทูุท ุงูููุญูุธุฉ ุจุงููุงุฏ ุนูู ุงูุฌุงูุจูู ุงูุนููู ูุงููุณุงุฑ ุ ูุฅูู ูุจุฏู ุนุดูุงุฆููุง.  ูุง ุชุธูุฑ ุฃููุงุท ูุงุถุญุฉ. <br><br>  ุจุนุฏ ุงูุจุฏุก ุ ูููู PRNG ุจุชุญููู ุงูุณุฌู ุจุงุณุชูุฑุงุฑ ุ ููุนูู ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ูู ุงูุฅุทุงุฑ.  ูุง ูุญุฏุซ ูุฐุง ููุณ ููุท ุนูู ุดุงุดุฉ ุงูุจุฏุงูุฉ ูุดุงุดุงุช ุงููุงุฆูุฉ ุ ูููู ุฃูุถูุง ุนูุฏูุง ููุน tetrimino ุจูู ุนูููุงุช ุฅูุดุงุก ุงูุฃุดูุงู.  ุฃู ุฃู ุงูุดูู ุงูุฐู ูุธูุฑ ุจุนุฏ ุฐูู ูุนุชูุฏ ุนูู ุนุฏุฏ ุงูุฅุทุงุฑุงุช ุงูุชู ูุฃุฎุฐูุง ุงููุงุนุจ ููุถุน ุงูุดูู.  ูู ุงููุงูุน ุ ุชุนุชูุฏ ุงููุนุจุฉ ุนูู ุนุดูุงุฆูุฉ ุชุตุฑูุงุช ุงูุดุฎุต ุงูุฐู ูุชูุงุนู ูุนูุง. <br><br>  ุฃุซูุงุก ุฅูุดุงุก ุงูุดูู ุ ูุชู ุชูููุฐ ุงูุฑูุฒ ุนูู ุงูุนููุงู <code>$9907</code> ุ ูุงูุฐู ูุญุฏุฏ ููุน ุงูุดูู ุงูุฌุฏูุฏ. <br><br> <code>9907: INC $001A ; spawnCount++; <br> <br> 9909: LDA $0017 ; index = high byte of randomValue; <br> <br> 990B: CLC <br> 990C: ADC $001A ; index += spawnCount; <br> <br> 990E: AND #$07 ; index &amp;= 7; <br> <br> 9910: CMP #$07 ; if (index == 7) { <br> 9912: BEQ $991C ; goto invalidIndex; <br> ; } <br> <br> 9914: TAX <br> 9915: LDA $994E,X ; newSpawnID = spawnTable[index]; <br> <br> 9918: CMP $0019 ; if (newSpawnID != spawnID) { <br> 991A: BNE $9938 ; goto useNewSpawnID; <br> ; } <br> <br> invalidIndex: <br> <br> 991C: LDX #$17 <br> 991E: LDY #$02 <br> 9920: JSR $AB47 ; randomValue = generateNextPseudorandomNumber(randomValue); <br> <br> 9923: LDA $0017 ; index = high byte of randomValue; <br> <br> 9925: AND #$07 ; index &amp;= 7; <br> <br> 9927: CLC <br> 9928: ADC $0019 ; index += spawnID; <br> <br> 992A: CMP #$07 <br> 992C: BCC $9934 <br> 992E: SEC <br> 992F: SBC #$07 <br> 9931: JMP $992A ; index %= 7; <br> <br> 9934: TAX <br> 9935: LDA $994E,X ; newSpawnID = spawnTable[index]; <br> <br> useNewSpawnID: <br> <br> 9938: STA $0019 ; spawnID = newSpawnID; <br> <br> 993A: RTS ; return;</code> <br> <br>  ูู ุงูุนููุงู <code>$001A</code> ูุฎุฒู <code>$001A</code> ูุนุฏุฏ ุงูุฃุดูุงู ุงูุชู ุชู ุฅูุดุงุคูุง ุจุงุณุชุฎุฏุงู ุงูุทุงูุฉ.  ูุชู ุชูููุฐ ุฒูุงุฏุฉ ุงูุนุฏุงุฏ ุจูุงุณุทุฉ ุงูุณุทุฑ ุงูุฃูู ูู ุงูุฑูุชูู ุงููุฑุนู ุ ูุจูุง ุฃูู ุนุฏุงุฏ ุฃุญุงุฏู ุงูุจุงูุช ุ ุจุนุฏ ูู 256 ูุทุนุฉ ุ ูุฅูู ูุนูุฏ ุฅูู ุงูุตูุฑ ูุฑุฉ ุฃุฎุฑู.  ูุธุฑูุง ูุนุฏู ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏ ุจูู ุงูุฃูุนุงุจ ุ ูุฅู ุชุงุฑูุฎ ุงูุฃูุนุงุจ ุงูุณุงุจูุฉ ูุคุซุฑ ุนูู ุนูููุฉ ุงุฎุชูุงุฑ ุงูุดูู.  ูุฐู ุทุฑููุฉ ุฃุฎุฑู ุชุณุชุฎุฏู ูููุง ุงููุนุจุฉ ุงููุงุนุจ ููุตุฏุฑ ููุนุดูุงุฆูุฉ. <br><br>  ูููู ุงูุฑูุชูู ุจุชุญููู ุงูุจุงูุช ุงูุฃูุซุฑ ุฃูููุฉ ููุฑูู ุงูุฒุงุฆู ุงูุนุดูุงุฆู ( <code>$0017</code> ) ุฅูู ููุน tetrimino ููุณุชุฎุฏูู ููุคุดุฑ ููุฌุฏูู ุงูููุฌูุฏ ูู <code>$994E</code> ูุชุญููู ุงูููุน ุฅูู ูุนุฑู ุงุชุฌุงู ุฅูุดุงุก ุงูุดูู. <br><br> <code>994E: 02 ; Td <br> 994F: 07 ; Jd <br> 9950: 08 ; Zh <br> 9951: 0A ; O <br> 9952: 0B ; Sh <br> 9953: 0E ; Ld <br> 9954: 12 ; Ih</code> <br> <br>  ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุงูุชุญููู ุ ูุถุงู ุนุฏุงุฏ ุงูุฃุดูุงู ุงูุชู ุชู ุฅูุดุงุคูุง ุฅูู ุงูุจุงูุช ุงูุนููู.  ุซู ูุชู ุชุทุจูู ููุงุน ูุญูุธ 3 ุจุชุงุช ุฃูู ููุท.  ุฅุฐุง ูู ุชูู ุงููุชูุฌุฉ 7 ุ ููุฐุง ูู ุงูููุน ุงูุตุญูุญ ูู tetrimino ุ ูุฅุฐุง ูู ููู ููุณ ุงูุดูู ุงููุญุฏุฏ ุงูุณุงุจู ุ ูุณูุชู ุงุณุชุฎุฏุงู ุงูุฑูู ููุคุดุฑ ูู ุงูุฌุฏูู ูุฅูุดุงุก ุงูุฃุดูุงู.  ุฎูุงู ุฐูู ุ ูุชู ุฅูุดุงุก ุงูุฑูู ุงูุนุดูุงุฆู ุงูุฒุงุฆู ุงูุชุงูู ููุชู ุชุทุจูู ุงูููุงุน ููุญุตูู ุนูู 3 ุจุชุงุช ุฃูู ูู ุงูุจุงูุช ุงูุนููู ุ ุซู ูุถุงู ูุนุฑู ุงุชุฌุงู ุฅูุดุงุก ุงูุดูู ุงูุณุงุจู.  ุฃุฎูุฑูุง ุ ูุชู ุชูููุฐ ุนูููุฉ modulo ููุญุตูู ุนูู ุงูููุน ุงูุตุญูุญ ูู tetrimino ุ ูุงูุฐู ูุณุชุฎุฏู ููุคุดุฑ ูู ุฌุฏูู ุฅูุดุงุก ุงูุดูู. <br><br>  ูุธุฑูุง ูุฃู ุงููุนุงูุฌ ูุง ูุฏุนู ุงููุณูุฉ ูุน ุงูุจุงูู ุ ุชุชู ูุญุงูุงุฉ ูุฐุง ุงูุนุงูู ูู ุฎูุงู ุทุฑุญ 7 ุจุดูู ูุชูุฑุฑ ุญุชู ุชุตุจุญ ุงููุชูุฌุฉ ุฃูู ูู 7. ูุชู ุชุทุจูู ุงููุณูุฉ ูุน ุงูุจุงูู ุนูู ูุฌููุน ุงูุจุงูุช ุงูุนููู ูุน ุชุทุจูู ุงูููุงุน ูุนูู ูุนุฑู ุฅูุดุงุก ุงูุงุชุฌุงู ุงูุณุงุจู.  ุงูุญุฏ ุงูุฃูุตู ููููุฉ ูุฐุง ุงููุจูุบ ูู 25. ุฃู ุ ูุชุฎููุถู ุฅูู ูุง ุชุจูู ูู 4 ุ ูุทููุจ ููุท 3 ุชูุฑุงุฑุงุช. <br><br>  ูู ุจุฏุงูุฉ ูู ูุนุจุฉ ุ ุชุชู ุชููุฆุฉ ูุนุฑู ุงุชุฌุงู ุฅูุดุงุก ุงูุดูู ( <code>$0019</code> ) ุจูููุฉ <code>Tu</code> ( <code>$00</code> ).  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงููููุฉ ุจุณุนุฑ <code>$9928</code> ุฃุซูุงุก ุฅูุดุงุก ุงูุดูู ุงูุฃูู. <br><br>  ุนูุฏ ุงุณุชุฎุฏุงู ูุนุฑู ุงูุงุชุฌุงู ุงูุณุงุจู ูุฅูุดุงุก ุดูู ุ ุจุฏูุงู ูู ุงูููุน ุงูุณุงุจู ุ ูุถูู Tetrimino ุชุดููููุง ุ ูุฃู ููู ูุนุฑู ุงูุงุชุฌุงู ุบูุฑ ููุฒุนุฉ ุจุงูุชุณุงูู.  ูุธูุฑ ูุฐุง ูู ุงูุฌุฏูู: <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  00 ุฏููุงุฑ </th><th> <code>$02</code> </th> <th> <code>$07</code> </th> <th> <code>$08</code> </th> <th> <code>$0A</code> </th> <th> <code>$0B</code> </th> <th> <code>$0E</code> </th> <th> <code>$12</code> </th> </tr><tr><th>  0 </th><td>  2 </td><td>  0 </td><td>  1 </td><td>  3 </td><td>  4 </td><td>  0 </td><td>  4 </td></tr><tr><th>  1 </th><td>  3 </td><td>  1 </td><td>  2 </td><td>  4 </td><td>  5 </td><td>  1 </td><td>  5 </td></tr><tr><th>  2 </th><td>  4 </td><td>  2 </td><td>  3 </td><td>  5 </td><td>  6 </td><td>  2 </td><td>  6 </td></tr><tr><th>  3 </th><td>  5 </td><td>  3 </td><td>  4 </td><td>  6 </td><td>  0 </td><td>  3 </td><td>  0 </td></tr><tr><th>  4 </th><td>  6 </td><td>  4 </td><td>  5 </td><td>  0 </td><td>  1 </td><td>  4 </td><td>  1 </td></tr><tr><th>  5 </th><td>  0 </td><td>  5 </td><td>  6 </td><td>  1 </td><td>  2 </td><td>  5 </td><td>  2 </td></tr><tr><th>  6 </th><td>  1 </td><td>  6 </td><td>  0 </td><td>  2 </td><td>  3 </td><td>  6 </td><td>  3 </td></tr><tr><th>  7 </th><td>  2 </td><td>  0 </td><td>  1 </td><td>  3 </td><td>  4 </td><td>  0 </td><td>  4 </td></tr></tbody></table></div><br>  ุชุญุชูู ูู ุฎููุฉ ุนูู ููุน tetrimino ุ ูุชู ุญุณุงุจู ุนู ุทุฑูู ุฅุถุงูุฉ ูุนุฑู ุงูุงุชุฌุงู ููุดูู ุงูุฐู ุชู ุฅูุดุงุคู (ุงูุนููุฏ) ุฅูู ูููุฉ 3 ุจุช (ุตู) ุ ุซู ุชุทุจูู ุจุงูู ุงููุณูุฉ ุนูู 7 ุนูู ุงููุฌููุน. ูุญุชูู ูู ุตู ุนูู ูุณุฎ ููุฑุฑุฉ ุ ูุฃู <code>$07</code> ู <code>$0E</code> ุจุงูุชุณุงูู ุจููุฏุงุฑ 7 ุ ูู ุญูู ุฃู <code>$0B</code> ู <code>$12</code> ูุฏููู ุฑุตูุฏ ูุดุชุฑู.  ุงูุฎุทุงู 0 ู 7 ูุชูุงุซูุงู ูุฃูููุง ุนูู ูุณุงูุฉ 7. <br><br>  ููุงู 56 ูุฌููุนุฉ ุฅุฏุฎุงู ููููุฉ ุ ูุฅุฐุง ุชู ุชูุฒูุน ุฃููุงุน tetrimino ุงููุงุชุฌุฉ ุจุงูุชุณุงูู ุ ููููููุง ุฃู ูุชููุน ุฃูู ูู ุงูุฌุฏูู ุฃุนูุงู ุ ูุฌุจ ุฃู ูุธูุฑ ูู ููุน 8 ูุฑุงุช ุจุงูุถุจุท.  ูููู ููุง ูู ููุถุญ ุฃุฏูุงู ุ ููุณ ูุฐุง ูู ุงูุญุงู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุชุจ </th><th>  ุงูุชุฑุฏุฏ </th></tr><tr><td>  ุช </td><td>  9 </td></tr><tr><td>  ู </td><td>  8 </td></tr><tr><td>  ุถ </td><td>  8 </td></tr><tr><td>  ูุง </td><td>  8 </td></tr><tr><td>  ู </td><td>  9 </td></tr><tr><td>  ูุงู </td><td>  7 </td></tr><tr><td>  ุฃูุง </td><td>  7 </td></tr></tbody></table></div><br>  ุชุธูุฑ T ู S ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ู L ู I - ูู ูุซูุฑ ูู ุงูุฃุญูุงู.  ูููู ูุง ูุชู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูููุญุฑูุฉ ุจุงุณุชุฎุฏุงู ูุนุฑู ุงูุงุชุฌุงู ูู ูู ูุฑุฉ ูุชู ุงุณุชุฏุนุงุก ุฑูุชูู. <br><br>  ุงูุชุฑุถ ุฃู PRNG ูุฎูู ุณูุณูุฉ ูู ุงูููู ุงูุฅุญุตุงุฆูุฉ ุงูุฅุญุตุงุฆูุฉ ุงูููุฒุนุฉ ุจุดูู ููุญุฏ.  ูุฐุง ูู ุงููุงูุน ุงูุชุฑุงุถ ุนุงุฏู ุ ุจุงููุธุฑ ุฅูู ููููุฉ ูุญุงููุฉ ุงููุนุจุฉ ุงูุญุตูู ุนูู ุงูุนุดูุงุฆูุฉ ุงูุตุญูุญุฉ ูู ุชุตุฑูุงุช ุงููุงุนุจ.  ูู ุชุคุซุฑ ุฅุถุงูุฉ ุนุฏุฏ ุงูุฃุฑูุงู ุงูุชู ุชู ุฅูุดุงุคูุง ุฅูู ุงูุนููุงู <code>$990C</code> ุนูู ุงูุชูุฒูุน ุ ูุฃู ุงูุฑูู ูุฒุฏุงุฏ ุจุงูุชุณุงูู ุจูู ุงูููุงููุงุช.  ูุดุจู ุงุณุชุฎุฏุงู ููุงุน ุงูุจุช ุจุณุนุฑ <code>$990E</code> ุชุทุจูู ุงููุณูุฉ ุนูู 8 ูุน ุงูุจุงูู ุ ููู ูุง ูุง ูุคุซุฑ ุฃูุถูุง ุนูู ุงูุชูุฒูุน.  ูุฐูู ุ ูุฅู ุงูุชุญูู ูู <code>$9910</code> ูุฐูุจ ุฅูู <code>invalidIndex</code> ูู 1/8 ูู ุฌููุน ุงูุญุงูุงุช.  ูุงุญุชูุงู ุงูุถุฑุจ ุนูุฏ ุงูุชุญูู ูู ุงูุนููุงู <code>$9918</code> ุ ุญูุซ ุชุชู ููุงุฑูุฉ ุงูุฑูู ุงููุฎุชุงุฑ ุญุฏูุซูุง ูุน ุงูุดูู ุงูุณุงุจู ุ ูู 7/8 ุ ูุน ุงุญุชูุงู ุตุฏูุฉ 1/7.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐุง ูุนูู ุฃู ููุงู ุงููุฒูุฏ ูู ุงุญุชูุงู </font></font><code>7/8 ร 1/7 = 1/8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ูููู ูู </font></font><code>invalidIndex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุจุดูู ุนุงู ุ ููุงู ุงุญุชูุงู ุจูุณุจุฉ 25 ูช ูุงุณุชุฎุฏุงู ุฑูุฒ ููุญุฑู ู 75 ูช ุงุญุชูุงู ุงุณุชุฎุฏุงู ุฑูุฒ ูุญุฏุฏ Tetrimino ุจุงูุชุณุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฌููุนุฉ ููููุฉ ูู 224 tetriminos ุ ูููู ุงูุชููุน ุงูุฑูุงุถู 32 ุญุงูุฉ ููู ููุน. </font><font style="vertical-align: inherit;">ููู ูู ุงููุงูุน ุ ููุดุฆ ุงูููุฏ ุงูุชูุฒูุน ุงูุชุงูู:</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุชุจ </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุฑุฏุฏ </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุช </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 33 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td><td>  32 </td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุถ </font></font></td><td>  32 </td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง </font></font></td><td>  32 </td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 33 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงู </font></font></td><td>  31 </td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูุง </font></font></td><td>  31 </td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐุง ูุนูู ุ ูุณุญ 90 ุฎุทูุง ูุงููุตูู ุฅูู ุงููุณุชูู 9 ุ ุณูุญุตู ุงููุงุนุจ ุนูู T ู S ุฅุถุงูููู ูุฃุฎุฑู ุฃูู L ู I ููุง ูู ูุชููุน ุฅุญุตุงุฆููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงุฎุชูุงุฑ Tetrimino ูุน ุงูุงุญุชูุงูุงุช ุงูุชุงููุฉ:</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุชุจ </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุงุญุชูุงู </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุช </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.73ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.29ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุถ </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.29ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.29ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.73ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 13.84ูช </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูุง </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 13.84ูช </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจุฏู ุฃูู ูู ุงูุจูุงู ุงูุฐู ูุดูุฑ ุฅูู ุฃู "ุงูุนุตุง ุงูุทูููุฉ" ูุง ุชุธูุฑ ุฃุจุฏูุง ุนูุฏ ุงูุญุงุฌุฉ ุ ููุงู ุฌุฒุก ูู ุงูุญูููุฉ (ุนูู ุงูุฃูู ููููุชูุฏู ุชุชุฑูุณ). </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tetrimino Shift </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ูููุชูุฏู ุชุชุฑูุณ Delift Auto Shift (DAS). </font><font style="vertical-align: inherit;">ูุคุฏู ุงูููุฑ ุนูู "ูุณุงุฑ" ุฃู "ูููู" ุฅูู ุชุญุฑูู ุฎููุฉ tetrimino ุนูู ุงูููุฑ ุฃููููุง. </font><font style="vertical-align: inherit;">ุฃุซูุงุก ุงูุถุบุท ุนูู ุฃุญุฏ ุฃุฒุฑุงุฑ ุงูุงุชุฌุงู ูุฐู ุ ุชุชุณุจุจ ุงููุนุจุฉ ูู ุชุบููุฑ ุงูุดูู ุชููุงุฆููุง ูู 6 ุฅุทุงุฑุงุช ูุน ุชุฃุฎูุฑ ุฃููู ูุจูุบ 16 ุฅุทุงุฑูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงูุชุญูู ูู ูุฐุง ุงูููุน ูู ุงูุญุฑูุฉ ุงูุฃูููุฉ ุจูุงุณุทุฉ ุงูุฑูุฒ ุงูููุฌูุฏ ูู ุงูุนููุงู </font></font><code>$89AE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููุง ูู ุงูุญุงู ูู ุฑูุฒ ุงูุชุฏููุฑ ุ ูุชู ุงุณุชุฎุฏุงู ูุชุบูุฑ ูุคูุช ููุง ูุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูุฅุญุฏุงุซูุงุช </font><font style="vertical-align: inherit;">ูู ุญุงูุฉ ูุง ุฅุฐุง ูุงู ุงูููุถุน ุงูุฌุฏูุฏ ุบูุฑ ุตุญูุญ. </font><font style="vertical-align: inherit;">ูุงุญุธ ุฃู ุงูุดูู ูููุนู ูู ุชุญุฑูู ุงููุทุนุฉ ุฃุซูุงุก ุถุบุท ุงููุงุนุจ ูุฃุณูู.</font></font><br><br> <code>89AE: LDA $0040 <br> 89B0: STA $00AE ; originalX = tetriminoX; <br> <br> 89B2: LDA $00B6 ; if (pressing down) { <br> 89B4: AND #$04 ; return; <br> 89B6: BNE $8A09 ; } <br> <br> 89B8: LDA $00B5 ; if (just pressed left/right) { <br> 89BA: AND #$03 ; goto resetAutorepeatX; <br> 89BC: BNE $89D3 ; } <br> <br> 89BE: LDA $00B6 ; if (not pressing left/right) { <br> 89C0: AND #$03 ; return; <br> 89C2: BEQ $8A09 ; } <br> <br> 89C4: INC $0046 ; autorepeatX++; <br> 89C6: LDA $0046 ; if (autorepeatX &lt; 16) { <br> 89C8: CMP #$10 ; return; <br> 89CA: BMI $8A09 ; } <br> <br> 89CC: LDA #$0A <br> 89CE: STA $0046 ; autorepeatX = 10; <br> 89D0: JMP $89D7 ; goto buttonHeldDown; <br> <br> resetAutorepeatX: <br> <br> 89D3: LDA #$00 <br> 89D5: STA $0046 ; autorepeatX = 0; <br> <br> buttonHeldDown: <br> <br> 89D7: LDA $00B6 ; if (not pressing right) { <br> 89D9: AND #$01 ; goto notPressingRight; <br> 89DB: BEQ $89EC ; } <br> <br> 89DD: INC $0040 ; tetriminoX++; <br> 89DF: JSR $948B ; if (new position not valid) { <br> 89E2: BNE $8A01 ; goto restoreX; <br> ; } <br> <br> 89E4: LDA #$03 <br> 89E6: STA $06F1 ; play shift sound effect; <br> 89E9: JMP $8A09 ; return; <br> <br> notPressingRight: <br> <br> 89EC: LDA $00B6 ; if (not pressing left) { <br> 89EE: AND #$02 ; return; <br> 89F0: BEQ $8A09 ; } <br> <br> 89F2: DEC $0040 ; tetriminoX--; <br> 89F4: JSR $948B ; if (new position not valid) { <br> 89F7: BNE $8A01 ; goto restoreX; <br> ; } <br> <br> 89F9: LDA #$03 <br> 89FB: STA $06F1 ; play shift sound effect; <br> 89FE: JMP $8A09 ; return; <br> <br> restoreX: <br> <br> 8A01: LDA $00AE <br> 8A03: STA $0040 ; tetriminoX = originalX; <br> <br> 8A05: LDA #$10 <br> 8A07: STA $0046 ; autorepeatX = 16; <br> <br> 8A09: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>x</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฑูู ุชุชุฑููููู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุฑุนุฉ ุงููุจูุท ุงูุชููุงุฆู ูู Tetrimino ูู ุฏุงูุฉ ูุฑูู ุงููุณุชูู. </font><font style="vertical-align: inherit;">ูุชู ุชุฑููุฒ ุงูุณุฑุนุงุช ุนูู ุฃููุง ุนุฏุฏ ุงูุฅุทุงุฑุงุช ุงูููุฏูุฉ ูููุฒูู ูู ุงูุฌุฏูู ุงูููุฌูุฏ ูู </font></font><code>$898E</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู NES ุชุนูู ุจุณุฑุนุฉ 60.0988 ุฅุทุงุฑูุง / ุซุงููุฉ ุ ููููู ุญุณุงุจ ุงููุชุฑุฉ ุจูู ุงูุณูุงูุงุช ูุงูุณุฑุนุฉ.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุณุชูู </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุทุงุฑุงุช ุงููุณุจ </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุชุฑุฉ (ุงููุณุจ) </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุณุฑุนุฉ (ุงูุฎูุงูุง / ุงูุฎูุงูุง) </font></font></th></tr><tr><td>  0 </td><td>  48 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0.799 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.25 </font></font></td></tr><tr><td>  1 </td><td>  43 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 715 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.40 </font></font></td></tr><tr><td>  2 </td><td>  38 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .632 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.58 </font></font></td></tr><tr><td>  3 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 33 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .549 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.82 </font></font></td></tr><tr><td>  4 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 28 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 466 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.15 </font></font></td></tr><tr><td>  5 </td><td>  23 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 383 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.61 </font></font></td></tr><tr><td>  6 </td><td>  18 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .300 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3.34 </font></font></td></tr><tr><td>  7 </td><td>  13 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .216 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4.62 </font></font></td></tr><tr><td>  8 </td><td>  8 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .133 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7.51 </font></font></td></tr><tr><td>  9 </td><td>  6 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10.02 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10-12 </font></font></td><td>  5 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .083 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12.02 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 13-15 </font></font></td><td>  4 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .067 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 15.05 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 16-18 </font></font></td><td>  3 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .050 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 03/20 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 19-28 </font></font></td><td>  2 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .033 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 30.05 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 29+ </font></font></td><td>  1 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0.017 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 60.10 </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู ุงูุฌุฏูู ุนูู ุฅุฌูุงูู 30 ุฅุฏุฎุงููุง. ุจุนุฏ ุงููุณุชูู 29 ุ ุชููู ูููุฉ ุฅุทุงุฑุงุช ุงููุจูุท ุฏุงุฆููุง 1. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฏุฏ ุตุญูุญ ูู ุฅุทุงุฑุงุช ุงููุจูุท ููุณ ุทุฑููุฉ ููุตูุฉ ููุบุงูุฉ ููุตู ุงูุณุฑุนุฉ. ููุง ูู ููุถุญ ูู ุงูุฑุณู ุงูุจูุงูู ุฃุฏูุงู ุ ุชุฒุฏุงุฏ ุงูุณุฑุนุฉ ุฃุถุนุงููุง ูุถุงุนูุฉ ูุน ูู ูุณุชูู. ูู ุงููุงูุน ุ ุงููุณุชูู 29 ุฃุณุฑุน ูุฑุชูู ูู ุงููุณุชูู 28.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ddd/18c/a29/ddd18ca2950f9055bd5f82108a4d3ddc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน 1 ุฅุทุงุฑ / ูุฒูู ุ ููุณ ูุฏู ุงููุงุนุจ ุฃูุซุฑ ูู 1/3 ูู ุงูุซุงููุฉ ููุถุน ุงูุฑูู ุ ูุจุนุฏ ุฐูู ุณูุจุฏุฃ ูู ุงูุชุญุฑู. ูุจุณุฑุนุฉ ุงููุจูุท ูุฐู ุ ูุง ุชุณูุญ DAS ููุฑูู ุจุงููุตูู ุฅูู ุญูุงู ุงูููุนุจ ุญุชู ูุชู ุชุซุจูุชู ูู ููุงูู ุ ููู ูุง ูุนูู ููุนุธู ุงููุงุณ ููุงูุฉ ุณุฑูุนุฉ ููุนุจุฉ. ููุน ุฐูู ุ ุชููู ุจุนุถ ุงููุงุนุจูู ุ ููุง ุณููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thor Akerlund</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูู ูุฒููุฉ DAS ูุน ุงูุงูุชุฒุงุฒ ุงูุณุฑูุน ููุฃุฒุฑุงุฑ ุงููุชูุงุทุนุฉ ( </font></font><code>D-pad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). ูู ุฑูุฒ ุงูููู ุงูููุถุญ ุฃุนูุงู ุ ูููู ููุงุญุธุฉ ุฃูู ุฃุซูุงุก ุชุญุฑูุฑ ุฒุฑ ุงูุงุชุฌุงู ุงูุฃููู ูู ุฎูุงู ุงูุฅุทุงุฑ ุ ููู ุงููููู ุชุญููู tetrimino ุนูุฏ ุงููุณุชููุงุช 29 ููุง ููู ุจูุตู ุงูุชุฑุฏุฏ. ูุฐุง ูู ุงูุญุฏ ุงูุฃูุตู ุงููุธุฑู ุ ูููู ุฃู ุงูุชุฒุงุฒ ููุฅุจูุงู ููู 3.75 ุงูุตูุงุจูุฑ / ุซุงููุฉ ูููู ุฃู ููุฒู ุงูุชุฃุฎูุฑ ุงูุฃุตูู ูู 16 ุฅุทุงุฑูุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุชุฒุงูู ุงููุณุจ ุงูุฃูุชููุงุชููู ุงูุฐู ูุชุญูู ููู ุงููุงุนุจ (ุจุงูุถุบุท ุนูู "ูุฃุณูู") ูุญุฏุซ ูู ุฅุทุงุฑ ูุงุญุฏ ุ ูุฅู ุงูุชุฃุซูุฑ ูุง ูุถูู. ูุคุฏู ุฃู ูู ูุฐูู ุงูุญุฏุซูู ุฃู ูููููุง ุฅูู ุงูุฎูุงุถ ุงูุดูู ุจููุฏุงุฑ ุฎููุฉ ูุงุญุฏุฉ ุจุงูุถุจุท ูู ูุฐุง ุงูุฅุทุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ููุทู ุงูุชุญูู ูู ุงูุฒูุงุฏ ูู </font></font><code>$8914</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฌุฏูู ุฅุทุงุฑ ุงููุจูุท ุชุญุช ุงูุชุณููุฉ </font><font style="vertical-align: inherit;">. ููุง ุฐูุฑ ุฃุนูุงู ุ ูู ุงููุณุชูู 29 ููุง ููู ุ ูุฅู ุงูุณุฑุนุฉ ุชุณุงูู ุจุงุณุชูุฑุงุฑ ูุตุฑุงุน / ุฅุทุงุฑ. </font><font style="vertical-align: inherit;">(ุงูุนููุงู </font><font style="vertical-align: inherit;">) ูุจุฏุฃ ุงููุจูุท ุนูุฏูุง ูุตู ุฅูู </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">ูุชู ุชูููุฐ </font><font style="vertical-align: inherit;">ุงูุฒูุงุฏุฉ </font><font style="vertical-align: inherit;">ูู ุนููุงู </font><font style="vertical-align: inherit;">ุฎุงุฑุฌ ุฌุฒุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐุง. ุฃุซูุงุก ุงููุจูุท ุงูุชููุงุฆู ุฃู ุงููุชุญูู ููู ุ ุชุชู ุฅุนุงุฏุฉ ุชุนูููู ุฅูู 0. </font><font style="vertical-align: inherit;">ุชุชู ุชููุฆุฉ </font><font style="vertical-align: inherit;">ุงููุชุบูุฑ </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">) ุจุงููููุฉ </font><font style="vertical-align: inherit;">(ุนูู ุงูุนููุงู</font></font><br><br> <code>8914: LDA $004E ; if (autorepeatY &gt; 0) { <br> 8916: BPL $8922 ; goto autorepeating; <br> ; } else if (autorepeatY == 0) { <br> ; goto playing; <br> ; } <br> <br> ; game just started <br> ; initial Tetrimino hanging at spawn point <br> <br> 8918: LDA $00B5 ; if (not just pressed down) { <br> 891A: AND #$04 ; goto incrementAutorepeatY; <br> 891C: BEQ $8989 ; } <br> <br> ; player just pressed down ending startup delay <br> <br> 891E: LDA #$00 <br> 8920: STA $004E ; autorepeatY = 0; <br> 8922: BNE $8939 <br> <br> playing: <br> <br> 8924: LDA $00B6 ; if (left or right pressed) { <br> 8926: AND #$03 ; goto lookupDropSpeed; <br> 8928: BNE $8973 ; } <br> <br> ; left/right not pressed <br> <br> 892A: LDA $00B5 <br> 892C: AND #$0F ; if (not just pressed only down) { <br> 892E: CMP #$04 ; goto lookupDropSpeed; <br> 8930: BNE $8973 ; } <br> <br> ; player exclusively just presssed down <br> <br> 8932: LDA #$01 <br> 8934: STA $004E ; autorepeatY = 1; <br> <br> 8936: JMP $8973 ; goto lookupDropSpeed; <br> <br> autorepeating: <br> <br> 8939: LDA $00B6 <br> 893B: AND #$0F ; if (down pressed and not left/right) { <br> 893D: CMP #$04 ; goto downPressed; <br> 893F: BEQ $894A ; } <br> <br> ; down released <br> <br> 8941: LDA #$00 <br> 8943: STA $004E ; autorepeatY = 0 <br> 8945: STA $004F ; holdDownPoints = 0 <br> 8947: JMP $8973 ; goto lookupDropSpeed; <br> <br> downPressed: <br> <br> 894A: INC $004E ; autorepeatY++; <br> 894C: LDA $004E <br> 894E: CMP #$03 ; if (autorepeatY &lt; 3) { <br> 8950: BCC $8973 ; goto lookupDropSpeed; <br> ; } <br> <br> 8952: LDA #$01 <br> 8954: STA $004E ; autorepeatY = 1; <br> <br> 8956: INC $004F ; holdDownPoints++; <br> <br> drop: <br> <br> 8958: LDA #$00 <br> 895A: STA $0045 ; fallTimer = 0; <br> <br> 895C: LDA $0041 <br> 895E: STA $00AE ; originalY = tetriminoY; <br> <br> 8960: INC $0041 ; tetriminoY++; <br> 8962: JSR $948B ; if (new position valid) { <br> 8965: BEQ $8972 ; return; <br> ; } <br> <br> ; the piece is locked <br> <br> 8967: LDA $00AE <br> 8969: STA $0041 ; tetriminoY = originalY; <br> <br> 896B: LDA #$02 <br> 896D: STA $0048 ; playState = UPDATE_PLAYFIELD; <br> 896F: JSR $9CAF ; updatePlayfield(); <br> <br> 8972: RTS ; return; <br> <br> lookupDropSpeed: <br> <br> 8973: LDA #$01 ; tempSpeed = 1; <br> <br> 8975: LDX $0044 ; if (level &gt;= 29) { <br> 8977: CPX #$1D ; goto noTableLookup; <br> 8979: BCS $897E ; } <br> <br> 897B: LDA $898E,X ; tempSpeed = framesPerDropTable[level]; <br> <br> noTableLookup: <br> <br> 897E: STA $00AF ; dropSpeed = tempSpeed; <br> <br> 8980: LDA $0045 ; if (fallTimer &gt;= dropSpeed) { <br> 8982: CMP $00AF ; goto drop; <br> 8984: BPL $8958 ; } <br> <br> 8986: JMP $8972 ; return; <br> <br> incrementAutorepeatY: <br> <br> 8989: INC $004E ; autorepeatY++; <br> 898B: JMP $8972 ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>lookupDropSpeed</code><font style="vertical-align: inherit;"></font><br><br> <code>fallTimer</code><font style="vertical-align: inherit;"></font><code>$0045</code><font style="vertical-align: inherit;"></font><code>dropSpeed</code><font style="vertical-align: inherit;"></font><code>$00AF</code><font style="vertical-align: inherit;"></font><code>fallTimer</code><font style="vertical-align: inherit;"></font><code>$8892</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>autorepeatY</code><font style="vertical-align: inherit;"></font><code>$004E</code><font style="vertical-align: inherit;"></font><code>$0A</code><font style="vertical-align: inherit;"></font><code>$8739</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ุงูุชู ุชููุณุฑ ุนูู ุฃููุง โ96. ุชุณุจุจ ุงูุญุงูุฉ ูู ุงูุจุฏุงูุฉ ุชุฃุฎูุฑูุง ุฃููููุง. ูุจูู ุฃูู Tetrimino ูุนูููุง ูู ุงูููุงุก ุนูุฏ ููุทุฉ ุงูุฅูุดุงุก ุญุชู </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุชูุน ุฅูู 0 ุ ุงูุฃูุฑ ุงูุฐู ูุณุชุบุฑู 1.6 ุซุงููุฉ. ููุน ุฐูู ุ ุนูุฏูุง ุชุถุบุท ูุฃุณูู ูู ูุฐู ุงููุฑุญูุฉ ุ ูุชู </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนููููุง ุนูู ุงูููุฑ ุฅูู 0. ููู ุงููุซูุฑ ููุงูุชูุงู ุฃูู ููููู ุชุญุฑูู ุงูุดูู ูุชุฏููุฑู ูู ูุฐู ุงููุฑุญูุฉ ูู ุงูุชุฃุฎูุฑ ุงูุฃููู ุฏูู ุฅูุบุงุฆู. </font><font style="vertical-align: inherit;">ูุชู ุชูููุฐ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฒูุงุฏุฉ </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุซูุงุก ุงูุถุบุท ุจุงุณุชูุฑุงุฑ. ุนูุฏูุง ูุตู ุฅูู 3 ุ ูุญุฏุซ ูุฒูู ูุชุญูู ููู ุงูุฅูุณุงู (ูุฒูู "ูุงุนู") ููุชู </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนูููู 1. ูุฐูู ุ ูุชุทูุจ ุงููุฒูู ุงูุฃููู ุงูุฃููู 3 ุฅุทุงุฑุงุช ุ ูููู ูุชู ุชูุฑุงุฑู ุจุนุฏ ุฐูู ูู ูู ุฅุทุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฒุฏุงุฏ ูู 0 ุฅูู 1 ููุท ุนูุฏูุง ุชุฏุฑู ุงููุนุจุฉ ุฃู ุงููุงุนุจ ูุฏ ูุงู ููุชู ุจุงูููุฑ ูุฃุณูู (ูู</font></font><code>$00B5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ูููู ูุง ูุนุชุฑู ุจุงุณุชูุฑุงุฑ. ูุฐุง ููู ูุฃูู ูุชู </font></font><code>autorepeatY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ ุชุนูููู ุฅูู 0 ุนูุฏ ุฅูุดุงุก Tetrimino (ุนูู ุงูุนููุงู </font></font><code>$98E8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ููุง ูุฎูู ููุฒุฉ ูููุฉ: ุฅุฐุง ูุงู ุงููุงุนุจ ููุณู ุจุชุฎููุถ ุงูุฑูู ูุชู ุญุธุฑู ุ ูุงุณุชูุฑ ูู ุงูุถุบุท ุนูู "ุฃุณูู" ุนูุฏ ุฅูุดุงุก ุงูุดูู ุงูุชุงูู ุ ูุงูุฐู ูุญุฏุซ ุบุงูุจูุง ุจูุณุชููุงุช ุนุงููุฉ ุ ุซู ูุฐุง ูู ูุคุฏู ุฅูู ูุฒูู ูุงุนู ููุฑูู ุงูุฌุฏูุฏ. ูููู ูุญุฏุซ ุฐูู ุ ูุฌุจ ุนูู ุงููุงุนุจ ุชุญุฑูุฑ "ูุฃุณูู" ุ ุซู ุงูุถุบุท ุนูู ุงูุฒุฑ ูุฑุฉ ุฃุฎุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ูุฒูุฏ ุงููุณุจ ุงููุทูู ุงููุญุชูู ูู ุงูููุงุท. </font></font><code>holdDownPoints</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$004F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ูุฒุฏุงุฏ ูุน ูู ูุจูุท ุ ูููู ุนูุฏ ุชุญุฑูุฑู ุ ุชุชู ุฅุนุงุฏุฉ ุชุนููู "Down" ุฅูู 0. ูุฐูู ุ ูุชุณุฌูู ุงูููุงุท ุ ูู ุงูุถุฑูุฑู ุฎูุถ tetrimino ุฅูู ุงูููู ุจุงุณุชุฎุฏุงู ูุฒูู ูุงุนู. ุงููุจูุท ุงููุงุนู ูุตูุฑ ุงููุฏู ุ ูุงูุฐู ูุฏ ูุญุฏุซ ูู ุทุฑูู ุงูุดูู ุ ูุง ูุคุซุฑ ุนูู ุงูููุงุท. ูุชู ุชุญุฏูุซ ุงูุญุณุงุจ ูู</font></font><code>$9BFE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููู ูุชู </font></font><code>holdDownPoints</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ ุชุนููููุง ุฅูู 0 ุจุนุฏ ุฐูู ุจูููู ุ ุนูู ุงูุนููุงู </font></font><code>$9C2F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุดูู ุ ุงูุฐู ูููุน ุงููุงุนุจ ูู ุงูููุงู ุจูุฒูู ูุงุนู ูุน ุงูุชุญูู ุงูุฃููู ููุดูู ุ ูุนูุฏ ูุฌููุนุฉ ุงูููุงุท. ูุฐุง ูุนูู ุฃู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูุจู ุชุซุจูุช ุงููุทุนุฉ ูู ููุงููุง ูุฌุจ ุฃู ุชููู "ูุฃุณูู". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุฐูุงุจ ุฅูู ุฃุณููุ </font></font><code>tetriminoY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$0041</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ูุชู ูุณุฎูุง ุฅูู </font></font><code>originalY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$00AE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). ุฅุฐุง ุชุจูู ุฃู ุงูููุถุน ุงูุฌุฏูุฏ ุงูุฐู ุชู ุฅูุดุงุคู ุจูุงุณุทุฉ ุงูุฒูุงุฏุฉ </font></font><code>tetriminoY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุบูุฑ ุตุญูุญ (ุฃู ุฃู ุงูุฑูู ุฅูุง ูุฏูุน ูู ุฎูุงู ุฃุฑุถูุฉ ุงูููุนุจ ุ ุฃู ูุชู ูุฑุถู ุนูู ุงููุฑุจุนุงุช ุงููุงุฆูุฉ ุจุงููุนู) ุ ูุฅู tetrimino ูุจูู ูู ุงูููุถุน ุงูุณุงุจู. ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุงุณุชุนุงุฏุชู</font></font><code>tetriminoY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุนุชุจุฑ ุงูุฑูู ูุณุฏูุฏ. </font><font style="vertical-align: inherit;">ููุฐุง ูุนูู ุฃู ุงูุชุฃุฎูุฑ ูุจู ุงูููู (ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุงูุฅุทุงุฑุงุช ุงูุชู ุชุชููุนูุง tetrimino ุ ููู ุชูุณู ูู ุงูููุงุก ูุจู ุงูููู) ูุณุงูู ุงูุชุฃุฎูุฑ ูู ุงููุจูุท. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุจ ุงูุฌุงูุฏ (ุงูุณููุท ุงูููุฑู) ุบูุฑ ูุฏุนูู ูู Nintendo Tetris.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฒูุงู ูุงูุชูุฑูุฑ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุชูู ูุชูุจ Nintendo Tetris ุงููุฏูู ุนูู ูุซุงู ุฒูู ูุตูุฑ: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f6f/4bb/647/f6f4bb647937094d3d68fae530b0bfd4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชููู ุงูุงูุฒูุงู ูู ุงูุชุญูู ุนูู ุทูู ุณุทุญ ุงูุฃุดูุงู ุงูุฃุฎุฑู ุฃู ุนูู ุทูู ุฃุฑุถูุฉ ุงูููุนุจ. </font><font style="vertical-align: inherit;">ูุนุงุฏุฉ ูุง ูุณุชุฎุฏู ูุฏูุน ุงูุฑูู ุชุญุช ูุฑุจุน ูุชุฏูู. </font><font style="vertical-align: inherit;">ูููู ุชูููุฐ ุงูุงูุฒูุงู ุญุชู ูุตู ูุคูุช ุงูุณููุท ุฅูู ุณุฑุนุฉ ุงููุจูุท ุ ูุจุนุฏ ุฐูู ุณูุชู ููู ุงูุดูู ูู ููุงูู. </font><font style="vertical-align: inherit;">ูุธูุฑ ูุซุงู ูุชุญุฑู ุฃุฏูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/efe/9f5/022/efe9f502248d4185409fc20db3a47647.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุชูุญ ูู ุงูุชูุฑูุฑ ุฏูุน ุงูุฃุดูุงู ุฅูู ุฃูุงูู ูุง ูููู ุงููุตูู ุฅูููุง ุจุฃู ุทุฑููุฉ ุฃุฎุฑู (ุงูุธุฑ ุฃุฏูุงู). </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c53/ca5/350/c53ca53509826b9f2c462c0290ffa9c9.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซู ุงูุงูุฒูุงู ุ ูุง ูููู ุงูุชูุฑูุฑ ุจุฏูู ุชุฃุฎูุฑ ุงูููู. </font><font style="vertical-align: inherit;">ูููู ุฃุจุนุฏ ูู ุฐูู ุ ูุฅู ุงูุชูุฑูุฑ ูุณุชุบู ุทุฑููุฉ ุชุนุงูู ุงููุนุจุฉ ูุน ุงูุฃุดูุงู. </font><font style="vertical-align: inherit;">ูุจู ุชุญุฑูู ุงูุดูู ุฃู ุชุฏููุฑู ุ ุชุชุญูู ุงููุนุจุฉ ูู ุฃูู ุจุนุฏ ุชุบููุฑ ุงูููุถุน ุ ุณุชููู ุฌููุน ูุฑุจุนุงุช tetrimino ูู ุฎูุงูุง ูุงุฑุบุฉ ุฏุงุฎู ุญุฏูุฏ ุงูููุนุจ. </font><font style="vertical-align: inherit;">ูุซู ูุฐุง ุงููุญุต ุ ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูุง ูููุน ุงูุฏูุฑุงู ูู ุฎูุงู ุงููุชู ุงูููููุกุฉ ุงููุฑูุจุฉ. </font><font style="vertical-align: inherit;">ููุง ูู ูุฐููุฑ ูู ูุณู ูุตู Tetrimino ุ ูุญุชูู ูู ุตู ูู ุฌุฏุงูู ุงูุชูุฌูู ุนูู 12 ุจุงูุช ุ </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุชู ุญุณุงุจ ุงูููุฑุณ ูู ูุฐุง ุงูุฌุฏูู ุนู ุทุฑูู ุถุฑุจ ูุนุฑู ุงูุงุชุฌุงู ูู tetrimino ุงููุดุท ูู 12. ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูุชู ุชูููุฐ ุฌููุน ุงููุถุงุนูุงุช ูู ุงูุฑูุชูู ุจุงุณุชุฎุฏุงู ุงูุชุญููุงุช ูุงูุฅุถุงูุงุช.</font></font><br><br> <code>948B: LDA $0041 <br> 948D: ASL <br> 948E: STA $00A8 <br> 9490: ASL <br> 9491: ASL <br> 9492: CLC <br> 9493: ADC $00A8 <br> 9495: ADC $0040 <br> 9497: STA $00A8 <br> <br> 9499: LDA $0042 <br> 949B: ASL <br> 949C: ASL <br> 949D: STA $00A9 <br> 949F: ASL <br> 94A0: CLC <br> 94A1: ADC $00A9 <br> 94A3: TAX ; index = 12 * orientationID; <br> 94A4: LDY #$00 <br> <br> 94A6: LDA #$04 <br> 94A8: STA $00AA ; for(i = 0; i &lt; 4; i++) { <br> <br> 94AA: LDA $8A9C,X ; squareY = orientationTable[index]; <br> 94AD: CLC <br> 94AE: ADC $0041 ; cellY = squareY + tetriminoY; <br> 94B0: ADC #$02 ; if (cellY &lt; -2 || cellY &gt;= 20) { <br> 94B2: CMP #$16 ; return false; <br> 94B4: BCS $94E9 ; } <br> <br> 94B6: LDA $8A9C,X <br> 94B9: ASL <br> 94BA: STA $00AB <br> 94BC: ASL <br> 94BD: ASL <br> 94BE: CLC <br> 94BF: ADC $00AB <br> 94C1: CLC <br> 94C2: ADC $00A8 <br> 94C4: STA $00AD <br> <br> 94C6: INX <br> 94C7: INX ; index += 2; <br> <br> 94C8: LDA $8A9C,X ; squareX = orientationTable[index]; <br> 94CB: CLC <br> 94CC: ADC $00AD <br> 94CE: TAY ; cellX = squareX + tetriminoX; <br> 94CF: LDA ($B8),Y ; if (playfield[10 * cellY + cellX] != EMPTY_TILE) { <br> 94D1: CMP #$EF ; return false; <br> 94D3: BCC $94E9 ; } <br> <br> 94D5: LDA $8A9C,X <br> 94D8: CLC <br> 94D9: ADC $0040 ; if (cellX &lt; 0 || cellX &gt;= 10) { <br> 94DB: CMP #$0A ; return false; <br> 94DD: BCS $94E9 ; } <br> <br> 94DF: INX ; index++; <br> 94E0: DEC $00AA <br> 94E2: BNE $94AA ; } <br> <br> 94E4: LDA #$00 <br> 94E6: STA $00A8 <br> 94E8: RTS ; return true; <br> <br> 94E9: LDA #$FF <br> 94EB: STA $00A8 <br> 94ED: RTS</code> <br> <br><font style="vertical-align: inherit;"></font><br><br> <code>index = (orientationID &lt;&lt; 3) + (orientationID &lt;&lt; 2); // index = 8 * orientationID + 4 * orientationID; <br> <br> (cellY &lt;&lt; 3) + (cellY &lt;&lt; 1) // 8 * cellY + 2 * cellY</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุคุฏู ูู ุชูุฑุงุฑ ููุฏูุฑุฉ ุฅูู ุชุบููุฑ ููุถุน tetrimino ูู ุฎูุงู ุงูุฅุญุฏุงุซูุงุช ุงููุณุจูุฉ ูุฃุญุฏ ุงููุฑุจุนุงุช ูู ุทุงููุฉ ุงูุชูุฌูู ููุญุตูู ุนูู ูููุน ุงูุฎููุฉ ุงูููุงุจู ูู ุงูููุนุจ. ุซู ุชุชุญูู ูู ุฃู ุฅุญุฏุงุซูุงุช ุงูุฎููุฉ ุฏุงุฎู ุญุฏูุฏ ุงูููุนุจ ุ ูุฃู ุงูุฎููุฉ ููุณูุง ูุงุฑุบุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุตู ุงูุชุนูููุงุช ุจุดูู ุฃูุถุญ ููููุฉ ุงูุชุญูู ูู ุชุจุงุนุฏ ุงูุฃุณุทุฑ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฎูุงูุง ูู ุงูุฎุทูุท ุงููุฑุฆูุฉ ุ ูุนุชุจุฑ ุงูุฑูุฒ ุงูุฎุทูู ุงููุฎูููู ููู ุงูููุนุจ ูููุงูุน ูุงููููุฉ ูููุฑุจุนุงุช ุฏูู ุงุณุชุฎุฏุงู ุดุฑุท ูุฑูุจ. ูุนูู ูุฐุง ูุฃูู ูู </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุงูููุฏ ุงูุฅุถุงูู ุ ุชููู</font></a><font style="vertical-align: inherit;"> ุงูุฃุฑูุงู ุงูุณุงูุจุฉ ุงูุชู ุชูุซููุง ุงููุชุบูุฑุงุช ุฃุญุงุฏูุฉ ุงูุจุงูุช ูุนุงุฏูุฉ ููููู ุงูุฃูุจุฑ ูู 127. ูู ูุฐู ุงูุญุงูุฉ ุ ุงููููุฉ ุงูุฏููุง </font><font style="vertical-align: inherit;">ูู โ2 ุ ูุงูุชู ูุชู ุชุฎุฒูููุง</font></font><br><br> <code>94AA: LDA $8A9C,X ; squareY = orientationTable[index]; <br> 94AD: CLC <br> 94AE: ADC $0041 ; cellY = squareY + tetriminoY; <br> 94B0: ADC #$02 ; if (cellY + 2 &gt;= 22) { <br> 94B2: CMP #$16 ; return false; <br> 94B4: BCS $94E9 ; }</code> <br> <br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>cellY</code><font style="vertical-align: inherit;"></font><code>$FE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(254 ุจุงูุชุฏููู ุงูุนุดุฑู). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุคุดุฑ ููุฏุงู ุงููุนุจ ูู ูุฌููุน </font></font><code>cellY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถุฑุจ 10 ู </font></font><code>cellX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููุน ุฐูู ุ ุนูุฏูุง ุชููู </font></font><code>cellY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">โ1 ( </font></font><code>$FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 255) ุฃู โ2 ( </font></font><code>$FE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 254) ุ ููุชุฌ ุงูููุชุฌ โ10 ( </font></font><code>$F6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 246) ู โ20 ( </font></font><code>$EC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 236). ูู ุงููุงุตู ุงูุฒููู ุ ูุง </font></font><code>cellX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ูููู ุฃูุซุฑ ูู 9 ุ ููุง ูุนุทู ูุคุดุฑูุง ุฃูุตู ูุฏุฑู 246 + 9 = 255 ุ ููุฐุง ุฃุจุนุฏ ุจูุซูุฑ ูู ููุงูุฉ ุงูููุนุจ. ููุน ุฐูู ุ ูุชู ุชููุฆุฉ ุงููุนุจุฉ </font></font><code>$0400</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$04FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูููุฉ </font></font><code>$EF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ูู </font><font style="vertical-align: inherit;">ูุฑุจุน </font><font style="vertical-align: inherit;">ูุงุฑุบ) ุ ูุฅูุดุงุก 56 ุจุงูุช ุฅุถุงููุฉ ูู ุงููุณุงุญุฉ ุงููุงุฑุบุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุบุฑูุจ ุฃู ุงูุงุฎุชูุงุฑ ุงููุงุตู</font></font><code>cellX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฅุฌุฑุงุคูุง ุจุนุฏ ูุญุต ุฎููุฉ ุงูููุนุจ. </font><font style="vertical-align: inherit;">ููููุง ุชุนูู ุจุดูู ุตุญูุญ ุจุฃู ุชุฑุชูุจ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุคุฏู ุงูุชุญูู ูู ุงููุงุตู ุงูุฒููู ุฅูู ุชุฌูุจ ุงูุญุงูุฉ ุงููุฑูุจุฉ ุ ููุง ูู ููุถุญ ูู ุงูุชุนููู ุฃุฏูุงู. </font><font style="vertical-align: inherit;">ุฃูุซูุฉ ุงูุชูุฑูุฑ ุงูููุถุญุฉ ุฃุฏูุงู ููููุฉ ุจุณุจุจ ุงูุทุฑููุฉ ุงูุชู ูุชุญูู ุจูุง ูุฐุง ุงูุฑูุฒ ูู ุงูููุงุถุน.</font></font><br><br> <code>94D5: LDA $8A9C,X <br> 94D8: CLC <br> 94D9: ADC $0040 ; if (cellX &gt;= 10) { <br> 94DB: CMP #$0A ; return false; <br> 94DD: BCS $94E9 ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/45f/c2d/dc0/45fc2ddc0d156d534aad4fd065b86aa4.gif"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/15f/185/0db/15f1850dbfca0b491498e8d81ab03877.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุง ูู ููุถุญ ุฃุฏูุงู ุ ููููู ุญุชู ุฅุฌุฑุงุก ุงูุฒูุงู ูุน ุงูุชูุฑูุฑ. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/08f/74c/c78/08f74cc7825cd53d5a8002b8e33c4612.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุณุชููุฏ ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ุจุดูู ูุงูู ูู ูุฏุฑุงุช ุงูุญุฑูุฉ ูู Nintendo Tetris ุ ุจูุง ูู ุฐูู ุงูุงูุฒูุงู ูุงูุชูุฑูุฑ. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุณุชูู 30 ููุง ููู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ุงููุตูู ุฅูู ุงููุณุชูู 30 ุ ูุจุฏู ุฃูู ุชู ุฅุนุงุฏุฉ ุชุนููู ุงููุณุชูู ุฅูู ุตูุฑ. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/feb/fee/b1f/febfeeb1faafda1a70f5da385c2276ac.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู ุงููุณุชูู 31 ูุธูุฑ ุฃู ุดูุฆูุง ุขุฎุฑ ูุญุฏุซ: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/26e/057/20c/26e05720ca15aa302a0b61e09498e5a0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฌุฏ ููู ุงููุณุชูู ุงููุนุฑูุถุฉ ูู ุงูุฌุฏูู ูู ุงูุนููุงู </font></font><code>$96B8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br> <code>96B8: 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ูุจูู ุฃุฏูุงูุ ุฃู ุฃูุฑ ูุฐุง ุงูุฌุฏูู ููุท ุจุญูุซ ุงูุจูุงุท ูุน </font></font><code>$00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู </font></font><code>$0F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฑููุฒ ูุฑููุฒุง </font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู </font></font><code>F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐุง ูุนูู ุฃูู ุนูุฏ ุนุฑุถ ุฑูู ุนุดุฑู ุฃู ุณุฏุงุณู ุนุดุฑู ุ ูุชู ุงุณุชุฎุฏุงู ูููุฉ ุงูุฑูู ููุณู ููุคุดุฑ ูุฌุฏูู ุงูููุท. ูู ุญุงูุชูุง ุ ูุชู ุชุฎุฒูู ููู ุงููุณุชูู ุนูู ุดูู ุนุดุฑู ูุฑูุฒ ุซูุงุฆู (BCD) ุ ูู ุนุงุจ ูู ูู ุจุงูุช ูู ุงูุชุณูุณู ูู ูููุฉ ุชุฌุงูุจ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e00/97a/713/e0097a713f629afaf73936d3192820e3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ูุจุฏู ุฃู ูุตููู ุงููุนุจุฉ ุงูุชุฑุถูุง ุฃู ูุง ุฃุญุฏ ุณููุฑ ุงููุณุชูู 29 ุ ูุจุงูุชุงูู ูุฑุฑูุง ุฅุฏุฑุงุฌ 30 ุฅุฏุฎุงููุง ููุท ูู ุงูุฌุฏูู. ุงูููู ุงููุนุฑูุถุฉ ุงูุบุฑูุจุฉ ูู ูุญุฏุงุช ุจุงูุช ูุฎุชููุฉ ุจุนุฏ ุงูุฌุฏูู. </font></font><code>$0044</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู </font><font style="vertical-align: inherit;">ุงุณุชุฎุฏุงู ุจุงูุช ูุงุญุฏ ููุท (ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">ููุฅุดุงุฑุฉ ุฅูู ุฑูู ุงููุณุชูู </font><font style="vertical-align: inherit;">ุ ููุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงููุนุจุฉ ุชุฏูุฑ ุจุจุทุก ุญูู ุงูููู 256 ุงูููุถุญุฉ ุฃุฏูุงู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code>00</code> </th> <th> <code>0</code> </th> <th> <code>1</code> </th> <th> <code>2</code> </th> <th> <code>3</code> </th> <th> <code>4</code> </th> <th> <code>5</code> </th> <th> <code>6</code> </th> <th> <code>7</code> </th> <th> <code>8</code> </th> <th> <code>9</code> </th> <th> <code>A</code> </th> <th> <code>B</code> </th> <th> <code>C</code> </th> <th> <code>D</code> </th> <th> <code>E</code> </th> <th> <code>F</code> </th> </tr><tr><th> <code>0</code> </th> <td> <code>00</code> </td> <td> <code>01</code> </td> <td> <code>02</code> </td> <td> <code>03</code> </td> <td> <code>04</code> </td> <td> <code>05</code> </td> <td> <code>06</code> </td> <td> <code>07</code> </td> <td> <code>08</code> </td> <td> <code>09</code> </td> <td> <code>10</code> </td> <td> <code>11</code> </td> <td> <code>12</code> </td> <td> <code>13</code> </td> <td> <code>14</code> </td> <td> <code>15</code> </td> </tr><tr><th> <code>1</code> </th> <td> <code>16</code> </td> <td> <code>17</code> </td> <td> <code>18</code> </td> <td> <code>19</code> </td> <td> <code>20</code> </td> <td> <code>21</code> </td> <td> <code>22</code> </td> <td> <code>23</code> </td> <td> <code>24</code> </td> <td> <code>25</code> </td> <td> <code>26</code> </td> <td> <code>27</code> </td> <td> <code>28</code> </td> <td> <code>29</code> </td> <td> <code>00</code> </td> <td> <code>0A</code> </td> </tr><tr><th> <code>2</code> </th> <td> <code>14</code> </td> <td> <code>1E</code> </td> <td> <code>28</code> </td> <td> <code>32</code> </td> <td> <code>3C</code> </td> <td> <code>46</code> </td> <td> <code>50</code> </td> <td> <code>5A</code> </td> <td> <code>64</code> </td> <td> <code>6E</code> </td> <td> <code>78</code> </td> <td> <code>82</code> </td> <td> <code>8C</code> </td> <td> <code>96</code> </td> <td> <code>A0</code> </td> <td> <code>AA</code> </td> </tr><tr><th> <code>3</code> </th> <td> <code>B4</code> </td> <td> <code>BE</code> </td> <td> <code>C6</code> </td> <td> <code>20</code> </td> <td> <code>E6</code> </td> <td> <code>20</code> </td> <td> <code>06</code> </td> <td> <code>21</code> </td> <td> <code>26</code> </td> <td> <code>21</code> </td> <td> <code>46</code> </td> <td> <code>21</code> </td> <td> <code>66</code> </td> <td> <code>21</code> </td> <td> <code>86</code> </td> <td> <code>21</code> </td> </tr><tr><th> <code>4</code> </th> <td> <code>A6</code> </td> <td> <code>21</code> </td> <td> <code>C6</code> </td> <td> <code>21</code> </td> <td> <code>E6</code> </td> <td> <code>21</code> </td> <td> <code>06</code> </td> <td> <code>22</code> </td> <td> <code>26</code> </td> <td> <code>22</code> </td> <td> <code>46</code> </td> <td> <code>22</code> </td> <td> <code>66</code> </td> <td> <code>22</code> </td> <td> <code>86</code> </td> <td> <code>22</code> </td> </tr><tr><th> <code>5</code> </th> <td> <code>A6</code> </td> <td> <code>22</code> </td> <td> <code>C6</code> </td> <td> <code>22</code> </td> <td> <code>E6</code> </td> <td> <code>22</code> </td> <td> <code>06</code> </td> <td> <code>23</code> </td> <td> <code>26</code> </td> <td> <code>23</code> </td> <td> <code>85</code> </td> <td> <code>A8</code> </td> <td> <code>29</code> </td> <td> <code>F0</code> </td> <td> <code>4A</code> </td> <td> <code>4A</code> </td> </tr><tr><th> <code>6</code> </th> <td> <code>4A</code> </td> <td> <code>4A</code> </td> <td> <code>8D</code> </td> <td> <code>07</code> </td> <td> <code>20</code> </td> <td> <code>A5</code> </td> <td> <code>A8</code> </td> <td> <code>29</code> </td> <td> <code>0F</code> </td> <td> <code>8D</code> </td> <td> <code>07</code> </td> <td> <code>20</code> </td> <td> <code>60</code> </td> <td> <code>A6</code> </td> <td> <code>49</code> </td> <td> <code>E0</code> </td> </tr><tr><th> <code>7</code> </th> <td> <code>15</code> </td> <td> <code>10</code> </td> <td> <code>53</code> </td> <td> <code>BD</code> </td> <td> <code>D6</code> </td> <td> <code>96</code> </td> <td> <code>A8</code> </td> <td> <code>8A</code> </td> <td> <code>0A</code> </td> <td> <code>AA</code> </td> <td> <code>E8</code> </td> <td> <code>BD</code> </td> <td> <code>EA</code> </td> <td> <code>96</code> </td> <td> <code>8D</code> </td> <td> <code>06</code> </td> </tr><tr><th> <code>8</code> </th> <td> <code>20</code> </td> <td> <code>CA</code> </td> <td> <code>A5</code> </td> <td> <code>BE</code> </td> <td> <code>C9</code> </td> <td> <code>01</code> </td> <td> <code>F0</code> </td> <td> <code>1E</code> </td> <td> <code>A5</code> </td> <td> <code>B9</code> </td> <td> <code>C9</code> </td> <td> <code>05</code> </td> <td> <code>F0</code> </td> <td> <code>0C</code> </td> <td> <code>BD</code> </td> <td> <code>EA</code> </td> </tr><tr><th> <code>9</code> </th> <td> <code>96</code> </td> <td> <code>38</code> </td> <td> <code>E9</code> </td> <td> <code>02</code> </td> <td> <code>8D</code> </td> <td> <code>06</code> </td> <td> <code>20</code> </td> <td> <code>4C</code> </td> <td> <code>67</code> </td> <td> <code>97</code> </td> <td> <code>BD</code> </td> <td> <code>EA</code> </td> <td> <code>96</code> </td> <td> <code>18</code> </td> <td> <code>69</code> </td> <td> <code>0C</code> </td> </tr><tr><th> <code>A</code> </th> <td> <code>8D</code> </td> <td> <code>06</code> </td> <td> <code>20</code> </td> <td> <code>4C</code> </td> <td> <code>67</code> </td> <td> <code>97</code> </td> <td> <code>BD</code> </td> <td> <code>EA</code> </td> <td> <code>96</code> </td> <td> <code>18</code> </td> <td> <code>69</code> </td> <td> <code>06</code> </td> <td> <code>8D</code> </td> <td> <code>06</code> </td> <td> <code>20</code> </td> <td> <code>A2</code> </td> </tr><tr><th> <code>B</code> </th> <td> <code>0A</code> </td> <td> <code>B1</code> </td> <td> <code>B8</code> </td> <td> <code>8D</code> </td> <td> <code>07</code> </td> <td> <code>20</code> </td> <td> <code>C8</code> </td> <td> <code>CA</code> </td> <td> <code>D0</code> </td> <td> <code>F7</code> </td> <td> <code>E6</code> </td> <td> <code>49</code> </td> <td> <code>A5</code> </td> <td> <code>49</code> </td> <td> <code>C9</code> </td> <td> <code>14</code> </td> </tr><tr><th> <code>C</code> </th> <td> <code>30</code> </td> <td> <code>04</code> </td> <td> <code>A9</code> </td> <td> <code>20</code> </td> <td> <code>85</code> </td> <td> <code>49</code> </td> <td> <code>60</code> </td> <td> <code>A5</code> </td> <td> <code>B1</code> </td> <td> <code>29</code> </td> <td> <code>03</code> </td> <td> <code>D0</code> </td> <td> <code>78</code> </td> <td> <code>A9</code> </td> <td> <code>00</code> </td> <td> <code>85</code> </td> </tr><tr><th> <code>D</code> </th> <td> <code>AA</code> </td> <td> <code>A6</code> </td> <td> <code>AA</code> </td> <td> <code>B5</code> </td> <td> <code>4A</code> </td> <td> <code>F0</code> </td> <td> <code>5C</code> </td> <td> <code>0A</code> </td> <td> <code>A8</code> </td> <td> <code>B9</code> </td> <td> <code>EA</code> </td> <td> <code>96</code> </td> <td> <code>85</code> </td> <td> <code>A8</code> </td> <td> <code>A5</code> </td> <td> <code>BE</code> </td> </tr><tr><th> <code>E</code> </th> <td> <code>C9</code> </td> <td> <code>01</code> </td> <td> <code>D0</code> </td> <td> <code>0A</code> </td> <td> <code>A5</code> </td> <td> <code>A8</code> </td> <td> <code>18</code> </td> <td> <code>69</code> </td> <td> <code>06</code> </td> <td> <code>85</code> </td> <td> <code>A8</code> </td> <td> <code>4C</code> </td> <td> <code>BD</code> </td> <td> <code>97</code> </td> <td> <code>A5</code> </td> <td> <code>B9</code> </td> </tr><tr><th> <code>F</code> </th> <td> <code>C9</code> </td> <td> <code>04</code> </td> <td> <code>D0</code> </td> <td> <code>0A</code> </td> <td> <code>A5</code> </td> <td> <code>A8</code> </td> <td> <code>38</code> </td> <td> <code>E9</code> </td> <td> <code>02</code> </td> <td> <code>85</code> </td> <td> <code>A8</code> </td> <td> <code>4C</code> </td> <td> <code>BD</code> </td> <td> <code>97</code> </td> <td> <code>A5</code> </td> <td> <code>A8</code> </td> </tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูู 20 ูููุฉ ุชุฑุชูุจูุฉ ูู ูู ุงููุงูุน ุฌุฏูู ุขุฎุฑ ูุฎุฒู ุงูุฅุฒุงุญุงุช ูู ุงูููุนุจ ููู ูู ุงูุตููู ุงูุนุดุฑูู. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ูุฌุงู ุงููุนุจ ูุจุฏุฃ </font><font style="vertical-align: inherit;">ููู ุณุทุฑ ูุญุชูู ุนูู 10 ุฎูุงูุง ุ ูุฅู ุนููุงู ุงูุฎููุฉ ุงูุนุดูุงุฆูุฉ ูู: </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุงููุนุงูุฌ ูุง ูุฏุนู ุงูุถุฑุจ ูุจุงุดุฑุฉ ุ ูุฅู ุฌุฏูู ุงูุจุญุซ ูุฐุง ูููุฑ ุทุฑููุฉ ุณุฑูุนุฉ ููุบุงูุฉ ููุญุตูู ุนูู ุงูููุชุฌ. </font><font style="vertical-align: inherit;">ูุดุบู ุงูุฌุฏูู ุงูููุงุจู 40 ุจุงูุช ุงูุชุงููุฉ. </font><font style="vertical-align: inherit;">ูุญุชูู ุนูู 20 ุนููุงููุง ุจุชูุณูู endian ูููููุง ููุงุณู 0 (ููุทูุฉ ุฐุงูุฑุฉ VRAM ุชุญุชูู ุนูู ููู ูุฑุจุนุงุช ุงูุฎูููุฉ). </font><font style="vertical-align: inherit;">ูู ูุดูุฑูู ุฅูู ุฎุทูุท ุชุนููุถ ุงูููุนุจ ุนูู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุงูุจุงูุช ุงููุชุจููุฉ ุงูุชู ุชุชููู ูููุง ููู ุงููุณุชูู ุงููุนุฑูุถุฉ ูู ุชุนูููุงุช.</font></font><br><br> <code>96D6: 00 ; 0 <br> 96D7: 0A ; 10 <br> 96D8: 14 ; 20 <br> 96D9: 1E ; 30 <br> 96DA: 28 ; 40 <br> 96DB: 32 ; 50 <br> 96DC: 3C ; 60 <br> 96DD: 46 ; 70 <br> 96DE: 50 ; 80 <br> 96DF: 5A ; 90 <br> 96E0: 64 ; 100 <br> 96E1: 6E ; 110 <br> 96E2: 78 ; 120 <br> 96E3: 82 ; 130 <br> 96E4: 8C ; 140 <br> 96E5: 96 ; 150 <br> 96E6: A0 ; 160 <br> 96E7: AA ; 170 <br> 96E8: B4 ; 180 <br> 96E9: BE ; 190</code> <br> <br><font style="vertical-align: inherit;"></font><code>$0400</code><font style="vertical-align: inherit;"></font><br><br> <code>$0400 + 10 * y + x</code> <br> <br><font style="vertical-align: inherit;"></font><br><br> <code>$0400 + [$96D6 + y] + x</code> <br> <br><font style="vertical-align: inherit;"></font><code>$06</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุตููู ูุงูุฅุญุตุงุฆูุงุช </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุดุบู ุนุฏุฏ ุงูุตููู ุงูููุชููุฉ ูุฅุญุตุงุกุงุช tetrimino 2 ุจุงูุช ููู ูููุง ูู ุงูุนูุงููู ุงูุชุงููุฉ. </font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนูุงููู </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููููุฉ </font></font></th></tr><tr><td> <code>0050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>0051</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฑุชุจ </font></font></td></tr><tr><td> <code>03F0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03F1</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุช </font></font></td></tr><tr><td> <code>03F2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03F3</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td></tr><tr><td> <code>03F4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03F5</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุถ </font></font></td></tr><tr><td> <code>03F6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03F7</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง </font></font></td></tr><tr><td> <code>03F8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03F9</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font></td></tr><tr><td> <code>03FA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03FB</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงู </font></font></td></tr><tr><td> <code>03FC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>03FD</code> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูุง </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ูุชู ุชุฎุฒูู ูุฐู ุงูููู ุนูู ุฃููุง BCDs ุตุบูุฑุฉ ูุนุจุฃุฉ ุฐุงุช 16 ุจุช. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูุธูุฑ ุนุฏุฏ ุงูุตููู ุฃุฏูุงู ุ ููู 123. ูุชู ุญุณุงุจ ูุญุฏุงุช ุงูุจุงูุช ูู ุงููููู ุฅูู ุงููุณุงุฑ ุจุญูุซ ูุชู ุชุฑุชูุจ ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ ุจุงูุชุฑุชูุจ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/4f4/68b/c0e/4f468bc0e6f22afe40d74f1711bad46e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ุงูุชุฑุถ ูุตููู ุงููุนุจุฉ ุฃูู ูู ุชููู ุฃู ูู ุงูููู ุฃูุจุฑ ูู 999. ูุฐูู ุ ูุนุงูุฌ ููุทู ุงูุนุฑุถ ุงูุจุงูุช ุงูุฃูู ุจุดูู ุตุญูุญ ุนูู ุฃูู BCD ูุนุจุฃ ุ ุญูุซ ูุชู ุงุณุชุฎุฏุงู ูู ูุถูุฉ ููููุฉ ุชุฌุงูุจ. </font><font style="vertical-align: inherit;">ููู ุงูุจุงูุช ุงูุซุงูู ุจุฃูููู ูุณุชุฎุฏู ูู ุงููุงูุน ูุฃุนูู ุฑูู ุนุดุฑู. </font><font style="vertical-align: inherit;">ุนูุฏูุง ุชูุชูู ุงูุฃุฑูุงู ุงูุณูููุฉ ูู </font></font><code>99</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font></font><code>00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุชุญุฏุซ ุงูุฒูุงุฏุฉ ุงูุนุงุฏูุฉ ููุจุงูุช ุงูุซุงูู. </font><font style="vertical-align: inherit;">ููุชูุฌุฉ ูุฐูู ุ ููุฑ ุงูุจุงูุช ุงูุซุงูู ุนุจุฑ 256 ูุทุนุฉ. </font><font style="vertical-align: inherit;">ูุธูุฑ ูุซุงู ุนูู ุฐูู ุฃุฏูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6c7/b4a/d52/6c7b4ad52a59641b8c2e04971415f0df.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ูุณุญ ุงูุฎุท ุ ูุชู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ูุฒูุงุฏุฉ ุนุฏุฏ ุงูุตููู. </font><font style="vertical-align: inherit;">ูุชู ุฅุฌุฑุงุก ุงููุญูุตุงุช ููุฃุฑูุงู ุงููุณุทู ูุงูุณููู ุจุญูุซ ุชุธู ุจูู 0 ู 9. ูููู ูููู ุฒูุงุฏุฉ ุงูุฑูู ุงูุนููู ุจุดูู ูุง ููุงุฆู. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงูุฑูู ุงูุณููู ุจุนุฏ ุฒูุงุฏุฉ ุนุฏุฏ ุงูุตููู ูู 0 ุ ููุฐุง ูุนูู ุฃู ุงููุงุนุจ ูุฏ ุฃููู ููุชู ูุฌููุนุฉ ูู 10 ุฃุณุทุฑ ูุชุญุชุงุฌ ุฅูู ุฒูุงุฏุฉ ุฑูู ุงููุณุชูู. ููุง ุชุฑู ูู ุงูููุฏ ุฃุฏูุงู ุ ูุชู ุฅุฌุฑุงุก ูุญุต ุฅุถุงูู ูุจู ุฒูุงุฏุฉ ุงููุณุชูู. </font><font style="vertical-align: inherit;">ูุฑุชุจุท ุงููุญุต ุงูุซุงูู ุจูุณุชูู ุงูุฏุฎูู ุงููุญุฏุฏ. ููุงูุชูุงู ุฅูู ูุณุชูู ูุนูู </font><font style="vertical-align: inherit;">ุ ุจุบุถ ุงููุธุฑ ุนู ุงููุณุชูู ุงูุฃููู ุ ูุฌุจ ุนูู ุงููุงุนุจ ูุณุญ</font></font><br><br> <code>9BA8: INC $0050 ; increment middle-lowest digit pair <br> 9BAA: LDA $0050 <br> 9BAC: AND #$0F <br> 9BAE: CMP #$0A ; if (lowest digit &gt; 9) { <br> 9BB0: BMI $9BC7 <br> 9BB2: LDA $0050 <br> 9BB4: CLC <br> 9BB5: ADC #$06 ; set lowest digit to 0, increment middle digit <br> 9BB7: STA $0050 <br> 9BB9: AND #$F0 <br> 9BBB: CMP #$A0 ; if (middle digit &gt; 9) { <br> 9BBD: BCC $9BC7 <br> 9BBF: LDA $0050 <br> 9BC1: AND #$0F <br> 9BC3: STA $0050 ; set middle digit to 0 <br> 9BC5: INC $0051 ; increment highest digit <br> ; } <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <code>9BC7: LDA $0050 <br> 9BC9: AND #$0F <br> 9BCB: BNE $9BFB ; if (lowest digit == 0) { <br> 9BCD: JMP $9BD0 <br> <br> 9BD0: LDA $0051 <br> 9BD2: STA $00A9 <br> 9BD4: LDA $0050 <br> 9BD6: STA $00A8 ; copy digits from $0050-$0051 to $00A8-$00A9 <br> <br> 9BD8: LSR $00A9 <br> 9BDA: ROR $00A8 <br> 9BDC: LSR $00A9 <br> 9BDE: ROR $00A8 <br> 9BE0: LSR $00A9 <br> 9BE2: ROR $00A8 ; treat $00A8-$00A9 as a 16-bit packed BCD value <br> 9BE4: LSR $00A9 ; and right-shift it 4 times <br> 9BE6: ROR $00A8 ; this leaves the highest and middle digits in $00A8 <br> <br> 9BE8: LDA $0044 <br> 9BEA: CMP $00A8 ; if (level &lt; [$00A8]) { <br> 9BEC: BPL $9BFB <br> <br> 9BEE: INC $0044 ; increment level <br> ; } <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>X</code><font style="vertical-align: inherit;"></font><code>10X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎุทูุท. ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุจุฏุฃ ุงููุงุนุจ ูู ุงููุณุชูู 5 ุ ูุณูุจูู ุนููู ุญุชู ููุณุญ 60 ุฎุทูุง ุ ูุจุนุฏ ุฐูู ุณูุฐูุจ ุฅูู ุงููุณุชูู 6. ุจุนุฏ ุฐูู ุ ุณูุคุฏู ูู 10 ุฎุทูุท ุฅุถุงููุฉ ุฅูู ุฒูุงุฏุฉ ูู ุฑูู ุงููุณุชูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฅุฌุฑุงุก ูุฐุง ุงููุญุต ุ ูุชู ูุณุฎ ูููุฉ ุงูุตููู ุงููุนุจุฃุฉ ูู </font></font><code>$0050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$0051</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font></font><code>$00A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$00A9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุซู ูุชู ุชุญููู ุงููุณุฎุฉ ุฅูู ุงููููู 4 ูุฑุงุช ุ ูุงูุชู ุจุงููุณุจุฉ ูู BCD ูุนุจุฃุฉ ุชุดุจู ุงููุณูุฉ ุนูู 10. ูุชู ุชุฌุงูู ุฃุตุบุฑ ุฑูู ุนุดุฑู ุ ููุชู ุชุญููู ุงูุฃุฑูุงู ุงูุฃุนูู ูุงูุฃูุณุท ุจููุถุน ูุงุญุฏ ุ ููุง ูุคุฏู ุฅูู ุงูุญููุงุช </font></font><code>$00A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8e4/c0b/2e7/8e4c0b2e7d53a33d54cea8717a872a65.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูู ุงูุนููุงู ุ </font></font><code>$9BEA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชู ููุงุฑูุฉ ุฑูู ุงููุณุชูู ูุจุงุดุฑุฉ ูุน ุงููููุฉ ุงููุนุจุฃุฉ ูู BCD </font></font><code>$00A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุง ููุฌุฏ ุจุญุซ ูู ุงูุฌุฏูู ูุชุญููู ูููุฉ BCD ุฅูู ุนุดุฑู ุ ููุฐุง ุฎุทุฃ ูุงุถุญ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงูุตูุฑุฉ ุฃุนูุงู ุ ูุฌุจ ููุงุฑูุฉ ุฑูู ุงููุณุชูู ุจู </font></font><code>$12</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(18 ุจุงูุฃุฑูุงู ุงูุนุดุฑูุฉ) ุ ูููุณ 12. ูุฐูู ุ ุฅุฐุง ูุฑุฑ ุงููุงุนุจ ุงูุจุฏุก ูู ุงููุณุชูู 17 ุ ูุณูุฐูุจ ุงููุณุชูู ุจุงููุนู ุฅูู 120 ุตููุง ุ ูุฃู 18 ุฃูุซุฑ ูู 17. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุถุญ ุงูุฌุฏูู ุงูุนุฏุฏ ุงููุชููุน ููุตููู ุงููุทููุจุฉ ููุงูุชูุงู ูู ูู ูุณุชูู ุฃููู. </font><font style="vertical-align: inherit;">ุชุชู ููุงุฑูุชู ุจูุง ูุญุฏุซ ุจุงููุนู ุจุณุจุจ ุฎุทุฃ.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code> </code> </th> <td>  0 </td><td>  1 </td><td>  2 </td><td>  3 </td><td>  4 </td><td>  5 </td><td>  6 </td><td>  7 </td><td>  8 </td><td>  9 </td><td>  10 </td><td>  11 </td><td>  12 </td><td>  13 </td><td>  14 </td><td>  15 </td><td>  16 </td><td>  17 </td><td>  18 </td><td>  19 </td></tr><tr><th> <code>  </code> </th> <td>  10 </td><td>  20 </td><td>  30 </td><td>  40 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 50 </font></font></td><td>  60 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 70 </font></font></td><td>  80 </td><td>  90 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td>  110 </td><td>  120 </td><td>  130 </td><td>  140 </td><td>  150 </td><td>  160 </td><td>  170 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 180 </font></font></td><td>  190 </td><td>  200 </td></tr><tr><th> <code>    </code> </th> <td>  10 </td><td>  20 </td><td>  30 </td><td>  40 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 50 </font></font></td><td>  60 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 70 </font></font></td><td>  80 </td><td>  90 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 100 </font></font></td><td>  110 </td><td>  120 </td><td>  130 </td><td>  140 </td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุจูุบ ุงููุชููุน ูู ููุณู ุตุญูุญ ุจุงููุณุจุฉ ูููุณุชููุงุช ุงูุฃูููุฉ 0-9. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ุงูุตุฏูุฉ ููุณุชูู ุงูุฏุฎูู 9 ุนุดูุงุฆู. </font><font style="vertical-align: inherit;">10-15 ูุฐูุจ ุฃูุถูุง ุฅูู ุงููุณุชูู ุงูุชุงูู ุจู 100 ุตู ุ ูุฃู </font></font><code>$10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ูุฐุง ูู 16 ูู ุดูู ุนุดุฑู. </font><font style="vertical-align: inherit;">ุฃูุจุฑ ูุฑู ุจูู ุงููุชููุน ูุงููุนูู ูู 60 ุตููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุธู ุฃู ุงูุฎุทุฃ ูุฑุฌุน ุฅูู ุชุบููุฑุงุช ุงูุชุตููู ูู ุงููุฑุงุญู ุงููุงุญูุฉ ูู ุงูุชุทููุฑ. </font><font style="vertical-align: inherit;">ุงูุธุฑ ุฅูู ุดุงุดุฉ ุงููุงุฆูุฉ ุ ููุง ูุณูุญ ููุงุนุจ ุจุงุฎุชูุงุฑ ูุณุชูู ุงูุฏุฎูู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/858/51e/019/85851e019d65bf00d265fa4ea277b8c2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง ููุฌุฏ ุชูุณูุฑ ูููููุฉ ุงูุจุฏุก ูู ุงููุณุชููุงุช ููู 9. ูููู ูู ูุชูุจ ูููุชูุฏู ุชุชุฑูุณ ุ ุชู ุงููุดู ุนู ูุฐุง ุงูุณุฑ: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c20/cee/c3b/c20ceec3b4b30879812be109b6666b79.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุฏู ุฃู ูุฐู ุงูููุฒุฉ ุงููุฎููุฉ ุชู ุงุฎุชุฑุงุนูุง ูู ุงููุญุธุฉ ุงูุฃุฎูุฑุฉ. ุฑุจูุง ุชูุช ุฅุถุงูุชู ูุฑูุจูุง ุฌุฏูุง ูู ุชุงุฑูุฎ ุงูุฅุตุฏุงุฑ ุ ูุงูุฐู ูู ูุณูุญ ุจุงุฎุชุจุงุฑู ุจุงููุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ูุญุชูู ุงูุชุญูู ูู ุงูุณูุณูุฉ ุงูุฃูููุฉ ุนูู ุฎุทุฃ ุซุงูู ูุชุนูู ุจุฅุฎุฑุงุฌ ููู ุงููุงุตู ุงูุฒููู. ูููุง ููู ุงูุชุนูููุงุช ูู ุงูููุฏ ูุงูุชู ุชูุถุญ ุจุดูู ุฃูุถู ูุง ูุญุฏุซ ุนูู ูุณุชูู ููุฎูุถ. </font><font style="vertical-align: inherit;">ุชุชู ุงูููุงุฑูุฉ ุจุทุฑุญ ุนูุงูุฉ ุงููุชูุฌุฉ ูุงูุชุญูู ูููุง. ููู ุงูุฑูู ุงูููููุน ุฃุญุงุฏู ุงูุจุงูุช ููุชุตุฑ ุนูู -128 ุฅูู 127. ุฅุฐุง ูุงู ุงููุฑู ุฃูู ูู -128 ุ ูุชู ุชุฑุญูู ุงูุฑูู ูุชุตุจุญ ุงููุชูุฌุฉ ุฑูููุง ููุฌุจูุง. ูุชู ุดุฑุญ ูุฐุง ุงููุจุฏุฃ ูู ุงูุชุนูููุงุช ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </font><font style="vertical-align: inherit;">ุนูุฏ ุงูุชุญูู ูู ูุฌูุฏ ุงููุฑู ูู ูุฐู ุงููุชุฑุฉ ุ ูุฌุจ ุฃู ูุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุฑูู ุงููุณุชูู ุ ุนูุฏ ุฒูุงุฏุฉ ุงูููู ุงูุชู ุชุฒูุฏ ุนู 255 ุ ูููู ุงูุชุญููู ุฅูู 0 ุ ู</font></font><br><br> <code>9BE8: LDA $0044 <br> 9BEA: CMP $00A8 ; if (level - [$00A8] &lt; 0) { <br> 9BEC: BPL $9BFB <br> <br> 9BEE: INC $0044 ; increment level <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br> <code>9BE8: LDA $0044 ; difference = level - [$00A8]; <br> 9BEA: CMP $00A8 ; if (difference &lt; 0 &amp;&amp; difference &gt;= -128) { <br> 9BEC: BPL $9BFB <br> <br> 9BEE: INC $0044 ; increment level <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุญุชูู ุฃู ูุญุชูู ุนูู ุฃู ูููุฉ ุ ูุฃู ุนุงุจุชู ุงูุนูููุฉ ูุฃุฎูุฐุฉ ูู </font></font><code>$0051</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงูุชู ูููู ุฃู ุชุญุฏุซ ุงูุฒูุงุฏุฉ ุจูุง ุญุฏูุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชุฏุงุฎู ูุฐู ุงูุชุฃุซูุฑุงุช ุ ููุง ูุฎูู ูุชุฑุงุช ูุจูู ูููุง ุฑูู ุงููุณุชูู ุนู ุทุฑูู ุงูุฎุทุฃ ุฏูู ุชุบููุฑ. </font><font style="vertical-align: inherit;">ุชุญุฏุซ ุงููุชุฑุงุช ุนูู ูุชุฑุงุช ููุชุธูุฉ ุชุจูุบ 2900 ุตู ุ ุจุฏุกูุง ูู 2190 ุตููุง ุ ูุชุณุชูุฑ ูู 800 ุตู. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูู 2190 ( </font></font><code>L90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุฅูู 2990 ( </font></font><code>T90</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ูุธู ุงููุณุชูู ูุณุงูู </font></font><code>$DB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>96</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุ ููุง ูู ููุถุญ ุฃุฏูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/055/e15/8de/055e158de2ecde24e0f052cd325bef32.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุชุฑุฉ ุงูุชุงููุฉ ุชุญุฏุซ ูู 5090 ุฅูู 5890 ุ ุงููุณุชูู ูุณุงูู ุจุงุณุชูุฑุงุฑ </font></font><code>$AD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>06</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฎูุงู ูุฐู ุงููุชุฑุงุช ุ ูุง ุชุชุบูุฑ ููุญุฉ ุงูุฃููุงู ุฃูุถูุง.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุตูุญุฉ ุงูุชูููู Tetrimino </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูู ูุณุชูู ุ ูุชู ุชุนููู ุจูุงุท tetrimino 4 ุฃููุงู ูุฑูุฏุฉ. </font><font style="vertical-align: inherit;">ูุชู ุฃุฎุฐ ุงูุฃููุงู ูู ุงูุฌุฏูู ุงูููุฌูุฏ ูู </font></font><code>$984C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุณุฌูุงุชูุง ูู 10 ูุณุชููุงุช. </font><font style="vertical-align: inherit;">ูู ุงููุณุงุฑ ุฅูู ุงููููู: ุฃุนูุฏุฉ ุงูุฌุฏูู ุงูููุงุธุฑุฉ ููููุงุทู ุงูุฃุณูุฏ ูุงูุฃุจูุถ ูุงูุฃุฒุฑู ูุงูุฃุญูุฑ ูู ุงูุตูุฑุฉ ุฃุฏูุงู.</font></font><br><br> <code>984C: 0F 30 21 12 ; level 0 <br> 9850: 0F 30 29 1A ; level 1 <br> 9854: 0F 30 24 14 ; level 2 <br> 9858: 0F 30 2A 12 ; level 3 <br> 985C: 0F 30 2B 15 ; level 4 <br> 9860: 0F 30 22 2B ; level 5 <br> 9864: 0F 30 00 16 ; level 6 <br> 9868: 0F 30 05 13 ; level 7 <br> 986C: 0F 30 16 12 ; level 8 <br> 9870: 0F 30 27 16 ; level 9</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/68e/fc4/7d7/68efc47d771e9c673b003d76810d74fb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุชูุงูู ุงูููู ูุน ููุญุฉ ุฃููุงู NES. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e80/c0a/8b6/e80c0a8b624b90261042d71eb21d50db.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุงุฆููุง ูุง ูููู ุฃูู ููููู ููู ุฅุฏุฎุงู ุจุงูููููู ุงูุฃุณูุฏ ูุงูุฃุจูุถ. ููุน ุฐูู ุ ูุชู ุชุฌุงูู ุงูููู ุงูุฃูู ุจุงููุนู ุ ุจุบุถ ุงููุธุฑ ุนู ุงููููุฉ ุ ูุนุชุจุฑ ููููุง ุดูุงููุง ูุชู ูู ุฎูุงูู ุฑุคูุฉ ุฎูููุฉ ุณูุฏุงุก ุตูุจุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงููุตูู ุฅูู ุฌุฏูู ุงูุฃููุงู ูู ุงูุฑูุชูู ูู </font></font><code>$9808</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุนุชูุฏ ููุฑุณ ุฌุฏูู ุงูุฃููุงู ุนูู ุฑูู ุงููุณุชูู ููุณูููุง ุนูู ุงูุนุฏุฏ ุงููุชุจูู ูู 10. ุชูุณุฎ ุงูุฏูุฑุฉ ุงูุฅุฏุฎุงู ุฅูู ุฌุฏุงูู ุงูููุญุฉ ูู VRAM. </font><font style="vertical-align: inherit;">ูุชู ุชูุณูู ุงููุณูุฉ ูุน ุงูุจุงูู ุจุทุฑุญ ุซุงุจุช ูู 10 ุญุชู ุชููู ุงููุชูุฌุฉ ุฃูู ูู 10. ูุชุจูู ุจุฏุงูุฉ ุงูุฑูุชูู ุงููุฑุนู ูุน ุงูุชุนูููุงุช ุฃุฏูุงู.</font></font><br><br> <code>9808: LDA $0064 <br> 980A: CMP #$0A <br> 980C: BMI $9814 <br> 980E: SEC <br> 980F: SBC #$0A <br> 9811: JMP $980A ; index = levelNumber % 10; <br> <br> 9814: ASL <br> 9815: ASL <br> 9816: TAX ; index *= 4; <br> <br> 9817: LDA #$00 <br> 9819: STA $00A8 ; for(i = 0; i &lt; 32; i += 16) { <br> <br> 981B: LDA #$3F <br> 981D: STA $2006 <br> 9820: LDA #$08 <br> 9822: CLC <br> 9823: ADC $00A8 <br> 9825: STA $2006 ; palette = $3F00 + i + 8; <br> <br> 9828: LDA $984C,X <br> 982B: STA $2007 ; palette[0] = colorTable[index + 0]; <br> <br> 982E: LDA $984D,X <br> 9831: STA $2007 ; palette[1] = colorTable[index + 1]; <br> <br> 9834: LDA $984E,X <br> 9837: STA $2007 ; palette[2] = colorTable[index + 2]; <br> <br> 983A: LDA $984F,X <br> 983D: STA $2007 ; palette[3] = colorTable[index + 3]; <br> <br> 9840: LDA $00A8 <br> 9842: CLC <br> 9843: ADC #$10 <br> 9845: STA $00A8 <br> 9847: CMP #$20 <br> 9849: BNE $981B ; } <br> <br> 984B: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <code>9808: LDA $0064 ; index = levelNumber; <br> 980A: CMP #$0A ; while(index &gt;= 10) { <br> 980C: BMI $9814 <br> 980E: SEC <br> 980F: SBC #$0A ; index -= 10; <br> 9811: JMP $980A ; }</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ููุง ูู ููุถุญ ูู ุงููุณู ุงูุณุงุจู ุ ูุชู ุงุณุชุฎุฏุงู ุงูุทุฑุญ ูุงูุชูุฑุน ุนูู ุฃุณุงุณ ุนูุงูุฉ ุงูุงุฎุชูุงู ูู ุงูููุงุฑูุฉ. </font><font style="vertical-align: inherit;">ููุชุตุฑ ุนุฏุฏ ุงูุจุงูุชุงุช ุงููููุนุฉ ุฃุญุงุฏูุฉ ุงูุจุงูุช ุนูู 128- 127- ูุชุนูุณ ุงูุชุนูููุงุช ุงููุญุฏุซุฉ ุฃุฏูุงู ูุฐุง ุงููุจุฏุฃ. </font><font style="vertical-align: inherit;">ุงูุชุนูููุงุช ุฃุฏูุงู ูุจุณุทุฉ. </font><font style="vertical-align: inherit;">ุชูุดู ูุฐู ุงูุตูุงุบุฉ ุนู ุฎุทุฃ ูู ุงูููุฏ. </font><font style="vertical-align: inherit;">ูุชู ุชุฎุทู ุนูููุฉ ุงูุชูุณูู ุงููุชุจููุฉ ุชูุงููุง ูููุณุชููุงุช ูู 138 ููุง ููู. </font><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ูุชู ุชุนููู ุงูููุฑุณ ูุจุงุดุฑุฉู ุฅูู ุฑูู ุงููุณุชูู ุ ุงูุฐู ูููุฑ ุงููุตูู ุฅูู ูุญุฏุงุช ุงูุจุงูุช ุจุนุฏ ููุงูุฉ ุฌุฏูู ุงูุฃููุงู. </font><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูููู ุฃู ูุคุฏู ูุฐุง ุฅูู ูุฌูุฏ tetrimino ุบูุฑ ูุฑุฆู ุชูุฑูุจูุง.</font></font><br><br> <code>9808: LDA $0064 ; index = levelNumber; <br> ; difference = index - 10; <br> 980A: CMP #$0A ; while(difference &gt;= 0 &amp;&amp; difference &lt;= 127) { <br> 980C: BMI $9814 <br> 980E: SEC ; index -= 10; <br> 980F: SBC #$0A ; difference = index - 10; <br> 9811: JMP $980A ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br> <code>9808: LDA $0064 ; index = levelNumber; <br> 980A: CMP #$0A ; while(index &gt;= 10 &amp;&amp; index &lt;= 137) { <br> 980C: BMI $9814 <br> 980E: SEC <br> 980F: SBC #$0A ; index -= 10; <br> 9811: JMP $980A ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6ed/2e5/2c6/6ed2e52c6a20dc9c8c1ffd1bf13d9b37.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง ููู ุฃููุงู ุฌููุน ุงููุณุชููุงุช 256. </font><font style="vertical-align: inherit;">ูุชู ุชุฑุชูุจ ุงููุฑุจุนุงุช ูู 10 ุฃุนูุฏุฉ ููุชุฃููุฏ ุนูู ุงูุงุณุชุฎุฏุงู ุงูุฏูุฑู ูุฌุฏูู ุงูุฃููุงู ุ ุงูุฐู ุชู ุงุฎุชุฑุงูู ุนูุฏ ุงููุณุชูู 138. ูุชู ุงูุฅุดุงุฑุฉ ุฅูู ุงูุตููู ูุงูุฃุนูุฏุฉ ูู ุงูุฑุคูุณ ุงูุนุดุฑูุฉ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/423/6f0/ed6/4236f0ed6a508633b746d773a530fe90.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ 255 ุ ูุนูุฏ ุฑูู ุงููุณุชูู ุฅูู 0. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุง ูู ูุฐููุฑ ูู ุงููุณู ุงูุณุงุจู ุ ูุง ุชุชุบูุฑ ุจุนุถ ุงููุณุชููุงุช ุญุชู ุชุชู ุฅุฒุงูุฉ 800 ุตู. </font><font style="vertical-align: inherit;">ุฎูุงู ูุฐู ุงููุณุชููุงุช ุงูุทูููุฉ ุ ุชุจูู ุงูุฃููุงู ุฏูู ุชุบููุฑ.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุถุน ุงููุนุจุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฏ ูุถุน ุงููุนุจุฉ ุงููุฎุฒู ูู ุงูุนููุงู </font></font><code>$00C0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ูู ุงูุดุงุดุงุช ูุงูููุงุฆู ุงููุฎุชููุฉ ุงููุนุฑูุถุฉ ุญุงูููุง ูููุณุชุฎุฏู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงููููุฉ </th><th>  ุงููุตู </th></tr><tr><td> <code>00</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ </font></font></td></tr><tr><td> <code>01</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงูุจุฏุงูุฉ </font></font></td></tr><tr><td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฆูุฉ ููุน ุงููุนุจุฉ </font></font></td></tr><tr><td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฆูุฉ ุงููุณุชููุงุช ูุงูุงุฑุชูุงุนุงุช </font></font></td></tr><tr><td> <code>04</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุนุจุฉ / ุฃุนูู ุงูุฏุฑุฌุงุช / ุงูููุงูุฉ / ุงูุฅููุงู ุงููุคูุช </font></font></td></tr><tr><td> <code>05</code> </td> <td>  ุชุฌุฑูุจู </td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ุฃุนูุงู ุ ุชุญุชูู ุงููุนุจุฉ ุนูู ุฑูุชูู ููุชูุจ ุจุฐูุงุก ูุนูู ุจูุซุงุจุฉ ุจูุงู ุชุจุฏูู ุจุงุณุชุฎุฏุงู ุฌุฏูู ุงูุชููู ุงูุตุบูุฑ ุงูููุฌูุฏ ูุจุงุดุฑุฉ ุจุนุฏ ุงูููุงููุฉ. </font><font style="vertical-align: inherit;">ุชูุถุญ ุงููุงุฆูุฉ ุฃุนูุงู ุนูุงููู ุฌููุน ุฃูุถุงุน ุงููุนุจุฉ. ูุงุญุธ ุฃู ูุถุนู "Game" ู "Demo" ูุณุชุฎุฏูุงู ููุณ ุงูุฑูุฒ. </font><font style="vertical-align: inherit;">ูุฐุง ุงูุฑูุชูู ูุง ูุนูุฏ ุฃุจุฏุงู. ุจุฏูุงู ูู ุฐูู ุ ูุณุชุฎุฏู ุงูุฑูุฒ ุนููุงู ุงููุฑุณู ุ ุนุงุฏุฉ ูุง ูุดูุฑ ุฅูู ุงูุชุนูููุงุช ูุจุงุดุฑุฉ ุจุนุฏ ุงุณุชุฏุนุงุก ุงูููุฒุฉ ุฅูู ุฑูุชูู (ูุงูุต 1 ุจุงูุช) ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ูุดูุฑ ุฅูู ุฌุฏูู ุงูููุฒ. ูุธูุฑ ุนููุงู ุงูุฅุฑุฌุงุน ูู ุงูููุฏุณ ููุชู ุชุฎุฒููู ูู </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">. ุจุนุฏ ุญูุธ ุนููุงู ุฌุฏูู ุงูููุฒ ุ ูุณุชุฎุฏู ุงูุฑูุฒ ุงููููุฉ ูู ุงูุณุฌู A ููุคุดุฑ ููููู ุจุงูุงูุชูุงู ุงูููุงุจู.</font></font><br><br> <code>8161: LDA $00C0 <br> 8163: JSR $AC82 ; switch(gameMode) { <br> 8166: 00 82 ; case 0: goto 8200; //     <br> 8168: 4F 82 ; case 1: goto 824F; //   <br> 816A: D1 82 ; case 2: goto 82D1; //    <br> 816C: D7 83 ; case 3: goto 83D7; //     <br> 816E: 5D 81 ; case 4: goto 815D; //  /   /  /  <br> 8170: 5D 81 ; case 5: goto 815D; //  <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>$0000</code><font style="vertical-align: inherit;"></font><code>$0001</code><font style="vertical-align: inherit;"></font><br><br> <code>AC82: ASL <br> AC83: TAY <br> AC84: INY <br> <br> AC85: PLA <br> AC86: STA $0000 <br> AC88: PLA ; pop return address off of stack <br> AC89: STA $0001 ; and store it at $0000-$0001 <br> <br> AC8B: LDA ($00),Y <br> AC8D: TAX <br> AC8E: INY <br> AC8F: LDA ($00),Y <br> AC91: STA $0001 <br> AC93: STX $0000 <br> AC95: JMP ($0000) ; goto Ath 16-bit address <br> ; in table at [$0000-$0001]</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ููููุฏ ุฃู ูุณุชุฎุฏู ุฑูุชูู ุงูุชุจุฏูู ูุฐุง ุทุงููุง ุฃู ุงููุคุดุฑุงุช ูุฑูุจุฉ ูู 0 ููุง ุชูุฌุฏ ูุณุงูุงุช ุฃู ููููุฉ ุจูู ุงูุญุงูุงุช ุงููุญุชููุฉ. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุจุฏุฃ ุงููุนุจุฉ ุจุดุงุดุฉ ุชุนุฑุถ ุฅุดุนุงุฑูุง ูุงูููููุง. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/524/4e2/d4b/5244e2d4b26989579afaad64838c0962.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุฌุฒุก ุงูุณููู ูู ุงูุดุงุดุฉ ุ ุชู ุฐูุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูููุณู Pazhitnov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฎุชุฑุน ููุตูู ููุจุฑูุฌ ุฃูู Tetris. ูู ุนุงู 1984 ุ ุนูู ููุทูุฑ ููุจููุชุฑ ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑูุฒ ุฏูุฑูุฏููุชุณูู ููุญูุณุจุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ูุนูุฏ ุฃุจุญุงุซ ุฑุงุฆุฏ ูู ุงูุฃูุงุฏูููุฉ ุงูุฑูุณูุฉ ููุนููู ูู ููุณูู) ุ ุทูุฑ ูููุฐุฌูุง ุฃููููุง ููุนุจุฉ ุนูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅููุชุฑูููุงุช 60</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ุงุณุชูุณุงุฎ ุณูููุชู DEC </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LSI-11</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). ุชู ุชุทููุฑ ูููุฐุฌ ุฃููู ููุถุน ูุต ุฃุญุงุฏู ุงูููู ุฃุฎุถุฑ ูุชู ููู ุชุญุฏูุฏ ุงููุฑุจุนุงุช ุจูุงุณุทุฉ ุฃุฒูุงุฌ ูู ุงูุฃููุงุณ ุงููุฑุจุนุฉ </font></font><code>[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุจูุณุงุนุฏุฉ ุชูููุฐ ูุจูุบ ูู ุงูุนูุฑ 16 ุนุงููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vadim Gerasimov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููููุฏุณ ููุจููุชุฑ Dmitry Pavlovsky ุจุนุฏ ุฃูุงู ููููุฉ ูู ุงุฎุชุฑุงุน ุงููุนุจุฉ ุ ุชู ููู ุงููููุฐุฌ ุงูุฃููู ุฅูู ุฌูุงุฒ ููุจููุชุฑ IBM ูุน MS DOS ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Turbo Pascal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุนูู ูุฏุงุฑ ุนุงููู ุ ูุงููุง ุจุฅุชูุงู ุงููุนุจุฉ ูุนูุง ุ ุจุฅุถุงูุฉ ููุฒุงุช ูุซู ุฃููุงู tetrimino ูุงูุฅุญุตุงุกุงุช ุ ูุงูุฃูู ูู ุฐูู ุ ุฑูุฒ ุงูุชูููุช ูุงูุฑุณููุงุช ุงูุฐู ุณูุญ ููุนุจุฉ ุจุงูุนูู ุนูู ูุฌููุนุฉ ูุชููุนุฉ ูู ุทุฑุงุฒุงุช ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุณุชูุณุฎุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ูุธุฑูุง ูุฎุตุงุฆุต ุงูุงุชุญุงุฏ ุงูุณููููุชู ูู ุฐูู ุงูููุช ุ ูุงูุช ูุญุงููุงุชูู ูุชุญููู ุงูุฏุฎู ูู ุงููุนุจุฉ ูุงุดูุฉ ุ ููู ุงูููุงูุฉ ูุฑุฑูุง ูุดุงุฑูุฉ ุฅุตุฏุงุฑ ุงูููุจููุชุฑ ุงูุดุฎุตู ูุน ุฃุตุฏูุงุฆูู ูุฌุงููุง. ููุฐ ุชูู ุงููุญุธุฉ ุ ุจุฏุฃุช "ุชุชุฑูุณ" ูู ุงูุงูุชุดุงุฑ ุงูููุฑูุณู ูู ุฌููุน ุฃูุญุงุก ุงูุจูุงุฏ ูุฎุงุฑุฌูุง ุ ููุณูุฎุฉ ูู ูุฑุต ุฅูู ูุฑุต. ูููู ููุฐ ุฃู ุชู ุชุทููุฑ ุงููุนุจุฉ ูู ูุจู ููุธูู ููุงูุฉ ุญููููุฉ ุ ุงูุชููุชูุง ุงูุฏููุฉ ุ ููู ุนุงู 1987 ุชููุช ุงูููุธูุฉ ุงููุณุคููุฉ ุนู ุงูุชุฌุงุฑุฉ ุงูุฏูููุฉ ูู ุงูุชูููุงุช ุงูุฅููุชุฑูููุฉ ุชุฑุฎูุต ุงููุนุจุฉ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electronorgtekhnika (ELORG)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ูุฏ ูููู ุงูุงุฎุชุตุงุฑ V / O ุนูู ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ูุตูุฑูุง ููุฅุตุฏุงุฑ Originale. </font><font style="vertical-align: inherit;">ุญุงููุช </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุฑูุฉ ุงูุจุฑูุฌูุงุช ุงูุจุฑูุทุงููุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุฏุฑูููุฏุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุญุตูู ุนูู ุญููู ูู Tetris ุ ููุจู ุฅุชูุงู ุงูุตููุฉ ุ ูุงูุช ุจุชุฑุฎูุต ุงููุนุจุฉ ูู ุงูุจุงุทู ูููุฑุฏูู ุขุฎุฑูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงููุงุดุฑ ุงูุจุฑูุทุงูู ูุฃูุนุงุจ ุงูููุจููุชุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mirrorsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุงูุช ุดุฑูุฉ Mirrorsoft ุจุฏูุฑูุง ุจุชุฑุฎูุตูุง ูู ุงูุจุงุทู ูุดุฑูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููู ุดุฑูุฉ ุชุงุจุนุฉ ูู Atari Games. ููุญ Tengen ุจุฑูุงูุฌ Bullet-Proof ุญููู ุชุทููุฑ ูุนุจุฉ ูุฃุฌูุฒุฉ ุงูููุจููุชุฑ ููุญุฏุงุช ุงูุชุญูู ูู ุงููุงุจุงู ุ ููุง ุฃุฏู ุฅูู Tetris ูู Nintendo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Famicom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูููุง ููู ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ุงูุฎุงุตุฉ ุจู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/750/b96/6c0/750b966c0d526110e504b409b3f1a1af.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุซูุฑ ููุงูุชูุงู ุ ูู ูุฐุง ุงูุฅุตุฏุงุฑ ุ ููุทูู ุนูู ุชูููุฐ ุงููุฏุฑุณุฉ Vadim Gerasimov ุงููุตูู ูุงููุจุฑูุฌ ุงูุฃุตูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุญุงููุฉ ูุชุฃููู ุงููุณุฎุฉ ุงููุญูููุฉ ูู ูุญุฏุฉ ุชุญูู Game Boy ุงููุงุฏูุฉ ุ ุงุณุชุฎุฏูุช Nintendo ุจุฑูุงูุฌ Bullet-Proof ูุฅุจุฑุงู ุตููุฉ ูุงุฌุญุฉ ูุจุงุดุฑุฉ ูุน ELORG. ูู ุนูููุฉ ุฅุจุฑุงู ุงูุตููุฉ ุ ูุงูุช ุดุฑูุฉ ELORG ุจูุฑุงุฌุนุฉ ุนูุฏูุง ูุน ุฃูุฏุฑูููุฏุง ุ ูุถููุฉ ุฃู ุฃูุฏุฑูููุฏุง ุญุตูุช ููุท ุนูู ุญููู ุฃูุนุงุจ ุงูููุจููุชุฑ ูุฃุฌูุฒุฉ ุงูุขุฑููุฏ. ูููุฐุง ุงูุณุจุจ ุ ูุงู ุนูู ุจุฑูุงูุฌ Bullet-Proof ุฏูุน ุฑุณูู ELORG ูุฌููุน ุงูุฎุฑุงุทูุด ุงูุชู ุชู ุจูุนูุง ูู Famicom ุ ูุฃู ุงูุญููู ุงูุชู ุชููุชูุง ูู Tengen ุชุจูู ุฃููุง ูุฒููุฉ. ูููู ูู ุฎูุงู ุงููุตุงูุญุฉ ูุน ELORG ุ ุชูููุช Bullet-Proof Software ุฃุฎูุฑูุง ูู ุงูุญุตูู ุนูู ุญููู ุฃูุนุงุจ ูุญุฏุฉ ุงูุชุญูู ุงูุนุงูููุฉ ูู Nintendo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุช Bullet-Proof Software ุจุชุฑุฎูุต ุญููู ุฃูุนุงุจ Nintendo ุงููุญูููุฉ ูู ุงูุจุงุทู ุ ููุงููุง ูุนูุง ุจุชุทููุฑ Game Boy Tetris ุ ูุงูุฐู ููุนูุณ ูู ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ุงูููุถุญุฉ ุฃุฏูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0dc/d28/e4c/0dcd28e4c4f7b3da1a0259fcdbcf9b70.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ุญููู ุฃูุนุงุจ ูุญุฏุฉ ุงูุชุญูู ุงูุนุงูููุฉ ุ ุทูุฑุช Nintendo ุฅุตุฏุงุฑ Tetris ูู NES ุงูุฐู ูุณุชูุดูู ูู ูุฐู ุงูููุงูุฉ. ุซู ูุงูุช Bullet-Proof Software ุจุชุฑุฎูุต ุญููู Nintendo ูู ุงูุจุงุทู ุ ููุง ุณูุญ ููุง ุจููุงุตูุฉ ุจูุน ุฎุฑุงุทูุด Famicom ูู ุงููุงุจุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุจุน ุฐูู ูุนุฑูุฉ ูุงููููุฉ ูุนูุฏุฉ. ุทุงูุจ ูู ูู ูููุชูุฏู ูุชููุฌู ุฃู ูุชููู ุงูุทุฑู ุงููุนุงุฑุถ ุนู ุฅูุชุงุฌ ูุจูุน ูุณุฎุชูู ูู ุงููุนุจุฉ. ููุชูุฌุฉ ูุฐูู ุ ูุงุฒุช Nintendo ุ </font><font style="vertical-align: inherit;">ูุฏููุฑุช </font><font style="vertical-align: inherit;">ูุฆุงุช ุงูุขูุงู ูู ุฎุฑุงุทูุด </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengen Tetris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ููุง ููุน ุญูู ุงููุญููุฉ ุงูุนุฏูุฏ ูู ุงูุดุฑูุงุช ุงูุฃุฎุฑู ูุซู Mirrorsoft ูู ุฅูุดุงุก ุฅุตุฏุงุฑุงุช ูุญุฏุฉ ุงูุชุญูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุชูู ุจุงุฌูุชููู ุฃู ุฎุตููุงุช ูู ELORG ุฃู ุงูุฏููุฉ ุงูุณูููุชูุฉ. ููุน ุฐูู ุ ุงูุชูู ูู ุนุงู 1991 ุฅูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ููู ุนุงู 1996 ุจุฏุนู ูู ูุงูู ุจุฑูุงูุฌ Bullet-Proof</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุงุฑู </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">Henka Rogers</font></a><font style="vertical-align: inherit;"> ูู ุชุฃุณูุณ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุฑูุฉ Tetris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููุง ุณูุญ ูู ุจุงูุงุณุชูุงุฏุฉ ูู ุฅุตุฏุงุฑุงุช ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ููุญุฏุงุช ุงูุชุญูู ุงูุญุฏูุซุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุซูุฑ ููุงูุชูุงู ุฃู ููุธุฑ ุฅูู ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ููุงูุฐุฉ ุชุนุทู ููุฑุฉ ุนู ุงูุฃุตู ุงููุชูุงุถุน ููุนุจุฉ ูุงููุนุงุฑู ุงูุชู ุชูุช ุฐูู ูู ุฃุฌู ุญููู ุงูููููุฉ ุงูููุฑูุฉ ุ ูุฃู ูุฐู ุงูุดุงุดุฉ ุจุงููุณุจุฉ ููุนุธู ุงููุงุนุจูู ูุฌุฑุฏ ุนูุจุฉ ูุฒุนุฌุฉ ุ ูุจุฏู ุฃู ุงุฎุชูุงุฆูุง ูุฌุจ ุฃู ููุชุธุฑ ุฅูู ุงูุฃุจุฏ. ูุชู ุชุนููู ุงูุชุฃุฎูุฑ ุจูุงุณุทุฉ ุนุฏุงุฏุงุช ุ ูุชู ุงูุนุฏ ุจุงูุชุชุงุจุน ูู 255 ุฅูู 0. ูุง ูููู ุชุฎุทู ุงููุฑุญูุฉ ุงูุฃููู ุ ููุชู ุชุฎุทู ุงููุฑุญูุฉ ุงูุซุงููุฉ ุจุงูุถุบุท ุนูู ุฒุฑ ุงูุจุฏุก. ูุฐูู ุ ุชุธูุฑ ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ 4.25 ุซุงููุฉ ุนูู ุงูุฃูู ููุง ุชุฒูุฏ ุนู 8.5 ุซุงููุฉ. ููุน ุฐูู ุ ุฃุนุชูุฏ ุฃู ูุนุธู ุงููุงุนุจูู ูุณุชุณูููู ุ ููุชููููู ุนู ุงูุถุบุท ุนูู Start ุฎูุงู ุงููุงุตู ุงูุฒููู ุงูุฃูู ุ ูุจุณุจุจ ูุฐุง ููุชุธุฑูู ุงูุงูุชูุงุก ุงููุงูู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฎุถุน ุชูููุช ุงููุฑุงุญู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจููุฉ ุงููุนุจุฉ ุ ุฅูู ูุนุงูุฌ ููุงุทุนุฉ ุบูุฑ ูููุน ูุณูู ูู ุจุฏุงูุฉ ูู ูุชุฑุฉ ุทูุณ ุฑุฃุณูุฉ ุ ููู ูุชุฑุฉ ุฒูููุฉ ูุตูุฑุฉ ุจูู ุนุฑุถ ุฅุทุงุฑุงุช ุงูุชููุฒููู. ุฃู ุ ูู 16.6393 ูููู ุซุงููุฉ ุ ุชุชู ููุงุทุนุฉ ุชูููุฐ ุงูุจุฑูุงูุฌ ุงูุนุงุฏู ุจูุงุณุทุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ. </font><font style="vertical-align: inherit;">ูุจุฏุฃ ุงููุนุงูุฌ ุจุชูุฑูุฑ ููู ุงูุณุฌูุงุช ุงูุฑุฆูุณูุฉ ุฅูู ุงูููุฏุณ ูุงุณุชุฑุฏุงุฏูุง ุจุนุฏ ุงูุงูุชูุงุก ุญุชู ูุง ุชุชุฏุงุฎู ูุน ุงููููุฉ ุงููุชูุทุนุฉ. ุชููู ุงูููุงููุฉ </font><font style="vertical-align: inherit;">ุจุชุญุฏูุซ VRAM ุ ูุชุญููู ูุตู ูููุฐุฌ ุงูุฐุงูุฑุฉ ุฅูู ูุง ูุชู ุนุฑุถู ุนูู ุงูุดุงุดุฉ. ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุงููุนุงูุฌ ูู ูููุฉ ุนุฏุงุฏ ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ุฅุฐุง ูุงูุช ุฃูุจุฑ ูู ุงูุตูุฑ. ุงูุชุญุฏู</font></font><br><br> <code>8005: PHA <br> 8006: TXA <br> 8007: PHA <br> 8008: TYA <br> 8009: PHA ; save A, X, Y <br> <br> 800A: LDA #$00 <br> 800C: STA $00B3 <br> 800E: JSR $804B ; render(); <br> <br> 8011: DEC $00C3 ; legalScreenCounter1--; <br> <br> 8013: LDA $00C3 <br> 8015: CMP #$FF ; if (legalScreenCounter1 &lt; 0) { <br> 8017: BNE $801B ; legalScreenCounter1 = 0; <br> 8019: INC $00C3 ; } <br> <br> 801B: JSR $AB5E ; initializeOAM(); <br> <br> 801E: LDA $00B1 <br> 8020: CLC <br> 8021: ADC #$01 <br> 8023: STA $00B1 <br> 8025: LDA #$00 <br> 8027: ADC $00B2 <br> 8029: STA $00B2 ; frameCounter++; <br> <br> 802B: LDX #$17 <br> 802D: LDY #$02 <br> 802F: JSR $AB47 ; randomValue = generateNextPseudorandomNumber(randomValue); <br> <br> 8032: LDA #$00 <br> 8034: STA $00FD <br> 8036: STA $2005 ; scrollX = 0; <br> 8039: STA $00FC <br> 803B: STA $2005 ; scrollY = 0; <br> <br> 803E: LDA #$01 <br> 8040: STA $0033 ; verticalBlankingInterval = true; <br> <br> 8042: JSR $9D51 ; pollControllerButtons(); <br> <br> 8045: PLA <br> 8046: TAY <br> 8047: PLA <br> 8048: TAX <br> 8049: PLA ; restore A, X, Y <br> <br> 804A: RTI ; resume interrupted task</code> <br> <br><font style="vertical-align: inherit;"></font><code>render()</code><font style="vertical-align: inherit;"></font><code>initializeOAM()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุฐ ุงูุฎุทูุฉ ุงููุทููุจุฉ ูู ูุจู ูุนุฏุงุช ุชูููุฏ ุงูุฅุทุงุฑ. ูุณุชูุฑ ุงููุนุงูุฌ ูู ุงูุนูู ุนู ุทุฑูู ุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุฅุทุงุฑ - ุงููููุฉ ุงูููุงุฆูุฉ ุงูุตุบูุฑุฉ 16 ุจุช ุงููุฎุฒูุฉ ูู ุงูุนููุงู </font></font><code>$00B1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$00B2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุชู ูุณุชุฎุฏููุง ูู ุฃูุงูู ูุฎุชููุฉ ููุชูููุช ุงููุชุญูู ููู. ุจุนุฏ ุฐูู ุ ูุชู ุฅูุดุงุก ุงูุฑูู ุงูุนุดูุงุฆู ุงูุฒุงุฆู ุงูุชุงูู ุ ููุง ุฐูุฑ ุฃุนูุงู ุ ูุญุฏุซ ูุฐุง ุจุบุถ ุงููุธุฑ ุนู ุงููุถุน ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ููู ุฅุทุงุฑ. </font></font><code>$8040</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุนููู ุนูุงูุฉ ุงููุงุตู ุงูุฒููู ูููุณุญ ุงูุฑุฃุณู </font><font style="vertical-align: inherit;">ุนูู ุงูุนููุงู </font><font style="vertical-align: inherit;">ุ ููุง ูุนูู ุฃู ุงููุนุงูุฌ ูุฏ ุชู ุชูููุฐู ููุชู. ุฃุฎูุฑูุง ุ ูุชู ูุญุต ุฃุฒุฑุงุฑ ุฌูุงุฒ ุงูุชุญูู ุ ูุชู ูุตู ุณููู ูุฐุง ุงูุฑูุชูู ุฃุฏูุงู ูู ูุณู ุงูุนุฑุถ ุงูุชูุถูุญู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู </font></font><code>verticalBlankingInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชุฎุฏุงู </font><font style="vertical-align: inherit;">ุงูุนูู ูู </font><font style="vertical-align: inherit;">ูุจู ุงูุฑูุชูู ุงูุฐู ูููุด ุฃุนูุงู. ูุณุชูุฑ ุญุชู ูุจุฏุฃ ุชูููุฐ ูุนุงูุฌ ุงูููุงุทุนุฉ.</font></font><br><br> <code>AA2F: JSR $E000 ; updateAudio(); <br> <br> AA32: LDA #$00 <br> AA34: STA $0033 ; verticalBlankingInterval = false; <br> <br> AA36: NOP <br> <br> AA37: LDA $0033 <br> AA39: BEQ $AA37 ; while(!verticalBlankingInterval) { } <br> <br> AA3B: LDA #$FF <br> AA3D: LDX #$02 <br> AA3F: LDY #$02 <br> AA41: JSR $AC6A ; fill memory page 2 with all $FF's <br> <br> AA44: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ุฑูุชูู ุงูุญุธุฑ ูุฐุง ุนูู ูุฑุญูุชูู ูู ุชูููุช ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ ุ ูุงูุชู ูุชู ุชูููุฐูุง ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู. </font><font style="vertical-align: inherit;">ูุชุฌุงูุฒ ูุต Lua AI ูุฐุง ุงูุชุฃุฎูุฑ ุนู ุทุฑูู ุชุนููู ููุง ุงูุนุฏุงุฏุงุช ุนูู 0.</font></font><br><br> <code>8236: LDA #$FF <br> 8238: JSR $A459 <br> <br> ... <br> <br> A459: STA $00C3 ; legalScreenCounter1 = 255; <br> <br> A45B: JSR $AA2F ; do { <br> A45E: LDA $00C3 ; waitForVerticalBlankingInterval(); <br> A460: BNE $A45B ; } while(legalScreenCounter1 &gt; 0); <br> <br> A462: RTS ; return;</code> <br> <br> <code>823B: LDA #$FF <br> 823D: STA $00A8 ; legalScreenCounter2 = 255; <br> <br> ; do { <br> <br> 823F: LDA $00F5 ; if (just pressed Start) { <br> 8241: CMP #$10 ; break; <br> 8243: BEQ $824C ; } <br> <br> 8245: JSR $AA2F ; waitForVerticalBlankingInterval(); <br> <br> 8248: DEC $00A8 ; legalScreenCounter2--; <br> 824A: BNE $823F ; } while(legalScreenCounter2 &gt; 0); <br> <br> 824C: INC $00C0 ; gameMode = TITLE_SCREEN;</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><h3 style=";text-align:right;direction:rtl">  ุชุฌุฑูุจู </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุฑุถ ุงูุนุฑุถ ุญูุงูู 80 ุซุงููุฉ ูู ุงููุนุจ ุงููุณุฌู ูุณุจููุง. ูุง ูููู ููุท ุจุนุฑุถ ููู ุงูููุฏูู ุ ููููู ูุณุชุฎุฏู ููุณ ุงููุญุฑู ุงูููุฌูุฏ ูู ุงููุนุจุฉ. ุฃุซูุงุก ุงูุชุดุบูู ุ ูุชู ุงุณุชุฎุฏุงู ุฌุฏูููู. ูุญุชูู ุงูุฃูู ุ ุงูููุฌูุฏ ูู ุงูุนููุงู </font></font><code>$DF00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุนูู ุงูุชุณูุณู ุงูุชุงูู ูุฅูุดุงุก tetrimino: </font></font><br><br> <code>TJTSZJTSZJSZLZJTTSITO JSZLZLIOLZLIOJTSITOJ</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุฅูุดุงุก ุดูู ุ ูุชู ุชุญุฏูุฏู ุนุดูุงุฆููุง ุฃู ูุฑุงุกุชู ูู ุงูุฌุฏูู ุ ุงุนุชูุงุฏูุง ุนูู ุงููุถุน. ูุญุฏุซ ุงูุชุจุฏูู ูู ุงูุนููุงู </font></font><code>$98EB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฑุงุฌ ููุน Tetrimino ูู ุงูุจุชุงุช 6 ู 5 ู 4 ูู ูู ุจุงูุช. ูู ููุช ูุขุฎุฑ ุ ุชุนุทููุง ูุฐู ุงูุนูููุฉ ูููุฉ </font><font style="vertical-align: inherit;">- ุงูููุน ุงูุฎุทุฃ. ููุน ุฐููุ ูุฅู ุงูุฌุฏูู ุฎูู ุงูุฃุดูุงู ( </font><font style="vertical-align: inherit;">ููุน) ุงููุณุชุฎุฏูุฉ ูุชุญููู ููุน ูู tetrimino ุงูุชูุฌู ID ุงููุงูุน ุจูู ุงุซููู ูู ุงูุฌุฏุงูู ุงููุฑุชุจุทุฉ: </font><font style="vertical-align: inherit;">ูุนูู</font></font><br><br> <code>98EB: LDA $00C0 <br> 98ED: CMP #$05 <br> 98EF: BNE $9903 ; if (gameMode == DEMO) { <br> <br> 98F1: LDX $00D3 <br> 98F3: INC $00D3 <br> 98F5: LDA $DF00,X ; value = demoTetriminoTypeTable[++demoIndex]; <br> <br> 98F8: LSR <br> 98F9: LSR <br> 98FA: LSR <br> 98FB: LSR <br> 98FC: AND #$07 <br> 98FE: TAX ; tetriminoType = bits 6,5,4 of value; <br> <br> 98FF: LDA $994E,X <br> 9902: RTS ; return spawnTable[tetriminoType]; <br> ; } else { <br> ; pickRandomTetrimino(); <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>$07</code><font style="vertical-align: inherit;"></font><code>$994E</code><font style="vertical-align: inherit;"></font><br><br> <code>993B: 00 00 00 00 ; T <br> 993F: 01 01 01 01 ; J <br> 9943: 02 02 ; Z <br> 9945: 03 ; O <br> 9946: 04 04 ; S <br> 9948: 05 05 05 05 ; L <br> 994C: 06 06 ; I</code> <br> <br> <code>994E: 02 ; Td <br> 994F: 07 ; Jd <br> 9950: 08 ; Zh <br> 9951: 0A ; O <br> 9952: 0B ; Sh <br> 9953: 0E ; Ld <br> 9954: 12 ; Ih</code> <br> <br> <code>9956: 02 02 02 02 ; Td <br> 995A: 07 07 07 07 ; Jd <br> 995E: 08 08 ; Zh <br> 9960: 0A ; O <br> 9961: 0B 0B ; Sh <br> 9963: 0E 0E 0E 0E ; Ld <br> 9967: 12 12 ; Ih</code> <br> <br><font style="vertical-align: inherit;"></font><code>$07</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจุฑูุง ุนูู ุงููุฑุงุกุฉ ุจุนุฏ ููุงูุฉ ุงูุฌุฏูู ุ ูู ุงูููู ุงูุชุงูู ุ ููุง ูุนุทู </font></font><code>Td</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุณุจุจ ูุฐุง ุงูุชุฃุซูุฑ ุ ูููู ุฃู ูููุญูุง ูุฐุง ุงููุฎุทุท ุชุณูุณููุง ุบูุฑ ูุญุฏูุฏ ุ ูููู ูุงุจู ููุชูุฑุงุฑ ูู ุงููุนุฑูุงุช ุงูุนุดูุงุฆูุฉ ุงูุฒุงุฆูุฉ ูุชูุฌูู ุงูุฃุดูุงู ุงูุชู ุชู ุฅูุดุงุคูุง. ุณุชุนูู ุงูุดูุฑุฉ ูุฃู ุฃู ุนููุงู ุนุดูุงุฆู ูู ุชุณูุณู ูุชุบูุฑ ูู ูุญุฏุงุช ุงูุจุงูุช ูุง ูุณูุญ ููุง ุจุชุญุฏูุฏ ููุงู ุงูุชูุงุก ุงูุฌุฏูู. ูู ุงููุงูุน ุ </font></font><code>$DF00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ูููู </font><font style="vertical-align: inherit;">ุงูุชุณูุณู ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">ุฌุฒุกูุง ูู ุดูุก ุบูุฑ ุฐู ุตูุฉ ุชูุงููุง ุจูุฐุง ุ ุฎุงุตุฉ ุจุงููุธุฑ ุฅูู ุฃู ุชุนููู 5 ุจุชุงุช ุบูุฑ ุตูุฑูุฉ ุงููุชุจููุฉ ุบูุฑ ูุงุถุญ ุ ููุธูุฑ ุงูุชุณูุณู ุงูุฐู ุชู ุฅูุดุงุคู ุฅููุงููุฉ ุงูุชูุฑุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุซูุงุก ุชููุฆุฉ ุงููุถุน ุงูุชุฌุฑูุจู ุ </font></font><code>$00D3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชู ุฅุนุงุฏุฉ ุชุนููู </font><font style="vertical-align: inherit;">ููุฑุณ ุงูุฌุฏูู ( </font><font style="vertical-align: inherit;">) ุนูู ุงูุนููุงู </font></font><code>$872B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู ุงูุฌุฏูู ุงูุซุงูู ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุนูู ุณุฌู ูุฃุฒุฑุงุฑ ููุญุฉ ุงูุฃูุนุงุจ ุงููุดูุฑุฉ ูู ุฃุฒูุงุฌ ูู ูุญุฏุงุช ุงูุจุงูุช. </font><font style="vertical-align: inherit;">ุจุชุงุช ุงูุจุงูุช ุงูุฃููู ุชุชูุงูู ูุน ุงูุฃุฒุฑุงุฑ.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th> <code>7</code> </th> <th> <code>6</code> </th> <th> <code>5</code> </th> <th> <code>4</code> </th> <th> <code>3</code> </th> <th> <code>2</code> </th> <th> <code>1</code> </th> <th> <code>0</code> </th> </tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃ </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจ </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุฏุฏ </font></font></td><td>  ุงุจุฏุฃ </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฃุนูู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฃุณูู </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูู ุงููุณุงุฑ </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูู ุงููููู </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฎุฒู ุงูุจุงูุช ุงูุซุงูู ุนุฏุฏ ุงูุฅุทุงุฑุงุช ุงูุชู ูุชู ุฎูุงููุง ุงูุถุบุท ุนูู ูุฌููุนุฉ ูู ุงูุฃุฒุฑุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฃุฎุฐ ุงูุฌุฏูู ุงูุนูุงููู </font></font><code>$DD00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$DEFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชููู ูู 256 ุฒูุฌูุง. ูุชู ุงููุตูู ุฅููู ุจูุงุณุทุฉ ุฑูุชูู ูุฑุนู ูู ุงูุนููุงู </font></font><code>$9D5B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุฌุฏูู ุฒุฑ ุงูุนุฑุถ ุงูุชูุถูุญู ูุจูุบ ุทููู 512 ุจุงูุช ุ ููุฒู ูุฌูุฏ ููุฑุณ ุซูุงุฆู ุงูุจุงูุช ูููุตูู ุฅููู. ูุชู ุชุฎุฒูู ุงูููุฑุณ ูู ููุงูุฉ ููููุง ูู </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">. ุชุชู ุชููุฆุชู ุจูููุฉ ุนููุงู ุงูุฌุฏูู </font><font style="vertical-align: inherit;">ุ ููุชู ุชูููุฐ ุงูุฒูุงุฏุฉ ูู ุฎูุงู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ. </font><font style="vertical-align: inherit;">ุบุงุฏุฑ ุงููุจุฑูุฌูู ูุนุงูุฌุฉ ุฅุฏุฎุงู ุงููุงุนุจ ูู ุงูุดูุฑุฉ ุ ููุง ูุชูุญ ููุง ุฅููุงุก ูุธุฑุฉ ุนูู ุนูููุฉ ุงูุชุทููุฑ ูุงุณุชุจุฏุงู ุงูุนุฑุถ ุงูุชูุถูุญู ุจุณุฌู ุขุฎุฑ. ูุชู ุชูุดูุท ูุถุน ุงูุชุณุฌูู ุงูุชุฌุฑูุจู ุนูุฏ </font><font style="vertical-align: inherit;">ุชุนููู ูููุฉ.</font></font><br><br> <code>9D5B: LDA $00D0 ; if (recording mode) { <br> 9D5D: CMP #$FF ; goto recording; <br> 9D5F: BEQ $9DB0 ; } <br> <br> 9D61: JSR $AB9D ; pollController(); <br> 9D64: LDA $00F5 ; if (start button pressed) { <br> 9D66: CMP #$10 ; goto startButtonPressed; <br> 9D68: BEQ $9DA3 ; } <br> <br> 9D6A: LDA $00CF ; if (repeats == 0) { <br> 9D6C: BEQ $9D73 ; goto finishedMove; <br> ; } else { <br> 9D6E: DEC $00CF ; repeats--; <br> 9D70: JMP $9D9A ; goto moveInProgress; <br> ; } <br> <br> finishedMove: <br> <br> 9D73: LDX #$00 <br> 9D75: LDA ($D1,X) <br> 9D77: STA $00A8 ; buttons = demoButtonsTable[index]; <br> <br> 9D79: JSR $9DE8 ; index++; <br> <br> 9D7C: LDA $00CE <br> 9D7E: EOR $00A8 <br> 9D80: AND $00A8 <br> 9D82: STA $00F5 ; setNewlyPressedButtons(difference between heldButtons and buttons); <br> <br> 9D84: LDA $00A8 <br> 9D86: STA $00CE ; heldButtons = buttons; <br> <br> 9D88: LDX #$00 <br> 9D8A: LDA ($D1,X) <br> 9D8C: STA $00CF ; repeats = demoButtonsTable[index]; <br> <br> 9D8E: JSR $9DE8 ; index++; <br> <br> 9D91: LDA $00D2 ; if (reached end of demo table) { <br> 9D93: CMP #$DF ; return; <br> 9D95: BEQ $9DA2 ; } <br> <br> 9D97: JMP $9D9E ; goto holdButtons; <br> <br> moveInProgress: <br> <br> 9D9A: LDA #$00 <br> 9D9C: STA $00F5 ; clearNewlyPressedButtons(); <br> <br> holdButtons: <br> <br> 9D9E: LDA $00CE <br> 9DA0: STA $00F7 ; setHeldButtons(heldButtons); <br> <br> 9DA2: RTS ; return; <br> <br> startButtonPressed: <br> <br> 9DA3: LDA #$DD <br> 9DA5: STA $00D2 ; reset index; <br> <br> 9DA7: LDA #$00 <br> 9DA9: STA $00B2 ; counter = 0; <br> <br> 9DAB: LDA #$01 <br> 9DAD: STA $00C0 ; gameMode = TITLE_SCREEN; <br> <br> 9DAF: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00D1</code><font style="vertical-align: inherit;"></font><code>$00D2</code><font style="vertical-align: inherit;"></font><code>$872D</code><font style="vertical-align: inherit;"></font><br><br> <code>9DE8: LDA $00D1 <br> 9DEA: CLC ; increment [$00D1] <br> 9DEB: ADC #$01 ; possibly causing wrap around to 0 <br> 9DED: STA $00D1 ; which produces a carry <br> <br> 9DEF: LDA #$00 <br> 9DF1: ADC $00D2 <br> 9DF3: STA $00D2 ; add carry to [$00D2] <br> <br> 9DF5: RTS ; return</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00D0</code><font style="vertical-align: inherit;"></font><code>$FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุชุดุบูู ุงูููุฏ ุงูุชุงูู ุ ูุฎุตุต ูููุชุงุจุฉ ุนูู ุฌุฏูู ุงูุฃุฒุฑุงุฑ ููุนุฑุถ ุงูุชูุถูุญู. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุชู ุชุฎุฒูู ุงูุฌุฏูู ูู PRG-ROM. </font><font style="vertical-align: inherit;">ูู ุชุคุซุฑ ูุญุงููุฉ ุงููุชุงุจุฉ ุนููู ุนูู ุงูุจูุงูุงุช ุงููุญููุธุฉ. </font><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ุชุคุฏู ูู ุนูููุฉ ูุชุงุจุฉ ุฅูู ุชุดุบูู ุชุญููู ูุตุฑูู ุ ููุง ูุคุฏู ุฅูู ุญุฏูุซ ุฎูู ููุถุญ ุฃุฏูุงู.</font></font><br><br> <code>recording: <br> <br> 9DB0: JSR $AB9D ; pollController(); <br> <br> 9DB3: LDA $00C0 ; if (gameMode != DEMO) { <br> 9DB5: CMP #$05 ; return; <br> 9DB7: BNE $9DE7 ; } <br> <br> 9DB9: LDA $00D0 ; if (not recording mode) { <br> 9DBB: CMP #$FF ; return; <br> 9DBD: BNE $9DE7 ; } <br> <br> 9DBF: LDA $00F7 ; if (getHeldButtons() == heldButtons) { <br> 9DC1: CMP $00CE ; goto buttonsNotChanged; <br> 9DC3: BEQ $9DE4 ; } <br> <br> 9DC5: LDX #$00 <br> 9DC7: LDA $00CE <br> 9DC9: STA ($D1,X) ; demoButtonsTable[index] = heldButtons; <br> <br> 9DCB: JSR $9DE8 ; index++; <br> <br> 9DCE: LDA $00CF <br> 9DD0: STA ($D1,X) ; demoButtonsTable[index] = repeats; <br> <br> 9DD2: JSR $9DE8 ; index++; <br> <br> 9DD5: LDA $00D2 ; if (reached end of demo table) { <br> 9DD7: CMP #$DF ; return; <br> 9DD9: BEQ $9DE7 ; } <br> <br> 9DDB: LDA $00F7 <br> 9DDD: STA $00CE ; heldButtons = getHeldButtons(); <br> <br> 9DDF: LDA #$00 <br> 9DE1: STA $00CF ; repeats = 0; <br> <br> 9DE3: RTS ; return; <br> <br> buttonsNotChanged: <br> <br> 9DE4: INC $00CF ; repeats++; <br> <br> 9DE6: RTS <br> 9DE7: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a07/66a/261/a0766a261967e1ee2e7d4a61d3367ee6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุดูุฑ ุฅูู ุฃู ุงููุทูุฑูู ูููููู ุชุดุบูู ุงูุจุฑูุงูุฌ ุฌุฒุฆููุง ุฃู ููููุง ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุบูุจ ุนูู ูุฐู ุงูุนูุจุฉ ุ ููุช ุจุฅูุดุงุก </font></font><code>lua/RecordDemo.lua</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุญุฏุฉ ููุฌูุฏุฉ ูู ููู </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุถุบูุท ูุน ุดูุฑุฉ ุงููุตุฏุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุจุนุฏ ุงูุชุจุฏูู ุฅูู ูุถุน ุงูุชุณุฌูู ุงูุชุฌุฑูุจู ุ ูุนูุฏ ุชูุฌูู ุนูููุงุช ุงููุชุงุจุฉ ุฅูู ุงูุฌุฏูู ูู ูุญุฏุฉ ุชุญูู Lua. </font><font style="vertical-align: inherit;">ูููู ูู ุฎูุงูู ูุณุฎ ุงูุจุงูุช ููุตูู ูู ROM.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุณุฌูู ุงูุนุฑุถ ุงูุชูุถูุญู ุงูุฎุงุต ุจู ุ ูู ุจุชุดุบูู FCEUX ููู ุจุชูุฒูู ููู Nintendo Tetris ROM (File | Open ROM ...). ุซู ุงูุชุญ ูุงูุฐุฉ Lua Script (File | Lua | New Lua Script Window ...) ุ ุงุณุชุนุฑุถ ูููุตูู ุฅูู ุงูููู ุฃู ุฃุฏุฎู ุงููุณุงุฑ. ุงุถุบุท ุนูู ุฒุฑ ุงูุชุดุบูู ูุจุฏุก ูุถุน ุงูุชุณุฌูู ุงูุชุฌุฑูุจู ุ ุซู ุงููุฑ ููู ูุงูุฐุฉ FCEUX ูุชุญููู ุงูุชุฑููุฒ ุฅููู. ููููู ุงูุชุญูู ูู ุงูุฃุดูุงู ุญุชู ุงูุชูุงุก ุฌุฏูู ุงูุฃุฒุฑุงุฑ. ุจุนุฏ ุฐูู ุ ุณุชุนูุฏ ุงููุนุจุฉ ุชููุงุฆููุง ุฅูู ุดุงุดุฉ ุงูุชููู. ุงููุฑ ููู Stop ูู ูุงูุฐุฉ Lua Script ูุฅููุงู ุงูุจุฑูุงูุฌ ุงููุตู. ุณุชุธูุฑ ุงูุจูุงูุงุช ุงููุณุฌูุฉ ูู Output Console ุ ููุง ูู ููุถุญ ูู ุงูุดูู ุฃุฏูุงู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f2e/3cd/f61/f2e3cdf61589005f2e1cae0659f66467.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฏุฏ ุฌููุน ุงููุญุชููุงุช ูุงูุณุฎ ุฅูู ุงูุญุงูุธุฉ (Ctrl + C). </font><font style="vertical-align: inherit;">ุซู ูู ุจุชุดุบูู ูุญุฑุฑ Hex (Debug | Hex Editor ...). </font><font style="vertical-align: inherit;">ูู ูุงุฆูุฉ Hex Editor ุ ุญุฏุฏ View | </font><font style="vertical-align: inherit;">ููู ROM ุซู ููู | </font><font style="vertical-align: inherit;">ุงูุชูู ุฅูู ุงูุนููุงู. </font><font style="vertical-align: inherit;">ูู ูุฑุจุน ุญูุงุฑ Goto ุ ุฃุฏุฎู 5D10 (ุนููุงู ุฌุฏูู ุงูุฃุฒุฑุงุฑ ุงูุชุฌุฑูุจูุฉ ูู ููู ROM) ูุงููุฑ ููู Ok. </font><font style="vertical-align: inherit;">ุซู ุงูุตู ูุญุชููุงุช ุงูุญุงูุธุฉ (Ctrl + V).</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/bef/599/392/bef599392455c773652e850de13f6413.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ูู ูุงุฆูุฉ FCEUX ุ ุญุฏุฏ NES | </font><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ </font><font style="vertical-align: inherit;">ุฅุฐุง ุชูููุช ูู ุชูุฑุงุฑ ูู ูุฐู ุงูุฎุทูุงุช ุ ููุฌุจ ุงุณุชุจุฏุงู ุงููุณุฎุฉ ุงูุชุฌุฑูุจูุฉ ุจุฅุตุฏุงุฑู ุงูุฎุงุต. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชุฑูุฏ ุญูุธ ุงูุชุบููุฑุงุช ุ ูุญุฏุฏ File | </font><font style="vertical-align: inherit;">ุงุญูุธ Rom As ... ูุฃุฏุฎู ุงุณู ููู ROM ุงููุนุฏู ุ ุซู ุงููุฑ ููู Save. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุทุฑููุฉ ููุงุซูุฉ ุ ููููู ุถุจุท ุชุณูุณู tetriminos ุงูุฐู ุชู ุฅูุดุงุคู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงูููุช </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุฐูุฑ ุฃุนูุงู ุ ูุง ูููู ููุนุธู ุงููุงุนุจูู ุงูุชุนุงูู ูุน ุณุฑุนุฉ ูุฒูู ุงูุฃุฑูุงู ุนูุฏ ุงููุณุชูู 29 ุ ููุง ูุคุฏู ุจุณุฑุนุฉ ุฅูู ุฅููุงู ุงููุนุจุฉ. ูุฐูู ุ ุฃุตุจุญ ุงููุงุนุจูู ูุฑุชุจุทูู ุจุงุณู "ุดุงุดุฉ ุงูููุช". ูููู ูู ูุฌูุฉ ูุธุฑ ูููุฉ ุ ูุง ุชุณูุญ ุดุงุดุฉ ุงูููุช ููุงุนุจ ุจุงูุฐูุงุจ ุฅูู ุฃุจุนุฏ ูู ุฐูู ุจุณุจุจ ุฎุทุฃ ูุง ูููู ููู ุงูุงูุญุฏุงุฑ ุงูุณุฑูุน ุฎุทุฃู ูู ุงููุงูุน ุ ููููู ููุฒุฉ. ูุงู ุงููุตูููู ูุทูููู ููุบุงูุฉ ูุฏุฑุฌุฉ ุฃููู ุณูุญูุง ููุนุจุฉ ุจุงูุงุณุชูุฑุงุฑ ุจูููุง ูุงู ุงููุงุนุจ ูุงุฏุฑูุง ุนูู ุชุญูู ุงูุณุฑุนุฉ ุงูุฎุงุฑูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุธูุฑ ุดุงุดุฉ ุงูููุช ุงูุญููููุฉ ุนูู ูุง ููุฑุจ ูู 1550 ุตููุง ุชู ุณุญุจูุง. ูุชุฌูู ุจุทุฑู ูุฎุชููุฉ. ูู ุจุนุถ ุงูุฃุญูุงู ูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุนุจุฉ. ูู ุญุงูุงุช ุฃุฎุฑู ุ ุชุตุจุญ ุงูุดุงุดุฉ ุณูุฏุงุก. ุนุงุฏุฉ ูุง ุชุชุฌูุฏ ุงููุนุจุฉ ("ุชุฌูุฏ") ููุฑูุง ุจุนุฏ ุญุฐู ุตู ุ ููุง ูู ููุถุญ ุฃุฏูุงู. ุบุงูุจูุง ูุง ูุณุจู ูุฐู ุงูุชุฃุซูุฑุงุช ุงูุชุญู ุงูุฑุณูููุฉ ุงูุนุดูุงุฆูุฉ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/09d/7fe/4f3/09d7fe4f3ec1e77057c7ee5e252d8d75.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุงุดุฉ ุงูููุช ูู ูุชูุฌุฉ ุฎุทุฃ ูู ุงูุฑูุฒ ูุถูู ููุงุทูุง ุนูุฏ ุญุฐู ุงูุตููู. ูุชู ุชุฎุฒูู ุงูุญุณุงุจ ุงููููู ูู ุณุชุฉ ุฃุญุฑู ุจุงุนุชุจุงุฑู BCD ูุนุจุฃ ููููุงู 24 ุจุช ูููุน ูู </font></font><code>$0053</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$0055</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฅุฌุฑุงุก ุชุญูููุงุช ุจูู ุนุฏุฏ ุงูุตููู ูุงูููุงุท ุงูุชู ุชู ุงูุญุตูู ุนูููุง ุ ูุชู ุงุณุชุฎุฏุงู ุฌุฏูู ุ ูู ุฅุฏุฎุงู ููู ูููุฉ BCD ุตุบูุฑุฉ 16 ุจุช ูุนุจุฃุฉ. </font><font style="vertical-align: inherit;">ุจุนุฏ ุฒูุงุฏุฉ ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุตููู ูุฑุจูุง ุงููุณุชูู ุ ูุชู ุถุฑุจ ุงููููุฉ ูู ูุฐู ุงููุงุฆูุฉ ูู ุงููุณุชูู ุฑูู ุฒุงุฆุฏ ูุงุญุฏ ุ ูุชุชู ุฅุถุงูุฉ ุงููุชูุฌุฉ ุฅูู ุงูููุงุท. ูุฐุง ูุงุถุญ ูู ุงูุฌุฏูู ูู ูุชูุจ ูููุชูุฏู ุชุชุฑูุณ ุงููุฏูู:</font></font><br><br> <code>9CA5: 00 00 ; 0: 0 <br> 9CA7: 40 00 ; 1: 40 <br> 9CA9: 00 01 ; 2: 100 <br> 9CAB: 00 03 ; 3: 300 <br> 9CAD: 00 12 ; 4: 1200</code> <br> <br><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/34b/a36/7cf/34ba367cfefad47e493306fa6ef8fe3e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ุฃุฏูุงู ุ ุชุชู ูุญุงูุงุฉ ุนูููุฉ ุงูุถุฑุจ ุจุฏูุฑุฉ ุชุถูู ููุงุทูุง ุฅูู ุงููุชูุฌุฉ. ูุชู ุชูููุฐู ุจุนุฏ ููู ุงูุดูู ุ ุญุชู ูู ูู ูุชู ูุณุญ ุงูุตููู. </font><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ูุง ูุญุชูู Ricoh 2A03</font></a><font style="vertical-align: inherit;"> ุนูู ูุถุน ุนุดุฑู ุซูุงุฆู 6502 ุ ููููู ุชุจุณูุท ุฌุณู ุงูุฏูุฑุฉ ุจุดูู ูุจูุฑ. ุจุฏูุงู ูู ุฐูู ุ ูุชู ุฅุฌุฑุงุก ุงูุฅุถุงูุฉ ูู ุฎุทูุงุช ุจุงุณุชุฎุฏุงู ุงููุถุน ุงูุซูุงุฆู. ูุชู ุงูุญุตูู ุนูู ุฃู ุฑูู ูุชุฌุงูุฒ 9 ุจุนุฏ ุงูุฌูุน ุจุดูู ุฃุณุงุณู ุจุทุฑุญ 10 ูุฒูุงุฏุฉ ุงูุฃุฑูุงู ุงูููุฌูุฏุฉ ุนูู ุงููุณุงุฑ. ุนูู ุณุจูู ุงููุซุงู ุ </font><font style="vertical-align: inherit;">ูุชู ุชุญููููุง ุฅูู </font><font style="vertical-align: inherit;">. ููู ูุฐุง ุงููุฎุทุท ุบูุฑ ูุญูู ุจุงููุงูู. ุฎุฐ </font><font style="vertical-align: inherit;">: ุงูุดูู ุบูุฑ ูุงุฏุฑ ุนูู ุชุญููู ุงููุชูุฌุฉ ุฅูู</font></font><br><br> <code>9C31: LDA $0044 <br> 9C33: STA $00A8 <br> 9C35: INC $00A8 ; for(i = 0; i &lt;= level; i++) { <br> <br> 9C37: LDA $0056 <br> 9C39: ASL <br> 9C3A: TAX <br> 9C3B: LDA $9CA5,X ; points[0] = pointsTable[2 * completedLines]; <br> <br> 9C3E: CLC <br> 9C3F: ADC $0053 <br> 9C41: STA $0053 ; score[0] += points[0]; <br> <br> 9C43: CMP #$A0 <br> 9C45: BCC $9C4E ; if (upper digit of score[0] &gt; 9) { <br> <br> 9C47: CLC <br> 9C48: ADC #$60 <br> 9C4A: STA $0053 ; upper digit of score[0] -= 10; <br> 9C4C: INC $0054 ; score[1]++; <br> ; } <br> <br> 9C4E: INX <br> 9C4F: LDA $9CA5,X ; points[1] = pointsTable[2 * completedLines + 1]; <br> <br> 9C52: CLC <br> 9C53: ADC $0054 <br> 9C55: STA $0054 ; score[1] += points[1]; <br> <br> 9C57: AND #$0F <br> 9C59: CMP #$0A <br> 9C5B: BCC $9C64 ; if (lower digit of score[1] &gt; 9) { <br> <br> 9C5D: LDA $0054 <br> 9C5F: CLC ; lower digit of score[1] -= 10; <br> 9C60: ADC #$06 ; increment upper digit of score[1]; <br> 9C62: STA $0054 ; } <br> <br> 9C64: LDA $0054 <br> 9C66: AND #$F0 <br> 9C68: CMP #$A0 <br> 9C6A: BCC $9C75 ; if (upper digit of score[1] &gt; 9) { <br> <br> 9C6C: LDA $0054 <br> 9C6E: CLC <br> 9C6F: ADC #$60 <br> 9C71: STA $0054 ; upper digit of score[1] -= 10; <br> 9C73: INC $0055 ; score[2]++; <br> ; } <br> <br> 9C75: LDA $0055 <br> 9C77: AND #$0F <br> 9C79: CMP #$0A <br> 9C7B: BCC $9C84 ; if (lower digit of score[2] &gt; 9) { <br> <br> 9C7D: LDA $0055 <br> 9C7F: CLC ; lower digit of score[2] -= 10; <br> 9C80: ADC #$06 ; increment upper digit of score[2]; <br> 9C82: STA $0055 ; } <br> <br> 9C84: LDA $0055 <br> 9C86: AND #$F0 <br> 9C88: CMP #$A0 <br> 9C8A: BCC $9C94 ; if (upper digit of score[2] &gt; 9) { <br> <br> 9C8C: LDA #$99 <br> 9C8E: STA $0053 <br> 9C90: STA $0054 <br> 9C92: STA $0055 ; max out score to 999999; <br> ; } <br> <br> 9C94: DEC $00A8 <br> 9C96: BNE $9C37 ; }</code> <br> <br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>$07 + $07 = $0E</code><font style="vertical-align: inherit;"></font><code>$14</code><font style="vertical-align: inherit;"></font><code>$09 + $09 = $12</code><font style="vertical-align: inherit;"></font><code>$18</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููุชุนููุถ ุนู ุฐูู ุ ูุง ูุชุฌุงูุฒ ุฃุญุฏ ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ ูู ุงูุฅุฏุฎุงูุงุช ูู ุจุทุงูุฉ ุงูููุงุท 6. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุญุชู ุชุชููู ูู ุงุณุชุฎุฏุงููุง ุ ูููู ุงูุฑูู ุงูุฃุฎูุฑ ูู ุฌููุน ุงูุฅุฏุฎุงูุงุช ุฏุงุฆููุง 0. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุบุฑู ุงูุฃูุฑ ุจุนุถ ุงูููุช ูุฅููุงู ูุฐู ุงูุฏูุฑุฉ ุงูุทูููุฉ ูุงููุนูุฏุฉ. </font><font style="vertical-align: inherit;">ุนูู ุงููุณุชููุงุช ุงูุนุงููุฉ ุ ูุคุซุฑ ุนุฏุฏ ูุจูุฑ ูู ุงูุชูุฑุงุฑุงุช ุนูู ุชูููุช ุงููุนุจุฉ ุ ูุฃูู ูุณุชุบุฑู ุฃูุซุฑ ูู 1/60 ุซุงููุฉ ูุฅูุดุงุก ูู ุฅุทุงุฑ. </font><font style="vertical-align: inherit;">ูู ูุฐุง ูุชูุฌุฉ ุชุคุฏู ุฅูู ูุธุงูุฑ ูุฎุชููุฉ ูู "ุดุงุดุฉ ุงูููุช". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏ ุจุฑูุงูุฌ Lua AI ุงููุตู ูู ุนุฏุฏ ุงูุชูุฑุงุฑุงุช ูู ุงูุญููุฉ ุฅูู 30 - ุงููููุฉ ุงููุตูู ุงูุชู ูููู ุฃู ูุญูููุง ุงููุตูููู ููุง ุตูููุง ุงููุตูููู ุ ููุง ููุบู ุดุงุดุฉ ุงูููุช.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุงูุงุช </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุชูุจ Nintendo Tetris ุ ุชู ูุตู ูุนุจุฉ A-Type ููุง ููู: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c53/f16/5ea/c53f165ea675badb06f75f6409f6c836.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุงูุฆ ุงููุนุจุฉ ุงููุงุนุจูู ุงูุฐูู ุณุฌููุง ุนุฏุฏูุง ูุจูุฑูุง ุจูุง ููู ุงูููุงูุฉ ูู ุงูููุงุท ูู ุฅุญุฏู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฎูุณ ููููุงูุงุช. ูุนุชูุฏ ุงุฎุชูุงุฑ ุงูููุงูุฉ ุชูุงููุง ุนูู ุงูุฑูููู ูู ุฃูุตู ุงููุณุงุฑ ูู ุงููุชูุฌุฉ ุงูููููุฉ ูู ุณุชุฉ ุฃุฑูุงู. ููุง ูู ููุถุญ ุฃุฏูุงู ุ ููุญุตูู ุนูู ุฃุญุฏ ุงูููุงูุงุช ุ ูุฌุจ ุนูู ุงููุงุนุจ ุชุณุฌูู ูุง ูุง ููู ุนู 30ุ000 ููุทุฉ. </font><font style="vertical-align: inherit;">ููู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ ุฃู </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">ูุฑุขุฉ ุงูุนูุงููู </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">. ูุชู ุชูุฑุงุฑ ุงูุญุณุงุจ ูู ุงูุนูุงููู </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุจุนุฏ ุงุฌุชูุงุฒ ุงูุงุฎุชุจุงุฑ ุงูุฃูู ุ ูุชู ุชุญุฏูุฏ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูููุงุฆูุฉ ุจุจูุงู ุงูุชุจุฏูู ุงูุชุงูู.</font></font><br><br> <code>9A4D: LDA $0075 <br> 9A4F: CMP #$03 <br> 9A51: BCC $9A5E ; if (score[2] &gt;= $03) { <br> <br> 9A53: LDA #$80 <br> 9A55: JSR $A459 <br> 9A58: JSR $9E3A <br> 9A5B: JMP $9A64 ; select ending; <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>$0060</code><font style="vertical-align: inherit;"></font><code>$007F</code><font style="vertical-align: inherit;"></font><code>$0040</code><font style="vertical-align: inherit;"></font><code>$005F</code><font style="vertical-align: inherit;"></font><code>$0073</code><font style="vertical-align: inherit;"></font><code>$0075</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br> <code>A96E: LDA #$00 <br> A970: STA $00C4 <br> A972: LDA $0075 ; if (score[2] &lt; $05) { <br> A974: CMP #$05 ; ending = 0; <br> A976: BCC $A9A5 ; } <br> <br> A978: LDA #$01 <br> A97A: STA $00C4 <br> A97C: LDA $0075 ; else if (score[2] &lt; $07) { <br> A97E: CMP #$07 ; ending = 1; <br> A980: BCC $A9A5 ; } <br> <br> A982: LDA #$02 <br> A984: STA $00C4 <br> A986: LDA $0075 ; else if (score[2] &lt; $10) { <br> A988: CMP #$10 ; ending = 2; <br> A98A: BCC $A9A5 ; } <br> <br> A98C: LDA #$03 <br> A98E: STA $00C4 <br> A990: LDA $0075 ; else if (score[2] &lt; $12) { <br> A992: CMP #$12 ; ending = 3; <br> A994: BCC $A9A5 ; } <br> <br> A996: LDA #$04 ; else { <br> A998: STA $00C4 ; ending = 4; <br> ; }</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ ุ ูุชู ุฅุทูุงู ุตูุงุฑูุฎ ุฐุงุช ุญุฌู ูุชุฒุงูุฏ ูู ููุตุฉ ุงูุฅุทูุงู ุจุฌูุงุฑ ูุงุชุฏุฑุงุฆูุฉ ุณุงูุช ุจุงุณูู. </font><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ ุงูุฑุงุจุนุฉ ุ ูุชู ุนุฑุถ ุงููุฑูุจุฉ ุงููุถุงุฆูุฉ ุจูุฑุงู - ุงููุณุฎุฉ ุงูุณูููุชูุฉ ูู ูููู ุงููุถุงุก ุงูุฃูุฑููู. </font><font style="vertical-align: inherit;">ูู ุฃูุถู ุงูููุงูุฉ ุ ุชุฑุชูุน ุงููุงุชุฏุฑุงุฆูุฉ ููุณูุง ูู ุงูููุงุก ุ ูุชุชุฏูู UFO ููู ููุญุฉ ุงูุฅุทูุงู. </font><font style="vertical-align: inherit;">ูููุง ููู ุตูุฑุฉ ููู ููุงูุฉ ูุงููุชูุฌุฉ ุงููุฑุชุจุทุฉ ุจูุง.</font></font><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td> <code>30000โ49999</code> <div style="text-align:center;;text-align:right;direction:rtl"> <img src="https://habrastorage.org/getpro/habr/post_images/0b9/b73/4b4/0b9b734b43dae52eccafaa71e3c1441d.png"></div></td><td> <code>50000โ69999</code> <div style="text-align:center;;text-align:right;direction:rtl"> <img src="https://habrastorage.org/getpro/habr/post_images/ade/f93/f39/adef93f395eb2bef2c1fd71562857c39.png"></div></td><td> <code>70000โ99999</code> <div style="text-align:center;;text-align:right;direction:rtl"> <img src="https://habrastorage.org/getpro/habr/post_images/df3/480/b63/df3480b63de128a70b7c9e4dd7cec81f.png"></div></td></tr><tr><td> <code>100000โ119999</code> <div style="text-align:center;;text-align:right;direction:rtl"> <img src="https://habrastorage.org/getpro/habr/post_images/8e3/91a/658/8e391a6581df6e7ec0c08134b6a6d5bf.png"></div></td><td> <code>120000+</code> <div style="text-align:center;;text-align:right;direction:rtl"> <img src="https://habrastorage.org/getpro/habr/post_images/3e1/2bd/42f/3e12bd42ffc331742d809325db418f78.png"></div></td><td></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุถุน ูุนุจุฉ B-Type ุ ูุชู ุชูููุฐ ุงุฎุชุจุงุฑ ุขุฎุฑ ุ ููุตูู ูู ูุชูุจ Nintendo Tetris ุนูู ุงููุญู ุงูุชุงูู: </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0aa/929/624/0aa929624f41a68ea1388b6ba9013dd3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุฌุญ ุงููุงุนุจ ูู ูุณุญ 25 ุตููุง ุ ูุณุชุนุฑุถ ุงููุนุจุฉ ุงูููุงูุฉ ุ ุงุนุชูุงุฏูุง ุนูู ุงููุณุชูู ุงูุฃููู. ุชุชููู ููุงูุงุช ุงููุณุชููุงุช ูู 0 ุฅูู 8 ูู ุญููุงูุงุช ูุฃุดูุงุก ุชุญูู ุฃู ุชุฌุฑู ูู ุงูุฅุทุงุฑ ุ ุชูุฑ ุจุดูู ุบุงูุถ ุฎูู ูุงุชุฏุฑุงุฆูุฉ ุงููุฏูุณ ุจุงุณูู. ูุธูุฑ UFO ูู ุฃูุถู ููุงูุฉ ููุถุน A-Type ูู ุงูููุงูุฉ 3. ูู ุงูููุงูุฉ 4 ุ ุชุธูุฑ ุงูุชูุฑูุตูุฑุงุช ุงูุทุงุฆุฑุฉ ุงููููุฑุถุฉ ุ ููู ุงูููุงูุฉ 7 ุชุธูุฑ ุชูุงููู ุงูุทูุฑุงู ุงูุฃุณุทูุฑูุฉ. ูู ุงูููุงูุชูู 2 ู 6 ุ ูุชู ุนุฑุถ ุทููุฑ ุจูุง ุฃุฌูุญุฉ: ุชุดุบูู ุทููุฑ ุงูุจุทุฑูู ูุงููุนุงู. ูู ููุงูุฉ 5 ุ ุชูุชูุฆ ุงูุณูุงุก ุจููุงุทูุฏ GOOD (ูุฌุจ ุนุฏู ุงูุฎูุท ุจูููุง ูุจูู ุงูููุงุทูุฏ Goodyear). ููู ููุงูุฉ 8 ุ ุงูุชุณุญ ุงููุซูุฑ ูู "ุจูุฑุงูุงุณ" ุงูุดุงุดุฉ ุ ุนูู ุงูุฑุบู ูู ูุฌูุฏ ูุงุญุฏุฉ ููุท ูู ุงููุงูุน. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ุงุฑุชูุงุน ุงูุจุฏุงูุฉ (ุฒุงุฆุฏ 1) ููุถุงุนู ุ ููุงูุฆ ุงููุงุนุจ ุจุนุฏุฏ ูุจูุฑ ูู ุงูุญููุงูุงุช / ุงูุฃุดูุงุก ูุฒูุงุฏุฉ ุงูุชุนููุฏ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃูุถู ููุงูุฉ ูู B-Type ุ ุชุธูุฑ ููุนุฉ ูููุฆุฉ ุจุดุฎุตูุงุช ูู ุนุงูู Nintendo: ุงูุฃููุฑุฉ Peach ุชุตูู ุจูุฏููุง ุ ูุชูุนุจ Kid Icarus ุงูููุงู ุ ูุชุฏู Donkey Kong ุนูู ุงูุทุจู ุงููุจูุฑ ุ ูุชุฑูุต Mario ู Luigi ุ ู Bowser ููุนุจ ุงูุฃููุฑุฏููู ุ ู Samus ููุนุจ ุงูุชุดููู ุ Link - ุนูู ุงููุงู ุ ุจูููุง ุชุฑุชูุน ูุจุงุจ ูุงุชุฏุฑุงุฆูุฉ ุงููุฏูุณ ุจุงุณูู ูู ุงูููุงุก. ูุนุชูุฏ ููุฏุงุฑ ูุฐู ุงูุนูุงุตุฑ ุงูููุถุญุฉ ูู ุงูููุงูุฉ ุนูู ุงูุงุฑุชูุงุน ุงูุฃููู. ูููุง ููู ุตูุฑ ูุฌููุน ุงูููุงูุงุช ุงูุนุดุฑ.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5d9/c8e/525/5d9c8e525177613cb3fcd59c7c6aa53a.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ade/2fc/f3d/ade2fcf3d389b67e5d4b3d7e8c5c1ea0.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ec9/bd3/9dd/ec9bd39dd26529013d7d408f6a4e855b.png"></div></td></tr><tr><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fdb/125/132/fdb125132ecaed550966562b5e08f169.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/22b/758/028/22b75802841a3b558f8fae476f2d2598.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/43e/710/858/43e710858220b08e1860da00a309c665.png"></div></td></tr><tr><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dda/332/1d5/dda3321d5e5246d2aa92eafb69f3cf5d.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c6f/2d0/843/c6f2d0843995d294393bbbf277b83bdf.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/572/3b8/f29/5723b8f2919ac35746b52923d59dbf41.png"></div></td></tr><tr><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/639/938/9df/6399389dfff187a8db7ac92f1dc815e3.png"></div></td><td></td><td></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ููุฐูุงุก ุงูุงุตุทูุงุนู ูุณุญ ุฌููุน ุงูุตููู ุงูุฎูุณุฉ ูุงูุนุดุฑูู ุงููุทููุจุฉ ูู ูุถุน B-Type ุจุณุฑุนุฉ ุนูุฏ ุฃู ูุณุชูู ุฃู ุงุฑุชูุงุน ุฃููู ุ ููุง ูุณูุญ ูู ุจูุดุงูุฏุฉ ุฃู ูู ุงูููุงูุงุช. ูู ุงูุฌุฏูุฑ ุฃูุถูุง ุชูููู ูุฏู ุชุนุงููู ูุน ุฃููุงู ูุจูุฑุฉ ูู ุงููุชู ุงูุนุดูุงุฆูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงูุงุช ูู 0 ุฅูู 8 ุ ูููู ุฃู ูุชุญุฑู ูุง ูุตู ุฅูู 6 ูุงุฆูุงุช ูู ุงูุฅุทุงุฑ. ูุชู ุชุฎุฒูู ุฅุญุฏุงุซูุงุช y ูููุงุฆูุงุช ูู ุฌุฏูู ููุฌูุฏ ุนูุฏ </font></font><code>$A7B7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุชุฎุฒูู ุงููุณุงูุงุช ุงูุฃูููุฉ ุจูู ุงููุงุฆูุงุช ูู ุฌุฏูู ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุญุฏุฏ </font><font style="vertical-align: inherit;">ุชุณูุณู ุงูููู ุจุนูุงูุฉ ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">ุณุฑุนุฉ ูุงุชุฌุงู ุงููุงุฆูุงุช. </font><font style="vertical-align: inherit;">ูุชู ุชุฎุฒูู ูุคุดุฑุงุช ุงูุนูุฑูุช ูู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ูุชููู ูู ูุงุฆู ูู ุงุซููู ูู ุงูุนูุงุฑูุช ูุน ูุคุดุฑุงุช ูุชุฌุงูุฑุฉ. ููุญุตูู ุนูู ุงูููุฑุณ ุงูุซุงูู ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ 1. ุนูู ุณุจูู ุงููุซุงู ุ ูุชููู ุงูุชููู ูู</font></font><br><br> <code>A7B7: 98 A8 C0 A8 90 B0 ; 0 <br> A7BD: B0 B8 A0 B8 A8 A0 ; 1 <br> A7C3: C8 C8 C8 C8 C8 C8 ; 2 <br> A7C9: 30 20 40 28 A0 80 ; 3 <br> A7CF: A8 88 68 A8 48 78 ; 4 <br> A7D5: 58 68 18 48 78 38 ; 5 <br> A7DB: C8 C8 C8 C8 C8 C8 ; 6 <br> A7E1: 90 58 70 A8 40 38 ; 7 <br> A7E7: 68 88 78 18 48 A8 ; 8</code> <br> <br><font style="vertical-align: inherit;"></font><code>$A77B</code><font style="vertical-align: inherit;"></font><br><br> <code>A77B: 3A 24 0A 4A 3A FF ; 0 <br> A781: 22 44 12 32 4A FF ; 1 <br> A787: AE 6E 8E 6E 1E 02 ; 2 <br> A78D: 42 42 42 42 42 02 ; 3 <br> A793: 22 0A 1A 04 0A FF ; 4 <br> A799: EE DE FC FC F6 02 ; 5 <br> A79F: 80 80 80 80 80 FF ; 6 <br> A7A5: E8 E8 E8 E8 48 FF ; 7 <br> A7AB: 80 AE 9E 90 80 02 ; 8</code> <br> <br><font style="vertical-align: inherit;"></font><code>$A771</code><font style="vertical-align: inherit;"></font><br><br> <code>A771: 01 ; 0: 1 <br> A772: 01 ; 1: 1 <br> A773: FF ; 2: -1 <br> A774: FC ; 3: -4 <br> A775: 01 ; 4: 1 <br> A776: FF ; 5: -1 <br> A777: 02 ; 6: 2 <br> A778: 02 ; 7: 2 <br> A779: FE ; 8: -1</code> <br> <br><font style="vertical-align: inherit;"></font><code>$A7F3</code><font style="vertical-align: inherit;"></font><br><br> <code>A7F3: 2C ; 0: dragonfly <br> A7F4: 2E ; 1: dove <br> A7F5: 54 ; 2: penguin <br> A7F6: 32 ; 3: UFO <br> A7F7: 34 ; 4: pterosaur <br> A7F8: 36 ; 5: blimp <br> A7F9: 4B ; 6: ostrich <br> A7FA: 38 ; 7: dragon <br> A7FB: 3A ; 8: Buran</code> <br> <br><font style="vertical-align: inherit;"></font><code>$38</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>$39</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุชุถููู ุงูุจูุงุท ููุฐู ุงูุนูุงุฑูุช ูู ุฌุฏุงูู ุงูุฃููุงุท ุฃุฏูุงู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/86d/524/373/86d5243738d9c3e34db5318889c4f894.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d82/2d1/229/d822d122984b77a0973f08feac962647.png"></div></td><td><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d8a/3c1/9b5/d8a3c19b513fb9f7338e250b97fdeac1.png"></div></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง ุจูุญุต ุงูุทุงููุฉ ุงููุฑูุฒูุฉ ููููุท ุฃุนูุงู ุ ูุชู ุงุณุชุฎุฏุงูู ูุนุฑุถ tetrimino ูููุนุจ ุงููุนุจ. </font><font style="vertical-align: inherit;">ููู ุงููุซูุฑ ููุงูุชูุงู ุฃูู ูุญุชูู ุนูู ุงูุฃุจุฌุฏูุฉ ุจุฃููููุง ุ ุจูููุง ูุญุชูู ุงูุขุฎุฑูู ุนูู ุฌุฒุก ููู ููุท ูุชูููุฑ ุงููุณุงุญุฉ. </font><font style="vertical-align: inherit;">ููู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ุงูุทุงุฆุฑุงุช ู ุทุงุฆุฑุงุช ุงููููููุจุชุฑ ูู ุฌุฏูู ุงูููุท ุนูู ุงููุณุงุฑ. </font><font style="vertical-align: inherit;">ูุง ุชุธูุฑ ูู ุงูููุงูุงุช ุฃู ูู ุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงููุนุจุฉ. </font><font style="vertical-align: inherit;">ูุงุชุถุญ ุฃู ุงูุทุงุฆุฑุฉ ูุงููุฑูุญูุฉ ูุฏููุง ูุคุดุฑุงุช ุงูุนูุงุฑูุช </font></font><code>$30</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>$16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููู ุชุบููุฑ ุงูุฌุฏูู ุงููุจูู ุฃุนูุงูุ ุฃู ูุฑุงูู ูู ุงูุนูู.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/04e/2e2/203/04e2e2203b1581876d99736ad9b56fd6.png"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/445/153/3b4/4451533b43874485cb5a0cdfd9df0c58.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณูุก ุงูุญุธ ุ ูุง ูุชู ุนุฑุถ ุญูุงูู ุทุงุฆุฑุงุช ุงููููููุจุชุฑ ุ ูููู ุงูุฏูุงุฑุงุช ุงูุฑุฆูุณูุฉ ูุงูุฐูู ูุชุญุฑูุฉ ุจุดูู ุฌููู. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 ูุงุนุจ ููุงุจู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู Nintendo Tetris ุนูู ูุถุน ุบูุฑ ููุชูู ููุงุนุจูู ููููู ุชููููู ุนู ุทุฑูู ุชุบููุฑ ุนุฏุฏ ุงููุงุนุจูู ( </font></font><code>$00BE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุฅูู 2. ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูุธูุฑ ุญูููู ููุฃูุนุงุจ ุนูู ุฎูููุฉ ูุถุน ูุงุนุจ ูุงุญุฏ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/418/6e7/2af/4186e72af40c6c617996ca2f8d39a72c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชูุฌุฏ ุญุฏูุฏ ุจูู ุงูุญููู ูุฃู ุงูููุทูุฉ ุงููุฑูุฒูุฉ ููุฎูููุฉ ุณูุฏุงุก ุตูุจุฉ. ุชุดูุฑ ุงูููู </font></font><code>003</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุถุญุฉ ุฃุนูู ููุงุฏูู ุงููุนุจ ุฅูู ุนุฏุฏ ุงูุตููู ุงูุชู ุชู ูุญููุง ูู ูุจู ูู ูุงุนุจ. ูุธูุฑ ุงูุฑูู ุงููุดุชุฑู ุงููุญูุฏ ููุงุนุจูู ูู ููุณ ุงูููุงู ููุง ูู ูุถุน ูุงุนุจ ูุงุญุฏ. ูุณูุก ุงูุญุธ ุ ููุน ูู ุงูููุนุจ ุงูุตุญูุญ. ูุชู ุชูููู ุงููุฑุจุนุงุช ูุงูุจูุงุท ุงูุขุฎุฑ ุจุดูู ุบูุฑ ุตุญูุญ. ูุนูุฏูุง ูุฎุณุฑ ุงููุงุนุจ ุงููุนุจุฉ ูุฑุฉ ุฃุฎุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฅุฐุง ุชุฌุงููุช ูุฐู ุงููุดุงูู ุ ูุฅู ุงููุถุน ูุงุจู ููุชุดุบูู ุชูุงููุง. ูููู ููู ูุงุนุจ ุงูุชุญูู ุจุดูู ูุณุชูู ูู ุงููุทุน ูู ุงูููุนุจ ุงูููุงุจู. ูุนูุฏูุง ููุชุจ ุงููุงุนุจ ูุฒุฏูุฌูุง ุฃู ุซูุงุซููุง ุฃู Tetris (ุฃู ููุณุญ ุตููู ุฃู ุซูุงุซุฉ ุฃู ุฃุฑุจุนุฉ ุตููู) ุ ุชุธูุฑ ุตููู ุงูููุงูุฉ ุงูุชู ุชุญุชูู ุนูู ูุฑุจุน ููููุฏ ูู ุงูุฌุฒุก ุงูุณููู ูู ุณุงุญุฉ ูุนุจ ุงูุฎุตู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฌุฏ ุญูู ุฅุถุงูู ูู </font></font><code>$0500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฃ </font></font><code>$0060</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$007F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุงุฏุฉ ูุง ุชููู ูุฑุขุฉ </font></font><code>$0040</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$005F</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ููุงุนุจ ุงูุซุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุฃุฑุฌุญ ุ ุชู ุงูุชุฎูู ุนู ูุฐุง ุงููุถุน ุงููุซูุฑ ููุงูุชูุงู ุจุณุจุจ ุฌุฏูู ุงูุชุทููุฑ ุงููุฒุฏุญู. ุฃู ุฑุจูุง ุชุฑู ุนูุฏุง ุบูุฑ ููุชูู. ุฃุญุฏ ุฃุณุจุงุจ ุงุฎุชูุงุฑ Tetris ููุนุจุฉ ุงููุฑููุฉ ูุน Nintendo Game Boy ูู ุชุดุฌูุนูุง ุนูู ุดุฑุงุก </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Game Link Cable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ููุญู ูุฑุจุท ุจูู Game Boys ูุนูุง ูุชุดุบูู 2 ูุงุนุจ ููุงุจู ุงููุถุน. </font><font style="vertical-align: inherit;">ุฃุถุงู ูุฐุง ุงููุจู ุนูุตุฑ "ุงุฌุชูุงุนูุฉ" ุฅูู ุงููุธุงู - ุดุฌุน ุงูุฃุตุฏูุงุก ุนูู ุดุฑุงุก Game Boy ููุงูุถูุงู ุฅูู ุงููุฑุญ. </font><font style="vertical-align: inherit;">ุฑุจูุง ูุงูุช ูููุชูุฏู ุฎุงุฆูุฉ ูู ุฃูู ุฅุฐุง ูุงู ุฅุตุฏุงุฑ ูุญุฏุฉ ุงูุชุญูู ูู ุงููุนุจุฉ ูุญุชูู ุนูู 2 ูุงุนุจ ููุงุจู ุงููุถุน ุ ูุฅู ุงูููุฉ "ุงูุฅุนูุงููุฉ" ูู Tetris ุ ุงูุชู ุญูุฒุช ุดุฑุงุก Game Boy ุ ูุฏ ุชุถุนู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุณููู ูุงููุคุซุฑุงุช ุงูุตูุชูุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุดุบูู ููุณููู ุงูุฎูููุฉ ุนูุฏ ุชุนููู </font></font><code>$06F5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุญุฏู ุงูููู ุงููุฏุฑุฌุฉ ูู ุงูุฌุฏูู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงููููุฉ </th><th>  ุงููุตู </th></tr><tr><td> <code>01</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู ุดุงุดุฉ ุงูุจุฏุงูุฉ ุบูุฑ ุงููุณุชุฎุฏูุฉ </font></font></td></tr><tr><td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชู ุชุญููู ูุฏู ูุถุน B-Type </font></font></td></tr><tr><td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู -1 </font></font></td></tr><tr><td> <code>04</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู -2 </font></font></td></tr><tr><td> <code>05</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู -3 </font></font></td></tr><tr><td> <code>06</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู 1 ุงููุฌุฑู </font></font></td></tr><tr><td> <code>07</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู - 2 ุฃููุบุฑู </font></font></td></tr><tr><td> <code>08</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุณููู 3 โโุงููุฌุฑู </font></font></td></tr><tr><td> <code>09</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงูุชูุงูู </font></font></td></tr><tr><td> <code>0A</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุงูุงุช </font></font></td></tr><tr><td> <code>0B</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชู ุชุญููู ูุฏู ูุถุน B-Type </font></font></td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุงูุงุณุชูุงุน ุฅูู ุงูููุณููู ุบูุฑ ุงููุณุชุฎุฏูุฉ ูู ุดุงุดุฉ ุงูุชููู </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูู ุงููุนุจุฉ ููุณูุง ุ ูุง ุดูุก ูุจุฏู ุฃุซูุงุก ุดุงุดุฉ ุงูุชููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Music-1 ูู ูุณุฎุฉ ูู " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dance of the Dragee Fairy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ุ ููุณููู ุฑุงูุตุฉ ุงูุจุงููู ูู ุงููุตู ุงูุซุงูุซ ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas de deux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> waltz </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"The Nutcracker" ูู ุชุฃููู</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุดุงููููุณูู. ุงูููุณููู ุงูููุงุฆูุฉ ูู ุดูู ูุฎุชูู ูู " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุขูุงุช ุจูููุงูุชุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ุ ููู ุฃุบููุฉ ูู ุฃูุจุฑุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฑูู</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฌูุฑุฌ ุจูุฒูุช. ูุชู ุชุฑุชูุจ ูุฐู ุงููุคููุงุช ูู ูุจู ูุคูู ุงูููุณููู ุงููุชุจููุฉ ูู ููุณููู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฑููุงุฒู ุชุงูุงูุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Music-2 ูุณุชูุญุงุฉ ูู ุงูุฃุบุงูู ุงูููููููุฑูุฉ ุงูุฑูุณูุฉ ุงูุชูููุฏูุฉ. ุงูููุณููู -3 ุบุงูุถุฉ ููุณุชูุจููุฉ ูุนุทุงุก. ููุชุฑุฉ ูู ุงูููุช ุ ูุงูุช ูุบูุฉ ุฑููู ูุงุชู Nintendo of America ูุฏุนู ุงูุนููุงุก.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณุงุนุฏุฉ ุงููุงุนุจ ุนูู ุงููููุน ูู ุญุงูุฉ ูู ุงูุฐุนุฑ ุนูุฏูุง ููุชุฑุจ ุงุฑุชูุงุน ุงููููุฉ ูู ุณูู ุงูููุนุจ ุ ุชุจุฏุฃ ูุณุฎุฉ ูู ููุณููู ุงูุฎูููุฉ ูู ุงููุนุจ ุจูุชูุฑุฉ ุณุฑูุนุฉ ( </font></font><code>$06</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$08</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุงููุซูุฑ ููุงูุชูุงู ุฃูู ูู ุจูู ุงููุคููุงุช ุงูููุณูููุฉ ูุง ููุฌุฏ " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุงุจูุงู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ุ ููู ููุถูุน ุดููุฑ ูุจุฏู ูู Game Boy Tetris. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุฏุฃุช ุงููุคุซุฑุงุช ุงูุตูุชูุฉ ุนู ุทุฑูู ุงููุชุงุจุฉ ุฅูู </font></font><code>$06F0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>$06F1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง ููุฌุฏูู ุงูุชุงูู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนููุงู </font></font></th><th>  ุงููููุฉ </th><th>  ุงููุตู </th></tr><tr><td> <code>06F0</code> </td> <td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุณุชุงุฑุฉ ููุงูุฉ ุงููุนุจุฉ </font></font></td></tr><tr><td> <code>06F0</code> </td> <td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุตุงุฑูุฎ ูู ุงูููุงูุฉ </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>01</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุฎุชูุงุฑ ุฎูุงุฑ ุงููุงุฆูุฉ </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุฎุชูุงุฑ ุดุงุดุฉ ุงููุงุฆูุฉ </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tetrimino Shift </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>04</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชููู ุชุชุฑูุณ </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>05</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชูุงูุจ ุชุชุฑููููู </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>06</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุชูู ุฌุฏูุฏ </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>07</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู Tetrimino </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>08</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููููู </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>09</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชูุธูู ุงูุตู </font></font></td></tr><tr><td> <code>06F1</code> </td> <td> <code>0A</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชูุชูุฆ ุงูุตู </font></font></td></tr></tbody></table></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุงูุงุช ุงููุนุจุฉ ูุฃูุถุงุน ุงูุนุฑุถ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุซูุงุก ุงููุนุจ ุ ูุชู ุชูุซูู ุงูุญุงูุฉ ุงูุญุงููุฉ ููุนุจุฉ ุจุนุฏุฏ ุตุญูุญ ูู ุงูุนููุงู </font></font><code>$0048</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ูุนุธู ุงูุฃุญูุงู ูููู ูู ูุนูู </font></font><code>$01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุดูุฑ ุฅูู ุฃู ุงููุงุนุจ ูุชุญูู ูู tetrimino ุงููุดุท. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ุนูุฏูุง ูุชู ุชุซุจูุช ุงููุทุนุฉ ูู ููุงููุง ุ ุชูุชูู ุงููุนุจุฉ ุชุฏุฑูุฌููุง ูู ุฏููุฉ </font></font><code>$02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ุฃุฎุฑู </font></font><code>$08</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุง ูู ููุถุญ ูู ุงูุฌุฏูู.</font></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุดุฑุท </th><th>  ุงููุตู </th></tr><tr><td> <code>00</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุนุฑู ุงูุงุชุฌุงู ุบูุฑ ุงููุนูู </font></font></td></tr><tr><td> <code>01</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชุญูู ุงููุงุนุจ ูู tetrimino ุงููุดุท </font></font></td></tr><tr><td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู Tetrimino ูู ุงูููุนุจ </font></font></td></tr><tr><td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุต ุงูุตููู ุงูููููุกุฉ </font></font></td></tr><tr><td> <code>04</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนุฑุถ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุชูุธูู ุงูุตู </font></font></td></tr><tr><td> <code>05</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุญุฏูุซ ุงูุตููู ูุงูุฅุญุตุงุฆูุงุช </font></font></td></tr><tr><td> <code>06</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุญูู ูู ูุฏู ูุถุน B-Type </font></font></td></tr><tr><td> <code>07</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุบูุฑ ูุณุชุฎุฏู </font></font></td></tr><tr><td> <code>08</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก Tetrimino ุงูุชุงูู </font></font></td></tr><tr><td> <code>09</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุบูุฑ ูุณุชุฎุฏู </font></font></td></tr><tr><td> <code>0A</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุญุฏูุซ ูุนุจุฉ ุงูุณุชุงุฑุฉ </font></font></td></tr><tr><td> <code>0B</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฒูุงุฏุฉ ุญุงูุฉ ุงูุฃูุนุงุจ </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุซ ุชูุฑุน ุงูุฑูุฒ ุ ููููุง ูุญุงูุฉ ุงููุนุจุฉ ุ ุนูู ุงูุนููุงู ุงูุชุงูู </font></font><code>$81B2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">ูู ุญุงูุฉ </font><font style="vertical-align: inherit;">ุงูุชุจุฏูู ุ ููุชูู ุฅูู ุงูุฑูุฒ ุงูุฐู ูุนูู </font><font style="vertical-align: inherit;">ูููุฉ </font><font style="vertical-align: inherit;">ุชุดูุฑ ุฅูู ุฃู ุงูุงุชุฌุงู ุบูุฑ ูุญุฏุฏ. </font><font style="vertical-align: inherit;">ุงููุนุงูุฌ ูุง ูุณูู ุฃุจุฏุงูุ ููุน ุฐูู ุ ุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">ุจูุซุงุจุฉ ุฅุดุงุฑุฉ ุฅูู ุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </font><font style="vertical-align: inherit;">ุชุณูุญ </font><font style="vertical-align: inherit;">ุงูุญุงูุฉ </font><font style="vertical-align: inherit;">ููุงุนุจ ุจุชุญููู ูุชุฏููุฑ ูุฎูุถ ุงูุชุชุฑููููู ุงููุดุท: </font><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ูู ุงูุฃูุณุงู ุงูุณุงุจูุฉ ุ ูุฅู ุฅุฌุฑุงุกุงุช ุงูุชุญูู ูุงูุชูุงูุจ ูุงูุฎูุถ ููุดูู ูุจู ุชูููุฐ ุงูุฑูุฒ ุชุญูู ูู ุงูููุงุถุน ุงูุฌุฏูุฏุฉ ูู tetrimino. ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูููุน ุดูู ูู ุงููุถุน ุงูุฎุงุทุฆ ูู ุฅูุดุงุฆู ุฃุนูู ุดูู ููุฌูุฏ. ูู ูุฐู ุงูุญุงูุฉ ุชูุชูู ุงููุนุจุฉ. ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูููู ุฑูุฒ ุงูุญุงูุฉ ุจุฅุฌุฑุงุก ูุฐุง ุงููุญุต.</font></font><br><br> <code>81B2: LDA $0048 <br> 81B4: JSR $AC82 ; switch(playState) { <br> 81B7: 2F 9E ; case 00: goto 9E2F; // Unassign orientationID <br> 81B9: CF 81 ; case 01: goto 81CF; // Player controls active Tetrimino <br> 81BB: A2 99 ; case 02: goto 99A2; // Lock Tetrimino into playfield <br> 81BD: 6B 9A ; case 03: goto 9A6B; // Check for completed rows <br> 81BF: 39 9E ; case 04: goto 9E39; // Display line clearing animation <br> 81C1: 58 9B ; case 05: goto 9B58; // Update lines and statistics <br> 81C3: F2 A3 ; case 06: goto A3F2; // B-Type goal check; Unused frame for A-Type <br> 81C5: 03 9B ; case 07: goto 9B03; // Unused frame; Execute unfinished 2 player mode logic <br> 81C7: 8E 98 ; case 08: goto 988E; // Spawn next Tetrimino <br> 81C9: 39 9E ; case 09: goto 9E39; // Unused <br> 81CB: 11 9A ; case 0A: goto 9A11; // Update game over curtain <br> 81CD: 37 9E ; case 0B: goto 9E37; // Increment play state <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00</code><font style="vertical-align: inherit;"></font><code>orientationID</code><font style="vertical-align: inherit;"></font><code>$13</code><font style="vertical-align: inherit;"></font><br><br> <code>9E2F: LDA #$13 <br> 9E31: STA $0042 ; orientationID = UNASSIGNED; <br> <br> 9E33: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>$01</code><font style="vertical-align: inherit;"></font><br><br> <code>81CF: JSR $89AE ; shift Tetrimino; <br> 81D2: JSR $88AB ; rotate Tetrimino; <br> 81D5: JSR $8914 ; drop Tetrimino; <br> <br> 81D8: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>$02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงููุถุน ุงููููู ุตุญูุญูุง ุ ูุฅูู ูุถุน ุนูุงูุฉ ุนูู ุงูุฎูุงูุง ุงูุฃุฑุจุน ุงููุฑุชุจุทุฉ ุจูุฌุงู ุงููุนุจ ุนูู ุฃููุง ูุดุบููุฉ. ูุจุฎูุงู ุฐูู ุ ุชูุชูู ุฅูู ุญุงูุฉ </font><font style="vertical-align: inherit;">- ุงูุณุชุงุฑ ุงููุดุคูู ูููุงูุฉ ุงููุนุจุฉ.</font></font><br><br> <code>99A2: JSR $948B ; if (new position valid) { <br> 99A5: BEQ $99B8 ; goto updatePlayfield; <br> ; } <br> <br> 99A7: LDA #$02 <br> 99A9: STA $06F0 ; play curtain sound effect; <br> <br> 99AC: LDA #$0A <br> 99AE: STA $0048 ; playState = UPDATE_GAME_OVER_CURTAIN; <br> <br> 99B0: LDA #$F0 <br> 99B2: STA $0058 ; curtainRow = -16; <br> <br> 99B4: JSR $E003 ; updateAudio(); <br> <br> 99B7: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>$0A</code><font style="vertical-align: inherit;"></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b1b/7c0/a46/b1b7c0a4637995c25423a07984bce24e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฑุณู ุงูุณุชุงุฑุฉ ูู ุฃุนูู ุงูููุนุจ ุฅูู ุฃุณูู ุ ูููุฒู ุฎุท ูุงุญุฏ ูู 4 ุฅุทุงุฑุงุช. </font></font><code>curtainRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$0058</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุชุชู ุงูุชููุฆุฉ ุจูููุฉ with16 ุ ููุง ูุคุฏู ุฅูู ุญุฏูุซ ุชุฃุฎูุฑ ุฅุถุงูู ูุฏุฑู 0.27 ุซุงููุฉ ุจูู ุงูููู ุงูููุงุฆู ูุจุฏุงูุฉ ุงูุฑุณู ุงููุชุญุฑู. ูู ุงูุนููุงู </font></font><code>$9A21</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุฉ </font></font><code>$0A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฏ ุงูููุถุญ ุฃุฏูุงู ุ ูุชู ุงููุตูู ุฅูู ุฌุฏูู ุงูุถุฑุจ ุ ูุงูุฐู ูุชู ุนุฑุถู ุจุดูู ุฎุงุทุฆ ูุฃุฑูุงู ูุณุชูู. ูุชู ุฐูู ูุชุฏุฑุฌ </font></font><code>curtainRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจููุฏุงุฑ 10. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุง ูู ููุถุญ ุฃุนูุงู ุ ูุจุฏุฃ ุงูุฑูุฒ ูู ุงูุนููุงู </font></font><code>$9A51</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูููุงุฆูุฉ ุฅุฐุง ูุงูุช ููุงุท ุงููุงุนุจ ูุง ุชูู ุนู 30ุ000 ููุทุฉ ุ ูุฅูุง ุ ูุฅูู ูุชููุน ุงูููุฑ ููู ุงุจุฏุฃ. </font><font style="vertical-align: inherit;">ููุชูู ุงูุฑูุฒ ุนู ุทุฑูู ุชุนููู ูููุฉ ูุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">ุ ูููู ูุง ูุชู ุงุณุชุฏุนุงุก ุงููุนุงูุฌ ุงูููุงุจู ุจุณุจุจ ุงูุชูุงู ุงููุนุจุฉ.</font></font><br><br> <code>9A11: LDA $0058 ; if (curtainRow == 20) { <br> 9A13: CMP #$14 ; goto endGame; <br> 9A15: BEQ $9A47 ; } <br> <br> 9A17: LDA $00B1 ; if (frameCounter not divisible by 4) { <br> 9A19: AND #$03 ; return; <br> 9A1B: BNE $9A46 ; } <br> <br> 9A1D: LDX $0058 ; if (curtainRow &lt; 0) { <br> 9A1F: BMI $9A3E ; goto incrementCurtainRow; <br> ; } <br> <br> 9A21: LDA $96D6,X <br> 9A24: TAY ; rowIndex = 10 * curtainRow; <br> <br> 9A25: LDA #$00 <br> 9A27: STA $00AA ; i = 0; <br> <br> 9A29: LDA #$13 <br> 9A2B: STA $0042 ; orientationID = NONE; <br> <br> drawCurtainRow: <br> <br> 9A2D: LDA #$4F <br> 9A2F: STA ($B8),Y ; playfield[rowIndex + i] = CURTAIN_TILE; <br> 9A31: INY <br> 9A32: INC $00AA ; i++; <br> 9A34: LDA $00AA <br> 9A36: CMP #$0A ; if (i != 10) { <br> 9A38: BNE $9A2D ; goto drawCurtainRow; <br> ; } <br> <br> 9A3A: LDA $0058 <br> 9A3C: STA $0049 ; vramRow = curtainRow; <br> <br> incrementCurtainRow: <br> <br> 9A3E: INC $0058 ; curtainRow++; <br> <br> 9A40: LDA $0058 ; if (curtainRow != 20) { <br> 9A42: CMP #$14 ; return; <br> 9A44: BNE $9A46 ; } <br> <br> 9A46: RTS ; return; <br> <br> endGame: <br> <br> 9A47: LDA $00BE <br> 9A49: CMP #$02 <br> 9A4B: BEQ $9A64 ; if (numberOfPlayers == 1) { <br> <br> 9A4D: LDA $0075 <br> 9A4F: CMP #$03 <br> 9A51: BCC $9A5E ; if (score[2] &gt;= $03) { <br> <br> 9A53: LDA #$80 <br> 9A55: JSR $A459 <br> 9A58: JSR $9E3A <br> 9A5B: JMP $9A64 ; select ending; <br> ; } <br> <br> 9A5E: LDA $00F5 ; if (not just pressed Start) { <br> 9A60: CMP #$10 ; return; <br> 9A62: BNE $9A6A ; } <br> ; } <br> <br> 9A64: LDA #$00 <br> 9A66: STA $0048 ; playState = INITIALIZE_ORIENTATION_ID; <br> 9A68: STA $00F5 ; clear newly pressed buttons; <br> <br> 9A6A: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ูุณุฎ ุฎุทูุท ุงูููุนุจ ุจุดูู ุชุฏุฑูุฌู ุฅูู VRAM ูุนุฑุถูุง. </font><font style="vertical-align: inherit;">ููุฑุณ ุงูุตู ุงูุญุงูู ุงููุฑุงุฏ ูุณุฎู ููุฌูุฏ ูู </font></font><code>vramRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$0049</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><code>$9A3C</code> <code>vramRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุนููู ูููุฉ </font><font style="vertical-align: inherit;">ุนูู ุงูุนููุงู </font></font><code>curtainRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุง ูุฌุนู ูุฐุง ุงูุฎุท ูุฑุฆููุง ูู ุงูููุงูุฉ ุนูุฏ ุงูุนุฑุถ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุฏุซ ุนูููุงุช ุงููุนุงูุฌุฉ ุจุงุณุชุฎุฏุงู VRAM ุฃุซูุงุก ูุงุตู ุทูุณ ุฑุฃุณู ุ ูุชู ุงูุชุนุฑู ุนููู ุจูุงุณุทุฉ ูุนุงูุฌ ุงูููุงุทุนุฉ ุงูููุถุญ ูู ูุณู "ุดุงุดุฉ ุงููุนูููุงุช ุงููุงููููุฉ". </font><font style="vertical-align: inherit;">ูุทูู ุนููู ุฑูุชูู ูุฑุนู ุงูููุถุญ ุฃุฏูุงู (ุชู ูุถุน ุนูุงูุฉ ุนููู ูู ุชุนูููุงุช ูุนุงูุฌ ุงูููุงุทุนุฉ ุจุงุณู </font></font><code>render()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">ูุดุจู ูุถุน ุงูุชูุฏูู ูุถุน ุงููุนุจุฉ. </font><font style="vertical-align: inherit;">ูุชู ุชุฎุฒููู ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">ููููู ุฃู ูุญุชูู ุนูู ุฅุญุฏู ุงูููู ุงูุชุงููุฉ:</font></font><br><br> <code>804B: LDA $00BD <br> 804D: JSR $AC82 ; switch(renderMode) { <br> 8050: B1 82 ; case 0: goto 82B1; // Legal and title screens <br> 8052: DA 85 ; case 1: goto 85DA; // Menu screens <br> 8054: 44 A3 ; case 2: goto A344; // Congratulations screen <br> 8056: EE 94 ; case 3: goto 94EE; // Play and demo <br> 8058: 95 9F ; case 4: goto 9F95; // Ending animation <br> ; }</code> <br> <br><font style="vertical-align: inherit;"></font><code>$00BD</code><font style="vertical-align: inherit;"></font><br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงููููุฉ </th><th>  ุงููุตู </th></tr><tr><td> <code>00</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุงุดุฉ ูุน ุงููุงููููุฉ </font><font style="vertical-align: inherit;">ุงููุนูููุงุช ูุดุงุดุฉ ุงูุชููู</font></font></td></tr><tr><td> <code>01</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุงุช ุงููุงุฆูุฉ </font></font></td></tr><tr><td> <code>02</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุงุดุฉ ุงูุชูุงูู </font></font></td></tr><tr><td> <code>03</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุนุจุฉ ูุนุฑุถ </font></font></td></tr><tr><td> <code>04</code> </td> <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅููุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธูุฑ ุฌุฒุก ูู ูุถุน ุงูุนุฑุถ </font></font><code>$03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฏูุงู. </font><font style="vertical-align: inherit;">ููุง ุชุฑู ุฃุฏูุงู ุ ูุฅูู </font><font style="vertical-align: inherit;">ููุฑ ูู VRAM ุฎุทูุง ูู ุณุงุญุฉ ุงููุนุจ ูุน ููุฑุณ </font><font style="vertical-align: inherit;">. ุฅุฐุง ูุงู </font><font style="vertical-align: inherit;">ุฃูุจุฑ ูู 20 ุ ูุฅู ุงูุฑูุชูู ูุง ููุนู ุดูุฆูุง. </font><font style="vertical-align: inherit;">ูุญุชูู </font><font style="vertical-align: inherit;">ุงูุฌุฏูู </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">) ุนูู ุนูุงููู VRAM ุจุชูุณูู endian ุงูุตุบูุฑ ุงููุทุงุจู ููุฎุทูุท ุงููุนุฑูุถุฉ ูููุนุจ ุงููุนุจ ุงูุฐู ุชู ุชุญูููู ุจููุฏุงุฑ 6 ูู ุงููุถุน ุงูุนุงุฏู ูุจูุงุณุทุฉ and2 ู 12 ููุฌุงู ุงููุนุจ ูู ุงููุถุน ุบูุฑ ุงูููุชูู 2 Player Versus. ูุญุฏุงุช ุงูุจุงูุช ูู ูุฐุง ุงูุฌุฏูู ูู ุฌุฒุก ูู ูุงุฆูุฉ ุงูููู ุงูุชู ูุชู ุนุฑุถูุง ุจุดูู ุฎุงุทุฆ ูุฃุฑูุงู ูุณุชูู ุจุนุฏ ุงููุณุชูู 29. ูุชู ุงูุญุตูู ุนูู ุงูุจุงูุชุงุช ุงูุณูููุฉ ูุงูุนูููุฉ ุงููุฌุงูุฑุฉ ููู ุนููุงู ุจุดูู ูููุตู ููุชู ุฏูุฌูุง ุจุดูู ุฃุณุงุณู ูู ุนููุงู 16 ุจุช ุ ูุงูุฐู ูุชู ุงุณุชุฎุฏุงูู ูู ุฏูุฑุฉ ุงููุณุฎ. </font><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ุฒูุงุฏุฉ ูู ููุงูุฉ ุงูุฑูุชูู.</font></font><br><br> <code>952A: JSR $9725 ; copyPlayfieldRowToVRAM(); <br> 952D: JSR $9725 ; copyPlayfieldRowToVRAM(); <br> 9530: JSR $9725 ; copyPlayfieldRowToVRAM(); <br> 9533: JSR $9725 ; copyPlayfieldRowToVRAM();</code> <br> <br><font style="vertical-align: inherit;"></font><code>copyPlayfieldRowToVRAM()</code><font style="vertical-align: inherit;"></font><code>vramRow</code><font style="vertical-align: inherit;"></font><code>vramRow</code><font style="vertical-align: inherit;"></font><br><br> <code>9725: LDX $0049 ; if (vramRow &gt; 20) { <br> 9727: CPX #$15 ; return; <br> 9729: BPL $977E ; } <br> <br> 972B: LDA $96D6,X <br> 972E: TAY ; playfieldAddress = 10 * vramRow; <br> <br> 972F: TXA <br> 9730: ASL <br> 9731: TAX <br> 9732: INX ; high = vramPlayfieldRows[vramRow * 2 + 1]; <br> 9733: LDA $96EA,X <br> 9736: STA $2006 <br> 9739: DEX <br> <br> 973A: LDA $00BE <br> 973C: CMP #$01 <br> 973E: BEQ $975E ; if (numberOfPlayers == 2) { <br> <br> 9740: LDA $00B9 <br> 9742: CMP #$05 <br> 9744: BEQ $9752 ; if (leftPlayfield) { <br> <br> 9746: LDA $96EA,X <br> 9749: SEC <br> 974A: SBC #$02 <br> 974C: STA $2006 ; low = vramPlayfieldRows[vramRow * 2] - 2; <br> <br> 974F: JMP $9767 ; } else { <br> <br> 9752: LDA $96EA,X <br> 9755: CLC <br> 9756: ADC #$0C <br> 9758: STA $2006 ; low = vramPlayfieldRows[vramRow * 2] + 12; <br> <br> 975B: JMP $9767 ; } else { <br> <br> 975E: LDA $96EA,X <br> 9761: CLC <br> 9762: ADC #$06 ; low = vramPlayfieldRows[vramRow * 2] + 6; <br> 9764: STA $2006 ; } <br> <br> ; vramAddress = (high &lt;&lt; 8) | low; <br> <br> 9767: LDX #$0A <br> 9769: LDA ($B8),Y <br> 976B: STA $2007 <br> 976E: INY ; for(i = 0; i &lt; 10; i++) { <br> 976F: DEX ; vram[vramAddress + i] = playfield[playfieldAddress + i]; <br> 9770: BNE $9769 ; } <br> <br> 9772: INC $0049 ; vramRow++; <br> 9774: LDA $0049 ; if (vramRow &lt; 20) { <br> 9776: CMP #$14 ; return; <br> 9778: BMI $977E ; } <br> <br> 977A: LDA #$20 <br> 977C: STA $0049 ; vramRow = 32; <br> <br> 977E: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>vramPlayfieldRows</code><font style="vertical-align: inherit;"></font><code>$96EA</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>vramRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅุฐุง ูุตูุช ุงููููุฉ ุฅูู 20 ุ ููุชู ุชุนููููุง ุจูููุฉ 32 ุ ููุง ูุนูู ุฃู ุงููุณุฎุฉ ููุชููุฉ ุจุงููุงูู. ููุง ูู ููุถุญ ุฃุนูุงู ุ ูุชู ูุณุฎ 4 ุฎุทูุท ููุท ููู ุฅุทุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุงูุฌ ุงูุฏููุฉ </font></font><code>$03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุคูู ุนู ุงูุชุนุฑู ุนูู ุงูุฎุทูุท ุงูููุชููุฉ ูุฅุฒุงูุชูุง ูู ุงูููุนุจ. ุฎูุงู 4 ููุงููุงุช ูููุตูุฉ ุ ูููู ุจูุณุญ ุฅุฒุงุญุฉ ุงูุฎุท </font></font><code>[โ2, 1]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุฑุจ ูู ูุฑูุฒ tetrimino (ูู ูู ุฅุญุฏุงุซูุงุช ุฌููุน ูุฑุจุนุงุช tetrimino ูู ูุฐุง ุงููุงุตู ุงูุฒููู). ูุชู ุชุฎุฒูู ููุงุฑุณ ุงูุตููู ุงูููุชููุฉ ูู </font></font><code>$004A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$004D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุณุชุฎุฏู ุงููุคุดุฑ ุงููุณุฌู 0 ููุฅุดุงุฑุฉ ุฅูู ุนุฏู ูุฌูุฏ ุตููู ููุชููุฉ ูู ูุฐุง ุงูุชูุฑูุฑ. ุงููุนุงูุฌ ูุจูู ุฃุฏูุงู. </font><font style="vertical-align: inherit;">ูุง ูุณูุญ </font><font style="vertical-align: inherit;">ุงููุญุต </font><font style="vertical-align: inherit;">ูู ุงูุจุฏุงูุฉ ูููุนุงูุฌ ุจุงูุชูููุฐ ุนูุฏ ููู ุฎุทูุท ุงูููุนุจ ุฅูู VRAM (ูุนุงูุฌ ุงูุญุงูุฉ)</font></font><br><br> <code>9A6B: LDA $0049 <br> 9A6D: CMP #$20 ; if (vramRow &lt; 32) { <br> 9A6F: BPL $9A74 ; return; <br> 9A71: JMP $9B02 ; } <br> <br> 9A74: LDA $0041 ; rowY = tetriminoY - 2; <br> 9A76: SEC <br> 9A77: SBC #$02 ; if (rowY &lt; 0) { <br> 9A79: BPL $9A7D ; rowY = 0; <br> 9A7B: LDA #$00 ; } <br> <br> 9A7D: CLC <br> 9A7E: ADC $0057 <br> 9A80: STA $00A9 ; rowY += lineIndex; <br> <br> 9A82: ASL <br> 9A83: STA $00A8 <br> 9A85: ASL <br> 9A86: ASL <br> 9A87: CLC <br> 9A88: ADC $00A8 <br> 9A8A: STA $00A8 ; rowIndex = 10 * rowY; <br> <br> 9A8C: TAY <br> 9A8D: LDX #$0A <br> 9A8F: LDA ($B8),Y <br> 9A91: CMP #$EF ; for(i = 0; i &lt; 10; i++) { <br> 9A93: BEQ $9ACC ; if (playfield[rowIndex + i] == EMPTY_TILE) { <br> 9A95: INY ; goto rowNotComplete; <br> 9A96: DEX ; } <br> 9A97: BNE $9A8F ; } <br> <br> 9A99: LDA #$0A <br> 9A9B: STA $06F1 ; play row completed sound effect; <br> <br> 9A9E: INC $0056 ; completedLines++; <br> <br> 9AA0: LDX $0057 <br> 9AA2: LDA $00A9 <br> 9AA4: STA $4A,X ; lines[lineIndex] = rowY; <br> <br> 9AA6: LDY $00A8 <br> 9AA8: DEY <br> 9AA9: LDA ($B8),Y <br> 9AAB: LDX #$0A <br> 9AAD: STX $00B8 <br> 9AAF: STA ($B8),Y <br> 9AB1: LDA #$00 <br> 9AB3: STA $00B8 <br> 9AB5: DEY ; for(i = rowIndex - 1; i &gt;= 0; i--) { <br> 9AB6: CPY #$FF ; playfield[i + 10] = playfield[i]; <br> 9AB8: BNE $9AA9 ; } <br> <br> 9ABA: LDA #$EF <br> 9ABC: LDY #$00 <br> 9ABE: STA ($B8),Y <br> 9AC0: INY ; for(i = 0; i &lt; 10; i++) { <br> 9AC1: CPY #$0A ; playfield[i] = EMPTY_TILE; <br> 9AC3: BNE $9ABE ; } <br> <br> 9AC5: LDA #$13 <br> 9AC7: STA $0042 ; orientationID = UNASSIGNED; <br> <br> 9AC9: JMP $9AD2 ; goto incrementLineIndex; <br> <br> rowNotComplete: <br> <br> 9ACC: LDX $0057 <br> 9ACE: LDA #$00 <br> 9AD0: STA $4A,X ; lines[lineIndex] = 0; <br> <br> incrementLineIndex: <br> <br> 9AD2: INC $0057 ; lineIndex++; <br> <br> 9AD4: LDA $0057 ; if (lineIndex &lt; 4) { <br> 9AD6: CMP #$04 ; return; <br> 9AD8: BMI $9B02 ; } <br> <br> 9ADA: LDY $0056 <br> 9ADC: LDA $9B53,Y <br> 9ADF: CLC <br> 9AE0: ADC $00BC <br> 9AE2: STA $00BC ; totalGarbage += garbageLines[completedLines]; <br> <br> 9AE4: LDA #$00 <br> 9AE6: STA $0049 ; vramRow = 0; <br> 9AE8: STA $0052 ; clearColumnIndex = 0; <br> <br> 9AEA: LDA $0056 <br> 9AEC: CMP #$04 <br> 9AEE: BNE $9AF5 ; if (completedLines == 4) { <br> 9AF0: LDA #$04 ; play Tetris sound effect; <br> 9AF2: STA $06F1 ; } <br> <br> 9AF5: INC $0048 ; if (completedLines &gt; 0) { <br> 9AF7: LDA $0056 ; playState = DISPLAY_LINE_CLEARING_ANIMATION; <br> 9AF9: BNE $9B02 ; return; <br> ; } <br> <br> 9AFB: INC $0048 ; playState = UPDATE_LINES_AND_STATISTICS; <br> <br> 9AFD: LDA #$07 <br> 9AFF: STA $06F1 ; play piece locked sound effect; <br> <br> 9B02: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>vramRow</code><font style="vertical-align: inherit;"></font><code>$03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนุง ูู ูู ุฅุทุงุฑ). ุฅุฐุง ุชู ุงููุดู ุนู ุงูุตููู ุงููุนุจุฃุฉ ุ ูุชู </font></font><code>vramRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ ุชุนููููุง ุฅูู 0 ุ ููุง ููุฑุถ ุงูููู ุงููุงูู. </font></font><br><br> <code>lineIndex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>$00A9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุชุชู ุชููุฆุชู ุจูููุฉ 0 ููุชู ุชูููุฐ ุฒูุงุฏุชู ูู ูู ุชูุฑูุฑุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุนูุณ ุญุงูุฉ </font></font><code>$0A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนุจุฉ ูุฑูุชูู ูุณุฎ ุญูู ุงููุนุจุฉ ุ ุงูุฐู ูุณุชุฎุฏู ุฌุฏูู ุถุฑุจ ุงูุนููุงู </font></font><code>$96D6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชูุฉ ุชุจุฏุฃ </font></font><code>$9A82</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุถุฑุจุงุช </font></font><code>rowY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 ุจุงุณุชุฎุฏุงู ุงูุชุญููุงุช ูุงูุฅุถุงูุงุช: </font></font><br><br> <code>rowIndex = (rowY &lt;&lt; 1) + (rowY &lt;&lt; 3); // rowIndex = 2 * rowY + 8 * rowY;</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฐูู ููุท ูุฃูู </font></font><code>rowY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏูุฏ ุจุงููุงุตู ุงูุฒููู </font></font><code>[0, 20]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุบุทู ุฌุฏูู ุงูุถุฑุจ ููุท </font></font><code>[0, 19]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฏ ููุชุฏ ูุณุญ ุงูุตู ุฅูู ูุง ุจุนุฏ ููุงูุฉ ุงูููุนุจ. ููุน ุฐูู ุ ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุฅู ุงููุนุจุฉ ุชุจุฏุฃ </font></font><code>$0400</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>$04FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูููุฉ</font></font><code>$EF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุจูุงุทุฉ ูุงุฑุบุฉ) ุ ุฅูุดุงุก ุฃูุซุฑ ูู 5 ุฎุทูุท ูุฎููุฉ ูุงุฑุบุฉ ุฅุถุงููุฉ ุชุญุช ุฃุฑุถูุฉ ุงูููุนุจ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุชูุฉ ุงูุชู ุชุจุฏุฃ ุจู </font></font><code>$9ADA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฌุฒุก ูู ุงููุถุน ุบูุฑ ุงูููุชูู ูู 2 Player Versus. ููุง ุฐูุฑ ุฃุนูุงู ุ ูุถูู ูุณุญ ุงูุตููู ุญุทุงููุง ุฅูู ุณุงุญุฉ ูุนุจ ุงูุฎุตู. ูุชู ุชุญุฏูุฏ ุนุฏุฏ ุตููู ุงูููุงูุฉ ูู ุฎูุงู ุงูุฌุฏูู ุงูููุฌูุฏ ูู ุงูุนููุงู </font></font><code>$9B53</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">ุชููู ุงูุฏูุฑุฉ ุงูููุฌูุฏุฉ ูู ุงูุนููุงู </font><font style="vertical-align: inherit;">ุจุชุญููู ุงููุงุฏุฉ ููู ุงูุตู ุงููุนุจุฃ ุณุทุฑ ูุงุญุฏ ูุฃุณูู. ูุณุชุบู ุญูููุฉ ุฃู ูู ุณุทุฑ ูู ุชุณูุณู ูุณุชูุฑ ูุชู ูุตูู ุนู ุงูุขุฎุฑ ุจููุฏุงุฑ 10 ุจุงูุช. ุชููู ุงูุญููุฉ ุงูุชุงููุฉ ุจูุณุญ ุงูุฎุท ุงูุนููู. </font><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุงุถุญุฉ ููุตู ุฃุซูุงุก ุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">ุ ูููู ููุง ูู ููุถุญ ุฃุฏูุงู ุ ูุง ูุญุฏุซ ูู ูุนุงูุฌ ุญุงูุฉ ุงููุนุจุฉ ุ ููู ูุงุฑุบ ุชูุงููุง.</font></font><br><br> <code>9B53: 00 ; no cleared lines <br> 9B54: 00 ; Single <br> 9B55: 01 ; Double <br> 9B56: 02 ; Triple <br> 9B57: 04 ; Tetris</code> <br> <br><font style="vertical-align: inherit;"></font><code>$9AA6</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>$04</code><font style="vertical-align: inherit;"></font><br><br> <code>9E39: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ุฃุซูุงุก ุญุงูุฉ ุงููุนุจุฉ </font></font><code>$04</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชู ุชูููุฐ ุงูุชูุฑุน ุงูุชุงูู ููุถุน ุงูุนุฑุถ </font></font><code>$03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุงูููู ุงููุชุทุงุจูุฉ ูุทููุจุฉ ููุถุน 2 Player Versus ุบูุฑ ุงูููุชูู. </font><font style="vertical-align: inherit;">ูุธูุฑ ุฑูุชูู ุฃุฏูุงู </font><font style="vertical-align: inherit;">. ูุชู ุงุณุชุฏุนุงุคูุง ูู ูู ุฅุทุงุฑ ุ ูููู ุงูุดุฑุท ูู ุงูุจุฏุงูุฉ ูุณูุญ ุจุชูููุฐูุง ููุท ูู ูู ุฅุทุงุฑ ุฑุงุจุน. ูู ูู ูุณุงุฑ ุ ูุชููู ุฎูุงู ูุงุฆูุฉ ูุคุดุฑุงุช ุงูุตููู ุงูููุชููุฉ ููุฒูู ุนููุฏูู ูู ูุฐู ุงูุตููู ุ ูููุชูู ูู ุงูุนููุฏ ุงููุฑูุฒู ุฅูู ุงูุฎุงุฑุฌ. </font><font style="vertical-align: inherit;">ูุชู ุฅูุดุงุก ุนููุงู VRAM 16 ุจุช ุจููุณ ุงูุทุฑููุฉ ุงูููุถุญุฉ ูู ุฑูุชูู ุญูู ุงููุณุฎ. ููุน ุฐูู ุ ูู ูุฐู ุงูุญุงูุฉ ุ ุชููู ุจุฅุฌุฑุงุก ุฅุฒุงุญุฉ ุจูุงุณุทุฉ ููุฑุณ ุงูุนููุฏ ุงูุฐู ุชู ุงูุญุตูู ุนููู ูู ุงูุฌุฏูู ุฃุฏูุงู.</font></font><br><br> <code>94EE: LDA $0068 <br> 94F0: CMP #$04 <br> 94F2: BNE $9522 ; if (playState == DISPLAY_LINE_CLEARING_ANIMATION) { <br> <br> 94F4: LDA #$04 <br> 94F6: STA $00B9 ; leftPlayfield = true; <br> <br> 94F8: LDA $0072 <br> 94FA: STA $0052 <br> 94FC: LDA $006A <br> 94FE: STA $004A <br> 9500: LDA $006B <br> 9502: STA $004B <br> 9504: LDA $006C <br> 9506: STA $004C <br> 9508: LDA $006D <br> 950A: STA $004D <br> 950C: LDA $0068 <br> 950E: STA $0048 ; mirror values; <br> <br> 9510: JSR $977F ; updateLineClearingAnimation(); <br> <br> ; ... <br> ; }</code> <br> <br> <code>leftPlayfield</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><code>updateLineClearingAnimation()</code><font style="vertical-align: inherit;"></font><br><br> <code>977F: LDA $00B1 ; if (frameCounter not divisible by 4) { <br> 9781: AND #$03 ; return; <br> 9783: BNE $97FD ; } <br> <br> 9785: LDA #$00 ; for(i = 0; i &lt; 4; i++) { <br> 9787: STA $00AA ; rowY = lines[i]; <br> 9789: LDX $00AA ; if (rowY == 0) { <br> 978B: LDA $4A,X ; continue; <br> 978D: BEQ $97EB ; } <br> <br> 978F: ASL <br> 9790: TAY <br> 9791: LDA $96EA,Y <br> 9794: STA $00A8 ; low = vramPlayfieldRows[2 * rowY]; <br> <br> 9796: LDA $00BE ; if (numberOfPlayers == 2) { <br> 9798: CMP #$01 ; goto twoPlayers; <br> 979A: BNE $97A6 ; } <br> <br> 979C: LDA $00A8 <br> 979E: CLC <br> 979F: ADC #$06 <br> 97A1: STA $00A8 ; low += 6; <br> <br> 97A3: JMP $97BD ; goto updateVRAM; <br> <br> twoPlayers: <br> <br> 97A6: LDA $00B9 <br> 97A8: CMP #$04 <br> 97AA: BNE $97B6 ; if (leftPlayfield) { <br> <br> 97AC: LDA $00A8 <br> 97AE: SEC <br> 97AF: SBC #$02 <br> 97B1: STA $00A8 ; low -= 2; <br> <br> 97B3: JMP $97BD ; } else { <br> <br> 97B6: LDA $00A8 <br> 97B8: CLC <br> 97B9: ADC #$0C ; low += 12; <br> 97BB: STA $00A8 ; } <br> <br> updateVRAM: <br> <br> 97BD: INY <br> 97BE: LDA $96EA,Y <br> 97C1: STA $00A9 <br> 97C3: STA $2006 <br> 97C6: LDX $0052 ; high = vramPlayfieldRows[2 * rowY + 1]; <br> 97C8: LDA $97FE,X <br> 97CB: CLC ; rowAddress = (high &lt;&lt; 8) | low; <br> 97CC: ADC $00A8 <br> 97CE: STA $2006 ; vramAddress = rowAddress + leftColumns[clearColumnIndex]; <br> 97D1: LDA #$FF <br> 97D3: STA $2007 ; vram[vramAddress] = 255; <br> <br> 97D6: LDA $00A9 <br> 97D8: STA $2006 <br> 97DB: LDX $0052 ; high = vramPlayfieldRows[2 * rowY + 1]; <br> 97DD: LDA $9803,X <br> 97E0: CLC ; rowAddress = (high &lt;&lt; 8) | low; <br> 97E1: ADC $00A8 <br> 97E3: STA $2006 ; vramAddress = rowAddress + rightColumns[clearColumnIndex]; <br> 97E6: LDA #$FF <br> 97E8: STA $2007 ; vram[vramAddress] = 255; <br> <br> 97EB: INC $00AA <br> 97ED: LDA $00AA <br> 97EF: CMP #$04 <br> 97F1: BNE $9789 ; } <br> <br> 97F3: INC $0052 ; clearColumnIndex++; <br> 97F5: LDA $0052 ; if (clearColumnIndex &lt; 5) { <br> 97F7: CMP #$05 ; return; <br> 97F9: BMI $97FD ; } <br> <br> 97FB: INC $0048 ; playState = UPDATE_LINES_AND_STATISTICS; <br> <br> 97FD: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><br><br> <code>97FE: 04 03 02 01 00 ; left columns <br> 9803: 05 06 07 08 09 ; right columns</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุธูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุ ูุทููุจ 5 ุชูุฑูุฑุงุช. ุซู ููุชูู ุงูุฑูุฒ ุฅูู ุญุงูุฉ ุงููุนุจุฉ ุงูุชุงููุฉ. </font><font style="vertical-align: inherit;">ูุญุชูู </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุงูุฌ ุญุงูุฉ ุงููุนุจุฉ </font></font><code>$05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูููุถุญุฉ ูู ูุณู "ุงูุตููู ูุงูุฅุญุตุงุฆูุงุช". ููุชูู ุงููุนุงูุฌ ุจูุฐุง ุงูุฑูุฒ: </font><font style="vertical-align: inherit;">ูุง </font><font style="vertical-align: inherit;">ูุชู </font><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ ุชุนููู </font><font style="vertical-align: inherit;">ุงููุชุบูุฑ </font><font style="vertical-align: inherit;">ุญุชู ููุงูุฉ ุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">ุ ูุจุนุฏ ุฐูู ูุชู ุงุณุชุฎุฏุงูู ูุชุญุฏูุซ ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุตููู ูุงููุชูุฌุฉ. ูุณูุญ ูุฐุง ุงูุชุณูุณู ุจุชูููุฐ ุฎุทุฃ ูุซูุฑ ููุงูุชูุงู. ูู ุงููุถุน ุงูุชุฌุฑูุจู ุ ุชุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ุญุชู ุชุฌูุน ุงููุนุจุฉ ุงูุตู ุงููุงูู ุ ุซู ุงุถุบุท ุณุฑูุนูุง ุนูู ุจุฏุก ุญุชู ุงูุชูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุณุญ ุงูุณูุณูุฉ. ุณุชุนูุฏ ุงููุนุจุฉ ุฅูู ุดุงุดุฉ ุงูุชููู ุ ูููู ุฅุฐุง ุงุฎุชุฑุช ุงูููุช ุงูููุงุณุจ ุ ูุณูุชู </font><font style="vertical-align: inherit;">ุญูุธ </font><font style="vertical-align: inherit;">ุงููููุฉ </font><font style="vertical-align: inherit;">. ููููู ุงูุขู ุจุฏุก ุงููุนุจุฉ ูู ูุถุน A-Type. ุนูุฏ ููู ููุงู ุงูุดูู ุงูุฃูู ุ ูุนุงูุฌ ุญุงูุฉ ุงููุนุจุฉ</font></font><br><br> <code>9C9E: LDA #$00 <br> 9CA0: STA $0056 ; completedLines = 0; <br> <br> 9CA2: INC $0048 ; playState = B_TYPE_GOAL_CHECK; <br> <br> 9CA4: RTS ; return;</code> <br> <br><font style="vertical-align: inherit;"></font><code>completedLines</code><font style="vertical-align: inherit;"></font><code>$05</code><font style="vertical-align: inherit;"></font><code>completedLines</code><font style="vertical-align: inherit;"></font><code>$03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุฏุฃ ูุณุญ ุงูุตููู ุงูููุชููุฉ. ูู ูุฌุฏูุง ุ ูููู ุชุฑููุง </font></font><code>completedLines</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏูู ุชุบููุฑ. ุฃุฎูุฑูุง ุ ุนูุฏูุง ูุชู ุชุญููู ุญุงูุฉ ุงููุนุจุฉ ุ </font></font><code>$05</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุฒุฏุงุฏ ุฅุฌูุงูู ุนุฏุฏ ุงูุตููู ูุงููุชูุฌุฉ ุ ููุง ูู ููุช ูุฏ ุณุฌูุชูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุณูู ุทุฑููุฉ ููููุงู ุจุฐูู ูู ุงูุญุตูู ุนูู ุฃูุจุฑ ูุฏุฑ ุ ุจุงูุชุธุงุฑ ุงูุนุฑุถ ุงูุชุฌุฑูุจู ูุฌูุน Tetris (ุณูููู ููุงู ุงุซูุงู ูููู ูู ุงูุนุฑุถ). ุจูุฌุฑุฏ ุฃู ุชุฑู ูููุถ ุงูุดุงุดุฉ ุ ุงููุฑ ููู ุงุจุฏุฃ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2a8/80a/091/2a880a09173c42fb8c5256f9921a635b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุจุฏุก ูุนุจุฉ ุฌุฏูุฏุฉ ุ ุณุชุณุชูุฑ ุงูุดุงุดุฉ ูู ุงููููุถ. ูู ูุฐุง ุจูุถู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุงูุชู ูุทูู ุนูููุง ูุนุงูุฌ ุงูููุงุทุนุฉ. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ุฅุฐุง ุชุฑูุช ุงูุฑูู ุงูุฃูู ููุฒู ุชููุงุฆููุง ุฅูู ุฃุฑุถูุฉ ุงูููุนุจ ุ ูุณุชุฒุฏุงุฏ ุงููุชูุฌุฉ ุจูููุฉ ุฃูุจุฑ ุ ูุฃู </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">) ุณูุญูุธ ุฃูุถูุง ูููุชู ูู ุงูุนุฑุถ ุงูุชูุถูุญู. ูุฐุง ุตุญูุญ ุญุชู ูู ุงูุญุงูุงุช ุงูุชู ูู ูููุฃ ูููุง ุงูุนุฑุถ ุตููุง ูุงุญุฏูุง. </font><font style="vertical-align: inherit;">ูุง ูุชู ุฅุนุงุฏุฉ ุชุนูููู ุญุชู ูุชู ุงูุถุบุท ุนูู ุฒุฑ "ุฃุณูู". </font><font style="vertical-align: inherit;">ุนูุงูุฉ ุนูู ุฐูู ุ ุฅุฐุง ููุช ุจุงูููุฑ ููู ุงุจุฏุฃ ุฃุซูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุณุญ ุตููู ุชุฑููุจุฉ Tetris ูู ุงููุถุน ุงูุชุฌุฑูุจู ุ ุซู ุงูุชุธุฑ ุญุชู ูุจุฏุฃ ุงูุนุฑุถ ุงูุชูุถูุญู ูุฑุฉ ุฃุฎุฑู ุ ููู ูุชู ุงุญุชุณุงุจ ููุงุท Tetris ููุท ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุ ูููู ุณูุชู ุฎูุท ุงูุชูููุช ุจุงููุงูู. ูุชูุฌุฉ ูุฐูู ุ ุณูุฎุณุฑ ุงูุนุฑุถ ุงูุชุฌุฑูุจู ุงููุนุจุฉ. ุจุนุฏ ุชูููุต ููุงูุฉ ุงููุนุจุฉ ุ ููููู ุงูุนูุฏุฉ ุฅูู ุดุงุดุฉ ุงูุชููู ุจุงูููุฑ ููู ุงุจุฏุฃ.</font></font><br><br> <code>9673: LDA #$3F <br> 9675: STA $2006 <br> 9678: LDA #$0E <br> 967A: STA $2006 ; prepare to modify background tile color; <br> <br> 967D: LDX #$00 ; color = DARK_GRAY; <br> <br> 967F: LDA $0056 <br> 9681: CMP #$04 <br> 9683: BNE $9698 ; if (completedLines == 4) { <br> <br> 9685: LDA $00B1 <br> 9687: AND #$03 <br> 9689: BNE $9698 ; if (frameCounter divisible by 4) { <br> <br> 968B: LDX #$30 ; color = WHITE; <br> <br> 968D: LDA $00B1 <br> 968F: AND #$07 <br> 9691: BNE $9698 ; if (frameCounter divisible by 8) { <br> <br> 9693: LDA #$09 <br> 9695: STA $06F1 ; play clear sound effect; <br> <br> ; } <br> ; } <br> ; } <br> <br> 9698: STX $2007 ; update background tile color;</code> <br> <br><font style="vertical-align: inherit;"></font><code>holdDownPoints</code><font style="vertical-align: inherit;"></font><code>$004F</code><font style="vertical-align: inherit;"></font><code>holdDownPoints</code><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชููู ุญุงูุฉ ุงููุนุจุฉ </font></font><code>$06</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฅุฌุฑุงุก ูุญุต ูุณุชูุฏู ูุฃูุนุงุจ B-Type. </font><font style="vertical-align: inherit;">ูู ุงููุถุน A-Type ุ ููู ูู ุงูุฃุณุงุณ ุฅุทุงุฑ ุบูุฑ ูุณุชุฎุฏู. </font><font style="vertical-align: inherit;">ุชุญุชูู </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุงูุฉ ุงููุนุจุฉ </font></font><code>$07</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุตุฑููุง ุนูู 2 ูุงุนุจ ุบูุฑ ูุงูู ููุงุจู ุงูููุทู. </font><font style="vertical-align: inherit;">ูู ูุถุน ูุงุนุจ ูุงุญุฏ ุ ูุชุตุฑู ูุซู ุฅุทุงุฑ ุบูุฑ ูุณุชุฎุฏู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชู </font></font><code>$08</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงูุดุฉ </font><font style="vertical-align: inherit;">ุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">ูู ุงููุณููู "ุฅูุดุงุก Tetrimino" ู "ุงุฎุชูุงุฑ Tetrimino". </font><font style="vertical-align: inherit;">ูุง </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู </font></font><code>$09</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชุฎุฏุงู </font><font style="vertical-align: inherit;">ุญุงูุฉ ุงููุนุจุฉ </font><font style="vertical-align: inherit;">. </font></font><code>$0B</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฒูุฏ ูู ุญุงูุฉ ุงููุนุจุฉ ุ ูููู ูุจุฏู ุฃูุถูุง ุบูุฑ ูุณุชุฎุฏู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฃุฎูุฑูุง ุ ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ููุนุจุฉ:</font></font><br><br> <code>; while(true) { <br> <br> 8138: JSR $8161 ; branchOnGameMode(); <br> <br> 813B: CMP $00A7 ; if (vertical blanking interval wait requested) { <br> 813D: BNE $8142 ; waitForVerticalBlankingInterval(); <br> 813F: JSR $AA2F ; } <br> <br> 8142: LDA $00C0 <br> 8144: CMP #$05 <br> 8146: BNE $815A ; if (gameMode == DEMO) { <br> <br> 8148: LDA $00D2 <br> 814A: CMP #$DF <br> 814C: BNE $815A ; if (reached end of demo table) { <br> <br> 814E: LDA #$DD <br> 8150: STA $00D2 ; reset demo table index; <br> <br> 8152: LDA #$00 <br> 8154: STA $00B2 ; clear upper byte of frame counter; <br> <br> 8156: LDA #$01 <br> 8158: STA $00C0 ; gameMode = TITLE_SCREEN; <br> ; } <br> ; } <br> 815A: JMP $8138 ; }</code> </div> </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar420725/">https://habr.com/ru/post/ar420725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar420707/index.html">ูุณุชุฎุฏู ุจุฏุก ุชุดุบูู JITX AI ูุฃุชูุชุฉ ุชุทููุฑ ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ ุงููุนูุฏุฉ</a></li>
<li><a href="../ar420709/index.html">T2F: ูุดุฑูุน ูุชุญููู ุงููุต ุฅูู ุฑุณู ูููุฌู ูุน ุงูุชุนูู ุงูุนููู</a></li>
<li><a href="../ar420711/index.html">ููุณูู ูุนููู ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ: ุงูุฅุนูุงู ูุงูุชุณุฌูู</a></li>
<li><a href="../ar420713/index.html">ููู ุงุฎุชุฑุน ุชุดุงู ูุงู ุงูุทุจุงุนุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ</a></li>
<li><a href="../ar420715/index.html">ุงูุญูููุฉ ุงูุตุนุจุฉ ุนู ุดุฏุฉ ุงูุชุนูู</a></li>
<li><a href="../ar420729/index.html">ูุชุญ ูุฏูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช "Naive Bayes Classifier"</a></li>
<li><a href="../ar420731/index.html">Zabbix ุนู ุงูููุดุทุงุช: ููู ุชุนูู ููุตุฉ ุงููุฑุงูุจุฉ ุงูููุญุฏุฉ Sbertech</a></li>
<li><a href="../ar420735/index.html">ูุฏุนูู ุฅูู ุฎุงุชูุฉ ุงูุจุญุซ ุนู ููุณู ูู ุงููุงุฑุงุซูู ุงูุฑููู ูู ููุชุจ Mail.Ru Group</a></li>
<li><a href="../ar420737/index.html">Mini ai cup 2 ุฃู AgarIO ุชูุฑูุจูุง - ูุง ุงูุฐู ูููู ูุนูู ููููุฒ</a></li>
<li><a href="../ar420739/index.html">ูุง ูุฒุงู ุงูุตูุฏูู ูู ูุชูุงูู ุงููุฏ: ููุงุฐุง ูู 2018 ูุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ุชุนูู ุงููุบุงุช ุจููุณู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>