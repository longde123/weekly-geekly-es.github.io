<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍⚕️ 🔦 👨🏿‍🎤 50 Schattierungen von Stumpf *. Mikrocontroller in Schaltnetzteilen. Teil 2 👨🏾‍💼 👨🏼‍🚒 🗄️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="NAP * - Core Independent Peripheral 
 Frühere Artikel zu Core Independent Peripherals 

 Mikrocontroller in Schaltnetzteilen. Teil 1 
 Hardware-Empfan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>50 Schattierungen von Stumpf *. Mikrocontroller in Schaltnetzteilen. Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/405283/"><p>  NAP * - Core Independent Peripheral </p><br><div class="spoiler">  <b class="spoiler_title">Frühere Artikel zu Core Independent Peripherals</b> <div class="spoiler_text"><p>  Mikrocontroller in Schaltnetzteilen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hardware-Empfang von PWM-codierten Signalen durch Microchip-Mikrocontroller</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ADC und ADC mit Microchip-Mikrocontroller-Computer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microchip Microcontroller-E / A-Ports</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurierbare Logikzellen in PIC-Mikrocontrollern</a> </p></div></div><br><h3>  Mikrocontroller in Schaltnetzteilen <br>  Teil 2 </h3><br><img src="https://habrastorage.org/web/9c1/3c7/9eb/9c13c79eb6444e99943cb791c9cd33c2.jpg"><br><p><br>  Im vorherigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil des Artikels</a> haben wir die Option zum Aufbau eines "typischen" PWM-Controllers eines Schaltnetzteils (IIP), die Implementierungsoptionen von PWM-Controllern basierend auf einem Stub und einige Topologien von IIP in Betracht gezogen. <br>  Wir werden weiterhin mit den Fähigkeiten der unabhängigen Kernperipheriegeräte vertraut sein, die für den Bau von Schaltnetzteilen verwendet werden. </p><a name="habracut"></a><br><h2>  Synchronwandler </h2><br><p>  Wenn die Ausgangsspannung ausreichend niedrig ist und mit dem Abfall der Diode vergleichbar wird, fällt der Wirkungsgrad der Quelle erheblich ab.  Um die IIP-Parameter zu verbessern, kann die Diode durch einen MOSFET ersetzt werden, dessen Spannungsabfall viel geringer ist als bei der Diode in direkter Verbindung.  Wir bekommen einen Synchronwandler. </p><br><img src="https://habrastorage.org/files/b27/fb2/8de/b27fb28dee9545cb8709a6809d764f9a.png" width="300"><br><p>  Abb.  2.1.a.  Buck Konverter </p><br><img src="https://habrastorage.org/web/506/f34/5ba/506f345ba7814c61b53bc882819ccced.png"><br><p>  Abb.  2.1.b.  Abwärtssynchronwandler </p><br><p>  Zur Bildung von zwei gegenphasigen PWM-Signalen ist ein Peripheriemodul zur Erzeugung von komplementären Ausgangssignalen (COG) vorgesehen. </p><br><h3>  Komplementärer Signalgenerator </h3><br><p>  Mit dieser Option können Sie die Periode und das Tastverhältnis von einem oder zwei komplementären Ausgängen mithilfe von zwei Eingangssignalquellen steuern.  Zusammen mit der Möglichkeit, wichtige Parameter wie Totzeit, Austastung, Phase, Polarität, automatische Abschaltung und automatische Wiederherstellung zu steuern, bietet das COG-Modul ein leistungsstarkes Werkzeug zum Aufbau eines PWM-Controller-Kerns.  Der Generator komplementärer Signale in 8-Bit-Mikrochip-Mikrocontrollern ist vollständig autonom und erfordert im Allgemeinen keinen Eingriff des MK-Kerns.  Für eine detailliertere Bekanntschaft mit COG empfehle ich die technische Beschreibung von TB3119 [4]. </p><br><p>  Das COG-Modul ist dem SR-Trigger etwas ähnlich, es hat auch Eingänge gesetzt und zurückgesetzt, arbeitet aber an Ereignissen (Rising Event und Falling Event).  Ereignisse werden sowohl an den Fronten / Rezessionen als auch auf den Pegeln der ausgewählten Eingangssignale aufgezeichnet.  Eingangssignale können entweder extern (Eingangsports) oder intern (Timer, PWM, Komparatoren, konfigurierbare Logikzellen usw.) sein.  Die Ausgänge des komplementären Signalgenerators können in verschiedenen Modi betrieben werden: Halbbrücke, Vollbrücke, Gegentakt, PWM.  Ausgangssignale werden unter Berücksichtigung der Messzeit, der Austastung, der Phasenverzögerung und der Polarität gebildet.  COG-Modulausgangsports haben in der Regel eine erhöhte Tragfähigkeit (50-100mA). </p><br><p>  Zum Schutz der Ausgangsleistungsstufen werden Auslöseeingänge bereitgestellt, je nach Ereignissen, bei denen die Modulausgänge in einen sicheren Zustand (0, 1 oder 3. Zustand) versetzt werden.  Wenn der Alarm verschwindet, kann das Modul automatisch eingeschaltet werden oder ein Programmeingriff ist erforderlich. </p><br><p>  Das COG-Modul ermöglicht die Verwendung von Topologien mit einem Transformator, die üblicherweise für galvanisch isolierte SMPS verwendet werden. </p><br><p>  Beim Aufbau von Wandlern unter Verwendung von Transformatoren werden auch Spannungs- und Stromregelungsmodi mit proportionaler oder hysteretischer Regelung verwendet, d.h.  Trotzdem, was bereits im ersten Teil des Artikels erwähnt wurde. </p><br><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><img src="https://habrastorage.org/web/278/362/2c0/2783622c00ef4f9ca90107749bb66768.png"></td><td><img src="https://habrastorage.org/web/e63/eec/81d/e63eec81dbbf46229338a8729ff57171.png"></td></tr><tr><td><img src="https://habrastorage.org/web/da7/73b/ef0/da773bef0a764be18b876e0a7441d966.png"></td><td><img src="https://habrastorage.org/web/4fd/d51/f2e/4fdd51f2ec464f1b8191d5cd9f0ffe83.png"></td></tr><tr><td><img src="https://habrastorage.org/web/0de/f00/216/0def00216df84bd2b17ecfeba0bb1378.png"></td><td><img src="https://habrastorage.org/web/de7/1b2/237/de71b2237b8e4ae7bc23845542c24555.png"></td></tr></tbody></table><br><p>  Abb.  2.2.  IPS-Topologien mit Transformatoren </p><br><img src="https://habrastorage.org/web/b58/e28/5a9/b58e285a96ec43eebdfe5f17e1bf18c5.png" width="400"><br><p>  Abb. 2.3.  Hysteresespannungsregelungsmodus.  Option mit fester und einstellbarer Ausgangsspannung. </p><br><img src="https://habrastorage.org/web/821/202/4c4/8212024c45a7441abd2f385a13ef46a9.png" width="400"><br><p>  Abb.  2.4.  Hysteretischer Stromregelungsmodus </p><br><img src="https://habrastorage.org/web/130/0b3/105/1300b3105b05405f84c19cbbecbe68d1.png" width="400"><br><p>  Abb.  2.5.  Stromregelungsmodus mit Proportionalregelung. </p><br><h2>  Mehrphasige alternierende PWM-Steuerung </h2><br><p>  In Mehrphasenwandlern wird häufig ein verschachtelter Betriebsmodus verwendet, bei dem eine Stromtrennung zwischen mehreren identischen parallelen Topologien verwendet wird.  Mit dieser Topologie können Sie effizienter filtern (weniger Welligkeitsstrom), die Größe der Quelle reduzieren (weniger Filter) und die Effizienz steigern. </p><br><p>  Ein verschachtelter Wandler besteht aus mehreren identischen Kanälen, deren Ein- und Ausgänge kombiniert sind, aber die Steuerphasen solcher Wandler sind um 360 ° / n verschoben, wobei n die Anzahl der Phasen ist. </p><br><p>  Bei einem zweiphasigen Wechselstromwandler arbeiten zwei Kanäle gegenphasig - zwei PWM-Signale sind um 180 ° relativ zueinander verschoben. </p><br><p>  Ein vereinfachtes Diagramm ist in Abb. 1 dargestellt.  2.6.  [5].  Die Tasten S1 und S2 werden abwechselnd geöffnet.  Wenn der Schlüssel S1 geöffnet ist, S2 geschlossen ist, wird L1 aufgeladen und L2 gibt die zuvor akkumulierte Energie an die Last ab.  Als nächstes wechseln sich die Kanäle ab. </p><br><img src="https://habrastorage.org/web/e6a/866/749/e6a866749c66484a9ca44d4ca7354ae1.png" width="400"><br><p>  Abb. 2.6.  Abbildung der Funktionsweise des verschachtelten Schaltnetzteils. </p><br><p>  Unten sehen Sie ein Diagramm eines zweiphasigen synchronen Wechselstromwandlers [6]. <br>  Der Wandler überwacht den Spitzenstromwert mit einer gemeinsamen Spannungsrückkopplungsschleife, die die Steuerung von zwei unabhängigen Stromschleifen ermöglicht.  Die Steuerung bietet einen Stromausgleich zwischen den Phasen, einen Schutz gegen Kurzschluss und eine geringe Welligkeit während der Übergänge zwischen kontinuierlichen und intermittierenden Leitungsmodi. </p><br><p>  Für die synchrone Gleichrichtung sind zusätzliche Maßnahmen erforderlich, um zu verhindern, dass der Strom zum Eingang zurückfließt, wenn die Induktivität im diskontinuierlichen Leitfähigkeitsmodus (DCM) nicht mehr entladen wird.  Der obere Schalter des Synchronwandlers muss ausgeschaltet sein, wenn der Strom in der Induktivität Null wird. </p><br><img src="https://habrastorage.org/web/27e/cf9/4cd/27ecf94cda7d4f76addf18ea9701bdec.png"><br><p>  Abb.2.7.  Zweiphasiger Interleave-Synchron-Boost </p><br><img src="https://habrastorage.org/web/e97/61b/5dd/e9761b5dd316450b95a165e2843fcca6.png"><br><p>  Abb. 2.8.  Zweiphasiger Interleave-Synchron-Abwärtswandler </p><br><img src="https://habrastorage.org/web/24a/17d/45d/24a17d45d68f4034868e0e515e12149d.png"><br><p>  Abb. 2.9.  Zweiphasen-Interleave-Flyback-Wandler </p><br><img src="https://habrastorage.org/web/8f5/5ac/884/8f55ac8843b646af9b7a693bad6a32b6.png"><br><p>  Abbildung 2.10.  Zweiphasen-Interleave-Linearwandler </p><br><p>  Details zu verschiedenen Optionen für Interleaved IIPs basierend auf PIC-Mikrocontrollern sind in TB3155 [6] enthalten. </p><br><h2>  Variable Frequenzregelung </h2><br><p>  In den vorhergehenden Beispielen wird die PWM-Triggerfrequenz durch den Zeitgeber eingestellt, d.h.  implementierte Steuerung mit einer festen PWM-Frequenz. </p><br><p>  Das Steuermethode mit einer festen Frequenz verliert bei niedrigen Lasten an Effizienz, da es feste Schlüsselverluste aufweist.  Da wir Lösungen für einen Mikrocontroller in Betracht ziehen, können wir abhängig vom Laststrom und der Betriebsart des Wandlers leicht eine variable Schaltfrequenz bereitstellen. </p><br><p>  In einer Steuerung mit einer festen PWM-Frequenz ist der intermittierende Strommodus am einfachsten zu implementieren, wenn der Strom durch kein Element des Wandlers fließt. </p><br><img src="https://habrastorage.org/web/6a0/c17/229/6a0c17229dc14705916c9330cb01226a.png" width="600"><br><p>  Abbildung 2.11.  Intermittierender Strommodus. </p><br><p>  Vom Kern unabhängige Peripheriegeräte können bei der Implementierung des kritischen Leitungsmodus helfen, wenn der Strom Null erreicht.  In diesem Fall ändert der PWM-Controller die Schaltfrequenz automatisch so, dass sie sich im kritischen Leitungsmodus befindet. </p><br><img src="https://habrastorage.org/web/bed/507/2b4/bed5072b439e4782a80246ec1e7edbc3.png" width="600"><br><p>  Abbildung 2.12.  Kritischer Stromleitungsmodus. </p><br><p>  Mit konfigurierbaren Peripheriegeräten können Sie andere Algorithmen implementieren: Wenn Sie das Komparatorsignal so einstellen, dass der Timer zurückgesetzt wird, können Sie die Steuerung mit einer festen Ausschaltzeit (feste Ausschaltzeit) oder mit einer festen Einschaltzeit (feste Einschaltzeit oder konstante Einschaltzeit) implementieren. </p><br><p>  Durch die Verwaltung mit einer festen Einschaltzeit können Sie einen IIP mit einem Leistungskorrektor erstellen [7]. </p><br><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><img src="https://habrastorage.org/web/0af/c10/5c7/0afc105c7c8247058e6b793200d59288.png"></td><td><img src="https://habrastorage.org/web/c9f/65b/02a/c9f65b02a9df49b0b25ae5b563c2c8cf.png"></td></tr></tbody></table><br><p>  Abbildung 2.13.  Ein spannungsgesteuerter PWM-Controller in einer COT-Konfiguration (Fixed-On-Time) im kritischen Leitungsmodus. </p><br><p>  Also haben wir eine Topologie von IIP untersucht.  Alle für die Implementierung von PWM-Controllern erforderlichen Peripheriegeräte sind in Mikrocontrollern der PIC16F176x-Serie enthalten.  Wir können jede der beschriebenen Topologien an der Peripherie unabhängig vom Kern implementieren, d. H.  Die Funktion der beschriebenen PWM-Controller hängt nicht von der Geschwindigkeit des Kernels ab. </p><br><p>  Fortsetzung folgt... </p><br><div class="spoiler">  <b class="spoiler_title">Frühere Artikel zu Core Independent Peripherals</b> <div class="spoiler_text"><p>  Mikrocontroller in Schaltnetzteilen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hardware-Empfang von PWM-codierten Signalen durch Microchip-Mikrocontroller</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ADC und ADC mit Microchip-Mikrocontroller-Computer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microchip Microcontroller-E / A-Ports</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurierbare Logikzellen in PIC-Mikrocontrollern</a> </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Wird für das Studium der Literatur verwendet und empfohlen</b> <div class="spoiler_text"><p>  [4] TB3119.  Technischer Brief zum ergänzenden Ausgangsgenerator.  www.microchip.com <br>  [5] Dynamik und Steuerung geschalteter elektronischer Systeme.  Kapitel 2. Pulsweitenmodulation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.springer.com/978-1-4471-2884-7</a> <br>  [6] TB3155.  Mehrphasig verschachtelter PWM-Controller mit Diodenemulation unter Verwendung von 8-Bit-PIC-Mikrocontrollern.  www.microchip.com <br>  [7] TB3153.  Mit dem programmierbaren Rampengenerator implementierte Beispielfunktionen.  www.microchip.com </p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de405283/">https://habr.com/ru/post/de405283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de405267/index.html">Die Juno-Raumsonde schickte detaillierte Bilder von Jupiters großem roten Fleck</a></li>
<li><a href="../de405269/index.html">Neuronales Netz machte gefälschten Obama</a></li>
<li><a href="../de405273/index.html">Funknetze austauschen</a></li>
<li><a href="../de405275/index.html">Fragen Sie Ethan: Können die Sterne aus der Galaxie entkommen, ohne den Planeten zu beschädigen?</a></li>
<li><a href="../de405281/index.html">Flash-Laufwerk, Kabel- und Kartenleser: Vergleichen Sie drei externe Laufwerke für iPhone und iPad</a></li>
<li><a href="../de405285/index.html">Das Gehirn ist wie ein Computer: schlecht mit Mathe umgehen und gut mit allem anderen</a></li>
<li><a href="../de405287/index.html">Fehler Fehler: Eine kurze Geschichte des Anti-Aging</a></li>
<li><a href="../de405289/index.html">Wie man sowjetische Lieder auf Englisch singt und die Aussprache entwickelt</a></li>
<li><a href="../de405291/index.html">Ab dem 1. August kann Bitcoin in zwei oder mehr Versionen aufgeteilt werden</a></li>
<li><a href="../de405293/index.html">Hyperloop One verteilte zum ersten Mal ein schwebendes Chassis in einem technischen Vakuum</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>