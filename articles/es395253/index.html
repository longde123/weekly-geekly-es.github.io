<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçê üëäüèæ ü§∑üèª Sistema de archivos de Apple (APFS) üë®üèæ‚Äçüç≥ üë©üèº‚Äçüé§ üêï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inodos de 64 bits, transacciones at√≥micas, marcas de tiempo en nanosegundos, clonaci√≥n de directorios, cifrado incorporado
 En la presentaci√≥n de WWDC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistema de archivos de Apple (APFS)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395253/"><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inodos de 64 bits, transacciones at√≥micas, marcas de tiempo en nanosegundos, clonaci√≥n de directorios, cifrado incorporado</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">presentaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">WWDC 2016 de</font></a><font style="vertical-align: inherit;"> ayer </font><font style="vertical-align: inherit;">, Apple mostr√≥ nuevas versiones de macOS (Sierra) 10.12, iOS 10, tvOS 10, sistemas operativos watchOS 3, una aplicaci√≥n Swift Playgrounds para ense√±ar programaci√≥n infantil y nuevos emojis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No parecer√≠a nada interesante. Sin embargo, Apple a√∫n lanz√≥ algo fundamental. El desarrollo m√°s significativo de todo lo que se mencion√≥ en la presentaci√≥n es el sistema de archivos de nueva generaci√≥n Apple File System (APFS) en el sistema operativo macOS (Sierra) 10.12. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el sitio para desarrolladores, poco despu√©s de la presentaci√≥n, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> public√≥ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">documentaci√≥n</font></a><font style="vertical-align: inherit;"> con las caracter√≠sticas principales y una descripci√≥n del sistema de archivos, que repite las funciones individuales del poderoso sistema de archivos ZFS gratuito.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las computadoras Apple ahora usan el sistema de archivos HFS +, una versi√≥n extendida del HFS (Hierarchical File System, creado hace m√°s de 30 a√±os). Al igual que su predecesor, HFS + utiliza una estructura de √°rbol llamada √°rbol B * para almacenar la mayor√≠a de los metadatos. De ah√≠ el nombre de "sistema de archivos jer√°rquico". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La introducci√≥n oficial de HFS + tuvo lugar el 19 de enero de 1998, junto con MacOS 8.1. Desde 2002, el sistema ha implementado el registro en diario para aumentar la confiabilidad del almacenamiento de informaci√≥n. Desde OS X 10.3, el registro est√° habilitado de forma predeterminada, ahora es posible trabajar en modo sensible a may√∫sculas y min√∫sculas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasta OS X 10.7, los desarrolladores continuaron refinando HFS + e implementando nuevas funciones para OS X a nivel del sistema de archivos, pero el hecho sigue siendo: HFS se desarroll√≥ originalmente durante disquetes y discos duros giratorios, cuando los tama√±os de los archivos se midieron en kilobytes o megabytes. Hoy en d√≠a, muchos trabajan con unidades SSD, que almacenan millones de archivos: gigabytes o terabytes de datos. El sistema de archivos tiene requisitos completamente diferentes. En lugar de finalizar el c√≥digo anterior, Apple finalmente decidi√≥ escribir un nuevo sistema de archivos desde cero. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sistema de archivos APFS de pr√≥xima generaci√≥n todav√≠a est√° en la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vista previa del desarrollador</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, es decir, no est√° previsto su uso masivo en el futuro cercano. No puede usar el volumen APFS como disco de arranque en este momento, ni puede usarse en el sistema de copia de seguridad de Time Machine, en Fusion Drive o con el cifrado de File Vault. Pero es posible para un volumen normal que no sea de arranque. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todav√≠a hay un largo refinamiento y pruebas, pero solo entonces APFS se convertir√° en el principal sistema de archivos de Apple en las pr√≥ximas d√©cadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APFS, a diferencia de HFS +, distingue inicialmente may√∫sculas y min√∫sculas en los nombres de archivos y carpetas, y esta funci√≥n no se puede desactivar. Esto debe ser tenido en cuenta por cualquiera que decida usar APFS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principio, Apple recomienda primero experimentar con APFS en una unidad externa, que no almacena nada importante. Para esto, se propone utilizar la utilidad</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hdiutil</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caracter√≠sticas clave</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentaci√≥n oficial enumera las </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caracter√≠sticas generales</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del sistema de archivos APFS en comparaci√≥n con HFS +.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contenedores y Vol√∫menes</font></font></h3><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un contenedor</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es el objeto principal para almacenar datos en APFS. </font><font style="vertical-align: inherit;">Los contenedores suelen ser exactamente iguales a las entradas de la tabla de particiones GUID (GPT); tienen su propio esquema de protecci√≥n contra accidentes y asignaci√≥n de espacio en disco. </font><font style="vertical-align: inherit;">Cada contenedor contiene uno o m√°s </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vol√∫menes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o sistemas de archivos, cada uno de los cuales tiene su propio </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio de nombres</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es decir, un conjunto de archivos y directorios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APFS no admite directamente RAID de software, pero se puede usar con vol√∫menes RAID de Apple para admitir Striping (RAID 0), Mirroring (RAID 1) y Concatenation (JBOD).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inodos de 64 bits</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los inodos de 64 bits aumentan significativamente el espacio de nombres en comparaci√≥n con los identificadores de 32 bits en HFS +. </font><font style="vertical-align: inherit;">El sistema de archivos APFS de 64 bits admite m√°s de 9 quintillones de archivos en cada volumen. </font><font style="vertical-align: inherit;">Eso deber√≠a ser suficiente para todos, como dijo Bill Gates.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marcas de tiempo de nanosegundos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APFS aument√≥ significativamente la precisi√≥n de las marcas de tiempo (marcas de tiempo). </font><font style="vertical-align: inherit;">APFS admite el sellado de tiempo exacto al nanosegundo. </font><font style="vertical-align: inherit;">A modo de comparaci√≥n, en HFS + las marcas de tiempo se establecieron en el segundo m√°s cercano. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las marcas de tiempo de nanosegundos son muy importantes en los sistemas de archivos modernos, porque ayudan a implementar la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atomicidad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y las transacciones at√≥micas, uno de los principales requisitos de ACID para un sistema transaccional (por ejemplo, un DBMS). </font><font style="vertical-align: inherit;">Atomicity asegura que ninguna transacci√≥n est√© parcialmente comprometida con el sistema. </font><font style="vertical-align: inherit;">O se completar√°n todas sus operaciones secundarias o no se completar√° ninguna.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protecci√≥n contra choques</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APFS implementa un innovador esquema de metadatos de copia en escritura, que Apple llama "Protecci√≥n contra choques". </font><font style="vertical-align: inherit;">Asegura que los cambios en el sistema de archivos y el registro se mantengan sincronizados si ocurre algo durante la grabaci√≥n; por ejemplo, se pierde la energ√≠a. </font></font><br>
<br>
<img src="https://habrastorage.org/files/036/c0f/7e1/036c0f7e1f9447a5af5ea02b717588c2.png"><br>
<i><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema de copia en escritura ZFS</font></font></sup></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivos dispersos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un archivo con el atributo "disperso" asume el contenido de bloques de cero bytes, no almacenados en la unidad, sino impl√≠citos. </font><font style="vertical-align: inherit;">HFS + no ten√≠a compatibilidad con archivos dispersos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributos extendidos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APFS tiene soporte incorporado para atributos de archivo extendido, que en HFS + se implement√≥ a trav√©s del archivo de Atributos, es decir, a trav√©s del √°rbol B.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cifrado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple afirma que el cifrado es una propiedad fundamental que est√° integrada en APFS a nivel del sistema de archivos. </font><font style="vertical-align: inherit;">Para cada volumen en el contenedor APFS, se instala uno de los modelos de cifrado: sin cifrado, cifrado con una clave, cifrado con varias claves. </font><font style="vertical-align: inherit;">En el √∫ltimo caso, las claves individuales se utilizan para cifrar archivos y metadatos. </font><font style="vertical-align: inherit;">Dependiendo del hardware, APFS usa el modo de cifrado AES-XTS o AES-CBC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clonaci√≥n de archivos y directorios</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clonaci√≥n: copia casi instant√°nea de un archivo o directorio, que no requiere espacio adicional para el almacenamiento de datos. </font><font style="vertical-align: inherit;">Cuando se modifica un clon, el sistema de archivos registra solo los cambios de datos. </font><font style="vertical-align: inherit;">Por lo tanto, el nuevo sistema de archivos puede almacenar muchas versiones de archivos grandes, consumiendo menos espacio en disco.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instant√°neas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instant√°neas: "instant√°neas" de solo lectura del sistema de archivos en el volumen. El sistema operativo puede usar instant√°neas para un procedimiento de copia de seguridad m√°s eficiente. Es decir, finalmente, Time Machine funcionar√° bien (r√°pido).</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, en sus capacidades, APFS es significativamente inferior al </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistema de archivos ZFS de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 128 bits </font><font style="vertical-align: inherit;">, que es compatible con Linux, FreeBSD y otros sistemas operativos gratuitos, pero por parte de Apple este es un paso en la direcci√≥n correcta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es extra√±o que la documentaci√≥n preliminar no mencione la funci√≥n de compresi√≥n que HFS +, por cierto, admite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple hab√≠a intentado portar ZFS a OS X durante mucho tiempo, hubo una discusi√≥n activa sobre las listas de correo de ZFS, se publicaron instant√°neas preliminares para la pr√≥xima versi√≥n de OS X. M√°s tarde, se implement√≥ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenZFS para OS X</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (O3X) y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MacZFX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sistema de archivos ZFS es de c√≥digo abierto, y Apple podr√≠a tomar prestadas algunas ideas para el sistema de archivos APFS. </font><font style="vertical-align: inherit;">La implementaci√≥n de c√≥digo abierto para APFS a√∫n no est√° lista, Apple planea publicar documentado y publicar el formato APFS en 2017. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera sesi√≥n formal se llevar√° a cabo hoy en WWDC, donde los desarrolladores mostrar√°n con m√°s detalle las nuevas caracter√≠sticas de APFS.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es395253/">https://habr.com/ru/post/es395253/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es395243/index.html">La IA genera sonidos realistas en el metraje</a></li>
<li><a href="../es395245/index.html">Los desarrolladores de juegos de No Man's Sky defienden el nombre de Sky</a></li>
<li><a href="../es395247/index.html">Talk Show: c√≥mo los podcasts crean, desarrollan y escuchan</a></li>
<li><a href="../es395249/index.html">Movilizaci√≥n de verano GearBest</a></li>
<li><a href="../es395251/index.html">Aftershokz bluez 2 auriculares con conducci√≥n √≥sea y personas con discapacidad auditiva</a></li>
<li><a href="../es395255/index.html">Crear una impresora 3D por un joven ingeniero: ¬øqu√© es?</a></li>
<li><a href="../es395257/index.html">El campo de entrenamiento virtual de Synthia cambiar√° cualitativamente la efectividad del entrenamiento de robots rob√≥ticos de IA</a></li>
<li><a href="../es395259/index.html">C√≥mo usar el DVR: otra pregunta frecuente m√°s detallada en Internet</a></li>
<li><a href="../es395261/index.html">Servidores Dell Project Triton y sus sistemas de enfriamiento</a></li>
<li><a href="../es395263/index.html">Yuneec Typhoon Q500 4k</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>