<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😥 👏 🧕🏽 Experimento VonmoTrade. Parte 2: Órdenes. Tipos, características de procesamiento 🃏 🤰🏽 🐫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para comprender cómo funcionan los intercambios, debe lidiar con las solicitudes de intercambio y las reglas para que un agente las procese. 


 En el...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experimento VonmoTrade. Parte 2: Órdenes. Tipos, características de procesamiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481772/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ys/km/8w/yskm8winqrbt3dnqyc-vlzyzggk.png"></div><br><p>  Para comprender cómo funcionan los intercambios, debe lidiar con las solicitudes de intercambio y las reglas para que un agente las procese. </p><br><p>  En el artículo analizaremos los tipos de órdenes, las características de su ejecución en el intercambio y las restricciones impuestas por el modelo de negociación.  Si tiene curiosidad por saber qué significan las siglas DAY, GTC, FOK, IOC, GTD, GAT, MOO, MOC, LOO, LOC, MIT, OCO, OSO, PEG, le pido un gato. </p><a name="habracut"></a><br><h2 id="pro-ordery">  Acerca de las órdenes </h2><br><p>  Es importante que todos los participantes del mercado lleguen a un acuerdo.  Para comenzar a operar, debe crear una aplicación (pedido) para la venta o compra del instrumento financiero requerido.  En consecuencia, el conjunto total de aplicaciones forma la oferta y la demanda actual. </p><br><p> <strong>Orden de cambio</strong> : instrucciones del cliente al corredor para la compra o venta de instrumentos financieros en el intercambio. <br>  Un pedido típico contiene la siguiente información: </p><br><ul><li>  Identificador del instrumento financiero (activo negociado) </li><li>  Tipo de aplicación </li><li>  La dirección de la transacción.  Compra o venta </li><li>  Precio </li><li>  Cantidad </li><li>  Periodo de validez de la solicitud (opcional) </li><li>  Instrucciones adicionales (opcional) </li></ul><br><h2 id="tipy-orderov">  Tipos de pedidos </h2><br><p>  Los pedidos básicos se pueden dividir en tres grandes grupos. </p><br><ul><li>  <strong>Mercado</strong> .  Dicha aplicación debe ejecutarse inmediatamente al precio de mercado actual, o si el volumen necesario no está disponible, lo antes posible. </li><li>  <strong>Diferido</strong>  La aplicación le permite controlar el precio máximo de transacción para una compra y el precio más bajo posible para una venta.  Dichas órdenes no pueden ejecutarse.  Para órdenes limitadas, el precio siempre se indica mejor. </li><li>  <strong>Con condiciones</strong>  Cualquier aplicación que no sea el límite, que para la ejecución requiere el cumplimiento de condiciones adicionales. </li></ul><br><h2 id="srok-deystviya">  Fecha de caducidad </h2><br><p>  Seguramente ya has visto abreviaturas de la forma DÍA, GTC, FOK, COI, GTD, GAT.  Todos ellos limitan la duración de la aplicación. </p><br><ul><li>  <strong>DIA</strong>  Los pedidos de este tipo caducan al final del día de negociación. </li><li>  <strong>GTC</strong> (válido hasta que se cancele).  La aplicación es válida hasta que se cancele claramente.  Para que tales aplicaciones no permanezcan en el mercado indefinidamente, se les aplica una restricción adicional, generalmente de 30 a 90 días. </li><li>  <strong>FOK</strong> (Rellenar o matar).  La aplicación debe ejecutarse en su totalidad o cancelarse de inmediato. </li><li>  <strong>COI</strong> (Inmediato o Cancelar).  La aplicación se ejecuta inmediatamente o se cancela mediante el intercambio.  A diferencia de FOK, permita el cierre parcial. </li><li>  <strong>GTD</strong> (buena hasta la fecha / hora).  La aplicación es válida hasta el tiempo especificado. </li><li>  <strong>GAT</strong> (Bueno después de la hora / Fecha).  La aplicación es válida desde el momento indicado. </li></ul><br><h2 id="usloviya-vypolneniya-orderov">  Condiciones de ejecución de la orden </h2><br><p>  Al combinar instrucciones sobre precios, validez y restricciones adicionales, puede obtener varias condiciones para la ejecución de órdenes. </p><br><p>  Para comprender las relaciones, describiremos la estructura de los tipos de órdenes; se presenta al comienzo del artículo. </p><br><h2 id="ordery-rabotayuschie-pri-otkrytii-i-zakrytii-rynka">  Abrir y cerrar órdenes de mercado </h2><br><p>  Al agregar un período de validez a la orden de mercado, obtenemos: </p><br><ul><li>  <strong>MOO</strong> (Market-On-Open).  Una orden de mercado de este tipo solo se puede ejecutar en el momento en que se abre el día de negociación.  La ejecución está garantizada con liquidez. </li><li>  <strong>LOO</strong> (Límite al abrir).  Al igual que MOO, LOO solo se puede ejecutar al comienzo del día de negociación.  A diferencia de MOO, las órdenes limitadas de este tipo le permiten establecer instrucciones para el precio.  La ejecución no está garantizada. </li><li>  <strong>MOC</strong> (Market-On-Close).  Similar a MOO, pero una orden de mercado solo puede cerrarse al cierre del día de negociación.  La ejecución está garantizada con liquidez. </li><li>  <strong>LOC</strong> (límite al cerrar).  Similar a LOO, pero una orden de límite solo puede cerrarse al cierre del día de negociación.  La ejecución no está garantizada. </li></ul><br><h2 id="uslovnye-ordery">  Órdenes condicionales </h2><br><p>  Cuando deseamos configurar nuestras órdenes para la ejecución de una estrategia comercial, las órdenes condicionales vienen al rescate, órdenes cuya activación se produce solo después de que se cumple la condición.  Por lo tanto, el objetivo principal de estas órdenes es minimizar el riesgo de grandes pérdidas financieras. </p><br><h3 id="stop-order">  Detener orden </h3><br><p>  Una orden de suspensión es una solicitud para comprar o vender una cierta cantidad de un activo a un precio específico o peor.  Tan pronto como el precio de un instrumento sea igual o superior al precio especificado para una orden de stop stop, se convierte automáticamente en una orden de mercado (orden de mercado) y se ejecuta en términos generales.  Del mismo modo, para una orden de venta de stop, tan pronto como el precio alcanza el nivel especificado en la orden y continúa cayendo, se convierte en uno de mercado.  Por lo tanto, la ejecución de las órdenes de detención activas está garantizada. </p><br><p>  Las órdenes de detención minimizan las pérdidas potenciales, por lo tanto, la pérdida de paradas es un sinónimo de la orden de detención. </p><br><h3 id="limitnyy-stop-order-stop-limit-order">  Orden de detención limitada (orden de detención-límite) </h3><br><p>  A diferencia de las órdenes de stop regulares, donde solo se indica el precio de stop, en el límite también debemos indicar el precio límite. <br>  Tan pronto como el precio de un activo sea igual o peor que el precio de parada, se creará automáticamente una orden límite con el precio límite especificado.  La ejecución de tal orden no está garantizada. </p><br><h3 id="skolzyaschiy-stop-order-trailing-stop-order">  Orden de Trailing Stop </h3><br><p>  A diferencia de las órdenes de detención regulares, donde el precio de detención se indica en unidades absolutas, las órdenes móviles utilizan porcentajes.  Después de activarse, se convierte en una orden de mercado regular.  Por lo tanto, el precio de parada está vinculado al precio en el mercado y aumenta con él.  Por ejemplo, realizamos un pedido a un precio de 10 rublos y el precio de parada indicaba el 10% del precio actual, es decir, el precio de parada absoluto será de 9 rublos.  Luego, el activo creció a 15 rublos y, al mismo tiempo, el precio de parada de nuestro pedido a 13,5 rublos. </p><br><p>  Este tipo de orden se usa tanto para minimizar las pérdidas como para maximizar las ganancias. </p><br><h3 id="skolzyaschie-stop-limitnye-ordery-trailing-stop-limit-order">  Órdenes finales de límite de detención </h3><br><p>  A diferencia de las órdenes de detención deslizante, después de activarse, la orden se convierte en un límite en lugar de un mercado. </p><br><h3 id="peg-order">  Orden de clavija </h3><br><p>  Es una especie de órdenes limitadas.  Un pedido cambia automáticamente su precio después de un cambio en el precio de la oferta / demanda.  Las instrucciones de precios indican la compensación del peor de los casos del mejor precio actual de oferta / demanda. </p><br><h3 id="oco-order-one-cancels-other">  Pedido de OCO (uno cancela otro) </h3><br><p>  Este es un pedido de pareja.  Generalmente consiste en una orden de detención y un límite.  Ambas órdenes funcionan con un solo instrumento.  Si se ejecuta uno de ellos, el segundo se cancela automáticamente. <br>  Un ejemplo simple: compramos un activo por 10 rublos, nuestro objetivo es obtener al menos 3 rublos de ganancias, y queremos limitar las pérdidas a un máximo de 2 rublos.  Entonces el precio de parada será de 8 rublos, y el precio límite es de 13 rublos. </p><br><h3 id="oso-order-one-sends-other">  Orden OSO (uno envía otro) </h3><br><p>  Tal orden consiste en una orden principal y un grupo de órdenes relacionadas.  Los pedidos pueden funcionar con diferentes instrumentos.  En el caso de la ejecución del pedido principal, todos los relacionados se crean automáticamente en el mercado. </p><br><p>  Examinamos la teoría de las órdenes, ahora podemos comenzar a practicar. </p><br><h2 id="praktika">  Practica </h2><br><p>  Desde un punto de vista sistémico, es importante determinar con flexibilidad, pero con precisión, la estructura básica para todo tipo de órdenes.  En Erlang, esto se puede hacer usando entradas: </p><br><pre><code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">-record</span></span><span class="hljs-params"><span class="hljs-params">(exchange_order, { id :: binary(), orig_id :: binary(), ticker :: binary(), owner :: binary(), trader :: binary(), type :: non_neg_integer(), side :: non_neg_integer(), time_in_force :: non_neg_integer(), price :: binary(), trigger_price :: binary(), qty :: binary(), orig_qty :: binary(), created_ts :: non_neg_integer(), updated_ts :: non_neg_integer(), deals_history :: [#exchange_deal{}], linked_orders :: [#exchange_order{}], opts :: map() })</span></span>.</code> </pre> <br><h3 id="identifikaciya-ordera">  Identificación del pedido </h3><br><p>  Una vez que la orden se envía al intercambio, se le asigna un identificador interno del sistema: el campo id.  Para mejorar la experiencia del usuario al coordinar el intercambio con sistemas externos, es necesario habilitar el sistema externo al intercambio para asignar su identificación al pedido creado: el campo orig_id.  Esto permitirá solicitar pedidos tanto por id como por orig_id y permitirá rechazar la asignación adicional de pedidos en el sistema externo. </p><br><h3 id="prinadlezhnost-ordera">  Orden de afiliación </h3><br><p>  Ponemos en el sistema la posibilidad de crear intermediarios.  Las solicitudes pueden enviarse directamente de los licitadores o de un intermediario que brinda servicios a clientes que no tienen acceso directo al intercambio. </p><br><p>  En el caso de una aplicación directa, el propietario y el comerciante son iguales. </p><br><h3 id="kodirovanie-instrukciy">  Codificación de instrucciones </h3><br><p>  Analizamos los campos restantes.  Se utilizan dos campos para codificar las instrucciones de precio: precio - precio límite para órdenes limitadas y tirgger_price - precio de respuesta para tipos personalizados.  Por ejemplo, para las órdenes de detención, este campo codificará un precio de detención. </p><br><p>  Para codificar el volumen, use qty y qty_orig.  Qty_orig establece el volumen inicial de la orden y qty: el volumen de la orden durante su ejecución. </p><br><p>  Para tener información precisa sobre ejecuciones parciales, necesita una serie de ofertas_historia.  Con su ayuda, después de que la orden se complete por completo, por ejemplo, puede calcular el precio promedio de una orden ejecutada. </p><br><p>  El campo Linked_orders se requiere para codificar información sobre pedidos relacionados para OCO y OSO. </p><br><p>  Para poder expandir el sistema sin cambiar el registro exchange_order, agregaremos el campo opts, un diccionario dinámico. </p><br><h2 id="promezhutochnyy-itog">  Subtotal </h2><br><p>  Honestamente, pensé que la segunda parte del ciclo sería compacta.  Sin embargo, para una comprensión holística, tuve que revelar el tema con más detalle. </p><br><p>  La parte teórica del próximo artículo resaltará el tema del libro de pedidos y las reglas de procesamiento de pedidos.  La parte técnica revelará el esquema para procesar datos de mercado y el almacenamiento de datos históricos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/481772/">https://habr.com/ru/post/481772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../481758/index.html">Estadísticas de construcción, suministro y visitas a la ISS</a></li>
<li><a href="../481762/index.html">Ecuaciones para la cocina bajo el arbol de navidad</a></li>
<li><a href="../481764/index.html">¿Por qué la energía verde tiene un futuro difícil?</a></li>
<li><a href="../481768/index.html">Nos ocupamos de WebKit en 1C, por ejemplo, la integración de TinyMCE en un formulario administrado en UT 11.4</a></li>
<li><a href="../481770/index.html">El pionero de la programación informática Tony Brucker fallece a los 94 años</a></li>
<li><a href="../481774/index.html">Hojas de trucos de seguridad: parches virtuales</a></li>
<li><a href="../481776/index.html">Servicios 5G y de juegos en la nube: pruebe cómo funciona en Moscú</a></li>
<li><a href="../481778/index.html">Análisis de malware Skeleton Key</a></li>
<li><a href="../481780/index.html">MyOffice tiene más de 200 nuevas funciones.</a></li>
<li><a href="../481782/index.html">Acerca de los problemas de Python Translator y repensar el lenguaje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>