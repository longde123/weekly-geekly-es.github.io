<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧔 🏠 👲🏽 3D-Lebensdauer 🎎 🚾 🙅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Ich beschloss, meine kleinen Experimente mit Partikelsystemen im dreidimensionalen Raum mit meinen Lesern zu teilen. Ich habe die Veröffentlich...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3D-Lebensdauer</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454430/"><p>  Hallo!  Ich beschloss, meine kleinen Experimente mit Partikelsystemen im dreidimensionalen Raum mit meinen Lesern zu teilen.  Ich habe die Veröffentlichung über Habré über Experimente mit Partikeln im 2D-Raum zugrunde gelegt. </p><br><p><img src="https://habrastorage.org/webt/zh/b_/nk/zhb_nkxul24vyztnd7cdg8snpss.gif"></p><a name="habracut"></a><br><p> Beginnen wir mit einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> zu einem Artikel, der mich zum Handeln veranlasst hat.  Aber es gibt noch einen weiteren Grund: Seit ich in meinen Experimenten immer mehr auf Ubuntu umgestiegen bin, waren viele Dinge seit der kostenlosen Installation des Betriebssystems und dann auf der Liste der Pluspunkte gut.  Es gibt Minuspunkte, ich habe Probleme mit Treibern für nicht standardmäßige Betriebssysteminstallationen wie zwei Grafikkarten und mehrere Monitore. </p><br><p>  Ich habe C ++ als Basis genommen, Unterstützung für CUDA als Computerplattform hinzugefügt, es gibt viele Partikel und der Zentralprozessor kann eine solche Belastung offensichtlich nicht in Echtzeit bewältigen und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ogre3D-</a> Grafik-Engine für sie im Unternehmen.  Sie haben den Brei gemacht, ich werde die Gif-Erzählung mit Animationen und Zitaten aus dem Artikel über die 2D-Version der Simulation würzen. </p><br><p>  „Zuerst bin ich in die Fußstapfen des Spiels„ Leben “getreten: Jedes Partikel hat einen„ Überbevölkerungszähler “, der der Summe der inversen Quadrate der Abstände zu anderen Partikeln entspricht. Wenn dieser Zähler unter einer bestimmten Grenze liegt, dh es gibt nur wenige Nachbarn, wird das Partikel von anderen Partikeln angezogen, und Wenn es viele Nachbarn gibt, stößt es ab, wenn sich die Teilchen schneiden, dann stoßen sie sich auf jeden Fall ab, um sich nicht gegenseitig zu durchdringen. </p><br><p>  Wir streuen zufällig Partikel über das Feld und sehen, was passiert. " </p><br><p><img src="https://habrastorage.org/webt/g-/q0/vy/g-q0vygmvnjfjbcsc0j3umxlyym.gif"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweitertes Video</a> <br>  Nun ein wenig über die Logik dessen, was im Programm passiert.  Ein Array von Partikeln mit bestimmten Parametern wird erstellt.  Einige der Parameter sind für die physikalischen Eigenschaften verantwortlich: Radius, Masse, Geschwindigkeit usw., Teil zum Herstellen von Bindungen zwischen Partikeln, wie z. B.: Art der Partikel, Anzahl der Partikelverbindungen mit anderen Partikeln usw.  Im Durchschnitt habe ich in der Simulation 700 bis 3000 Partikel verwendet, da ich in Echtzeit zählen wollte, führte ein größerer Wert aufgrund der Zunahme des Rechenvolumens zur Hemmung des Bildes.  Dann wird all dieses Zeug in den Speicher der Grafikkarte übertragen, wo die GPU im starken Parallelisierungsmodus drei Hauptunterprogramme verarbeitet: Simulation der Partikelbewegung, Verarbeitung von Partikelkollisionen (Kollisionen) und Bildung und Zerstörung von Bindungen zwischen Partikeln. </p><br><p>  "Wir ändern die Spielregeln. Wir werden keine Nachbarn mehr zählen. Lassen Sie die Partikel je nach Typ einfach anziehen oder abstoßen. Wenn alle Partikel vom gleichen Typ sind, gibt es nur zwei Möglichkeiten: Sie stoßen entweder alle ab oder alle ziehen sich an." </p><br><p>  Ich habe verschiedene Optionen für anziehende Abstoßungskräfte, lineare Abhängigkeiten von den Abständen zwischen Partikeln, umgekehrt proportional zum Abstand usw. ausprobiert.  entschied sich für die inverse quadratische Abhängigkeit, jedoch mit einer Einschränkung des Wirkradius, etwa 45 Teilchenradien. </p><br><p><img src="https://habrastorage.org/webt/ht/6o/bf/ht6obffhxom4jfaguqnx2kp1tuo.gif"></p><br><p>  "Wir werden die Regeln nicht viel ändern. Stattdessen werden wir eine neue Funktion hinzufügen. Jetzt bilden die Partikel in kurzer Entfernung Bindungen. Wenn die Partikel verbunden sind, werden sie ständig voneinander angezogen. Diese Anziehungskraft schwächt sich nicht mit der Entfernung ab. Wenn die Entfernung jedoch über einem bestimmten Schwellenwert liegt, dann Die Verbindung ist unterbrochen. " </p><br><p>  Hier änderte sich die Regel ein wenig, führte den Abstand der Bindungsbildung ein, es ist der Abstand der Bindungszerstörung und der Ruheabstand des Partikels in der Bindung, dh das Partikel versucht ständig, eine Position in der Nähe der Ruheposition einzunehmen, daher schwingt das Partikel zu diskreter Zeit nahe der Nullposition.  Dies ist auf allen Videos sichtbar.  Es ist möglich, komplexere Gesetze anzuwenden, wenn eine Bindung wie Elastizität gebildet wird, aber im Moment habe ich es vereinfacht, aber wir haben eine "Primärsuppe" und keine feste Substanz. </p><br><p><img src="https://habrastorage.org/webt/wy/q1/go/wyq1gohfiedu4tcioy4pie5do68.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweitertes Video</a> </p><br><p>  oder als Bild </p><br><p><img src="https://habrastorage.org/webt/-e/3n/mf/-e3nmf1pxpvg3scspkxdvakax70.png"></p><br><p>  Dann begann der Versuch und Irrtum.  Erstens erfordert die Programmierung auf der GPU besondere Sorgfalt bei den sogenannten "Rennen beim Lesen, Ändern und Schreiben gemeinsam genutzter Daten", was bedeutet, dass es Probleme geben kann, wenn mehrere Threads gleichzeitig versuchen, die Variable zu ändern.  Instabilitäten entstehen wie folgt: </p><br><p><img src="https://habrastorage.org/webt/3x/sq/-v/3xsq-vepy_ejq_zunzmomdptzji.gif"></p><br><p>  Dann musste der Raum begrenzt werden, in dem das Experiment stattfindet. Das erste, was mir in den Sinn kam, war ein Würfel.  Aber dank der Fehler in den ersten Versionen des Programms krochen Partikel kühn heraus und bildeten etwas Ähnliches wie Raumstationen aus der Fiktion der 70er Jahre. </p><br><p><img src="https://habrastorage.org/webt/r6/3m/dp/r63mdpkzq2rwvaieczouhm1bn7w.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweiterte Version des Videos</a> </p><br><p>  Wie das Sprichwort sagt, wenn nicht ein Würfel, dann lass es einen Ball geben: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ypqrbYji0EM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Hier ist die Logik, dass nach dem Verlassen des Zentrums des Teilchens eine Kraft entgegen ihrer Bewegung wirkt, die sogar wie Schwerkraft aussieht. </p><br><pre><code class="cpp hljs">__device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Links[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinksField[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinkTypeSize[<span class="hljs-number"><span class="hljs-number">3</span></span>] = {<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinkTypePP[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}};</code> </pre> <br><p>  Er brachte ein Stück Code mit, das sind Matrixen der Wechselwirkung von drei Arten von Partikeln miteinander. <br>  -die erste Zeile ist das Prinzip der Bildung von Bindungen: 1 Es besteht die Möglichkeit, eine Verbindung mit einem anderen Teilchen herzustellen, 0 bzw. Nr. <br>  -die zweite Linie ist das Gesetz der Anziehung der Abstoßung von Partikeln.  Tatsächlich stoßen sich in dieser Ausführungsform alle gegenseitig ab, mit Ausnahme der Anziehung des zweiten Partikeltyps zum dritten.  Sie können die Matrix natürlich spiegeln, aber in diesem Fall. <br>  -th dritte Zeile ist die Anzahl der gemeinsamen Partikelbindungen nach Typ. <br>  -vierte ist die Anzahl der Partikelbindungen mit jedem Partikeltyp. Der erste Typ kann beispielsweise keine Bindung mit sich selbst eingehen. </p><br><p>  Wir bekommen Teilchen in einer starken Brownschen Bewegung: </p><br><p><img src="https://habrastorage.org/webt/j_/iy/vd/j_iyvdxbsntezeqol8l7ivt9r00.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweiterte Version des Videos</a> </p><br><p>  Ich musste bei Kollisionen Energieverluste einführen. </p><br><p><img src="https://habrastorage.org/webt/bg/q-/hf/bgq-hfkwa32xdpwpc1-atcehfci.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweiterte Version des Videos</a> </p><br><p>  Alles ist zu statisch geworden, wir reduzieren die Kräfte der Partikelwechselwirkung. </p><br><p><img src="https://habrastorage.org/webt/uf/uw/dj/ufuwdjlrskkimt5gn_buvzr-iru.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweiterte Version des Videos</a> </p><br><p>  Wenn Sie sich das Video ansehen, können Sie sehen, wie der Rahmen erstellt wird.  Dann bleibt es trotzdem statisch. </p><br><p>  Wir ändern die Regeln bezüglich der Matrixkoeffizienten. </p><br><p><img src="https://habrastorage.org/webt/kg/tb/hh/kgtbhhsuv3sdfzlmyz5nrpm3aje.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erweiterte Version des Videos</a> <br>  Wir sehen die Bildung der Ähnlichkeit organischer Moleküle.  Es gibt sogar Benzolringe. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NYph8fnI8PM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Ein weiteres Video zeigt, was passiert, wenn Sie die Länge der Bindungen zwischen Partikeln in der Dynamik ändern. Ab der zweiten Minute des Videos ist dies besonders ausgeprägt. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/lQ47AbIBMdU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Aber wir müssen versuchen, die 2D-Version des Autors zu wiederholen, dessen Zitate im Hauptteil des Artikels stehen.  Es gibt eine Variante eines solchen "Lebens": </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jrNFiYIp8i0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  oder so </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2IHz97Kv5-o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Was kann hinzugefügt werden?  Erstens die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Programmquellen</a> .  Zweitens gibt es mehrere Artikel auf dem Hub, die zellulare Automaten oder freie Systeme beschreiben (theoretisch ist ein zellularer Automat das Äquivalent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einer Turing-Maschine</a> ), mit einer gerenderten Überschrift, die das Wort "Leben" enthält. Deshalb habe ich beschlossen, es auch wie eine Tradition zu verwenden.  Obwohl es sich eher um ein Kaledoskop handelt, führen einfache Regeln zu komplexen Verhaltensweisen wie Partikeln und einem Spiegelsystem in einem Kinderspielzeug. </p><br><p>  Und das Video fügte tatsächlich ein bezauberndes Bild hinzu, es scheint Moleküle, dann neuronale Netze, aber das Leben ist noch nicht da.  Als Entwicklungsoption muss die Genetik hinzugefügt werden, aber es ist nicht klar, was eine Fitnessfunktion für diese "Kreaturen" sein kann. </p><br><p><img src="https://habrastorage.org/webt/9i/mt/d8/9imtd8is7h9hiq0ehvziunrympu.png"></p><br><p>  Ich hoffe, es wird jemandem gefallen und es wird weiter von 3D entfernt sein, da der Autor von 2D entfernt ist.  Die Hauptsache für mich war, die Lektionen über CUDA und Ogre3D unter Ubuntu zu wiederholen. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vBcIUxPkhtA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Und es werden Ideen geschrieben, vielleicht kommen wir auf etwas Interessantes :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de454430/">https://habr.com/ru/post/de454430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de454420/index.html">Backup, Teil 3: Übersicht und Testen der Duplizität, Duplikate</a></li>
<li><a href="../de454422/index.html">Zur perversen Interpretation von Newtons erstem Gesetz in der modernen Physik</a></li>
<li><a href="../de454424/index.html">5 häufige Fehler bei der Verwendung von Android-Architekturkomponenten</a></li>
<li><a href="../de454426/index.html">Künstlich: zu Beginn der künstlichen Intelligenz</a></li>
<li><a href="../de454428/index.html">Was Apple auf der WWDC vorgestellt hat und was iOS-Entwickler darüber denken</a></li>
<li><a href="../de454432/index.html">Unterhaltsame Archäologie: Der Style Guide R unter der Lupe</a></li>
<li><a href="../de454434/index.html">PDA (Pocket Travel Computer): Schaltkreis-GPS-Logger</a></li>
<li><a href="../de454436/index.html">Petty Petty Joy # 1: Loguru</a></li>
<li><a href="../de454440/index.html">Petty Little Fun # 2: Starlette</a></li>
<li><a href="../de454442/index.html">So wählen Sie ein Proxy-Netzwerk für Ihr Unternehmen aus: 3 praktische Tipps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>