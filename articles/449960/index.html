<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèª üå∞ üêøÔ∏è Fuentes de inspiraci√≥n al desarrollar para UDB üéÆ ü§±üèº üë©üèº‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bueno, ya sabemos todo lo que necesitas para programar UDB. Pero una cosa es saber y otra muy distinta poder. Por lo tanto, hoy discutiremos d√≥nde y c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fuentes de inspiraci√≥n al desarrollar para UDB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449960/">  Bueno, ya sabemos todo lo que necesitas para programar UDB.  Pero una cosa es saber y otra muy distinta poder.  Por lo tanto, hoy discutiremos d√≥nde y c√≥mo inspirarnos para mejorar nuestras propias habilidades, d√≥nde adquirir experiencia.  Como se puede ver en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">traducci√≥n de la documentaci√≥n</a> , existe un conocimiento seco que no siempre est√° vinculado a la pr√°ctica real (llam√© la atenci√≥n sobre esto en una nota bastante larga, hasta la √∫ltima traducci√≥n hasta la fecha).  En realidad, las estad√≠sticas de las vistas de art√≠culos muestran que cada vez menos personas leen traducciones.  Incluso hubo una propuesta para interrumpir este ciclo, como poco interesante, pero solo quedaron dos partes, por lo tanto, al final, simplemente se decidi√≥ reducir el ritmo de su preparaci√≥n.  En general, la documentaci√≥n para el controlador es algo necesario, pero no autosuficiente.  ¬øD√≥nde m√°s obtener inspiraci√≥n? <br><br><img src="https://habrastorage.org/webt/9n/wy/nb/9nwynby6myz8p5ecl1k5f8l8gwq.jpeg"><br><br>  En primer lugar, puedo recomendar el excelente documento <b>AN82156 Dise√±o de componentes de PSoC Creator con UDB Datapaths</b> .  En √©l encontrar√° soluciones t√≠picas, as√≠ como varios proyectos est√°ndar.  Adem√°s, al comienzo del documento, el desarrollo se lleva a cabo utilizando el Editor UDB, y hacia el final, utilizando la Herramienta de configuraci√≥n de Datapath, es decir, el documento cubre todos los aspectos del desarrollo.  Pero desafortunadamente, mirando el precio de un solo chip PSoC, dir√≠a que si solo puede resolver los problemas descritos en este documento, el controlador est√° sobrevalorado.  Los PWM y los puertos serie est√°ndar se pueden hacer sin PSoC.  Afortunadamente, el rango de tareas de PSoC es mucho m√°s amplio.  Por lo tanto, despu√©s de terminar de leer AN82156, comenzamos a buscar otras fuentes de inspiraci√≥n. <br><a name="habracut"></a><br>  La siguiente fuente √∫til son los ejemplos que vienen con PSoC Creator.  Ya me refer√≠ a ellos en una nota a una de las partes de la traducci√≥n de la documentaci√≥n de la compa√±√≠a (puede ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  Se almacenan aproximadamente aqu√≠ (el disco puede diferir): <br><br>  E: \ Archivos de programa (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ psoc \ content \ CyComponentLibrary. <br><br>  Debes buscar archivos * .v, es decir, textos de verilog o * .vhd, ya que la sintaxis del lenguaje VHDL requiere un poco m√°s de descripci√≥n, y en este lenguaje a veces puedes encontrar matices interesantes ocultos a los ojos del programador en Verilog.  El problema es que estos no son ejemplos, sino soluciones preparadas.  Esto es maravilloso, est√°n perfectamente depurados, pero nosotros, los programadores simples, tenemos diferentes objetivos con los programadores de Cypress.  Nuestra tarea es hacer algo auxiliar en poco tiempo, despu√©s de lo cual comenzamos a usarlo en nuestros proyectos, en los que pasaremos la mayor parte del tiempo.  Idealmente deber√≠a resolver las tareas que se nos asignaron hoy, y si ma√±ana queremos insertar el mismo c√≥digo en otro proyecto, donde todo ser√° ligeramente diferente, ma√±ana lo terminaremos en esa situaci√≥n.  Para los desarrolladores de Cypress, el componente es el producto final, por lo que pueden pasar la mayor parte del tiempo en √©l.  Y deben proporcionar para todo-todo-todo.  Entonces, cuando vi estos textos, me sent√≠ triste.  Son demasiado complejos para alguien que acaba de comenzar a buscar d√≥nde inspirarse para sus primeros desarrollos.  Pero como referencias, estos textos son bastante adecuados.  Hay muchos dise√±os valiosos que se necesitan al crear sus propias cosas. <br><br>  Tambi√©n hay rincones muy interesantes.  Por ejemplo, hay, ahora dir√© en el estilo de "aceite de mantequilla", modelos para modelar (hace mucho tiempo, un maestro severo me desanim√≥ de traducir la simulaci√≥n de otra manera que no sea "modelar").  Se pueden encontrar en el cat√°logo. <br>  E: \ Archivos de programa (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ sim. <br><br>  El directorio m√°s interesante para el programador en Verilogue es: <br><br>  E: \ Archivos de programa (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ sim \ presynth \ vlg. <br><br>  La descripci√≥n de los componentes en la documentaci√≥n es buena.  Pero los modelos de comportamiento para todos los componentes est√°ndar se describen aqu√≠.  A veces, esto es mejor que la documentaci√≥n (que est√° escrita en un lenguaje pesado, adem√°s de que se omiten algunos detalles esenciales).  Cuando el comportamiento de este o aquel componente no est√° claro, vale la pena comenzar los intentos de comprenderlo con precisi√≥n al ver los archivos de este directorio.  Al principio trat√© de buscar en Google, pero muy a menudo me encontr√© en los foros encontrados solo razonamiento y sin detalles.  Aqu√≠ est√°n precisamente los detalles. <br><br>  Sin embargo, el libro de referencia es maravilloso, pero ¬ød√≥nde buscar un libro de texto, de qu√© aprender?  Honestamente, no hay nada especial.  No hay muchos buenos ejemplos listos para UDB Editor.  Tuve mucha suerte de que cuando de repente decid√≠ jugar con LEDs RGB, me encontr√© con un hermoso ejemplo bajo el Editor UDB (escrib√≠ sobre eso en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> que comenz√≥ todo el ciclo).  Pero si trabajas mucho con un motor de b√∫squeda, todav√≠a habr√° ejemplos para la herramienta de configuraci√≥n de Datapath, por lo que hice el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo anterior</a> para que todos entiendan c√≥mo usar esta herramienta.  Y aqu√≠ se encuentra una p√°gina maravillosa en la que se recopilan muchos ejemplos. <br><br>  En esta p√°gina hay desarrollos realizados por desarrolladores externos, pero verificados por Cypress.  Es decir, justo lo que necesitamos: tambi√©n somos desarrolladores externos, pero queremos aprender de algo que se verifica con precisi√≥n.  Veamos un ejemplo donde encontr√© esta p√°gina: una calculadora de hardware de ra√≠z cuadrada.  Los usuarios finales lo incluyen en la ruta de procesamiento de la se√±al, lanzando un componente al circuito.  En este ejemplo, entrenaremos para analizar un c√≥digo similar, y luego todos podr√°n comenzar a nadar de forma independiente.  Entonces, el ejemplo necesario se puede descargar desde el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . <br><br>  Lo examinamos  Hay ejemplos (que todos considerar√°n independientemente) y hay bibliotecas ubicadas en el directorio \ CJCU_SquareRoot \ Library \ CJCU_SquareRoot.cylib. <br><br>  Para cada tipo (entero o punto fijo) y para cada bit, hay una soluci√≥n.  Esto debe tenerse en cuenta.  La versatilidad es buena cuando se desarrolla en el Editor UDB, pero cuando se desarrolla utilizando la Herramienta de edici√≥n de Datapath, como puede ver, la gente se atormenta de esta manera.  No tengas miedo si no puedes hacerlo universalmente (pero si funciona mejor). <br><br>  En el nivel superior (circuitos), no parar√©, estamos estudiando no trabajando con PSoC, sino trabajando con UDB.  Veamos una opci√≥n de complejidad media: 16 bits, pero entera.  Se encuentra en el directorio CJCU_B_Isqrt16_v1_0. <br><br>  Lo primero que debe hacer es expandir el gr√°fico de transici√≥n del firmware.  Sin √©l, ni siquiera podremos adivinar qu√© tipo de algoritmo de ra√≠z cuadrada se ha aplicado, ya que Google ofrece una selecci√≥n de varios algoritmos fundamentalmente diferentes. <br><br><img src="https://habrastorage.org/webt/ms/xz/la/msxzlahct34myy-jo6ynzdbyph0.png"><br><br>  Hasta ahora, nada est√° claro, pero es predecible.  Necesito agregar m√°s informaci√≥n.  Nos fijamos en la codificaci√≥n de estado.  Llama la atenci√≥n que no est√°n codificados en el c√≥digo binario incremental habitual. <br><br><img src="https://habrastorage.org/webt/le/ef/ni/leefnikfyhpm0bskxxmyhigc_rk.png"><br><br>  Ya he mencionado este enfoque en mis art√≠culos, pero nunca he podido usarlo en ejemplos espec√≠ficos.  Perm√≠tame recordarle que la configuraci√≥n din√°mica de RAM ALU tiene solo tres entradas de direcci√≥n.  Es decir, ALU puede realizar una de las ocho operaciones.  Si el aut√≥mata tiene m√°s estados, entonces la regla "cada estado tiene su propia operaci√≥n" se vuelve imposible.  Por lo tanto, se seleccionan estados en los que las operaciones para la ALU son id√©nticas, tienen tres bits suministrados a la direcci√≥n RAM de la configuraci√≥n din√°mica (generalmente de orden inferior), se codifican de la misma manera y el resto de diferentes maneras.  C√≥mo agregar tal solitario ya es un problema del desarrollador.  Los desarrolladores del c√≥digo estudiado doblaron exactamente como se muestra arriba. <br><br>  Agregue esta informaci√≥n al gr√°fico, adem√°s de colorear los estados que realizan la misma funci√≥n en ALU en colores similares. <br><br><img src="https://habrastorage.org/webt/bs/ur/an/bsuran7bbednztvwwhqllpvsxkq.png"><br><br>  A√∫n no se han manifestado patrones, pero continuamos abriendo el gr√°fico.  Abrimos Datapath Edit Tool y estudiamos la l√≥gica que ya est√° en ella. <br><br>  Tenga en cuenta que tenemos dos bloques Datapath conectados en una cadena.  Cuando hacemos algo por nuestra cuenta, tambi√©n podemos necesitar esto (aunque, la herramienta de edici√≥n de Datapath puede crear bloques ya vinculados en una cadena, por lo que esto no da miedo): <br><br><img src="https://habrastorage.org/webt/ww/zy/kp/wwzykp0zjtuvioq7edfl3wgy28w.png"><br><br>  Al leer (y completar) el gr√°fico correspondiente a ALU, siempre abrimos un documento con la siguiente figura: <br><br><img src="https://habrastorage.org/webt/kr/nm/5p/krnm5p5sov_is3aijsvjepxgyz4.png"><br><br>  Es cierto que los desarrolladores de este ejemplo nos cuidaron y completaron los campos de comentarios.  Ahora podemos usarlos para comprender para qu√© est√° configurado.  Al mismo tiempo, notamos por nosotros mismos que escribir comentarios siempre es √∫til tanto para quienes acompa√±ar√°n el c√≥digo como para nosotros, cuando en seis meses lo olvidaremos todo. <br><br>  Observamos el c√≥digo X000 correspondiente a los estados 0 y 12: <br><br><img src="https://habrastorage.org/webt/-f/r3/5_/-fr35_p9nmenndof7gn_k1-iv2a.png"><br><br>  A partir del comentario, ya est√° claro lo que est√° sucediendo all√≠ (los contenidos del registro D0 se copian en el registro A0, y los contenidos de D1 se copian en el registro A1. Sabiendo esto, entrenamos nuestra intuici√≥n para el futuro y encontramos una entrada similar en los campos de configuraci√≥n: <br><br><img src="https://habrastorage.org/webt/6t/nw/jf/6tnwjfjm-ngl_oavbq6gpw29zwy.png"><br><br>  All√≠ vemos que la ALU funciona en modo <b>PASS</b> , el registro de desplazamiento tambi√©n es <b>PASS</b> , por lo que no se realizan realmente otras acciones. <br><br>  En el camino, miramos el texto en Verilog y vemos d√≥nde es igual el valor de los registros D0 y D1: <br><br><img src="https://habrastorage.org/webt/gv/md/9i/gvmd9i8bc7xc738wf8ozl0fypag.png"><br><br>  Si lo desea, se puede ver lo mismo en la herramienta de configuraci√≥n de Datapath, seleccionando Ver-&gt; Valores de registro iniciales: <br><br><img src="https://habrastorage.org/webt/hf/2r/i4/hf2ri4nlc3s_npqmpgn0z_l0sbe.png"><br><br><img src="https://habrastorage.org/webt/dl/aw/xi/dlawxi9bjazna2eofwjtslnbriq.png"><br><br>  Para ver, es m√°s conveniente analizar directamente el c√≥digo Verilog, para crear su propia versi√≥n: trabaje a trav√©s del editor para no tener en cuenta la sintaxis. <br><br>  Del mismo modo, analizamos (primero, mirando en los comentarios) todas las otras funciones de ALU: <br><br><img src="https://habrastorage.org/webt/d6/_5/wz/d6_5wzhqokkcgmeiaxskrmeklfc.png"><br><br>  Rehacemos el gr√°fico de transici√≥n del aut√≥mata teniendo en cuenta los nuevos conocimientos: <br><br><img src="https://habrastorage.org/webt/a9/oc/6b/a9oc6b90oehe5lrmrmb1rhpzcv8.png"><br><br>  Ya se avecina algo, pero hasta ahora no puedo confiar con confianza en ninguno de los algoritmos encontrados por Google en este gr√°fico.  M√°s bien, sobre algunos puedes decir con confianza que no son ellos, pero incluso para los cre√≠bles, todav√≠a no puedo dar una respuesta segura de que son ellos.  Confunde el uso activo de los registros FIFO F0 y F1.  Generalmente en el archivo <br><br>  \ CJCU_SquareRoot \ Library \ CJCU_SquareRoot.cylib \ CJCU_Isqrt_v1_0 \ API \ CJCU_Isqrt.c <br><br>  Se puede ver que F1 se utiliza para pasar el argumento y devolver el resultado: <br><br><img src="https://habrastorage.org/webt/p3/1_/qj/p31_qjeah1fw3va8adkfc3t7zqk.png"><br><br><div class="spoiler">  <b class="spoiler_title">Mismo texto:</b> <div class="spoiler_text"><pre><code class="plaintext hljs">void `$INSTANCE_NAME`_ComputeIsqrtAsync(uint`$regWidth` square) { /* Set up FIFOs, start the computation. */ CY_SET_REG`$dpWidth`(`$INSTANCE_NAME`_F1, square); CY_SET_REG8(`$INSTANCE_NAME`_CTL, 0x01); } ‚Ä¶ uint`$resultWidth` `$INSTANCE_NAME`_ReadIsqrtAsync() { /* Read back result. */ return CY_GET_REG`$dpWidth`(`$INSTANCE_NAME`_F1); }</code> </pre> <br></div></div><br>  Pero un argumento y un resultado.  ¬øY por qu√© hay tantas llamadas a FIFO en el curso del trabajo?  ¬øY qu√© tiene que ver FIFO0 con √©l?  Me cort√≥ en pedazos, pero parece que los autores aprovecharon el modo que se encontr√≥ en las traducciones de la documentaci√≥n, cuando en lugar de un FIFO completo, este bloque actu√≥ como un registro √∫nico.  Supongamos que los autores deciden expandir el conjunto de registros.  Si es as√≠, entonces su metodolog√≠a nos ser√° √∫til en nuestro trabajo pr√°ctico, estudiemos los detalles.  De hecho, la documentaci√≥n habla sobre diferentes enfoques para trabajar con FIFO.  Puedes, as√≠ que puedes, pero puedes, m√°s o menos.  Y sin detalles.  Nuevamente tenemos la oportunidad de aprender sobre las mejores pr√°cticas internacionales.  ¬øQu√© hacen los autores con FIFO? <br><br>  Primero, estas son las asignaciones de se√±al: <br><br><pre> <code class="plaintext hljs"> wire f0_load = (state == B_SQRT_STATE_1 || state == B_SQRT_STATE_4); wire f1_load = (state == B_SQRT_STATE_1 || state == B_SQRT_STATE_3 || state == B_SQRT_STATE_9 || state == B_SQRT_STATE_11); wire fifo_dyn = (state == B_SQRT_STATE_0 || state == B_SQRT_STATE_12);</code> </pre><br>  En segundo lugar, aqu√≠ hay una conexi√≥n con Datapath: <br><br><pre> <code class="plaintext hljs"> /* input */ .f0_load(f0_load), /* input */ .f1_load(f1_load), /* input */ .d0_load(1'b0), /* input */ .d1_load(fifo_dyn),</code> </pre><br>  Seg√∫n la descripci√≥n del controlador, no est√° particularmente claro qu√© significa todo esto.  Pero de la Nota de aplicaci√≥n, descubr√≠ que esta configuraci√≥n es la culpable de todo: <br><br><img src="https://habrastorage.org/webt/uo/gz/re/uogzrechxp9befe1esnivuooth8.png"><br><br>  Por cierto, precisamente debido a esta configuraci√≥n, este bloque no se puede describir con el Editor UDB.  Cuando estos bits de control est√°n en estado <b>ON</b> , FIFO puede trabajar en diferentes fuentes y receptores.  Si <b>Dx_LOAD</b> es igual a uno, <b>Fx</b> intercambia con el bus del sistema, si es cero, entonces con el registro seleccionado aqu√≠: <br><br><img src="https://habrastorage.org/webt/jj/dx/aq/jjdxaqvh9gr1jdfpbv_axilhfac.png"><br><br>  Resulta que F0 siempre intercambia con el registro A0 y F1 en los estados 12 y 0, con el bus del sistema (para cargar el resultado y cargar el argumento), en otros estados, con A1. <br>  Adem√°s, a partir del c√≥digo Verilog, descubrimos que en F0 los datos se cargar√°n en los estados 1 y 4, y en F1 - en los estados 1, 3, 9, 11. <br><br>  Agregue los conocimientos adquiridos a la gr√°fica.  Para evitar confusiones durante la secuencia de operaciones, tambi√©n era hora de reemplazar la marca de asignaci√≥n "a la UDB Editor" con las flechas de Verilogov para enfatizar que la fuente es el valor de la se√±al que ten√≠a antes de ingresar al bloque. <br><br><img src="https://habrastorage.org/webt/ct/xx/hl/ctxxhlmqgxywkwpnvhcneksxnyc.png"><br><br>  Desde el punto de vista del an√°lisis del algoritmo, todo ya est√° claro.  Ante nosotros hay una modificaci√≥n de dicho algoritmo: <br><br><pre> <code class="plaintext hljs">uint32_t SquareRoot(uint32_t a_nInput) { uint32_t op = a_nInput; uint32_t res = 0; uint32_t one = 1uL &lt;&lt; 30; // The second-to-top bit is set: use 1u &lt;&lt; 14 for uint16_t type; use 1uL&lt;&lt;30 for uint32_t type // "one" starts at the highest power of four &lt;= than the argument. while (one &gt; op) { one &gt;&gt;= 2; } while (one != 0) { if (op &gt;= res + one) { op -= res + one; res += one &lt;&lt; 1; } res &gt;&gt;= 1; one &gt;&gt;= 2; } return res; }</code> </pre><br>  Solo en relaci√≥n con nuestro sistema se ver√° m√°s as√≠: <br><br><pre> <code class="plaintext hljs">uint32_t SquareRoot(uint32_t a_nInput) { uint32_t op = a_nInput; uint32_t res = 0; uint32_t one = 1uL &lt;&lt; 14; // The second-to-top bit is set while (one != 0) { if (op &gt;= res + one) { op -= res + one; res += one &lt;&lt; 1; } res &gt;&gt;= 1; one &gt;&gt;= 2; } return res; }</code> </pre><br>  Los estados 4 y 10 codifican expl√≠citamente la cadena: <br><br><pre> <code class="plaintext hljs"> res &gt;&gt;= 1;</code> </pre><br>  para diferentes ramas <br><br>  La linea es: <br><br><pre> <code class="plaintext hljs"> one &gt;&gt;= 2;</code> </pre><br>  est√° expl√≠citamente codificado por un par de estados 6 y 7, o un par de estados 9 y 7. Por ahora, quiero exclamar: "¬°Bueno, los inventores son los mismos autores!", pero muy pronto se har√° evidente por qu√© hay tanta dificultad con dos ramas (en el c√≥digo C hay una rama y soluci√≥n alternativa). <br><br>  El estado 2 codifica una rama condicional.  El estado 7 codifica una declaraci√≥n de bucle.  La operaci√≥n de comparaci√≥n en el paso 2 es muy costosa.  En general, en la mayor√≠a de los pasos, el registro A0 contiene la variable.  Pero en el paso 1, la variable uno se descarga a F0, y en su lugar <b>se</b> carga el valor <b>res + one</b> , luego en el paso 2 se realiza la resta con el prop√≥sito de comparaci√≥n, y en los pasos 3 y 8, se restaura el valor de <b>uno</b> .  Por qu√©, en el paso 4, A0 se copia a F0 nuevamente, no lo entend√≠.  Quiz√°s esto sea alg√∫n tipo de rudimento. <br><br>  Queda por descubrir qui√©n es <b>res</b> y qui√©n es <b>op</b> .  Sabemos que la condici√≥n compara op y res + one.  En el estado 1, se agregan A0 ( <b>uno</b> ) y A1.  As√≠ que A1 es <b>res</b> .  Resulta que en el estado 11 A1 tambi√©n es <b>res</b> , y es √©l quien entra en F1, que se alimenta a la salida de la funci√≥n.  F1 en el estado 1 es claramente <b>op</b> .  Propongo introducir la diferenciaci√≥n de color de los <s>pantalones de las</s> variables.  Denotamos <b>res</b> como rojo, <b>op</b> como verde y <b>uno</b> como marr√≥n (no del todo contrastado, pero los otros colores son a√∫n menos contrastados). <br><br><img src="https://habrastorage.org/webt/xl/hs/ns/xlhsnsgsbuqn2s5kdqtv7xh4tac.png"><br><br>  En realidad, toda la verdad se revela.  Vemos c√≥mo A1 cambia temporalmente de F1 para la comparaci√≥n y los c√°lculos, c√≥mo se usa la misma diferencia tanto para la comparaci√≥n (en realidad, generar el bit C) como para participar en la f√≥rmula.  Incluso vemos por qu√© el espacio vac√≠o (bypass) en el algoritmo C est√° codificado por una rama larga del gr√°fico de transici√≥n del aut√≥mata (en esta rama, los registros se intercambian de manera id√©ntica al intercambio que ocurre en la rama del c√≥digo principal).  Lo vemos todo <br><br>  La √∫nica pregunta que nunca deja de atormentarme es ¬øc√≥mo cambiaron los autores FIFO al modo de un solo byte?  La documentaci√≥n dice que para esto necesita elevar los bits CLR en el registro de Control Auxiliar en una unidad, pero no veo que la API tenga dichos registros.  Quiz√°s alguien lo entienda y escriba en los comentarios. <br><br>  Bueno, y desarrollar algo propio, en orden inverso, utilizando las habilidades adquiridas. <br><br><h3>  Conclusi√≥n </h3><br>  Para desarrollar las habilidades de desarrollar "firmware" basado en UDB, es √∫til no solo leer la documentaci√≥n, sino tambi√©n inspirarse en los dise√±os de otras personas.  El c√≥digo que viene con PSoC Creator puede ser √∫til como referencia, y los modelos de comportamiento incluidos con el compilador lo ayudar√°n a comprender mejor lo que se entiende en la documentaci√≥n.  El art√≠culo tambi√©n proporciona un enlace a un conjunto de ejemplos de terceros fabricantes y muestra el proceso de analizar uno de esos ejemplos. <br><br>  En este sentido, el ciclo de art√≠culos de copyright sobre el trabajo con UDB puede considerarse completado.  Me alegrar√≠a si ayudara a alguien a obtener conocimientos √∫tiles en la pr√°ctica.  Hay un par de traducciones de documentaci√≥n por delante, pero las estad√≠sticas muestran que casi nadie las lee.  Se planean limpiamente para no dejar caer el tema en pocas palabras. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/449960/">https://habr.com/ru/post/449960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449946/index.html">1C Developer Tales: admin</a></li>
<li><a href="../449948/index.html">JavaScript: 7 peque√±as cosas √∫tiles</a></li>
<li><a href="../449952/index.html">Configurar la entrega continua en gitlab.com</a></li>
<li><a href="../449954/index.html">Instale Zimbra Open-Source Edition en CentOS 7</a></li>
<li><a href="../449956/index.html">AI @ MIPT: Big data para modelos matem√°ticos del genoma humano</a></li>
<li><a href="../449962/index.html">Enrutadores industriales 4G SmartMotion</a></li>
<li><a href="../449964/index.html">Pruebe el sitio de construcci√≥n del nanoCAD SPDS 8. Parte 2</a></li>
<li><a href="../449966/index.html">Tablas en Figma. Dise√±o de cuadr√≠cula de datos por un componente</a></li>
<li><a href="../449968/index.html">Redmadrobot analiza AppsConf 2019: video</a></li>
<li><a href="../449970/index.html">Publicar bajo la bandera negra, o como no puse tu curso de video en el rastreador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>