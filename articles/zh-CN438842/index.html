<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🌾 🕑 🧒🏿 整理torrent-TV播放列表（Super Wash） 📰 🧑🏾 👦🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD 内容的主要来源Torrent-TV服务已经死亡，因此该文章没有实际意义。 

 非法Torrent-TV服务（超级清洗）中的流绝大多数是来自运营商的原始流，或者来自卫星的未经夹持的流。 这些主要是隔行视频流。 洪流电视提供了最高的质量，但稳定性较低。 今天有一些频道，明天没有。 今天，某些频...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>整理torrent-TV播放列表（Super Wash）</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438842/"> <b>UPD</b>  <b>内容的主要来源Torrent-TV服务已经死亡，因此该文章没有实际意义。</b> <br><br> 非法Torrent-TV服务（超级清洗）中的流绝大多数是来自运营商的原始流，或者来自卫星的未经夹持的流。 这些主要是隔行视频流。 洪流电视提供了最高的质量，但稳定性较低。 今天有一些频道，明天没有。 今天，某些频道运作良好，明天则不好。 此服务不适合连续无故障使用-他们为此付费 没有付款，便收到了。 但是，当您需要观看高质量的节目时（如果该频道在此刻稳定运行），这很棒。 另一个问题是形成方便的个人播放列表。 这将在注释中讨论。 <br><br><img src="https://habrastorage.org/webt/-q/pn/q4/-qpnq4tysuha1lgfmqtcv7uu3ha.png"><br><a name="habracut"></a><br> 基本的torrent-TV播放列表（Super Wash）包含1200多个频道。 各种地区，不同国家，标清和高清的副本，不同的垃圾渠等。200-300个频道属于俄罗斯观众。 但是，并不是每个人都对采用的渠道分组感到满意。 看来您可以从Torrent TV中获取播放列表，并根据完美主义者的灵魂进行安排。 问题在于，与频道的AceStream链接会定期更改，并且准备好的播放列表将变得无用。 即 您需要以一种方便的形式自动生成新的最新播放列表。 那就是我们要做的。 <br><br>  <b>您将需要：</b> <br><br><ul><li> 具有设置观看Torrent电视（“超级清洗”）并了解其内容的经验。 </li><li> 具有Entware支持的路由器（如有必要，还可以使用一些技能轻松调整包装盒上有关OpenWrt或Entware的说明）。 </li></ul><br>  <b>该说明未解决问题：</b> <br><br><ul><li> 选择和配置IPTV管理器。 </li><li> 整体上用于观看Torrent电视的系统设置。 </li><li> 特定Android机顶盒的功能，适用于一般隔行视频，尤其是Torrent TV。 </li></ul><br> 我们将在路由器上使用该程序，当该链接请求时，该程序将下载当前的Torrent-TV播放列表，并从中形成一个新的播放列表并提供以下内容： <br><br><ul><li> 您自己的频道列表基于准备好的收藏频道列表。 </li><li> 如果高清频道匹配，您可以自动排除它们。 </li><li> 根据您的需求对组及其名称进行排序。 </li><li> 根据需要显示频道名称。 </li><li> 按HD / SD（主要）和名称对组中的频道进行排序。 </li><li> 内置到EPG来源的链接。 </li><li> 徽标的来源（以及徽标本身）以及所选渠道的EPG兼容性。 </li></ul><br><h2> 调整后一切将如何工作？ </h2><br> 在IPTV管理器中，添加指向播放列表<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://192.168.0.1:81/playlist.cgi</a>的链接（将192.168.0.1替换为路由器的内部地址）。 做完了 <br><br><img src="https://habrastorage.org/webt/cm/on/1u/cmon1uarl1wclz_9v5zxk2f-p34.png"><br><br> 操作原理非常简单。 路由器上的playlist.cgi脚本启动ttv.py程序，该程序基于当前的洪流电视播放列表（在访问时加载）和给定的收藏频道列表，生成一个新的播放列表，然后将其分发。 <br><br><h2> 在路由器上安装必要的软件 </h2><br> 通过SSH连接到路由器。 在Windows上，您可以使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PuTTY</a>客户端连接连接。 <br><br> 安装必要的软件： <br><br><pre><code class="bash hljs">opkg update opkg install wget ca-certificates mc python3 lighttpd-mod-cgi</code> </pre> <br>  <b>wget</b>是用于下载文件的程序。 仅在初始设置时才需要。 <br><br>  <b>ca-certificates</b> -wget的证书。 <br><br>  <b>mc-</b>午夜指挥官文件管理器。 仅由于方便的mcedit编辑器，才需要它。 如果您习惯于使用其他文本编辑器，则无法安装mc。 <br><br>  <b>python3</b>是Python解释器。 <br><br>  <b>lighttpd-mod-cgi</b> -lighttpd Web服务器。 <br><br><h2> 下载主要文件 </h2><br><pre> <code class="bash hljs">mkdir -p /opt/etc/ttv wget --no-check-certificate -O /opt/etc/ttv/ttv.py https://raw.githubusercontent.com/Kyrie1965/ttv/master/ttv.py wget --no-check-certificate -O /opt/share/www/playlist.cgi https://raw.githubusercontent.com/Kyrie1965/ttv/master/playlist.cgi chmod +x /opt/share/www/playlist.cgi</code> </pre> <br> 稍后我将介绍他们的约会，但是现在我只显示其中的内容。 不要发现Python代码有问题，直到这一刻我还没有用Python编写任何东西。 <br><br><div class="spoiler">  <b class="spoiler_title">内容/opt/etc/ttv/ttv.py</b> <div class="spoiler_text"><pre> <code class="python hljs">PLAYLIST_LOAD_URL = <span class="hljs-string"><span class="hljs-string">"http://91.92.66.82/trash/ttv-list/as.all.tag.player.m3u"</span></span> TEMPLATE_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/template.txt"</span></span> FAVORITES_LOAD_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/favorites.txt"</span></span> PLAYLIST_SAVE_PATH = <span class="hljs-string"><span class="hljs-string">"/opt/etc/ttv/playlist.m3u"</span></span> LOGOS_URL = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-comment"><span class="hljs-comment">#LOGOS_URL = "https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}" #LOGOS_URL = "{}" STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" #STREAM_URL = "acestream://{}" EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz" import re import urllib.request import os from operator import itemgetter as i from functools import cmp_to_key from urllib.parse import urlencode import gzip def cmp(a, b): return (a &gt; b) - (a &lt; b) def multikeysort(items, columns): comparers = [ ((i(col[1:].strip()), -1) if col.startswith('-') else (i(col.strip()), 1)) for col in columns ] def comparer(left, right): comparer_iter = ( cmp(fn(left), fn(right)) * mult for fn, mult in comparers ) return next((result for result in comparer_iter if result), 0) return sorted(items, key=cmp_to_key(comparer)) def loadChannels(content): lines = content.splitlines() returnChannels = {} pattern = re.compile("group-title=\"(.*?)\"") pattern2 = re.compile("tvg-logo=\"(.*?)\"") channelName = "" channelGroup = "" channelLogoLink = "" channelStreamID = "" waitURI = False for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] HD = False if ("HD" in channelName) or ("UHD" in channelName) or ("4K" in channelName): HD = True tmpDict = {"name": channelName, "group": channelGroup, "stream": channelStreamID, "hd": HD, "logolink": channelLogoLink} returnChannels[channelName.upper()] = tmpDict waitURI = False elif line.startswith("#EXTINF"): index = line.rfind("\",") if (index == -1): continue channelName = line[index+2:] match = pattern.search(line) if match: channelGroup = match.group(1) else: channelGroup = "" match = pattern2.search(line) if match: channelLogoLink = match.group(1) else: channelLogoLink = "" waitURI = True return returnChannels def saveTemplate(content, channels, path): lines = content.splitlines() pattern = re.compile("group-title=\"(.*?)\"") waitURI = False channelName = "" channelReplace = "" channelNewName = "" channelEPG = "" channelGroup = "" channelStreamID = "" groupDict = {} currentGroup = 1 template="" for line in lines: if line.startswith("acestream"): if waitURI: channelStreamID = line[12:] template += channelName template += "/" template += channelReplace template += "/" template += channelNewName template += "/" template += channelEPG template += "/" template += channelName + ".png" template += "/" template += channelGroup template += "\n" waitURI = False elif line.startswith("#EXTINF"): x = line.split("\",") if (len(x) != 2): continue channelName = x[1] channelNewName = x[1] channelEPG = x[1] if (channels.get(channelName.upper() + " HD") != None): channelReplace = channelName + " HD" else: channelReplace = "-" match = pattern.search(x[0]) if match: channelGroup = match.group(1) if (groupDict.get(channelGroup)): channelGroup = groupDict.get(channelGroup) else: newGroupName = "{:02d}_{}".format(currentGroup, channelGroup) currentGroup += 1 groupDict[channelGroup] = newGroupName channelGroup = newGroupName else: channelGroup = "00_Unsigned" waitURI = True file = open(path,'w', encoding='utf-8') file.write(template) file.close() return def loadFavorites(content): returnChannels = {} lines = content.splitlines() for line in lines: parts = line.split('/') if len(parts) == 6: tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "logo": parts[4], "group": parts[5]} returnChannels[parts[0].upper()] = tmpDict elif len(parts) == 5: #    tmpDict = {"name": parts[0], "replace": parts[1], "newName": parts[2], "EPG": parts[3], "group": parts[4], "logo": parts[0] + ".png"} returnChannels[parts[0].upper()] = tmpDict return returnChannels def savePlaylist(channels, favorites, path): returnChannels = [] currentChannels = set() for key, chDict in favorites.items(): if chDict["replace"] != "-": if favorites.get(chDict["replace"].upper()) != None and channels.get(chDict["replace"].upper()) != None: currentChannels.add(chDict["replace"]) elif channels.get(chDict["name"].upper()) != None: currentChannels.add(chDict["name"]) elif channels.get(chDict["name"].upper()) != None: currentChannels.add(chDict["name"]) for ch in currentChannels: chFromFavorites = favorites.get(ch.upper()) chFromChannels = channels.get(ch.upper()) tmpDict = {"name": chFromFavorites.get("newName"), "oldName": chFromFavorites.get("name"), "EPG": chFromFavorites.get("EPG"), "group": chFromFavorites.get("group"), "logof": chFromFavorites.get("logo"), "logoc": chFromChannels.get("logolink"), "stream": chFromChannels.get("stream"), "hd": chFromChannels.get("hd")} returnChannels.append(tmpDict) result = multikeysort(returnChannels, ['group', '-hd', 'name']) template="" template += "#EXTM3U url-tvg=" template += "\"" template += EPG_LINKS template += "\"" template += "\n" for n in result: group = n.get("group") if group.find("_", 2, 3) != -1: group = group[3:] if len(LOGOS_URL) &gt; 0: template += "#EXTINF:-1 tvg-name=\"{}\" tvg-logo=\"{}\" group-title=\"{}\",{}".format(n.get("EPG"), LOGOS_URL.format(urllib.parse.quote(n.get("logof"))), group, n.get("name")) else: template += "#EXTINF:-1 tvg-name=\"{}\" tvg-logo=\"{}\" group-title=\"{}\",{}".format(n.get("EPG"), n.get("logoc"), group, n.get("name")) template += "\n" template += STREAM_URL.format(n.get("stream")) template += "\n" file = open(path,'w', encoding='utf-8') file.write(template) file.close() return result #response = urllib.request.urlopen(PLAYLIST_LOAD_URL) #content = response.read().decode("utf-8") #channels = loadChannels(content) content = "" request = urllib.request.Request(PLAYLIST_LOAD_URL) request.add_header('Accept-encoding', 'gzip') response = urllib.request.urlopen(request) if response.info().get('Content-Encoding') == 'gzip': gzipFile = gzip.GzipFile(fileobj=response) content = gzipFile.read().decode("utf-8") else: content = response.read().decode("utf-8") channels = loadChannels(content) if channels == None or (len(channels.keys()) == 0): exit() saveTemplate(content, channels, TEMPLATE_SAVE_PATH) exists = os.path.isfile(FAVORITES_LOAD_PATH) if exists: file = open(FAVORITES_LOAD_PATH,'r', encoding='utf-8') content = file.read() favorites = loadFavorites(content) savePlaylist(channels, favorites, PLAYLIST_SAVE_PATH)</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">内容/opt/share/www/playlist.cgi</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh PATH=/opt/sbin:/opt/bin:/opt/usr/sbin:/opt/usr/bin:/usr/sbin:/usr/bin:/sbin:/bin python3 /opt/etc/ttv/ttv.py echo "Content-Type: text/plain; charset=UTF-8" echo "" echo "$(cat /opt/etc/ttv/playlist.m3u)"</span></span></code> </pre> <br></div></div><br><h2>  Web服务器配置和启动 </h2><br> 打开文件<b>/opt/etc/lighttpd/lighttpd.conf</b> ： <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/lighttpd.conf</code> </pre> <br> 要从缓冲区粘贴，请使用Shift +插入，保存-F2，退出-F10。 <br><br> 将行<b>＃server.port = 80</b>更改为： <br><br><pre> <code class="bash hljs">server.port = 81</code> </pre> <br> 打开文件<b>/opt/etc/lighttpd/conf.d/30-cgi.conf</b> ： <br><br><pre> <code class="bash hljs">mcedit /opt/etc/lighttpd/conf.d/30-cgi.conf</code> </pre> <br> 将<b>“ .cgi” =&gt;“ / opt / bin / perl”</b>更改为： <br><br><pre> <code class="bash hljs"><span class="hljs-string"><span class="hljs-string">".cgi"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"/bin/sh"</span></span></code> </pre> <br> 启动Web服务器： <br><br><pre> <code class="bash hljs">/opt/etc/init.d/S80lighttpd start</code> </pre> <br><h2> 创建一个收藏频道列表 </h2><br> 运行<b>ttv.py</b>程序： <br><br><pre> <code class="bash hljs">python3 /opt/etc/ttv/ttv.py</code> </pre> <br> 模板文件<b>template.txt</b>将在<b>/ opt / etc / ttv</b>文件夹中创建。 这是一个简单的文本文件。 这将始终是相关的，即 程序启动时，将被当前数据覆盖。 <br><br> 该文件中的每一行对应一个Torrent-TV频道，其格式为： <br>  <b>CHANNEL_NAME / CHANGE_CHANNEL / YOUR_CHANNEL_NAME /YOUR_CHANNEL_NAME__EPG/ YOUR_LOGO /您的群组</b> <br><br> 例如： <br><br>  Amedia Premium / Amedia Premium HD / Amedia Premium / Amedia Premium / Amedia Premium.png / 11_电影 <br>  Amedia Premium HD /-/ Amedia Premium HD / Amedia Premium HD / Amedia Premium HD.png / 11_电影 <br><br> 将此文件保存在计算机上以便于编辑（例如，使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WinSCP</a> ）。 将其重命名为favorite.txt。 <br><br> 编辑文件，仅保留所需的通道。 <br><br>  <b>CHANNEL_NAME-</b>原始播放列表中的频道名称。 <br><br>  <b>CHANGE_CHANNEL-</b>原始播放列表中要替换的频道的名称。 如果不需要替换，请输入“-”。 默认情况下，如果通道具有HD选项，则会在模板中自动替换替换项。 例如，原始播放列表中有Amedia Premium和Amedia Premium HD。 最终播放列表中将只有Amedia Premium HD。 <br><br>  <b>YOUR_CHANNEL_NAME</b>是IPTV管理器中的显示名称。 它可以是任何内容，并且仅影响IPTV管理器中显示的名称。 例如，原始频道称为“ Paramount Comedy HD（俄罗斯）”，而您将其重命名为“ Paramount Comedy HD”。 <br><br>  <b>YOUR_CHANNEL_B__EPG_NAME-</b>这是完全符合所选EPG来源所必需的。 例如，原始频道称为“ Match TV HD”。 在EPG中，此频道称为“匹配！”。 将此参数更改为“匹配！” 并完全符合您的EPG来源。 因此，对于所有渠道，您都可以使EPG合规性接近100％。 <br><br>  <b>YOUR_LOGO-</b>徽标文件的名称。 默认情况下，ttv.py会从原始播放列表中获取徽标链接，即 您的徽标将被忽略。 要使用它，您需要在ttv.py中更改LOGOS_URL参数（稍后将详细了解）。 <br><br>  <b>YOUR_GROUP-</b>频道组的名称。 您可以在组名之前使用索引（两位数）。 此索引确定最终播放列表中组的顺序（从较小到较大）。 排序后，索引将自动从组名中删除。 <br><br><div class="spoiler">  <b class="spoiler_title">这是一个编辑的收藏夹.txt文件的示例</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Amedia Premium/Amedia Premium HD/Amedia Premium/Amedia Premium/Amedia Premium.png/11_   Amedia Premium HD/-/Amedia Premium HD/Amedia Premium HD/Amedia Premium HD.png/11_   / HD///.png/12_  HD/-/ HD/ HD/ HD.png/12_ Viasat History/Viasat History HD/Viasat History/Viasat History/Viasat History.png/01_ Viasat History HD/-/Viasat History HD/Viasat History/Viasat History.png/01_ Discovery Channel/Discovery Channel HD/Discovery Channel/Discovery Channel/Discovery Channel.png/01_ Discovery Channel HD/-/Discovery Channel HD/Discovery Channel HD/Discovery Channel HD.png/01_ Discovery Science/Discovery Science HD/Discovery Science/Discovery Science/Discovery Science.png/01_ Discovery Science HD/-/Discovery Science HD/Discovery Science HD/Discovery Science HD.png/01_ Amedia Hit/Amedia Hit HD/Amedia Hit/Amedia Hit/Amedia Hit.png/11_   Amedia Hit HD/-/Amedia Hit HD/Amedia Hit HD/Amedia Hit HD.png/11_    /  HD/!/!/ .png/03_   HD/-/! HD/!/  HD.png/03_ Eurosport 1/Eurosport 1 HD/Eurosport 1/Eurosport 1/Eurosport 1.png/03_ Eurosport 1 HD/-/Eurosport 1 HD/Eurosport 1 HD/Eurosport 1 HD.png/03_ Paramount Comedy HD ()/-/Paramount Comedy HD/Paramount Comedy HD ()/Paramount Comedy HD ().png/11_   !  1/!  1 HD/!  1/!  1/!  1.png/03_ !  1 HD/-/!  1 HD/!  1 HD/!  1 HD.png/03_  1/ HD/ 1/ 1/ 1.png/13_-  HD/-/ HD/ HD/ HD.png/13_-</code> </pre> <br></div></div><br> 将准备好的<b>favorite.txt</b>文件复制到路由器上的<b>/ opt / etc / ttv文件夹中</b> 。 <br><br> 一切准备就绪。 您可以从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://192.168.0.1:81/playlist.cgi</a>选取播放列表（将192.168.0.1替换为路由器的内部地址）。 只需在IPTV管理器中指定链接，您将始终拥有当前的播放列表。 脚本playlist.cgi启动ttv.py程序，该程序基于当前的洪流电视播放列表（在调用时加载）和收藏夹.txt，生成一个新的播放列表，然后提供此新的播放列表。 <br><br> 在输出中，如果所有频道都存在于当前播放列表中（否则，缺少的频道将被忽略），您将获得一个简洁的播放列表： <br><br><div class="spoiler">  <b class="spoiler_title">播放清单</b> <div class="spoiler_text"> <code>#EXTM3U url-tvg="https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EXTINF:-1 tvg-name="Discovery Channel HD" tvg-logo="http://1ttv.org/uploads/SmWnYlOvkJn8GzttT2UY0vmo8PYfMg.png" group-title="",Discovery Channel HD <br> http://127.0.0.1:6878/ace/getstream?id=b6e518df35bdffc7ea8fdd05025cec851941a102&amp;.mp4 <br> #EXTINF:-1 tvg-name="Discovery Science HD" tvg-logo="http://1ttv.org/uploads/Yjj1p6idV0HGD56Wz7JX5IeKfD44vz.png" group-title="",Discovery Science HD <br> http://127.0.0.1:6878/ace/getstream?id=03fb28986da9168dd56ec6891253bcc496c13eb5&amp;.mp4 <br> #EXTINF:-1 tvg-name="Viasat History" tvg-logo="http://1ttv.org/uploads/MWGbB8wJp5Gm4vbPHl0ktohDDjMKdr.png" group-title="",Viasat History <br> http://127.0.0.1:6878/ace/getstream?id=c6d943e1aac03c179b3af9e99d97ac6779c947c7&amp;.mp4 <br> #EXTINF:-1 tvg-name="Eurosport 1 HD" tvg-logo="http://1ttv.org/uploads/DpFTzUEA3y67Z6ObTPF4xH0XLNRAZm.png" group-title="",Eurosport 1 HD <br> http://127.0.0.1:6878/ace/getstream?id=70bd87520c622ba7dd6e41aface77d5b2f437f87&amp;.mp4 <br> #EXTINF:-1 tvg-name="!" tvg-logo="http://1ttv.org/uploads/MXyy9Uud7oDuH8JqVisjsD0csgAHnQ.png" group-title="",! HD <br> http://127.0.0.1:6878/ace/getstream?id=9af7ac309216464e67092deb23d312a20c483674&amp;.mp4 <br> #EXTINF:-1 tvg-name="!  1 HD" tvg-logo="http://1ttv.org/uploads/9PM8M6cN21wQ3M5isVZgjNepzUI4Ry.png" group-title="",!  1 HD <br> http://127.0.0.1:6878/ace/getstream?id=b8a1e8458419b63ad1c3fa7bd79431d9625c322d&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Hit HD" tvg-logo="http://1ttv.org/uploads/HdnTfcZCgP7Odm1cOKNq9j4yJDRiFP.png" group-title="  ",Amedia Hit HD <br> http://127.0.0.1:6878/ace/getstream?id=ed6d00e9b6c50c95902b33c841302dd709b214da&amp;.mp4 <br> #EXTINF:-1 tvg-name="Amedia Premium HD" tvg-logo="http://1ttv.org/uploads/ornzQpk6WCW6xk0lyBhlwqH8u2QyU7.png" group-title="  ",Amedia Premium HD <br> http://127.0.0.1:6878/ace/getstream?id=c38a7580985fa85fa6e0a82c6fd7403e8e5c2b50&amp;.mp4 <br> #EXTINF:-1 tvg-name="Paramount Comedy HD ()" tvg-logo="http://1ttv.org/uploads/VowjbL265DoceAryIEtqNuPv3NDhFK.png" group-title="  ",Paramount Comedy HD <br> http://127.0.0.1:6878/ace/getstream?id=a9023adab9228b8aa7f1b508b553140b69cecd80&amp;.mp4 <br> #EXTINF:-1 tvg-name=" HD" tvg-logo="http://1ttv.org/uploads/m6ODa3HXr9QNAbSThJNvWeOIEYGp7q.png" group-title="", HD <br> http://127.0.0.1:6878/ace/getstream?id=4318416741f8d35f2de38e7100b89831e0ef0617&amp;.mp4 <br> #EXTINF:-1 tvg-name=" HD" tvg-logo="http://1ttv.org/uploads/ghvqmVpPWqn9x6POAm9UJBvXFzTrqN.png" group-title="-", HD <br> http://127.0.0.1:6878/ace/getstream?id=39b9b54a5031846e4936735ec62d157d5eca56e0&amp;.mp4 <br></code> <br></div></div><br><pre> <code class="bash hljs">: Discovery Channel HD Discovery Science HD Viasat History : Eurosport 1 HD ! HD !  1 HD   : Amedia Hit HD Amedia Premium HD Paramount Comedy HD :  HD -:  HD</code> </pre> <br> 如有必要，可以在ttv.py程序中更改一些参数： <br><br><pre> <code class="bash hljs">mcedit /opt/etc/ttv/ttv.py</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">可供更改的选项</b> <div class="spoiler_text"> <code>PLAYLIST_LOAD_URL = "http://91.92.66.82/trash/ttv-list/as.all.tag.player.m3u" <br> TEMPLATE_SAVE_PATH = "/opt/etc/ttv/template.txt" <br> FAVORITES_LOAD_PATH = "/opt/etc/ttv/favorites.txt" <br> PLAYLIST_SAVE_PATH = "/opt/etc/ttv/playlist.m3u" <br> LOGOS_URL = "" <br> #LOGOS_URL = "https://raw.githubusercontent.com/Kyrie1965/ttv/master/logos/{}" <br> #LOGOS_URL = "{}" <br> STREAM_URL = "http://127.0.0.1:6878/ace/getstream?id={}&amp;.mp4" <br> #STREAM_URL = "acestream://{}" <br> EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz" <br> #EPG_LINKS = "https://teleguide.info/download/new3/xmltv.xml.gz,http://programtv.ru/xmltv.xml.gz,http://api.torrent-tv.ru/ttv.xmltv.xml.gz"</code> <br> </div></div><br>  <b>PLAYLIST_LOAD_URL-</b>链接，用于下载当前的Torrent-TV播放列表。 <br>  <b>TEMPLATE_SAVE_PATH-</b>保存模板的路径。 <br>  <b>FAVORITES_LOAD_PATH-</b>加载收藏频道列表的路径。 <br>  <b>PLAYLIST_SAVE_PATH-</b>保存新播放列表的路径。 <br>  <b>LOGOS_URL-</b>链接通道的徽标。 您可以使用空字符串（“”）来获取原始播放列表中的链接，而favourites.txt中的徽标将被忽略。 <br>  <b>STREAM_URL-</b>最终播放列表中流链接的视图。 这可以是指向Ace Stream的直接链接，也可以是指向Ace Stream代理的链接。 取决于您使用的IPTV管理员。 <br>  <b>EPG_LINKS</b> -EPG链接列表。 所有IPTV管理员都是不同的。 有些人不知道如何从播放列表中链接到EPG。 有些播放器仅支持播放列表中的一个EPG来源。 有些人不知道如何合并来自不同来源的EPG。 <br><br> 您只会对STREAM_URL，LOGOS_URL，EPG_LINKS感兴趣，因为 最终播放列表的外观取决于它们。 对于他们，文件中提供了替代示例。 <br><br><h2> 结论 </h2><br> 结果，您将获得带有您自己的频道列表，您自己的频道名称，您自己的组及其任意排序，您自己的徽标，您自己的EPG映射，能够排除重复的HD / SD，具有排序功能的实际Torrent电视播放列表（Super Wash）按HD / SD和名称分组的频道。 您只需一次配置所有内容，即可创建自己喜欢的频道的文件。 然后，您的家庭网络上的所有设备都将通过该链接接收所需的播放列表，无需任何其他设置即可立即执行“一切都很好”。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bndudCB3Nps" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  UPD  2019/02/19： <br><br><ul><li> 加载原始播放列表时添加了gzip支持（“ superwash”现在仅在gzip中提供ttv.all.tag.player.m3u）。 与以前一样，您创建的播放列表将以文本/纯文本形式给出。 </li><li> 新增了从原始播放列表获取徽标链接的功能。 </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438842/">https://habr.com/ru/post/zh-CN438842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438832/index.html">如何不错过批量生产案例的预算：来自工程设计局实践的20个示例</a></li>
<li><a href="../zh-CN438834/index.html">设计师有新想法吗？ 有什么可能更容易</a></li>
<li><a href="../zh-CN438836/index.html">自己动手进行服务器温度监控</a></li>
<li><a href="../zh-CN438838/index.html">2月4日至10日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN438840/index.html">自豪与激情，将梦想变成太空项目的故事</a></li>
<li><a href="../zh-CN438850/index.html">Moscow JS 44-公告</a></li>
<li><a href="../zh-CN438852/index.html">OpenVox的新GSM网关</a></li>
<li><a href="../zh-CN438854/index.html">在不使用伯努利方程的情况下解释“提升力”现象的物理性质</a></li>
<li><a href="../zh-CN438856/index.html">从生活中跌落</a></li>
<li><a href="../zh-CN438858/index.html">在制定营销策略时如何使用细分，定位和定位（STP）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>