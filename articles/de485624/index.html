<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÇüèª üàπ ‚úàÔ∏è Minecraft-Server: Windows vs Linux üè© üêµ üíÉüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn wir die Artikelserie gegen etwas gegen etwas fortsetzen, schauen wir uns endlich etwas N√ºtzliches an, n√§mlich den Minecraft-Server. √úberlegen Sie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Minecraft-Server: Windows vs Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ultravds/blog/485624/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/201/5f5/289/2015f5289c7b97565da4163f42cdb6ca.png"></div><br>  Wenn wir die Artikelserie gegen etwas gegen etwas fortsetzen, schauen wir uns endlich etwas N√ºtzliches an, n√§mlich den Minecraft-Server.  √úberlegen Sie, welches Betriebssystem und welches Java noch besser ist, um das beste Spiel der Menschheit zu hosten.  Zum Vergleich wurden Ubuntu 18.04 LTS und Server Core 2019 verwendet. OpenJDK wurde unter Ubuntu installiert, und Oracle Java und AdoptOpenJDK wurden unter Windows installiert. <br><a name="habracut"></a><br>  Wie in allen anderen Vergleichstests hatten virtuelle Maschinen keine Nachbarn, es wurde immer nur eine VM auf dem Host ausgef√ºhrt. <br><br>  Server haben mit Argumenten begonnen: <br><br><pre><code class="plaintext hljs">-Xmx8G -server</code> </pre> <br>  Die Windows Defender-Komponente wurde auf Windows Server Core entfernt, wie in unserem Image mit <a href="https://ultravds.com/">Windows VDS</a> f√ºr 99 Rubel.  Im Vergleich dazu verlieren Sie dies, wenn Sie es eingeschaltet lassen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8c/0e0/dae/c8c0e0daed7a87d3b8b61701657830d2.png"></div><br><br>  F√ºr jede der Java-Distributionen wurden die neuesten √∂ffentlich verf√ºgbaren Versionen installiert, n√§mlich: <br><br>  Oracle: "1.8.0_241" <br>  AdoptOpenJDK: "1.8.0_242" <br>  OpenJDK: "1.8.0_232" <br><br><h3>  Runde Nummer 1, die Generation der Welt </h3><br>  In diesem Test erzeugen wir die Welt.  Der Generator war Geographicraft mit Biomes'O'Plenty, Dynamic Trees, PVG, Worley Caves, IC und BC. <br><br>  Die Welt ist keineswegs ein Klassiker und wird sp√ºrbar langsamer als sonst erzeugt. <br><br>  Eine Welt von 2.704 St√ºcken wurde erzeugt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/819/5a5/df8/8195a5df875106600abe1d6e7473041c.png"></div><br>  Windows mit AdoptOpenJDK hebt sich f√ºr 5 Sekunden von der Konkurrenz ab. <br><br><h3>  Runde 2, Serverstart </h3><br>  Die Messung erfolgte in drei Durchg√§ngen f√ºr jede virtuelle Maschine.  Jedes Mal hat jeder der Server den Download der Welt in Sekundenschnelle im Vergleich zum vorherigen Ergebnis abgeschlossen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/74f/2df/22f/74f2df22ffbed6476b690b1965935b33.png"></div><br>  OpenJDK unter Windows und OpenJDK unter Linux zeigen die gleichen Ergebnisse. <br><br><h3>  Runde 3, belegter Speicher </h3><br>  Der Prozess beginnt, je mehr Speicher verbraucht wird, desto mehr Kerne sind darauf installiert.  Unten sehen Sie eine Tabelle des belegten Speichers eines leeren Serverprozesses ohne die darauf geladene Welt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e3/bbc/879/2e3bbc879f56dca57f398043e73016c7.png"></div><br>  Oracle JRE verbrauchte durchschnittlich 80-100 Megabyte mehr auf einer geraden Anzahl von Kernen.  Das gleiche gilt f√ºr AdoptOpenJDK, nur f√ºr eine ungerade Anzahl von Kernen. <br><br>  Linux zeigte keine solche Verr√ºcktheit. <br><br><h3>  Runde Nr. 4, 32 H√ºhnchen in einer 2 x 2 Schachtel </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/585/f50/d71/585f50d714dacf0941d8775269980edb.png"></div><br>  Die Szene ist eine Berechnung der Kollision von 32 Hennen in einer 2 mal 2 Box. Die Szene wurde im Voraus vorbereitet und die gleiche Welt wurde auf die Server verteilt, so dass alles ehrlich war. <br><br>  F√ºr diesen Test wurde ein Core installiert und der Prozess auf Echtzeitpriorit√§t gesetzt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/ba6/336/539ba6336fea3a3d74cb797710444fd9.png"></div><br>  Das OpenJDK-Arbeitspaket in dieser Szene war 40 Megabyte gr√∂√üer als die Konkurrenz. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fd/404/749/5fd40474995d4f2e03ec31772b6185e6.png"></div><br>  Der durchschnittliche Prozessorverbrauch bei Oracle und AdoptOpenJDK ist derselbe, aber Oracle-Garbage wird h√§ufiger und intensiver gesammelt, was h√§ufig zu Prozessorausbr√ºchen f√ºhrt. <br><br>  Um zu extrapolieren, wie viele solcher Szenen wir verarbeiten k√∂nnen, erh√∂hen wir einfach die Server-Tick-Rate. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/577/4e1/43a/5774e143addca3617705e0ac3e87b875.png"></div><br>  Im Hochlasttest hat Ubuntu c OpenJDK Windows c AdoptOpenJDk eingeholt, und Oracle holt auf. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4f/eec/aac/e4feecaac9abe940c6e1fde6950d5a74.png"></div><br>  Unter einer h√∂heren Last lieferte OpenJDK unter Windows bessere Ergebnisse als unter Ubuntu. <br><br>  Der OpenJDK-Server unter Ubuntu wurde st√§ndig gel√∂scht und die Szene fror ein.  Windows war auf demselben OpenJDK etwas schlechter.  Oracle hat jedoch am besten mit der geringsten Anzahl von Einfrierungen umgegangen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c54/0c2/07a/c540c207a6b149def6a1cdf6f480b649.png"></div><br>  Oracle SE hielt sich unter anderem im gleichen RAM-Bereich wie OpenJDK. <br><br><h3>  Runde Nr. 5, 64 * 64 Chunk- und Dynamic-B√§ume </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd3/30c/372/cd330c372cf714780246e41cf364cebb.png"></div><br>  Diese Szene enth√§lt einen Wald und mehrere Dutzend Mobs.  Kilometerlange B√§ume wachsen st√§ndig und aktualisieren die Position ihrer Bl√∂cke. <br><br>  Jeder Baum ist ein separates Pl√§ttchen, hat jedoch anfangs eine niedrige Tick-Rate und tickt nur einmal in 20 Spiel-Ticks.  Unten sehen Sie eine Grafik der Prozessorauslastung pro Server-Tickrate. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fd/9b5/702/8fd9b57021e0ce111fc5de6c81f0ef96.png"></div><br>  Ubuntu + OpenJDK und Windows Server mit Oracle an Bord konnten den Server in den zuvor diskutierten Argumenten nicht starten, so dass sie nicht in den Zeitplan kamen. <br><br>  Um den Server zu starten, musste ich die Flags √§ndern auf: <br><br><pre> <code class="plaintext hljs">-Xms4g -Xmx8G -server -XX:+UseCompressedOops -XX:+AggressiveOpts</code> </pre> <br>  Alle drei Instanzen waren anf√§nglich zu 100% auf dem Prozessor installiert, aber nur Windows Server + AdoptOpenJDK hat den Server nicht gel√∂scht.  Nach der M√ºllabfuhr kehrte alles zum unten angegebenen Zeitplan zur√ºck. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/e53/719/029e53719194f1edd567591f747088ed.png"></div><br>  Beim Umschalten von einer Taktrate von 60 auf 70 unter Ubuntu begann sich der CPU-Ladeplan wie eine Sinuswelle zu verhalten, weshalb die durchschnittliche CPU-Auslastung aufgrund der zunehmenden Komplexit√§t der Aufgabe pl√∂tzlich zu sinken begann.  Aus diesem Grund musste der Zeitplan dort angehalten werden, wo er jetzt ist. <br><br>  Dies ist wahrscheinlich der Unterschied zwischen dem Linux-Scheduler und Windows. <br><br>  Schlussfolgerungen: <br><br>  Trotz des objektiven Unterschieds bei den Betriebssystem- und JRE-Distributionen ist es unm√∂glich, eine bestimmte Empfehlung abzugeben, die objektiv besser ist, um den Server auf dem Laufenden zu halten. <br><br>  In diesem Fall lohnt es sich wahrscheinlich, das Betriebssystem auszuw√§hlen, mit dem Sie besser vertraut sind. <br><br> <a href="https://ultravds.com/"><img src="https://habrastorage.org/webt/ww/d4/ro/wwd4ro5_5a28hvdxyazf3enjxou.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485624/">https://habr.com/ru/post/de485624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485612/index.html">Was hat mir ein Weltraumunfall als Entwickler beigebracht?</a></li>
<li><a href="../de485614/index.html">Rote Unternehmenskultur ist das Hauptproblem des russischen Gesch√§fts (Teil 3)</a></li>
<li><a href="../de485618/index.html">Automatisierung f√ºr die Kleinsten. Hinweise. RESTful API</a></li>
<li><a href="../de485620/index.html">Joschkar-Ola im Allgemeinen eine IT-Stadt?</a></li>
<li><a href="../de485622/index.html">PostgreSQL-Sicherungswerkzeuge. Andrey Salnikov (Datenreiher)</a></li>
<li><a href="../de485632/index.html">√úberwachen der Kreditbewertung in Power BI</a></li>
<li><a href="../de485634/index.html">Das Dungeons and Dragons-Dashboard hat mir geholfen, Englisch zu lernen</a></li>
<li><a href="../de485636/index.html">CRISPR-resistente Viren bauen Schutzr√§ume, um das Genom vor DNA-durchdringenden Enzymen zu sch√ºtzen</a></li>
<li><a href="../de485640/index.html">Methoden zum Ausblenden von Webseiten</a></li>
<li><a href="../de485646/index.html">N√ºtzliche Python-Tipps, die Sie noch nie zuvor getroffen haben. Teil 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>