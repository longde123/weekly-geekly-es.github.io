<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑üèª ü§òüèæ üí∫ Trabalhando com fusos hor√°rios em JavaScript üöÅ üë® üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, eu estava trabalhando na tarefa de adicionar fusos hor√°rios √† biblioteca de calend√°rio JS mantida por minha equipe. Eu conhecia bem o su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabalhando com fusos hor√°rios em JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/438286/"><img src="https://habrastorage.org/getpro/habr/post_images/540/5d5/588/5405d55887909032bc8016afe3f65796.jpg"><br><br>  Recentemente, eu estava trabalhando na tarefa de adicionar fusos hor√°rios √† biblioteca de calend√°rio JS mantida por minha equipe.  Eu conhecia bem o suporte in√∫til ao fuso hor√°rio no JavaScript, mas esperava que a abstra√ß√£o dos objetos de dados existentes facilitasse a solu√ß√£o da maioria das dificuldades. <br><br>  No entanto, meus sonhos foram p√≥.  Quando me dediquei √† tarefa, percebi que √© realmente dif√≠cil trabalhar com fusos hor√°rios nesse idioma.  Era extremamente dif√≠cil implementar algo mais complicado do que simplesmente formatar a exibi√ß√£o da hora e calcular a data usando opera√ß√µes complexas (fun√ß√µes do calend√°rio).  Adquiri uma experi√™ncia valiosa na solu√ß√£o desse problema, e isso trouxe novas dificuldades. <br><br>  Neste artigo, quero discutir o que me deparei e como ele foi resolvido.  Enquanto escrevia o texto, percebi que o motivo de todas as dificuldades era meu pouco entendimento do t√≥pico fusos hor√°rios.  √Ä luz dessa conscientiza√ß√£o, sugiro primeiro falar detalhadamente sobre a defini√ß√£o e os padr√µes e s√≥ depois passar para o JavaScript. <br><a name="habracut"></a><br><h2>  O que √© um fuso hor√°rio? </h2><br>  Um fuso hor√°rio √© uma regi√£o geogr√°fica que usa o mesmo hor√°rio local definido pelo governo.  Muitos pa√≠ses se relacionam inteiramente a qualquer fuso hor√°rio espec√≠fico e, nos territ√≥rios de grandes estados, como a R√∫ssia e os EUA, v√°rios fusos hor√°rios s√£o usados.  √â curioso que, embora a China tamb√©m seja grande o suficiente, ela aceite apenas um fuso hor√°rio.  √Äs vezes, isso leva a situa√ß√µes estranhas quando o nascer do sol na parte ocidental do pa√≠s come√ßa por volta das 10 da manh√£. <br><br><h2>  GMT, UTC e Offset </h2><br><h4>  GMT </h4><br>  A hora local da Cor√©ia do Sul √© designada como <code>GMT+09:00</code> .  GMT significa Greenwich Mean Time (GMT), ou seja, desta vez no rel√≥gio do Observat√≥rio Real de Greenwich, Reino Unido.  Est√° localizado no meridiano de refer√™ncia.  O sinal de r√°dio do sistema GMT come√ßou a ser transmitido em 5 de fevereiro de 1924 e se tornou um padr√£o mundial em 1¬∫ de janeiro de 1972. <br><br><h4>  UTC </h4><br>  Muitas pessoas pensam que GMT e UTC s√£o a mesma coisa, geralmente usando-os como sistemas intercambi√°veis.  Mas isso √© um erro.  O sistema UTC surgiu em 1972 como uma maneira de compensar o efeito da rota√ß√£o da Terra.  O sistema √© baseado no Tempo At√¥mico Internacional, calculado pela frequ√™ncia de vibra√ß√µes eletromagn√©ticas dos √°tomos de c√©sio.  Em outras palavras, o UTC √© um substituto mais preciso para o GMT.  Embora a diferen√ßa em tempo real entre os dois sistemas seja muito pequena, √© melhor para os desenvolvedores de software confiar no UTC. <br><br>  Um fato interessante: quando o UTC ainda estava sendo desenvolvido, foi sugerido nos pa√≠ses de l√≠ngua inglesa o nome de CUT (Tempo Universal Coordenado) e nos pa√≠ses de l√≠ngua francesa - TUC (Temps Universal Coordonn).  No entanto, nenhum dos campos conseguiu vencer e eles concordaram em chamar o sistema de UTC, ortografando as duas op√ß√µes propostas (C, T e U). <br><br><h4>  Deslocamento </h4><br>  <code>+09:00</code> no <code>UTC+09:00</code> significa que a hora local √© de 9 horas √† frente da hora UTC padr√£o.  Ou seja, quando s√£o 21h na Cor√©ia do Sul, √© meio-dia na regi√£o UTC.  A diferen√ßa entre a hora UTC padr√£o e a hora local √© chamada de "deslocamento", que √© expressa em valores positivos ou negativos: <code>+09:00</code> , <code>-03:00</code> , etc. <br><br>  Em muitos pa√≠ses, √© costume atribuir nomes √∫nicos aos seus fusos hor√°rios.  Por exemplo, o fuso hor√°rio da Cor√©ia do Sul √© chamado KST (Hor√°rio Padr√£o da Cor√©ia), e seu deslocamento √© expresso como <code>KST = UTC+09:00</code> .  No entanto, o deslocamento <code>+09:00</code> usado n√£o apenas pela Cor√©ia do Sul, mas tamb√©m pelo Jap√£o, Indon√©sia e muitos outros pa√≠ses; portanto, a rela√ß√£o entre as compensa√ß√µes e correias n√£o √© expressa como 1: 1, mas como 1: N.  Uma lista de pa√≠ses com um deslocamento de <code>+09:00</code> √© apresentada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Algumas compensa√ß√µes funcionam n√£o apenas por horas.  Por exemplo, na Cor√©ia do Norte, o hor√°rio padr√£o √© <code>+08:30</code> , enquanto na Austr√°lia, em algumas regi√µes, <code>+8:45</code> , <code>+09:30</code> e <code>+10:30</code> . <br><br>  Uma lista completa de compensa√ß√µes do UTC est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h2>  Fuso hor√°rio! == deslocamento? </h2><br>  Como eu disse, usamos nomes de fuso hor√°rio (KST, JST) com deslocamentos como intercambi√°veis, sem distinguir entre eles.  Mas ser√° errado considerar o mesmo tempo e a mudan√ßa de uma regi√£o espec√≠fica.  Existem v√°rias raz√µes: <br><br><h4>  Hor√°rio de Ver√£o (DST) </h4><br>  Em alguns pa√≠ses, esse termo √© desconhecido, mas em muitos estados o hor√°rio de ver√£o √© praticado, principalmente na Europa.  Para isso, √© adotado o termo internacional DST - Hor√°rio de ver√£o.  Significa mover o rel√≥gio no ver√£o por uma hora antes do hor√°rio padr√£o relativo. <br><br>  Por exemplo, a Calif√≥rnia usa PST (hor√°rio padr√£o do Pac√≠fico) no inverno e PDT (hor√°rio de ver√£o do Pac√≠fico, <code>UTC-07:00</code> ) no inverno.  Nos Estados Unidos e no Canad√°, o termo Hor√°rio do Pac√≠fico (PT, Hor√°rio do Pac√≠fico) √© usado para regi√µes que usam dois fusos hor√°rios. <br><br>  Quando o hor√°rio de ver√£o come√ßa e termina?  Tudo depende do pa√≠s.  Por exemplo, nos EUA e no Canad√° at√© 2006, o hor√°rio de ver√£o era usado das 2h no primeiro domingo de abril √†s 12h no √∫ltimo domingo de outubro.  E a partir de 2007, o hor√°rio de ver√£o come√ßou a contar de 2 noites no segundo domingo de mar√ßo a 2 noites no primeiro domingo de novembro.  Na Europa, diferentes pa√≠ses praticam o uso progressivo do hor√°rio de ver√£o, dependendo de cada fuso hor√°rio. <br><br><h4>  Os fusos hor√°rios est√£o mudando? </h4><br>  Cada pa√≠s determina quais fusos hor√°rios usar, para que o hor√°rio local possa mudar por qualquer motivo pol√≠tico e / ou econ√¥mico.  Por exemplo, nos Estados Unidos, as fronteiras do hor√°rio de ver√£o foram alteradas em 2007 porque George W. Bush iniciou a pol√≠tica energ√©tica em 2005.  O Egito e a R√∫ssia costumavam mudar para o hor√°rio de ver√£o, mas o abandonam desde 2011. <br><br>  Em alguns casos, o governo pode alterar n√£o apenas o hor√°rio de ver√£o, mas tamb√©m o hor√°rio padr√£o.  Por exemplo, Samoa costumava usar o deslocamento <code>UTC-10:00</code> , mas depois mudou para <code>UTC+14:00</code> para reduzir as perdas no com√©rcio devido √† diferen√ßa de hor√°rio com a Austr√°lia e a Nova Zel√¢ndia.  Essa decis√£o levou √† perda de vidas do pa√≠s durante um dia inteiro - 30 de dezembro de 2011, conforme noticiado por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jornais de todo o mundo</a> . <br><br>  Na Holanda, o deslocamento <code>+0:19:32.13</code> usado desde 1909, de 1937 o pa√≠s passou para <code>+00:20</code> e de 1940 para <code>+01:00</code> , desde ent√£o, a hora principal n√£o mudou l√°. <br><br><h2>  Fuso hor√°rio 1: deslocamento N </h2><br>  Portanto, o fuso hor√°rio pode ter uma ou mais compensa√ß√µes.  O hor√°rio aceito como padr√£o depende das atuais raz√µes pol√≠ticas e / ou econ√¥micas em um pa√≠s espec√≠fico. <br><br>  Na vida cotidiana, isso n√£o causa dificuldades at√© voc√™ tentar sistematizar esses dados com base em algumas regras.  Imagine que voc√™ deseja definir o hor√°rio padr√£o no seu smartphone usando algum tipo de vi√©s.  Se voc√™ mora em uma regi√£o onde o hor√°rio de ver√£o √© praticado, seu smartphone deve saber exatamente quando voltar e voltar.  Ou seja, voc√™ precisa estabelecer o relacionamento entre o hor√°rio padr√£o e o ver√£o em um fuso hor√°rio (por exemplo, hor√°rio do Pac√≠fico). <br><br>  Mas isso n√£o pode ser feito com algumas regras simples.  Por exemplo, quando nos EUA em 2007 o in√≠cio e o fim do hor√°rio de ver√£o foram alterados, em 31 de maio de 2006 era para usar PDT ( <code>-07:00</code> ) como hor√°rio padr√£o e em 31 de mar√ßo de 2007 - PST ( <code>-08:00</code> ).  Acontece que, para se referir a um fuso hor√°rio espec√≠fico, voc√™ precisa conhecer todo o hist√≥rico da altera√ß√£o nos fusos hor√°rios ou a data da altera√ß√£o das regras de hor√°rio de ver√£o. <br><br>  Voc√™ pode dizer: "O fuso hor√°rio em Nova York √© PST ( <code>-08:00</code> )."  No entanto, √© necess√°rio esclarecer: "O fuso hor√°rio atual em Nova York √© PST".  Al√©m disso, para uma implementa√ß√£o precisa do sistema, voc√™ precisa usar uma express√£o ainda mais precisa.  Esque√ßa o termo "fuso hor√°rio".  Voc√™ tem que dizer: "Agora em Nova York, o PST √© usado como hor√°rio padr√£o". <br><br>  Ent√£o, o que devemos usar em vez do deslocamento para determinar o fuso hor√°rio de uma regi√£o espec√≠fica?  O nome desta regi√£o.  Mais precisamente, voc√™ deve agrupar em um √∫nico fuso hor√°rio as regi√µes nas quais eles alternam igualmente para o ver√£o e o hor√°rio padr√£o.  Voc√™ pode usar nomes como PT (hor√°rio do Pac√≠fico), mas eles combinam apenas o hor√°rio padr√£o atual e o hor√°rio de ver√£o e n√£o levam necessariamente em conta todas as altera√ß√µes hist√≥ricas.  Al√©m disso, como a PT est√° em circula√ß√£o apenas nos EUA e no Canad√°, voc√™ precisa confiar nos padr√µes estabelecidos de organiza√ß√µes respeit√°veis ‚Äã‚Äãpara garantir a universalidade do seu software. <br><br><h2>  Banco de dados de fuso hor√°rio da IANA </h2><br>  Devo admitir que as informa√ß√µes sobre fusos hor√°rios s√£o um banco de dados, n√£o um conjunto de regras, porque essas informa√ß√µes devem conter todas as altera√ß√µes hist√≥ricas relevantes.  Existem v√°rios bancos de dados padr√£o projetados para resolver tarefas relacionadas a fusos hor√°rios.  Na maioria das vezes, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">banco de dados de fuso hor√°rio da IANA √© usado</a> e geralmente √© chamado de banco de dados tz (ou tzdata).  O banco de dados cont√©m dados hist√≥ricos sobre altera√ß√µes no hor√°rio padr√£o e no hor√°rio de ver√£o em todo o mundo.  Al√©m disso, est√° organizado para que seja poss√≠vel verificar todos os dados hist√≥ricos e garantir que a hora seja precisa a partir da hora do Unix ( <code>1970.01/01 00:00:00</code> ).  Embora voc√™ possa encontrar informa√ß√µes no banco de dados antes de 1970, sua precis√£o n√£o √© garantida. <br><br>  A conven√ß√£o de nomenclatura usa a regra de regi√£o / local.  O nome do continente ou oceano (√Åsia, Am√©rica, Oceano Pac√≠fico) √© geralmente usado como regi√£o e os nomes das principais cidades (Seul, Nova York) como local.  O motivo √© que as cidades geralmente duram mais que os pa√≠ses.  Por exemplo, o fuso hor√°rio da Cor√©ia do Sul √© <code>Asia/Seoul</code> e <code>Asia/Tokyo</code> .  Embora os dois pa√≠ses usem o mesmo deslocamento <code>UTC+09:00</code> , a hora local mudou de forma diferente, portanto foram divididos em fusos hor√°rios diferentes. <br><br>  A base da IANA √© administrada por muitas comunidades de desenvolvedores e historiadores.  Os dados hist√≥ricos recentemente encontrados s√£o inseridos imediatamente e as pol√≠ticas atuais s√£o atualizadas, para que o banco de dados hoje possa ser considerado a fonte mais confi√°vel.  Al√©m disso, √© usado em muitos sistemas Unix, incluindo Linux e MacOS, al√©m de v√°rias linguagens de programa√ß√£o populares, incluindo Java e PHP. <br><br>  Observe que o Windows usa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o banco de dados da Microsoft</a> .  No entanto, √© impreciso em termos de dados hist√≥ricos e √© suportado apenas pela pr√≥pria Microsoft.  Portanto, a base √© menos confi√°vel que a base da IANA. <br><br><h2>  JavaScript e IANA </h2><br>  A funcionalidade relacionada ao fuso hor√°rio √© implementada em JavaScript do nada.  Por padr√£o, o idioma usa o cinto de regi√£o atual (mais precisamente, o cinto selecionado durante a instala√ß√£o do SO) e n√£o h√° como alter√°-lo.  Al√©m disso, at√© as especifica√ß√µes do padr√£o de banco de dados em JavaScript s√£o vagas, e voc√™ mesmo entender√° isso se decidir lidar com as especifica√ß√µes do ES2015.  Sobre o fuso hor√°rio local e a disponibilidade do hor√°rio de ver√£o, existem apenas algumas declara√ß√µes vagas.  Por exemplo, o hor√°rio de ver√£o √© definido da seguinte forma: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ECMAScript 2015 - Ajuste do hor√°rio de ver√£o</a> . <br><br><blockquote>  Esse √© um algoritmo dependente da implementa√ß√£o que usa as melhores informa√ß√µes de fuso hor√°rio dispon√≠veis para determinar a configura√ß√£o de hor√°rio local de ver√£o do DaylightSavingTA (t), calculada em milissegundos.  Uma implementa√ß√£o do ECMAScript deve ajud√°-lo a determinar melhor sua configura√ß√£o de hor√°rio de ver√£o local. </blockquote><br>  Parece que eles apenas dizem: "Cara, tente fazer isso funcionar".  Entre outras coisas, voc√™ deve resolver o problema de compatibilidade com diferentes navegadores.  Voc√™ diz: ‚ÄúQue bagun√ßa!‚Äù E ent√£o leia a seguinte linha: <br><br><blockquote>  Nota: recomendamos que voc√™ use as informa√ß√µes do banco de dados de fuso hor√°rio da IANA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://www.iana.org/time-zones/</a> em suas implementa√ß√µes. </blockquote><br>  Sim  As especifica√ß√µes da ECMA d√£o a voc√™ uma recomenda√ß√£o t√£o despretensiosa de usar o banco de dados da IANA, porque o JavaScript n√£o possui um banco de dados padr√£o especial.  Como resultado, diferentes navegadores usam suas pr√≥prias opera√ß√µes com fusos hor√°rios, que geralmente s√£o incompat√≠veis entre si, para calcular o hor√°rio.  Posteriormente, na ECMA, para a API internacional, foi <code>Intl.DateTimeFormat</code> a op√ß√£o de usar dados da IANA no formato ECMA-402 <code>Intl.DateTimeFormat</code> .  Mas essa op√ß√£o √© muito menos confi√°vel que os an√°logos em outras linguagens de programa√ß√£o. <br><br><h2>  Fuso hor√°rio no ambiente servidor-cliente </h2><br>  Considere um cen√°rio simples: precisamos determinar o fuso hor√°rio.  Suponha que criamos um calend√°rio que processe informa√ß√µes de tempo.  Quando um usu√°rio no ambiente do cliente digita uma data e hora na janela de registro, a data √© transferida para o servidor e armazenada no banco de dados.  Em seguida, o cliente recebe do servidor a data registrada na programa√ß√£o para exibi√ß√£o na tela. <br><br>  Aqui voc√™ precisa decidir alguma coisa.  E se alguns dos clientes que acessam o servidor estiverem em fusos hor√°rios diferentes?  O evento na programa√ß√£o, que foi registrado em Seul em 10 de mar√ßo de 2017 √†s 23h30, em Nova York deve ser exibido em 10 de mar√ßo de 2017 √†s 9h30.  Para que o servidor atenda clientes de fusos hor√°rios diferentes, a programa√ß√£o armazenada nele deve conter valores absolutos que n√£o dependem do fuso hor√°rio.  Cada servidor tem sua pr√≥pria maneira de armazenar esses valores. Essa quest√£o est√° al√©m do escopo do artigo, pois tudo depende de um servidor ou banco de dados espec√≠fico.  Em geral, a data e a hora transmitidas do cliente para o servidor devem ser apresentadas na forma de valores com base em um √∫nico deslocamento (geralmente UTC), ou na forma de valores contendo informa√ß√µes sobre o fuso hor√°rio do ambiente do cliente. <br><br>  Normalmente, esses dados s√£o transmitidos como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hora Unix</a> no formato UTC ou de acordo com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√£o ISO-8601</a> com informa√ß√µes de deslocamento.  Se, no nosso exemplo, convertermos Seul 21.30 em 10 de mar√ßo de 2017 para hora do Unix, obteremos o valor inteiro <code>1489113000</code> .  E no formato ISO-8601, o valor da sequ√™ncia √© <code>2017‚Äì03‚Äì10T11:30:00+09:00</code> . <br><br>  Se voc√™ usa JavaScript em um ambiente de navegador, deve converter o valor digitado conforme descrito acima e depois convert√™-lo novamente para corresponder ao fuso hor√°rio do usu√°rio.  √â necess√°rio resolver esses dois problemas.  Do ponto de vista da linguagem de programa√ß√£o, a primeira opera√ß√£o √© chamada "an√°lise" e a segunda √© "formata√ß√£o".  Agora vamos ver como isso √© feito em JavaScript. <br><br>  Mesmo quando voc√™ trabalha com JS em um ambiente de servidor usando o Node.js, pode ser necess√°rio analisar os dados recebidos do cliente.  Por√©m, como os fusos hor√°rios dos servidores e bancos de dados geralmente s√£o sincronizados e a formata√ß√£o √© atribu√≠da aos clientes, em um ambiente de navegador, voc√™ precisa decidir sobre v√°rios fatores.  Al√©m disso, explicarei em rela√ß√£o ao ambiente do navegador. <br><br><h2>  Objeto de data JavaScript </h2><br>  As tarefas que envolvem trabalho com um determinado hor√°rio ou hor√°rio s√£o resolvidas usando o objeto <code>Date</code> .  Este √© um objeto nativo definido no ECMAScript, como <code>Array</code> ou <code>Function</code> .  Isto √©, na maioria das vezes, √© implementado usando c√≥digo nativo como C ++.  A API est√° bem descrita na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MDN</a> .  A classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">java.util.Date</a> do Java teve um grande impacto no objeto, por isso herdou algumas propriedades indesej√°veis, como as caracter√≠sticas dos dados mut√°veis ‚Äã‚Äãe um m√™s a partir do zero. <br><br>  Sob o cap√¥, um objeto <code>Date</code> JavaScript funciona com o tempo usando valores absolutos no formato de hor√°rio Unix.  Mas construtores e m√©todos como as fun√ß√µes <code>parse()</code> , <code>getHour()</code> , <code>setHour()</code> e outros s√£o afetados pelo fuso hor√°rio do cliente (mais precisamente, o cinto especificado no SO no qual o navegador est√° sendo executado).  Portanto, se voc√™ criar um objeto <code>Date</code> diretamente usando dados inseridos pelo usu√°rio, o fuso hor√°rio local do cliente ser√° refletido nesses dados. <br><br>  Como mencionei, o JavaScript n√£o fornece nenhuma maneira de alterar arbitrariamente o fuso hor√°rio.  Portanto, assumimos que podemos usar diretamente o valor do fuso hor√°rio especificado no navegador. <br><br><h2>  Criando um objeto de data usando a entrada do usu√°rio </h2><br>  Vamos voltar ao primeiro exemplo.  Suponha que um usu√°rio inseriu o hor√°rio de Seul em seu dispositivo √†s 11h30 de 11 de mar√ßo de 2017. Esses dados s√£o salvos em cinco n√∫meros: 2017, 2, 11, 11 e 30 - ano, m√™s, dia, horas e minutos, respectivamente (desde que o m√™s come√ßa em 0, o valor deve ser 3‚Äì1 = 2).  Usando o construtor, voc√™ pode criar facilmente um objeto <code>Date</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); d1.toString(); <span class="hljs-comment"><span class="hljs-comment">// Sat Mar 11 2017 11:30:00 GMT+0900 (KST)</span></span></code> </pre> <br>  Se voc√™ observar o valor retornado por <code>d1.toString()</code> , ver√° que o valor absoluto do objeto criado √© 11.00 de 11 de mar√ßo de 2017, foi calculado usando a <code>+09:00</code> (KST). <br><br>  Voc√™ pode usar dados de sequ√™ncia no construtor.  Se voc√™ aplic√°-los a <code>Date</code> , o objeto chama internamente <code>Date.parse()</code> e <code>Date.parse()</code> valor correto.  Esse recurso suporta as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especifica√ß√µes RFC2888</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ISO-8601</a> .  Mas a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o MDN para Date.parse ()</a> diz que o valor retornado por esse m√©todo depende do navegador, e o formato do tipo de seq√º√™ncia de caracteres pode afetar o valor final exato.  Portanto, √© melhor n√£o usar esse m√©todo.  Por exemplo, no Safari e no Internet Explorer, um valor de sequ√™ncia como <code>2015‚Äì10‚Äì12 12:00:00</code> retornar√° <code>NaN</code> , enquanto no Chrome e Firefox ele retornar√° o fuso hor√°rio local.  Em algumas situa√ß√µes, um valor baseado em UTC √© retornado. <br><br><h2>  Criando um objeto de data usando dados do servidor </h2><br>  Suponha que voc√™ deseja receber dados de um servidor.  Se eles estiverem na forma de hora num√©rica do Unix, voc√™ poder√° simplesmente usar o construtor para criar um objeto <code>Date</code> .  Ainda n√£o mencionei que, quando o construtor <code>Date</code> recebe um √∫nico valor como um √∫nico par√¢metro, ele calcula o valor do tempo do Unix em milissegundos (nota: JS processa o tempo do Unix em milissegundos. Isso significa que o segundo valor deve ser multiplicado por 1000).  Ao executar o c√≥digo a seguir, obtemos o mesmo valor do exemplo anterior: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span>); d1.toString(); <span class="hljs-comment"><span class="hljs-comment">// Sat Mar 11 2017 11:30:00 GMT+0900 (KST)</span></span></code> </pre> <br>  E se, em vez do tempo Unix, use o tipo de string ISO-8601?  Como expliquei acima, o m√©todo <code>Date.parse()</code> se torna n√£o confi√°vel e √© melhor n√£o us√°-lo.  No entanto, a partir do ECMAScript 5, √© poss√≠vel usar constru√ß√µes de seq√º√™ncia de caracteres no formato ISO-8601 no construtor <code>Date</code> no Internet Explorer 9.0 e superior. <br><br>  Se voc√™ n√£o estiver usando o navegador mais recente, verifique se o <code>Z</code> no final dos valores.  Sem ele, seu navegador antigo pode interpretar o valor com base na hora local, n√£o no UTC.  Aqui est√° um exemplo de uso no Internet Explorer 10: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-string"><span class="hljs-string">'2017-03-11T11:30:00'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-string"><span class="hljs-string">'2017-03-11T11:30:00Z'</span></span>); d1.toString(); <span class="hljs-comment"><span class="hljs-comment">// "Sat Mar 11 11:30:00 UTC+0900 2017" d2.toString(); // "Sat Mar 11 20:30:00 UTC+0900 2017"</span></span></code> </pre> <br>  De acordo com a especifica√ß√£o, em ambos os casos o mesmo valor deve ser obtido.  Mas eles s√£o diferentes.  Em um navegador posterior, os valores ser√£o os mesmos.  Para evitar esse problema, sempre adicione <code>Z</code> no final da linha se as informa√ß√µes de fuso hor√°rio n√£o estiverem dispon√≠veis. <br><br><h2>  Criando uma data para passar para o servidor </h2><br>  Agora voc√™ pode usar a <code>Date</code> criada anteriormente, recuperar ou adicionar livremente a hora com base nos fusos hor√°rios locais.  Somente no final do processamento, n√£o esque√ßa de converter os dados para o formato anterior antes de devolv√™-los ao servidor. <br><br>  Se for a hora do Unix, voc√™ poder√° usar o m√©todo <code>getTime()</code> (n√£o se esque√ßa dos milissegundos). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); d1.getTime(); <span class="hljs-comment"><span class="hljs-comment">// 1489199400000</span></span></code> </pre> <br>  Que tal um valor de sequ√™ncia no formato ISO-8601?  Como eu disse, o Internet Explorer 9.0 e superior oferecem suporte ao ECMAScript 5 e vers√µes posteriores suportam o ISO-8601.  Portanto, usando os <code>toISOString()</code> ou <code>toJSON()</code> , √© poss√≠vel criar uma sequ√™ncia no ISO-8601 ( <code>toJSON()</code> pode ser usado para chamadas recursivas com <code>JSON.stringify()</code> e outros).  Ambos os m√©todos d√£o o mesmo resultado, exceto ao processar dados inv√°lidos: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> d1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); d1.toISOString(); <span class="hljs-comment"><span class="hljs-comment">// "2017-03-11T02:30:00.000Z" d1.toJSON(); // "2017-03-11T02:30:00.000Z" const d2 = new Date('Hello'); d2.toISOString(); // Error: Invalid Date d2.toJSON(); // null</span></span></code> </pre> <br>  Voc√™ pode usar os <code>toGMTString()</code> ou <code>toUTCString()</code> para criar uma string UTC.  Isso resultar√° em um valor que esteja em conformidade com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RFC-1123</a> . <br><br>  O objeto <code>Date</code> inclui <code>toString()</code> , <code>toLocaleString()</code> e seus m√©todos de extens√£o.  Mas eles s√£o de pouca utilidade, pois s√£o usados ‚Äã‚Äãprincipalmente para retornar seq√º√™ncias de caracteres com base no fuso hor√°rio local, e os valores retornados dependem do navegador e do SO. <br><br><h2>  Alterar seu fuso hor√°rio local </h2><br>  Como voc√™ pode ver, existe algum tipo de suporte a fuso hor√°rio no JS.              ?           ?      , JS       .         ,         .   .  ,   . <br><br>      .       .     11.30 11  2017       - .     Unix-    ,  -   <code>-05:00</code> .    ,       . <br><br>       <code>getTimeZoneOffset()</code> .   API  JavaScript,        .        : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> seoul = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span>); seoul.getTimeZoneOffset(); <span class="hljs-comment"><span class="hljs-comment">// -540</span></span></code> </pre> <br>  <code>-540</code> ,     540   .    ,      ( <code>+09:00</code> ).  , ,    .          -,   <code>60 * 5 = 300</code> .   <code>840</code>       <code>Date</code> .     <code>getXX</code>       .       : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formatDate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">date</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> date.getFullYear() + <span class="hljs-string"><span class="hljs-string">'/'</span></span> + (date.getMonth() + <span class="hljs-number"><span class="hljs-number">1</span></span>) + <span class="hljs-string"><span class="hljs-string">'/'</span></span> + date.getDate() + <span class="hljs-string"><span class="hljs-string">' '</span></span> + date.getHours() + <span class="hljs-string"><span class="hljs-string">':'</span></span> + date.getMinutes(); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> seoul = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ny = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span> - (<span class="hljs-number"><span class="hljs-number">840</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">1000</span></span>)); formatDate(seoul); <span class="hljs-comment"><span class="hljs-comment">// 2017/3/11 11:30 formatDate(ny); // 2017/3/10 21:30</span></span></code> </pre> <br> <code>formatDate()</code>              -. ,    .        ,      ?  , .   ,      ‚Äî   ,     .                ( ). <br><br><h2>      </h2><br>       ,     . ,       -,      11  15 .    <code>setDate()</code>   <code>Date</code> ,    ,    . <br><br><pre> <code class="javascript hljs">ny.setDate(<span class="hljs-number"><span class="hljs-number">15</span></span>); formatDate(ny); <span class="hljs-comment"><span class="hljs-comment">// 2017/3/15 21:30</span></span></code> </pre> <br>  ,    .  ,      ?   ,       <code>getTime()</code>  <code>getISOString()</code> .     ,      . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> time = ny.getTime() + (<span class="hljs-number"><span class="hljs-number">840</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 1489631400000</span></span></code> </pre> <br>   ,      ,         .             <code>Date</code>   ?  N√£o.    <code>Date</code>        11-  15-,   4  ( <code>24 * 4 * 60 * 60 * 1000</code> ).      -     10-  15-,    5  ( <code>24* 5 * 60 * 60 * 1000</code> ).             . <br><br>     .     ,     .   -     12 ,   15  2017  <code>-04:00</code> ,   <code>-05:00</code> .      ,    780 ,   60  ,   . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> time = ny.getTime() + (<span class="hljs-number"><span class="hljs-number">780</span></span> * <span class="hljs-number"><span class="hljs-number">60</span></span> * <span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 1489627800000</span></span></code> </pre> <br>   ,        -      ,         . <br><br>  ,                .    ,    ,   ,       .       ,     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> IANA</a> . <br><br>         ,         <code>Date</code>      ,        .  ,   .         ,        .    .        JS    .     . <br><br><h2> Moment Timezone </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Moment</a> ‚Äî  JavaScript-,   .    API     ,        .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Moment Timezone</a> ,     .     IANA        API,         . <br><br>           .  ,         .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br> ,  Moment Timezone: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> seoul = moment(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span>).tz(<span class="hljs-string"><span class="hljs-string">'Asia/Seoul'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ny = moment(<span class="hljs-number"><span class="hljs-number">1489199400000</span></span>).tz(<span class="hljs-string"><span class="hljs-string">'America/New_York'</span></span>); seoul.format(); <span class="hljs-comment"><span class="hljs-comment">// 2017-03-11T11:30:00+09:00 ny.format(); // 2017-03-10T21:30:00-05:00 seoul.date(15).format(); // 2017-03-15T11:30:00+09:00 ny.date(15).format(); // 2017-03-15T21:30:00-04:00</span></span></code> </pre> <br>  <code>seoul</code>  ,   <code>ny</code>   <code>-05:00</code>  <code>-04:00</code> .     <code>format()</code> ,      ISO-8601,     .       . <br><br><h2>  Conclus√£o </h2><br>   API  ,   JavaScript,     .          ,         API,   Internet Explorer 9  .     ,     .                  ,     <code>getTimezoneOffset()</code> .        ,     .     Moment Timezone. <br><br>     ,   ,   .      :  .   ,    ,    ,   .      ,      JavaScript    .   ,      . <br><br><h2>   </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pluralsight: Date and Time Fundamentals</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia: timezone</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia: DST</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia: Unix Time</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia: ISO-8601</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IANA timezone Database</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Microsoft Daylight Saving Time &amp; Time Zone Blog</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MDN: Date API</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">java.util.Date API</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Moment Timezone</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RFC-1123</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RFC2888</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438286/">https://habr.com/ru/post/pt438286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438270/index.html">Love Kubernetes no Mail.ru Group: 14 de fevereiro</a></li>
<li><a href="../pt438272/index.html">Como enviamos SMS da caverna</a></li>
<li><a href="../pt438274/index.html">Defini√ß√£o de "personalidade t√≥xica" em TI</a></li>
<li><a href="../pt438278/index.html">Ensinar as crian√ßas a programar</a></li>
<li><a href="../pt438280/index.html">"Excluindo" objetos no Django</a></li>
<li><a href="../pt438288/index.html">Prote√ß√£o sem medo. Seguran√ßa de mem√≥ria em ferrugem</a></li>
<li><a href="../pt438290/index.html">Post-mortem com GGJ-2019: como obter solavancos, mas ainda assim fazer o jogo</a></li>
<li><a href="../pt438292/index.html">Automa√ß√£o de apartamentos com HomePod, Raspberry Pi e Node.js</a></li>
<li><a href="../pt438294/index.html">Localizando Twitch Streamers em uma partida do PUBG</a></li>
<li><a href="../pt438296/index.html">OpenSceneGraph: Sistema de plugins</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>