<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÖüèæ üê© üë©üèø‚Äçüíº Learning Docker Parte 6: Trabajar con datos ‚èèÔ∏è üôã üß°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la entrega de hoy de la serie Docker, hablaremos sobre trabajar con datos. En particular, los vol√∫menes de Docker. En estos materiales, comparamos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Learning Docker Parte 6: Trabajar con datos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/441574/">  En la entrega de hoy de la serie Docker, hablaremos sobre trabajar con datos.  En particular, los vol√∫menes de Docker.  En estos materiales, comparamos constantemente los mecanismos de software de Docker con varias analog√≠as comestibles.  No nos apartaremos de esta tradici√≥n aqu√≠.  Los datos de Docker deben ser especiados.  Hay muchos tipos de especias en el mundo, y en Docker hay muchas formas de trabajar con datos. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1: lo b√°sico</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2: t√©rminos y conceptos</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3: archivos Dockerfile</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4: reducir el tama√±o de las im√°genes y acelerar su ensamblaje</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 5: equipos</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 6: trabajar con datos</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/62a/5e2/05d/62a5e205d3d0f416ca1341ea301c27c3.jpg"></div><br><a name="habracut"></a><br>  Tenga en cuenta que este material se prepar√≥ con el motor Docker versi√≥n 18.09.1 ‚Äã‚Äãy la versi√≥n API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.39</a> . <br><br>  Los datos de Docker se pueden almacenar de forma temporal o permanente.  Comencemos con los datos de tiempo. <br><br><h2>  <font color="#3AC1EF">Almacenamiento temporal de datos</font> </h2><br>  Hay dos formas de organizar el trabajo con datos temporales en contenedores Docker. <br><br>  De manera predeterminada, los archivos creados por una aplicaci√≥n que se ejecuta en un contenedor se guardan en una capa de contenedor habilitada para grabaci√≥n.  Para que este mecanismo funcione, no necesita configurar nada espec√≠ficamente.  Resulta barato y enojado.  Una aplicaci√≥n solo necesita guardar datos y continuar haciendo lo suyo.  Sin embargo, una vez que el contenedor deje de existir, los datos almacenados de forma tan simple desaparecer√°n. <br><br>  Para almacenar archivos temporales en Docker, puede usar otra soluci√≥n adecuada para aquellos casos en los que se requiere un mayor nivel de rendimiento en comparaci√≥n con lo que se puede lograr utilizando el mecanismo est√°ndar para el almacenamiento temporal de datos.  Si no necesita que sus datos se almacenen m√°s tiempo del que existe el contenedor, puede conectar tmpfs al contenedor, un almacenamiento temporal de informaci√≥n que utiliza la RAM del host.  Esto acelerar√° el rendimiento de la escritura y lectura de datos. <br><br>  A menudo sucede que los datos deben almacenarse incluso despu√©s de que el contenedor deje de existir.  Para hacer esto, necesitamos mecanismos √∫tiles para el almacenamiento permanente de datos. <br><br><h2>  <font color="#3AC1EF">Almacenamiento permanente de datos</font> </h2><br>  Hay dos formas de hacer que la vida de los datos sea m√°s larga que la vida del contenedor.  Una forma es usar la tecnolog√≠a de montaje de uni√≥n.  Con este enfoque, puede montar, por ejemplo, una carpeta realmente existente en el contenedor.  Los procesos ubicados fuera de Docker podr√°n trabajar con datos almacenados en dicha carpeta.  As√≠ es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">como se ve la</a> tecnolog√≠a tmpfs mount y bind mount. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29c/1ea/9a4/29c1ea9a4546930dd8d03c7c5f521cc8.png"></div><br>  <i><font color="#999999">Monte tmpfs y monte de enlace</font></i> <br><br>  Las desventajas de usar la tecnolog√≠a Bind Mount son que su uso complica la copia de seguridad de los datos, la migraci√≥n de datos y el intercambio de datos entre varios contenedores.  Es mucho mejor usar vol√∫menes Docker para el almacenamiento persistente de datos. <br><br><h2>  <font color="#3AC1EF">Tom Docker</font> </h2><br>  Un volumen es un sistema de archivos que reside en una m√°quina host fuera de los contenedores.  La creaci√≥n y gesti√≥n de vol√∫menes la realiza Docker.  Estas son las propiedades b√°sicas de los vol√∫menes de Docker: <br><br><ul><li>  Representan un medio para el almacenamiento permanente de informaci√≥n. </li><li>  Son independientes y est√°n separados de los contenedores. </li><li>  Se pueden compartir entre diferentes contenedores. </li><li> Le permiten organizar la lectura y escritura efectiva de datos. </li><li>  Los vol√∫menes se pueden alojar en el proveedor de la nube remota. </li><li>  Pueden ser encriptados. </li><li>  Se les pueden dar nombres. </li><li>  El contenedor puede organizar el volumen para que se complete con datos por adelantado. </li><li>  Son convenientes para la prueba. </li></ul><br>  Como puede ver, los vol√∫menes de Docker tienen excelentes caracter√≠sticas.  Hablemos sobre c√≥mo crearlos. <br><br><h2>  <font color="#3AC1EF">Creaci√≥n de volumen</font> </h2><br>  Los vol√∫menes se pueden crear con Docker o mediante solicitudes de API. <br><br>  Aqu√≠ est√°n las instrucciones en el Dockerfile que le permite crear un volumen cuando se inicia el contenedor. <br><br><pre><code class="plaintext hljs">VOLUME /my_volume</code> </pre> <br>  Al usar una instrucci√≥n Docker similar, despu√©s de crear el contenedor, crear√° un volumen que contiene datos que ya existen en la ubicaci√≥n especificada.  Tenga en cuenta que si crea un volumen utilizando el Dockerfile, esto no le libera de la necesidad de especificar un punto de montaje para el volumen. <br><br>  Tambi√©n puede crear vol√∫menes en Dockerfile utilizando el formato JSON. <br><br>  Adem√°s, los vol√∫menes se pueden crear utilizando la l√≠nea de comando mientras el contenedor se est√° ejecutando. <br><br><h2>  <font color="#3AC1EF">Trabajando con vol√∫menes desde la l√≠nea de comando</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç Crear un volumen</font> </h3><br>  Puede crear un volumen independiente con el siguiente comando: <br><br><pre> <code class="plaintext hljs">docker volume create ‚Äî-name my_volume</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Informaci√≥n de volumen plegable</font> </h3><br>  Para ver la lista de vol√∫menes de Docker, use el siguiente comando: <br><br><pre> <code class="plaintext hljs">docker volume ls</code> </pre> <br>  Puede explorar un volumen espec√≠fico como este: <br><br><pre> <code class="plaintext hljs">docker volume inspect my_volume</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçEliminar volumen</font> </h3><br>  Puede eliminar un volumen como este: <br><br><pre> <code class="plaintext hljs">docker volume rm my_volume</code> </pre> <br>  Para eliminar todos los vol√∫menes que no utilizan los contenedores, puede recurrir al siguiente comando: <br><br><pre> <code class="plaintext hljs">docker volume prune</code> </pre> <br>  Antes de eliminar vol√∫menes, Docker le pedir√° que confirme esta operaci√≥n. <br><br>  Si el volumen est√° asociado con un contenedor, dicho volumen no se puede eliminar hasta que se elimine el contenedor correspondiente.  En este caso, incluso si se retira el contenedor, Docker no siempre comprende esto.  Si esto sucede, puede usar el siguiente comando: <br><br><pre> <code class="plaintext hljs">docker system prune</code> </pre> <br>  Est√° dise√±ado para limpiar los recursos de Docker.  Despu√©s de ejecutar este comando, deber√≠a poder eliminar los vol√∫menes cuyo estado se determin√≥ previamente de forma incorrecta. <br><br><h2>  <font color="#3AC1EF">Banderas --mount y --volumen</font> </h2><br>  Para trabajar con vol√∫menes, cuando llama al <code>docker</code> , a menudo tiene que usar banderas.  Por ejemplo, para crear un volumen durante la creaci√≥n de un contenedor, puede usar la siguiente construcci√≥n: <br><br><pre> <code class="plaintext hljs">docker container run --mount source=my_volume, target=/container/path/for/volume my_image</code> </pre> <br>  En la antig√ºedad (hasta 2017), la bandera <code>--volume</code> era <code>--volume</code> .  Inicialmente, esta bandera (tambi√©n se puede usar en forma abreviada, luego parece que <code>-v</code> ) se us√≥ para contenedores independientes, y la bandera <code>--mount</code> se <code>--mount</code> en el entorno Docker Swarm.  Sin embargo, comenzando con Docker 17.06, el indicador <code>--mount</code> se puede usar en cualquier escenario. <br><br>  Cabe se√±alar que cuando se usa el indicador <code>--mount</code> , <code>--mount</code> la cantidad de datos adicionales que se deben especificar en el comando, pero, por varias razones, es mejor usar este indicador en lugar de <code>--volume</code> .  El indicador <code>--mount</code> es el √∫nico mecanismo que le permite trabajar con servicios o especificar la configuraci√≥n del controlador de volumen.  Adem√°s, trabajar con esta bandera es m√°s f√°cil. <br><br>  En los ejemplos existentes de comandos destinados a trabajar con datos en Docker, puede encontrar muchos ejemplos del uso del indicador <code>-v</code> .  Cuando intente adaptar estos comandos por s√≠ mismo, tenga en cuenta que los <code>--mount</code> y <code>--volume</code> utilizan diferentes formatos de par√°metros.  Es decir, no puede simplemente reemplazar <code>-v</code> con <code>--mount</code> y obtener un comando de trabajo. <br><br>  La principal diferencia entre <code>--mount</code> y <code>--volume</code> es que cuando se usa el indicador <code>--volume</code> todos los par√°metros se recopilan juntos en un campo, y cuando se usa <code>--mount</code> par√°metros se separan. <br><br>  Cuando se trabaja con <code>--mount</code> par√°metros se representan como pares clave-valor, es decir, parece <code>key=value</code> .  Estos pares est√°n separados por comas.  Estas son las opciones de <code>--mount</code> utilizadas: <br><br><ul><li>  <code>type</code> - <code>type</code> montaje.  El valor de la clave correspondiente puede ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bind</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">volume</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tmpfs</a> .  Estamos hablando de vol√∫menes aqu√≠, es decir, estamos interesados ‚Äã‚Äãen el valor del <code>volume</code> . </li><li>  <code>source</code> - <code>source</code> montaje.  Para vol√∫menes con nombre, este es el nombre del volumen.  Para vol√∫menes sin nombre, esta clave no se especifica.  Se puede acortar a <code>src</code> . </li><li>  <code>destination</code> : la ruta a la que se monta el archivo o la carpeta en el contenedor.  Esta clave se puede acortar a <code>dst</code> o <code>target</code> . </li><li>  <code>readonly</code> : monta un volumen de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">solo lectura</a> .  El uso de esta clave es opcional; no se le asigna ning√∫n valor. </li></ul><br>  Aqu√≠ hay un ejemplo de uso de <code>--mount</code> con muchas opciones: <br><br><pre> <code class="plaintext hljs">docker run --mount type=volume,source=volume_name,destination=/path/in/container,readonly my_image</code> </pre> <br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Estos son algunos comandos √∫tiles que puede usar al trabajar con vol√∫menes de Docker: <br><br><ul><li> <code>docker volume create</code> </li> <li> <code>docker volume ls</code> </li> <li> <code>docker volume inspect</code> </li> <li> <code>docker volume rm</code> </li> <li> <code>docker volume prune</code> </li> </ul><br>  Aqu√≠ hay una lista de opciones de uso com√∫n para <code>--mount</code> , aplicable a un comando como <code>docker run --mount my_options my_image</code> : <br><br><ul><li> <code>type=volume</code> </li> <li> <code>source=volume_name</code> </li> <li> <code>destination=/path/in/container</code> </li> <li> <code>readonly</code> </li> </ul><br>  Ahora que hemos terminado esta serie de Docker, es hora de decir algunas palabras sobre d√≥nde pueden seguir quienes estudian Docker.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> gran buen art√≠culo sobre Docker.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> libro sobre Docker (cuando compre este libro, intente obtener la √∫ltima edici√≥n del mismo).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> hay otro libro que se adaptar√° a aquellos que creen que la pr√°ctica es la mejor manera de aprender tecnolog√≠a. <br><br>  <b>Estimados lectores!</b>  ¬øQu√© materiales sobre Docker recomendar√≠as a los principiantes para estudiar? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/441574/">https://habr.com/ru/post/441574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441562/index.html">Pixel Gallop - Parte cinco - Animaci√≥n de personajes. Caminando</a></li>
<li><a href="../441566/index.html">12 conceptos de JavaScript para conocer</a></li>
<li><a href="../441568/index.html">Gesti√≥n de memoria Python</a></li>
<li><a href="../441570/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 353 (del 17 al 24 de febrero de 2019)</a></li>
<li><a href="../441572/index.html">Frontend Weekly Digest (18-24 de febrero de 2019)</a></li>
<li><a href="../441576/index.html">Redes de Kubernetes: Pods</a></li>
<li><a href="../441578/index.html">Tutorial de React Parte 19: M√©todos del ciclo de vida de los componentes</a></li>
<li><a href="../441580/index.html">Tutorial React Parte 20: primera lecci√≥n de renderizado condicional</a></li>
<li><a href="../441582/index.html">Optimizaci√≥n del sistema de control LQR</a></li>
<li><a href="../441584/index.html">PHP Digest No. 150 (del 11 al 25 de febrero de 2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>