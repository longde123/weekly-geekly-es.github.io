<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßñüèº üåò ü§≥üèΩ Suppression de lignes t√©l√©phoniques √† l'aide de passerelles VoIP Grandstream üë∞üèΩ üôâ üë®üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les clients nous contactent souvent avec un probl√®me assez courant. En g√©n√©ral, elle peut √™tre exprim√©e comme suit: l'entreprise utilise un central t√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Suppression de lignes t√©l√©phoniques √† l'aide de passerelles VoIP Grandstream</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arttel/blog/395875/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les clients nous contactent souvent avec un probl√®me assez courant. En g√©n√©ral, elle peut √™tre exprim√©e comme suit: l'entreprise utilise un central t√©l√©phonique analogique, auquel il est n√©cessaire de connecter certains utilisateurs √† distance. Il peut s'agir d'un bureau voisin, d'une ville voisine ou m√™me d'un autre pays - l'essentiel est que le r√©seau t√©l√©phonique n'y parvienne pas, mais le LAN atteint ou il y a acc√®s √† Internet. Aujourd'hui, nous allons r√©soudre ce probl√®me √† l'aide des passerelles VoIP de la s√©rie Grandstream GXW4xxx.</font></font><br>
<img src="https://habrastorage.org/files/512/849/e7b/512849e7b3de4893addc9bbab1dabae2.jpg"><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, cette t√¢che pr√©sente de nombreuses variantes. Par exemple, retransmettre des lignes PSTN vers un autre emplacement ou combiner les capacit√©s de num√©rotation de deux centraux analogiques distants - tr√®s similaires dans leur signification et leur solution au probl√®me. Par cons√©quent, afin de ne pas introduire de confusion inutile, nous d√©terminerons imm√©diatement les donn√©es initiales et prendrons pour elles l'illustration suivante: </font></font><br>
<img src="https://habrastorage.org/files/be9/9da/ffa/be99daffa61f44799a99153df5123d42.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un si√®ge social de la soci√©t√© dans laquelle se trouve le central t√©l√©phonique analogique, avec la num√©rotation des t√©l√©phones internes 2XX. Il y a aussi un bureau distant avec quatre employ√©s qui doivent attribuer les num√©ros de poste 301-304. Il doit permettre aux employ√©s de diff√©rents bureaux de s‚Äôappeler directement √† l‚Äôaide d‚Äôun num√©ro abr√©g√© interne.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au si√®ge social de l'entreprise, nous installerons une passerelle VoIP Grandstream avec des ports FXO. </font><font style="vertical-align: inherit;">Il peut s'agir d'un mod√®le GXW4104 (4 ports) ou GXW4108 (8 ports). </font><font style="vertical-align: inherit;">Et dans le bureau distant - une passerelle avec des ports FXS - GXW4004 (4 ports) ou GXW4008 (8 ports). </font><font style="vertical-align: inherit;">Pour simplifier, nous supposons que nous travaillons avec les passerelles √† quatre ports </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GXW4104</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GXW4004,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> respectivement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous s√©lectionnons quatre ports internes dans notre PBX analogique et leur attribuons des num√©ros internes - 301-304. </font><font style="vertical-align: inherit;">Nous connectons le Grandstream GXW4104 au r√©seau local, attribuons une adresse IP statique et connectons les ports internes du PBX aux ports de la passerelle (n ¬∞ 301 - avec le premier port de la passerelle, n ¬∞ 302 - avec le second, etc.). </font><font style="vertical-align: inherit;">Dans la succursale distante, nous attribuons √©galement une adresse statique √† la passerelle GXW4004 et y connectons quatre t√©l√©phones analogiques.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons r√©soudre deux sous-t√¢ches:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permettre aux abonn√©s du si√®ge social (‚Ññ201, ‚Ññ202) d'appeler les abonn√©s du bureau distant (‚Ññ‚Ññ301 - 304)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permettre aux abonn√©s du bureau distant d'appeler les abonn√©s du si√®ge social de l'entreprise.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re t√¢che sera r√©solue en configurant le GXW4104:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Section </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comptes - Compte 1 - Param√®tres g√©n√©raux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serveur SIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sp√©cifiez l'adresse IP de la passerelle Grandstream GXW4004 FXS situ√©e dans le bureau distant. </font><font style="vertical-align: inherit;">Si les passerelles sont situ√©es dans le m√™me r√©seau local ou sont connect√©es par un VPN, nous indiquons l'adresse IP locale. </font><font style="vertical-align: inherit;">Sinon, nous sp√©cifions l'adresse IP externe de l'unit√© distante et vous devrez transf√©rer les ports sur le routeur distant. </font><font style="vertical-align: inherit;">Nous vous parlerons de la redirection de port un peu plus tard.</font></font><br>
<br>
<img src="https://habrastorage.org/files/793/68f/726/79368f726711473d8fcf61db31462abc.jpg"> <br>
<br>
</li>
<li> <b>Accounts ‚Äî Account 1 ‚Äî SIP Settings</b>.   <b>SIP Registration</b>   <i>No</i> ‚Äì        ¬´ ¬ª.<br>
<br>
<img src="https://habrastorage.org/files/851/511/580/851511580e5946a294fa88cf5163d6c7.jpg"><br>
<br>
</li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   <b>SIP Server</b>   <i>ch1-4:p1;</i>  ,  ,       FXO  ,    IP-,    <b>Accounts ‚Äî Account 1 ‚Äî General Settings</b>.    -   Account1    Account2,       : <i>ch1-4:p2;</i>       GXW4108,           <i>ch1-8:p1;</i> <br>
<br>
<img src="https://habrastorage.org/files/0ab/89b/78a/0ab89b78ae1e48759564a2eab58aa2e0.jpg"><br>
<br>
</li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   IP-,     ,   SIP-.    <b>SIP Destination Port</b>      <i>ch1-4:5060</i>  <i>ch1-4:5060++;</i>  ,       FXO-    SIP- 5060  ,   FXO- ‚Äì    SIP- 5062,     ‚Äì   5064  5066 .    SIP-,    , FXS-           ,   . </li>
<li> <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.  <b>User ID</b>     <i>ch1-4:</i>.     ,     ,          IP-.  ,   ,   ,  ,   ,      .    ,         : <i>ch1:301;ch2:302;ch3:303;ch4:304</i>.  FXO-    301-304 (   )  SIP-    FXS-. ,    ,  FXS-          SIP-,     .      ,  ,  FXO-      IP-   .  <i>ch1-4:123;</i>  <i>ch1-4:x;</i>   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les autres param√®tres de passerelle GXW4104 peuvent √™tre laiss√©s par d√©faut. Et ces param√®tres suffisent √† organiser la communication entre les abonn√©s du si√®ge social et les abonn√©s de l'agence. Oui, la passerelle distante GXW4004 n'a m√™me pas besoin d'√™tre configur√©e, car elle √©coute les ports 5060, 5062, 5064 et 5066 par d√©faut et convertit les messages envoy√©s √† ces ports et les envoie aux ports 1-4, respectivement. Les ports SIP impairs 5061, 5063, 5065 et 5067 sur la passerelle FXS sont d√©finis par d√©faut sur SIP sur TLS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√©anmoins, nous devons √©galement r√©soudre le deuxi√®me probl√®me - organiser la communication entre les abonn√©s de la succursale distante et les abonn√©s du si√®ge social. </font><font style="vertical-align: inherit;">Il existe deux fa√ßons de r√©soudre ce probl√®me: par analogie avec la premi√®re t√¢che, en utilisant diff√©rents ports SIP pour diff√©rents canaux ou en utilisant le plan de num√©rotation. </font><font style="vertical-align: inherit;">Choisissons la deuxi√®me option: ouvrez l'interface Web de la passerelle distante Grandstream GXW4004 et allez √† la section </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<img src="https://habrastorage.org/files/a01/60e/878/a0160e878695450da2ecf26ce5bcb0d4.jpg"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primary SIP Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sp√©cifiez l'adresse IP de la passerelle Grandstream GXW4104 FXO situ√©e au si√®ge social. </font><font style="vertical-align: inherit;">S'il ne s'agit pas d'une adresse IP locale, une redirection de port sera √©galement requise.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIP Registration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">s√©lectionnez la valeur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les passerelles communiqueront entre elles en mode "no registration".</font></font></li>
<li>  <b>Outgoing Call without Registration</b>   <i>Yes</i>,          ¬´ ¬ª.</li>
<li>  <b>Dialplan</b>  <i>{&lt;=99$P&gt;x+}</i>.      :    ,       (x+)       99$P,  $P ‚Äì   FXS-,    ,  .   301      202,   GXW4004   GXW4104   99-1-202.   303    204,     99-3-204.     , FXO-      ,   FXO-      . <br>
<img src="https://habrastorage.org/files/2a7/5a6/4ce/2a75a64ce3b7432eb93b0886305dc85d.jpg"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous revenons √† la configuration de la passerelle GXW4104 au si√®ge social: ouvrez l'interface Web et acc√©dez √† la section </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXO Lines&gt; Dialing</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage Method (1/2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">√©crivez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ch1-4: 1; </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela signifie que pour les quatre canaux, un appel sans num√©rotation de poste sera utilis√©. </font><font style="vertical-align: inherit;">Si nous </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quittions l'enregistrement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par d√©faut </font><i><font style="vertical-align: inherit;">ch1-4: 2</font></i><font style="vertical-align: inherit;"> , l'abonn√© de la branche distante devrait recomposer le num√©ro dont il avait besoin apr√®s que l'appel soit arriv√© √† la passerelle FXO. </font><font style="vertical-align: inherit;">Et c'est un travail superflu, puisque l'abonn√© a d√©j√† compos√© une fois le num√©ro dont il a besoin.</font></font><br>
<br>
<img src="https://habrastorage.org/files/474/a8a/249/474a8a2498174f8098e9473bbec0692e.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©fixe pour sp√©cifier le port</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">laissez la valeur par d√©faut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Apr√®s avoir trouv√© ce pr√©fixe dans le num√©ro provenant de la succursale, la passerelle FXO comprendra que le chiffre suivant est le num√©ro de port par lequel elle doit envoyer cet appel au PBX. </font><font style="vertical-align: inherit;">Ainsi, nous veillerons √† ce que les appels des abonn√©s distants arrivent strictement √† leurs ports d√©sign√©s sur le PBX.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela compl√®te la configuration des passerelles - maintenant les abonn√©s de la succursale distante peuvent appeler les employ√©s du si√®ge social et m√™me vers des num√©ros fixes via le PBX, si cela n'est clairement pas interdit sur le PBX lui-m√™me.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de la redirection de port</font></font></b><div class="spoiler_text">   ?<br>
<br>
<ol>
<li>   ‚Äì  UDP- 5060, 5062, 5064  5066  SIP-.         5068 ‚Äì 5074.</li>
<li>  RTP:      2  (  RTP +  RTCP).        <b>Local RTP port</b>,      ‚Äî 5004,       UDP  5004 + 5005,   5006+5007   . ,   Local RTP port = 5004,    4-  ‚Äî  5004-5011,   8-  ‚Äî  5004-5019. </li>
</ol><br>
,          .         ,  ,   VPN    .<br>
</div></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plusieurs bureaux distants</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Changeons un peu la t√¢che. Supposons que nous devions connecter non pas une, mais plusieurs succursales distantes au PBX central de l'entreprise. Qu'il s'agisse de trois points de vente au d√©tail avec un abonn√© dans chacun: au </font></font><br>
<img src="https://habrastorage.org/files/8a3/56b/0d6/8a356b0d613949889cdb98058b839206.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lieu de passerelles √† quatre ports, il serait plus logique de mettre des adaptateurs SIP √† port unique bon march√©, par exemple, Grandstream HT701, √† ces points. Comment les param√®tres de la passerelle GXW4104 vont-ils alors changer? Pour passer un appel d'abonn√©s du si√®ge social √† des abonn√©s distants, il n'est plus n√©cessaire d'utiliser diff√©rents ports SIP, car d√©sormais les appels pour diff√©rents abonn√©s distants seront achemin√©s vers diff√©rentes adresses IP. Et ici, nous sommes confront√©s au premier probl√®me - le nombre de serveurs SIP pouvant √™tre d√©finis sur le GXW4104 (et m√™me sur le GXW4108) est limit√© √† trois, de sorte que plus de trois emplacements ne peuvent pas √™tre connect√©s via une telle passerelle FXO.</font></font><br>
<br>
<ol>
<li>   <b>Accounts ‚Äî Account 1 ‚Äì General Settings</b>.   <b>SIP-Server</b>  IP-  HT701   1.      Account 2  Account 3,       2  3 .<br>
<br>
<img src="https://habrastorage.org/files/008/f33/2b8/008f332b80d74e31956e6938f3d9c6a8.jpg"><br>
<br>
</li>
<li> <b>Accounts ‚Äî Account 1 ‚Äî SIP Settings</b>.   <b>SIP Registration</b>   <i>No</i>.   Account 2  Account 3. <br>
<br>
<img src="https://habrastorage.org/files/92b/d71/004/92bd71004f9c4c0288b0cd29744fcb4c.jpg"><br>
<br>
</li>
<li>  <b>Settings ‚Äì Channels Settings ‚Äì Calling to VoIP</b>.   <b>SIP Server</b>   <i>ch1:p1;ch2:p2;ch3:p3;ch4:p1;</i>      ,      .   <b>SIP Destination Port</b>      <i>ch1-4:5060</i>.  <b>User ID</b>    , , <i>ch1-4:123;</i><br>
<br>
<img src="https://habrastorage.org/files/47b/ccb/235/47bccb2350304610a820ba8b4b2e54c2.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les appels sortants du central vers des emplacements distants ont fonctionn√©, car chaque HT701 √©coute son port par d√©faut 5060 et lorsqu'un appel arrive, il lance un appel vers le t√©l√©phone connect√© √† un seul port FXS. </font><font style="vertical-align: inherit;">Pour que les appels aillent dans l'autre sens, vous devez configurer chaque Grandstream HT701. </font><font style="vertical-align: inherit;">Nous allons √† l'interface Web de la passerelle HT-701 et allons √† la section </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXS PORT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serveur SIP principal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sp√©cifiez l'adresse IP du FXO de la passerelle Grandstream GXW4104.</font></font><br>
<br>
<img src="https://habrastorage.org/files/873/ba9/376/873ba9376ce24b3990898461463c04b5.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrement SIP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">s√©lectionnez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non</font></font></i><br>
<br>
<img src="https://habrastorage.org/files/f21/d04/939/f21d04939913483fa4b1ed204bf612f2.jpg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©fixe de plan de num√©rotation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sp√©cifiez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">991</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le premier point (t√©l√©phone 301), </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">992</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le deuxi√®me (302) et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">993</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le troisi√®me (303). </font><font style="vertical-align: inherit;">Sur la base de ce pr√©fixe, la passerelle FXO du si√®ge social comprendra quel port doit envoyer l'appel au PBX.</font></font><br>
<br>
<img src="https://habrastorage.org/files/3cc/226/2c8/3cc2262c8d504ca9b6a6378843d7a1c7.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si les param√®tres </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXO Lines&gt; Composition</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Grandstream GXW4104 champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etape M√©thode (1/2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indiqu√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CH1-4: 1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et dans le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©fixe √† sp√©cifier le </font><font style="vertical-align: inherit;">port</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indiqu√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">99</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , les </font><font style="vertical-align: inherit;">appels des abonn√©s des points √©loign√©s dans la direction des abonn√©s PBX t√™te gagnent √©galement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous utilisons des t√©l√©phones IP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le probl√®me consid√©r√©, la passerelle FXO install√©e au si√®ge social est un √©l√©ment cl√© que nous ne pouvons pas refuser, car le central, selon les conditions de la t√¢che, ne prend pas en charge le protocole SIP. </font><font style="vertical-align: inherit;">Si le remplacement d'un central t√©l√©phonique est une proc√©dure laborieuse et co√ªteuse, le remplacement des t√©l√©phones analogiques par des appareils compatibles SIP dans les succursales distantes est assez facile et beaucoup de nos clients le font. </font><font style="vertical-align: inherit;">Cela simplifie quelque peu le sch√©ma: les </font></font><br>
<img src="https://habrastorage.org/files/aea/e98/27e/aeae9827eddf4290832719301044e286.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
param√®tres de la passerelle GXW4104 ne changent pas par rapport √† l'exemple pr√©c√©dent. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prenons les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> param√®tres du t√©l√©phone IP en utilisant le </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Grandstream GXP1620</font></a><font style="vertical-align: inherit;"> comme exemple </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ouvrez l'interface Web et acc√©dez √† la section </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comptes - Compte 1 - Param√®tres g√©n√©raux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du </font><b><font style="vertical-align: inherit;">compte</font></b><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">sp√©cifiez le num√©ro de t√©l√©phone - 301, 302 ou 303.</font></font></li>
<li>  <b>SIP Server</b>  IP  FXO  Grandstream GXW4104.<br>
<br>
<img src="https://habrastorage.org/files/ebc/ade/2b7/ebcade2b796846638deefd2d2df9972c.jpg"><br>
<br>
</li>
<li>   <b>Account 1 ‚Äî SIP Settings ‚Äî Basic Settings</b>    <b>SIP Registration</b>  <i>No</i>.<br>
<br>
<img src="https://habrastorage.org/files/3ad/a6a/e56/3ada6ae569a543ab84a2745067c7d411.jpg"><br>
<br>
</li>
<li>   <b>Account 1 ‚Äî Call Settings</b>    <b>Dial Plan Prefix</b>   <i>991</i>   301, <i>992</i> ‚Äì   302  <i>993</i>   303.<br>
<br>
<img src="https://habrastorage.org/files/9dc/f88/b15/9dcf88b151344212aca8beb6bffe415a.jpg"><br>
<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci termine la configuration du t√©l√©phone IP - vous pouvez d√©sormais passer des appels vers les t√©l√©phones des abonn√©s PBX centraux. </font><font style="vertical-align: inherit;">Il convient de noter que tous les t√©l√©phones ne peuvent pas fonctionner dans cette configuration. </font><font style="vertical-align: inherit;">La principale exigence des appareils est de pouvoir passer des appels sans s'enregistrer. </font><font style="vertical-align: inherit;">De plus, les t√©l√©phones devraient pouvoir ajouter un pr√©fixe au num√©ro compos√©. </font><font style="vertical-align: inherit;">La deuxi√®me exigence n'est pas obligatoire, car au lieu d'utiliser le plan de num√©rotation, vous pouvez acheminer les appels de diff√©rents t√©l√©phones IP vers diff√©rents ports SIP de la passerelle FXO, ce qui permet √† ce dernier d'envoyer correctement des appels au PBX. </font><font style="vertical-align: inherit;">Vous pouvez √©galement utiliser la num√©rotation en deux √©tapes, ce qui est cependant moins pratique. </font><font style="vertical-align: inherit;">Les marques de t√©l√©phones IP les plus populaires, telles que Grandstream, Yealink, Fanvil, Linksys r√©pondent aux exigences sp√©cifi√©es et prennent en charge le travail dans cette configuration.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr395875/">https://habr.com/ru/post/fr395875/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr395863/index.html">Le myst√®re de la m√©decine: le cancer du c√¥lon, les maladies cardiaques et la d√©mence reculent, mais personne ne peut expliquer pourquoi</a></li>
<li><a href="../fr395865/index.html">Commerce contextuel - une nouvelle tendance dans le commerce √©lectronique</a></li>
<li><a href="../fr395869/index.html">Torrent avec 427 millions de mots de passe MySpace</a></li>
<li><a href="../fr395871/index.html">Les scientifiques mettent en garde contre les effets secondaires d'une mauvaise stimulation √©lectrique du cerveau</a></li>
<li><a href="../fr395873/index.html">Les scientifiques ont d'abord √©tudi√© et d√©crit le m√©canisme d'activation d'une cha√Æne de neurones c√©r√©braux responsables d'une tendance √† l'agression</a></li>
<li><a href="../fr395879/index.html">Discussion: les traders HFT aiment-ils leur travail?</a></li>
<li><a href="../fr395881/index.html">Parasitica (histoire)</a></li>
<li><a href="../fr395883/index.html">Prise intelligente REDMOND Prise intelligente SkyPlug RSP-100S (partie 2). Le principal inconv√©nient de la sortie et de son √©limination</a></li>
<li><a href="../fr395887/index.html">La construction d'ITER est en avance sur le calendrier. Le premier plasma est pr√©vu pour 2025</a></li>
<li><a href="../fr395889/index.html">La vie secr√®te des g√©ants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>