<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÖ üëø ‚òÉÔ∏è C√≥mo aprendimos a conectar c√°maras chinas para 1000r a la nube. Sin registradores y SMS (y ahorr√≥ millones de d√≥lares) üê∞ ‚õ∞Ô∏è ü•†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 


 Probablemente no sea un secreto para nadie que recientemente los servicios de videovigilancia basados ‚Äã‚Äãen la nube est√©n ganando pop...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo aprendimos a conectar c√°maras chinas para 1000r a la nube. Sin registradores y SMS (y ahorr√≥ millones de d√≥lares)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415841/"><p>  Hola a todos! </p><br><p>  Probablemente no sea un secreto para nadie que recientemente los servicios de videovigilancia basados ‚Äã‚Äãen la nube est√©n ganando popularidad.  Y es comprensible por qu√© sucede esto, el video es contenido "pesado", que requiere infraestructura y grandes cantidades de almacenamiento en disco para almacenar.  El uso de un sistema de videovigilancia local requiere los medios para operar y dar soporte, tanto en el caso de una organizaci√≥n que usa cientos de c√°maras de vigilancia, como en el caso de un usuario individual con varias c√°maras. </p><br><p><img src="https://habrastorage.org/webt/ip/ip/dn/ipipdn8drahlsndfnz6sc4fdzis.jpeg"></p><br><p>  Los sistemas de videovigilancia basados ‚Äã‚Äãen la nube resuelven este problema al proporcionar a los clientes una infraestructura de procesamiento y almacenamiento de video existente.  Es suficiente que un cliente de vigilancia basado en la nube simplemente conecte la c√°mara a Internet y se una a su cuenta en la nube. </p><br><p>  Hay varias formas tecnol√≥gicas de conectar c√°maras a la nube.  Sin duda, la forma m√°s conveniente y econ√≥mica: la c√°mara se conecta directamente y funciona con la nube, sin la participaci√≥n de equipos adicionales, como un servidor o un registrador. </p><br><p>  Para esto, es necesario que el m√≥dulo de software que trabaja con la nube est√© instalado en la c√°mara.  Sin embargo, si hablamos de c√°maras baratas, tienen recursos de hardware muy limitados, que est√°n casi al 100% ocupados por el firmware nativo del proveedor de la c√°mara, pero no hay recursos necesarios para el complemento en la nube.  Los desarrolladores de ivideon dedicaron <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un art√≠culo</a> a este problema, que dice por qu√© no pueden instalar el complemento en c√°maras baratas.  Como resultado, el precio m√≠nimo de la c√°mara es de 5000 rublos ($ 80 d√≥lares) y millones de dinero gastado en equipos. </p><br><p>  Hemos resuelto con √©xito este problema.  Si est√° interesado en c√≥mo: Bienvenido a Cat. </p><a name="habracut"></a><br><h1 id="nemnogo-istorii">  Un poco de historia </h1><br><p>  En 2016, comenzamos a desarrollar una plataforma de videovigilancia basada en la nube para Rostelecom. </p><br><p>  En la parte del software de la c√°mara, en la primera etapa seguimos el camino "est√°ndar" para tales tareas: desarrollamos nuestro propio complemento, que se instala en el firmware de la c√°mara del proveedor y funciona con nuestra nube.  Sin embargo, vale la pena se√±alar que durante el dise√±o usamos las soluciones m√°s livianas y eficientes (por ejemplo, la implementaci√≥n C simple de protobuf, libev, mbedtls y bibliotecas convenientes pero pesadas completamente abandonadas como boost) </p><br><p>  Ahora en el mercado de c√°maras IP no hay soluciones de integraci√≥n universal: cada proveedor tiene su propia forma de instalar el complemento, su propio conjunto de API para que funcione el firmware y un mecanismo de actualizaci√≥n √∫nico. </p><br><p>  Esto significa que para cada proveedor de c√°maras es necesario desarrollar individualmente una capa de volumen de software de integraci√≥n.  Y en el momento del inicio del desarrollo, es recomendable trabajar solo con el primer proveedor para centrar los esfuerzos del equipo en desarrollar la l√≥gica de trabajar con la nube. </p><br><p>  El primer proveedor fue Hikvision, uno de los l√≠deres mundiales en el mercado de c√°maras, que proporciona una API bien documentada y un soporte t√©cnico de ingenier√≠a competente. </p><br><p>  En las c√°maras Hikvision, lanzamos nuestro primer proyecto piloto, videovigilancia en la nube, Video Comfort. </p><br><p>  Casi inmediatamente despu√©s del lanzamiento, nuestros usuarios comenzaron a hacer preguntas sobre la posibilidad de conectar c√°maras de terceros m√°s baratas al servicio. </p><br><p>  Descart√© la opci√≥n con la implementaci√≥n de la capa de integraci√≥n para cada proveedor casi de inmediato, ya que es poco escalable y presenta requisitos t√©cnicos serios para el hardware de la c√°mara.  El costo de la c√°mara, que satisface tales requisitos en la entrada: ~ 60-70 $ </p><br><p>  Por lo tanto, decid√≠ profundizar m√°s: hacer completamente mi firmware para c√°maras de cualquier proveedor.  Este enfoque reduce significativamente los requisitos de hardware de la c√°mara, ya que  la capa de la nube es un orden de magnitud m√°s eficientemente integrado con la aplicaci√≥n de video, y no hay grasa innecesaria en el firmware. </p><br><p>  Y lo que es importante, cuando se trabaja con la c√°mara a un nivel bajo, es posible usar hardware AES, que cifra los datos sin crear una carga adicional en una CPU de baja potencia. </p><br><p><img src="https://habrastorage.org/webt/za/4j/o6/za4jo6nkhpx1kgvusnadzmic5kc.jpeg"></p><br><p>  En ese momento, no ten√≠amos nada en absoluto.  Nada en absoluto </p><br><p>  Casi todos los vendedores no estaban listos para trabajar con nosotros a un nivel tan bajo.  No hay informaci√≥n sobre circuitos y componentes, no hay conjuntos de chips oficiales de SDK y documentaci√≥n de sensores. <br>  Tampoco hay soporte t√©cnico. </p><br><p>  Las respuestas a todas las preguntas ten√≠an que obtenerse mediante ingenier√≠a inversa: prueba y error.  Pero lo hicimos. </p><br><p>  Los primeros modelos de c√°maras en los que llenamos los baches fueron Xiaomi Yi Ants, Hikvision, Dahua, Spezvision, c√°maras D-Link y varias c√°maras chinas s√∫per baratas y sin nombre. </p><br><h1 id="tehnika">  T√©cnica </h1><br><p>  C√°maras basadas en el chipset Hisilicon 3518E.  Las caracter√≠sticas de hardware de las c√°maras son las siguientes: </p><br><table><thead><tr><th></th><th>  Xiaomi Yi Ants </th><th>  Noname </th></tr></thead><tbody><tr><td>  SoC </td><td>  Hisilicon 3518E </td><td>  Hisilicon 3518E </td></tr><tr><td>  RAM </td><td>  64MB </td><td>  64MB </td></tr><tr><td>  Flash </td><td>  16MB </td><td>  8MB </td></tr><tr><td>  Wifi </td><td>  mt7601 / bcm43143 </td><td>  - </td></tr><tr><td>  Sensor </td><td>  ov9732 (720p) </td><td>  ov9712 (720p) </td></tr><tr><td>  Ethernet </td><td>  - </td><td>  + </td></tr><tr><td>  MicroSD </td><td>  + </td><td>  + </td></tr><tr><td>  Micr√≥fono </td><td>  + </td><td>  + </td></tr><tr><td>  Orador </td><td>  + </td><td>  + </td></tr><tr><td>  IRLed </td><td>  + </td><td>  + </td></tr><tr><td>  IRCut </td><td>  + </td><td>  + </td></tr></tbody></table><br><p>  Comenzamos con ellos. </p><br><p>  Actualmente admitimos los conjuntos de chips Hisilicon 3516/3518, as√≠ como Ambarella S2L / S2LM.  El n√∫mero de modelos de c√°maras es decenas. </p><br><h1 id="sostav-proshivki">  Composici√≥n de firmware </h1><br><h2 id="uboot">  uboot </h2><br><p>  uboot es el gestor de arranque, despu√©s de encender la alimentaci√≥n, se inicia primero, inicializa el hardware y carga el kernel de Linux. </p><br><p>  El script de carga de la c√°mara es bastante trivial: </p><br><pre><code class="hljs lua">bootargs=mem=<span class="hljs-number"><span class="hljs-number">38</span></span>M console=ttyAMA0,<span class="hljs-number"><span class="hljs-number">115200</span></span> rootfstype=ramfs mtdparts=hi_sfc:<span class="hljs-number"><span class="hljs-number">256</span></span>K(boot),<span class="hljs-number"><span class="hljs-number">64</span></span>K(tech),<span class="hljs-number"><span class="hljs-number">4096</span></span>K(kernel),<span class="hljs-number"><span class="hljs-number">8192</span></span>K(app),-(<span class="hljs-built_in"><span class="hljs-built_in">config</span></span>) hw_type=<span class="hljs-number"><span class="hljs-number">101</span></span> bootcmd=sf probe <span class="hljs-number"><span class="hljs-number">0</span></span>; sf <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-number"><span class="hljs-number">0x82000000</span></span> <span class="hljs-number"><span class="hljs-number">0x50000</span></span> <span class="hljs-number"><span class="hljs-number">0x400000</span></span>; bootm <span class="hljs-number"><span class="hljs-number">0x82000000</span></span>; setenv bootargs $(bootargs) bkp=<span class="hljs-number"><span class="hljs-number">1</span></span>; sf <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> <span class="hljs-number"><span class="hljs-number">0x82000000</span></span> <span class="hljs-number"><span class="hljs-number">0x450000</span></span> <span class="hljs-number"><span class="hljs-number">0x400000</span></span>; bootm <span class="hljs-number"><span class="hljs-number">0x82000000</span></span></code> </pre> <br><p>  De las caracter√≠sticas, <code>bootm</code> se llama <code>bootm</code> , m√°s sobre eso m√°s adelante, cuando llegamos al subsistema de actualizaci√≥n. </p><br><p>  Presta atenci√≥n a la l√≠nea <code>mem=38M</code> .  S√≠, s√≠, esto no es un error tipogr√°fico: solo 38 megabytes de RAM est√°n disponibles para el kernel de Linux y todas las aplicaciones. </p><br><p>  Tambi√©n al lado de uboot hay un bloque especial llamado <code>reg_info</code> , que contiene un script de inicializaci√≥n DDR de bajo nivel y varios registros del sistema SoC.  El contenido de <code>reg_info</code> depende del modelo de la c√°mara, y si no es correcto, la c√°mara ni siquiera podr√° descargar uboot, pero se bloquear√° en la etapa inicial de carga. </p><br><p>  Al principio, cuando trabajamos sin el apoyo de los proveedores, simplemente copiamos este bloque del firmware original de la c√°mara. </p><br><h2 id="yadro-linux-i-rootfs">  El kernel de linux y rootfs </h2><br><p>  Las c√°maras usan el kernel de Linux, que es parte del chip SDK, por lo general, estos no son los kernel m√°s recientes de la rama 3.x, por lo que a menudo tenemos que encontrar que los controladores de hardware adicionales no son compatibles con el kernel utilizado, y tenemos que respaldarlos en el kernel c√°maras </p><br><p>  Otro problema es el tama√±o del n√∫cleo.  Cuando el tama√±o de FLASH es de solo 8 MB, entonces cada byte en la cuenta y nuestra tarea es deshabilitar cuidadosamente todas las funciones del n√∫cleo no utilizadas para reducir el tama√±o al m√≠nimo. </p><br><p>  Rootfs es un sistema de archivos b√°sico.  Incluye <code>busybox</code> , controladores del m√≥dulo wifi, un conjunto de bibliotecas de sistema est√°ndar, como <code>libld</code> y <code>libc</code> , as√≠ como nuestro software de desarrollo, que es responsable de la l√≥gica de control del LED, la gesti√≥n de la conexi√≥n de red y la actualizaci√≥n del firmware. </p><br><p>  El sistema de archivos ra√≠z est√° conectado al kernel como initramfs, y como resultado del ensamblaje, obtenemos un archivo <code>uImage</code> , que contiene tanto el kernel como el rootfs. </p><br><h2 id="video-application">  Aplicaci√≥n de video </h2><br><p>  La parte m√°s compleja y que consume m√°s recursos del firmware es una aplicaci√≥n que proporciona captura de audio y video, codificaci√≥n de video, ajusta los par√°metros de imagen, implementa an√°lisis de video, por ejemplo, detectores de movimiento o sonido, controla PTZ y es responsable de cambiar los modos diurno y nocturno. </p><br><p>  Una caracter√≠stica importante, incluso dir√≠a que es una caracter√≠stica clave: c√≥mo interact√∫a la aplicaci√≥n de video con el complemento de la nube. </p><br><p>  En las soluciones tradicionales 'proveedor de firmware + plug-in en la nube', que no pueden funcionar en hardware barato, el video dentro de la c√°mara se transmite utilizando el protocolo RTSP, y esto es una gran sobrecarga: copiar y transferir datos a trav√©s de sockets, syscalls superfluos. </p><br><p>  En este lugar, utilizamos el mecanismo de memoria compartida: el video no se copia ni se env√≠a a trav√©s del z√≥calo entre los componentes del software de la c√°mara, por lo tanto, de manera √≥ptima y cuidadosa, utilizando las modestas capacidades de hardware de la c√°mara. </p><br><p><img src="https://habrastorage.org/webt/ok/vj/v_/okvjv_mpgltsdfmz16snncfzn_u.png"></p><br><h2 id="podsistema-obnovleniya">  Actualizar subsistema </h2><br><p>  Un objeto de especial orgullo es el subsistema tolerante a fallas de las actualizaciones de firmware en l√≠nea. </p><br><p>  Explicar√© los problemas.  T√©cnicamente, una actualizaci√≥n de firmware no es una operaci√≥n at√≥mica, y si ocurre una falla de energ√≠a en el medio de la actualizaci√≥n, entonces habr√° una parte del nuevo firmware "no grabado" en la memoria flash.  Si no toma medidas especiales, la c√°mara se convertir√° en un "ladrillo", que debe llevarse a un centro de servicio. </p><br><p>  Hemos tratado este problema.  Incluso si la c√°mara est√° apagada en el momento de la actualizaci√≥n, descargar√° autom√°ticamente el firmware de la nube y restaurar√° la operaci√≥n sin intervenci√≥n del usuario. </p><br><p>  Analicemos la t√©cnica con m√°s detalle: </p><br><p>  El punto m√°s vulnerable es sobrescribir la partici√≥n con el kernel de Linux y el sistema de archivos ra√≠z.  Si uno de estos componentes resulta da√±ado, la c√°mara no arranca m√°s all√° del cargador de arranque uboot, que no sabe c√≥mo descargar firmware desde la nube. </p><br><p>  Por lo tanto, debemos asegurarnos de que la c√°mara tenga un kernel y rootfs en funcionamiento en cualquier momento durante el proceso de actualizaci√≥n.  Parece que la soluci√≥n m√°s simple ser√≠a almacenar permanentemente en la memoria flash dos copias del kernel con rootfs y, en caso de da√±o al kernel principal, cargarlo desde la copia de seguridad. </p><br><p>  Una buena soluci√≥n: sin embargo, el kernel con rootfs ocupa aproximadamente 3.5 MB y para la copia de seguridad permanente debe asignar 3.5 MB.  En las c√°maras m√°s baratas, simplemente no hay tanto espacio libre para el kernel de respaldo. </p><br><p>  Por lo tanto, para el kernel de respaldo durante la actualizaci√≥n del firmware, utilizamos la partici√≥n de la aplicaci√≥n. <br>  Y para seleccionar la partici√≥n necesaria con el n√∫cleo, se <code>bootm</code> dos <code>bootm</code> de arranque en uboot: al principio intentamos cargar el n√∫cleo principal y, si est√° da√±ado, la copia de seguridad. </p><br><p><img src="https://habrastorage.org/webt/fa/bm/q6/fabmq6les5wywbkwzbabwavokp4.png"></p><br><p>  Esto asegura que en cualquier momento la c√°mara tendr√° el kernel correcto con rootfs, y podr√° arrancar y restaurar el firmware. </p><br><h2 id="cicd-sistema-sborki-i-deploya-proshivok">  Sistema CI / CD para ensamblar y desplegar firmware </h2><br><p>  Para construir el firmware, utilizamos gitlab CI, en el cual el firmware para todos los modelos de c√°maras compatibles se recopila autom√°ticamente, despu√©s de que se construye el firmware, se implementan autom√°ticamente en el servicio de actualizaci√≥n de software de la c√°mara. </p><br><p><img src="https://habrastorage.org/webt/4m/tv/aq/4mtvaqeddenckdz7bgpcvlkbi6g.png"></p><br><p>  Desde el servicio, las actualizaciones de firmware se entregan a las c√°maras de prueba de nuestro control de calidad, y al finalizar todas las etapas de prueba, a las c√°maras de los usuarios. </p><br><h2 id="informacionnaya-bezopasnost">  Seguridad de la informaci√≥n </h2><br><p>  No es ning√∫n secreto que en nuestro tiempo, la seguridad de la informaci√≥n es el aspecto m√°s importante de cualquier dispositivo IoT, incluidas las c√°maras.  Las botnets como Mirai caminan por Internet, afectando a millones de c√°maras con firmware est√°ndar de los proveedores.  Con el debido respeto a los vendedores de c√°maras, no puedo dejar de notar que el firmware est√°ndar contiene muchas funcionalidades que no son necesarias para trabajar con la nube, pero contiene muchas vulnerabilidades que usan las botnets. </p><br><p>  Por lo tanto, toda la funcionalidad no utilizada en nuestro firmware est√° desactivada, todos los puertos tcp / udp est√°n cerrados y, al actualizar el firmware, se verifica la firma digital del software. </p><br><p>  Y adem√°s de esto, el firmware se prueba regularmente en el laboratorio de seguridad de la informaci√≥n. </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>  Ahora nuestro firmware se usa activamente en proyectos de videovigilancia.  Quiz√°s el m√°s ambicioso de ellos es la transmisi√≥n de la votaci√≥n el d√≠a de la elecci√≥n del Presidente de la Federaci√≥n de Rusia. <br>  El proyecto involucr√≥ m√°s de 70 mil c√°maras con nuestro firmware, que se instalaron en los colegios electorales de nuestro pa√≠s. </p><br><p>  Habiendo resuelto una serie de tareas complejas, y a veces incluso pr√°cticamente imposibles en ese momento, por supuesto, recibimos una gran satisfacci√≥n como ingenieros, pero adem√°s de esto, ahorramos millones de d√≥lares en la compra de c√°maras.  Y en este caso, los ahorros no son solo palabras y c√°lculos te√≥ricos, sino los resultados de una licitaci√≥n ya realizada para la compra de equipos.  En consecuencia, si hablamos de videovigilancia en la nube: hay dos enfoques: confiar estrat√©gicamente en la experiencia y el desarrollo de bajo nivel, obtener grandes ahorros en equipos en la salida o usar equipos caros, que, si observa las caracter√≠sticas del consumidor, pr√°cticamente no es diferente de uno similar barato. </p><br><p>  ¬øPor qu√© es estrat√©gicamente importante decidir sobre un enfoque del m√©todo de integraci√≥n lo antes posible?  Al desarrollar un complemento, los desarrolladores utilizan ciertas tecnolog√≠as (bibliotecas, protocolos, est√°ndares).  Y si se selecciona un conjunto de tecnolog√≠as solo para equipos costosos, en el futuro un intento de cambiar a c√°maras baratas con una alta probabilidad al menos llevar√° un tiempo incre√≠blemente largo o incluso fallar√° y se producir√° un retorno a equipos costosos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415841/">https://habr.com/ru/post/es415841/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415831/index.html">Los nuevos diez mandamientos de Roskosmos</a></li>
<li><a href="../es415833/index.html">Ventajas y desventajas de Xamarin</a></li>
<li><a href="../es415835/index.html">Escribimos GUI a 1C RAC, o nuevamente sobre Tcl / Tk</a></li>
<li><a href="../es415837/index.html">Una peque√±a descripci√≥n de linternas solares</a></li>
<li><a href="../es415839/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 259 (25 de junio - 1 de julio)</a></li>
<li><a href="../es415843/index.html">Experimento cient√≠fico de 315 a√±os</a></li>
<li><a href="../es415845/index.html">Preg√∫ntele a Ethan: ¬øC√≥mo sabemos la edad del sistema solar?</a></li>
<li><a href="../es415847/index.html">Dispositivo de audio de prop√≥sito especial: Dictograf√≠a: desde el taller y la √≥pera hasta la primera obra maestra t√©cnica de escuchas telef√≥nicas de 1907</a></li>
<li><a href="../es415851/index.html">Emulador Red Omega PS2</a></li>
<li><a href="../es415853/index.html">Misi√≥n Hayabusa 2: los asteroides revelan la historia del sistema solar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>