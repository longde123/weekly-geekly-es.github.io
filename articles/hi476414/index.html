<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзЫЁЯП╗ ЁЯСитАНЁЯПл ЁЯОЮя╕П рд▓рд┐рдирдХреНрд╕ рдбрд┐рд╕реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдкрд╣рдЪрд╛рдиреЗрдВ ЁЯСитАНЁЯПн ЁЯХЧ тШоя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЯреАрдПрд▓; рдбреАрдЖрд░ : рд▓реЗрдЦ рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рд╡рд╛рд▓реЗ рд▓рд┐рдирдХреНрд╕-рдЖрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ, рддреЗрдЬ рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддрд╛ рд╣реИ,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд▓рд┐рдирдХреНрд╕ рдбрд┐рд╕реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдкрд╣рдЪрд╛рдиреЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476414/">  <b>рдЯреАрдПрд▓; рдбреАрдЖрд░</b> : рд▓реЗрдЦ рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рд╡рд╛рд▓реЗ рд▓рд┐рдирдХреНрд╕-рдЖрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ, рддреЗрдЬ рдФрд░ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рдмрдбрд╝реЗ рдпрд╛ рдЕрд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд▓рдЧрд╛рддрд╛рд░ рд▓реЛрдб рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдУрд╡рд░рд╣реЗрдб рдХрд░рдиреЗ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреА рднреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкреАрд╕реА, рдИрдПрдордПрдорд╕реА рдкрд░ рдПрд╕рдПрд╕рдбреА рдФрд░ рдПрдХрд▓-рдмреЛрд░реНрдб рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдлреНрд▓реИрд╢ рдореЗрдореЛрд░реА рдХреЗ рд▓рд┐рдП рд╕рдЪ рд╣реИред <br>  рд▓реЗрдЦ рдХреЗ рд▓реЗрдЦрди рдХреЗ рджреМрд░рд╛рди, рдпрд╣ рдкрд╛рдпрд╛ рдЧрдпрд╛ рдХрд┐ BTRFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдХрдИ рдХрд┐рд▓реЛрдмрд╛рдЗрдЯ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рд╕реЗ 3 рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдбреЗрдЯрд╛ рдбрд┐рд╕реНрдХ рдкрд░ рд▓рд┐рдЦрдиреЗ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред <br><br><h3>  рдкрд░рд┐рдЪрдп </h3> "рдЖрдзреБрдирд┐рдХ рдПрд╕рдПрд╕рдбреА рдкрд░ рдУрд╣, рдмрдХрд╡рд╛рд╕, рдореЗрдореЛрд░реА рд╕реЗрд▓ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрдпреЛрдЧ рдХреЗ рджрд░реНрдЬрдиреЛрдВ рд╡рд░реНрд╖реЛрдВ рдХреЗ рдмрд╛рдж рдСрдкрд░реЗрд╢рди рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛ рдЬрд╛рдПрдВрдЧреЗ, рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВ, рдФрд░ рдЗрд╕рд╕реЗ рднреА рдЕрдзрд┐рдХ рд╕реНрд╡реИрдк, рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдФрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкреНрд░реЛрдлрд╛рдЗрд▓ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рдПрдЪрдбреАрдбреА рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ" - рдПрд╕рдПрд╕рдбреА рдХреА рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рд╡рд╛рд▓ рдХрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрддреНрддрд░ рдЧрд╛рд░рдВрдЯреА TB150 <abbr title="рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдЯреЗрд░рд╛рдмрд╛рдЗрдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬрд┐рд╕рдХреЗ рдКрдкрд░ рд╡рд╛рд░рдВрдЯреА рдЦреЛ рдЬрд╛рддреА рд╣реИ, рднрд▓реЗ рд╣реА рдбрд┐рд╕реНрдХ рд╕рдордп рдореЗрдВ рд╡рд╛рд░рдВрдЯреА рдЕрд╡рдзрд┐ рдХреЛ рди рдЫреЛрдбрд╝реЗред">рдЯреАрдмреАрдбрдмреНрд▓реНрдпреВ рдХреЗ рд╕рд╛рде</abbr> ред  рдпрджрд┐ рдЖрдк рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рддрдирд╛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦ тАЛтАЛрд╕рдХрддрд╛ рд╣реИ, рддреЛ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рддрд┐ рджрд┐рди 10-20 рдЬреАрдмреА рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдмрдбрд╝рд╛ рдЖрдВрдХрдбрд╝рд╛ рд╣реИ, рдЕрдзрд┐рдХрддрдо 40 рдЬреАрдмреА рд╣реЛрдиреЗ рджреЗрдВ, рдмрд╣реБрдд рдЕрдзрд┐рдХред  рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рд╕рд╛рде, рдЙрддреНрддрд░ рдХрд╛рдлреА рдЙрдЪрд┐рдд рд╣реИ - рдУрд╡рд░рд░рд╛рдЗрдЯрд┐рдВрдЧ рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП <i>рдЧрд╛рд░рдВрдЯреАрдХреГрдд</i> рдорд╛рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ 10 рд╕рд╛рд▓ рд▓рдЧрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдкреНрд░рддрд┐рджрд┐рди 40 рдЬреАрдмреА рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдпрд╛ рдЧрдпрд╛ рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред <br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, 6 рд╕рд╛рд▓ рд╕реЗ рдореИрдВ рддреАрд╕рд░реЗ рдПрд╕рдПрд╕рдбреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реВрдВ: рдкрд╣рд▓реЗ рдПрдХ рдХреЗ рдкрд╛рд╕ рдХрдВрдЯреНрд░реЛрд▓рд░ рдСрдл рдСрд░реНрдбрд░ рдерд╛, рдФрд░ рджреВрд╕рд░реЗ рдиреЗ рджрд┐рди рдореЗрдВ рдХрдИ рдмрд╛рд░ рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд░рдЦрд░рдЦрд╛рд╡ рдореЗрдВ 30-рд╕реЗрдХрдВрдб рдХреА рджреЗрд░реА рд╣реБрдИред <br><br>  рдирдП SSD рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ 7 рдорд╣реАрдиреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдбрд┐рд╕реНрдХ рдЦреБрдж SMART рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рддреА рд╣реИред <br>  <b>19.7 рдЯреА.рдмреА.</b> <br>  рдХреЗрд╡рд▓ 7 рдорд╣реАрдиреЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рдЧрд╛рд░рдВрдЯреАрдХреГрдд рд░рд╛рд╢рд┐ рдХрд╛ 13% рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдЗрд╕реЗ рд╡рд┐рднрд╛рдЬрди рдХреЛ рд╕рдВрд░реЗрдЦрд┐рдд рдХрд░рдиреЗ рдФрд░ рдПрдлрдПрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдореИрдВ рд▓рдЧрднрдЧ рд╕реНрд╡реИрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реВрдВ, рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдбрд┐рд╕реНрдХ рдПрдЪрдбреАрдбреА рдкрд░ рд╕реНрдерд┐рдд рд╣реИрдВ! <a name="habracut"></a><br>  рдпрд╣ рдПрдХ рдЕрд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдЙрдЪреНрдЪ рдЖрдВрдХрдбрд╝рд╛ рд╣реИ; рдРрд╕реА рдЧрддрд┐ рдкрд░, 5 рд╕рд╛рд▓ рдХреА рдбреНрд░рд╛рдЗрд╡ рд╡рд╛рд░рдВрдЯреА рдЕрд╡рдзрд┐ рдкреВрд░реА рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЯреАрдмреАрдбрдмреНрд▓реНрдпреВ рд╡рд╛рд░рдВрдЯреА рдХреЛ рдкрд╛рд░ рдХрд░ рдЬрд╛рдПрдЧрд╛ред  рдФрд░ рдореЗрд░рд╛ рдХрдВрдкреНрдпреВрдЯрд░ рдкреНрд░рддрд┐ рджрд┐рди 93 рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ рдирд╣реАрдВ рд▓рд┐рдЦ рд╕рдХрддрд╛ рд╣реИ!  рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдВрдЪрдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ 10 рдорд┐рдирдЯ рдореЗрдВ рдбрд┐рд╕реНрдХ рдкрд░ рдХрд┐рддрдирд╛ рдбреЗрдЯрд╛ рд▓рд┐рдЦрд╛ рд╣реИ ... <blockquote><code>Total: <br> Writes Queued: 24,712, 2,237MiB <br> <b>Writes Completed: 25,507, 2,237MiB</b> <br> Write Merges: 58, 5,472KiB</code> </blockquote>  2.2 GiB, рд╡рд╛рд╣! <br><br><h3>  рдбрд┐рд╕реНрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рд▓рд┐рдЦреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рдирд╛ </h3>  рдпрджрд┐ рдЖрдкрдХрд╛ рдбрд┐рд╡рд╛рдЗрд╕ <abbr title="рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реЗ рд╕реНрд╡-рдирд┐рдЧрд░рд╛рдиреА, тАЛтАЛрд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рд░рд┐рдкреЛрд░реНрдЯрд┐рдВрдЧ рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА">SMART</abbr> (SSD, EMMC, рдХреБрдЫ рдЗрдВрдбрд╕реНрдЯреНрд░рд┐рдпрд▓ рдорд╛рдЗрдХреНрд░реЛрдПрд╕рдбреА) рдХреЛ рд╕рдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ <code>skdump</code> , <code>skdump</code> рдпрд╛ <code>mmc</code> (mmc-utils рд╕реЗ) рдбреНрд░рд╛рдЗрд╡ <code>smartctl</code> рдбреЗрдЯрд╛ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">Smartctl рдирдореВрдирд╛ рдЖрдЙрдЯрдкреБрдЯ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">$ sudo smartctl -a /dev/sdb smartctl 7.0 2019-03-31 r4903 [x86_64-linux-5.3.11-200.fc30.x86_64] (local build) Copyright (C) 2002-18, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Model Family: Samsung based SSDs Device Model: Samsung SSD 860 EVO mSATA 250GB Serial Number: S41MNC0KA13477K LU WWN Device Id: 5 002538 e700fa64b Firmware Version: RVT41B6Q User Capacity: 250 059 350 016 bytes [250 GB] Sector Size: 512 bytes logical/physical Rotation Rate: Solid State Device Form Factor: mSATA Device is: In smartctl database [for details use: -P show] ATA Version is: ACS-4 T13/BSR INCITS 529 revision 5 SATA Version is: SATA 3.1, 6.0 Gb/s (current: 3.0 Gb/s) Local Time is: Tue Nov 19 01:48:50 2019 MSK SMART support is: Available - device has SMART capability. SMART support is: Enabled === START OF READ SMART DATA SECTION === SMART overall-health self-assessment test result: PASSED General SMART Values: Offline data collection status: (0x00) Offline data collection activity was never started. Auto Offline Data Collection: Disabled. Self-test execution status: ( 0) The previous self-test routine completed without error or no self-test has ever been run. Total time to complete Offline data collection: ( 0) seconds. Offline data collection capabilities: (0x53) SMART execute Offline immediate. Auto Offline data collection on/off support. Suspend Offline collection upon new command. No Offline surface scan supported. Self-test supported. No Conveyance Self-test supported. Selective Self-test supported. SMART capabilities: (0x0003) Saves SMART data before entering power-saving mode. Supports SMART auto save timer. Error logging capability: (0x01) Error logging supported. General Purpose Logging supported. Short self-test routine recommended polling time: ( 2) minutes. Extended self-test routine recommended polling time: ( 85) minutes. SCT capabilities: (0x003d) SCT Status supported. SCT Error Recovery Control supported. SCT Feature Control supported. SCT Data Table supported. SMART Attributes Data Structure revision number: 1 Vendor Specific SMART Attributes with Thresholds: ID# ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 5 Reallocated_Sector_Ct 0x0033 100 100 010 Pre-fail Always - 0 9 Power_On_Hours 0x0032 098 098 000 Old_age Always - 5171 12 Power_Cycle_Count 0x0032 099 099 000 Old_age Always - 459 177 Wear_Leveling_Count 0x0013 096 096 000 Pre-fail Always - 62 179 Used_Rsvd_Blk_Cnt_Tot 0x0013 100 100 010 Pre-fail Always - 0 181 Program_Fail_Cnt_Total 0x0032 100 100 010 Old_age Always - 0 182 Erase_Fail_Count_Total 0x0032 100 100 010 Old_age Always - 0 183 Runtime_Bad_Block 0x0013 100 100 010 Pre-fail Always - 0 187 Uncorrectable_Error_Cnt 0x0032 100 100 000 Old_age Always - 0 190 Airflow_Temperature_Cel 0x0032 058 039 000 Old_age Always - 42 195 ECC_Error_Rate 0x001a 200 200 000 Old_age Always - 0 199 CRC_Error_Count 0x003e 100 100 000 Old_age Always - 0 235 POR_Recovery_Count 0x0012 099 099 000 Old_age Always - 29 241 Total_LBAs_Written 0x0032 099 099 000 Old_age Always - 38615215765 SMART Error Log Version: 1 No Errors Logged SMART Self-test log structure revision number 1 No self-tests have been logged. [To run self-tests, use: smartctl -t] SMART Selective self-test log data structure revision number 1 SPAN MIN_LBA MAX_LBA CURRENT_TEST_STATUS 1 0 0 Not_testing 2 0 0 Not_testing 3 0 0 Not_testing 4 0 0 Not_testing 5 0 0 Not_testing Selective self-test flags (0x0): After scanning selected spans, do NOT read-scan remainder of disk. If Selective self-test is pending on power-up, resume after 0 minute delay.</code> </pre> </div></div><br>  рдореЗрд░рд╛ SSD рдкреИрд░рд╛рдореАрдЯрд░ 241 Total_LBAs_Written рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХреЛ рддрд╛рд░реНрдХрд┐рдХ рдЗрдХрд╛рдЗрдпреЛрдВ (LBA) рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдирд╣реАрдВред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рддрд╛рд░реНрдХрд┐рдХ рдмреНрд▓реЙрдХ рдХрд╛ рдЖрдХрд╛рд░ 512 рдмрд╛рдЗрдЯреНрд╕ рд╣реИ (рдЗрд╕реЗ рд╕реНрдорд╛рд░реНрдЯрдХреНрдЯреЗрд▓ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕реЗрдХреНрдЯрд░ рд╕рд╛рдЗрдЬ рдореЗрдВ)ред  рдмрд╛рдЗрдЯреНрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдорд╛рди 512 рд╕реЗ рдЧреБрдгрд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><pre> <code class="plaintext hljs">38615215765 ├Ч 512 ├╖ 1000 ├╖ 1000 ├╖ 1000 ├╖ 1000 = 19,770  38615215765 ├Ч 512 ├╖ 1024 ├╖ 1024 ├╖ 1024 ├╖ 1024 = 17,981 </code> </pre> <br><br>  рдореЗрд░реЗ SSD рдкрд░ <code>skdump</code> рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреБрд▓ рдЕрдкрдиреЗ рддрд░реАрдХреЗ рд╕реЗ Total_LBAs_Written рдХреЗ рдореВрд▓реНрдп рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рд╕реЗ <code>1296217.695 TB</code> рдЖрдЙрдЯрдкреБрдЯ <code>1296217.695 TB</code> , рдЬреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЧрд▓рдд рд╣реИред <br><br>  рдбрд┐рд╡рд╛рдЗрд╕ рд╕реНрддрд░ рдкрд░ рджрд░реНрдЬ рдХреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдорд╛рддреНрд░рд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <code>blktrace</code> рдкреИрдХреЗрдЬ рд╕реЗ <code>btrace</code> рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреА рдкреВрд░реА рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рдЖрдБрдХрдбрд╝реЗ рдФрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рдереНрд░реЗрдб (рдЧреБрдард▓реА рд╕рд╣рд┐рдд) рджреЛрдиреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдиреЗ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреАред <br><br>  10 рдорд┐рдирдЯ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ, рдЬрд╣рд╛рдБ / dev / sdb рдЖрдкрдХреА рдбрд┐рд╕реНрдХ рд╣реИ: <br><pre> <code class="plaintext hljs"># btrace -w 600 -a write /dev/sdb</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрдорд╛рдВрдб рдЖрдЙрдЯрдкреБрдЯ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">тАж 8,16 0 3253 50.085433192 0 C WS 125424240 + 64 [0] 8,16 0 3254 50.085550024 0 C WS 193577744 + 64 [0] 8,16 0 3255 50.085685165 0 C WS 197246976 + 64 [0] 8,16 0 3256 50.085936852 0 C WS 125736264 + 128 [0] 8,16 0 3257 50.086060780 0 C WS 96261752 + 64 [0] 8,16 0 3258 50.086195031 0 C WS 94948640 + 64 [0] 8,16 0 3259 50.086327355 0 C WS 124656144 + 64 [0] 8,16 0 3260 50.086843733 15368 C WSM 310218496 + 32 [0] 8,16 0 3261 50.086975238 753 A WSM 310218368 + 32 &lt;- (8,20) 291339904 8,16 0 3262 50.086975560 753 Q WSM 310218368 + 32 [dmcrypt_write/2] 8,16 0 3263 50.086977345 753 G WSM 310218368 + 32 [dmcrypt_write/2] 8,16 0 3264 50.086978072 753 I WSM 310218368 + 32 [dmcrypt_write/2] 8,16 0 3265 50.086979159 753 D WSM 310218368 + 32 [dmcrypt_write/2] 8,16 0 3266 50.087055685 0 C WSM 310218368 + 32 [0] 8,16 0 3267 50.087060168 753 A WSM 310218592 + 160 &lt;- (8,20) 291340128 8,16 0 3268 50.087060367 753 Q WSM 310218592 + 160 [dmcrypt_write/2] 8,16 0 3269 50.087061242 753 G WSM 310218592 + 160 [dmcrypt_write/2] 8,16 0 3270 50.087061698 753 I WSM 310218592 + 160 [dmcrypt_write/2] 8,16 0 3271 50.087062361 753 D WSM 310218592 + 160 [dmcrypt_write/2] 8,16 0 3272 50.087386179 0 C WSM 310218592 + 160 [0] 8,16 0 3273 50.087436417 15368 A FWS 0 + 0 &lt;- (253,1) 0 8,16 0 3274 50.087437471 15368 Q FWS [LS Thread] 8,16 0 3275 50.087440862 15368 G FWS [LS Thread] 8,16 0 3276 50.088300047 0 C WS 0 [0] 8,16 0 3277 50.088470917 753 A WFSM 18882688 + 8 &lt;- (8,20) 4224 8,16 0 3278 50.088471091 753 Q WFSM 18882688 + 8 [dmcrypt_write/2] 8,16 0 3279 50.088471688 753 G WFSM 18882688 + 8 [dmcrypt_write/2] 8,16 0 3280 50.088474334 32254 D WSM 18882688 + 8 [kworker/0:2H] 8,16 0 3281 50.088515572 0 C WSM 18882688 + 8 [0] 8,16 0 3282 50.089229069 0 C WSM 18882688 [0] CPU0 (8,16): Reads Queued: 0, 0KiB Writes Queued: 345, 25,932KiB Read Dispatches: 0, 0KiB Write Dispatches: 331, 25,788KiB Reads Requeued: 0 Writes Requeued: 0 Reads Completed: 0, 0KiB Writes Completed: 1,597, 117,112KiB Read Merges: 0, 0KiB Write Merges: 1, 16KiB Read depth: 0 Write depth: 177 IO unplugs: 0 Timer unplugs: 0 CPU1 (8,16): Reads Queued: 0, 0KiB Writes Queued: 502, 39,948KiB Read Dispatches: 0, 0KiB Write Dispatches: 495, 40,076KiB Reads Requeued: 0 Writes Requeued: 0 Reads Completed: 0, 0KiB Writes Completed: 0, 0KiB Read Merges: 0, 0KiB Write Merges: 0, 0KiB Read depth: 0 Write depth: 177 IO unplugs: 0 Timer unplugs: 0 CPU2 (8,16): Reads Queued: 0, 0KiB Writes Queued: 297, 26,800KiB Read Dispatches: 0, 0KiB Write Dispatches: 287, 26,800KiB Reads Requeued: 0 Writes Requeued: 0 Reads Completed: 0, 0KiB Writes Completed: 0, 0KiB Read Merges: 0, 0KiB Write Merges: 0, 0KiB Read depth: 0 Write depth: 177 IO unplugs: 0 Timer unplugs: 0 CPU3 (8,16): Reads Queued: 0, 0KiB Writes Queued: 418, 24,432KiB Read Dispatches: 0, 0KiB Write Dispatches: 408, 24,448KiB Reads Requeued: 0 Writes Requeued: 0 Reads Completed: 0, 0KiB Writes Completed: 0, 0KiB Read Merges: 0, 0KiB Write Merges: 2, 272KiB Read depth: 0 Write depth: 177 IO unplugs: 0 Timer unplugs: 0 Total (8,16): Reads Queued: 0, 0KiB Writes Queued: 1,562, 117,112KiB Read Dispatches: 0, 0KiB Write Dispatches: 1,521, 117,112KiB Reads Requeued: 0 Writes Requeued: 0 Reads Completed: 0, 0KiB Writes Completed: 1,597, 117,112KiB Read Merges: 0, 0KiB Write Merges: 3, 288KiB IO unplugs: 0 Timer unplugs: 0 Throughput (R/W): 0KiB/s / 2,338KiB/s Events (8,16): 9,287 entries Skips: 0 forward (0 - 0.0%)</code> </pre> </div></div><br>  <code>btrace</code> рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдорд╛рддреНрд░рд╛ рдХреЛ рджреЗрдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдордЭрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд░рд┐рдХреЙрд░реНрдб рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br><h3>  рдбреНрд░рд╛рдЗрд╡ рдкрд░ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрдХреНрд░рдореЛрдВ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ </h3>  <code>iotop</code> рдЙрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рджрд┐рдЦрд╛рдПрдЧрд╛ рдЬреЛ рдбрд┐рд╕реНрдХ рдФрд░ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВред <br>  рд╕рдмрд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЖрдЙрдЯрдкреБрдЯ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><pre> <code class="plaintext hljs"># iotop -obPat</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЖрдЙрдЯрдкреБрдЯ рдЙрджрд╛рд╣рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">02:55:47 Total DISK READ : 0.00 B/s | Total DISK WRITE : 30.65 K/s 02:55:47 Actual DISK READ: 0.00 B/s | Actual DISK WRITE: 0.00 B/s TIME PID PRIO USER DISK READ DISK WRITE SWAPIN IO COMMAND b'02:55:47 753 be/4 root 0.00 B 0.00 B 0.00 % 0.04 % [dmcrypt_write/2]' b'02:55:47 788 be/4 root 72.00 K 18.27 M 0.00 % 0.02 % [btrfs-transacti]' b'02:55:47 15057 be/4 valdikss 216.00 K 283.05 M 0.00 % 0.01 % firefox' b'02:55:47 1588 ?dif root 0.00 B 0.00 B 0.00 % 0.00 % Xorg -nolisten tcp -auth /var/run/sddm/{398f030f-9667-4dff-b371-81eaae48dfdf} -background none -noreset -displayfd 18 -seat seat0 vt1' b'02:55:47 15692 be/4 valdikss 988.00 K 9.41 M 0.00 % 0.00 % python3 /usr/bin/gajim' b'02:55:47 15730 ?dif valdikss 9.07 M 0.00 B 0.00 % 0.00 % telegram-desktop --' b'02:55:47 2174 ?dif valdikss 1840.00 K 2.47 M 0.00 % 0.00 % yakuake' b'02:55:47 19827 be/4 root 16.00 K 896.00 K 0.00 % 0.00 % [kworker/u16:7-events_unbound]' b'02:55:47 19074 be/4 root 16.00 K 480.00 K 0.00 % 0.00 % [kworker/u16:4-btrfs-endio-write]' b'02:55:47 19006 be/4 root 16.00 K 1872.00 K 0.00 % 0.00 % [kworker/u16:1-events_unbound]' b'02:55:47 1429 be/4 root 484.00 K 0.00 B 0.00 % 0.00 % accounts-daemon' b'02:55:47 15820 be/4 valdikss 312.00 K 0.00 B 0.00 % 0.00 % firefox -contentproc -childID 6 -isForBrowser -prefsLen 7894 -prefMapSize 223880 -parentBuildID 20191022164834 -greomni /usr/lib64/firefox/omni.ja -appomni /usr/lib64/firefox/browser/omni.ja -appdir /usr/lib64/firefox/browser 15057 tab' b'02:55:47 2125 ?dif valdikss 0.00 B 92.00 K 0.00 % 0.00 % plasmashell' b'02:55:47 1268 be/3 root 0.00 B 4.00 K 0.00 % 0.00 % auditd' b'02:55:47 1414 be/4 root 0.00 B 4.00 K 0.00 % 0.00 % sssd_nss --uid 0 --gid 0 --logger=files' b'02:55:47 15238 be/4 valdikss 0.00 B 4.00 K 0.00 % 0.00 % thunderbird' b'02:55:47 18605 be/4 root 0.00 B 3.19 M 0.00 % 0.00 % [kworker/u16:0-btrfs-endio-write]' b'02:55:47 18867 be/4 root 0.00 B 96.00 K 0.00 % 0.00 % [kworker/u16:5-btrfs-endio-meta]' b'02:55:47 19070 be/4 root 0.00 B 160.00 K 0.00 % 0.00 % [kworker/u16:2-btrfs-freespace-write]' b'02:55:47 19645 be/4 root 0.00 B 2.17 M 0.00 % 0.00 % [kworker/u16:3-events_unbound]' b'02:55:47 19982 be/4 root 0.00 B 496.00 K 0.00 % 0.00 % [kworker/u16:6-btrfs-endio-write]'</code> </pre> </div></div><br><br>  рдлрд╝рд╛рдпрд░рдлрд╝реЙрдХреНрд╕ рдЖрдкрдХреА рдЖрдВрдЦ рдХреЛ рдкрдХрдбрд╝рддрд╛ рд╣реИ, рдХреБрдЫ рдорд┐рдирдЯ рдХреЗ iotop рдореЗрдВ 283 рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рджрд░реНрдЬ рдХрд░рддрд╛ рд╣реИред <br><br><h3>  рджрд░реНрдЬ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдлрд╛рдЗрд▓реЛрдВ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ </h3>  рдбрд┐рд╕реНрдХ рдХреЛ рд░реЗрдк рдХрд░рдиреЗ рд╡рд╛рд▓реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЕрдЪреНрдЫреА рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рднреА рдмреЗрд╣рддрд░ рд╣реИрдВред <br><br>  рд╣рдо рдкреНрд░реЛрдЧреНрд░рд╛рдо <code>fatrace</code> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред <br><pre> <code class="plaintext hljs"># fatrace -f W</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЖрдЙрдЯрдкреБрдЯ рдЙрджрд╛рд╣рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">firefox(15057): CW /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite-wal firefox(15057): CW /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): CW /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/usage-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/usage firefox(15057): CW /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/usage firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite-wal firefox(15057): CW /home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/https+++habr.com/ls/data.sqlite-journal firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite firefox(15057): W /home/valdikss/.mozilla/firefox/xyf4vqh2.default/webappsstore.sqlite</code> </pre> </div></div><br><br>  Inotify рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлрд╝рд╛рдЗрд▓реЛрдВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рддрдереНрдп рдХреА рдХрд╛рдлреА рд╕рд░рд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдХрд╛рд░рдг рджрд░реНрдЬ рдЖрдВрдХрдбрд╝реЛрдВ рдХреА рдорд╛рддреНрд░рд╛ рдирд╣реАрдВ рджрд┐рдЦрд╛ рдкрд╛ рд░рд╣рд╛ рд╣реИред <br><br>  рдпрд╣ рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЬрдм рдореИрдВ рдЗрд╕реЗ рд▓рд┐рдЦ рд░рд╣рд╛ рд╣реВрдВ, рддреЛ рд╣реЗрдмрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рд╕реНрдерд╛рдиреАрдп рднрдВрдбрд╛рд░рдг рдореЗрдВ рдореЗрд░реЗ рд▓реЗрдЦ рдХреЛ рдХреИрд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЧреНрд░реБрдк рд╕реНрдкреАрдб рдбрд╛рдпрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди, рдЬреЛ рдХрд┐ рдлреЗрдЯреНрд░реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЦреЛрдЬрд╛ рдЧрдпрд╛ рдерд╛, рд╣рд░ 30 рд╕реЗрдХрдВрдб рдореЗрдВ рдЕрдкрдирд╛ рдбреЗрдЯрд╛ рдкрдврд╝рддрд╛ рд╣реИред  рдпрд╣ рдкрдврд╝рддрд╛ рд╣реИ, рдирд╣реАрдВ рд▓рд┐рдЦрддрд╛ рд╣реИ: рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рдордиреЗ рд╕реНрдерд┐рдд <b>рд╕реАрдбрдмреНрд▓реНрдпреВ</b> рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЦреЛрд▓реА рдЧрдИ рд╣реИ, рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рддреЗ рд╕рдордп рдпрджрд┐ рдпрд╣ рдЕрдиреБрдкрд▓рдмреНрдз рд╣реИ (рдУрдкрд░рд╛рдбрдмреНрд▓реВ (O_RDWR | O_CREAT рдЭрдВрдбреЗ рдХреЗ рд╕рд╛рде) рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдордд рдХрд╣реЛ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреМрди рд╕реА рдлрд╝рд╛рдЗрд▓ рд▓рд┐рдЦреА рдЧрдИ рдереА рдХреЛрдИ рднреА рдЬрд╛рдирдХрд╛рд░реАред <br><br>  рдмрд╕ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде рд╕реНрдЯреНрд░реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ: <br><pre> <code class="plaintext hljs">strace -yy -e trace=open,openat,close,write -f -p 15057 2&gt;&amp;1 | grep extension</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдЯреАрдо рдЖрдЙрдЯрдкреБрдЯ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[pid 20352] openat(AT_FDCWD, "/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite", O_RDWR|O_CREAT|O_CLOEXEC, 0644) = 153&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt; [pid 20352] read(153&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt;, "SQLite format 3\0\20\0\2\2\0@ \0\0\0d\0\0\0\23"..., 100) = 100 [pid 20352] read(153&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt;, "SQLite format 3\0\20\0\2\2\0@ \0\0\0d\0\0\0\23"..., 4096) = 4096 [pid 20352] openat(AT_FDCWD, "/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite-wal", O_RDWR|O_CREAT|O_CLOEXEC, 0644) = 166&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite-wal&gt; тАж [pid 20352] read(54&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt;, "\0\0\0\r\4\30\4\36\4\35\4\35\4\36\4-\0 \4\20\4!\4'\4\1\4\"\0250 &amp;"..., 4096) = 4096 [pid 20352] read(54&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt;, "\0\0\0\0\1\36P\t\226\250\4\0O\245\320\16:\"\16.\27\0r\245\306&gt;\246\1\t\1q\370"..., 4096) = 4096 [pid 20352] close(77&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite-wal&gt;) = 0 [pid 20352] close(54&lt;/home/valdikss/.mozilla/firefox/xyf4vqh2.default/storage/default/moz-extension+++e5c304fb-af40-498a-9ba8-47eb0416e933^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.sqlite&gt;) = 0</code> </pre> </div></div><br>  <code>write()</code> рд▓рд┐рдП рдПрдХ рднреА рдХреЙрд▓ рдирд╣реАрдВ рд╣реИ <code>write()</code> , рдЬреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреЛрдИ рд▓рд┐рдЦрдирд╛ рдирд╣реАрдВ рд╣реИред <br><br><h3>  рдУрд╡рд░рд╣реЗрдб рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг </h3>  <code>iotop</code> рдФрд░ <code>btrace</code> рдореЗрдВ рдмрдбрд╝реЗ рдЕрдВрддрд░ рдиреЗ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рдФрд░ btrace рд░реАрдбрд┐рдВрдЧ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ред <br><br>  рдпрджрд┐ рдЖрдк рд╕рд┐рд╕реНрдЯрдо рдЗрдорд░рдЬреЗрдВрд╕реА рдореЛрдб рдореЗрдВ рд▓реЛрдб рдХрд░рдХреЗ рдбрд┐рд╕реНрдХ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрд╛рд╣рд░ рдХрд░ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдПрдХ рдореМрдЬреВрджрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдбреЗрдЯрд╛ <b>рдХреЗ рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рдХреБрдЫ</b> рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ, рддреЛ <b>btrfs рдХреЗ</b> рд╕рд╛рде SSD рдкрд░ btrace <b>3 рдореЗрдЧрд╛рдмрд╛рдЗрдЯ</b> рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдбреЗрдЯрд╛ <b>рдХреА</b> рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рддрд╛ рд╣реИред  8 рдЬреАрдмреА рдХреА рдлреНрд▓реИрд╢ рдбреНрд░рд╛рдЗрд╡ рдХреА рд╣реМрд╕рд▓реЗ рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдПрдХ рдмрд╛рдЗрдЯ рд░рд┐рдХреЙрд░реНрдб рдХрд░рддреЗ рд╕рдордп рдХрдо рд╕реЗ рдХрдо 264 KiB рд▓рд┐рдЦрддреА рд╣реИред <br>  рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП, ext4 рдкрд░ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдмрд╛рдЗрдЯреНрд╕ рдХреА рдПрдХ рдЬреЛрдбрд╝реА рд▓рд┐рдЦрдирд╛ рдбрд┐рд╕реНрдХ рдХреЗ 24 рдХрд┐рд▓реЛрдмрд╛рдЗрдЯ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред <br><br>  2017 рдореЗрдВ, рдЬрдпрд╢реНрд░реА рдореЛрд╣рди, рд░реЛрд╣рди рдХрд╛рджрдХреЛрдбрд╝реА, рдФрд░ рд╡рд┐рдЬрдп рдЪрд┐рджрдВрдмрд░рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдиреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓реЗрдЦрди рдкреНрд░рд╡рд░реНрдзрди рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд┐рдпрд╛</a> , 4 рдХреЗрдмреА рд▓рд┐рдЦрдиреЗ рдкрд░ рдЙрдирдХреЗ рдкрд░рд┐рдгрд╛рдо btrfs рдФрд░ ext4 рдХреЗ рд╕рдорд╛рди рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/s2/o1/pa/s2o1parvcsurvjl5rkpiijc1fgo.png"><br><br><h3>  рдирд┐рд╖реНрдХрд░реНрд╖ рдФрд░ рдирд┐рд╖реНрдХрд░реНрд╖ </h3>  рд╡рд░реНрдгрд┐рдд рдЬреЛрдбрд╝рддреЛрдбрд╝ рд╕реЗ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдерд╛: <br><ol><li>  рд╕реАрдпреВрдкреАрдПрд╕ рдкреНрд░рд┐рдВрдЯ рдбреЗрдореЙрди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд┐рдВрдЯрд░ рдХреЗ рд▓рд┐рдП рдмрд╛рд░-рдмрд╛рд░ рдиреМрдХрд░реА рдХреА рд╕реНрдерд┐рддрд┐ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдирд╛ / var / <u>cache</u> / cup рд╣рд░ рдорд┐рдирдЯред  рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╕рдлрд╛рдИ / var / <u>рд╕реНрдкреВрд▓</u> / рдХрдк рджреНрд╡рд╛рд░рд╛ рддрдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдкреНрд░рд┐рдВрдЯ рдХрд╛рд░реНрдп рдирд╣реАрдВ рдереЗ); </li><li>  рдлрд╝рд╛рдпрд░рдлрд╝реЙрдХреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЧреНрд░реБрдк рд╕реНрдкреАрдб рдбрд╛рдпрд▓ рджреНрд╡рд╛рд░рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рд╣рд░ 30 рд╕реЗрдХрдВрдб рдореЗрдВ рдкрдврд╝рдиреЗ рдХрд╛ рддрдереНрдп; </li><li>  рдлреЗрдбреЛрд░рд╛ рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рджрд░реНрд╢рди рдЯреНрд░реИрдХрд┐рдВрдЧ рд╕реЗрд╡рд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рдзрд┐рдХ рд▓реЙрдЧрд┐рдВрдЧ, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг btrfs рдкрд░ рдХрдИ рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рдбреЗрдЯрд╛ рдХреА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╣реБрдИ: pmcd.service, pmie.service, pmlogger.service; </li><li>  Btrfs рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдбреЗрдЯрд╛ рдХреА рдереЛрдбрд╝реА рдорд╛рддреНрд░рд╛ рдХреА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХрд░рддреЗ рд╕рдордп рд╡рд┐рд╢рд╛рд▓ рдкреНрд░рд╡рд░реНрдзрдиред </li></ol><br>  рдирд┐рд╖реНрдХрд░реНрд╖: рдпрджрд┐ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдЕрдХреНрд╕рд░ рдбреЗрдЯрд╛ рдХреА рдПрдХ рдЫреЛрдЯреА рд░рд╛рд╢рд┐ (рдХрдИ рдХрд┐рд▓реЛрдмрд╛рдЗрдЯ) рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ btrfs рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдиреНрдпрдерд╛ рдпрд╣ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗ рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рдореЗрдВ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред  рдорд╛рдЗрдХреНрд░реЛрдПрд╕рдбреА рдкрд░ рдУрдПрд╕ рд╡рд╛рд▓реЗ рдПрдХрд▓-рдмреЛрд░реНрдб рдХрдВрдкреНрдпреВрдЯрд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рдЪ рд╣реИред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi476414/">https://habr.com/ru/post/hi476414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi476398/index.html">Redux SwiftUI рдореЗрдВ рд░рд╛рдЬреНрдп рдХрдВрдЯреЗрдирд░реЛрдВ рдХреА рддрд░рд╣ рд╣реИрдВред рдореВрд▓ рдмрд╛рддреЗрдВ</a></li>
<li><a href="../hi476404/index.html">рд╕реБрд░рдХреНрд╖рд╛ рд╕рдкреНрддрд╛рд╣ 47: рдирд┐рд░реНрд╡рд┐рд╡рд╛рдж рд░реВрдк рд╕реЗ рдХрдордЬреЛрд░рд┐рдпрд╛рдБ</a></li>
<li><a href="../hi476406/index.html">рдбреЗрдЯрд┐рдВрдЧ рдореЗрдВ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ</a></li>
<li><a href="../hi476408/index.html">рдкреБрд╕реНрддрдХ рд╡рд╛рдкрд╕реА</a></li>
<li><a href="../hi476412/index.html">рд╣реЗрдВрд╕ рд▓рд┐рдВрдбреЗрдореИрди рдмрдирд╛рдо рдПрд▓реЗрди рдмреЙрдореНрдмрд╛рд░реНрдб: рдПрдХ рдорд┐рдердХ рдХреА рд╢реБрд░реБрдЖрдд?</a></li>
<li><a href="../hi476416/index.html">рд╡рд┐рдВрдбреЛрдЬ рдПрдбрдорд┐рди рд╕реЗрдВрдЯрд░ рд╕реЗ рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ рдХрд╛ рдкреНрд░рдмрдВрдзрди</a></li>
<li><a href="../hi476418/index.html">рд╕реНрдЯрд╛рд░реНрдЯрдЕрдкреНрд╕: рд╕реНрдЯреИрдирдлреЛрд░реНрдб рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА рдореЗрдВ 20 рдкрд╛рдареЛрдВ рд╕реЗ 10 рдЯреЗрдХрд╡реЗ</a></li>
<li><a href="../hi476420/index.html">рдбрд╛рд░реНрдЯ рдФрд░ рдлреНрд▓рдЯрд░ рдореЗрдВ рд░рд┐рдПрдХреНрдЯрд┐рд╡рдПрдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢реБрд░реВ рд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi476424/index.html">рдЪреМрдЦрдЯреЗ - pluses рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ minuses</a></li>
<li><a href="../hi476428/index.html">рдирдЧреНрдиреЗрдХреНрд╕ рд╡реАрдЯреАрдПрд╕ рд╕реНрдЯреИрдЯреНрд╕, рдореЙрдХреНрдпреВрдЗрдЬрд╝ - рдореЙрдХ рдПрдкреАрдЖрдИ, рд╡рд╛рдпрд░рдореЙрдХ рдФрд░ рдореЙрдХрд╛рдЗрдлрд╝ рддреБрд▓рдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>