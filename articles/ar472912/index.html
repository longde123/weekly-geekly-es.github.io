<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš‚ ğŸˆ´ ğŸ•¹ï¸ ClickHouse Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø´Ø± ØŒ Ø£Ùˆ Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„ØºØ±ÙŠØ¨Ø© ğŸ ğŸ‘¯ ğŸšš</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ø£Ù„ÙŠÙƒØ³ÙŠ Ù„ÙŠØ²ÙˆÙ†ÙˆÙ ØŒ Ø±Ø¦ÙŠØ³ Ù…Ø±ÙƒØ² Ø§Ø®ØªØµØ§Øµ Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø© Ø¹Ù† Ø¨Ø¹Ø¯ Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù…Ø¯ÙŠØ±ÙŠØ© ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ù€ ICD 



 ÙƒØ¨Ø¯ÙŠÙ„ Ù„Ù…ÙƒØ¯Ø³ ELK (ElasticSearch ØŒ Logsta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ClickHouse Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø´Ø± ØŒ Ø£Ùˆ Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„ØºØ±ÙŠØ¨Ø©</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/472912/" style=";text-align:right;direction:rtl"> <b>Ø£Ù„ÙŠÙƒØ³ÙŠ Ù„ÙŠØ²ÙˆÙ†ÙˆÙ ØŒ Ø±Ø¦ÙŠØ³ Ù…Ø±ÙƒØ² Ø§Ø®ØªØµØ§Øµ Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø© Ø¹Ù† Ø¨Ø¹Ø¯ Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù…Ø¯ÙŠØ±ÙŠØ© ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ù€ ICD</b> <br><br><img src="https://habrastorage.org/webt/bs/gu/k0/bsguk03an99lspkpmtkoks2bkvg.png"><br><br>  ÙƒØ¨Ø¯ÙŠÙ„ Ù„Ù…ÙƒØ¯Ø³ ELK (ElasticSearch ØŒ Logstash ØŒ Kibana) ØŒ Ù†Ø­Ù† Ù†Ø¬Ø±ÙŠ Ø¨Ø­Ø«Ù‹Ø§ Ø­ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse ÙƒÙ…Ø³ØªÙˆØ¯Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø³Ø¬Ù„Ø§Øª. <br><br>  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ù†ÙˆØ¯ Ø£Ù† Ù†ØªØ­Ø¯Ø« Ø¹Ù† ØªØ¬Ø±Ø¨ØªÙ†Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse ÙˆØ¹Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©.  ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙƒØ§Ù†Øª Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø¥Ø¹Ø¬Ø§Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ±. <br><br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/uy/mc/ip/uymcipeis_jm2piqsaqdjmu9_l8.jpeg"><br><br>  Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ ØŒ Ø³Ù†ØµÙ Ø¨Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØµÙŠÙ„ ÙƒÙŠÙÙŠØ© ØªÙƒÙˆÙŠÙ† Ù†Ø¸Ø§Ù…Ù†Ø§ ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªÙŠ ÙŠØªÙƒÙˆÙ† Ù…Ù†Ù‡Ø§.  Ù„ÙƒÙ† Ø§Ù„Ø¢Ù† Ø£ÙˆØ¯ Ø£Ù† Ø£ØªØ­Ø¯Ø« Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ù‡ ÙƒÙƒÙ„ ØŒ ÙˆÙ„Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø¥Ù„ÙŠÙ‡Ø§.  Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ù‡ÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…ÙˆØ¯ ØªØ­Ù„ÙŠÙ„ÙŠ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ù† Yandex.  ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ Ø®Ø¯Ù…Ø§Øª ÙŠØ§Ù†Ø¯ÙƒØ³ ØŒ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù‡Ùˆ Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„ Yandex.Metrica.  Ù†Ø¸Ø§Ù… Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± Ù…Ø¬Ø§Ù†ÙŠ.  Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± Ø§Ù„Ù…Ø·ÙˆØ± ØŒ ÙƒÙ†Øª Ù…Ù‡ØªÙ…Ù‹Ø§ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¨ÙƒÙŠÙÙŠØ© ØªÙ†ÙÙŠØ°Ù‡Ø§ ØŒ Ù†Ø¸Ø±Ù‹Ø§ Ù„ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ¨ÙŠØ±Ø© Ø®ÙŠØ§Ù„ÙŠØ©.  ÙˆÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØªØ±ÙŠØ© Ù†ÙØ³Ù‡Ø§ Ù…Ø±Ù†Ø© ÙˆØ³Ø±ÙŠØ¹Ø© Ù„Ù„ØºØ§ÙŠØ©.  Ø¹Ù†Ø¯ Ø§Ù„ØªØ¹Ø§Ø±Ù Ø§Ù„Ø£ÙˆÙ„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ù‡ ØŒ Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹: "Ø­Ø³Ù†Ù‹Ø§ ØŒ Ø£Ø®ÙŠØ±Ù‹Ø§!  ØµÙ†Ø¹ "Ù„Ù„Ù†Ø§Ø³"!  Ø¨Ø¯Ø¡Ø§ Ù…Ù† Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØªÙ†ØªÙ‡ÙŠ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª. " <br><br>  ØªØ­ØªÙˆÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ù‡ Ø¹Ù„Ù‰ Ø¹ØªØ¨Ø© Ø¯Ø®ÙˆÙ„ Ù…Ù†Ø®ÙØ¶Ø© Ø¬Ø¯Ù‹Ø§.  Ø­ØªÙ‰ Ù…Ø·ÙˆØ± Ù…Ø§Ù‡Ø± ÙÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø· â€‹â€‹ÙŠÙ…ÙƒÙ†Ù‡ ØªØ«Ø¨ÙŠØª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ù‡ ÙÙŠ Ø¨Ø¶Ø¹ Ø¯Ù‚Ø§Ø¦Ù‚ ÙˆØ§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§.  ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­.  Ø­ØªÙ‰ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø¬Ø¯Ø¯ Ø¹Ù„Ù‰ Linux ÙŠÙ…ÙƒÙ†Ù‡Ù… Ø§Ù„ÙˆØµÙˆÙ„ Ø¨Ø³Ø±Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø¹Ù…Ù„ÙŠØ§Øª Ø¨Ø³ÙŠØ·Ø©.  ÙÙŠ ÙˆÙ‚Øª Ø³Ø§Ø¨Ù‚ ØŒ Ø¹Ù†Ø¯Ù…Ø§ ÙƒØ§Ù†Øª ÙƒÙ„Ù…Ø© Big Data Ùˆ Hadoop Ùˆ Google BigTable Ùˆ HDFS ØŒ ÙƒØ§Ù† Ù„Ø¯Ù‰ Ø§Ù„Ù…Ø·ÙˆØ± Ø§Ù„Ù…Ø¹ØªØ§Ø¯ ÙÙƒØ±Ø© Ø£Ù†Ù‡Ù… ÙŠØªØ­Ø¯Ø«ÙˆÙ† Ø¹Ù† Ø¨Ø¹Ø¶ ØªÙŠØ±Ø§Ø¨Ø§ÙŠØª ØŒ Ø¨Ø§ÙŠØª ØŒ Ø£Ù† Ø¨Ø¹Ø¶ Ø§Ù„Ø¨Ø´Ø± Ø§Ù„Ø®Ø§Ø±Ù‚ÙŠÙ† Ø´Ø§Ø±ÙƒÙˆØ§ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ØŒ Ø«Ù… Ù…Ø¹ Ø¸Ù‡ÙˆØ± Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ø§Ù„ØªÙŠ Ø­ØµÙ„Ù†Ø§ Ø¹Ù„ÙŠÙ‡Ø§ Ø£Ø¯Ø§Ø© Ø¨Ø³ÙŠØ·Ø© ÙˆÙ…ÙÙ‡ÙˆÙ…Ø© ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ø­Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„ØªÙŠ ÙŠØªØ¹Ø°Ø± Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§.  ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ø³ÙŠØ§Ø±Ø© Ù…ØªÙˆØ³Ø·Ø© Ø¥Ù„Ù‰ Ø­Ø¯ Ù…Ø§ ÙˆØ®Ù…Ø³ Ø¯Ù‚Ø§Ø¦Ù‚ Ù„ØªØ«Ø¨ÙŠØª.  Ù‡Ø°Ø§ Ù‡Ùˆ ØŒ Ù„Ø¯ÙŠÙ†Ø§ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø«Ù„ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ MySql ØŒ ÙˆÙ„ÙƒÙ† ÙÙ‚Ø· Ù„ØªØ®Ø²ÙŠÙ† Ù…Ù„ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ø¬Ù„Ø§Øª!  Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ø´Ø±Ù SQL.  ÙŠØ¨Ø¯Ùˆ Ø§Ù„Ø£Ù…Ø± ÙƒÙ…Ø§ Ù„Ùˆ Ø£Ù† Ø§Ù„Ù†Ø§Ø³ ØªÙ„Ù‚ÙˆØ§ Ø£Ø³Ù„Ø­Ø© Ù„Ù„Ø£Ø¬Ø§Ù†Ø¨. <br><br><h4 style=";text-align:right;direction:rtl">  Ø­ÙˆÙ„ Ù†Ø¸Ø§Ù… Ø¬Ù…Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ </h4><br>  Ù„Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„ÙØ§Øª Ø³Ø¬Ù„ IIS Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ø°Ø§Øª Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ (Ù†Ø­Ù† Ù†Ø´Ø§Ø±Ùƒ Ø£ÙŠØ¶Ù‹Ø§ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØŒ ÙˆÙ„ÙƒÙ† Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ø¹Ù†Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ Ø³Ø¬Ù„Ø§Øª IIS). <br><br>  Ù„Ø£Ø³Ø¨Ø§Ø¨ Ù…Ø®ØªÙ„ÙØ© ØŒ ÙØ´Ù„Ù†Ø§ ÙÙŠ Ø§Ù„ØªØ®Ù„ÙŠ Ø¹Ù† Ù…ÙƒØ¯Ø³ ELK ØªÙ…Ø§Ù…Ù‹Ø§ ØŒ ÙˆÙ…Ø§ Ø²Ù„Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ù…ÙƒÙˆÙ†Ø§Øª LogStash Ùˆ Filebeat ØŒ ÙˆØ§Ù„ØªÙŠ Ø£Ø«Ø¨ØªØª Ù†ÙØ³Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ ÙˆØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…ÙˆØ«ÙˆÙ‚ ÙˆÙ…ÙˆØ«ÙˆÙ‚. <br><br>  ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…Ø®Ø·Ø· Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ø§Ù… ÙÙŠ Ø§Ù„Ø´ÙƒÙ„ Ø£Ø¯Ù†Ø§Ù‡: <br><br><img src="https://habrastorage.org/webt/ah/kr/qg/ahkrqgjij-tfce_455jhjikjfg8.jpeg"><br><br>  ØªØªÙ…Ø«Ù„ Ù…ÙŠØ²Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse ÙÙŠ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù†Ø§Ø¯Ø± (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©) Ù„Ù„Ø³Ø¬Ù„Ø§Øª Ø¹Ù„Ù‰ Ø¯ÙØ¹Ø§Øª ÙƒØ¨ÙŠØ±Ø©.  Ù‡Ø°Ø§ ØŒ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ¨Ø¯Ùˆ ØŒ Ù‡Ùˆ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙƒØ«Ø± "Ø¥Ø´ÙƒØ§Ù„ÙŠØ©" Ø§Ù„Ø°ÙŠ ØªÙˆØ§Ø¬Ù‡Ù‡ Ø¹Ù†Ø¯ ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©: Ø§Ù„Ù…Ø®Ø·Ø· Ù…Ø¹Ù‚Ø¯ Ø¨Ø¹Ø¶ Ø§Ù„Ø´ÙŠØ¡. <br>  Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ LogStash ÙƒØ«ÙŠØ±Ù‹Ø§ Ù‡Ù†Ø§ ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ¯Ø±Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹ ÙÙŠ ClickHouse.  ÙŠØªÙ… Ù†Ø´Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø«Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù†ÙØ³Ù‡Ø§.  ÙˆØ¨ØµÙØ© Ø¹Ø§Ù…Ø© ØŒ Ù„Ø§ ÙŠÙÙ†ØµØ­ Ø¨Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ØŒ ÙˆÙ„ÙƒÙ† Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± Ø¹Ù…Ù„ÙŠØ© ØŒ Ø­ØªÙ‰ Ù„Ø§ ØªÙ†ØªØ¬ Ø®ÙˆØ§Ø¯Ù… Ù…Ù†ÙØµÙ„Ø© Ø£Ø«Ù†Ø§Ø¡ Ù†Ø´Ø±Ù‡Ø§ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø®Ø§Ø¯Ù….  Ù„Ù… Ù†Ù„Ø§Ø­Ø¸ Ø£ÙŠ Ø­Ø§Ù„Ø§Øª ÙØ´Ù„ Ø£Ùˆ ØªØ¹Ø§Ø±Ø¶ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ù…ÙƒÙˆÙ‘Ù† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ Ù„Ø¯ÙŠÙ‡ Ø¢Ù„ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø®ØªØ¨Ø§Ø± ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡.  ÙˆÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡ ØŒ ÙŠÙƒØªØ¨ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ Ø­Ø²Ù…Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¯Ø±Ø§Ø¬Ù‡Ø§ (ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ù„Ù Ù…Ù†Ø§Ø³Ø¨: Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø±ÙŠØ± ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…ØµØ­Ø­Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… clickhouse-client). <br><br>  ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ø®Ø·Ø· ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>Ø§Ø³Ù…</b> <br></td><td>  <b>ÙˆØµÙ</b> <br></td><td>  <b>Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙˆØ²ÙŠØ¹</b> <br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  Ø¥Ù†Ø¬Ù† Ø¥ÙƒØ³ </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø¹ÙƒØ³ Ø§Ù„ÙˆÙƒÙŠÙ„ Ù„ØªÙ‚ÙŠÙŠØ¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ ÙˆØ§Ù„ØªØ±Ø®ÙŠØµ </p><br><br><p style=";text-align:right;direction:rtl">  Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø­Ø§Ù„ÙŠØ§ ÙÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://nginx.org/ru/download.html</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://nginx.org/download/nginx-1.16.0.tar.gz</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  FileBeat </p><br></td><td><p style=";text-align:right;direction:rtl">  Ù†Ù‚Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.elastic.co/downloads/beats/filebeat</a> (Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Windows 64bit). </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.3.0-windows-x86_64.zip</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  LogStash </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø³Ø¬Ù„ Ø¬Ø§Ù…Ø¹. </p><br><br><p style=";text-align:right;direction:rtl">  ÙŠØ³ØªØ®Ø¯Ù… Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ù† FileBeat ØŒ ÙˆÙƒØ°Ù„Ùƒ Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ (Ù„Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ DMZ.) </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.elastic.co/products/logstash</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://artifacts.elastic.co/downloads/logstash/logstash-7.0.1.rpm</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  Logstash- Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬- clickhouse </p><br></td><td><p style=";text-align:right;direction:rtl">  Loagstash Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù„Ù†Ù‚Ù„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ø¹Ù„Ù‰ Ø¯ÙØ¹Ø§Øª </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/mikechris/logstash-output-clickhouse</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  / usr / share / logstash / bin / logstash-plugin Ù‚Ù… Ø¨ØªØ«Ø¨ÙŠØª logstash-output-clickhouse </p><br><p style=";text-align:right;direction:rtl">  / usr / share / logstash / bin / logstash-plugin Ù‚Ù… Ø¨ØªØ«Ø¨ÙŠØª logstash-filter-prune </p><br><p style=";text-align:right;direction:rtl">  / usr / share / logstash / bin / logstash-plugin Ù‚Ù… Ø¨ØªØ«Ø¨ÙŠØª logstash-filter-multiline </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  ClickHouse </p><br></td><td><p style=";text-align:right;direction:rtl">  Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø³Ø¬Ù„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://clickhouse.yandex/docs/ru/</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://packagecloud.io/Altinity/clickhouse/packages/el/7/clickhouse-server-19.5.3.8-1.el7.x86_64.rpm</a> </p><br><p style=";text-align:right;direction:rtl">  <a href="">https://packagecloud.io/Altinity/clickhouse/packages/el/7/clickhouse-client-19.5.3.8-1.el7.x86_64.rpm</a> </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ø°ÙƒØ±Ø©.  Ù…Ù†Ø° Ø£ØºØ³Ø·Ø³ 2018 ØŒ Ø¸Ù‡Ø±Øª Ù…Ø¬Ù…ÙˆØ¹Ø§Øª rpm "Ø·Ø¨ÙŠØ¹ÙŠØ©" Ù„Ù€ RHEL ÙÙŠ Ù…Ø³ØªÙˆØ¯Ø¹ Yandex ØŒ Ø¨Ø­ÙŠØ« ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§.  ÙÙŠ ÙˆÙ‚Øª Ø§Ù„ØªØ«Ø¨ÙŠØª ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø§Ù„Ø­Ø²Ù… Ø§Ù„ØªÙŠ Ø¬Ù…Ø¹Ù‡Ø§ Altinity. </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  Grafana </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø³Ø¬Ù„ Ø§Ù„ØªØµÙˆØ±.  ØªÙƒÙˆÙŠÙ† Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª </p><br><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://grafana.com/</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://grafana.com/grafana/download</a> </p><br><br><p style=";text-align:right;direction:rtl">  Ø±ÙŠØ¯Ù‡Ø§Øª Ùˆ Centos (64 Ø¨Øª) - Ø£Ø­Ø¯Ø« Ù†Ø³Ø®Ø© </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  Ù…ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ù„Ù€ Grafana 4.6+ </p><br></td><td><p style=";text-align:right;direction:rtl">  Grafana Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø¹ Ù…ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://grafana.com/plugins/vertamedia-clickhouse-datasource</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://grafana.com/api/plugins/vertamedia-clickhouse-datasource/versions/1.8.1/download</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  LogStash </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø³Ø¬Ù„ Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù…Ù† FileBeat Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ. </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ø°ÙƒØ±Ø©.  Ù„Ø³ÙˆØ¡ Ø§Ù„Ø­Ø¸ ØŒ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ FileBeat Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ RabbitMQ ØŒ Ù„Ø°Ù„Ùƒ ÙŠÙ„Ø²Ù… ÙˆØ¬ÙˆØ¯ Ø§Ø±ØªØ¨Ø§Ø· ÙˆØ³ÙŠØ· ÙÙŠ Ø´ÙƒÙ„ Logstash </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.elastic.co/products/logstash</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://artifacts.elastic.co/downloads/logstash/logstash-7.0.1.rpm</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  RabbitMQ </p><br></td><td><p style=";text-align:right;direction:rtl">  Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„  Ù‡Ø°Ø§ Ù‡Ùˆ Ù…Ø®Ø²Ù† Ù…Ø¤Ù‚Øª Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø³Ø¬Ù„ ÙÙŠ DMZ </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.rabbitmq.com/download.html</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="">https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.7.14/rabbitmq-server-3.7.14-1.el7.noarch.rpm</a> </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  ÙˆÙ‚Øª ØªØ´ØºÙŠÙ„ Erlang (Ù…Ø·Ù„ÙˆØ¨ Ù…Ù† Ø£Ø¬Ù„ RabbitMQ) </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø¥Ø±Ù„Ø§Ù†Ø¬ ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„.  Ù…Ø·Ù„ÙˆØ¨ Ù„ RabbitMQ Ù„Ù„Ø¹Ù…Ù„ </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">http://www.erlang.org/download.html</a> </p><br></td><td><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.rabbitmq.com/install-rpm.html#install-erlang</a> <a href="">http://www.erlang.org/downloads/21.3</a> </p><br></td></tr></tbody></table></div><br></div></div><br>  ÙŠØªÙ… Ø¹Ø±Ø¶ ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ§Ù„ÙŠ: <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>Ø§Ø³Ù…</b> <br></td><td>  <b>Ù‚ÙŠÙ…Ø©</b> <br></td><td>  <b>ØªØ¹Ù„ÙŠÙ‚</b> <br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  ØªØ±ØªÙŠØ¨ </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø£Ù‚Ø±Ø§Øµ Ø§Ù„ØµÙ„Ø¨Ø©: 40GB <br>  Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ: 8GB <br>  Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: ÙƒÙˆØ± 2 2 Ø¬ÙŠØ¬Ø§ Ù‡Ø±ØªØ² </p><br></td><td><p style=";text-align:right;direction:rtl">  Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø¥Ù„Ù‰ Ù†ØµØ§Ø¦Ø­ Ø­ÙˆÙ„ ØªØ´ØºÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://clickhouse.yandex/docs/ru/operations/tips/</a> ) </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ø¸Ø§Ù… </p><br></td><td><p style=";text-align:right;direction:rtl">  Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„: Ø®Ø§Ø¯Ù… Ø±ÙŠØ¯ Ù‡Ø§Øª Ø¥Ù†ØªØ±Ø¨Ø±Ø§ÙŠØ² Ù„ÙŠÙ†ÙˆÙƒØ³ (Maipo) </p><br><p style=";text-align:right;direction:rtl">  JRE (Ø¬Ø§ÙØ§ 8) </p><br></td><td><p style=";text-align:right;direction:rtl"></p><br></td></tr></tbody></table></div><br>  ÙƒÙ…Ø§ ØªØ±ÙˆÙ† ØŒ Ù‡Ø°Ù‡ Ù…Ø­Ø·Ø© Ø¹Ù…Ù„ Ø¹Ø§Ø¯ÙŠØ©. <br><br>  Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">log_web.sql</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> log_web ( logdate <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>, logdatetime DateTime CODEC(Delta, LZ4HC), fld_log_file_name LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), fld_server_name LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), fld_app_name LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), fld_app_module LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), fld_website_name LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), serverIP LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), method LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), uriStem <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, uriQuery <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, port UInt32, username LowCardinality( <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ), clientIP <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, clientRealIP <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, userAgent <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, referer <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, response <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, subresponse <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, win32response <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, timetaken UInt64 , uriQuery__utm_medium <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__utm_source <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__utm_campaign <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__utm_term <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__utm_content <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__yclid <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> , uriQuery__region <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">Engine</span></span> = MergeTree() <span class="hljs-keyword"><span class="hljs-keyword">PARTITION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> toYYYYMM(logdate) <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> (fld_app_name, fld_app_module, logdatetime) <span class="hljs-keyword"><span class="hljs-keyword">SETTINGS</span></span> index_granularity = <span class="hljs-number"><span class="hljs-number">8192</span></span>;</code> </pre> <br></div></div><br>  Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªÙ‚Ø³ÙŠÙ… (Ø¨Ø§Ù„Ø£Ø´Ù‡Ø±) ÙˆØªØ­Ø¨Ø¨ Ø§Ù„ÙÙ‡Ø±Ø³.  ØªØªÙˆØ§ÙÙ‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¹Ù…Ù„ÙŠØ§Ù‹ Ù…Ø¹ Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø³Ø¬Ù„ IIS Ù„ØªØ³Ø¬ÙŠÙ„ Ø·Ù„Ø¨Ø§Øª http.  Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„ ØŒ Ø­Ù‚ÙˆÙ„ Ù…Ù†ÙØµÙ„Ø© Ù„ØªØ®Ø²ÙŠÙ† Ø¹Ù„Ø§Ù…Ø§Øª utm (ÙŠØªÙ… ØªØ­Ù„ÙŠÙ„Ù‡Ø§ ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù…Ù† Ø­Ù‚Ù„ Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…). <br><br>  Ø£ÙŠØ¶Ø§ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ù„Ø®ÙˆØ§Ø¯Ù….  Ø§Ù†Ø¸Ø± Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø£Ø¯Ù†Ø§Ù‡ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙˆØµÙ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø­Ù‚ÙˆÙ„.  ÙÙŠ Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ø­Ø¯ ØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªØ®Ø²ÙŠÙ† Ø³Ø¬Ù„Ø§Øª Ù„Ø¹Ø¯Ø© Ø£Ù†Ø¸Ù…Ø©. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>Ø§Ø³Ù…</b> <br></td><td>  <b>ÙˆØµÙ</b> <br></td><td>  <b>Ù…Ø«Ø§Ù„</b> <br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  fld_app_name </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ / Ø§Ù„Ù†Ø¸Ø§Ù… <br>  Ù‚ÙŠÙ… ØµØ§Ù„Ø­Ø©: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  site1.domain.com Ù…ÙˆÙ‚Ø¹ Ø®Ø§Ø±Ø¬ÙŠ 1 </li><li style=";text-align:right;direction:rtl">  site2.domain.com Ù…ÙˆÙ‚Ø¹ Ø®Ø§Ø±Ø¬ÙŠ 2 </li><li style=";text-align:right;direction:rtl">  internal-site1.domain.local Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ 1 </li></ul><br></td><td>  site1.domain.com <br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  fld_app_module </p><br></td><td><p style=";text-align:right;direction:rtl">  ÙˆØ­Ø¯Ø© Ø§Ù„Ù†Ø¸Ø§Ù… <br>  Ù‚ÙŠÙ… ØµØ§Ù„Ø­Ø©: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ø§Ù„ÙˆÙŠØ¨ - Ø§Ù„Ù…ÙˆÙ‚Ø¹ </li><li style=";text-align:right;direction:rtl">  svc - Ø®Ø¯Ù…Ø© Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙˆÙŠØ¨ </li><li style=";text-align:right;direction:rtl">  intgr - Ø®Ø¯Ù…Ø© ØªÙƒØ§Ù…Ù„ Ø§Ù„ÙˆÙŠØ¨ </li><li style=";text-align:right;direction:rtl">  bo - Ø§Ù„Ù…Ø´Ø±Ù (BackOffice) </li></ul><br></td><td><p style=";text-align:right;direction:rtl">  Ø´Ø¨ÙƒØ© </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  fld_website_name </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ IIS </p><br><p style=";text-align:right;direction:rtl">  ÙŠÙ…ÙƒÙ† Ù†Ø´Ø± Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø¹Ù„Ù‰ Ø®Ø§Ø¯Ù… ÙˆØ§Ø­Ø¯ ØŒ Ø£Ùˆ Ø­ØªÙ‰ Ø¹Ø¯Ø© Ù…Ø«ÙŠÙ„Ø§Øª Ù„ÙˆØ­Ø¯Ø© Ù†Ø¸Ø§Ù… ÙˆØ§Ø­Ø¯Ø© </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ© Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  fld_server_name </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø§Ø³Ù… Ø§Ù„Ø®Ø§Ø¯Ù… </p><br></td><td><p style=";text-align:right;direction:rtl">  web1.domain.com </p><br></td></tr><tr><td><p style=";text-align:right;direction:rtl">  fld_log_file_name </p><br></td><td><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ø³Ø§Ø± Ø¥Ù„Ù‰ Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… </p><br></td><td>  C: \ inetpub \ logs \ LogFiles <br>  \ W3SVC1 \ u_ex190711.log <br></td></tr></tbody></table></div><br>  ÙŠØªÙŠØ­ Ù„Ùƒ Ø°Ù„Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ…Ø§Øª ÙØ¹Ø§Ù„Ø© ÙÙŠ Grafana.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ÙŠÙ†.  Ù‡Ø°Ø§ Ù…Ø´Ø§Ø¨Ù‡ Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Yandex.Metrica. <br><br>  ÙÙŠÙ…Ø§ ÙŠÙ„ÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø­ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ø¯Ø© Ø´Ù‡Ø±ÙŠÙ†. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ù…ÙƒÙˆÙ†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> fld_app_name, fld_app_module, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(fld_app_name) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> rows_count <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> log_web <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> fld_app_name, fld_app_module <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> TOTALS <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> fld_app_name <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span>, rows_count <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span> â”Œâ”€fld_app_nameâ”€â”€â”€â”€â”€â”¬â”€fld_app_moduleâ”€â”¬â”€rows_countâ”€â” â”‚ site1.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">131441</span></span> â”‚ â”‚ site2.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">1751081</span></span> â”‚ â”‚ site3.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">106887543</span></span> â”‚ â”‚ site3.domain.ru â”‚ svc â”‚ <span class="hljs-number"><span class="hljs-number">44908603</span></span> â”‚ â”‚ site3.domain.ru â”‚ intgr â”‚ <span class="hljs-number"><span class="hljs-number">9813911</span></span> â”‚ â”‚ site4.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">772095</span></span> â”‚ â”‚ site5.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">17037221</span></span> â”‚ â”‚ site5.domain.ru â”‚ intgr â”‚ <span class="hljs-number"><span class="hljs-number">838559</span></span> â”‚ â”‚ site5.domain.ru â”‚ bo â”‚ <span class="hljs-number"><span class="hljs-number">7404</span></span> â”‚ â”‚ site6.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">595877</span></span> â”‚ â”‚ site7.domain.ru â”‚ web â”‚ <span class="hljs-number"><span class="hljs-number">27778858</span></span> â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Totals: â”Œâ”€fld_app_nameâ”€â”¬â”€fld_app_moduleâ”€â”¬â”€rows_countâ”€â” â”‚ â”‚ â”‚ <span class="hljs-number"><span class="hljs-number">210522593</span></span> â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set. Elapsed: <span class="hljs-number"><span class="hljs-number">4.874</span></span> sec. Processed <span class="hljs-number"><span class="hljs-number">210.52</span></span> million <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, <span class="hljs-number"><span class="hljs-number">421.67</span></span> MB (<span class="hljs-number"><span class="hljs-number">43.19</span></span> million <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>/s., <span class="hljs-number"><span class="hljs-number">86.51</span></span> MB/s.)</code> </pre> <br></div></div><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> formatReadableSize(<span class="hljs-keyword"><span class="hljs-keyword">sum</span></span>(data_uncompressed_bytes)) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> uncompressed, formatReadableSize(<span class="hljs-keyword"><span class="hljs-keyword">sum</span></span>(data_compressed_bytes)) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> compressed, <span class="hljs-keyword"><span class="hljs-keyword">sum</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> total_rows <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> system.parts <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> = <span class="hljs-string"><span class="hljs-string">'log_web'</span></span> â”Œâ”€uncompressedâ”€â”¬â”€compressedâ”€â”¬â”€total_rowsâ”€â” â”‚ <span class="hljs-number"><span class="hljs-number">54.50</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">4.86</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">211427094</span></span> â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set. Elapsed: <span class="hljs-number"><span class="hljs-number">0.035</span></span> sec.</code> </pre> <br></div></div><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø¯Ø±Ø¬Ø© Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, formatReadableSize(data_uncompressed_bytes) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> uncompressed, formatReadableSize(data_compressed_bytes) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> compressed, data_uncompressed_bytes / data_compressed_bytes <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> compress_ratio <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> system.columns <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> = <span class="hljs-string"><span class="hljs-string">'log_web'</span></span> â”Œâ”€<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€uncompressedâ”€â”¬â”€compressedâ”€â”¬â”€â”€â”€â”€â”€compress_ratioâ”€â” â”‚ logdate â”‚ <span class="hljs-number"><span class="hljs-number">401.53</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">1.80</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">223.16665968777315</span></span> â”‚ â”‚ logdatetime â”‚ <span class="hljs-number"><span class="hljs-number">803.06</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">35.91</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">22.363966401202305</span></span> â”‚ â”‚ fld_log_file_name â”‚ <span class="hljs-number"><span class="hljs-number">220.66</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">2.60</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">84.99905736932571</span></span> â”‚ â”‚ fld_server_name â”‚ <span class="hljs-number"><span class="hljs-number">201.54</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">50.63</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">3.980924816977078</span></span> â”‚ â”‚ fld_app_name â”‚ <span class="hljs-number"><span class="hljs-number">201.17</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">969.17</span></span> KiB â”‚ <span class="hljs-number"><span class="hljs-number">212.55518183686877</span></span> â”‚ â”‚ fld_app_module â”‚ <span class="hljs-number"><span class="hljs-number">201.17</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">968.60</span></span> KiB â”‚ <span class="hljs-number"><span class="hljs-number">212.67805817411906</span></span> â”‚ â”‚ fld_website_name â”‚ <span class="hljs-number"><span class="hljs-number">201.54</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">1.24</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">162.7204926761546</span></span> â”‚ â”‚ serverIP â”‚ <span class="hljs-number"><span class="hljs-number">201.54</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">50.25</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">4.010824061219731</span></span> â”‚ â”‚ method â”‚ <span class="hljs-number"><span class="hljs-number">201.53</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">43.64</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">4.617721053304486</span></span> â”‚ â”‚ uriStem â”‚ <span class="hljs-number"><span class="hljs-number">5.13</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">832.51</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">6.311522291936919</span></span> â”‚ â”‚ uriQuery â”‚ <span class="hljs-number"><span class="hljs-number">2.58</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">501.06</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">5.269731450124478</span></span> â”‚ â”‚ port â”‚ <span class="hljs-number"><span class="hljs-number">803.06</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">3.98</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">201.91673864241824</span></span> â”‚ â”‚ username â”‚ <span class="hljs-number"><span class="hljs-number">318.08</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">26.93</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">11.812513794583598</span></span> â”‚ â”‚ clientIP â”‚ <span class="hljs-number"><span class="hljs-number">2.35</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">82.59</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">29.132328640073343</span></span> â”‚ â”‚ clientRealIP â”‚ <span class="hljs-number"><span class="hljs-number">2.49</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">465.05</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">5.478382297052563</span></span> â”‚ â”‚ userAgent â”‚ <span class="hljs-number"><span class="hljs-number">18.34</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">764.08</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">24.57905114484208</span></span> â”‚ â”‚ referer â”‚ <span class="hljs-number"><span class="hljs-number">14.71</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">1.37</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">10.736792723669906</span></span> â”‚ â”‚ response â”‚ <span class="hljs-number"><span class="hljs-number">803.06</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">83.81</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">9.582334090987247</span></span> â”‚ â”‚ subresponse â”‚ <span class="hljs-number"><span class="hljs-number">399.87</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">1.83</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">218.4831068635027</span></span> â”‚ â”‚ win32response â”‚ <span class="hljs-number"><span class="hljs-number">407.86</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">7.41</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">55.050315514606815</span></span> â”‚ â”‚ timetaken â”‚ <span class="hljs-number"><span class="hljs-number">1.57</span></span> GiB â”‚ <span class="hljs-number"><span class="hljs-number">402.06</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">3.9947395692010637</span></span> â”‚ â”‚ uriQuery__utm_medium â”‚ <span class="hljs-number"><span class="hljs-number">208.17</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">12.29</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">16.936148912472955</span></span> â”‚ â”‚ uriQuery__utm_source â”‚ <span class="hljs-number"><span class="hljs-number">215.18</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">13.00</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">16.548367623199912</span></span> â”‚ â”‚ uriQuery__utm_campaign â”‚ <span class="hljs-number"><span class="hljs-number">381.46</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">37.94</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">10.055156353418509</span></span> â”‚ â”‚ uriQuery__utm_term â”‚ <span class="hljs-number"><span class="hljs-number">231.82</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">10.78</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">21.502540454070672</span></span> â”‚ â”‚ uriQuery__utm_content â”‚ <span class="hljs-number"><span class="hljs-number">441.34</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">87.60</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">5.038260760449327</span></span> â”‚ â”‚ uriQuery__yclid â”‚ <span class="hljs-number"><span class="hljs-number">216.88</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">16.58</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">13.07721335008116</span></span> â”‚ â”‚ uriQuery__region â”‚ <span class="hljs-number"><span class="hljs-number">204.35</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">9.49</span></span> MiB â”‚ <span class="hljs-number"><span class="hljs-number">21.52661903446796</span></span> â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ <span class="hljs-number"><span class="hljs-number">28</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set. Elapsed: <span class="hljs-number"><span class="hljs-number">0.005</span></span> sec.</code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ÙˆØµÙ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© <br><br>  FileBeat.  Ù†Ù‚Ù„ Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„ </h4><br>  ÙŠØ±Ø§Ù‚Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ù…Ù„ÙØ§Øª Ø§Ù„Ø³Ø¬Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ ÙˆÙŠÙ†Ù‚Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ LogStash.  ÙŠØªÙ… ØªØ«Ø¨ÙŠØªÙ‡ Ø¹Ù„Ù‰ ÙƒØ§ÙØ© Ø§Ù„Ø®ÙˆØ§Ø¯Ù… Ø­ÙŠØ« ØªØªÙ… ÙƒØªØ§Ø¨Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø³Ø¬Ù„ (Ø¹Ø§Ø¯Ø©Ù‹ IIS).  Ø¥Ù†Ù‡ ÙŠØ¹Ù…Ù„ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø°ÙŠÙ„ (Ø£ÙŠ ØŒ ÙŠÙ†Ù‚Ù„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© ÙÙ‚Ø· Ø¥Ù„Ù‰ Ù…Ù„Ù).  Ù„ÙƒÙ† Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙƒÙˆÙŠÙ† Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„Ù Ø¨Ø£ÙƒÙ…Ù„Ù‡.  Ù‡Ø°Ø§ Ù…ÙÙŠØ¯ Ø¹Ù†Ø¯Ù…Ø§ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©.  ÙÙ‚Ø· Ø¶Ø¹ Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„ ÙÙŠ Ù…Ø¬Ù„Ø¯ ÙˆØ³ÙˆÙ ÙŠÙ‚Ø±Ø£Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„. <br><br>  Ø¹Ù†Ø¯Ù…Ø§ ØªØªÙˆÙ‚Ù Ø§Ù„Ø®Ø¯Ù…Ø© ØŒ ØªØªÙˆÙ‚Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø§Ù„Ù†Ù‚Ù„ Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†. <br><br>  Ù…Ø«Ø§Ù„ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">filebeat.yml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">filebeat.inputs: - type: log enabled: true paths: - C:/inetpub/logs/LogFiles/W3SVC1<span class="hljs-comment"><span class="hljs-comment">/*.log exclude_files: ['.gz$','.zip$'] tail_files: true ignore_older: 24h fields: fld_server_name: "site1.domain.ru" fld_app_name: "site1.domain.ru" fld_app_module: "web" fld_website_name: "web-main" - type: log enabled: true paths: - C:/inetpub/logs/LogFiles/__Import/access_log-* exclude_files: ['.gz$','.zip$'] tail_files: false fields: fld_server_name: "site2.domain.ru" fld_app_name: "site2.domain.ru" fld_app_module: "web" fld_website_name: "web-main" fld_logformat: "logformat__apache" filebeat.config.modules: path: ${path.config}/modules.d/*.yml reload.enabled: false reload.period: 2s output.logstash: hosts: ["log.domain.com:5044"] ssl.enabled: true ssl.certificate_authorities: ["C:/filebeat/certs/ca.pem", "C:/filebeat/certs/ca-issuing.pem"] ssl.certificate: "C:/filebeat/certs/site1.domain.ru.cer" ssl.key: "C:/filebeat/certs/site1.domain.ru.key" #================================ Processors ===================================== processors: - add_host_metadata: ~ - add_cloud_metadata: ~</span></span></code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  LogStash.  Ø³Ø¬Ù„ Ø¬Ø§Ù…Ø¹ </h4><br>  Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ø®ØµØµ Ù„ØªÙ„Ù‚ÙŠ Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø§Ù„Ø³Ø¬Ù„ Ù…Ù† FileBeat (Ø£Ùˆ Ù…Ù† Ø®Ù„Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ) ØŒ ØªØ­Ù„ÙŠÙ„ ÙˆØ¥Ø¯Ø±Ø§Ø¬ Ø­Ø²Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse. <br><br>  Ù„Ù„Ø¥Ø¯Ø±Ø§Ø¬ ÙÙŠ ClickHouse ØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ Logstash-output-clickhouse.  ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ Logstash Ø¹Ù„Ù‰ Ø¢Ù„ÙŠØ© Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ØŒ ÙˆÙ„ÙƒÙ† Ù…Ø¹ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø´ÙƒÙ„ Ù…Ù†ØªØ¸Ù… ØŒ Ù…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø®Ø¯Ù…Ø© Ù†ÙØ³Ù‡Ø§.  Ø¹Ù†Ø¯Ù…Ø§ ØªØªÙˆÙ‚Ù ØŒ ØªØªØ±Ø§ÙƒÙ… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ ØŒ Ù„Ø°Ù„Ùƒ Ø¥Ø°Ø§ ØªÙˆÙ‚ÙØª Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø© ØŒ ÙÙ…Ù† Ø§Ù„Ø£ÙØ¶Ù„ Ø¥ÙŠÙ‚Ø§Ù Filebeats Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙˆØ§Ø¯Ù….  ÙÙŠ Ù†Ø¸Ø§Ù… Ù„Ø§ ÙŠØ³ØªØ®Ø¯Ù… ÙÙŠÙ‡ RabbitMQ (Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ© ØŒ ÙŠØ±Ø³Ù„ Filebeat Ø³Ø¬Ù„Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Logstash) ØŒ ÙŠØ¹Ù…Ù„ Filebeats Ù…Ù‚Ø¨ÙˆÙ„Ù‹Ø§ ÙˆØ¢Ù…Ù†Ù‹Ø§ ØªÙ…Ø§Ù…Ù‹Ø§ ØŒ Ù„Ø°Ù„Ùƒ ÙØ¥Ù† Ø¹Ø¯Ù… Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ ÙŠØ°Ù‡Ø¨ Ø¯ÙˆÙ† Ø¹ÙˆØ§Ù‚Ø¨. <br><br>  Ù…Ø«Ø§Ù„ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">log_web__filebeat_clickhouse.conf</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">input { beats { port =&gt; 5044 type =&gt; 'iis' ssl =&gt; true ssl_certificate_authorities =&gt; ["/etc/logstash/certs/ca.cer", "/etc/logstash/certs/ca-issuing.cer"] ssl_certificate =&gt; "/etc/logstash/certs/server.cer" ssl_key =&gt; "/etc/logstash/certs/server-pkcs8.key" ssl_verify_mode =&gt; "peer" add_field =&gt; { "fld_server_name" =&gt; "%{[fields][fld_server_name]}" "fld_app_name" =&gt; "%{[fields][fld_app_name]}" "fld_app_module" =&gt; "%{[fields][fld_app_module]}" "fld_website_name" =&gt; "%{[fields][fld_website_name]}" "fld_log_file_name" =&gt; "%{source}" "fld_logformat" =&gt; "%{[fields][fld_logformat]}" } } rabbitmq { host =&gt; "queue.domain.com" port =&gt; 5671 user =&gt; "q-reader" password =&gt; "password" queue =&gt; "web_log" heartbeat =&gt; 30 durable =&gt; true ssl =&gt; true <span class="hljs-comment"><span class="hljs-comment">#ssl_certificate_path =&gt; "/etc/logstash/certs/server.p12" #ssl_certificate_password =&gt; "password" add_field =&gt; { "fld_server_name" =&gt; "%{[fields][fld_server_name]}" "fld_app_name" =&gt; "%{[fields][fld_app_name]}" "fld_app_module" =&gt; "%{[fields][fld_app_module]}" "fld_website_name" =&gt; "%{[fields][fld_website_name]}" "fld_log_file_name" =&gt; "%{source}" "fld_logformat" =&gt; "%{[fields][fld_logformat]}" } } } filter { if [message] =~ "^#" { drop {} } if [fld_logformat] == "logformat__iis_with_xrealip" { grok { match =&gt; ["message", "%{TIMESTAMP_ISO8601:log_timestamp} %{IP:serverIP} %{WORD:method} %{NOTSPACE:uriStem} %{NOTSPACE:uriQuery} %{NUMBER:port} %{NOTSPACE:username} %{IPORHOST:clientIP} %{NOTSPACE:userAgent} %{NOTSPACE:referer} %{NUMBER:response} %{NUMBER:subresponse} %{NUMBER:win32response} %{NUMBER:timetaken} %{NOTSPACE:xrealIP} %{NOTSPACE:xforwarderfor}"] } } else { grok { match =&gt; ["message", "%{TIMESTAMP_ISO8601:log_timestamp} %{IP:serverIP} %{WORD:method} %{NOTSPACE:uriStem} %{NOTSPACE:uriQuery} %{NUMBER:port} %{NOTSPACE:username} %{IPORHOST:clientIP} %{NOTSPACE:userAgent} %{NOTSPACE:referer} %{NUMBER:response} %{NUMBER:subresponse} %{NUMBER:win32response} %{NUMBER:timetaken}"] } } date { match =&gt; [ "log_timestamp", "YYYY-MM-dd HH:mm:ss" ] timezone =&gt; "Etc/UTC" remove_field =&gt; [ "log_timestamp", "@timestamp" ] target =&gt; [ "log_timestamp2" ] } ruby { code =&gt; "tstamp = event.get('log_timestamp2').to_i event.set('logdatetime', Time.at(tstamp).strftime('%Y-%m-%d %H:%M:%S')) event.set('logdate', Time.at(tstamp).strftime('%Y-%m-%d'))" } if [bytesSent] { ruby { code =&gt; "event['kilobytesSent'] = event['bytesSent'].to_i / 1024.0" } } if [bytesReceived] { ruby { code =&gt; "event['kilobytesReceived'] = event['bytesReceived'].to_i / 1024.0" } } ruby { code =&gt; "event.set('clientRealIP', event.get('clientIP'))" } if [xrealIP] { ruby { code =&gt; "event.set('clientRealIP', event.get('xrealIP'))" } } if [xforwarderfor] { ruby { code =&gt; "event.set('clientRealIP', event.get('xforwarderfor'))" } } mutate { convert =&gt; ["bytesSent", "integer"] convert =&gt; ["bytesReceived", "integer"] convert =&gt; ["timetaken", "integer"] convert =&gt; ["port", "integer"] add_field =&gt; { "clientHostname" =&gt; "%{clientIP}" } } useragent { source=&gt; "useragent" prefix=&gt; "browser" } kv { source =&gt; "uriQuery" prefix =&gt; "uriQuery__" allow_duplicate_values =&gt; false field_split =&gt; "&amp;" include_keys =&gt; [ "utm_medium", "utm_source", "utm_campaign", "utm_term", "utm_content", "yclid", "region" ] } mutate { join =&gt; { "uriQuery__utm_source" =&gt; "," } join =&gt; { "uriQuery__utm_medium" =&gt; "," } join =&gt; { "uriQuery__utm_campaign" =&gt; "," } join =&gt; { "uriQuery__utm_term" =&gt; "," } join =&gt; { "uriQuery__utm_content" =&gt; "," } join =&gt; { "uriQuery__yclid" =&gt; "," } join =&gt; { "uriQuery__region" =&gt; "," } } } output { #stdout {codec =&gt; rubydebug} clickhouse { headers =&gt; ["Authorization", "Basic abcdsfks..."] http_hosts =&gt; ["http://127.0.0.1:8123"] save_dir =&gt; "/etc/logstash/tmp" table =&gt; "log_web" request_tolerance =&gt; 1 flush_size =&gt; 10000 idle_flush_time =&gt; 1 mutations =&gt; { "fld_log_file_name" =&gt; "fld_log_file_name" "fld_server_name" =&gt; "fld_server_name" "fld_app_name" =&gt; "fld_app_name" "fld_app_module" =&gt; "fld_app_module" "fld_website_name" =&gt; "fld_website_name" "logdatetime" =&gt; "logdatetime" "logdate" =&gt; "logdate" "serverIP" =&gt; "serverIP" "method" =&gt; "method" "uriStem" =&gt; "uriStem" "uriQuery" =&gt; "uriQuery" "port" =&gt; "port" "username" =&gt; "username" "clientIP" =&gt; "clientIP" "clientRealIP" =&gt; "clientRealIP" "userAgent" =&gt; "userAgent" "referer" =&gt; "referer" "response" =&gt; "response" "subresponse" =&gt; "subresponse" "win32response" =&gt; "win32response" "timetaken" =&gt; "timetaken" "uriQuery__utm_medium" =&gt; "uriQuery__utm_medium" "uriQuery__utm_source" =&gt; "uriQuery__utm_source" "uriQuery__utm_campaign" =&gt; "uriQuery__utm_campaign" "uriQuery__utm_term" =&gt; "uriQuery__utm_term" "uriQuery__utm_content" =&gt; "uriQuery__utm_content" "uriQuery__yclid" =&gt; "uriQuery__yclid" "uriQuery__region" =&gt; "uriQuery__region" } } }</span></span></code> </pre> <br></div></div><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">pipelines.yml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment"># This file is where you define your pipelines. You can define multiple. # For more information on multiple pipelines, see the documentation: # https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html - pipeline.id: log_web__filebeat_clickhouse path.config: "/etc/logstash/log_web__filebeat_clickhouse.conf"</span></span></code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ClickHouse.  Ø³Ø¬Ù„ Ø§Ù„ØªØ®Ø²ÙŠÙ† </h4><br>  ÙŠØªÙ… Ø­ÙØ¸ Ø³Ø¬Ù„Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ø­Ø¯ (Ø§Ù†Ø¸Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ù„).  Ø§Ù„ØºØ±Ø¶ Ù…Ù†Ù‡ Ù‡Ùˆ ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ù…ØªØ´Ø§Ø¨Ù‡Ø© Ù„Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø³Ø¬Ù„Ø§Øª IIS ÙˆØ³Ø¬Ù„Ø§Øª apache Ùˆ nginx.  Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙŠ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠØ© ÙˆØ§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª ØŒ Ø³ÙŠØªÙ… ØªØ²ÙˆÙŠØ¯ Ø¬Ø¯ÙˆÙ„ Ù…Ù†ÙØµÙ„ Ø¨Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„ (Ø§Ù„Ø¢Ù† ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØµÙ…ÙŠÙ…). <br><br>  Ø¹Ù†Ø¯ ØªØµÙ…ÙŠÙ… Ø¬Ø¯ÙˆÙ„ ØŒ Ù…Ù† Ø§Ù„Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ø­Ø³Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… ÙØ±Ø²Ù‡Ø§ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ®Ø²ÙŠÙ†).  ØªØ¹ØªÙ…Ø¯ Ø¯Ø±Ø¬Ø© Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ³Ø±Ø¹Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù„Ù‰ Ù‡Ø°Ø§.  ÙÙŠ Ù…Ø«Ø§Ù„Ù†Ø§ ØŒ Ø§Ù„Ù…ÙØªØ§Ø­ Ù‡Ùˆ <br>  ORDER BY (fld_app_name ØŒ fld_app_module ØŒ logdatetime) <br>  ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ ØŒ Ø¨Ø§Ø³Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ØŒ Ø§Ø³Ù… Ù…ÙƒÙˆÙ† Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¯Ø«.  ÙƒØ§Ù† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù„Ø­Ø¯Ø« ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù… Ø§Ù„Ø£ÙˆÙ„.  Ø¨Ø¹Ø¯ Ù†Ù‚Ù„Ù‡Ø§ Ø¥Ù„Ù‰ Ø¢Ø®Ø± Ù…ÙƒØ§Ù† ØŒ Ø¨Ø¯Ø£Øª Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ØªØ¹Ù…Ù„ Ø¨Ù…Ø¹Ø¯Ù„ Ø£Ø³Ø±Ø¹ Ù…Ø±ØªÙŠÙ† ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§.  Ø³ÙŠØªØ·Ù„Ø¨ ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø£Ø¬Ù„ ClickHouse Ù„Ø¥Ø¹Ø§Ø¯Ø© ÙØ±Ø² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ.  Ù‡Ø°Ù‡ Ø¹Ù…Ù„ÙŠØ© ØµØ¹Ø¨Ø© ØŒ Ù„Ø°Ø§ ÙÙ…Ù† Ø§Ù„Ù…Ø³ØªØ­Ø³Ù† Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ ÙˆÙ‚Øª Ù…Ø¨ÙƒØ± Ø¨Ù…Ø§ ÙŠØ¬Ø¨ ØªØ¶Ù…ÙŠÙ†Ù‡ ÙÙŠ Ù…ÙØªØ§Ø­ Ø§Ù„ÙØ±Ø². <br><br>  ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù„Ù‰ Ø£Ù†Ù‡ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ØŒ Ø¸Ù‡Ø± Ù†ÙˆØ¹ Ø¨ÙŠØ§Ù†Ø§Øª LowCardinality.  Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ØŒ ÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¶ØºÙˆØ·Ø© Ø¨Ø´ÙƒÙ„ Ø­Ø§Ø¯ Ù„ØªÙ„Ùƒ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø¹Ø¯Ø¯ Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª). <br><br>  Ø§Ù„Ø¢Ù† ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥ØµØ¯Ø§Ø± 19.6 ØŒ ÙˆÙ†Ø­Ù† Ù†Ø®Ø·Ø· Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø­Ø¯Ø«.  ØªØ¶Ù…Ù†Øª Ù…ÙŠØ²Ø§Øª Ø±Ø§Ø¦Ø¹Ø© Ù…Ø«Ù„ Adaptive Granularity ÙˆÙ…Ø¤Ø´Ø±Ø§Øª Skipping ÙˆØ¨Ø±Ù†Ø§Ù…Ø¬ ØªØ±Ù…ÙŠØ² DoubleDelta ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„. <br><br>  Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ ØŒ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª ØŒ ÙŠØªÙ… Ø¶Ø¨Ø· Ù…Ø³ØªÙˆÙ‰ Ø³Ø¬Ù„ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„ØªØªØ¨Ø¹.  ÙŠØªÙ… ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆØ£Ø±Ø´ÙØªÙ‡Ø§ ØŒ ÙˆÙ„ÙƒÙ† ÙŠØªÙ… ØªÙˆØ³ÙŠØ¹Ù‡Ø§ Ø¥Ù„Ù‰ ØºÙŠØºØ§ Ø¨Ø§ÙŠØª.  Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø­Ø§Ø¬Ø© ØŒ ÙÙŠÙ…ÙƒÙ†Ùƒ Ø¶Ø¨Ø· Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ­Ø°ÙŠØ± ØŒ Ø«Ù… ÙŠÙ†Ø®ÙØ¶ â€‹â€‹Ø­Ø¬Ù… Ø§Ù„Ø³Ø¬Ù„ Ø¨Ø´ÙƒÙ„ Ø­Ø§Ø¯.  ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ù…Ù„Ù config.xml: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- Possible levels: https://github.com/pocoproject/poco/blob/develop/Foundation/include/Poco/Logger. h#L105 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">level</span></span></span><span class="hljs-tag">&gt;</span></span>warning<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">level</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø¨Ø¹Ø¶ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ÙÙŠØ¯Ø©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">      Debian,     Linux      Altinity.           : https://www.altinity.com/blog/2017/12/18/logstash-<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-clickhouse sudo yum <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> clickhouse-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> sudo yum <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> clickhouse-server.noarch <span class="hljs-number"><span class="hljs-number">1.</span></span>   sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">status</span></span> clickhouse-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-number"><span class="hljs-number">2.</span></span>   sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> clickhouse-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-number"><span class="hljs-number">3.</span></span>   sudo systemctl <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> clickhouse-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>        (   <span class="hljs-string"><span class="hljs-string">";"</span></span>) clickhouse-<span class="hljs-keyword"><span class="hljs-keyword">client</span></span> <span class="hljs-comment"><span class="hljs-comment">--multiline clickhouse-client --multiline --host 127.0.0.1 --password pa55w0rd clickhouse-client --multiline --host 127.0.0.1 --port 9440 --secure --user default --password pa55w0rd                /tmp/log_web_failed.json            : clickhouse-client --host 127.0.0.1 --password password --query="INSERT INTO log_web FORMAT JSONEachRow" &lt; /tmp/log_web_failed__fixed.json sudo mv /etc/logstash/tmp/log_web_failed.json /etc/logstash/tmp/log_web_failed__fixed.json sudo chown user_dev /etc/logstash/tmp/log_web_failed__fixed.json sudo clickhouse-client --host 127.0.0.1 --password password --query="INSERT INTO log_web FORMAT JSONEachRow" &lt; /etc/logstash/tmp/log_web_failed__fixed.json sudo mv /etc/logstash/tmp/log_web_failed__fixed.json /etc/logstash/tmp/log_web_failed__fixed_.json     quit; ##  TLS https://www.altinity.com/blog/2019/3/5/clickhouse-networking-part-2 openssl s_client -connect log.domain.com:9440 &lt; /dev/null</span></span></code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  LogStash.  FileBeat Ø³Ø¬Ù„ Ø¬Ù‡Ø§Ø² Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ </h4><br>  ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ù…Ù† FileBeat Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± RabbitMQ.  Ù‡Ù†Ø§Ùƒ Ù†Ù‚Ø·ØªØ§Ù†: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù„Ø³ÙˆØ¡ Ø§Ù„Ø­Ø¸ ØŒ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ FileBeat Ø¹Ù„Ù‰ Ù…ÙƒÙˆÙ† Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„ÙƒØªØ§Ø¨Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ RabbitMQ.  ÙˆÙ…Ø«Ù„ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ¸ÙŠÙØ© ØŒ Ø¥Ø°Ø§ Ø­ÙƒÙ…Ù†Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ø´ Ø¹Ù„Ù‰ Ø¬ÙŠØ«Ø¨ Ø¨Ù‡Ù… ØŒ Ù„ÙŠØ³Øª Ù…Ø®Ø·Ø·Ø© Ù„Ù„ØªÙ†ÙÙŠØ°.  ÙŠÙˆØ¬Ø¯ Ù…ÙƒÙˆÙ† Ø¥Ø¶Ø§ÙÙŠ Ù„Ù€ Kafka ØŒ Ù„ÙƒÙ† Ù„Ø³Ø¨Ø¨ Ù…Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„. </li><li style=";text-align:right;direction:rtl">  Ù‡Ù†Ø§Ùƒ Ù…ØªØ·Ù„Ø¨Ø§Øª Ù„Ø¬Ù…Ø¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙÙŠ DMZ.  Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„ÙŠÙ‡Ø§ ØŒ ÙŠØ¬Ø¨ Ø£ÙˆÙ„Ø§Ù‹ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø«Ù… ÙŠÙ‚Ø±Ø£ LogStash Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±. </li></ol><br>  Ù„Ø°Ù„Ùƒ ØŒ Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø­Ø§Ù„Ø© Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù… ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¬Ø±Ø¯Ø© Ù…Ù† Ø§Ù„Ø³Ù„Ø§Ø­ ØŒ ÙŠØªØ¹ÙŠÙ† Ø¹Ù„ÙŠÙƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø«Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ù…Ø¹Ù‚Ø¯ Ù‚Ù„ÙŠÙ„Ø§Ù‹.  Ù…Ø«Ø§Ù„ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ØªØ§Ù„ÙŠ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">iis_w3c_logs__filebeat_rabbitmq.conf</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">input { beats { port =&gt; 5044 type =&gt; 'iis' ssl =&gt; true ssl_certificate_authorities =&gt; ["/etc/pki/tls/certs/app/ca.pem", "/etc/pki/tls/certs/app/ca-issuing.pem"] ssl_certificate =&gt; "/etc/pki/tls/certs/app/queue.domain.com.cer" ssl_key =&gt; "/etc/pki/tls/certs/app/queue.domain.com-pkcs8.key" ssl_verify_mode =&gt; "peer" } } output { <span class="hljs-comment"><span class="hljs-comment">#stdout {codec =&gt; rubydebug} rabbitmq { host =&gt; "127.0.0.1" port =&gt; 5672 exchange =&gt; "monitor.direct" exchange_type =&gt; "direct" key =&gt; "%{[fields][fld_app_name]}" user =&gt; "q-writer" password =&gt; "password" ssl =&gt; false } }</span></span></code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  RabbitMQ.  Ù‚Ø§Ø¦Ù…Ø© Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ </h4><br>  ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ù„ØªØ®Ø²ÙŠÙ† Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø§Ù„Ø³Ø¬Ù„ ÙÙŠ DMZ.  ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Filebeat â†’ LogStash.  ØªØªÙ… Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ù…Ù† Ø®Ø§Ø±Ø¬ DMZ Ø¹Ø¨Ø± LogStash.  Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ù† Ø®Ù„Ø§Ù„ RabboitMQ ØŒ ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­ÙˆØ§Ù„ÙŠ 4 Ø¢Ù„Ø§Ù Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠØ©. <br><br>  ÙŠØªÙ… ØªÙƒÙˆÙŠÙ† ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆÙÙ‚Ù‹Ø§ Ù„Ø§Ø³Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ØŒ Ø£ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª ØªÙƒÙˆÙŠÙ† FileBeat.  Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ØªÙ‚Ø¹ ÙÙŠ Ø·Ø§Ø¨ÙˆØ± ÙˆØ§Ø­Ø¯.  Ø¥Ø°Ø§ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø®Ø¯Ù…Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø£ÙŠ Ø³Ø¨Ø¨ Ù…Ù† Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ ØŒ ÙÙ„Ù† ÙŠØ¤Ø¯ÙŠ Ø°Ù„Ùƒ Ø¥Ù„Ù‰ ÙÙ‚Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: Ø³ÙŠØªÙ„Ù‚Ù‰ FileBeats Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆÙŠÙˆÙ‚Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª.  ÙˆØ³ÙŠØªÙ„Ù‚Ù‰ LogStash ØŒ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø±Ø£ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ØŒ Ø£ÙŠØ¶Ù‹Ø§ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆÙŠÙ†ØªØ¸Ø± Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„Ø§ØªØµØ§Ù„.  Ø¨Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø­Ø§Ù„ ØŒ Ù„Ù† ØªØªÙ… ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. <br><br>  ØªÙØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙˆØªÙƒÙˆÙŠÙ†Ù‡Ø§: <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">sudo /usr/local/bin/rabbitmqadmin/rabbitmqadmin <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exchange</span></span> <span class="hljs-comment"><span class="hljs-comment">--vhost=/ name=monitor.direct type=direct sudo /usr/local/bin/rabbitmqadmin/rabbitmqadmin declare queue --vhost=/ name=web_log durable=true sudo /usr/local/bin/rabbitmqadmin/rabbitmqadmin --vhost="/" declare binding source="monitor.direct" destination_type="queue" destination="web_log" routing_key="site1.domain.ru" sudo /usr/local/bin/rabbitmqadmin/rabbitmqadmin --vhost="/" declare binding source="monitor.direct" destination_type="queue" destination="web_log" routing_key="site2.domain.ru"</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  Grafana.  Ù„ÙˆØ­Ø§Øª </h4><br>  ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙƒÙˆÙ† Ù„ØªØµÙˆØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©.  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ØŒ ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØªØ«Ø¨ÙŠØª Ù…ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ù„Ù€ Grafana 4.6+ plugin.  ÙƒØ§Ù† Ø¹Ù„ÙŠÙ†Ø§ ØªØ¹Ø¯ÙŠÙ„Ù‡ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„Ø²ÙŠØ§Ø¯Ø© ÙƒÙØ§Ø¡Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¹ÙˆØ§Ù…Ù„ ØªØµÙÙŠØ© SQL Ø¹Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©. <br><br>  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ØŒ ÙˆØ¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ†Ù‡Ø§ ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„ØªØµÙÙŠØ© ØŒ ÙØ¥Ù†Ù†Ø§ Ù†Ø±ØºØ¨ ÙÙŠ Ø¹Ø¯Ù… Ø¥Ù†Ø´Ø§Ø¡ Ø´Ø±Ø· ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ WHERE (uriStem = `` AND AND uriStem! = '').  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ØŒ Ø³ÙˆÙ ØªÙ‚Ø±Ø£ ClickHouse Ø¹Ù…ÙˆØ¯ uriStem.  Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù… ØŒ Ø¬Ø±Ø¨Ù†Ø§ Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø®ØªÙ„ÙØ© ÙˆÙ‚Ù…Ù†Ø§ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø·Ø§Ù Ø¨Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ (Ù‚ÙŠÙ…Ø© $ valueIfEmpty) Ø¨Ø­ÙŠØ« ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ù‚ÙŠÙ…Ø© ÙØ§Ø±ØºØ© ØŒ ÙØ¥Ù†Ù‡ Ø³ÙŠØ¹ÙˆØ¯ 1 ØŒ Ø¯ÙˆÙ† Ø°ÙƒØ± Ø§Ù„Ø¹Ù…ÙˆØ¯ Ù†ÙØ³Ù‡. <br><br>  ÙˆØ§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ù„Ù…Ø®Ø·Ø· <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs">$columns(response, count(*) c) from $table where $adhoc and $valueIfEmpty($fld_app_name, 1, fld_app_name = '$fld_app_name') and $valueIfEmpty($fld_app_module, 1, fld_app_module = '$fld_app_module') and $valueIfEmpty($fld_server_name, 1, fld_server_name = '$fld_server_name') and $valueIfEmpty($uriStem, 1, uriStem like '%$uriStem%') and $valueIfEmpty($clientRealIP, 1, clientRealIP = '$clientRealIP')</code> </pre> <br>  Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ SQL Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø¨ÙŠÙ„ (Ù„Ø§Ø­Ø¸ Ø£Ù†Ù‡ ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø­Ù‚ÙˆÙ„ uriStem Ø§Ù„ÙØ§Ø±ØºØ© Ø¥Ù„Ù‰ 1 ÙÙ‚Ø·) <br><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> t, groupArray((response, c)) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> groupArr <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> (intDiv(toUInt32(logdatetime), <span class="hljs-number"><span class="hljs-number">60</span></span>) * <span class="hljs-number"><span class="hljs-number">60</span></span>) * <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> t, response, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> default.log_web <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> (logdate &gt;= toDate(<span class="hljs-number"><span class="hljs-number">1565061982</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (logdatetime &gt;= toDateTime(<span class="hljs-number"><span class="hljs-number">1565061982</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (fld_app_name = <span class="hljs-string"><span class="hljs-string">'site1.domain.ru'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (fld_app_module = <span class="hljs-string"><span class="hljs-string">'web'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> t, response <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span>, response <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  Ø§Ø³ØªÙ†ØªØ§Ø¬ </h4><br>  Ø£ØµØ¨Ø­ Ø¸Ù‡ÙˆØ± Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ClickHouse Ø­Ø¯Ø«Ù‹Ø§ Ù…Ù‡Ù…Ù‹Ø§ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚.  ÙƒØ§Ù† Ù…Ù† Ø§Ù„ØµØ¹Ø¨ Ø£Ù† Ù†ØªØ®ÙŠÙ„ Ø£Ù†Ù‡ ÙÙŠ Ù„Ø­Ø¸Ø© ØŒ ÙƒÙ†Ø§ Ù…Ø³Ù„Ø­ÙŠÙ† Ø¨Ø£Ø¯Ø§Ø© Ù‚ÙˆÙŠØ© ÙˆØ¹Ù…Ù„ÙŠØ© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø®Ù…Ø©.  Ø¨Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø­Ø§Ù„ ØŒ Ù…Ø¹ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªÙ…Ø§Ø«Ù„ Ù„Ø®ÙˆØ§Ø¯Ù… Ù…ØªØ¹Ø¯Ø¯Ø©) ØŒ Ø³ÙŠØµØ¨Ø­ Ø§Ù„Ù…Ø®Ø·Ø· Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ù‹Ø§.  ÙˆÙ„ÙƒÙ† Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹Ø§Øª Ø§Ù„Ø£ÙˆÙ„Ù‰ ØŒ ÙØ¥Ù† Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ù‡ Ø£Ù…Ø± Ù„Ø·ÙŠÙ Ù„Ù„ØºØ§ÙŠØ©.  ÙŠØªØ¨ÙŠÙ† Ø£Ù† Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØµÙ†ÙˆØ¹ "Ù„Ù„Ù†Ø§Ø³". <br><br>  Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ù€ ElasticSearch ØŒ ÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ ØªÙƒÙ„ÙØ© ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆÙ…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ ØŒ ÙˆÙÙ‚Ù‹Ø§ Ù„Ù„ØªÙ‚Ø¯ÙŠØ±Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ØŒ Ù…Ù† Ø®Ù…Ø³ Ø¥Ù„Ù‰ Ø¹Ø´Ø± Ù…Ø±Ø§Øª.  Ø¨Ù…Ø¹Ù†Ù‰ Ø¢Ø®Ø± ØŒ Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ØªÙƒÙˆÙŠÙ† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ø¥Ù„Ù‰ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ ÙØ¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… ClickHouse ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ø·Ø§Ù‚Ø©.  Ù†Ø¹Ù… ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ù„Ø¯Ù‰ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø±Ù† Ø£ÙŠØ¶Ù‹Ø§ Ø¢Ù„ÙŠØ§Øª Ù„Ø¶ØºØ· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Øµ ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙ‚Ù„Ù„ Ø¥Ù„Ù‰ Ø­Ø¯ ÙƒØ¨ÙŠØ± Ù…Ù† Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ØŒ ÙˆÙ„ÙƒÙ† Ø¨Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø¹ ClickHouse ØŒ ÙØ¥Ù† Ù‡Ø°Ø§ Ø³ÙŠÙƒÙˆÙ† Ù…ÙƒÙ„ÙÙ‹Ø§. <br><br>  Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ù…Ù† Ø¬Ø§Ù†Ø¨Ù‡Ø§ ØŒ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ØŒ ÙŠØ¹Ù…Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³Ø±Ø¹Ø© Ù…Ø°Ù‡Ù„Ø©.  Ù„Ø¯ÙŠÙ†Ø§ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù† Ø§Ù„Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø­ÙˆØ§Ù„ÙŠ 200 Ù…Ù„ÙŠÙˆÙ† Ø³Ø¬Ù„) ØŒ ÙˆÙ„ÙƒÙ† Ø§Ù„Ø®Ø§Ø¯Ù… Ù†ÙØ³Ù‡ Ø¶Ø¹ÙŠÙ.  ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù„Ø£ØºØ±Ø§Ø¶ Ø£Ø®Ø±Ù‰ Ù„Ø§ ØªØªØ¹Ù„Ù‚ Ø¨ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø¬Ù„Ø§Øª.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø´Ø§Ù…Ù„Ø© ØŒ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø£Ù…Ù† ØŒ ÙˆØ§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ. <br><br>  ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØŒ Ù‚Ù„ÙŠÙ„Ø§ Ø¹Ù† Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Øª ÙˆØ³Ù„Ø¨ÙŠØ§Øª. <br><br><h4 style=";text-align:right;direction:rtl">  Ø³Ù„Ø¨ÙŠØ§Øª </h4><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙÙŠ Ø­Ø²Ù… ÙƒØ¨ÙŠØ±Ø©.  Ù‡Ø°Ù‡ ØŒ Ù…Ù† Ù†Ø§Ø­ÙŠØ© ØŒ Ù…ÙŠØ²Ø© ØŒ ÙˆÙ„ÙƒÙ† Ù„Ø§ ÙŠØ²Ø§Ù„ ÙŠØªØ¹ÙŠÙ† Ø¹Ù„ÙŠÙƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒÙˆÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ø¤Ù‚ØªÙ‹Ø§.  Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‡Ù…Ø© Ù„ÙŠØ³Øª Ø¯Ø§Ø¦Ù…Ø§ Ø¨Ø³ÙŠØ·Ø© ØŒ ÙˆÙ„ÙƒÙ† Ù„Ø§ ØªØ²Ø§Ù„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø­Ù„.  ÙˆØ£ÙˆØ¯ Ø£Ù† ØªØ¨Ø³ÙŠØ· Ø§Ù„Ù…Ø®Ø·Ø·. </li><li style=";text-align:right;direction:rtl">  ØºØ§Ù„Ø¨Ù‹Ø§ Ù…Ø§ ØªÙ†Ù‚Ø³Ù… Ø¨Ø¹Ø¶ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØºØ±ÙŠØ¨Ø© Ø£Ùˆ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¥Ù„Ù‰ Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.  Ù‡Ø°Ø§ ÙŠØ«ÙŠØ± Ø§Ù„Ù…Ø®Ø§ÙˆÙ ØŒ Ù…Ù…Ø§ ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø§Ù„Ø±ØºØ¨Ø© ÙÙŠ Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø¥Ù„Ù‰ Ø¥ØµØ¯Ø§Ø± Ø¬Ø¯ÙŠØ¯.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙŠØ¹Ø¯ Ù…Ø­Ø±Ùƒ Ø·Ø§ÙˆÙ„Ø© Kafka Ù…ÙŠØ²Ø© Ù…ÙÙŠØ¯Ø© Ù„Ù„ØºØ§ÙŠØ© ØªØªÙŠØ­ Ù„Ùƒ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Kafka ØŒ Ø¯ÙˆÙ† ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø³ØªÙ‡Ù„ÙƒÙŠÙ†.  Ù„ÙƒÙ† Ø¨Ø§Ù„Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø¹Ù„Ù‰ Ø¬ÙŠØ«Ø¨ ØŒ ÙØ¥Ù†Ù†Ø§ Ù„Ø§ Ù†Ø²Ø§Ù„ Ø­Ø°Ø±ÙŠÙ† Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­Ø±Ùƒ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬.  ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ Ø¥Ø°Ø§ Ù„Ù… ØªÙ‚Ù… Ø¨Ø­Ø±ÙƒØ§Øª Ø­Ø§Ø¯Ø© ÙÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ ÙˆØªØ³ØªØ®Ø¯Ù… Ø§Ù„ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØŒ ÙØ³ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø«Ø§Ø¨Øª. </li></ol><br><h4 style=";text-align:right;direction:rtl">  Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ø¬ÙŠØ¯Ø© </h4><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù„Ø§ ØªØ¨Ø·Ø¦. </li><li style=";text-align:right;direction:rtl">  Ø¹ØªØ¨Ø© Ø¯Ø®ÙˆÙ„ Ù…Ù†Ø®ÙØ¶Ø©. </li><li style=";text-align:right;direction:rtl">  Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ù…ÙØªÙˆØ­ </li><li style=";text-align:right;direction:rtl">  Ø¥Ù†Ù‡ Ù…Ø¬Ø§Ù†ÙŠ. </li><li style=";text-align:right;direction:rtl">  Ù…ÙŠØ²Ø§Ù† Ø¬ÙŠØ¯ (Ø§Ù„ØªÙ‚Ø³ÙŠÙ… / Ø§Ù„Ù†Ø³Ø® Ø®Ø§Ø±Ø¬ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚) </li><li style=";text-align:right;direction:rtl">  ÙŠØªÙ… ØªØ¶Ù…ÙŠÙ†Ù‡ ÙÙŠ Ø³Ø¬Ù„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø±ÙˆØ³ÙŠ Ø§Ù„Ø°ÙŠ Ø£ÙˆØµØª Ø¨Ù‡ ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª. </li><li style=";text-align:right;direction:rtl">  ÙˆØ¬ÙˆØ¯ Ø¯Ø¹Ù… Ø±Ø³Ù…ÙŠ Ù…Ù† ÙŠØ§Ù†Ø¯ÙƒØ³. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472912/">https://habr.com/ru/post/ar472912/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472896/index.html">Ù…Ø±ÙˆØ­ÙŠØ© Ù…Ù† Ø·Ø§Ø¨Ø¹Ø©: Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ØŒ Ù‚Ø§Ù… Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ "Ø¨Ø·Ø¨Ø§Ø¹Ø©" Ø¹Ù„Ø¨Ø© ÙƒØ¨ÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù… Ù„Ù…Ø­Ø±Ùƒ Ù…Ø±ÙˆØ­ÙŠØ©</a></li>
<li><a href="../ar472902/index.html">Windows Ù„Ù€ IoT: Ø¯Ø¹Ù… Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ø³Ù‘Ù† ÙˆÙ…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</a></li>
<li><a href="../ar472904/index.html">ÙƒÙŠÙ ØªØ­ÙˆÙ„Øª Ø£Ù…Ø§Ø²ÙˆÙ† Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø£Ø³Ù‡Ù… Ø¥Ù„Ù‰ Ù„Ø¹Ø¨Ø©</a></li>
<li><a href="../ar472908/index.html">Ø¯Ø§ØºØ§Ø²: Ø§Ù„Ø­Ù„Ù‚Ø§Øª (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø«Ø§Ù†ÙŠ)</a></li>
<li><a href="../ar472910/index.html">Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù†Øµ Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ù…Ø§Øª ÙˆØ­Ø²Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙƒÙŠ</a></li>
<li><a href="../ar472914/index.html">Ù…Ø³ØªÙˆØ¯Ø¹ ÙˆØ¸ÙŠÙØ© Wolfram: Ù…Ù†ØµØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…ÙØªÙˆØ­ Ù„Ù…Ù„Ø­Ù‚Ø§Øª Ù„ØºØ© Wolfram</a></li>
<li><a href="../ar472916/index.html">Ø§Ù„Ø®Ù„ÙÙŠØ© ØŒ ÙˆØ§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ ØŒ ÙˆØ®Ø§Ø¯Ù… Ù‡ÙŠ Ø§Ù„Ø£ÙƒØ«Ø± Ø¥Ø«Ø§Ø±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ù…Ù† Ù…Ø¤ØªÙ…Ø± ÙŠÙˆÙ„ÙŠÙˆ Ù‡Ø¨Ø±</a></li>
<li><a href="../ar472918/index.html">Ø§Ù„Ø·ÙŠÙ ZX ÙÙŠ Ø±ÙˆØ³ÙŠØ§ ÙˆØ±Ø§Ø¨Ø·Ø© Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªÙ‚Ù„Ø©: ÙƒÙŠÙ ØªØ­ÙˆÙ„Øª Ø§Ù„Ø³Ø¹ÙŠ ÙˆØ±Ø§Ø¡ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø­Ø§Ù„ÙŠØ§</a></li>
<li><a href="../ar472922/index.html">Ù…Ø¨Ø±Ù…Ø¬ Ø§Ù„Ù…Ø¯Ø§ÙØ¹ Ø£Ù‚ÙˆÙ‰ Ù…Ù† Ø§Ù„Ø§Ù†ØªØ±ÙˆØ¨ÙŠØ§</a></li>
<li><a href="../ar472926/index.html">Ù‚Ø§Ù†ÙˆÙ† ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯ (Ø§Ù„Ø¬Ø²Ø¡ 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>