<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тП│ ЁЯНЦ ЁЯМЙ рд╣рдо STM32F030f4p6 рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░реНрд╕ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ ЁЯИ╡ ЁЯЩБ ЁЯжВ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="0. рд▓реЗрдЦ рдкрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ 
 рдЗрд╕ рд▓реЗрдЦ рдХреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджреНрджреЗрд╢реНрдп рд╣реИрдВ: 



1. рдЗрд╕ рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рджрд┐рдЦрд╛рдПрдВ; 
2. рдЙрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рджрд┐рдЦрд╛рдПрдВ рдЬрд┐рд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╣рдо STM32F030f4p6 рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░реНрд╕ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437234/"><img src="https://habrastorage.org/webt/ex/dh/0-/exdh0-6tdd7sj-4usxbip9chsz0.jpeg"><br><br><h1>  0. рд▓реЗрдЦ рдкрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ </h1><br>  рдЗрд╕ рд▓реЗрдЦ рдХреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджреНрджреЗрд╢реНрдп рд╣реИрдВ: <br><br><ol><li>  рдЗрд╕ рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рджрд┐рдЦрд╛рдПрдВ; </li><li>  рдЙрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рджрд┐рдЦрд╛рдПрдВ рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЖрдк рдПрдХ рдирд┐рдорд┐рд╖ рдПрд▓рдИрдбреА рдкреНрд░реЛрдЧреНрд░рд╛рдо рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдХреЗрд╡рд▓ рдкреНрд░рд▓реЗрдЦрди рдФрд░ рддрд░реНрдХ рдкрд░ рдирд┐рд░реНрднрд░ рд╣реИ; </li><li>  рдЙрд╕ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдХрд┐рд╕реА рдРрд╕реА рднрд╛рд╖рд╛ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдВ рдЬреЛ рдЙрд╕ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддреА рд╣реИ рдЬреЛ рд╕реВрдХреНрд╖реНрдо рд░реВрдк рд╕реЗ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИред </li></ol><br>  рдЕрддрд┐рд░рд┐рдХреНрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдХреЛрдб рдиреНрдпреВрдирддрдо рд╣реЛ рдЬрд╛рдПрдЧрд╛ - рд╣рдо рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рд╕рд┐рд╡рд╛рдп рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рдЬреЛ рдПрдХ рдЦрд╛рд▓реА, рд▓реЗрдХрд┐рди рд╡реИрдз, рдлрд░реНрдорд╡реЗрдпрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВред  рдпрд╛рдиреА  рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛрдб рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЬреЛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рднреА рдЙрдкрдпреЛрдЧреА рдирд╣реАрдВ рд╣реИред <br><a name="habracut"></a><br>  рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br><ol><li>  рдбреЗрдЯрд╢реАрдЯ STM32F030x4 (рдореИрдВ рдЬрдирд╡рд░реА 2017 рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ DocID024849 Rev 3); </li><li>  RM0360 рд╕рдВрджрд░реНрдн рдореИрдиреБрдЕрд▓ STM32F030x4 / x6 / x8 / xC (рдореИрдВ рдЕрдкреНрд░реИрд▓ 2017 рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ DocID025023 Rev 4); </li><li>  рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдбред </li></ol><br>  рдЖрдк рдЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреНрд▓рд╛рдЙрдб</a> рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  рд▓реЗрдЦ рдореЗрдВ рдЯрд╛рдЗрдорд░ рдкрд░ рд╡рд┐рдЪрд╛рд░ <i>рдирд╣реАрдВ</i> рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдХреЛрдб рдореЗрдВ рд╢рд╛рдорд┐рд▓ <i>рдирд╣реАрдВ</i> рд╣реЛрдЧрд╛ред <br>  ST-LINK рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХрд╛ рдЙрдкрдпреЛрдЧ <i>рдирд╣реАрдВ</i> рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ USB-COM рдПрдбрд╛рдкреНрдЯрд░ (RS232 рдЬреЛ PL2303HX рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдПрдХ COM рдкреЛрд░реНрдЯ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рддрд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдлреЛрдЯреЛ рдПрдбреЙрдкреНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/wp/em/u8/wpemu8n1juvbuipavxu-mzfa2eq.jpeg"></div></div><br>  рд╡рд┐рдВрдбреЛрдЬ рдПрдХреНрд╕ рд╣реЛрд╕реНрдЯ рдкрд░ рд╡рд░реНрдЪреБрдЕрд▓рдмреЙрдХреНрд╕ рд╕рдВрд╕реНрдХрд░рдг 5.2.22r126460 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рдиреЗ рд╡рд╛рд▓реА рдПрдХ рд╡рд┐рдВрдбреЛрдЬрд╝ рдПрдХреНрд╕рдкреА рдкреНрд░реЛрдлреЗрд╢рдирд▓ рдПрд╕рдкреА 3 рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдкрд░ рд╕рдм рдХреБрдЫ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br><h1>  1. USB-COM рдПрдбрд╛рдкреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h1><br>  рд╡рд┐рдВрдбреЛрдЬ рдХреЛрдИ рдорджрдж рдирд╣реАрдВ рд╣реИ, рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕рд╛рдЗрдЯ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛрд▓рд┐рдлрд┐рдХ</a> (Google рдореЗрдВ рдЕрдиреБрд░реЛрдз " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛрд▓рд┐рдлрд┐рдХ</a> рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рдкрд╣рд▓рд╛ рд▓рд┐рдВрдХ) рдбреНрд░рд╛рдЗрд╡рд░ USB рд╕реЗ UART / рд╕реАрд░рд┐рдпрд▓ / рдкреНрд░рд┐рдВрдЯрд░ <b>PL2303 рд╡рд┐рдВрдбреЛрдЬ рдбреНрд░рд╛рдЗрд╡рд░</b> (рдЖрдкрдХреЛ <i>рдорд╛рдирдХ рдбреНрд░рд╛рдЗрд╡рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ</i> )ред  рдпрд╛ рдЖрдк рдореЗрд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреНрд▓рд╛рдЙрдб</a> рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ, рд░рд┐рдмреВрдЯ рдХрд░реЗрдВ рдФрд░ рдирдпрд╛ COM рдкреЛрд░реНрдЯ рджреЗрдЦреЗрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдФрд░ рдирдП COM рдкреЛрд░реНрдЯ рдХреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/tq/tt/dh/tqttdhvov6eiov75df-pqcycz0s.png"></div></div><br>  рдкреЛрд░реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдорд╛рдирдХ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рд╣реИред  рдЖрдк рдЕрдкрдиреЗ рд╡рд┐рд╡реЗрдХ рдкрд░ COM рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред  рдореЗрд░реЗ рдЕрдиреБрднрд╡ рдореЗрдВ, рдореЗрд░реЗ рдЬреАрд╡рди рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рдореИрдВрдиреЗ рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рджреЗрдЦрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреЗрд╡рд▓ рдкрд╣рд▓реЗ 4 COM рдкреЛрд░реНрдЯ рджреЗрдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВ, рдЕрдЧрд░ рдореИрдВ рдЧрд▓рдд рдирд╣реАрдВ рд╣реВрдБ рддреЛ рдпрд╣ рд╡рд┐рдВрдбреЛрдЬрд╝ рдХреЗ рддрд╣рдд рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рдмреНрд▓реВрдЯреВрде рдЯрд░реНрдорд┐рдирд▓ рдерд╛ред <br><br><div class="spoiler">  <b class="spoiler_title">COM рдкреЛрд░реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ak/ad/ep/akadepan2w3tldshsr6sys69jo4.png"><br></div></div><br><h1>  2. рдмреЛрд░реНрдб рдкрд░ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛ рднрд░рдирд╛ </h1><br><h2>  2.0 рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ </h2><br>  рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">STM</a> рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ <b>FLASHER-STM32</b> рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ (рд╡рд┐рд╡рд░рдг рдореЗрдВ рдЗрд╕реЗ STM32 рдлреНрд▓реИрд╢ рд▓реЛрдбрд░ рдкреНрд░рджрд░реНрд╢рдирдХрд╛рд░реА (UM0462) рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ), рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рд▓рд┐рдП рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдбрд░рд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ - рдЕрдВрдд рдореЗрдВ рд╣рдо рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдХреЗ рд╕рд╛рде рдЬрд╝рд┐рдк рд╕рдВрдЧреНрд░рд╣ рдЫреЛрдбрд╝ рджреЗрдВрдЧреЗ;  рдЕрдЧрд▓рд╛-&gt; рдЕрдЧрд▓рд╛-&gt; рдЕрдЧрд▓рд╛ ... рдФрд░ рд╕рдм рдХреБрдЫ рд╕реНрдерд╛рдкрд┐рдд рд╣реИред  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╢реЙрд░реНрдЯрдХрдЯ рдмрдирд╛рддрд╛ рд╣реВрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдпрд╣рд╛рдБ рдЙрдкрдпреЛрдЧрд┐рддрд╛ (рд╕рд╛рдЗрдЯ рдХрд╛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ) рд╣реИ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/oa/4a/xz/oa4axzxm4eljcbpzubyspqghcbe.png"><br></div></div><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЙрдкрдпреЛрдЧрд┐рддрд╛ <i>C: рдкреНрд░реЛрдЧреНрд░рд╛рдо рдлрд╝рд╛рдЗрд▓реЗрдВ \ STMicroelectronics \ Software \ Flash рд▓реЛрдбрд░ рдбреЗрдореЛ \ STMFlashLoader Demo.exe рдХреЗ рд▓рд┐рдП рдкрде</i> ред <br><br><h2>  реи.рез рдмреВрде-рд╕рдВрдЬреНрдЮрд╛ </h2><br>  рдмреЛрд░реНрдб рдкрд░ рдПрдХ BOOT рдЬрдореНрдкрд░ рд╣реИред <br><br><ul><li>  рдЬрдм рдЬрдореНрдкрд░ <b>рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ</b> , рддреЛ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдЕрдкрдиреА рдореЗрдореЛрд░реА рд╕реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░реЗрдЧрд╛ (рдпрд╛рдиреА, рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рдд рдкреНрд░реЛрдЧреНрд░рд╛рдо)ред </li><li>  рдЬрдм рдЬрдореНрдкрд░ <b>рдЦреБрд▓рд╛ рд╣реЛрддрд╛ рд╣реИ</b> , рддреЛ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдЖрд░рдПрдХреНрд╕ рдФрд░ TX рд▓рд╛рдЗрдиреЛрдВ рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реЗрдЧреА, рдЕрд░реНрдерд╛рддред  рдЗрд╕реЗ COM рдкреЛрд░реНрдЯ (рдПрдбреЙрдкреНрдЯрд░ рд╕реЗ рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ) рд╕реЗ рдлреНрд▓реИрд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><h2>  2.2 рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ </h2><br><img src="https://habrastorage.org/webt/pu/oc/h3/puoch3mqjkqfryjvcnxfg9zeycq.png"><br><br>  рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд▓рд╛рдПрдВ, рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╣реИ (рдЬрд┐рд╕рдореЗрдВ рдиреНрдпреВрдирддрдо рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣реИрдВ)ред  рдкрд╣рд▓реА рд╡рд┐рдВрдбреЛ рдкрд░, рдЪреБрдиреЗрдВ: <br><br><ol><li>  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (рдореЗрд░реЗ рдкрд╛рд╕ COM-3 рд╣реИ); </li><li>  рд╡рд╣ рдЧрддрд┐ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдХрдВрдкреНрдпреВрдЯрд░ рдФрд░ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕рдВрдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ (IMHO, 9600 рд╕рд╛рдорд╛рдиреНрдп рдореВрд▓реНрдп); </li><li>  рдбреЗрдЯрд╛ рдмрд┐рдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ (рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдпрд╣ рд╡рд┐рдВрдбреЛ рдореЗрд░реЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ); </li><li>  рд╕рдорддрд╛ (рдореБрдЭреЗ рдХреЛрдИ рд╕рдорд╛рдирддрд╛ рдирд╣реАрдВ рд╣реИ, рдЕрд░реНрдерд╛рддреН рдХреЛрдИ рдирд╣реАрдВ); </li><li>  рдЗрдХреЛ (рдореЗрд░реЗ рдкрд╛рд╕ рдСрдл рд╣реИ); </li><li>  рдкреНрд░рддреАрдХреНрд╖рд╛ рд╕рдордп (рдореЗрд░реЗ рдкрд╛рд╕ 10 рд╕реЗрдХрдВрдб рд╣реИрдВ)ред </li></ol><br>  рдЕрдЧрд▓рд╛ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдФрд░ рдпрджрд┐ рд╕рдм рдХреБрдЫ рдХреНрд░рдо рдореЗрдВ рд╣реИ, рддреЛ рд╣рдо рдПрдХ рд╣рд░реЗ рд░рдВрдЧ рдХреА рд░реЛрд╢рдиреА рджреЗрдЦреЗрдВрдЧреЗ рдФрд░ "рд▓рдХреНрд╖реНрдп рдкрдардиреАрдп рд╣реИ";  рдпрджрд┐ рд╣рдо рд▓рд╛рд▓ рдмрддреНрддреА рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдХрдВрдкреНрдпреВрдЯрд░ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдпрджрд┐ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рддреЛ рд▓рдХреНрд╖реНрдп рдкрдардиреАрдп рд╣реИ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gd/9y/hw/gd9yhwnpu15asiupizayeozvsfo.png"><br></div></div><br>  рд╣рдореЗрд╢рд╛ рдорджрдж рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЪрд░рдгреЛрдВ рдХрд╛ рдХреНрд░рдо: <br><br><ol><li>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдмреЛрд░реНрдб рдкрд░ BOOT рдЬрдореНрдкрд░ рдмрдВрдж рд╣реИ рдпрд╛ рдирд╣реАрдВред </li><li>  рджреВрд╕рд░реЗ, рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреА рд╢рдХреНрддрд┐ рдХреЛ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ рдЕрдзрд┐рдорд╛рдирддрдГ рдмреЛрд░реНрдб рд╕реЗ рдПрдбрд╛рдкреНрдЯрд░ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реА TX рдФрд░ RX рд▓рд╛рдЗрдиреЗрдВ (рдЖрдк рдЬрдореАрди рдХреЛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ)ред </li><li>  рддреАрд╕рд░рд╛, рдкреНрд░реЛрдЧреНрд░рд╛рдо рдореЗрдВ, рдмреИрдХ рдЯреВ рдж рдПрдВрдб, рдпрд╛рдиреАред  рдкрд╣рд▓реЗ рдкреГрд╖реНрда рдкрд░, рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЗрд╕реЗ рдмрдВрдж рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░реЗрдВ (рдЖрдо рддреМрд░ рдкрд░ рдмреЛрд▓рдирд╛, рдпрд╣ рдХрднреА-рдХрднреА рдЬрдорд╛ рджреЗрддрд╛ рд╣реИ)ред  рдЗрд╕ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмреЛрд░реНрдб рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрдиреЗрдХреНрд╢рди рд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрд╢рд╛ рдкрд╣рд▓реЗ рдкреГрд╖реНрда рд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред </li><li>  рдЪреМрдерд╛, рдПрдбреЗрдкреНрдЯрд░ рд╕реЗ рддрд╛рд░реЛрдВ рдХреЛ рдмреЛрд░реНрдб рддрдХ рдЙрдард╛рдПрдВ рдФрд░ рдХрд╛рд░реНрдпрдХреНрд░рдо рдореЗрдВ рдлрд┐рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ (рдкрд╣рд▓реЗ рдкреГрд╖реНрда рд╕реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ!)ред </li></ol><br>  рдпрджрд┐ рдЕрдиреНрдп рд╕рднреА рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдм рдХреБрдЫ рдмрдВрдж рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдмреЛрд░реНрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдХреНрдпреЛрдВрдХрд┐  рдореИрдВ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВ, рдореБрдЭреЗ рдХрдИ рдмрд╛рд░ USB-COM рдПрдбрд╛рдкреНрдЯрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рджреНрд╡рд╛рд░рд╛ рдЗрд╕рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ, рдФрд░ рд╣реЛрд╕реНрдЯ рдорд╢реАрди рдХреЗ рдкрд╛рд╕ рдЯреВрдЯреЗ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдирд╣реАрдВ рд╣реИред <br><br>  рдПрдХ рдЕрдиреНрдп рд╡рд┐рдХрд▓реНрдк рдЬреЛ рдореБрдЭреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рджреМрд░рд╛рди рдХрд╛рдо рдХрд░рддреЗ рд╣реБрдП рдорд┐рд▓рд╛, рд╡рд╣ рд╣реИ рд▓рдЧрд╛рддрд╛рд░ рдЦреАрдВрдЪрддреЗ рддрд╛рд░реЛрдВ рдХреЗ рдмрдЬрд╛рдп рдмреЛрд░реНрдб рдкрд░ рдПрдХ рдмрдЯрди рджрдмрд╛рдирд╛ред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ BOOT рдЬрдореНрдкрд░ рдХреЛ рдмрдВрдж рдФрд░ рдЦреЛрд▓рдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдмрдЯрди рдХреЛ рдмрд╛рд╣рд░реА <abbr title="exterNal ReSeT">NRST</abbr> рд░реАрд╕реЗрдЯ рдХреЗ рдкреИрд░ рддрдХ рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЕрдЧрд▓реА рд╡рд┐рдВрдбреЛ рдореЗрдВ, рд▓рдХреНрд╖реНрдп рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рд▓рдХреНрд╖реНрдпред  рд╡реИрд╕реЗ, рдХрднреА-рдХрднреА рдпрд╣рд╛рдВ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ (рд╢рд╛рдпрдж рдПрдХ рдмрдЧ) рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдмрд╛рдПрдВ рдЙрдкрдХрд░рдг, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрд╕рдЯреАрдПрдо 32 рдХреЗ рдмрдЬрд╛рдп рдПрд╕рдЯреАрдПрдо 8 рджреЗрдЦреЗрдВ - рдХрд╣реАрдВ рди рдХрд╣реАрдВ рдХрд┐рд╕реА рддрд░рд╣ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдереА, рдЙрдкрдЪрд╛рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдЪрд░рдг рдкрд░ рдЖрдк рдиреЗрдХреНрд╕реНрдЯ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд▓реНрджреА рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рд▓реЗрдХрд┐рди рд╣рдореЗрд╢рд╛ рдЗрд╕ рддрдереНрдп рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╡рд╛рдВрдЫрд┐рдд рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рд▓рдХреНрд╖реНрдп рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдЙрдкрдХрд░рдг рдЪрдпрди рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░реЗрдВ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zz/p8/83/zzp88341ayrb95ymtn1bf3-elvq.png"><br></div></div><br>  рдХреИрд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреМрди рд╕рд╛ рдбрд┐рд╡рд╛рдЗрд╕ рд╣реИ?  - рд╣рдо рдЪрд┐рдк рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕ рдкрд░ рд▓рд┐рдЦреЗ рдЧрдП рд╕рднреА рдЪреАрдЬреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдиреА рдЪрд┐рдк рдкрд░ <i>рдбреЗрдЯрд╛рд╢реАрдЯ</i> рдХреЛ рдЦреЛрд▓рддреЗ рд╣реИрдВ, рдЕрдиреБрднрд╛рдЧ <i>рдЖрджреЗрд╢ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛</i> рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдкрддреНрд░ рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/pa/kn/ga/pakngat6l5tahlk-y75nledccuy.png"><img src="https://habrastorage.org/webt/f0/fb/jk/f0fbjkrbe8a-g5uqbjdovxzr_fc.png"><br><br><div class="spoiler">  <b class="spoiler_title">рдореИрдВ рд▓рдХреНрд╖реНрдп рдореЗрдВ рдЕрдкрдиреА рдЪрд┐рдк (16K) рдХрд╛ рдЪрдпрди рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдЖрдЧреЗ рдмрдврд╝рддрд╛ рд╣реВрдВред</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/qs/u4/v2/qsu4v2uhtvft1sj1uhp2bnount4.png"><br></div></div><br>  рдПрдХ рдЪрд┐рдк рдХреЗ рд╕рд╛рде 4 рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><ol><li>  рдореЗрдореЛрд░реА рдорд┐рдЯрд╛ рджреЗрдВ (рд╕рдВрдкреВрд░реНрдг рдХреНрд╖реЗрддреНрд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ); </li><li>  рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдлрд░реНрдорд╡реЗрдпрд░ рд▓рд┐рдЦреЗрдВ; </li><li>  рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рдлрд░реНрдорд╡реЗрдпрд░ рдкрдврд╝реЗрдВ; </li><li>  рд▓рд┐рдЦрдиреЗ рдпрд╛ рдкрдврд╝рдиреЗ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рд╕рдХреНрд╖рдо / рдЕрдХреНрд╖рдо рдХрд░реЗрдВред </li></ol><br><h2>  2.3 рдмреЛрд░реНрдб рд╕реЗ рдлрд░реНрдорд╡реЗрдпрд░ рдкрдврд╝реЗрдВ </h2><br>  рдЬрдм рдореИрдВрдиреЗ рдкрд╣рд▓реА рдмрд╛рд░ рдмреЛрд░реНрдб рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛, рддреЛ рдореИрдВрдиреЗ рдореВрд▓ рдлрд░реНрдорд╡реЗрдпрд░, рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдмреИрдХрдЕрдк рд░рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ - рдЕрдм рд╣рдо рдЗрд╕реЗ рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ рдХрд┐ рдЗрд╕ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛ рдХрд╣рд╛рдБ рд╕рд╣реЗрдЬрдирд╛ рд╣реИ рдФрд░ рдореЗрдореЛрд░реА рдХреЗ рдХрд┐рди рдкреГрд╖реНрдареЛрдВ рдХреЛ рд╕рд╣реЗрдЬрдирд╛ рд╣реИ, рдпрд╣ рднреА <i>рдЪреБрдирдиреЗ рдХреЗ</i> рд▓рд┐рдП рдПрдХ <i>рд╣реЗрдХреНрд╕</i> , <i>рдмрд┐рди</i> рдпрд╛ <i>s19</i> рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдкреЗрдЬ рдЪреБрдиреЗрдВ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/b_/vs/yq/b_vsyqyslqo1sib02nymmymvy_m.png"><br></div></div><br>  рдпрджрд┐ рдЖрдк рдмрд╕ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛ рдмреЛрд░реНрдб рдкрд░ рдЕрдкрд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдмреЛрд░реНрдб рд╕реЗ рдлрд░реНрдорд╡реЗрдпрд░ рдкрдврд╝рддреЗ рд╣реИрдВ, рддреЛ рдЗрди рдлрд╝рд╛рдЗрд▓ рд╕реНрд╡рд░реВрдкреЛрдВ рдХреЗ рдмреАрдЪ рдХреЛрдИ рдЕрдВрддрд░ рдирд╣реАрдВ рд╣реИред  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдкреНрд░рдЧрддрд┐ рдкреГрд╖реНрда рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдХрднреА-рдХрднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ (рдЬрд░реВрд░реА рдирд╣реАрдВ рдХрд┐ 99) рдХреЗ рд▓рд┐рдП 99% рддрдХ рдЬрдорд╛ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рд╕реЗрдХрдВрдб рдХреЗ рдмрд╛рдж рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рд╣реЛрддрд╛ рд╣реИ - рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЙрд╕рдХреЗ рдмрд╛рдж рдмреЛрд░реНрдб рдиреЗ рдЙрд╕ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдирд╣реАрдВ рджрд┐рдпрд╛ рдЬреЛ рд▓реЛрдб рдХрд┐рдП рдЧрдП рдлрд░реНрдорд╡реЗрдпрд░ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛрдЧрд╛ред  рд╕реАрдзреЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХрд╣реЗрдВ, рддреЛ рдЖрдкрдХреЛ рд╕рдм рдХреБрдЫ рдлрд┐рд░ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдФрд░ рдлрд╝рд░реНрдорд╡реЗрдпрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рднрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ, рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред <br><br>  рдлрд░реНрдорд╡реЗрдпрд░ рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬ рд▓реА рдЧрдИ рдереА, рдФрд░ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЗрд╕реЗ рдмреЛрд░реНрдб рдкрд░ рдЕрдкрд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рд░реАрдб рдкреНрд░реЛрдЯреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рд╣реИ, рддреЛ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЛ рдкрдврд╝рд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдкреНрд░рдЧрддрд┐ рдХреА рдЦрд┐рдбрд╝рдХреА</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nb/ta/rs/nbtarsmjtb1-ylmcxaesykldlv0.png"><br></div></div><br><h2>  реи.рек рдмреЛрд░реНрдб рдЪрдордХрддреА </h2><br>  рдЕрдм рдлрд░реНрдорд╡реЗрдпрд░ рдлрд╛рдЗрд▓ рднрд░реЗрдВ, рдЬрд┐рд╕рдХреЗ рд╕реЛрд░реНрд╕ рдХреЛрдб рдХреА рд░рд╛рдЗрдЯрд┐рдВрдЧ рдиреАрдЪреЗ рджреА рдЧрдИ рд╣реИред  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП, рдореИрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рд╣рдо <i>рдмрд┐рди</i> рдФрд░ <i>рд╣реЗрдХреНрд╕</i> рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐  рд╡рд┐рдХрд╛рд╕ рдХрд╛ рдорд╛рд╣реМрд▓ рдЙрдиреНрд╣реЗрдВ рдЬрд╛рд░реА рдХрд░реЗрдЧрд╛ред  <i>S19</i> рдФрд░ <i>рд╣реЗрдХреНрд╕</i> рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕рдорд╛рди рд╣реИрдВ;  рдЙрдирдХреЗ рд╡рд┐рдкрд░реАрдд, <i>рдмрд┐рди</i> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ, рдЖрдк рдЙрд╕ рдкрддреЗ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдлрд░реНрдорд╡реЗрдпрд░ рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдпрд╣ 8000000 (рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд) рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рдХрд░ рд░рд╣рд╛ рд╣реИ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1k/u8/cf/1ku8cfxnzt_bjob1szyix3u2xpw.png"><br></div></div><br>  рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдк рддреАрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреА рдлреНрд▓реИрд╢ рдореЗрдореЛрд░реА рдХреЛ рд╕рд╛рдл рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдЖрд╡рд╢реНрдпрдХ рдкреГрд╖реНрда рдорд┐рдЯрд╛рдПрдБ (рд╕реНрдореГрддрд┐ рдХреЗ рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрднрд╛рдЧреЛрдВ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░реЗрдВ); </li><li>  рдХреЛрдИ рдорд┐рдЯрд╛ (рд╢реБрджреНрдзрд┐ рдХреЗ рдмрд┐рдирд╛); </li><li>  рдЧреНрд▓реЛрдмрд▓ рдЗрд░реЗрдЬрд╝ (рдкреВрд░реНрдг рд╕рдлрд╛рдИ)ред </li></ul><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдлрд╛рдИ рд╕реНрдореГрддрд┐ рдХреЛ рд╢реВрдиреНрдп рд▓рд┐рдЦрдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИред <br><br>  рдЕрднреА рднреА рд╡реИрдХрд▓реНрдкрд┐рдХ рдмрд╛рдЗрдЯреНрд╕ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЫреВ рдирд╣реАрдВ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдЧрд▓рд╛ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреВрд░реА рд╣реЛрдиреЗ рддрдХ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ, рдФрд░ рдЖрдк рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br>  рдпрджрд┐ рдЖрдк рдореЗрд░рд╛ рдлрд░реНрдорд╡реЗрдпрд░ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЗрд╕реЗ рдХреНрд▓рд╛рдЙрдб, <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреНрд▓рд┐рдВрдХ.рдмрд┐рди</a></i> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рдлрд░реНрдорд╡реЗрдпрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, PA4 рдкреИрд░ рд╕реЗ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдПрд▓рдИрдбреА рдмреНрд▓рд┐рдВрдХрд┐рдВрдЧ рдХреЛ рдмреНрд▓рд┐рдВрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h1>  3. рдХреЛрдб рд▓реЗрдЦрди </h1><br><h2>  3.0 CooCox CoIDE рд╡рд┐рдХрд╛рд╕ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреА рд╕реНрдерд╛рдкрдирд╛ </h2><br>  рдЖрдк рдЖрдИрдбреАрдИ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЙрдлреНрдЯрдкреАрдбрд┐рдпрд╛ рдбреЙрдЯ рдХреЙрдо</a> рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдПрд╕рдЯреАрдПрдо рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдФрд░ рдЖрдИрдбреАрдИ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЬрдм рд╕реЗ рдЖрдИрдбреАрдИ рдиреЗ рд╕рдорд░реНрдерди рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдпрд╣ рдЕрд╕рдВрднрд╡ рд╣реЛ рдЧрдпрд╛ рд╣реИред  рдХреБрдЫ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЖрдИрдбреАрдИ рдЕрдм рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ, рдирд╣реАрдВ, рдХреНрдпреЛрдВрдХрд┐  рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдореБрдЦреНрдп рдмрд╛рдд рд╕рдВрдХрд▓рдХ рд╣реИред  рдореИрдВрдиреЗ рджреЛрдиреЛрдВ рд╕рдВрд╕реНрдХрд░рдг рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдП, рд▓реЗрдХрд┐рди рдореИрдВ 1.7.8 рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред <br>  рдкрд░реНрдпрд╛рд╡рд░рдг рдХрд╛ рдкрд╣рд▓рд╛ рдкреНрд░рдХреНрд╖реЗрдкрдг <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╡рд░реНрдгрд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> , рдЕрдЧрд▓рд╛-&gt; рдЕрдЧрд▓рд╛-&gt; рдЕрдЧрд▓рд╛ ... рдФрд░ рдХреБрдЫ рднреА рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рд╣реИред  рдореИрдВ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рдЬреЛрдбрд╝реВрдВрдЧрд╛ рдХрд┐ рдкрд╣рд▓реЗ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдирд╛ рдмреЗрд╣рддрд░ рд╣реИ, рдФрд░ рдлрд┐рд░ рдмрд╛рдХреА рд╕рдм рдХреБрдЫред <br><br>  рдФрд░ рдлрд┐рд░ рднреА, рдпрджрд┐ рдЖрдкрдиреЗ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдЯреИрдм рдЦреЛ рджрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕реЗ рдореЗрдиреВ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ <i>-&gt; рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</i> ред <br>  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдкрд░реНрдпрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг (рдХрдВрдкрд╛рдЗрд▓рд░) рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрдВ</a> рдпрд╛ Google рд╕реЗ "рд╣рд╛рде рдХреЗ рд▓рд┐рдП рдЧреНрдиреВ рдЙрдкрдХрд░рдг" рдкреВрдЫ рд╕рдХрддреЗ рд╣реИрдВ;  рдореИрдВрдиреЗ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЕрдВрдд рдореЗрдВ sha1.exe рд╣реИред <br><br><h2>  3.1 рд╕реНрд░реЛрдд рдлреНрд░реЗрдорд╡рд░реНрдХ </h2><br>  рддреЛ, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рдИ рдЧрдИ рд╣реИ, рдЪрд┐рдк рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЕрдм рд╣рдо рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдиреНрдпреВрдирддрдо рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рджреЗрдВрдЧреЗ, рдЬрд┐рд╕рдХреЗ рдмрд┐рдирд╛ рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдирд╣реАрдВ рд░рд╣ рдкрд╛рдПрдЧрд╛ред <br><br><div class="spoiler">  <b class="spoiler_title">рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдХреИрд╕реЗ рджреЗрдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм рдЗрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддред</b>  <b class="spoiler_title">рд╡рд╣рд╛рдБ рдХреЗрд╡рд▓ рдореБрдЦреНрдп main.c рдлрд╝рд╛рдЗрд▓ рд╣реИ рдФрд░ рдЕрдзрд┐рдХ рдХреБрдЫ рдирд╣реАрдВ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/db/rf/qh/dbrfqhef0pg7j3perjtzm3b3okc.png"><br></div></div><br>  <b>CMSIS BOOT рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ</b> рдФрд░ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ <b>M0 Cmsis Core рдХрд╛ рдЪрдпрди</b> рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐  рдЖрд╢реНрд░рд┐рддреЛрдВ рдХреЛ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдЕрдм рд╣рдореЗрдВ рд╕реВрддреНрд░реЛрдВ рдХрд╛ рдиреНрдпреВрдирддрдо рд╕реЗрдЯ рдорд┐рд▓рддрд╛ рд╣реИ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/fk/u8/qt/fku8qtl8uhcttxq_xswbovf-10c.png"><br></div></div><br>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░реЗрдВ (рдЖрдЗрдХрди рдмрдирд╛рдПрдБ, рдпрд╛ F7 рдХреБрдВрдЬреА)ред  рдореЗрд░реЗ рд▓рд┐рдП рдЕрдЬреНрдЮрд╛рдд рдХрд╛рд░рдгреЛрдВ рд╕реЗ, рд╣реЗрдХреНрд╕ рдлрд╝рд╛рдЗрд▓ рдПрдХрддреНрд░ рдирд╣реАрдВ рдХреА рдЧрдИ рдереА (рдХрдВрд╕реЛрд▓ рдореЗрдВ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рд╣реИ);  рдореИрдВрдиреЗ IDE рдФрд░ рдХрдВрдкрд╛рдЗрд▓рд░ рдХреЛ рдХрдИ рдмрд╛рд░ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдпрд╛, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдкрд░ рдРрд╕рд╛ рдкрд░рд┐рдгрд╛рдо;  рджреВрд╕рд░реЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ (рдЖрднрд╛рд╕реА рдирд╣реАрдВ, рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡рд┐рдХ) рд╕рдм рдХреБрдЫ рдПрдХ-рдкрд░-рдПрдХ рд╣реИ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рд╣реЗрдХреНрд╕ рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдмрд┐рди рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ap/zn/ct/apznctscxqdbgullp11rzqxtyj4.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рдореИрдВ рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рдЖрдХрд╛рд░ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рдпрд╣ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рдЕрдВрдд рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ рдЖрдк рдЗрд╕реЗ рдорд╛рдирдХ рддрд░реАрдХреЛрдВ рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ (рдпрд╣рд╛рдВ, рд╡реИрд╕реЗ, рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╣реЗрдХреНрд╕ рдЦрд╛рд▓реА рд╣реИ);</b>  <b class="spoiler_title">рдЙрд╕реА рд╕рдордп, рдпрд╣ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдлрд░реНрдорд╡реЗрдпрд░ рдлрд╛рдЗрд▓реЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╣реИрдВ, рдлрд┐рд░ рдбреАрдмрдЧ / рдмрд┐рди /</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ho/ue/wd/houewdyn-cyjvmn-js5sbah-yru.png"><br></div></div><br>  рдпрджреНрдпрдкрд┐ рдХреЛрдб рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдореИрдВ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЛрд░реНрдб рдХреЛ рдЕрдкрд▓реЛрдб рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдЕрдкрд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЗрд╕реЗ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ)ред  рдореИрдВ рдкрд╛рдардХ рдХреЛ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред  рдпрджрд┐ рдпрд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдмрд╛рд░-рдмрд╛рд░ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ, рдФрд░ рдЯрд┐рдкреНрдкрдгрд┐рдпрд╛рдВ рд▓рд┐рдЦреЗрдВред <br><br><h2>  3.2 рдлрд┐рдВрдЧрд░ рдПрд▓реНрдЧреЛрд░рд┐рджрдо </h2><br>  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЛ рд╕реНрдХреЗрдЪ рдХрд░рддреЗ рд╣реИрдВ, рдорд╛рдирд╡ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдПрдХ рдПрд▓рдИрдбреА рдХреЛ рдмреНрд▓рд┐рдВрдХ рдХрд░реЗрдЧрд╛ред  рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝рд╛ рддрд░реНрдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдХрд░рдг рд╕рдВрдЧреНрд░рд╣реАрдд рдКрд░реНрдЬрд╛ рдХреЗ рдХрд╛рд░рдг рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреБрдЫ рдЗрдВрдЬрди рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдИрдВрдзрди рдкрд░ рдЪрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд▓рд┐рдП рдЗрдВрдЬрди рдХреЛ рдЙрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдИрдВрдзрди рдХреЗ рд╕рд╛рде рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕реЗ рд╣рдо рдЗрд╕реЗ рдЦрд┐рд▓рд╛рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред  рдЗрд╕реА рддрд░рд╣, рдКрд░реНрдЬрд╛ рд╕реНрд░реЛрдд рдХреЗ рд▓рд┐рдП рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд (рдЯреНрдпреВрди) рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдпрд╣ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо <i>рдХрд╛ рдкрд╣рд▓рд╛ рдмреНрд▓реЙрдХ</i> рд╣реЛрдЧрд╛ред <br>  рд╣рдо рдЖрдЧреЗ рдХрд╛рд░рдгред  рдбреЗрд╕реНрдХрдЯреЙрдк рдХрдВрдкреНрдпреВрдЯрд░ рдореЗрдВ рдПрдХ рдореЙрдирд┐рдЯрд░, рд╕реНрдкреАрдХрд░, рдХреАрдмреЛрд░реНрдб, рдорд╛рдЙрд╕ рд╣реИ ... рдФрд░ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреБрдЫ рдбрд┐рд╡рд╛рдЗрд╕ рд╣рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рджреВрд╕рд░реЛрдВ рдХреА рдорджрдж рд╕реЗ рд╣рдо рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рд╕рднреА рдЙрди рд╕рднреА (рд╕рд┐рд╕реНрдЯрдо рдпреВрдирд┐рдЯ) рдХреЗ рд▓рд┐рдП рдПрдХ рдмреЙрдХреНрд╕ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВред  рдЖрдк рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реВрдЪрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рджреЗ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЙрд╕рдХреЗ рдкреИрд░ рдПрдХ рд╕рдВрдХреЗрдд рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдПрдХ рд╕рдВрдХреЗрдд рджреЗ рд╕рдХрддреЗ рд╣реИрдВ - рдпрд╣ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо <i>рдХрд╛ рдЕрдЧрд▓рд╛ рдмреНрд▓реЙрдХ</i> рд╣реЛрдЧрд╛ред <br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдПрд▓рдИрдбреА рдЪрд╛рд▓реВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдереЛрдбрд╝реА рджреЗрд░ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ, рдПрд▓рдИрдбреА рдмрдВрдж рдХрд░реЗрдВ, рдереЛрдбрд╝реА рджреЗрд░ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдЪрд╛рд▓реВ рдХрд░реЗрдВ-рдкреНрд░рддреАрдХреНрд╖рд╛-рдмрдВрдж рдХрд░реЗрдВ ... <br><br>  рдирддреАрдЬрддрди, рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ <br><br><img src="https://habrastorage.org/webt/h1/m4/oo/h1m4oou5txdafrybbwobj69vahm.png" height="361" width="192"><br><br>  рдЗрд╕ рдлрд╝реНрд▓реЛрдЪрд╛рд░реНрдЯ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдирд╛ рд╣реИ рдХрд┐ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ;  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдпреЛрдЬрдирд╛ рдЦреБрдж рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рд░ рдХреЛрдИ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рд╣реИ / рдЬреИрд╕рд╛ рд╡рд╣ рдЪрд╛рд╣рддрд╛ рд╣реИ (рдЕрдкрдиреЗ рд▓рд┐рдП) рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдирд╛ред  рдореЗрд░рд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ рдХрд┐ рдЗрд╕ рдпреЛрдЬрдирд╛ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдпрдерд╛рд╕рдВрднрд╡ рд╕рд░рд▓, рдкрдардиреАрдп рдФрд░ рд╕рд╣рдЬ рдЬреНрдЮрд╛рди рдпреБрдХреНрдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдореЗрдВ рдЙрдЪреНрдЪ рд╕реНрддрд░ рдХрд╛ рдЕрдореВрд░реНрдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдо рдХреЛрдб рд▓рд┐рдЦреЗрдВрдЧреЗред <br><br><h2>  3.3 рдкреНрд░рд▓реЗрдЦрди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ </h2><br>  рдореИрдВ рдЦреБрд▓реЗ рдлрд╝рд╛рдЗрд▓ <i>stm32f0xx.h рдХреЗ</i> рд╕рд╛рде рд▓реЗрдЦ рдХреЗ рдЗрд╕ рднрд╛рдЧ рдХреЛ рдкрдврд╝рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ <i>рд╣реВрдВ</i> , рдЬреЛ рдХрд┐ рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ <i>cmsis_boot</i> рдлрд╝реЛрд▓реНрдбрд░ рдФрд░ рдЦреБрд▓реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИред <br><br><h3>  3.3.1 рдПрдХ рдШрдбрд╝реА рд╕реНрд░реЛрдд рдХрд╛ рдЪрдпрди </h3><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рд╢рдХреНрддрд┐ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЛ рдПрдбреЗрдкреНрдЯрд░ рд╕реЗ 5 рд╡реЛрд▓реНрдЯ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ (рдПрдХ рдорд▓реНрдЯреАрдореАрдЯрд░ рд╕реЗ рдорд╛рдкрд╛ рдЬрд╛рддрд╛ рд╣реИ), рд▓реЗрдХрд┐рди рдпрд╣ рд╕рд╡рд╛рд▓ рдЙрдарддрд╛ рд╣реИ рдХрд┐ "рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХрд┐рд╕ рдЖрд╡реГрддреНрддрд┐ рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ", рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЬреНрдЮрд╛рдд рд╣реИ рдХрд┐ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рд╡рд┐рднрд┐рдиреНрди рдЖрд╡реГрддреНрддрд┐рдпреЛрдВ рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, <i>рдбреЗрдЯрд╛рд╢реАрдЯ</i> рдЦреЛрд▓реЗрдВ, рд╕рд╛рдордЧреНрд░реА рдореЗрдВ рдЖрдк рджреЛ рдЦрдВрдб рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЕрд░реНрде рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реИрдВ: <i>рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди</i> , <i>рдШрдбрд╝рд┐рдпрд╛рдВ рдФрд░ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк</i> ред  рдкрд╣рд▓рд╛ рд╡реЛрд▓реНрдЯреЗрдЬ рдФрд░ рдХрдо рдкрд╛рд╡рд░ рдореЛрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИред  рджреВрд╕рд░рд╛ рдЦрдВрдб рд╡рд╣ рдЫрд┐рдкрд╛рддрд╛ рд╣реИ рдЬреЛ рд╣рдо рдЗрд╕ рд╕рдордп рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд╣рд▓реЗ рд╡рд╛рдХреНрдп рдореЗрдВ рдпрд╣ рдХрд╣рд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ "рдЖрдВрддрд░рд┐рдХ RC 8 MHz рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рдХреЛ рд░реАрд╕реЗрдЯ рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ CPU рдШрдбрд╝реА рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИ", рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ <i>рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ MC рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдВрддрд░рд┐рдХ 8 MHz RC рд╢реНрд░реГрдВрдЦрд▓рд╛</i> рдХреЛ <i>рдореБрдЦреНрдп рдШрдбрд╝реА рд╕реНрд░реЛрдд рдХреЗ</i> рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИред <br>  рдЗрд╕рдХреЗ рдмрд╛рдж рдХреБрдЫ рдЕрдХрд▓реНрдкрдиреАрдп рдХреНрд▓реЙрдХ рдЯреНрд░реА рд╕реНрдХреАрдо рдЖрддреА рд╣реИ, рдЬрд┐рд╕ рдкрд░ рд╣рдо рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><a name="Clock_tree"></a><br><br><div class="spoiler">  <b class="spoiler_title">рдШрдбрд╝реА рдХрд╛ рдкреЗрдбрд╝</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sg/nl/ul/sgnlul1krp_mdiqntf5it8a0eni.png"></div></div><br>  рд╕рдЦреНрддреА рд╕реЗ рдмреЛрд▓рдирд╛, рдЖрдк рд╡рд╛рдХреНрдпрд╛рдВрд╢ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ "рдПрдордХреЗ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ ..." рдФрд░ рд▓реЗрдЦ рдХреЗ рдЗрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рддрд┐рд░рдЫреЗ рддрд░реАрдХреЗ рд╕реЗ рдкрдврд╝реЗрдВред <br><br>  рдЕрдм рдЖрдкрдХреЛ рдмреЛрд░реНрдб рд╕реЗ рд╡рд┐рдЪрд▓рд┐рдд рд╣реЛрдиреЗ рдФрд░ рдЖрдВрддрд░рд┐рдХ рдПрд▓рдИрдбреА рдХреА рддрд▓рд╛рд╢ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдореБрдЭреЗ рдкрддрд╛ рд╣реИ рдХрд┐ рд╕рд░реНрдХрд┐рдЯ рдореЗрдВ рдбрд╛рдпреЛрдб рдХреЛ <i>рдбреА 1</i> , <i>рдбреА 2</i> ..., рдпрд╛рдиреА рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  <i>D == рдбрд╛рдпреЛрдб</i> , <i>рд░реЗрдЬрд╝рд░ R7 рдХреЗ</i> рдкрд╛рд╕ рдореЗрд░реЗ рдмреЛрд░реНрдб рдкрд░ рдбрд╛рдпреЛрдб <i>D1 рд╣реИ</i> ред <br><br><div class="spoiler">  <b class="spoiler_title">рдмреЛрд░реНрдб рдХреА рдлреЛрдЯреЛ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ma/ze/ke/mazekeve26x9-imexuqb2k1knb8.png" width="462" height="330"><br></div></div><br>  рд╢рд╛рдпрдж, рдмреЛрд░реНрдб рдХреА рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдбрд╛рдпреЛрдб рдХреЛ рдХрд┐рд╕ рдкреИрд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХреА рдУрд░ рд░реБрдЦ рдХрд░реВрдВрдЧрд╛ред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдмреЛрд░реНрдб рдХреЗ рддрддреНрд╡ рд╕рд░реНрдХрд┐рдЯ рдореЗрдВ рддрддреНрд╡реЛрдВ рдХреЛ рдЙрдирдХреЗ рд╕реНрдерд╛рди рд╕реЗ рдмрд┐рд▓реНрдХреБрд▓ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддреЗ рд╣реИрдВ;  рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЦреБрд╢реА рд╣реИ рдХрд┐ рдореБрдЭреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдРрд╕реА рдпреЛрдЬрдирд╛ рдорд┐рд▓реА (рдЕрдиреНрдпрдерд╛ рдореБрдЭреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХреБрдЫ рднреА рдирд╣реАрдВ рдорд┐рд▓рд╛)ред <br><br><img src="https://habrastorage.org/webt/id/gz/tw/idgztwbtwraskhguvq-9alkrp18.png"><br><br>  рдЖрд░реЗрдЦ рдореЗрдВ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдбрд╛рдпреЛрдб рдХреЗ рдХреИрдереЛрдб рдХреЛ рдЬрдореНрдкрд░ <i>рдЬреЗ 2 рдХреЗ</i> рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрдореАрди рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдПрдиреЛрдб рдПрдХ рдЕрд╡рд░реЛрдзрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <i>рдкреАрдП 4</i> рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИред  <i>рдкреАрдП</i> 4 рдХрд╛ рдорддрд▓рдм рдкреЛрд░реНрдЯ <i>рдП</i> рдХрд╛ 4 <i>рд╡рд╛</i> рдЖрдЙрдЯрдкреБрдЯ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдПрд▓рдИрдбреА рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <i>рдкреАрдП 4</i> рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреА рдЖрдкреВрд░реНрддрд┐ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред <br><br>  рдЕрдЧрд▓рд╛, рдЖрдкрдХреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдореЗрд░реЗ рд▓рд┐рдП, рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╕рд╣рдЬ рдирд╣реАрдВ рдерд╛, рдФрд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдореИрдВрдиреЗ рдбреЙрдХреНрдпреВрдореЗрдВрдЯрд╢реАрдЯ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╣реА <i>рд╡рд┐рд╡рд░рдг</i> рдЦрдВрдб рдореЗрдВ <b>рдмреНрд▓реЙрдХ рдбрд╛рдпрдЧреНрд░рд╛рдо рдХреЗ рд╕рд╛рде</b> рдЖрдиреЗ рддрдХ рдФрд░ рд╕рд╛рде рдореЗрдВ рдкреНрд░рд▓реЗрдЦрди рд░рдЦрд╛ред  рдФрд░ рдЗрд╕рдореЗрдВ рдореИрдВрдиреЗ рдХрд╝реАрдорддреА рдЯреНрд░реИрдХ рджреЗрдЦрд╛ <i>PA [15: 0] &lt;=&gt; GPIO рдкреЛрд░реНрдЯ A &lt;=&gt; AHB рдбрд┐рдХреЛрдбрд░ &lt;=&gt; рдмрд╕ рдореИрдЯреНрд░рд┐рдХреНрд╕ &lt;=&gt; Cortex-M0</i> , i.e.  рдкреЛрд░реНрдЯ <i>рдП</i> рдПрдХ рд╕рд╛рдорд╛рдиреНрдп-рдЙрджреНрджреЗрд╢реНрдп I / O рдкреЛрд░реНрдЯ рд╣реИ рдФрд░ <abbr title="рдЙрдиреНрдирдд рдЙрдЪреНрдЪ рдкреНрд░рджрд░реНрд╢рди рд╡рд╛рд▓реА рдмрд╕"><i>AHB</i></abbr> рдмрд╕ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдбрд╛рдпрдЧреНрд░рд╛рдо рдХреЛ рдмреНрд▓реЙрдХ рдХрд░реЗрдВ</b> <div class="spoiler_text">  (рдЫрд╡рд┐ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИ) <br> <a href=""><img src="https://habrastorage.org/webt/_e/hf/d0/_ehfd0kdf5v87xxud5yj4abp3xu.png"></a> <br></div></div><br>  рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдореЗрдВ рдпрд╣ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдкреЛрд░реНрдЯ рдореЗрдВ рддреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдерд╛рдЧрдд рд╣реИ, рдФрд░ рдЖрдорддреМрд░ рдкрд░ рдкреЛрд░реНрдЯ рдореЗрдВ 16 рдЖрдЙрдЯрдкреБрдЯ рд╣реЛрддреЗ рд╣реИрдВред  рдЖрд░реЗрдЦ рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдкреЛрд░реНрдЯ <i>рдП</i> , <i>рдмреА</i> рдФрд░ <i>рд╕реА</i> рдореЗрдВ рд╕рд┐рд░реНрдл 16 рд╣реИрдВ, рд▓реЗрдХрд┐рди рдкреЛрд░реНрдЯ <i>рдбреА</i> рдФрд░ <i>рдПрдл</i> рдореЗрдВ рдХрдо (16 рд╕реЗ рдХрдо рдкрд┐рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдзрд┐рдХ - рдирд╣реАрдВ)ред <br><br>  рдЖрдЗрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдШрдбрд╝реА рдХреЗ рдкреЗрдбрд╝ рдХреА</a> рдпреЛрдЬрдирд╛ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ <i>рдПрдПрдЪрдмреА</i> рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред  рд╣рдо рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдПрдВрдЧреЗ рдХрд┐ рдпрд╣ рдЖрдЙрдЯрдкреБрдЯ рдХрд┐рд╕ рдЖрд╡реГрддреНрддрд┐ рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  <i>AHB рдХреЛ</i> <i>HCLK</i> рд╕рд┐рдЧреНрдирд▓ рд╣реИ, рдЬреЛ <i>HPRE</i> рдбрд┐рд╡рд╛рдЗрдбрд░ рд╕реЗ <i>рдирд┐рдХрд▓рддрд╛ рд╣реИ</i> ред  рдЗрд╕ рдбрд┐рд╡рд╛рдЗрдбрд░ рдХреЛ рд╕реНрд╡рд┐рдЪ <abbr title="рд╕рд┐рд╕реНрдЯрдо рдШрдбрд╝реА sWitch"><i>SW</i></abbr> рд╕реЗ <abbr title="SYStem CLocK"><i>SYSCLK</i></abbr> рд╕рд┐рдЧреНрдирд▓ рдорд┐рд▓рддрд╛ рд╣реИред  <i>SWSCLK</i> рдХреЛ <i>рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ</i> рдХрд░рдиреЗ рдкрд░ <i>SW</i> рдЗрдирдкреБрдЯ рдореЗрдВ рдХреМрди рд╕реЗ рд╕рд┐рдЧреНрдирд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ - рдлрд┐рд░ рд╣рдо рдЗрд╕реЗ рдХреЛрдб рдореЗрдВ рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗред  рдкрд╕рдВрдж рдХреА рдкреЗрд╢рдХрд╢ рдХреА рд╣реИ: <br><br><ol><li>  <i><abbr title="рдЙрдЪреНрдЪ рдЧрддрд┐ рдЖрдВрддрд░рд┐рдХ">рдПрдЪрдПрд╕рдЖрдИ</abbr></i> - рдПрдХ рдЖрдВрддрд░рд┐рдХ рдЙрдЪреНрдЪ рдЖрд╡реГрддреНрддрд┐ рдЬрдирд░реЗрдЯрд░ рд╕реЗ рдПрдХ рд╕рдВрдХреЗрдд, рдпрд╣ рдПрдХ 8 рдореЗрдЧрд╛рд╣рд░реНрдЯреНрдЬ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдЧреБрдВрдЬрдпрдорд╛рди рдпрдВрддреНрд░ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдорд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдЗрд╕ рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдорд┐рд▓рд╛рдпрд╛ рдерд╛; </li><li>  <i><abbr title="рдЪрд░рдг рдмрдВрдж рд▓реВрдк CLocK">PLLCLK</abbr></i> - рдЖрд╡реГрддреНрддрд┐ рдЧреБрдгрдХ <i>PLLMUL</i> рд╕реЗ рд╕рдВрдХреЗрдд; </li><li>  <i><abbr title="рдЙрдЪреНрдЪ рдЧрддрд┐ рдмрд╛рд╣рд░реА">рдПрдЪрдПрд╕рдИ</abbr></i> - рдмрд╛рд╣рд░реА рдЙрдЪреНрдЪ рдЖрд╡реГрддреНрддрд┐ рдЬрдирд░реЗрдЯрд░ рд╕реЗ рд╕рдВрдХреЗрддред </li></ol><br>  рдХреЛрдИ рднреА рд╡рд┐рдХрд▓реНрдк рд╣рдорд╛рд░реЗ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ, рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЙрдирдореЗрдВ рд╕реЗ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдФрд░ рд╕рдмрд╕реЗ рд╕рд╕реНрддреА - <i>рдПрдЪрдПрд╕рдЖрдИ</i> ред <br><br>  рд╣рдо <i>рд╕рдВрджрд░реНрдн рдкреБрд╕реНрддрд┐рдХрд╛</i> рдореЗрдВ рдЬрд╛рдПрдВрдЧреЗ рдФрд░ рдЦрдВрдб <i>7 рд░реАрд╕реЗрдЯ рдФрд░ рдШрдбрд╝реА рдирд┐рдпрдВрддреНрд░рдг (рдЖрд░рд╕реАрд╕реА)</i> <i>рдЦреЛрд▓реЗрдВрдЧреЗ</i> , рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ <i>7.2.6 рдкреНрд░рдгрд╛рд▓реА рдШрдбрд╝реА рдЪрдпрди</i> , рдЬрд╣рд╛рдВ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ рд╣рдо рдбреЗрдЯрд╛рд╢реАрдЯ рдореЗрдВ рдкрд╛рдП рдЧрдП рдПрдХ рд╕рдорд╛рди <i>рд╢рдмреНрджрд╛рдВрдХрди рдкрд░</i> рдЖрддреЗ рд╣реИрдВ: "рд╕рд┐рд╕реНрдЯрдо рд░реАрд╕реЗрдЯ рдХреЗ рдмрд╛рдж, <i>рдПрдЪрдПрд╕рдЖрдИ</i> рдерд░рдерд░рд╛рдирд╡рд╛рд▓рд╛ рдХреЛ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИред рдШрдбрд╝реА "- рдЕрд░реНрдерд╛рдд  рд╣рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИ, рдПрдордХреЗ <i>рдПрдЪрдПрд╕рдЖрдИ</i> рдкрд░ рд╢реБрд░реВ рд╣реЛрдЧрд╛ред <br><br>  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдПрдордХреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рд╕реНрд░реЛрдд рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛, рдореИрдВ рдЗрд╕реЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд▓рд┐рдЦреВрдВрдЧрд╛;  рдЙрди рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдкрд░ рд╕реНрдХреНрд░реЙрд▓ рдХрд░реЗрдВ рдЬреЛ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ рдФрд░ рдХреНрд▓реЙрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ (рдзрд╛рд░рд╛ <i>7.4 рдЖрд░рд╕реАрд╕реА рд░рдЬрд┐рд╕реНрдЯрд░</i> )ред  рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдкрд╣рд▓рд╛ рд░рдЬрд┐рд╕реНрдЯрд░ <b>рдШрдбрд╝реА рдирд┐рдпрдВрддреНрд░рдг рд░рдЬрд┐рд╕реНрдЯрд░ (RCC_CR) рд╣реИ</b> ;  рдиреАрдЪреЗ рдмрд┐рдЯреНрд╕ рдХрд╛ рд╡рд░реНрдгрди рд╣реИ, рдЬреЛ рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдШрдбрд╝реА рдирд┐рдпрдВрддреНрд░рдг рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/qq/i4/ll/qqi4llshdqrtgidy2_x-hxx9yhe.png"><br></div></div><br>  рд╣рдо <i>рдПрдЪрдПрд╕рдЖрдИрдПрди</i> рд╢реВрдиреНрдп рдмрд┐рдЯ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдЬреЛ рдЧреБрдВрдЬрдпрдорд╛рди рдпрдВрддреНрд░ ( <i>0</i> - рдСрдл, <i>1</i> - рдСрди) рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред <br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, <i>RCC_CR</i> рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рдПрдХ рд▓рд┐рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред  (рд╢реВрдиреНрдп рдмрд┐рдЯ рдПрдХ рд╣реИ, рдпрд╛ 2 <sup>0</sup> = 1)ред <br><br>  рдЕрдм рд╣рдо <i>stm32f0xx.h</i> рдореЗрдВ <b>RCC</b> ( <i>#define RCC</i> ) рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рджрд░реНрдЬ рдХрд░рддреЗ рд╣реИрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдЖрд░рд╕реАрд╕реА-&gt; рдЖрд░рд╕реА</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vn/ej/0x/vnej0xmqlqnrgeprbgyjo9cpjt8.png"><br></div></div><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ <i>RCC_BASE</i> рдкрд░ рд╕реНрдерд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реИ;  рдкрддрд╛ <i>0x40021000</i> , рдпрджрд┐ рдЖрдк рд╕рднреА <i>рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд╛</i> рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддреЗ <i>рд╣реИрдВ</i> , рддреЛ рд╡рд╣реА рдкрддрд╛ <i>рд╕рдВрджрд░реНрдн рдореИрдиреБрдЕрд▓</i> рдореЗрдВ рдЦрдВрдб <i>2.2.2 рдореЗрдореЛрд░реА рдореИрдк</i> рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ <i>рдФрд░ рд╕реАрдорд╛ рдПрдбреНрд░реЗрд╕</i> рдФрд░ <i>рд░рдЬрд┐рд╕реНрдЯрд░</i> <i>5 рдореЗрдореЛрд░реА рдореИрдкрд┐рдВрдЧ</i> ( <i>рдПрдПрдЪрдмреА</i> рдХреНрд╖реЗрддреНрд░) рдореЗрдВ рдбреЗрдЯрд╛рд╢реАрдЯ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  <i>рдЖрд░рд╕реАрд╕реА</i> рдмреНрд▓реЙрдХ <i>рд╕реАрдЖрд░</i> рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ <i>рдПрдЪрдПрд╕рдЖрдИ</i> рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдХрд╛рдИ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреЛрдб рдХреА рдПрдХ рдкрдВрдХреНрддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br><br><pre><code class="plaintext hljs">RCC-&gt;CR |= 0x1;</code> </pre> <br><h3>  рей.рей.реи рдкреИрд░ рд▓рдЧрд╛рдирд╛ </h3><br>  рдПрд▓рдИрдбреА рдХреЛ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░рдиреЗ рдФрд░ рд╕рд┐рдЧреНрдирд▓ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдкреИрд░ рдХреЛ рдПрдХ рд╕рдВрдХреЗрдд рднреЗрдЬрдирд╛ рддрд╛рдХрд┐ рдПрд▓рдИрдбреА рд╕рд░рд▓ рдХрд╛рд░реНрдп рд╣реЛ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдпрд╣ <i><abbr title="рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдпреЛрдЬрди рдХреЗ рдЗрдирдкреБрдЯ / рдЖрдЙрдЯрдкреБрдЯ">GPIO</abbr></i> рдлрд╝рдВрдХреНрд╢рди (рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдпреЛрдЬрди рдЗрдирдкреБрдЯ-рдЖрдЙрдЯрдкреБрдЯ рдкреЛрд░реНрдЯ) рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред <br><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдПрдордХреЗ рдкреИрд░ рдЬреБрдбрд╝реЗ рдирд╣реАрдВ рд╣реИрдВ, рдЕрд░реНрдерд╛рддред  рдЖрдЙрдЯрдкреБрдЯ рдЕрдирд┐рд╢реНрдЪрд┐рддрддрд╛ рд╣реИред  рдПрдХ рдмрдВрджрд░рдЧрд╛рд╣ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдкреИрд░ рдПрд▓рдИрдбреА рдХреЛ рд╢рдХреНрддрд┐ рджреЗрдЧрд╛ред  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдордиреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдХрд┐ <i>GPIO</i> рдкреЛрд░реНрдЯ <i>AHB</i> рдмрд╕ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ - рдЖрдкрдХреЛ рдЗрд╕ рдмрд╕ рдХреЛ рд▓реЗрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред  рдЦрдВрдб <i>7.4 рдЖрд░рд╕реАрд╕реА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ</i> (рд░реАрд╕реЗрдЯ рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рдирд┐рдпрдВрддреНрд░рдг рд░рдЬрд┐рд╕реНрдЯрд░) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлреНрд▓рд┐рдк рдХрд░рдирд╛ рдЬрд╛рд░реА рд╣реИ, рд╣рдо рдЕрдиреБрднрд╛рдЧ <i>7.4.6 рдПрдПрдЪрдмреА рдкрд░рд┐рдзреАрдп рдШрдбрд╝реА рд╕рдХреНрд╖рдо рд░рдЬрд┐рд╕реНрдЯрд░</i> ( <b>рдЖрд░рд╕реАрд╕реА_рдПрдПрдЪрдмреАрдПрдирдЖрд░</b> , <i>рдПрдПрдЪрдмреА</i> рдмрд╕ <i>рдШрдбрд╝реА рд╕рдХреНрд╖рдо рд░рдЬрд┐рд╕реНрдЯрд░</i> ) <b>рдкрд╛рддреЗ рд╣реИрдВ</b> ред  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВрдиреЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдореЗрд░рд╛ рдПрд▓рдИрдбреА <i>рдкреАрдП 4</i> рдкреИрд░ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИ - рддрджрдиреБрд╕рд╛рд░, рдореБрдЭреЗ рдкреЛрд░реНрдЯ <i>рдП</i> рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗ 17 рд╡реЗрдВ рдмрд┐рдЯ рдХреЛ рдПрдХ рдЗрдХрд╛рдИ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <i>ред</i> <br><br><div class="spoiler">  <b class="spoiler_title">AHB рдкрд░рд┐рдзреАрдп рдШрдбрд╝реА рд╕рдХреНрд╖рдо рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/u7/s5/vs/u7s5vsoduvggexg9chpopozlzdw.png"><br></div></div><br>  рддрджрдиреБрд╕рд╛рд░, рдХреЛрдб рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП <br><br><pre> <code class="plaintext hljs">RCC-&gt;AHBENR |= (1 &lt;&lt; 17);</code> </pre> <br>  рдпрд╛, рдЬреЛ рдПрдХ рд╣реА рдмрд╛рдд рд╣реИ <br><br><pre> <code class="plaintext hljs">RCC-&gt;AHBENR |= 0x20000;</code> </pre> <br>  рдпрд╛ рддреЛ <i>#define</i> рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <i>stm32f0xx.h</i> рд▓рд┐рдЦреЗрдВ <br><br><pre> <code class="plaintext hljs">RCC-&gt;AHBENR |= RCC_AHBENR_GPIOAEN;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рдЖрд░рд╕реАрд╕реА-&gt; рдПрдПрдЪрдмреАрдПрдирдЖрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/19/ex/ke/19exkey4g-yyfkz4pmvrrgilnlk.png"><br></div></div><br>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреЛрд░реНрдЯ <i>рдП рд╣реИ</i> , рдЕрдм рд╣рдореЗрдВ рдПрдордХреЗ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ <i>рдкреАрдП 4</i> <i>рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ</i> рдкрд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛ - рд╣рдо рдЕрдиреБрднрд╛рдЧ <i>8 рд╕рд╛рдорд╛рдиреНрдп-рдЙрджреНрджреЗрд╢реНрдп I / Os (GPIO)</i> рдкрдврд╝реЗрдВрдЧреЗ;  рдЕрдиреБрднрд╛рдЧ рдХрд╛ рдкрд░рд┐рдЪрдп рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд╣рддрд╛ рд╣реИ, "рдкреНрд░рддреНрдпреЗрдХ рд╕рд╛рдорд╛рдиреНрдп-рдЙрджреНрджреЗрд╢реНрдп I / O рдкреЛрд░реНрдЯ рдореЗрдВ рдЪрд╛рд░ 32-рдмрд┐рдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░ ( <b>GPIOx_MODER</b> , <b>GPIOx_OTYPER</b> , <b>GPIOx_OSPEEDR</b> рдФрд░ <b>GPIOx_PODDR</b> ), рджреЛ 32-рдмрд┐рдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ ( <b>GPIOx_IDR</b> рдФрд░ <b>GPIOx_ODR</b> ) рд╣реИрдВ ..." <i>рдкреЛрд░реНрдЯ рдореЗрдВ 4 рдЯреНрдпреВрдирд┐рдВрдЧ рд░рдЬрд┐рд╕реНрдЯрд░ рдФрд░ 2 рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИрдВ</i> - рдпрд╣ рд╡рд╣реА рд╣реИ рдЬреЛ рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдП (рдкреЛрд░реНрдЯ <i>рдП</i> , рдпрд╛ <i>рдкреАрдП 4</i> рдЖрдЙрдЯрдкреБрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ, рдФрд░ рд╕рдордп-рд╕рдордп <i>рдкрд░ рдЗрд╕реЗ</i> <i>0</i> рдФрд░ <i>1</i> рднреЗрдЬреЗрдВ)ред  рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ рдХреА рдПрдХ рдмреЗрд╣рддрд░ рд╕рдордЭ (рд╕рд┐рджреНрдзрд╛рдВрдд) рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХреЛ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдЦрдВрдб <i>8.4 GPIO рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ</i> рдХреЛ рдиреАрдЪреЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рд╡рд┐рд╡рд░рдг рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреЛрд░реНрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реВрдВред <br><br><ol><li>  рдкреЛрд░реНрдЯ <b>рдореЛрдб</b> - рдирд┐рдХрд╛рд╕ред  рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╕рдВрдмрдВрдзрд┐рдд рд░рдЬрд┐рд╕реНрдЯрд░ ( <i>GPIOA_MODER</i> ) рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд╖реЗрддреНрд░ ( <i>MODER4</i> ) рдореЗрдВ <i>01</i> рд▓рд┐рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЕрд░реНрдерд╛рдд  рдмрд┐рдЯреНрд╕ <i>9</i> рдФрд░ <i>8</i> : 9 рд╡реАрдВ рдмрд┐рдЯ рдореЗрдВ 8 рд╡реАрдВ рдЗрдХрд╛рдИ рдореЗрдВ рд╢реВрдиреНрдп рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;MODER |= (1 &lt;&lt; 8); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;MODER |= 0x100; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;MODER |= GPIO_MODER_MODER4_0;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">GPIO рдкреЛрд░реНрдЯ рдореЛрдб рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/tv/xf/vt/tvxfvtoiw91rguuz-rtmgcrk8fo.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">GPIOA-&gt; рдореЛрдбрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/co/df/x5/codfx50xu4hopklififyeecpiqu.png"><br></div></div><br></li><li>  рдЖрдЙрдЯрдкреБрдЯ рдХрд╛ <b>рдкреНрд░рдХрд╛рд░</b> ред  рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ, рдореИрдВ рдЕрднреА рднреА рдЗрд╕ рдорд╛рдорд▓реЗ рдХреА рд╕рд░реНрдХрд┐рдЯрд░реА рдХрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкрддрд╛ рдирд╣реАрдВ рд▓рдЧрд╛ рдкрд╛рдпрд╛ рд╣реВрдВ (рдореИрдВ рд╕рдордЭреВрдВрдЧрд╛, рдордВрдЪреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрдврд╝реЗрдВ, рдЖрджрд┐), рд▓реЗрдХрд┐рди рдПрдордХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкрд░ рдЕрдиреНрдп рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЕрдзреНрдпрдпрди, рд╕рд╛рде рд╣реА рддрд░реНрдХ рдФрд░ рдЕрдВрддрд░реНрдЬреНрдЮрд╛рди, рдпрд╣ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реИ рдХрд┐ рдПрдХ <b>рдзрдХреНрдХрд╛</b> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <b>-рдкреБрд▓</b> рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж <i>рдкреБрд▓-рдЕрдк</i> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдХреЛрдб рд▓рд┐рдЦрд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХреБрдЫ рднреА рдирд╣реАрдВ рдЬрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЬрд▓рдиреЗ рдХрд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреЛрдЦрд┐рдо рд╣реИ рдпрджрд┐ рдЖрдк <b>рдЦреБрд▓реЗ-рдирд╛рд▓реА</b> рдкреНрд░рдХрд╛рд░ рдФрд░ рд╢реЙрд░реНрдЯ рд╕рд░реНрдХрд┐рдЯ рдЗрд╕ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд╕рд╛рде рдЪреБрдирддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐  рдпрд╣ рдПрдХ рдЦреБрд▓рд╛ рдирд┐рдХрд╛рд╕ рд╣реИ рдФрд░ рдХрд┐рд╕реА рднреА рдЪреАрдЬрд╝ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдбрд╛рдпреЛрдб рдХреЗ рд╕рд╛рдордиреЗ рдПрдХ рд╡рд░реНрддрдорд╛рди-рд╕реАрдорд┐рдд рдЕрд╡рд░реЛрдзрдХ рд╣реИ - рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдпрд╣рд╛рдВ рдирд╣реАрдВ рдЬрд▓рд╛рдПрдЧрд╛ред <br><br>  рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдмрд╛рдж, 4 рдмрд┐рдЯ рдореЗрдВ рд╢реВрдиреНрдп рд▓рд┐рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ;  рдкреНрд░рд▓реЗрдЦрди рдпрд╣ рднреА рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рд░реАрд╕реЗрдЯ рдХреЗ рдмрд╛рдж рд╢реВрдиреНрдп рд╣реЛрдЧрд╛ред <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;OTYPER &amp;= ~(1 &lt;&lt; 4); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;OTYPER &amp;= ~0x10; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;OTYPER &amp;= ~GPIO_OTYPER_OT_4;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">GPIO рдкреЛрд░реНрдЯ рдЖрдЙрдЯрдкреБрдЯ рдкреНрд░рдХрд╛рд░ рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ii/3k/ch/ii3kcht4jvsbnd7yybouiilgmhk.png"><br></div></div><br></li><li>  рдЙрддреНрдкрд╛рджрди рдХреА <b>рдЧрддрд┐</b> ред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛, рд▓реЗрдХрд┐рди рдирд┐рд╖реНрдард╛ рдХреЗ рд▓рд┐рдП рдореИрдВ рдпрд╣рд╛рдВ рд╢реВрдиреНрдп рд▓рд┐рдЦреВрдВрдЧрд╛ред <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;OSPEEDR &amp;= ~(1 &lt;&lt; 8); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;OSPEEDR &amp;= ~0x100; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;OSPEEDR &amp;= ~GPIO_OSPEEDER_OSPEEDR4_0;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">GPIO рдкреЛрд░реНрдЯ рдЖрдЙрдЯрдкреБрдЯ рд╕реНрдкреАрдб рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/47/xg/fr/47xgfrtfqdl5ai0eztsrqej1i1k.png"><br></div></div><br></li><li>  <b>рдПрдХ рд▓рд┐рдлреНрдЯ</b> ред  рдХреНрдпреЛрдВрдХрд┐  рдЖрдЙрдЯрдкреБрдЯ рдПрд▓рдИрдбреА рдХреЛ рд╢рдХреНрддрд┐ рджреЗрдЧрд╛, рдЖрдкрдХреЛ рдЗрд╕реЗ рд╢рдХреНрддрд┐ рддрдХ рдЦреАрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддред  <b>рдЦреАрдВрдЪ-рддрд╛рди</b> ред <br><br>  рдкреЛрд░реНрдЯ <i>рдП</i> рдХреЗ 4 рд╡реЗрдВ рдкрд┐рди рдХреЛ рдХрд╕рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ;  рдкреНрд░рд▓реЗрдЦрди рдХрд╣рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреНрд░рдорд╢рдГ <i>9</i> рдФрд░ <i>8</i> рдмрд┐рдЯреНрд╕ рдореЗрдВ рд╢реВрдиреНрдп рдФрд░ рдПрдХ рд▓рд┐рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;PUPDR |= (1 &lt;&lt; 8); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;PUPDR |= 0x100; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;PUPDR |= GPIO_PUPDR_PUPDR4_0;</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">GPIO рдкреЛрд░реНрдЯ рдкреБрд▓-рдЕрдк / рдкреБрд▓-рдбрд╛рдЙрди рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/pg/pa/zk/pgpazkwfltwme4jy0wwrhp9imqi.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">GPIOA-&gt; PUPDR</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bo/ee/na/boeenaff6fxjiemjuiky9ukhb6w.png"><br></div></div><br></li></ol><br><h3>  3.3.3 / рдмрдВрдж рдФрд░ рджреЗрд░реА рдкрд░ рдПрд▓рдИрдбреА </h3><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рд╣рдо рдкрдврд╝рддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯ рдореЗрдВ рдХреНрд░рдорд╢рдГ <i><abbr title="рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░">IDR</abbr></i> рдФрд░ <i><abbr title="рдЖрдЙрдЯрдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░">ODR</abbr></i> рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ - рдЗрдирдкреБрдЯ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рддрд╛рд░реНрдХрд┐рдХ рд╢реВрдиреНрдп рдФрд░ рдПрдордХреЗ рдкреИрд░ рдкрд░ рд╡рд╛рд▓реЗ - рдХреНрдпрд╛ рдпрд╣ рдбреЗрдЯрд╛ рд╣реИ?  - рд╣рд╛рдБ, рдбреЗрдЯрд╛ред  рдбреЗрдЯрд╛ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ ( <i>рдЗрдирдкреБрдЯ рд╣реЛ</i> ) рдХреЗ рдмрд╛рд╣рд░ рд╕реЗ рдЖ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓ рдХрд░ рджреВрд╕рд░реЗ рдбрд┐рд╡рд╛рдЗрд╕ ( <i>рдЖрдЙрдЯрдкреБрдЯ</i> ) рдкрд░ рдЬрд╛ <i>рд╕рдХрддреЗ рд╣реИрдВ</i> ред  рдПрдордХреЗ рдкреИрд░ рдкрд░ рдЗрдХрд╛рдИ рдПрдХ рдЙрдЪреНрдЪ рд╡реЛрд▓реНрдЯреЗрдЬ рд╕реНрддрд░ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рд╣реИ, рдЕрд░реНрдерд╛рддред  рдпрджрд┐ рдЖрдк рдПрдХ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ рд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рд╡реЛрд▓реНрдЯреЗрдЬ рд╣реЛрдЧрд╛, рдФрд░ рдпрд╣ рдПрд▓рдИрдбреА рд╣рдорд╛рд░реЗ рдПрд▓рдИрдбреА рдХреЛ рдкрд╛рд╡рд░ рджреЗ рд╕рдХрддрд╛ рд╣реИред  рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рд▓реЗрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдпреВрдирд┐рдЯ рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдЗрд╕ рдпреВрдирд┐рдЯ рдХреЛ <i>ODR</i> рдЖрдЙрдЯрдкреБрдЯ рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХреБрдЫ рдФрд░ рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">GPIO рдкреЛрд░реНрдЯ рдЖрдЙрдЯрдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/or/vw/el/orvwel6seyhwvx6pbxdcow6ufpm.png"><br></div></div><br>  рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдкреЛрд░реНрдЯ ( <i>рдП</i> , <i>рдмреА</i> , <i>рд╕реА</i> , <i>рдбреА</i> , <i>рдПрдл</i> ) рдХреЗ рд▓рд┐рдП 32-рдмрд┐рдЯ рд░рдЬрд┐рд╕реНрдЯрд░ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ред  рдкреЛрд░реНрдЯ рдореЗрдВ 16 рд╕реЗ рдЕрдзрд┐рдХ рдкрд┐рди рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд┐рд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗ рдкрд╣рд▓реЗ 16 рдмрд┐рдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдмрд┐рдЯ рдПрдХ рдкреЛрд░реНрдЯ рдирдВрдмрд░ (рдкрд┐рди) рд╕реЗ рдореЗрд▓ рдЦрд╛рддреА рд╣реИред  рдПрдХ рдЗрдХрд╛рдИ рдХреЛ <i>PA4</i> рд▓реЗрдЧ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рдХреЛ 4 рдмрд┐рдЯ рдкрд░ рдПрдХ рдпреВрдирд┐рдЯ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╢реВрдиреНрдп рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП - 4 рдЬреА рдмрд┐рдЯ рдкрд░ рдПрдХ рд╢реВрдиреНрдп рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛, рдЕрд░реНрдерд╛рддреНред  рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рд╡реЛрд▓реНрдЯреЗрдЬ рдирд┐рдХрд╛рд▓реЗрдВред <br><br><img src="https://habrastorage.org/webt/pr/0n/pr/pr0npr4jplwjahmcflj_nlksq5i.png" width="400" height="156"><br><br><div class="spoiler">  <b class="spoiler_title">GPIOA-&gt; ODR</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hs/yy/v4/hsyyv4z5u2kf6fkqqe5wk9t6ti4.png"><br></div></div><br>  рдПрд▓рдИрдбреА рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛ <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR |= (1 &lt;&lt; 4); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR |= 0x10; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR |= GPIO_ODR_4;</code> </pre> <br>  рдПрд▓рдИрдбреА рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб <br><br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR &amp;= ~(1 &lt;&lt; 4); // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR &amp;= ~0x10; // </code> </pre> <br><pre> <code class="plaintext hljs">GPIOA-&gt;ODR &amp;= ~GPIO_ODR_4;</code> </pre> <br>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрди рдХреЗ рдмрд╛рдж рдПрд▓рдИрдбреА рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрди рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рдПрд▓рдИрдбреА рдирд╣реАрдВ рдЭрдкрдХреЗрдЧреА (рдпрджрд┐ рдЖрдк рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ - рдЖрдк рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; рдХреБрдЫ рднреА рдирд╣реАрдВ рдЬрд▓рд╛рдПрдЧрд╛, рдпрд╣ рдкрд╣рд▓реЗ рд╣реА рдКрдкрд░ рдЪрд░реНрдЪрд╛ рдХреА рдЬрд╛ рдЪреБрдХреА рд╣реИ) - рддреЛ рдЖрдкрдХреЛ рджреЗрд░реА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЯрд╛рдЗрдорд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рджреЗрд░реА рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЯрд╛рдЗрдорд░ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ (рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ рдХрд╛рд░рдг) рдХреЗ рдпреЛрдЧреНрдп рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдПрдХ рдмреИрд╕рд╛рдЦреА рджреЗрд░реА рдХрд░реЗрдВрдЧреЗ: рд╣рдо рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЪрдХреНрд░ рдЪрд▓рд╛рдПрдВрдЧреЗред  рдПрдХ рдмрд┐рдВрджреБ рд╣реИ: <b>рдпрджрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рд╕рдХреНрд╖рдо рд╣реИ</b> , рддреЛ <b>рдХрдВрдкрд╛рдЗрд▓рд░</b> рд╣рдорд╛рд░реЗ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЪрдХреНрд░ <b>рдХреЛ рдХрд╛рдЯ рджреЗрдЧрд╛</b> рдФрд░ рдЗрд╕рдореЗрдВ рдХреЛрдИ рджреЗрд░реА рдирд╣реАрдВ рд╣реЛрдЧреАред  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЕрдиреБрдХреВрд▓рди рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди (рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЯреНрд░реА рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдирд╛рдо рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ) рдкрд░ рдЬрд╛рдПрдВ рдФрд░ <i>рдХрдВрдкрд╛рдЗрд▓</i> рдЯреИрдм рдореЗрдВ <i>рдХрдВрдкрд╛рдЗрд▓ рдХрдВрдЯреНрд░реЛрд▓ рд╕реНрдЯреНрд░рд┐рдВрдЧ</i> рд▓рд╛рдЗрди рдХреА рдЬрд╛рдВрдЪ <i>рдХрд░реЗрдВ</i> : рдЗрд╕рдореЗрдВ <i>-O0</i> рддрд░реНрдХ ("рд╢реВрдиреНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ" рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдЕрдХреНрд╖рдо рд╣реИ)ред  рдпрджрд┐ рдЖрдкрдиреЗ рдореЗрд░реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдм рдХреБрдЫ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ <i>-O0</i> рднреА рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐  рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдерд╛ рдФрд░ рдореИрдВрдиреЗ рдпрд╣рд╛рдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рджреЗрдЦрд╛ рдерд╛ред  рддрд░реНрдХ <i>-O1 -O2 -O3 рдХрд╛</i> рдЕрд░реНрде рд╣реИ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рд╕реНрддрд░ рдХрд╛ рдЕрдиреБрдХреВрд▓рди рд╕рдХреНрд╖рдо рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдХрдВрдкрд╛рдЗрд▓рд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдЪреЗрдХ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vc/ps/pu/vcpspuz5xfupw1pa5n-e5at9_nm.png"><br></div></div><br>  рдПрдХ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЪрдХреНрд░ рдЗрд╕ рддрд░рд╣ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="plaintext hljs">int t = 4000000; while(t &gt; 0) t--;</code> </pre><br>  рдореИрдВрдиреЗ <i>t</i> рдХрд╛ рдорд╛рди рд╕реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдореИрдВрдиреЗ рдЗрд╕ рддрд░рд╣ рддрд░реНрдХ рджрд┐рдпрд╛ рд╣реИ: рдпрджрд┐ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ 8MHz рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рд╕реЗрдХрдВрдб рдореЗрдВ рд▓рдЧрднрдЧ 8,000,000 рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдЧрд╛, рдпрджрд┐ рдЖрдк рдЧрд╣рд░рд╛рдИ рд╕реЗ рдЕрддрд┐рд░рдВрдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдЖрдзреЗ рд╕реЗрдХрдВрдб рдХреА рджреЗрд░реА рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЪрдХреНрд░ рдХреЛ 4,000,000 рдмрд╛рд░ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред <br>  рдмреЗрдХрд╛рд░ рдЪрдХреНрд░ рдХреЛ рдПрд▓рдИрдбреА рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдФрд░ рдЗрд╕реЗ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдФрд░ рдпрд╣ рд╕рдм рдПрдХ рд╕рд╛рде рд▓реВрдкред <br><br><h3>  рей.рек рд╕рдВрд╣рд┐рддрд╛ рд▓рд┐рдЦрдирд╛ рдФрд░ рднрд╛рдЧрдирд╛ </h3><br>  рдЖрдЗрдП рдХреЛрдб рдХреА рд╕рднреА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде рд░рдЦреЗрдВ рдЬреЛ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд▓рд┐рдЦрд╛ рдерд╛ред  рдЖрдкрдХреЛ <i>stm32f0xx.h</i> рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рдиреА рд╣реЛрдЧреА  рд╣рдордиреЗ рдЗрд╕ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд┐рдпрд╛ рдФрд░ рдЗрд╕реЗ рд╕рдВрд░рдЪрдирд╛рдУрдВ, рдкрддреЛрдВ рдФрд░ рдореВрд▓реНрдпреЛрдВ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рд╕реЗ рд▓рд┐рдпрд╛ред  рдкрд░рд┐рдгрд╛рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="plaintext hljs">#include "stm32f0xx.h" int main(void) { int t; //  '' RCC-&gt;CR |= 0x1; //   HSI RCC-&gt;AHBENR |= RCC_AHBENR_GPIOAEN; //   A GPIOA-&gt;MODER |= GPIO_MODER_MODER4_0; // PA4   GPIOA-&gt;OTYPER &amp;= ~GPIO_OTYPER_OT_4; //  push-pull  PA4 GPIOA-&gt;OSPEEDR &amp;= ~GPIO_OSPEEDER_OSPEEDR4_0; //    PA4 GPIOA-&gt;PUPDR |= GPIO_PUPDR_PUPDR4_0; //  pull-up  PA4 while(1) { GPIOA-&gt;ODR |= GPIO_ODR_4; //    PA4 t = 4000000; while(t &gt; 0) t--; //  GPIOA-&gt;ODR &amp;= ~GPIO_ODR_4; //    PA4 t = 4000000; while(t &gt; 0) t--; //  } }</code> </pre><br>  рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмреЛрд░реНрдб рдкрд░ рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдПрдБ рдФрд░ рднрд░реЗрдВ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/webt/fo/rr/1d/forr1d6ruw6sohn7eyomgs4yb_g.png"><br><br>  рдмреЛрд░реНрдб рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдлрд░реНрдорд╡реЗрдпрд░ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, BOOT рдЬрдореНрдкрд░ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдФрд░ рдПрдХ рд░реАрд╕реЗрдЯ (RESET) рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордд рднреВрд▓рдирд╛ред <br><br><h1>  4. рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br>  рдХреЛрдб рд▓рд┐рдЦрд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдлреЛрд░реНрд╕реЗрд╕ рдХрд╛ рдЦрд░реНрдЪ рдХрдо рд╣реБрдЖред  рдореБрдЭреЗ рдЦреБрд╢реА рд╣реИ рдХрд┐ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдпрд╣ рд╡рд░реНрдХрд┐рдВрдЧ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдХрд▓рд╛, рдореЛрдЯреЗ рддреМрд░ рдкрд░ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рдХрд┐ рдПрд╕рдЯреАрдПрдо рдХреЗ рдкрд╛рд╕ рдЙрдЪреНрдЪ рдЧреБрдгрд╡рддреНрддрд╛ рд╡рд╛рд▓реЗ рджрд╕реНрддрд╛рд╡реЗрдЬ рд╣реИрдВред <br><br>  рдпреЛрдЬрдирд╛ рдпрд╣ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдЖрдИрдбреАрдИ рдХреЗ рдмрд┐рдирд╛, рд╣рд╛рде рд╕реЗ рд╕рдм рдХреБрдЫ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓реЗрдЦ рд▓рд┐рдЦрдирд╛ рд╣реИ, рдХрдВрд╕реЛрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, <i>рд╕рдЪреНрдЪреЗ oldschool</i> , рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ рддрд╛рдХрд┐ рдпрд╣ рд╕рдм рд▓рд┐рдирдХреНрд╕ рдХреЗ рддрд╣рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдЕрдм рдореИрдВ PWM рдФрд░ ADCs (рдЗрд╕ рдмреЛрд░реНрдб рдкрд░ рднреА) рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реВрдВ - рдореИрдВ рдЙрди рдкрд░ рдПрдХ рд▓реЗрдЦ рднреА рд▓рд┐рдЦреВрдВрдЧрд╛ред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi437234/">https://habr.com/ru/post/hi437234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi437224/index.html">рдЬреЗрдПрд╕рдПрдХреНрд╕ рдХреЛ рдбрд╕реНрдЯ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдирд╛</a></li>
<li><a href="../hi437226/index.html">рдХреЗрд▓реНрд╡рд┐рди рдкреНрд╡рд╛рдЗрдВрдЯ рд╢реИрдбреЛ</a></li>
<li><a href="../hi437228/index.html">рдмрд┐рдЯрдХреЙрдЗрди, рдПрдХ рдореБрджреНрд░рд╛ рдХреЗ рд░реВрдк рдореЗрдВ, рдПрдХ рдЖрд░реНрдерд┐рдХ рд╕рдВрдХрдЯ рдХрд╛ рдХрд╛рд░рдг рдмрдиреЗрдЧрд╛</a></li>
<li><a href="../hi437230/index.html">рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдЕрд▓рдЧ рдСрдирд▓рд╛рдЗрди рд╡рд┐рдЬреНрдЮрд╛рдкрдиред рддреАрди рдЕрдХреНрд╖реЛрдВ рдмрдирд╛рдо AI, Ad Tech рдФрд░ DOOH</a></li>
<li><a href="../hi437232/index.html">Psto рдЕрдЪреНрдЫрд╛ рд╣реИ</a></li>
<li><a href="../hi437236/index.html">ESET: рдирдИ Zebrocy Components рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../hi437238/index.html">рдСрд░реЗрдВрдЬ рдкрд╛рдИ 3 рдЬрд╛рд░реА - рд▓рд┐рдирдХреНрд╕ рдкрд░ рдПрдХ рдкреВрд░реНрдг $ 30 рдорд┐рдиреА-рдкреАрд╕реА</a></li>
<li><a href="../hi437240/index.html">рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рдЬреЛрдореНрдмрд╛ рд╕рд╣рдпреЛрдЧ рд╕реВрдЯ рдХреЛ рдХреИрд╕реЗ рдПрдХреАрдХреГрдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi437242/index.html">рдЙрддреНрдкрд╛рдж рдкреНрд░рдмрдВрдзрдХ рдХреА рдорд╣рд╛рд░рддред рдлрд╝реАрдЪрд░ рдЕрдиреБрд░реЛрдз</a></li>
<li><a href="../hi437244/index.html">Google рдлрд╝рд┐рд╢рд┐рдВрдЧ рдИрдореЗрд▓ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рд┐рдЦрд╛рддрд╛ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>