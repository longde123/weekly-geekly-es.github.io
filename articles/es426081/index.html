<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📩 🌛 👨🏼 Cómo organizar el almacenamiento de archivos a largo plazo de documentos electrónicos 💅 👉🏽 💆🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, en la revista Inside , hablamos sobre el almacenamiento de archivos a largo plazo de documentos electrónicos (ED), certificados por fir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cómo organizar el almacenamiento de archivos a largo plazo de documentos electrónicos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/gaz-is/blog/426081/">  Recientemente, en la revista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Inside</a> , hablamos sobre el almacenamiento de archivos a largo plazo de documentos electrónicos (ED), certificados por firma electrónica (EP).  El artículo se dedicó a una revisión de varios puntos de vista sobre la organización de este proceso y enfoques para prolongar las propiedades de la importancia legal de la disfunción eréctil.  En él, nos centramos en el enfoque que prevé la formación de recibos de documentos.  Son metadatos que contienen los resultados de las comprobaciones, así como todos los atributos necesarios, que confirman la importancia legal del documento en el momento de la verificación. <br><br>  Este artículo revela con más detalle otro enfoque para el almacenamiento de archivos a largo plazo (DAC): la formación de una firma electrónica avanzada (UEP), a saber, firmas digitales en formatos de archivo CAdES-A y XAdES-A. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gt/av/t5/gtavt5ym6v6ovu5nexepgv_fya4.png"></div><br><a name="habracut"></a>  Tratemos de comprender con más detalle cómo y por qué los documentos electrónicos de archivo pueden extender el ciclo de vida de los documentos electrónicos con documentos electrónicos.  Comencemos con un pequeño programa educativo teórico sobre los tipos y formatos de firmas digitales, y luego consideremos en la práctica el procedimiento para formar una señal electrónica de archivo por productos desarrollados por Gazinformservice. <br><br><h3>  Poco de teoría </h3><br>  <b>CADES tipo firma electrónica</b> <br><br>  CMS Advanced Electronic Signatures (CAdES) es un estándar de firma electrónica que es una versión extendida del estándar Cryptographic Message Syntax (CMS).  El documento principal que describe esta norma es ETSI TS 101 733 Firma electrónica e infraestructura (ESI);  CMS Advanced Electronic Signature (CAdES) ". <br><br>  CAdES fue el desarrollo de CMS, en el cual se corrigieron deficiencias básicas del predecesor como la falta de un sello de tiempo confiable para crear una firma electrónica, la ausencia de un tipo de contenido de una firma electrónica y la posibilidad de preservación a largo plazo de las propiedades de la importancia legal de las cartas electrónicas. <br><br>  El estándar define varios formatos CAdES, cada uno de los cuales incluye el anterior (de acuerdo con la secuencia presentada a continuación) y lo extiende: <br><br><div class="spoiler">  <b class="spoiler_title">Formatos estándar de CAdES</b> <div class="spoiler_text">  1. CAdES-BES (Firma electrónica básica): el formato básico y más simple del estándar, proporciona autenticación básica de datos y protección de su integridad.  Contiene los siguientes atributos: <br><br><ul><li>  Datos de usuario firmados (remitente ED); </li><li>  un conjunto de atributos firmados obligatorios (los atributos se denominan firmados si la generación ES proviene de una combinación de estos atributos y datos de usuario); </li><li>  Valor ES calculado para datos de usuario y atributos firmados; </li><li>  un conjunto de atributos adicionales; </li><li>  Un conjunto de atributos de firma opcionales. </li></ul><br>  2. CAdES-EPES (Firma electrónica basada en políticas explícitas) es un formato que contiene una indicación explícita de las reglas ES seleccionadas.  En CAdES-EPES, se agrega el atributo de firma signature-policy-identifier, que define el identificador de las reglas ES seleccionadas.  Al firmar este identificador, el remitente indica explícitamente que aplicó ciertas reglas al crearlo.  En consecuencia, el destinatario debe verificar la firma electrónica de acuerdo con las mismas reglas. <br><br>  3. CAdES-T (Timestamp) es un formato ES de tipo CAdES en el que se agrega un campo para fijar el tiempo de confianza. <br><br>  4. CAdES-C (Completo) contiene un conjunto completo de datos de verificación.  Se diferencia de CAdES-T por la adición de los atributos sin firmar complete-certificados-referencias y referencias-revocación completas. <br><br>  El primer atributo contiene los identificadores de todos los certificados utilizados para verificar el ES.  El segundo atributo contiene los identificadores de certificados de la lista de certificados revocados (Listas de revocación de certificados, CRL, SOS) y / o respuestas recibidas por el protocolo para verificar el estado actual de los certificados (Protocolo de estado de certificado en línea (OCSP). <br><br>  La inclusión de estos atributos facilita la obtención de información sobre los certificados de las claves de verificación de ES, que son necesarias para que el destinatario verifique el ES, ya que los datos de los certificados válidos e inválidos ya estarán contenidos en el propio ES. <br><br>  5. CAdES-X (Extendido) es un formato ES de tipo CAdES que incluye los siguientes subformatos incluidos en el tipo CadES-C: <br><br><ul><li>  CAdES-X Long es un formato ES extendido a largo plazo que agrega valores de certificado y atributos de valores de revocación.  Representan los datos completos de los certificados y SOS necesarios para verificar la firma CAdES-C, incluso si su fuente original no está disponible y excluye la posibilidad de perder esta información. </li><li>  CAdES-X Tipo 1: agrega un atributo de marca de tiempo que contiene la marca de tiempo en toda la firma CAdES-C.  Esto garantiza la integridad y disponibilidad de tiempo confiable en todos los elementos de la EA.  Por lo tanto, este atributo le permite proteger los certificados, SOS y las respuestas recibidas a través del protocolo OCSP, cuya información se registra en el ES (relevante cuando se compromete la clave de la autoridad del certificado, la clave del editor SOS o la clave del servicio OCSP). </li><li>  CAdES-X Tipo 2: agrega una marca de tiempo a CAdES-C, pero no para todo el ES, sino solo para enlaces completos a certificados y SOS. </li></ul><br>  6. CAdES-X Long Tipo 1: este formato EP es una combinación de CAdES-X Long y CAdES-X Tipo 1 <br><br>  7. CAdES-X Long Tipo 2: este formato EA es una combinación de los formatos CAdES-X Long y CAdES-X Tipo 2. <br><br>  8. CAdES-A (Archivado) es un formato EP de tipo CAdES creado sobre la base de CAdES-X Long Tipo 1 o Tipo 2 mediante la adición de uno o más atributos de marca de tiempo de archivo, que son marcas de tiempo de archivo (Figura 1).  Es este formato de EP el que se utiliza para archivar EP a largo plazo y para proporcionar DAH, siempre que sea posible verificar la importancia legal del ED almacenado durante un largo período de tiempo (la llamada "interoperabilidad en el tiempo"). </div></div><br>  <b>La forma archivada de la firma digital CAdES-A consta de los siguientes elementos:</b> <br><br><ul><li>  conjunto completo de datos de verificación (CAdES-C); </li><li>  Valores de certificados y SOS (CAdES-X Tipo 1 o CAdES-X Tipo 2), si se utilizan; </li><li>  datos de usuario firmados y una marca de tiempo archivada adicional aplicada a todos los datos. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/ef/ig/yxefig_fxyp8hcjrgywishxbspy.png"></div><br>  <i>Figura 1 - Diagrama de la formación de la fuerza electromotriz en formato CAdES-A</i> <br><br>  Los problemas de la organización de DAC están asociados no solo con el período de validez limitado de un certificado de usuario establecido por la legislación rusa en 1 año y 3 meses, sino también con modificaciones de los algoritmos criptográficos, que a su vez se debe al deterioro de sus propiedades de resistencia debido al desarrollo de métodos de criptoanálisis y la industria informática. <br><br>  Se puede aplicar una marca de tiempo adicional sobre las CA en el formato CAdES-A, que protegerá su contenido al identificar vulnerabilidades de las funciones hash criptográficas utilizadas, al romper los algoritmos criptográficos utilizados y cuando las claves se vean comprometidas.  No debe olvidarse que la secuencia de marcas de tiempo puede proporcionar protección contra la falsificación electrónica, siempre que estas marcas se hayan aplicado antes de que se comprometiera la clave del servicio de marca de tiempo.  Por lo tanto, ES en el formato CAdES-A le permite mantener su autenticidad durante períodos de tiempo muy largos, y la colocación periódica de sellos de archivo brindará la oportunidad de verificar ES al actualizar estándares criptográficos. <br><br>  También es importante tener en cuenta que los datos adicionales necesarios para crear los formularios ES archivados descritos anteriormente se transfieren como atributos sin signo asociados con un ES separado colocando la estructura SignerInfo en el campo unsignedeAttrs.  Por lo tanto, todos los atributos del archivo EP no están firmados, por lo que no se viola su corrección matemática. <br><br>  Imagine todo lo que se describió anteriormente en una forma tabular más visual: <br><br>  <i>Análisis comparativo de los formatos EP de CAdES</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/uw/vf/aluwvflgtifg-jdfm20vx6t7img.jpeg"></div><br>  <b>Firma electrónica tipo XAdES</b> <br><br>  XML Advanced Electronic Signatures (XAdES) es un estándar de firma electrónica que es una versión extendida del estándar XML Digital Signature (XMLDSig).  El documento principal que describe esta norma es ETSI EN 319 132-1 “Firma electrónica e infraestructura (ESI);  Firmas digitales XAdES ". <br><br>  De manera similar a los EP de tipo CAdES, se definen varios formatos para los EP de tipo XAdES, cada uno de los cuales incluye el anterior (de acuerdo con la secuencia presentada a continuación) y lo extiende: <br><br><div class="spoiler">  <b class="spoiler_title">Formatos estándar XAdES</b> <div class="spoiler_text"><ul><li>  XAdES-BES (firma electrónica básica) </li><li>  XAdES-EPES (firma electrónica de políticas explícitas) </li><li>  XAdES-T (Marca de tiempo) </li><li>  XAdES-C (Completo) </li><li>  XAdES-X (Datos de validación extendida) </li><li>  XAdES-XL (largo plazo extendido) </li><li>  XAdES-A (Archivo) </li></ul><br></div></div><br>  No describiremos en detalle las diferencias entre cada formato posterior en la lista del anterior, ya que repite exactamente la descripción de CAdES, asumiendo el enriquecimiento de la estructura firmada con campos y atributos similares.  Las principales diferencias se resumen inmediatamente en forma de tabla: <br><br>  <i>Análisis comparativo de los formatos XAdES ES</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3m/44/mg/3m44mgdiziy4znz_w-ziyicwga8.jpeg"></div><br><h3>  Nuevas características de los productos Litoria para proporcionar DAH </h3><br>  El complejo de software (PC) "Litoria Desktop 2" es el desarrollo de la compañía de servicios Gazinforms, que brinda al usuario la oportunidad de rechazar completamente el papeleo y cambiar a una interacción electrónica legalmente significativa y confidencial.  La creación y verificación de UEP en formato CAdES-A ya están disponibles para los usuarios del paquete de software, comenzando con la versión 2.2.3.  En el mismo formato, el EP confirma los recibos y también los verifica en la PC del Servicio de terceros de confianza "Litoria DVCS" en la versión 5.2.2. <br><br>  Considere el proceso de formación de archivo UEP sobre la base de los datos del producto. <br><br>  1. Usando "Litoria Desktop 2", crearemos un UEP para un documento electrónico que transmitiremos al SDTS "Litoria DVCS" para generar un recibo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9o/p-/az/9op-azf0f3v9en19p5rapxkrrae.png"></div><br>  <i>Figura 1 - Formación de UEP usando la PC "Litoria Desktop 2"</i> <i><br></i> <br>  La información detallada sobre el UEP formado se puede ver a través de la pestaña "Verificar y extraer".  Vemos que el certificado del firmante es válido hasta el 20 de octubre de 2018 (Figura 2), y el certificado del servidor TSP, que en realidad agregó una marca de tiempo a la firma y lo mejoró (Figura 3), hasta el 22 de diciembre de 2032. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/44/xw/fl/44xwfl0_kf_ni0euy062ha_1hsk.png"></div><br>  <i>Figura 2 - Muestra información sobre ES en la interfaz de la PC "Litoria Desktop 2" (certificado de usuario)</i> <i><br></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/7q/ck/eg7qckbni00jw5glulwjel5axm8.png"></div><br>  <i>Figura 3 - Muestra información sobre ES en la interfaz de la PC "Litoria Desktop 2" (certificado del servidor TSP)</i> <i><br></i> <br>  A su vez, la validez de la UEP, con la cual el ED está certificado, está determinada por el período de validez del certificado del servidor de sello de tiempo.  Pero aquí vale la pena prestar atención a que para el artículo utilizamos una prueba CA no acreditada y una prueba TSP, para la cual se emitieron certificados no calificados.  En las realidades rusas, el período de validez de un certificado de servidor de sello de tiempo calificado no debe exceder los 15 años. <br><br>  Pero, ¿qué debemos hacer cuando un documento debe almacenarse durante más de 15 años?  Es aquí donde entra en juego el formato de archivo de firmas electrónicas puestas en los recibos (usando la PC "SDS" Litoria DVCS "). <br><br>  2. Ingresaremos a la cuenta personal del usuario de la computadora personal SDTS Litoria DVCS y enviaremos el ED firmado para formar el recibo de verificación (Figuras 4, 5). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gp/os/yz/gposyzblcos7bynrvuf29igkowa.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/r6/bf/ycr6bfebap0g2fd2qtauliakhay.png"></div><br>  <i>Figura 4 - Formación de un recibo para DE en la PC "SDTS" Litoria DVCS "</i> <i><br></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/vo/vc/icvovcbaaztsnsaciwazziy5td0.png"></div><br>  <i>Figura 5 - Información detallada sobre el recibo en la PC "SDTS" Litoria DVCS "</i> <i><br></i> <br>  Cheque ED completado, recibo formado.  Ahora, el complejo analizará automáticamente la validez de cada uno de los recibos almacenados, que está determinado por el período de validez del certificado de servicio de sello de tiempo, y al ocurrir el evento del final de su validez, los recibos se volverán a emitir, es decir,  se está formando una cadena de documentos legalmente relevantes: "ED inicial - recibo 1 - recibo 2 - ....  - recibo n " <br><br><h3>  Firma en formato CAdES-A con Litoria Desktop 2 PC </h3><br>  Consideremos la segunda forma, hasta ahora mecanizada, de formar ES en formato CAdES-A usando Litoria Desktop 2 PC. <br><br>  1. Lanzamos la PC Litoria Desktop 2, formamos UEP de una manera ya conocida <br><br>  2. Vamos al directorio "Almacenamiento de archivo", copiamos nuestro ED firmado en la carpeta "edsArch" y ejecutamos la utilidad Gis.ArchUpgrade (la instalación se lleva a cabo durante la instalación del complejo en el directorio correspondiente especificado por el usuario, Figura 6) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8s/tb/mo/8stbmodrrrrtlowkmocwm0bxpok.png"></div><br>  <i>Figura 6 - Preparación de ED para la formación de forma electrónica en formato CAdES</i> <i><br></i> <br>  3. Al finalizar el procedimiento, se mostrará una notificación en la pantalla del usuario en la consola (Figura 7). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hc/o3/_c/hco3_cp91z5oewww0ldgcpz3ulm.png"></div><br>  <i>Figura 7 - Formación exitosa de UEP en formato CAdES-A</i> <br><br>  Una vez más, enfatizamos que el formato de firma CAdES-A implica la adición de atributos sin signo al ES original, lo que no viola la corrección matemática del ES original. <br><br>  4. Ahora vamos a la carpeta "edsArch" y verificamos el archivo generado por el resultado del trabajo de la utilidad en la PC Litoria Desktop 2 (Figuras 8, 9, 10). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/ft/rw/inftrwszof9eae74unophhqqozm.png"></div><br>  <i>Figura 8 - Un archivo con una firma de archivo generado por la utilidad Gis.ArchUpgrade</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5n/vi/da/5nvidah1enrnzd6zun43scl9j0g.png"></div><br>  <i>Figura 9 - Resultados de verificar el archivo ES en Litoria Desktop 2 PC (certificado de usuario)</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-w/0d/ut/-w0duty_n80ssumltsb6mwfpzku.png"></div><br>  <i>Figura 10 - Resultados de verificar el archivo ES en la PC Litoria Desktop 2 (certificado de servicio TSP)</i> <br><br>  Y, por último, una marca de tiempo archivada de fragmento de código ASN.1: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/ae/vo/nraevopqpwigpabopna_qelpnme.png"></div><br><br>  Por lo tanto, hoy ya hay opciones viables para garantizar el ciclo de vida completo de los documentos electrónicos legalmente relevantes que requieren almacenamiento a largo plazo.  Puede encontrar información más detallada sobre los productos diseñados para resolver el problema indicado en el sitio web de la empresa desarrolladora o comunicándose con el departamento de ventas por teléfono 8 (812) 677-20-53, correo electrónico: salespo@gaz-is.ru. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es426081/">https://habr.com/ru/post/es426081/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es426067/index.html">¿Moviéndose como dos fuegos? Una vez más sobre la reubicación del personal</a></li>
<li><a href="../es426071/index.html">¿Qué promociones atraen a las tiendas de ropa?</a></li>
<li><a href="../es426073/index.html">Sustitución de importaciones, cuentos continúan (continuación)</a></li>
<li><a href="../es426077/index.html">Nueva puerta trasera TeleBots Cybergroup: primera prueba de Industroyer y NotPetya Link</a></li>
<li><a href="../es426079/index.html">Autorización sin autorización: no recopilamos datos personales</a></li>
<li><a href="../es426083/index.html">¿Qué habilidades necesitan los desarrolladores de iOS para sentirse cómodos?</a></li>
<li><a href="../es426085/index.html">Cómo ordenar el desarrollo del sitio web sin sorpresas desagradables: 3 consejos de expertos</a></li>
<li><a href="../es426087/index.html">Firmando un PDF en JS y pegando una firma en C # usando Crypto PRO</a></li>
<li><a href="../es426089/index.html">Startup estadounidense desarrolló gafas-AdBlock</a></li>
<li><a href="../es426091/index.html">8 analizadores de registro en la nube para evaluar el entorno de trabajo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>