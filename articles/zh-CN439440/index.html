<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“´ ğŸ¤ŸğŸ¾ ğŸˆ å®æ–½Zimbraåä½œå¼€æºï¼Œé€šè¿‡ADæˆæƒï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºé‚®ç®± ğŸ¦‘ ğŸ” ğŸšŒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1.æºæ•°æ® 
 æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ ï¼šCentOS 7 

 å…³äºæ“ä½œç³»ç»Ÿ å®é™…ä¸Šï¼ŒCentOS7ä¸ä»»ä½•å…¶ä»–ç³»ç»Ÿä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå‘æœåŠ¡å™¨å‘é€å‘½ä»¤ä»¥å®‰è£…ä¾èµ–é¡¹ï¼Œä»¥åŠå¯èƒ½å®‰è£…æŸäº›æ–‡ä»¶çš„ä½ç½®ã€‚ è¯¥å·¥ä½œä¸»è¦æ˜¯ä½¿ç”¨Zimbra cmdletè¿›è¡Œçš„ï¼Œå› æ­¤é…ç½®å·®å¼‚å°†æœ€å°ã€‚ 

 WindowsåŸŸ ï¼šhome.loca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å®æ–½Zimbraåä½œå¼€æºï¼Œé€šè¿‡ADæˆæƒï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºé‚®ç®±</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439440/"><img src="https://habrastorage.org/webt/tl/fg/oj/tlfgoj8_4wwdpcdcj5n8ndx2pu0.png" alt="å›¾ç‰‡"><br><br><h2>  1.æºæ•°æ® </h2><br>  <i>æœåŠ¡å™¨æ“ä½œç³»ç»Ÿ</i> ï¼šCentOS 7 <br><br><div class="spoiler">  <b class="spoiler_title">å…³äºæ“ä½œç³»ç»Ÿ</b> <div class="spoiler_text">å®é™…ä¸Šï¼ŒCentOS7ä¸ä»»ä½•å…¶ä»–ç³»ç»Ÿä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå‘æœåŠ¡å™¨å‘é€å‘½ä»¤ä»¥å®‰è£…ä¾èµ–é¡¹ï¼Œä»¥åŠå¯èƒ½å®‰è£…æŸäº›æ–‡ä»¶çš„ä½ç½®ã€‚ è¯¥å·¥ä½œä¸»è¦æ˜¯ä½¿ç”¨Zimbra cmdletè¿›è¡Œçš„ï¼Œå› æ­¤é…ç½®å·®å¼‚å°†æœ€å°ã€‚ <br></div></div><br>  <i>WindowsåŸŸ</i> ï¼šhome.local <br>  <i>é‚®ä»¶æœåŠ¡å™¨åœ°å€å’Œåç§°</i> ï¼š10.40.0.80 / zimbramail.home.local <br>  <i>ç”¨æˆ·è®¿é—®ADç›®å½•</i> ï¼šZimbraLDAPï¼Œå¯†ç ä¸ºqwe123 <br><br><h2>  2.é™·é˜± </h2><br>  Zimbraæœ¬èº«çš„å®‰è£…è¿‡ç¨‹éå¸¸ç®€å•ã€‚ æ‚¨éœ€è¦å®‰è£…ä»å±è½¯ä»¶åŒ…ï¼Œä¸‹è½½æ¡£æ¡ˆæ–‡ä»¶ï¼Œè¿è¡Œè„šæœ¬å¹¶æ­£ç¡®å›ç­”å®‰è£…ç¨‹åºçš„é—®é¢˜ã€‚ ä½†æ˜¯ï¼Œåƒå…¶ä»–åœ°æ–¹ä¸€æ ·ï¼Œä¹Ÿå­˜åœ¨ä¸€äº›å°å›°éš¾ã€‚ <br><br>  1ï¼‰Zimbraå¯¹ä¸»æœºåæ•æ„Ÿã€‚ å®‰è£…ä¹‹å‰çš„ç¬¬ä¸€ä»¶äº‹æ˜¯å°†/ etc / hostsæ–‡ä»¶è½¬æ¢ä¸ºä»¥ä¸‹å½¢å¼ï¼š <br><br><pre><code class="bash hljs">127.0.0.1 localhost.localdomain localhost 10.40.0.80 zimbramail.home.local zimbramail</code> </pre> <br>  2ï¼‰å¦‚æœæ— æ³•è®¿é—®äº’è”ç½‘ï¼Œå¥‡è¿¹å°†ä¸ä¼šå‘ç”Ÿã€‚ å¦‚æœæ— æ³•è®¿é—®Internetï¼Œåˆ™è¯¥è„šæœ¬å°†å†»ç»“20-40åˆ†é’Ÿï¼Œå› æ­¤ï¼Œå…¶ç»“æœå½“ç„¶æ˜¯é”™è¯¯ã€‚ çœ‹æ¥ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€å°ä¸èƒ½è®¿é—®Internetçš„é‚®ä»¶æœåŠ¡å™¨ï¼Œä½†â€œåœ¨æœˆçƒä¸‹ä¸–ç•Œæ‰ä¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µâ€ã€‚ <br><a name="habracut"></a><br><h2>  3.ç›´æ¥å®‰è£… </h2><br> æ‰€ä»¥åˆ°äº†é‡ç‚¹ï¼ <br><br>  1ï¼‰å®‰è£…ä¾èµ–é¡¹ï¼š <br><br><pre> <code class="bash hljs">$ yum install perl perl-core ntpl nmap sudo libidn gmp libaio libstdc++ unzip sysstat sqlite wget</code> </pre> <br>  2ï¼‰ä¸‹è½½æ¡£æ¡ˆï¼š <br><br><pre> <code class="bash hljs">$ wget https://files.zimbra.com/downloads/8.8.11_GA/zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz</code> </pre> <br>  3ï¼‰è§£å‹ç¼©ä¸‹è½½çš„æ¡£æ¡ˆï¼Œè¿›å…¥ç›®å½•å¹¶å¼€å§‹å®‰è£…ï¼š <br><br><pre> <code class="bash hljs">$ tar â€“xzf zcs-8.8.11_GA_3737.RHEL7_64.20181207111719.tgz $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> zcs-8.8.11_GA_3737.RHEL7_64.20181207111719 $ ./install.sh --platform-override</code> </pre> <br>  4ï¼‰åŒæ„è®¸å¯åè®®å¹¶ä½¿ç”¨Zimbraå­˜å‚¨åº“ï¼š <br><br><pre> <code class="bash hljs">Do you agree with the terms of the software license agreement? [N] Y Use Zimbra<span class="hljs-string"><span class="hljs-string">'s package repository [Y] Y</span></span></code> </pre> <br>  5ï¼‰é€‰æ‹©å¿…è¦çš„ç»„ä»¶å¹¶ç¡®è®¤æ›´æ”¹ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">æ˜¾ç¤ºæ–‡å­—</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] Y Install zimbra-mta [Y] Y Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-memcached [Y] Y Install zimbra-proxy [Y] N The system will be modified. Continue? [N] Y</code> </pre> </div></div><br>  6ï¼‰æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦è¾“å…¥Zimbraçš„ç®¡ç†å‘˜å¯†ç ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">æ˜¾ç¤ºæ–‡å­—</b> <div class="spoiler_text"><pre> <code class="bash hljs">Main menu 1) Common Configuration: 2) zimbra-ldap: Enabled 3) zimbra-logger: Enabled 4) zimbra-mta: Enabled 5) zimbra-snmp: Enabled 6) zimbra-store: Enabled +Create Admin User: yes +Admin user to create: admin@zimbramail.home.local ******* +Admin Password UNSET +Anti-virus quarantine user: virus-quarantine.2hwbbw7msh@zimbramail.ciam.local +Enable automated spam training: yes +Spam training user: spam.jedk1fhggz@zimbramail.home.local +Non-spam(Ham) training user: ham.y4nb2o4bt@zimbramail.home.local +SMTP host: zimbramail.home.local +Web server HTTP port: 8080 +Web server HTTPS port: 8443 +Web server mode: https +IMAP server port: 7143 +IMAP server SSL port: 7993 +POP server port: 7110 +POP server SSL port: 7995 +Use spell check server: yes +Spell server URL: http:// zimbramail.home.local :7780/aspell.php +Enable version update checks: TRUE +Enable version update notifications: TRUE +Version update notification email: admin@zimbramail.home.local +Version update <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> email: admin@zimbramail.home.local +Install mailstore (service webapp): yes +Install UI (zimbra,zimbraAdmin webapps): yes 7) zimbra-spell: Enabled 8) zimbra-proxy: Enabled 9) Default Class of Service Configuration: s) Save config to file x) Expand menu q) Quit Address unconfigured (**) items (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) 6 Select, or <span class="hljs-string"><span class="hljs-string">'r'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> previous menu [r] 4 Password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> admin@example.com (min 6 characters): [MFSPcRW18] qwe123</code> </pre> <br></div></div><br> æ­¤èœå•çš„å…¶ä½™éƒ¨åˆ†å¯¹æˆ‘ä»¬å¹¶ä¸æ„Ÿå…´è¶£ã€‚ ä½†æ˜¯ é»˜è®¤æƒ…å†µä¸‹ï¼ŒZimbraå°†åœ¨å…¶zmhostnameï¼ˆè¯»å–çš„ä¸»æœºåï¼‰çš„æ˜ åƒå’Œç›¸ä¼¼å›¾ä¸­åˆ›å»ºå…¶è‡ªå·±çš„å†…éƒ¨åŸŸï¼Œå³åŸŸzimbramail.home.localã€‚ å¦‚æœæ‚¨ä¸å–œæ¬¢ï¼Œåˆ™æ­¤é€‰é¡¹å¾ˆé€‚åˆæˆ‘ï¼Œå¹¶ä¸”åŸŸåå¿…é¡»ä¸¥æ ¼å¯¹åº”äº[home.local]ï¼Œç„¶åï¼Œæˆ‘å»ºè®®ç«‹å³å°†ç”¨äºæ¥æ”¶ç‰ˆæœ¬æ›´æ–°é€šçŸ¥å’Œç‰ˆæœ¬æ›´æ–°æºçš„åœ°å€æ›´æ”¹ä¸ºadmin@home.local <br><br>  7ï¼‰åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦å•å‡»[a]æŒ‰é’®ä»¥åº”ç”¨æ›´æ”¹ï¼Œç„¶ååŒæ„å°†é…ç½®ä¿å­˜åˆ°æ–‡ä»¶å¹¶å†æ¬¡æŒ‰[Enter]ç»§ç»­å®‰è£…ã€‚ <br><br> å•è¯â€œ doneâ€å®Œæˆåï¼Œç³»ç»ŸæœªæŒ‚èµ·ï¼Œå®ƒç­‰å¾…æŒ‰é”®è¢«æŒ‰ä¸‹ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æ˜¾ç¤ºæ–‡å­—</b> <div class="spoiler_text"><pre> <code class="bash hljs">Select from menu, or press <span class="hljs-string"><span class="hljs-string">'a'</span></span> to apply config (? - <span class="hljs-built_in"><span class="hljs-built_in">help</span></span>) a Save configuration data to a file? [Yes] Save config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> file: [/opt/zimbra/config.10925] Saving config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> /opt/zimbra/config.10925...done.</code> </pre> <br></div></div><br> æ¥ä¸‹æ¥ï¼Œå®‰è£…è„šæœ¬å¼€å§‹å·¥ä½œï¼Œç„¶åæä¾›æŒ‰ä»»æ„é”®ç»§ç»­çš„åŠŸèƒ½ <br><br>  8ï¼‰å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨é˜²ç«å¢™ä¸­æ‰“å¼€æ‰€éœ€çš„ç«¯å£ã€‚ ç«¯å£åˆ—è¡¨å¯åœ¨å¼€å‘äººå‘˜Wikiä¸Šæ‰¾åˆ°ï¼Œç½‘å€ä¸º <br><br>  9ï¼‰æˆ‘å¼ºçƒˆå»ºè®®æ‚¨ç¡®ä¿Zimbraæ­£ç¡®ç†è§£äº†æ‰€æœ‰å†…å®¹ï¼Œå¹¶ä¸”å…¶zmhostnameä¸æœåŠ¡å™¨çš„ä¸»æœºååŒ¹é…ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmhostname zimbramail.home.local</code> </pre> <br> å¦‚æœåç§°ä¸åŒ¹é…ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br>  aï¼‰é¦–å…ˆï¼Œæ£€æŸ¥DNSä¸­æ˜¯å¦æœ‰æ–°zmhostnameçš„Aå’ŒMXè®°å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·åˆ›å»ºå®ƒä»¬ <br><br>  bï¼‰ <pre> <code class="bash hljs">$ su â€“ zimbra /opt/zimbra/libexec/zmsetservername -n [servername]</code> </pre> <br>  cï¼‰æˆ‘ä»¬æ¸…ç†zmloggerhostmapï¼š <br><br><pre> <code class="bash hljs">$ zmloggerhostmap</code> </pre> <br> æ­¤å‘½ä»¤åˆ—å‡ºæ‰€æœ‰ä¸»æœºåæ˜ å°„ã€‚ <br><br> é€šè¿‡å‘½ä»¤åˆ é™¤ï¼š <br><br><pre> <code class="bash hljs">$ zmloggerhostmap -d localhost localhost.localdomain</code> </pre> <br> éœ€è¦å°†Hostnameå’Œlocalhost.localdomainæ›¿â€‹â€‹æ¢ä¸ºHostname Mapåˆ—è¡¨ä¸­çš„ä¸€è¡Œ <br> ç„¶åé‡æ–°å¯åŠ¨Zimbra <br><br>  10ï¼‰æˆ‘ä»¬å¯åŠ¨æœåŠ¡å™¨ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmcontrol start</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">æ˜¾ç¤ºæ–‡å­—</b> <div class="spoiler_text"><pre> <code class="bash hljs"> Host zimbramail.home.local Starting zmconfigd...Done. Starting logger...Done. Starting mailbox...Done. Starting memcached...Done. Starting proxy...Done. Starting amavis...Done. Starting antispam...Done. Starting antivirus...Done. Starting opendkim...Done. Starting snmp...Done. Starting spell...Done. Starting mta...Done. Starting stats...Done. Starting service webapp...Done. Starting zimbra webapp...Done. Starting zimbraAdmin webapp...Done. Starting zimlet webapp...Done.</code> </pre> </div></div><br> ç°åœ¨è¯¥æœåŠ¡å™¨ä½äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpsï¼š//zimbramail.home.localï¼š7071</a> <br><br><img src="https://habrastorage.org/webt/t7/qh/w1/t7qhw1k1h7tdf5lm0gnblup-lsu.png" alt="å›¾ç‰‡"><br><br>  11ï¼‰ä¸ºäº†èƒ½å¤ŸåŒæ—¶é€šè¿‡httpså’Œhttpè®¿é—®æœåŠ¡å™¨ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmtlsctl both $ zmcontrol restart</code> </pre> <br>  12ï¼‰å¯¹äºé‚£äº›æ— æ³•è®¿é—®Internetæˆ–æœåŠ¡å™¨ä½äºNATä¹‹åçš„ç”¨æˆ·ï¼Œæ‚¨ä»ç„¶éœ€è¦æ³¨å†Œä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmprov ms zimbramail.home.local zimbraMtaLmtpHostLookup native $ zmcontrol restart</code> </pre> <br>  zmprovæ˜¯ç”¨äºç®¡ç†æœåŠ¡å™¨è®¾ç½®çš„å®ç”¨ç¨‹åºï¼Œå½“æˆ‘ä»¬éœ€è¦é…ç½®é‚®ç®±çš„è‡ªåŠ¨åˆ›å»ºï¼Œå…¶å¤‡ä»½å’Œæ¢å¤ä»¥åŠé‚®ä»¶åˆ—è¡¨çš„è‡ªåŠ¨åˆ›å»ºå’Œæ›´æ–°æ—¶ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦å®ƒã€‚ ä½†æ˜¯ç¨åä¼šæ›´å¤šã€‚ <br><br>  13ï¼‰é€šè¿‡å°†è¯ä¹¦ä»è¯ä¹¦é¢å‘æœºæ„å¯¼å…¥æœåŠ¡å™¨å¯ä»¥è§£å†³è‡ªç­¾åè¯ä¹¦çš„é—®é¢˜ã€‚ <br><br> æˆ–è€…é€šè¿‡ä»ZimbraæœåŠ¡å™¨å¯¼å‡ºè¯ä¹¦ï¼š <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/zimbra/ssl/zimbra/ca $ openssl x509 -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ca.pem -outform DER -out ~/zimbra-mail-example.cer</code> </pre> <br> ç„¶åé€šè¿‡åœ¨å®¢æˆ·ç«¯è®¡ç®—æœºçš„â€œå—ä¿¡ä»»çš„æ ¹è¯ä¹¦é¢å‘æœºæ„â€ä¸­å®‰è£…è¯ä¹¦ï¼Œå°†å…¶å¯¼å‡ºåˆ°åŸŸçš„å®¢æˆ·ç«¯è®¡ç®—æœºï¼ŒåŸŸæˆ–ç»„ç­–ç•¥ã€‚ <br><br> è¿™æ ·å°±å®Œæˆäº†å®‰è£…å’Œåˆå§‹è®¾ç½®ã€‚ <br><br><h2>  4.é€šè¿‡LDAPé…ç½®æˆæƒ </h2><br> é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨ADä¸­åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ¥è®¿é—®ç›®å½•ã€‚ æˆ‘æœ‰å®ƒZimbraLDAPï¼Œç„¶åé€šè¿‡Webè½¬åˆ°ç®¡ç†æ§åˆ¶å°ï¼Œå¹¶åœ¨zimbramail.home.localåŸŸä¸­é…ç½®æˆæƒã€‚ <br><br>  1ï¼‰è½¬åˆ°â€œè®¾ç½®â€-â€œåŸŸâ€ï¼ŒRMBé€šè¿‡åŸŸå-â€œé…ç½®èº«ä»½éªŒè¯â€ï¼š <br><br><img src="https://habrastorage.org/webt/4h/hr/d6/4hhrd6ngquye27u1jtwzxezcqsg.png" alt="å›¾ç‰‡"><br><br>  2ï¼‰é€‰æ‹©â€œå¤–éƒ¨Active Directoryâ€ï¼Œç„¶åå•å‡»ä¸‹ä¸€æ­¥ï¼š <br><br><img src="https://habrastorage.org/webt/l_/93/27/l_9327lzaznyddgwig2hd4ln_zm.png" alt="å›¾ç‰‡"><br><br>  3ï¼‰åœ¨â€œ ADåŸŸåâ€å­—æ®µä¸­è¾“å…¥åŸŸåï¼Œåœ¨â€œ ldapï¼š//â€å­—æ®µä¸­è¾“å…¥åŸŸåæˆ–åŸŸæ§åˆ¶å™¨çš„åç§°ï¼Œæˆ–åŸŸæ§åˆ¶å™¨çš„IPã€‚ æˆ‘æœ‰å‡ ä¸ªæ§åˆ¶å™¨ï¼Œæ‰€ä»¥æˆ‘å†™äº†åŸŸåã€‚ ç«¯å£ä¿æŒä¸å˜ã€‚ ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼š <br><br><img src="https://habrastorage.org/webt/_w/nr/in/_wnrinlayfmmet_1q2gmqzwaak8.png" alt="å›¾ç‰‡"><br><br>  4ï¼‰LDAPç»‘å®šä¿æŒä¸å˜ã€‚ <br><br>  5ï¼‰è®¤è¯é…ç½®æ‘˜è¦ã€‚  ZimbraLDAPç”¨æˆ·åï¼Œqwe123å¯†ç ã€‚ ç‚¹å‡»â€œæµ‹è¯•â€æŒ‰é’®ï¼š <br><br><img src="https://habrastorage.org/webt/sr/he/vu/srhevudbaivqyvrlvzki4extyvs.png" alt="å›¾ç‰‡"><br><br> è®¾ç½®å¤–éƒ¨ç»„è´Ÿè´£åœ¨AD Zimbraä¸­ç¡®åˆ‡æœç´¢ç”¨æˆ·çš„ä½ç½®ä»¥åŠå°†åº”ç”¨å“ªäº›è¿‡æ»¤å™¨ã€‚ æ‚¨å¯ä»¥åº”ç”¨è¿‡æ»¤å™¨ï¼š <br><br><pre> <code class="bash hljs">(&amp;(objectClass=user)(objectClass=person))</code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†ä»…é€‰æ‹©ADç”¨æˆ·å’Œpersonå¯¹è±¡ã€‚ å¹¶ä¸”å°†ä¸ä½¿ç”¨â€œå¤–éƒ¨ç»„LDAPæœç´¢åŸºç¡€â€å‚æ•°ï¼Œåœ¨EAGERæ¨¡å¼çš„é…ç½®è¿‡ç¨‹ä¸­ï¼Œå®ƒå°†ç”±â€œ <b>zimbraAutoProvLdapSearchBase</b> â€ä»£æ›¿ã€‚ <br><br> ç°åœ¨ï¼Œç”¨æˆ·å°†ä½¿ç”¨å…¶ADå¯†ç ç™»å½•ã€‚ å³ä½¿åˆ›å»ºæ–°é‚®ç®±ï¼Œä¹Ÿæ— æ³•è®¾ç½®å¯†ç ã€‚ <br><br><h2>  5.é…ç½®è‡ªåŠ¨é‚®ç®±åˆ›å»º </h2><br>  <i>ä¸€ç‚¹ç†è®ºï¼š</i> <br><br>  Zimbraæœ‰3ä¸ªåˆ›å»ºç›’å­çš„é€‰é¡¹ï¼š <br><br>  <b>EAGER-</b>å…¨è‡ªåŠ¨ï¼Œå®ƒä¼šå®šæœŸæ‰«æADå¹¶ä¸ºæ–°ç”¨æˆ·åˆ›å»ºé‚®ç®±ã€‚ <br><br>  <b>LAZY-</b>åŠè‡ªåŠ¨ï¼Œåœ¨ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨åŸŸå‡­æ®ç™»å½•åˆ°é‚®ä»¶æœåŠ¡å™¨æ—¶åˆ›å»ºä¸€ä¸ªé‚®ç®±ã€‚ <br><br>  <b>æ‰‹åŠ¨</b> -æ‰‹åŠ¨æœç´¢å’Œé€‰æ‹©éœ€è¦ä¸ºå…¶åˆ›å»ºé‚®ç®±çš„å¸æˆ·ã€‚ <br><br> ç”±äºæ˜æ˜¾çš„åŸå› ï¼ŒMANUALæ¨¡å¼ä»…é€‚ç”¨äºäººå‘˜æµåŠ¨ç¼“æ…¢çš„å°å‹å…¬å¸ã€‚  LAZYæ¨¡å¼é€‚ç”¨äºé€šè¿‡Webç•Œé¢ä½¿ç”¨é‚®ä»¶ï¼Œè€Œæ— éœ€è¿æ¥é‚®ä»¶å®¢æˆ·ç«¯ã€‚ è¿™ä¸¤ä¸ªé€‰é¡¹éƒ½ä¸é€‚åˆæˆ‘ï¼Œå› ä¸ºä»»åŠ¡æ˜¯æœ€å¤§ç¨‹åº¦åœ°è‡ªåŠ¨åŒ–ï¼ˆè‡ªåŠ¨å®‰è£…Zimbra Desktopå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œå› æ­¤ç”¨æˆ·åªéœ€è¾“å…¥ç™»å½•å¯†ç å¹¶è®¿é—®é‚®ä»¶ï¼‰ã€‚ å› æ­¤ï¼Œåªæœ‰EAGERã€‚ æ˜¯çš„ï¼Œè¯´å®è¯æ›´æ–¹ä¾¿ã€‚ <br><br> ä¸ºäº†æ–¹ä¾¿ç¼–è¾‘å’Œåº”ç”¨å‚æ•°ï¼Œåˆ›å»ºæ–‡ä»¶æ›´åŠ æ–¹ä¾¿ã€‚ è®¾ä¸º/ tmp / prov <br><br> è¯¥æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">æ–‡ä»¶å†…å®¹</b> <div class="spoiler_text"><pre> <code class="bash hljs">md zimbramail.home.local zimbraAutoProvAccountNameMap <span class="hljs-string"><span class="hljs-string">"samAccountName"</span></span> md zimbramail.home.local +zimbraAutoProvAttrMap description=description md zimbramail.home.local +zimbraAutoProvAttrMap displayName=displayName md zimbramail.home.local +zimbraAutoProvAttrMap givenName=givenName md zimbramail.home.local +zimbraAutoProvAttrMap cn=cn md zimbramail.home.local +zimbraAutoProvAttrMap sn=sn md zimbramail.home.local zimbraAutoProvAuthMech LDAP md zimbramail.home.local zimbraAutoProvBatchSize 300 md zimbramail.home.local zimbraAutoProvLdapAdminBindDn <span class="hljs-string"><span class="hljs-string">"CN=ZimbraLDAP,OU=HOME_Users,DC=home,DC=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapAdminBindPassword qwe123 md zimbramail.home.local zimbraAutoProvLdapBindDn <span class="hljs-string"><span class="hljs-string">"admin@zimbramail.home.local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchBase <span class="hljs-string"><span class="hljs-string">"CN=HOME_Users,dc=home,dc=local"</span></span> md zimbramail.home.local zimbraAutoProvLdapSearchFilter <span class="hljs-string"><span class="hljs-string">"(&amp;(objectClass=user)(objectClass=person))"</span></span> md zimbramail.home.local zimbraAutoProvLdapURL <span class="hljs-string"><span class="hljs-string">"ldap://home.local:389"</span></span> md zimbramail.home.local zimbraAutoProvMode EAGER md zimbramail.home.local zimbraAutoProvNotificationBody <span class="hljs-string"><span class="hljs-string">"Your account has been auto provisioned. Your email address is </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ACCOUNT_ADDRESS}</span></span></span><span class="hljs-string">."</span></span> md zimbramail.home.local zimbraAutoProvNotificationFromAddress prov-admin@zimbramail.home.local md zimbramail.home.local zimbraAutoProvNotificationSubject <span class="hljs-string"><span class="hljs-string">"New account auto provisioned"</span></span> ms zimbramail.home.local zimbraAutoProvPollingInterval <span class="hljs-string"><span class="hljs-string">"1m"</span></span> ms zimbramail.home.local +zimbraAutoProvScheduledDomains <span class="hljs-string"><span class="hljs-string">"zimbramail.home.local"</span></span></code> </pre> <br></div></div><br>  <i>æ›´å¤šç†è®ºï¼š</i> <br><br> è¯¥æ–‡ä»¶åŒ…å«ç”¨äºåˆ†é…å˜é‡çš„å‘½ä»¤ã€‚ å› æ­¤ï¼Œä¾‹å¦‚ï¼Œå‚æ•°<b>zimbraAutoProvAttrMap cn = cn</b>æ„å‘³ç€Zimbraå°†ä»¥â€œæ˜¾ç¤ºåç§°â€ï¼ˆADä¸­çš„CNï¼‰å°†è¢«æ›¿æ¢ä¸ºZimbraä¸­çš„â€œæ˜¾ç¤ºåç§°â€å­—æ®µçš„æ–¹å¼æ¥å½¢æˆå…¶æ¡†ã€‚ <br><br>  <b>zimbraAutoProvLdapAdminBindDn</b>å‚æ•°è´Ÿè´£Zimbraå°†ç”¨äºè®¿é—®ADç›®å½•çš„å¸æˆ·ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œ CN = ZimbraLDAPï¼ŒOU = HOME_Usersï¼ŒDC = homeï¼ŒDC = localâ€ï¼Œè¿™æ„å‘³ç€ï¼šä½¿ç”¨æ˜¾ç¤ºåç§°ä¸ºZimbraLDAPçš„å¸æˆ·å­˜å‚¨åœ¨OU HOME_Usersä¸­ï¼Œè¯¥å¸æˆ·ä½äºhome.localåŸŸçš„æ ¹ç›®å½•ä¸­ <br><br>  <b>zimbraAutoProvLdapAdminBindPassword</b>å­˜å‚¨ZimbraLDAPå¸æˆ·çš„å¯†ç  <br><br>  <b>zimbraAutoProvLdapBindDn</b>å­˜å‚¨zimbramail.home.localåŸŸçš„ZimbraæœåŠ¡å™¨ç®¡ç†å‘˜å¸æˆ· <br><br>  <b>zimbraAutoProvLdapSearchBase</b>è´Ÿè´£OUï¼ŒZimbraå°†åœ¨å…¶ä¸­æŸ¥æ‰¾åŸŸå¸æˆ·ä»¥åˆ›å»ºé‚®ç®±ã€‚ å°±æˆ‘è€Œè¨€ï¼Œè¿™æ˜¯ZimbraLDAPç”¨æˆ·æ‰€åœ¨çš„å®¹å™¨ <br><br>  <b>zimbraAutoProvPollingInterval</b>æ˜¯ä¸ADè”ç³»ä»¥æœç´¢æ–°å¸æˆ·çš„æ—¶é—´æ®µã€‚ <br><br> ä½¿ç”¨å…¶ä½™çš„å‚æ•°ï¼Œä¸€åˆ‡éƒ½å˜å¾—æ¸…æ™°äº†ã€‚ <br><br> åœ¨å¼€å‘äººå‘˜çš„ç½‘ç«™ä¸Šå†™é“ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„Zimbraç‰ˆæœ¬æœ€é«˜ä¸º8.0.8ï¼Œåˆ™è¦ä½¿EAGERæ¨¡å¼æ­£å¸¸å·¥ä½œï¼Œè¿˜éœ€è¦å°†zimbraAutoProvLastPolledTimestampå‚æ•°è®¾ç½®ä¸ºç©ºå€¼â€œâ€ï¼Œå¦åˆ™å®ƒå°†ä¸èƒ½å¤šæ¬¡ä½¿ç”¨ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmprov &lt; /tmp/prov</code> </pre> <br> è¦æŸ¥çœ‹æ‰€æœ‰zmprovå€¼ï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmprov gd zimbramail.home.local</code> </pre> <br> æ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„zmprovå®ç”¨ç¨‹åºæ¥ç¼–è¾‘å‚æ•°ï¼Œé‡å†™å˜é‡çš„å€¼ï¼ˆå®ç”¨ç¨‹åº-åŠ¨ä½œ-åŸŸ-å˜é‡-å€¼ï¼‰å¯ä»¥å¸®åŠ©è°ƒè¯•ï¼š <br><br><pre> <code class="bash hljs">$ su â€“ zimbra $ zmprov md zimbramail.home.local zimbraAutoProvBatchSize 200</code> </pre> <br> åœ¨å¼€å‘äººå‘˜çš„ç«™ç‚¹ä¸Šï¼Œæœ‰ä¸€å°æ®µLDAPé”™è¯¯ç–‘éš¾è§£ç­”ã€‚ è‡ªåŠ¨å¯åŠ¨æ—¥å¿—å†™åœ¨<b>/opt/zimbra/log/mailbox.logä¸­</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‹æƒ…é“¾æ¥</a> <br><br> è¿˜æœ‰ä¸€ç‚¹ä¿ç•™ã€‚ æˆ‘æ”¶åˆ°äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">LevZ</a>çš„åé¦ˆï¼Œè¯¥åé¦ˆä»å¤´å¼€å§‹è®¾ç½®äº†æœåŠ¡å™¨ã€‚ ç‰ˆæœ¬8.8.12_GA_3794.RHEL7_64_20190329045002 RHEL7_64 FOSSç‰ˆæœ¬ï¼Œè¡¥ä¸8.8.12_P1ä»£ç†ã€‚ <br><br> äº‹æƒ…æ˜¯è¿™æ ·ï¼šå…¨æ–°å®‰è£…åï¼Œéœ€è¦åˆå§‹åŒ–å‚æ•°â€œ zimbraAutoProvScheduledDomainsâ€-è¿è¡Œä¸å¸¦â€œ +â€å·çš„å‘½ä»¤â€œ ms zimbraAutoProvScheduledDomainsâ€ã€‚ å¦‚æœç«‹å³å†™â€œ + zimbraAutoProvScheduledDomainsâ€ï¼Œåˆ™ä¸ä¼šè®°å½•è¯¥è®°å½•ï¼Œå¹¶ä¸”è¯¥è¿‡ç¨‹ä¸ä¼šå¯åŠ¨ã€‚ <br><br> æ„Ÿè°¢æ­¤äººæä¾›çš„ä¿¡æ¯ï¼ <br><br><h2>  6.å®‰è£…å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº </h2><br> ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„msiè½¯ä»¶åŒ…ã€‚ æˆ‘ä»¬å°†å…¶å¤åˆ¶åˆ°æ‰€æœ‰äººéƒ½å¯ä»¥è¯»å–çš„å…±äº«ç½‘ç»œæ–‡ä»¶å¤¹ä¸­ã€‚ æ‚¨å¯ä»¥å°†å…¶å¤åˆ¶åˆ°Netlogonï¼Œä½†æ˜¯è¯¥è½¯ä»¶åŒ…çš„é‡é‡è¶…è¿‡100 MBï¼Œå› æ­¤æˆ‘å†³å®šä½¿ç”¨è¯¥çƒã€‚ <br><br>  Zimbra Desktopä½¿ç”¨Javaï¼Œè¿™æ„å‘³ç€æ‚¨éœ€è¦ä¸‹è½½å®ƒå¹¶å°†å…¶æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­ã€‚ <br> è¿›ä¸€æ­¥å“å°-KIXï¼ŒGPOï¼ŒæŒ‡é’ˆã€‚ æˆ‘ä½¿ç”¨GPOã€‚ <br><br> åœ¨åŒä¸€çƒä¸­ï¼Œåˆ›å»ºå…·æœ‰ä»¥ä¸‹å†…å®¹çš„installZimbra.cmdæ–‡ä»¶ï¼š <br><br><pre> <code class="bash hljs">\\SharedFolder\jrex64.exe INSTALL_SILENT=Enable \\SharedFolder\ZimbraInstall.msi /q /norestart</code> </pre> <br> åœ¨å‰é¢åˆ›å»ºçš„â€œè®¡ç®—æœºé…ç½®â€-â€œ Windowsé…ç½®â€-â€œè„šæœ¬ï¼ˆå¼€å§‹/ç»“æŸï¼‰â€-â€œå¯åŠ¨â€éƒ¨åˆ†ä¸­æ·»åŠ ã€‚ è¯¥è„šæœ¬å°†ä»¥é™é»˜æ–¹å¼å®‰è£…Javaå’ŒZimbra Desktopï¼Œå¹¶ä¸”ä¸éœ€è¦é‡æ–°å¯åŠ¨ã€‚ æ¥ä¸‹æ¥-å¹»æƒ³ç®¡ç†å‘˜çš„ç‹‚æ¬¢ã€‚ <br><br> ä½†æ˜¯ ä¸ºäº†åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šé…ç½®Zimbra Desktopï¼Œæ‚¨éœ€è¦ç”¨æ‰‹é©±åŠ¨å‚æ•°ã€‚ <br><br><img src="https://habrastorage.org/webt/0u/9w/rw/0u9wrw6toy4xpctfb0gufokyjge.png" alt="å›¾ç‰‡"><br><br> å› æ­¤ï¼Œå¯¹äºç”¨æˆ·ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ç§è¯´æ˜å¤‡å¿˜å½•ï¼Œå…¶ä¸­éœ€è¦é©±åŠ¨çš„å­—æ®µä»¥åŠå•å‡»è¯¥æŒ‰é’®ä»¥è®¿é—®é‚®ä»¶çš„å­—æ®µã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¿™å¹¶ä¸å›°éš¾ã€‚ <br><br><h2> ç»“è®º </h2><br> å› æ­¤ï¼Œæˆ‘ä»¬éå¸¸è¿…é€Ÿä¸”ç›¸å½“è¿…é€Ÿåœ°å®æ–½äº†åŸºäºZimbraåä½œå¥—ä»¶çš„å®Œå…¨å…è´¹çš„å…¬å¸äº¤äº’ç³»ç»Ÿï¼Œå»ºç«‹äº†ä¸åŸŸçš„äº¤äº’ï¼Œç®€åŒ–äº†é‚®ç®±çš„åˆ›å»ºï¼Œå¹¶æ¶ˆé™¤äº†è®¸å¤šé¢å¤–å¸æˆ·çš„é—®é¢˜ã€‚ <br><br> åœ¨æˆ‘çœ‹æ¥ï¼ŒZimbraæ˜¯å…¬å¸ç»†åˆ†å¸‚åœºä¸­ç›¸å½“å¼ºå¤§çš„å·¥å…·ã€‚ ä½†æ˜¯å·²ç»æœ‰å¤§é‡æ–‡ç« å¯¹æ­¤è¿›è¡Œäº†ä»‹ç»ï¼Œæˆ‘ä¸ä¼šå¯¹å…¶è¿›è¡Œä»‹ç»ã€‚ <br><br>  <b>PSï¼š</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‹ä¸€ç¯‡æ–‡ç« </a>å°†é‡ç‚¹ä»‹ç»å¤‡ä»½å’Œè¿˜åŸZimbra OSEé‚®ç®±ã€‚ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸‰ç¯‡æ–‡ç« </a>ä»‹ç»äº†åŸºäºZimbra OSEä¸­ADç”¨æˆ·ç»„çš„é‚®ä»¶åˆ—è¡¨çš„è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN439440/">https://habr.com/ru/post/zh-CN439440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN439428/index.html">å¦‚ä½•é¢„é˜²é’ˆå¯¹æ€§çš„ç½‘ç»œæ”»å‡»ï¼Ÿ 10ä¸ªæœ€ä½³ç½‘ç»œæ²™ç®±</a></li>
<li><a href="../zh-CN439430/index.html">å¦‚æœå¯ä»¥çš„è¯ç›¸ä¿¡æˆ‘ã€‚ æ°´è¡¨ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN439432/index.html">å¦‚ä½•åœ¨1.5å¹´å†…æˆä¸ºä¸€åJavaå¼€å‘äººå‘˜</a></li>
<li><a href="../zh-CN439434/index.html">NestJS-Node.jsä¸Šçš„çœŸå®åç«¯</a></li>
<li><a href="../zh-CN439436/index.html">åœ¨ä¿„ç½—æ–¯å‡å°‘å°æ‰¹é‡ç”µå­äº§å“çš„æˆæœ¬ã€‚ WOLNAç½‘ç»œå¹¿æ’­æ¡ˆä¾‹</a></li>
<li><a href="../zh-CN439442/index.html">æœ±è‰å¨… æŠ¥å‘Šå’Œæ–‡ä»¶ç”Ÿæˆå™¨</a></li>
<li><a href="../zh-CN439446/index.html">æ‚¨éœ€è¦äº†è§£çš„JavaScript Engine Switcher 3.0</a></li>
<li><a href="../zh-CN439448/index.html">æ‚¨å¸Œæœ›æ¯•ä¸šç”Ÿå¯¹è™šæ‹ŸåŒ–æœ‰ä½•ç–‘é—®ï¼Ÿ</a></li>
<li><a href="../zh-CN439450/index.html">Milanderå…¬å¸çš„å®¶ç”¨å¾®æ§åˆ¶å™¨ä¸Šçš„RS-485</a></li>
<li><a href="../zh-CN439454/index.html">ç¨‹åºå³è‰ºæœ¯-ä¸€ç§æ–°çš„è½¯ä»¶ç®¡ç†èŒƒä¾‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>