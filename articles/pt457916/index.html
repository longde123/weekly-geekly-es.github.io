<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ûø üí≤ üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ A solu√ß√£o das tarefas WorldSkills do m√≥dulo Rede na compet√™ncia de "CCA". Parte 2 - Configura√ß√£o b√°sica ‚è≤Ô∏è ‚òùÔ∏è üêÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos a analisar as tarefas do m√≥dulo Rede do campeonato WorldSkills na compet√™ncia "Administra√ß√£o de redes e sistemas". 

 As seguintes tarefas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A solu√ß√£o das tarefas WorldSkills do m√≥dulo Rede na compet√™ncia de "CCA". Parte 2 - Configura√ß√£o b√°sica</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457916/">  Continuamos a analisar as tarefas do m√≥dulo Rede do campeonato WorldSkills na compet√™ncia "Administra√ß√£o de redes e sistemas". <br><br>  As seguintes tarefas ser√£o consideradas no artigo: <br><br><ol><li>  Em TODOS os dispositivos, crie interfaces virtuais, subinterfaces e interfaces de loop.  Atribua endere√ßos IP de acordo com a topologia. <br><br><ul><li>  Habilite o mecanismo SLAAC para emitir endere√ßos IPv6 na rede MNG na interface do roteador RTR1; </li><li>  Nas interfaces virtuais da VLAN 100 (MNG) nos comutadores SW1, SW2, SW3, ative o modo de configura√ß√£o autom√°tica do IPv6; </li><li>  Em TODOS os dispositivos (exceto PC1 e WEB), atribua manualmente endere√ßos de link local; </li><li>  Em TODOS os comutadores, desative TODAS as portas que n√£o s√£o usadas no trabalho e transfira para a VLAN 99; </li><li>  No comutador SW1, ative o bloqueio por 1 minuto no caso de uma entrada incorreta dupla de senha em 30 segundos; </li></ul></li><li>  Todos os dispositivos devem estar acess√≠veis para o controle SSH vers√£o 2. </li></ol><a name="habracut"></a><br>  A topologia de rede no n√≠vel f√≠sico √© apresentada no diagrama a seguir: <br><br><img src="https://habrastorage.org/webt/e9/vi/cd/e9vicdacx-qljbarfkqtpcdjcm0.png"><br><br>  A topologia de rede na camada de enlace de dados √© apresentada no diagrama a seguir: <br><br><img src="https://habrastorage.org/webt/wk/-_/uy/wk-_uypaooxm9ymdxobwjhaueou.png"><br><br>  A topologia de rede no n√≠vel da rede √© apresentada no diagrama a seguir: <br><br><img src="https://habrastorage.org/webt/q_/od/h9/q_odh9mn_vq_siwnvn5rpmpkbeg.png"><br><br>  Um exemplo de solu√ß√£o de todas as tarefas pode ser visualizado no formato de v√≠deo. <br><br>  A seguir, √© apresentada uma configura√ß√£o preliminar dos comutadores: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/owYWIU7F9sA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Configurando o endere√ßamento IPv6, ativando o mecanismo SLAAC: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dhuZdgs3Gio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Configurando o SSH vers√£o 2: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P9VZFkWGN2M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1>  Predefini√ß√£o </h1><br>  Antes de concluir as tarefas acima, voc√™ deve configurar a comuta√ß√£o b√°sica nos comutadores SW1-SW3, pois ser√° mais conveniente verificar suas configura√ß√µes no futuro.  A configura√ß√£o da comuta√ß√£o ser√° descrita em detalhes no pr√≥ximo artigo, mas, por enquanto, apenas as configura√ß√µes ser√£o definidas. <br><br>  O primeiro passo √© criar vlan'y com os n√∫meros 99, 100 e 300 em todos os comutadores: <br><br><pre><code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#vlan 99 SW1(config-vlan)#exit SW1(config)#vlan 100 SW1(config-vlan)#exit SW1(config)#vlan 300 SW1(config-vlan)#exit</span></span></code> </pre> <br>  A pr√≥xima etapa √© converter a interface g0 / 1 para SW1 no n√∫mero da vlan 300: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 SW1(config-if)#switchport mode access SW1(config-if)#switchport access vlan 300 SW1(config-if)#exit</span></span></code> </pre><br>  As interfaces f0 / 1-2, f0 / 5-6, voltadas para outros comutadores, devem ser comutadas para o modo tronco: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-2, fastEthernet 0/5-6 SW1(config-if-range)#switchport trunk encapsulation dot1q SW1(config-if-range)#switchport mode trunk SW1(config-if-range)#exit</span></span></code> </pre><br>  No comutador SW2 no modo de tronco, haver√° interfaces f0 / 1-4: <br><br><pre> <code class="1c hljs">SW2(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/1-4 SW2(config-if-range)#switchport trunk encapsulation dot1q SW2(config-if-range)#switchport mode trunk SW2(config-if-range)#exit</span></span></code> </pre><br>  No comutador SW3 no modo tronco, haver√° interfaces f0 / 3-6, g0 / 1: <br><br><pre> <code class="1c hljs">SW3(config)<span class="hljs-meta"><span class="hljs-meta">#interface range fastEthernet 0/3-6, gigabitEthernet 0/1 SW3(config-if-range)#switchport trunk encapsulation dot1q SW3(config-if-range)#switchport mode trunk SW3(config-if-range)#exit</span></span></code> </pre><br>  Nesta fase, as configura√ß√µes do switch permitir√£o a troca de pacotes marcados, necess√°rios para concluir as tarefas. <br><br><h1>  1. Em TODOS os dispositivos, crie interfaces virtuais, subinterfaces e interfaces de loop.  Atribua endere√ßos IP de acordo com a topologia. </h1><br>  O roteador BR1 ser√° o primeiro a configurar.  De acordo com a topologia L3, aqui voc√™ precisa configurar uma interface do tipo loop, que √© loopback, sob o n√∫mero 101: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  loopback BR1(config)#interface loopback 101 //  ipv4- BR1(config-if)#ip address 2.2.2.2 255.255.255.255 //  ipv6   BR1(config-if)#ipv6 enable //  ipv6- BR1(config-if)#ipv6 address 2001:B:A::1/64 //      BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Para verificar o status da interface criada, voc√™ pode usar o comando <b><code>show ipv6 interface brief</code></b> : <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:A::1 //IPv6- ... BR1#</span></span></span></span></code> </pre><br>  Aqui voc√™ pode ver que o loopback est√° ativo, seu status √© <b>UP</b> .  Se voc√™ olhar abaixo, poder√° ver dois endere√ßos IPv6, embora apenas um comando tenha sido usado para definir o endere√ßo IPv6.  O fato √© que <b><code>FE80::2D0:97FF:FE94:5022</code></b> √© o endere√ßo local do link designado quando o ipv6 √© ativado na interface com o comando <b><code>ipv6 enable</code></b> . <br><br>  E para visualizar o endere√ßo IPv4, um comando semelhante √© usado: <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief ... Loopback101 2.2.2.2 YES manual up up ... BR1#</span></span></code> </pre><br>  Para o BR1, voc√™ deve configurar imediatamente a interface g0 / 0, aqui voc√™ s√≥ precisa definir o endere√ßo IPv6: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      BR1(config)#interface gigabitEthernet 0/0 //   BR1(config-if)#no shutdown BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:B:C::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Voc√™ pode verificar as configura√ß√µes com o mesmo comando <b><code>show ipv6 interface brief</code></b> : <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief GigabitEthernet0/0 [up/up] FE80::290:CFF:FE9D:4624 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local  2001:B:C::1 //IPv6- ... Loopback101 [up/up] FE80::2D0:97FF:FE94:5022 //link-local  2001:B:A::1 //IPv6-</span></span></span></span></code> </pre><br>  Em seguida, o roteador ISP ser√° configurado.  Aqui, no trabalho, o loopback com o n√∫mero 0 ser√° configurado, mas, al√©m disso, √© prefer√≠vel configurar a interface g0 / 0 na qual o endere√ßo 30.30.30.1 deve estar, pelo motivo de que nas tarefas subseq√ºentes nada ser√° dito sobre a configura√ß√£o dessas interfaces.  Primeiro, o loopback com o n√∫mero 0 est√° configurado: <br><br><pre> <code class="1c hljs">ISP(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 0 ISP(config-if)#ip address 8.8.8.8 255.255.255.255 ISP(config-if)#ipv6 enable ISP(config-if)#ipv6 address 2001:A:C::1/64 ISP(config-if)#exit ISP(config)#</span></span></code> </pre><br>  Usando o comando <code>show ipv6 interface brief</code> , voc√™ pode verificar se as <code>show ipv6 interface brief</code> da <code>show ipv6 interface brief</code> est√£o corretas.  Em seguida, a interface g0 / 0 est√° configurada: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.1 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Em seguida, o RTR1 ser√° configurado.  Aqui voc√™ tamb√©m precisa criar um loopback no n√∫mero 100: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface loopback 100 BR1(config-if)#ip address 1.1.1.1 255.255.255.255 BR1(config-if)#ipv6 enable BR1(config-if)#ipv6 address 2001:A:B::1/64 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Tamb√©m no RTR1, √© necess√°rio criar 2 subinterfaces virtuais para vlan'ov com os n√∫meros 100 e 300. Voc√™ pode fazer isso da seguinte maneira. <br><br>  Primeiro, ative a interface f√≠sica g0 / 1 com o comando no shutdown: <br><br><pre> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR1(config-if)#no shutdown RTR1(config-if)#exit</span></span></code> </pre><br>  Subinterfaces com os n√∫meros 100 e 300 s√£o criadas e configuradas: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     100      RTR1(config)#interface gigabitEthernet 0/1.100 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 100 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:100::1/64 RTR1(config-subif)#exit //     300      RTR1(config)#interface gigabitEthernet 0/1.300 //    dot1q   vlan'a 100 RTR1(config-subif)#encapsulation dot1Q 300 RTR1(config-subif)#ipv6 enable RTR1(config-subif)#ipv6 address 2001:300::2/64 RTR1(config-subif)#exit</span></span></code> </pre><br>  O n√∫mero da subinterface pode diferir do n√∫mero da vlan'a em que funcionar√°, mas, por conveni√™ncia, √© melhor usar o n√∫mero da subinterface que corresponde ao n√∫mero da vlan'a.  No caso de definir o tipo de encapsulamento ao configurar a subinterface, especifique o n√∫mero que corresponde ao n√∫mero de vlan'a.  Portanto, ap√≥s o <b><code>encapsulation dot1Q 300</code></b> subinterface passar√° apenas pacotes de vlan'a com o n√∫mero 300. <br><br>  O final desta tarefa ser√° o roteador RTR2.  A conex√£o entre SW1 e RTR2 deve estar no modo de acesso, a interface do comutador passar√° apenas pacotes destinados √† vlan'a n√∫mero 300 em dire√ß√£o ao RTR2, conforme indicado na tarefa na topologia L2.  Portanto, apenas a interface f√≠sica ser√° configurada no RTR2 sem criar subinterfaces: <br><br><pre> <code class="1c hljs">RTR2(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/1 RTR2(config-if)#no shutdown RTR2(config-if)#ipv6 enable RTR2(config-if)#ipv6 address 2001:300::3/64 RTR2(config-if)#exit RTR2(config)#</span></span></code> </pre><br>  Em seguida, a interface g0 / 0 est√° configurada: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta">#interface gigabitEthernet 0/0 BR1(config-if)#no shutdown BR1(config-if)#ip address 30.30.30.2 255.255.255.252 BR1(config-if)#exit BR1(config)#</span></span></code> </pre><br>  Isso completa a configura√ß√£o das interfaces do roteador para a tarefa atual.  As interfaces restantes ser√£o configuradas assim que as tarefas a seguir forem conclu√≠das. <br><br><h6>  a.  Habilite o mecanismo SLAAC para emitir endere√ßos IPv6 na rede MNG na interface do roteador RTR1 </h6><br>  SLAAC est√° ativado por padr√£o.  A √∫nica coisa a fazer √© ativar o roteamento IPv6.  Voc√™ pode fazer isso com o seguinte comando: <br><br><pre> <code class="1c hljs">RTR1(config-subif)<span class="hljs-meta"><span class="hljs-meta">#ipv6 unicast-routing</span></span></code> </pre><br>  Sem esse comando, o equipamento atua como um host.  Em outras palavras, gra√ßas ao comando mencionado acima, torna-se poss√≠vel usar fun√ß√µes adicionais do ipv6, incluindo a emiss√£o de endere√ßos ipv6, a configura√ß√£o de roteamento e muito mais. <br><br><h6>  b.  Nas interfaces virtuais da VLAN 100 (MNG) nos comutadores SW1, SW2, SW3, ative o modo de configura√ß√£o autom√°tica do IPv6 </h6><br>  Pode-se observar pela topologia L3 que os comutadores est√£o conectados √† rede VLAN 100. Isso significa que voc√™ precisa criar interfaces virtuais nos comutadores e somente ent√£o definir l√° para receber endere√ßos IPv6 padr√£o.  A configura√ß√£o inicial foi feita precisamente para que os comutadores pudessem receber endere√ßos padr√£o do RTR1.  Voc√™ pode concluir esta tarefa com a seguinte lista de comandos adequados para todas as tr√™s op√ß√µes: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//    SW1(config)#interface vlan 100 SW1(config-if)#ipv6 enable //  ipv6   SW1(config-if)#ipv6 address autoconfig SW1(config-if)#exit</span></span></code> </pre><br>  Voc√™ pode verificar com o mesmo comando <code>show ipv6 interface brief</code> : <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::A8BB:CCFF:FE80:C000 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// link-local  2001:100::A8BB:CCFF:FE80:C000 //  IPv6-</span></span></span></span></code> </pre><br>  Al√©m do endere√ßo local do link, um endere√ßo IPv6 recebido do RTR1 apareceu.  Esta tarefa foi conclu√≠da com √™xito e, nos outros comutadores, √© necess√°rio escrever os mesmos comandos. <br><br><h6>  s  Em TODOS os dispositivos (exceto PC1 e WEB), atribua manualmente endere√ßos de link local </h6><br>  Os endere√ßos IPv6 de trinta d√≠gitos n√£o agradam aos administradores; portanto, voc√™ pode alterar manualmente o link-local, reduzindo seu tamanho ao valor m√≠nimo.  Nada √© dito nas designa√ß√µes sobre quais endere√ßos escolher, portanto, a livre escolha √© fornecida aqui. <br><br>  Por exemplo, no comutador SW1, voc√™ deve definir o endere√ßo local do link fe80 :: 10.  Voc√™ pode fazer isso com o seguinte comando no modo de configura√ß√£o da interface selecionada: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     vlan 100 SW1(config)#interface vlan 100 //   link-local  SW1(config-if)#ipv6 address fe80::10 link-local SW1(config-if)#exit</span></span></code> </pre><br>  Agora, o endere√ßamento parece muito mais atraente: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief ... Vlan100 [up/up] FE80::10 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//link-local c 2001:100::10 //IPv6-</span></span></span></span></code> </pre><br>  Al√©m do endere√ßo local do link, o endere√ßo IPv6 recebido tamb√©m foi alterado, pois o endere√ßo √© emitido com base no endere√ßo local do link. <br><br>  No comutador SW1, voc√™ s√≥ precisava definir o endere√ßo local do link em uma interface.  Com o roteador RTR1, √© necess√°rio fazer mais configura√ß√µes - √© necess√°rio definir o link-local em duas subinterfaces, no loopback e nas pr√≥ximas configura√ß√µes a interface do t√∫nel 100 ainda aparecer√°. <br><br>  Para evitar a grava√ß√£o desnecess√°ria de comandos, voc√™ pode definir o mesmo endere√ßo local do link em todas as interfaces ao mesmo tempo.  Isso pode ser feito usando a palavra-chave <b><code>range</code></b> seguida de uma lista de todas as interfaces: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      RTR1(config)#interface range gigabitEthernet 0/1.100, gigabitEthernet 0/1.300, loopback 100 //   link-local  RTR1(config-if)#ipv6 address fe80::1 link-local RTR1(config-if)#exit</span></span></code> </pre><br>  Ao verificar as interfaces, ser√° poss√≠vel ver que os endere√ßos locais do link foram alterados em todas as interfaces selecionadas: <br><br><pre> <code class="1c hljs">RTR1<span class="hljs-meta"><span class="hljs-meta">#show ipv6 interface brief gigabitEthernet 0/1.100 [up/up] FE80::1 2001:100::1 gigabitEthernet 0/1.300 [up/up] FE80::1 2001:300::2 Loopback100 [up/up] FE80::1 2001:A:B::1</span></span></code> </pre><br>  Todos os outros dispositivos est√£o configurados da mesma maneira. <br><br><h6>  d.  Em todos os switches, desative todas as portas que n√£o s√£o usadas no trabalho e transfira para a VLAN 99 </h6><br>  A id√©ia principal √© a mesma maneira de selecionar v√°rias interfaces para configura√ß√£o usando o comando <b><code>range</code></b> , e somente ent√£o voc√™ deve gravar o comando de transfer√™ncia na vlan desejada e depois desativar as interfaces.  Por exemplo, no comutador SW1, de acordo com a topologia de L1, as portas f0 / 3-4, f0 / 7-8, f0 / 11-24 e g0 / 2 ser√£o desativadas.  Neste exemplo, a configura√ß√£o ser√° a seguinte: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//     SW1(config)#interface range fastEthernet 0/3-4, fastEthernet 0/7-8, fastEthernet 0/11-24, gigabitEthernet 0/2 //   access   SW1(config-if-range)#switchport mode access //   VLAN 99  SW1(config-if-range)#switchport access vlan 99 //   SW1(config-if-range)#shutdown SW1(config-if-range)#exit</span></span></code> </pre><br>  Verificando as configura√ß√µes com um comando j√° conhecido, vale a pena prestar aten√ß√£o em que todas as portas n√£o utilizadas devem ter um status <b>administrativo inativo</b> , notificando que a porta est√° desativada: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip interface brief Interface IP-Address OK? Method Status Protocol ... fastEthernet 0/3 unassigned YES unset administratively down down</span></span></code> </pre><br>  Para ver em qual vlan est√° a porta, voc√™ pode usar outro comando: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show ip vlan ... 99 VLAN0099 active Fa0/3, Fa0/4, Fa0/7, Fa0/8 Fa0/11, Fa0/12, Fa0/13, Fa0/14 Fa0/15, Fa0/16, Fa0/17, Fa0/18 Fa0/19, Fa0/20, Fa0/21, Fa0/22 Fa0/23, Fa0/24, Gig0/2 ...</span></span></code> </pre><br>  Todas as interfaces n√£o utilizadas devem estar aqui.  Vale ressaltar que n√£o ser√° poss√≠vel converter interfaces em vlan se essa vlan n√£o for criada.  Para este prop√≥sito na configura√ß√£o inicial, todos os vlan'y necess√°rios para o trabalho foram criados. <br><br><h6>  e  No comutador SW1, ative o bloqueio por 1 minuto no caso de uma entrada de senha incorreta dupla em 30 segundos </h6><br>  Voc√™ pode fazer isso com o seguinte comando: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   60; : 2;  : 30 SW1#login block-for 60 attempts 2 within 30</span></span></code> </pre><br>  Voc√™ tamb√©m pode verificar essas configura√ß√µes da seguinte maneira: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta">#show login ... If more than 2 login failures occur in 30 seconds or less, logins will be disabled for 60 seconds. ...</span></span></code> </pre><br>  Onde √© explicado de forma intelig√≠vel que, ap√≥s duas tentativas malsucedidas em 30 ou menos segundos, o logon ser√° bloqueado por 60 segundos. <br><br><h1>  2. Todos os dispositivos devem estar acess√≠veis para o gerenciamento de protocolo SSH vers√£o 2. </h1><br>  Para que os dispositivos estejam dispon√≠veis via SSH vers√£o 2, voc√™ deve primeiro configurar o equipamento, para fins informativos, o equipamento com configura√ß√µes de f√°brica ser√° configurado primeiro. <br><br>  Voc√™ pode alterar a vers√£o da pun√ß√£o da seguinte maneira: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//   SSH  2 Router(config)#ip ssh version 2 Please create RSA keys (of at least 768 bits size) to enable SSH v2. Router(config)#</span></span></code> </pre><br>  O sistema pede para criar chaves RSA para a integridade do SSH vers√£o 2. Seguindo o conselho de um sistema inteligente, voc√™ pode criar chaves RSA com o seguinte comando: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  RSA  Router(config)#crypto key generate rsa % Please define a hostname other than Router. Router(config)#</span></span></code> </pre><br>  O sistema n√£o permite que o comando seja executado porque o nome do host n√£o foi alterado.  Depois de alterar o nome do host, voc√™ precisa escrever o comando de gera√ß√£o de chave novamente: <br><br><pre> <code class="1c hljs">Router(config)<span class="hljs-meta"><span class="hljs-meta">#hostname R1 R1(config)#crypto key generate rsa % Please define a domain-name first. R1(config)#</span></span></code> </pre><br>  Agora, o sistema n√£o permite a cria√ß√£o de chaves RSA, devido √† falta de um nome de dom√≠nio.  E depois de instalar o nome do dom√≠nio, ser√° poss√≠vel criar chaves RSA.  As chaves RSA devem ter pelo menos 768 bits para que o SSH vers√£o 2 funcione: <br><br><pre> <code class="1c hljs">R1(config)<span class="hljs-meta"><span class="hljs-meta">#ip domain-name wsrvuz19.ru R1(config)#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  Como resultado, acontece que, para o SSHv2 funcionar, voc√™ precisa: <br><br><ol><li>  Alterar nome do host; </li><li>  Alterar nome de dom√≠nio; </li><li>  Gere chaves RSA. </li></ol><br>  No √∫ltimo artigo, as configura√ß√µes para alterar o nome do host e o nome de dom√≠nio em todos os dispositivos foram fornecidas, portanto, continuando a configurar os dispositivos atuais, voc√™ s√≥ precisa gerar chaves RSA: <br><br><pre> <code class="1c hljs">RTR1(config)<span class="hljs-meta"><span class="hljs-meta">#crypto key generate rsa How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable...[OK]</span></span></code> </pre><br>  O SSH vers√£o 2 est√° ativo, mas o dispositivo ainda n√£o est√° totalmente configurado.  A etapa final ser√° configurar os consoles virtuais: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//      R1(config)#line vty 0 4 //       SSH RTR1(config-line)#transport input ssh RTR1(config-line)#exit</span></span></code> </pre><br>  No √∫ltimo artigo, o modelo AAA foi configurado, em que a autentica√ß√£o era definida nos consoles virtuais usando um banco de dados local e o usu√°rio precisava entrar no modo privilegiado imediatamente ap√≥s a autentica√ß√£o.  A verifica√ß√£o de integridade mais simples do SSH est√° tentando se conectar ao seu pr√≥prio hardware.  No RTR1, h√° um loopback com o endere√ßo IP 1.1.1.1, voc√™ pode tentar se conectar a este endere√ßo: <br><br><pre> <code class="1c hljs"><span class="hljs-comment"><span class="hljs-comment">//  ssh RTR1(config)#do ssh -l wsrvuz19 1.1.1.1 Password: RTR1#</span></span></code> </pre><br>  Ap√≥s a op√ß√£o <b><code>-l</code></b> , o nome de usu√°rio do usu√°rio existente √© inserido e a senha.  Ap√≥s a autentica√ß√£o, ele muda imediatamente para o modo privilegiado, o que significa que o SSH est√° configurado corretamente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt457916/">https://habr.com/ru/post/pt457916/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt457900/index.html">Comiss√£o Federal de Comunica√ß√µes dos EUA Contra Meteorologistas</a></li>
<li><a href="../pt457902/index.html">Mitap para ci√™ncia de dados</a></li>
<li><a href="../pt457904/index.html">R√°dio at√¥mica - a primeira transmiss√£o musical de todos os tempos</a></li>
<li><a href="../pt457906/index.html">Os m√©dicos acreditam que, em um futuro pr√≥ximo, os dispositivos de vacina√ß√£o aparecer√£o em resid√™ncias e farm√°cias</a></li>
<li><a href="../pt457910/index.html">WebFPGA - Desenvolvimento Verilog no navegador</a></li>
<li><a href="../pt457920/index.html">Jet world: acesso livre e aberto aos relat√≥rios da confer√™ncia Joker 2018 + revis√£o dos dez primeiros</a></li>
<li><a href="../pt457926/index.html">Compara√ß√£o de Certifica√ß√£o √Ågil, Parte 1 - ICAgile, Scrum.org, ScrumAlliance e PMI</a></li>
<li><a href="../pt457928/index.html">Classifica√ß√£o profunda para comparar duas imagens</a></li>
<li><a href="../pt457930/index.html">Digita√ß√£o din√¢mica estaticamente segura no Python</a></li>
<li><a href="../pt457932/index.html">An√°lise do concurso IDS Bypass no Positive Hack Days 9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>