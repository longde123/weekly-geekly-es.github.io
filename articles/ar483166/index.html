<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง ๐ฉ๐ฟโ๐ป ๐ ูุดู ุชููุงุฆู ุชุฑููุฒ ุงููุต ๐ ๐ ๐ค</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 


 ุชุนุฌุจูู ุงูุจุฑูุฌุฉ ุญููุง ุ ูุฃูุง ูู ููุงุฉ ูุฃูู ูุฑุฉ ูุขุฎุฑ ูุณุจุช ูููุง ุฃููุงููุง ุนูู ุงูุจุฑูุฌุฉ ูู ุนุงู 1996. ููู ูู ุจุนุถ ุงูุฃุญูุงู ุฃูุชุจ ุดูุฆูุง ูุฃุชูุชุฉ ุงูููุงู ุงููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุดู ุชููุงุฆู ุชุฑููุฒ ุงููุต</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483166/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qf/ve/vy/qfvevyr3zqvd2fwh89fkdc0btxg.jpeg" alt="ุตูุฑุฉ"><br><h2 id="vvedenie" style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุชุนุฌุจูู ุงูุจุฑูุฌุฉ ุญููุง ุ ูุฃูุง ูู ููุงุฉ ูุฃูู ูุฑุฉ ูุขุฎุฑ ูุณุจุช ูููุง ุฃููุงููุง ุนูู ุงูุจุฑูุฌุฉ ูู ุนุงู 1996.  ููู ูู ุจุนุถ ุงูุฃุญูุงู ุฃูุชุจ ุดูุฆูุง ูุฃุชูุชุฉ ุงูููุงู ุงูููููุฉ.  ููุฐ ุญูุงูู ุนุงู ุ ุชู ุงูุชุดุงู golang.  ูุฃุฏุงุฉ ูุฅูุดุงุก ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุ ุชุจูู ุฃู golang ูุฑูุญุฉ ููุบุงูุฉ.  ููุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ูุงูุช ููุงู ุญุงุฌุฉ ููุนุงูุฌุฉ ุนุฏุฏ ูุจูุฑ (ุฃูุซุฑ ูู ุฃูู ุ ูุฃุฑู ุงุจุชุณุงูุงุช ูุคูุฏ) ูู ูููุงุช ุงูุฃุฑุดูู ูุน ูุนูููุงุช ุงูุฌููููุฒูุงุฆูุฉ ุงูุฎุงุตุฉ.  ุชูุณูู ุงูููู ูุต ุจุณูุท.  ุฅุฐุง ููุช ููุชููุง ูุฌุฃุฉ ููุฐุง <a href="http://www.cwls.org/las/" rel="nofollow">ุชูุณูู LAS</a> . <br>  ูุญุชูู ููู LAS ุนูู ุฑุฃุณ ูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl"> ุงูุจูุงูุงุช ุนุจุงุฑุฉ ุนู ููู CSV ุนููููุง ุ ููุท ูุญุฏุฏ ุนูุงูุงุช ุชุจููุจ ุฃู ูุณุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุญุชูู ุงูุนููุงู ุนูู ูุตู ููุจูุงูุงุช ูููุง ุนุงุฏุฉ ูุง ูุญุชูู ุนูู ูุต ุฑูุณู.  ูุฏ ูููู ูุฐุง ูู ุงุณู ุงูุญูู ุ ูุงุณู ุงูุฏุฑุงุณุงุช ุงููุณุฌูุฉ ูู ููู ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุฅูุดุงุก ูุฐู ุงููููุงุช ูู ุฃููุงุช ูุฎุชููุฉ ููู ุจุฑุงูุฌ ูุฎุชููุฉ ุ ุงูุฃูุฑ ุงูุฐู ูุดูุฑ ุฅูู ุฃูู ูู ุฌุฒุก ููู ูุงุญุฏ ุชู ุชุฑููุฒู ูู CP1251 ุ ูุฌุฒุก ูู CP866.  ุฃุญุชุงุฌ ุฅูู ูุนุงูุฌุฉ ูุฐู ุงููููุงุช ุ ููุง ูุนูู ุฃู ุฃููู.  ูุฐูู ูุงู ูุทููุจูุง ุชุญุฏูุฏ ุชุฑููุฒ ุงูููู ุชููุงุฆููุง. </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ุงุฎุชุฑุน ุฏุฑุงุฌุฉ ููุงุฆูุฉ ุนูู golang ุ ูุจุงูุชุงูู ุ ูููุฏุช ููุชุจุฉ ุตุบูุฑุฉ ูุฏููุง ุงููุฏุฑุฉ ุนูู ุงูุชุดุงู ุตูุญุฉ ุงูุฑููุฒ. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  <i>ุญูู ุงูุชุฑููุฒุงุช.</i>  <i>ููุฐ ููุช ููุณ ุจุจุนูุฏ ุนูู habr ูุงู ููุงู ููุงู ุฌูุฏ ุญูู ุงูุชุฑููุฒุงุช</i> <a href="https://habr.com/ru/post/478636/">ููู ุชุนูู ุชุฑููุฒุงุช ุงููุต.</a>  <a href="https://habr.com/ru/post/478636/">ูู ุฃูู ุชุฃุชู ุงูุชูุงุณูุญุ</a>  <a href="https://habr.com/ru/post/478636/">ูุจุงุฏุฆ ุงูุชุฑููุฒ.</a>  <a href="https://habr.com/ru/post/478636/">ุงูุชุนููู ูุงูุชุญููู ุงูููุตู:</a> <i>ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ุชููู ูุง ูู "ุงูุนุธุงู" ุฃู "ุงูุนุธุงู" ุ ูุฅู ุงูุฃูุฑ ูุณุชุญู ุงููุฑุงุกุฉ.</i> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุฑููุช ูุฑุงุฑู.  ุซู ุญุงููุช ุฃู ุฃุฌุฏ ุญููุง ุนููููุง ุฌุงูุฒูุง ุนูู golang ุ ููููู ูุดูุช.  ูุงู ููุงู ุญูุงู ุ ูููู ููุงููุง ูุง ูุนููุงู. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃูู "ุฎุงุฑุฌ ุงูุตูุฏูู" - ูุธููุฉ golang.org/x/net/html/charset DetermineEncoding () </li><li style=";text-align:right;direction:rtl">  ุงูููุชุจุฉ ุงูุซุงููุฉ - ุงููุฏูุณูู / chardet ุนูู ุฌูุซุจ </li></ul><br><p style=";text-align:right;direction:rtl">  ููุงููุง ูุฎุทุฆ ุจุงูุชุฃููุฏ ูู ุจุนุถ ุงูุชุฑููุฒุงุช.  ูุง ูููู ูููุนูุงุฑ ุจุดูู ุนุงู ุชุญุฏูุฏ ุฃู ุดูุก ุชูุฑูุจูุง ูู ุงููููุงุช ุงููุตูุฉ ุ ููู ุฃูุฑ ููููู ุ ููุฏ ุชู ุฅุฌุฑุงุคู ูุตูุญุงุช HTML. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุจุญุซ ุ ุบุงูุจูุง ูุง ุตุงุฏูุช ุฃุฏูุงุช ูุณุงุนุฏุฉ ุฌุงูุฒุฉ ูู ุนุงูู linux - <strong>enca</strong> .  ุงูุนุซูุฑ ุนูู ุฅุตุฏุงุฑ ุงููุชุฑุฌูุฉ ูู WIN32 ุ ุงูุฅุตุฏุงุฑ 1.12.  ุฃูุง ุฃูุถุง ุณูู ุชูุธุฑ ูู ุฐูู ุ ููุงู ุฃุดูุงุก ููุชุนุฉ ููุงู.  ุฃุนุชุฐุฑ ุนูู ุงูููุฑ ุนู ุฌููู ุงููุงูู ููุธุงู ุงูุชุดุบูู linux ุ ููุง ูุนูู ุฃูู ูู ุงููุญุชูู ุฃู ูููู ููุงู ุงููุฒูุฏ ูู ุงูุญููู ุงูุชู ููููู ุฃูุถูุง ูุญุงููุฉ ุญููุง ููููุง ูุฑูุฒ golang ุ ูู ุฃุนุฏ ุฃุจุญุซ. </p><br><h2 id="sravnenie-naydennyh-resheniy-na-avtoopredelenie-kodirovki" style=";text-align:right;direction:rtl">  ููุงุฑูุฉ ุจูู ุงูุญููู ุงูููุฌูุฏุฉ ูุชุฑููุฒ ุงูุงูุชุดุงู ุงูุชููุงุฆู </h2><br><p style=";text-align:right;direction:rtl">  ุฃุนุฏ ูุชุงููุฌ <a href="" rel="nofollow">ุจูุงูุงุช ุงุฎุชุจุงุฑ softlandia \ cpd</a> ูุน ูููุงุช <a href="" rel="nofollow">ุจุชุฑููุฒุงุช</a> ูุฎุชููุฉ.  ูุญุชููุงุช ุงููููุงุช ูุตูุฑุฉ ุฌุฏุง ูููุณ ุงูุดูุก.  ุณุทุฑ ูุงุญุฏ "ุงูุฑูุณูุฉ ูู ุงูุชุฑููุฒ CodePageName".  ุฃุถูุช ุงููููุงุช ูุน ูุฒูุฌ ูู ุงูุชุฑููุฒุงุช ูุจุนุถ ุงูุญุงูุงุช ุงููุนูุฏุฉ ูุญุงููุช ุชุญุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃูู ุชุจูู ูุถุญู. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  # </th><th>  ุชุฑููุฒ </th><th>  ุฃุชุด ุชู ุฃู ุฃู / ูุญุงุฑู </th><th>  ุงููุฏูุณูู / chardet </th><th>  softlandia / cpd </th><th>  enca </th></tr></thead><tbody><tr><td>  1 </td><td>  CP1251 </td><td>  ููุงูุฐ-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  CP1251 </td></tr><tr><td>  2 </td><td>  CP866 </td><td>  ููุงูุฐ-1252 </td><td>  ููุงูุฐ-1252 </td><td>  CP866 </td><td>  CP866 </td></tr><tr><td>  3 </td><td>  KOI8-R </td><td>  ููุงูุฐ-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  KOI8-R </td></tr><tr><td>  4 </td><td>  ISO-8859-5 </td><td>  ููุงูุฐ-1252 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td><td>  ISO-8859-5 </td></tr><tr><td>  5 </td><td>  UTF-8 ูุน BOM </td><td>  UTF-8 </td><td>  UTF-8 </td><td>  UTF-8 </td><td>  UTF-8 </td></tr><tr><td>  6 </td><td>  UTF-8 ุจุฏูู BOM </td><td>  UTF-8 </td><td>  UTF-8 </td><td>  UTF-8 </td><td>  UTF-8 </td></tr><tr><td>  7 </td><td>  UTF-16LE ูุน BOM </td><td>  UTF-16LE </td><td>  UTF-16LE </td><td>  UTF-16LE </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  8 </td><td>  UTF-16LE ุจุฏูู BOM </td><td>  ููุงูุฐ-1252 </td><td>  ISO-8859-1 </td><td>  UTF-16LE </td><td>  <strong>ุบูุฑ ูุนุฑูู</strong> </td></tr><tr><td>  9 </td><td>  UTF-16BE ูุน BOM </td><td>  UTF-16LE </td><td>  UTF-16be </td><td>  UTF-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  10 </td><td>  UTF-16BE ุจุฏูู BOM </td><td>  ููุงูุฐ-1252 </td><td>  ISO-8859-1 </td><td>  UTF-16be </td><td>  ISO-10646-UCS-2 </td></tr><tr><td>  11 </td><td>  UTF-32LE ูุน BOM </td><td>  UTF-16LE </td><td>  UTF-32le </td><td>  UTF-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  12 </td><td>  UTF-32LE ุจุฏูู BOM </td><td>  ููุงูุฐ-1252 </td><td>  UTF-32le </td><td>  UTF-32le </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  13 </td><td>  UTF-32BE ูุน BOM </td><td>  ููุงูุฐ-1252 </td><td>  UTF-32be </td><td>  UTF-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  14 </td><td>  UTF-32BE ุจุฏูู BOM </td><td>  ููุงูุฐ-1252 </td><td>  UTF-32be </td><td>  UTF-32be </td><td>  ISO-10646-UCS-4 </td></tr><tr><td>  15 </td><td>  KOI8-R (UPPER) </td><td>  ููุงูุฐ-1252 </td><td>  KOI8-R </td><td>  KOI8-R </td><td>  <strong>CP1251</strong> </td></tr><tr><td>  16 </td><td>  CP1251 (UPPER) </td><td>  ููุงูุฐ-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  <strong>KOI8-R</strong> </td></tr><tr><td>  17 </td><td>  CP866 ู CP1251 </td><td>  ููุงูุฐ-1252 </td><td>  CP1251 </td><td>  CP1251 </td><td>  ุบูุฑ ูุนุฑูู </td></tr></tbody></table></div><br><h3 id="nablyudenie-1" style=";text-align:right;direction:rtl">  ุงูููุงุญุธุฉ 1 </h3><br><p style=";text-align:right;direction:rtl">  ูู ูุญุฏุฏ <strong>enca</strong> ุชุฑููุฒ ููู UTF-16LE ุจุฏูู BOM - ูุฐุง ุบุฑูุจ ุ ุญุณููุง.  ุญุงููุช ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุต ุ ููู ูู ุฃุญุตู ุนูู ุงููุชูุฌุฉ. </p><br><h3 id="nablyudenie-2-problemy-s-kodirovkami-cp1251-i-koi8-r" style=";text-align:right;direction:rtl">  ุงูููุงุญุธุฉ 2. ูุดุงูู ุงูุชุฑููุฒ CP1251 ู KOI8-R </h3><br><p style=";text-align:right;direction:rtl">  ุงูุณุทูุฑ 15 ู 16. ุงูุฃูุฑ enca ูุฏูู ูุดุงูู. <br>  ุณุฃุดุฑุญ ููุง ุ ุงูุญูููุฉ ูู ุฃู ุชุดููุฑ CP1251 (ุงููุนุฑูู ุฃูุถูุง ุจุงุณู Windows 1251) ู KOI8-R ูุฑูุจุงู ุฌุฏูุง ุฅุฐุง ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ุงูุฃุญุฑู ุงูุฃุจุฌุฏูุฉ ููุท. </p><br><h4 id="tablica-cp-1251" style=";text-align:right;direction:rtl">  ุงูุฌุฏูู CP 1251 </h4><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7g/fz/xw/7gfzxwkggre8ghkda0iwbddb2d0.png" alt="ุตูุฑุฉ"></p><br><h4 id="tablica-koi8-r" style=";text-align:right;direction:rtl">  ุทุงููุฉ KOI8-r </h4><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_p/zy/9j/_pzy9joyqeddhtgjbqxahwg1cji.png" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูู ููุง <strong>ุงูุชุฑููุฒูู</strong> ุ ุชูุน ุงูุฃุจุฌุฏูุฉ ูู <strong>0xC0</strong> ุฅูู <strong>0xFF</strong> ุ ูููู ุนูุฏูุง ูููู ูุฃุญุฏ ุงูุชุฑููุฒ ุญุฑูู ูุจูุฑุฉ ุ ูููู ุงูุขุฎุฑ ุตุบูุฑูุง.  ููุจุฏู ุฃู <strong>enca</strong> ูุนูู ุจุฃุญุฑู ุตุบูุฑุฉ.  ููุฐุง ุงุชุถุญ ุ ุฅุฐุง ุฃุฑุณูุช ุงูุณูุณูุฉ "STP" ุงููุดูุฑุฉ ูู <em>CP1251 ุฅูู</em> ุจุฑูุงูุฌ <strong>enca</strong> ุ ูุณูู ุชูุฑุฑ ุฃููุง ุงูุณูุณูุฉ "ุดุฏูุฏุฉ" ุงููุดูุฑุฉ ูู <em>KOI8-r</em> ุ ูุงูุชู ุณูุชู ุงูุฅุจูุงุบ ุนููุง.  ุนูุณ ูุนูู ุฃูุถุง. </p><br><h3 id="nablyudenie-3" style=";text-align:right;direction:rtl">  ุงูููุงุญุธุฉ 3 </h3><br><p style=";text-align:right;direction:rtl">  ูุง ูููู ุงููุซูู ุจุงูููุชุจุฉ ุงูููุงุณูุฉ ูู <em>html / charset</em> ุฅูุง ูู ุฎูุงู ุชุนุฑูู <strong>UTF-8</strong> ุ ูููู ูู ุญุฐุฑูุง!  ูุฌุจ ุงุณุชุฎุฏุงูู <em>charset.DetermineEncoding ()</em> ุจุงูุถุจุท ุ ูุฃู ุทุฑููุฉ <em>utf8.Valid (b [] byte)</em> ุนูู <strong>ุงููููุงุช ุงููุดูุฑุฉ utf-16be</strong> ุชูุฑุฌุน ุฅูู <em>true</em> . </p><br><h2 id="sobstvennyy-velosiped" style=";text-align:right;direction:rtl">  ุงูุฏุฑุงุฌุฉ ุงูุฎุงุตุฉ </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/r2/2k/di/r22kdit6akwh4zq5sf1mexbka3c.jpeg" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุง ูููู ุงููุดู ุงูุชููุงุฆู ุนู ุงูุชุฑููุฒ ุฅูุง ุนู ุทุฑูู ุงูุฃุณุงููุจ ุงูุชุฌุฑูุจูุฉ ุ ุบูุฑ ุงูุฏูููุฉ.  ุฅุฐุง ูู ููู ูุนุฑู ุฃู ูุบุฉ ูุจุฃู ููุน ูู ุชุฑููุฒ ุงูููู ุงููุตู ุงูููุชูุจ ุ ููู ุงููููู ุชุญุฏูุฏ ุงูุชุฑููุฒ ุจุฏูุฉ ุนุงููุฉ ุ ููู ุณูููู ุงูุฃูุฑ ุตุนุจูุง ... ูุณุชุญุชุงุฌ ุฅูู ุงููุซูุฑ ูู ุงููุต. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูู ุ ูู ูุชู ุชุญุฏูุฏ ูุฐุง ุงููุฏู.  ูููู ุจุงููุณุจุฉ ูู ูุชุญุฏูุฏ ุงูุชุฑููุฒุงุช ุนูู ุงูุชุฑุงุถ ุฃู ููุงู ุงูุฑูุณูุฉ.  ูุซุงููุง ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุนุฏุฏ ุตุบูุฑ ูู ุงูุฃุญุฑู - ูุฌุจ ุฃู ูููู ูุฏู 10 ุฃุญุฑู ุชุนุฑูู ูุงุซู ุฅูู ุญุฏ ูุง ุ ูููุถู ุฃู ูููู 5-6 ุฃุญุฑู ุจุดูู ุนุงู. </p><br><h3 id="algoritm" style=";text-align:right;direction:rtl">  ุฎูุงุฑุฒููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุงูุชุดูุช ูุตุงุฏูุฉ ุงูุชุฑููุฒูู KOI8-r ู CP1251 ุญุณุจ ูููุน ุงูุฃุจุฌุฏูุฉ ุ ููุช ุญุฒูููุง ูุจุถุนุฉ ุฃูุงู ... ุฃุตุจุญ ูู ุงููุงุถุญ ุฃูู ูุงู ุนูู ุงูุชูููุฑ ููููุงู.  ุงุชุถุญ ูุซู ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑุงุฑุงุช ุงูุฑุฆูุณูุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณูุนูู ูุน ุดุฑูุญุฉ ูู ุงูุจุงูุชุงุช ุ ูู ุฃุฌู ุงูุชูุงูู ูุน charset.DetermineEncoding () </li><li style=";text-align:right;direction:rtl">  ูุชู ูุญุต ุญุงูุงุช ุชุฑููุฒ UTF-8 ู BOM ุจุดูู ูููุตู </li><li style=";text-align:right;direction:rtl">  ูุชู ุชูุฑูุฑ ุจูุงูุงุช ุงูุฅุฏุฎุงู ุจุฏูุฑู ุฅูู ูู ุชุฑููุฒ.  ูู ููุณู ูุญุณุจ ุงุซููู ูู ูุนุงููุฑ ุนุฏุฏ ุตุญูุญ.  ุงูุฐู ุฌูุน ุงุซููู ูู ุงููุนุงููุฑ ูู ุฃูุจุฑ ุ ููุงุฒ. </li></ol><br><h3 id="kriterii-sootvetstviya" style=";text-align:right;direction:rtl">  ูุนุงููุฑ ุงูุงูุชุซุงู </h3><br><h4 id="pervyy-kriteriy" style=";text-align:right;direction:rtl">  ุงููุนูุงุฑ ุงูุฃูู </h4><br><p style=";text-align:right;direction:rtl">  ุงููุนูุงุฑ ุงูุฃูู ูู ุนุฏุฏ ุงูุฃุญุฑู ุงูุฃูุซุฑ ุดููุนูุง ูู ุงูุฃุจุฌุฏูุฉ ุงูุฑูุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃุญุฑู ุงูุฃูุซุฑ ุดููุนูุง ูู: <strong>o ุ e ุ a ุ ู ุ n ุ t ุ s ุ p ุ b ุ l ุ k ุ m ุ d ุ p ุ y</strong> .  ูุฐู ุงูุฑุณุงุฆู ุชุนุทู ุชุบุทูุฉ 82 ูช.  ุจุงููุณุจุฉ ูุฌููุน ุงูุชุฑููุฒุงุช ุจุงุณุชุซูุงุก KOI8-r ู CP1251 ุ ุงุณุชุฎุฏูุช ุงูุฃุญุฑู ุงูุชุณุนุฉ ุงูุฃููู ููุท: o ุ e ุ a ุ ู ุ n ุ t ุ s ุ p ุ c.  ูุฐุง ูููู ูุชุญุฏูุฏ ููุซูู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ู KOI8-r ู CP1251 ุงุถุทุฑุฑุช ุฅูู ุชุนุฏูู ุงูููู.  ุชุชุฒุงูู ุฃููุงุฏ ุจุนุถ ูุฐู ุงูุญุฑูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชูู ุงูุญุฑู <strong>o</strong> ุนูู ุงูุฑูุฒ 0xEE ูู CP1251 ุ ุจูููุง ูู KOI8-r ูุญุชูู ูุฐุง ุงูุฑูุฒ ุนูู ุงูุญุฑู <strong>n</strong> .  ุงุชุฎุฐุช ุงูุญุฑูู ุงูุดุนุจูุฉ ุงูุชุงููุฉ ููุฐู ุงูุชุฑููุฒุงุช.  ุจุงููุณุจุฉ ุฅูู CP1251 ุ ุงุณุชุฎุฏูุช a ุ ู ุ n ุ c ุ p ุ b ุ l ุ k ุ i.  ุจุงููุณุจุฉ ุฅูู KOI8-r - o ุ a ุ u ุ t ุ s ุ b ุ l ุ k ุ m. </p><br><h4 id="vtoroy-kriteriy" style=";text-align:right;direction:rtl">  ุงููุนูุงุฑ ุงูุซุงูู </h4><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ุจุงููุณุจุฉ ููุญุงูุงุช ุงููุตูุฑุฉ ุฌุฏูุง (ูุจูุบ ุงูุทูู ุงูุฅุฌูุงูู ูููุต ุงูุฑูุณู 5-6 ุฃุญุฑู) ุ ูุฅู ุญุฏูุซ ุงูุฃุญุฑู ุงูุดุงุฆุนุฉ ูููู ูู ูุณุชูู 1-3 ุฃุฌูุฒุฉ ููุจููุชุฑ ูููุงู ุชุฏุงุฎู ุจูู ุชุฑููุฒุงุช KOI8-r ู CP1251.  ุงุถุทุฑุฑุช ูุชูุฏูู ูุนูุงุฑ ุซุงู.  <strong>ุจุงูุชูุงูู + ุญุฑู ุนูุฉ ุงูุนุฏ</strong> . <br>  ูู ุงููุชููุน ุฃู ุชุญุฏุซ ูุฐู ุงููุฌููุนุงุช ูู ุงูุบุงูุจ ุจุงููุบุฉ ุงูุฑูุณูุฉ ุ ูุจุงูุชุงูู ุ ูู ูุฐุง ุงูุชุฑููุฒ ุงูุฐู ูููู ููู ุนุฏุฏ ูุฐู ุงูุฃุฒูุงุฌ ุฃูุจุฑ ุ ูุฅู ุงูุชุฑููุฒ ูุฏูู ูุนูุงุฑ ุฃูุจุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุญุชุณุงุจ ููุง ุงููุนูุงุฑูู ูุฅุถุงูุชู ูุงููุจูุบ ุงููุณุชูู ูู ุงููุนูุงุฑ ุงูููุงุฆู. <br>  ุชุธูุฑ ุงููุชูุฌุฉ ูู ุงูุฌุฏูู ุฃุนูุงู. </p><br><h2 id="osobennosti-s-kotorymi-ya-stolknulsya" style=";text-align:right;direction:rtl">  ููุฒุงุช ูุงุฌูุช </h2><br><p style=";text-align:right;direction:rtl">  ููุณุฉ ุตุบูุฑุฉ ุนูู ุงูุณุญุฑ ูุงููุดุงูู ุงููุฑุชุจุทุฉ golang.  ูุฏ ูููู ุงููุณู ููุชุนูุง ูููุจุชุฏุฆูู ููุท ูููุชุงุจุฉ ุจูุบุฉ ุบููุงูุบ. </p><br><h3 id="problemy" style=";text-align:right;direction:rtl">  ุงููุดุงูู </h3><br><p style=";text-align:right;direction:rtl">  ุชุฌูู ุดุฎุตูุงู ุญูู ุจุนุถ ุงูุญุตู ุงูููุฌูุฏุฉ ุชุญุช <a href="https://habr.com/ru/company/mailru/blog/314804/">50 ุธูุงู ูู Go: ุงููุฎุงุฎ ูุงููุฒุงูู ูุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูููุจุชุฏุฆูู</a> . <br>  ูุงู ุงูููู ุงูููุฑุท ููุญุงููุฉ ุงูููุฎ ูู ุงููุงุก ุ ูุงูุงุณุชูุงุน ูู ุงูุขุฎุฑูู ุญูู ุงูุญุฑูู ุงูุฑููุจุฉ ูู ุงูุญููุจ ุ ุฃุจุนุฏ ูู ุงูุชุญูู ูู ูุนููุฉ ุงูุฅุฏุฎุงู ูู ููุน io.Reader.  ุฑุงุฌุนุช ูุชุบูุฑ ูุซู io.Reader ูุน ุงูุชูููุฑ. </p><br><pre style=";text-align:right;direction:rtl"><code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//CodePageDetect - detect code page of ascii data from reader 'r' func CodePageDetect(r io.Reader, stopStr ...string) (IDCodePage, error) { if !reflect.ValueOf(r).IsValid() { return ASCII, fmt.Errorf("input reader is nil") } ...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ููุง ุงุชุถุญ ูู ุญุงูุชู ุ ูููู ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุดูุก.  ุงูุขู ูู ุดูุก ุฃุณูู </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CodePageDetect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r io.Reader, stopStr ...</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IDCodePage, error)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//test input interfase if r == nil { return ASCII, nil } //make slice of byte from input reader buf, err := bufio.NewReader(r).Peek(ReadBufSize) if (err != nil) &amp;&amp; (err != io.EOF) { return ASCII, err } ...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุฏุนุงุก bufio.NewReader (r) .Peek (ReadBufSize) ููุฑ ุจูุฏูุก ุงูุงุฎุชุจุงุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data *os.File res, err := CodePageDetect(data)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุฑุฌุน Peek () ุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุตุนุฏุช ูุฑุฉ ูุงุญุฏุฉ ุนูู ุฃุดุนู ุงููุงุฑ ูุน ููู ุงููุตูููุงุช ูู ุญูุซ ุงููููุฉ.  ุบุจู ููููุงู ุนูุฏ ูุญุงููุฉ ุชุบููุฑ ุงูุนูุงุตุฑ ุงููุฎุฒูุฉ ูู ุงูุฎุฑูุทุฉ ุ ูู ุฎูุงู ุชุดุบูููุง ูู ุงููุทุงู ... </p><br><h3 id="prelesti" style=";text-align:right;direction:rtl">  ููุงุชู </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูุตุนุจ ุฃู ูููู ุจุงูุถุจุท ูุง ุฅุฐุง ูุงูุช ุซุงุจุชุฉ ุงููุตุงูุญุฉ ูู linter ูุงููุชุฑุฌู ุฃู ุงูุงุณุชุฎุฏุงู ุงููุนุงู ูููุทุงู ุ ุฃู ูู ุฐูู ูุนุง ุ ูููู ูุง ุชูุฌุฏ ุชูุบูุงุช ุนูููุง ูุฅุฎุฑุงุฌ ุงูููุฑุณ ูู ุงูุญุฏูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุทุจุน ุ ูู ุงูุฌูุฏ ุฌุฏูุง ุงูุนูุด ูุน ุฌุงูุน ุงูููุงูุฉ.  ุฃูุชุฑุถ ุฃูู ูุง ูุฒุงู ูุชุนูู ุนูู ุฅุชูุงู ุฃุดุนู ุงููุงุฑ ูู ุชุฎุตูุต / ุฅุทูุงู ุงูุฐุงูุฑุฉ ุ ููู ุงูุงุจุชุณุงูุฉ ุงูุดุฑูุฑุฉ ุญุชู ุงูุขู ูุง ุชุชุฑู ูุฌูู. <br>  ุงููุชุงุจุฉ ุงููููุฉ ูู ุฃูุถูุง ุฌุฒุก ูู ุงูุณุนุงุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุชุบูุฑุงุช ุงูุชู ููุง ููุน ูู ุงููุธููุฉ ูู ุ ุจุงูุชุงูู ุ ุชุทุจูู ุณูู ููุณููููุงุช ุงููุฎุชููุฉ ูููุงุฆูุงุช ูู ููุณ ุงูููุน. </p><br><p style=";text-align:right;direction:rtl">  ูุงู ููููุง ุบุฑูุจ ููุฌููุณ ูู ุงููุตุญุญ ุ ูุฅุนุงุฏุฉ ูุฑุงุกุฉ ุฑูุฒ ุนุงุฏุฉ ูุง ูุนุทู ุงููุชูุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฌุฑู ูุฑุญุฉ ูู ูุฌูุฏ ุงููุซูุฑ ูู ุงูุฃุฏูุงุช ูู ุฎุงุฑุฌ ููุทูุฉ ุงูุฌุฒุงุก ุ ุฅูู ุดุนูุฑ ุฑุงุฆุน ุนูุฏูุง ูุนูู ุงููุชุฑุฌู ูุงููุบุฉ ูุงูููุชุจุฉ ูุงูุฑูุฒ ุงูุจุตุฑู IDE Visual Studio ูุนู ุจุดูู ูุชูุงุบู. </p><br><p style=";text-align:right;direction:rtl">  ุดูุฑุง <a href="https://habr.com/ru/users/falconandy/" class="user_link">ูุงููููุฏู</a> ุนูู ูุตุงุฆุญ ุจูุงุกุฉ ููููุฏุฉ. <br>  ุดูุฑุง ูู </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุงุฎุชุจุงุฑุงุช ุงููุชุฑุฌูุฉ ุนูู <a href="https://github.com/stretchr/testify" rel="nofollow">ุดูุงุฏุฉ</a> ูุฃุตุจุญุช ุญูุง ุฃูุซุฑ ูุงุจููุฉ ูููุฑุงุกุฉ </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุซุงุจุชุฉ ููุณุงุฑุงุช ูููุงุช ุงูุจูุงูุงุช ููุชูุงูู ูุน Linux </li><li style=";text-align:right;direction:rtl">  ูุดู ูู ูุจู <a href="https://github.com/golangci/golangci-lint/releases" rel="nofollow">linter</a> - ููุน ุฐูู ูุฌุฏ ุฎุทุฃ ุญูููููุง ูุงุญุฏูุง (ูุณุฎุฉ ุงููุนูุฉ / ุงููุงุถู) </li></ol><br><p style=";text-align:right;direction:rtl">  ูุง ุฒูุช ูุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุ ุชู ุงููุดู ุนู ุญุงูุฉ ุนุฏู ุชุญุฏูุฏ UTF16.  ุงููุญุฏุซุฉ.  ุงูุขู ูุชู ุงููุดู ุนู UTF16 ู LE ู BE ุญุชู ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุงูุญุฑูู ุงูุฑูุณูุฉ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar483166/">https://habr.com/ru/post/ar483166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar483146/index.html">ูุคุชูุฑ DEFCON 27. ุฃุฏุงุฉ ุงุฎุชุฑุงู ุดุจูุฉ WiFi ุงููุงุณูููุฉ</a></li>
<li><a href="../ar483148/index.html">ููุงูุด ุงูุชูุงุฆู ุงูุฑูููุฉ ูุงููุญุงูุงุฉ ูุน ูุคุณุณ ุดุฑูุฉ ุงุณุชุดุงุฑูุฉ</a></li>
<li><a href="../ar483154/index.html">ููุฏ ุฃูููุช 40 ุฃูู ุฏููุงุฑ ูุฏูุฑุช ููุฑุฉ ุฑุงุฆุนุฉ ูุจุฏุก ุงูุชุดุบูู</a></li>
<li><a href="../ar483156/index.html">ุถุน ุงููุทุฉ ุนูู ูุฏูููุง</a></li>
<li><a href="../ar483160/index.html">ุงููุถุงุก 2020: ุงููุฑูุฎ ุ ูููุจุฉ ูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ ูุงูุตูุงุฑูุฎ ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar483168/index.html">ููููุฉ ุฌุนู ุงูุฑูุจูุช ุงูุฐู ูุญูู ุงูุตูุฑุฉ ุฅูู ููุงูู. ุงูุฌุฒุก ุงูุซุงูู ุงูุชุฏุฑูุจ ุงููููุฐุฌู</a></li>
<li><a href="../ar483170/index.html">ูุงุนุฏุฉ ุจูุงูุงุช Messenger (ุงูุฌุฒุก 2): ููุณู "ุงูุฑุจุญ"</a></li>
<li><a href="../ar483172/index.html">ููููุฉ ุชุฑุฌูุฉ ุชุทุจูู ุฃู ูุนุจุฉุ ุงูุนุดุฑุฉ ุงูุฃูุงุฆู ูุตุงุฏุฑ ุงูุชุนูู ุงูุฅููุชุฑููู ุงููุฌุงูู</a></li>
<li><a href="../ar483174/index.html">ูู ุจุชุณุฌูู ูููู ุงูุตูุช ูู ุฌูุงุฒ ุฅูู ุฌูุงุฒ ุจุงุณุชุฎุฏุงู ุงุชุตุงู Multipeer</a></li>
<li><a href="../ar483176/index.html">ูุงุนุฏุฉ ุจูุงูุงุช Messenger (ุงูุฌุฒุก 1): ูููู ุจุชุตููู ุงูุฅุทุงุฑ ุงูุฃุณุงุณู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>