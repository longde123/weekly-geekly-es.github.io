<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНС ЁЯНУ ЁЯЫМЁЯП╛ рдПрдХ рд╡рд┐рддрд░рд┐рдд php рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд▓реЙрдЧрд┐рдВрдЧ ЁЯзС тА╝я╕П ЁЯжЛ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрд▓реЗрдЦ рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд╛рднреЛрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдЧрд╛ред рдореИрдВ PSR рдкрд░ рд▓реЙрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ред рдореИрдВ рд▓реЙрдЧ рдЗрд╡реЗрдВрдЯ рдХреЗ рд╕реНрддрд░, рд╕рдВрджреЗрд╢ рдФрд░ рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдкрд░ рдХреБрдЫ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рд┐рдлрд╛рд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ рд╡рд┐рддрд░рд┐рдд php рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд▓реЙрдЧрд┐рдВрдЧ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456676/"><p><img src="https://habrastorage.org/webt/xm/rd/rj/xmrdrjy7rtwa8f2__bcbjrdry4y.png"></p><br><p>  рдЖрд▓реЗрдЦ рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд╛рднреЛрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдЧрд╛ред  рдореИрдВ PSR рдкрд░ рд▓реЙрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ред  рдореИрдВ рд▓реЙрдЧ рдЗрд╡реЗрдВрдЯ рдХреЗ рд╕реНрддрд░, рд╕рдВрджреЗрд╢ рдФрд░ рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдкрд░ рдХреБрдЫ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ рдЬреЛрдбрд╝реВрдВрдЧрд╛ред  рдПрдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рдХреИрд╕реЗ рд▓рд╛рд░рд╡реЗрд▓ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдЖрд╡реЗрджрди рдореЗрдВ рдИрдПрд▓рдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЙрдЧрд┐рдВрдЧ рдФрд░ рдирд┐рдЧрд░рд╛рдиреА рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП рдФрд░ рдХрдИ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдбреЙрдХрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдореИрдВ рдЪреЗрддрд╛рд╡рдиреА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд┐рдпрдо рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд░реВрдВрдЧрд╛ред  рдореИрдВ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛ рдЬреЛ рдПрдХ рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдкреВрд░реЗ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕реНрдЯреИрдХ рдХреЛ рдЙрдард╛рддрд╛ рд╣реИред </p><a name="habracut"></a><br><h2 id="polza-logirovaniya">  рд▓реЙрдЧрд┐рдВрдЧ рдХрд╛ рд▓рд╛рдн </h2><br><p>  рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рд▓реЙрдЧрд┐рдВрдЧ рдХрдо рд╕реЗ рдХрдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: </p><br><ul><li>  рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреБрдЫ рдЗрд░рд╛рджрд╛ рдирд╣реАрдВ рд╣реИ (рддреНрд░реБрдЯрд┐рдпрд╛рдБ рд╣реИрдВ) </li><li>  рддреНрд░реБрдЯрд┐ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЛ рдЬрд╛рдиреЗрдВ, рдЬреЛ рдпрд╣ рдмрддрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ рдХрд┐ рддреНрд░реБрдЯрд┐ рдХрд╣рд╛рдВ рдФрд░ рдХрд╣рд╛рдВ рд╣реБрдИ, рдФрд░ рдПрдХ рджреЛрд╣рд░рд╛рдиреЗ рд╕реЗ рд░реЛрдХреЗрдВ </li><li>  рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╕рдм рдХреБрдЫ рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╣реЛ рд░рд╣рд╛ рд╣реИ (access.log, debug-, info-level) </li></ul><br><p>  рд╕реНрд╡рдпрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдирд╛ рдпрд╣ рд╕рдм рдЖрдкрдХреЛ рдирд╣реАрдВ рдмрддрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рд▓реЙрдЧреНрд╕ рдХреА рдорджрдж рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдХрд╛ рд╡рд┐рд╡рд░рдг рдЕрдкрдиреЗ рдЖрдк рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдпрд╛ рд▓реЙрдЧ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ рдЬреЛ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреА рд╕реВрдЪрдирд╛ рджреЗрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ред  рдпрджрд┐ рд▓реЙрдЧ рдореЗрдВ рд╕рдВрджреЗрд╢ рдкрд░реНрдпрд╛рдкреНрдд рдорд╛рддреНрд░рд╛ рдореЗрдВ рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рд╣реИрдВ, рддреЛ рдпрд╣ рдбреАрдмрдЧрд┐рдВрдЧ рдХреЛ рдмрд╣реБрдд рд╕рд░рд▓ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛрдЧреА рдЬрд┐рд╕рдореЗрдВ рдШрдЯрдирд╛ рд╣реБрдИ рдереАред </p><br><h2 id="chem-pisat-i-chto-pisat">  рдХреНрдпрд╛ рд▓рд┐рдЦрдирд╛ рд╣реИ рдФрд░ рдХреНрдпрд╛ рд▓рд┐рдЦрдирд╛ рд╣реИ </h2><br><p> Php рд╕рдореБрджрд╛рдп рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдиреЗ рдХреБрдЫ рдХреЛрдб рд▓реЗрдЦрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ рд╡рд┐рдХрд╕рд┐рдд рдХреА рд╣реИрдВред  рдРрд╕реА рд╣реА рдПрдХ рд╕рд┐рдлрд╛рд░рд┐рд╢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">PSR-3 рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реИ</a> ред  рдпрд╣ рд╕рд┐рд░реНрдл рдпрд╣ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреА рдХреНрдпрд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП, "psr / log" рдкреИрдХреЗрдЬ рдХрд╛ <code>Psr\Log\LoggerInterface</code> рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдШрдЯрдирд╛ рдХреЗ рддреАрди рдШрдЯрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛: </p><br><ol><li>  <strong>рд╕реНрддрд░</strong> - рдШрдЯрдирд╛ рдорд╣рддреНрд╡ </li><li>  <strong>рд╕рдВрджреЗрд╢</strong> - рдШрдЯрдирд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдкрд╛рда </li><li>  <strong>рдкреНрд░рд╕рдВрдЧ</strong> - рдШрдЯрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдирдХрд╛рд░реА рдХреА рдПрдХ рд╕рд░рдгреА </li></ol><br><h3 id="urovni-sobytiya-po-psr-3">  PSR-3 рдЗрд╡реЗрдВрдЯ рд▓реЗрд╡рд▓ </h3><br><p>  рд╕реНрддрд░ RFC 5424 рд╕реЗ рдЙрдзрд╛рд░ рд▓рд┐рдП рдЧрдП рд╣реИрдВ - Syslog рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдЙрдирдХрд╛ рдЕрдиреБрдорд╛рдирд┐рдд рд╡рд┐рд╡рд░рдг рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИ: </p><br><ul><li>  рдбреАрдмрдЧ - рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╡рд░рдг </li><li>  рдЬрд╛рдирдХрд╛рд░реА - рджрд┐рд▓рдЪрд╕реНрдк рдШрдЯрдирд╛рдПрдБ </li><li>  рд╕реВрдЪрдирд╛ - рд╕рд╛рдордЧреНрд░реА рдХреА рдШрдЯрдирд╛рдПрдВ, рд▓реЗрдХрд┐рди рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдирд╣реАрдВ </li><li>  рдЪреЗрддрд╛рд╡рдиреА - рдЕрд╕рд╛рдзрд╛рд░рдг рдорд╛рдорд▓реЗ, рд▓реЗрдХрд┐рди рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдирд╣реАрдВ </li><li>  рддреНрд░реБрдЯрд┐ - рдирд┐рд╖реНрдкрд╛рджрди рдХреА рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдЬрд┐рдиреНрд╣реЗрдВ рдХреНрд╖рдгрд┐рдХ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ </li><li>  рдЖрд▓реЛрдЪрдирд╛рддреНрдордХ - рдЧрдВрднреАрд░ рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпрд╛рдБ (рд╕рд┐рд╕реНрдЯрдо рдШрдЯрдХ рдЕрдиреБрдкрд▓рдмреНрдз, рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдЕрдкрд╡рд╛рдж рд╣реИ) </li><li>  рдЪреЗрддрд╛рд╡рдиреА - рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рд▓рд┐рдП рддрддреНрдХрд╛рд▓ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </li><li>  рдЖрдкрд╛рддрдХрд╛рд▓ - рдкреНрд░рдгрд╛рд▓реА рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣реА рд╣реИ </li></ul><br><p>  рдПрдХ рд╡рд░реНрдгрди рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдорд╣рддреНрд╡ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдХрдард┐рдирд╛рдИ рдХреЗ рдХрд╛рд░рдг рдЗрд╕рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рд╣рдореЗрд╢рд╛ рдЖрд╕рд╛рди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХрд▓ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдХрдиреЗрдХреНрдЯреЗрдб рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдБрдЪ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛ред  рдЗрд╕ рдШрдЯрдирд╛ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рддреЗ рд╕рдордп, рд╣рдореЗрдВ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдРрд╕рд╛ рдХреЛрдИ рдЕрдиреБрд░реЛрдз рд╡рд┐рдлрд▓ рд╣реБрдЖ, рдпрд╛ рд╢рд╛рдпрдж рдХреЗрд╡рд▓ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рдлрд▓ рд╣реЛ рдЧрдпрд╛ред  рдпрд╣ рдЗрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рддрддреНрдХрд╛рд▓ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдпрд╛ рдпрджрд┐ рдпрд╣ рдПрдХ рджреБрд░реНрд▓рдн рдорд╛рдорд▓рд╛ рд╣реИ, рддреЛ рдпрд╣ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдирджреЗрдЦрд╛ рднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣ рдХреЗ рдореБрджреНрджреЛрдВ рдХреЛ рдирд┐рдЧрд░рд╛рдиреА рд▓реЙрдЧ рдХреЗ рдврд╛рдВрдЪреЗ рдореЗрдВ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЕрднреА рднреА рд╕реНрддрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЯреАрдо рдореЗрдВ рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрддрд░реЛрдВ рдкрд░ рд╕рд╣рдорддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><ul><li>  <strong>рдЖрдкрд╛рддрдХрд╛рд▓реАрди</strong> рдмрд╛рд╣рд░реА рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХрд╛ рд╕реНрддрд░ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдпрд╛ рдЗрд╕рдХрд╛ рд╕реНрд╡-рдирд┐рджрд╛рди рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реИред </li><li>  <strong>рдЪреЗрддрд╛рд╡рдиреА</strong> - рд╕рд┐рд╕реНрдЯрдо рд╕реНрд╡рдпрдВ рдЕрдкрдиреЗ рд░рд╛рдЬреНрдп рдХрд╛ рдирд┐рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдп рдХреЗ рд╕рд╛рде, рдФрд░ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЗрд╕ рд╕реНрддрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдШрдЯрдирд╛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЬреБрдбрд╝реЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдпрд╛ рдХреБрдЫ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреА рдЬрд╛рдВрдЪ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдмрд╛рд╣рд░реА рд╕рдВрд╕рд╛рдзрди рдХреЗ рдЦрд╛рддреЗ рдкрд░ рдПрдХ рд╕рдВрддреБрд▓рдиред </li><li>  <strong>рдорд╣рддреНрд╡рдкреВрд░реНрдг</strong> - рдПрдХ рдШрдЯрдирд╛ рдЬрдм рдПрдХ рд╡рд┐рдлрд▓рддрд╛ рдПрдХ рдкреНрд░рдгрд╛рд▓реА рдШрдЯрдХ рджреЗрддреА рд╣реИ рдЬреЛ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдФрд░ рд╣рдореЗрд╢рд╛ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрд╣реБрдд рдХреБрдЫ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИред  рдЙрди рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ рдЬреЛ рдЬрд▓реНрджреА рд╕реЗ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВ, рднрд▓реЗ рд╣реА рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рд╣реБрдЖ рд╣реЛред </li><li>  <strong>рддреНрд░реБрдЯрд┐</strong> - рдПрдХ рдРрд╕реА рдШрдЯрдирд╛ рд╣реБрдИ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд▓реНрдж рд╣реА рджреЛрд╣рд░рд╛рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓, рдЬрд┐рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдпрд╣ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдирд╣реАрдВ рдЖрддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЪрд┐рддреНрд░ рдХреЛ рдЙрд╕рдХреЗ рдЕрдиреБрд░реЛрдз рдкрд░ рд╕рд╣реЗрдЬрдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛, рд▓реЗрдХрд┐рди рд╕рд┐рд╕реНрдЯрдо рдПрдХ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЪрд┐рддреНрд░ рд╕реЗрд╡рд╛ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдПрдХ рдЪреИрдЯ рдкреНрд░рдгрд╛рд▓реА рд╣реИред </li><li>  <strong>рдЪреЗрддрд╛рд╡рдиреА</strong> - рдШрдЯрдирд╛рдУрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рддрддреНрдХрд╛рд▓ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рд╕рдордп рдХреА рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдЦреНрдпрд╛ рдбрд╛рдпрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдПрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓, рдЬрд┐рд╕рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреБрдЫ рднреА рдЧрдВрднреАрд░ рдирд╣реАрдВ рддреЛрдбрд╝рддреА рд╣реИред  рдпреЗ рдЕрднреА рднреА рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрдирдореЗрдВ рд╕реЗ рд╕реБрдзрд╛рд░ рдХрд╛рд░реНрдп рдЕрдиреБрд╕реВрдЪреА рдХреЗ рд▓рд┐рдП рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдЕрд╡рддрд╛рд░ рдХреЛ рд╕рд╣реЗрдЬрдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рдерд╛, рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдПрдХ рдСрдирд▓рд╛рдЗрди рд╕реНрдЯреЛрд░ рдерд╛ред  рдЕрдЪрд╛рдирдХ рд╡рд┐рд╕рдВрдЧрддрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рд╕реВрдЪрдирд╛ (рдЙрдЪреНрдЪ рдЖрд╡реГрддреНрддрд┐ рдкрд░) рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдЕрдзрд┐рдХ рдЧрдВрднреАрд░ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд▓рдХреНрд╖рдг рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  <strong>рдиреЛрдЯрд┐рд╕</strong> - рдпреЗ рдРрд╕реА рдШрдЯрдирд╛рдПрдВ рд╣реИрдВ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рд╡рд┐рдЪрд▓рди рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рддреА рд╣реИрдВ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рдордХрд╛рдЬ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдкрд░ рдЧрд▓рдд рдкрд╛рд╕рд╡рд░реНрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдордзреНрдп рдирд╛рдо рдирд╣реАрдВ рднрд░рд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ 0 рд░реВрдмрд▓ рдХреЗ рд▓рд┐рдП рдСрд░реНрдбрд░ рдЦрд░реАрджрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдЖрдкрдХреЗ рд▓рд┐рдП рджреБрд░реНрд▓рдн рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЙрдЪреНрдЪ рдЖрд╡реГрддреНрддрд┐ рдкрд░ рдЙрди рдкрд░ рдПрдХ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рднреА рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╡рд┐рдЪрд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рддреЗрдЬ рд╡реГрджреНрдзрд┐ рдПрдХ рдЧрд▓рддреА рдХрд╛ рдкрд░рд┐рдгрд╛рдо рд╣реЛ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕реЗ рддрддреНрдХрд╛рд▓ рдареАрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li><li>  <strong>рдЬрд╛рдирдХрд╛рд░реА</strong> - рдШрдЯрдирд╛рдУрдВ, рдХреА рдШрдЯрдирд╛ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рдордХрд╛рдЬ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░рддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдкрдВрдЬреАрдХрд░рдг рдХрд┐рдпрд╛ рд╣реИ, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдПрдХ рдЙрддреНрдкрд╛рдж рдЦрд░реАрджрд╛ рд╣реИ, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЫреЛрдбрд╝ рджреА рд╣реИред  рдРрд╕реА рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рд╕реВрдЪрдирд╛ рдХреЛ рд╡рд┐рдкрд░реАрдд рддрд░реАрдХреЗ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рдпрджрд┐ рдЗрд╕ рддрд░рд╣ рдХреА рдШрдЯрдирд╛рдУрдВ рдХреА рдЕрдкрд░реНрдпрд╛рдкреНрдд рд╕рдВрдЦреНрдпрд╛ рд╕рдордп рдХреЗ рд╕рд╛рде рд╣реБрдИ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреА рдХрдореА рддреНрд░реБрдЯрд┐ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╣реЛ рд╕рдХрддреА рд╣реИред </li><li>  <strong>рдбрд┐рдмрдЧ</strong> - рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдХрд┐рд╕реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ <strong>рдбреАрдмрдЧ рдХрд░рдиреЗ рдХреЗ</strong> рд▓рд┐рдП рдИрд╡реЗрдВрдЯред  рдЬрдм рдЖрдк рдШрдЯрдирд╛ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдирд┐рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдпрд╣ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдареАрдХ рд╕реЗ рдХрд╛рдо рдХрд░ рд░рд╣реА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдПрдХ рдЙрддреНрдкрд╛рдж рдкреГрд╖реНрда рдЦреЛрд▓рд╛ рдФрд░ рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХреАред  рдорд╣рддреНрд╡рдкреВрд░реНрдг рд░реВрдк рд╕реЗ рднреЗрдЬреА рдЧрдИ рдШрдЯрдирд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рдмрд╛рдж рдРрд╕реА рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓реЙрдЧрд┐рдВрдЧ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред  рдирддреАрдЬрддрди, рд╕рд╛рдорд╛рдиреНрдп рдСрдкрд░реЗрд╢рди рдореЗрдВ рдРрд╕реА рдШрдЯрдирд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╣реЛрдЧреА, рдлрд┐рд░ рдЙрди рдкрд░ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдирд┐рдЧрд░рд╛рдиреА рдХреЛ рдЫреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li></ul><br><h3 id="soobschenie-sobytiya">  рдШрдЯрдирд╛ рд╕рдВрджреЗрд╢ </h3><br><p>  PSR-3 рджреНрд╡рд╛рд░рд╛, рд╕рдВрджреЗрд╢ рдХреЛ <code>__toString()</code> рд╡рд┐рдзрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдпрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, PSR-3 рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╕рдВрджреЗрд╢ рдкрдВрдХреНрддрд┐ рдореЗрдВ <code>тАЭUser {username} createdтАЭ</code> рдЧрдП рдлрд╝реЙрд░реНрдо рдХреЗ рдкреНрд▓реЗрд╕рд╣реЛрд▓реНрдбрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рд╕рдВрджрд░реНрдн рд╕рд░рдгреА рд╕реЗ рдорд╛рди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрд▓рд┐рдпрд╕реНрдЯреИрдХрд┐рд╕рд░реНрдЪ рдФрд░ рдХрд┐рдмрд╛рдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдореИрдВ рдкреНрд▓реЗрд╕рд╣реЛрд▓реНрдбрд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдлрд┐рдХреНрд╕реНрдб рд▓рд╛рдЗрдиреЗрдВ рд▓рд┐рдЦрдирд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЗрд╡реЗрдВрдЯ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ рдХреЛ рд╕рд░рд▓ рдХрд░реЗрдЧрд╛, рдФрд░ рд╕рдВрджрд░реНрдн рд╣рдореЗрд╢рд╛ рд░рд╣реЗрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВ рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдХрд░рддрд╛ рд╣реВрдВ: </p><br><ol><li>  рдкрд╛рда рдЫреЛрдЯрд╛ рд▓реЗрдХрд┐рди рд╕рд╛рд░реНрдердХ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рд╡рд╣ рд╣реИ рдЬреЛ рдЕрд▓рд░реНрдЯ рдореЗрдВ рдЖрдПрдЧрд╛, рдФрд░ рдЙрди рдШрдЯрдирд╛рдУрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рд╣реЛрдЧрд╛ рдЬреЛ рдШрдЯрд┐рдд рд╣реБрдИ рд╣реИрдВред </li><li>  рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╛рда рдЕрджреНрд╡рд┐рддреАрдп рд╣реЛрдирд╛ рдмреЗрд╣рддрд░ рд╣реИред  рдпрд╣ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдВрджрд░реНрдн рдореЗрдВ рджреЗрдЦреЗ, рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдШрдЯрдирд╛ рдХрд┐рд╕ рднрд╛рдЧ рдореЗрдВ рд╣реБрдИ рд╣реИ, рдЕрд▓рд░реНрдЯ рд╕реЗ рд╕рдВрднрд╡ рд╣реЛрдЧреАред </li></ol><br><h3 id="kontekst-sobytiya">  рдШрдЯрдирд╛ рдХрд╛ рд╕рдВрджрд░реНрдн </h3><br><p>  PSR-3 рдХреЗ рд▓рд┐рдП рдШрдЯрдирд╛ рдХрд╛ рд╕рдВрджрд░реНрдн рдЪрд░ рдорд╛рдиреЛрдВ рдХрд╛ рдПрдХ рд╕рд░рдгреА (рд╕рдВрднрд╡рддрдГ рдиреЗрд╕реНрдЯреЗрдб) тАЛтАЛрд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрдХрд╛рдИ рдЖрдИрдбреАред  рдпрджрд┐ рд╕рдВрджреЗрд╢ рдИрд╡реЗрдВрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд╣реИ рддреЛ рд╕рдВрджрд░реНрдн рдХреЛ рдЦрд╛рд▓реА рдЫреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдПрдХ рдЕрдкрд╡рд╛рдж рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ рдкреВрд░реЗ рдЕрдкрд╡рд╛рдж рдХреЛ рдкрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рди рдХрд┐ рдХреЗрд╡рд▓ <code>getMessage()</code> ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NormalizerFormatter рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ рдореЛрдиреЛрд▓реЙрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">,</a> рдЙрдкрдпреЛрдЧреА рдбреЗрдЯрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрд╡рд╛рдж рд╕реЗ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рд╕реНрдЯреИрдХ рдЯреНрд░реЗрд╕ рд╕рд╣рд┐рдд рдИрд╡реЗрдВрдЯ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ред  рдпрд╛рдиреА рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рдмрджрд▓реЗ рдЬрд░реВрд░рдд рд╣реИ </p><br><pre> <code class="php hljs">[ <span class="hljs-string"><span class="hljs-string">'exception'</span></span> =&gt; $exception-&gt;getMessage(), ]</code> </pre> <br><p>  рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </p><br><pre> <code class="php hljs">[ <span class="hljs-string"><span class="hljs-string">'exception'</span></span> =&gt; $exception, ]</code> </pre> <br><p>  рд▓рд╛рд░рд╡реЗрд▓ рдореЗрдВ, рдЖрдк рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдореЗрдВ рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рджрд░реНрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреНрд▓реЛрдмрд▓ рд▓реЙрдЧ рдХреЙрдирдЯреЗрдХреНрд╕реНрдЯ</a> (рдХреЗрд╡рд▓ рдЕрд╕рдлрд▓ рдЕрдкрд╡рд╛рджреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛ <code>report()</code> ) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдпрд╛ рд▓реЙрдЧрдлрд╝реЙрд░реНрдорд░ (рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдорддреМрд░ рдкрд░, рд╕реВрдЪрдирд╛ рдХреЛ рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЖрдИрдбреА рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, URI, IP, UUID рдФрд░ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВред </p><br><p>  рдЬрдм рдПрдХ рд▓реЙрдЧ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рд░реВрдк рдореЗрдВ рдПрд▓рд┐рдЯрд┐рдХреНрд╕ рдЦреЛрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдпрд╣реА рд╣реИ, рдпрджрд┐ рдЖрдкрдиреЗ рдХрд┐рд╕реА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ <code>customer_id</code> рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЬрдм рдЖрдк рдХрд┐рд╕реА рдИрд╡реЗрдВрдЯ рдХреЛ рдХрд┐рд╕реА рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рд╕реЗ рд╕рд╣реЗрдЬрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ (uuid), рддреЛ рдРрд╕рд╛ рд╕рдВрджреЗрд╢ рдирд╣реАрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╕реВрдЪрдХрд╛рдВрдХ рдореЗрдВ рдкреНрд░рдХрд╛рд░ рддрдм рддрдп рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдЬрдм рдореВрд▓реНрдп рдкрд╣рд▓реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред  рдпрджрд┐ рд╣рд░ рджрд┐рди рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдирдП рдкреНрд░рдХрд╛рд░ рдХреЛ рдХреЗрд╡рд▓ рдЕрдЧрд▓реЗ рджрд┐рди рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдпрд╣ рд╕рднреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдХрд┐рдмрдирд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХрд╛рд░ рдорд┐рд╢реНрд░рд┐рдд рд╣реЛрдВрдЧреЗ рдФрд░ рдкреНрд░рдХрд╛рд░ рд╕реЗ рдЬреБрдбрд╝реЗ рдХреБрдЫ рд╕рдВрдЪрд╛рд▓рди рддрдм рддрдХ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ рдЬрдм рддрдХ рдХрд┐ рдорд┐рд╢реНрд░рд┐рдд рд╕реВрдЪрдХрд╛рдВрдХ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗред </p><br><p>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЖрдк рдирд┐рдпрдореЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ: </p><br><ul><li>  рдмрд╣реБрдд рд╕рд╛рдорд╛рдиреНрдп рдХреБрдВрдЬреА рдирд╛рдореЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ, рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ </li><li>  рдпрджрд┐ рдЖрдк рдЗрд╕рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдПрдХ рдореВрд▓реНрдп рдкреНрд░рдХрд╛рд░ рдХреА рд╕реНрдкрд╖реНрдЯ рдврд▓рд╛рдИ рдХрд░реЗрдВ </li></ul><br><p>  рдЙрджрд╛рд╣рд░рдг: рдЗрд╕рдХреЗ рдмрдЬрд╛рдп </p><br><pre> <code class="php hljs">[ <span class="hljs-string"><span class="hljs-string">'response'</span></span> =&gt; $response-&gt;all(), <span class="hljs-string"><span class="hljs-string">'customer_id'</span></span> =&gt; $id, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; $someValue, ]</code> </pre> <br><p>  рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </p><br><pre> <code class="php hljs">[ <span class="hljs-string"><span class="hljs-string">'smsc_response_data'</span></span> =&gt; json_encode($response-&gt;all()), <span class="hljs-string"><span class="hljs-string">'customer_id'</span></span> =&gt; (string) $customer_id, <span class="hljs-string"><span class="hljs-string">'smsc_request_some_value'</span></span> =&gt; (string) $someValue, ]</code> </pre> <br><h3 id="vyzov-loggera-iz-koda">  рдХреЛрдб рд╕реЗ рдПрдХ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдмреБрд▓рд╛ рд░рд╣рд╛ рд╣реИ </h3><br><p>  рд▓реЙрдЧ рдореЗрдВ рдХрд┐рд╕реА рдШрдЯрдирд╛ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдХрдИ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЗ рд╕рд╛рде рдЖ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдЗрдП рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </p><br><ol><li>  рд╡реИрд╢реНрд╡рд┐рдХ рдлрд╝рдВрдХреНрд╢рди <code>log()</code> рдШреЛрд╖рдгрд╛ рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╣рд┐рд╕реНрд╕реЛрдВ рд╕реЗ рдХреЙрд▓ рдХрд░реЗрдВред  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдХрдИ рдиреБрдХрд╕рд╛рди рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрди рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рдЬрд╣рд╛рдВ рд╣рдо рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдирд┐рд░реНрднрд░рддрд╛ рдмрдирддреА рд╣реИред  рдЗрд╕рд╕реЗ рдмрдЪрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ рдЬрдм рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдПрдХ рдФрд░ рджреЛрд╖, рдЕрдЧрд░ рд╣рдо рд▓рд╛рд░рд╡реЗрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░реВрдкрд░реЗрдЦрд╛ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред </li><li>  Laravel facade \ Log рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде, рдЗрд╕ рдкрд╣рд▓реВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рд╡рд╛рд▓реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреА рд░реВрдкрд░реЗрдЦрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рд╣реЛрдирд╛ рд╢реБрд░реВ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдореЗрдВ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рдлреНрд░реЗрдорд╡рд░реНрдХ рд╕реЗ рд╣рдЯрд╛рдиреЗ рдирд╣реАрдВ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рдРрд╕рд╛ рд╕рдорд╛рдзрд╛рди рдХрд╛рдлреА рдЙрдкрдпреБрдХреНрдд рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдВрд╕реЛрд▓ рдХрдорд╛рдВрдб, рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдЯрд╛рд╕реНрдХ, рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдгреЛрдВ рд╕реЗ рд▓рд┐рдЦреЗрдВред  рдпрд╛ рдЬрдм рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЬрдЯрд┐рд▓ рд╕рдВрд░рдЪрдирд╛ рд╣реИ, рдФрд░ рдПрдХ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдлреЗрдВрдХрдирд╛ рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИред </li><li>  <code>app()</code> рдФрд░ <code>resolve()</code> рдврд╛рдВрдЪреЗ рдХреЗ рд╕рд╣рд╛рдпрдХреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ <code>resolve()</code> ред  рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд╕рдорд╛рди рд╣реА рдиреБрдХрд╕рд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдереЛрдбрд╝рд╛ рдФрд░ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li><li>  рд╡рд░реНрдЧ рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рдореЗрдВ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдЬреЛ рдпрд╣ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред  рдЙрд╕реА рд╕рдордп, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреАрдЖрдИрдкреА рдХреЗ</a> рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЙрд╕реА <code>LoggerInterface</code> рдХреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдСрдЯреЛрд╡реЗрдпрд░рд┐рдВрдЧ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдирд┐рд░реНрднрд░рддрд╛рдПрдВ рдЕрдкрдиреЗ рдШреЛрд╖рд┐рдд рд╕рд╛рд░ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╣рд▓ рд╣реЛ рдЬрд╛рдПрдВрдЧреАред  рд▓рд╛рд░рд╡реЗрд▓ рдореЗрдВ, рдХреБрдЫ рдирд┐рд░реНрднрд░рддрд╛ рд╡рд░реНрдЧреЛрдВ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╡рд┐рдзрд┐ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрдЬрд╛рдп рдкреВрд░реЗ рд╡рд░реНрдЧ рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li></ol><br><h3 id="gde-v-kode-vyzyvat-logger">  рдХреЛрдб рдореЗрдВ рдЬрд╣рд╛рдВ рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХреЛ рдмреБрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП </h3><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдХреЛрдб рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░рддреЗ рд╕рдордп, рдпрд╣ рд╕рд╡рд╛рд▓ рдЙрда рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдореБрдЭреЗ рдХрд┐рд╕ рд╡рд░реНрдЧ рдореЗрдВ рд▓реЙрдЧ рдХреЛ рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХреНрдпрд╛ рдпрд╣ рдПрдХ рд╕реЗрд╡рд╛ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП?  рдпрд╛ рдпрд╣ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд╣рд╛рдВ рд╕реЗрд╡рд╛ рдХреЛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: рдирд┐рдпрдВрддреНрд░рдХ, рдкреГрд╖реНрдарднреВрдорд┐ рдХрд╛рд░реНрдп, рдХрдВрд╕реЛрд▓ рдХрдорд╛рдВрдб?  рдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рдЕрдкрд╡рд╛рдж рдХреЛ рдпрд╣ рддрдп рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЕрдкрдиреА <code>report</code> (рд▓рд╛рд░рд╡реЗрд▓) рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЙрдЧ рдХреЛ рдХреНрдпрд╛ рд▓рд┐рдЦрдирд╛ рд╣реИ?  рдПрдХ рд╕рд╛рде рд╕рднреА рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рд╕рд░рд▓ рдЙрддреНрддрд░ рдирд╣реАрдВ рд╣реИред </p><br><p>  рд▓рд╛рд░рд╡реЗрд▓ рджреНрд╡рд╛рд░рд╛ рджрд┐рдП рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд╡рд╕рд░</a> рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рдХрд┐ рдЕрдкрд╡рд╛рдж рд╡рд░реНрдЧ рдХреЛ рд╕реНрд╡рдпрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░реНрдп рд╕реМрдВрдкреЗрдВред  рдПрдХ рдЕрдкрд╡рд╛рдж рдпрд╣ рдирд╣реАрдВ рдЬрд╛рди рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдШрдЯрдирд╛ рдХреЗ рд╕реНрддрд░ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рдХрд┐рддрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рдВрджрд░реНрдн рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рд╛ рдирд╣реАрдВ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдпрд╣ рдЕрдкрд╡рд╛рдж рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдПрдХ рдЕрдкрд╡рд╛рдж рдкрд░ <code>render</code> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ <code>render</code> , рдЖрдкрдХреЛ рдпрд╛ рддреЛ рдЕрдкрд╡рд╛рдж рдХреЛ рдирд╣реАрдВ рдкрдХрдбрд╝рдирд╛ рдЪрд╛рд╣рд┐рдП (рд╡реИрд╢реНрд╡рд┐рдХ ErrorHandler рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛), рдпрд╛ <code>report()</code> рдкрдХрдбрд╝рдиреЗ рдФрд░ <code>report()</code> рд╡реИрд╢реНрд╡рд┐рдХ рд╕рд╣рд╛рдпрдХ <code>report()</code> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдпрд╣ рд╡рд┐рдзрд┐ рд╣рдореЗрдВ рд╣рд░ рдмрд╛рд░ PSR-3 рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ рдХреЛ рдХреЙрд▓ рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ рдЬрд╣рд╛рдВ рд╣рдо рдЗрд╕ рдЕрдкрд╡рд╛рдж рдХреЛ рдкрдХрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдирд╣реАрдВ рд▓рдЧрддрд╛ рдХрд┐ рдпрд╣ рдЗрд╕ рддрд░рд╣ рдХреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рджреЗрдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИред </p><br><p>  рдРрд╕рд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ рдХреЗрд╡рд▓ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рд╣реА рд▓реЙрдЧ рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рджрд░рдЕрд╕рд▓, рдХреБрдЫ рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рдЖрдк рд▓реЙрдЧрд┐рдВрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдПрдХ рдРрд╕реА рд╕реЗрд╡рд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рдЬреЛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╣рдо рдЗрд╕реЗ рдПрдХ рдЕрд▓рдЧ рдкреИрдХреЗрдЬ рдореЗрдВ рд░рдЦрдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВред  рддрдм рдпрд╣ рд╕реЗрд╡рд╛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдЗрд╕рдХреЗ рдорд╣рддреНрд╡ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд╕реНрддрд░ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧреАред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрд╕рдПрдордПрд╕ рдЧреЗрдЯрд╡реЗ рдХреЗ рд╕рд╛рде рдПрдХ рдПрдХреАрдХрд░рдг рд╕реЗрд╡рд╛ред  рдпрджрд┐ рд╣рдореЗрдВ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рдХрд╛рдлреА рдЧрдВрднреАрд░ рд╣реИред  рд╢рд╛рдпрдж рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдПрдХ рдЕрдиреНрдп рдПрд╕рдПрдордПрд╕ рдЧреЗрдЯрд╡реЗ рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг рд╕реЗрд╡рд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬрдиреЗ рдХрд╛ рджреВрд╕рд░рд╛ рдкреНрд░рдпрд╛рд╕ рд╣реЛрдЧрд╛, рдлрд┐рд░ рдкрд╣рд▓реЗ рд╕реЗ рддреНрд░реБрдЯрд┐ рдХреЛ рдЪреЗрддрд╛рд╡рдиреА рдХреЗ рд░реВрдк рдореЗрдВ рдФрд░ рджреВрд╕рд░реЗ рдХреЗ рддреНрд░реБрдЯрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рд░рд┐рдкреЛрд░реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдХреЗрд╡рд▓ рдЕрдм рдЗрди рд╕рднреА рдПрдХреАрдХрд░рдгреЛрдВ рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реЗрд╡рд╛ рд╕реЗ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдЧрд╛ред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рддреНрд░реБрдЯрд┐ рдПрдХ рд╕реЗрд╡рд╛ рдореЗрдВ рд╣реИ, рдФрд░ рд╣рдо рджреВрд╕рд░реЗ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕реЗрд╡рд╛ рдкрд░ рдПрдХ рд╕реЗрд╡рд╛ рдЖрд╡рд░рдг рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ - рд╣рдо рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рдХ рд╕реЗ рд╕рд╣реА рдХрд╣рддреЗ рд╣реИрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВ рдЗрд╕реЗ рд▓реЙрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╕реЗрд╡рд╛ рдбреЗрдХреЛрд░реЗрдЯрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрдЬрд╛рдп рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рд▓реЙрдЧ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ рдЙрдЪрд┐рдд рдорд╛рдирддрд╛ рд╣реВрдВред </p><br><p>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЬреЛ рдирд┐рд░реНрднрд░рддрд╛ рдФрд░ рдкрд╛рд╕рд┐рдВрдЧ рд╕рдВрджрд░реНрдн рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Commands</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">Services</span></span>\<span class="hljs-title"><span class="hljs-title">ExampleService</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Illuminate</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Psr</span></span>\<span class="hljs-title"><span class="hljs-title">Log</span></span>\<span class="hljs-title"><span class="hljs-title">LoggerInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $signature = <span class="hljs-string"><span class="hljs-string">'example'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ExampleService $service, LoggerInterface $logger)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { $service-&gt;example(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> $exception) { $logger-&gt;critical(<span class="hljs-string"><span class="hljs-string">'Example error'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'exception'</span></span> =&gt; $exception, ]); } } }</code> </pre><br><h2 id="kuda-pisat">  рдХрд╣рд╛рдВ рд▓рд┐рдЦреВрдВ? </h2><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">12 рдлреИрдХреНрдЯрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди</a> рдФрд░ рдХреБрдЫ рдЕрдиреНрдп рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЖрдкрдХреЛ рдЖрд╡реЗрджрди рд░рдирдЯрд╛рдЗрдо рдХреЗ stdout, stderr рдореЗрдВ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк config рд▓рдХрдбрд╝рд╣рд╛рд░рд╛ <code>php://stdout</code> * рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  12-рдлреИрдХреНрдЯрд░, рдбреЙрдХ-рд╡реЗ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдВ рдФрд░ рдлрд╛рдЗрд▓реЛрдВ рдкрд░ рд▓рд┐рдЦреЗрдВред  рд▓рд╛рд░рд╡реЗрд▓ (рдореЛрдиреЛрд▓реЙрдЧ) рдЖрдкрдХреЛ рд▓реЙрдЧ рд░реЛрдЯреЗрд╢рди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдЖрдЧреЗ рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдлрд╛рдЗрд▓рдмреАрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рд▓реЙрдЧрд╕реНрдЯреИрд╢ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  рдЖрд╡реЗрджрди рдХреЛ рд╕реАрдзреЗ рдЖрдЧреЗ рд╕реЗ рд▓реЙрдЧ рднреЗрдЬреЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпреВрдбреАрдкреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред </li><li>  рдШреЛрд▓ рдорд┐рд▓рд╛рдПрдВред  рдлрд╛рдЗрд▓рдмреАрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рд▓рд┐рдЦреЗрдВ рдФрд░ рд▓реЙрдЧрд╕реНрдЯреИрд╢ рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред  рдХрдВрдЯреЗрдирд░ рд╕реНрдЯреЙрдбрд░ рдореЗрдВ рд▓рд┐рдЦреЗрдВ рддрд╛рдХрд┐ <code>docker logs</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдФрд░ рдХрдВрдЯреЗрдирд░ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗ рд▓реЙрдЧ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд░рд╣реЗрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рдХреБрдЫ рдЪреИрдирд▓ рдХреЗрд╡рд▓ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдХреБрдЫ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВред </li></ol><br><p>  * <em>Php-fpm 7.2 рдореЗрдВ, рдЬрдм stdout рдореЗрдВ рд▓реЙрдЧ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ "рдЪреЗрддрд╛рд╡рдиреА: [рдкреВрд▓ www] рдмрдЪреНрдЪреЗ X рдиреЗ stdout рдореЗрдВ рдХрд╣рд╛ ...", рдФрд░ рд▓рдВрдмреЗ рд╕рдВрджреЗрд╢ рдХрд╛рдЯреЗ рдЬрд╛рддреЗ рд╣реИрдВред</em>  <em>рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдПрдХ рд╕рдорд╛рдзрд╛рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рд╣реИ</a> ред</em>  <em>Php-fpm 7.3 рдореЗрдВ рдРрд╕реА рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИред</em> </p><br><p>  рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк рд╡рд┐рдХрд▓реНрдк: </p><br><ul><li>  рдорд╛рдирд╡-рдкрдардиреАрдп (рд▓рд╛рдЗрди рдмреНрд░реЗрдХ, рдЗрдВрдбреЗрдВрдЯ рдЖрджрд┐) </li><li>  рдорд╢реАрди рдкрдардиреАрдп (рдЖрдорддреМрд░ рдкрд░ json) </li><li>  рдПрдХ рд╣реА рдмрд╛рд░ рдореЗрдВ рджреЛрдиреЛрдВ рдкреНрд░рд╛рд░реВрдк: рдЖрдЧреЗ рдХреА рд░рд╛рдЙрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдорд╢реАрди-рдкрдардиреАрдп, рдЕрдЪрд╛рдирдХ рдорд╛рд░реНрдЧ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдФрд░ рддреЗрдЬрд╝ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдорд╛рдирд╡-рдкрдардиреАрдп </li></ul><br><p>  рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рд▓реЙрдЧ рд░реВрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВ - рдХрдо рд╕реЗ рдХрдо, рдЙрдиреНрд╣реЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░рдгреЛрдВ рд╕реЗ рд▓реЙрдЧ рдХреЗ рдПрдХ рдПрдХрд▓ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕рд┐рд╕реНрдЯрдо (рднрдВрдбрд╛рд░рдг) рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ: </p><br><ol><li>  рд▓рдВрдмреЗ рд╕рдордп рддрдХ рднрдВрдбрд╛рд░рдг рдФрд░ рд╕рдВрдЧреНрд░рд╣ </li><li>  рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдЯреНрд░реЗрдВрдбрд┐рдВрдЧ </li><li>  рд▓рдЪреАрд▓реА рдШрдЯрдирд╛ рд╕реВрдЪрдирд╛ рдкреНрд░рдгрд╛рд▓реА </li></ol><br><p>  рдбреЙрдХрд░ рдореЗрдВ рд▓реЙрдЧ рдореИрдиреЗрдЬрд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ <code>json-file</code> рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдбреЙрдХрдЯрд░ рд╣реЛрд╕реНрдЯ рдореЗрдВ рдХрдВрдЯреЗрдирд░ рд╕реЗ json-file рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдЬреЛрдбрд╝рддрд╛ рд╣реИред  рдпрджрд┐ рд╣рдо рдПрдХ рд▓реЙрдЧ рдореИрдиреЗрдЬрд░ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдХрд╣реАрдВ рд░рд┐рдХреЙрд░реНрдб рднреЗрдЬреЗрдЧрд╛, рддреЛ рд╣рдо рдЕрдм <code>docker logs</code> рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рдХрдВрдЯреЗрдирд░ рдХреЗ stdout / stderr рдХреЛ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд▓реЙрдЧ рдХреЗ рд▓рд┐рдП рдПрдХрдорд╛рддреНрд░ рд╕реНрдерд╛рди рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдорд╕реНрдпрд╛рдУрдВ рдпрд╛ рдПрдХрд▓ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдбрд┐рдмрдЧ рдХреЗ рд▓рд┐рдП рд░рд┐рдХреЙрд░реНрдб рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдирд┐рдХрд╛рд▓рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рд╣рдо json-file docker рдФрд░ Filebeat рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо рд╕реНрдерд╛рдиреАрдп рд▓реЙрдЧ рдФрд░ рдЖрдЧреЗ рд░реВрдЯрд┐рдВрдЧ рджреЛрдиреЛрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗред  рдпрд╣рд╛рдВ рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдбреЙрдХрдЯрд░ рдХреА рдПрдХ рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред  рдЗрд╡реЗрдВрдЯ рдХреЛ 16KB рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рддрдХ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдкрд░, docker <code>\n</code> рдкреНрд░рддреАрдХ рдХреЗ рд╕рд╛рде рд░рд┐рдХреЙрд░реНрдб рддреЛрдбрд╝рддрд╛ рд╣реИ, рдЬреЛ рдХрдИ рд▓реЙрдЧ рдХрд▓реЗрдХреНрдЯрд░реЛрдВ рдХреЛ рднреНрд░рдорд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореБрджреНрджрд╛</a> рд╣реИред  рдХрд░реНрддрд╛ рдХреА рдУрд░ рд╕реЗ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдХрд▓реЗрдХреНрдЯрд░реЛрдВ рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдХреБрдЫ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде, рдлрд╛рдЗрд▓рдмреАрдЯ рдЗрд╕ рдбреЙрдХрдЯрд░ рд╡реНрдпрд╡рд╣рд╛рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛</a> рд╣реИ рдФрд░ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред </p><br><p>  рдЧрдВрддрд╡реНрдп рдФрд░ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк рдХреА рд╕рднреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХрд╛ рдХреНрдпрд╛ рд╕рдВрдпреЛрдЬрди рдЖрдк рдЕрдкрдиреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЦреБрдж рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="ispolzovanie-filebeat--elk--elastalert">  Filebeat + ELK + Elastalert рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h2><br><p>  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдХреА рднреВрдорд┐рдХрд╛ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдмрддрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ: </p><br><ul><li>  рдлрд╛рдЗрд▓рдмреАрдЯ - рдлрд╛рдЗрд▓реЛрдВ рдФрд░ рднреЗрдЬреЗ рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИ </li><li>  Logstash - рдШрдЯрдирд╛рдУрдВ рдФрд░ рднреЗрдЬ рджреЗрддрд╛ рд╣реИ </li><li>  рдЗрд▓рд╛рд╕реНрдЯрд┐рдХреНрд╕ рдЦреЛрдЬ - рд╕рдВрд░рдЪрд┐рдд рдШрдЯрдирд╛рдУрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ </li><li>  рдХрд┐рдмрд╛рдирд╛ - рдШрдЯрдирд╛рдУрдВ (рд░реЗрдЦрд╛рдВрдХрди, рдПрдХрддреНрд░реАрдХрд░рдг рдЖрджрд┐) рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ </li><li>  рдЗрд▓рд╛рд╕реНрдЯрд▓рд░реНрдЯ - рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрд▓рд░реНрдЯ рднреЗрдЬрддрд╛ рд╣реИ </li></ul><br><p>  рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЖрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: zabbix, metricbeat, grafana рдФрд░ рдмрд╣реБрдд рдХреБрдЫред </p><br><p>  рдЕрдм рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХред </p><br><h3 id="filebeat">  Filebeat </h3><br><p>  рдЖрдк рд╣реЛрд╕реНрдЯ рдкрд░ рдПрдХ рдЕрд▓рдЧ рд╕реЗрд╡рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдк рдПрдХ рдЕрд▓рдЧ рдбреЙрдХрдЯрд░ рдХрдВрдЯреЗрдирд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  <code>/var/lib/docker/containers/*/*.log</code> рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдХреА рдзрд╛рд░рд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ host path <code>/var/lib/docker/containers/*/*.log</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдлрд╛рдЗрд▓рдмреАрдЯ рдХреЗ рдкрд╛рд╕ рдХрдИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ</a> , рдЬрд┐рдирдХреЗ рд╕рд╛рде рдЖрдк рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рд╡реНрдпрд╡рд╣рд╛рд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо рдмрджрд▓рд╛ рдЧрдпрд╛ рд╣реИ, рдлрд╝рд╛рдЗрд▓ рд╣рдЯрд╛ рджреА рдЧрдИ рд╣реИ, рдФрд░ рдЗрд╕реА рддрд░рд╣)ред  рдлрд╝рд╛рдЗрд▓рдмреАрдЯ рд╣реА рдЗрд╡реЗрдВрдЯ рдХреЗ рдЕрдВрджрд░ рдЬреЛрдВрд╕ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЬреЛрдВрд╕ рднреА рдЗрд╡реЗрдВрдЯреНрд╕ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рддреНрд░реБрдЯрд┐ рд╣реЛрдЧреАред  рд╕рднреА рдЗрд╡реЗрдВрдЯ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдПрдХ рд╣реА рд╕реНрдерд╛рди рдкрд░ рдХреА рдЬрд╛рддреА рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдлрд╛рдЗрд▓рдмреАрдЯ 6 рдХреЗ рд▓рд┐рдП рдлреНрд░реЗрдЧрдореЗрдВрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">filebeat.inputs: - type: docker containers: ids: - "*" processors: - add_docker_metadata: ~</code> </pre></div></div><br><h3 id="logstash">  Logstash </h3><br><p>  рдХрдИ рд╕реНрд░реЛрддреЛрдВ рд╕реЗ рдШрдЯрдирд╛рдУрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рд╣рдо рдлрд╛рдЗрд▓рдмреАрдЯ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br>  рд╣рд░ рдШрдЯрдирд╛ рдореЗрдВ, рдШрдЯрдирд╛ рдХреЗ рдЕрд▓рд╛рд╡рд╛ stdout / stderr рд╕реЗ, рдореЗрдЯрд╛рдбреЗрдЯрд╛ (рд╣реЛрд╕реНрдЯ, рдХрдВрдЯреЗрдирд░, рдЖрджрд┐) рд╣реЛрддрд╛ рд╣реИред  рдХрдИ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдлрд┐рд▓реНрдЯрд░ рд╣реИрдВ: рдирд┐рдпрдорд┐рдд рдЕрдВрддрд░рд╛рд▓ рджреНрд╡рд╛рд░рд╛ рдкрд╛рд░реНрд╕, рдкрд╛рд░реНрд╕ рдЬреЛрдВрд╕, рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ, рдЬреЛрдбрд╝реЗрдВ, рдлрд╝реАрд▓реНрдб рд╣рдЯрд╛рдПрдВ, рдЖрджрд┐ред рдХрд┐рд╕реА рднреА рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЖрд╡реЗрджрди рд▓реЙрдЧ рдФрд░ рдирдЧреНрдиреЗрдХреНрд╕ рдПрдХреНрд╕реЗрд╕ рджреЛрдиреЛрдВ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИред  рдбреЗрдЯрд╛ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рд╣рдо рдПрд▓рд┐рдЯрд┐рдХреНрд╕ рдЦреЛрдЬ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">Logstash рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЯреБрдХрдбрд╝рд╛</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">if [status] { date { match =&gt; ["timestamp_nginx_access", "dd/MMM/yyyy:HH:mm:ss Z"] target =&gt; "timestamp_nginx" remove_field =&gt; ["timestamp_nginx_access"] } mutate { convert =&gt; { "bytes_sent" =&gt; "integer" "body_bytes_sent" =&gt; "integer" "request_length" =&gt; "integer" "request_time" =&gt; "float" "upstream_response_time" =&gt; "float" "upstream_connect_time" =&gt; "float" "upstream_header_time" =&gt; "float" "status" =&gt; "integer" "upstream_status" =&gt; "integer" } remove_field =&gt; [ "message" ] rename =&gt; { "@timestamp" =&gt; "event_timestamp" "timestamp_nginx" =&gt; "@timestamp" } } }</code> </pre> </div></div><br><h3 id="elasticsearch">  Elasticsearch </h3><br><p>  Elasticsearch рдХрд╛рд░реНрдпреЛрдВ рдХреА рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрдкрдХрд░рдг рд╣реИ, рд▓реЗрдХрд┐рди рд▓реЙрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рдПрдХ рдиреНрдпреВрдирддрдо рдиреНрдпреВрдирддрдо рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br>  рд╕рд╣реЗрдЬреЗ рдЧрдП рдИрд╡реЗрдВрдЯ рдПрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣реИрдВ, рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЕрдиреБрдХреНрд░рдорд┐рдд рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br>  рдкреНрд░рддреНрдпреЗрдХ рд╕реВрдЪрдХрд╛рдВрдХ рдПрдХ рд╕реНрдХреАрдорд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдХреНрд╖реЗрддреНрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рдХрдо рд╕реЗ рдХрдо рдПрдХ рдлрд╝реАрд▓реНрдб рдЧрд▓рдд рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реИ, рддреЛ рдЖрдк рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдореЗрдВ рдХрд┐рд╕реА рдИрд╡реЗрдВрдЯ рдХреЛ рд╕рд╣реЗрдЬ рдирд╣реАрдВ рд╕рдХрддреЗред <br>  рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдЖрдкрдХреЛ рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдкрд░ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдВрдЪрд╛рд▓рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ (рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП - рд╕рдо, рдиреНрдпреВрдирддрдо, рдЕрдзрд┐рдХрддрдо, рдФрд╕рдд, рдЖрджрд┐, рд╕реНрдЯреНрд░рд┐рдВрдЧреНрд╕ рдХреЗ рд▓рд┐рдП - рдлрдЬреА рдЦреЛрдЬ, рдФрд░ рдЗрд╕реА рддрд░рд╣)ред <br>  рд▓реЙрдЧ рдХреЗ рд▓рд┐рдП, рдкреНрд░рдмрдВрдзрди рдЖрдорддреМрд░ рдкрд░ рджреИрдирд┐рдХ рд╕реВрдЪрдХрд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХрд░рддрд╛ рд╣реИ - рд╣рд░ рджрд┐рди рдПрдХ рдирдпрд╛ рд╕реВрдЪрдХрд╛рдВрдХред </p><br><p>  рдбреЗрдЯрд╛ рдорд╛рддреНрд░рд╛ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╕рд╛рде рдПрд▓рд┐рдЯреЗрд╕рд░реНрдЪ рдХреЗ рд╕реНрдерд┐рд░ рд╕рдВрдЪрд╛рд▓рди рдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдЗрд╕ рдЙрдкрдХрд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЧрд╣рди рдЬреНрдЮрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рд╕реНрдерд┐рд░рддрд╛ рдХреА рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдПрдХ рддреНрд╡рд░рд┐рдд рд╕рдорд╛рдзрд╛рди, рдЖрдк рдЕрдкреНрд░рдЪрд▓рд┐рдд рдбреЗрдЯрд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╣рдЯрд╛рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реВрдЪрдХрд╛рдВрдХреЛрдВ рдкрд░ рд▓реЙрдЧрд╕реНрдЯреИрд╢ рдореЗрдВ рдЗрд╡реЗрдВрдЯ рд╕реНрддрд░ рдХреЛ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реВрдВред  рдпрд╣ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рджреБрд░реНрд▓рдн, рд▓реЗрдХрд┐рди рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдирд╛рдУрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред </p><br><div class="spoiler">  <b class="spoiler_title">рд▓реЙрдЧрд╕реНрдЯреИрд╢ рдЖрдЙрдЯрдкреБрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реНрдирд┐рдкреЗрдЯ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">output { if [fields][log_type] == "app_log" { if [level] in ["DEBUG", "INFO", "NOTICE"] { elasticsearch { hosts =&gt; "${ES_HOST}" index =&gt; "logstash-app-log-debug-%{+YYYY.MM.dd}" } } else { elasticsearch { hosts =&gt; "${ES_HOST}" index =&gt; "logstash-app-log-error-%{+YYYY.MM.dd}" } } } }</code> </pre> </div></div><br><p>  рдЕрдкреНрд░рдЪрд▓рд┐рдд рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреНрдпреВрд░реЗрдЯрд░ рдХреЗ</a> рдПрдХ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реВрдВред  рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рд▓реЙрдиреНрдЪ рдХреЛ рдХреНрд░реЛрди рдЕрдиреБрд╕реВрдЪреА рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдПрдХ рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдЕрдкреНрд░рдЪрд▓рд┐рдд рдЕрдиреБрдХреНрд░рдорд┐рдд рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">action: delete_indices description: logstash-app-log-error options: ignore_empty_list: True filters: - filtertype: pattern kind: prefix value: logstash-app-log-error- - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: months unit_count: 6</code> </pre> </div></div><br><p>         ,         Filebeat  Logstash,   .    Elasticsearch    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">-- </a> , ,    . </p><br><h3 id="kibana"> Kibana </h3><br><p> Kibana        .  -,     Elasticsearch.       . </p><br><p>   Kibana тАФ         Discovery   . ,   Discovery       app   warning  ,    time, message, exception class, host, client_id. </p><br><p>  ,  Discovery       nginx,       404    time, message, request, status. <br>   Kibana   ,        :  ,  ,     . ,       (        ). </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/getpro/habr/post_images/c1d/feb/5a3/c1dfeb5a364508015c4787f5e457528a.jpg" alt="рдЫрд╡рд┐"></p></div></div><br><h3 id="elastalert"> Elastalert </h3><br><p> Elastalert      Elasticsearch      .  , .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">  </a> ,          . <br>       ,         (),       . </p><br><p>   : </p><br><ul><li>       ALERT, EMERGENCY.  тАФ 10  </li><li>       CRITICAL.  тАФ 30  </li><li>    ,  N   X  M  </li><li>    10 INFO  3  </li><li>   nginx   200, 201, 304     75%  ,     50  </li></ul><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">name: Blacklist ALERT, EMERGENCY type: blacklist index: logstash-app-* compare_key: "level" blacklist: - "ALERT" - "EMERGENCY" realert: minutes: 5 alert: - "slack"</code> </pre></div></div><br><p>             тАФ <strong>  </strong> .       ,      ,   .        Kibana. </p><br><p>    , ,   http-     75%  ,     ,   ,     ,    .  -   ,     ,      ,     . </p><br><p>         , ,  ,     ,       Kibana,        . </p><br><p>    5     .    , ,     ,  ,  ,     . </p><br><p>      ,          .       . </p><br><p>            Kibana    .            . </p><br><h2 id="vsyo-vmeste">   </h2><br><p>      docker-.     ,         ,    staging-  production-,      . </p><br><p>   ,   Elastalert,      .  Elastalert  ,    <br> <code>envsubst &lt; /opt/elastalert/config.dist.yaml &gt; /opt/elastalert/config.yaml</code>  entrypoint-   ,   . </p><br><p>        ,       ,       ,     . </p><br><div class="spoiler"> <b class="spoiler_title">    Makefile       </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">build: docker build -t some-registry/elasticsearch elasticsearch docker build -t some-registry/logstash logstash docker build -t some-registry/kibana kibana docker build -t some-registry/nginx nginx docker build -t some-registry/curator curator docker build -t some-registry/elastalert elastalert push: docker push some-registry/elasticsearch docker push some-registry/logstash docker push some-registry/kibana docker push some-registry/nginx docker push some-registry/curator docker push some-registry/elastalert pull: docker pull some-registry/elasticsearch docker pull some-registry/logstash docker pull some-registry/kibana docker pull some-registry/nginx docker pull some-registry/curator docker pull some-registry/elastalert prepare: docker network create -d bridge elk-network || echo "ok" stop: docker rm -f kibana || true docker rm -f logstash || true docker rm -f elasticsearch || true docker rm -f nginx || true docker rm -f elastalert || true run-logstash: docker rm -f logstash || echo "ok" docker run -d --restart=always --network=elk-network --name=logstash -p 127.0.0.1:5001:5001 -e "LS_JAVA_OPTS=-Xms256m -Xmx256m" -e "ES_HOST=elasticsearch:9200" some-registry/logstash run-kibana: docker rm -f kibana || echo "ok" docker run -d --restart=always --network=elk-network --name=kibana -p 127.0.0.1:5601:5601 --mount source=elk-kibana,target=/usr/share/kibana/optimize some-registry/kibana run-elasticsearch: docker rm -f elasticsearch || echo "ok" docker run -d --restart=always --network=elk-network --name=elasticsearch -e "ES_JAVA_OPTS=-Xms1g -Xmx1g" --mount source=elk-esdata,target=/usr/share/elasticsearch/data some-registry/elasticsearch run-nginx: docker rm -f nginx || echo "ok" docker run -d --restart=always --network=elk-network --name=nginx -p 80:80 -v /root/elk/.htpasswd:/etc/nginx/.htpasswd some-registry/nginx run-elastalert: docker rm -f elastalert || echo "ok" docker run -d --restart=always --network=elk-network --name=elastalert --env-file=./elastalert/.env some-registry/elastalert run: prepare run-elasticsearch run-kibana run-logstash run-elastalert delete-old-indices: docker run --rm --network=elk-network -e "ES_HOST=elasticsearch:9200" some-registry/curator curator --config /curator/curator.yml /curator/actions.yml</code> </pre> </div></div><br><p>      : </p><br><ul><li>    80  nginx,     basic auth  Kibana </li><li>  Logstash  .       ssh- </li><li>       nginx </li><li>    ,  docker- </li><li>           </li><li>          </li><li>       ,  .env-    nginx- </li><li>  *_JAVA_OPTS   ,          4GB RAM (        ES). </li></ul><br><p>  ,          xpack-. </p><br><p>    docker-compose. ,   ,   Dockerfile-,  Filebeat,  Logstash,  ,   ,     ,    ,        VCS. </p><br><p>       .      .     ,    ( Laravel    scheduler), ,     5   .          ALERT.     ,    .    ,     ,      . </p><br><h2 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  ,      ,    ,           .       . ,   -      .              .   ,   ,  . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi456676/">https://habr.com/ru/post/hi456676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi456666/index.html">WebTotem рдпрд╛ рд╣рдо рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЛ рдХреИрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi456668/index.html">Microsoft ML рд╕реНрдкрд╛рд░реНрдХ: рдПрдХ рд╕реНрдкрд╛рд░реНрдХ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдЬреЛ рд╕реНрдкрд╛рд░реНрдХрд▓рдПрдо рдХреЛ рдЕрдзрд┐рдХ рдорд╛рдирд╡реАрдп рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рд▓рд╛рдЗрдЯ рдЬреАрдмреАрдПрдо рдПрдХ рдмреЛрдирд╕ рдХреЗ рд░реВрдк рдореЗрдВ</a></li>
<li><a href="../hi456670/index.html">рдмрд╣реБрдд рдЬрд╛рд╕реВрд╕реА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi456672/index.html">Nginx рд╡реНрдпрдВрдЬрдиреЛрдВ: PostgreSQL рд╕реЗ рд╡реЗрдмрд╕реНрдХреИрдЯ рдХреЗ рд▓рд┐рдП рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рд╕реВрдЪрдирд╛рдПрдВ</a></li>
<li><a href="../hi456674/index.html">рдлреЗрд╕рдмреБрдХ рдкрд░ рдкреНрд░рдЪрд╛рд░ рдХреЗ рдирдП рдЕрд╡рд╕рд░ рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдкрдХреЛ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рдереА</a></li>
<li><a href="../hi456678/index.html">рднрд╡рд┐рд╖реНрдп рдХреА рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рд╕реНрдерд┐рддрд┐ред рднрд╛рдЧ рек</a></li>
<li><a href="../hi456680/index.html">UX рдбрд┐рдЬрд╛рдЗрди рдореЗрдВ рдЖрда рдирд╛рдордХрд░рдг рдХрд╛рдиреВрди (рднрд╛рдЧ 2)</a></li>
<li><a href="../hi456682/index.html">рдПрдПрдирдПрд╕рдЖрдИ рд╕реА рдореЗрдВ рдкрджрд╛рд╡рдирдд рд╕рдорд╛рд░реЛрд╣ рдШреЛрд╖рдгрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЕрдкрд░рд┐рднрд╛рд╖рд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░</a></li>
<li><a href="../hi456684/index.html">Calc.exe рдореЗрдВ рдПрдХ рдорд╛рдореВрд▓реА рдмрдЧ рдХреЛ рдареАрдХ рдХрд░рдирд╛</a></li>
<li><a href="../hi456686/index.html">Udalenka рдХреЛ рдХрд┐рд░рд╛рдП рдкрд░ рд▓реЗрддреЗ рд╕рдордп рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдХреА рдкреЗрдЪреАрджрдЧрд┐рдпрд╛рдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>