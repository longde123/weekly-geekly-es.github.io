<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçüèΩ üë®üèΩ‚Äç‚úàÔ∏è üì≥ Changez votre √©tat d'esprit avec SwiftUI ü§≤üèæ üèë üôãüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La semaine derni√®re, j'ai vu que la communaut√© essayait de transf√©rer des mod√®les de d√©veloppement √©prouv√©s d'UIKit vers SwiftUI. Mais je suis s√ªr que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Changez votre √©tat d'esprit avec SwiftUI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477560/"><img src="https://habrastorage.org/webt/2g/v0/ae/2gv0aefpytcbzw-iztjnz0knuza.png" alt="image"><br><br>  La semaine derni√®re, j'ai vu que la communaut√© essayait de transf√©rer des mod√®les de d√©veloppement √©prouv√©s d'UIKit vers SwiftUI.  Mais je suis s√ªr que la meilleure fa√ßon d'√©crire du code efficace √† l'aide de SwiftUI est d'oublier tout sur UIKit et de changer compl√®tement votre √©tat d'esprit en termes de d√©veloppement d'interface utilisateur.  Cette semaine, je parlerai des principales diff√©rences entre le d√©veloppement utilisant UIKit et SwiftUI. <br><a name="habracut"></a><br><h3>  D√©finition des diff√©rences </h3><br>  <a href="https://developer.apple.com/documentation/uikit">UIKit</a> est un cadre √©v√©nementiel imp√©ratif pour cr√©er des interfaces utilisateur pour la plate-forme iOS.  Cela signifie que vous devez g√©rer tous les changements d'√©tat lors d'√©v√©nements tels que le chargement d'une vue, un clic sur un bouton, etc. Un gros inconv√©nient de cette approche est la difficult√© de synchroniser l'interface utilisateur avec son √©tat.  D√®s que l'√©tat change, vous devez ajouter / supprimer / afficher / masquer manuellement les vues et les synchroniser avec l'√©tat actuel de l'application. <br><br>  <a href="https://developer.apple.com/documentation/SwiftUI">SwiftUI</a> est un cadre d√©claratif pour cr√©er des interfaces utilisateur pour toutes les plateformes Apple.  Le mot cl√© dans ce cas est d√©claratif.  D√©claratif signifie que le d√©veloppeur doit d√©clarer ce qu'il veut r√©aliser, et le framework s'en chargera.  Le framework conna√Æt la meilleure fa√ßon de rendre l'interface utilisateur. <br><br><pre><code class="swift hljs"><span class="hljs-type"><span class="hljs-type">UI</span></span> = f(state)</code> </pre> <br>  Dans SwiftUI, l'interface utilisateur est fonction de son √©tat.  Cela signifie que chaque fois que l'√©tat d'une vue change, il raconte sa propri√©t√© de corps et g√©n√®re une nouvelle vue.  Prenons l'exemple suivant. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">ObservedObject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> store: <span class="hljs-type"><span class="hljs-type">Store</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Group</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> store.isLoading { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Loading..."</span></span>) .font(.subheadline) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-type"><span class="hljs-type">Image</span></span>(<span class="hljs-string"><span class="hljs-string">"photo"</span></span>) .font(.largeTitle) } } } }</code> </pre><br>  Dans l'exemple ci-dessus, il y a une vue qui affiche le texte ¬´Loading ...¬ª et affiche des images √† la fin du t√©l√©chargement.  <i>ObserverObject</i> est l'√©tat de cette vue, et d√®s qu'il change, SwiftUI recalcule la propri√©t√© body et attribue une nouvelle vue.  Lors du d√©veloppement avec UIKit, il est n√©cessaire de masquer / afficher manuellement les √©l√©ments de la hi√©rarchie de pr√©sentation, mais dans SwiftUI il n'est pas n√©cessaire d'ajouter / supprimer un indicateur de chargement.  Il y a plusieurs fa√ßons dans SwiftUI de d√©crire l'√©tat d'une vue, pour en savoir plus √† leur sujet, jetez un ≈ìil √† ¬´ <a href="https://habr.com/ru/company/otus/blog/475078/">Property Wrappers in SwiftUI</a> ¬ª. <br><br>  Nous allons maintenant examiner de plus pr√®s ce qui se passe lorsque l'√©tat d'affichage change.  SwiftUI a une empreinte de la hi√©rarchie actuelle des vues et, d√®s que son √©tat change, il calcule une nouvelle vue.  SwiftUI applique des algorithmes de comparaison pour comprendre les diff√©rences et ajouter / supprimer / mettre √† jour automatiquement les vues n√©cessaires.  Par d√©faut, SwiftUI utilise l'image de transition d'entr√©e / sortie standard pour afficher / masquer les vues, mais il est √©galement possible de modifier manuellement la transition vers n'importe quelle autre animation.  Pour en savoir plus sur la transition et les animations dans SwiftUI, consultez mon article ¬´ <a href="https://swiftwithmajid.com/2019/06/26/animations-in-swiftui/">Animations dans SwiftUI</a> ¬ª. <br><br><h3>  Hi√©rarchie des pr√©sentations </h3><br>  Parlons de la hi√©rarchie des vues et de la fa√ßon dont SwiftUI affiche r√©ellement la structure des vues.  La toute premi√®re chose que je veux mentionner est que SwiftUI n'affiche pas la structure de la vue par mappage un √† un.  Il est possible d'utiliser autant de conteneurs de vues que vous le souhaitez, mais au final, SwiftUI n'affiche que les vues qui ont un sens pour le rendu.  Cela signifie que vous pouvez extraire leur logique en petites repr√©sentations, puis les composer et les r√©utiliser dans l'application.  Ne vous inqui√©tez pas, les performances de l'application dans ce cas ne souffriront pas.  Pour en savoir plus sur la cr√©ation de vues dans SwiftUI, consultez <a href="https://swiftwithmajid.com/2019/10/30/view-composition-in-swiftui/">cet article</a> . <br><br>  La meilleure fa√ßon de comprendre la hi√©rarchie des repr√©sentations complexes dans SwiftUI est d'afficher son type.  SwiftUI utilise un syst√®me de type statique pour d√©terminer la diff√©rence assez rapidement.  Tout d'abord, il v√©rifie le type de vue, puis v√©rifie les valeurs des composants de la vue.  Je ne suis pas fan de l'utilisation des r√©flexions dans le code de travail, mais c'est tr√®s utile dans le processus d'apprentissage. <br><br><pre> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-type"><span class="hljs-type">Mirror</span></span>(reflecting: <span class="hljs-type"><span class="hljs-type">ContentView</span></span>(store: .<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>()).body)) <span class="hljs-comment"><span class="hljs-comment">// Group&lt;_ConditionalContent&lt;Text, ModifiedContent&lt;Image, _EnvironmentKe</span></span></code> </pre><br>  √Ä l'aide de la structure miroir, vous pouvez afficher le type r√©el du corps ContentView et d√©couvrir comment SwiftUI fonctionne. <br><br><h3>  Conclusions </h3><br>  Cette semaine, nous avons appris la principale diff√©rence entre UIKit et SwiftUI et examin√© en d√©tail l'algorithme de comparaison dans SwiftUI.  J'esp√®re que l'article vous a plu.  Merci d'avoir lu et √† la semaine prochaine! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477560/">https://habr.com/ru/post/fr477560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477548/index.html">Apprenez Bootstrap avec 10 conseils utiles</a></li>
<li><a href="../fr477550/index.html">SPS-2019 au parc des expositions de Nuremberg</a></li>
<li><a href="../fr477552/index.html">Les tests effectu√©s par Ryzen Threadripper 3960X et 3970X ont montr√© qu'il s'agit de processeurs vraiment r√©volutionnaires</a></li>
<li><a href="../fr477554/index.html">La zone de domaine .ORG est vendue √† une entreprise priv√©e. Le public appelle l'ICANN √† r√©silier le contrat</a></li>
<li><a href="../fr477558/index.html">Huawei Cloud: c'est nuageux dans PVS-Studio aujourd'hui</a></li>
<li><a href="../fr477562/index.html">Conception d'interface pour le jeu, dessinez un pack d'ic√¥nes</a></li>
<li><a href="../fr477564/index.html">Clients complexes: comment en prot√©ger votre √©quipe</a></li>
<li><a href="../fr477566/index.html">Huawei Cloud: il fait nuageux dans PVS-Studio aujourd'hui</a></li>
<li><a href="../fr477568/index.html">Le service est un retour inconditionnel facile. Poste russe</a></li>
<li><a href="../fr477578/index.html">Comment choisir un langage de programmation pour cr√©er une application Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>