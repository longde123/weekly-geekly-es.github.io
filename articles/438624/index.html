<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïé üë©üèΩ‚Äçüíº üà∏ Programamos el cambio a trav√©s del pasaje. MicroPython en esp8266 (sonoff) con OTA. Parte 1 üçé ü§≤üèæ üïï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos 


 En el proceso de reparaci√≥n, surgi√≥ la tarea de hacer un cambio de paso. Por supuesto, quer√≠a hacerlo de la manera m√°s simple y conve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programamos el cambio a trav√©s del pasaje. MicroPython en esp8266 (sonoff) con OTA. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438624/"><p>  Hola a todos </p><br><p>  En el proceso de reparaci√≥n, surgi√≥ la tarea de hacer un cambio de paso.  Por supuesto, quer√≠a hacerlo de la manera m√°s simple y conveniente, agregando funciones b√°sicas de control desde el tel√©fono.  Eleg√≠ la tecnolog√≠a m√°s simple y conveniente para esto (por supuesto, en mi opini√≥n) - MicroPython, y comenc√© a hacerlo.  Tom√© el tablero terminado en esp8266 y asign√© una hora de tiempo libre para esto.  Pero, como sucede con proyectos no muy populares y sin ejecuci√≥n, la tarea se prolong√≥ un poco. </p><br><p>  Result√≥ que el dise√±o que me pareci√≥ m√°s conveniente resulta que no funciona en absoluto.  Tuve que pasar alg√∫n tiempo analizando esto, adem√°s decid√≠ describir todo el proceso con suficiente detalle.  El volumen del art√≠culo comenz√≥ a aumentar a un ritmo r√°pido, as√≠ que decid√≠ dividirlo en partes y descartar todos los detalles que son innecesarios en mi opini√≥n. </p><a name="habracut"></a><br><p>  La primera parte consta de tres partes: </p><br><ol><li>  Consideraciones te√≥ricas sobre la selecci√≥n del medio m√°s simple para el desarrollo de un interruptor de paso, </li><li>  Lanzamiento pr√°ctico del firmware b√°sico seleccionado en el equipo seleccionado, dificultades, </li><li>  Desarrollo de firmware </li></ol><br><h1>  Elegir el entorno de desarrollo m√°s f√°cil </h1><br><p>  Para una casa inteligente como "h√°galo usted mismo si tiene un minuto de tiempo libre", adem√°s de los elementos cl√°sicos (por ejemplo, estabilidad), la lista de requisitos obligatorios del equipo tambi√©n agrega facilidad de desarrollo, instalaci√≥n y soporte.  Se requiere que los dispositivos conecten f√°cilmente los sensores o dispositivos de control necesarios.  Que hab√≠a formas convenientes y f√°ciles de comunicarse con todo el sistema.  Es necesario garantizar la facilidad de escribir firmware en este dispositivo, teniendo en cuenta que el dispositivo puede ubicarse donde sea dif√≠cil acceder a √©l.  Y, por supuesto, la facilidad de desarrollo, esto es especialmente cr√≠tico para el bricolaje, cuando, por ejemplo, 2 a√±os despu√©s de trabajar sin fallas de todo el sistema <br>  De repente quiero agregar algunos ajustes al firmware.  Para realizar estas correcciones, debe recordar c√≥mo funciona este sistema, que a veces puede llevar m√°s tiempo que el ajuste en s√≠. </p><br><p>  Considere un ejemplo banal: necesita hacer un interruptor de paso simple con la capacidad de controlarlo, incluso desde una PC.  En los √∫ltimos tiempos, esta tarea era bastante complicada, era necesario tomar alg√∫n tipo de microcontrolador (los m√°s populares eran avr o pic), y para escribir el firmware, por regla general, debe leer la documentaci√≥n correspondiente.  Si desea hacer todo fuera de la caja, debe separar la placa, d√≥nde colocar AC / DC, un microcontrolador y una interfaz de comunicaci√≥n.  Despu√©s de LUT (o de ordenar placas de circuito impreso), suelde todo, compre un programador y actualice el firmware.  Y luego, despu√©s de 2-3 a√±os, si es necesario, para arreglar algo, busque todo el equipo y aprenda todo desde cero ... </p><br><p>  Para simplificar este proceso, comenzaron a aparecer soluciones preparadas en el mercado.  La soluci√≥n m√°s exitosa es Arduino.  Esta soluci√≥n es proporcionada por el IDE, el gestor de arranque con la funci√≥n de actualizaci√≥n, que le permite trabajar con el dispositivo exclusivamente a trav√©s de la interfaz est√°ndar sin el uso de programadores.  Permite hacer firmware, teniendo solo <br>  Una comprensi√≥n muy superficial de c√≥mo todo est√° organizado all√≠.  Un conjunto de m√≥dulos externos permite conectar dispositivos sin soldador.  Pero de todos modos, para realizar ediciones, debe instalar el software Arduino, almacenar el firmware en alg√∫n lugar. </p><br><p>  Nuestro interruptor de paso resultar√° ser lo suficientemente grande, contendr√° una placa Arduino + m√≥dulo de rel√© AC / DC +.  Y si necesita hacer ajustes, tendr√° que recordar dolorosamente d√≥nde se encuentra el c√≥digo e instalar nuevamente el software Arduino. </p><br><p>  Para ahorrarse la necesidad de compilar el c√≥digo fuente (es decir, instalar software adicional y almacenarlo), la soluci√≥n m√°s l√≥gica parece ser usar int√©rpretes o compilar directamente el c√≥digo en el microcontrolador.  Afortunadamente, ahora han aparecido proyectos que permiten que esto se haga.  Por ejemplo, NodeMCU, el int√©rprete de lenguaje lua para el microcontrolador esp8266: el firmware en s√≠ tiene soporte incorporado para el sistema de archivos, que le permite descargar / leer scripts en / desde el dispositivo.  Otro proyecto bastante serio es Micropython, una versi√≥n simplificada de python dise√±ada espec√≠ficamente para microcontroladores.  Ser√° discutido </p><br><p>  MicroPython es una implementaci√≥n de uno de los lenguajes de programaci√≥n python m√°s populares en la actualidad.  Admite una gran cantidad de arquitecturas y SoC (bare-arm, CC3200, esp8266, esp32, nRF, pic16bit, stm32).  El proyecto se est√° desarrollando activamente y tiene una gran cantidad de m√≥dulos adicionales. </p><br><p>  El microprocesador esp8266 es muy adecuado como parte del hardware, debido al hecho de que los m√≥dulos de conmutador wifi de presupuesto incorporados se venden en el mercado.  Contienen todo lo que necesitamos: AC / DC, un microcontrolador con una interfaz de comunicaci√≥n integrada (wifi).  Disponible bajo la marca Sonoff.  Los microprocesadores esp8266 no contienen memoria, se sueldan por separado y pueden tener un tama√±o diferente.  Para Sonoff Basic pusieron m√≥dulos de 1Mb. </p><br><h1>  Iniciando firmware b√°sico en esp8266.  Sonoff Basic. </h1><br><p>  En ausencia de dificultades, ser√≠a posible proceder inmediatamente a la programaci√≥n en python.  Pero, desafortunadamente, hay una serie de problemas que deben resolverse, para programar y modificar el firmware fue muy f√°cil y simple.  Por supuesto, estamos interesados ‚Äã‚Äãen hacerlo a trav√©s de wifi, sin usar ning√∫n dispositivo adicional, excepto una computadora port√°til. </p><br><p>  El primer escollo, por supuesto, es el firmware b√°sico que est√° grabado en su placa.  Si compr√≥ una placa de depuraci√≥n, lo m√°s probable es que encuentre NodeMCU en ella, si Sonoff Basic, entonces el firmware propietario.  Para preparar esta placa para usted, debe escribir el firmware necesario all√≠.  En algunos microcontroladores, es necesario comprar <br>  un programador especial, en nuestro caso tuvimos suerte, solo necesita obtener un convertidor USB &lt;-&gt; UART.  Si trabaja con microcontroladores, ser√° √∫til m√°s de una vez, y su precio generalmente est√° en el rango de $ 3. </p><br><p>  No hay un peine para Sonoff Basic que le permita conectarse a trav√©s de UART, y necesitamos esto para programar el dispositivo.  Para programar simplemente el dispositivo, no es necesario tomar el soldador en sus manos, es suficiente inclinar los contactos y escribir el firmware.  Teniendo en cuenta que el trabajo adicional se realizar√° a trav√©s de wifi, ya no necesitaremos estos contactos.  Pero implementamos un interruptor a trav√©s del pasaje, lo que significa que necesitamos soldadura, <br>  Al menos tres patas. </p><br><p>  Para Sonoff Basic, solo hay 1 conector GPIO libre y 2 conectores RX, TX.  Teniendo en cuenta que necesitamos RX, TX nosotros mismos una vez (para actualizar el firmware), en el futuro pueden reprogramarse para GPIO, gracias a esp8266, esto se puede hacer.  Pero en este caso, debemos abandonar la depuraci√≥n a trav√©s de UART, afortunadamente ya planeamos hacerlo, ya que la depuraci√≥n a trav√©s de wifi, desde el punto de vista de la conveniencia, es mucho m√°s simple. </p><br><p>  Dado que la versi√≥n de MicroPython puede cambiar en el proceso, estamos interesados ‚Äã‚Äãen depurar el m√©todo de actualizaci√≥n a trav√©s de wifi.  OTA viene al rescate.  OTA es un firmware que le permite reprogramar un dispositivo.  Funciona de manera bastante simple.  Despu√©s de encender el dispositivo, el firmware determina si es necesario reprogramarlo, si es necesario, inicia un dispositivo especial <br>  El actualizador wifi, si no, inicia el firmware del usuario.  La implementaci√≥n puede ser diferente, el firmware puede sobrescribirse o escribir en un √°rea libre de memoria.  Tambi√©n puede determinar si ejecutar el programa de doblaje de diferentes maneras.  Por ejemplo, considere la cxumma del firmware personalizado si no converge, <br>  luego ve por la fuerza al parpadeo.  Puede leer datos del GPIO o escribir informaci√≥n sobre la necesidad de iniciar la actualizaci√≥n en otro lugar. </p><br><p>  Como actualizador, el proyecto MicroPython se refiere al proyecto yaota8266.  Yaota8266 afirma estar flasheando el dispositivo y firmando cada paquete.  Cabe se√±alar que la clave p√∫blica est√° incrustada en el firmware en s√≠, por lo que no tiene sentido cargar el firmware ya ensamblado, ya que es necesario coser la clave all√≠. <br>  No hay ninguna funci√≥n para modificar la clave privada en la imagen ensamblada, por lo que en nuestro caso es m√°s f√°cil ensamblar el firmware usted mismo.  Una caracter√≠stica interesante es que la funci√≥n de verificaci√≥n de firma es, pero est√° comentada en el c√≥digo, es decir  de hecho, tenemos dificultades sin ninguna ganancia de seguridad.  La versi√≥n b√°sica de yaota8266 no va a, <br>  Afortunadamente, hay horquillas en github que resuelven este problema, adem√°s de que agregan la capacidad de determinar si el flasheo se debe realizar en funci√≥n de la escritura en el √°rea RTC, lo que hace posible cambiar MicroPython al modo de cargador de arranque. </p><br><p>  Incluso despu√©s de incluir todas las correcciones, nuestro firmware OTA escribir√° con errores, pero funcionar√° con √©xito en las placas de depuraci√≥n de NodeMCU.  Esto se debe a los tiempos de espera.  Cuando se actualiza desde la m√°quina host, se env√≠an paquetes UDP y se espera una respuesta si la grabaci√≥n en flash tarda m√°s de lo habitual, se agota el tiempo de espera y se vuelve a enviar el paquete.  El beneficio es f√°cil de arreglar, <br>  solo aumentando los tiempos de espera en el c√≥digo ota-client. </p><br><p>  El paquete OTA + MicroPython en Sonoff tambi√©n tiene rarezas interesantes.  Uno de ellos est√° relacionado con el hecho de que las funciones est√°ndar para trabajar con SPI Flash en esp-sdk operan en bloques de 4k, y este tama√±o de bloque fue elegido para implementar el sistema de archivos FAT.  A su vez, debido a que SPI Flash es de solo 1Mb, de los cuales ~ 300Kb es firmware OTA, ~ 500Kb es firmware MicroPython, quedan menos de 200Kb para el sistema de archivos, es decir  Menos de 50 cuadras.  Sin embargo, la biblioteca seleccionada que implementa fatfs no puede crear un FS donde haya menos de 50 bloques. Hay varias maneras de resolver el problema: reduzca el tama√±o del bloque (FAT le permite configurar 512), arregle la biblioteca FatFs, use SPI FS (con la esperanza de que no haya tales rarezas).  Tom√© el camino de reducir el bloqueo a 512. </p><br><p>  Los microcontroladores usan SPI Flash, esto es memoria NOR y / o NAND.  Lo notable de esta memoria es que no existe el concepto de "escribir ning√∫n dato".  Solo puede restablecer el valor (a 0xff) o establecer los bits deseados en "0".  SPI Flash generalmente es memoria NOR, tiene la funci√≥n de restablecer cualquier byte a 0xff, mientras que NAND solo se puede restablecer por bloques.  Es decir  si el tama√±o m√≠nimo del bloque de reinicio es 4k, para escribir <br>  1 byte de memoria, es necesario leer todo el bloque, restablecerlo a 0xFF y luego escribir el bloque configurando el byte deseado al valor deseado.  Los fabricantes de SPI Flash tienen aproximadamente el mismo conjunto de API para el trabajo, pero, como lo ha demostrado la pr√°ctica, el comando para escribir un byte de SPI Flash puede diferir.  En alg√∫n lugar se restablecer√° autom√°ticamente antes de escribir en 0xFF, en otro lugar no. </p><br><p>  Si cambia la secci√≥n FAT a 512 bytes, existe la posibilidad de obtener un sistema da√±ado si un SPI Flash espec√≠fico no admite el restablecimiento autom√°tico de bytes durante la grabaci√≥n.  Y fue solo un recuerdo que encontr√© en Sonoff Basic.  Se rumorea que sol√≠an instalar Winbond 25q80bv all√≠, pero ahora PUYA 25q80h, que tiene un bloque de limpieza m√≠nimo de 256 bytes.  La soluci√≥n parecer√≠a <br>  simple, solo necesita borrar dos p√°ginas donde se escribir√° antes de escribir el bloque FAT, pero la implementaci√≥n es complicada por el hecho de que sdk-esp solo admite la eliminaci√≥n en bloques 4k.  Dado que escribir en el FAT ser√° muy raro para nuestro switch, <br>  solo al actualizar los scripts de firmware, puede ir por el mal camino y actualizar el bloque de 512 bytes en bloques de 4k.  La documentaci√≥n de esta memoria dice que la memoria puede soportar 100,000 ciclos de reescritura, es decir.  una elusi√≥n similar del problema nos reducir√° este valor en 4 veces, es decir  hasta 25,000. </p><br><p>  MicroPython tiene una consola por defecto, se llama REPL y funciona a trav√©s del puerto COM.  No estamos muy contentos con este estado de cosas, ya que queremos comunicarnos con el dispositivo a trav√©s de wifi.  Afortunadamente en MicroPython, WebRepl tambi√©n viene de serie, pero no se inicia autom√°ticamente.  Puede registrar la ejecuci√≥n autom√°tica en boot.py, pero decid√≠ ejecutarlo directamente desde _boot.py, el archivo del sistema, est√° cosido en el archivo de firmware. </p><br><p>  Despu√©s del primer inicio, nuestro firmware crear√° un sistema de archivos, iniciar√° webrepl y crear√° un punto de acceso.  Puede conectarse a √©l y prescribir los par√°metros para conectarse a su red local o, como lo hice, configurar la red usando el puerto com, despu√©s de lo cual solo se debe usar wifi. </p><br><p>  Para el trabajo de prueba, puede usar el cliente webrepl escrito en javascript.  El cliente se puede iniciar en un navegador en la p√°gina correspondiente del proyecto.  Otra opci√≥n es usar el proyecto mpfshell, que proporciona funciones m√°s convenientes para trabajar con el dispositivo. </p><br><p>  Entonces, despu√©s de superar todos estos escollos, puede ir directamente a programar el cambio. </p><br><h1>  Desarrollo de firmware </h1><br><p>  Para desarrollar el firmware, necesitamos tener una idea aproximada de c√≥mo funciona GPIO.  En general, esto puede entenderse de manera puramente intuitiva: </p><br><ol><li>  Si establecemos el modo de salida (OUT), el tramo produce GND o Vcc. </li><li>  Si establecemos el modo de entrada (IN), entonces la pata "cuelga en el aire", en cuyo caso el microcontrolador puede emitir cualquier cosa </li><li>  Para que el microcontrolador no entregue nada, la pata se puede tirar al valor deseado usando el microcontrolador incorporado <br>  resistencias pull-up PULL_UP o PULL_DOWN. </li></ol><br><p>  Tambi√©n debe tener una idea de qu√© son las interrupciones: en nuestro caso, este es el c√≥digo que debe ejecutarse si ocurre alg√∫n tipo de evento: se presion√≥ / ‚Äã‚Äãsolt√≥ un bot√≥n o lleg√≥ un mensaje de la red local de que el dispositivo deber√≠a estar apagado / encendido. </p><br><p>  Para comenzar, escriba un programa simple de cambio (no de paso) en Python. </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> machine <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Pin <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SW</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, portin, portout)</span></span></span><span class="hljs-function">:</span></span> self.pin = Pin(portin , Pin.PULL_UP) <span class="hljs-comment"><span class="hljs-comment">#  self.pout = Pin(portout, Pin.OUT) #  #  self._auto(),       self.pin.irq(trigger=Pin.IRQ_RISING|Pin.IRQ_FALLING, handler=self._auto) self.value = 0 def _auto(self, _=0): if self.value: res = self.pin.value() else: res = not self.pin.value() self.pout.value(res) def change(self, val=2): """   0, ,  1, ,  2  """ if val == 2: self.value = not self.value else: self.value = val self._auto() sw = SW(14, 12)</span></span></code> </pre> <br><p>  Llam√© a este archivo switch.py ‚Äã‚Äãy orden√© que se ejecutara en boot.py: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> switch <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sw</code> </pre> <br><p>  Despu√©s de iniciar el firmware, obtuve un objeto sw, si ejecuto sw.change (), se producir√° un cambio de programa <br>  cambiar a otra posici√≥n.  Cuando un pin libre est√° en cortocircuito a Vcc en el microcontrolador <br>  el rel√© se enciende o apaga, respectivamente. </p><br><p>  El siguiente paso ser√° el lanzamiento del cliente MQTT y la capacidad de cambiar el interruptor desde el tel√©fono. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438624/">https://habr.com/ru/post/438624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438610/index.html">Plantillas Responsive Figma: creaci√≥n de un componente de dise√±o flexible para iOS Mobile Navigation</a></li>
<li><a href="../438614/index.html">¬øQu√© es una animaci√≥n inactiva de calidad? Los desarrolladores comparten sus ejemplos favoritos.</a></li>
<li><a href="../438618/index.html">Hacer un proyector l√°ser de texto DIY</a></li>
<li><a href="../438620/index.html">Mi camino como desarrollador de juegos novatos</a></li>
<li><a href="../438622/index.html">Bonsai: motor wiki familiar</a></li>
<li><a href="../438626/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 284 (28 de enero - 3 de febrero)</a></li>
<li><a href="../438628/index.html">Notificaci√≥n de estado de cambio de componente de estado compartido</a></li>
<li><a href="../438630/index.html">Google+ Sic transit gloria mundi ...</a></li>
<li><a href="../438632/index.html">Hardcore 2D RPG Gamedev Diaries, vol.0 - INTRO, o "C√≥mo llegu√© aqu√≠"</a></li>
<li><a href="../438634/index.html">En las oficinas, hace demasiado calor o demasiado fr√≠o: ¬øhay una mejor manera de ajustar la temperatura?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>