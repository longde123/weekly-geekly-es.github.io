<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÄÔ∏è üëêüèª ü§≥üèø Principes de fonctionnement du protocole EIGRP üòõ üê° üë®üèΩ‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article parlera d'EIGRP et expliquera comment ce protocole fonctionne. L'EIGRP est un protocole √† vecteur de distance, il est parfois dit hybride,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Principes de fonctionnement du protocole EIGRP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420667/"> Cet article parlera d'EIGRP et expliquera comment ce protocole fonctionne.  L'EIGRP est un protocole √† vecteur de distance, il est parfois dit hybride, mais il ne l'est pas.  Lisez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©but de l'article</a> sur OSPF et vous comprendrez pourquoi EIGRP est un protocole vectoriel √† distance.  EIGRP est un protocole de routage dynamique avanc√© √† vecteur de distance d√©velopp√© par Cisco.  Faisons les choses correctement.  Nous utiliserons la topologie suivante: <br><br><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a><a href=""></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4ed/cbb/733/4edcbb7335c70442a6ad9c1e4754e851.jpg" alt="Mon image"></a> <a name="habracut"></a><br><br>  Ex√©cutez EIGRP sur vIOS1 et vIOS2, voyez comment les informations sont transmises entre les routeurs.  D√®s que EIGRP est activ√© sur le routeur, le routeur commence √† envoyer des paquets Hello.  Nous listons √©galement d'autres types de messages utilis√©s dans EIGRP. <br><br><ul><li>  Bonjour - les routeurs utilisent des paquets bonjour pour d√©couvrir les voisins.  Les paquets de multidiffusion sont envoy√©s et ne n√©cessitent pas de confirmation de r√©ception. </li><li>  Mise √† jour - contient des informations sur la modification des itin√©raires.  Ils ne sont envoy√©s qu'aux routeurs concern√©s par la mise √† jour.  Ces paquets peuvent √™tre envoy√©s √† un routeur sp√©cifique (unicast) ou √† un groupe de routeurs (multicast).  La r√©ception d'un package de mise √† jour est confirm√©e par l'envoi d'un ACK. </li><li>  Requ√™te - lorsque le routeur calcule l'itin√©raire et n'a pas de successeur possible, il envoie un paquet de requ√™te √† ses voisins afin de d√©terminer s'ils ont un successeur possible pour cette destination.  En r√®gle g√©n√©rale, les paquets de requ√™te sont envoy√©s par multidiffusion, mais il peut y avoir unidiffusion.  La r√©ception du paquet de requ√™te est confirm√©e par l'envoi de l'accus√© de r√©ception par le r√©cepteur du paquet. </li><li>  R√©pondre - le routeur envoie un paquet de r√©ponse en r√©ponse au paquet de requ√™te.  Les paquets de r√©ponse sont envoy√©s en envoi individuel √† celui qui a envoy√© le paquet de requ√™te.  La r√©ception d'un paquet de r√©ponse est confirm√©e par l'envoi d'un ACK. </li><li>  ACK - un paquet qui confirme la r√©ception des paquets de mise √† jour, de requ√™te et de r√©ponse.  Les paquets ACK sont envoy√©s en envoi individuel et contiennent un num√©ro d'accus√© de r√©ception.  En fait, ce sont des paquets bonjour qui ne transmettent pas de donn√©es.  La livraison non garantie est utilis√©e. </li></ul><br>  Il existe √©galement des packages SIA, mais nous en parlerons ci-dessous. <br>  Les paquets sont envoy√©s √† l'adresse de multidiffusion 224.0.0.10 toutes les 5 secondes (Hello Timer), Hold Timer est de 15 secondes = 3 intervalles de bonjour, si pendant ce minuteur aucun paquet de bonjour n'a √©t√© re√ßu d'un voisin, alors le voisin est supprim√© de la liste des voisins.  Le package ressemble √† ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/144/cd2/7a5/144cd27a50a78ca0aeb70c7e4b15cfae.jpg" alt="Mon image"><br><br>  Le package contient les param√®tres des coefficients (K1, K2, K3, K4, K5, K6), la minuterie de maintien et le num√©ro du syst√®me autonome.  Les coefficients (K1, K2, K3, K4, K5, K6) sont utilis√©s dans le calcul de la m√©trique, et nous en parlerons plus tard, ainsi que les temporisateurs EIGRP.  Maintenant, il est important de parler du syst√®me autonome (AS).  Pour activer EIGRP, un processus EIGRP sp√©cifique doit recevoir un num√©ro, comme dans OSPF.  Mais contrairement √† OSPF, cette option ne peut pas √™tre s√©lectionn√©e au hasard pour chaque routeur, elle doit √™tre la m√™me pour tous les routeurs.  Si le routeur re√ßoit un paquet Hello avec un AS diff√©rent de celui-ci, il n'y aura pas de relation de voisinage. <br><br>  Pour que les routeurs deviennent voisins, les conditions suivantes doivent √™tre remplies: <br><br><ul><li>  les routeurs doivent √™tre authentifi√©s, </li><li>  les routeurs doivent √™tre dans le m√™me AS, </li><li>  Les relations de voisinage doivent √™tre √©tablies sur les adresses principales (lorsqu'un paquet bonjour arrive, le routeur v√©rifie si l'adresse de l'exp√©diteur du r√©seau appartient √† l'adresse principale de l'interface), </li><li>  les valeurs des coefficients K doivent correspondre. </li></ul><br>  Pour que les routeurs deviennent des voisins EIGRP, ils ne doivent pas n√©cessairement correspondre aux dur√©es Hello et Hold.  Le routeur utilise des valeurs de temporisation re√ßues du voisin.  Si la minuterie Hello ou Hold est modifi√©e sur l'un des routeurs, les voisins de ce routeur utiliseront ces valeurs.  Pour que le routeur utilise d'autres valeurs, il est n√©cessaire de changer le temporisateur sur l'interface correspondante du voisin.  Apr√®s avoir √©chang√© des paquets Hello, un paquet de mise √† jour est envoy√©, mais il ne contient pas encore de routes, il contient l'indicateur Init, qui informe les routeurs du d√©but de l'√©change d'informations sur les routes.  Ce paquet est envoy√© directement √† l'adresse du routeur.  Apr√®s avoir √©chang√© de tels messages, chaque routeur envoie un paquet de mise √† jour avec des routes √† l'adresse de multidiffusion 224.0.0.10: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd9/0da/c1c/dd90dac1c80680d40681289160f1898b.jpg" alt="Mon image"><br><br>  Comme vous pouvez le voir, le package de mise √† jour ne contient aucune m√©trique, mais uniquement des informations telles que la bande passante, le retard, le MTU, etc. Apr√®s avoir re√ßu ces informations, le routeur lui-m√™me calcule la m√©trique √† l'aide des coefficients K1-K6.  Ces paquets peuvent √™tre envoy√©s √† un routeur sp√©cifique ou √† la multidiffusion.  En g√©n√©ral, il existe trois types de mises √† jour: <br><br><ul><li>  Non p√©riodique (non p√©riodique) - les mises √† jour ne sont pas envoy√©es √† intervalles r√©guliers, mais lorsque la topologie ou la m√©trique change; </li><li>  Partiel (Partiel) - toutes les informations de la table de routage ne sont pas transmises dans les mises √† jour, mais uniquement les modifications; </li><li>  Limit√© - Les mises √† jour sont envoy√©es uniquement aux routeurs impliqu√©s. </li></ul><br>  Les quartiers au niveau des paquets ressemblent √† ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/68a/588/fe6/68a588fe6adbe793d98c2b57b7da301e.jpg" alt="Mon image"><br><br>  Vous pouvez remarquer qu'en plus du Hello et de la mise √† jour r√©pertori√©s par nous, il existe √©galement Hello (ACK) et le nombre est √©gal au nombre de paquets de mise √† jour envoy√©s √† l'adresse de multidiffusion.  Tout tourne autour du protocole RTP.  Le protocole RTP contr√¥le le processus de transmission des paquets EIGRP et fournit: <br><br><ul><li>  Livraison de colis garantie. </li><li>  Pr√©server l'ordre des paquets. </li></ul><br>  Ce sont les choses.  Qu'avons-nous?  Les routes ont √©chang√© des paquets de mise √† jour et il est maintenant temps de cr√©er une table de routage.  Chaque mise √† jour est trait√©e et substitue les donn√©es (bande passante, retard, etc.) dans une formule sp√©ciale, la m√©trique est calcul√©e: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc6/0ab/062/cc60ab0622cbe1abb96521c2520b96ee.jpg" alt="Mon image"><br><br>  Une telle formule a l'air g√©niale, mais la meilleure chose √† ce sujet est que vous ne la connaissez peut-√™tre pas, sachez simplement que quelque chose comme √ßa existe.  Et une autre astuce int√©ressante est que les coefficients EIGRP par d√©faut sont: <br><br><ul><li>  K1 = 1 </li><li>  K2 = 0 </li><li>  K3 = 1 </li><li>  K4 = 0 </li><li>  K5 = 0 </li></ul><br>  Et la formule se transforme simplement en m√©trique = bande passante + retard.  Par cons√©quent, il est si important que les coefficients sur tous les routeurs soient les m√™mes, afin qu'il n'y ait pas de probl√®mes dus aux diff√©rentes m√©triques sur les routeurs.  Parlons un peu plus en d√©tail des donn√©es dans Update. <br><br><ul><li>  Bande passante - la valeur minimale parmi les canaux de bande passante menant au r√©seau est s√©lectionn√©e et envoy√©e √† Update. </li><li>  Delay - R√©sume le d√©lai de tous les canaux menant √† ce r√©seau. </li><li>  Fiabilit√© - la pire mesure de fiabilit√© tout au long, bas√©e sur Keepalive </li><li>  Chargement - le pire indicateur de chargement de lien tout le long, bas√© sur le taux de paquets et la bande passante configur√©e sur l'interface </li><li>  MTU est le plus petit MTU de tous les temps.  Malgr√© le fait qu'il soit utilis√© dans Update, il ne participe pas au calcul de la m√©trique elle-m√™me. </li></ul><br>  Comme indiqu√© ci-dessus, la bande passante et le retard sont utilis√©s par d√©faut.  Les param√®tres restants sont rarement n√©cessaires en cas de besoin, mais √† l'aide d'eux, un ajustement plus fin de la m√©trique est possible.  Ainsi, dans le paquet de mise √† jour, le routeur passe la route et les donn√©es qui lui sont associ√©es, il ne transmet pas la m√©trique elle-m√™me.  Le routeur qui a re√ßu la mise √† jour calcule la m√©trique selon la formule et, selon les m√©triques, d√©cide de router ou non la route vers la table de routage.  Il est √©galement important de noter que le <b>routeur ne transmet que les routes qu'il utilise.</b>  Voyons comment construire une table de topologie. <br><br>  <b>Table de topologie</b> - Une liste des routes apprises de chaque voisin.  La table de topologie stocke √©galement la m√©trique que chaque voisin rapporte pour chaque route (AD) et la m√©trique que le routeur local utilisera pour atteindre la route via le voisin (FD). <br><br>  Il est n√©cessaire d'expliquer ce que sont AD et FD.  Nous allons configurer EIGRP sur tous nos routeurs.  De plus, pour √©viter les nombres complexes dans la m√©trique, nous changeons les coefficients de K1 = 1 K2 = 0 K3 = 1 K4 = 0 K5 = 0 √† K1 = 0 K2 = 0 K3 = 1 K4 = 0 K5 = 0. Ainsi, nous aurons 256 * Formule de d√©lai et nous obtenons √©galement un moyen facile de manipuler les m√©triques en modifiant le param√®tre de d√©lai sur les interfaces.  √âtant donn√© que sur les interfaces, d√©lai = 1 s, chaque lien, si vous utilisez la terminologie OSPF, co√ªte 256. Voyons quelle est la table de topologie sur vIOS1: <br><blockquote>  Topologie vIOS1 # show ip eigrp <br>  Table de topologie EIGRP-IPv4 pour AS (1) / ID (192.168.1.1) <br>  Codes: P - Passif, A - Actif, U - Mise √† jour, Q - Requ√™te, R - R√©ponse, <br>  r - Statut de r√©ponse, s - Statut de sia <br><br>  P 192.168.3.0/24, 1 successeurs, FD est 512 <br>  via 192.168.13.3 (512/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 successeurs, FD est 512 <br>  via 192.168.12.2 (512/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 successeurs, FD est 512 <br>  via 192.168.12.2 (512/256), GigabitEthernet0 / 3 <br>  P 192.168.35.0/24, 1 successeurs, FD est 512 <br>  via 192.168.13.3 (512/256), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 successeurs, FD est 512 <br>  via 192.168.14.4 (512/256), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 2 <br>  P 192.168.5.0/24, 3 successeurs, FD est 768 <br>  via 192.168.12.2 (768/512), GigabitEthernet0 / 3 <br>  via 192.168.13.3 (768/512), GigabitEthernet0 / 0 <br>  via 192.168.14.4 (768/512), GigabitEthernet0 / 2 </blockquote><br>  Si vous regardez, par exemple, le r√©seau - 192.168.5.0/24, vous remarquerez trois chemins via vIOS2, vIOS3 et vIOS4 avec les m√™mes m√©triques.  Pour 192.168.5.0/24 FD, pour tous les chemins, il est √©gal - 768 et AD - 512. Donnons une d√©finition d'un autre article et essayons d'expliquer: <br><br><ul><li>  <b>La distance</b> annonc√©e <b>(AD)</b> , √©galement connue sous le nom de distance rapport√©e (RD), est le co√ªt de la distance entre le routeur voisin qui annonce l'itin√©raire et le r√©seau de destination. </li><li>  <b>Distance r√©alisable (FD)</b> - le co√ªt de la distance entre le routeur local et le r√©seau de destination = AD, qui annonce le routeur voisin + le co√ªt de la distance entre le routeur local et le routeur voisin. </li></ul><br><blockquote>  P 192.168.5.0/24, 3 successeurs, FD est 768 via 192.168.14.4 (768/512), GigabitEthernet0 / 2 </blockquote><br>  Examinons cette ligne de la table de topologie sur vIOS1.  vIOS1 a d√©couvert la route √† partir de vIOS4 (192.168.14.4).  √âtant donn√© que vIOS1 s√©pare trois liens de 192.168.5.0/24, la m√©trique FD avec nos param√®tres sera 3 * 256 = 768.  Et AD est la m√©trique de l'itin√©raire par rapport au routeur (vIOS4) qui a annonc√© ce r√©seau.  AD est la m√©trique FD de cette route sur vIOS4.  Regardons la table de topologie sur vIOS4: <br><blockquote>  P 192.168.5.0/24, 1 successeurs, FD est 512 via 192.168.45.5 (512/256), GigabitEthernet0 / 1 </blockquote><br>  AD sur vIOS1 = FD sur vIOS4.  Confusion silencieuse, mais essayez d'expliquer la logique du travail.  Le routeur qui annonce la route envoie les param√®tres (Bande passante, D√©lai, etc.) de la route dans le message de mise √† jour sans prendre en compte le lien entre le routeur qui est annonc√©.  Autrement dit, vIOS4 ne prend en compte que les param√®tres de deux liaisons: vIOS4 Gi0 / 1 - vIOS5 Gi0 / 1 et vIOS5 Gi0 / 0 - VPC.  Apr√®s avoir re√ßu Update, vIOS1, en rempla√ßant les param√®tres obtenus dans la formule, calcule quoi?  C'est vrai - AD = 512.  Une fois qu'il prend les param√®tres de liaison d'o√π provient l'itin√©raire, vIOS1 Gi0 / 2 - vIOS4 Gi0 / 2 et le remplace √† nouveau dans la formule.  Compte, obtient le nombre 256 et l'additionne avec AD (512), nous obtenons FD-768. Ce sont les choses!  Mais pourquoi tout ce rituel? <br>  Et tout cela pour cr√©er une r√®gle sp√©ciale appel√©e la <b>condition Faisible</b> , qui est l'un des moyens de se prot√©ger contre la formation de boucles et la convergence rapide. <br>  D√©finissons les termes suivants: <br><br><ul><li>  Le successeur est un routeur adjacent avec un chemin sans boucle et le chemin le plus √©conomique vers le r√©seau de destination. </li><li>  Successeur possible - routeur de sauvegarde avec chemin sans boucles (le successeur r√©alisable AD doit √™tre inf√©rieur √† FD de la route du successeur actuel). </li><li>  √âtat r√©alisable - Le successeur r√©alisable AD doit √™tre inf√©rieur au FD de la route successeur actuelle. </li></ul><br>  Pour expliquer comment tout cela fonctionne et afficher les subtilit√©s, vous devez modifier certaines mesures.  Faisons ce qui suit, modifions le d√©lai afin que nous ayons de telles mesures de lien: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/678/c11/c2b/678c11c2b0f9b1dabb87a01ac62ff9e4.jpg" alt="Mon image"><br><br>  Cela se fait √† l'aide de la commande de d√©lai sur l'interface.  Maintenant, nous avons dit - delay = 1 et la m√©trique est 256. Voyons quelles m√©triques nous obtenons pour le r√©seau 192.168.5.0/24 sur le routeur vIOS1: <br><br><ul><li>  Via vIOS2 - FD = 2304, AD = 1280 </li><li>  Via vIOS4 - FD = 1024, AD = 768 </li><li>  Via vIOS3 - FD = 1536, AD = 768 </li></ul><br>  Comme nous voyons que le meilleur FD sera pour la route via vIOS4, il sera ajout√© √† la table de routage g√©n√©rale, cette route est appel√©e <b>Successeur</b> : <br><blockquote>  vIOS1 # show ip route eigrp <br>  Codes: L - local, C - connect√©, S - statique, R - RIP, M - mobile, B - BGP <br>  D - EIGRP, EX - EIGRP externe, O - OSPF, IA - OSPF inter zone <br>  N1 - OSPF NSSA externe type 1, N2 - OSPF NSSA externe type 2 <br>  E1 - OSPF externe type 1, E2 - OSPF externe type 2 <br>  i - IS-IS, su - R√©sum√© IS-IS, L1 - IS-IS niveau 1, L2 - IS-IS niveau 2 <br>  ia - inter-zone IS-IS, * - par d√©faut candidat, U - route statique par utilisateur <br>  o - ODR, P - itin√©raire statique t√©l√©charg√© p√©riodiquement, H - NHRP, l - LISP <br>  a - voie d'application <br>  + - route r√©pliqu√©e,% - remplacement du saut suivant, p - substitutions de PfR <br><br>  La passerelle de dernier recours n'est pas d√©finie <br><br>  D 192.168.2.0/24 [90/512] via 192.168.12.2, 06:01:31, GigabitEthernet0 / 3 <br>  D 192.168.3.0/24 [90/1024] via 192.168.13.3, 06:01:28, GigabitEthernet0 / 0 <br>  D 192.168.5.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.25.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.35.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.45.0/24 [90/768] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 </blockquote><br>  Qu'adviendra-t-il des deux autres routes - elles seront v√©rifi√©es pour la condition FS (condition faisable).  La route via vIOS3 passe cette condition AD (via vIOS3) = 768 &lt;1024 = FD (via vIOS1).  Par cons√©quent, cette route, bien qu'elle ne soit pas ajout√©e √† la table de routage g√©n√©rale, elle sera stock√©e dans les tables de topologie: <br><blockquote>  Topologie vIOS1 # show ip eigrp <br>  Table de topologie EIGRP-IPv4 pour AS (1) / ID (192.168.1.1) <br>  Codes: P - Passif, A - Actif, U - Mise √† jour, Q - Requ√™te, R - R√©ponse, <br>  r - Statut de r√©ponse, s - Statut de sia <br><br>  P 192.168.3.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.13.3 (1024/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.12.2 (1024/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 <br>  P 192.168.35.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1280/512), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 successeurs, FD est 768 <br>  via Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 successeurs, FD est 768 <br>  via 192.168.14.4 (768/512), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 successeurs, FD est 512 <br>  via Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 successeurs, FD est 768 <br>  via Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 2 <br>  <b>P 192.168.5.0/24, 1 successeurs, FD est 1024</b> <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  <b>via 192.168.13.3 (1536/768), GigabitEthernet0 / 0</b> </blockquote><br>  Il n'a pas la m√©trique de la meilleure route, c'est-√†-dire qu'il n'est pas un successeur, mais il joue le r√¥le d'une route de sauvegarde et, si le successeur est perdu, prendra imm√©diatement sa place.  Cela permet une convergence tr√®s rapide du protocole, mais plus √† ce sujet plus tard.  Cette route est appel√©e <b>successeur possible</b> .  Et qu'adviendra-t-il de la troisi√®me route?  Rien, il ne remplit pas la condition FC (1280&gt; 1024) et ne sera pas pris en compte pour le prot√©ger du bouclage.  Toutes les routes re√ßues via Update mais non test√©es par FC peuvent √™tre vues √† l'aide de la commande show ip eigrp topology all-links.  On ne sait pas pourquoi la condition FS prot√®ge contre la formation de boucles, essayons maintenant de l'expliquer.  Il est important de savoir que lors de l'√©tude du protocole EIGRP, il est essentiel de comprendre le principe de la condition FC et le but pour lequel il est utilis√©.  Consid√©rez une topologie l√©g√®rement modifi√©e (ajout d'un lien entre vIOS2 et vIOS4), et utilisez √©galement la m√©trique la plus primitive: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/734/050/472/7340504727cf56fa62300883800f363f.jpg" alt="Mon image"><br><br>  La route vers le r√©seau 192.168.5.0/24 sera la m√™me avec AD et FD: <br><br><ul><li>  vIOS4 - via vIOS5, AD = 5, FD = 10. </li><li>  vIOS1 - via vIOS4, AD = 10, FD = 11. </li><li>  vIOS3 - via vIOS1, AD = 11, FD = 12. </li></ul><br>  Mais vIOS4 recevra une mise √† jour de vIOS2, qui contiendra l'itin√©raire vers le r√©seau 192.168.5.0/24 via vIOS2 avec la m√©trique - AD = 12, FD = 15.  Il est clair qu'il ne peut pas √™tre un successeur, si tout √† coup cette route est choisie par le successeur faisable, alors si le successeur tombe sur vIOS4 et que le successeur choisit cette route, une boucle se produit.  Mais FC ne permettra pas de d√©finir cette route comme FS comme AD = 12&gt; 10 = FD.  La route vers vIOS2 contient le chemin d'acc√®s via vIOS4, et dans tous les cas, son AD inclut √©galement FD vIOS4.  Autrement dit, AD sur vIOS2 contient les liens suivants: <br><blockquote>  12 = AD sur vIOS2 = Gi0 / 3 vIOS3 + Gi0 / 2 vIOS4 + Gi0 / 1 vIOS5 + eth0 VPC5, o√π Gi0 / 1 vIOS5 + eth0 VPC5 = FD = 10 - il s'agit de FD vIOS4 et il est impossible pour AD &lt;FD d'√™tre moins. </blockquote><br>  Ainsi, la condition FC v√©rifie la route pour la pr√©sence d'elle-m√™me dans cette route.  Seuls les itin√©raires qui remplissent cette condition peuvent garantir qu'il n'y a pas de boucles.  Il peut y avoir des cas o√π la route ne cr√©e pas de boucle, mais en m√™me temps ne satisfait pas la condition FC, nous ne l'utiliserons pas, dans de tels cas, nous choisissons la stabilit√© du r√©seau.  Si vous approfondissez, la condition est assez simple et intuitive.  L'algorithme qui s√©lectionne les meilleures routes dans le protocole EIGRP est appel√© <b>DUAL</b> .  Consid√©rons maintenant le protocole EIGRP √† la question de la convergence dans la perte de la route principale.  Revenons √† notre ancienne grande topologie et imaginons que vIOS4 a disparu.  Selon la fa√ßon dont vIOS4 a disparu, le comportement sera l√©g√®rement diff√©rent, mais il diff√©rera lorsque le d√©clencheur se d√©clenchera.  Si, par exemple, nous d√©sactivons l'interface Gi 0/2 sur vIOS1, puis vIOS1 d√©tecte imm√©diatement la perte d'un voisin et commence √† agir, si le voisin dispara√Æt sans avertissement, alors Hold Timer fonctionnera apr√®s qu'il ne re√ßoive pas de paquets Hello pendant 15 secondes: <br><blockquote>  D 192.168.2.0/24 [90/512] via 192.168.12.2, 06:01:31, GigabitEthernet0 / 3 <br>  D 192.168.3.0/24 [90/1024] via 192.168.13.3, 06:01:28, GigabitEthernet0 / 0 <br>  D 192.168.5.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.25.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.35.0/24 [90/1024] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br>  D 192.168.45.0/24 [90/768] via 192.168.14.4, 06:01:28, GigabitEthernet0 / 2 <br><br>  P 192.168.3.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.13.3 (1024/256), GigabitEthernet0 / 0 <br>  P 192.168.2.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.12.2 (1024/256), GigabitEthernet0 / 3 <br>  P 192.168.25.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 <br>  P 192.168.35.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1280/512), GigabitEthernet0 / 0 <br>  P 192.168.12.0/24, 1 successeurs, FD est 768 <br>  via Connected, GigabitEthernet0 / 3 <br>  P 192.168.45.0/24, 1 successeurs, FD est 768 <br>  via 192.168.14.4 (768/512), GigabitEthernet0 / 2 <br>  P 192.168.0.0/24, 1 successeurs, FD est 512 <br>  via Connected, GigabitEthernet0 / 1 <br>  P 192.168.13.0/24, 1 successeurs, FD est 768 <br>  via Connected, GigabitEthernet0 / 0 <br>  P 192.168.14.0/24, 1 successeurs, FD est 256 <br>  via Connected, GigabitEthernet0 / 2 <br>  P 192.168.5.0/24, 1 successeurs, FD est 1024 <br>  via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 <br>  via 192.168.13.3 (1536/768), GigabitEthernet0 / 0 </blockquote><br>  J'ai apport√© √† nouveau la table de routage et de topologie pour plus de commodit√©, afin que pour comprendre comment le routeur agira sur chaque route, vous devez savoir dans quel √©tat il se trouvait auparavant.  Par exemple, la route dont nous avons discut√© pr√©c√©demment, la route 192.168.5.0/24 sera perdue, mais elle avait FS dans la table de topologie et donc, d√®s que la route principale sera perdue, elle prendra sa place dans la table de routage.  Une question int√©ressante est de savoir ce qui arrivera aux routes sans FS.  Mais un peu de mat√©riel: <br><br>  Les entr√©es dans la table de topologie peuvent √™tre dans deux √©tats: actif et passif.  La route est dans un √©tat passif lorsque la route est stable et que la recherche de la meilleure route ne se produit pas.  En √©tat actif - si vous recherchez le meilleur itin√©raire.  Une recherche d'itin√©raire est effectu√©e lorsqu'il n'y a pas de successeur possible pour le r√©seau de destination.  Le routeur, √† la recherche d'un meilleur itin√©raire, envoie une requ√™te (envoie un paquet de requ√™te) √† chaque routeur voisin.  Si le voisin a une route vers le r√©seau de destination, il r√©pond (envoie un paquet de r√©ponse), s'il n'y a pas de route, le voisin envoie une requ√™te √† ses voisins.  Le routeur compare tous les FD pour atteindre un r√©seau sp√©cifique, s√©lectionne l'itin√©raire avec le plus petit FD et le place dans la table de routage.  La table de topologie peut stocker 6 itin√©raires vers le r√©seau du destinataire (principal et de secours). <br><br>  Les routes qui ont √©t√© perdues et qui n'avaient pas FS passeront √† Active et vIOS1 commencera √† poser des questions sur leurs voisins restants.  Cela se fait √† l'aide de messages de requ√™te.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vIOS1 enverra des messages de requ√™te aux routeurs vIOS2 et vIOS3, o√π il indiquera clairement les routes dont il a besoin - dans notre cas, ces routes seront 192.168.14.0/24, 192.168.45.0/24. Avec ce message, vIOS1 informe √©galement les routeurs que les itin√©raires via vIOS1 vers ces r√©seaux sont inutilisables. Cela se fait en sp√©cifiant le param√®tre Delay: Infifnity dans la m√©trique de cette route, c'est-√†-dire que la m√©trique est infiniment grande. D√®s que les routeurs re√ßoivent de tels messages, ils suppriment ces routes via vIOS1. Cette technologie est appel√©e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poison Reverse.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Poison Reverse est √©galement utilis√© pour les messages de mise √† jour, j'en parlerai un peu plus tard. Apr√®s avoir re√ßu une requ√™te avec une demande de routes 192.168.14.0/24, 192.168.45.0/24, vIOS2 et vIOS3 verront s'ils ont ces routes, qu'ils utilisent, le cas √©ch√©ant, ils enverront imm√©diatement une r√©ponse avec de nouvelles m√©triques pour ces routes. vIOS2 et vIOS3, comme nous le savons, n'ont pas perdu leurs itin√©raires, ils enverront donc imm√©diatement R√©pondre. Si le routeur qui est √©galement demand√© n'a pas cette route, il transmettra la requ√™te √† ses voisins et ainsi de suite. vIOS1 attendra la r√©ponse de vIOS2, vIOS3, puis Active Timer entre en sc√®ne, qui d√©marre d√®s que la requ√™te est envoy√©e: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Timer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- l'intervalle de temps pendant lequel l'itin√©raire peut rester √† l'√©tat actif. Si le temporisateur expire avant que toutes les r√©ponses des voisins ne soient re√ßues (r√©ponse), le routeur met la route dans un √©tat bloqu√©-actif. De plus, les relations du quartier sont rompues avec les voisins de qui aucune r√©ponse n'a √©t√© re√ßue. Par d√©faut, cette minuterie est de 3 minutes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autrement dit, si la r√©ponse n'est pas re√ßue dans les 3 minutes, malgr√© les paquets Hello, le quartier sera rompu et c'est tr√®s mauvais. Malgr√© le fait que 3 minutes soit comme une √©ternit√© pour de tels protocoles, de telles situations sont possibles avec de grandes topologies. Pour se prot√©ger contre la rupture erron√©e de la relation de voisinage, des messages sp√©ciaux ont √©t√© invent√©s - SIA-Query et SIA-Reply.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour am√©liorer la r√©ponse du routeur √† l'√©tat de la route active, deux types de messages sont en outre introduits: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIA-Query - Exp√©di√© apr√®s 1,5 minute (par d√©faut) afin de v√©rifier l'√©tat d'un routeur directement connect√©. </font><font style="vertical-align: inherit;">Afin que, si la route qui se trouve derri√®re le voisin (alors que la connexion avec le voisin est normale) soit perdue, les relations de voisinage avec le routeur directement connect√© ne sont pas r√©initialis√©es. </font><font style="vertical-align: inherit;">Ne n√©cessite pas de confirmation de r√©ception. </font><font style="vertical-align: inherit;">Apr√®s avoir envoy√© trois messages et ne pas avoir re√ßu de r√©ponse, le voisin est consid√©r√© comme arr√™t√© et l'itin√©raire est supprim√© de la table de topologie.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIA-Reply - Envoy√© en r√©ponse √† SIA-Query. </font><font style="vertical-align: inherit;">Ne n√©cessite pas de confirmation de r√©ception.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s 1,5 minute, si la r√©ponse √† une requ√™te n'est pas re√ßue, alors la requ√™te SIA est envoy√©e, ce qui ne n√©cessite pas de nouvelle route, mais doit uniquement envoyer la r√©ponse SIA, pour s'assurer que le voisin est en ordre, ne peut tout simplement pas trouver la bonne route </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je pense √† la fa√ßon dont le routeur r√©agit √† la perte de la route dans le cas o√π il y a FS ou non, nous en avons assez dit. Il suffit de modifier les √©l√©ments suivants. Nous n'avons pas donn√© correctement la d√©finition de FD, la m√©trique que nous calculons selon la formule lorsque nous recevons un itin√©raire pour la premi√®re fois ou lorsque l'√©tat de l'itin√©raire change encore, il serait correct d'appeler CD - Distance calcul√©e.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FD est le meilleur indicateur pour un itin√©raire donn√© qui ait jamais √©t√© obtenu, et c'est lui qui participe au contr√¥le FC. </font><font style="vertical-align: inherit;">Le plus souvent, FD = CD est le meilleur itin√©raire, mais voyons comment FD a chang√© apr√®s l'effondrement du quartier avec vIOS4:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P 192.168.5.0/24, 1 successeurs, FD est </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1024</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> via 192.168.13.3 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /768), GigabitEthernet0 / 0</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous n'avons plus de route avec CD = 1024, la meilleure route via vIOS3 est CD = 1536, mais comme vous pouvez le voir, FD = 1024, qui a √©t√© corrig√© lorsqu'il y avait une route via vIOS4. </font><font style="vertical-align: inherit;">FD ne sera mis √† jour que lorsque cette route passera √† l'√©tat Actif. </font><font style="vertical-align: inherit;">Tant que l'√©tat ne passera pas de passif √† actif, FD ne changera pas non plus. </font><font style="vertical-align: inherit;">Les mises √† jour r√©guli√®res ne s'y appliquent pas. </font><font style="vertical-align: inherit;">Encore une remarque. </font><font style="vertical-align: inherit;">Faisons cette exp√©rience: renvoyons le voisinage avec vIOS4, CD via vIOS3 = 1536 et via vIOS2 = 2048. Augmentez le d√©lai du canal entre vIOS1 et vIOS3 afin qu'il devienne plus grand que le CD vIOS2:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P 192.168.5.0/24, 1 successeurs, FD est 1024 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">via 192.168.14.4 (1024/768), GigabitEthernet0 / 2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">via 192.168.13.3 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2304</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /768), GigabitEthernet0 / 0</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme nous voyons le CD via vIOS3 = 2304, mais il est rest√© FS puisque AD n'a pas chang√© et la condition FC a √©t√© remplie, comme auparavant. </font><font style="vertical-align: inherit;">Nous nous posons une question: que se passe-t-il lorsqu'un itin√©raire est perdu via vIOS2? </font><font style="vertical-align: inherit;">La r√©ponse attendue et logique, comme on nous l'a appris, est FS √† la place, mais non! </font><font style="vertical-align: inherit;">Puisqu'il existe toujours une route via vIOS2 avec CD = 2048 &lt;2304, la route passera √† l'√©tat Actif et recalculera la m√©trique pour elle et s√©lectionnera la meilleure route malgr√© le fait qu'elle avait une route de sauvegarde. </font><font style="vertical-align: inherit;">Nous regardons la table de topologie et obtenons:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P 192.168.5.0/24, 1 successeurs, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FD est 2048</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> via 192.168.12.2 (2048/1280), GigabitEthernet0 / 3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">via 192.168.13.3 (2304/768), GigabitEthernet0 / 0</font></font><br></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La route via vIOS2 sera utilis√©e, et comme l'a not√© FD, elle a √©galement chang√© en raison de la transition de la route √† l'√©tat Actif. </font><font style="vertical-align: inherit;">Et l'itin√©raire via vIOS3 partage √† nouveau le sort de la pi√®ce de rechange.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fractionner les r√®gles inverses d'horizon et de poison dans EIGRP </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme dans RIP, EIGRP utilise la r√®gle Split Horizon - si une route est accessible via une interface sp√©cifique, cette route n'est pas incluse dans la mise √† jour envoy√©e via cette interface. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple, si vIOS4 re√ßoit un itin√©raire vers le r√©seau 192.168.0.0/24 de vIOS1, il n'enverra pas cet itin√©raire √† Update via l'interface √† laquelle vIOS1 est connect√©. Pour √™tre plus pr√©cis, imaginez que vIOS1 a commenc√© √† parler du r√©seau 192.168.0.0/24. J'ai envoy√© Update √† vIOS4, vIOS4 le recevra et, en r√®gle g√©n√©rale, Split Horizon ne devrait pas envoyer sa mise √† jour avec cette route √† vIOS1, mais en r√©alit√©, il l'enverra avec une m√©trique infinie. Comme si vIOS4 disait vIOS1 - "N'osez pas utiliser la route vers le r√©seau 192.168.0.0/24 par moi, j'ai obtenu cette route de vous et si vous l'utilisez, il y aura une boucle."</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poison Reverse - indiquant un itin√©raire inaccessible √† l'aide d'une m√©trique lorsqu'il est perdu. </font><font style="vertical-align: inherit;">Dans EIGRP, cela se fait √† l'aide du param√®tre Delay. </font><font style="vertical-align: inherit;">Nous avons indiqu√© ci-dessus comment cette technologie est utilis√©e lorsque vIOS1 a perdu le contact avec vIOS4. </font><font style="vertical-align: inherit;">D'apr√®s ce qui pr√©c√®de sur Split Horizon, nous pouvons conclure que la technologie Poison Reverse est utilis√©e non seulement dans les messages de requ√™te, mais aussi dans la mise √† jour. </font><font style="vertical-align: inherit;">En outre, Poison Reverse peut violer la r√®gle Split Horizon et envoyer Update avec des m√©triques infinies depuis l'interface √† partir de laquelle il a re√ßu cette mise √† jour. </font><font style="vertical-align: inherit;">Ces deux r√®gles, ainsi que la clause FC, assurent la protection du protocole EIGRP contre les boucles.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Routeurs stub </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme optimisation, un r√¥le sp√©cial pour les routeurs a √©t√© introduit dans le protocole - Stub. </font><font style="vertical-align: inherit;">Quelque chose comme la zone Stub dans OSPF, mais voici un principe de fonctionnement l√©g√®rement diff√©rent. </font><font style="vertical-align: inherit;">Lors de la configuration du routeur en mode stub, il signale imm√©diatement dans les paquets Hello √† son voisin son √©tat de stub et, selon le mode de stub, peut envoyer certains types de routes:</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vIOS5 # eigrp stub [connect√© | </font><font style="vertical-align: inherit;">carte des fuites | </font><font style="vertical-align: inherit;">recevoir uniquement | </font><font style="vertical-align: inherit;">redistribu√© | </font><font style="vertical-align: inherit;">statique | </font><font style="vertical-align: inherit;">r√©sum√©]</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Options de la commande stub Eigrp: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sans options (par d√©faut) - connect√© et r√©sum√©; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> connected - Permet au routeur de raccord d'envoyer des itin√©raires connect√©s, mais uniquement pour les interfaces dont les adresses se trouvent sur les r√©seaux sp√©cifi√©s par la commande network; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> leak-map - Autorise les pr√©fixes dynamiques bas√©s sur la fuite-map; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recevoir uniquement - Emp√™che le routeur de raccord d'envoyer des itin√©raires; </font></font></li><li> redistributed ‚Äî  stub   redistributed ; </li><li> static ‚Äî  stub   static ,  ,      ; </li><li> summary ‚Äî  stub     (   ). </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais la principale caract√©ristique de ce param√®tre est que si le routeur sait que son voisin est dans le r√¥le Stub, il ne lui enverra pas de requ√™te pour les routes qui sont devenues actives. </font><font style="vertical-align: inherit;">Par exemple, si nous configurons vIOS5 en tant que Stub, alors vIOS2-4 le d√©couvrira et si les routes sont perdues, elles n'empoisonneront pas Query. </font><font style="vertical-align: inherit;">Compte tenu des probl√®mes pouvant survenir en l'absence de r√©ponse, il serait int√©ressant d'envoyer la requ√™te uniquement l√† o√π cela a du sens. </font><font style="vertical-align: inherit;">Ceci est important dans les grandes topologies o√π la convergence peut √™tre un processus complexe. </font><font style="vertical-align: inherit;">Par cons√©quent, s'il existe un routeur final et que seuls les r√©seaux d'utilisateurs y sont connect√©s (relativement parlant, il n'a qu'un seul voisin), il est pr√©f√©rable de penser √† le configurer en tant que Stub.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quelques mots sur les minuteries </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous avons parl√© de certains d'entre eux, si vous regardez la sortie de la commande show ip eigrp voisins, nous verrons ce qui suit: </font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vIOS1 # show ip eigrp voisins </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EIGRP-IPv4 voisins pour AS (1) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H Address Interface Hold Uptime SRTT RTO Q Seq </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sec) (ms) Cnt Num </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2192.168.14.4 Gi0 / 2 11 00:48:43 23138 0168 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 192.168.12.2 Gi0 / 3 12 02:31:12 6 100 0 258 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 192.168.13.3 Gi0 / 0 10 2d13h 7 100 0 291 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vIOS1 #</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici des minuteries qui n√©cessitent une explication. </font><font style="vertical-align: inherit;">Si, en r√©ponse √† l'envoi de tout paquet de multidiffusion qui n√©cessite une confirmation de r√©ception, un accus√© de r√©ception (ACK) n'a pas √©t√© envoy√©, alors le paquet de monodiffusion sera transmis au voisin qui ne r√©pond pas. </font><font style="vertical-align: inherit;">Si la confirmation n'a pas √©t√© re√ßue m√™me apr√®s l'envoi de 16 paquets de monodiffusion, le voisin est consid√©r√© comme inactif.</font></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temps aller-retour fluide (SRTT)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le temps entre l'envoi d'un paquet √† un voisin et la r√©ception d'une confirmation de sa part. </font><font style="vertical-align: inherit;">Mesur√© en millisecondes. </font><font style="vertical-align: inherit;">La formule de calcul est exclusive.</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multicast Flow Timer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - la valeur maximale de l'intervalle en secondes pendant lequel le routeur attendra le paquet ACK apr√®s avoir envoy√© le paquet EIGRP √† l'adresse multicast avant de passer √† l'envoi unicast. </font><font style="vertical-align: inherit;">Il est calcul√© sur la base de SRTT, la formule de calcul elle-m√™me est propri√©taire.</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retransmission timeout (RTO) - l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intervalle entre l'envoi de paquets unicast. </font><font style="vertical-align: inherit;">Il est calcul√© sur la base de SRTT, la formule de calcul elle-m√™me est propri√©taire.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur ce, je pense que pour terminer l'article. </font><font style="vertical-align: inherit;">Voici un lien utile:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cisconinja.wordpress.com/2009/09/18/eigrp-sia-query-and-sia-reply </font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xgu.ru/wiki/EIGRP</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.youtube.com/watch?v=FYUK7blhCZk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un webinaire sur l'EIGRP pendant environ 4 heures et demie. </font><font style="vertical-align: inherit;">Obligatoire pour voir)</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.cisco.com/c/en/us/support/docs/ip/enhanced-interior-gateway-routing-protocol-eigrp/16406-eigrp-toc.html#anc9</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420667/">https://habr.com/ru/post/fr420667/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420657/index.html">Analyse: sur l'argent duquel Elon Musk pourra retirer Tesla de la bourse</a></li>
<li><a href="../fr420659/index.html">Campagne USB de HRF (Human Rights Foundation) ¬´Flash Drives for Freedom¬ª</a></li>
<li><a href="../fr420661/index.html">Infrastructure cloud continue</a></li>
<li><a href="../fr420663/index.html">Des mesures simples et un moyen de gagner du temps lors de la recherche de probl√®mes dans l'infrastructure</a></li>
<li><a href="../fr420665/index.html">Cr√©ation d'une application sur .NET Core et Kubernetes: notre exp√©rience</a></li>
<li><a href="../fr420669/index.html">Aper√ßu du march√© de l'automatisation d'entreprise: solutions pour les soci√©t√©s de construction et de gestion de logements et de services publics</a></li>
<li><a href="../fr420671/index.html">[Ekaterinbourg, annonce] UralJS # 9 - trois rapports sur les microservices, les tests et la journalisation des erreurs √† l'avant</a></li>
<li><a href="../fr420673/index.html">Docker pour Symfony 4 - du LAN √† la production</a></li>
<li><a href="../fr420675/index.html">Les SOC sont des personnes. ¬´Bonjour, nous recherchons des talents¬ª ou d'o√π viennent les analystes du centre de surveillance et de r√©ponse aux cyberattaques</a></li>
<li><a href="../fr420677/index.html">L'histoire de la fa√ßon dont Epson a fourni √† la plan√®te 30 millions d '"usines"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>