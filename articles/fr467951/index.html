<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😒 🧜🏽 🎉 Habrastatistique: analyser les commentaires des lecteurs. Partie 2, réponses aux questions 🗄️ 👩🏿‍🤝‍👩🏾 👨‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Habr. 

 Dans la partie précédente , les messages des utilisateurs de ce site ont été analysés, ce qui a provoqué une discussion assez animée su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Habrastatistique: analyser les commentaires des lecteurs. Partie 2, réponses aux questions</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467951/">  Salut Habr. <br><br>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie précédente</a> , les messages des utilisateurs de ce site ont été analysés, ce qui a provoqué une discussion assez animée sur le thème des différents paramètres (nombre de messages, note, «karma», etc.).  Ces questions se sont accumulées suffisamment pour faire la deuxième partie. <br><br><img src="https://habrastorage.org/webt/hq/fj/bl/hqfjblagkwg779owzkubnqbvpsu.png"><br><br>  Ceux qui sont intéressés, quelle est la durée de la plus grande discussion dans les commentaires pour cette année, quel peut être le «karma» maximum et minimum pour les utilisateurs, et d'autres statistiques, s'il vous plaît, sous cat. <br><a name="habracut"></a><br><h2>  Collecte de données </h2><br>  Pour commencer, j'ai dû compléter l'analyseur afin qu'il puisse collecter plus de données.  Les informations sur le classement des messages et la position des messages dans le fil de discussion sont déjà en HTML, mais pour obtenir le «karma» de l'utilisateur, une demande supplémentaire a dû être faite.  Bien sûr, les valeurs ont été mises en cache afin que le même utilisateur ne demande pas de données plusieurs fois. <br><br>  L'ensemble de données mis à jour ressemble maintenant à ceci (les surnoms d'utilisateurs ont été supprimés): <br><br> <code>https://habr.com/ru/post/322900/,comment_19707920,comment_19706258,UserXXXX,karma:112.2,answers:1,2019-02-04 20:26:00,rating:1,up:1,down:0,     ? <br> https://habr.com/ru/company/mailru/blog/351212/,comment_19794710,comment_19794310,UserXXXX,karma:-10.0,answers:1,2019-02-23 18:16:00,rating:3,up:5,down:-2,       <br> ... <br></code> <br>  À partir de champs supplémentaires, le champ des réponses (nombre de réponses), le karma de l'utilisateur, ainsi que les notes positives et négatives ont été ajoutés. <br><br>  La fonction d'obtenir "karma" par le surnom de l'utilisateur, par exemple, ressemble à ceci: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_karma</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(user: str)</span></span></span><span class="hljs-function">:</span></span> data_html = get_as_str(<span class="hljs-string"><span class="hljs-string">"https://habr.com/ru/users/%s/"</span></span> % user) karma = data_html.find_between(<span class="hljs-string"><span class="hljs-string">'info/help/karma/'</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;/a&gt;'</span></span>).find_between(<span class="hljs-string"><span class="hljs-string">'stacked-counter__value'</span></span>, <span class="hljs-string"><span class="hljs-string">'/div&gt;'</span></span>).find_between(<span class="hljs-string"><span class="hljs-string">'&gt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;'</span></span>).replace(<span class="hljs-string"><span class="hljs-string">","</span></span>, <span class="hljs-string"><span class="hljs-string">"."</span></span>).replace(<span class="hljs-string"><span class="hljs-string">'–'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> float(karma) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(karma) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span></code> </pre><br>  Comme vous pouvez le voir, tout est assez simple, pas de science fusée.  Nous devons également remercier les programmeurs Habr pour le code HTML clair et pratique pour l'analyse. <br><br>  La taille du fichier CSV résultant pour ce 2019 était de 334 Mo.  Vous pouvez démarrer l'analyse.  Avant de commencer, je vous rappelle que toutes les données publiées sont ouvertes et publiques, elles sont également indexées par les moteurs de recherche.  Je n'ai pas d'informations privilégiées, tout est extrait des pages de ce site. <br><br><h2>  Karma </h2><br>  Comme la partie précédente l'a montré, les «questions karmiques» sont les plus intéressantes, alors commençons par cela.  Comme vous le savez, le «karma» est un attribut de tout utilisateur actif de ce site, les participants peuvent choisir de l'augmenter ou de le diminuer.  Franchement, je ne me suis jamais posé de questions sur la façon dont cela fonctionne vraiment et sur ses limites. Je vais donc simplement donner les données sans commentaires particuliers. <br><br>  Au total, sur le site au moment de la collecte de la note, 25 <b>109 utilisateurs</b> sont ceux qui ont laissé au moins une fois au moins un commentaire.  De ce nombre, 9973 utilisateurs (39%) n'ont <b>aucun karma</b> .  12346 utilisateurs (49%) ont <b>un karma positif</b> , dont 5384 utilisateurs (21%) ont un <b>karma &lt;= 4</b> et <b>&gt; 40 = karma</b> (ce niveau vous permet de participer au "programme de récompense" et de recevoir le paiement d'articles) compte 1 522 utilisateurs (6 %).  2790 utilisateurs (11%) ont <b>un karma négatif</b> . <br><br>  Graphiquement, la partie principale de la distribution ressemble à ceci: <br><br><img src="https://habrastorage.org/webt/e3/fe/fb/e3fefbovf2vtl5k5ty54br957pi.png"><br><br>  Vertical - le nombre d'utilisateurs avec ce karma.  Le graphique est rogné en haut, comme  utilisateurs avec zéro karma maximum (9973 contre 2570 avec «karma» 1).  Il n'y a pas si peu d'utilisateurs «soucieux», mais le programme est quand même déplacé vers un plus, et cela plaît.  À quel niveau le karma peut-il être haut et bas? <br><br>  <b>Les 10 meilleurs classements de</b> karma sont occupés par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Zelenyikot</a> (+1509,2), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Milfgard</a> (+1471,0), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">m1rko</a> (+1039,5), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">PatientZero</a> (+986,0), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Boomburum</a> (+881,9), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">ValdikSS</a> (+873,5), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">alizar</a> (+837,5), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">tangro</a> (+802,5), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">lozga</a> (+764,7) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">DIHALT</a> (696,1).  Je pense qu'ils peuvent être félicités - bon travail, mecs :) Si j'ai raté quelqu'un - écrivez dans des messages privés, je l'ajouterai manuellement. <br><br>  Au fait, il s'est avéré qu'il y avait une erreur dans ma fonction de calcul de karmareiting - elle ne traite pas correctement les valeurs supérieures à 1000 (Habr ajoute un espace au nombre, je ne le savais pas), mais la situation est rare, et je ne l'ai pas remarqué tout de suite. <br><br>  <b>Ils prennent Antitope-10</b> par karma ... non, je ne vais probablement pas donner leurs surnoms afin de ne pas faire de ces utilisateurs une "publicité", qui sont intéressés, peuvent insérer des données d'une capture d'écran sous un spoiler.  Bien sûr, le karma négatif sur le site indique seulement qu'une personne exprime une opinion impopulaire sur ce site, et ne dit rien sur ses qualités personnelles, de sorte que ceux qui tombent dans l '«antitope» sont priés de ne pas être offensés. <br><br><div class="spoiler">  <b class="spoiler_title">Antitope 10 sur le karma</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/_a/-e/8h/_a-e8haquollrt5yldpkuaqnimu.png"><br></div></div><br><h2>  Des messages </h2><br>  Dans les messages, vous pouvez également trouver beaucoup de choses intéressantes. <br><br>  Les 5 premiers messages sont respectivement de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">26</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">17</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">16</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">15</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">14</a> Ko. <br><br>  Il est intéressant de regarder la distribution sous forme graphique: <br><br><img src="https://habrastorage.org/webt/ac/5w/pm/ac5wpmt5zgq6xgm-jne0txd6boo.png"><br><br>  Comme vous pouvez le voir, le pic tombe sur les messages d'environ 100 caractères. <br><br><h3>  Évaluation </h3><br>  Les messages les <b>mieux notés</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">+218</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">+144</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">+141</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">+133</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">+124</a> . <br><br>  Les messages les plus <b>négativement évalués</b> sont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-248</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-170</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-163</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-131</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-114</a> . <br><br>  Il est intéressant de noter que la distribution du nombre de messages en fonction de la notation est approximativement similaire à la distribution du «karma» - il y a des évaluations à la fois positives et négatives, mais il y en a plus «positives».  Ce qui, encore une fois, ne peut que se réjouir. <br><br><h3>  Discussions </h3><br>  La prochaine question intéressante était de trouver le fil le plus long parmi les messages.  Il s'est avéré assez simple de le faire - chaque message en HTML a un identifiant unique, il y a aussi un paramètre data-parent_id, le reste, comme on dit, est une question technique. <br><br>  Ainsi, le plus long <s>lambeau de</s> discussion en 2019: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">619 réponses</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">618 réponses</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">614 réponses</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">556 réponses</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">553 réponses</a> .  Fait intéressant, 4 messages sur 5 à l'origine de ces discussions ont été écrits par des utilisateurs avec un karma inférieur à -20. <br><br>  Regroupez les commentaires en fonction du nombre de réponses: <br><br><img src="https://habrastorage.org/webt/k7/59/3l/k7593lgnyrgqfnxlrlufn_fjiiq.png"><br><br>  Vertical - le nombre de postes pour cette année.  La plupart des commentaires (41% ou 183 000) ont été laissés sans réponse du tout, 75 000 commentaires ont 1 réponse, une distribution supplémentaire peut être vue dans l'image. <br><br><h2>  Conclusion </h2><br>  À ce sujet, je terminerai le sujet des «habrastatistiques» jusqu'en janvier - à la fin de l'année, la note finale des meilleurs articles de 2019 sera publiée, eh bien, il peut y avoir d'autres modèles intéressants. <br><br>  J'espère que c'était intéressant.  Si j'ai oublié quelqu'un - écrivez, c'est correct. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467951/">https://habr.com/ru/post/fr467951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467935/index.html">Examen de l'enregistreur Edic Weeny A110 avec la fonction de la "boîte noire"</a></li>
<li><a href="../fr467937/index.html">Nouveau plugin de boutique en ligne WordPress</a></li>
<li><a href="../fr467941/index.html">Problème de montant</a></li>
<li><a href="../fr467943/index.html">Principes fondamentaux de la sécurité des informations orientée risque et métier: concepts de base et paradigme</a></li>
<li><a href="../fr467949/index.html">Pourquoi l'implémentation par défaut des interfaces est-elle utile?</a></li>
<li><a href="../fr467953/index.html">Test de serveurs virtuels bon marché</a></li>
<li><a href="../fr467959/index.html">Cosmologie et fluctuations quantiques dans le navigateur</a></li>
<li><a href="../fr467961/index.html">Problèmes et nuances lors du développement de SmartTV à l'aide de React.js</a></li>
<li><a href="../fr467965/index.html">Vivaldi 2.8 - Menu, s'il vous plaît</a></li>
<li><a href="../fr467967/index.html">Immersion dans les réseaux de neurones convolutifs: transfert d'apprentissage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>