<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥« ğŸ‘ˆ ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ½ Bekerja dengan API Jira dengan Python ğŸ‘ğŸ¾ ğŸ›¥ï¸ ğŸ¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya. Ada pemikiran untuk mengotomatiskan pengunduhan laporan dari Jira. Karena Python adalah alat favorit, pilihan jatuh pada modul dari JIr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bekerja dengan API Jira dengan Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442078/"> Halo semuanya.  Ada pemikiran untuk mengotomatiskan pengunduhan laporan dari Jira.  Karena Python adalah alat favorit, pilihan jatuh pada modul dari JIra yang memungkinkan Anda untuk bekerja dengan API mereka.  Kepada siapa itu menarik saya bertanya pada kat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c2d/a37/f46/c2da37f469f8ecd69f7b7597d9e90cc6.jpg" alt="gambar"><br><a name="habracut"></a><br>  Atlassian memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi tentang penggunaan modul mereka.  Modul itu sendiri disebut "jira".  Secara tradisi, kita akan menginstal modul dengan perintah: <br><br><pre><code class="python hljs">pip install jira</code> </pre> <br>  Kemudian kami mengimpor modul secara langsung dalam kode: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> jira <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> JIRA</code> </pre> <br>  Untuk terhubung ke server itu sendiri, Anda perlu membuat klien dengan mengirimkan parameter yang diperlukan ke dalamnya: <br><br><pre> <code class="python hljs">jira_options = {<span class="hljs-string"><span class="hljs-string">'server'</span></span>: <span class="hljs-string"><span class="hljs-string">'https://project-name.atlassian.net'</span></span>} jira = JIRA(options=jira_options, basic_auth=(login, api_key))</code> </pre> <br>  Untuk mengautentikasi dengan kata sandi, Anda dapat mentransfer kata sandi alih-alih kunci api.  Setelah otorisasi diteruskan, kami memiliki klien api aktif yang dapat Anda akses. <br><br>  Kemungkinannya tentu tidak terbatas, tetapi cukup luas.  Saya perlu menarik tugas untuk minggu tertentu dan menyusun laporan tentang jam yang dihabiskan di Excell.  Anda bisa mendapatkan tugas secara langsung oleh proyek itu sendiri, dengan nomor tugas, atau dengan permintaan JQL.  Alat pencarian sangat fleksibel dan sederhana.  Semua informasi yang dikembalikan oleh klien api datang dalam string, sehingga langkah-langkah tambahan diperlukan untuk bekerja dengannya. <br>  Kami menyusun permintaan jql dan mengambil tugas di dalamnya: <br><br><pre> <code class="python hljs">jql = <span class="hljs-string"><span class="hljs-string">'project = '</span></span> + project_key + <span class="hljs-string"><span class="hljs-string">' AND worklogDate &gt;= '</span></span> + work_date issues_list = jira.search_issues(jql)</code> </pre> <br>  Sayangnya, saya masih tidak mengerti mengapa dalam tugas-tugas yang diperoleh melalui permintaan seperti itu tidak ada properti worklog.  Setelah beberapa upaya untuk memahami apa yang salah, saya dengan sopan meminta jira untuk tugas dengan nomor: <br><br><pre> <code class="python hljs">issue = jira.issue(issue_key)</code> </pre> <br>  Dalam tugas yang dikembalikan oleh metode ini, bidang worklog dengan daftar worklog adalah.  Akibatnya, saya mulai mengambil tugas dengan permintaan jql, mengeluarkan nomor tugas dan setelah itu mengeluarkan informasi yang saya butuhkan: <br><br><pre> <code class="python hljs">worklogs = issue.fields.worklog.worklogs</code> </pre> <br>  Baris serupa memungkinkan Anda untuk menarik semua catatan waktu dari tugas tertentu.  Setiap entri memiliki informasi waktu dalam detik dan dalam representasi tekstual (1 jam, 3d dll). <br>  Maka semuanya sederhana, ambil discard yang tidak sesuai dengan periode, dalam kasus saya jumlah minggu tidak cocok: <br><br><pre> <code class="python hljs">worklog_date_str = re.search(<span class="hljs-string"><span class="hljs-string">r'(\d{4}-\d{2}-\d{2})'</span></span>, worklog.started) worklog_date = datetime.strptime(worklog_date_str.group(<span class="hljs-number"><span class="hljs-number">0</span></span>), <span class="hljs-string"><span class="hljs-string">'%Y-%m-%d'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> worklog_date.isocalendar()[<span class="hljs-number"><span class="hljs-number">1</span></span>] == weak_number:</code> </pre> <br>  Karena tanggal dikembalikan dalam string, saya menggunakan ekspresi reguler sederhana untuk mengambilnya, dan pada baris berikutnya saya memberikan tipe yang Anda butuhkan.  Ekspresi worklog_date.isocalendar () [1] memungkinkan Anda mengetahui jumlah minggu, yang akan dibandingkan dengan apa yang perlu diambil.  Jika cocok, injak dan tulis sisa data. <br><br>  Secara umum, modul di atas memungkinkan Anda untuk menyelesaikan berbagai tugas yang cukup luas, Anda hanya perlu waktu dan keinginan. <br><br>  UPD <br><br>  Anda tidak dapat meminta tugas lagi, cukup rentangkan bidang yang diperlukan <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/pycontribs/jira/blob/master/jira/client.py#L2371</a> <br>  terima kasih <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">HSerg</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id442078/">https://habr.com/ru/post/id442078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id442064/index.html">Degradasi perangkat lunak</a></li>
<li><a href="../id442066/index.html">Beberapa cara untuk memalsukan PDF dengan tanda tangan digital</a></li>
<li><a href="../id442070/index.html">Perusahaan akhirnya khawatir tentang pengembangan perangkat IoT dan keamanannya</a></li>
<li><a href="../id442072/index.html">RxJava2 + Retrofit 2. Kami memodifikasi adaptor untuk menangani kurangnya status Internet di Android</a></li>
<li><a href="../id442074/index.html">Air terjun penuh gaya dari RiME di mesin game: buat aliran air</a></li>
<li><a href="../id442080/index.html">Koneksi mikrometer untuk aplikasi web Java</a></li>
<li><a href="../id442082/index.html">Cara menyederhanakan riset basis data Oracle: satu set "gentleman's" dari skrip</a></li>
<li><a href="../id442084/index.html">Barang antik: kamera floppy disk berumur dua puluh tahun</a></li>
<li><a href="../id442086/index.html">Bagaimana Love Kubernetes pergi ke Mail.ru Group pada 14 Februari</a></li>
<li><a href="../id442088/index.html">SEC menuduh Ilon Mask melanggar larangan publikasi data penting tentang Tesla di jejaring sosial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>