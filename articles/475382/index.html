<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüé§ üñêüèª üë®üèø‚Äç‚úàÔ∏è ¬øC√≥mo implementamos WebAssembly en Yandex.Maps y por qu√© dejamos JavaScript? üë®‚Äçüë®‚Äçüëß üë©üèΩ‚Äçü§ù‚Äçüë®üèæ üê±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mi nombre es Valery Shavel, soy del equipo de desarrollo del motor de vectores Yandex.Maps. Recientemente, implementamos la tecnolog√≠a WebAssembly en ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo implementamos WebAssembly en Yandex.Maps y por qu√© dejamos JavaScript?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/475382/">  Mi nombre es Valery Shavel, soy del equipo de desarrollo del motor de vectores Yandex.Maps.  Recientemente, implementamos la tecnolog√≠a WebAssembly en el motor.  A continuaci√≥n, le dir√© por qu√© lo elegimos, qu√© resultados obtuvimos y c√≥mo puede usar esta tecnolog√≠a en su proyecto. <br><br><img src="https://habrastorage.org/webt/an/k6/3k/ank63kqu8nzp0l-yc6qeql2gpow.png"><br><a name="habracut"></a><br>  En Yandex.Maps, un mapa vectorial consiste en piezas llamadas mosaicos.  De hecho, el mosaico es el √°rea indexada del mapa.  El mapa es vectorial, por lo que cada mosaico contiene muchas primitivas geom√©tricas.  Los mosaicos provienen del servidor al cliente codificado, y antes de mostrarlos es necesario procesar todas las primitivas.  A veces lleva una cantidad considerable de tiempo.  Un mosaico puede contener m√°s de 2 mil polil√≠neas y pol√≠gonos. <br><br><img src="https://habrastorage.org/webt/xh/o4/lu/xho4lutlo850vm89roaysk5kcno.png"><br><br>  Al procesar primitivas, el rendimiento es lo m√°s importante.  Si el mosaico no se prepara lo suficientemente r√°pido, el usuario lo ver√° demasiado tarde y los siguientes mosaicos se retrasar√°n en la cola.  Para acelerar el procesamiento, decidimos probar la tecnolog√≠a relativamente nueva de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WebAssembly (Wasm)</a> . <br><br><h2>  Uso de WebAssembly en Maps <br></h2><br>  Ahora, la mayor parte del procesamiento de primitivas tiene lugar en el hilo de fondo (Web Worker), que vive una vida separada.  Esto se hace para descargar el hilo principal tanto como sea posible.  Por lo tanto, cuando el c√≥digo para mostrar la tarjeta est√° incrustado en la p√°gina de servicio, que puede agregar una carga significativa, habr√° menos frenos.  La desventaja es que necesita configurar correctamente la mensajer√≠a entre el hilo principal y el Web Worker. <br><br>  La parte del procesamiento que se produce en el subproceso de fondo consta esencialmente de dos pasos: <br><br><ol><li>  El formato de protobuf que viene del servidor est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descodificado</a> . </li><li>  Las geometr√≠as se generan y escriben en buffers. </li></ol><br>  En el segundo paso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se forman</a> b√∫feres de v√©rtices e √≠ndices para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WebGL</a> .  Estas memorias intermedias se utilizan cuando se procesan de la siguiente manera.  Un b√∫fer de v√©rtices contiene para cada v√©rtice sus par√°metros, que son necesarios para determinar su posici√≥n en la pantalla en un momento particular.  Un b√∫fer de √≠ndice consiste en triples de √≠ndices.  Cada triple significa que el tri√°ngulo con los v√©rtices del b√∫fer de v√©rtices debajo de los √≠ndices indicados debe mostrarse en la pantalla.  Por lo tanto, lo primitivo debe dividirse en tri√°ngulos, que tambi√©n puede ser una tarea que requiere mucho tiempo: <br><br><img width="600" src="https://habrastorage.org/webt/c0/tx/g_/c0txg_g-tfkpja6efsq_tp5cu_a.png"><br><br>  Obviamente, durante el segundo paso, se lleva a cabo una gran cantidad de manipulaci√≥n de la memoria y c√°lculos matem√°ticos, porque para la representaci√≥n correcta de las primitivas, se necesita mucha informaci√≥n sobre cada v√©rtice de la primitiva: <br><br><img width="600" src="https://habrastorage.org/webt/ug/-o/ej/ug-oej1lr58fgc7-r_ug7bbc--o.png"><br><br>  No est√°bamos contentos con el rendimiento de nuestro c√≥digo JavaScript.  En este momento, todos comenzaron a escribir sobre WebAssembly, la tecnolog√≠a estaba en constante evoluci√≥n y mejora.  Despu√©s de leer la investigaci√≥n, sugerimos que Wasm podr√≠a acelerar nuestras operaciones.  Aunque no est√°bamos completamente seguros de esto: result√≥ ser dif√≠cil encontrar datos sobre el uso de Wasm en un proyecto tan grande. <br><br>  Wasm tambi√©n es algo peor que TypeScript: <br><br><ol><li> Necesitamos inicializar un m√≥dulo especial con las funciones que necesitamos.  Esto puede causar un retraso antes de que esta funcionalidad comience a funcionar. </li><li>  El tama√±o del c√≥digo fuente al compilar Wasm es mucho mayor que en TS. </li><li>  Los desarrolladores deben admitir una versi√≥n alternativa de la ejecuci√≥n del c√≥digo, que tambi√©n est√° escrita en un lenguaje at√≠pico para la interfaz. </li></ol><br>  Sin embargo, a pesar de todo esto, nos arriesgamos a reescribir parte de nuestro c√≥digo usando Wasm. <br><br><h2>  WebAssembly Informaci√≥n general </h2><br><img src="https://habrastorage.org/webt/jn/lz/5h/jnlz5h5iwocxqes5bsmv9tdcil4.png"><br><br>  Wasm es un formato binario;  Puede compilar diferentes idiomas y luego ejecutar el c√≥digo en un navegador.  A menudo, dicho c√≥digo precompilado es m√°s r√°pido que el JavaScript cl√°sico.  El c√≥digo en formato WebAssembly no tiene acceso a los elementos DOM de la p√°gina y, como regla, se usa para realizar tareas computacionales laboriosas en el cliente. <br><br>  Elegimos C ++ como el lenguaje compilado, ya que es bastante conveniente y r√°pido. <br><br>  Para compilar C ++ en WebAssembly, utilizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">emscripten</a> .  Despu√©s de instalarlo y agregarlo a un proyecto de C ++, para obtener el m√≥dulo, debe escribir el archivo del proyecto principal de cierta manera.  Por ejemplo, podr√≠a verse as√≠: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;emscripten/bind.h&gt; #include &lt;emscripten.h&gt; #include &lt;math.h&gt; struct Point { double x; double y; }; double sqr(double x) { return x * x; } EMSCRIPTEN_BINDINGS(my_value_example) { emscripten::value_object&lt;Point&gt;("Point") .field("x", &amp;Point::x) .field("y", &amp;Point::y) ; emscripten::register_vector&lt;Point&gt;("vector&lt;Point&gt;"); emscripten::function("distance", emscripten::optional_override( [](Point point1, Point point2) { return sqrt(sqr(point1.x - point2.x) + sqr(point1.y - point2.y)) ; })); }</span></span></span></span></code> </pre> <br>  A continuaci√≥n, describir√© c√≥mo puede usar este c√≥digo en su proyecto TypeScript. <br><br>  En el c√≥digo, definimos la estructura Point y la asignamos a la interfaz Point en TypeScript, en la que habr√° dos campos: x e y, corresponden a los campos de la estructura. <br><br>  Adem√°s, si queremos devolver el contenedor de vectores est√°ndar de C ++ a TypeScript, entonces debemos registrarlo para el tipo Point.  Luego, en TypeScript, la interfaz con las funciones necesarias le corresponder√°. <br><br>  Y finalmente, el c√≥digo muestra c√≥mo registrar su funci√≥n para llamarla desde TypeScript por el nombre correspondiente. <br><br>  Compile el archivo usando emscripten y agregue el m√≥dulo resultante a su proyecto TypeScript.  Ahora podemos escribir un archivo gen√©rico d.ts para un m√≥dulo emscripten arbitrario, en el que las funciones y tipos √∫tiles est√°n predefinidos: <br><br><pre> <code class="javascript hljs">declare <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> <span class="hljs-string"><span class="hljs-string">"emscripten_module"</span></span> { interface EmscriptenModule { readonly wasmMemory: WebAssembly.Memory; readonly HEAPU8: <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>; readonly HEAPF64: <span class="hljs-built_in"><span class="hljs-built_in">Float64Array</span></span>; locateFile: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">path: string</span></span></span><span class="hljs-function">) =&gt;</span></span> string; onRuntimeInitialized: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>; _malloc: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">size: size_t</span></span></span><span class="hljs-function">) =&gt;</span></span> uintptr_t; _free: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">addr: size_t</span></span></span><span class="hljs-function">) =&gt;</span></span> uintptr_t; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> EmscriptenModule; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type uintptr_t = number; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> type size_t = number; }</code> </pre> <br>  Y podemos escribir el archivo d.ts para nuestro m√≥dulo: <br><br><pre> <code class="javascript hljs">declare <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> <span class="hljs-string"><span class="hljs-string">"emscripten_point"</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> EmscriptenModule, {uintptr_t, size_t} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'emscripten_module'</span></span>; interface NativeObject { <span class="hljs-attr"><span class="hljs-attr">delete</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>; } interface Vector&lt;T&gt; extends NativeObject { get(index: number): T; size(): number; } interface Point { readonly x: number; readonly y: number; } interface PointModule extends EmscriptenModule { <span class="hljs-attr"><span class="hljs-attr">distance</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">point1: Point, point2: Point</span></span></span><span class="hljs-function">) =&gt;</span></span> number; } type PointModuleUninitialized = Partial&lt;PointModule&gt;; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createModuleApi</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Module: Partial&lt;PointModule&gt;</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PointModule</span></span></span><span class="hljs-function">; }</span></span></code> </pre> <br>  Ahora podemos escribir una funci√≥n que crear√° Promise para la inicializaci√≥n del m√≥dulo y usarla: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> EmscriptenModule <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'emscripten_module'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> createPointModuleApi, {PointModule} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'emscripten_point'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pointModule <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'emscripten_point.wasm'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Promisifies initialization of emscripten module. * * @param moduleUrl URL to wasm file, it could be encoded data URL. * @param moduleInitializer Escripten module factory, * see https://emscripten.org/docs/compiling/WebAssembly.html#compiler-output. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initEmscriptenModule</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ModuleT</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extends</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EmscriptenModule</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> moduleUrl: string, moduleInitializer: (module: Partial&lt;EmscriptenModule&gt;</span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ModuleT</span></span></span><span class="hljs-function"> ): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ModuleT</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> = moduleInitializer({ <span class="hljs-attr"><span class="hljs-attr">locateFile</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> moduleUrl, <span class="hljs-attr"><span class="hljs-attr">onRuntimeInitialized</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// module itself is thenable, to prevent infinite promise resolution delete (&lt;any&gt;module).then; resolve(module); } }); }); } const initialization = initEmscriptenModule( 'data:application/wasm;base64,' + pointModule, createPointModuleApi );</span></span></code> </pre> <br>  Ahora, para esta promesa, obtenemos nuestro m√≥dulo junto con la funci√≥n de distancia. <br><br>  Desafortunadamente, no puede depurar el c√≥digo Wasm l√≠nea por l√≠nea en el navegador.  Por lo tanto, es necesario escribir pruebas y ejecutar c√≥digo en ellas como C ++ normal, entonces tendr√° la oportunidad de una depuraci√≥n conveniente.  Sin embargo, incluso en el navegador, tiene acceso a la secuencia de cout est√°ndar, que enviar√° todo a la consola del navegador. <br><br>  Un ejemplo de proyecto del art√≠culo est√° disponible a trav√©s de este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> , donde puede ver la configuraci√≥n de webpack.config y CMakeLists. <br><br><h2>  Resultados </h2><br>  Entonces, reescribimos parte de nuestro c√≥digo y lanzamos un experimento para considerar analizar pol√≠gonos y pol√≠gonos.  El diagrama muestra los resultados medianos para un mosaico para Wasm y JavaScript: <br><br><img src="https://habrastorage.org/webt/3b/of/sn/3bofsn_aq7y_urztp3diizivt1k.png"><br><br>  Como resultado, obtuvimos tales coeficientes relativos para cada m√©trica: <br><br><img src="https://habrastorage.org/webt/mx/ol/hh/mxolhhmakjlt9d7n8bzkbyarrfc.png"><br><br>  Como puede ver en el tiempo de an√°lisis primitivo puro y el tiempo de decodificaci√≥n de mosaicos, Wasm es m√°s de cuatro veces m√°s r√°pido.  Si observa el tiempo de an√°lisis total, la diferencia tambi√©n es significativa, pero a√∫n es un poco menor.  Esto se debe al costo de transferir datos a Wasm y recopilar el resultado.  Tambi√©n vale la pena se√±alar que en las primeras fichas la ganancia general es muy alta (en las primeras diez, m√°s de cinco veces).  Sin embargo, entonces el coeficiente relativo disminuye a aproximadamente tres. <br><br>  Como resultado, todo esto en conjunto ayud√≥ a reducir el tiempo de procesamiento de un mosaico en el hilo de fondo en un 20-25%.  Por supuesto, esta diferencia no es tan grande como las anteriores, pero debe comprender que analizar las l√≠neas discontinuas y los pol√≠gonos est√° lejos de todo el procesamiento de mosaicos. <br><br>  Si hablamos de la necesidad de inicializar el m√≥dulo, por eso, aproximadamente la mitad de los usuarios tuvieron un retraso antes de analizar el primer mosaico.  El retraso medio es de 188 ms.  El retraso ocurre solo antes del primer mosaico, y la victoria en el an√°lisis es constante, por lo que puede soportar una peque√±a pausa al comienzo y no considerarlo un problema grave. <br><br>  Otro lado negativo es el tama√±o del archivo de c√≥digo fuente.  C√≥digo minimizado comprimido con Gzip para todo el motor de mapas vectoriales sin Wasm - 85 KB, con Wasm - 191 KB.  Al mismo tiempo, solo se implementa el an√°lisis de l√≠neas discontinuas y rect√°ngulos en Wasm, y no todas las primitivas que pueden estar en un mosaico.  Adem√°s, para decodificar protobuf, tuve que elegir una implementaci√≥n de biblioteca en C puro, con una implementaci√≥n de C ++, el tama√±o era a√∫n mayor.  Esta diferencia puede reducirse en cierta medida utilizando el indicador del compilador -Oz en lugar de -O3 al compilar C ++, pero sigue siendo significativo.  Adem√°s, con tal reemplazo, perdemos productividad. <br><br>  Sin embargo, el tama√±o de la fuente no afect√≥ significativamente la velocidad de inicializaci√≥n de la tarjeta.  Wasm es peor solo en dispositivos lentos, y la diferencia es inferior al 2%.  Pero el conjunto inicial visible de mosaicos vectoriales en la implementaci√≥n con Wasm se mostr√≥ a los usuarios un poco m√°s r√°pido que con la implementaci√≥n JS.  Esto se debe a la mayor ganancia en los primeros mosaicos procesados, mientras que JS a√∫n no est√° optimizado. <br><br>  Por lo tanto, Wasm ahora es una opci√≥n valiosa si no se siente c√≥modo con el rendimiento del c√≥digo JavaScript.  Al mismo tiempo, puede obtener menos ganancia de rendimiento que nosotros, o no puede obtenerlo en absoluto.  Esto se debe al hecho de que a veces el propio JavaScript funciona bastante r√°pido, y en Wasm necesita transferir datos y recopilar el resultado. <br><br>  Nuestros mapas ahora ejecutan JavaScript normal.  Esto se debe al hecho de que la ganancia en el an√°lisis no es tan grande en el contexto general, y al hecho de que solo se implementan algunos tipos de primitivas en Wasm.  Si esto cambia, quiz√°s usaremos Wasm.  Otro argumento poderoso en contra de esto es la complejidad del ensamblaje y la depuraci√≥n: apoyar un proyecto en dos idiomas tiene sentido solo cuando la ganancia de rendimiento lo vale. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475382/">https://habr.com/ru/post/475382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475366/index.html">Droidcon London 2019: nuevas tendencias y los informes m√°s interesantes</a></li>
<li><a href="../475368/index.html">C√≥mo calcular la efectividad de la publicidad</a></li>
<li><a href="../475370/index.html">Algoritmo de Kahan: c√≥mo obtener la diferencia exacta de productos</a></li>
<li><a href="../475372/index.html">Dominio front-end basado en TLS 1.3</a></li>
<li><a href="../475378/index.html">"No podemos dejar los derechos de datos personales a grandes empresas" - ex editor jefe de Wired UK sobre el futuro de la tecnolog√≠a</a></li>
<li><a href="../475384/index.html">¬øQu√© hay de nuevo en Spring Boot 2.2?</a></li>
<li><a href="../475386/index.html">Precauci√≥n, FAS: c√≥mo no violar la Ley de Publicidad. Memo del anunciante</a></li>
<li><a href="../475388/index.html">Semana de seguridad 46: micr√≥fonos, l√°ser y seguridad de m√°quinas capacitadas</a></li>
<li><a href="../475390/index.html">C√≥mo crear tu primera aplicaci√≥n web con Go</a></li>
<li><a href="../475392/index.html">¬øPor qu√© usar python -m pip?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>