<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçü§ù‚Äçüë®üèæ ü§∑üèº üåî Un peu sur l'ombrage Phong ü§π üóùÔ∏è üê¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬´Nous ne pouvons pas nous attendre √† pouvoir afficher l'objet exactement tel qu'il est en r√©alit√©, avec des textures, des ombres, etc. Nous esp√©rons s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Un peu sur l'ombrage Phong</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441862/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c68/ce8/38a/c68ce838a092911ffb5a707ffae01290.png"></div><br><blockquote>  ¬´Nous ne pouvons pas nous attendre √† pouvoir afficher l'objet exactement tel qu'il est en r√©alit√©, avec des textures, des ombres, etc.  Nous esp√©rons seulement cr√©er une image suffisamment proche pour atteindre un certain r√©alisme. " <br><br>  <i>Bui Tyong Fong</i> </blockquote><br>  Bui Thuong Fong est n√© en 1941 et est devenu informaticien pendant la guerre du Vietnam.  Il a d√ª lui √™tre difficile de terminer ses √©tudes dans l'environnement toxique des ann√©es 60, sans parler du fait qu'il a √©t√© appel√© au front!  Mais il a r√©ussi √† survivre et √† survivre jusqu'en 1975, avant que la leuc√©mie ne prenne sa vie seulement deux ans apr√®s avoir jet√© les bases du monde de la th√©orie moderne de l'√©clairage et de l'ombrage: <em>le shader de Fong</em> . <a name="habracut"></a>  Les noms vietnamiens se composent de trois parties: nom, deuxi√®me pr√©nom et nom de personne.  Autrement dit, lorsque les gens disent ¬´Fong shader¬ª, ils appellent le nom personnel Bui Tyong.  Vous pouvez en savoir plus sur <em>les noms de personnes</em> sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/217/d89/2b5/217d892b501bfc574b961f4d51f164ca.jpg"></div><br>  <i>Je ne sais pas si c'est Phong, mais selon Google, oui.</i> <br><br><blockquote>  "Laissez doucement le soleil doux <br>  Joue autour de mon lit mourant, <br>  E'er la vall√©e faiblement √©clair√©e <br>  Je dois marcher avec des pieds seuls.  " <br><br>  <i>Laissez entrer la lumi√®re - un po√®me de Francis Harper</i> </blockquote><br>  Le shader de Phong est bas√© sur des math√©matiques extr√™mement concises.  Ce que vous n'avez en fait pas besoin de savoir, √† moins que vous ne souhaitiez sinc√®rement devenir programmeur graphique.  Cependant, √† long terme, ses connaissances seront utiles.  Vous trouverez ci-dessous des extraits de l' <em>OpenGL Superbible, 7th Edition de</em> Graham Sellers et de la Kronos Group ARB Foundation. <br><br><h2>  A) Quelques concepts </h2><br>  Tout d'abord, d√©couvrons les concepts.  Si vous vous occupez de la mod√©lisation 3D ou du d√©veloppement de jeux depuis une minute, vous devez les avoir d√©j√† rencontr√©s, mais la r√©p√©tition n'a d√©rang√© personne. <br><br><h5>  A-1) Lumi√®re ambiante </h5><br>  La plupart des livres, en particulier ceux de faible qualit√©, comparent cet √©clairage √† la lumi√®re du soleil, mais c'est compl√®tement faux.  L'√©clairage ambiant n'est pas la lumi√®re du soleil.  Il vient <em>de toutes les directions</em> , c'est-√†-dire qu'il est omnipr√©sent, mais dans les calculs, ce n'est qu'un vecteur √† trois composantes.  Dans l'ombrage de Phong, il est ajout√© √† la fin, mais ne change pas. <br><br><h5>  A-2) Lumi√®re diffuse / diffuse </h5><br>  L'√©clairage diffus a une direction.  Il s'agit en fait d'une <em>composante directionnelle de la source de lumi√®re [sic]</em> .  Au cin√©ma, la lumi√®re est diffus√©e √† l'aide d'une bo√Æte √† lumi√®re, et en infographie, la lumi√®re est diffus√©e √† l'aide d'une formule, que nous montrerons ci-dessous.  L'amplitude, c'est-√†-dire la taille de l'√©clairage diffus√©, d√©pend de la surface.  Par exemple, si la surface est mate, c'est-√†-dire qu'elle absorbe plus qu'elle ne r√©fl√©chit la lumi√®re, alors la valeur sera plus √©lev√©e que dans le cas d'une surface lisse. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c3d/211/1b8/c3d2111b8c8be9b13e78b29a56e766cc.png"></div><br>  <i>Lumi√®re ambiante diffus√©e / absorb√©e √† partir d'un √©cran d√©poli</i> <br><br><h5>  A-3) Surbrillance sp√©culaire </h5><br>  Comme la lumi√®re diffuse, la <em>lumi√®re</em> r√©fl√©chie est directionnelle, mais bas√©e sur la brillance de la surface;  il laisse un <em>point culminant</em> appel√© <em>brillance</em> .  Dans la vraie vie, le brillant ne fait pas partie int√©grante du mat√©riau.  En fait, un rev√™tement de film ou une goutte de cire ajoutera beaucoup plus √† la brillance qu'autre chose.  Le <em>brillant</em> r√©fl√©chi est un facteur compris entre 0 et 128, car √† des valeurs sup√©rieures √† 128, il n'affectera pas consid√©rablement le shader. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d0/59a/72c/0d059a72c9de0c88b51b9abd25842963.jpg"></div><br>  <i>Film avec film - papier de couleur √©paisse avec une pellicule brillante, un vrai cadeau pour un enfant.</i> <br><br><h5>  A- 4) Alb√©do </h5><br>  Il s'agit de la fraction de lumi√®re incidente <em>r√©fl√©chie par la</em> surface. <br><br><h5>  A-5) Formule Phong </h5><br>  La formule de calcul du mat√©riau selon Phong est la suivante: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-6"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-8" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-11" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mo" id="MJXp-Span-12" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-15" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-16">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">t</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-22">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">c</span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">L</span></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mtext" id="MJXp-Span-29">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">V</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">c</span><span class="MJXp-mrow" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">N</span></span><span class="MJXp-mtext" id="MJXp-Span-35">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">t</span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-42"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-44" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-48" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-49">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">t</span><span class="MJXp-mo" id="MJXp-Span-54" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-55">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">c</span><span class="MJXp-mrow" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">R</span></span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mtext" id="MJXp-Span-62">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">V</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">c</span><span class="MJXp-mrow" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">V</span></span><span class="MJXp-mtext" id="MJXp-Span-68">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">t</span><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-76" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">a</span><span class="MJXp-msubsup" id="MJXp-Span-82"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-84" style="vertical-align: -0.4em;">s</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="79.573ex" height="2.78ex" viewBox="0 -832 34260.4 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-70" x="622" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-3D" x="1174" y="0"></use><g transform="translate(2230,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="737" y="-213"></use></g><g transform="translate(3226,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="488" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-2B" x="4268" y="0"></use><g transform="translate(5269,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6C" x="6511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="6809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-66" x="7276" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-74" x="7826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-28" x="8188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-76" x="8827" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="9313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-63" x="9779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-4C" x="10213" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-2E" x="10894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-56" x="11589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="12359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-63" x="12825" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-4E" x="13259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-72" x="14397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-69" x="14849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-67" x="15194" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-68" x="15675" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-74" x="16251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-29" x="16613" y="0"></use><g transform="translate(17002,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-64" x="488" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-2B" x="18040" y="0"></use><g transform="translate(19041,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6C" x="20244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="20543" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-66" x="21009" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-74" x="21560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-28" x="21921" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-76" x="22561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="23046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-63" x="23513" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-52" x="23946" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-2E" x="24706" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-56" x="25401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-65" x="26170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-63" x="26637" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-56" x="27070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-72" x="28090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-69" x="28541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-67" x="28887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-68" x="29367" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-74" x="29944" y="0"></use><g transform="translate(30305,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMAIN-29" x="0" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="31045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6C" x="31574" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-70" x="31873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-68" x="32376" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="32953" y="0"></use><g transform="translate(33482,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-73" x="488" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> I_p = k_ai_a + k_d \ left (\ vec {L}. \ Vec {N} \ right) i_d + k_s \ left (\ vec {R}. \ Vec {V} \ right) ^ \ alpha i_s </script></p><br>  O√π: <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-85"><span class="MJXp-msubsup" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-88" style="vertical-align: -0.4em;">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.313ex" height="2.419ex" viewBox="0 -780.1 995.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> k_a </script>  : Mat√©riau ambiant <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-89"><span class="MJXp-msubsup" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-92" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.303ex" height="2.419ex" viewBox="0 -780.1 991.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-64" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> k_d </script>  : Mat√©riau diffus <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-msubsup" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-96" style="vertical-align: -0.4em;">s</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.215ex" height="2.419ex" viewBox="0 -780.1 953.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-73" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> k_s </script>  : Mat√©riau sp√©culaire et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-97"><span class="MJXp-mtext" id="MJXp-Span-98">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.242ex" height="2.419ex" viewBox="0 -780.1 2687.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-6C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-70" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-68" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441862/&amp;usg=ALkJrhgaTiOlTPCSr6gWWaLdFTNUuuRdMw#MJMATHI-61" x="2158" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ alpha </script>  : valeur de brillance <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-104"><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">a</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> i_a </script>  : √©clairage ambiant <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-msubsup" id="MJXp-Span-109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-111" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> i_d </script>  : √©clairage diffus <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-msubsup" id="MJXp-Span-113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114" style="margin-right: 0.05em;">i</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-115" style="vertical-align: -0.4em;">s</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> i_s </script>  : √©clairage indirect <br><br>  Vous pouvez demander, qu'en est-il des vecteurs?  Ne vous inqui√©tez pas, nous allons maintenant vous en parler: <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">c</span><span class="MJXp-mrow" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">N</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> \ vec {N} </script>  : normal √† la surface <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-123"><span class="MJXp-mtext" id="MJXp-Span-124">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">c</span><span class="MJXp-mrow" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">L</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> \ vec {L} </script>  : le vecteur unitaire du point ombr√© √† la source lumineuse (en d'autres termes, le vecteur lumi√®re) <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-130"><span class="MJXp-mtext" id="MJXp-Span-131">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">c</span><span class="MJXp-mrow" id="MJXp-Span-135"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">R</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> \ vec {R} </script>  : r√©flexion de la valeur n√©gative du vecteur lumi√®re <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-137"><span class="MJXp-mtext" id="MJXp-Span-138">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">w</span><span class="MJXp-mrow" id="MJXp-Span-153"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">V</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> \ overrightarrow {V} </script>  : vecteur dirig√© vers le spectateur <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22f/473/2b8/22f4732b88828e5592adff0bc7bfdcad.png"></div><br><h2>  B) Ombrage Gouraud </h2><br>  Avant de vous lancer dans le shader de Fong, voyons comment obtenir l'ombrage Gouro sur GLSL.  Veuillez noter que j'utilise la version GLSL 4.1, comme dans Superbible, mais si vous √™tes un fan de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.learnopengl.com</a> , vous pouvez utiliser 3.3.  Peu importe.  Voyons donc ce qu'est l'ombrage Gouraud. <br><br>  Cette m√©thode d'ombrage a √©t√© invent√©e par Henri Gouraud en 1971.  Il n'est en aucun cas sup√©rieur √† l'ombrage Phong, et aujourd'hui, il est principalement utilis√© comme m√©thode d'aper√ßu de chargement sans GPU dans des packages comme Cinema 4D.  Son probl√®me est que la <em>fus√©e</em> qu'il g√©n√®re ressemble √† une √©tincelle: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/456/664/60d/45666460de6b494647196ed6ec0523dd.png"></div><br>  Ce probl√®me est d√ª √† l'interpolation des couleurs entre les sommets et les √©carts entre les triangles se produisent car les couleurs sont interpol√©es lin√©airement.  Ce probl√®me n'a √©t√© r√©solu que dans le shader de Phong.  Voyons comment vous pouvez impl√©menter l'ombrage Gouro sur GLSL 4.1. <br><br>  <strong>Listing 1</strong> : Ombrage de vertex Gourox sur GLSL 4.1 <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 410 core </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Per-vertex inputs layout (location = 0) in vec4 position; layout (location = 1) in vec3 normal; // Matrices we'll need layout (std140) uniform constants { mat4 mv_matrix; mat4 view_matrix; mat4 proj_matrix; }; // Light and material properties uniform vec3 light_pos = vec3(100.0, 100.0, 100.0); uniform vec3 diffuse_albedo = vec3(0.5, 0.2, 0.7); uniform vec3 specular_albedo = vec3(0.7); uniform float specular_power = 128.0; uniform vec3 ambient = vec3(0.1, 0.1, 0.1); // Outputs to the fragment shader out VS_OUT { vec3 color; } vs_out; void main(void) { // Calculate view-space coordinate vec4 P = mv_matrix * position; // Calculate normal in view space vec3 N = mat3(mv_matrix) * normal; // Calculate view-space light vector vec3 L = light_pos - P.xyz; // Calculate view vector (simply the negative of the view-space position) vec3 V = -P.xyz; // Normalize all three vectors N = normalize(N); L = normalize(L); V = normalize(V); // Calculate R by reflecting -L around the plane defined by N vec3 R = reflect(-L, N); // Calculate the diffuse and specular contributions vec3 diffuse = max(dot(N, L), 0.0) * diffuse_albedo; vec3 specular = pow(max(dot(R, V), 0.0), specular_power) * specular_albedo; // Send the color output to the fragment shader vs_out.color = ambient + diffuse + specular; // Calculate the clip-space position of each vertex gl_Position = proj_matrix * P; }</span></span></span></span></code> </pre> <br>  Et maintenant, le fragment shader. <br><br>  <strong>Listing 2: Le</strong> fragment shader du m√™me concept. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 410 core </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Output layout (location = 0) out vec4 color; // Input from vertex shader in VS_OUT { vec3 color; } fs_in; void main(void) { // Write incoming color to the framebuffer color = vec4(fs_in.color, 1.0); }</span></span></span></span></code> </pre> <br><h2>  C) Ombrage Phong </h2><br>  Avant de poursuivre, rappelons que l' <em>ombrage</em> Phong et l' <em>√©clairage</em> Phong sont deux concepts diff√©rents.  Vous pouvez vous d√©barrasser du ¬´flocon de neige¬ª de l'√©clat de Gouro en ajoutant plus de sommets, mais pourquoi si nous avons un ombrage √† Fong?  Dans l'ombrage Phong, la couleur n'est pas interpol√©e entre les sommets (comme dans les Listing 1 et 2), nous interpolons entre les sommets de la <em>normale √† la surface</em> , et utilisons la normale g√©n√©r√©e pour effectuer tous les calculs d'√©clairage pour chaque <em>pixel</em> , pas le sommet.  Cependant, cela signifie que le fragment shader devra faire plus de travail, comme indiqu√© dans le Listing 4. Mais d'abord, regardons le vertex shader. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/76b/4aa/c72/76b4aac7210910e37140e409744270f2.png"></div><br>  <strong>Listing 3: le</strong> vertex shader du Phong shader sur GLSL 4.1. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 410 core </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Per-vertex inputs layout (location = 0) in vec4 position; layout (location = 1) in vec3 normal; // Matrices we'll need layout (std140) uniform constants { mat4 mv_matrix; mat4 view_matrix; mat4 proj_matrix; }; // Inputs from vertex shader out VS_OUT { vec3 N; vec3 L; vec3 V; } vs_out; // Position of light uniform vec3 light_pos = vec3(100.0, 100.0, 100.0); void main(void) { // Calculate view-space coordinate vec4 P = mv_matrix * position; // Calculate normal in view-space vs_out.N = mat3(mv_matrix) * normal; // Calculate light vector vs_out.L = light_pos - P.xyz; // Calculate view vector vs_out.V = -P.xyz; // Calculate the clip-space position of each vertex gl_Position = proj_matrix * P; }</span></span></span></span></code> </pre> <br>  Presque rien n'a chang√©.  Mais dans le fragment shader, la situation est compl√®tement diff√©rente. <br><br>  <strong>Listing 4:</strong> Shader fragment shader shader. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 410 core </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Output layout (location = 0) out vec4 color; // Input from vertex shader in VS_OUT { vec3 N; vec3 L; vec3 V; } fs_in; // Material properties uniform vec3 diffuse_albedo = vec3(0.5, 0.2, 0.7); uniform vec3 specular_albedo = vec3(0.7); uniform float specular_power = 128.0; uniform vec3 ambient = vec3(0.1, 0.1, 0.1); void main(void) { // Normalize the incoming N, L and V vectors vec3 N = normalize(fs_in.N); vec3 L = normalize(fs_in.L); vec3 V = normalize(fs_in.V); // Calculate R locally vec3 R = reflect(-L, N); // Compute the diffuse and specular components for each fragment vec3 diffuse = max(dot(N, L), 0.0) * diffuse_albedo; vec3 specular = pow(max(dot(R, V), 0.0), specular_power) * specular_albedo; // Write final color to the framebuffer color = vec4(ambient + diffuse + specular, 1.0); }</span></span></span></span></code> </pre> <br>  Eh bien, c'est la fin de l'article, j'esp√®re qu'il vous a plu.  Si cela a d√©clench√© chez vous une √©tincelle d'int√©r√™t pour OpenGL, vous pouvez acheter <em>OpenGL Superbible</em> sur Amazon ou explorer learnopengl.com.  Si vous ne pouvez pas g√©rer les shaders, je vous recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Book of Shaders</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441862/">https://habr.com/ru/post/fr441862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441848/index.html">Stages pour d√©veloppeurs √† Avito: missions de combat et travail avec des mentors exp√©riment√©s</a></li>
<li><a href="../fr441850/index.html">Dire la fortune sur les r√©seaux de neurones: si l'auteur lui-m√™me l'a not√© dans les commentaires sur le post</a></li>
<li><a href="../fr441852/index.html">42 Silicon Valley: comment √™tre s√©lectionn√©</a></li>
<li><a href="../fr441854/index.html">REPOS? Prenez un JSON-RPC stupide</a></li>
<li><a href="../fr441858/index.html">Acc√®s aux donn√©es simplifi√© FAT12 interne pour STM32</a></li>
<li><a href="../fr441864/index.html">Aper√ßu du march√© des roues motrices 2019</a></li>
<li><a href="../fr441868/index.html">Pourquoi le cerveau a besoin d'une ¬´pause¬ª</a></li>
<li><a href="../fr441870/index.html">Imprimante 3D Solidprint Sign</a></li>
<li><a href="../fr441878/index.html">Toi comme tu veux, mais je l'ai fait</a></li>
<li><a href="../fr441882/index.html">VMware NSX pour les plus petits. Partie 3. Configuration de DHCP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>