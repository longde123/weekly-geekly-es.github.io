<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯРЦ ЁЯСйЁЯП┐тАНЁЯН│ ЁЯСйЁЯП╝тАНЁЯТ╗ рд▓реИрдм: lvm рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛, linux рдкрд░ рдЫрд╛рдкрд╛ ЁЯМкя╕П тЖШя╕П ЁЯМФ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рдЫреЛрдЯрд╛ рд╡рд┐рд╖рдпрд╛рдВрддрд░: рдпрд╣ l \ r рд╕рд┐рдВрдереЗрдЯрд┐рдХ рд╣реИред 


 рдпрд╣рд╛рдВ рд╡рд░реНрдгрд┐рдд рдХреБрдЫ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдмрд╣реБрдд рдЖрд╕рд╛рди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ l / r рдХрд╛ рдХрд╛рд░реНрдп рдЫрд╛рдкреЗ, lvm рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╕реЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд▓реИрдм: lvm рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛, linux рдкрд░ рдЫрд╛рдкрд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450896/"><p>  рдПрдХ рдЫреЛрдЯрд╛ рд╡рд┐рд╖рдпрд╛рдВрддрд░: рдпрд╣ l \ r рд╕рд┐рдВрдереЗрдЯрд┐рдХ рд╣реИред </p><br><p>  рдпрд╣рд╛рдВ рд╡рд░реНрдгрд┐рдд рдХреБрдЫ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдмрд╣реБрдд рдЖрд╕рд╛рди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ l / r рдХрд╛ рдХрд╛рд░реНрдп рдЫрд╛рдкреЗ, lvm рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдХреБрдЫ рд╕рдВрдЪрд╛рд▓рди рдХреГрддреНрд░рд┐рдо рд░реВрдк рд╕реЗ рдЬрдЯрд┐рд▓ рд╣реИрдВред </p><br><h2 id="trebovaniya-k-instrumentam-dlya-vypolneniya-lr">  рдЙрдкрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ l \ r рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: </h2><br><ul><li>  рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдЙрдкрдХрд░рдг рдЬреИрд╕реЗ рд╡рд░реНрдЪреБрдЕрд▓рдмреЙрдХреНрд╕ </li><li>  рд▓рд┐рдирдХреНрд╕ рд╕реНрдерд╛рдкрдирд╛ рдЫрд╡рд┐ рдЬреИрд╕реЗ <a href="">рдбреЗрдмрд┐рдпрди 9</a> </li><li>  рдХрдИ рдкреИрдХреЗрдЬ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдиреЗрдЯ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ </li><li>  рд╕реНрдерд╛рдкрд┐рдд VM рдХреЗ рд▓рд┐рдП ssh рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди (рд╡реИрдХрд▓реНрдкрд┐рдХ) </li></ul><br><h2 id="vnimanie">  рдЪреЗрддрд╛рд╡рдиреА </h2><br><p>  рдпрд╣ рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдХрд╛рд░реНрдп рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рдирд╛рдЬреБрдХ рдорд╛рдорд▓реЗ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ - рдпрд╣ рдРрд╕рд╛ рдХреНрд╖реЗрддреНрд░ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рд╕рдмрд╕реЗ рдЫреЛрдЯреА рддреНрд░реБрдЯрд┐ - рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкрддреНрд░ рдпрд╛ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдХрд╛рд░рдг рдЖрдкрдХреЗ рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдЦреЛрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдЬрдм рд╕реЗ рдЖрдк рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдХрд╛ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЖрдк рдЦрддрд░реЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИрдВ, рдЬрдм рддрдХ рдХрд┐ рдЖрдкрдХреЛ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИред </p><br><p>  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рдореЗрдВ, рд╕рдм рдХреБрдЫ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЧрдВрднреАрд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдбрд┐рд╕реНрдХ рдХреЗ рдирд╛рдореЛрдВ рдХреЛ рдмрд╣реБрдд рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рджрд░реНрдЬ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╣ рд╕рдордЭрдирд╛ рдХрд┐ рдЖрдк рд╡рд░реНрддрдорд╛рди рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдХреМрди рд╕реЗ рдбрд┐рд╕реНрдХ рдЖрдкрдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред </p><a name="habracut"></a><br><p>  рджреВрд╕рд░рд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдбрд┐рд╕реНрдХ рдФрд░ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдирд╛рдордХрд░рдг рд╣реИ: рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдбрд┐рд╕реНрдХ рд╕рдВрдЦреНрдпрд╛ рдЙрди рдорд╛рдиреЛрдВ рд╕реЗ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИ рдЬреЛ рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдореЗрдВ рдХрдорд╛рдВрдб рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br>  рдЗрд╕рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рд╕рд░рдгреА рд╕реЗ sda рдбреНрд░рд╛рдЗрд╡ рдХреЛ рд╣рдЯрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдПрдХ рдирдИ рдбреНрд░рд╛рдЗрд╡ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдирдпрд╛ рдбреНрд░рд╛рдЗрд╡ sda рдирд╛рдо рдХреЗ рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрдЧрд╛ред  рдпрджрд┐ рдЖрдк рдПрдХ рдирдИ рдбрд┐рд╕реНрдХ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд░рд┐рдмреВрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдирдИ рдбрд┐рд╕реНрдХ рдХреЛ sdb рдирд╛рдо рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдкреБрд░рд╛рдиреЗ рдХреЛ sda рдирд╛рдо рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </p><br><p>  рд▓реИрдм рдХрд╛ рдХрд╛рдо рд╕реБрдкрд░рдпреВрдЬрд░ (рд░реВрдЯ) рдХреЗ рддрд╣рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХреНрдпреЛрдВрдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рдХрдорд╛рдВрдбреЛрдВ рдХреЛ рдПрд▓рд┐рд╡реЗрдЯреЗрдб рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ рдпрд╣ рд╕реВрдбреЛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИред </p><br><h2 id="materialy-dlya-izucheniya">  рдЕрдзреНрдпрдпрди рд╕рд╛рдордЧреНрд░реА </h2><br><ul><li>  RAID </li><li>  рдПрд▓рд╡реАрдПрдо </li><li>  рд▓рд┐рдирдХреНрд╕ рдбрд┐рд╕реНрдХ рдирд╛рдордХрд░рдг </li><li>  рдПрдХ рд╕реЗрдХреНрд╢рди рдХреНрдпрд╛ рд╣реИ </li><li>  рдПрдХ рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреНрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрд╣рд╛рдБ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдХреНрдпрд╛ рдЧреНрд░рдм рд╣реИ </li></ul><br><h2 id="ispolzuemye-utility">  рдЙрдкрдпреЛрдЧрд┐рддрд╛рдПрдБ рдкреНрд░рдпреБрдХреНрдд </h2><br><ol><li>  рдбрд┐рд╕реНрдХ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВ: <br><ul><li>  lsblk -o NAME, SIZE, FSTYPE, TYPE, MOUNTPOINT </li><li>  fdisk -l </li></ul></li><li>  рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВ рдФрд░ LVM рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ <br><ul><li>  рдкреА рд╡реА рдПрд╕ </li><li>  pvextend </li><li>  pvcreate </li><li>  pvresize </li><li>  vgs </li><li>  vgreduce </li><li>  lvs </li><li>  lvextend </li></ul></li><li>  рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦреЗрдВ рдФрд░ RAID рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ: <br><ul><li>  cat / proc / mdstat </li><li>  mdadm </li></ul></li><li>  рдорд╛рдЙрдВрдЯ рдкреЙрдЗрдВрдЯ: <br><ul><li>  рдкрд░реНрд╡рдд </li><li>  umount </li><li>  рдмрд┐рд▓реНрд▓реА / рдЖрджрд┐ / fstab </li><li>  рдмрд┐рд▓реНрд▓реА / рдЖрджрд┐ / mtab </li></ul></li><li>  рдбрд┐рд╕реНрдХ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдирд╛: <br><ul><li>  fdisk / dev / XXX </li></ul></li><li>  рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдирд╛ рдЕрдиреБрднрд╛рдЧ: <br><ul><li>  dd if = / dev / xxx of = / dev / yyy </li></ul></li><li>  рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ: <br><ul><li>  partx </li><li>  sfdisk </li><li>  mkfs.ext4 </li></ul></li><li>  рдмреВрдЯрд▓реЛрдбрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ: <br><ul><li>  рдЧреНрд░рдм-рдЗрдВрд╕реНрдЯреЙрд▓ / рджреЗрд╡ / рдПрдХреНрд╕рдПрдХреНрд╕рдПрдХреНрд╕ </li><li>  рдЕрджреНрдпрддрди-рдХреЛрдбрд╝рдирд╛ </li></ul></li><li>  рд╡рд┐рд╡рд┐рдз <br><ul><li>  lsof </li><li>  рдЙрдкрдпреБрдХреНрдд </li><li>  rsync </li></ul></li></ol><br><h2 id="laboratornaya-rabota-sostoit-iz-3-h-chastey">  рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдХреЗ рдХрд╛рдо рдореЗрдВ 3 рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: </h2><br><ul><li>  Lvm, RAID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╕реНрд╡рд╕реНрде рдкреНрд░рдгрд╛рд▓реА рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ред </li><li>  рдбреНрд░рд╛рдЗрд╡ рдореЗрдВ рд╕реЗ рдПрдХ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдгред </li><li>  рдирдП рдбрд┐рд╕реНрдХ рдФрд░ рд╡рд┐рднрд╛рдЬрди рд╣рд╕реНрддрд╛рдВрддрд░рдг рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдордХреНрдЦреА рдкрд░ рдбрд┐рд╕реНрдХ рдХреА рдЬрдЧрд╣ред </li></ul><br><h2 id="zadanie-1-ustanovka-os-i-nastroyka-lvm-raid">  рдЯрд╛рд╕реНрдХ 1 (рдУрдПрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдФрд░ LVM, RAID рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛) </h2><br><ol><li><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдирдИ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдмрдирд╛рдПрдБ: </p><br><ul><li>  1 рдЬреАрдмреА рд░рд╛рдо </li><li>  1 рд╕реАрдкреАрдпреВ </li><li>  2 hdd (рдирд╛рдо рдЙрдиреНрд╣реЗрдВ ssd1, ssd2 рдФрд░ рд╕рдорд╛рди рдЖрдХрд╛рд░ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ, рд╣реЙрдЯ рд╕реНрд╡реИрдк рдФрд░ ssd рдмреЙрдХреНрд╕ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ) </li><li>  4 рдкреЛрд░реНрдЯ рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ SATA рдХрдВрдЯреНрд░реЛрд▓рд░: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18f/6f5/be6/18f6f5be6afbc13138abc3dfe960813b.png" alt="ssd рдбрд┐рд╕реНрдХ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ"></li></ul><br></li><li><p>  рд▓рд┐рдирдХреНрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдХреЗ рд╡рд┐рдХрд▓реНрдк рдкрд░ рдЬрд╛рдПрдВ: </p><br><ul><li>  рд╡рд┐рднрд╛рдЬрди рд╡рд┐рдзрд┐: рдореИрдиреБрдЕрд▓, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/77a/eb5/3a1/77aeb53a1de2bc7b91d1396dc9b4148e.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  / рдмреВрдЯ рдХреЗ рддрд╣рдд рдПрдХ рдЕрд▓рдЧ рд╡рд┐рднрд╛рдЬрди рдХреА рд╕реНрдерд╛рдкрдирд╛: рдкрд╣рд▓реА рдбрд┐рд╕реНрдХ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЙрд╕ рдкрд░ рдПрдХ рдирдпрд╛ рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдПрдВ: <br><ul><li>  рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЖрдХрд╛рд░: 512M </li><li>  рдорд╛рдЙрдВрдЯ рдкреНрд╡рд╛рдЗрдВрдЯ: / рдмреВрдЯ </li></ul></li><li>  рджреВрд╕рд░реА рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ, рд▓реЗрдХрд┐рди рдЪреВрдВрдХрд┐ рдЖрдк рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ 2 рдмрд╛рд░ рдорд╛рдЙрдВрдЯ / рдмреВрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрд░реЛрд╣ рдмрд┐рдВрджреБ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ: рдХреЛрдИ рдирд╣реАрдВ рдФрд░ рдЕрдВрдд рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рдПрдХ рдЬрдВрдм, рд▓рд╛рд▓реЛ рдЖрд▓рд╕реНрдп рдХреЗ рд╕рд╛рде рдЪрд┐рддреНрд░): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3db/2f0/e48/3db2f0e48423f182016bde06c39dfb8d.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  RAID рд╕реЗрдЯрдЕрдк: </li><li>  рдкрд╣рд▓реА рдбрд┐рд╕реНрдХ рдкрд░ рдЦрд╛рд▓реА рд╕реНрдерд╛рди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рд╡рд┐рднрд╛рдЬрди рдкреНрд░рдХрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ RAID рдХреЗ рд▓рд┐рдП рднреМрддрд┐рдХ рд╡реЙрд▓реНрдпреВрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред </li><li>  "рд╡рд┐рднрд╛рдЬрди рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛" рдЪреБрдиреЗрдВ </li><li>  рджреВрд╕рд░реА рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рдареАрдХ рдЙрд╕реА рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИрдВ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/93f/37c/ec3/93f37cec319d628a3267f94d138145e7.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  "рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ RAID" рдЪреБрдиреЗрдВ <br><ul><li>  MD рдбрд┐рд╡рд╛рдЗрд╕ рдмрдирд╛рдПрдВ </li><li>  рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ RAID рдбрд┐рд╡рд╛рдЗрд╕ рдкреНрд░рдХрд╛рд░: рдПрдХ рдорд┐рд░рд░ рдХреА рдЧрдИ рд╕рд░рдгреА рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ </li><li>  RAID XXXX рд╕рд░рдгреА рдХреЗ рд▓рд┐рдП рд╕рдХреНрд░рд┐рдп рдбрд┐рд╡рд╛рдЗрд╕: рджреЛрдиреЛрдВ рдбреНрд░рд╛рдЗрд╡ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ </li><li>  рд╕реНрдкреЗрдпрд░ рдбрд┐рд╡рд╛рдЗрд╕: 0 рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЫреЛрдбрд╝ рджреЗрдВ </li><li>  RAID XX рд╕рд░рдгреА рдХреЗ рд▓рд┐рдП рд╕рдХреНрд░рд┐рдп рдбрд┐рд╡рд╛рдЗрд╕: рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЫрд╛рдкреЗ рдХреЗ рддрд╣рдд рдмрдирд╛рдП рдЧрдП рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ </li><li>  рдЕрдВрдд </li></ul></li><li>  рдЕрдВрдд рдореЗрдВ, рдЖрдкрдХреЛ рдпрд╣ рдЪрд┐рддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a7/9b0/3f5/7a79b03f556925d1fd53ccc4ca77b494.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  LVM рд╕реЗрдЯрдЕрдк: рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рдореИрдиреЗрдЬрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдЪреБрдиреЗрдВ </li><li>  рд╡рд░реНрддрдорд╛рди рд╡рд┐рднрд╛рдЬрди рд▓реЗрдЖрдЙрдЯ рд░рдЦреЗрдВ рдФрд░ LVM рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: рд╣рд╛рдБ </li><li>  рд╡реЙрд▓реНрдпреВрдо рд╕рдореВрд╣ рдмрдирд╛рдПрдВ </li><li>  рд╡реЙрд▓реНрдпреВрдо рд╕рдореВрд╣ рдХрд╛ рдирд╛рдо: рд╕рд┐рд╕реНрдЯрдо </li><li>  рдирдП рд╡реЙрд▓реНрдпреВрдо рд╕рдореВрд╣ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдг: рдЕрдкрдирд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ RAID рдЪреБрдиреЗрдВ </li><li>  рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рдмрдирд╛рдПрдВ <br><ul><li>  рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рдирд╛рдо: рд░реВрдЯ </li><li>  рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдХрд╛ рдЖрдХрд╛рд░: рдЖрдкрдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдЖрдХрд╛рд░ рдХрд╛ 2 \ 5 </li></ul></li><li>  рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рдмрдирд╛рдПрдВ <br><ul><li>  рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдирд╛рдо: var </li><li>  рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдХрд╛ рдЖрдХрд╛рд░: рдЖрдкрдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдЖрдХрд╛рд░ рдХрд╛ 2 \ 5 </li></ul></li><li>  рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рдмрдирд╛рдПрдВ <br><ul><li>  рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдирд╛рдо: рд▓реЙрдЧ </li><li>  рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдХрд╛ рдЖрдХрд╛рд░: рдЖрдкрдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдЖрдХрд╛рд░ рдХрд╛ 1 \ 5 </li></ul></li><li>  рдкреНрд░рджрд░реНрд╢рди рд╡рд┐рдиреНрдпрд╛рд╕ рд╡рд┐рд╡рд░рдг рдЪреБрдирдирд╛ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b8/8dd/11f/0b88dd11f9372dbf8e53a6727fc69b27.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  LVM рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/72b/9d4/00d/72b9d400d9b83392c759b7aeb3e9d573.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  рд╡рд┐рднрд╛рдЬрди: рдмрджрд▓реЗ рдореЗрдВ, LVM рдореЗрдВ рдмрдирд╛рдИ рдЧрдИ рдкреНрд░рддреНрдпреЗрдХ рдорд╛рддреНрд░рд╛ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣ рдЬрдбрд╝ рдХреЗ рд▓рд┐рдП: <br><ul><li>  рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: ext4 </li><li>  рдЖрд░реЛрд╣ рдмрд┐рдВрджреБ: / </li></ul></li><li>  рд░реВрдЯ рд╡рд┐рднрд╛рдЬрди рдХреЛ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/225/61e/0be/22561e0be2cd905e0948a63ae3460461.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  рдирд┐рдореНрди рдорд╛рдЙрдВрдЯ рдЕрдВрдХ (/ var рдФрд░ / var / log рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рджрд░реНрдЬ рдХрд░реЗрдВ) рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ, var рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдХрдЕрдк рдСрдкрд░реЗрд╢рди рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ рдФрд░ рдирд┐рдореНрди рдХрд╛рд░реНрдп рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5da/58c/756/5da58c756fd8d205a93ebfd49acc396f.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li><li>  рд╕рдорд╛рдкреНрдд рд╡рд┐рднрд╛рдЬрди рдЪреБрдиреЗрдВ </li><li>  рдЖрдкрдХреЛ рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╕рд╡рд╛рд▓ рдкреВрдЫреЗ рдЬрд╛рдПрдВрдЧреЗ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЕрднреА рднреА рдПрдХ рдЕрдирдорд╛рдЙрдВрдЯ рд╡рд┐рднрд╛рдЬрди рд╣реИ рдФрд░ рд╕реНрд╡реИрдк рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рд╣реИред  рдирдХрд╛рд░рд╛рддреНрдордХ рдореЗрдВ рджреЛрдиреЛрдВ рд╕рд╡рд╛рд▓реЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдЕрдВрддрд┐рдо рдкрд░рд┐рдгрд╛рдо рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/117/381/a61/117381a61b766df3c89d2646baa2b33d.png" alt="рд╡рд┐рднрд╛рдЬрди рдбрд┐рд╕реНрдХ"></li></ul><br></li><li><p>  рдкрд╣рд▓реЗ рдбрд┐рд╡рд╛рдЗрд╕ (рдПрд╕рдбреАрдП) рдкрд░ рдЧреНрд░рдм рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ рдУрдПрд╕ рдХреА рд╕реНрдерд╛рдкрдирд╛ рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдмреВрдЯ рдХрд░реЗрдВред </p><br></li><li><p>  Sd (ssd1) рдбреНрд░рд╛рдЗрд╡ рд╕реЗ sdb (ssd2) рдбреНрд░рд╛рдЗрд╡ рдореЗрдВ / рдмреВрдЯ рд╡рд┐рднрд╛рдЬрди рдХреА рд╕рд╛рдордЧреНрд░реА рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдПрдБ </p><br><pre><code class="plaintext hljs">dd if=/dev/sda1 of=/dev/sdb1</code> </pre> <br></li><li><p>  рджреВрд╕рд░реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЧреНрд░рдм рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><ul><li><p>  рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдбреНрд░рд╛рдЗрд╡ рджреЗрдЦреЗрдВ: </p><br><pre> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li>  рдЙрди рд╕рднреА рдбрд┐рд╕реНрдХ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ, рдЬреЛ рдкрд┐рдЫрд▓реА рдХрдорд╛рдВрдб рдиреЗ рдЖрдкрдХреЛ рдЬрд╛рд░реА рдХреА рдереА рдФрд░ рдпрд╣ рдмрддрд╛рддреА рд╣реИ рдХрд┐ рдпрд╣ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдбрд┐рд╕реНрдХ рд╣реИред </li><li><p>  рдЙрд╕ рдбреНрд░рд╛рдЗрд╡ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдБ рдЬрд┐рд╕ рдкрд░ рдЧреНрд░рдм рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдЗрд╕ рд╕реНрдерд╛рдкрдирд╛ рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">grub-install /dev/sdb</code> </pre> <br></li><li>  рдмрд┐рд▓реНрд▓реА / proc / mdstat рдХреЗ рд╕рд╛рде рд╡рд░реНрддрдорд╛рди рдЫрд╛рдкреЗ рджреЗрдЦреЗрдВ рдФрд░ рдЬреЛ рдЖрдкрдиреЗ рджреЗрдЦрд╛, рдЙрд╕реЗ рд▓рд┐рдЦреЗрдВред </li><li>  рдЖрджреЗрд╢реЛрдВ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рджреЗрдЦреЗрдВ: pvs, vgs, lvs, рдЖрд░реЛрд╣рд┐рдд рдХрд░реЗрдВ рдФрд░ рд╡рд╣реА рд▓рд┐рдЦреЗрдВ рдЬреЛ рдЖрдкрдиреЗ рджреЗрдЦрд╛ рдерд╛ред </li></ul><br></li></ol><br><p>  рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ рд╡рд░реНрдгрди рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛ рдерд╛ рдФрд░ рдкреВрд░реНрдг рдХрд╛рд░реНрдп рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЖрдкрдХреЛ рдХреНрдпрд╛ рдорд┐рд▓рд╛ред </p><br><p>  рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдЖрдк рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд╕рд╛рде рдлрд╝реЛрд▓реНрдбрд░ рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрдВ рдпрд╛ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд╡рд╛рд░рд╛ рдмреЙрдХреНрд╕</a> рдмрдирд╛рдПрдВред </p><br><p>  рдкрд░рд┐рдгрд╛рдо: ssd1, ssd2 рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиред </p><br><h2 id="zadanie-2-emulyaciya-otkaza-odnogo-iz-diskov">  рдЯрд╛рд╕реНрдХ 2 (рдбреНрд░рд╛рдЗрд╡ рдореЗрдВ рд╕реЗ рдПрдХ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг) </h2><br><ol><li>  рдпрджрд┐ рдЖрдкрдиреЗ рд╣реЙрдЯ рд╕реНрд╡реИрдк рдЪреЗрдХрдмреЙрдХреНрд╕ рдЪреЗрдХ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдордХреНрдЦреА рдкрд░ рдбрд┐рд╕реНрдХ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><ul><li>  рдорд╢реАрди рдЧреБрдгреЛрдВ рдореЗрдВ ssd1 рдбреНрд░рд╛рдЗрд╡ рд╣рдЯрд╛рдПрдВред </li><li>  рд╡рд╣ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЦреЛрдЬреЗрдВ рдЬрд╣рд╛рдВ рдЖрдкрдХреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреА рдлрд╛рдЗрд▓реЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВ рдФрд░ ssd1.vmdk рдХреЛ рд╣рдЯрд╛ рджреЗрдВред </li></ul></li><li>  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдЕрднреА рднреА рдЪрд▓ рд░рд╣реА рд╣реИред </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЛ рд░рд┐рдмреВрдЯ рдХрд░реЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдпрд╣ рдЕрднреА рднреА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ </li><li>  RAID рд╕рд░рдгреА рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ: <code>cat /proc/mdstat</code> </li><li>  VM рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рд╕рдорд╛рди рдЖрдХрд╛рд░ рдХреА рдПрдХ рдирдИ рдбрд┐рд╕реНрдХ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕реЗ ssd3 рдирд╛рдо рджреЗрдВред </li><li>  рдХрд╛рд░реНрдп рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ: <br><ul><li>  <code>fdisk -l</code> рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реА рдирдИ рдбрд┐рд╕реНрдХ рдХреЛ рджреЗрдЦреЗрдВ </li><li>  рдкреБрд░рд╛рдиреА рдбрд┐рд╕реНрдХ рд╕реЗ рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдирдП рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ: <code>sfdisk -d /dev/XXXX | sfdisk /dev/YYY</code> <code>sfdisk -d /dev/XXXX | sfdisk /dev/YYY</code> </li><li>  рдкрд░рд┐рдгрд╛рдо рдХреЛ <code>fdisk -l</code> рд╕рд╛рде рджреЗрдЦреЗрдВ </li><li>  рдЫрд╛рдкреЗ рд╕рд░рдгреА рдореЗрдВ рдПрдХ рдирдИ рдбрд┐рд╕реНрдХ рдЬреЛрдбрд╝реЗрдВ: <code>mdadm --manage /dev/md0 --add /dev/YYY</code> </li><li>  рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВ: <code>cat /proc/mdstat</code>  рдЖрдкрдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛ рд╣реИред </li></ul></li><li><p>  рдЕрдм рдЖрдкрдХреЛ рдЙрди рд╡рд┐рднрд╛рдЬрдиреЛрдВ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ RAID рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдирд╣реАрдВ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо dd рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, "рд▓рд╛рдЗрд╡" рдбрд┐рд╕реНрдХ рд╕реЗ рдЙрд╕ рдирдП рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рд╣рд╛рд▓ рд╣реА рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li>  рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдирдИ рдбрд┐рд╕реНрдХ рдкрд░ рдЧреНрд░рдм рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред </li><li>  рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП VM рдХреЛ рд░рд┐рдмреВрдЯ рдХрд░реЗрдВред </li></ol><br><p>  рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ рд╡рд░реНрдгрди рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛ рдерд╛ рдФрд░ рдкреВрд░реНрдг рдХрд╛рд░реНрдп рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЖрдкрдХреЛ рдХреНрдпрд╛ рдорд┐рд▓рд╛ред </p><br><p>  <strong>рдкрд░рд┐рдгрд╛рдо:</strong> ssd1 рдбреНрд░рд╛рдЗрд╡ рдХреЛ рдирд┐рдХрд╛рд▓рд╛, ssd2 рдбреНрд░рд╛рдЗрд╡ рдХреЛ рдмрдЪрд╛рдпрд╛, ssd3 рдбреНрд░рд╛рдЗрд╡ рдХреЛ рдЬреЛрдбрд╝рд╛ред </p><br><h2 id="zadanie-3-dobavlenie-novyh-diskov-i-perenos-razdela">  рдЯрд╛рд╕реНрдХ 3 (рдирдИ рдбрд┐рд╕реНрдХ рдФрд░ рд╡рд┐рднрд╛рдЬрди рдЬреЛрдбрд╝рддреЗ рд╣реБрдП) </h2><br><p>  рдкреНрд░рд╕реНрддреБрдд рд╕рднреА рдореЗрдВ рдпрд╣ рд╕рдмрд╕реЗ рдХрдард┐рди рдФрд░ рдмрдбрд╝рд╛ рдХрд╛рдо рд╣реИред  рдзреНрдпрд╛рди рд╕реЗ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЖрдк рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдХрд┐рд╕ рдбрд┐рд╕реНрдХ рдФрд░ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╕рд╛рдеред  рдпрд╣ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдПрдХ рдкреНрд░рддрд┐ рд▓реЗ рд▓реЗрдВред  рдпрд╣ рдХрд╛рд░реНрдп, рдЯрд╛рд╕реНрдХ рдирдВрдмрд░ 2 рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛, рдпрд╣ рдЯрд╛рд╕реНрдХ рдирдВрдмрд░ 1 рдХреЗ рдмрд╛рдж рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдбрд┐рд╕реНрдХ рдирд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдХреЗ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЗ рджреВрд╕рд░реЗ рднрд╛рдЧ рдХреЛ рдареАрдХ рдЙрд╕реА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд▓реЗ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЗ рдмрд╛рдж рдерд╛ред </p><br><p>  рдЖрдкрдХреЛ рдХрд╛рдо рдХрд░рдирд╛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдореЗрдЬрдмрд╛рди рдорд╢реАрди рд╕реЗ рдбрд┐рд╕реНрдХ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╢рд╛рд░реАрд░рд┐рдХ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рд╣рдЯрд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрдиреНрд╣реЗрдВ рдорд╢реАрди рдХреЗ рдЧреБрдгреЛрдВ рдореЗрдВ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХрд░ рд░рд╣рд╛ рд╣реВрдВред  рд╡реАрдПрдо рдореЗрдВ рдУрдПрд╕ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╕рдорд╛рди рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рд▓реЗрдХрд┐рди рдХрд┐рд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдк рдбреНрд░рд╛рдЗрд╡ рдХреЛ рд╡рд╛рдкрд╕ рдХрдиреЗрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрджрд┐ рдЖрдкрдХреЛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИ, рддреЛ рдХреБрдЫ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдХреЗ рдХрд╛рдо рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдиреЗ рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ рд╣реЛрдЧрд╛ рдпрд╛ рдирдИ рдбрд┐рд╕реНрдХ рдкрд░ / рдмреВрдЯ рд╡рд┐рднрд╛рдЬрди рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдирд╛ рднреВрд▓ рдЧрдП рд╣реИрдВред  рдореИрдВ рдХреЗрд╡рд▓ рдЖрдкрдХреЛ рдХрдИ рдмрд╛рд░ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк рдХрд┐рд╕ рдбрд┐рд╕реНрдХ рдФрд░ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдЗрд╕рд╕реЗ рднреА рдмреЗрд╣рддрд░, рдбрд┐рд╕реНрдХ рдХреЗ рд╡рд┐рднрд╛рдЬрди, рд╡рд┐рднрд╛рдЬрди рдФрд░ рдХрд╛рдЧрдЬ рдХреЗ рдПрдХ рдЯреБрдХрдбрд╝реЗ рдкрд░ "рднреМрддрд┐рдХ" рдбрд┐рд╕реНрдХ рд╕рдВрдЦреНрдпрд╛ рд▓рд┐рдЦреЗрдВред  <code>lsblk</code> рдХрдорд╛рдВрдб рдПрдХ рд╕реБрдВрджрд░ рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдкреЗрдбрд╝ рдЦреАрдВрдЪрддрд╛ рд╣реИ, рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЙрддрдирд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдХреНрдпрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдХрд╣рд╛рдиреА рдХреЛ ... </p><br><p>  рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП рдХрд┐ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдиреЗ 2 ssd рдбрд┐рд╕реНрдХ рдкрд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХрд╛рдо рдХрд┐рдпрд╛, рдЬрдм рдЕрдЪрд╛рдирдХ ... </p><br><ol><li><p>  VM рдЧреБрдгреЛрдВ рд╕реЗ рдбрд┐рд╕реНрдХ рдХреЛ рд╣рдЯрд╛рдХрд░ рдФрд░ рд░реАрдмреВрдЯ рдХрд░рдХреЗ ssd2 рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВред </p><br></li><li><p>  рдбрд┐рд╕реНрдХ рдФрд░ RAID рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рджреЗрдЦреЗрдВ: </p><br><pre> <code class="plaintext hljs">cat /proc/mdstat fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li><p>  рдЖрдк рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИрдВ - рдЕрдзрд┐рдХрд╛рд░рд┐рдпреЛрдВ рдиреЗ рдХрдИ рдирдИ рдбрд┐рд╕реНрдХ рдЦрд░реАрджрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреА рд╣реИ: </p><br><p>  рд▓реЙрдЧ рдЕрдиреБрднрд╛рдЧ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдбрд┐рд╕реНрдХ рдкрд░ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдЕрдзрд┐рдХ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП 2 SATA рдмрдбрд╝реЗ рд╡реЙрд▓реНрдпреВрдоред  2 рдПрд╕рдПрд╕рдбреА рдореГрддрдХ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рд╛рде рд╣реА рдЕрднреА рднреА рдХрд╛рдордХрд╛рдЬ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдПред </p><br><p>  рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рд╕рд░реНрд╡рд░ рдХреА рдЯреЛрдХрд░реА рдХреЗрд╡рд▓ 4 рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреА рд╣реИред  рдЙрд╕реА рд╕рдордп, рдЗрд╕рд▓рд┐рдП рдЖрдк рдПрдХ рдмрд╛рд░ рдореЗрдВ рд╕рднреА рдбрд┐рд╕реНрдХ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗред </p><br><p>  HDD рдХреА рдорд╛рддреНрд░рд╛ SSD рд╕реЗ 2 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдПред <br>  SSD рдХреА рдорд╛рддреНрд░рд╛ рдкреВрд░реНрд╡ SSD рдХреЗ рдЖрдХрд╛рд░ рдХрд╛ 1.25 рдЧреБрдирд╛ рд╣реИред </p><br></li><li><p>  рдПрдХ рдирдпрд╛ ssd рдбреНрд░рд╛рдЗрд╡ рдЬреЛрдбрд╝реЗрдВ, рдЗрд╕реЗ ssd4 рдирд╛рдо рджреЗрдВ, рдФрд░ рдЪреЗрдХ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж рдХрд┐ рдХреНрдпрд╛ рд╣реБрдЖ: </p><br><pre> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдкреБрд░рд╛рдиреА рдбрд┐рд╕реНрдХ рдХреЗ рдбреЗрдЯрд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕ рдмрд╛рд░ рд╣рдо LVM рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░реЗрдВрдЧреЗ: </p><br><ul><li><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рдбрд┐рд╕реНрдХ рдХреЛ рдкреБрд░рд╛рдиреЗ рдбрд┐рд╕реНрдХ рд╕реЗ рдирдП рдПрдХ рдореЗрдВ рдХреЙрдкреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">sfdisk -d /dev/XXX | sfdisk /dev/YYY</code> </pre> <br><p>  рдПрдХреНрд╕, рд╡рд╛рдИ рдХреЗ рдмрдЬрд╛рдп рд╕рд╣реА рдбрд┐рд╕реНрдХ рдХреЛ рд╕рдмреНрд╕реНрдЯреАрдЯреНрдпреВрдЯ рдХрд░реЗрдВ рдФрд░ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдПрдВ рдХрд┐ рдпрд╣ рдХрдорд╛рдВрдб рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИред </p><br></li><li>  Lsblk -o NAME, SIZE, FSTYPE, TYPE, MOUNTPOINT рдХреЛ рдЪрд▓рд╛рдПрдВ рдФрд░ рдкрд┐рдЫрд▓реЗ рдХреЙрд▓ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВред  рдХреНрдпрд╛ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ? </li><li><p>  / рдбрд┐рд╕реНрдХ рдбреЗрдЯрд╛ рдХреЛ рдирдИ рдбрд┐рд╕реНрдХ рдкрд░ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП dd рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li><p>  рдпрджрд┐ / рдмреВрдврд╝рд╛ рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдмреВрдЯ рд░рд╣рддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рд▓рд╛рдЗрд╡ рдбреНрд░рд╛рдЗрд╡ рдкрд░ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><pre> <code class="bash hljs">mount | grep boot <span class="hljs-comment"><span class="hljs-comment">#     lsblk #           ,     umount /boot #  /boot mount -a #      /etc/fstab. #      /dev/sda,        </span></span></code> </pre> <br></li><li><p>  рдирдП ssd рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдмреВрдЯрд▓реЛрдбрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">grub-install /dev/YYY</code> </pre> <br><p>  рд╣рдо рдпрд╣ рдСрдкрд░реЗрд╢рди рдХреНрдпреЛрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВ? </p><br></li><li><p>  рдХреЗрд╡рд▓ рдПрдХ рдирдП ssd рдбреНрд░рд╛рдЗрд╡ рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдЫрд╛рдкрд╛ рд╕рд░рдгреА рдмрдирд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">mdadm --create --verbose /dev/md63 --level=1 --raid-devices=1 /dev/YYY</code> </pre> <br><p>  рдКрдкрд░ рдХреА рдХрдорд╛рдВрдб рдПрдХ рд╡рд┐рд╢реЗрд╖ рдХреБрдВрдЬреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдмрд┐рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧреАред рд╕рд╣рд╛рдпрддрд╛ рдкрдврд╝реЗрдВ рдФрд░ рдЗрд╕ рдХреБрдВрдЬреА рдХреЛ рдХрдорд╛рдВрдб рдореЗрдВ рдЬреЛрдбрд╝реЗрдВред </p><br></li><li>  рдЕрдкрдиреЗ рдСрдкрд░реЗрд╢рди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд┐рд▓реНрд▓реА / proc / mdstat рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рдХреНрдпрд╛ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ? </li><li>  Lsblk -o NAME, SIZE, FSTYPE, TYPE, MOUNTPOINT рдХреЛ рдЪрд▓рд╛рдПрдВ рдФрд░ рдкрд┐рдЫрд▓реЗ рдХреЙрд▓ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВред  рдХреНрдпрд╛ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ? </li></ul><br></li><li><p>  рдЕрдЧрд▓рд╛ рдХрджрдо LVM рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реИ </p><br><ul><li>  рд╡рд░реНрддрдорд╛рди рднреМрддрд┐рдХ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП pvs рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБред </li><li><p>  рдЗрд╕рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рдирд┐рд░реНрдорд┐рдд RAID рд╕рд░рдгреА рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдХреЗ рдПрдХ рдирдпрд╛ рднреМрддрд┐рдХ рдЖрдпрддрди рдмрдирд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">pvcreate /dev/md63</code> </pre> <br></li><li>  Lsblk -o NAME, SIZE, FSTYPE, TYPE, MOUNTPOINT рдХреЛ рдЪрд▓рд╛рдПрдВ рдФрд░ рдкрд┐рдЫрд▓реЗ рдХреЙрд▓ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВред  рдХреНрдпрд╛ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ? </li><li>  рдлрд┐рд░ рд╕реЗ pvs рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБред  рдХреНрдпрд╛ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ? </li><li><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрджреЗрд╢ рдХреЗ рд╕рд╛рде рд╡реЙрд▓реНрдпреВрдо рд╕рдореВрд╣ рдкреНрд░рдгрд╛рд▓реА рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">vgextend system /dev/md63</code> </pre> <br></li><li><p>  рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдФрд░ рдЖрдкрдиреЗ рдЬреЛ рджреЗрдЦрд╛ рдФрд░ рдЬреЛ рдмрджрд▓рд╛ рд╡рд╣ рд▓рд┐рдЦрд┐рдПред </p><br><pre> <code class="plaintext hljs">vgdisplay system -v pvs vgs lvs -a -o+devices</code> </pre> <br><p>  рдЕрдм рдХрд┐рд╕ рднреМрддрд┐рдХ рдбрд┐рд╕реНрдХ рдкрд░ LV var, log, root рд╣реИрдВ? </p><br></li><li><p>  рд╕рд╣реА рдбрд┐рд╡рд╛рдЗрд╕ рдирд╛рдореЛрдВ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдХреЗ рдкреБрд░рд╛рдиреА рдбреНрд░рд╛рдЗрд╡ рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рдирдП рдПрдХ рдореЗрдВ рд▓реЗ рдЬрд╛рдПрдВред </p><br><pre> <code class="plaintext hljs">pvmove -i 10 -n /dev/system/root /dev/md0 /dev/md63</code> </pre> <br><p>  рд╕рднреА рддрд╛рд░реНрдХрд┐рдХ рд╡реЙрд▓реНрдпреВрдо рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрд╢рди рджреЛрд╣рд░рд╛рдПрдВред </p><br></li><li><p>  рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдФрд░ рдЖрдкрдиреЗ рдЬреЛ рджреЗрдЦрд╛ рдФрд░ рдЬреЛ рдмрджрд▓рд╛ рд╡рд╣ рд▓рд┐рдЦрд┐рдПред </p><br><pre> <code class="plaintext hljs">vgdisplay system -v pvs vgs lvs -a -o+devices lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li><p>  рдЗрд╕рдореЗрдВ рд╕реЗ рдкреБрд░рд╛рдиреЗ рдЫрд╛рдкреЗ рдХреЛ рд╣рдЯрд╛рдХрд░ рд╣рдорд╛рд░реЗ рд╡реАрдЬреА рдХреЛ рдмрджрд▓ рджреЗрдВред  рд╕рд╣реА рдЫрд╛рдкреЗ рдирд╛рдо рдХреЛ рд╕реНрдерд╛рди рджреЗрдВред </p><br><pre> <code class="plaintext hljs">vgreduce system /dev/md0</code> </pre> <br></li><li><p>  рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ рдФрд░ рдЖрдкрдиреЗ рдЬреЛ рджреЗрдЦрд╛ рдФрд░ рдЬреЛ рдмрджрд▓рд╛ рд╡рд╣ рд▓рд┐рдЦрд┐рдПред </p><br><pre> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT pvs vgs</code> </pre> <br></li><li>  рдЪрд┐рддреНрд░ рдХреА рд╕реБрдВрджрд░рддрд╛ рдХреЗ рд▓рд┐рдП, рджреВрд╕рд░реЗ ssd рдбреНрд░рд╛рдЗрд╡ (ssd4) рдХреЛ рд░рд┐рдорд╛рдЙрдВрдЯ / рдмреВрдЯ рдХрд░реЗрдВ рдФрд░ lsblk рдЪрд▓рд╛рдПрдВред  рдирддреАрдЬрддрди, рдХреБрдЫ рднреА рдирд╣реАрдВ ssd3 рдбрд┐рд╕реНрдХ рдкрд░ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдзреНрдпрд╛рди рд╕реЗ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ / рдмреВрдЯ рд╡рд┐рднрд╛рдЬрди рдЦрд╛рд▓реА рдирд╣реАрдВ рд╣реИ!  <code>ls /boot</code> рдХрдИ рдлрд╛рдЗрд▓реЗрдВ рдФрд░ рдлреЛрд▓реНрдбрд░ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдХрд┐ рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдХреНрдпрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдиреАрдЪреЗ рд▓рд┐рдЦреЗрдВ рдХрд┐ рдХреМрди рд╕реА рдлрд╝рд╛рдЗрд▓ / рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХрд┐рд╕рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </li></ul><br></li><li><p>  Ssd3 рдбрд┐рд╕реНрдХ рдирд┐рдХрд╛рд▓реЗрдВ рдФрд░ рдЙрдкрд░реЛрдХреНрдд tk рдХреЗ рдЕрдиреБрд╕рд╛рд░ ssd5, hdd1, hdd2 рдЬреЛрдбрд╝реЗрдВ, рдЕрдВрддрддрдГ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд░рд╣рд╛ рд╣реИ: </p><br><ul><li>  ssd4 - рдкрд╣рд▓рд╛ рдирдпрд╛ ssd </li><li>  ssd5 - рджреВрд╕рд░рд╛ рдирдпрд╛ ssd </li><li>  hdd1 - рдкрд╣рд▓рд╛ рдирдпрд╛ hdd </li><li>  hdd2 - рджреВрд╕рд░рд╛ рдирдпрд╛ hdd </li></ul><br></li><li><p>  рдбрд┐рд╕реНрдХреНрд╕ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж рдХреНрдпрд╛ рд╣реБрдЖ рдпрд╣ рдЬрд╛рдВрдЪреЗрдВ: </p><br><pre> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li><p>  рдЖрдЗрдП рдореБрдЦреНрдп рдЫрд╛рдкреЗ рд╕рд░рдгреА рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><ul><li><p>  рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдПрдБ, рд╕рд╣реА рдбрд┐рд╕реНрдХ рдХрд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди: </p><br><pre> <code class="plaintext hljs">sfdisk -d /dev/XXX | sfdisk /dev/YYY</code> </pre> <br></li><li><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЬрдм рд╣рдордиреЗ рдкреБрд░рд╛рдиреЗ рдбрд┐рд╕реНрдХ рд╕реЗ рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдИ, рддреЛ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдирдП рдЖрдХрд╛рд░ рдореЗрдВ рд╕рдВрдкреВрд░реНрдг рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЬрд▓реНрдж рд╣реА рд╣рдореЗрдВ рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓рдиреЗ рдФрд░ рдЫрд╛рдкреЗ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдХрдорд╛рдВрдб рджрд░реНрдЬ рдХрд░рдХреЗ рдЕрдкрдиреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ: </p><br><pre> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li></ul><br></li><li><p>  / рдмреВрдЯ рдмреВрдЯ рд╡рд┐рднрд╛рдЬрди рдХреЛ ssd4 рд╕реЗ ssd5 рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li><p>  рдирдИ рдбрд┐рд╕реНрдХ (ssd5) рдкрд░ рдЧреНрд░рдм рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред </p><br></li><li><p>  Ssd5 рдбреНрд░рд╛рдЗрд╡ рдХреЗ рджреВрд╕рд░реЗ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЖрдХрд╛рд░ рдмрджрд▓реЗрдВред </p><br><ul><li><p>  рдбрд┐рд╕реНрдХ рд▓реЗрдЖрдЙрдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЪрд▓рд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">fdisk /dev/XXX</code> </pre> <br></li><li>  рдореМрдЬреВрджрд╛ рд╡рд┐рднрд╛рдЬрди рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП d рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВ (2 рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ)ред </li><li>  рдирдпрд╛ рд╡рд┐рднрд╛рдЬрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП n рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВред </li><li>  рдкреНрд░рд╛рдердорд┐рдХ рд╡рд┐рднрд╛рдЬрди рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА p рджрд░реНрдЬ рдХрд░реЗрдВред </li><li>  рдХреБрдВрдЬреА 2 рджрд░реНрдЬ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдирдП рд╡рд┐рднрд╛рдЬрди рдореЗрдВ рджреВрд╕рд░рд╛ рдирдВрдмрд░ рд╣реЛред </li><li>  рдкрд╣рд▓рд╛ рдХреНрд╖реЗрддреНрд░: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдЕрдиреБрднрд╛рдЧ рдкреНрд░рд╛рд░рдВрдн рдЖрдХрд╛рд░ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд░ рджрдмрд╛рдПрдВред </li><li>  рдЕрдВрддрд┐рдо рдХреНрд╖реЗрддреНрд░: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдЕрдВрдд рдЕрдиреБрднрд╛рдЧ рдЖрдХрд╛рд░ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд░ рджрдмрд╛рдПрдВред </li><li>  рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рднрд╛рдЬрди рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рд╕реВрдЪреА рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП l рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдореЗрдВ Linux RAID рдСрдЯреЛ рдЦреЛрдЬреЗрдВред </li><li>  рдирд┐рд░реНрдорд┐рдд рд╡рд┐рднрд╛рдЬрди рдХреЗ рдкреНрд░рдХрд╛рд░ (2) рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА рдЯреА рджрд░реНрдЬ рдХрд░реЗрдВ рдФрд░ рдкрд┐рдЫрд▓реЗ рдЪрд░рдг рдореЗрдВ рдорд┐рд▓реА рд╕рдВрдЦреНрдпрд╛ рджрд░реНрдЬ рдХрд░реЗрдВред </li><li>  рдбрд┐рд╕реНрдХ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП w рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВред </li></ul><br></li><li><p>  рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдПрдБ рдФрд░ рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВ: </p><br><pre> <code class="plaintext hljs">partx -u /dev/XXX lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br><ul><li><p>  рд╡рд░реНрддрдорд╛рди рдЫрд╛рдкреЗ рд╕рд░рдгреА рдореЗрдВ рдПрдХ рдирдИ рдбрд┐рд╕реНрдХ рдЬреЛрдбрд╝реЗрдВ (рд╕рд╣реА рдбрд┐рд╕реНрдХ рдХреЛ рдмрджрд▓рдирд╛ рди рднреВрд▓реЗрдВ): </p><br><pre> <code class="plaintext hljs">mdadm --manage /dev/md63 --add /dev/sda2</code> </pre> <br></li><li><p>  рд╣рдо рдЕрдкрдиреЗ рд╕рд░рдгреА рдореЗрдВ рдбрд┐рд╕реНрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ 2 рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">mdadm --grow /dev/md63 --raid-devices=2</code> </pre> <br></li><li><p>  рдкрд░рд┐рдгрд╛рдо рджреЗрдЦреЗрдВ: рд╣рдорд╛рд░реЗ рдкрд╛рд╕ 2 рд╕рд░рдгрд┐рдпрд╛рдБ рдЪрд┐рд╣реНрдирд┐рдд рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕ рд╕рд░рдгреА рдореЗрдВ рд╢рд╛рдорд┐рд▓ рджреЛрдиреЛрдВ рд╡рд░реНрдЧреЛрдВ рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрдХрд╛рд░ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li></ul><br></li><li><p>  Ssd4 рдбрд┐рд╕реНрдХ рдкрд░ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рд╛рдПрдВ </p><br><ul><li><p>  рдбрд┐рд╕реНрдХ рд▓реЗрдЖрдЙрдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдЪрд▓рд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">fdisk /dev/XXX</code> </pre> <br></li><li>  рдореМрдЬреВрджрд╛ рд╡рд┐рднрд╛рдЬрди рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП d рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВ (2 рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ)ред </li><li>  рдирдпрд╛ рд╡рд┐рднрд╛рдЬрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП n рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВред </li><li>  рдкреНрд░рд╛рдердорд┐рдХ рд╡рд┐рднрд╛рдЬрди рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА p рджрд░реНрдЬ рдХрд░реЗрдВред </li><li>  рдХреБрдВрдЬреА 2 рджрд░реНрдЬ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдирдП рд╡рд┐рднрд╛рдЬрди рдореЗрдВ рджреВрд╕рд░рд╛ рдирдВрдмрд░ рд╣реЛред </li><li>  рдкрд╣рд▓рд╛ рдХреНрд╖реЗрддреНрд░: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдЕрдиреБрднрд╛рдЧ рдкреНрд░рд╛рд░рдВрдн рдЖрдХрд╛рд░ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд░ рджрдмрд╛рдПрдВред </li><li>  рдЕрдВрддрд┐рдо рдХреНрд╖реЗрддреНрд░: рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧрдгрдирд╛ рдХрд┐рдП рдЧрдП рдЕрдВрдд рдЕрдиреБрднрд╛рдЧ рдЖрдХрд╛рд░ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд░ рджрдмрд╛рдПрдВред </li><li>  рдорд╛рд░реНрдХрдЕрдк рдХреЗ рдЕрдВрдд рдореЗрдВ, рд╕реЗрдХреНрд╢рди рдХреЛ рд╕рд░рдгреА рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП No рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред </li><li>  рдбрд┐рд╕реНрдХ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП w рдХреБрдВрдЬреА рджрд░реНрдЬ рдХрд░реЗрдВред </li></ul><br></li><li><p>  рд╣рдо рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">partx -u /dev/XXX lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЕрдм sda2, sdc2 рд╡рд┐рднрд╛рдЬрди рд░реЗрдб рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдмрдбрд╝реЗ рд╣реИрдВред </p><br></li><li><p>  рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдЫрд╛рдкреЗ рдХрд╛ рдЖрдХрд╛рд░ рдЕрдм рдмрдврд╝рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="bash hljs">mdadm --grow /dev/md63 --size=max lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT <span class="hljs-comment"><span class="hljs-comment"># check result</span></span></code> </pre> <br><p>  Lsblk рдмреНрд░рд╛рдЙрдЬрд╝ рдХрд░реЗрдВ рдФрд░ рдЬреЛ рдХреБрдЫ рднреА рдмрджрд▓рд╛ рд╣реИ, рдЙрд╕реЗ рд▓рд┐рдЦреЗрдВред </p><br></li><li><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рднрд▓реЗ рд╣реА рд╣рдордиреЗ рдЫрд╛рдкреЗ рдХреЗ рдЖрдХрд╛рд░ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛, рд▓реЗрдХрд┐рди vg root, var рдХреЗ рдЖрдХрд╛рд░, рд▓реЙрдЧ рдЦреБрдж рдирд╣реАрдВ рдмрджрд▓реЗред </p><br><ul><li><p>  рджреЗрдЦреЗрдВ рдХрд┐ рдкреАрд╡реА рдХрд╛ рдЖрдХрд╛рд░ рдХреНрдпрд╛ рд╣реИ: </p><br><pre> <code class="bash hljs">pvs</code> </pre> <br></li><li><p>  рд╣рдорд╛рд░реЗ рдкреАрд╡реА рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рд╛рдПрдБ: </p><br><pre> <code class="bash hljs">pvresize /dev/md63</code> </pre> <br></li><li><p>  рджреЗрдЦреЗрдВ рдХрд┐ рдкреАрд╡реА рдХрд╛ рдЖрдХрд╛рд░ рдХреНрдпрд╛ рд╣реИ: </p><br><pre> <code class="bash hljs">pvs</code> </pre> <br></li></ul><br></li><li><p>  рдирдИ рджрд┐рдЦрд╛рдИ рдЧрдИ рдЬрдЧрд╣ рдХреЛ VG var, рд░реВрдЯ рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="bash hljs">lvs <span class="hljs-comment"><span class="hljs-comment">#     lvextend -l +50%FREE /dev/system/root lvextend -l +100%FREE /dev/system/var lvs #   </span></span></code> </pre> <br><p>  рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдЖрдкрдиреЗ рдореБрдЦреНрдп рдбрд┐рд╕реНрдХ рдХрд╛ рдорд╛рдЗрдЧреНрд░реЗрд╢рди рдирдП рдбрд┐рд╕реНрдХ рдореЗрдВ рдкреВрд░рд╛ рдХрд░ рд▓рд┐рдпрд╛ рд╣реИред  ssd1, ssd2 рдХреЗ рд╕рд╛рде рдХрд╛рдо рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИред </p><br></li><li><p>  рд╣рдорд╛рд░рд╛ рдЕрдЧрд▓рд╛ рдХрд╛рдо рдирдИ рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдЬрд╛рдирд╛ / рдЪрд▓рдирд╛ / рд▓реЙрдЧ рдЗрди рдХрд░рдирд╛ рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо рдПрдХ рдирдпрд╛ рдПрд░реЗ рдмрдирд╛рдПрдВрдЧреЗ рдФрд░ hdd рдбреНрд░рд╛рдЗрд╡ рдкрд░ lvm рдХрд░реЗрдВрдЧреЗред </p><br><ul><li><p>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдирдП hdd рдбреНрд░рд╛рдЗрд╡ рдХреЗ рдирд╛рдо рдХреНрдпрд╛ рд╣реИрдВ: </p><br><pre> <code class="bash hljs">fdisk -l</code> </pre> <br></li><li><p>  рдПрдХ RAID рд╕рд░рдгреА рдмрдирд╛рдПрдБ: </p><br><pre> <code class="bash hljs">mdadm --create /dev/md127 --level=1 --raid-devices=2 /dev/sdc /dev/sdd</code> </pre> <br></li><li><p>  рдмрдбрд╝реЗ рдбрд┐рд╕реНрдХ рд╕реЗ рдЫрд╛рдкреЗ рдореЗрдВ рдПрдХ рдирдпрд╛ рдкреАрд╡реА рдмрдирд╛рдПрдВ: </p><br><pre> <code class="bash hljs">pvcreate data /dev/md127</code> </pre> <br></li><li><p>  рдЗрд╕ PV рдореЗрдВ, рдбреЗрдЯрд╛ рдирд╛рдордХ рдПрдХ рд╕рдореВрд╣ рдмрдирд╛рдПрдБ: </p><br><pre> <code class="bash hljs">vgcreate data /dev/md127</code> </pre> <br></li><li><p>  рд╕рднреА рдЦрд╛рд▓реА рдЬрдЧрд╣ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдЖрдпрддрди рдмрдирд╛рдПрдВ рдФрд░ рдЗрд╕реЗ val_log рдХрд╣реЗрдВ: </p><br><pre> <code class="bash hljs">lvcreate -l 100%FREE -n var_log data <span class="hljs-comment"><span class="hljs-comment"># lvs #  </span></span></code> </pre> <br></li><li><p>  Ext4 рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╡рд┐рднрд╛рдЬрди рдХреЛ рдкреНрд░рд╛рд░реВрдкрд┐рдд рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs">mkfs.ext4 /dev/mapper/data-var_log</code> </pre> <br></li><li><p>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рд░рд┐рдЬрд▓реНрдЯ: </p><br><pre> <code class="bash hljs">lsblk</code> </pre> <br></li></ul><br></li><li><p>  рдкреБрд░рд╛рдиреЗ рдЕрдиреБрднрд╛рдЧ рд╕реЗ рдирдП рдореЗрдВ рд▓реЙрдЧ рдбреЗрдЯрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВ </p><br><ul><li><p>  рд╣рдо рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдирдпрд╛ рд▓реЙрдЧ рд╕реНрдЯреЛрд░реЗрдЬ рдорд╛рдЙрдВрдЯ рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="plaintext hljs">mount /dev/mapper/data-var_log /mnt</code> </pre> <br></li><li><p>  рдЖрдЗрдП рд╡рд░реНрдЧреЛрдВ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs">apt install rsync rsync -avzr /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ /mnt/</code> </pre> <br></li><li><p>  рдкрддрд╛ рдХрд░реЗрдВ рдХрд┐ рдХреМрди рд╕реА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ / var / log рдХреЗ рд╕рд╛рде рдЕрднреА рдЪрд▓ рд░рд╣реА рд╣реИрдВ: </p><br><pre> <code class="bash hljs">apt install lsof lsof | grep <span class="hljs-string"><span class="hljs-string">'/var/log'</span></span></code> </pre> <br></li><li><p>  рд╣рдо рдЗрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд░реЛрдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="bash hljs">systemctl stop rsyslog.service syslog.socket</code> </pre> <br></li><li><p>  рд╣рдо рд╡рд┐рднрд╛рдЬрди рдХреЗ рдЕрдВрддрд┐рдо рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди (рдкрд┐рдЫрд▓реЗ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рдмрд╛рдж рд╕реЗ рдмрджрд▓ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХрд╛) рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="bash hljs">rsync -avzr /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ /mnt/</code> </pre> <br></li><li><p>  рд╡рд░реНрдЧреЛрдВ рдХреЛ рд╕реНрд╡реИрдк рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs">umount /mnt umount /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> mount /dev/mapper/data-var_log /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br></li><li><p>  рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╣реБрдЖ: </p><br><pre> <code class="bash hljs">lsblk</code> </pre> <br></li></ul><br></li><li><p>  рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ / рдЖрджрд┐ / fstab </p><br><p>  fstab - рдПрдХ рдлрд╛рдЗрд▓ рдЬрд┐рд╕рдореЗрдВ рдирд┐рдпрдореЛрдВ рдХреЛ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╡рд┐рднрд╛рдЬрди рдмреВрдЯ рдореЗрдВ рдЖрд░реЛрд╣рд┐рдд рд╣реЛрдЧрд╛ред  рд╣рдорд╛рд░рд╛ рдХрд╛рд░реНрдп рдЙрд╕ рд▓рд╛рдЗрди рдХреЛ рдЦреЛрдЬрдирд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ / var / log рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ <code>system-log</code> рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ <code>data-var_log</code> рдареАрдХ рдХрд░рддрд╛ <code>system-log</code> ред </p><br></li><li><p>  рдЗрд╕ рд╕реНрддрд░ рдкрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╡рд┐рднрд╛рдЬрди рддрд╛рд▓рд┐рдХрд╛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, ext4) рдХреЛ рдмрджрд▓рдирд╛ рдпрд╛рдж рд░рдЦреЗрдВред  рдЪреВрдВрдХрд┐ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рд╣рдо рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЫрд╛рдкреЗ, рдПрд▓рд╡реАрдПрдо рдХреИрд╕реЗ рдмрджрд▓рддреЗ рд╣реИрдВ - рдЬрдм рддрдХ рдХрд┐ рд╡рд┐рднрд╛рдЬрди рдкрд░ рдПрдлрдПрд╕ рдХреЛ рд╕реВрдЪрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рднрд╛рдЬрди рдХрд╛ рдЖрдХрд╛рд░ рдЕрдм рдмрджрд▓ рдЧрдпрд╛ рд╣реИ, рд╣рдо рдирдП рд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред  FS рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <code>resize2fs</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред </p><br></li><li><p>  рдЕрдВрддрд┐рдо рд░рд╛рдЧ </p><br><ul><li>  рдЪрд▓реЛ рд░рд┐рдмреВрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рдЖрдкрдиреЗ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдлрд┐рд░ рд╕реЗ рдЕрдкрдиреЗ рдУрдПрд╕ рдореЗрдВ рдкрд╛рдПрдВрдЧреЗ (рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рдЖрддреНрдо-рдкрд░реАрдХреНрд╖рдг рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдЗрд╕ рдХрджрдо рдХрд╛ рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИ) </li><li><p>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ: </p><br><pre> <code class="bash hljs">pvs lvs vgs lsblk cat /proc/mdstat</code> </pre> <br></li></ul><br></li><li><p>  [рд╡реИрдХрд▓реНрдкрд┐рдХ] рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ </p><br><ul><li>  рдмреВрдЯ рдХрд░рддреЗ рд╕рдордп рдЕрд▓рдЧ-рдЕрд▓рдЧ рдбрд┐рд╕реНрдХ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП F12 рджрдмрд╛рдХрд░ рд░рд┐рдмреВрдЯ рдХрд░реЗрдВ, рддрд╛рдХрд┐ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛ рд╕рдХреЗ рдХрд┐ рдЖрдк рдХрд┐рд╕реА рднреА sdd рдбрд┐рд╕реНрдХ рд╕реЗ рдмреВрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рддрд╛рдХрд┐ рд╣рдо рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдПрдХ рдХреЗ рд╡рд┐рдлрд▓ рд╣реЛрдиреЗ рд╕реЗ рдбрд░реЗрдВ рдирд╣реАрдВред </li><li><p>  рдЕрдм рдЖрдкрдХреЗ рдкрд╛рд╕ VG рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЕрдирд╛рд╡рд╢реНрдпрдХ LV рд▓реЙрдЧ рд╣реИред  рдЗрд╕ рд╕реНрдерд╛рди рдХреЛ рд░реВрдЯ рдпрд╛ var рдХреЗ рдмреАрдЪ рд╡рд┐рддрд░рд┐рдд рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди 100% рдореБрдлрд╝реНрдд рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ -L рд╕реНрд╡рд┐рдЪ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдХрд╛рд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ: </p><br><pre> <code class="bash hljs">-L 500M</code> </pre> <br></li><li>  рд╕рдорд╕реНрдпрд╛ рдХреЛ рдЗрд╕ рддрдереНрдп рд╕реЗ рдареАрдХ рдХрд░реЗрдВ рдХрд┐ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рдмрд┐рдирд╛ рдмреВрдЯ рджреЛ рд╡рд┐рднрд╛рдЬрди рдкрд░ рд╣реИ, рдЖрдкрдХреЛ рдЗрд╕реЗ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╣рд╛рдВ рдЗрд╕реЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред  рдХрд╣реАрдВ рдкрд░ / рдмреВрдЯ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордд рднреВрд▓рдирд╛ред </li><li>  рдПрдХ рдирдпрд╛ рдЫрд╛рдкрд╛ рдмрдирд╛рдПрдБ рдФрд░ рдЗрд╕рдореЗрдВ sda1, sda2 рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВред </li><li>  рдЕрдкрдиреЗ рдореМрдЬреВрджрд╛ рдЫрд╛рдкреЗ рдореЗрдВ рдЗрди рд╡рд┐рднрд╛рдЬрдиреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ рдФрд░ рдореВрд▓ рд░реВрдк рд╕реЗ рдЫрд╛рдкреЗ / рдмрд╣рд╛рд▓ рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдЕрдм рдЗрд╕реЗ рдмрдврд╝рд╛рдП рдмрд┐рдирд╛ред </li></ul><br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi450896/">https://habr.com/ru/post/hi450896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi450886/index.html">рдкреГрд╖реНрдарднреВрдорд┐: рд╣рд╛рдЗрдбреНрд░реЛрдЬрди рдХрд╛рд░реЗрдВ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИрдВ рдФрд░ рдЬрдм рд╡реЗ рд╕рдбрд╝рдХреЛрдВ рдкрд░ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИрдВ</a></li>
<li><a href="../hi450888/index.html">рд╕реНрд╡рд┐рдлреНрдЯ: рдПрд╡рд░реЛрд╕реНрдЯреЛрдиреЗрд╕ рдХреА рдЫрд▓рдиреА</a></li>
<li><a href="../hi450890/index.html">Google I / O News 2019: Pixel 3a, Android Q, Kotlin рдФрд░ рдмрд╣реБрдд рдХреБрдЫ</a></li>
<li><a href="../hi450892/index.html">рдХреНрдпрд╛ рднрдВрдбрд╛рд░рдг рдЧрддрд┐ рдЖрджрд┐ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ? рдлрд┐рдпреЛ рд╕реЗ рдкреВрдЫреЛ</a></li>
<li><a href="../hi450894/index.html">рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯреЗрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi450898/index.html">рдХрдИ рд╕реНрдХреНрд░реАрди рдкрд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рд╡рд┐рдХрд╛рд╕ред рдР рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрджрдо</a></li>
<li><a href="../hi450902/index.html">рд╡рдлрд╛рджрд╛рд░ рдХрд░реНрдордЪрд╛рд░реА рдЪрд╛рд╣рддреЗ рд╣реИрдВ - рдЕрдкрдиреЗ рдЖрдк рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ</a></li>
<li><a href="../hi450904/index.html">рд╣рд░рдХреЛрдХреЛ рдХреЛ рдПрдПрд╕рдкреА рдбреЙрдЯ рдХреЛрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХрддрд╛</a></li>
<li><a href="../hi450906/index.html">рдЬреАрд╡рд┐рдд рдФрд░ рдмрдврд╝рддреЗ рд▓реЗрдЯреЗрд╕ рдХреИрд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ</a></li>
<li><a href="../hi450908/index.html">Asterisk рдХреЗ рд▓рд┐рдП рдмреНрд▓реИрдХрд▓рд┐рд╕реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>