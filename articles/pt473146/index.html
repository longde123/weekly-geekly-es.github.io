<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó°Ô∏è üíà üèπ Servidor Blazor nos cen√°rios e desempenho do .NET Core 3.0 ‚úã üìò üêê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desde o lan√ßamento do Blazor Server com o .NET Core 3.0, no m√™s passado, muitas pessoas compartilharam sua empolga√ß√£o conosco sobre a capacidade de cr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Servidor Blazor nos cen√°rios e desempenho do .NET Core 3.0</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/473146/">  Desde o lan√ßamento do Blazor Server com o .NET Core 3.0, no m√™s passado, muitas pessoas compartilharam sua empolga√ß√£o conosco sobre a capacidade de criar uma interface de usu√°rio da Web do lado do cliente apenas com .NET e C #.  Ao mesmo tempo, tamb√©m ouvimos muitas perguntas sobre o que √© o Blazor Server, como ele se relaciona com o Blazor WebAssembly e quais cen√°rios o Blazor Server √© mais adequado.  Voc√™ deve escolher o Blazor Server para suas necessidades de interface do usu√°rio da Web do lado do cliente ou aguardar o Blazor WebAssembly?  Esta publica√ß√£o procura responder a essas perguntas e fornecer informa√ß√µes sobre o desempenho do Blazor Server em grande escala e como visualizamos o Blazor evoluindo no futuro. <br><br><h2>  O que √© o Blazor Server? </h2><br>  Os aplicativos do servidor Blazor hospedam componentes Blazor no servidor e lidam com intera√ß√µes da interface do usu√°rio em uma conex√£o SignalR em tempo real.  √Ä medida que o usu√°rio interage com o aplicativo, os eventos da interface do usu√°rio s√£o enviados ao servidor pela conex√£o para serem tratados pelos v√°rios componentes que comp√µem o aplicativo.  Quando um componente lida com um evento da interface do usu√°rio, ele √© renderizado com base em seu estado atualizado.  O Blazor compara a sa√≠da rec√©m-renderizada com a que foi renderizada anteriormente e envia as altera√ß√µes de volta ao navegador e as aplica ao DOM. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/825/6b4/829/8256b4829c0d6a9087c316bb6cc52a05.png"><a name="habracut"></a><br><br>  Como os aplicativos do Blazor Server s√£o executados no .NET Core no servidor, eles desfrutam de todos os benef√≠cios da execu√ß√£o no .NET Core, incluindo excelente desempenho em tempo de execu√ß√£o e ferramentas.  Os aplicativos do Blazor Server podem aproveitar todo o ecossistema das bibliotecas .NET Standard sem nenhuma limita√ß√£o imposta pelo navegador. <br><br><h2>  Quando devo usar o Blazor Server? </h2><br>  O Blazor Server permite adicionar uma interface do usu√°rio interativa rica aos seus aplicativos .NET <i>hoje,</i> sem a necessidade de escrever JavaScript.  Se voc√™ precisar da interatividade de um aplicativo de p√°gina √∫nica no seu aplicativo .NET, o Blazor Server √© uma √≥tima solu√ß√£o. <br><br>  O Blazor Server pode ser usado para escrever aplicativos completamente novos ou para complementar aplicativos MVC e Razor Pages existentes.  N√£o h√° necessidade de reescrever a l√≥gica do aplicativo existente.  O Blazor foi projetado para trabalhar em conjunto com o MVC e o Razor Pages, n√£o para substitu√≠-los.  Voc√™ pode continuar usando o MVC e o Razor Pages para suas necessidades de renderiza√ß√£o do servidor enquanto usa o Blazor para intera√ß√µes da interface do usu√°rio do lado do cliente. <br><br>  O Blazor Server funciona melhor em cen√°rios em que voc√™ possui uma conex√£o de rede de baixa lat√™ncia confi√°vel, que normalmente √© alcan√ßada quando o cliente e o servidor est√£o geograficamente no mesmo continente.  Aplicativos que exigem atualiza√ß√µes instant√¢neas de fidelidade extremamente alta a cada pequeno movimento do mouse, como jogos em tempo real ou aplicativos de desenho, n√£o s√£o adequados para o Blazor Server.  Como os aplicativos do Blazor Server requerem uma conex√£o de rede ativa, os cen√°rios offline n√£o s√£o suportados. <br><br>  O Blazor Server tamb√©m √© √∫til quando voc√™ deseja descarregar o trabalho do cliente para o servidor.  Os aplicativos do Blazor Server requerem apenas um pequeno download para estabelecer a conex√£o com o servidor e processar intera√ß√µes da interface do usu√°rio.  Todo o trabalho √°rduo de executar a l√≥gica do aplicativo e renderizar a interface do usu√°rio √© feito no servidor.  Isso significa que os aplicativos do Blazor Server s√£o carregados rapidamente, mesmo quando a funcionalidade do aplicativo aumenta.  Como o lado do cliente de um aplicativo Blazor Server √© muito pequeno, √© uma √≥tima solu√ß√£o para aplicativos que precisam ser executados em dispositivos de baixa pot√™ncia. <br><br><h2>  Usando o Blazor Server em escala </h2><br>  O Blazor Server pode escalar de pequenas aplica√ß√µes internas de linha de neg√≥cios a grandes aplicativos de escala da Internet.  Enquanto o .NET Core 3.0 ainda estava em pr√©-visualiza√ß√£o, testamos o Blazor Server para ver como s√£o suas caracter√≠sticas de escala de linha de base.  Colocamos um aplicativo Blazor Server sob carga com clientes ativos e monitoramos a lat√™ncia das intera√ß√µes do usu√°rio.  Em nossos testes, uma √∫nica inst√¢ncia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Standard_D1_v2</a> no Azure (1 vCPU, mem√≥ria de 3,5 GB) pode lidar com mais de 5.000 usu√°rios simult√¢neos sem nenhuma degrada√ß√£o na lat√™ncia. <br><br>  Uma inst√¢ncia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Standard_D3_V2</a> (4 vCPU, 14GB de mem√≥ria) processou mais de 20.000 clientes simult√¢neos.  O principal gargalo para lidar com carga adicional foi a mem√≥ria dispon√≠vel.  Voc√™ ver√° esse n√≠vel de escala em seu pr√≥prio aplicativo?  Isso depender√° em grande parte da quantidade de mem√≥ria adicional que seu aplicativo requer por usu√°rio.  Mas para muitos aplicativos, acreditamos que esse n√≠vel de expans√£o √© bastante razo√°vel.  Tamb√©m planejamos publicar atualiza√ß√µes adicionais sobre melhorias na escalabilidade do Blazor Server nas pr√≥ximas semanas.  Portanto, fique atento! <br><br><h2>  O que √© o Blazor WebAssembly? </h2><br>  O Blazor √© uma estrutura de interface do usu√°rio que pode ser executada em diferentes ambientes.  Ao criar componentes da interface do usu√°rio usando o Blazor, voc√™ tem a flexibilidade de escolher como e onde eles ser√£o hospedados e executados.  Al√©m de executar os componentes da interface do usu√°rio no servidor com o Blazor Server, voc√™ pode executar esses mesmos componentes no cliente com o Blazor WebAssembly.  Essa flexibilidade significa que voc√™ pode se adaptar √†s necessidades de seus usu√°rios e evitar o risco de estar vinculado a um modelo espec√≠fico de hospedagem de aplicativos. <br><br>  Os aplicativos Blazor WebAssembly hospedam componentes no navegador usando um tempo de execu√ß√£o .NET baseado no WebAssembly.  Os componentes lidam com eventos da interface do usu√°rio e executam sua l√≥gica de renderiza√ß√£o diretamente no navegador.  Os aplicativos Blazor WebAssembly usam apenas padr√µes da Web abertos para executar o c√≥digo .NET do lado do cliente, sem a necessidade de plugins de navegador ou transpila√ß√£o de c√≥digo.  Assim como nos aplicativos Blazor Server, a estrutura do Blazor lida com a compara√ß√£o da sa√≠da rec√©m-renderizada com o que foi renderizado anteriormente e atualiza o DOM de acordo, mas com o Blazor WebAssembly a renderiza√ß√£o da interface do usu√°rio √© gerenciada no lado do cliente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd4/263/f04/bd4263f0488ccf3d62fb15472b161bc3.png"><br><br><h2>  Quando devo usar o Blazor WebAssembly? </h2><br>  O Blazor WebAssembly ainda est√° em visualiza√ß√£o e ainda n√£o est√° pronto para uso em produ√ß√£o.  Se voc√™ est√° procurando uma solu√ß√£o pronta para produ√ß√£o, o Blazor Server √© o que recomendamos. <br><br>  Quando o Blazor WebAssembly for lan√ßado (maio de 2020), ele permitir√° a execu√ß√£o de componentes Razor e c√≥digo .NET no navegador do dispositivo do usu√°rio.  Os aplicativos Blazor WebAssembly ajudam a descarregar o trabalho do servidor para o cliente.  Um aplicativo Blazor WebAssembly pode alavancar os recursos de computa√ß√£o, mem√≥ria e armazenamento do dispositivo cliente, al√©m de outros recursos disponibilizados pelas APIs padr√£o do navegador. <br><br>  Os aplicativos Blazor WebAssembly n√£o exigem o uso do .NET no servidor e podem ser usados ‚Äã‚Äãpara criar sites est√°ticos.  Um aplicativo Blazor WebAssembly √© apenas um monte de arquivos est√°ticos que podem ser hospedados usando qualquer solu√ß√£o de hospedagem de site est√°tico, como p√°ginas do GitHub ou Hospedagem de site est√°tica do Azure.  Quando combinado com um trabalhador de servi√ßo, um aplicativo Blazor WebAssembly pode funcionar completamente offline. <br><br>  Quando combinado com o .NET no servidor, o Blazor WebAssembly permite o desenvolvimento na Web com pilha completa.  Voc√™ pode compartilhar c√≥digo, aproveitar o ecossistema .NET e reutilizar suas habilidades e infraestrutura .NET existentes. <br><br>  A inclus√£o de um tempo de execu√ß√£o .NET no seu aplicativo da Web aumenta o tamanho do aplicativo, o que afetar√° o tempo de carregamento.  Embora existam v√°rias t√©cnicas para atenuar isso (pr√©-renderiza√ß√£o no servidor, cache HTTP, vincula√ß√£o de IL, etc.), o Blazor WebAssembly pode n√£o ser a melhor op√ß√£o para aplicativos que s√£o muito sens√≠veis ao tamanho do download e ao tempo de carregamento. <br><br>  Os aplicativos Blazor WebAssembly tamb√©m exigem um navegador que suporte o WebAssembly.  O WebAssembly √© suportado por todos os navegadores modernos, incluindo navegadores m√≥veis e de desktop.  No entanto, se voc√™ precisar oferecer suporte a navegadores mais antigos sem o suporte ao WebAssembly, o Blazor WebAssembly n√£o √© para voc√™. <br><br>  O Blazor WebAssembly √© otimizado para cen√°rios de renderiza√ß√£o da interface do usu√°rio, mas atualmente n√£o √© √≥timo para executar cargas de trabalho intensivas da CPU.  Atualmente, os aplicativos Blazor WebAssembly usam um interpretador .NET IL para executar seu c√≥digo .NET, que n√£o tem o mesmo desempenho que um tempo de execu√ß√£o .NET nativo com compila√ß√£o JIT.  Estamos trabalhando para resolver melhor esse cen√°rio no futuro, adicionando suporte para compilar seu c√≥digo .NET diretamente no WebAssembly, em vez de usar um int√©rprete. <br><br><h2>  Voc√™ pode mudar de id√©ia mais tarde </h2><br>  Independentemente de voc√™ escolher o Blazor Server ou o Blazor WebAssembly, voc√™ sempre pode mudar de id√©ia mais tarde.  Todos os aplicativos Blazor usam um modelo de componente comum, os componentes Razor.  Os mesmos componentes podem ser hospedados em um aplicativo Blazor Server ou em um aplicativo Blazor WebAssembly.  Portanto, se voc√™ come√ßar com um modelo de hospedagem Blazor e depois decidir que deseja mudar para um modelo diferente, isso √© muito simples. <br><br><h2>  O que vem por Blazor? </h2><br>  Depois de enviar o Blazor WebAssembly, planejamos expandir o Blazor para oferecer suporte n√£o apenas aos aplicativos da Web, mas tamb√©m aos PWAs (Progressive Web Apps), aplicativos h√≠bridos e at√© aplicativos totalmente nativos. <br><br><ul><li>  PWAs Blazor: os PWAs s√£o aplicativos da Web que utilizam os mais recentes padr√µes da Web para fornecer uma experi√™ncia mais nativa.  Os PWAs podem suportar cen√°rios offline, notifica√ß√µes push e integra√ß√µes de SO, como suporte para fixar o aplicativo na tela inicial ou no menu Iniciar do Windows. </li><li>  Blazor Hybrid: aplicativos h√≠bridos s√£o aplicativos nativos que usam tecnologias da Web para a interface do usu√°rio.  Os exemplos incluem aplicativos Electron e aplicativos m√≥veis que s√£o renderizados em uma visualiza√ß√£o da Web.  Os aplicativos Blazor Hybrid n√£o s√£o executados no WebAssembly, mas usam um tempo de execu√ß√£o .NET nativo como o .NET Core ou o Xamarin.  Voc√™ pode encontrar uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">amostra</a> experimental do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Blazor with Electron</a> no GitHub. </li><li>  Blazor Native: hoje, os aplicativos Blazor renderizam HTML, mas o renderizador pode ser substitu√≠do para renderizar controles nativos.  Um aplicativo Blazor Native √© executado nativamente nos dispositivos e usa uma abstra√ß√£o de interface do usu√°rio comum para renderizar controles nativos para esse dispositivo.  Isso √© muito semelhante ao funcionamento de estruturas como o Xamarin Forms ou o React Native. </li></ul><br>  Atualmente, esses tr√™s esfor√ßos s√£o experimentais.  Esperamos ter visualiza√ß√µes oficiais de suporte para aplicativos Blazor PWAs e Blazor Hybrid usando Electron no per√≠odo de tempo do .NET 5 (novembro de 2020).  Ainda n√£o existe um roteiro para o suporte ao Blazor Native, mas √© uma √°rea que estamos investigando ativamente. <br><br><h2>  Sum√°rio </h2><br>  Com o .NET Core 3.0, voc√™ pode criar uma interface do usu√°rio interativa rica do lado do cliente <i>hoje</i> com o Blazor Server.  O Blazor Server √© uma √≥tima maneira de adicionar funcionalidade do lado do cliente aos aplicativos da Web novos e existentes, usando suas habilidades e ativos .NET existentes.  O Blazor Server foi desenvolvido para ser dimensionado para todas as necessidades de aplicativos da web.  O Blazor WebAssembly ainda est√° em pr√©-visualiza√ß√£o, mas deve ser lan√ßado em maio do pr√≥ximo ano.  No futuro, esperamos continuar evoluindo o Blazor para oferecer suporte a PWAs, aplicativos h√≠bridos e aplicativos nativos.  Por enquanto, esperamos que voc√™ experimente o Blazor Server <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instalando o .NET Core 3.0</a> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt473146/">https://habr.com/ru/post/pt473146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt473130/index.html">Hist√≥ria dos processadores de v√≠deo: 1976 - 1995</a></li>
<li><a href="../pt473134/index.html">Compilando o FFmpeg no WebAssembly (= ffmpeg.js): Parte 2 - Compilando com o Emscripten</a></li>
<li><a href="../pt473140/index.html">Habr Weekly # 24 / Como conduzir fraudadores telef√¥nicos, um rob√¥ de 800k ‚ÇΩ, uma competi√ß√£o de autores sobre Habr√©, um SSD quase russo</a></li>
<li><a href="../pt473142/index.html">Pr√≥ximas altera√ß√µes de cookie SameSite no ASP.NET e no ASP.NET Core</a></li>
<li><a href="../pt473144/index.html">Um homem com quatro "en" ou Nostradamus sovi√©tico</a></li>
<li><a href="../pt473154/index.html">JS Open Space amig√°vel: renderiza√ß√£o do lado do cliente e cria√ß√£o de wrapper</a></li>
<li><a href="../pt473158/index.html">Como √© quando 75% de seus funcion√°rios s√£o autistas</a></li>
<li><a href="../pt473160/index.html">Marca pessoal para ajudar os neg√≥cios: 8 etapas para criar um conceito</a></li>
<li><a href="../pt473166/index.html">Compilando o FFmpeg no WebAssembly (= ffmpeg.js): Parte 3 - Convertendo avi para mp4</a></li>
<li><a href="../pt473184/index.html">Docker + php-fpm + PhpStorm + Xdebug</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>