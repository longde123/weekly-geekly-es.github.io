<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☮️ ♠️ 👶🏽 3DTouch - المقاييس على iPhone: الشروع في العمل 🍓 🙎 🕵️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="بعد دخول iPhone 6s و iPhone 6s Plus إلى السوق بشاشات تدعم تقنية 3D Touch ، ظهر تطبيق لوزن الخوخ والخوخ على الفور تقريبًا في App Store. 



 لا يمكنني ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3DTouch - المقاييس على iPhone: الشروع في العمل</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417221/" style=";text-align:right;direction:rtl"> بعد دخول iPhone 6s و iPhone 6s Plus إلى السوق بشاشات تدعم تقنية <b>3D Touch</b> ، ظهر تطبيق لوزن الخوخ والخوخ على الفور تقريبًا في App Store. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f2/2d4/bd1/5f22d4bd13701e9335692b50a749f6db.png" alt="الصورة"><br><a name="habracut"></a><br>  لا يمكنني الجزم لماذا هذه الفاكهة بالضبط ، لكن يمكنني بالتأكيد أن أقول لماذا الفاكهة بالضبط.  والحقيقة هي أن مستشعر شاشة iPhone يعمل على مبدأ الكشف عن التسرب الحالي من سطح المستشعر ، ولهذا التسرب تحتاج إلى إصبع حي أو شيء لديه قدرة كهربائية.  أعتقد أن الجميع يعرف أن شاشات الأجهزة لا تعمل على قلم أو مسمار بلاستيكي.  هذا هو السبب في أنه كان من المستحيل وزن شيء معدني على هذا التطبيق.  لكن الثمار لها سعة كهربائية ، ويتم تشغيل المستشعر عليها وتعمل <b>3D Touch</b> بشكل طبيعي بشكل طبيعي. <br><br>  بسرعة كبيرة ، تمت إزالة هذا التطبيق من App Store.  شخصيا ، يبدو لي أن هذا تم القيام به بسبب المستخدمين الضيقين الذين حاولوا وزن أوزان الجنيه على أجهزتهم.  بالطبع ، تعطلت الأجهزة وحملتها إلى مراكز الخدمة.  وهناك قالوا شيئاً من المسلسل: "تم تنزيل التطبيق من المتجر الرسمي ، ولم يحذروا من أنه مستحيل ...". <br><br>  ونتيجة لذلك ، لا توجد مثل هذه التطبيقات في المتجر ، ولكن لن يمنعنا أحد من إنشائها لأنفسنا. <br><br><h3 style=";text-align:right;direction:rtl">  التحدي </h3><br>  نحتاج إلى كتابة تطبيق يتكون من وحدة تحكم واحدة ، حيث سيكون هناك نقش جذاب ، ودائرة مرسومة في وسط الشاشة ، ومؤشرات الوزن بالجرام ونسبة القوة المحددة (المزيد في النص سيكون أكثر وضوحًا).  عند النقر على الشاشة ، ستظهر دائرة عند نقطة اللمس ، والتي ستزداد أو تنخفض اعتمادًا على الضغط.  يجب أن يقال على الفور أنه لا يمكن اختبار مثل هذا التطبيق على جهاز محاكاة.  لذلك ، ستحتاج إلى تشغيل التطبيق على جهاز حقيقي.  في النهاية ، يجب أن تحصل على مثل هذا التطبيق: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e76/072/e4f/e76072e4f770fccdeba9e1bff6ed5741.gif" alt="الصورة"><br><br><h3 style=";text-align:right;direction:rtl">  إنشاء المشروع </h3><br>  افتح Xcode ، اختر إنشاء مشروع جديد ، قالب <b>تطبيق ذو عرض واحد</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/06f/11d/554/06f11d55440aabdf164ae8134b3f4e5e.png" alt="الصورة"><br><br><h3 style=";text-align:right;direction:rtl">  بناء واجهة في Xcode </h3><br>  انتقل إلى <b>Storyboard</b> ، واسحب العديد من <b>UILabels</b> من مكتبة العناصر إلى وحدة التحكم ، وضعها بالقرب من الحواف العلوية أو السفلية لوحدة التحكم.  اتضح مثل هذا: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b43/c44/5a9/b43c445a90e3087318db534d0c918571.png" alt="الصورة"><br><br>  لجاذبية جمالية ، سنسلط الضوء على المكان الذي سنضع فيه الأشياء في دائرة حمراء.  يمكنك التقاط صورة جاهزة مع دائرة ، لكن هذه ليست طريقتنا)).  سنقوم برسم الدوائر باستخدام طرق <b>Core Graphics</b> .  سيكون أكثر ملاءمة لإنشاء فئة وراثة من UIView والعمل بالفعل معها. <br><br>  أضف ملفًا جديدًا إلى المشروع ، واسمه <b>ScaleView</b> .  إنشاء فئة <b>ScaleView</b> في هذا الملف الذي يرث من <b>UIView</b> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/412/e5e/ab7/412e5eab7d7f179923c41d4fc5ed09ea.png" alt="الصورة"><br><br><pre style=";text-align:right;direction:rtl"><code class="hljs objectivec">import <span class="hljs-built_in"><span class="hljs-built_in">UIKit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ScaleView: <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> { override func draw(_ rect: <span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span>) { } }</code> </pre> <br>  بعد ذلك ، انتقل إلى <b>StoryBoard</b> ، <b>وانقله</b> إلى وحدة التحكم من مكتبة عناصر <b>UIView</b> وضعه في وسط وحدة التحكم لدينا.  حدد <b>UIView</b> المضافة حديثًا وفي <b>Identity Inspector ، قم</b> بتعيين فئة <b>ScaleView</b> التي أنشأناها سابقًا. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8aa/354/aac/8aa354aacf9827ccc82f172e14dcd076.png" alt="الصورة"><br><br>  أيضًا ، بمساعدة الثوابت ، يمكنك تعيين القواعد لتحديد المواقع النسبية للعناصر على الشاشة.  يبدو لي هذا: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/72e/791/e70/72e791e70fba5daeb39f4b796e91c2fd.png" alt="الصورة"><br><br><h3 style=";text-align:right;direction:rtl">  ارسم دوائر </h3><br>  انتقل إلى ملف <i>ScaleView.swift</i> .  في فئة <b>ScaleView ،</b> أنشأنا طريقة <i>الرسم (_ rect :)</i> ، التي <b>سنستخدمها</b> للرسم داخل منطقة العرض في <b>UIView</b> . <br><br>  أضف التعليمات البرمجية التالية إلى طريقة <i>الرسم (_ rect :)</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rect: CGRect)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> context = <span class="hljs-type"><span class="hljs-type">UIGraphicsGetCurrentContext</span></span>() <span class="hljs-comment"><span class="hljs-comment">// 1 context?.setStrokeColor(UIColor.red.cgColor) // 2 context?.setLineWidth(14.0) // 3 context?.addArc(center: CGPoint(x: 375 / 2, y: 375 / 2), radius: 375 / 2 - 14, startAngle: 0, endAngle: 2 * CGFloat(M_PI), clockwise: true) // 4 context?.strokePath() // 5 }</span></span></code> </pre><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  نحصل على السياق البياني الذي سنرسم فيه </li><li style=";text-align:right;direction:rtl">  نحدد اللون الذي سنرسم به.  في هذه الحالة.  أحمر </li><li style=";text-align:right;direction:rtl">  حدد عرض الخط الذي سنرسم به. </li><li style=";text-align:right;direction:rtl">  قمنا بتعيين مسار الرسم على شكل قوس ، يقع مركزه في وسط ScaleView ، مع نصف قطر يساوي نصف عرض ScaleView ناقص 14 (هذا هو لتناسب القوس في العرض المرئي) ، وقوس طويل - 360 درجة حول المحيط بأكمله.  يرجى ملاحظة أن أرقام العرض الخاصة بي مشفرة في الفقرة السابقة باستخدام الثوابت. </li><li style=";text-align:right;direction:rtl">  نرسم على المسار المحدد مع المعلمات المعطاة </li></ol><br>  يمكنك تجميعه للتحقق ، ولكن يمكنك أيضًا تعيين توجيه لعرض التغييرات مباشرةً في <b>Interface Builder</b> . <br><br>  كل السحر في توجيه <b>IBDesignable</b> .  <b>ضع</b> علامة على فئة <b>ScaleView</b> بهذا التوجيه <b>.</b> <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec">import <span class="hljs-built_in"><span class="hljs-built_in">UIKit</span></span> @IBDesignable <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ScaleView: <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> { override func draw(_ rect: <span class="hljs-built_in"><span class="hljs-built_in">CGRect</span></span>) { let context = <span class="hljs-built_in"><span class="hljs-built_in">UIGraphicsGetCurrentContext</span></span>() context?.setStrokeColor(<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span>.red.cgColor) context?.setLineWidth(<span class="hljs-number"><span class="hljs-number">14.0</span></span>) context?.addArc(center: <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>(x: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>, y: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>), radius: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">14</span></span>, startAngle: <span class="hljs-number"><span class="hljs-number">0</span></span>, endAngle: <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(M_PI), clockwise: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) context?.strokePath() } }</code> </pre><br>  بعد ذلك ، انتقل إلى <b>StoryBoard</b> ، انتظر قليلاً وسترى دائرة حمراء مطلية في وسط <b>ViewController</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec6/58b/c68/ec658bc68480cba218ea3d884a4a8f90.png" alt="الصورة"><br><br>  دعونا نتدرب ونرسم دائرة أخرى أصغر وأرق.  للقيام بذلك ، قم بإضافة التعليمات البرمجية التالية إلى أسلوب <i>الرسم (_ rect :)</i> في ملف <b>ScaleView</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">context</span></span>?.setLineWidth(<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">context</span></span>?.setStrokeColor(UIColor.lightGray.cgColor) <span class="hljs-keyword"><span class="hljs-keyword">context</span></span>?.addArc(center: CGPoint(x: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>, y: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span>), radius: <span class="hljs-number"><span class="hljs-number">375</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span> - <span class="hljs-number"><span class="hljs-number">14</span></span>, startAngle: <span class="hljs-number"><span class="hljs-number">0</span></span>, endAngle: <span class="hljs-number"><span class="hljs-number">2</span></span> * CGFloat(M_PI), clockwise: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">context</span></span>?.strokePath()</code> </pre><br>  أعتقد أنه واضح ، لذلك أضفنا.  في الواقع ، أضفنا دائرة أخرى ، رمادي ، نصف قطر ربع عرض <b>ScaleView</b> وعرض نقطة واحدة. <br><br>  النتائج في <b>لوحة القصة</b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/87c/e4a/915/87ce4a91510e918c2a8bfdef9c109c3c.png" alt="الصورة"><br><br>  سيكون عملنا التحضيري النهائي هو إنشاء منافذ لـ <b>ScaleView</b> واثنين من <b>UILabels</b> ، مما سيظهر قوة الضغط على الشاشة في المئة والوزن بالجرام.  <b>Ctrl-</b> يؤدي سحب العناصر من <b>ViewController</b> إلى إنشاء المنافذ الضرورية. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> scaleView: <span class="hljs-type"><span class="hljs-type">ScaleView!</span></span> <span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> forceLabel: <span class="hljs-type"><span class="hljs-type">UILabel!</span></span> <span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> grammLabel: <span class="hljs-type"><span class="hljs-type">UILabel!</span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  مباشرة - المقاييس </h3><br>  لذا ، اقتربنا من لحظة قياس قوة الضغط على الشاشة.  انتقل إلى <b>ViewController</b> وفي طريقة <i>viewDidLoad ()</i> أضف قيم البدء لجميع <b>UILabel</b> <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() forceLabel.text = <span class="hljs-string"><span class="hljs-string">"0% force"</span></span> grammLabel.text = <span class="hljs-string"><span class="hljs-string">"0 "</span></span> }</code> </pre><br>  مثل جميع العمليات المرتبطة <i>بنقرات</i> الشاشة ، في وحدة التحكم ، يمكن الإمساك بها في طريقة <i>النقل المنقولة (_: :)</i> .  تعمل هذه الطريقة عندما تلمس الشاشة في الوقت المناسب.  على سبيل المثال  إذا كان الإصبع على الشاشة أو يتحرك عليه ، فإن هذه الطريقة تعمل ويمكنك تتبع جميع اللمسات وخصائصها.  <b>أضفه</b> إلى <b>ViewController</b> واكتب الكود التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">override func touchesMoved(_ touches: <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>&lt;UITouch&gt;, <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> event: UIEvent?) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> let touch = touches.first { // <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> #available(iOS <span class="hljs-number"><span class="hljs-number">9.0</span></span>, *) { // <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> traitCollection.forceTouchCapability == UIForceTouchCapability.available { // <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> touch.force &gt;= touch.maximumPossibleForce { // <span class="hljs-number"><span class="hljs-number">4</span></span> forceLabel.text = "100%+ force" grammLabel.text = "385 " } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { let force = (touch.force / touch.maximumPossibleForce) * <span class="hljs-number"><span class="hljs-number">100</span></span> // <span class="hljs-number"><span class="hljs-number">5</span></span> let grams = force * <span class="hljs-number"><span class="hljs-number">385</span></span> / <span class="hljs-number"><span class="hljs-number">100</span></span> // <span class="hljs-number"><span class="hljs-number">6</span></span> let roundGrams = <span class="hljs-type"><span class="hljs-type">Int</span></span>(grams) // <span class="hljs-number"><span class="hljs-number">7</span></span> forceLabel.text = "\(Int(force))% force" // <span class="hljs-number"><span class="hljs-number">8</span></span> grammLabel.text = "\(roundGrams) " } } } } }</code> </pre><br>  جميع آليات تطبيق <b>Libra</b> iOS هي هذه الطريقة.  كل شيء آخر سنقوم به أكثر في هذا الدرس هو التحسينات.  لقد قمنا بالفعل بجميع الأعمال الأساسية.  لنفككها <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  من مجموعة اللمسات الكاملة للشاشة ، نختار الأول </li><li style=";text-align:right;direction:rtl">  يتحقق هذا التوجيه من نظام التشغيل المثبت على الجهاز ويتخطى المزيد فقط إذا كان إصدار نظام التشغيل 9.0 أو أكثر.  أصبح العمل مع <b>3D Touch</b> ممكنًا فقط مع الإصدار التاسع من iOS.  محاولة التعامل معها في ألم الإصدارات السابقة لا معنى له </li><li style=";text-align:right;direction:rtl">  وفي هذا الخط ، يتم اختبار الجهاز لدعم الشاشة باستخدام وظيفة <b>3D Touch</b> .  بعد كل شيء ، يمكن أن يقف iOS الإصدار 10 أيضًا على iPhone 6 ، ولكن من هذا لن تبدأ شاشة هذا الهاتف الذكي في تمييز قوة الضغط.  يجب أن يتم هذا الفحص بموجب متطلبات Apple الصارمة. </li><li style=";text-align:right;direction:rtl">  تحتوي اللمسة على خاصية القوة التي يتم فيها إرسال القوة في كل مرة تعمل فيها طريقة <i>اللمسات المنقولة (_: :)</i> .  ونقارن في هذا الخط قيمة قوة الضغط الحالية وأقصى قيمة ممكنة لقوة الضغط.  وإذا كانت قوة الضغط أكبر من الحد الأقصى ، فإننا في <b>UILabel</b> ننقل القيم القصوى ، وهي <b>100</b> ٪ من القوة و <b>385</b> جرامًا.  وتجدر الإشارة إلى سبب كونها 385 جرامًا.  والحقيقة هي أن تقنية <b>3D Touch</b> مصنوعة بطريقة تجعل 100٪ من قوة الضغط تتوافق مع 385 جرامًا.  وفقًا لذلك ، احصل على نسبة من قوة الضغط ، يمكننا بسهولة حساب الوزن بالجرام. </li><li style=";text-align:right;direction:rtl">  هنا نقوم بهذه الحسابات.  في هذا الخط نحسب النسبة المئوية للضغط </li><li style=";text-align:right;direction:rtl">  هنا نحسب الوزن بالجرام بناءً على الصيغة <b>100٪ = 385 جرامًا</b> </li><li style=";text-align:right;direction:rtl">  هذا تقريب بسيط من الجرام إلى الكل </li><li style=";text-align:right;direction:rtl">  ننقل نسبة القوة والوزن بالغرامات إلى <b>UILabel</b> </li></ol><br>  قبل البدء والتحقق من التطبيق ، تحتاج إلى إضافة طريقة أخرى تعمل عندما تلامس جميع اللمسات على الشاشة <i>انتهى (: :)</i> ، من أجل تعيين الوضع الأولي لـ <b>UILabels الخاص</b> بنا وتمرير القيم 0 ٪ و 0 جرامًا.  أضف هذا الأسلوب إلى فئة <b>ViewController</b> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">touchesEnded</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span></span></span> { forceLabel.text = <span class="hljs-string"><span class="hljs-string">"0% force"</span></span> grammLabel.text = <span class="hljs-string"><span class="hljs-string">"0 "</span></span> }</code> </pre><br>  الآن يمكنك تجميع التطبيق والتحقق.  بالطبع ، تحتاج إلى القيام بذلك على جهاز حقيقي لرؤية النتيجة.  المحاكي غير قادر على محاكاة النقرات القوية على الشاشة. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/663/93e/ebb66393e6b57094146b1ec867afe979.gif" alt="الصورة"><br><br><h3 style=";text-align:right;direction:rtl">  التحسينات </h3><br>  الوظيفة الرئيسية جاهزة ، ولكن عندما كتبت هذا التطبيق ، قررت إضافة ثلاثة أشياء: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  عند الوصول إلى القيمة القصوى ، أريد أن تعمل استجابة الاهتزاز </li><li style=";text-align:right;direction:rtl">  يحدث تحديث القيم في <b>UILabel</b> بسرعة كبيرة ، (أعتقد أنك لاحظت ذلك عند الاختبار) لذا تحتاج إلى إضافة بعض السلاسة. </li><li style=";text-align:right;direction:rtl">  يجب أن تظهر دائرة شبه شفافة عند نقطة الضغط.  يجب أن يزيد قطرها مع زيادة الضغط وانخفاض مع انخفاض الضغط </li></ol><br>  سنتعامل مع هذه الإضافات في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المقالة التالية</a> :-) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar417221/">https://habr.com/ru/post/ar417221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar417207/index.html">الخلفية: قطارات رصاصة هايبرلوب</a></li>
<li><a href="../ar417209/index.html">الشبكات العصبية من الصفر. نظرة عامة على الدورات والمقالات باللغة الروسية ، مجانًا وبدون تسجيل</a></li>
<li><a href="../ar417211/index.html">جدول لتعلم أساسيات الدوائر الكهربائية. لما لا؟</a></li>
<li><a href="../ar417215/index.html">كل ما تريد معرفته عن جامع القمامة في بيثون</a></li>
<li><a href="../ar417219/index.html">انس أمر برجر كنج! هناك تسرب للوثائق هو أكثر خطورة</a></li>
<li><a href="../ar417223/index.html">الشبكات العصبية المحفظة</a></li>
<li><a href="../ar417225/index.html">نظرية Boshernitsan</a></li>
<li><a href="../ar417227/index.html">ماذا حدث لمفارقة فيرمي</a></li>
<li><a href="../ar417229/index.html">بضعة أسباب لنسيان PascalABC.Net</a></li>
<li><a href="../ar417231/index.html">السلع التجارية مع واجهة المستخدم البشرية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>