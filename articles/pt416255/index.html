<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏿 👘 🚣🏾 Cache da Web como exemplo de compra de leite em uma loja 👩‍🚀 ⚔️ 🤽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se você comprou leite na loja, pode entender como o cache funciona no lado do servidor e no navegador. 

 Se você é um usuário ativo da Internet (e es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cache da Web como exemplo de compra de leite em uma loja</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alconost/blog/416255/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/g1/n3/ou/g1n3ou0kugfon0ruqtm_s8qtjgo.jpeg"></a> <br>  <b>Se você comprou leite na loja, pode entender como o cache funciona no lado do servidor e no navegador.</b> <br><br>  Se você é um usuário ativo da Internet (e esse provavelmente é o caso), usa constantemente o cache, mas talvez não conheça os “bastidores”: quando e como ele funciona. <br><br>  Do ponto de vista de um desenvolvedor, o armazenamento em cache facilita a criação de aplicativos e servidores Web de alto desempenho: você não precisa otimizar constantemente servidores sobrecarregados com milhares de solicitações - basta implementar protocolos de cache e a vida se torna muito mais fácil. <br><br>  Ao armazenar em cache, o tempo de carregamento da página diminui de 2 segundos para 1 segundo ... o que não é muito impressionante, certo?  Mas você não pode ficar sem isso quando precisa processar solicitações de um grande número de usuários. <br><br>  Usando o cache em um dos meus aplicativos da web, percebi que apenas seguir os termos não é a melhor maneira de explicar essa abordagem.  Ocorreu-me que uma boa analogia seria o caminho do leite da fazenda para a geladeira. <br><br>  Para entender minha explicação, você precisa saber um pouco sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">básico de como os servidores web funcionam</a> .  Vamos começar! <br><br>  <b>Traduzido para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alconost</a></b> <br><a name="habracut"></a><br><h2>  Como seria a Internet sem armazenar em cache? </h2><br>  Antes de avançarmos para o cache, vamos pensar em como a Internet teria ficado sem ela.  Imagine por um momento que você vive nos séculos 18 a 19.  no campo.  Você tem uma fazenda, mas não tem geladeira.  Você mantém várias vacas, mas o leite delas estraga rapidamente e, portanto, é muito difícil obter os benefícios. <br><br>  Aliás, em alguns lugares as pessoas ainda não têm geladeiras: elas bebem leite fresco imediatamente, ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">misturam-no com grãos e deixam fermentar</a> - uma abordagem interessante, certo? <br><br>  Em geral, você gostaria de vender leite para outros moradores.  Mas eles terão que beber muito rapidamente.  Suponha que uma vaca possa produzir dez litros de leite por dia.  Isso significa que, se muitas pessoas de repente vierem à fazenda buscar leite, você precisará pedir que retornem no dia seguinte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/bc0/840/576bc0840350454bab067fda50047048.png"><br><br>  E esse não é o caso quando você pode obter mais algumas vacas e expandir, porque você tem uma base de clientes limitada: apenas os moradores de uma vila compram leite.  Portanto, existem certos limites. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/33a/8bf/1ef/33a8bf1efe0c7d3844dcc47992763ff1.png"><br><br>  Sem armazenamento em cache, o poder de processamento dos servidores limita você.  O armazenamento em cache é usado para carregar recursos estáticos, como: <br><br><ul><li>  imagens <br></li><li>  CSS <br></li><li>  arquivos html estáticos <br></li><li>  Arquivos JavaScript. <br></li></ul><br>  Por padrão, para cada solicitação recebida, o servidor deve enviar uma nova resposta.  Mas uma solicitação de carregamento de página pode realmente significar quatro solicitações separadas - uma para cada uma das categorias acima.  Considerando que os arquivos de imagem geralmente são bastante volumosos, um grande número de usuários de todo o mundo sobrecarregará facilmente seus servidores e as páginas levarão mais tempo para carregar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/008/e26/924/008e2692490ff8fe8d94d4b373c8e60e.png"><br><br>  Idealmente, eu gostaria de reduzir a carga nos servidores, preservando de alguma forma as respostas a solicitações comuns.  O servidor não precisa processar cada nova solicitação separada - a resposta será recebida do cache.  Obviamente, você sempre pode instalar e adicionar mais servidores, mas isso pode levar a aumentos descontrolados de custos. <br><br><h2>  Cache do lado do servidor </h2><br>  De volta às nossas vacas.  Você sabe o que facilitaria o trabalho da nossa fazenda de gado leiteiro? <br><br>  Compre com uma geladeira! <br><br>  Os moradores não precisam mais vir para a fazenda e beber imediatamente leite, porque ele pode ser armazenado com segurança por várias semanas. <br><br>  A loja remove a carga da fazenda: agora as vacas não precisam ser perturbadas para cada comprador.  A loja lida com a demanda e você só precisa ordenhar suas vacas diariamente.  E mais uma vantagem: agora os moradores das aldeias vizinhas poderão comprar leite armazenado na geladeira. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a1a/385/13f/a1a38513fdecf151232b0df353cd4d9f.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b1/793/a88/4b1793a88037c9e7078ea85230e2d915.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.digitalocean.com/community/tutorials/web-caching-basics-terminology-">O cache do servidor</a> , como uma loja, manipula solicitações populares e entrega conteúdo muito mais rápido e confiável. <br><br>  A figura acima mostra um <b>servidor proxy de armazenamento em cache</b> : ele armazena arquivos estáticos que são usados ​​para responder a solicitações comuns.  Esse servidor intercepta essas solicitações e fornece uma resposta rapidamente, o que permite remover a carga correspondente dos principais servidores da web. <br><br>  Neste ponto, você já pode ter perguntas: <br><br><ol><li>  Como definir uma consulta "popular"? <br></li><li>  Por quanto tempo as respostas são armazenadas no cache do proxy? <br></li></ol><br>  Para explicar isso, você precisará de um guia mais detalhado para configurar o armazenamento em cache, mas agora é importante conhecermos um conceito importante: <b>atualização</b> .  Existem arquivos diferentes no proxy de armazenamento em cache, armazenados em cache em momentos diferentes, e ele precisa decidir se ainda deve emitir esses arquivos.  Isso dependerá da <b>política de cache</b> . <br><br>  O que também se assemelha a armazenar leite em uma loja.  O diretor da loja precisa decidir quanto tempo o leite ficará antes de ser descartado.  Os proxies de armazenamento em cache medem seu desempenho pela <b>porcentagem de acertos do cache</b> - a porcentagem de conteúdo que pode ser entregue através do servidor de armazenamento em cache. <br><br><h2>  Rede de entrega de conteúdo </h2><br>  Portanto, temos uma mercearia vendendo seu leite.  Já não é ruim, mas os moradores podem comprar leite apenas em uma loja local, e é improvável que alguém venha de longe.  Para expandir a produção, você precisa vender leite em mais lojas. <br><br>  Então, você começa a entregar leite para outras lojas e, assim, satisfaz a demanda em uma região geográfica muito mais ampla.  É semelhante a uma rede de entrega de conteúdo (CDN) - proxies localizados em todo o mundo (como os discutidos acima). <br><br>  Como usuário final, você pode pensar que a Internet de alta velocidade permite carregar a maioria dos sites muito rapidamente.  No entanto, isso é possível principalmente graças ao uso da CDN para a entrega rápida de arquivos estáticos. <br><br>  Se você estiver na Inglaterra e estiver tentando baixar um arquivo armazenado em cache em um servidor em Khabarovsk, a resposta virá com um certo atraso: o sinal levará tempo para percorrer milhares de quilômetros de cabos.  Portanto, um servidor proxy de cache local no Reino Unido permitirá que você carregue o site mais rapidamente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97c/30f/4e6/97c30f4e69dcfb47c096bf6ec0f9fd82.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/13f/e13/f58/13fe13f581fa22e7761da2be7f8f990b.png"><br><br>  Assim, seus servidores podem enviar uma cópia dos recursos estáticos para cada servidor proxy na CDN, para que processem solicitações locais até que os recursos não sejam mais "novos".  Os provedores de serviços CDN populares são Rackspace, Akamai e Amazon Web Services. <br><br><h2>  Cache do lado do navegador </h2><br>  Portanto, agora pessoas de todo o país (e até do mundo) podem levar para casa o leite frio produzido em sua fazenda.  Havia um problema: eles não podem armazenar leite em casa; portanto, depois de comprá-lo, você precisa beber rapidamente e voltar a comprar uma nova porção.  Acontece que esse sistema ainda não é muito conveniente para os compradores. <br><br>  A geladeira vai nos salvar! <br><br>  Com uma geladeira, você pode armazenar leite em casa e não corre sempre para a loja.  Em termos de armazenamento em cache, este é um local completamente diferente para armazenar recursos estáticos, pois está localizado no lado do cliente (em outras palavras, no computador em que o navegador está sendo executado) e nosso servidor proxy estava em um local remoto. <br><br>  Essa abordagem não é apenas conveniente para o usuário no caso de sites visitados com frequência, como Facebook ou Amazon, mas também permite que esses sites economizem em custos de servidor devido a menos solicitações processadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c2/76d/0ca/4c276d0ca2761fc3d8013b5f113f6714.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d2/2f8/1c1/5d22f81c150440db90057c724df7caba.png"><br><br>  E aqui é importante notar que o leite na geladeira NÃO APARECE!  De qualquer forma, você precisa fazer a solicitação inicial, que chegará ao servidor ou servidor proxy, e somente depois disso poderá armazenar em cache alguns arquivos localmente. <br><br>  Como o navegador sabe quando solicitar novos arquivos do servidor?  Afinal, você precisa atualizar de alguma forma os arquivos locais. <br><br>  Assim como os produtores de leite colocam datas de validade nas embalagens, os servidores adicionam um identificador específico ao cabeçalho de resposta HTTP.  Na verdade, existem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://betterexplained.com/articles/how-to-optimize-your-site-with-">quatro sistemas diferentes</a> para cache HTTP.  O cenário descrito acima é muito semelhante ao método de expiração.  No entanto, no caso de alguns outros métodos, é necessário enviar uma solicitação ao servidor antes de emitir o arquivo em cache. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e38/e72/2a7/e38e722a78a2600596b8e03ea2be2051.png"><br><br><h2>  Quando começar a usar o cache </h2><br>  Suponha que você esteja criando seu primeiro aplicativo da web.  Contanto que você não tenha milhares de usuários, provavelmente não precisará se preocupar com protocolos de cache: o custo de execução de um servidor será baixo o suficiente sem ele.  No entanto, com o crescimento da base de usuários, o cache também precisará ser implementado - se você desejar que o aplicativo seja carregado rapidamente. <br><br>  Tomemos o Heroku, por exemplo, uma ótima ferramenta para implantar seu primeiro aplicativo da web.  No entanto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://devcenter.heroku.com/articles/">para implementar o cache, você precisará usar um serviço separado</a> - por exemplo, CloudFront da Amazon ou CloudFlare - e levará mais tempo para aprender isso. <br><br>  Você pode observar o armazenamento em cache no lado do navegador ao tentar recarregar a página e obter novos recursos estáticos, mas a página não muda, não importa quantas vezes você a atualize. <br><br>  Normalmente, o motivo disso é o protocolo de cache do lado do navegador.  Para ignorar o cache do navegador e solicitar novos recursos do servidor, pressione <b>Cmd + Shift + R</b> (se você tiver um Mac) ou <b>Ctrl + Shift + R</b> (em um PC). <br><br>  <b>Sobre o tradutor</b> <br><br>  O artigo foi traduzido por Alconost. <br><br>  A Alconost <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">localiza jogos</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aplicativos e sites</a> em 68 idiomas.  Tradutores em idioma nativo, teste linguístico, plataforma em nuvem com API, localização contínua, gerentes de projeto 24/7, qualquer formato de recursos de string. <br><br>  Também criamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vídeos de publicidade e treinamento</a> - para sites que vendem, imagem, publicidade, treinamento, teasers, exploradores, trailers do Google Play e da App Store. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mais detalhes</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416255/">https://habr.com/ru/post/pt416255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416243/index.html">Alternativas ao cobalto, este diamante sangrento das baterias</a></li>
<li><a href="../pt416245/index.html">Criamos um bot no Aimylogic para automatizar a loja online</a></li>
<li><a href="../pt416247/index.html">Como se preparar para uma viagem de negócios? Dicas do ISPsystem bizdedev</a></li>
<li><a href="../pt416251/index.html">Impressão 3D em camisetas</a></li>
<li><a href="../pt416253/index.html">Sketchfab, Unity, Blend4Web, PlayCanvas e agora Verge3D</a></li>
<li><a href="../pt416259/index.html">Nuvem de supernova da nebulosa Zyxel - uma maneira econômica de segurança?</a></li>
<li><a href="../pt416261/index.html">Como transferir e-mails do seu servidor de e-mail para o Zimbra?</a></li>
<li><a href="../pt416265/index.html">Parlamento Europeu rejeita diretiva de direitos autorais da Internet</a></li>
<li><a href="../pt416269/index.html">Curvas de desenvolvimento do programador e um pouco sobre o efeito Dunning - Krueger</a></li>
<li><a href="../pt416271/index.html">Impressão 3D de peças em miniatura de plástico ABS ou PLA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>