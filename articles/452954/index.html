<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏁 🏇🏽 ↪️ Tiempo de construcción, velocidad de red y enrutamiento: cómo mejoramos nuestra red de malla y un poco sobre redes neuronales 🏼 📖 📡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este recurso, escriben regularmente sobre redes de malla. Queremos decir cómo los usamos en nuestro proyecto para crear un sistema de automatizació...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tiempo de construcción, velocidad de red y enrutamiento: cómo mejoramos nuestra red de malla y un poco sobre redes neuronales</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452954/">  En este recurso, escriben regularmente sobre redes de malla.  Queremos decir cómo los usamos en nuestro proyecto para crear un sistema de automatización de sala adaptable. La tecnología de redes autoorganizadas nos permite no solo implementar rápidamente el sistema, sino también lograr altos indicadores de su tolerancia a fallas y velocidad.  Probamos con éxito nuestra solución en un sitio real con una capacidad de red de 120 dispositivos. <br><br><h4>  ¿Por qué necesitamos una red de malla? </h4><br>  Desde el advenimiento del concepto de "hogar inteligente", la unidad principal se ha considerado su "corazón" y "cerebro".  Pero gradualmente, los centros dejan de ser necesarios y pronto desaparecen por completo en el pasado.  Los principales jugadores como Google y Amazon también confirman esta tendencia.  Google ha estado ofreciendo enrutadores celulares durante varios años, y Amazon recientemente compró Eero para fortalecer su posición en el mercado de hogares inteligentes. <br><br>  En nuestros productos, utilizamos redes de malla, ya que resuelven varios problemas a la vez.  En primer lugar, aseguran el buen funcionamiento del sistema.  Por lo general, si el concentrador se bloquea o pierde su conexión a Internet, el sistema se apaga, los dispositivos dejan de responder y realizan sus funciones básicas.  Las redes de malla evitan esto.  Incluso si un dispositivo falla, el resto continuará funcionando en el mismo modo.  El usuario solo recibirá una notificación del mal funcionamiento. <a name="habracut"></a><br><br>  En segundo lugar, las redes de malla ayudan a enrutar el tráfico.  En nuestro sistema, todos los dispositivos pueden transmitir la señal para que el área de cobertura de la red sea casi ilimitada.  En caso de un cambio en la configuración de la red, el sistema determinará independientemente la ruta óptima. <br><br>  En una red creada sobre la base de nuestra solución, un número casi ilimitado de dispositivos puede funcionar a una distancia considerable entre sí.  Obtenido por el método de cálculo, esta cifra es de 10 a 10 grados, que actualmente es imposible de proporcionar en vista de la cantidad limitada de RAM en los dispositivos. <br><br><h4>  ¿Qué es un "hogar inteligente" (en nuestra opinión) </h4><br>  La mayoría de las soluciones en el mercado actual son simplemente un conjunto de sensores y actuadores que tienen capacidades limitadas.  Por lo general, este es un control remoto en forma de una aplicación móvil, una tableta separada o un altavoz inteligente, que le permite configurar la temperatura, encender / apagar los electrodomésticos, ajustar la iluminación y configurar escenarios primitivos de duración de la batería.  Admitamos que lo "inteligente" no es suficiente, este es solo otro juguete. <br><br>  Por lo tanto, nos propusimos el objetivo de crear un sistema de automatización del hogar adaptativo basado en una red de malla.  A medida que lo usa, nuestro sistema analiza los hábitos y el comportamiento del usuario.  Debido a esto, con el tiempo, ella comienza a adaptar todos los escenarios y configuraciones para un usuario específico, ofrecer nuevos escenarios y, después de la aprobación del propietario, configurarlos ella misma. <br><br>  La arquitectura del sistema está diseñada de tal manera que no se requiere un cuadro de cabecera.  Un dispositivo tomado por separado puede funcionar solo, utilizando toda la funcionalidad incorporada en él. <br><br>  Otra característica de nuestra solución: antes de tomar una decisión, el sistema recopila datos de varias fuentes a la vez (por ejemplo, desde una cámara, sensor de calidad del aire, sensor de presencia, etc.).  Esto ha sido posible debido al hecho de que todos los dispositivos del sistema son autosuficientes y pueden intercambiar información entre ellos directamente.  Lo que nos permitió reducir significativamente la probabilidad de implementación incorrecta de acciones dentro del marco de un escenario dado. <br><br>  Toda la información se procesa dentro del sistema (y no por el servidor o el concentrador central) de forma distribuida.  A que te refieres  Si uno de los dispositivos con fuente de alimentación autónoma necesita realizar cálculos complejos e intensivos en energía, el sistema redirigirá esta tarea al dispositivo más cercano con una alimentación de red constante.  Este enfoque proporciona una duración aceptable de la batería para dispositivos autoalimentados y acelera el proceso de decisión. <br><br>  También me gustaría señalar la simplicidad del procedimiento de conexión.  Para hacer esto, no necesita configurar nada, escanear códigos QR y más.  Es suficiente conectar el teléfono con la aplicación al dispositivo, y eso es todo: ¡ya está en la red, recibió la configuración básica y está listo para funcionar! <br><br><h4>  Características clave de nuestra red de malla </h4><br>  Inicialmente, queríamos utilizar la solución asequible Espressif ESP-MESH.  Pero después de analizarlo, nos dimos cuenta de que no nos queda del todo bien.  Por lo tanto, tuve que inventar el mío.  Nuestras ventajas clave son el tiempo de construcción, el cambio automático de canal cuando se está cargando, la velocidad de la red y el enrutamiento. <br><br>  La autocuración es la detección automática y la eliminación de fallas en la red.  Si de repente algún dispositivo falla y se pierde la señal, la red de los dispositivos restantes se reconstruirá por sí sola.  El ensamblaje de la red desde el momento en que se enciende demora hasta 15 segundos, y la reconstrucción no demora más de 6 segundos.  El soporte entre nodos para la redirección es inferior a 10 milisegundos.  Y estos son números reales obtenidos durante las pruebas en una de nuestras grandes instalaciones.  En general, este es un indicador promedio para las instalaciones militares y excesivo en nuestro segmento.  ¡Podemos decir que tenemos una gran oferta! <br><br>  Otro parámetro importante es el enrutamiento, cómo se transmite la señal de un dispositivo a otro.  Por lo general, todos los elementos de soluciones similares funcionan a las mismas frecuencias que Wi-Fi: 2.4 Hz.  Los protocolos usan algoritmos basados ​​en el estado de los canales de aire.  Nuestra solución le permite cambiar el canal sin afectar el rendimiento de la red.  Por ejemplo, en la instalación, todos los dispositivos alrededor del perímetro funcionan en el canal 13.  Pero en el centro de la habitación en este canal había interferencia.  En este caso, el dispositivo que transmite la señal cambiará automáticamente el canal y omitirá el área problemática.  El resto de los dispositivos equipados con nuestro módulo están organizados entre ellos y eligen las frecuencias óptimas. <br><br>  Para lograr una alta velocidad de enrutamiento, hemos optimizado todo el software para el hardware.  Para cada procesador y coprocesador escribieron código en Assembler.  Esto nos permitió reducir el consumo de energía y aumentar la velocidad de la red en 15 veces. <br><br>  La capacidad máxima teórica de nuestra red es enorme.  Obviamente, en la práctica no podemos verificarlo.  Durante las pruebas, conectamos más de 300 dispositivos a la red y el sistema funcionó de manera estable.  Es decir, nuestra solución facilitará la cobertura del centro comercial y para ello no tendrá que deshacerse de las paredes, tender cableado adicional y configurar la red durante un tiempo largo y doloroso.  Es suficiente instalar nuestros dispositivos donde sea necesario.  Incluso si está en un sitio móvil, siempre estarán en línea. <br><br>  Para la seguridad de los datos del usuario, utilizamos doble encriptación, que se basa en el protocolo AES, reconocido como uno de los más confiables.  El tráfico se canaliza entre el servidor y el dispositivo o entre un par de dispositivos.  Esto elimina la posibilidad de obtener acceso al sistema pirateando una red WIFI. <br><br>  Solicitamos una patente para un modelo de utilidad para aplicar nuestro algoritmo de red autoorganizado para automatizar salas.  Ella se sometió a una evaluación preliminar y ahora está bajo consideración. <br><br><h4>  Un ejemplo de la implementación de nuestra solución. </h4><br>  Nuestro equipo llevó a cabo un proyecto a gran escala para modernizar la iluminación del palacio de hielo Khimik en Novopolotsk.  Allí, todo el equipo de iluminación (en la cantidad de 120 unidades) se realiza con la función de control remoto de la intensidad de la luz y acceso remoto de encendido / apagado a través de Wi-Fi y Bluetooth. <br><br>  También es posible configurar escenarios de trabajo autónomos.  Por ejemplo, en modo de espera, el nivel de iluminación, para ahorrar electricidad, no debe exceder los 100 lux.  Durante el entrenamiento - 600. Y durante un partido de hockey con transmisión este indicador debe ser de al menos 1200 lux.  Para instalar el sistema, no fue necesario instalar cableado adicional, cambiar la configuración de la red u otros costos.  La arquitectura del sistema está completamente construida sobre la base de nuestra red de malla.  Fue suficiente instalar nuevas lámparas LED con unidades de control. <br><br>  Después de la modernización, la arena de hielo en términos de iluminación comenzó a cumplir con los estrictos requisitos de la Federación de Hockey de la República de Bielorrusia para las transmisiones directas de televisión internacional. <br><br><h4>  ¿Por qué necesitamos redes neuronales y cómo las entrenamos? </h4><br>  En nuestra decisión, también utilizamos tecnologías de inteligencia artificial, en particular, redes neuronales.  Como se señaló anteriormente, todos los datos se recopilan mediante los módulos instalados en los dispositivos del sistema de automatización de la sala y todos los cálculos se llevan a cabo dentro del sistema.  Por lo tanto, cuantos más dispositivos haya en el sistema, mejor y más rápido distribuirán cálculos complejos entre ellos. <br><br>  Como regla general, los desarrolladores entrenan redes neuronales en grandes conjuntos de datos.  Pero en nuestro caso, la capacitación es específica.  Nuestra red neuronal no necesita saber qué aspecto tienen, condicionalmente, los monos africanos.  Al mismo tiempo, se necesitan disparadores para entrenar la red.  Descubrimos cómo hacer que los dispositivos aprendan sobre ciertos eventos a nivel de hardware, el sistema estudia a propósito los hábitos de los usuarios.  Al principio, la red implementa escenarios bien pensados ​​para comprender qué condiciones son más cómodas para los usuarios.  Luego, utilizando la experiencia acumulada, selecciona los modos de iluminación, calefacción y ventilación que son más cómodos para un usuario en particular.  Con el tiempo, el sistema asume parte de las funciones de administrar una casa, departamento u otra instalación. <br><br>  Nuestra tarea es hacer que los usuarios estén lo más cómodos posible y ellos mismos prácticamente no cambian nada en la configuración del sistema, todos están contentos. <br><br>  Debido al hecho de que el sistema es completamente autónomo, los datos se almacenan en la memoria no volátil de los propios dispositivos, el funcionamiento del sistema no depende del acceso a Internet.  Si él desaparecía de repente, ella continuaría trabajando, ofreciendo guiones y autoestudio.  En nuestro caso, Internet solo se necesita para organizar el acceso remoto y la comunicación con el servidor si el usuario desea almacenar ciertos datos en la nube (por ejemplo, grabaciones de cámaras de video). <br><br><h4>  Planes de implementación de visión </h4><br>  Para fines de año, planeamos lanzar parcialmente una línea de dispositivos para nuestro sistema de automatización de sala adaptable.  Incluirá casi todo lo mencionado anteriormente, con la excepción de las cámaras de video. <br><br>  Actualmente se está desarrollando una cámara de video con elementos de visión técnica.  Planeamos transmitir datos de video de varias cámaras a la vez.  También estamos tratando de introducir un enfoque innovador.  Nuestra solución utiliza dos redes neuronales para detectar y rastrear personas en una habitación (la tarea de seguimiento múltiple se está resolviendo) en tiempo real utilizando la tecnología CUDA.  Para acompañar, se propuso y entrenó un modelo de red neuronal que, según los resultados de la prueba, supera a DeepSort en cuatro parámetros principales, que mostraron los mejores resultados en la competencia MOT16, como parte de MOTChallenge. <br><br>  Se sabe que el diseño de modelos de redes neuronales requiere recursos de tiempo significativos para el desarrollo, también es necesario realizar muchos experimentos, por lo que el sistema no solo conoce la cantidad de personas en la sala, sino que también proporciona su seguimiento, que funciona de manera estable incluso en situaciones en que las personas abandonan el marco. y luego vuelvo  Nuestra red neuronal ya reconoce a las personas por 128 signos y los determina de acuerdo con el sistema de "amigo / enemigo".  Hasta la fecha, la implementación de trabajos para adaptar la tecnología de acompañamiento de personas usando secuencias de video obtenidas de diferentes cámaras en interiores es prometedora.  Con el tiempo, planeamos agregar una definición de patrones de comportamiento no estándar (por ejemplo, caídas o peleas) y la detección de llamas o humo.  Los desarrollos en estas áreas ya están disponibles. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452954/">https://habr.com/ru/post/452954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452938/index.html">Las pistolas de la impresora 3D están de vuelta, y ahora ya no se pueden detener.</a></li>
<li><a href="../452942/index.html">GeekBrains celebra 12 reuniones en línea gratuitas con expertos en programación</a></li>
<li><a href="../452944/index.html">¿Cuál será el "Diálogo" de lingüistas y especialistas en análisis de datos?</a></li>
<li><a href="../452946/index.html">Relectura de la filosofía de programación de Windows 95 / NT de Lou Greenaw</a></li>
<li><a href="../452952/index.html">Jornada de puertas abiertas de JetBrains en San Petersburgo</a></li>
<li><a href="../452956/index.html">Referencia de consumo de CPU para Istio y Linkerd</a></li>
<li><a href="../452958/index.html">JMAP: un protocolo abierto reemplaza a IMAP al intercambiar correos electrónicos</a></li>
<li><a href="../452960/index.html">¡Responderás por todo! Contratos dirigidos por el consumidor a través de los ojos del desarrollador</a></li>
<li><a href="../452962/index.html">La principal causa de accidentes en los centros de datos es la colocación entre la computadora y la silla.</a></li>
<li><a href="../452964/index.html">Una explicación asequible de la hipótesis de Riemann.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>