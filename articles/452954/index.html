<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  锔 Tiempo de construcci贸n, velocidad de red y enrutamiento: c贸mo mejoramos nuestra red de malla y un poco sobre redes neuronales   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este recurso, escriben regularmente sobre redes de malla. Queremos decir c贸mo los usamos en nuestro proyecto para crear un sistema de automatizaci贸...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tiempo de construcci贸n, velocidad de red y enrutamiento: c贸mo mejoramos nuestra red de malla y un poco sobre redes neuronales</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452954/">  En este recurso, escriben regularmente sobre redes de malla.  Queremos decir c贸mo los usamos en nuestro proyecto para crear un sistema de automatizaci贸n de sala adaptable. La tecnolog铆a de redes autoorganizadas nos permite no solo implementar r谩pidamente el sistema, sino tambi茅n lograr altos indicadores de su tolerancia a fallas y velocidad.  Probamos con 茅xito nuestra soluci贸n en un sitio real con una capacidad de red de 120 dispositivos. <br><br><h4>  驴Por qu茅 necesitamos una red de malla? </h4><br>  Desde el advenimiento del concepto de "hogar inteligente", la unidad principal se ha considerado su "coraz贸n" y "cerebro".  Pero gradualmente, los centros dejan de ser necesarios y pronto desaparecen por completo en el pasado.  Los principales jugadores como Google y Amazon tambi茅n confirman esta tendencia.  Google ha estado ofreciendo enrutadores celulares durante varios a帽os, y Amazon recientemente compr贸 Eero para fortalecer su posici贸n en el mercado de hogares inteligentes. <br><br>  En nuestros productos, utilizamos redes de malla, ya que resuelven varios problemas a la vez.  En primer lugar, aseguran el buen funcionamiento del sistema.  Por lo general, si el concentrador se bloquea o pierde su conexi贸n a Internet, el sistema se apaga, los dispositivos dejan de responder y realizan sus funciones b谩sicas.  Las redes de malla evitan esto.  Incluso si un dispositivo falla, el resto continuar谩 funcionando en el mismo modo.  El usuario solo recibir谩 una notificaci贸n del mal funcionamiento. <a name="habracut"></a><br><br>  En segundo lugar, las redes de malla ayudan a enrutar el tr谩fico.  En nuestro sistema, todos los dispositivos pueden transmitir la se帽al para que el 谩rea de cobertura de la red sea casi ilimitada.  En caso de un cambio en la configuraci贸n de la red, el sistema determinar谩 independientemente la ruta 贸ptima. <br><br>  En una red creada sobre la base de nuestra soluci贸n, un n煤mero casi ilimitado de dispositivos puede funcionar a una distancia considerable entre s铆.  Obtenido por el m茅todo de c谩lculo, esta cifra es de 10 a 10 grados, que actualmente es imposible de proporcionar en vista de la cantidad limitada de RAM en los dispositivos. <br><br><h4>  驴Qu茅 es un "hogar inteligente" (en nuestra opini贸n) </h4><br>  La mayor铆a de las soluciones en el mercado actual son simplemente un conjunto de sensores y actuadores que tienen capacidades limitadas.  Por lo general, este es un control remoto en forma de una aplicaci贸n m贸vil, una tableta separada o un altavoz inteligente, que le permite configurar la temperatura, encender / apagar los electrodom茅sticos, ajustar la iluminaci贸n y configurar escenarios primitivos de duraci贸n de la bater铆a.  Admitamos que lo "inteligente" no es suficiente, este es solo otro juguete. <br><br>  Por lo tanto, nos propusimos el objetivo de crear un sistema de automatizaci贸n del hogar adaptativo basado en una red de malla.  A medida que lo usa, nuestro sistema analiza los h谩bitos y el comportamiento del usuario.  Debido a esto, con el tiempo, ella comienza a adaptar todos los escenarios y configuraciones para un usuario espec铆fico, ofrecer nuevos escenarios y, despu茅s de la aprobaci贸n del propietario, configurarlos ella misma. <br><br>  La arquitectura del sistema est谩 dise帽ada de tal manera que no se requiere un cuadro de cabecera.  Un dispositivo tomado por separado puede funcionar solo, utilizando toda la funcionalidad incorporada en 茅l. <br><br>  Otra caracter铆stica de nuestra soluci贸n: antes de tomar una decisi贸n, el sistema recopila datos de varias fuentes a la vez (por ejemplo, desde una c谩mara, sensor de calidad del aire, sensor de presencia, etc.).  Esto ha sido posible debido al hecho de que todos los dispositivos del sistema son autosuficientes y pueden intercambiar informaci贸n entre ellos directamente.  Lo que nos permiti贸 reducir significativamente la probabilidad de implementaci贸n incorrecta de acciones dentro del marco de un escenario dado. <br><br>  Toda la informaci贸n se procesa dentro del sistema (y no por el servidor o el concentrador central) de forma distribuida.  A que te refieres  Si uno de los dispositivos con fuente de alimentaci贸n aut贸noma necesita realizar c谩lculos complejos e intensivos en energ铆a, el sistema redirigir谩 esta tarea al dispositivo m谩s cercano con una alimentaci贸n de red constante.  Este enfoque proporciona una duraci贸n aceptable de la bater铆a para dispositivos autoalimentados y acelera el proceso de decisi贸n. <br><br>  Tambi茅n me gustar铆a se帽alar la simplicidad del procedimiento de conexi贸n.  Para hacer esto, no necesita configurar nada, escanear c贸digos QR y m谩s.  Es suficiente conectar el tel茅fono con la aplicaci贸n al dispositivo, y eso es todo: 隆ya est谩 en la red, recibi贸 la configuraci贸n b谩sica y est谩 listo para funcionar! <br><br><h4>  Caracter铆sticas clave de nuestra red de malla </h4><br>  Inicialmente, quer铆amos utilizar la soluci贸n asequible Espressif ESP-MESH.  Pero despu茅s de analizarlo, nos dimos cuenta de que no nos queda del todo bien.  Por lo tanto, tuve que inventar el m铆o.  Nuestras ventajas clave son el tiempo de construcci贸n, el cambio autom谩tico de canal cuando se est谩 cargando, la velocidad de la red y el enrutamiento. <br><br>  La autocuraci贸n es la detecci贸n autom谩tica y la eliminaci贸n de fallas en la red.  Si de repente alg煤n dispositivo falla y se pierde la se帽al, la red de los dispositivos restantes se reconstruir谩 por s铆 sola.  El ensamblaje de la red desde el momento en que se enciende demora hasta 15 segundos, y la reconstrucci贸n no demora m谩s de 6 segundos.  El soporte entre nodos para la redirecci贸n es inferior a 10 milisegundos.  Y estos son n煤meros reales obtenidos durante las pruebas en una de nuestras grandes instalaciones.  En general, este es un indicador promedio para las instalaciones militares y excesivo en nuestro segmento.  隆Podemos decir que tenemos una gran oferta! <br><br>  Otro par谩metro importante es el enrutamiento, c贸mo se transmite la se帽al de un dispositivo a otro.  Por lo general, todos los elementos de soluciones similares funcionan a las mismas frecuencias que Wi-Fi: 2.4 Hz.  Los protocolos usan algoritmos basados en el estado de los canales de aire.  Nuestra soluci贸n le permite cambiar el canal sin afectar el rendimiento de la red.  Por ejemplo, en la instalaci贸n, todos los dispositivos alrededor del per铆metro funcionan en el canal 13.  Pero en el centro de la habitaci贸n en este canal hab铆a interferencia.  En este caso, el dispositivo que transmite la se帽al cambiar谩 autom谩ticamente el canal y omitir谩 el 谩rea problem谩tica.  El resto de los dispositivos equipados con nuestro m贸dulo est谩n organizados entre ellos y eligen las frecuencias 贸ptimas. <br><br>  Para lograr una alta velocidad de enrutamiento, hemos optimizado todo el software para el hardware.  Para cada procesador y coprocesador escribieron c贸digo en Assembler.  Esto nos permiti贸 reducir el consumo de energ铆a y aumentar la velocidad de la red en 15 veces. <br><br>  La capacidad m谩xima te贸rica de nuestra red es enorme.  Obviamente, en la pr谩ctica no podemos verificarlo.  Durante las pruebas, conectamos m谩s de 300 dispositivos a la red y el sistema funcion贸 de manera estable.  Es decir, nuestra soluci贸n facilitar谩 la cobertura del centro comercial y para ello no tendr谩 que deshacerse de las paredes, tender cableado adicional y configurar la red durante un tiempo largo y doloroso.  Es suficiente instalar nuestros dispositivos donde sea necesario.  Incluso si est谩 en un sitio m贸vil, siempre estar谩n en l铆nea. <br><br>  Para la seguridad de los datos del usuario, utilizamos doble encriptaci贸n, que se basa en el protocolo AES, reconocido como uno de los m谩s confiables.  El tr谩fico se canaliza entre el servidor y el dispositivo o entre un par de dispositivos.  Esto elimina la posibilidad de obtener acceso al sistema pirateando una red WIFI. <br><br>  Solicitamos una patente para un modelo de utilidad para aplicar nuestro algoritmo de red autoorganizado para automatizar salas.  Ella se someti贸 a una evaluaci贸n preliminar y ahora est谩 bajo consideraci贸n. <br><br><h4>  Un ejemplo de la implementaci贸n de nuestra soluci贸n. </h4><br>  Nuestro equipo llev贸 a cabo un proyecto a gran escala para modernizar la iluminaci贸n del palacio de hielo Khimik en Novopolotsk.  All铆, todo el equipo de iluminaci贸n (en la cantidad de 120 unidades) se realiza con la funci贸n de control remoto de la intensidad de la luz y acceso remoto de encendido / apagado a trav茅s de Wi-Fi y Bluetooth. <br><br>  Tambi茅n es posible configurar escenarios de trabajo aut贸nomos.  Por ejemplo, en modo de espera, el nivel de iluminaci贸n, para ahorrar electricidad, no debe exceder los 100 lux.  Durante el entrenamiento - 600. Y durante un partido de hockey con transmisi贸n este indicador debe ser de al menos 1200 lux.  Para instalar el sistema, no fue necesario instalar cableado adicional, cambiar la configuraci贸n de la red u otros costos.  La arquitectura del sistema est谩 completamente construida sobre la base de nuestra red de malla.  Fue suficiente instalar nuevas l谩mparas LED con unidades de control. <br><br>  Despu茅s de la modernizaci贸n, la arena de hielo en t茅rminos de iluminaci贸n comenz贸 a cumplir con los estrictos requisitos de la Federaci贸n de Hockey de la Rep煤blica de Bielorrusia para las transmisiones directas de televisi贸n internacional. <br><br><h4>  驴Por qu茅 necesitamos redes neuronales y c贸mo las entrenamos? </h4><br>  En nuestra decisi贸n, tambi茅n utilizamos tecnolog铆as de inteligencia artificial, en particular, redes neuronales.  Como se se帽al贸 anteriormente, todos los datos se recopilan mediante los m贸dulos instalados en los dispositivos del sistema de automatizaci贸n de la sala y todos los c谩lculos se llevan a cabo dentro del sistema.  Por lo tanto, cuantos m谩s dispositivos haya en el sistema, mejor y m谩s r谩pido distribuir谩n c谩lculos complejos entre ellos. <br><br>  Como regla general, los desarrolladores entrenan redes neuronales en grandes conjuntos de datos.  Pero en nuestro caso, la capacitaci贸n es espec铆fica.  Nuestra red neuronal no necesita saber qu茅 aspecto tienen, condicionalmente, los monos africanos.  Al mismo tiempo, se necesitan disparadores para entrenar la red.  Descubrimos c贸mo hacer que los dispositivos aprendan sobre ciertos eventos a nivel de hardware, el sistema estudia a prop贸sito los h谩bitos de los usuarios.  Al principio, la red implementa escenarios bien pensados para comprender qu茅 condiciones son m谩s c贸modas para los usuarios.  Luego, utilizando la experiencia acumulada, selecciona los modos de iluminaci贸n, calefacci贸n y ventilaci贸n que son m谩s c贸modos para un usuario en particular.  Con el tiempo, el sistema asume parte de las funciones de administrar una casa, departamento u otra instalaci贸n. <br><br>  Nuestra tarea es hacer que los usuarios est茅n lo m谩s c贸modos posible y ellos mismos pr谩cticamente no cambian nada en la configuraci贸n del sistema, todos est谩n contentos. <br><br>  Debido al hecho de que el sistema es completamente aut贸nomo, los datos se almacenan en la memoria no vol谩til de los propios dispositivos, el funcionamiento del sistema no depende del acceso a Internet.  Si 茅l desaparec铆a de repente, ella continuar铆a trabajando, ofreciendo guiones y autoestudio.  En nuestro caso, Internet solo se necesita para organizar el acceso remoto y la comunicaci贸n con el servidor si el usuario desea almacenar ciertos datos en la nube (por ejemplo, grabaciones de c谩maras de video). <br><br><h4>  Planes de implementaci贸n de visi贸n </h4><br>  Para fines de a帽o, planeamos lanzar parcialmente una l铆nea de dispositivos para nuestro sistema de automatizaci贸n de sala adaptable.  Incluir谩 casi todo lo mencionado anteriormente, con la excepci贸n de las c谩maras de video. <br><br>  Actualmente se est谩 desarrollando una c谩mara de video con elementos de visi贸n t茅cnica.  Planeamos transmitir datos de video de varias c谩maras a la vez.  Tambi茅n estamos tratando de introducir un enfoque innovador.  Nuestra soluci贸n utiliza dos redes neuronales para detectar y rastrear personas en una habitaci贸n (la tarea de seguimiento m煤ltiple se est谩 resolviendo) en tiempo real utilizando la tecnolog铆a CUDA.  Para acompa帽ar, se propuso y entren贸 un modelo de red neuronal que, seg煤n los resultados de la prueba, supera a DeepSort en cuatro par谩metros principales, que mostraron los mejores resultados en la competencia MOT16, como parte de MOTChallenge. <br><br>  Se sabe que el dise帽o de modelos de redes neuronales requiere recursos de tiempo significativos para el desarrollo, tambi茅n es necesario realizar muchos experimentos, por lo que el sistema no solo conoce la cantidad de personas en la sala, sino que tambi茅n proporciona su seguimiento, que funciona de manera estable incluso en situaciones en que las personas abandonan el marco. y luego vuelvo  Nuestra red neuronal ya reconoce a las personas por 128 signos y los determina de acuerdo con el sistema de "amigo / enemigo".  Hasta la fecha, la implementaci贸n de trabajos para adaptar la tecnolog铆a de acompa帽amiento de personas usando secuencias de video obtenidas de diferentes c谩maras en interiores es prometedora.  Con el tiempo, planeamos agregar una definici贸n de patrones de comportamiento no est谩ndar (por ejemplo, ca铆das o peleas) y la detecci贸n de llamas o humo.  Los desarrollos en estas 谩reas ya est谩n disponibles. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452954/">https://habr.com/ru/post/452954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452938/index.html">Las pistolas de la impresora 3D est谩n de vuelta, y ahora ya no se pueden detener.</a></li>
<li><a href="../452942/index.html">GeekBrains celebra 12 reuniones en l铆nea gratuitas con expertos en programaci贸n</a></li>
<li><a href="../452944/index.html">驴Cu谩l ser谩 el "Di谩logo" de ling眉istas y especialistas en an谩lisis de datos?</a></li>
<li><a href="../452946/index.html">Relectura de la filosof铆a de programaci贸n de Windows 95 / NT de Lou Greenaw</a></li>
<li><a href="../452952/index.html">Jornada de puertas abiertas de JetBrains en San Petersburgo</a></li>
<li><a href="../452956/index.html">Referencia de consumo de CPU para Istio y Linkerd</a></li>
<li><a href="../452958/index.html">JMAP: un protocolo abierto reemplaza a IMAP al intercambiar correos electr贸nicos</a></li>
<li><a href="../452960/index.html">隆Responder谩s por todo! Contratos dirigidos por el consumidor a trav茅s de los ojos del desarrollador</a></li>
<li><a href="../452962/index.html">La principal causa de accidentes en los centros de datos es la colocaci贸n entre la computadora y la silla.</a></li>
<li><a href="../452964/index.html">Una explicaci贸n asequible de la hip贸tesis de Riemann.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>