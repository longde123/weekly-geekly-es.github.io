<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíµ üéí üåø El tiempo no espera: que Windows 10 Timeline puede ser √∫til para el criminalista üëäüèª üëï ü§®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Al investigar incidentes y ataques de virus para reconstruir eventos que ocurren en la computadora de un usuario, los forenses a menudo usan diferente...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>El tiempo no espera: que Windows 10 Timeline puede ser √∫til para el criminalista</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/group-ib/blog/456652/"><img src="https://habrastorage.org/webt/rs/m9/qr/rsm9qrmzazmrujmdgzwct315rem.png"><br><br>  Al investigar incidentes y ataques de virus para reconstruir eventos que ocurren en la computadora de un usuario, los forenses a menudo usan diferentes tipos de l√≠neas de tiempo.  Como regla general, la l√≠nea de tiempo es un archivo o tabla de texto enorme, en el que, en orden cronol√≥gico, se proporciona informaci√≥n sobre los eventos que ocurrieron en la computadora. <br><br>  El procesamiento de medios para la preparaci√≥n de la l√≠nea de tiempo (por ejemplo, usando Plaso) es un proceso lento.  Por lo tanto, los forenses de computadoras se alegraron mucho al saber que en la pr√≥xima actualizaci√≥n de Windows 10 hab√≠a una nueva funcionalidad: Windows 10 Timeline. <br><br>  "Cuando me enter√© de la nueva caracter√≠stica de Windows, pens√©:" ¬°Genial!  Ahora no tiene que perder el tiempo generando l√≠neas de tiempo ".  Sin embargo, result√≥ que mi alegr√≠a fue prematura ‚Äù, dijo Igor Mikhailov, especialista en el Laboratorio de Inform√°tica Forense Group-IB.  Especialmente para los lectores de Habr, Igor cuenta c√≥mo la L√≠nea de tiempo de Windows 10, un nuevo tipo de artefactos de Windows 10, tiene que ver con los tipos tradicionales de l√≠nea de tiempo y qu√© informaci√≥n contiene. <a name="habracut"></a><br><br>  Publicado por <b>Igor Mikhailov</b> , Especialista, Laboratorio de Inform√°tica Grupo Forense-IB. <br><br>  Como ya se mencion√≥, en la actualizaci√≥n de abril de 2018 en Windows 10, apareci√≥ una nueva funcionalidad, llamada "Vista de tareas" (Windows 10 Timeline, o Timeline para abreviar).  Le permite ver la actividad de un usuario de la computadora y regresar r√°pidamente a documentos y programas que se abrieron previamente, a videos e im√°genes que se vieron anteriormente, a sitios web.  Para abrir la l√≠nea de tiempo de Windows 10, haga clic en el siguiente icono: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0s/hh/xt/0shhxtjw-bndinbdzfjlkhcxo8o.png"></div><br>  Despu√©s de eso, las miniaturas de programas, documentos y sitios que se abrieron en el d√≠a actual o hace alg√∫n tiempo estar√°n disponibles: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/jh/il/zrjhillys0v3vyewqong9pn2mtu.png"></div><br>  Los investigadores notaron dos caracter√≠sticas de la nueva funcionalidad: <br><br><ol><li>  la apertura de algunas aplicaciones no aparece en la l√≠nea de tiempo </li><li>  Algunos datos de la l√≠nea de tiempo (datos anteriores) se transfieren a Microsoft Cloud </li></ol><br>  Por lo tanto, la informaci√≥n que se puede obtener mediante el an√°lisis de la l√≠nea de tiempo de Windows 10 difiere de los tipos habituales de l√≠neas de tiempo, que contienen informaci√≥n m√°s completa sobre los eventos que ocurrieron en la computadora analizada. <br><br>  La l√≠nea de tiempo de Windows 10 no debe confundirse con las l√≠neas de tiempo creadas por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las utilidades forenses</a> .  Por ejemplo, las l√≠neas de tiempo creadas por Autopsy, Belkasoft Evidence Center, AXIOM, contienen significativamente m√°s registros sobre las diversas acciones del usuario de la computadora en estudio en comparaci√≥n con Windows 10 Timeline. <br><br>  Para activar la l√≠nea de tiempo de Windows 10, el usuario de una computadora debe ir a la secci√≥n "Configuraci√≥n" del sistema operativo, seleccionar la categor√≠a "Privacidad" y la subcategor√≠a "Registro de actividad", y luego marcar las casillas opuestas: <br><br><ul><li>  permitir que Windows recopile mis acciones de esta computadora </li><li>  Permitir que Windows sincronice mis acciones de esta computadora a la nube </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/id/hs/tf/idhstf54aqzyepruefwurs7pxaw.png"></div><br><h2>  Ubicaciones de artefactos forenses de la l√≠nea de tiempo de Windows 10 </h2><br>  En el <b>directorio</b> <b>Users \% profile name% \ AppData \ Local \ ConnectedDevicesPlatform \</b> , hay un archivo con la extensi√≥n <b>.cpd</b> , que contiene informaci√≥n sobre la hora de la √∫ltima sincronizaci√≥n de la l√≠nea de tiempo de Windows 10 con la nube ( <b>CNCNotificationUriLastSynced</b> ) y sobre el ID de usuario (en la ilustraci√≥n es <b>0b5569b899437c21</b> ). <br><br><div class="spoiler">  <b class="spoiler_title">Vista de cat√°logo</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ya/tp/gx/yatpgxkrmtusa2himnzi7jvsdns.png"><br></div></div><br>  La informaci√≥n sobre la actividad del usuario en la l√≠nea de tiempo de Windows 10 se almacena en el archivo <b>ActivitiesCache.db a lo</b> largo de la ruta: <b>\ Users \% profile name% \ AppData \ Local \ ConnectedDevicesPlatform \ L.% profile name% \</b> . <br><br><h3>  Archivo ActivitiesCache.db </h3><br>  El archivo <b>ActivitiesCache.db</b> es una base de datos SQLite (versi√≥n 3).  Como con cualquier base de datos SQLite, se caracteriza por la presencia de dos archivos auxiliares, <b>ActivitiesCache.db-shm</b> y <b>ActivitiesCache.db-wal</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fw/sn/rw/fwsnrwev5aefxssbv6nwdwdllia.png"></div><br>  La informaci√≥n adicional sobre los registros eliminados puede estar contenida en el espacio de tablas no utilizado, en las listas gratuitas y en los archivos wal. <br><br><h3>  Anatom√≠a de la l√≠nea de tiempo de Windows 10 </h3><br>  <b>ActivitiesCache.db</b> contiene las siguientes tablas: <b>Activity</b> , <b>Activity_PackageId</b> , <b>ActivityAssetCache</b> , <b>ActivityOperation</b> , <b>AppSettings</b> , <b>ManualSequence</b> , <b>Metadata</b> .  De mayor inter√©s para el investigador son las tablas <b>Activity_PackageId</b> y <b>Activity</b> ). <br><br><div class="spoiler">  <b class="spoiler_title">Tabla Activity_PackageId</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/z4/2f/nw/z42fnw-dum9yliaznfc6ptlpc9o.png"></div><br></div></div><br>  La tabla <b>Activity_PackageId</b> contiene entradas para aplicaciones que incluyen rutas para archivos ejecutables (por ejemplo <b>... c: \ programdata \ firefly studios \ s tronghold kingdoms \ 2.0.32.1 \ strongholdkingdoms.exe ...</b> ), nombres de archivos ejecutables y tambi√©n el tiempo de caducidad para estas entradas  Los valores en la columna de <b>tiempo de caducidad</b> se almacenan en el formato de hora de √©poca. <br><br>  Las entradas en la tabla <b>Activity_PackageId</b> se almacenan durante 30 d√≠as y pueden contener informaci√≥n sobre archivos ejecutables o documentos que ya faltan en el disco duro bajo investigaci√≥n. <br><br><div class="spoiler">  <b class="spoiler_title">Tabla de actividades</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/pm/nc/im/pmncim6fy1hdnehllcfogghpx4s.png"></div></div><br>  En la mesa <b>de actividades</b> contiene los siguientes campos: ID, APPID, PackageIdHash, AppActivityId , ActivityType, ActivityStatus, ParentActivityId, Tag, Grupo, MatchId, lastModifiedTime, ExpirationTime, Carga √∫til, prioridad, IsLocalOnly, PlatformDeviceId, CreatedInCloud, StartTime, EndTime, LastModifiedOnClient, GroupAppActivityId, ClipboardPayload , EnterpriseId, OriginalLastModifiedOnClient, ETag. <br><br>  Contiene hasta cinco campos de fecha y hora: LastModifiedTime, ExpirationTime, StartTime, EndTime, LastModifiedOnClient (este campo puede estar vac√≠o; se llena si el archivo en cuesti√≥n en esta entrada de la tabla ha sido modificado por un usuario de la computadora). <br><br>  Tambi√©n puede encontrar rutas a archivos ejecutables en esta tabla: <b>... "F: \\ NirSoft \\ x64 \\ USBDeview.exe ...</b> <br>  Gary Hunter (pr3cur50r) en el art√≠culo "L√≠nea de tiempo de Windows 10 - Revisi√≥n inicial de artefactos forenses" indica que los valores de marca de tiempo no se cambian para los archivos eliminados.  Para documentos modificados, los valores de la marca de tiempo no cambian inmediatamente, sino dentro de las 24 horas. <br><br><h2>  Estudie la l√≠nea de tiempo de Windows 10 </h2><br>  La forma m√°s f√°cil de ver los datos contenidos en el archivo <b>ActivitiesCache.db</b> es usar el visor de la base de datos SQLite.  Por ejemplo, la utilidad gratuita DB Browser para SQLite. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/cc/9n/vccc9nwz5imcpub3lx92uqwxwk0.png"></div><br>  Desplaz√°ndose por las tablas en la pesta√±a Examinar datos, puede ver su contenido y registrar informaci√≥n que ser√≠a interesante durante un estudio espec√≠fico. <br><br>  La segunda utilidad que recomendamos es WxTCmd (analizador de base de datos de Windows 10 Timeline).  Esta utilidad se ejecuta desde la l√≠nea de comando. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9h/cf/vw/9hcfvwnheyrd0lfxp3nwzrfbbje.png"></div><br>  Como resultado de su trabajo, se crea un archivo csv que contiene los resultados del an√°lisis del archivo <b>ActivitiesCache.db</b> . <br><br><div class="spoiler">  <b class="spoiler_title">Vista de este archivo abierto en Excel</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/lh/ui/tl/lhuitlddi44_k2sw7lmuqhblt7a.png"></div></div><br>  La tercera utilidad que recomendamos es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AXIOM de</a> Magnet Forensics. <br><br>  Para que el programa analice este artefacto, debe indicarle al programa que haga esto en la secci√≥n "Seleccionar artefactos para incluir en el caso". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9b/zu/cj/9bzucjj4tzztowj3cjnqqnmhnp8.png"></div><br>  Los resultados del an√°lisis de archivos se pueden ver en Magnet AXIOM Examiner. <br><br><div class="spoiler">  <b class="spoiler_title">Resultados de extraer datos de ActivitiesCache.db por AXIOM</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/7t/tq/gn/7ttqgnis2sdeu4owfnlwoq3ufn0.png"></div></div></div><br>  La cuarta utilidad que recomendamos para analizar dichos archivos es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Belkasoft's Belkasoft Evidence Center</a> . <br><br>  Despu√©s de agregar una fuente de datos (disco duro, unidad l√≥gica, directorio o archivo) en la ventana <b>Agregar fuente de datos</b> , en la secci√≥n <b>Archivos</b> del <b>sistema</b> , seleccione <b>L√≠nea de tiempo de Windows</b> . <br><br><img src="https://habrastorage.org/webt/ry/vs/ru/ryvsruju2irdvalxsfu0zkbn2mg.png"><br><br>  Una vez completada la extracci√≥n de datos, la categor√≠a <b>L√≠nea de tiempo de Windows</b> aparecer√° en la pesta√±a <b>Descripci√≥n general</b> , en la que se mostrar√°n los resultados de la extracci√≥n de datos del archivo <b>ActivitiesCache.db</b> . <br><br><div class="spoiler">  <b class="spoiler_title">Aspecto de la recuperaci√≥n de datos</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1a/mm/rc/1ammrcmoxizaawidvtld8wmtup0.png"></div></div><br><h2>  Cronolog√≠a de Windows 10 en inform√°tica forense: ponerlo en pr√°ctica </h2><br>  Los datos contenidos en la l√≠nea de tiempo de Windows 10 se pueden usar para investigar incidentes o fugas de datos. <br><br>  Como ejemplo, mostraremos un dato del archivo <b>ActivitiesCache.db</b> de una computadora que ha sido atacada por hackers: <br><br><img src="https://habrastorage.org/webt/kz/zl/1t/kzzl1tsx_cnsmgvlttkoz1m-so8.png"><br><br>  Como puede ver en la captura de pantalla, los atacantes descargaron a las v√≠ctimas de TeamViewer, un archivo del programa que comparte uploadpace.com, Mimikatz en la computadora.  Un an√°lisis de los eventos guardados en la l√≠nea de tiempo de Windows 10 muestra que los atacantes abrieron los registros de Teamviewer de Notepad (archivo <b>notepad.exe</b> ) (archivo <b>TeamViewer14_Logfile.log</b> ) usando Notepad.  Quiz√°s para eliminar o modificar la informaci√≥n en este archivo. <br><br>  Aqu√≠ hay otro ejemplo.  Aparentemente, se lanzaron archivos muy inusuales en la computadora.  Probablemente alguien estaba tratando de recopilar informaci√≥n sobre el usuario de la computadora. <br><br><img src="https://habrastorage.org/webt/mu/ta/aq/mutaaql4cqi0eocbbwgtmtcycgc.png"><br><br>  Por lo tanto, una nueva categor√≠a de artefactos que apareci√≥ en Windows 10, a saber, la L√≠nea de tiempo de Windows 10, simplifica el trabajo del investigador al reconstruir eventos que ocurrieron en la computadora en estudio en los √∫ltimos 30 d√≠as.  Adem√°s, Windows 10 Timeline puede proporcionar informaci√≥n adicional sobre los archivos que se ejecutaron en la computadora en estudio, incluidos los eliminados.  Esto es especialmente importante cuando se investigan incidentes o fugas de datos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456652/">https://habr.com/ru/post/456652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456640/index.html">An√°lisis del concurso de inteligencia competitiva en PHDays 9</a></li>
<li><a href="../456642/index.html">La primera graduaci√≥n del programa de Maestr√≠a Corporativa de JetBrains y la Universidad ITMO</a></li>
<li><a href="../456644/index.html">En Kickstarter aparece una impresora 3D de pol√≠meros fotogr√°ficos 3D de bajo costo.</a></li>
<li><a href="../456646/index.html">Indulgencia: c√≥mo deshacerse de la deuda para las tareas</a></li>
<li><a href="../456650/index.html">Elecci√≥n de un osciloscopio de bolsillo econ√≥mico</a></li>
<li><a href="../456654/index.html">Proyecto ERP no tan aterrador como pintado</a></li>
<li><a href="../456656/index.html">Lecciones sobre SDL 2: Lecci√≥n 4 - Estirando PNG</a></li>
<li><a href="../456658/index.html">Crecimiento: c√≥mo evaluamos las habilidades en un equipo</a></li>
<li><a href="../456662/index.html">C√≥mo ahorrar dinero en un terapeuta usando el desarrollo basado en pruebas</a></li>
<li><a href="../456664/index.html">A qui√©n demandar cuando un robot pierde tu dinero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>