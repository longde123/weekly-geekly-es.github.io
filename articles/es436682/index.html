<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì≤ üè¥‚Äç‚ò†Ô∏è üë®‚Äçüç≥ No cree su propio JL (DSL) para ampliar la funcionalidad de la aplicaci√≥n üôè üë©üèº üëµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando desea dar al usuario la capacidad de escribir complementos para su aplicaci√≥n, se enfrenta a la elecci√≥n de c√≥mo proporcionar la API. Debajo de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>No cree su propio JL (DSL) para ampliar la funcionalidad de la aplicaci√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436682/"><p>  Cuando desea dar al usuario la capacidad de escribir complementos para su aplicaci√≥n, se enfrenta a la elecci√≥n de c√≥mo proporcionar la API.  Debajo del corte, mostrar√© por qu√© la peor soluci√≥n para esto ser√≠a inventar su propio lenguaje de programaci√≥n y analizar los c√≥digos fuente, as√≠ como tambi√©n los muebles aqu√≠. </p><br><p><img src="https://habrastorage.org/webt/mm/z3/fl/mmz3flzbwecfpjejtazzand6dfs.png" alt="CPAP"></p><a name="habracut"></a><br><h2 id="yap--eto-ne-osnovnaya-funkciya-prilozheniya">  PL no es la funci√≥n principal de la aplicaci√≥n </h2><br><p> Imagine que abrimos la producci√≥n de muebles modulares.  Hay algunos elementos b√°sicos: encimeras, posavasos, mesitas de noche, etc.  Hay una l√≠nea de producci√≥n asociada con el procesamiento de madera: m√°quinas herramienta, sierras, barnices, todo con la √∫ltima tecnolog√≠a.  Pero todo esto debe de alguna manera mantenerse unido.  Sabemos que hay 100,500 empresas que se especializan en la fabricaci√≥n de hardware y pernos, existen algunos est√°ndares para los sujetadores de muebles que fueron inventados por una comunidad de profesionales para facilitar la vida de sus clientes.  ¬øQu√© tan visionaria ser√° la decisi√≥n de desplegar una l√≠nea adicional para la producci√≥n de tornillos, tuercas y √°ngulos propios? </p><br><p>  ¬øQu√© podemos ganar? </p><br><ul><li>  As√≠ podemos <abbr title="Si su piano Steinway tiene al menos una parte que no es de Steinway, no es Steinway">marcar nuestro producto</abbr> para que el h√°mster sienta su "originalidad" y lleve m√°s dinero. </li><li>  Tal vez esto nos permita no pagar derechos de autor por ninguno de los tornillos, o resolver el problema de log√≠stica. </li><li>  Podemos ingresar a un nuevo mercado de tornillos y tuercas, estableciendo nuestro propio est√°ndar, que es <abbr title="Bueno, ¬ød√≥nde est√° el TRS (Jack) de 2.5 mm ahora?">m√°s r√°pido, mejor y m√°s alto.</abbr> </li></ul><br><p>  Pero seamos limpios. </p><br><ul><li>  El ilitismo es el trabajo de los vendedores.  El vendedor har√° o no la marca un Elite con o sin una nueva l√≠nea de producci√≥n. </li><li>  El derecho de autor, por regla general (no siempre, por supuesto), es m√°s barato que el desarrollo desde cero.  Y resolviendo el problema de entregar un elemento desplegando una nueva l√≠nea de producci√≥n, solo lo exacerba. </li><li>  Si queremos probar un nuevo campo de actividad para nosotros mismos, no necesitamos conectarlo con lo que ya somos profesionales.  Puede parecer que es m√°s f√°cil empujar los tornillos con los muebles, pero si los tornillos no se elevan, arrastrar√°n los muebles con ellos.  Al menos lo que ya cuesta a los clientes. </li></ul><br><p>  Volviendo a nuestras ovejas: si est√° creando un ecosistema para las extensiones de su aplicaci√≥n, entonces tiene una <strong>aplicaci√≥n</strong> .  Hace algo bueno, algo en lo que eres bueno. </p><br><h2 id="ksp--kontakt-script-processor-ili-liniya-proizvodstva-boltov-v-mire-digital-audio">  KSP - Kontakt Script Processor, o l√≠nea de producci√≥n de pernos en el mundo del audio digital </h2><br><p><img src="https://habrastorage.org/webt/e1/ky/8h/e1ky8heowpw6mhn41blmegpt6os.png" alt="Kontakt"></p><br><p>  Te contar√© una historia sobre ese lenguaje: </p><br><p>  <strong>Kontakt</strong> es un mameluco (muestra) de la compa√±√≠a austriaca <strong>Native Instruments</strong> .  Actualmente es muy dif√≠cil encontrar un proyecto utilizando herramientas virtuales en las que no se utiliza.  En los √∫ltimos 10 a√±os, Kontakt ha ocupado la mayor parte del mercado de instrumentos muestreados.  El secreto es simple: en un momento, Kontakt propuso dos innovaciones que dieron la vuelta al desarrollo de instrumentos virtuales muestreados. </p><br><p>  La primera innovaci√≥n estaba directamente relacionada con su funci√≥n principal: manejaba la memoria con mucho cuidado (y las muestras en wav son las mismas, tanto HDD como RAM).  <strong>NI</strong> cre√≥ un formato de compresi√≥n <em>sin</em> p√©rdidas con una decodificaci√≥n r√°pida y escribi√≥ un revolucionario sistema de almacenamiento en b√∫fer de audio para su √©poca. </p><br><h3 id="vtoroy-innovaciey-stal-ksp">  La segunda innovaci√≥n fue KSP </h3><br><p>  Antes del contacto, hab√≠a dos formas de organizar funcionalmente las muestras grabadas en un instrumento controlado por MIDI: </p><br><ul><li>  Escriba su propio motor desde cero en C ++ o en otro idioma que pueda usar el SDK VST de Steinberg (y hay otros formatos de complementos, por ejemplo, AAX). </li><li>  Utilice una muestra preparada para m√∫sicos que no est√°n familiarizados con la programaci√≥n, pero que tienen sonidos que deben organizarse en alg√∫n tipo de sistema.  Digamos <strong>Giga Studio</strong> .  Pero tales mamelucos, por regla general, estaban cerrados o para terminar su trabajo, requer√≠an no menos personal que el desarrollo b√°sico bajo el SDK de VST. </li></ul><br><p>  El contacto satisfizo tanto esto como aquello: para la creaci√≥n r√°pida de prototipos hay una GUI conveniente que es comprensible para cualquier m√∫sico que haya le√≠do el manual, y para un mayor refinamiento no hay menos <strong>un lenguaje de programaci√≥n</strong> , con condiciones, funciones (de la versi√≥n 4) y una biblioteca est√°ndar que representa la API a la mayor√≠a de las funcionalidades implementadas a trav√©s de la GUI, as√≠ como a los par√°metros para reproducir muestras directamente.  Entre otras cosas, a partir de la versi√≥n 2 se hizo posible personalizar la interfaz con todo tipo de silbatos y falsificaciones, lo que permiti√≥ mostrar su singularidad en una escala casi ilimitada.  Y el c√≥digo de desarrollador est√° oculto a la vista dos veces: ofuscaci√≥n y protecci√≥n contra el cambio de <abbr title="s√≠, no funciona en la versi√≥n de warez">herramientas</abbr> . </p><br><p>  Dada la creciente popularidad del motor, as√≠ como un per√≠odo impresionante de desarrollo activo del mameluco, hoy Kontakt es una especie de rifle de asalto Kalashnikov en el mundo del audio digital.  Es f√°cil de aprender, confiable como un tanque, tiene la capacidad de dopilka dentro de l√≠mites razonables para usted amado y tiene un gran mercado para usuarios satisfechos. </p><br><h3 id="ne-vse-tak-raduzhno">  No todo es tan color de rosa </h3><br><p>  Lo inevitable sucedi√≥: la innovaci√≥n en forma de KSP se ha convertido en un flagelo.  Tratando de hacer que la sintaxis sea accesible para los tontos, que son m√∫sicos, en lugar de resolver la implementaci√≥n de la API en lenguaje humano, Nativs escribi√≥ su propio int√©rprete de su propio idioma, cuya arquitectura inicialmente no presupon√≠a un tormentoso vuelo de imaginaci√≥n de los desarrolladores de herramientas, de lo que estamos siendo testigos ahora.  Ya en la versi√≥n 3, los nativos perdieron la esperanza de mantenerse al d√≠a con los apetitos de los usuarios, y simplemente comenzaron a remachar las nuevas funciones de la biblioteca est√°ndar, permitiendo a los usuarios descubrir el entorno de desarrollo de c√≥digo por su cuenta. </p><br><p> Adem√°s, incluso entonces <strong>apareci√≥ Nils Lieberg KScriptEditor</strong> , bifurcado con <strong>Scintilla</strong> , que durante mucho tiempo ha servido como IDE principal para KSP.  Es rid√≠culo decirlo, pero cuando los nativos se dieron cuenta de que el contacto no pod√≠a hacer frente al tama√±o de la fuente alimentada, introdujeron funciones en el idioma, sin siquiera molestarse en pasarles argumentos.  Y un mes despu√©s apareci√≥ un taskfunc en <code>taskfunc</code> , pasando argumentos a funciones que no toman argumentos. </p><br><p>  Despu√©s de un tiempo, Niels se dio cuenta de que estaba pisando el rastrillo de los Nativos: no ten√≠a sentido desarrollar un IDE propio.  Port√≥ el compilador e implement√≥ la funcionalidad IDE a SublimeText2, y salud√≥.  Por el momento, las riendas de SublimeKSP est√°n a cargo del desarrollador, al parecer, de <abbr title="Kontakt Tool Development Company">Fluffy Audio</abbr> . </p><br><p><img src="https://habrastorage.org/webt/6j/fg/yx/6jfgyxlkmajwlnkdxnibbd-f8zg.png" alt="La tercera vez con el mismo rastrillo"></p><br><h3 id="nu-vy-ponyali">  Bueno, tu entiendes) </h3><br><p>  Y una vez m√°s, ya es un generador de c√≥digo, que no es menos que un lenguaje, con un sistema de importaciones, un analizador sint√°ctico, un compilador, una sintaxis diferente de KSP, pero que a√∫n admite compatibilidad con ella, por razones desconocidas por la ciencia, resulta ser una terrible monta√±a de muletas que no se pueden tirar. debido a la compatibilidad con versiones anteriores de proyectos de desarrolladores de bibliotecas que han estado desarrollando sus motores KSP durante a√±os. </p><br><p>  Supongamos que el sistema de importaci√≥n funciona globalmente con respecto al archivo desde el que se inicia la compilaci√≥n, por lo tanto, para compilar un m√≥dulo ubicado en una subcarpeta, es necesario cambiar completamente sus rutas en las importaciones, de acuerdo con su posici√≥n en la estructura del proyecto.  Y el tipo que lo apoya estar√≠a feliz de cambiar esto, pero luego romper√° los proyectos del mismo <abbr title="otra empresa que desarrolla herramientas para Kontakt">Spitfire Audio</abbr> por mucho tiempo.  Y este hecho por s√≠ solo complica la prueba modular (no digamos nada sobre la unidad) al infierno. </p><br><p>  Parece que la soluci√≥n al problema es usar enlaces simb√≥licos, pero en alg√∫n lugar en alg√∫n lugar no funciona como se esperaba, y los enlaces simb√≥licos funcionan solo parcialmente.  Este tipo de problema no es una cosa.  Entre otras cosas, despu√©s de Niels, el desarrollo no se llev√≥ a cabo modificando el compilador en s√≠, que recibe el c√≥digo ya analizado.  Y, de nuevo, por razones de compatibilidad con versiones anteriores, al agregar complementos de sintaxis extendida, cada uno de los cuales recibe las fuentes originalmente cortadas en l√≠neas, las analiza por su cuenta y realiza modificaciones. </p><br><p>  Dado que la mayor√≠a de la l√≥gica del preprocesador se basa en macros y funciones en l√≠nea que implementan el c√≥digo en un gran lienzo que almacena el 80% de las condiciones siempre verdaderas o siempre falsas (sustituyendo las constantes por la entrada de la condici√≥n), que se colapsan en la etapa analizando AST, el tiempo de compilaci√≥n de la fuente "correcta" es comparable a Con proyectos, esto est√° en un lenguaje interpretado para dummies. </p><br><p>  Decir que KSP se ha convertido en una molestia para los desarrolladores es no decir nada. </p><br><h3 id="ne-kontaktom-edinym">  Ni un solo contacto. </h3><br><p>  No puedo dar ejemplos de otras √°reas, pero aqu√≠ desde el alcance de DigitalAudio: </p><br><ul><li>  <strong>Lemur</strong> es una aplicaci√≥n de pala con un editor de escritorio que le permite crear r√°pidamente interfaces hermosas para comunicar palas utilizando el protocolo <abbr title="Open Sound Control es un protocolo para controlar dispositivos y programas que ha reemplazado a MIDI en el campo de la automatizaci√≥n de par√°metros de audio: por ejemplo, botones de volumen y panoramas.">OSC</abbr> .  Tiene su propio PL, que se puede usar en objetos de <em>script</em> especiales dispersos por todo el √°rbol del proyecto.  No hay forma de hacer un compilador para √©l como lo que se hizo para KSP. </li><li>  <strong>Reaper</strong> - <abbr title="Estaci√≥n de trabajo digital. La herramienta principal para ingenieros de sonido y arreglistas.">DAW</abbr> con un ecosistema desarrollado de desarrollo de extensi√≥n.  Como resultado, siempre que sea posible, <abbr title="versi√≥n truncada de JavaScript (aparentemente, para velocidad de an√°lisis)"><em>dupliqu√©</em></abbr> mi <abbr title="versi√≥n truncada de JavaScript (aparentemente, para velocidad de an√°lisis)"><em>c√≥digo de lenguaje JSFX (ReaScript)</em></abbr> como API para C ++, lua y Python. </li><li>  <strong>HISE</strong> es un joven escritor y <strong>constructor de</strong> <abbr title="Formato de complemento DAW universal desarrollado por Steinberg">VST \ VSTi</abbr> que matar√° a Kontakt del desarrollador sueco <em>Christoph Haart</em> tarde o temprano.  Dentro del editor en s√≠, le permite escribir en JavaScript modificado, que los objetos de C ++ analizan y compilan en el binario.  La idea con su propio analizador para introducir entidades adicionales (por ejemplo, registrar variables, si las traduje correctamente) funcion√≥ hasta que los usuarios transfirieron su c√≥digo del editor HISE a sus IDE favoritos con resaltado de sintaxis, an√°lisis est√°tico y <em>herramientas de</em> formato <em>JsPrettier</em> .  Ahora Christophe esboz√≥ un par de archivos de encabezado para compilar bibliotecas est√°ticas en C ++, que luego pueden usarse como m√≥dulos en el editor.  Paralelamente, contin√∫a complementando HISEScript (porque ya no se puede llamar a JavaScript) con nuevas funciones, pero sabemos que ... </li></ul><br><h1 id="vyvod">  Conclusi√≥n </h1><br><p>  Escriba su propia aplicaci√≥n, dedic√°ndose a su funcionalidad principal, no pierda tiempo en el analizador, la sem√°ntica y la sintaxis.  Esto es interesante mientras comienzas, pero con una alta probabilidad conducir√° a un callej√≥n sin salida.  El lenguaje de programaci√≥n no puede ser parte de la aplicaci√≥n: es una especie de l√≠nea de producci√≥n separada que requiere mucho tiempo para mantener, modificar y apoyar a la comunidad.  A su vez, si espera reducir el umbral para tontos, su√©ltelo.  Una tetera real, como regla, tiene miedo de imprimir cualquier cosa, y no se molestar√° con su sintaxis simple. </p><br><p>  Al mismo tiempo, para los desarrolladores principiantes de complementos para su programa, simplemente puede hacer una peque√±a <em>Gu√≠a de inicio r√°pido</em> , introduci√©ndoles los conceptos b√°sicos de su PL elegido para expandir la funcionalidad y alimentarlo lentamente con su API, que es parte del ecosistema de este lenguaje. </p><br><p>  <em>PD No, escribir tu propio analizador para un PL listo para usar tambi√©n es una mala idea.</em> </p><br><p>  Estar√© encantado de cualquier cr√≠tica del art√≠culo, el primer panqueque y todas las cosas. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436682/">https://habr.com/ru/post/es436682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436664/index.html">Presentamos la serie .NET Community Standup</a></li>
<li><a href="../es436668/index.html">¬øSe pueden leer las estad√≠sticas con una peque√±a cantidad de datos?</a></li>
<li><a href="../es436670/index.html">C√≥mo transferir actualizaciones en producci√≥n autom√°ticamente</a></li>
<li><a href="../es436674/index.html">Ingenier√≠a inversa Mareo fant√°stico</a></li>
<li><a href="../es436676/index.html">C√≥mo hacer DDoS en todo el pa√≠s</a></li>
<li><a href="../es436684/index.html">Aniversario de Android 10 (Q). ¬øQu√© se sabe ahora?</a></li>
<li><a href="../es436686/index.html">JPEG del mundo 3D. ¬øQu√© es glTF?</a></li>
<li><a href="../es436688/index.html">El gigante de TI abandona el mercado de chips para centros de datos: cu√©ntenos qu√© significa para la industria</a></li>
<li><a href="../es436690/index.html">[Preguntar - responder] sobre propiedad intelectual y protecci√≥n de datos</a></li>
<li><a href="../es436692/index.html">(in) Guerra finita</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>