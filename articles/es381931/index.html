<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê© üë®üèº‚Äçüíº üîÑ Control deslizante de video timelapse motorizado üë©üèΩ‚Äçü§ù‚Äçüë®üèæ üë®üèø‚Äçü§ù‚Äçüë®üèΩ üçß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La idea de hacer un control deslizante de video, y tambi√©n uno motorizado, se me ocurri√≥ en agosto de 2014. En ese momento, hab√≠a estado filmando pais...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Control deslizante de video timelapse motorizado</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381931/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La idea de hacer un control deslizante de video, y tambi√©n uno motorizado, se me ocurri√≥ en agosto de 2014. En ese momento, hab√≠a estado filmando paisajes estrellados nocturnos durante m√°s de un a√±o y decid√≠ probarme en el negocio de timelapse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el lapso de tiempo, ¬°siempre se aprecia la "vivacidad de la imagen"! El cambio de fotogramas realizados en una c√°mara montada est√°ticamente en la mayor√≠a de los casos no afecta al espectador de manera tan efectiva como la misma trama, sino que ya se tom√≥ en una c√°mara en movimiento en el espacio. La composici√≥n del video est√° llena de din√°micas ilimitadas, ¬°dejando una buena impresi√≥n en el video!</font></font><br>
<br>
<img src="https://habrastorage.org/files/7e0/a5e/8c5/7e0a5e8c59944417b231495e413fe7fa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© pasa con las ventas de tales equipos? ¬°No hay problema! Eso es solo miedo a los precios c√≥smicos ... En el proceso de b√∫squeda de opciones, ya sea de marca o chino, usted concluye que el concepto de "control deslizante motorizado de presupuesto" no existe en la naturaleza. ¬°La opci√≥n de presupuesto es solo si la dise√±as t√∫ mismo! Eso es exactamente lo que hice!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No comenc√© a fabricar el control deslizante de inmediato, hasta que encontr√© una salida, ¬°c√≥mo hacer un riel de bajo costo! Todo comenz√≥ con ella. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la tienda de muebles compr√© gu√≠as para accesorios de muebles y rodillos para ellos. </font></font><br>
<br>
<img src="https://habrastorage.org/files/b50/cc0/28a/b50cc028ae3e411a904e7326e5dec307.jpg"><br>
<br>
<img src="https://habrastorage.org/files/1d6/6e8/1d8/1d66e81d8b714dbc8ed15b4997771221.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la base de los rieles, tom√© la regla de construcci√≥n de aluminio de 1,5 m de largo, disponible en la granja (el nivel incorporado ayuda a instalar sin problemas el control deslizante). Con la ayuda de un taladro, remaches de escape, as√≠ como insertos de madera contrachapada en ambos extremos de la regla, se hizo un riel de 2 metros de largo en solo unas pocas horas. </font></font><br>
 <br>
<img src="https://habrastorage.org/files/6c0/5f8/634/6c05f86342cc4bf59c3a7414173f4dfa.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sigue siendo el caso para el carro. Lo hice de plexigl√°s duradero. Los rodillos estaban sujetos con pernos y tuercas marcados con M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a51/2b1/0d8/a512b10d8f65478f83677bf8ed52aead.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera prueba fall√≥, desafortunadamente. </font><font style="vertical-align: inherit;">El carro rod√≥ en tirones, y en el video fue muy notable (un suave rebote hacia arriba y hacia abajo). </font><font style="vertical-align: inherit;">Todo esto se debe a que los rodillos normalmente no est√°n centrados en la producci√≥n (aunque el vendedor dijo que los accesorios son italianos). </font><font style="vertical-align: inherit;">La salida es bloquear todas las ruedas. </font><font style="vertical-align: inherit;">Ahora juegan el papel de cojinetes lisos. </font><font style="vertical-align: inherit;">¬°El carro comenz√≥ a deslizarse linealmente en el riel! </font></font><br>
<br>
<img src="https://habrastorage.org/files/28b/f3b/a98/28bf3ba984ea43eb931fc0c291eaa5f5.jpg"><br>
<br>
<img src="https://habrastorage.org/files/708/1f3/f9c/7081f3f9ce814106890142c1de3f77b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mantener el riel en tr√≠podes, se le unieron dos plataformas de tr√≠pode. </font><font style="vertical-align: inherit;">Aqu√≠ est√°n hechas en casa, hechas de madera contrachapada. </font><font style="vertical-align: inherit;">Fijado con pernos y tuercas M6.</font></font><br>
<br>
<img src="https://habrastorage.org/files/040/53c/73a/04053c73af60455db7b041c4c0197c4a.jpg"><br>
<br>
<img src="https://habrastorage.org/files/f5b/6fd/a19/f5b6fda1919a48a9b03e640d2d5ba4f1.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c51/e61/85e/c51e6185e0bb41dda79ef5716c84bdb9.jpg"><br>
<br>
<img src="https://habrastorage.org/files/3ff/423/f92/3ff423f92de143ffa1134907509dfc73.jpg"><br>
<br>
<img src="https://habrastorage.org/files/62d/eab/da3/62deabda3b314ebdbd2adb19e86b8ba4.jpg"><br>
<br>
<img src="https://habrastorage.org/files/25e/1e5/313/25e1e531303347efba5105c924800b60.jpg"><br>
<br>
<img src="https://habrastorage.org/files/c4a/ed0/099/c4aed00990e44985b053f02786b25684.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electricista</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© quer√≠a hacer inicialmente? Al principio se plane√≥ usar una unidad para el carro. Para hacer esto, solo necesita un motor de alto par, una bater√≠a y un microcircuito para controlar la velocidad. Por primera vez aprend√≠ acerca de los servos y decid√≠ llevarlo a mi proyecto. El chip era un servo tester que puede controlar la velocidad del servo. ¬°Que necesitas! ¬°Necesito tomar! Pero no tenemos prisa ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El conocimiento adicional del servoaccionamiento surgi√≥ con un concepto como Arduino. Y esto es bueno! Una vez m√°s, pens√© en el proyecto y decid√≠ que en el control deslizante no necesitaba un movimiento de carro constante, sino uno de intervalo. Despu√©s de todo, el movimiento durante la exposici√≥n (fotograf√≠a nocturna - exposiciones largas) puede rechazar el cuadro con desenfoque.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y dado que tendr√© una unidad de control tan inteligente, decid√≠ complementar mi control deslizante con otro mecanismo tambi√©n. </font><font style="vertical-align: inherit;">Adem√°s de moverse a lo largo de los rieles, la c√°mara tambi√©n girar√° alrededor de un eje vertical. </font><font style="vertical-align: inherit;">El dise√±o se puede llamar un "control deslizante de video con un astrotracker a bordo". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, fue comprado:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microcontrolador Arduino UNO R3</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servo TowerPro MG995 13kg / cm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor paso a paso 28byj-48-5v + Driver ULN2003</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, hice el montaje del servo al riel desde el mismo plexigl√°s. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e05/377/874/e053778748204e50addefcbf0a1a81b1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El carro y el servo estaban conectados por un hilo inextensible, que se enrolla en su eje. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La c√°mara </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gira</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con un motor paso a paso </font><b><font style="vertical-align: inherit;">28byj-48</font></b><font style="vertical-align: inherit;"> , que est√° montado en un engranaje helicoidal 1/55. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a60/a78/d12/a60a78d124c547eba714e86a7a14b37f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decid√≠ hacer un caso para Arduino y otros componentes el√©ctricos de plexigl√°s. Pegu√© todo con superpegamento, aunque generalmente usan pegamento especial para este material, que suelda las partes entre s√≠ y luego no las separa. Para conectar los motores a la unidad de control, hice dos cables, en los cuales utilic√© conectores macho sovi√©ticos confiables y probados tipo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DIN 5 PIN</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b7/9bc/0cd/8b79bc0cde1f40ec873da0aadb0966a9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La energ√≠a se suministra a trav√©s de un </font><b><font style="vertical-align: inherit;">conector de CC</font></b><font style="vertical-align: inherit;"> normal</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bater√≠a: 7.2V, 2250mAh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ¬° </font></font><br>
<br>
<img src="https://habrastorage.org/files/47b/506/78e/47b50678ec464c19b6675c9293448eb9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primer tiempo de prueba el√©ctrica! Conectamos los motores, alimentamos, instalamos la c√°mara, le conectamos el control remoto y lo configuramos para Arduino: velocidad de obturaci√≥n 30 segundos, intervalo 5 segundos. Presionamos simult√°neamente inicio en el control remoto y Arduino. Estamos esperando ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En menos de cinco minutos, se descubri√≥ una asincron√≠a en el trabajo. El motor principal comenz√≥ a girar cuando el obturador todav√≠a estaba abierto. La cosa es el control remoto: no cuenta el tiempo correctamente. Si en tiempo real pasan 30 segundos, el contador en el control remoto solo contar√° 28-29 segundos. √âl est√° disminuyendo la velocidad. ¬°Tal vez debido al hecho de que el chino o por alguna otra raz√≥n (ser√° interesante aprender de ti por qu√©)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evitar esto, debe hacer todo sobre la base de un sistema: Arduino. Pero, ¬øc√≥mo controlar el obturador de la c√°mara a trav√©s de Arduino?</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google de nuevo para ayudar! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptador de control remoto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/files/0ab/209/fac/0ab209fac50c4989bb935ac9ad8df36d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
el adaptador de control remoto est√° conectado en un extremo a la c√°mara y el otro (conector 2.5) al cable del control remoto. Jack 2.5 tiene tres contactos, y desde el principio del control remoto de la c√°mara, aprend√≠ que para activar el obturador, dos de estos tres contactos deben estar cerrados. Despu√©s de probar varias combinaciones, ¬°encontr√© que funciona! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hice un cable de dos n√∫cleos, uno de los cuales tiene un conector jack 2.5 para la madre y est√° conectado a trav√©s de ese adaptador del control remoto a la c√°mara, el otro extremo va a la unidad de control. En su interior, se me ocurri√≥ con la ayuda de un bot√≥n mec√°nico para cerrar estas dos venas. Est√° hecho de micro servo y bot√≥n de contacto. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un micro servo rockero</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> presiona un bot√≥n de reloj en un momento determinado, cerrando as√≠ dos contactos, y la c√°mara toma una foto:</font></font><br>
<br>
<img src="https://habrastorage.org/files/555/4c3/a76/5554c3a76de24bb59f56416de061ab4f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cable de n√∫cleo: cable de </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/984/058/9b0/9840589b00bf4869bab6867ed52e4a9f.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dos n√∫cleos + adaptador remoto: a</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/b11/13e/7a3/b1113e7a3ea34214b7f727752087af64.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
finales de oto√±o, cuando hay un peque√±o congelador, de alguna manera decid√≠ probar el control deslizante y encontr√© otro defecto: incluso a + 2 ¬∞ C, el servo principal se neg√≥ a funcionar. Esto se debi√≥ al engrosamiento de la lubricaci√≥n de los engranajes. Despu√©s de 5-10 minutos, el servo se atasc√≥ a esa temperatura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√°s tarde, ya en invierno real, cuando hubo heladas de hasta -10 ¬∞ C, ¬°el micro servo tambi√©n se hizo sentir! Aunque a la misma temperatura a + 2 ¬∞ C, en la que el </font><b><font style="vertical-align: inherit;">MG995</font></b><font style="vertical-align: inherit;"> grande dej√≥ de funcionar</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, el bot√≥n mec√°nico funcion√≥ de manera estable y no caus√≥ ninguna queja. Aparentemente, esto se debe al hecho de que estaba en un caso con un Arduino, que no permiti√≥ que un micro motor se congelara r√°pidamente. Luego, el bot√≥n funcion√≥ bien, pero ahora no se envi√≥ la se√±al del disparador cada vez, y esto no es lo que necesitamos. Tuve que modificar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pronto encontr√≥ una soluci√≥n para el motor y el disparador. Compr√© un motor paso a paso bipolar como Nema 17 y m√°s un voluminoso controlador casero del vendedor. ¬°Y no hay escarcha ahora es un obst√°culo! </font></font><br>
<br>
<img src="https://habrastorage.org/files/b00/550/68d/b0055068da384ac1a7edfbaf3a513021.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n utilic√© este motor paso a paso junto con una caja de cambios 1/55 similar, sobre la que escrib√≠ anteriormente. El cable est√° enrollado en un carrete.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b9/70d/27c/1b970d27ca4e47e39a4b3d977c89bd4e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resolv√≠ el problema con el bot√≥n leyendo un art√≠culo en Internet sobre un intervalo√≥metro casero para una c√°mara basada en Arduino. All√≠, se utiliz√≥ un transistor convencional para cerrar el circuito (dos contactos). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n me deshice de un enorme controlador casero, que se calent√≥ brutalmente debido a la alta corriente que conten√≠a, y que podr√≠a fallar en el momento equivocado. Sustituy√©ndolo despu√©s por el famoso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tuve la oportunidad de ajustar la corriente en el controlador debido a la resistencia de sintonizaci√≥n. La intensidad actual afecta proporcionalmente el par motor. Aqu√≠ es menos de la mitad de la norma m√°xima, ya que se utiliza una caja de engranajes helicoidales con una relaci√≥n de transmisi√≥n grande. El conductor comenz√≥ a calentarse significativamente menos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EasyDriver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es posible organizar f√°cilmente un "modo de suspensi√≥n" cuando el controlador est√° apagado y no consume corriente en el momento de retenci√≥n del motor: el motor est√° completamente apagado. </font><font style="vertical-align: inherit;">¬°La capacidad de dividir el paso tampoco es una caracter√≠stica adicional! </font><font style="vertical-align: inherit;">¬°Ahora, sin ning√∫n problema, puede hacer una copia relativamente id√©ntica de la unidad de control de los componentes comprados en la tienda! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora hay mucho m√°s espacio en el caso de lo que era. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANTES </font></font></b><br>
<br>
<img src="https://habrastorage.org/files/c08/5bf/5d8/c085bf5d8bf4497f80a62a6925dd9dcb.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DESPU√âS</font></font></b><br>
<br>
<img src="https://habrastorage.org/files/65f/fd7/0b5/65ffd70b5fca42c99e47ea026a1cd324.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hora</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas√© la mayor parte aprendiendo programaci√≥n en Arduino. </font><font style="vertical-align: inherit;">E incluso ahora, mi boceto se puede modificar. </font><font style="vertical-align: inherit;">Solo hay un problema. </font><font style="vertical-align: inherit;">No puedo lograr que presionar el bot√≥n del reloj cambie el modo de funcionamiento y permanezca en uno de ellos constantemente. </font><font style="vertical-align: inherit;">Los modos difieren solo en el tiempo de exposici√≥n. </font><font style="vertical-align: inherit;">El intervalo es siempre igual e igual a 3.5 segundos. </font><font style="vertical-align: inherit;">Lo intent√© mucho, pero siempre que exista esa opci√≥n. </font><font style="vertical-align: inherit;">Lo escrib√≠ a finales de invierno y me queda bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es simple: la velocidad de obturaci√≥n se establece y se compara con el per√≠odo de tiempo transcurrido desde el momento en que el programa comenz√≥ hasta el momento en que se presiona el bot√≥n del reloj. </font><font style="vertical-align: inherit;">Para cambiarlo, debe reiniciar Arduino. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bosquejo:</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Stepper.h&gt;</span></span><font></font>
<span class="hljs-keyword">int</span> Distance = <span class="hljs-number">0</span>; <font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>;<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_MOTOR 32   </span><font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> STEPS_OUTPUT 32 * 64  <span class="hljs-comment">// = 2048</span></span><font></font>
<span class="hljs-function">Stepper <span class="hljs-title">stepper2</span><span class="hljs-params">(STEPS_MOTOR, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">11</span>)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span>  steps;<font></font>
<span class="hljs-keyword">int</span> button = <span class="hljs-number">12</span>;<font></font>
<span class="hljs-keyword">int</span> previousMillis = <span class="hljs-number">0</span>; <font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span><font></font><span class="hljs-function">
</span>{<font></font>
  pinMode(<span class="hljs-number">13</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">12</span>, INPUT);<font></font>
  pinMode(<span class="hljs-number">2</span>, OUTPUT);     <font></font>
  pinMode(<span class="hljs-number">3</span>, OUTPUT);<font></font>
  pinMode(<span class="hljs-number">7</span>, OUTPUT);<font></font>
<font></font>
 <font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span></span><font></font><span class="hljs-function">
</span>{ <font></font>
     <font></font>
   <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">12</span>) == HIGH)<font></font>
     { <font></font>
     <font></font>
     <font></font>
      <font></font>
       previousMillis = millis();     <font></font>
<font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-built_in">map</span>(previousMillis,<span class="hljs-number">60000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">78</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
<font></font>
 a:<font></font>
 <font></font>
digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW);<font></font>
<font></font>
 { <font></font>
   digitalWrite(<span class="hljs-number">3</span>, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);          <font></font>
  digitalWrite(<span class="hljs-number">3</span>, LOW); <font></font>
  delayMicroseconds(<span class="hljs-number">552</span>);<font></font>
  Distance = Distance + <span class="hljs-number">1</span>; <font></font>
  <font></font>
<font></font>
  <span class="hljs-keyword">if</span> (Distance == <span class="hljs-number">3620</span>)<font></font>
  {<font></font>
    <span class="hljs-keyword">if</span> (digitalRead(<span class="hljs-number">2</span>) == HIGH)<font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, HIGH);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
    }<font></font>
   <font></font>
   <font></font>
 digitalWrite(<span class="hljs-number">2</span>, LOW);<font></font>
 digitalWrite(<span class="hljs-number">3</span>, LOW);  <font></font>
                   <font></font>
 steps = STEPS_OUTPUT;<font></font>
  stepper2.setSpeed(<span class="hljs-number">161.25</span>);     <span class="hljs-comment">// 500 ms</span><font></font>
  stepper2.step(steps = - x);                                    <font></font>
                      <font></font>
digitalWrite(<span class="hljs-number">8</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">10</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">9</span>, LOW);<font></font>
digitalWrite(<span class="hljs-number">11</span>, LOW);  <font></font>
   <font></font>
  <font></font>
   delay(<span class="hljs-number">500</span>);                   <span class="hljs-comment">// 500 ms</span><font></font>
<font></font>
<font></font>
digitalWrite(<span class="hljs-number">13</span>, HIGH);  <font></font>
  digitalWrite(<span class="hljs-number">7</span>, HIGH);   <font></font>
  delay(<span class="hljs-number">50</span>);                     <span class="hljs-comment">// 50 ms</span><font></font>
 digitalWrite(<span class="hljs-number">7</span>, LOW);     <font></font>
  digitalWrite(<span class="hljs-number">13</span>, LOW);    <font></font>
delay(previousMillis<span class="hljs-number">-3050</span>);             <span class="hljs-comment">// inerval = x-3500 ms</span><font></font>
  Distance = <span class="hljs-number">0</span>;<font></font>
}<font></font>
}<font></font>
<span class="hljs-keyword">goto</span> a;<font></font>
}}<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalaci√≥n de control deslizante</font></font></h4><br>
<img src="https://habrastorage.org/files/59f/eb0/902/59feb0902e0b4875a35feec6c47da1c8.jpg"><br>
<br>
<img src="https://habrastorage.org/files/8c8/051/c07/8c8051c07768419ca33e67bf4874e83e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/cfa/0d7/b3c/cfa0d7b3c7454de7bce351843c425d13.jpg"><br>
<br>
<img src="https://habrastorage.org/files/fc3/1a6/51d/fc31a651da6f4e128030f1622cf46def.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo est√° conectado. </font><font style="vertical-align: inherit;">¬°El control deslizante est√° listo para funcionar!</font></font></h4><br>
<br>
<img src="https://habrastorage.org/files/c22/e30/8f5/c22e308f575c496b92fe2bce090115d6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/7eb/17b/d43/7eb17bd43a3441e6bd41fbed060ef53e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0d9/2c6/bda/0d92c6bda0344f5db03e9e565d71e1b6.jpg"><br>
<br>
<img src="https://habrastorage.org/files/913/402/fc0/913402fc0ffa44fd9c813fb8bae5a006.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo que pienso: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en este momento, el control deslizante est√° listo para usar y est√° cumpliendo plenamente su prop√≥sito, pero hay algunos matices que me gustar√≠a finalizar en el futuro. Casi todos pertenecen al carruaje. Creo que te diste cuenta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Necesitamos un mecanismo m√°s confiable para sostener el "astrotracker". El eje de su eje siempre debe ser perpendicular al suelo. ¬°La cabeza del tr√≠pode de marca le dar√° a mi dise√±o un aspecto a√∫n m√°s est√©tico que originalmente conceb√≠ para m√≠! En cuanto a la electr√≥nica: as√≠ me conviene aqu√≠, ¬°incluso el boceto de Arduino! En cualquier caso, ¬°ya he logrado el resultado previsto! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ejemplo puramente t√©cnico del control deslizante (invierno, febrero, -15 ¬∞ C):</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.youtube.com/embed/3xXw4dfL3fM&amp;usg=ALkJrhgF_TAFiM6CD5yI-gprktD7siRaBw" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El costo de este control deslizante de video es inferior a $ 100, sin incluir el costo de dos tr√≠podes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Gracias por la atenci√≥n! </font><font style="vertical-align: inherit;">¬°Buena suerte a todos en casero!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es381931/">https://habr.com/ru/post/es381931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es381917/index.html">Culturismo para un profesional independiente</a></li>
<li><a href="../es381919/index.html">La era de los innovadores en serie</a></li>
<li><a href="../es381923/index.html">Patente de modelo de utilidad: pasos</a></li>
<li><a href="../es381927/index.html">Plut√≥n descubri√≥ una capa atmosf√©rica poderosa y la ausencia de una magnetosfera</a></li>
<li><a href="../es381929/index.html">Concepto: luz de la luna - completamente autom√°tico</a></li>
<li><a href="../es381935/index.html">Cient√≠ficos del equipo de New Horizons responden preguntas de usuarios de reddit (parte 2)</a></li>
<li><a href="../es381937/index.html">Aplicaci√≥n Top Story: noticias que te quieren</a></li>
<li><a href="../es381939/index.html">Vibe Shot: el primer tel√©fono con c√°mara de Lenovo en acci√≥n</a></li>
<li><a href="../es381941/index.html">El cofundador Mail.ru invertir√° $ 100 millones en la b√∫squeda de extraterrestres</a></li>
<li><a href="../es381943/index.html">Inercia de pensamiento. Progreso cient√≠fico y social contra el conservadurismo.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>