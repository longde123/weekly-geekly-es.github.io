<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôãüèΩ üìá üè† En el camino al n√∫cleo de Python üëÜüèæ üõï ü•á</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Le presento la traducci√≥n de Hacia un art√≠culo sobre "Kernel Python" de Glyph Lefkowitz (creador del marco Twisted). 

 M√°s detalles - deba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>En el camino al n√∫cleo de Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458092/">  Hola Habr!  Le presento la traducci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hacia un art√≠culo sobre "Kernel Python"</a> de Glyph Lefkowitz (creador del marco Twisted). <br><br>  M√°s detalles - debajo del corte. <br><a name="habracut"></a><br><h2>  La magia de minimizar la biblioteca est√°ndar. </h2><br>  Bajo la influencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">del discurso de Amber Brown</a> el mes pasado en la Cumbre del lenguaje de Python (lo que significa que su informe de mayo "Las bater√≠as est√°n encendidas, pero est√°n goteando" - comentario del traductor), Christian Hymes continu√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">su trabajo</a> para reducir la biblioteca est√°ndar de Python y cre√≥ una propuesta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PEP 594</a> para la eliminaci√≥n expl√≠cita fragmentos obsoletos y sin soporte de la misma. <br><br>  El advenimiento de PEP 594 ("Eliminaci√≥n de bater√≠as muertas de la biblioteca est√°ndar") es una gran noticia para los pitonistas, especialmente aquellos que apoyan la biblioteca est√°ndar y ahora tendr√°n un frente de trabajo m√°s peque√±o.  Un breve recorrido por la galer√≠a PEP de m√≥dulos obsoletos o de eliminaci√≥n habla por s√≠ mismo (los m√≥dulos sunau, xdrlib y chunk son mis favoritos personales).  La biblioteca est√°ndar de Python contiene muchos m√≥dulos √∫tiles, sin embargo, tambi√©n incluye una necr√≥polis de c√≥digo real, un monumento imponente de fragmentos obsoletos que amenazan con enterrar a sus desarrolladores en cualquier momento. <br><br>  Sin embargo, creo que el enfoque err√≥neo puede implementarse en esta oraci√≥n PEP.  La biblioteca est√°ndar es actualmente compatible con los desarrolladores de CPython.  Grandes piezas quedaron con la vaga esperanza de que alg√∫n d√≠a beneficiar√≠a a alguien.  En el PEP mencionado anteriormente, este principio se puede observar al proteger el m√≥dulo colourysys.  ¬øPor qu√© no eliminarlo?  Respuesta: ‚ÄúEste m√≥dulo es necesario para convertir colores CSS entre sistemas de coordenadas (RGB, YIQ, HSL y HSV).  [√âl] no impone costos adicionales en el desarrollo central ‚Äù. <br><br>  Hubo momentos en que el acceso a Internet era limitado, y podr√≠a haber sido una buena idea precargar Python con una tonelada de material, pero hoy en d√≠a los m√≥dulos necesarios para convertir colores entre diferentes sistemas de coordenadas est√°n a un paso del comando de instalaci√≥n de pip. <br><br><h2>  ¬øPor qu√© no consider√≥ mi solicitud de piscina? </h2><br>  Entonces, echemos un vistazo a esta declaraci√≥n: ¬ølos m√≥dulos peque√±os como colorsys imponen un "costo adicional en el desarrollo central"? <br><br>  Es suficiente para los principales desarrolladores que est√©n tratando de mantener una base enorme y antigua de c√≥digo C, que es el propio CPython.  Como dijo Marietta Viggia en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">su discurso</a> en North Bay Python, la pregunta m√°s com√∫n que hacen los desarrolladores del kernel es: "¬øPor qu√© no han mirado la solicitud de mi grupo?"  Y cual es la respuesta?  <i>Es m√°s f√°cil ignorar estas solicitudes de grupo.</i>  ¬°Eso es lo que significa ser un desarrollador de kernel! <br><br>  Uno podr√≠a preguntarse, ¬øTwisted tiene el mismo problema?  Twisted tambi√©n es una gran colecci√≥n de m√≥dulos sueltos;  una especie de biblioteca est√°ndar para redes.  ¬øSon todos estos clientes y servidores para SSH, IMAP, HTTP, TLS, etc.  etc.  tratando de exprimir todo en un paquete? <br><br>  Obligado a responder: <i>s√≠</i> .  Twisted es monol√≠tico porque proviene del mismo per√≠odo hist√≥rico que CPython, cuando la instalaci√≥n de componentes fue realmente complicada.  Por lo tanto, simpatizo con la posici√≥n de CPython. <br><br>  Idealmente, en alg√∫n momento, cada subproyecto en Twisted deber√≠a convertirse en un proyecto separado con su propio repositorio, integraci√≥n continua (CI), sitio web y, por supuesto, con sus propios desarrolladores m√°s enfocados.  Ya estamos compartiendo lenta pero seguramente proyectos donde se puede trazar un l√≠mite natural.  Algunos de los puntos que comenzaron en Twisted como constante e incremental est√°n separados, diferidos y filepath est√°n en proceso de separaci√≥n.  Otros proyectos, como klein y treq, contin√∫an viviendo por separado.  Haremos m√°s cuando descubramos c√≥mo reducir los costos de configuraci√≥n y soporte de la integraci√≥n continua y c√≥mo liberar la infraestructura para cada uno de ellos. <br><br>  Pero, ¬øes la naturaleza monol√≠tica de Twisted el problema m√°s urgente o incluso grave para el proyecto?  Vamos a apreciarlo <br><br>  En el momento de escribir esto, Twisted ten√≠a 5 solicitudes de grupo pendientes sin resolver en l√≠nea.  El tiempo promedio que se pasa considerando un boleto es, aproximadamente, cuatro d√≠as y medio.  El boleto m√°s antiguo en la cola est√° fechado el 22 de abril, lo que significa que han pasado menos de 2 meses desde que se envi√≥ la solicitud de grupo no revisada m√°s antigua. <br><br>  Siempre es dif√≠cil encontrar suficientes desarrolladores y tiempo para responder a las solicitudes del grupo.  A veces parece que todav√≠a recibimos la pregunta "¬øPor qu√© no est√°s considerando mi solicitud de grupo?"  No siempre lo hacemos a la perfecci√≥n, pero en general lo logramos;  la cola fluct√∫a entre 0 y 25 m√°s o menos en el mes m√°s desafortunado. <br><br>  ¬øQu√© pasa con el n√∫cleo de CPython en comparaci√≥n con estos n√∫meros? <br><br>  Despu√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">visitar el github</a> , puede ver que 429 boletos est√°n esperando su consideraci√≥n en este momento.  El m√°s antiguo de ellos se espera para el 2 de febrero de 2018, es decir, casi 500 d√≠as. <br><br>  ¬øCu√°ntos problemas con el int√©rprete y cu√°ntos problemas con la biblioteca stdlib?  Obviamente, una revisi√≥n pendiente es un problema, pero ¬øayudar√° la eliminaci√≥n de stdlib? <br><br>  Para una evaluaci√≥n r√°pida y poco cient√≠fica, mir√© la primera p√°gina (m√°s antigua) de solicitudes de grupo.  En mi evaluaci√≥n subjetiva, de 25 solicitudes de grupo, 14 estaban asociadas con la biblioteca est√°ndar, 10 con el n√∫cleo del idioma o el c√≥digo del int√©rprete, y una estaba asociada con un peque√±o problema de documentaci√≥n.  Sobre la base de esta proporci√≥n, me aventurar√≠a a sugerir que en alg√∫n lugar alrededor de la mitad de las solicitudes de grupo no revisadas est√°n asociadas con el c√≥digo de biblioteca est√°ndar. <br><br>  Entonces, la primera raz√≥n por la cual el equipo principal de CPython necesita dejar de admitir la biblioteca est√°ndar es porque <i>literalmente no tienen la capacidad f√≠sica para</i> admitir la biblioteca est√°ndar.  O, en otras palabras, <i>no lo respaldan</i> , y solo queda admitirlo y comenzar a compartir el trabajo. <br><br>  Es un hecho que ninguna de las solicitudes de pool abierto de CPython est√° asociada con el m√≥dulo colorsys.  De hecho, no impone costos en el desarrollo del n√∫cleo.  <i>El desarrollo del n√∫cleo en s√≠ mismo impone estos costos.</i>  Si quisiera actualizar el m√≥dulo colorsys para estar al d√≠a (tal vez para tener un objeto Color, tal vez para admitir modelos de color enteros), lo m√°s probable es que tenga que esperar 500 d√≠as o m√°s. <br><br>  Como resultado de todo esto, es m√°s dif√≠cil cambiar el c√≥digo en la biblioteca est√°ndar, lo que genera un menor inter√©s de los usuarios en contribuir.  Las versiones poco frecuentes de CPython tambi√©n ralentizan el desarrollo de la biblioteca y reducen los beneficios de los comentarios de los usuarios.  No es coincidencia que casi todos los m√≥dulos de la biblioteca est√°ndar hayan admitido activamente alternativas de terceros, y esto no es culpa de los desarrolladores de stdlib.  Todo el proceso se agudiza para estancar todos los m√≥dulos stdlib que se usan con m√°s frecuencia. <br><br><h2>  Nuevos entornos, nuevos requisitos. </h2><br>  Quiz√°s a√∫n m√°s importante es que vincular CPython a la biblioteca est√°ndar coloca a CPython en una posici√≥n privilegiada en comparaci√≥n con otras implementaciones de lenguaje. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El podcast</a> despu√©s del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">podcast</a> , el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">podcast</a> despu√©s del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informe,</a> nos dice que para continuar con √©xito y desarrollar Python, debe crecer en nuevas √°reas: especialmente en el front-end, as√≠ como en clientes m√≥viles, sistemas integrados y juegos de consola. <br><br>  Estos entornos requieren una o dos condiciones: <br><br><ul><li>  un tiempo de ejecuci√≥n completamente diferente (ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Brython</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MicroPython</a> ) </li><li>  versi√≥n reducida y modificada de la biblioteca est√°ndar. </li></ul><br>  En todos estos casos, el escollo es la definici√≥n de m√≥dulos que deben eliminarse de la biblioteca est√°ndar.  Necesitan ser encontrados por prueba y error;  En primer lugar, el proceso es completamente <i>diferente</i> del proceso de determinaci√≥n de dependencia est√°ndar en una aplicaci√≥n Python.  No hay una declaraci√≥n install_requires en setup.py que informa que la biblioteca usa un m√≥dulo de stdlib que el tiempo de ejecuci√≥n de Python de destino podr√≠a omitir debido a limitaciones de espacio. <br><br>  Un problema puede ocurrir incluso si todo lo que usamos es Python est√°ndar en una instalaci√≥n de Linux.  Incluso las distribuciones de Linux para servidores y computadoras de escritorio tienen la misma necesidad de un paquete de kernel Python m√°s peque√±o, por lo que la biblioteca est√°ndar ya est√° bastante truncada en ellos.  Es posible que esto no cumpla con los requisitos del c√≥digo Python y, como resultado, genere errores cuando incluso la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalaci√≥n de pip no funcionar√°</a> . <br><br><h2>  Ll√©vatelo todo </h2><br><blockquote>  ‚Äú¬øQu√© pasa con la suposici√≥n de que necesitas limpiar un poco todos los d√≠as?  Aunque parezca convincente, no te dejes enga√±ar.  La raz√≥n por la que te parece que la limpieza nunca termina es precisamente porque est√°s limpiando un poco.  [...] El secreto principal del √©xito es este: si lo quitas de un solo golpe, y no gradualmente, entonces puedes cambiar permanentemente tus pensamientos y h√°bitos de vida " </blockquote>  Marie Kondo, Limpieza M√°gica.  El arte japon√©s de restaurar el orden en el hogar y en la vida "(p. 15-16) <br><br>  Si bien la reducci√≥n gradual de la biblioteca est√°ndar es un paso en la direcci√≥n correcta, los cambios graduales por s√≠ solos no son suficientes.  Como dice Marie Kondo, si realmente quieres poner las cosas en orden, el primer paso es <i>sacar todo de la vista</i> para poder verlo todo y luego devolver solo lo que se necesita. <br><br>  Ha llegado el momento de rendir homenaje a esos m√≥dulos que ya no son alentadores, y enviarlos un largo camino. <br>  Necesitamos una versi√≥n de Python que contenga solo el m√≠nimo m√°s necesario para que todas las implementaciones puedan ser consistentes, y para que las aplicaciones (incluso las que funcionan en navegadores web o microcontroladores) puedan simplemente indicar sus requisitos en require.txt. <br><br>  En algunos entornos empresariales, la idea de una gran biblioteca est√°ndar parece atractiva porque la adici√≥n de dependencias en requisitos.txt es burocr√°tica, sin embargo, la "biblioteca est√°ndar" en dichos entornos tiene l√≠mites puramente arbitrarios. <br><br>  Todav√≠a podr√≠a ser una buena idea suministrar algunas de las distribuciones binarias de CPython (posiblemente incluso las oficiales) con una amplia selecci√≥n de m√≥dulos de PyPI.  De hecho, incluso para tareas ordinarias, se requiere una cierta cantidad de la biblioteca stdlib, que pip necesita para instalar otros m√≥dulos necesarios. <br><br>  Ahora hay una situaci√≥n en la que pip se distribuye junto con Python, pero <i>no se desarrolla</i> en el repositorio de CPython.  Parte de lo que viene con el instalador predeterminado de Python se desarrolla en el repositorio de CPython, parte viene en un tarball separado para el int√©rprete. <br><br>  Para usar Linux, necesitamos medios de arranque con una gran variedad de programas adicionales.  Pero esto no significa que el kernel de Linux est√© ubicado en un repositorio gigante, en el que un equipo desarrolle cientos de aplicaciones necesarias para un servidor Linux en funcionamiento.  El kernel de Linux es extremadamente valioso, pero los sistemas operativos que lo utilizan se crean a partir de una <i>combinaci√≥n del</i> kernel de Linux y una amplia gama de bibliotecas y programas desarrollados por separado. <br><br><h2>  Conclusi√≥n </h2><br>  La filosof√≠a de "bater√≠as incluidas" era ideal para su creaci√≥n;  como un cohete de refuerzo, entreg√≥ Python al p√∫blico de programaci√≥n.  Sin embargo, a medida que los ecosistemas de c√≥digo abierto y los paquetes de Python maduran, esta estrategia se vuelve obsoleta y, como cualquier acelerador, debemos dejar que regrese al suelo para que no nos arrastre hacia atr√°s. <br><br>  Los nuevos tiempos de ejecuci√≥n de Python, las nuevas tareas de implementaci√≥n y las nuevas audiencias de desarrolladores brindan a la comunidad de Python enormes oportunidades para alcanzar nuevas alturas. <br><br>  Pero para lograr esto, necesitamos un n√∫cleo Python nuevo, m√°s compacto y no sobrecargado.  Necesitamos sacudir toda la biblioteca est√°ndar al piso, dejando solo las piezas m√°s peque√±as que necesitamos para que podamos decir: esto es realmente necesario, pero es agradable tenerlo. <br><br>  Espero haber convencido al menos a algunos de ustedes de qu√© n√∫cleo de Python necesitamos. <br><br>  Y ahora: ¬øqui√©n quiere escribir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PEP</a> ? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458092/">https://habr.com/ru/post/458092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458076/index.html">Comercializaci√≥n con toma de decisiones de ML</a></li>
<li><a href="../458080/index.html">25 de julio, Mosc√∫ - QIWI iOS Meetup</a></li>
<li><a href="../458084/index.html">50 materiales seleccionados sobre las ganancias de los m√∫sicos, sonido en juegos y pel√≠culas, instrumentos inusuales y los viejos y olvidados</a></li>
<li><a href="../458088/index.html">Las mejores distribuciones de Linux para computadoras antiguas</a></li>
<li><a href="../458090/index.html">Lo que realmente le sucedi√≥ al desaparecido Boeing de Malasia (parte 2/3)</a></li>
<li><a href="../458094/index.html">Videovigilancia "inteligente": c√≥mo ser√° la vida bajo c√°maras con inteligencia artificial</a></li>
<li><a href="../458096/index.html">¬øQu√© es la pila MERN y c√≥mo trabajar con ella?</a></li>
<li><a href="../458098/index.html">Errores de GDPR</a></li>
<li><a href="../458100/index.html">Python en Visual Studio Code - Versi√≥n de junio de 2019</a></li>
<li><a href="../458102/index.html">Flujo de trabajo de desarrollo web efectivo: Confluencia, Airtable y m√°s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>