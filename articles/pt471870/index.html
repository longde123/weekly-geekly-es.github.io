<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë±üèø üñêüèø üë©üèæ‚Äçü§ù‚Äçüë®üèª Uso efetivo do libdispatch üöΩ üïê ü§∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="( Nota: o autor do material original √© Thomas @tclementdev, um usu√°rio do github e do twitter . A narrativa em primeira pessoa usada pelo autor √© salv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Uso efetivo do libdispatch</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471870/">  ( <i>Nota: o autor do material original √© Thomas @tclementdev, um usu√°rio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github</a> e do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter</a> . A narrativa em primeira pessoa usada pelo autor √© salva na tradu√ß√£o abaixo.</i> ) <br><br>  Eu acho que a maioria dos desenvolvedores usa o libdispatch de maneira ineficiente por causa de como foi apresentado √† comunidade, bem como devido a documenta√ß√£o e APIs confusas.  Cheguei a esse pensamento depois de ler a discuss√£o sobre "simultaneidade" na lista de discuss√£o do desenvolvimento Swift (evolu√ß√£o r√°pida).  As mensagens de Pierre Habouzit (Pierre Habouzit - est√° envolvido no suporte ao libdispatch na Apple) s√£o especialmente esclarecidas: <br><a name="habracut"></a><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/date.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170904/date.html</a> </li></ul><br>  Ele tamb√©m tem muitos tweets sobre este t√≥pico: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder</a> </li></ul><br>  Feito por mim: <br><br><ul><li> O programa deve ter muito poucas filas usando o pool global ( <i>threads - aprox. Por.</i> ).  Se todas essas filas estiverem ativas simultaneamente, voc√™ receber√° o mesmo n√∫mero de threads em execu√ß√£o simult√¢nea.  Essas filas devem ser consideradas como contextos de execu√ß√£o no programa (GUI, armazenamento, trabalho em segundo plano, ...) que se beneficiam da execu√ß√£o simult√¢nea. </li><li>  Comece com a execu√ß√£o sequencial.  Ao descobrir um problema de desempenho, fa√ßa medi√ß√µes para descobrir a causa.  E se a execu√ß√£o paralela ajudar, use-a com cuidado.  Sempre verifique se o c√≥digo paralelo est√° funcionando sob press√£o do sistema.  Por padr√£o, reutilize filas.  Adicione linhas quando houver benef√≠cios mensur√°veis.  A maioria dos aplicativos n√£o deve usar mais de tr√™s a quatro filas. </li><li>  As filas que t√™m outra fila definida como destino funcionam bem e s√£o dimensionadas. <br>  ( <i>Observe perev.: Sobre como definir uma fila como destino para outra fila pode ser lido, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .</i> ) </li><li>  N√£o use dispatch_get_global_queue ().  Isso n√£o √© compat√≠vel com a qualidade do servi√ßo e as prioridades e pode levar a um crescimento explosivo no n√∫mero de fluxos.  Em vez disso, execute seu c√≥digo em um dos seus contextos de execu√ß√£o. </li><li>  dispatch_async () √© um desperd√≠cio de recursos para pequenos blocos execut√°veis ‚Äã‚Äã(&lt;1 ms), pois essa chamada provavelmente exigir√° a cria√ß√£o de um novo encadeamento devido ao zelo excessivo do libdispatch.  Em vez de alternar o contexto de execu√ß√£o para proteger o estado compartilhado, use mecanismos de bloqueio para acessar o estado compartilhado ao mesmo tempo. </li><li>  Algumas classes / bibliotecas s√£o bem projetadas, pois reutilizam o contexto de execu√ß√£o que o c√≥digo de chamada passa para eles.  Isso permite o uso de travamento convencional para garantir a seguran√ßa da linha.  os_unfair_lock √© geralmente o mecanismo de bloqueio mais r√°pido do sistema: funciona melhor com prioridades e causa menos altern√¢ncias de contexto. </li><li>  No caso de execu√ß√£o paralela, suas tarefas n√£o devem lutar entre si; caso contr√°rio, a produtividade cai acentuadamente.  A luta assume muitas formas.  O caso √≥bvio: a luta para capturar a fechadura.  Mas, na realidade, essa luta significa nada mais do que usar um recurso compartilhado, que se torna um gargalo: IPC (comunica√ß√£o entre processos) / daemons OS, malloc (bloqueio), mem√≥ria compartilhada, E / S. </li><li>  Voc√™ n√£o precisa de todo o c√≥digo para executar de forma ass√≠ncrona, a fim de evitar um aumento explosivo no n√∫mero de threads.  √â muito melhor usar um n√∫mero limitado de filas inferiores e se recusar a usar dispatch_get_global_queue (). <br>  ( <i>Note perev. 1: aparentemente, este √© um caso em que ocorre um aumento explosivo no n√∫mero de threads ao sincronizar um grande n√∫mero de tarefas paralelas. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúSe eu tiver muitos blocos e todos eles quiserem esperar, podemos obter o que chamamos de thread explos√£o. "</a></i> ) <br>  ( <i>Nota p. 2: da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">discuss√£o</a> , pode-se entender que Pierre Habuzit significa as linhas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"que s√£o conhecidas pelo kernel quando t√™m tarefas"</a> nas filas inferiores. Isso √© sobre o kernel do sistema operacional.</i> ) </li><li>  N√£o devemos esquecer a complexidade e os erros que surgem em uma arquitetura cheia de execu√ß√£o ass√≠ncrona e retornos de chamada.  O c√≥digo execut√°vel sequencialmente ainda √© muito mais f√°cil de ler, gravar e manter. </li><li>  Filas competitivas s√£o menos otimizadas que sequenciais.  Use-os se estiver medindo ganhos de desempenho, caso contr√°rio, √© uma otimiza√ß√£o prematura. </li><li>  Se voc√™ precisar enviar tarefas em uma fila de forma ass√≠ncrona e s√≠ncrona, em vez de dispatch_sync (), use dispatch_async_and_wait ().  dispatch_async_and_wait () n√£o garante a execu√ß√£o no encadeamento do qual a chamada se originou, o que reduz a altern√¢ncia de contexto quando a fila de destino est√° ativa. <br>  ( <i>Note transl. 1: na verdade, dispatch_sync () tamb√©m n√£o garante, a documenta√ß√£o sobre ele afirma apenas ‚Äúexecuta um bloco no encadeamento atual, sempre que poss√≠vel. Com uma exce√ß√£o: o bloco enviado para a fila principal √© sempre executado no encadeamento principal. "</i> ) <br>  ( <i>Observe a tradu√ß√£o 2: about dispatch_async_and_wait () na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> e <a href="">no c√≥digo fonte</a></i> ) </li><li>  O uso correto de 3-4 n√∫cleos n√£o √© t√£o simples.  A maioria dos que tentam, de fato, n√£o consegue lidar com as redu√ß√µes de escala e desperdi√ßar energia por causa de um pequeno aumento de produtividade.  Como os processadores trabalham com superaquecimento n√£o ajudar√°.  Por exemplo, a Intel desativar√° o Turbo-Boost se forem usados ‚Äã‚Äãn√∫cleos suficientes. </li><li>  Avalie o desempenho do seu produto no mundo real para garantir que seja mais r√°pido e n√£o mais lento.  Cuidado com os micro testes de desempenho - eles ocultam a influ√™ncia do cache e mant√™m o pool de threads quente.  Para verificar o que voc√™ est√° fazendo, voc√™ deve sempre fazer um teste de macro. </li><li>  libdispatch √© eficaz, mas n√£o h√° milagres.  Os recursos n√£o s√£o infinitos.  Voc√™ n√£o pode ignorar a realidade do sistema operacional e do hardware em que o c√≥digo √© executado.  Al√©m disso, nem todo c√≥digo √© bem paralelo. </li></ul><br>  D√™ uma olhada em todas as chamadas dispatch_async () no seu c√≥digo e pergunte a si mesmo: a tarefa que voc√™ envia com essa chamada realmente vale a troca de contexto.  Na maioria dos casos, o bloqueio √© provavelmente a melhor escolha. <br><br>  Assim que voc√™ come√ßar a usar e reutilizar filas (contextos de execu√ß√£o) de um conjunto pr√©-projetado, haver√° o risco de conflitos.  Surge perigo ao enviar tarefas para essas filas usando dispatch_sync ().  Isso geralmente acontece quando filas s√£o usadas para seguran√ßa do encadeamento.  Novamente: a solu√ß√£o √© usar mecanismos de bloqueio e usar dispatch_async () somente quando voc√™ precisar alternar para outro contexto de execu√ß√£o. <br><br>  Eu, pessoalmente, vi grandes melhorias de desempenho ao seguir essas diretrizes. <br>  (em programas altamente carregados).  Esta √© uma nova abordagem, mas vale a pena. <br><br><h4>  Mais links </h4><br>  O programa deve ter muito poucas filas usando o pool global <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039368.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039405.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039410.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039420.html</a> </li></ul><br>  ( <i>Nota perev.: Ao ler o √∫ltimo link, n√£o resisti e transferi uma pe√ßa do meio da correspond√™ncia de Pierre Habuzit com Chris Luttner. Abaixo est√° uma das respostas de Pierre Habuzit em 039420.html</i> ) <br><blockquote>  &lt;...&gt; <br>  Entendo que √© dif√≠cil para mim expressar meu ponto de vista, porque n√£o sou um cara em arquitetura de linguagem, sou um cara em arquitetura de sistemas.  E definitivamente n√£o entendo os atores o suficiente para decidir como integr√°-los ao sistema operacional.  Mas para mim, voltando ao exemplo do banco de dados, o Actor-Database-Data, ou o Actor-Network-Interface de uma correspond√™ncia anterior, s√£o diferentes, digamos, dessa consulta SQL ou de rede.  A primeira s√£o as entidades que o sistema operacional deve conhecer no kernel.  Enquanto uma consulta SQL ou de rede s√£o apenas atores enfileirados para execu√ß√£o em primeiro lugar.  Em outras palavras, esses atores de n√≠vel superior s√£o diferentes porque s√£o de n√≠vel superior, diretamente no tempo de execu√ß√£o do kernel / baixo n√≠vel.  E esta √© a ess√™ncia que o n√∫cleo deve ser capaz de raciocinar.  Isso os torna √≥timos. <br><br>  Existem 2 tipos de filas e o n√≠vel de API correspondente na biblioteca de expedi√ß√£o: <br><ul><li>  filas globais que n√£o s√£o como as outras.  E, na realidade, eles s√£o apenas uma abstra√ß√£o sobre o pool de threads. </li><li>  todas as outras filas nas quais voc√™ pode definir o destino um para o outro conforme desejar. </li></ul><br>  Hoje ficou claro que isso foi um erro e que deveria haver tr√™s tipos de filas: <br><br><ul><li>  filas globais, que n√£o s√£o filas reais, mas representam qual fam√≠lia de sistemas atribui seu contexto de execu√ß√£o (principalmente prioridades).  E devemos proibir o envio de tarefas diretamente para essas filas. </li><li>  filas inferiores (que o GCD rastreou nos √∫ltimos anos e chama de "bases" no c√≥digo fonte ( <i>parece que o c√≥digo fonte do pr√≥prio GCD se destina a - aprox. transl.</i> ). As filas inferiores s√£o conhecidas pelo kernel quando t√™m tarefas. </li><li>  quaisquer outras filas "internas" que o kernel n√£o conhe√ßa. </li></ul><br>  No grupo de desenvolvimento de despacho, lamentamos todos os dias que a diferen√ßa entre o segundo e o terceiro grupo de filas n√£o tenha sido inicialmente esclarecida na API. <br><br>  Gosto de chamar o segundo grupo de "contextos de execu√ß√£o", mas entendo por que voc√™ os chama de Atores.  Talvez isso seja mais consistente (e o GCD fez o mesmo, apresentando isso e aquilo como uma fila).  Esses "atores" de n√≠vel superior devem ser poucos em n√∫mero, porque, se todos se tornarem ativos ao mesmo tempo, precisar√£o do mesmo n√∫mero de threads no processo.  E este n√£o √© um recurso que pode ser escalado.  √â por isso que √© importante distinguir entre eles.  E, como discutimos, eles tamb√©m s√£o comumente usados ‚Äã‚Äãpara proteger um estado, recurso ou algo compartilhado.  Pode n√£o ser poss√≠vel fazer isso usando atores internos. <br>  &lt;...&gt; <br></blockquote><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039429.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170904/039461.html</a> </li></ul><br>  Comece com a execu√ß√£o sequencial. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081658384577835009</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081659784841969665</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/904839926180569089</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/904840156330344449</a> </li></ul><br>  N√£o use filas globais <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/773903697474486273</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039368.html</a> </li></ul><br>  Cuidado com as linhas competitivas <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/960915209584914432</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/960916427833163776</a> </li></ul><br>  N√£o use chamadas ass√≠ncronas para proteger o estado compartilhado <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/820473404440489984</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/820473580819337219</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/820740434645221376</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/904467942208823296</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/904468363149099008</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/820473711606124544</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/820473923527589888</a> </li></ul><br>  N√£o use chamadas ass√≠ncronas para pequenas tarefas <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081657739451891713</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081642189048840192</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081642631732457472</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081648778975707136</a> </li></ul><br>  Algumas classes / bibliotecas devem ser apenas s√≠ncronas <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170904/039461.html</a> </li></ul><br>  A luta de tarefas paralelas entre si √© um matador de produtividade <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081657739451891713</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081658172610293760</a> </li></ul><br>  Para evitar conflitos, use mecanismos de bloqueio quando precisar proteger um estado compartilhado <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/744269824079998977</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/744269947723866112</a> </li></ul><br>  N√£o use sem√°foros para aguardar uma tarefa ass√≠ncrona <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1175062243806863360</a> </li></ul><br>  A API NSOperation tem algumas armadilhas graves que podem levar √† degrada√ß√£o do desempenho. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1082097847653154817</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1082111968700289026</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039415.html</a> </li></ul><br>  Evite micro testes de desempenho <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081660679054999552</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/Catfish_Man/status/1081673457182490624</a> </li></ul><br>  Os recursos n√£o s√£o ilimitados <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1081661310771712001</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039410.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lists.swift.org/pipermail/swift-evolution/Week-of-Mon-20170828/039429.html</a> </li></ul><br>  Sobre dispatch_async_and_wait () <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1135938715098857477</a> </li></ul><br>  Usar 3-4 n√∫cleos n√£o √© f√°cil <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/pedantcoder/status/1140041360868704256</a> </li></ul><br>  Muitas melhorias de desempenho no iOS 12 foram alcan√ßadas com daemons de thread √∫nico <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter.com/Catfish_Man/status/1081673457182490624</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt471870/">https://habr.com/ru/post/pt471870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt471856/index.html">Resolvemos todas as 42 vers√µes do quebra-cabe√ßa de po√ß√µes de Harry Potter</a></li>
<li><a href="../pt471858/index.html">RabbitMQ vs. Kafka: Failover e alta disponibilidade em clusters</a></li>
<li><a href="../pt471860/index.html">Analisadores de Peg</a></li>
<li><a href="../pt471862/index.html">Implementa√ß√£o do Analisador PEG</a></li>
<li><a href="../pt471864/index.html">Gera√ß√£o de analisador PEG</a></li>
<li><a href="../pt471872/index.html">Interfaces no C # 8: suposi√ß√µes perigosas na implementa√ß√£o padr√£o</a></li>
<li><a href="../pt471876/index.html">PDU e Tudo-Tudo-Tudo: Distribui√ß√£o de Energia em Rack</a></li>
<li><a href="../pt471878/index.html">Como escrever um contrato inteligente para o WebAssembly em uma rede Ontology? Parte 1: Ferrugem</a></li>
<li><a href="../pt471884/index.html">10 utilit√°rios ApexSQL gratuitos para gerenciar bancos de dados do Microsoft SQL Server</a></li>
<li><a href="../pt471886/index.html">VMmanager 6: apresentando a caixa e comparando com a gera√ß√£o anterior</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>