<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèª üèÇüèø üë©üèª‚Äçüéì Durante uma semana eu era estagi√°rio na SRE-engenheiro. Assista atrav√©s dos olhos de um engenheiro de software üõÉ üë©üèΩ‚Äçüöí üë©üèΩ‚Äçü§ù‚Äçüë©üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Engenheiro SRE - Estagi√°rio 


 Primeiro, deixe-me me apresentar. Sou @ tristan.read , um engenheiro front-end do grupo Monitor :: Health do GitLab. N...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Durante uma semana eu era estagi√°rio na SRE-engenheiro. Assista atrav√©s dos olhos de um engenheiro de software</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/481912/"><p><img src="https://habrastorage.org/webt/uo/nb/ax/uonbax9k7t44zma_q8pdyqkhbxs.png"></p><br><h2 id="sre-inzhener---stazher">  Engenheiro SRE - Estagi√°rio </h2><br><p>  Primeiro, deixe-me me apresentar.  Sou <a href="">@ tristan.read</a> , um engenheiro <a href="">front-end</a> do grupo <a href="https://about.gitlab.com/handbook/engineering/development/ops/monitor/health/">Monitor :: Health</a> do GitLab.  Na semana passada, tive a honra de ser estagi√°rio com um de nossos engenheiros de plant√£o.  O objetivo era monitorar diariamente como o atendente responde aos incidentes e obter experi√™ncia de trabalho real.  Gostar√≠amos que nossos engenheiros entendessem melhor as necessidades dos usu√°rios <a href="https://about.gitlab.com/handbook/product/categories/">dos recursos do</a> Monitor :: Health. </p><br><p>  Eu tive que seguir o engenheiro da SRE em todos os lugares por uma semana.  Ou seja, participei da mudan√ßa de servi√ßo, observei os mesmos canais de notifica√ß√£o e respondi a incidentes, se e quando eles ocorreram. </p><a name="habracut"></a><br><h2 id="incidenty">  Incidentes </h2><br><p>  Durante a semana, ocorreram 2 incidentes. </p><br><h3 id="1-kriptomayner">  1. Cryptominer </h3><br><p>  Na quarta-feira, o GitLab.com viu um salto no uso do <a href="https://docs.gitlab.com/runner/">GitLab Runner</a> , causado por tentativas de usar os minutos do corredor na minera√ß√£o de criptomoedas.  Lidamos com o incidente usando nossa pr√≥pria ferramenta para neutralizar viola√ß√µes, o que interrompe as tarefas do corredor e exclui o projeto e a conta associados a ele. </p><br><p>  Se esse evento n√£o tivesse sido notado, uma ferramenta automatizada o teria capturado, mas nesse caso, o engenheiro do SRE foi o primeiro a perceber a viola√ß√£o.  Uma tarefa de incidente foi criada, mas as informa√ß√µes nela foram fechadas. </p><br><h3 id="2-degradaciya-proizvoditelnosti-prilozheniy-canary-i-main">  2. Degrada√ß√£o do desempenho das aplica√ß√µes Can√°rias e Principais </h3><br><p>  O incidente foi desencadeado por desacelera√ß√µes e um aumento da taxa de erros nos aplicativos can√°rios e principais da Web no Gitlab.com.  V√°rios valores do Apdex foram violados. </p><br><p>  Tarefa de incidente aberta: <a href="https://gitlab.com/gitlab-com/gl-infra/production/issues/1442">https://gitlab.com/gitlab-com/gl-infra/production/issues/1442</a> </p><br><h2 id="klyuchevye-vyvody">  Principais conclus√µes </h2><br><p>  Aqui est√£o alguns pontos que aprendi durante a semana de servi√ßo. </p><br><h3 id="1-opovescheniya-naibolee-polezny-kogda-zasekayut-otkloneniya-ot-normy">  1. Os alertas s√£o mais √∫teis quando s√£o detectadas anormalidades. </h3><br><p>  Os alertas podem ser divididos em v√°rios tipos: </p><br><ul><li>  Ocorreram alertas com base em um valor limite espec√≠fico, como "10 erros 5xx por segundo". </li><li>  Alertas nos quais o limite √© um valor percentual do tipo "frequ√™ncia de erros 5xx por 10% do volume total de solicita√ß√µes em um determinado momento". </li><li>  Alertas com base na m√©dia hist√≥rica do tipo "erros 5xx no percentil 90". </li></ul><br><p>  De um modo geral, os 2¬∫ e 3¬∫ tipos s√£o mais √∫teis para as SREs de servi√ßo, uma vez que revelam desvios da norma no processo. </p><br><h3 id="2-mnogie-opovescheniya-tak-i-ne-eskaliruyutsya-do-incidentov">  2. Muitos alertas nunca passam para incidentes </h3><br><p>  Os engenheiros da SR est√£o lidando com um fluxo constante de alertas, muitos dos quais n√£o s√£o realmente cr√≠ticos. </p><br><p>  Ent√£o, por que n√£o limitar os alertas apenas aos realmente importantes?  Com essa abordagem, no entanto, n√£o √© poss√≠vel reconhecer os primeiros sintomas do que se transformar√°, como uma bola de neve, em um problema real, amea√ßando grandes danos. </p><br><p>  O dever do SRE de plant√£o √© determinar quais alertas realmente falam de algo s√©rio e se eles precisam ser escalados e come√ßar a entender.  Suspeito que isso tamb√©m seja causado pela inflexibilidade dos alertas: seria melhor se v√°rios n√≠veis ou formas "inteligentes" de definir alertas fossem introduzidos de acordo com a situa√ß√£o descrita acima. </p><br><p>  Sugest√£o de recurso: <a href="https://gitlab.com/gitlab-org/gitlab/issues/42633">https://gitlab.com/gitlab-org/gitlab/issues/42633</a> </p><br><h3 id="3-nashi-dezhurnye-sre-ispolzuyut-mnogo-instrumentov">  3. Nossos atendentes de SRE usam muitas ferramentas. </h3><br><p>  <strong>Interno:</strong> </p><br><ul><li>  Projeto infra GitLab: Runbooks moram aqui, turnos / semana, tarefas de resposta a incidentes. </li><li>  Problemas no GitLab: Investiga√ß√£o, an√°lise e manuten√ß√£o tamb√©m s√£o rastreadas nas tarefas. </li><li>  R√≥tulos GitLab: as tarefas de automa√ß√£o s√£o iniciadas de acordo com certos r√≥tulos, pelos quais os bots rastreiam a atividade das tarefas. </li></ul><br><p>  <strong>Externo:</strong> </p><br><ul><li>  PagerDuty: Alerts </li><li>  Slack: o fluxo de mensagens do PagerDuty / AlertManager vai aqui.  Integra√ß√£o com comandos de barra para executar uma variedade de tarefas, como fechar um alerta ou escalar para um incidente. </li><li>  Grafana: visualiza√ß√£o de m√©tricas com foco em tend√™ncias de longo prazo. </li><li>  Kibana: fornece uma visualiza√ß√£o / pesquisa na revista, a capacidade de se aprofundar em determinados eventos. </li><li>  Zoom: existe uma ‚Äúsala de discuss√£o‚Äù em constante trabalho no Zoom.  Isso permite que os engenheiros do SRE discutam rapidamente os eventos sem perder tempo valioso, criando espa√ßo e links para os participantes. </li></ul><br><p>  E muito, muito mais. </p><br><h3 id="4-monitoring-gitlabcom-pri-pomoschi-gitlab---eto-edinaya-tochka-otkaza">  4. Monitorar o GitLab.com com o GitLab √© um ponto √∫nico de falha </h3><br><p>  Se ocorrer uma falha de servi√ßo importante no GitLab.com, n√£o queremos que isso afete nossa capacidade de resolver o problema.  Pode ser interrompido executando a segunda inst√¢ncia do GitLab para instalar o GitLab.com.  De fato, isso j√° funciona para n√≥s: <a href="https://ops.gitlab.net/">https://ops.gitlab.net/</a> . </p><br><h3 id="5-neskolko-funkciy-kotorye-sleduet-rassmotret-k-dobavleniyu-v-gitlab">  5. Alguns recursos a serem considerados ao adicionar ao GitLab </h3><br><ul><li>  <a href="https://gitlab.com/gitlab-org/gitlab/issues/103531">Edi√ß√£o de tarefas multiusu√°rio</a> semelhante ao Google Docs.  Isso ajudaria nas tarefas de incidentes durante o evento, bem como na an√°lise de tarefas.  Nos dois casos, v√°rios participantes podem precisar adicionar algo em tempo real. </li><li>  Mais webhooks para tarefas.  A capacidade de executar v√°rias etapas do fluxo de trabalho do GitLab a partir do interior ajudar√° a reduzir a depend√™ncia das integra√ß√µes do Slack.  Por exemplo, a capacidade de ativar a notifica√ß√£o no PagerDuty por meio de um comando de barra na tarefa GitLab. <br>  Conclus√£o </li></ul><br><p>  Os engenheiros do SRE enfrentam dificuldades com muitas dificuldades.  Seria √≥timo ver mais produtos GitLab na solu√ß√£o desses problemas.  J√° estamos trabalhando em algumas adi√ß√µes de produtos que facilitar√£o os fluxos de trabalho mencionados acima.  Os detalhes est√£o dispon√≠veis na <a href="https://about.gitlab.com/direction/ops/">se√ß√£o Ops Product Vision</a> . </p><br><p>  Em 2020, estamos expandindo a equipe para reunir todos esses √≥timos recursos.  Se estiver interessado, leia as <a href="https://about.gitlab.com/jobs/apply/">vagas</a> e n√£o hesite em entrar em contato com algu√©m da nossa equipe para esclarecer qualquer d√∫vida. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt481912/">https://habr.com/ru/post/pt481912/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt481898/index.html">Servidor web simples para SPA / PWA em 5 minutos</a></li>
<li><a href="../pt481902/index.html">Modelagem da opera√ß√£o de uma usina termel√©trica real para otimizar os modos: vapor e matem√°tica</a></li>
<li><a href="../pt481904/index.html">Vladimir Marshinin, tamb√©m conhecido como mavl: ‚ÄúA chamada‚Äú N√£o copie outros cart√µes ‚Äùpermite evitar problemas de licen√ßa do OpenStreetMap‚Äù</a></li>
<li><a href="../pt481906/index.html">C√©rebro chin√™s, ou em defesa da primavera</a></li>
<li><a href="../pt481910/index.html">Como escrever VerticalSwipeBehavior flex√≠vel</a></li>
<li><a href="../pt481914/index.html">Spring Boot vs Spring MVC vs Spring - Como eles se comparam?</a></li>
<li><a href="../pt481916/index.html">Qual foi o ano de 2019 lembrado em desenvolvimento?</a></li>
<li><a href="../pt481922/index.html">Ano Novo IMaskjs 6 - Reagir Native, Pipes, ESM</a></li>
<li><a href="../pt481924/index.html">Apache Spark, avalia√ß√£o lenta e consultas SQL de v√°rias p√°ginas</a></li>
<li><a href="../pt481926/index.html">Conhe√ßa a nova solu√ß√£o Veeam Backup for AWS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>