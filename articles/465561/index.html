<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÖ üßùüèæ ‚öóÔ∏è Lo que aprend√≠ de un programador l√≠der ü§±üèª üëñ üìÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace un a√±o, comenc√© a trabajar a tiempo completo en Bloomberg. Y luego decid√≠ escribir este art√≠culo. Pens√© que estar√≠a lleno de ideas que podr√≠a tir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lo que aprend√≠ de un programador l√≠der</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/465561/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cc/m9/v8/ccm9v8yphneof1qcnuaru8peu1e.jpeg"></div><br>  Hace un a√±o, comenc√© a trabajar a tiempo completo en Bloomberg.  Y luego decid√≠ escribir este art√≠culo.  Pens√© que estar√≠a lleno de ideas que podr√≠a tirar en papel cuando llegue el momento.  Pero dentro de un mes me di cuenta de que todo no ser√° tan simple: ya he comenzado a olvidar lo que aprend√≠.  O el conocimiento fue tan bien adquirido que mi mente me hizo creer que siempre lo supe, o simplemente se me escaparon de la cabeza.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>1</sup></a> <br><br>  Esta es una de las razones por las que empec√© a llevar un diario.  Todos los d√≠as, entrando en situaciones interesantes, las describ√≠a.  Y todo gracias al hecho de que estaba sentado al lado de un programador l√≠der.  Pude observar de cerca su trabajo, y vi cu√°n diferente era de lo que har√≠a.  Programamos mucho juntos, lo que facilit√≥ a√∫n m√°s mis observaciones.  Adem√°s, nuestro equipo no condena el "espionaje" a las personas que escriben c√≥digo.  Cuando me pareci√≥ que algo interesante estaba sucediendo, me di vuelta y mir√©.  Gracias al constante aumento, siempre fui consciente de lo que estaba sucediendo. <br><br>  Pas√© un a√±o al lado de un programador l√≠der.  Esto es lo que aprend√≠. <br><a name="habracut"></a><br><h1>  Contenido </h1><br><ul><li>  Escritura de c√≥digo <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo nombrar cosas en c√≥digo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥digo heredado y el pr√≥ximo desarrollador</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Documentaci√≥n y comentarios en c√≥digo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Comisiones at√≥micas</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo eliminar con confianza el c√≥digo p√©simo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Revisi√≥n de c√≥digo</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prueba</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Reducci√≥n de riesgos</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Arquitectura</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Creamos arquitectura, sin olvidar el mantenimiento.</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Implementar</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cuando algo sale mal</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bicicleta</a> <br></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Monitoreo</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conclusi√≥n</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">De lo que no estoy seguro</a> <br></li></ul><br><h2>  Escritura de c√≥digo </h2><br><a name="1"></a><h4>  C√≥mo nombrar cosas en c√≥digo </h4><br>  Una de mis primeras tareas fue trabajar en React UI.  Ten√≠amos un componente principal que conten√≠a todos los dem√°s componentes.  Me gusta agregar un poco de humor al c√≥digo, y quer√≠a nombrar el componente principal de <code>GodComponent</code> .  Ha llegado el momento de revisar el c√≥digo, y entend√≠ por qu√© es tan dif√≠cil dar nombres. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="7269997868"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Cada pieza de c√≥digo que bautic√© ha adquirido un prop√≥sito impl√≠cito.  ¬ø <code>GodComponent</code> ?  Este es el componente que obtiene toda la basura que no quiero poner en el lugar correcto.  Contiene todo  <code>LayoutComponent</code> , y en el futuro decidir√≠a que este componente asigna un dise√±o.  Que no contiene un estado. <br><br>  Otra lecci√≥n importante que aprend√≠ fue que si algo parece demasiado grande, como un <code>LayoutComponent</code> con un mont√≥n de l√≥gica empresarial, entonces es hora de refactorizarlo, porque aqu√≠ no deber√≠a haber l√≥gica empresarial.  Y en el caso del nombre <code>GodComponent</code> presencia de la l√≥gica empresarial no importar√°. <br><br>  ¬øNecesita nombrar los grupos?  Llamarlos despu√©s de los servicios que se ejecutan en ellos ser√° una gran idea hasta que ejecute algo m√°s en estos cl√∫steres.  Les dimos un nombre en honor a nuestro equipo. <br><br>  Lo mismo se aplica a las funciones.  <code>doEverything()</code> es un nombre terrible con muchas consecuencias.  Si la funci√≥n hace todo, ser√° muy dif√≠cil probar sus partes individuales.  No importa cu√°n grande pueda llegar a ser esta funci√≥n, nunca te parecer√° demasiado extra√±a, porque deber√≠a hacer todo.  Entonces cambia el nombre.  Refact. <br><br>  Un nombre significativo tiene un inconveniente.  ¬øDe repente el nombre ser√° demasiado significativo y esconder√° alg√∫n tipo de matiz?  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cerrar sesiones</a> no cierra la conexi√≥n de la base de datos cuando <code>session.close()</code> llama a session.close <code>session.close()</code> en SQLAlchemy.  Deber√≠a haber le√≠do la documentaci√≥n y haber evitado este error, m√°s sobre esto en la secci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bicicletas</a> . <br><br>  Desde este punto de vista, nombrar funciones como <code>x</code> , <code>y</code> , <code>z</code> lugar de <code>count()</code> , <code>close()</code> , <code>insertIntoDB()</code> no nos permite ponerles un cierto significado y me hace monitorear cuidadosamente lo que hacen estas funciones.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>2</sup></a> <br><br>  Nunca pens√© que escribir√≠a sobre los principios de nombrar m√°s de una l√≠nea de texto. <br><br><a name="2"></a><h4>  C√≥digo heredado y el pr√≥ximo desarrollador </h4><br>  ¬øAlguna vez has mirado el c√≥digo y te parece extra√±o?  ¬øPor qu√© escribiste eso?  Esto no tiene sentido. <br><br>  Tuve la oportunidad de trabajar con una base de c√≥digo heredada.  Esto, ya sabes, con comentarios como "Descomenta el c√≥digo cuando Muhammad comprenda la situaci√≥n".  Que haces aqui  Quien es Muhammad? <br><br>  Puedo cambiar de roles y pensar en la persona que recibir√° mi c√≥digo, ¬øle parecer√° extra√±o?  La revisi√≥n parcial de su c√≥digo ayuda a sus colegas a revisar su c√≥digo.  Esto me llev√≥ a pensar en el contexto: necesito recordar el contexto en el que trabaja mi equipo. <br><br>  Si olvido este c√≥digo, vuelvo a √©l m√°s tarde y no puedo restaurar el contexto, dir√©: ‚Äú¬øQu√© demonios hicieron?  Esto es est√∫pido ... Ah, espera, lo hice. <br><br>  Y aqu√≠ entran en juego la documentaci√≥n y los comentarios del c√≥digo. <br><br><a name="3"></a><h4>  Documentaci√≥n y comentarios en c√≥digo </h4><br>  Ayudan a mantener el contexto y a transmitir el conocimiento.  Como Lee dijo en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un buen software</a> : <br><br><blockquote>  El valor principal del software no est√° en el c√≥digo creado, sino en el conocimiento acumulado por las personas que crearon este software. </blockquote><br>  Tiene un punto final de API de cliente abierto que nadie parece haber usado nunca.  ¬øSolo necesita ser eliminado?  En t√©rminos generales, es un deber t√©cnico.  ¬øY si te digo que en uno de los pa√≠ses 10 periodistas env√≠an sus informes a este punto final una vez al a√±o?  ¬øC√≥mo verificarlo?  Si esto no se menciona en la documentaci√≥n (lo fue), entonces no hay forma de verificarlo.  No hemos verificado.  Lo quitaron, y unos meses m√°s tarde lleg√≥ ese momento muy anual.  Diez periodistas no pudieron enviar sus informes importantes porque el punto final ya no exist√≠a.  Y las personas con conocimiento del producto ya han abandonado el equipo.  Por supuesto, ahora en el c√≥digo hay comentarios que explican por qu√© esto es necesario. <br><br>  Que yo sepa, cada equipo est√° luchando con la documentaci√≥n.  Y con la documentaci√≥n, no solo por c√≥digo, sino tambi√©n por los procesos asociados con √©l. <br><br>  Todav√≠a no hemos encontrado la soluci√≥n perfecta.  Personalmente, me gusta la forma en que Antirez dividi√≥ los comentarios en c√≥digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en diferentes tipos de valores</a> . <br><br><a name="4"></a><h4>  Comisiones at√≥micas </h4><br>  Si necesita retroceder (y lo necesita. Consulte el cap√≠tulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pruebas</a> ), ¬øtendr√° este compromiso sentido como un solo m√≥dulo? <br><br><a name="5"></a><h4>  C√≥mo eliminar con confianza el c√≥digo p√©simo </h4><br>  Fui muy desagradable para eliminar el c√≥digo p√©simo u obsoleto.  Me pareci√≥ que todo lo escrito hace siglos es sagrado.  Pens√©: "Ten√≠an algo en mente cuando escribieron as√≠".  Esta es una confrontaci√≥n entre tradici√≥n y cultura, por un lado, y pensar en el estilo del "principio primario" por el otro.  Esto es lo mismo que la eliminaci√≥n del punto final anual.  Aprend√≠ una lecci√≥n especial.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>3</sup></a> <br><br>  Intentar√≠a sortear el c√≥digo, y los desarrolladores l√≠deres intentar√≠an superarlo.  B√≥rralo.  ¬øUna expresi√≥n if a la que no se puede acceder?  S√≠, borramos  Que he hecho  Acabo de escribir mi funci√≥n encima.  No he reducido la deuda t√©cnica.  De todos modos, acabo de aumentar la complejidad del c√≥digo y el reenv√≠o.  Ser√° a√∫n m√°s dif√≠cil para la pr√≥xima persona juntar las piezas de la imagen. <br><br>  Emp√≠ricamente, llegu√© a la conclusi√≥n: hay un c√≥digo que no entiendes, pero hay un c√≥digo que definitivamente nunca contactar√°s.  Borra el c√≥digo con el que no contactas y ten cuidado con el c√≥digo que no entiendes. <br><br><a name="6"></a><h4>  Revisi√≥n de c√≥digo </h4><br>  Una revisi√≥n de c√≥digo es una gran herramienta para la autoeducaci√≥n.  Este es un ciclo de retroalimentaci√≥n externo que muestra c√≥mo escribir√≠an el c√≥digo y c√≥mo lo escribi√≥.  Cual es la diferencia  ¬øUna forma mejor que otra?  Me pregunt√© sobre esto con cada cr√≠tica: "¬øPor qu√© escribieron de esa manera?"  Y si no pudo encontrar una respuesta adecuada, fue y pregunt√≥. <br><br>  Despu√©s del primer mes, comenc√© a encontrar errores en el c√≥digo de mis colegas (como encontraron en el m√≠o).  Fue una especie de locura.  La revisi√≥n se ha vuelto mucho m√°s interesante para m√≠, se convirti√≥ en un juego que me faltaba, un juego que mejor√≥ mi "sentido del c√≥digo". <br><br>  En mi experiencia, no tiene que aprobar el c√≥digo hasta que entienda c√≥mo funciona. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/96a/2ad/248/96a2ad248018ff0721f16a262dbb294c.png"><br>  <i>Mis estad√≠sticas de github.</i> <br><br><a name="7"></a><h2>  Prueba </h2><br>  Me enamor√© tanto de las pruebas que es desagradable para m√≠ escribir c√≥digo en una base de c√≥digo sin pruebas. <br><br>  Si su aplicaci√≥n solo hace una cosa (como todos los proyectos de mi escuela), a√∫n puede realizar la prueba manualmente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>4</sup></a> Eso es exactamente lo que hice.  Pero, ¬øqu√© sucede si una aplicaci√≥n realiza 100 tareas diferentes?  No quiero pasar media hora probando, y a veces pierdo de vista algo.  Una pesadilla <br><br>  Las pruebas y la automatizaci√≥n de pruebas ayudan aqu√≠. <br><br>  Trato las pruebas como documentaci√≥n.  Esta es la documentaci√≥n de mis ideas sobre el c√≥digo.  Las pruebas me dicen c√≥mo yo (o cualquier otra persona antes que yo) imagino que el c√≥digo funciona y d√≥nde algo deber√≠a salir mal. <br><br>  Hoy, cuando escribo pruebas, intento: <br><br><ol><li>  Muestra c√≥mo usar la clase, funci√≥n o sistema de prueba. <br></li><li>  Mostrar lo que, en mi opini√≥n, podr√≠a salir mal. <br></li></ol><br>  Como resultado, la mayor√≠a de las veces pruebo el comportamiento, pero no la implementaci√≥n ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠ hay un ejemplo</a> que eleg√≠ durante los descansos en Google). <br><br>  En el p√°rrafo 2, no mencion√© las fuentes de errores. <br><br>  Cuando noto un error, me aseguro de que la soluci√≥n tenga una prueba adecuada (esto se llama prueba de regresi√≥n) para documentar la informaci√≥n.  Esta es otra raz√≥n por la cual algo puede salir mal.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>5 5</sup></a> <br><br>  Por supuesto, la calidad de mi c√≥digo mejora no porque escribo pruebas, sino porque escribo c√≥digo.  Pero leer las pruebas me ayuda a comprender mejor las situaciones y escribir mejor c√≥digo. <br><br>  Esta es la situaci√≥n general con las pruebas. <br><br>  Pero este no es el √∫nico tipo de prueba que aplico.  Estoy hablando de entornos de implementaci√≥n.  Es posible que tenga pruebas unitarias ideales, pero si no tiene pruebas del sistema, puede ocurrir algo como esto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/905/1c5/bb8/9051c5bb8da5d845cbd0d9c6dcccf236.gif"><br><br>  Esto tambi√©n se aplica al c√≥digo bien probado: si no tiene las bibliotecas necesarias en su computadora, entonces todo se bloquear√°. <br><br><ul><li>  Hay m√°quinas en las que est√° desarrollando (la fuente de todos los memes como "¬°Funcion√≥ en mi computadora!"). <br></li><li>  Hay m√°quinas en las que est√° probando (pueden coincidir con las anteriores). <br></li><li>  Finalmente, hay m√°quinas en las que est√° implementando (no deben coincidir con las m√°quinas en las que desarroll√≥). <br></li></ul><br>  Si los entornos de prueba e implementaci√≥n no coinciden en las m√°quinas, tendr√° problemas.  Los entornos de implementaci√≥n ayudar√°n a evitar esto. <br><br>  Estamos haciendo desarrollo local en Docker en nuestra computadora. <br><br>  Tenemos un entorno de desarrollo, estas computadoras est√°n equipadas con un conjunto de bibliotecas (y herramientas de desarrollo), y aqu√≠ instalamos el c√≥digo escrito.  Aqu√≠ se puede probar con todos los sistemas necesarios.  Tambi√©n tenemos un entorno beta / provisional que repite completamente el entorno operativo.  Finalmente, tenemos un entorno operativo: m√°quinas que ejecutan c√≥digo para nuestros clientes. <br><br>  La idea es detectar errores que no han aparecido durante las pruebas de la unidad y el sistema.  Por ejemplo, la diferencia en API entre los sistemas solicitantes y de respuesta.  Creo que en el caso de un proyecto personal o una peque√±a empresa, la situaci√≥n puede ser completamente diferente.  No todos tienen la oportunidad de crear su propia infraestructura.  Sin embargo, puede recurrir a servicios en la nube como AWS y Azure. <br><br>  Puede configurar cl√∫steres individuales para el desarrollo y la operaci√≥n.  AWS ECS utiliza im√°genes de Docker para la implementaci√≥n, por lo que los procesos en diferentes entornos ser√°n relativamente consistentes.  Existen matices en t√©rminos de integraci√≥n entre diferentes servicios de AWS.  ¬øEst√° llamando al punto final correcto desde el entorno correcto? <br><br>  Puede ir a√∫n m√°s lejos: descargue im√°genes alternativas de contenedores para otros servicios de AWS y configure un entorno local totalmente funcional basado en Docker-Compose.  Esto acelera el ciclo de retroalimentaci√≥n.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>6</sup></a> Quiz√°s gane m√°s experiencia cuando cree y lance mi proyecto paralelo. <br><br><a name="8"></a><h2>  Reducci√≥n de riesgos </h2><br>  ¬øQu√© pasos puede tomar para reducir su riesgo de desastre?  Si estamos hablando de un nuevo cambio radical, ¬øc√≥mo podemos verificar la duraci√≥n m√≠nima del tiempo de inactividad, si algo sale mal?  "No necesitamos implementar completamente el sistema debido a todos estos nuevos cambios".  Que realmente  ¬°Y por qu√© no lo pens√©! <br><br><a name="9"></a><h2>  Arquitectura </h2><br>  ¬øPor qu√© estoy hablando de arquitectura despu√©s de escribir c√≥digo y probar?  Se puede instalar primero, pero si no hubiera programado y probado en el entorno que utilic√©, probablemente no habr√≠a logrado crear una arquitectura que tenga en cuenta las caracter√≠sticas de este entorno.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><sup>7 7</sup></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><br></a> <br>  Debes pensar mucho al crear una arquitectura. <br><br><ul><li>  ¬øC√≥mo se usar√°n los n√∫meros? <br></li><li>  ¬øCu√°ntos usuarios habr√°?  ¬øCu√°nto puede aumentar su n√∫mero (el n√∫mero de filas en la base de datos depende de esto)? <br></li><li>  ¬øQu√© arrecifes pueden encontrarse? <br></li></ul><br>  Necesito convertir esto en una lista de verificaci√≥n llamada "Colecci√≥n de reclamos".  Todav√≠a no tengo suficiente experiencia, intentar√© hacerlo el pr√≥ximo a√±o en Bloomberg.  Este proceso es en gran medida contrario a Agile: ¬øcu√°nto puede dise√±ar la arquitectura antes de pasar a la implementaci√≥n?  Se trata de equilibrio, debe elegir cu√°ndo y qu√© har√°.  ¬øCu√°ndo tiene sentido apresurarse y cu√°ndo retroceder?  Por supuesto, la recopilaci√≥n de requisitos no equivale a considerar todas las cuestiones.  Creo que vale la pena si incluimos los procesos de desarrollo en el dise√±o.  Por ejemplo: <br><br><ul><li>  ¬øC√≥mo proceder√° el desarrollo local? <br></li><li>  ¬øC√≥mo empacaremos y desplegaremos? <br></li><li>  ¬øC√≥mo llevaremos a cabo las pruebas de extremo a extremo? <br></li><li>  ¬øC√≥mo realizaremos pruebas de estr√©s del nuevo servicio? <br></li><li>  ¬øC√≥mo guardaremos secretos? <br></li><li>  Integraci√≥n CI / CD? <br></li></ul><br>  Recientemente desarrollamos un nuevo motor de b√∫squeda para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BNEF</a> .  Fue maravilloso trabajar en ello, organic√© un desarrollo local y descubr√≠ DPG (paquetes y su despliegue), recabando el despliegue de secretos. <br><br>  ¬øQui√©n hubiera pensado que desplegar secretos en un producto podr√≠a ser tan trivial? <br><br><ol><li>  No se pueden colocar en el c√≥digo, porque alguien puede notarlos <br></li><li>  ¬øPara almacenarlos como una variable de entorno como la especificaci√≥n ofrece 12 factores de aplicaci√≥n?  No es una mala idea, pero ¬øc√≥mo ponerlos all√≠?  (Ir al producto para completar las variables de entorno cada vez que el auto arranca es un fastidio) <br></li><li>  ¬øDesplegarlos como archivos?  ¬øPero de d√≥nde vendr√°n y c√≥mo llenarlos? <br></li></ol><br>  No queremos hacer todo manualmente. <br><br>  Como resultado, llegamos a una base de datos con control de acceso basado en roles (solo nosotros y nuestras computadoras podemos comunicarnos con la base de datos).  Nuestro c√≥digo recibe secretos de la base de datos al inicio.  Este enfoque est√° bien replicado en el marco de los entornos de desarrollo, preparaci√≥n y operaci√≥n; los secretos se almacenan en bases de datos apropiadas. <br><br>  Nuevamente, con servicios en la nube como AWS, la situaci√≥n puede ser completamente diferente.  No necesita cuidar los secretos de alguna manera.  Obtenga una cuenta para su rol, ingrese los secretos en la interfaz y su c√≥digo los encontrar√° cuando sean necesarios.  Esto simplifica enormemente todo, pero me alegro de haber adquirido experiencia, gracias a lo cual puedo apreciar esta simplicidad. <br><br><a name="10"></a><h4>  Creamos arquitectura, sin olvidar el mantenimiento. </h4><br>  El dise√±o del sistema es inspirador.  ¬øY la escolta?  No demasiado  Mi viaje por el mundo de las escorts me llev√≥ a la pregunta: ¬øpor qu√© y c√≥mo se degradan los sistemas?  La primera parte de la respuesta no est√° relacionada con el desmantelamiento de todos los obsoletos, sino solo con la adici√≥n de uno nuevo.  La tendencia a agregar en lugar de eliminar (¬øno recuerda nada?).  La segunda parte es dise√±ar con el objetivo final en mente.  Un sistema que, con el tiempo, comienza a hacer lo que no estaba destinado, no necesariamente funcionar√° tan bien como un sistema originalmente dise√±ado para las mismas tareas.  Este es un enfoque de estilo paso atr√°s, no trucos y trucos. <br><br>  Conozco al menos tres formas de reducir la tasa de degradaci√≥n. <br><br><ol><li>  L√≥gica e infraestructura empresarial separadas: la infraestructura generalmente se degrada: la carga aumenta, los marcos se vuelven obsoletos, aparecen vulnerabilidades de d√≠a cero, etc. <br></li><li>  Crear procesos para soporte futuro.  Aplique las mismas actualizaciones para bits antiguos y nuevos.  Esto evitar√° las diferencias entre lo antiguo y lo nuevo y mantendr√° todo el c√≥digo en un estado "moderno". <br></li><li>  Aseg√∫rese de tirar todo lo innecesario y viejo. <br></li></ol><br><a name="11"></a><h2>  Despliegue </h2><br>  ¬øCombinar√© caracter√≠sticas o las desplegar√© una a la vez?  Dependiendo del proceso actual, si los empaqueta, espere problemas.  Preg√∫ntese por qu√© quiere agrupar caracter√≠sticas juntas. <br><br><ul><li>  ¬øLa implementaci√≥n lleva mucho tiempo? <br></li><li>  ¬øLa revisi√≥n de c√≥digo no es demasiado divertida? <br></li></ul><br>  Cualquiera sea la raz√≥n, esta situaci√≥n necesita ser corregida.  Conozco al menos dos problemas asociados con el embalaje: <br><br><ol><li>  Usted mismo bloquea todas las funciones si una de ellas tiene un error. <br></li><li>  Aumenta el riesgo de problemas. <br></li></ol><br>  Independientemente del proceso de implementaci√≥n que elija, siempre querr√° que sus autos sean como ganado, no como mascotas.  No son √∫nicos  Sabes exactamente qu√© se ejecuta en cada m√°quina, c√≥mo recrearlos en caso de muerte.  No se enojar√° si alg√∫n autom√≥vil muere, simplemente elija uno nuevo.  Los pastan, no crecen. <br><br><a name="12"></a><h2>  Cuando algo sale mal </h2><br>  En caso de que algo salga mal, y lo hace, hay una regla de oro: minimizar el impacto en los clientes.  En caso de fallas, mi primer deseo siempre fue arreglarlo.  Esto no parece ser la soluci√≥n √≥ptima.  En lugar de arreglarlo, incluso si se puede hacer en una l√≠nea, primero debe retroceder.  Regresar al estado operativo anterior.  Esta es la forma m√°s r√°pida de devolver a los clientes a una versi√≥n que funcione.  Solo entonces descubro cu√°l es el problema y lo soluciono. <br><br>  Lo mismo se aplica a la m√°quina "da√±ada" en su cl√∫ster: ap√°guela, m√°rquela como inaccesible, antes de descubrir qu√© le sucedi√≥.  Me resulta extra√±o cu√°nto mis deseos e instintos naturales contradicen la soluci√≥n √≥ptima. <br><br>  Creo que este instinto tambi√©n condujo al hecho de que solucion√© errores m√°s tiempo.  A veces me di cuenta de que algo no funcionaba, porque el c√≥digo que escrib√≠ estaba de alguna manera equivocado, y me met√≠ en la naturaleza, mirando cada l√≠nea.  Algo as√≠ como una b√∫squeda "primero en profundidad".  Y cuando result√≥ que el problema surgi√≥ debido a un cambio de configuraci√≥n, es decir, no lo revis√© en primer lugar, esta situaci√≥n me inquiet√≥.  Perd√≠ mucho tiempo buscando un error. <br><br>  Desde entonces, he aprendido a buscar "primero en amplitud" y, por lo tanto, ya "primero en profundidad" para excluir razones de nivel superior.  ¬øQu√© puedo confirmar exactamente con los recursos actuales? <br><br><ul><li>  ¬øFunciona el auto? <br></li><li>  ¬øEl c√≥digo est√° instalado correctamente? <br></li><li>  ¬øHay una configuraci√≥n? <br></li><li>  &lt;Configuraci√≥n espec√≠fica del c√≥digo&gt;, como si el enrutamiento se explica correctamente. <br></li><li>  ¬øEs correcta la versi√≥n del esquema? <br></li><li>  Y luego me sumerjo en el c√≥digo. <br></li></ul><br><blockquote>  Pensamos que nginx se instal√≥ incorrectamente, pero result√≥ que solo la configuraci√≥n estaba deshabilitada </blockquote><br>  Por supuesto, no necesito hacer esto todo el tiempo.  A veces, solo un mensaje de error es suficiente para llegar inmediatamente al c√≥digo.  Cuando no puedo determinar la causa, trato de minimizar el n√∫mero de cambios en el c√≥digo para encontrar el motivo.  Cuantos menos cambios, m√°s r√°pido puedo encontrar la verdadera ra√≠z del problema.  Adem√°s, ahora tengo un memo para los errores que me ahorraron m√°s de una hora pensando "¬øqu√© me perd√≠?"  A veces me olvido de las comprobaciones m√°s simples, como la configuraci√≥n de enrutamiento, el esquema de coincidencia y las versiones de servicio, etc.  Este es otro paso en el desarrollo de la pila de tecnolog√≠a que uso, y lo que obtienes solo con experiencia es la intuici√≥n para determinar qu√© es exactamente lo que no funciona. <br><br><a name="13"></a><h4>  Bicicleta </h4><br>  Este art√≠culo no puede estar completo sin una historia.    ,        .      SQLAlchemy.  BNEF   ,     .      .          SQLAlchemy,   ,        Solr.  -   . <br><br>           ¬´MYSQL server has gone away.¬ª     .     ,     ,   . ,      .         ,    .     ,    ? <br><br>  ,      ?     ,      ,       .     ,         ,      <code>__exit__()</code>  <code>session.close()</code> . <br><br>     ,  ,    .             .          .      .    . <br><br> <code>Session.close()</code>  MySQL- SQLAlchemy      ,    NullPool.   . ,      ,           .      :     StackOverflow (,   !)     ,   ,     SQL- .       ,       .  ,        ,     (),     . <br><br>    ¬´¬ª  ,      1   8.   ,   ,       ‚Äî          . <br><br><blockquote>     ,      . </blockquote><br><a name="14"></a><h2>  </h2><br>  ,       .  ,         ,      .    ,      . <br><br>    ,      ,      ,      .     ,      .  ,      . ¬´ <i>  ?!        ,  ?</i> ¬ª. <br><br>  ,      : ,   .   ,   ,  .  ,     ,     .     ,       .     ‚Äî     ? ,   ,   .          .  ,     -,     ,    ,   ,  ,  ..        . <br><br>      .    ,     ,     ?          (,    AWS CloudWatch  Grafana).            . <br><br>        .       ,      ,       50 %,       ‚Äî   .    ?   .     ,    ‚Äî      (, ?). <br><br>        .   ,      ,  ,    ,      ?   ?    ,    ? <br><br>    ,   .      ,    .      ‚Äî    -  . <br><br><a name="15"></a><h2>  Conclusi√≥n </h2><br>      .  ,     ,       ,     .   ,      - ! <br><br>        . ,    ! <br><br><blockquote>     ,        .     ,                ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">How to Build Good Software</a> . </blockquote><br><a name="16"></a><h2>      </h2><br>        .       :     !     ,         . <br><br><ol><li>    ? <br></li><li>          ? ,    ?    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">,   </a> ? <br></li><li>   .       ,      ?    ? <br></li><li>     (utils) (,     ,   ,  )  ,   ¬´ ¬ª? <br></li><li>         ? <br></li><li>    ,  ,  -  ? <br></li><li>   ‚Äî      API    ,         ? <br></li><li>    ?  ,     . <br></li><li>     ,   ,  .  ,   ,       . <br></li><li>      PR: ¬´      ,    ,     52 ,  , ,  ,     ,   ¬ª.    ? <br></li><li>    .        ? <br></li><li>    ? <br></li><li>     ? <br></li></ol><br><h2>  Notas </h2><br><ol><li><a name="17"></a>     .  ,    ?  - ?    ,    ? <br></li><li><a name="18"></a>    ,        <code>x()</code> , <code>y()</code>  <code>z(),</code>       <code>x()</code> , <code>y()</code>  <code>z()</code> .  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WYSIATI</a> . <br></li><li><a name="19"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> .</a> <br></li><li><a name="20"></a>       .      ,   ? <br></li><li><a name="21"></a>  ,    - ,      ,     .   ,   . <br></li><li><a name="22"></a>     ,    ,       Docker-  AWS. <br></li><li><a name="23"></a>         . <br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465561/">https://habr.com/ru/post/465561/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465547/index.html">Gu√≠a SQL: C√≥mo escribir mejor las consultas (Parte 1)</a></li>
<li><a href="../465551/index.html">Resumen de eventos de TI de septiembre (primera parte)</a></li>
<li><a href="../465553/index.html">Lenguaje de programaci√≥n √ú. Introducci√≥n, motivaci√≥n para crear, metas</a></li>
<li><a href="../465555/index.html">12 habilidades blandas que hacen que los gerentes de proyectos de TI sean imparables</a></li>
<li><a href="../465557/index.html">Plazos de desarrollo de productos</a></li>
<li><a href="../465567/index.html">Probar el c√≥digo de SQL Server con tSQLt</a></li>
<li><a href="../465569/index.html">Mapa de desarrollo para desarrolladores m√≥viles</a></li>
<li><a href="../465571/index.html">C√≥mo vender cigarrillos de hombres para mujeres y hacer que los salvajes se protejan a s√≠ mismos: redactores que podr√≠an</a></li>
<li><a href="../465573/index.html">Todo el poder de IntelliJ IDEA en el ejemplo de un idioma (en im√°genes)</a></li>
<li><a href="../465575/index.html">Operaciones de comparaci√≥n en C ++ 20</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>