<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåΩ ‚ò¶Ô∏è ü§¶üèª Wolfensteiny 3D - reverse engineering 251 octets de JavaScript üöí ü§º üë®‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lors de l'√©criture de code, beaucoup ne pensent √† rien d'autre qu'√† la logique du programme lui-m√™me. Moins de gens pensent √† optimiser le code au fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wolfensteiny 3D - reverse engineering 251 octets de JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441206/">  Lors de l'√©criture de code, beaucoup ne pensent √† rien d'autre qu'√† la logique du programme lui-m√™me.  Moins de gens pensent √† optimiser le code au fil du temps, de la m√©moire.  Mais seuls quelques-uns atteignent le dernier niveau - compresser le programme √† une taille record. <br><br>  Regardez, par exemple, le r√©sultat de <b>seulement 251 octets de</b> JavaScript: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/go/6f/3t/go6f3txrg5iyp3ward8fzhxq5l0.gif"></div><br>  Eh bien, d√©couvrons comment cela fonctionne! <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">D'o√π vient-il?</b> <div class="spoiler_text">  Ce code, ainsi que beaucoup de ce vers quoi je me suis tourn√© dans cet article, est situ√© sur le site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">p01.org du</a> magnifique Mathieu 'p01' Henri, d√©veloppeur JavaScript et pas seulement souvent impliqu√© dans la compression du code √† des tailles impossibles.  Le mat√©riel source de cet article est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br></div></div><br>  Donc, avant que vous soyez les 251 octets de code source. <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">E</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">c.getContext(</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2d</span></span></span><span class="hljs-tag">"),</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">setInterval</span></span></span><span class="hljs-tag">(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">F</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"t+=.2,Q=Math.cos;c.height=300;for(x=h;x--;)for(y=h;y--;E.fillRect(x*4,y*4,bd?4:D/2,D/2))for(D=0;'.'&lt;F[D*y/hD/2|0?1:(d=t+D*Q(T=x/h-.5+Q(t)/8)&amp;7)|(3.5+D*Q(T-8))&lt;&lt;3]&amp;&amp;D&lt;8;b=d)D+=.1"</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">t</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">h</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">75)</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">canvas</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">c</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Il est clair que rien n'est clair. <br><br><h2>  Rendre le code lisible </h2><br>  Tout d'abord, j'ai mis tout le code JavaScript dans une balise s√©par√©e, pour plus de commodit√©. <br><br>  On peut voir que les variables <code>E</code> , <code>h</code> , <code>Q</code> , <code>F</code> et autres sont des constantes qui peuvent √™tre remplac√©es par leurs valeurs / objets elles-m√™mes, ainsi que changer les noms. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> context = c.getContext(<span class="hljs-string"><span class="hljs-string">"2d"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> F=<span class="hljs-string"><span class="hljs-string">"t+=.2,Q=Math.cos;c.height=300;for(x=h;x--;)for(y=h;y--;E.fillRect(x*4,y*4,bd?4:D/2,D/2))for(D=0;'.'&lt;F[D*y/hD/2|0?1:(d=t+D*Q(T=x/h-.5+Q(t)/8)&amp;7)|(3.5+D*Q(T-8))&lt;&lt;3]&amp;&amp;D&lt;8;b=d)D+=.1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-number"><span class="hljs-number">75</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> size = <span class="hljs-number"><span class="hljs-number">75</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ t += <span class="hljs-number"><span class="hljs-number">0.2</span></span>; c.height=<span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = size; x--;) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = size; y--; context.fillRect(x * <span class="hljs-number"><span class="hljs-number">4</span></span>,y * <span class="hljs-number"><span class="hljs-number">4</span></span>,b - d? <span class="hljs-number"><span class="hljs-number">4</span></span> : D / <span class="hljs-number"><span class="hljs-number">2</span></span>, D / <span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> D = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">'.'</span></span> &lt; F[D * y / size - D / <span class="hljs-number"><span class="hljs-number">2</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : (d = t + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T = x / size - <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(t) / <span class="hljs-number"><span class="hljs-number">8</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">7</span></span>) | (<span class="hljs-number"><span class="hljs-number">3.5</span></span> + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T - <span class="hljs-number"><span class="hljs-number">8</span></span>)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>] &amp;&amp; D &lt; <span class="hljs-number"><span class="hljs-number">8</span></span>; b = d) D += <span class="hljs-number"><span class="hljs-number">0.1</span></span> } setInterval(render, <span class="hljs-number"><span class="hljs-number">75</span></span>);</code> </pre><br>  Ici, le code de la cha√Æne a d√©j√† √©t√© extrait de la fonction, et la cha√Æne elle-m√™me est intacte, nous en aurons besoin √† l'avenir. <br><br>  Convertissez maintenant les deux boucles externes en <code>while</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ t += <span class="hljs-number"><span class="hljs-number">0.2</span></span>; c.height=<span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = size; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = size; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(y &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> D = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">'.'</span></span> &lt; F[D * y / size - D / <span class="hljs-number"><span class="hljs-number">2</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : (d = t + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T = x / size - <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(t) / <span class="hljs-number"><span class="hljs-number">8</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">7</span></span>) | (<span class="hljs-number"><span class="hljs-number">3.5</span></span> + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T - <span class="hljs-number"><span class="hljs-number">8</span></span>)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>] &amp;&amp; D &lt; <span class="hljs-number"><span class="hljs-number">8</span></span>; b = d) D += <span class="hljs-number"><span class="hljs-number">0.1</span></span> context.fillRect(x * <span class="hljs-number"><span class="hljs-number">4</span></span>,y * <span class="hljs-number"><span class="hljs-number">4</span></span>,b - d? <span class="hljs-number"><span class="hljs-number">4</span></span> : D / <span class="hljs-number"><span class="hljs-number">2</span></span>, D / <span class="hljs-number"><span class="hljs-number">2</span></span>); y--; } x--; } }</code> </pre><br><h2>  Comment voyons-nous cela? </h2><br>  Comprenons pourquoi nous le voyons du tout.  Si vous regardez √† nouveau l'image, vous pouvez comprendre beaucoup de choses. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/v1/ok/fw/v1okfwcnlc9l_xlfydlf6imyn2q.png"></a> </div>  <i>Image cliquable</i> <br><br>  Voici ce que nous voyons: <br><br><ol><li>  Plus le sujet est √©loign√©, plus il est sombre </li><li>  La partie oblique des obstacles rencontr√©s est inond√©e diff√©remment de lignes et non de points. </li></ol><br>  Dans le code, le dessin se refl√®te comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ,  ,       //   ||     // | | || | | // ‚Üì ‚Üì ‚Üì‚Üì ‚Üì ‚Üì context.fillRect(x * 4,y * 4,b - d? 4 : D / 2, D / 2);</span></span></code> </pre><br>  Pourquoi voit-on des objets volum√©triques dans ce flot de points noirs?  Apr√®s tout, nous devons nous contenter de diff√©rentes nuances de noir - la taille des points noirs (nous ne pouvons pas changer la couleur, <code>E.fillStyle</code> est trop long!).  En fait, cela fonctionne simplement parce que dans une image en deux dimensions, notre ≈ìil repose principalement sur l'ombre et la luminosit√© de la lumi√®re. <br><br>  Imaginez-vous marchant le long d'un couloir sombre avec seulement une lampe de poche dans vos mains.  Vous brillez devant vous et voyez que certains objets sont plus proches et plus lumineux (une lampe de poche brille, un obstacle est brillant, il n'y a pas d'ombres), tandis que d'autres sont plus lointains et plus sombres (la lumi√®re est dispers√©e, faible, et nous voyons l'obscurit√© - et nous sentons la distance).  Donc ici - plus l'objet est √©loign√© ( <b>D</b> plus grand), plus la taille est grande, nous dessinons un carr√© noir sur l'√©cran. <br>  Mais comment savoir ce qui doit √™tre brillant et ce qui ne l'est pas? <br><br><h2>  Comptez le pixel </h2><br>  Maintenant, parlons de ce monstre: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> D = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-string"><span class="hljs-string">'.'</span></span> &lt; F[D * y / size - D / <span class="hljs-number"><span class="hljs-number">2</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : (d = t + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T = x / size - <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(t) / <span class="hljs-number"><span class="hljs-number">8</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">7</span></span>) | (<span class="hljs-number"><span class="hljs-number">3.5</span></span> + D * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(T - <span class="hljs-number"><span class="hljs-number">8</span></span>)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>] &amp;&amp; D &lt; <span class="hljs-number"><span class="hljs-number">8</span></span>; b = d) D += <span class="hljs-number"><span class="hljs-number">0.1</span></span></code> </pre><br>  Alors.  Toute cette expression est un <b>algorithme de raymarching √† pas fixe</b> qui vous permet de trouver l'intersection du faisceau avec les blocs.  Pour chaque pixel de l'√©cran, nous lan√ßons un faisceau, et nous le suivons avec un pas fixe de <code>0.1</code> , et d√®s que nous rencontrons un obstacle, nous terminons l'algorithme et dessinons un pixel sur l'√©cran, connaissant la distance √† l'obstacle. <br><br>  Commen√ßons √† lire ce code en plusieurs parties. <br><br>  Condition <code>D * y / size - D / 2 | 0</code>  <code>D * y / size - D / 2 | 0</code> peut √™tre repr√©sent√© par <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi></mrow><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>D</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi><mo>&amp;#x2212;</mo><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="63.317ex" height="2.66ex" viewBox="0 -832 27261.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2217" x="1050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="1773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="2412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="2963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="3414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="3944" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-79" x="4377" y="0"></use><g transform="translate(4875,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-74" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="1236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="1535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-65" x="1833" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="7397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="8648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="9198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="9650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="10179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-31" x="10613" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-32" x="11113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="11614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-3D" x="12281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-44" x="13337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2217" x="14388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="15111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="15750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="16301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="16752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="17282" y="0"></use><g transform="translate(17715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-74" x="1720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="2081" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="2611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="2956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="3255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-65" x="3553" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2F" x="4020" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-32" x="4520" y="0"></use></g><g transform="translate(22737,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-74" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="1236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="1535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-65" x="1833" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="25037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-3C" x="25704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-31" x="26760" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi></mrow><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>D</mi><mo>‚àó</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi><mo>‚àí</mo><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>a</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>e</mi></mrow><mo stretchy="false">)</mo><mo>&lt;</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> D * (\ frac {y} {taille} - \ frac {1} {2}) = D * (\ frac {y - taille / 2} {taille}) <1 </script>  , alors l'expression entre parenth√®ses montrera la ¬´d√©viation¬ª <code>y</code> rapport au centre de l'√©cran (en fractions de l'√©cran).  Nous essayons donc de comprendre si le faisceau est entre le sol et le plafond ou non.  Par cons√©quent, si nous touchons le sol (ou le plafond), nous sortons de la boucle plus loin, pour dessiner et dessiner un pixel. <br>  Et si on ne touche pas, alors on continue les calculs: on cherche les coordonn√©es actuelles du faisceau. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> T = x / size - <span class="hljs-number"><span class="hljs-number">.5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(t) / <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Math.cos(t)   //    var xcoord = t + depth * Math.cos(T); var ycoord = 3.5 + depth * Math.cos(T - 8); //</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Pourquoi cos (T - 8)?</b> <div class="spoiler_text">  Il s'av√®re donc que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.449ex" height="2.762ex" viewBox="0 -831.5 10526.4 1189" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="1388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-78" x="1778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="2572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-38" x="3573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="4073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="4713" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="5242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="5746" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="6249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="6701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-78" x="7186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="7759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="8228" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="8574" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="9174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-78" x="9564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="10136" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mn>8</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> cos (x-8) \ approx sin (x) </script>  avec une pr√©cision de 0,15 radians.  Tout √ßa parce que <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>v</mi><mi>i</mi><mi>r</mi><mi>o</mi><mi>n</mi><mn>8</mn><mo>,</mo><mn>15</mn><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>v</mi><mi>i</mi><mi>r</mi><mi>o</mi><mi>n</mi><mn>8</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.826ex" height="2.486ex" viewBox="0 -772.3 14133.2 1070.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.693ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-35" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="1254" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-32" x="3814" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-65" x="4565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="5031" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-76" x="5632" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="6117" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="6463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="6914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="7400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-38" x="8000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2C" x="8501" y="0"></use><g transform="translate(8946,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-65" x="10197" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="10663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-76" x="11264" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="11749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="12095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="12546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="13032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-38" x="13632" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>v</mi><mi>i</mi><mi>r</mi><mi>o</mi><mi>n</mi><mn>8</mn><mo>,</mo><mn>15</mn><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>v</mi><mi>i</mi><mi>r</mi><mi>o</mi><mi>n</mi><mn>8</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> \ frac {5 \ pi} {2} \ environ 8,15 \ environ 8 </script></p><br>  et puis <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>&amp;#x2212;</mo><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="87.585ex" height="2.762ex" viewBox="0 -831.5 37709.9 1189" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.83ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="1388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="2028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="2557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="2856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-68" x="3359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="3936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="4687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-38" x="5688" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="6188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="6828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="7357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="7861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="8364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="8816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-78" x="9301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="9874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="10307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="10793" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="11262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="11902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="12431" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="12730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-68" x="13233" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="13810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="14562" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="15812" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="16363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="16814" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="17344" y="0"></use><g transform="translate(17777,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-35" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="1254" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-32" x="19377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="19877" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-3D" x="20545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="21601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6F" x="22034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="22520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="22989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="23629" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="24158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="24457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-68" x="24960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="25537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-2212" x="26289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-66" x="27539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-72" x="28090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="28541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-63" x="29071" y="0"></use><g transform="translate(29504,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-32" x="30603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="31104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-3D" x="31771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-73" x="32827" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-69" x="33297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6E" x="33642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-28" x="34243" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="34882" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-6C" x="35412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-70" x="35710" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-68" x="36214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMATHI-61" x="36790" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/441206/&amp;usg=ALkJrhhxF6DQi2PM9PA47gVwvist7kjwSg#MJMAIN-29" x="37320" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>‚àí</mo><mn>8</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>p</mi><mi>i</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> cos (\ alpha-8) \ approx cos (\ alpha- \ frac {5 \ pi} {2}) = cos (\ alpha - \ frac {\ pi} {2}) = sin (\ alpha) </script></p><br></div></div><br>  Il vaut la peine de parler de la fa√ßon dont un point dans l'espace est v√©rifi√© pour un bloc en g√©n√©ral.  La carte elle-m√™me est extraite du code source ( <code>F</code> ) et ressemble √† ceci: <br><pre> <code class="plaintext hljs">t+=.2,Q= ----&gt; ‚ñë‚ñà‚ñë‚ñà‚ñë‚ñà‚ñë‚ñë Math.cos ----&gt; ‚ñë‚ñë‚ñë‚ñë‚ñà‚ñë‚ñë‚ñë ;c.heigh ----&gt; ‚ñë‚ñë‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë   - t=300;fo ----&gt; ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë &lt;----  , r(x=h;x- ----&gt; ‚ñë‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà     -;)for(y ----&gt; ‚ñà‚ñë‚ñà‚ñë‚ñë‚ñë‚ñà‚ñë =h;y--;E ----&gt; ‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñë‚ñë .fillRec ----&gt; ‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë</code> </pre><br>  Il semble donc en mouvement, le champ de vision de la cam√©ra est indiqu√© ici. <br><img src="https://habrastorage.org/webt/vn/aq/vw/vnaqvwz8ah9y-ynunsvznaol9bm.png" align="left">  Les cellules dont le code de symbole est inf√©rieur au code de point - <code>"."</code> Sont marqu√©es en noir <code>"."</code>  - c'est-√†-dire les caract√®res <code>!"#$%&amp;'()*+,-.</code> Maintenant nous arrondissons les coordonn√©es du faisceau, et essayons de savoir si la lettre dans ces" coordonn√©es "est sombre (un obstacle) ou pas (nous faisons voler le faisceau plus loin). <br><br>  √âtant donn√© que l'index est un et que les coordonn√©es sont deux, nous utilisons le hack: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> boxIndex = xcoord &amp; <span class="hljs-number"><span class="hljs-number">7</span></span> | ycoord &lt;&lt; <span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre><br>  En cons√©quence, nous obtenons un nombre qui refl√®te le num√©ro de bloc (enfin, ou vide). <br><br>  Revenons au code.  Maintenant, il a l'air d√©cent. <br><br><div class="spoiler">  <b class="spoiler_title">Le code est un peu gras</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ t += <span class="hljs-number"><span class="hljs-number">0.2</span></span>; c.height=<span class="hljs-number"><span class="hljs-number">300</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x = size; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y = size; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(y &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> depth = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(depth &lt; <span class="hljs-number"><span class="hljs-number">8</span></span>){ depth += <span class="hljs-number"><span class="hljs-number">0.1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> T = x / size - <span class="hljs-number"><span class="hljs-number">.5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(t) / <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   var isFloorOrCeiling = depth * y / size - depth / 2 | 0; //      ? if(isFloorOrCeiling) break; var xcoord = t + depth * Math.cos(T) &amp; 7; var ycoord = 3.5 + depth * Math.sin(T); // cos - 8 -&gt; sin boxIndex = xcoord | ycoord &lt;&lt; 3; //     , //    if ('.' &gt;= F[boxIndex]) break; b = xcoord; //  ?  ! } context.fillRect(x * 4, y * 4, b - xcoord ? 4 : depth / 2, depth / 2) y--; } x--; } }</span></span></code> </pre><br></div></div><br><h2>  Retour au dessin </h2><br>  Pourquoi avions-nous besoin de tout cela?  Maintenant, apr√®s avoir ex√©cut√© cet algorithme, nous connaissons la distance √† l'objet et nous pouvons la dessiner.  Mais une question est rest√©e sans r√©ponse: comment distinguer le plafond d'une unit√© s√©par√©e?  Apr√®s tout, la distance au plafond et au bloc sont des nombres qui ne sont pas diff√©rents!  En fait, nous avons d√©j√† r√©pondu √† cette question. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// ,  ,      // || // ‚Üì‚Üì context.fillRect(x * 4, y * 4, b - xcoord ? 4 : depth / 2, depth / 2);</span></span></code> </pre><br>  Il y a une condition dans le code li√©e √† la variable <code>b</code> , et affectant la largeur du "gros pixel noir": <code>b - xcoord ? 4 : depth / 2</code>  <code>b - xcoord ? 4 : depth / 2</code> .  Supprimons cette condition et voyons ce qui se passe sans: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/re/kr/nb/rekrnbgke2g_etx8lxghrhr-lzk.png"></a> </div>  <i>Il n'y a pas de fronti√®res entre les blocs et le plafond!</i>  <i>(cliquable)</i> <br><br>  La condition <code>b - xcoord</code> nous donnera une largeur constante lorsque le changement de coordonn√©es est 0. Et quand cela <b>ne</b> peut-il <b>pas</b> se produire?  Cela ne se produit pas uniquement lorsque nous n'atteignons pas la ligne <b>(2)</b> dans le code: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// .... var xcoord = t + depth * Math.cos(T) &amp; 7; // &lt;---    (1) // ... if ('.' &gt;= F[boxIndex]) // &lt;---    (3) break; b = xcoord; // &lt;---     (2) // ....</span></span></code> </pre><br>  Cela signifie que le programme quitte le cycle plus t√¥t, sur la ligne <b>(3)</b> , lorsque le faisceau p√©n√®tre dans un bloc opaque dans la direction presque perpendiculaire √† sa paroi, c'est-√†-dire qu'il tombe dans la face "face" du bloc.  Ainsi, tous les blocs sont diff√©rents du sol et du plafond. <br><br>  Donc, c'est ainsi que cette belle image 3D se r√©v√®le, ce qui non seulement pla√Æt √† l'≈ìil, mais vous fait √©galement r√©fl√©chir √† comment et pourquoi cela fonctionne.  Vous pouvez voir ce code en action <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> (off. Site du d√©veloppeur de ce miracle). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr441206/">https://habr.com/ru/post/fr441206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr441194/index.html">Livre "GraphQL: Query Language for Modern Web Applications"</a></li>
<li><a href="../fr441196/index.html">Sur qui et pour quels messagers "frapper"</a></li>
<li><a href="../fr441198/index.html">Dynamique en spirale de Scrum et Graves: comment ne pas se heurter aux r√©cifs</a></li>
<li><a href="../fr441202/index.html">Les soci√©t√©s de services r√™vent-elles de leurs produits? Conversation avec Maxilect</a></li>
<li><a href="../fr441204/index.html">Une approche avanc√©e pour d√©tecter les limites en utilisant les parois des vaisseaux comme exemple</a></li>
<li><a href="../fr441208/index.html">Comment nous avons r√©duit l'√©mission de pr√™ts √† 2 clics</a></li>
<li><a href="../fr441210/index.html">Pacemaker de stockage en cluster + DRBD (double primaire) + samba</a></li>
<li><a href="../fr441212/index.html">Travailler avec la protection des informations cryptographiques et les supports de cl√©s mat√©rielles sous Linux</a></li>
<li><a href="../fr441214/index.html">Guide de l'utilisateur Kibana. Visualisation. Partie 1</a></li>
<li><a href="../fr441216/index.html">Miroir noir ou pub Picooc?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>