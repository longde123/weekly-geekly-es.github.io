<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏽 🤶🏿 ⏸️ Cara Menerapkan Kartu Gesekan Tinder di SwiftUI 🤦🏻 👨‍👦 🆖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada bulan Juni, kami mendengar tentang SwiftUI untuk pertama kalinya - cara yang sama sekali baru untuk membuat dan bekerja dengan elemen UI di iOS d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara Menerapkan Kartu Gesekan Tinder di SwiftUI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476494/">  Pada bulan Juni, kami mendengar tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SwiftUI</a> untuk pertama kalinya - cara yang sama sekali baru untuk membuat dan bekerja dengan elemen UI di iOS dan aplikasi macOS (juga iPadOS).  Rasanya seperti Natal di musim panas.  Ini baru, deklaratif, seksi!  Dan sekarang, hanya beberapa minggu setelah iOS 13 dirilis, kita dapat mulai menggunakan SwiftUI di semua proyek kami.  Mari kita belajar cara menggunakan alat luar biasa yang diberikan Apple kepada kami, untuk membuat Kartu Gesek Tinder-esque klasik. <br><br>  Pada artikel ini, saya ingin menunjukkan kepada Anda cara mencapai tampilan dan perilaku kartu seperti Tinder (gesek ke tindakan), hanya dengan beberapa baris kode. <br><br>  Untuk mencapai ini, kita perlu melakukan hal-hal berikut, agar: <br><br><ul><li>  Buat UserView </li><li>  Buat tampilan navigasi </li><li>  Buat BottomBarView </li><li>  Buat swipeview </li><li>  Satukan semua ini di dalam ContentView </li></ul><br>  Jadi mari kita mulai. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://www.iosapptemplates.com/wp-content/uploads/2019/11/ezgif-6-6a1d3753a470.gif" alt="tinder swiftui" width="250"></div><br><h2>  Userview </h2><br>  UserView dibangun dari dua subview, satu adalah <i>NameView</i> yang berisi nama pengguna, usia, dan hobi, dan tampilan kedua hanyalah tampilan avatar yang menampilkan gambar profil pengguna. <br><br><pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NameView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> age: <span class="hljs-type"><span class="hljs-type">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> hobby: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">VStack</span></span>(alignment: .leading) { <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"\(name), \(age)"</span></span>) .font(.title) .fontWeight(.semibold) .foregroundColor(.white) <span class="hljs-type"><span class="hljs-type">Text</span></span>(hobby) .font(.system(size: <span class="hljs-number"><span class="hljs-number">16</span></span>)) .fontWeight(.regular) .foregroundColor(.white) } .padding() } }</code> </pre> <br>  Pertama, kita perlu mendefinisikan <i>NameView</i> , ini akan mewakili nama pengguna, usia, dan hobi.  <i>NameView</i> sesuai dengan protokol <i>View</i> , yang digunakan untuk mendefinisikan tampilan kustom di SwiftUI.  Protokol tampilan hanya memiliki satu persyaratan dan itu mendefinisikan properti tubuh yang harus mengembalikan struktur tampilan dan menjelaskan perilakunya.  Anda dapat memeriksa lebih lanjut tentang protokol <i>Tampilan</i> dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apple</a> . <br><br>  Mari kita jabarkan objek yang kita gunakan untuk mendefinisikan <i>Tampilan</i> ini: <br><br><ul><li>  <i>VStack</i> yang bertindak seperti wadah untuk semua objek yang meluruskannya secara vertikal </li><li>  <i>Spacer</i> yang memberi tahu SwiftUI bahwa tampilan ini harus disejajarkan di bagian bawah </li><li>  <i>Teks</i> yang mewakili label dengan nama &amp; usia, dengan properti berikut: </li><li>  Objek Teks Kedua yang memiliki properti serupa dan menampilkan hobi pengguna </li></ul><br>  Harap perhatikan bahwa kami tidak menggunakan pernyataan pengembalian di sini, di dalam properti body, tetapi sebaliknya kami mengembalikan VStack.  SwiftUI menggunakan proposal omit-return yang diterapkan di Swift 5.0.  Anda dapat memeriksa lebih lanjut tentang ini di <a href="">sini</a> . <br><br><h2>  Avatarview </h2><br>  Inilah bagaimana <i>AvatarView</i> didefinisikan: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AvatarView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> image: <span class="hljs-type"><span class="hljs-type">UIImage</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Image</span></span>(uiImage: image) .resizable() .overlay( <span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .fill(<span class="hljs-type"><span class="hljs-type">LinearGradient</span></span>(gradient: <span class="hljs-type"><span class="hljs-type">Gradient</span></span>(colors: [.clear, .black]), startPoint: .center, endPoint: .bottom)) .clipped() ) .cornerRadius(<span class="hljs-number"><span class="hljs-number">12.0</span></span>) } }</code> </pre><br>  Mari selami komponen yang membuat unit avatar ini: <br><br><ul><li>  <i>Gambar</i> - yang menampilkan gambar pengguna </li><li>  <i>resizable</i> - metode ini menentukan bahwa gambar harus diubah ukurannya agar sesuai dengan tempat tertanamnya </li><li>  <i>overlay (Rectangle)</i> - di sini kita mendefinisikan gradien yang akan menjadi latar belakang yang bagus untuk NameView, gradien ini dimulai di pusat gambar dan selesai di bagian bawah, memiliki warna yang jelas di awal dan hitam di bagian bawah </li><li>  <i>cornerRadius</i> - gambar akan memiliki radius terpojok </li></ul><br>  Dan sekarang mari kita tanamkan dua tampilan ini ke dalam tampilan wadah tunggal, bernama <i>UserView</i> . <br><br><h2>  Userview </h2><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> userModel: <span class="hljs-type"><span class="hljs-type">UserModel</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">ZStack</span></span>(alignment: .leading) { <span class="hljs-type"><span class="hljs-type">AvatarView</span></span>(image: userModel.image) <span class="hljs-type"><span class="hljs-type">NameView</span></span>(name: userModel.name, age: userModel.age, hobby: userModel.hobby) } .shadow(radius: <span class="hljs-number"><span class="hljs-number">12.0</span></span>) .cornerRadius(<span class="hljs-number"><span class="hljs-number">12.0</span></span>) } }</code> </pre><br>  Inilah yang terjadi: <br><br><ul><li>  <i>ZStack</i> - Ini adalah tampilan tumpukan yang akan menyelaraskan anak-anaknya pada sumbu yang sama.  Anda dapat membaca lebih lanjut tentang ZStack <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di sini</a> </li><li>  <i>AvatarView</i> - Tampilan avatar kami yang berisi gambar yang disediakan melalui <i>UserModel</i> </li><li>  <i>NameView</i> - Tampilan nama kami menampilkan nama berdasarkan model pengguna </li></ul><br>  Setelah semua langkah ini, jalankan aplikasi.  Anda akan mendapatkan layar berikut: <br><br><div style="text-align:center;"><img src="https://www.iosapptemplates.com/wp-content/uploads/2019/11/UserView.png" alt="avatar tinder" width="250"></div><br>  Mari kita tambahkan metode pembantu kecil sekarang.  Sebelum saya menunjukkan kepada Anda bagaimana Navigasi didefinisikan, mari kita buat metode pembantu, yang terlihat seperti ini: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewFactory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">button</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name: String, renderingMode: Image.TemplateRenderingMode = .original)</span></span></span></span> -&gt; some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Button</span></span>(action: {}) { <span class="hljs-type"><span class="hljs-type">Image</span></span>(name) .renderingMode(renderingMode) } } }</code> </pre><br>  Di sini, kami telah menetapkan metode pabrik tombol, yang membuat tombol baru dari gambar yang diberikan dan mode rendering.  Tidak ada pengendali tindakan, karena itu berada di luar ruang lingkup untuk artikel ini. <br><br><h2>  Tampilan Navigasi </h2><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"profile_icon"</span></span>) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"fire_icon"</span></span>) .scaleEffect(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"chat_icon"</span></span>) } } }</code> </pre><br>  SwiftUI akan secara otomatis membuat <i>Spacer</i> dengan lebar yang sama, dan itu akan memberi kita tampilan navigasi berikut: <br><br><div style="text-align:center;"><img src="https://www.iosapptemplates.com/wp-content/uploads/2019/11/NavigationView.png" alt="tampilan navigasi" width="250"></div><br><h2>  Bottombarview </h2><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BottomBarView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"back_icon"</span></span>, renderingMode: .template) .foregroundColor(.orange) .background( <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Circle</span></span>() .offset(x: <span class="hljs-number"><span class="hljs-number">2.5</span></span>) .foregroundColor(.white) .shadow(color: .gray, radius: <span class="hljs-number"><span class="hljs-number">12</span></span>) .frame(width: geometry.size.width * <span class="hljs-number"><span class="hljs-number">1.5</span></span>, height: geometry.size.height * <span class="hljs-number"><span class="hljs-number">1.5</span></span>) } ) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() ... }</code> </pre><br>  Dalam cuplikan kode di atas, kami telah menentukan tombol pertama dari tampilan bilah kami.  Inilah yang terjadi: <br><br><ul><li>  ViewFactory.button - di sini kita menggunakan metode pembantu kami untuk menentukan tombol dengan gambar dengan renderingMode .template yang memungkinkan Anda untuk menempatkan warna khusus untuk gambar ini <br></li><li>  <i>.foregroundColor</i> - mendefinisikan warna tampilan kami <br></li><li>  <i>.background</i> - metode ini mendefinisikan tampilan latar belakang objek yang diberikan <br></li><li>  <i>GeometryReader</i> - tampilan wadah yang mendefinisikan kontennya sebagai fungsi dari ukurannya sendiri dan mengoordinasikan ruang.  Kami menggunakan ini untuk mendapatkan ukuran tombol saat ini dan menentukan lingkaran latar belakang dengan bingkai yang diberikan.  Pelajari lebih lanjut tentang Pembaca Geometri di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </li><li>  <i>Lingkaran</i> - mendefinisikan bentuk latar belakang </li><li>  <i>.offset</i> - lingkaran offset sumbu x </li><li>  <i>.foregroundColor</i> - warna lingkaran warna <br></li><li>  <i>.shadow</i> - lingkaran shadow </li><li>  <i>.frame</i> - mendefinisikan bingkai lingkaran menggunakan ukuran pembaca geometri (di sini kita mendefinisikan lingkaran latar belakang, 1,5x lebih besar dari tombol saat ini) <br></li></ul><br>  Sekarang mari kita terapkan sisa tombol: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BottomBarView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">HStack</span></span> { <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"back_icon"</span></span>, renderingMode: .template) .foregroundColor(.orange) .background( <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Circle</span></span>() .offset(x: <span class="hljs-number"><span class="hljs-number">2.5</span></span>) .foregroundColor(.white) .shadow(color: .gray, radius: <span class="hljs-number"><span class="hljs-number">12</span></span>) .frame(width: geometry.size.width * <span class="hljs-number"><span class="hljs-number">1.5</span></span>, height: geometry.size.height * <span class="hljs-number"><span class="hljs-number">1.5</span></span>) } ) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"close_icon"</span></span>, renderingMode: .template) .foregroundColor(.red) .background( <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Circle</span></span>().foregroundColor(.white) .frame(width: geometry.size.width * <span class="hljs-number"><span class="hljs-number">2</span></span>, height: geometry.size.height * <span class="hljs-number"><span class="hljs-number">2</span></span>) .shadow(color: .gray, radius: <span class="hljs-number"><span class="hljs-number">12</span></span>) } ) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"approve_icon"</span></span>, renderingMode: .template) .foregroundColor(.green) .background( <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Circle</span></span>() .foregroundColor(.white) .shadow(color: .gray, radius: <span class="hljs-number"><span class="hljs-number">12</span></span>) .frame(width: geometry.size.width * <span class="hljs-number"><span class="hljs-number">2</span></span>, height: geometry.size.height * <span class="hljs-number"><span class="hljs-number">2</span></span>) } ) <span class="hljs-type"><span class="hljs-type">Spacer</span></span>() <span class="hljs-type"><span class="hljs-type">ViewFactory</span></span>.button(<span class="hljs-string"><span class="hljs-string">"boost_icon"</span></span>, renderingMode: .template) .foregroundColor(.purple) .background( <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Circle</span></span>() .foregroundColor(.white) .shadow(color: .gray, radius: <span class="hljs-number"><span class="hljs-number">12</span></span>) .frame(width: geometry.size.width * <span class="hljs-number"><span class="hljs-number">1.5</span></span>, height: geometry.size.height * <span class="hljs-number"><span class="hljs-number">1.5</span></span>) } ) } .padding([.leading, .trailing]) } }</code> </pre><br>  Dan sebagai hasilnya kita sekarang memiliki pemandangan yang indah ini: <br><br><div style="text-align:center;"><img src="https://www.iosapptemplates.com/wp-content/uploads/2019/11/BottomBarView.png" alt="tampilan kencan tab bar" width="250"></div><br><h2>  Swipeview </h2><br>  Bagian ini untuk SwiftUI lebih lanjut.  Di sinilah segalanya menjadi menarik.  Kami ingin menerapkan gerakan gesek pada tampilan tindakan.  Perilaku ini adalah kasus penggunaan yang bagus untuk PageViewController, tetapi pengontrol tampilan ini akan segera menjadi sejarah, jadi ini adalah tempat kami dapat menunjukkan kekuatan nyata SwiftUI. <br><br>  Jadi mari kita lihat bagaimana SwipeView diimplementasikan: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SwipeView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> offset: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> users = [...] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> spacing: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">GeometryReader</span></span> { geometry <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">ScrollView</span></span>(.horizontal, showsIndicators: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { <span class="hljs-type"><span class="hljs-type">HStack</span></span>(spacing: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.spacing) { <span class="hljs-type"><span class="hljs-type">ForEach</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.users) { user <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">UserView</span></span>(userModel: user) .frame(width: geometry.size.width) } } } .content.offset(x: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.offset) .frame(width: geometry.size.width, alignment: .leading) .gesture( <span class="hljs-type"><span class="hljs-type">DragGesture</span></span>() .onChanged({ value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.offset = value.translation.width - geometry.size.width * <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index) }) .onEnded({ value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> -value.predictedEndTranslation.width &gt; geometry.size.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index &lt; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.users.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index += <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> value.predictedEndTranslation.width &gt; geometry.size.width / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index -= <span class="hljs-number"><span class="hljs-number">1</span></span> } withAnimation { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.offset = -(geometry.size.width + <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.spacing) * <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index) } }) ) } } }</code> </pre><br>  Di sini kami telah menggunakan beberapa konsep SwiftUI baru yang menarik: <br><br><ul><li>  <i>@ Status</i> - Nilai persisten dari jenis yang diberikan, di mana tampilan membaca dan memantau nilai, yang berarti bahwa setiap kali properti ini akan berubah, tampilan akan dimuat ulang untuk menyesuaikan dengan pembaruan status yang diberikan.  Anda dapat memeriksa lebih lanjut tentang Negara di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </li><li>  <i>DragGesture</i> - objek ini akan digunakan untuk mengenali setiap gesekan yang dilakukan pengguna di layar.  Anda dapat membaca lebih lanjut tentang ini di sini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developer.apple.com/documentation/swiftui/draggesture</a> </li><li>  <i>@ Offset var pribadi negara: CGFloat = 0</i> - properti ini akan digunakan untuk menentukan offset tampilan gulir saat ini ketika pengguna menggeser layar </li><li>  <i>@ State private var index = 0</i> - properti ini menentukan tampilan pengguna mana yang sedang ditampilkan di layar </li><li>  <i>ScrollView</i> - tampilan gulir horizontal tanpa indikator, yang akan menjadi wadah untuk tampilan pengguna kami </li><li>  <i>HStack</i> - tampilan tumpukan horizontal yang berisi semua tampilan pengguna </li><li>  <i>content.offset (self.offset)</i> - ini menciptakan koneksi antara keadaan offset dan offset tampilan konten gulir.  Ini berarti bahwa setiap kali properti offset akan berubah, offset tampilan gulir juga akan diperbarui </li></ul><br>  Kami menghitung lebih dari pengguna yang ada dengan membuat <i>UserView</i> untuk setiap elemen: <br><br><ul><li>  <i>.frame</i> - di sini kita mendefinisikan bingkai tampilan gulir yang harus sesuai dengan lebar layar, dan harus disejajarkan dengan benar ke wadahnya. <br></li><li>  <i>.ureure</i> - di sini kita menambahkan objek <i>DragGesture</i> kita <br></li></ul><br>  <i>DragGesture</i> sedikit rumit, tetapi bagaimanapun, ia menambahkan semua logika pagination hanya dalam beberapa baris kode.  Mari kita hancurkan <i>DragGesture</i> : <br><ul><li>  <i>onChanged ()</i> - blok ini dipanggil setiap kali pengguna mulai dan berada di saat gerakan seret, di sini kami menghitung offset tampilan pengguna saat ini yang mengikuti jari pengguna <br></li><li>  <i>onEnded ()</i> - di sini kita diberitahu ketika gerakan isyarat berakhir, di sini kita perlu menghitung apakah pengguna ingin menggesek tampilan ini (kiri atau kanan), atau mungkin gerakan ini ditandai, dan pengguna ingin tetap berada di layar ini <br></li><li>  <i>withAnimation</i> - penutupan ini dipanggil dengan animasi, dan memungkinkan untuk mengganti offset dengan smothly <br></li></ul><br><h2>  Contentview </h2><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">VStack</span></span> { <span class="hljs-type"><span class="hljs-type">NavigationView</span></span>() .padding(.bottom) <span class="hljs-type"><span class="hljs-type">SwipeView</span></span>() .padding(.bottom) <span class="hljs-type"><span class="hljs-type">BottomBarView</span></span>() } .padding() } }</code> </pre><br>  Tampilan konten kami sangat sederhana pada saat ini - konten ini membentuk semua tampilan yang kami buat sebelumnya, di dalam tumpukan vertikal ( <i>VStack</i> ).  Untuk <i>NavigationView</i> dan <i>SwipeView</i> kami telah menambahkan beberapa padding default di bagian bawah, dan seluruh <i>VStack</i> memiliki paddings ditambahkan ke semua tepi. <br><br>  Itu dia.  Selesai  Seperti inilah tampilan aplikasi kami sekarang: <br><br><div style="text-align:center;"><img src="https://www.iosapptemplates.com/wp-content/uploads/2019/11/ezgif-6-6a1d3753a470.gif" alt="tinder swiftui" width="250"></div><br><h2>  Pikiran terakhir </h2><br>  Seperti yang dapat kita lihat SwiftUI adalah alat yang sangat kuat, SwiftUI memberi kita cara mudah untuk mendefinisikan dan memanipulasi UI dalam kode pendek deklaratif.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bereaksi</a> pengembang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">asli</a> akan mengenali paradigma deklaratif ini segera. <br><br>  Tapi ingat: SwiftUI masih dalam pengembangan dan bisa sangat tidak stabil untuk saat ini.  Jika Anda ingin memeriksa semua basis kode untuk proyek ini, Anda dapat menemukannya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Github</a> . <br><br>  Jika Anda memiliki pemikiran atau pertanyaan tentang SwiftUI, silakan bagikan dalam komentar.  Juga, jika Anda menikmati artikel ini, silakan bagikan dengan komunitas Anda untuk membantu kami menyebarkan berita! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id476494/">https://habr.com/ru/post/id476494/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id476482/index.html">"Dengan payung ini, Anda tidak perlu melakukan sesuatu yang kuno untuk mengetahui cuaca, misalnya, melihat keluar jendela." Tinjau Opus One</a></li>
<li><a href="../id476484/index.html">Perbandingan pencarian internal untuk produk Yandex (beta)</a></li>
<li><a href="../id476488/index.html">Pertemuan Pengembang PHP Ufa</a></li>
<li><a href="../id476490/index.html">Fungsionalitas sistem perlindungan aplikasi modern (WAF) harus jauh lebih luas daripada daftar kerentanan dari OWASP Top 10</a></li>
<li><a href="../id476492/index.html">Menyimpan pengaturan di memori Unit Dasar</a></li>
<li><a href="../id476500/index.html">Tantangan dengan TopCoder Open 2019: memotong kue menjadi enam bagian</a></li>
<li><a href="../id476502/index.html">Apa yang diinginkan pelanggan ketika dia berbicara tentang penerapan sistem pemantauan</a></li>
<li><a href="../id476506/index.html">TechnoText, klimaks: mendekati akhir kompetisi penulis</a></li>
<li><a href="../id476508/index.html">PHP Microservice Framework: Swoft v2.0.7 Rilis sesuai jadwal</a></li>
<li><a href="../id476510/index.html">Kuda itu bergerak sedikit. Bitboard Catur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>