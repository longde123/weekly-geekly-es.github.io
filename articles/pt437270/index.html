<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚Ñ¢Ô∏è ü§¥üèº üñºÔ∏è Implementamos uma m√°quina virtual Windows com um encaminhamento de placa de v√≠deo virtual usando QEMU e Intel GVT-g üíï üôÜüèæ üïî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como fazer o Intel GVT-g funcionar 


 Ol√° pessoal! A Intel ofereceu uma excelente solu√ß√£o para o eterno problema: "Eu tenho um laptop no Linux e prec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Implementamos uma m√°quina virtual Windows com um encaminhamento de placa de v√≠deo virtual usando QEMU e Intel GVT-g</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437270/"><h1 id="kak-zastavit-intel-gvt-g-rabotat">  Como fazer o Intel GVT-g funcionar </h1><br><p>  Ol√° pessoal!  A Intel ofereceu uma excelente solu√ß√£o para o eterno problema: "Eu tenho um laptop no Linux e preciso executar o Windows com acelera√ß√£o de hardware, mas n√£o tenho um laptop pesado com duas GPUs e refrigera√ß√£o l√≠quida".  Usando a arquitetura da GPU ou qualquer outra coisa, eles conseguiram fazer com que voc√™ pudesse dividir a GPU Intel integrada em duas ou mais GPUs. </p><br><p>  Infelizmente, isso est√° longe de ser simples ... A documenta√ß√£o est√° um pouco desatualizada e algumas coisas quebram inexplicavelmente sem motivo aparente.  Portanto, neste post, mostrarei como configurar uma m√°quina virtual Windows acelerada por hardware com virtio legal e drivers r√°pidos Intel GVT-g. </p><br><p>  Para fazer isso, voc√™ precisa de uma GPU mais ou menos moderna ( <em>nota do tradutor</em> : de <em>acordo com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o oficial</a> , o GVT-g suporta placas de v√≠deo integradas, come√ßando com a quinta gera√ß√£o Intel Core e a quarta gera√ß√£o Xeon</em> ). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/760/a80/d5e/760a80d5edea70d7ba2eb33458205f89.jpg" alt="Captura de tela do Windows"></p><a name="habracut"></a><br><h2 id="shag-1-nastraivaem-yadro">  Etapa 1: configurar o kernel </h2><br><p>  Verifique se voc√™ possui uma vers√£o nova do kernel.  Parece que as op√ß√µes para o GVT-g foram inclu√≠das antes da vers√£o 4.8, mas definitivamente funcionaram pior, por isso recomendo o uso do kernel dispon√≠vel mais recente.  Se voc√™ √© original o suficiente para construir seu kernel, ative <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">essas op√ß√µes</a> .  Desative tamb√©m a remo√ß√£o de ksyms n√£o utilizados, pois esta op√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">causa um erro</a> . </p><br><p>  Agora voc√™ precisa corrigir os argumentos da linha de comando do kernel.  As op√ß√µes importantes s√£o: </p><br><pre><code class="plaintext hljs">i915.enable_gvt=1 kvm.ignore_msrs=1 intel_iommu=on i915.enable_guc=0</code> </pre> <br><p>  Certifique-se de n√£o substituir o <code>enable_guc=0</code> por algo que permita o carregamento do GuC, pois isso causar√° uma queda deprimente do driver i915.  Ao inicializar, entre no seu ambiente de trabalho e verifique o diret√≥rio <code>/sys/bus/pci/devices/0000:00:02.0/mdev_supported_types/</code> .  Se n√£o existir, o GVT-g n√£o funcionar√°.  Verifique os toros e / ou chore no travesseiro. </p><br><p>  Como solu√ß√£o para o problema, voc√™ pode adicionar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esses</a> m√≥dulos ao initramfs e remover o i915 de l√°. </p><br><p>  Para um registro mais detalhado, voc√™ pode definir a vari√°vel <code>drm.debug</code> com algum valor, por exemplo, defini-la como 0x02 incluir√° mensagens dos drivers. </p><br><h2 id="shag-2-sozdayom-virtualnogo-druga">  Etapa 2: criar um amigo virtual </h2><br><p>  Dentro do <code>mdev_supported_types</code> voc√™ encontra um conjunto inteiro de diret√≥rios.  Esse conjunto √© determinado pela quantidade de mem√≥ria gr√°fica, cada subdiret√≥rio corresponde a algum tipo de GPU virtual.  O arquivo de <code>description</code> cont√©m informa√ß√µes sobre a mem√≥ria e as resolu√ß√µes suportadas por esta GPU virtual.  Se a cria√ß√£o de uma GPU virtual com mem√≥ria grande usando a sa√≠da UUID no arquivo <code>/create</code> fornecer um erro incompreens√≠vel, voc√™ ter√° v√°rias op√ß√µes.  Primeiro, v√° ao BIOS e adicione mem√≥ria de v√≠deo, se poss√≠vel.  Se isso n√£o funcionar, voc√™ pode interromper o seu DM, alternar para o framebuffer, criar a vGPU desejada a partir da√≠ e retornar ao x11.  Infelizmente, esse m√©todo gera muitos bugs e n√£o permite atingir 60 FPS no meu laptop.  Uma alternativa √© criar uma vGPU menor e usar um programa especial para aumentar a resolu√ß√£o (CRU).  Dessa maneira, consegui atingir 60 FPS e havia muito menos bugs e congelamentos. </p><br><p>  Voc√™ pode criar vGPU com este comando: </p><br><pre> <code class="plaintext hljs">$ echo ${vGPU_UUID} | sudo tee /sys/bus/pci/devices/0000:00:02.0/mdev_supported_types/${vGPU_TYPE}/create</code> </pre> <br><p>  E excluir - isto: </p><br><pre> <code class="plaintext hljs">$ echo 1 | sudo tee /sys/bus/mdev/devices/${vGPU_UUID}/remove</code> </pre> <br><p>  <em>Nota do tradutor</em> : <br>  <em>Voc√™ pode gerar um UUID para vGPU usando o comando <code>uuidgen</code> sem argumentos.</em>  <em>A vari√°vel $ {vGPU_TYPE} indica um dos tipos listados no diret√≥rio <code>mdev_supported_types</code> .</em>  <em>Tamb√©m √© importante notar que a vGPU deve ser recriada a cada reinicializa√ß√£o; elas n√£o s√£o salvas entre os lan√ßamentos do SO.</em> </p><br><h2 id="shag-3-cortana-krichit-na-vas">  Etapa 3: Cortana grita com voc√™ </h2><br><p>  O pr√≥ximo passo √© muito melhor suportado e muito mais lento e doloroso - instala√ß√£o do Windows 10. N√£o use torrents ou downloads n√£o oficiais, ou a vers√£o antiga do Windows, o link correto est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Tamb√©m vale a pena fazer o download da imagem do disco com drivers virtio projetados especificamente para acelerar os convidados <a href="">aqui</a> .  Instale <code>libvirt</code> e <code>virt-manager</code> e execute <code>libvirtd</code> : </p><br><pre> <code class="plaintext hljs"># systemctl start libvirtd</code> </pre> <br><p>  Execute o <code>virt-manager</code> e verifique se voc√™ est√° conectado √† sess√£o do sistema <code>libvirt</code> , e n√£o ao usu√°rio: <br><img src="https://habrastorage.org/getpro/habr/post_images/8e3/ca9/b29/8e3ca9b29bd86d43d7a79a2aecdaadd9.png" alt="Janela do virt-manager"></p><br><p>  <em>Nota do tradutor</em> : <br>  <em>Para que o virt-manager possa conectar-se √† sess√£o do sistema, voc√™ pode execut√°-lo como root, mas √© melhor configurar a autoriza√ß√£o, por exemplo, conforme sugerido no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Arch Wiki</a> .</em> </p><br><p>  Depois de fazer isso, voc√™ pode come√ßar a criar uma m√°quina virtual.  Na caixa de di√°logo de configura√ß√µes, selecione o download da iso-imagem local e localize a imagem baixada.  Se o <code>virt-manager</code> n√£o o reconhecer como uma imagem do Windows 10, selecione-o manualmente, pois isso acelerar√° o Windows, pois o <code>virt-manager</code> nesse caso fornece algumas interfaces de virtualiza√ß√£o da Microsoft.  Crie uma imagem de disco ou parti√ß√£o LVM e configure conforme necess√°rio.  A interface de instala√ß√£o antes da instala√ß√£o √© muito limitada, por isso geralmente inicio a instala√ß√£o e a paro imediatamente para configurar tudo.  Aqui est√£o algumas configura√ß√µes: <br><img src="https://habrastorage.org/getpro/habr/post_images/a55/104/cca/a55104cca39b9a94e2ec55fb5248a6c0.png" alt="Configura√ß√µes de CPU da m√°quina virtual"><br><img src="https://habrastorage.org/getpro/habr/post_images/256/bde/55c/256bde55c4d6f438667ca75458ba1ab3.png" alt="Configura√ß√µes de rede da m√°quina virtual"></p><br><p>  <em>Nota do tradutor</em> : <br>  <em>Apesar do fato de a publica√ß√£o sobre a configura√ß√£o de uma m√°quina virtual em um laptop, por algum motivo, a pergunta sobre a distribui√ß√£o da rede usando um adaptador sem fio √© omitida.</em>  <em>O fato √© que as configura√ß√µes de rede padr√£o no virt-manager n√£o s√£o adequadas para uma rede sem fio.</em>  <em>Nessa situa√ß√£o, a resposta a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">essa</a> pergunta e seus coment√°rios podem ajudar.</em>  <em>O autor tamb√©m sugere o uso do BIOS em vez do UEFI, provavelmente devido ao fato de o UEFI exigir configura√ß√£o adicional.</em>  <em>Al√©m disso, parece que o tianocore ainda n√£o est√° funcionando com o GVT-g, veja o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bug 935</a> .</em>  <em>No meu caso, no entanto, a VM foi iniciada, mas o Windows n√£o reconheceu o monitor ao qual a placa de v√≠deo integrada estava conectada.</em> </p><br><p>  Se voc√™ precisar de acesso r√°pido ao disco ou at√© a capacidade da m√°quina virtual de compactar a imagem do disco ao excluir arquivos da m√°quina virtual (encaminhamento TRIM, para isso, voc√™ precisar√° criar a imagem com <code>qemu-img create -f qcow2 -o preallocation=metadata,lazy_refcounts</code> , instru√ß√µes completas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ), configure a unidade principal para usar SCSI.  Voc√™ precisar√° de drivers para a m√°quina virtual para Windows para entender esse formato; portanto, conecte o disco do driver virtio baixado anteriormente para o Windows 10. Por padr√£o, eles usam um IDE, mas voc√™ pode acelerar a instala√ß√£o v√°rias vezes e usar menos c√≥digo legado, se usar para DVDs SCSI.  O Windows suporta isso imediatamente.  Voc√™ tamb√©m pode: </p><br><ul><li>  For√ßar o USB a usar o USB 3.0 </li><li>  Adicione canais spice, spice-webdav e qemu-ga para copiar e colar e compartilhar arquivos entre a VM e o host </li><li>  Remover hardware virtual n√£o utilizado </li><li>  Troque a placa de v√≠deo emulada para QXL e mude a exibi√ß√£o para SPICE, N√ÉO ouvindo a rede (mesmo loopback) ( <em>Nota do tradutor: caso contr√°rio, a VM simplesmente trava</em> ). </li><li>  Mude o tipo de chip para Q35, definindo pr√≥ximo √†s configura√ß√µes do BIOS. </li><li>  Alimente o cachorro </li></ul><br><p>  Voc√™ tamb√©m pode se acostumar com o seu novo amigo <code>virsh edit</code> .  Se voc√™ execut√°-lo usando o <code>sudo -E</code> , suas vari√°veis ‚Äã‚Äãde ambiente, em particular EDITOR, ser√£o usadas para edi√ß√£o e voc√™ usar√° a sess√£o do sistema libvirt, n√£o a do usu√°rio.  Neste arquivo, por exemplo, voc√™ pode atribuir uma correspond√™ncia entre processadores f√≠sicos e virtuais, devido a quais caches de processador s√£o mais consistentes e o planejador se comporta de maneira menos estranha.  Aqui est√° um exemplo de XML que voc√™ pode colocar l√°: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placement</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'static'</span></span></span><span class="hljs-tag">&gt;</span></span>6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpu</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cputune</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'0'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'5'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'4'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'6'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'5'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'7'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cputune</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">features</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hyperv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">relaxed</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vapic</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spinlocks</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">retries</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'8191'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">runtime</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">synic</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">stimer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hyperv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">features</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'host-passthrough'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">check</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'none'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">topology</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sockets</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cores</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">threads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpu</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Neste snippet, eu configuro a VM para que ela veja um processador com tr√™s n√∫cleos f√≠sicos, cada um com dois hyperthreads.  Al√©m disso, cada processador / hiper-thread √© anexado ao seu pr√≥prio hiper-thread e essa correspond√™ncia n√£o muda.  O Windows Scheduler conhece os hyperthreads e pode us√°-los corretamente, sem contar como processadores separados.  Tamb√©m habilito algumas interfaces do Hyper-V que est√£o desativadas por padr√£o e podem n√£o ter efeito.  Se voc√™ usa o SPICE, pode adicionar as seguintes linhas para desativar a compacta√ß√£o, pois a rede externa ainda n√£o √© usada para acessar a VM. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graphics</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'spice'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">listen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'none'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jpeg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'never'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zlib</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'never'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">playback</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">streaming</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- &lt;gl enable='yes' rendernode='/dev/dri/by-path/pci-0000:00:02.0-render'/&gt;     ,     libvirt --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graphics</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Agora voc√™ pode configurar a ordem de inicializa√ß√£o e iniciar a instala√ß√£o do Windows.  Se voc√™ usar uma unidade <code>virtio</code> ou SCSI, o Windows n√£o a encontrar√°.  Voc√™ precisar√° instalar o driver SCSI a partir da unidade que voc√™ conectou, eles est√£o localizados no diret√≥rio <code>virtscsi/amd64</code> .  Tudo deve correr bem, e o Windows deve inicializar em um modo lento e miser√°vel, n√£o acelerado.  A Cortana come√ßar√° a gritar com voc√™ e sua rede n√£o funcionar√°.  Atravesse tudo na √°rea de trabalho.  L√°, inicie o gerenciador de dispositivos, encontre todos os dispositivos n√£o identificados e atualize os drivers para eles a partir do disco que voc√™ conectou.  Voc√™ obter√° um Windows um pouco mais r√°pido. </p><br><h2 id="shag-4-vesyolaya-chast">  Etapa 4: a parte divertida </h2><br><p>  H√° tr√™s maneiras de obter a exibi√ß√£o acelerada da VM virtual do Windows na tela da sua m√°quina. </p><br><ul><li>  VNC ou algum outro protocolo de acesso remoto (geralmente essa √© uma solu√ß√£o muito ruim).  Nesta op√ß√£o, voc√™ s√≥ precisa conectar o vGPU e desativar todos os outros monitores e placas de v√≠deo.  Defina tamb√©m a configura√ß√£o <code>display='off'</code> .  Voc√™ n√£o precisa da op√ß√£o <code>igd-opregion</code> mostrada mais tarde. </li><li>  SPICE (n√£o consegui atingir 30 FPS ou mais, mas a transfer√™ncia geral de arquivos e de transfer√™ncia entre a VM e o host funciona). </li><li>  Interface QEMU incorporada no GTK + (a √°rea de transfer√™ncia e transfer√™ncia de arquivos compartilhadas n√£o funcionam, mas √© poss√≠vel obter 60 FPS com um patch). </li></ul><br><p>  Tudo o que voc√™ pretende usar, voc√™ ainda precisa usar a segunda op√ß√£o para instalar os drivers da GPU.  Os drivers internos da Microsoft n√£o funcionam muito bem com o GVT-g no momento da reda√ß√£o e geralmente quebram.  Antes de conectar o vGPU √† VM, √© recomend√°vel baixar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">driver mais recente da Intel</a> (aparentemente, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Intel est√° mudando sua abordagem de distribui√ß√£o de drivers</a> , portanto, no futuro, essa etapa poder√° ser diferente ou n√£o ser necess√°ria).  Agora, verifique se voc√™ criou o vGPU.  Abra o <code>virt-manager</code> e substitua o bom QXL r√°pido por um Cirrus lento para evitar conflitos.  Para conectar o vGPU √† VM, √© necess√°rio abrir a <code>virsh edit</code> e adicionar o seguinte fragmento em algum lugar: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">domain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'kvm'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:qemu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'http://libvirt.org/schemas/domain/qemu/1.0'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hostdev</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'subsystem'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'mdev'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">managed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'no'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'vfio-pci'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">display</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="plaintext hljs">&lt;address uuid='fff6f017-3417-4ad3-b05e-17ae3e1a4615'/&gt;</code> </pre> <br><pre> <code class="plaintext hljs"> &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x09' function='0x0'/&gt; &lt;rom enabled='no'/&gt; &lt;/hostdev&gt; &lt;graphics type='spice'&gt; &lt;listen type='none'/&gt; &lt;image compression='off'/&gt; &lt;jpeg compression='never'/&gt; &lt;zlib compression='never'/&gt; &lt;playback compression='off'/&gt; &lt;streaming mode='off'/&gt; &lt;gl enable='yes' rendernode='/dev/dri/by-path/pci-0000:00:02.0-render'/&gt; &lt;!--      , virt-manager     ,        GL. ,      ,   auto. --&gt; &lt;/graphics&gt; &lt;qemu:commandline&gt; &lt;qemu:arg value='-set'/&gt; &lt;qemu:arg value='device.hostdev0.x-igd-opregion=on'/&gt; &lt;!-- libvirt     ,      --&gt; &lt;/qemu:commandline&gt; &lt;/domain&gt;</code> </pre> <br><p>  Nota: Quando forne√ßo um snippet XML como este, voc√™ deve adicion√°-lo ao atual, se poss√≠vel, sem substituir nada. </p><br><p>  Verifique se voc√™ criou UUIDs exclusivos para todas as vGPUs que voc√™ est√° usando e se os n√∫meros de slot n√£o conflitam com nenhum dos outros dispositivos PCI.  Se o n√∫mero do slot for posterior √† Cirrus GPU, a m√°quina virtual falhar√°.  Agora voc√™ pode iniciar a m√°quina virtual.  <strong>Voc√™ precisa instalar o <code>virt-viewer</code> para ver os dois monitores!</strong>  Voc√™ pode se conectar a uma VM usando o comando </p><br><pre> <code class="plaintext hljs">$ sudo -E virt-viewer --attach</code> </pre> <br><p>  Uma das telas ficar√° em branco ou n√£o inicializada; a segunda √© uma tela familiar, pequena e n√£o acelerada.  Expanda-o e, ap√≥s entrar, instale o driver da GPU.  Se voc√™ tiver sorte, tudo funcionar√° imediatamente.  Caso contr√°rio, voc√™ deve desligar e reiniciar a VM (n√£o reinicie) usando a tela de trabalho.  Agora √© hora de abrir um terminal e executar <code>dmesg -w</code> dentro.  Este comando fornecer√° algumas informa√ß√µes √∫teis sobre problemas e progresso geral usando a vGPU.  Por exemplo, no momento da inicializa√ß√£o, o KVM reclamar√° sobre MSRs bloqueados, e voc√™ receber√° algumas mensagens de acesso incorretas quando o vGPU for inicializado.  Se houver muitos, algo est√° errado. </p><br><p>  Se o sistema inicializar, voc√™ poder√° abrir as configura√ß√µes de exibi√ß√£o e desativar a tela n√£o acelerada.  Uma tela em branco pode ser oculta atrav√©s do menu <em>Exibir</em> no <code>virt-viewer</code> .  Em princ√≠pio, as VMs j√° podem ser usadas, mas h√° algumas coisas que podem ser feitas para obter maior resolu√ß√£o e velocidade. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O utilit√°rio CRU √©</a> muito √∫til.  Voc√™ pode brincar com ele, e mesmo se voc√™ se deparar com alguns artefatos gr√°ficos ou at√© uma tela quase preta, como se viu para mim, poder√° executar o arquivo <code>Restart64.exe</code> que acompanha o programa para reiniciar o subsistema de gr√°ficos do Windows.  Pessoalmente, eu uso esse utilit√°rio para usar maior resolu√ß√£o em uma vGPU mais modesta. </p><br><p>  Para alcan√ßar 60 FPS excelentes, voc√™ precisa mudar para o monitor QEMU embutido no GTK + sem suportar uma √°rea de transfer√™ncia compartilhada com o host e os p√£es semelhantes, al√©m de alterar uma linha e reconstruir o QEMU.  Voc√™ tamb√©m precisar√° adicionar v√°rios argumentos desagrad√°veis ‚Äã‚Äãde linha de comando ao seu XML.  Remova a tela SPICE e a placa gr√°fica Cirrus e defina o atributo <code>display</code> da sua vGPU como <code>off</code> (libvirt n√£o suporta a tela no GTK + e n√£o permitir√° a inicializa√ß√£o de <code>display='on'</code> sem tela). </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:commandline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-set'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'device.hostdev0.x-igd-opregion=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-set'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'device.hostdev0.display=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-display'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'gtk,gl=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:env</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'DISPLAY'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">':1'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:env</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'GDK_SCALE'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1.0'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:commandline</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  O dimensionamento para HiDPI no monitor QEMU funciona muito mal, portanto, vamos desativ√°-lo.  Al√©m disso, voc√™ precisar√° definir a vari√°vel <code>DISPLAY</code> para o n√∫mero de exibi√ß√£o que voc√™ est√° usando.  Para dar ao usu√°rio que est√° executando o qemu acesso ao servidor X, use o comando: </p><br><pre> <code class="plaintext hljs"># xhost si:localuser:nobody</code> </pre> <br><p>  Se isso n√£o funcionar, tente <code>xhost +</code> , mas verifique se voc√™ est√° usando um firewall.  Caso contr√°rio, tente um m√©todo mais seguro. </p><br><p>  Com esses truques, voc√™ ainda n√£o ficar√° acima de 30 FPS por causa desse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bug est√∫pido</a> no QEMU, se voc√™ n√£o o corrigir alterando a linha, conforme indicado no link do coment√°rio.  Certifique-se de criar apenas QEMU para x86-64, a menos que voc√™ pretenda us√°-lo em outra plataforma.  Anexei meu PKGBUILD, que n√£o altera a linha, mas apenas coleta o QEMU para x86_64 sem suporte de armazenamento em rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Se voc√™ se perder em algum lugar ao longo do caminho, poder√° ver meu <a href="">XML</a> atual <a href="">para libvirt</a> . </p><br><h2 id="poleznye-ssylki">  Links √∫teis </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia oficial de ajuste da GVT-g</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dma-buf Guia do Usu√°rio</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo de instala√ß√£o do Intel GVT-g no NixOS Wiki</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo do Arch Wiki sobre libvirt</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Configura√ß√£o de rede no KVM na interface sem fio</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Site da Intel GVT-g</a> </p><br><p>  PS: Agradecemos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">√†NNMON</a> pela ajuda na revis√£o do texto da tradu√ß√£o e na corre√ß√£o de erros. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt437270/">https://habr.com/ru/post/pt437270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt437256/index.html">Validando endere√ßos de mem√≥ria em um Cortex-M0 / M3 / M4 / M7</a></li>
<li><a href="../pt437258/index.html">Projeto exclusivo da equipe CATIA DESIGN: carro-conceito Bleu</a></li>
<li><a href="../pt437260/index.html">Windows Phone 8.1: nostalgia p√≥s-desenvolvimento. Hist√≥rico de aplicativo √∫nico</a></li>
<li><a href="../pt437262/index.html">Como a √°gua do rio se torna pot√°vel?</a></li>
<li><a href="../pt437264/index.html">Burnout profissional em TI (resultados do estudo My Circle)</a></li>
<li><a href="../pt437274/index.html">Uma vis√£o para a observabilidade na pr√°tica</a></li>
<li><a href="../pt437276/index.html">Candeeiros de mesa Remilicht com LEDs Sunlike</a></li>
<li><a href="../pt437280/index.html">Log√≠stica f√°cil de fazer voc√™ mesmo</a></li>
<li><a href="../pt437282/index.html">Uma introdu√ß√£o ao Kubernetes para usu√°rios do VMware. Parte 2. Pr√°tica</a></li>
<li><a href="../pt437284/index.html">Profiss√µes de zool√≥gico relacionadas √† ind√∫stria do √°udio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>