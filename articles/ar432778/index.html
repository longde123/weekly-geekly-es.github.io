<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ก ๐ ๐ง๐พโ๐คโ๐ง๐ผ ุชุทููุฑ ูุญูู ุจุงู ุนูู STM32F334: ูุจุฏุฃ ุงูุชุดุบูู ุ ุงูุญุณุงุจุงุช ุ ุงูููุงุฐุฌ ุงูุฃูููุฉ ๐๐พ ๐ ๐จ๐ฝโ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุชูุฑูุฑู ุงูุฃุฎูุฑูู ุ ุชุญุฏุซุช ุนู ูุญุฏุฉ ุงูุทุงูุฉ ูููุญุฉ ุงูุชุญูู ุงุณุชูุงุฏูุง ุฅูู ูุชุญูู STM32F334R8T6 ุ ุงูุฐู ุชู ุฅูุดุงุคู ุฎุตูุตูุง ูุชูููุฐ ุฃูุธูุฉ ุงูุชุญูู ููุญููุงุช ุงูุทุงูุฉ ููุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทููุฑ ูุญูู ุจุงู ุนูู STM32F334: ูุจุฏุฃ ุงูุชุดุบูู ุ ุงูุญุณุงุจุงุช ุ ุงูููุงุฐุฌ ุงูุฃูููุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432778/" style=";text-align:right;direction:rtl">  ูู ุชูุฑูุฑู ุงูุฃุฎูุฑูู ุ ุชุญุฏุซุช ุนู ูุญุฏุฉ ุงูุทุงูุฉ ูููุญุฉ ุงูุชุญูู ุงุณุชูุงุฏูุง ุฅูู ูุชุญูู STM32F334R8T6 ุ ุงูุฐู ุชู ุฅูุดุงุคู ุฎุตูุตูุง ูุชูููุฐ ุฃูุธูุฉ ุงูุชุญูู ููุญููุงุช ุงูุทุงูุฉ ููุญุฑูุงุช ุงูุทุงูุฉ ุงูููุฑุจุงุฆูุฉ.  ุชู ุงููุธุฑ ูู ูุซุงู ุนูู ูุญูู ุงูุชูุงุฑ ุงููุชุฑุฏุฏ / ุงูุชูุงุฑ ุงููุชุฑุฏุฏ ุ ูุงูุฐู ูุงู ูุธุงูุฑุฉ ุ ูููุณ ุจูุงุก ููุชูู.  ุงูุขู ุญุงู ุงูููุช ููููุงู ุจุดูุก ุจุณูุท ุ ูููู ูููุฏ ุ ูุงูุฃูู ูู ุฐูู ุฃูุฌุฒ. <br><br>  ุชุฑุชุจุท ูุนุธู ุงููุดููุงุช ุงููุชุนููุฉ ุจุงููุดุฑูุน ูุฅููุชุฑูููุงุช ุงูุทุงูุฉ ุจุทุจูููุฌูุง ูุญุฏุฏุฉ: ุดุฎุต ููุชู ุจูุนุฑูุฉ ุฎูุงุฑุฒููุฉ ุงูุชุญูู ูู PFC ุ ูุฑูุฏ ุดุฎุต ูุง ุฃู ูุชุนูู ููููุฉ ุจูุงุก ุดุฑูุฉ ุฐุงุช ุฌุณุฑ ูุตู ุ ูููู ุงูุทุจูููุฌูุง ุงูุฃูุซุฑ ุดุนุจูุฉ ูู ุจูุง ุดู.  ุจุนุฏ ูู ุดูุก ุ ูุฅู ูุญูู ุจุงู (ุงููุนุฑูู ุฃูุถุง ุจุงุณู ุจุงู ุจุงู) ูู ุงููุญูู ุงูุฑุฆูุณู ููุดุงุฑูุน ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู: ูุฐุง ูู ุงูุณุงุฆู ููุตุงุจูุญ LED ุ ุฃุณุงุณ ูุญุฏุฉ ุชุญูู MPPT ููุฃููุงุญ ุงูุดูุณูุฉ ูุฃุฌูุฒุฉ ุงูุดุญู ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ. <br><br>  ุชุญุชูู ุงูุดุจูุฉ ุนูู ุงููุซูุฑ ูู ุงููุนูููุงุช ุญูู ุจุงู ุ ุจูุง ูู ุฐูู ุฃูุฑุงู ุงูุจูุงูุงุช ุ ููููุง ูุจุนุซุฑุฉ ูุฃูุง ุดุฎุตูุงู ูู ุฃุฌุฏ ููุงุฏ ุชุตู ุจุงูุชูุตูู ุนูููุฉ ุฅูุดุงุก ูุญูู ุจุงู ูุน ุงูุชุญูู ุงูุฑููู.  ุญุงู ุงูููุช ูุฅุตูุงุญูุง.  ูุง ููุฌุฏ ุนูููุง ุฃู ุฑูุงุถูุงุช ุ ูุงูุชูุณูุฑ ูู "ุนูู ุงูุฃุตุงุจุน" ุ ูุฐูู ุณูููู ูู ุงููุซูุฑ ููุงูุชูุงู ููู ุดุฎุต ูุฑุชุจุท ุจุทุฑููุฉ ูุง ุจุงูุฅููุชุฑูููุงุช. <br><br> <a href=""><img src="https://habrastorage.org/webt/j4/jp/fv/j4jpfvx10zexln6bwiv8gd6dbkc.jpeg"></a> <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br>  ุชุญุชุงุฌ ุฃููุงู ุฅูู ููู ูุง ูุฑูุฏ ุงูุญุตูู ุนููู ูู ุงูููุงูุฉ ููุง ูู ุงูุชูููุฏู ุงูุฐู ูุฏููุง.  ุทูุจูููุฌูุง ุจุงู ุชูุญูู ุ ููุฐุง ูุณูุญ ูู ุจุจูุงุก ูุญูู ุฌูุฏ ุชูุญู.  ููุง ุณุชุฑู ูุงุญููุง ุ ูุฅู ุงูุฌูุฏ ูู ุฅุฎุฑุงุฌ ูุญูู ุจุงู ูุนุชูุฏ ุจุดูู ุฎุทู ุชูุฑูุจูุง ุนูู ุงูุฌูุฏ ุนูุฏ ุงูุฅุฏุฎุงู ุ ูุฐูู ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ููุงุญุธุงุช.  ุณุฃุชุญุฏุซ ุงูููู ุนู ุงูุชุบุฐูุฉ ุงููุฑุชุฏุฉ ููุฌูุฏ ุงูุจุณูุท ุ ููู ุงูุฃูุซุฑ ุณูููุฉ ููุณูุญ ูู ุจููู ูุจุฏุฃ ุงูุชุดุบูู ุ ูู ุญูู ุฃู ูุฐู ุงูุชุนูููุงุช ูุงููุฉ ูู ูุชูููุฐ ูุนุธู ุงูููุงู. <br><br>  ูู ููุงูุฉ ุงูููุงู ุ ุณูู ูุญุตู ุนูู ูุตุฏุฑ ุฌูุฏ ุซุงุจุช ููููุง ูุทูุจูููุฌูุง "ุจุงู ุจุงู" ุงูุชู ุชุนูู ุนูู ุชุฑุฏุฏ ุนุงูู ุฅูู ุญุฏ ูุง ูุน ุงูุชุญูู ุงูุฑููู ุ ููุชู ุชูููุฐูุง ุนูู STM32F334R8T6 ุจุงุณุชุฎุฏุงู High Resolution PWM (HRPWM).  ูุทุงู ุฌูุฏ ุงูุฏุฎู ูู 15 ... 60V ุ ุงูุฌูุฏ ุงููุงุชุฌ ูู 12V ุ ูุงูุญุฏ ุงูุฃูุตู ููุฅุฎุฑุงุฌ ุงูุญุงูู ูู 2A. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุตู 1. ูุจุฏุฃ ุจุงู ุทูุจูููุฌูุง </h2><br>  ุณุฃุจุฏุฃ ูู ุงูุชุนุฑูู ุนูู ุงูุจุฏุงูุฉ ูู ุงูุฃุณุงุณูุงุช ูุณุฃุญุณูู ุชุฏุฑูุฌูุงู ุงููุญูู ูุฏููุง  "ุจุงู ุงููุชุฒุงูู" ูู ูุณุฎุฉ ูู ูุณุฎุฉ ูุญุณูุฉ ูุน ุฒูุงุฏุฉ ุงูููุงุกุฉ ูุชุนููุฏ ุงูุชุญูู.  ุงูุฅุตุฏุงุฑ ุงูุฃุณุงุณู ูู ุงููููู ุงูุฐู ุฑุจูุง ุงุณุชุฎุฏูุชู ูู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/of/mv/yq/ofmvyqyaxkystxgvsiiauznkfqs.png"><br><br>  ูุณุชุฎุฏู ูุฐุง ุงููููู ูู ูุญููุงุช ุงูุฌูุฏ ุงูููุฎูุถ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุดุบูู ุงูุฏูุงุฆุฑ ุงูุฑูููุฉ ูุบูุฑูุง ูู ุงูุฃุฌูุฒุฉ ููุฎูุถุฉ ุงูุทุงูุฉ.  ุฑุจูุง ูุชู ุชุทุจูู ุฎูุถ ุงูุนุงุตูุฉ / ุงูุนุงุตูุฉ ุงูุชู ุชุณุชุฎุฏููุง ูู ุฃุฌูุฒุชู ุนูู ุงูุฏูุงุฆุฑ ุงูุฏูููุฉ ููููุง ููุฐุง ุงููููู.  ูุซุงู ุนูู ูุฐู ุงูุดุฑูุญุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LMR16006</a> . <br><br>  ูุจุฏุฃ ุชุดุบูู ูุฐู ุงูุฏุงุฆุฑุฉ ุจุณูุท ููุบุงูุฉ ุ ูุชู ุชูููุฑ ุฅุดุงุฑุฉ PWM ุฅูู ุงูุชุฑุงูุฒุณุชูุฑ VT1 ุ ููููุณู ุงูุนูู ููุณู ุฅูู ูุฑุญูุชูู ุ ูุงูุชู ุชุชูุงูุจ ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูุฑุญูุฉ ุชุฎุฒูู ุงูุทุงูุฉ ูู ุงูุฏุงุฆุฑุฉ LC.</b>  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููู ุงูุชุฑุงูุฒุณุชูุฑ VT1 ููุชูุญูุง ููุชุฏูู ุงูุชูุงุฑ ุนุจุฑ ุงูุชุฑุงูุฒุณุชูุฑ ุฅูู ุงูุญูู ุ ููุฎุฒู ุงูุทุงูุฉ ูู ููุณ ุงูููุช ูู ุงูุณุนุฉ ุงูุญุซูุฉ ูุงูุฅุฎุฑุงุฌูุฉ: <br><br><img src="https://habrastorage.org/webt/xb/x9/fi/xbx9fi3blibz8mc6t-unq7qeaau.png"></li><li style=";text-align:right;direction:rtl">  <b>ูุฑุญูุฉ ุงูุชูุฑูุบ.</b>  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุบูู ุงูุชุฑุงูุฒุณุชูุฑ VT1 ุซู ูุจุฏุฃ ุงููุฑุญ.  Throttle - ูุฐุง ุดูุก ูุฌูุน ุงูุทุงูุฉ ุฅุฐุง ุชู ุชุทุจูู ุฅููุงูุงุช ุนููู (ูุชุญ VT1) ููุนุทูู ุจุนูุฏูุง ุฅุฐุง ุงุฎุชูุช ุงูุฅููุงููุฉ (ุชู ุฅุบูุงู VT1).  ูู ุงูููุช ููุณู ุ ูุณุนู ููุณ ููุท ูุชูููุฑ ุงูุทุงูุฉ ุ ูููู ูุชูููุฑ ูููุฉ ุงูุชูุงุฑ ูุงุชุฌุงูู ุ ูุฐูู ุ ูุงุณุชุฎุฏุงู ูุฐู ุงูุฎุงุตูุฉ ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงูุตูุงู ุงูุซูุงุฆู VD1 ูุฅุบูุงู ุงูุฏุงุฆุฑุฉ ุ ูุฃู ุงูุชูุงุฑ ูุชุฏูู ููุท ูู ุฏุงุฆุฑุฉ ูุบููุฉ: <br><br><img src="https://habrastorage.org/webt/fm/qr/z2/fmqrz2uboiwpztct_hjh9stsgws.png"></li></ul><br>  ุนูุฏูุง ุชุนุฑูุช ุนูู ูุฐู ุงูุทูุจูููุฌูุง ูู ุงูุตู ุงูุณุงุฏุณ ุฅูู ุงูุณุงุจุน ุ ูู ุฃููู ุนูู ุงูููุฑ ุณุจุจ ุนุฏู ุนูู ุงูุตูุงู ุงูุซูุงุฆู ุงูุญุงูู ูู ุงููุฑุญูุฉ ุงูุฃููู ุ ููุจุฏู ุงูุขู ุฃูู ุฃูุฑ ุดุงุฆุน ุ ููููู ุฃุนุชูุฏ ุฃูู ูู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ.  ุนูุฏูุง ูููู VT1 ููุชูุญูุง ุ ูุชู ุชุทุจูู + VIN ุงููุญุชููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ + 20V ุ ุนูู ุงููุงุซูุฏ ุงูุฎุงุต ุจุงูุฏููุฏ VD1 ุ ูุงูุฅููุงูุงุช ุงูุฃุฑุถูุฉ ุ ุนูู ุงูุชูุงูู ุ ุนูุฏ ุฃููุฏ ุงูุตูุงู ุงูุซูุงุฆู.  ููู ูุชุฏูู ุงูุชูุงุฑ ูู ุฎูุงู ุงูุตูุงู ุงูุซูุงุฆู ุ ูุฌุจ ุฃู ูููู ุนูุณ ุฐูู ุชูุงููุง: ูุฌุจ ุฃู ุชููู ุงูุฅููุงูุงุช ุงูููุฌูุฏุฉ ูู ุงููุทุจ ุงูููุฌุจ ุฃูุจุฑ ูู ุงูุฅููุงูุงุช ุงูููุฌูุฏุฉ ูู ุงููุงุซูุฏ ุ ูุจุงูุชุงูู ุ ูู ูุฑุญูุฉ ุชุฎุฒูู ุงูุทุงูุฉ ุ ูููู ุงูุตูุงู ุงูุซูุงุฆู "ูุบูููุง".  ูู ูุฑุญูุฉ ุงูุชูุฑูุบ ุ ูุบูู ุงูุตูุงู ุงูุซูุงุฆู ุงูุฏุงุฆุฑุฉ ุจุงููุนู ุ ูุง ูุนูู + VIN ุนูู ุงููุงุซูุฏ ุงูุฎุงุต ุจู ููุง "ููููู".  ุขูู ุฃู ุฃูุถุญ ุจูุถูุญ. <br><br>  ุซู ูุฌุจ ุฃู ูููู ูุฏูู ุณุคุงู: "ููุง ุงูุฌูุฏ ุณูููู ูู ุงูุฅุฎุฑุงุฌ ุ ุฅุฐุง ุทุจููุง 20V ุนูู ุงููุฏุฎูุงุชุ".  ูุงูุนุงุฏุฉ ุ ูู ุดูุก ุจุณูุท: <br><br><img src="https://habrastorage.org/webt/hv/oz/g6/hvozg6kwwhf1nekotraxpmdo2gc.png"><br><br>  ููุง ูุชุถุญ ูู ุงูุตูุบุฉ ุ ูุฅู ุฌูุฏ ุงูุฎุฑุฌ ูุนุชูุฏ ุฎุทููุง ุนูู ุนุงูู ุงููุงุฌุจ ูุฅุดุงุฑุฉ PWM ุงูุชู ูููุฑูุง ุฅูู ุงูุชุฑุงูุฒุณุชูุฑ VT1.  ุฅุฐุง ูุงู ุดุฎุต ูุง ูุง ูุนุฑู ุฃู ููุณู "ุนุงูู ุงููุงุฌุจ" ุ ููุฐู ูู ูุณุจุฉ ุงูููุช ุงูุฐู ูููู ููู ุงูุชุฑุงูุฒุณุชูุฑ ูู ุญุงูุฉ ููุชูุญุฉ ุฅูู ุทูู ุงููุชุฑุฉ.  ูููู ุฃู ูุฃุฎุฐ ูุฐุง ุงููุนุงูู ูููุฉ ูู 0 ุฅูู 1 ุฃู ูู 0 ุฅูู 100ูช.  ุนูุงูุฉ ุนูู ุฐูู ุ ุณูู ูุนูู ูุน ูุฐุง ุงูุฑูู ุงููุญุฏุฏ ุนูุฏ ุงูุชุญูู ูู ุงููุญูู ุ ูููู ูููู ุงูุฌููุฑ ุ ุฏุนูุง ูุณุชุจุฏู ูุฐู ุงูุนูุงูุฉ ูู ุงูุตูุบุฉ: <br><br><img src="https://habrastorage.org/webt/c5/ij/ax/c5ijaxxjgvlviopshgx_uumfvh4.png"><br><br>  ุชุฑุฏุฏ ุชุดุบูู ูุญูู ุจุงู ุซุงุจุช ููุชู ุชุญุฏูุฏู ุฃุซูุงุก ุงูุชุตููู ุ ูุง ูุชุบูุฑ ุฃุซูุงุก ุงูุชุดุบูู ุ ูุจุงูุชุงูู ูุฅู ุงููุชุฑุฉ (T) ุซุงุจุชุฉ.  ุงุชุถุญ ุฃู ุงูุฌูุฏ ุงููุงุชุฌ ูุนุชูุฏ ูุจุงุดุฑุฉ ุนูู ูููุชูู ุงููุงุฏูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูููุช ุงูุฐู ููุชุชุญ ููู ุงูุชุฑุงูุฒุณุชูุฑ ุงูุนููู (VT1) - ูููุง ูุงู ููุชูุญูุง ุ ุฒุงุฏุช ุงูุทุงูุฉ ุงููุชุฑุงููุฉ ูู ูุฑุดุญ LC ุ ูุจุงูุชุงูู ุ ูููู ุฌูุฏ ุงูุฎุฑุฌ ุฃุนูู ุ </li><li style=";text-align:right;direction:rtl">  ูู ุงูุฌูุฏ ุงูููุฑุจู ููุฅุฏุฎุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูููุง ุจุชุซุจูุช ุงูุชุนุจุฆุฉ ุจูุณุจุฉ 50ูช ูุชุบููุฑ Vin ูู 20 ุฅูู 40 ูููุช ุ ูุณูู ูุชุบูุฑ ุงูุฌูุฏ ุงููุงุชุฌ ุฃูุถูุง ูู 10 ุฅูู 20 ูููุช. </li></ul><br>  ุฃุนุชูุฏ ุฃู ุงูุตูุฑุฉ ุงูุนุงูุฉ ููุจุฏุฃ ุงูุนูู ูุฏ ุจุฏุฃุง ูู ุฌุฐุจูู ุ ุฏุนููุง ูุตูุญูุง ุงูุขู ููููู ูุธุฑุฉ ุนูู ุงูุชุฐุจุฐุจุงุช ุงูุญููููุฉ ููุชุญูู ูู ูุฐู ุงููุณุจุฉ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ.  ููุฏ ููุช ุจุชุฌููุน ุชุฎุทูุท ุจุงู ุงูุฐู ุชู ุชุญูููู ุจู 10 ูุงุช LED.  ููุฏ ุงุณุชุฎุฏูุช 3 ูููุงุช ูู ุงูุฐุจุฐุจุงุช ุ ูุงูุชู ูุชู ุชุถููููุง ูู ุงูููุงุท ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/xo/pd/by/xopdbyfozm6wgh3fgz8pdeuojum.png"><br><br>  <b>ุชุฌุฑุจุฉ ุฑูู 1 - ุฅุฏุฎุงู ุงูุฌูุฏ (ููู) ุซุงุจุช 20V ุ ุชุชุบูุฑ ุฏูุฑุฉ ุงูุนูู</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Vin = 20V ุ D = 25 ูช ุ Vout = D * Vin = 0.25 * 20V = 5V <br><br><img src="https://habrastorage.org/webt/i3/5k/p5/i35kp5uw2m0tsofihsydvow6xws.png"></li><li style=";text-align:right;direction:rtl">  ููู = 20V ุ D = 50 ูช ุ Vout = D * Vin = 0.5 * 20V = 10V <br><br><img src="https://habrastorage.org/webt/lg/zt/bb/lgztbbg8ztwdqwwni9zfgzrdyg4.png"></li></ul><br>  ููุง ุชุฑูู ูู ุงูุทูู ุงูููุฌู ุ ูุฅู ุงูุนูุงูุฉ ุจูู ุงูุฌูุฏ ุงููุงุชุฌ ูุฏูุฑุฉ ุงูุนูู ุตุญูุญุฉ.  ุจุงูุทุจุน ุ ูุงูุช ูุฐู ุชุฌุฑุจุฉ "ูุซุงููุฉ" ุ ูู ุงููุงูุน ุ ูุฅู ุฌูุฏ ุงูุฏุฎู ุบูุฑ ูุณุชูุฑ ููุทูู ูู ูุทุงู ูุงุณุน ุฅูู ุญุฏ ูุง.  ุฏุนููุง ุงูุขู ูุฑู ูุง ุณูููู ุงูุงุนุชูุงุฏ ุนูู ุงูุฌูุฏ ุงููุฏุฎูุงุช ูู ููุก ุซุงุจุช. <br><br>  <b>ุชุฌุฑุจุฉ ุฑูู 2 - ุงูุฌูุฏ ุงูุฅุฏุฎุงู (ููู) ูุชุบูุฑ ุ ูุฏูุฑุฉ ุงูุนูู ุซุงุจุชุฉ ูุชุณุงูู 50 ูช</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู = 15V ุ D = 50 ูช ุ Vout = D * Vin = 0.5 * 15V = 7.5V <br><br><img src="https://habrastorage.org/webt/er/at/_k/erat_kgnli3usl6pf2gnvs4tgky.png"></li><li style=";text-align:right;direction:rtl">  ููู = 20V ุ D = 50 ูช ุ Vout = D * Vin = 0.5 * 20V = 10V <br><br><img src="https://habrastorage.org/webt/u7/_1/ek/u7_1ekajdvcyhccqmttgiiiqbzy.png"></li><li style=";text-align:right;direction:rtl">  ููู = 30V ุ D = 50 ูช ุ Vout = D * Vin = 0.5 * 30V = 15V <br><br><img src="https://habrastorage.org/webt/ak/1z/na/ak1znaux-gyaj1o6uxx49ewcisu.png"></li></ul><br>  ููุฏ ุฑุฃููุง ุงูุขู ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุฃู ุฌูุฏ ุงูุฎุฑุฌ ูุนุชูุฏ ุฃูุถูุง ุฎุทููุง ุนูู ุฌูุฏ ุงูุฏุฎู ูู ุฏูุฑุฉ ุงูุนูู ุงูุซุงุจุชุฉ.  ูู ุชููู ุจุงููุนู ููู ุณุชุณุชูุฑ ุงููุฎุฑุฌุงุชุ  ูุจุฏุฃ ุงูุชุซุจูุช ุจุณูุท ูุซู ุงูุตูุบุฉ ููุณูุง - Vout ุชุจูุบ 12 ูููุชูุง ูุซุงุจุชูุง ุ ูููููุง ุชุบููุฑ ุฏูุฑุฉ ุงูุชุดุบูู ุจูุณุงุนุฏุฉ ูุชุญูู ุฏููู ุ ูุฐูู ุฅุฐุง ุฒุงุฏุช ููู ุ ุฒุงุฏุช ูููุทูุฉ ุงูุฎุฑุฌ ุฃูุถูุง ููู ูุฐู ุงููุญุธุฉ ูููู ุจุชูููู ุนุงูู ุงูุชุดุบูู ุญุชู ูุตุจุญ 12 ูููุชูุง ูุฑุฉ ุฃุฎุฑู.  ููููุง ูุฐูู ุ ุนูุฏูุง ุชููุต Vin ุ ูุจุฏุฃ ูู ุฒูุงุฏุฉ ุฏูุฑุฉ ุงูุชุดุบูู ุญุชู ูุตุจุญ ุงูุฌูุฏ Vout 12 ูููุช. <br><br>  ูุงุฐุง ุฃูุฏ ุฃู ุฃููุช ุงูุงูุชุจุงู ูู ุงููุณู ุงููุธุฑู ... ุขู ุ ูุนู!  ุจุงูุชุฃููุฏ ุฃูุช ุชุชุณุงุกู ููู ุชุญููุช PWM ุจุณุนุฉ 20 ูููุช ุจุนุฏ ุชุฑุงูุฒุณุชูุฑ ูู ููุงูุฉ ุงููุทุงู ุฅูู ุฌูุฏ ุซุงุจุช ูุน ุชููุฌุงุช ูุฒููุฉุ  ูู ุงููุงูุน ุ ุฅุฐุง ูุถุนูุง ูุณุจุงุฑ ุฃุญูุฑ ูู ูุฑุณูุฉ ุงูุฐุจุฐุจุงุช ูู ูุตุฏุฑ ุงูุชุฑุงูุฒุณุชูุฑ VT1 ุ ุงูุชุญููู ุงูุฃุฎุถุฑ ุจุนุฏ ูุฑุดุญ LC ุ ูุณูู ูุฑู ุงูุตูุฑุฉ ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/pe/3o/ox/pe3ooxj5ghth4p2ibxtpubt-rg8.png"><br><br>  ููููู ุฃู ุชุฑู ููู ูููู ูุฑุดุญ LC "ุจุชูููู" ุงูุฌูุฏ ุงููุชูุงูุจ ุฅูู ุฌูุฏ ุซุงุจุช ุ ูููู ุงูุดูุก ูู ุฃู ุงูุทุงูุฉ ุงููุฎุฒูุฉ ูู ุงูุญุซ ูุงูุณุนุฉ ูุง ูููู ุฃู ุชุณุชููู ุนูู ุงูููุฑ ุ ูุจุงูุชุงูู ูุง ูููู ุชุบููุฑ ุงูุฌูุฏ ุนูู ุงูููุฑ.  ูุญุตู ุนูู ุฐูู ูู ุงูููุช ุงูุฐู ูุตุจุญ ููู PWM ุฃูุงู ุงููุญุซ 0V ุ ูุชู ุชูููุฑ ุงูุฌูุฏ ุงููุงุชุฌ ูู ุงูุทุงูุฉ ุงููุฎุฒูุฉ ูู ุงููุฑุดุญ ุ ุงูุฐู ูุง ููุชุต ุนูู ุงูููุฑ ููููู ููุญูุงุธ ุนูู ุงูุฌูุฏ ูู ููุช ุฅุบูุงู VT1.  ูู ุดูุก ุนูู ุงูุฃุตุงุจุน ุจุงูุทุจุน ุ ุฅุฐุง ูุงู ูู ุงููุซูุฑ ููุงูุชูุงู ุงูุฎูุถ ูู ุฃุนูู ุ ูุฃูุง ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุฃูุตุญ <b>B. Yu.</b>  <b>Semenova "ุฅููุชุฑูููุงุช ุงูุทุงูุฉ: ูู ุงูุจุณูุท ุฅูู ุงููุนูุฏ"</b> ุ ููุงู ูุตู ูุงูู ุนู ุจุงู (ุงููุฑูุญูุฉ). <br><br><h3 style=";text-align:right;direction:rtl">  ุงูููุงุญ ูู ุฃุฌู ุงูููุงุกุฉ </h3><br>  ููุง ูุชุจุช ูุจู ูููู ุ ูุงูุช ูุฐู ูู ุงููุณุฎุฉ ุงูุฃุณุงุณูุฉ ูู ุงูุทูุจูููุฌูุง.  ุงูุนูุจ ุงูุฑุฆูุณู ูู ุฎุณุงุฆุฑ ูุจูุฑุฉ ูู ุงูุตูุงู ุงูุซูุงุฆู ููู.  ูุง ูู ุงูุชูุงุฑ ูู ุงูุฃูุธูุฉ ุงูุจุณูุทุฉ ุงูุชู ุชุนูู ุนูู MK ู CPLDุ  ุนุงุฏุฉู ูุง ูููู ุฎูุงู 1A ุ ูุฃุญูุงููุง 2A ุ ุฅุฐุง ูุงู ููุงู ููุน ูู ุดุงุดุฉ TFT.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณุชููู ุงูุฎุณุงุฑุฉ ุญุชู ุนูุฏ ุงุณุชุฎุฏุงู ุงูุตูุงู ุงูุซูุงุฆู ุดูุชูู 0.4V * 2A = 0.8 ูุงุท.  ูู ุญูุซ ุงููุจุฏุฃ ุ ูููู ุชุจุฏูุฏ ุงููุซูุฑ ุนูู ุญุฒูุฉ SMA / SMB ุฏูู ูุดุงูู ุ ุนูู ุงูุฑุบู ูู ุฃู ุงูุฌูุฏ ุงูููุฑุจู 3.3 ูููุช ู 2 ุฃูุจูุฑ ุ ูุง ูุฒุงู ููุฏุงู 0.8 ูููุช ููุงุกุฉ ุจูุณุจุฉ 12ูช! <br><br>  ุงูุขู ุชุฎูู ุงูุญุงูุฉ ุนูุฏูุง ูููู ุงูุชูุงุฑ ูุฏููุง ูู 20A.  ูููู ุฃู ูููู ุฌูุงุฒ ุชุญูู MPPT ููุธุงู ุทุงูุฉ FPGA ูุจูุฑูุง ูุบูุฑ ุฐูู ุงููุซูุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณุชููู ุงูุฎุณุงุฑุฉ 0.4V * 20A = 8 W!  ูุงุฐุง ูุนูู ูุฐุงุ  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ MPPT ุ ุณูููู ูุฏูู ุทุงูุฉ ุฃูู ูุฎุฒูุฉ ูู ุงูุจุทุงุฑูุฉ ุ ูู ุญุงูุฉ ุทุงูุฉ FPGA ุณุชููู 8 ูุงุท ุฅุถุงููุฉ ูู ุงูุญุฑุงุฑุฉ ุ ูุงูุชู ูุฌุจ ุฃู ุชุชุจุฏุฏ ูู ููุงู ูุง ููู ููุชุง ุงูุญุงูุชูู ูุฐุง ูู ููุฏุงู ุงูููุงุกุฉ ุงููููุฉ.  ูุง ุงูุฐู ูููู ุนูููุ  ูุฏุนููุง ูุณุชุจุฏู ุฏููุฏ VD1 ุจููุตููุช N-channel ุขุฎุฑ ููุญุตู ุนูู ูุฐู ุงูุฏุงุฆุฑุฉ: <br><br><img src="https://habrastorage.org/webt/nb/om/7b/nbom7baf8horcmhuevpeeelxkoc.png"><br><br>  ุงูุขู ูุนูู ุงูุชุฑุงูุฒุณุชูุฑ VT2 ูุตูุงู ุซูุงุฆู ุ ุฃู ุฃูู ูุฌุฑู ุงูุชูุงุฑ ุนูุฏ ุฅุบูุงู VT1.  ูู ููู ุงูุตูุงู ุงูุซูุงุฆู ุ ุงูุฐู ูุงู ูู ุงูุฅุตุฏุงุฑ ุงูุฃุณุงุณู ุ ุจุญุงุฌุฉ ุฅูู ุงูุชุญูู ุ ูุงูุขู ูุญู ูุถุทุฑูู ุฅูู ุฏูุน ููุงุฉ ุชุญูู ุฅุถุงููุฉ ุจุฅุดุงุฑุฉ PWM ูุชุญุณูู ุงูุฃุฏุงุก. <br><br>  ุฃููุงู ุ ุฏุนูุง ูุญุณุจ ููุฏุงุฑ ุชุฎููุถูุง ููุฎุณุงุฆุฑ.  ุฅู ููุงููุฉ ููุงุฉ mosfet ุงูุญุฏูุซุฉ ูู ุนุฏุฉ ููุบุง ุฃูู.  ุนูู ุณุจูู ุงููุซุงู ุ ููุฃุฎุฐ ุชุฑุงูุฒุณุชูุฑูุง ูู ูุญุฏุฉ ุงูุทุงูุฉ ุงูุฎุงุตุฉ ุจู ุ ูุงูุชู ุชุญุฏุซุช ุนููุง ูู ููุงูุงุช ุณุงุจูุฉ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">IPP083N10N5AKSA1</a> ูุน ููุงููุฉ ููุงุฉ ุชุจูุบ 8.3 ูููู ุฃูุจูุฑ.  ูุญุตู ุนูู ุฎุณุงุฆุฑ ุซุงุจุชุฉ ุชุณุงูู 0.0083 * 20A * 20A = 3.32 ูุงุท.  ุจุงูุทุจุน ุ ุณุชููู ููุงู ุฎุณุงุฆุฑ ุฏููุงููููุฉ ุ ูุงูุชู ูุน ุณุงุฆู ูุตูู ุจุดูู ููุงุณุจ ูู ูููู ุฃูุซุฑ ูู 20 ูช ุ ุฃู ุฃู ุฅุฌูุงูู ุงูุฎุณุงุฆุฑ ุจุงููุณุจุฉ ููุง ุณุชููู 4 ูุงุท.  ููุฏ ุญุตููุง ุนูู ุฃู ุงูุงูุชูุงู ูู ุจุงู ุงูุชูููุฏูุฉ ุฅูู ูุงุญุฏ ูุชุฒุงูู ูููู ุฃู ูููู ูู ููุฏุงู ุงูุตูุงู ุงูุซูุงุฆู. <br><br>  ุงูุขู ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุฅุฏุงุฑุฉ ุงูุฃูุซุฑ ุชุนููุฏูุง.  ููุง ููููุง ุจุงููุนู ุ ูุงู ุงูุตูุงู ุงูุซูุงุฆู ููููู ูุนูู ุนูุฏ ุฅุบูุงู VT1.  ูู ูุฐุง ุ ูุฌุจ ุฅุบูุงู VT2 ุนูุฏูุง ูููู VT1 ููุชูุญูุง ุ ูุจุงูุชุงูู ุ ูููู VT2 ููุชูุญูุง ุนูุฏ ุฅุบูุงู VT1.  ุฅุฐุง ูุงู ุงูุฃูุฑ ุฃูุซุฑ ุจุณุงุทุฉ ุ ูุฅู ุงูุชุฑุงูุฒุณุชูุฑุงุช ุชุนูู ุจุงูุชูุงูุจ: ุฅูุง ุฃู ูููู ุฃุญุฏููุง ููุชูุญูุง ุฃู ุงูุขุฎุฑ ุ ูุฅุฐุง ูุงู ููุง ุงูุชุฑุงูุฒุณุชูุฑุงุช ููุชูุญูุง ุ ูุณูููู ููุงู ุชูุงุฑ ูู ุฎูุงู ุ ูุฃู  ููู ูุชุฑุงุจุทุฉ ุจูู VIN ู GND.  ุฏุนููุง ูุฑู ูุง ูุฌุจ ุฃู ุชููู ุนููู ุงูุฅุดุงุฑุฉ ุ ุญูุซ "ุงูููุงุฉ ุงูุตูุฑุงุก" ูู ุงูุชุฑุงูุฒุณุชูุฑ VT1 ู "ุงูููุงุฉ ุงูุฎุถุฑุงุก" ูู ุงูุชุฑุงูุฒุณุชูุฑ VT2: <br><br><img src="https://habrastorage.org/webt/wu/bc/mo/wubcmogqwk-__w6eroszeyozsv0.png"><br><br>  ููุง ุชุฑูู ุ ุฅุฐุง ุชู ุชุนููู ุงูููุทู "1" ูู ุงูููุงุฉ ุงูุตูุฑุงุก (ุนูู VT1) ุ ููุฌุจ ุญููุฆุฐู ุชุนููู "0" ุงูููุทูู ูู ุงูููุงุฉ ุงูุฎุถุฑุงุก (ุนูู VT2).  ูุญุตู ุนูู VT1 ุงูุชู ุชุถุฎ ุงูุทุงูุฉ ูู ูุฑุดุญ LC ุ ููุบูู VT2 ุงูุฏุงุฆุฑุฉ ูู ูุฑุญูุฉ ุงูุชูุฑูุบ. <br><br>  ููุงู ููุทุฉ ุฃุฎุฑู ุณูุนุชูุง ุฃู ูุฑุฃุช ุนููุง ุฃุนูุงู - ูู <b>ุฎูุงู ุงูุญุงููุฉ</b> .  ูุงูุญูููุฉ ูู ุฃู ุงูุชุฑุงูุฒุณุชูุฑ ุงูุญูููู ุ ูููุณ ุงููุซุงูู (mosfet) ูุฏูู ุจุนุถ ุงูุณุนุฉ ุนูู ุงูุจูุงุจุฉ ุ ููุฐุง ูู ุงููุงูุน ุ ูุง ููุชูู ุนูู ุงูููุฑ ูู log.0 ุฅูู log.1 ุ ูุงูุทุงูุฉ ูู ุงูุชุฑุงูุฒุณุชูุฑ ูุง ุชุฐูุจ ุนูู ุงูููุฑ ุ ููุง ูุคุฏู ุฅูู ุงูุชุฑุงูุฒุณุชูุฑุงุช ููุชุฑุฉ ูุตูุฑุฉ ูู ููุช ุงูุชุจุฏูู ุ ูุฏ ูููู ููุงููุง ููุชูุญูุง.  ูุฐุง ูููู ุฃู ูุคุฏู ุ ูู ุฃุญุณู ุงูุฃุญูุงู ุ ุฅูู ุฒูุงุฏุฉ ุงูุฎุณุงุฆุฑ ุ ููุง ูุนูู ุงูุชุฏูุฆุฉ ุ ููู ุฃุณูุฃ ุงูุฃุญูุงู ุ ุฅูู ุจุงุจุงู ุ ูุฃู  ุฎูุงู ุงูุญุงูู ูู ูุงุณ ููุฑุจุงุฆู ูุดุชุฑู (ูุงุณ ููุฑุจุงุฆู).  ูุชุฌูุจ ุฐูู ุ ูุชู ุชูุฏูู ุชุฃุฎูุฑ ุฃู ูุง ูุณูู ุจุงูููุช ุงููููุช ุจูู ุฅููุงู ุชุดุบูู ุงูุชุฑุงูุฒุณุชูุฑ ูุชุดุบูู ุงูุขุฎุฑ.  ูุจุฏู ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/u8/wg/if/u8wgifnybpzrkjg1gfxua-w0gye.png"><br><br>  ุฃุนุชูุฏ ุฃูู ูุงุญุธุช ูุฌูุฏ ูุฌูุฉ ุตุบูุฑุฉ ูู ุญุฏูุฏ ุชุจุฏูู ุงูุฅุดุงุฑุฉ.  ููุฏ ููุช ุจุชุซุจูุชู ูุจูุฑูุง ุนู ูุตุฏ (ุญูุงูู 3ูช) ุญุชู ุชุชููู ูู ุฑุคูุชู ุ ูู ุงูุญูููุฉ ุฅูู ุฃุตุบุฑ ุจูุซูุฑ.  ุจุดูู ุนุงู ุ ูุชู ุชุนููู ููุช ุงูุชููู (ุงููุดุงุฑ ุฅููู ูููุง ููู ุจุงุณู dt) ุจุฃูุตุฑ ููุช ูููู ุ ูููู ูู ุงูููุช ููุณู ูููู ููุณูุงุญ ูุฅุบูุงู ุงูุชุฑุงูุฒุณุชูุฑุงุช.  ูููู ุญุณุงุจู ุ ุฃู ูููู ุชุญุฏูุฏู ุจุดูู ุชุฌุฑูุจู ุ ูุฃุนุชูุฏ ุดุฎุตูุงู ุฃู ูุฐุง ุงูุฎูุงุฑ ููุฐุง ุทุจูุนู ุ ููู ูู ุงููุญุชูู ุฃู ูููู ูู ุฌูุฏู ุงูููุชุญู: "ูู ุงูุถุฑูุฑู ุงูุชูููุฑ ููู ุ ูููู ูู ุงูุฃูุถู ูุถุน ูููุฐุฌ ูู!"  ูุฐุง ุตุญูุญ ุจุงูุชุฃููุฏ ุ ููู ูุฑุฑ ุจููุณู - ุฅุฐุง ูู ุชูู ูุณูููุง ุฌุฏูุง ุ ููู ุจุทุฑุงุฒ LTspice ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุญุซ ุงูุทุงุฆุด ูุงูุณุนุฉ ููููุตูุงุช ูุงูููููุงุช. <br><br>  ุจุงููุณุจุฉ ูููููู ูู ูุฐู ุงูููุงูุฉ ุ ููุช ุจุชุนููู dt ุฅูู ~ 100 ns (ูู ุงููุงูุน 104).  ุงููุญุฏุฉ ุงูุฎุงุตุฉ ุจู ุชุณูุญ ูู ุจุชุซุจูุชู ุจุดูู ุฃูู ุ ูุฃู  ูุชู ุชุทุจูู ุจุฑูุงูุฌ ุงูุชุดุบูู ุจุดูู ูุงุณู ููุบุงูุฉ ุ ูููู ุจุงูุชุฃููุฏ ุณูููู ุงููุซูุฑ ูููู ุจุชุตููู ุงููุฎุทุท ุงูุฎุงุต ุจู ุจุฏูู ูุญุฏุชู ุ ููุง ูุนูู ุฃูู ูู ุงููุญุชูู ุฃู ูููู ููุงู ูุฎุงุท.  ุญุชู ูุง ุชุชุนุซุฑ ุจุณุจุจ ุงููุฎุงุทุฑุฉ ุ ุณุฃุชุฑูู ุจูุงูุด ูุฅุฐุง ูุงู ูุฏูู ุณูู ุนุงุฏู ุนูู ุงูููุญุฉ ุ ูููููู ุฃูุช ุจููุณู ุชููููู - ุซู ูู ุงููุตู ุงูููุฌูุฏ ูู ุงูููุฏ ุณูู ุชุฑู ููู ุ ุงูุขู ุ ูุฑู ูุง ุฅุฐุง ูุงู ููุงู ุจุงููุนู: <br><br><img src="https://habrastorage.org/webt/b-/tm/ft/b-tmftfkzmq7xezwdbbd67gaxf4.png"><br><br>  ูููู ููุงุญุธุฉ ุฃู dt ุชุฏูู 2.5 ุชูุณูููุง ูุฃู ูู ูุณู ูู 40 ns ุ ููุง ูุนูู ุฃู ุงููุฏุฉ ูู ~ 100 ns ุ ููุง ูุงู ููุตูุฏูุง.  ุขูู ุฃู ุชููู ุณุจุจ ุงูุญุงุฌุฉ ุฅูู dt ุ ูุงููุฏุฉ ุงูุชู ูุฌุจ ุฃู ุชููู ูู ุงููุฏุฉ ุ ูููู ูุนูู ุงููุญูู ููููุง ูุทูุจูููุฌูุง ุจุงู.  ุฅุฐุง ูู ุชููู ุ ูุนุงุฏุฉ ูุงูุนุงุฏุฉ ุ ูุชู ูุจูู ุงูุฃุณุฆูุฉ ุงููุงุฑุฏุฉ ูู ุงูุชุนูููุงุช ู PM ูุงูุจุฑูุฏ ุ ุจูููุง ูุจุฏู ุฃููู ุฃุฌูุจ ุนูู ุงูุฌููุน. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุตู 2. ุญุณุงุจ ุงูููููุงุช ุงูุฑุฆูุณูุฉ </h2><br>  ูู ูุฐุง ุงูุฌุฒุก ูู ุงูููุงูุฉ ุ ุณุฃูุถุญ ููููุฉ ุญุณุงุจ ููููุงุช ุงูุทุงูุฉ ุงูุฑุฆูุณูุฉ ุจุณุฑุนุฉ ูุจุณุฑุนุฉ ููุญูู ุจุงู ูุชุฒุงูู ุ ููู: ุงูููุซูุงุช ูุบู ุ ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ุ ุงูุชุฑุงูุฒุณุชูุฑุงุช. <br><br>  <u>ุฏุนูู ุฃุฐูุฑู ุจุจูุงูุงุช ุงูุฅุฏุฎุงู:</u> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุงููุฉ ุงูุฌูุฏ: 15 ... 30V </li><li style=";text-align:right;direction:rtl">  ุงูุชุงุฌ ุงูุชูุงุฑ ุงูููุฑุจุงุฆู: 12V </li><li style=";text-align:right;direction:rtl">  ุงูุงูุชุงุฌ ุงูุญุงูู ุชููููู: 2A </li><li style=";text-align:right;direction:rtl">  ุชุฑุฏุฏ ุงูุชุจุฏูู: 100 ูููู ูุฑุชุฒ </li></ul><br>  ูุชู ุงุฎุชูุงุฑ ุงูุฌูุฏ ุงููุงุชุฌ ูู 12V ู  ุฃุฎุทุท ูุงุณุชุฎุฏุงู ูุตุจุงุญ 12V 20W ูุญูู ุ ูุงูุฐู ุชุจูู ุฃูู ูู ูุชูุงูู ุงููุฏ ููู ุญูู ูุงุถุญ ููุบุงูุฉ.  ุงุณุชุจุงููุง ูุฃุณุฆูุฉ "ุงูุฎุจุฑุงุก" ูู ุงูุชุนูููุงุช - ูุนู ุ ุฃูุง ูุฏุฑู ุฃู ูุคุดุฑ LED ูุญุชุงุฌ ุฅูู ุงูุชุซุจูุช ุงูุญุงูู ุ ููููุง ูููู ุจุนุฏ ุฐูู ุจุชุซุจูุช ุงูุฌูุฏ ุงูููุฑุจุงุฆู ูุฃู ูุคุดุฑ LED ูู ูุฌุฑุฏ ุนุจุก. <br><br>  ูุชู ุงุฎุชูุงุฑ ุฌูุฏ ุงูุฏุฎู ูู ุงูุฌุฑุงูุฉ ุ ููููู ุงูููุงู ุจู 15 ... 60V ุ ูุฐูู ุฅุฐุง ููุช ููุชููุง ุจูุฌููุนุฉ ูุฎุชููุฉ ุ ูููููู ุญุณุงุจ ูููุฉ ุงูููููุงุช ูููุณู.  ุชู ุงุฎุชูุงุฑ ุชูุงุฑ ูููู ูู 2A ููุญุตูู ุนูู ุทุงูุฉ ุฅุฎุฑุงุฌ ุชุตู ุฅูู 12V * 2A = 24 W ุ ุฃู ุฃูุซุฑ ุจูููู ูู ุงููุทููุจ ููุตุจุงุญ LED.  ุงูุตูุงู ููุณู ูู 12V ูุณุชููู ุญูุงูู 1.82 ... 1.9A. <br><br>  ุธูุช ุงููุนููุฉ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู - ุชุฑุฏุฏ ุงูุชุดุบูู ูููุญูู.  ูุง ููุจุบู ุฃู ููููุ  ุณูู ุชุถุทุฑ ุฅูู ุงูุฅุฌุงุจุฉ ููุง ุจููุณู ุ ูู ุญุงูุชู ููู 100 ูููู ูุฑุชุฒ.  ูุนุชูุฏ ุงูุงุฎุชูุงุฑ ุนูู ููุทุชูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุคุฏู ุงูุฒูุงุฏุฉ ูู ุงูุชุฑุฏุฏ ุฅูู ุงูุฎูุงุถ ูู ุงูุญุซ ุงูุถุฑูุฑู ูููุซู ุงููุญุซ ูุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.  ุจุจุณุงุทุฉ - ูุน ุฒูุงุฏุฉ ูู ุงูุชุฑุฏุฏ ุ ุชูุฎูุถ ุฃุจุนุงุฏ ุงูุฌูุงุฒ.  ูุน ุชูุงูุต ุงูุชุฑุฏุฏ ุ ุชุฒุฏุงุฏ ุงูุฃุจุนุงุฏ. </li><li style=";text-align:right;direction:rtl">  ุงูุฎูุงุถ ูู ุงูุชุฑุฏุฏ ูุคุฏู ุฅูู ุฒูุงุฏุฉ ูู ุงูููุงุกุฉ ุ ููุฐ ุฐูู ุงูุญูู  ูุชู ุชูููู ุงูุฎุณุงุฆุฑ ุงูุฏููุงููููุฉ ุนูุฏ ุชุจุฏูู ุงูุชุฑุงูุฒุณุชูุฑุงุช.  ุฒูุงุฏุฉ ุงูุชุฑุฏุฏ ูุฒูุฏ ุงููููู ุงูุฏููุงูููู ููุชุฑุงูุฒุณุชูุฑุงุช ูุจุงูุชุงูู ูููู ูู ุงูููุงุกุฉ. </li></ul><br>  ุงูุขู ูู ุฃูุงูุด ุงุฎุชูุงุฑ ุงูุชุฑุฏุฏ ุ ููุท ุงูุชุฑุถ ุฃู 100 ูููู ูุฑุชุฒ.  ุจุนุฏ ุนุฑุถ ูููุฌูุฉ ุงูุญุณุงุจ ุ ุณูุนูุฏ ุฅูู ูุฐุง ุงูุณุคุงู ุ ูุฃู  ููููุง ููุตูุบ ุ ุณูููู ุงุนุชูุงุฏ ุชุตูููุงุช ุงูููููุงุช ุงูุฑุฆูุณูุฉ ุนูู ุชุฑุฏุฏ ุงูุชุดุบูู ุฃูุซุฑ ูุถูุญูุง. <br><br>  <b>ุงูุฎุทูุฉ 1. ุงุฎุชูุงุฑ ุงูุชุฑุงูุฒุณุชูุฑุงุช</b> <br><br>  ุณููุชู ุจุดูู ุฃุณุงุณู ุจุซูุงุซุฉ ูุนููุงุช: ุงูุญุฏ ุงูุฃูุตู ููุฌูุฏ "ูุตุฏุฑ ุงูุตุฑู" ุ ูููุงููุฉ ุงูููุงุฉ ูู ุงูุญุงูุฉ ุงูููุชูุญุฉ ูุณุนุฉ ุงูุจูุงุจุฉ.  ูุชู ุชุทุจูู ุงูุฅููุงูุงุช ุงููุงููุฉ ููุตุฏุฑ ุงูุฌูุฏ (Vin) ุนูู ุงูุชุฑุงูุฒุณุชูุฑ ุ ูููุงู ุฃูุถูุง ุทูุฑุงุช ูู ููุช ุงูุชุจุฏูู.  ูุฏูู ุฎูุงุฑุงู: ุฎุฐ ุงูุชุฑุงูุฒุณุชูุฑ VT1 ู VT2 ุจูุงูุด ุฌูุฏ ุฃู ูุตุฉ ุฌูุงุฒ sn RC ูู VT2.  ูู ุญุงูุชู ุ ุชุญุชูู ูุญุฏุฉ ุงูุทุงูุฉ ุนูู ุชุฑุงูุฒุณุชูุฑุงุช 100 ูููุช ุ ูุจูุฏุฎู 30 ูููุช ุ ููุซู ูุฐุง ูุงูุดูุง ูุจูุฑูุง ูู ุงูุฌูุฏ ุ ุญุชู 60 ูููุช ูุงู ูุงูููุง ููุงุณุชุบูุงุก ุนู ุงูุณูุงููุฑ ูุญูุงูุฉ ุงูุชุฑุงูุฒุณุชูุฑ ูู ุงูุงูููุงุฑ. <br><br>  ููุงุฉ ุงูููุงููุฉ - ุฃุตุบุฑ ูููุง ูุงู ุฐูู ุฃูุถู ุ ูููู ููุงู ูุงุญุฏ ูููู.  ูุน ุงูุฎูุงุถ ูู ููุงููุฉ ุงูููุงุฉ ุ ูููู ุจุชูููู ุงูุฎุณุงุฆุฑ ุงูุซุงุจุชุฉ (I <sup>2</sup> * R) ุ ููู ุงูุชูููููุฌูุง ุชุฒูุฏ ูู ุฒูุงุฏุฉ ุณุนุฉ ุงูุจูุงุจุฉ ุ ููุฐุง ูุคุฏู ุฅูู ุฒูุงุฏุฉ ูู ุงูุฎุณุงุฆุฑ ุงูุฏููุงููููุฉ.  ุนููู ุฃู ุชุฌุฏ ุฃุฑุถูุฉ ูุณุท ุจูู "ููุงููุฉ ุงูููุงุฉ" ู "ุณุนุฉ ุงูุบุงูู".  ุจุงููุณุจุฉ ุฅูู ุงููููุชูุฉ ุงูุชู ุชุตู ุฅูู 100 ูููุช ุ ุฃูุตุญู ุฃู ุชูุชุจู ุฅูู ุงูุชุฑุงูุฒุณุชูุฑุงุช ุณูุณูุฉ Infineon OptiMOS ุ ูุฃูุธุฑ ุจุงููุนู ูู ุงููููุชูุฉ ุงูุนุงููุฉ ุจููุณู ูู ุฎูุงู ุงูุจุญุซ ุญุฏูุฏู ุฃู ุญุชู ุจุงุชุฌุงู ุงูุชุฑุงูุฒุณุชูุฑุงุช IGBT.  ูุชู ุฏุนู ูุฐุง ุงูุฃุฎูุฑ ุฃูุถูุง ุจูุงุณุทุฉ ูุญุฏุฉ ุงูุทุงูุฉ ุงูุฎุงุตุฉ ุจู ููุง ุชุชุทูุจ ุฃู ุชุบููุฑุงุช ุนูู ุจุฑูุงูุฌ ุงูุชุดุบูู. <br><br>  <b>ุงูุฎุทูุฉ 2. ุญุณุงุจ ูุญุงุซุฉ ูุญุซ</b> <br><br>  ูู ุงูุถุฑูุฑู ุญุณุงุจ ุงูุญุฏ ุงูุฃุฏูู ููููุฉ ุงูุญุซ ุ ูุงูุฐู ุณูุชูุญ ููุญูู ุงูุชูุงุฑ ุงููุณุชูุฑ / ุงููุณุชูุฑ ูุฏููุง ุงูุนูู ูู ุงููุถุน ุงูุญุงูู ุงููุณุชูุฑ (L <sub>min</sub> ): <br><br><img src="https://habrastorage.org/webt/mj/np/-j/mjnp-jzmvy7qfodji_da3ryjeya.png"><br><br>  ูู ุญูุซ ุงููุชุบูุฑุงุช ุ ุฃุนุชูุฏ ุฃู ูู ุดูุก ูุงุถุญ ุจุงุณุชุซูุงุก - k <sub>ind</sub> .  ูุฐู ูู ุงูุชูุงุฑุงุช ุงููููุฌ ุงููุณููุญ ุจูุง ูู ุงููุญุซ ุ ูุนุงุฏุฉ ูุง ุชุฎุชุงุฑ ูููุฉ 20 ... 50 ูช ุ ููููู ุฏุงุฆูุง ุชูุฑูุจุง ุชุนููู 30 ูช.  ูููุง ูุงูุช ุชููุฌ ุงูุชูุงุฑ ุฃุตุบุฑ ุ ูููุง ููุง ุจุนูุฏูุง ุนู ุญุฏูุฏ ุชุดุจุน ุงูููุจ ุงูุฐู ุฃุตูุจ ุนููู ุงููุญุซ ุ ูููู ููุง ูุชุถุญ ูู ุงูุตูุบุฉ ุ ููุงู ุญุงุฌุฉ ุฅูู ูุญุซ ูุจูุฑ ูููุญุซ. <br><br>  ุงูุขู ูุญุณุจ ุงูุญุฏ ุงูุฃุฏูู ููููุฉ ุงูุญุซ ุ ูุงูุชู ุณุชููู ุถุฑูุฑูุฉ ูุจูุงูุงุช ุงูุฅุฏุฎุงู ุงูุฎุงุตุฉ ุจู ุ ูุชููุฌ ุณุฃุถุน 30 ูช ููุง ูุชุจุช ุฃุนูุงู: <br><br><img src="https://habrastorage.org/webt/ri/t9/2h/rit92hfsubagcqaozaebmcl7alw.png"><br><br>  ูุฌุจ ุฃู ูููู ูููููุง ุฃู ูุฐุง ูู ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุญุซ ุงููุทููุจ ููุญูู ุจุงู ููุนูู ูู ูุถุน ุงูุชูุงุฑุงุช ุงูุชู ูุง ุชููุตู ุ ูููู ูุฑุฉ ุฃุฎุฑู ููุงู ูุงุฑู ุจุณูุท.  ูู ุนูููุฉ ุฒูุงุฏุฉ ุงูุชูุงุฑ ุงููุคุซุฑ ูู ุงููู ุ ููุงุฐูุฉ ุงูููุจ ููุญุซ ุงูุญุซ ุฏูู ุงูุชูุงุฑ ูุงูุชูุงุฑ ูุฎุชููุงู ุฅูู ุญุฏ ูุง ุ ูุฎุชูู ุงูุงุนุชูุงุฏ ุนูู ุงูููุงุฏ ุงููุฎุชููุฉ.    ,          L <sub>min</sub>  dc/dc      ,    ,        .    10-15%     Kool Mu,       . <br><br> <b> 3.    </b> <br><br>        ยซยป,           ,       ,    .       R26/14/11 (R โ  ,   โ )   Kool Mu   60,         โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุจููุณ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><img src="https://habrastorage.org/webt/kc/mp/e1/kcmpe19wpeprrdiz0qznmnefxyk.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุชุญุชุงุฌ ุฅูู ุญุณุงุจ ุนุฏุฏ ุงูููุนุทูุงุช ูุงูุฃุณูุงู ุงูุชู ุชุญุชุงุฌ ุฅูู ุงูุฑูุงุญ. ููุจุฏุฃ ุจุนุฏุฏ ุงูุฃุฏูุงุฑ ุฑุจูุง. ููุงู ูุซู ูุฐู ุงููุนููุฉ ูุฑูุญุฉ ูู ูุซุงุฆู ูุจ - A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุงูุชู ุชุณุงูู 75 ูุงูููุชุฑ / ุจุฏูุฑู </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ููุง ุจุนูุงูุฉ - ูุชุญูู ูู ูุฑุจุน! ููุนุซูุฑ ุนูู ุงูุญุซ ุงูุฃุณุงุณู ุ ุงุถุฑุจ A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏุฏ ุงูููุนุทูุงุช ูู ุงููุฑุจุน. ูู ููุง ุ ุชุจุฏู ุตูุบุฉ ุงูุนุซูุฑ ุนูู ุนุฏุฏ ุงูููุนุทูุงุช ููุง ููู: </font></font><br><br><img src="https://habrastorage.org/webt/ls/dn/zr/lsdnzrojp7ab0aijmv46pxllh0q.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุญุตูู ุนูู ุงูุญุฏ ุงูุฃุฏูู ุงููุทููุจ ูู ุงูุญุซ ุ ูู ุงูุถุฑูุฑู ุฃู ูุชู ุชุดุบูู 40 ุฏูุฑุฉ ุ ููู ููุง ูุงูุดูุง ุจุงููุนู ุ ูู ุงูุถุฑูุฑู ุฒูุงุฏุฉ ุงูุญุซ ููููุงู ุ ุฏุนูุง ูุถูู 3 ุฏูุฑุงุช. ูุฃุฎุฐ ุงูุญููุฉ ูุงูุฑูุงุญ 43 ุงูููุนุทูุงุช ุ ูุญุตู ุนูู ูุซู ูุฐุง ุงูุฎูู:</font></font><br><br><img src="https://habrastorage.org/webt/un/5e/ij/un5eijbi_ksbefygjbn4pkrckli.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ูู ุฃุฌู ุงูุงูุชูุงู ุ ูุญุณุจ ูุง ูุฌุจ ุฃู ูุชุญูู </font></font><br><br><img src="https://habrastorage.org/webt/rj/yl/mm/rjylmmkynrrleoebfmoilq1oyzm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุซ: </font></font><br><br><img src="https://habrastorage.org/webt/tm/ze/qj/tmzeqjuzno3yp3tkpkcmy8jozoa.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุซูููุฉ ุ </font><font style="vertical-align: inherit;">ูุชุญูู ูู ูุญุงุซุฉ ุงููุญุซ </font><font style="vertical-align: inherit;">ุจุงููููุท </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">137 ฮผH ุ ุนุธูู! ุชูุงุฑุจุช ุงููุชุงุฆุฌุ ุฎุทุฃ ูู ุญุฏูุฏ ยฑ 8ูช ุฅูู A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ููุง - ุฅุฐุง ูู ููู ูุฏูู ุงููุฏุฑุฉ ุนูู ููุงุณ ุงูุญุซ ุ ุซู ูุง ุชุดุชุฑู ุงูููู ูู ุฃุฌู aliexpress ุ ูู ChiDa ุ ุงูููุจููุชุฑ ูุงูุฅููุชุฑูููุงุช ูุบูุฑูุง ูู "ุงููุทุงุนู" - ููุงู ูุฑุตุฉ ููุญุตูู ุนูู ุฌููุฑ ูู ูุงุฏุฉ ุฃุฎุฑู ุฃู ูุน ููุงุฐูุฉ ุฎุงุทุฆุฉ ุ ูููู ูุน ูุถุน ุงูุนูุงูุงุช ุงูุตุญูุญุฉ - ุงูุชุญูู ูููุง. ูู ุฏูู ุงููุฏุฑุฉ ุนูู ููุงุณ ุงูุญุซ ุ ููู ุชุชููู ูู ุงูุชุญูู ูู A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุชููู ูุงุฏุฑูุง ุนูู ุชุนุฐูุจ ููุณู ุจุญุซูุง ุนู ุณุจุจ "babakh" ุงูุฎุงุต ุจุงููุญูู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุทุฑุญ ุณุคุงูุงู ูุนูููุงู - "ูู ุณูููู ูุฏููุง ูุง ูููู ูู ุงูููุงุฉ ูุฃุจุนุงุฏูุงุ ุฑุจูุง ูุงู ูู ุงูุถุฑูุฑู ุฃูุซุฑ ูู ุฐููุ ". ุจุงููุณุจุฉ ุฅูู ูุงุฏุฉ Kool Mu ุ ูุจูุบ ุงูุญุฏ ูู ุงูุญุซ ุงููุบูุทูุณู 0.5 ุทู ุ ููู ุงูููุงุฑุณุฉ ุ ูู ุงูุฃูุถู ุนุฏู ุงูุฒุญู ุฅูู ูุง ูุฑุงุก ุนุชุจุฉ ุชุฒูุฏ ุนู 0.45 ุทู ุฏูู ุฃู ูููู ุฐูู ุถุฑูุฑููุง ุจุดูู ูุงุถุญ. ุงุชุถุญ ุฃู ุงูุฌุฑุญ ุงูููููุจ ุนูู ุงูููุจ ููุณ ูู ุงูุถุฑูุฑู ุฃู ูุญุฏุซ ุชุญุฑูุถูุง ูู ูู ููุทุฉ ูู ุงูููุงุฉ ุจุฃูุซุฑ ูู 0.45 ุทู ุ ูุฐูู ูุญู ูุชุญูู ูู ุฐูู: </font></font><br><br><img src="https://habrastorage.org/webt/1w/vf/me/1wvfmenl-jqsxqbnhsj-itnzgoe.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุชุฑูู ุ ูุฅู ูููุฉ ุงูุญุซ ุงููุบูุงุทูุณู 0.06 T ุฃูู ุจูุซูุฑ ูู ุงูุญุฏ 0.5 T. ูููู ุงุณุชุฎูุงุต ุงุณุชูุชุงุฌูู ูู ูุฐุง: ุฃููุงู ุ ูู ูุฐูุจ ุงูุฎุงูู ุฅูู ุงูุชุดุจุน ุ ูุซุงูููุง ุ ุงูููุงุฉ ูุจูุฑุฉ ุฌุฏูุง ููููุฉ ูู ุงุชุฎุงุฐ ุญููุฉ ุฃุตุบุฑ ูุซูุฑูุง. ุฃุฎุฐุช ุญููุฉ R26 ุจุจุณุงุทุฉ ูุฃู ูุฏู ุตูุฏูููุง ุจุงููุงูู ุ ูุง ููุฌุฏ ูุนูู ุณุฑู ุขุฎุฑ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจูู ุชุญุฏูุฏ ุฃู ุฌุฒุก ูู ุงูุณูู ุณูุฃุฎุฐ ูููุญุซ. ุฃููุงู ุ ุฃูุตุญู ุจุดุฏุฉ ุจุนุฏู ุฃุฎุฐ ุณูู ูุจูุบ ูุทุฑู ุฃูุซุฑ ูู 1 ... 1.2 ูู ูู ูุซู ูุฐู ุงูุชุฑุฏุฏุงุช ุงูุนุงููุฉ ุ ูุฃู ุชุฃุซูุฑ ุงูุฌูุฏ ุจุงููุนู ูู ุชุฃุซูุฑ ูุจูุฑ ููููู ูู ุงูููุทุน ุงูุนุฑุถู ุงููุนุงู. ุซุงููุงู ุ ูุฌุจ ุชุญุฏูุฏ ุงููุซุงูุฉ ุงูุญุงููุฉ ูู ุงูุณูู ุงุณุชูุงุฏูุง ุฅูู ุธุฑูู ุงูุชุจุฑูุฏ ูุงูุทุงูุฉ. ูู ุงูููู ุงูููุฎูุถุฉ (ุญุชู 10-20 ูุงุท) ุ ููููู ูุถุน ูุซุงูุฉ ุชูุงุฑ ุจุฃูุงู ูุฏุฑูุง 8..10 A / mm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุชู ุจุฏูู ุชุฏูู ุงูููุงุก. ุนูุฏ ุชุดุบูู ูุง ูุตู ุฅูู ุนุฏุฉ ูููููุงุช ุ ูู ุงูุฃูุถู ูุถุน ุงููุซุงูุฉ ุงูุญุงููุฉ ูู ุญุฏูุฏ 5 ... 6 A / mm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุนูุฏ ุงููุฏุฑุฉ ูู 10 ูููู ูุงุท ูุตุงุนุฏุงู ุณูููู ูู ุงููุนููู ุชุฎููุถ ุงููุซุงูุฉ ุงูุญุงููุฉ ุฅูู 3 ... 4 A / mm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุชูุงูู ูุฏู ูุงู ุณูู ูููุน ูุทุฑู 0.8 ูู. ุงูููุทุน ุงูุนุฑุถู ุ ุนูู ุงูุชูุงูู ุ ูู ~ 0.5 ูู </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุนูุฏ ุชูุงุฑ 2A ุ ูุญุตู ุนูู ูุซุงูุฉ ุชูุงุฑ ูู ูู ุญูุงูู 4 A / mm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูููููู ุงุณุชุฎุฏุงู ุณูู ูุญุชูู ุนูู ูุตู ุงูููุทุน ุงูุนุฑุถู ุ ููู ุฌููุฑู ูุจูุฑ ุจูุง ูููู ุ ูุจุงูุชุงูู ูุฅู ุณูู ุงูููุทุน ุงูุนุฑุถู ุงูุฃูุจุฑ ููุงุณุจ ุฏูู ุฃู ูุดุงูู. ุนูุฏูุง ุชููู ุจุชุญุณูู ุฌูุงุฒู ุ ุณูุชุนูู ุนููู ุฃููุงู ุงูุงุนุชูุงุฏ ุ ุซู ุดุฑุงุก ุณูู ุงูููุทุน ุงูุนุฑุถู ุงููุทููุจ ุ ุซู ููููู ุงูุญุตูู ุนูู ุงูุฃุจุนุงุฏ ุงููุซูู ูููุญุซ. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุทูุฉ 4. ุญุณุงุจ ููุซู ุงูุฅุฎุฑุงุฌ</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงููุฑุญูุฉ ุ ููุง ูู ุญุงูุฉ ุงูุญุซ ุ ุณููุธุฑ ูู ุงูุญุฏ ุงูุฃุฏูู ููููุฉ ุงูุณุนุฉ ุงูุชู ูุฌุจ ุชุซุจูุชูุง ูู ูุฑุดุญ LC ุนูุฏ ุฅุฎุฑุงุฌ ูุญูู ุจุงู. ููููุง ูุฐูู ุ ุฅุฐุง ููุช ุจุชุซุจูุช ุงููุฒูุฏ ุ ูุณูููู ุฃูุถู ููู ุซู ูุนุฑูุฉ ุงูุณุจุจ. ุฏุนูุง ูุญุณุจ ุงูุณุนุฉ: </font></font><br><br><img src="https://habrastorage.org/webt/qn/_v/sf/qn_vsfifikijddrrspohgtod9a8.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ูุฌุจ ุฃู ุชูุถุน ุงูุณุนุฉ ุฃูุถูุง ูุน ุจุนุถ ุงููุงูุด ุ ุฎุงุตุฉู ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูุณูุฑุงููู ููุท ูู ูููุฐ ุงูุจูุน ุ ูุฃู ูุชู ุชูููู ูุฏุฑุชูุง ุฅูู ุญุฏ ูุจูุฑ ุงุนุชูุงุฏูุง ุนูู ุงูุฌูุฏ ุงููุทุจู ุนูููุง. ูุฌุฏุฑ ุงูุงูุชุจุงู ุฃูุถูุง ุฅูู ุงูุงุนุชูุงุฏ ุนูู ุงููุจุถุงุช - </font><sub><font style="vertical-align: inherit;">ูุจุถ</font></sub><font style="vertical-align: inherit;"> V ุงููุชุบูุฑ</font></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐุง ูู ุงูุญุฏ ุงูุฃูุตู ููููุฉ ุชููุฌ ุนูุฏ ุงูุฅุฎุฑุงุฌ ุ ููุฐุง ูู ุ ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุจุณุนุฉ 147.8 ุฏุฑุฌุฉ ููุฑููุงูุช ุ ูุณุนุฉ ุชููุฌ ุณูููู 0.2V ุ ููุฐุง ูู ุ ุณูู ุชุทูู ุงูุฌูุฏ ุงููุงุชุฌ ูู ุงููุทุงู 11.9 ... 12.1V. ุชุฑูุฏ ุชูููู ุชููุฌุ ุซู ูู ุจุชูููููุง ูู ุงูุตูุบุฉ ูุณุชุฒุฏุงุฏ ูููุฉ ุงูุณุนุฉ ุงููุงุชุฌุฉ ููููุง ูุฐูู ุ ุจุงูุทุจุน ุ ูู ุชุญุตู ุนูู ูุตุฏุฑ ุทุงูุฉ ูุฎุชุจุฑู ุจุจุณุงุทุฉ ุนู ุทุฑูู ุฒูุงุฏุฉ ุณุนุฉ ุงูุฅูุชุงุฌ. ูู ุงูุถุฑูุฑู ุฃูุถูุง ูุฑุงุนุงุฉ ุงูุญุงุฌุฉ ุฅูู ูุฌูุฏ ESR ููุฎูุถ ุ ูููุฐุง ุนุงุฏุฉู ูุง ูุถุนูู 1-2 ุดูุงุฑุฏ ูู ููุงุฒุงุฉ ููุนูููู ุณูุฑุงููู ุนูููุง ูู ุนุฏุฏ ูููู ูู microfarads ูุน ุนุงุฒู X7R ุ ูููุถู. ุฅุฐุง ุณูุญุช ุงูููุฒุงููุฉ ุ ููู ุงููููู ุงุณุชุจุฏุงู ููุซู ููุฑุจุงุฆูุง ูุน ุงูุชูุชุงููู ุงูุจููููุฑ (ููุง ูู ุงูุญุงู ูู GPU) ุ ูุจุงูุชุงูู ููุณุช ููุงู ุญุงุฌุฉ ุงูุณูุฑุงููู ุ ูุฏููู ESR ุตุบูุฑุฉ. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุนุชุจุงุฑุงุช ุงูุชุฑุฏุฏ</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ููุง ููุช ุ ุณูู ูุนูุฏ ุฅูู ูุณุฃูุฉ ุงุฎุชูุงุฑ ุชุฑุฏุฏ ุงูุชุดุบูู ูููุญูู. </font><font style="vertical-align: inherit;">ุงุณูุญูุง ูู ุฃู ุฃูุณู ุงูุงุณุชูุชุงุฌุงุช ุฅูู ุจุนุถ ุงูุฃููุงุฑ:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุง ุชุฑู ูู ุงูุตูุบุฉ ุ ูุธูุฑ ุงูุชุฑุฏุฏ ุ ููููุง ุฒุงุฏ ุชุฑุฏุฏ ุงูุชุดุบูู ุ ูููุง ูุงู ูู ุงูุถุฑูุฑู ุฎูุถ ูุญุงุซุฉ ุงููุญุซ ุ ูุณูุชุนูู ุงูุชูููู ูู ุงูููุนุทูุงุช - ูุญูุธ ุนูู ุงููุญุงุณ ููุจุณุท ุชุตููุน ููุชุฌุงุช ุงูููุก </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฌุฏ ุงูุญุซ ูุนุฏุฏ ุงูููุนุทูุงุช ูู ูุนุงุฏูุฉ ุญุณุงุจ ุงูุญุซ ุงููุบูุทูุณู ุ ุนูู ุงูุฑุบู ูู ุฃูู ุชุชุฐูุฑ ุ ูุฅู ุงูุญุซ ูู ุงุนุชูุงุฏ ูู ุงูุฏุฑุฌุฉ ุงูุซุงููุฉ ุนูู ุงูููุนุทูุงุช ุ ููุง ูุนูู ุฃูู ุนูุฏูุง ูุชู ุชูููู ุนุฏุฏ ุงูููุนุทูุงุช ุจูุนุฏู ูุฑุชูู ุ ูุฅู ุงููุญุงุซุฉ ุชูู ุจููุฏุงุฑ 4 ูุฑุงุช. </font><font style="vertical-align: inherit;">ููุชุฑุชุจ ุนูู ุฐูู ุฃูู ูุน ุฒูุงุฏุฉ ุงูุชุฑุฏุฏ ุ ููุฎูุถ โโุงูุญุซ ููููุฉ ุงูุญุซ ุงููุบูุทูุณู ุ ููุง ูุนูู ุฃูู ูููู ุงุณุชุฎุฏุงู ููุงุฉ ุฃุตุบุฑ ุ ุฃู ุฃููุง ูุฎูุถ ุงูุฃุจุนุงุฏ</font></font></li><li style=";text-align:right;direction:rtl">      ,     โ     ,     ,    .  ! </li><li style=";text-align:right;direction:rtl">   โฆ  ,              .          buck-  mosfet-  200   .    ( )   ?     GaN     </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุชูุฏ ูู ูุฐู ุงูุฃุทุฑูุญุงุช ุฃูู ุฃุตุจุญ ูู ุงููุงุถุญ ูู ูุง ูุคุซุฑ ุนูู ุชุฑุฏุฏ ุงูุชุจุฏูู ุ ูุงูุขู ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ููููุฉ ุงูุนุซูุฑ ุนูู "ุงููุนูู ุงูุฐูุจู" ุจูู ุงูุฎุณุงุฆุฑ ูู ุงูุชุฑุงูุฒุณุชูุฑุงุช ูุญุฌู ุงูุฌูุงุฒ ุจููุณู. </font><font style="vertical-align: inherit;">ูู ุฃุญุฏ ุงูููุงูุงุช ุงูุชุงููุฉ ุ ุณุฃุนููู ุชุญุณูู ูุชูุฑุฉ ุงูุชุดุบูู ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูููุงุกุฉ ุ ุงูุดูุก ุงูุฑุฆูุณู ูู ุฃูุง ููุณู ุฃููู ููุช ุณุฃูุนู ุฐูู.</font></font><br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุตู 3. ุชุฌููุน ุชุฎุทูุท ูุญูู ุจุงู </font></font></h2><br> ,  ,  ,  ,     .         .            : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   STM32F334</a> .                IR2110,       : STM32-Discovery, LaunchPad, Arduino           ,    ,          buck-. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ููุฌุนู ูุฎุทุท ุจุงู ุฃูุซุฑ ูุงูุนูุฉ ูู ุฎูุงู ุฅุถุงูุฉ ููู ุฌููุน ุงูููููุงุช ุฅููู ูุชุนูุณ ุนุฏุฏ ุงูููุซูุงุช ุจุดูู ุตุญูุญ ุ ููุฐูู ูุงุญุธ ุงูุฌุฒุก ุงูุฐู ูููู ุฃู ุชุฏุฑูู ูุญุฏุฉ ุงูุทุงูุฉ ุงูุฎุงุตุฉ ุจู:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/bo/qw/hx/boqwhxzou-myasxcamvspvq_oac.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุชุฑูู ูู ุงูุฑุณู ุงูุชุฎุทูุทู ุ ุชุญุชูู ุงููุญุฏุฉ ุจุงููุนู ุนูู ุฌุณุฑ ูุตู (ุงุซููู ูู ุงูุชุฑุงูุฒุณุชูุฑุงุช) ูุชูููุฐ ุจุงู ูุชุฒุงูู ูููุซู ูุฏุฎูุงุช ุ ุจุงูููุงุณุจุฉ ุ ููุฌุฏ ูู ุงููุญุฏุฉ ุจูุงูุด ูุจูุฑ - ููุงู 3 ุฅููุชุฑูููุชุงุช ููู 1000 UF ู 100 V ุ ููุฐุง ูููู ูุชุฌููุน ุจุงู ุจุณูููุฉ -800 ูุงุท ูุจูู ููุง ุฃู ูุถูู ุฎูููุง ุ ูููุง ุจุชุตููุนู ุจุงููุนู ูุฅูุชุงุฌ ุงูููุซูุงุช ุ ูุงูุฃุฎูุฑ ุฃูุถูุง ุจุงูููุงุณุจุฉ ุ ูุฃู ููุฏ ูุฌุฏุช ููุท 4700 UF 25V ููุฌูุฏ ุงูููุฎูุถ ุ ููููุง ููุน ูู ุงูุตูููุฉ ุ ูุฐูู ูุฑุฑุช ุฃูุถูุง ุฃู ุฃููู ุจููุงุฒุงุฉ ุฒูุฌูู. ูู ุงููุงูุน ุ ููุงู ูุง ูููู ูู 470 ูุญุฏุฉ ูู ูุญุฏุงุช ุงูุตูุช ููุงู ุ ููู ูู ููู ูุฏู ูุซู ูุฐุง ุงูุชุงูู ูู ุฅุตุฏุงุฑ ุงููุฎุฑุฌุงุช. ุงุชุถุญ ูุฐุง ุงูุชุตููู:</font></font><br><br><img src="https://habrastorage.org/webt/sh/_r/ku/sh_rkup3otnnyiokil-egegoena.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุชู ุงุณุชุฎุฏุงู ูุตุจุงุญ LED ููู 20 ูุงุท ูุญูู. </font><font style="vertical-align: inherit;">ูุง ุฃุนุฑู ููุฏุงุฑ ุงูุถูุก ุงูุฐู ูุถูุก ุ ููู ููุณ ููุชุนูุง ููุบุงูุฉ ุ ูููู ูุณุชููู ููุท 21 ... 22 ูุงุท ูู 12 ูููุช ุงูุฐู ุชู ุชุตููู ูุญูู ุจุงู ุงูุฎุงุต ุจู. </font><font style="vertical-align: inherit;">ุบุทู LED ููุณู KPT-8 ูุฑุจุทู ุจุงูุฑุงุฏูุงุชูุฑ ุ ุจุงูุทุจุน ูุง ูููู ุ ูููู ูุฏูู ููุฏุฉ 5 ุฅูู 7 ุฏูุงุฆู ุฏูู ูุดุงูู (ูุตู ุงุฑุชูุงุนู ุฅูู +40 ... 50 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุฑุฌุฉ</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฆููุฉ) ุ ููุณุช ุจุญุงุฌุฉ ุฅูู ุงููุฒูุฏ. </font><font style="vertical-align: inherit;">ูููู ุจุชูุตูู 2 HRPWM ุ ุฅุดุงุฑุงุช GND ูู ูุญุฏุฉ ุงูุชุญูู ุ ููู ุฎูุงู ุงููุงุตู ุ ูููู ุจุชูุตูู ุฎุฑุฌ ุจุงู ุฅูู ADC ุ ููุชูุฌุฉ ูุฐูู ุ ูุฏููุง ูุซู ูุฐุง ุงููููู:</font></font><br><br><img src="https://habrastorage.org/webt/dl/ll/9v/dlll9v0povwnn86na34l1z1nvtc.jpeg"><br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุตู 4. ูุชุงุจุฉ ุงูุจุฑุงูุฌ ูุจุฏุก ุงููุญูู </font></font></h2><br>  ุงูุขู ูุฏููุง ูู ูุง ูุญุชุงุฌู ูุจุฏุก ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุชูุดูุท ูุญูู ุจุงู ูุฏููุง.  ุฃููุงู ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุญุฏุฉ ุงูุชุญูู ูู ูุชุญูู STM32F334R8T6 ุ ุงูููุฌูุฏ ูู ูุญุฏุฉ ุงูุชุญูู: <br><br><img src="https://habrastorage.org/webt/bw/0i/ao/bw0iaobhw935ug8xttkq_q73uio.png"><br><br>  ุงูุขู ูุญู ูููู ุฃู ุฏุจุงุจูุณ ูุชุญูู ุณูุชู ุงุณุชุฎุฏุงููุง.  ูู ุงููุญุฏุฉ ุงูููุทูุฉ ููุณูุง ุ ุฃุญุชุงุฌ ุฅูู ููุงุฉ ูุงุญุฏุฉ ููุท ูู ุฃุตู 5 ููุชุญูู ูู ูุญุฏุฉ ุงูุทุงูุฉ ุ ูุณูู ูุณุชุฎุฏู ุงูููุงุฉ "A".  ุชุญุชูู ูุฐู ุงูููุงุฉ ุ ูุซููุง ูุซู ุฃู ุดูุก ุขุฎุฑ ุ ุนูู ูุงุชุฌูู ูู PWM ุนุงูู ุงูุฏูุฉ (HRPWM) ุ ููุฏุฎู ุฎุทุฃ ูุงุญุฏ (ูุง ูุณุชุฎุฏููุง) ุ GND ููุฌูุน ุจูู ุฃุฑุถ ุงูููุญูู ูููุงุชูู ADC (ุณูุณุชุฎุฏู ูุงุญุฏูุง ููุท ููุฌูุฏ). <br><br>  <b>ููููุง ุนู HRPWM</b> <br><br>  ูู ูุณุงุญุงุช ุงูุฌุฒุก ุจุงููุบุฉ ุงูุฑูุณูุฉ ูู ุงูุฅูุชุฑูุช ุ ูู ุฃูุงุจู ุฃู ููุงุฏ ุชุฏุฑูุจูุฉ ุญูู HRPWM ููู ุฃูุงุจููุง ุนูู ุงูุฅุทูุงู ูู ุฌููุน ุงูููุงุฏ ุงููุชุนููุฉ ุจุงูุนูู ูุน HRPWM ุงุณุชูุงุฏูุง ุฅูู ูููุฑูููุชุฑููุฑ STM32 ุ ููุฐุง ูุงู ููุบุงูุฉ. <br><br>  ูู ุฃุชุทุฑู ุฅูู ูุธุฑูุฉ ูุฐุง ุงููุญูุท ูู ุฅุทุงุฑ ูุฐู ุงูููุงูุฉ ุ ูุฐูู ุณุฃุดุฑุญ ุงูุฌููุฑ.  HRPWM ุฃู High Resolution PWM ูู ูุญุฏุฉ PWM ุงููุนุชุงุฏุฉ ูุฏููุง ุ ูุงูุชู ูุฏููุง ุฏูุฉ ุฃุนูู ูุชุนููู ุนุงูู ุงููุงุฌุจ ูุนุงุฏุฉู ูุง ุชุญุชูู ุนูู ุฅุนุฏุงุฏุงุช ุฃูุซุฑ ูุฑููุฉ. <br><br> <a href=""><img src="https://habrastorage.org/webt/mx/kb/ct/mxkbctdf9dhgu2ssfv1briuowmm.png"></a> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ูุชุญูู STM32F334R8T6 ุนูู 10 ูููุงุช HRPWM ุ ูุงูุชู ูุชู ุฏูุฌูุง ูู 5 ูุฌููุนุงุช ูู ููุงุชูู.  ูููู ุฃู ุชุนูู ูุงุชุงู ุงูููุงุชุงู ุฏุงุฎู ุงููุฌููุนุฉ ุจุดูู ูุณุชูู ูุชุดููุงู ุฒูุฌูุง ููููุงู - ูุญุชุงุฌ ุฅูู ุงูุฃุฎูุฑ ุ </li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู ุงูุฒูุฌ ุงูุชููููู ุจูู ุฅุดุงุฑุชูู PWM ุ ูู ุงููููู ุชุซุจูุช ููุช ุชููู ุงูุฃุฌูุฒุฉ ููุญูุงูุฉ ูู ุชูุงุฑ ุงููุฑูุฑ ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุณุฌูู ุฌููุน ุงููููุงุช ุงูุนุดุฑ ูู ุฌูุงุฒ ุถุจุท ููุช ูุงุญุฏ - ุฌูุงุฒ ุถุจุท ุงูููุช ุงูุฑุฆูุณู ุ ุจุญูุซ ุชุชู ูุฒุงููุชูุง ุฌููุนูุง ูุน ุจุนุถูุง ุงูุจุนุถ ููุง ูุชุนูู ุนููู ุชูููู ุณูุณูุฉ ูู ุฃุฌูุฒุฉ ุถุจุท ุงูููุช ูุฏูููุง.  ูููู ุชุดุบูู "ุงููุนูู" ู "ุงููููุช A ... E timers" ูุฃูููุง ูุทุนุชุง ูุณุงูุฉ ุฒูููุฉ ุนูู ุ </li><li style=";text-align:right;direction:rtl">  ูุชุถุงุนู ุงูุชุฑุฏุฏ ูู HRPWM ุ ุฃู ุจุชุฑุฏุฏ ุฃุณุงุณู ูุฏุฑู 72 MHz ุ ูุนูุฏ HRPWM ูุจูุบ 144 MHz ุจุนุฏ ูุถุงุนู ุฅุถุงูู (x2) ูุน PLL.  ูุฐุง ูุฌุนู ูู ุงููููู ุงูุณูุทุฑุฉ ุนูู ุงููุญููุงุช ุนูู ุชุฑุฏุฏ ูุฆุงุช ูููู ูุฑุชุฒ. </li><li style=";text-align:right;direction:rtl">  ููุงู ุงููุซูุฑ ูู ุงูุฅุนุฏุงุฏุงุช ููุชุญูู ูู PWM ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู ุฌุงูุจ ุงููุฏุฑุฉ ุนูู ุฑุจุท ุฅูุดุงุก PWM ุจุจุฏุงูุฉ ูููุงูุฉ ุงููุชุฑุฉ ุ ููุงู 4 ุฃุญุฏุงุซ ูุงุจูุฉ ููุชูููู (comp) ุชุณูุญ ูู ุจุชุฑุฌูุฉ PWM ุฅูู 0 ุฃู 1 ูู ุฃู ููุทุฉ ูู ุงููุชุฑุฉ ุจุฎูุงู ุจุฏุงูุฉ / ููุงูุฉ ุงููุชุฑุฉ ุ </li><li style=";text-align:right;direction:rtl">  ููุงู ุฃูุถุงุน ูุทูุจูููุฌูุงุช ูุนููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุถุน ุงูุฏูุน ูุงูุณุญุจ ุ ูุงูุฐู ูุณูุญ ูู ุจุชูููุฐ ุงูุนุฏูุฏ ูู ุทุจูููุฌูุง ุงูุฏูุน. </li></ul><br>  ููุฐุง ูุฌุฑุฏ ุฌุฒุก ุตุบูุฑ ูู ุงูููุฒุงุช ุ ุนูู ุงูุฑุณู ุงูุจูุงูู ูุฌูุงุฒ HRPWM ุ ููููู ุฑุคูุฉ ุฅููุงููุงุช ุงููุฒุงููุฉ ูุน ูุฌููุนุฉ ูู ุงูุฃุญุฏุงุซ ุ DACs ุ ูููุงุฑูุงุช ูุถููุฉ ูู MK ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุฐุง ุงููุฎุทุท ุงูุชูุถูุญู ูููุชูุฉ ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุงุญุชูุงูุงุช ุงูููุซูุฉ. <br><br>  ูุจูู ุงูุณุคุงู ุงูุฃุฎูุฑ ุงูุฐู ูุฌุจ ูุนุงูุฌุชู - "ููุงุฐุง ูุฐุง PWM ุนุงููุฉ ุจุชุ".  ููููุงู ุจุฐูู ุ ุงููุธุฑ ูู ูุซุงู ุจุณูุท.  ุชุฎูู ุฃููุง ูุฑุฑูุง ุงุณุชุฎุฏุงู MK ุจุฏูู HRPWM ุ ุฏุนูุง ูููู STM32F103C8T6 ุ ูุงูุฐู ูุนูู ุฃูุถูุง ุจุชุฑุฏุฏ 72 MHz.  ูุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุงูุฌุณุฑ ุงููุตูู ุจุชุฑุฏุฏ 70 ูููู ูุฑุชุฒ ุ ููุญู ูููุฑ ูู ุฃู ุฎุทูุฉ ูู ุงูุชูุธูู ูููู ุฃู ูุญุตู ุนูููุง: 000 72 0002525 ุฎุทูุฉ = 70 243 ูุฑุชุฒ.  ูุนู ุ ูุฏููุง 1025 ุฎุทูุฉ ูุนูุฏ ุงูุชุนุฏูู ูููููุง ุชุบููุฑ ุงูุฌูุฏ ุงููุงุชุฌ ูุน ุฎุทูุฉ ูุธุฑูุฉ ูู 1/1025 = ~ 0.1 ูช.  ูุฃุฎุฐ ุงูุขู STM32F334 ุ ูุน ุชุฑุฏุฏ ุณุงุนุฉ ูุฏุฑู 144 ููุบุงูุฑุชุฒ ูุนุฑุถ ุชุญูู ูุคูุช 32 ุจุช ุ ูุญุตู ุนูู ุชุฑุฏุฏ ูุนุงุฏู 144 ููุบุงููุฑุชุฒ * 32 = 4.608 ุบูุบุงูุฑุชุฒ.  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ุดุนุฑูุง ุจุงูุฎูู ูุงูุดู: <br><br><img src="https://habrastorage.org/webt/7n/ot/o2/7noto2gpr5ht4fnztxskohfhx-m.png"><br><br>  ูุง ุ ูุฐุง ููุณ ุชุฑุฏุฏ ุงูุชุดุบูู ุ ูุฐุง ุชุฑุฏุฏ ููุงูุฆ.  ูุงุฐุง ูุนุทููุง ูุฐุงุ  ูุฃุฎุฐ ุงูุชุฑุฏุฏ ุงูููุงูุฆ ูู 4 608 000 000 ูุฑุชุฒ / 70 300 ูุฑุชุฒ = 65 535 ุฎุทูุฉ.  ุงูุขู ูููููุง ุถุจุท ุงูุฌูุฏ (ุฃู ุงูุชูุงุฑ) ุนูุฏ ุงูุฅุฎุฑุงุฌ ุจุฒูุงุฏุงุช ูุฏุฑูุง 1/65 535 = ~ 0.001 ูช ุ ุฃู 100 ูุฑุฉ ุฃูุซุฑ ุฏูุฉ! <br><br>  ูุงูุขู ุฏุนููุง ููุนู ุฐูู - ูุฏููุง ุชุฑุฏุฏ 700 ูููู ูุฑุชุฒ ุ ููู ุฃูุฑ ุทุจูุนู ููุฌููุนุฉ ุจุงู ูุชุนุฏุฏุฉ ุงููุฑุงุญู ุ ุนูู ุณุจูู ุงููุซุงู.  ุณูู ุชุญุตู F103 ุนูู 72ุ000ุ000 ูุฑุชุฒ / 700000 ูุฑุชุฒ = 102 ุฎุทูุฉ ุ ููุง ูุณูุญ ูู ุจุงูุญุตูู ุนูู ุชูุธูู ุจูุณุจุฉ 1ูช ูู ุฃุญุณู ุงูุฃุญูุงู ุ ููู ูุฐุง ููุซู 1ูช ูููุงุฌุจ ุ ููุฐุง ูู ุงููุงูุน ูุน ูุฌูุฏ ุงูุนุฏูุฏ ูู ุงูุฎุทูุงุช ุ ุณูููู ูุฏูู ุฌูุฏ ุนุงุฆู ุนูุฏ ุงูุฅุฎุฑุงุฌ ููุง ูู ูุงู ุงูุงุณุชูุฑุงุฑ ูููุณ ุญูุง.  ูู ุญูู ุฃู ุนุฏุฏ ุงูุฎุทูุงุช ูู F334 ุณูููู ุญูุงูู 6500 ุ ูุงูุฐู ูุง ูุฒุงู ูุณูุญ ูู ุจุจูุงุก ุฌูุฏ ุฃู ููุธู ุชูุงุฑ ุฏููู ููุบุงูุฉ.  ููุฏ ูุตููุง ุฅูู ุฃู ุฏูุฉ (ุฎุทูุฉ) ุฅุนุฏุงุฏ ุฏูุฑุฉ ุงูุนูู ุฃุนูู ุจูุซูุฑ / ุฃูุซุฑ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูู MK ุงูุชูููุฏู ูุน ูุญุฏุฉ PWM ููุงุณูุฉ ูู ุงูุฏุงุฎู. <br><br>  <b>ุฅุนุฏุงุฏ ูุธุงู ุงูุณุงุนุฉ</b> <br><br>  ุงุณุชุฎุฏูุช TrueSTUDIO ูุจูุฆุฉ ุชุทููุฑ ูู ูุฐู ุงูููุงูุฉ ุ ูุฃููุง ูุฌุงููุฉ ุ ูููุณ ุจุงุฆุณุฉ ูุซู Keil ุฃู IAR <s>ุ ูุนู ุ ุฃุฎุจุฑูู ุนู ูุตุญุญ ุงูุฃุฎุทุงุก ุงูุฑุงุฆุน</s> ุ ูุงููุธุงู ุงูุฃุณุงุณู ุงููุดุชุฑู ุ ูุฑุจูุง ุฃูุถู ุญู ูููุจุชุฏุฆูู ูููุณ ููุท.  ูู ููุงูุฉ ุงูููุงู ุณูููู ููุงู ุฃุฑุดูู ูุน ุงููุดุฑูุน ุฎุตูุตุง ููุฐุง IDE.  ูู ุฃุฎุจุฑู ุนู ููููุฉ ุฅูุดุงุก ูุดุฑูุน ูุชููููู ุ ุณุฃุชุฑู ุฑุงุจุทูุง ููููุฏูู ุญูุซ ูุชู ุนุฑุถ ูู ุดูุก ุจุงูุชูุตูู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุดุงูุฏุฉ</a> . <br><br>  ุจุนุฏ ุฅูุดุงุก ูุดุฑูุน ูููุถ ูุคุดุฑ LED ุ ุชุญุชุงุฌ ุฅูู ุชูููู ูุธุงู ุงูุณุงุนุฉ ุ ุฃู ูู 8 ููุบุงููุฑุชุฒ ุ ูุฑูุน ุงูุชุฑุฏุฏ ุฅูู 72 ููุบุงููุฑุชุฒ ูุชุทุจููู ุนูู ุงูููุงุฉ ุ ุซู ุถุจุท ุงููุงุตู ูุชูููู ุงูุชุฑุฏุฏ ุงูููุฏู ุฅูู ADC: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StartInitClock</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ RCC-&gt;CR |= RCC_CR_HSEON; <span class="hljs-comment"><span class="hljs-comment">// Enable HSE while (!(RCC-&gt;CR &amp; RCC_CR_HSERDY)); FLASH-&gt;ACR |= FLASH_ACR_LATENCY_1; RCC-&gt;CFGR |= RCC_CFGR_PLLMUL9; // PLL mult x9 RCC-&gt;CFGR |= RCC_CFGR_PLLSRC; // Source HSE RCC-&gt;CFGR2 |= RCC_CFGR2_ADCPRE12_DIV10; // ADC source AHB/10 RCC-&gt;CR |= RCC_CR_PLLON; while((RCC-&gt;CR &amp; RCC_CR_PLLRDY) == 0){} RCC-&gt;CFGR &amp;= ~RCC_CFGR_SW; RCC-&gt;CFGR |= RCC_CFGR_SW_PLL; // Select source SYSCLK = PLL while((RCC-&gt;CFGR &amp; RCC_CFGR_SWS) != RCC_CFGR_SWS_1) {} // Wait PLL }</span></span></code> </pre> <br>  ููุง ุ ุฃุนุชูุฏ ููุท ุ ุฃู ุฎูุงุฑุฒููุฉ ุงูุชูููู ูู ููุง ููู: <i>ุฅููุง ุชูุชูู ุฅูู ุงูููุงุฑุชุฒ ุงูุฎุงุฑุฌู (HSE) -&gt; ููุชุธุฑ ุนูุฏ ุงูุชูุงู ุงูุงูุชูุงู ูุชุนููู ุงูุนูุงูุฉ ุงูุฌุงูุฒุฉ -&gt; ูุฑุณู ุงูุฅุดุงุฑุฉ ูู ุงูููุงุฑุชุฒ ุฅูู ุฏุฎู PLL -&gt; ูููู ุจุถุฑุจ 8 ููุบุงููุฑุชุฒ ูู 9 -&gt; ููุณู ุงูุชุฑุฏุฏ ุนูู 72 ููุบุงููุฑุชุฒ ูู 10 ูุชุณุฌูู ุณุงุนุฉ ADC -&gt; ุชุดุบูู PLL -&gt; ุงูุชุธุฑ ุญุชู ูุชู ุชุดุบููู ูุชุนููู ุงูุนูู ุงูุฌุงูุฒ -&gt; ุฅุฑุณุงู ุฅุดุงุฑุฉ ูู PLL ุฅูู ูุงูู ุงููุธุงู ูุงูุฃุณุงุณูุฉ -&gt; ุงูุชุธุฑ ุญุชู ููุชูู ุงูููุชุงุญ -&gt; ุงูููุงู ุจู.</i> <br><br>  <b>ุฅุนุฏุงุฏ HRPWM</b> <br><br>  ููุง ูู ุดูุก ุฃูุซุฑ ุชุนููุฏุง ุฅูู ุญุฏ ูุง ุ ู  ุชุญุชูู ูุฐู ุงููุญุฏุฉ ุนูู ุงููุซูุฑ ูู ุงููุธุงุฆู ุ ููุฌููุนุฉ ูู ุฃู ุฅุนุฏุงุฏุงุช ููููุฉ ุงููุซุงุฆู ูุจูุฑุฉ ููุบุงูุฉ ุ ูููู ูุฐุง ูุงูุต ููู ุงูููุช ููุณู ุฒุงุฆุฏ - ุนููู ุฃู ุชุฏูุน ูู ุฃุฌู ุงููุฑููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCC-&gt;CFGR3 |= RCC_CFGR3_HRTIM1SW_PLL; RCC-&gt;APB2ENR |= RCC_APB2ENR_HRTIM1EN;</code> </pre><br>  ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุฃู HRTIM ูุณุฌู ูู PLL ุ ุชู ุชูููู ูุถุงุนู x2 ุงูุชุฑุงุถููุง.  ุจุนุฏ ุฐูู ูููู ุจุจุณุงุทุฉ ุจุชุดุบูู ุงูุณุงุนุฉ ูู HRTIM ุ ูุฅููู ุงูููุฒุฉ ุงูุฃููู - ุญูุซ ุฃููุง ูููู ุฃู ุงููููุช ูุชู ุชุณุฌููู ูู PLL ุ ููููุง ูููู ุจุชุดุบููู ูู ุฃุฌู APB2.  ูุฐุง ููุณ ููุทูููุง ุชูุงููุง ุ ูููู ูููู ุงูุจุญุซ ุนูู ุจุณูููุฉ ูู ุงูููู ุจุงุณุชุฎุฏุงู CMSIS ุฃู ูู ุงููุซุงุฆู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> RCC-&gt;AHBENR |= RCC_AHBENR_GPIOAEN; GPIOA-&gt;MODER &amp;= ~GPIO_MODER_MODER8; GPIOA-&gt;MODER |= GPIO_MODER_MODER8_1; <span class="hljs-comment"><span class="hljs-comment">// Alternative PP GPIOA-&gt;OSPEEDR |= GPIO_OSPEEDER_OSPEEDR8; // Very high speed GPIOA-&gt;MODER &amp;= ~GPIO_MODER_MODER9; GPIOA-&gt;MODER |= GPIO_MODER_MODER9_1; GPIOA-&gt;OSPEEDR |= GPIO_OSPEEDER_OSPEEDR9; GPIOA-&gt;AFR[1] |= 0xDD; // PA8 and PA9 - AF13</span></span></code> </pre><br>  PA8 ู PA9 ููุง ูุงุชุฌ ุงููููุช A ุ ุงูุฐู ููุชูู ูู ุงููุญุฏุฉ ุงูุฎุงุตุฉ ุจู ุฅูู ุงูููุงุฉ ุฑูู 1 ุ ูุงูุชู ููููู ุฑุคูุชูุง ูู ุงูุฑุณู ุงูุชุฎุทูุทู ูุงูุชุซุจูุช.  ุชู ุชูููู ุงูุฃุฑุฌู ูุฏูุน ุณุญุจ ูุน ูุธููุฉ ุจุฏููุฉ ุ ูุนุฏุฏ ุงููุธุงุฆู ููุณูุง ูููุง ุงูุณุงููู ูู ุงูุซุงูุซ ุนุดุฑ.  ูู ุงูููู ุฃูุถูุง ุถุจุท ุงูุญุฏ ุงูุฃูุตู ูุชุฑุฏุฏ GPIO ุ ูุฅูุง ุณูููู ููุงู ุงูุณุฏุงุฏ ุบูุฑ ููููู ูู ููุฏูุฉ ูุณููุท ุงูุฅุดุงุฑุฉ ุ ููู ุฃูุฑ ุจุงูุบ ุงูุฃูููุฉ ุจุงููุณุจุฉ ูุฅููุชุฑูููุงุช ุงูุทุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">HRTIM1-&gt;sCommonRegs.DLLCR |= HRTIM_DLLCR_CAL | HRTIM_DLLCR_CALEN; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((HRTIM1-&gt;sCommonRegs.ISR &amp; HRTIM_ISR_DLLRDY) == RESET);</code> </pre><br>  ูุจู ุฃู ุชุจุฏุฃ ุ ุชุญุชุงุฌ ุฅูู ูุนุงูุฑุฉ ุงููููุช ุ ูุฃู  ุฅูู ูุนูู ุจุฃูู ูุฏุฑ ูู ุงูุชุฃุฎูุฑ ุ ุซู ุงูุชุธุฑ ุงูุนูู ุงูุฌุงูุฒ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">HRTIM1-&gt;sTimerxRegs[<span class="hljs-number"><span class="hljs-number">0</span></span>].PERxR = PeriodTimerA; <span class="hljs-comment"><span class="hljs-comment">// Period for timer A HRTIM1-&gt;sTimerxRegs[0].CMP1xR = 0; // Duty for timer A</span></span></code> </pre><br>  ูุฐู ูุฑููุฉ.  ุฃููุงู ุ ูููููุง ุถุจุท ุชุฑุฏุฏูุง ููู ูุคูุช A ... E ุ ููุง ูุณุฌู ุจุจุณุงุทุฉ ูุชุฑุฉ PWM ุงูุฎุงุตุฉ ุจูุง.  ุซุงููุงู ุ ุจุดูู ุงูุชุฑุงุถู ุ ูุฏููุง ูุญุงุฐุงุฉ PWM ูู ุจุฏุงูุฉ ุงููุชุฑุฉ ุ ุฃู ุฃู ุงูุฅุดุงุฑุฉ ุชูุชูู ุฅูู log.1 ูู ุจุฏุงูุฉ ูุชุฑุฉ ุฌุฏูุฏุฉ ุ ูุงูุขู ูุญู ุจุญุงุฌุฉ ุฅูู ุงุฎุชูุงุฑ ูุชู ุณุชุนูุฏ ุฅูู log.0 ุ ูู ูุฐู ุงูุญุงูุฉ ุ ุจูุงุณุทุฉ ุงูููุงุฑูุฉ ุฑูู 1 ุ ุฃู ุฃูุง ุฃุณุฃู ููู ุจุดูู ุฃุณุงุณู ุนุงูู ุงููุงุฌุจ. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุชุฑุฌูุฉ PWM ููุณ ุจุญููู ุจุฏุงูุฉ ุงููุชุฑุฉ ุ ูููู ุนู ุทุฑูู ุงูููุงุฑูุฉ ุฑูู 1 ุ ูุงูุนูุฏุฉ ุฅูู log.0 ุจูุงุณุทุฉ ุงูููุงุฑูุฉ ุฑูู 2 ูุจุงูุชุงูู ููู ุงููุฑุญูุฉ ุงูุฃุฌูุฒุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Deadtime enable HRTIM1-&gt;sTimerxRegs[0].OUTxR |= HRTIM_OUTR_DTEN; // Tdtg = 6.94 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTPRSC_0 | HRTIM_DTR_DTPRSC_1; // Deadtime rising = 15*Ttg = 104 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTR_0 | HRTIM_DTR_DTR_1 | HRTIM_DTR_DTR_2 | HRTIM_DTR_DTR_3; // Deadtime falling = 15*Ttg = 104 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTF_0 | HRTIM_DTR_DTF_1 | HRTIM_DTR_DTF_2 | HRTIM_DTR_DTF_3; HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTFSLK | HRTIM_DTR_DTRSLK;</span></span></code> </pre><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููู ุจุชูููู ููุช ุงูุชููู ูุชููุฆุชู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ุชุญุชูู ุงูุชุนูููุงุช ุนูู ุฌููุน ุงูุตูุบ ุ ููููู ุฃูุถูุง ุงูุนุซูุฑ ุนูููุง ูู ุงูุฏููู ุงููุฑุฌุนู.  DT ููุฏุฉ ~ 100 ns ุงูุชู ุดุงูุฏุชูุง ุจุงููุนู ุนูู ุงูุดูู ุงูููุฌู ูู ุงููุตู ุงููุธุฑู ูู ูุฐู ุงูููุงูุฉ.  ูููู ุชุนููู ุงูููุช ุงูููุช ุจุดูู ูููุตู ุนูู ุงูุญุงูุฉ ูุนูู ุงูุฎูุงุถ ุงูุฅุดุงุฑุฉ.  ุจุงูููุงุณุจุฉ ุ [0] ูู Timer A ุ ุนูู ุงูุชูุงูู [1] ูู Timer B ูููุฐุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Samples in middle of ON time HRTIM1-&gt;sTimerxRegs[0].CMP2xR = PeriodTimerA / 10; // ADC trigger 1 update: Timer A HRTIM1-&gt;sCommonRegs.CR1 |= HRTIM_CR1_ADC1USRC_0; // ADC trigger 1 event: Timer A compare 2 HRTIM1-&gt;sCommonRegs.ADC1R |= HRTIM_ADC1R_AD1TAC2;</span></span></code> </pre><br>  ุจุงููุณุจุฉ ูู ุ ูู ุชูู ูุฐู ุงููุญุธุฉ ุงูุฃูุซุฑ ูุถูุญูุง.  ุฎูุงุตุฉ ุงูููู ูู - ุฃุฑูุฏ ุฃู ุฃุชุฃูุฏ ูู ุฃูู ููุฏุฉ 10 ูช ูู ูุฏุฉ Timer A ุ ูุชู ุฅูุดุงุก ุญุฏุซ ูู ุดุฃูู ุฃู ูุคุฏู ุฅูู ุชุญููู ADC ูููุงุณ ุฅุดุงุฑุฉ ุงูุชุบุฐูุฉ ุงููุฑุชุฏุฉ.  ููุงุฐุง 10 ูชุ  ุจุจุณุงุทุฉ ุ ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุง ููุจุบู ุฃู ูุญุฏุซ ุงูููุงุณ ูู ููุช ุงูุชูุงู PWM ูู 0 ุฅูู 1 ุฃู ุงูุนูุณ ุ ูุฃู  ูู ูุฐู ุงููุญุธุฉ ูู ูุญุฏุฉ ุงูุทุงูุฉ ููุงู ุนุงุจุฑุฉ ูุงูุชุฏุงุฎู ุ ููููุง ูุณูุง ุจุญุงุฌุฉ ูููุงุณ ููู.  ูุฐูู ุ 10 ูช ูู ุญุงูุชู ูู ุงูุฃูุซู ุ ู  ุนูุฏ ุฅุฎุฑุงุฌ 12V ู 30 V ุ ูู ุชูุฎูุถ ูุณุงููุฉ ุงูุฌูุฏ ูุนุงูู ุงูุชุดุบูู ุฅูู 10ูช ููู ุชุชุทุงุจู ูุญุธุฉ ุชุจุฏูู ุงูุชุฑุงูุฒุณุชูุฑ ูุน ููุงุณ ADC. <br><br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุฅููุงุก ูุธุฑุฉ ุนูู ูุธุงู ุงุชุตุงูุงุช ุงูุญุฏุซ ุจูู HRTIM ู ADC: <br><br><img src="https://habrastorage.org/webt/r7/p6/g2/r7p6g2w3zcs-vrrsvzeev7uhwbc.png"><br><br>  ูู ุงูุณุทุฑ ุงูุฃูู ุ ูุฎุชุงุฑ ูุชู ุณูุชู ุชุดุบูู ุงูููุงุฑูุฉ ุ ูู ุญุงูุชู ุชููู 10ูช ูู ูุชุฑุฉ ุงููุคูุช A. ุจุนุฏ ุฐูู ุ ูุฎุชุงุฑ ูุดุบู ูุญุฏุฏ ูู ADC ุณูุชุตู ุจุฃุนุถุงุก MK ุ ููุฏููุง ุญู ุงููุตูู ุฅูู ุงูุฃูู ุฃู ุงูุซุงูุซ.  ุงูุขู ูุดูุฑ ุจุจุณุงุทุฉ ุฅูู ุงูุญุฏุซ ุงูุฐู ุณูุฑุณู ุงูุฅุดุงุฑุฉ ุฅูู ADC ุ ููู ูู ุญุงูุชู ูู ุงูููุงุฑูุฉ ุฑูู 2. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Enable output PWM for TA1 and TA2 HRTIM1-&gt;sCommonRegs.OENR |= HRTIM_OENR_TA1OEN | HRTIM_OENR_TA2OEN; // Continuous mode HRTIM1-&gt;sTimerxRegs[0].TIMxCR |= HRTIM_TIMCR_CONT; // Period for master timer HRTIM1-&gt;sMasterRegs.MPER = 65000; // Enable counter for Master and timer A HRTIM1-&gt;sMasterRegs.MCR |= HRTIM_MCR_MCEN | HRTIM_MCR_TACEN;</span></span></code> </pre><br>  ูุชุฑ ุงูููุงุฆู!  ูุญู ูุณูุญ HRTIM ูุฅุฎุฑุงุฌ ุฅุดุงุฑุงุช ูู ุงููููุช A ุฅูู GPIO ูุฏููุง.  ุงูุขู ูุฎุชุงุฑ ุงููุถุน ุ ููุญุฏุซ ูุฐุง ุจูุง ููุงูุฉ (ูุฏู) ุ ูููู ูุญุฏุซ ุฃู ูุชู ุชุดุบูู ุงููุคูุช ููุฏุฉ 1 ูุจุนุฏ ุฐูู ูุฌุจ ุฃู ูุจุฏุฃ ูู ุฌุฏูุฏ.  ุจุนุฏ ุฐูู ุ ูู ุจุถุจุท ุงููุชุฑุฉ ุงูุฒูููุฉ ูุฌูุงุฒ ุถุจุท ุชูููุช Master (Master Master) ููู ุจุชุดุบููู ูุฎุทูุฉ ุฃุฎูุฑุฉ ุ ููุจุฏุฃ ูู ุชุณุฌูู ุชูููุช ุฃุฌูุฒุฉ ุชูููุช ุงูููุงุฉ ูุชุธูุฑ ุฅุดุงุฑุฉ PWM ุนูุฏ ุงูุฅุฎุฑุงุฌ. <br><br>  ููุฏ ูุงูุช ูุธููุฉ ุชูููู ุ ูุจูู ุฅูุดุงุก ูุธููุฉ ุณุชุญุฏุฏ ุนุงูู ุงููุงุฌุจ ุ ูุณูุนูู ูุนูุง ุนูุฏ ุฅูุดุงุก ูุญุฏุฉ ุงูุชุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetDutyTimerA</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint16_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> duty)</span></span></span><span class="hljs-function"> </span></span>{ HRTIM1-&gt;sTimerxRegs[<span class="hljs-number"><span class="hljs-number">0</span></span>].CMP1xR = duty; }</code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุณุฑุฏ ุฅุนุฏุงุฏุงุช ุงููุธููุฉ ูุฅุนุฏุงุฏ ุฏูุฑุฉ ุงูุนูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// f = 102,4 kHz #define PeriodTimerA ((uint16_t)45000) void InitHRPWM (void) { RCC-&gt;CFGR3 |= RCC_CFGR3_HRTIM1SW_PLL; RCC-&gt;APB2ENR |= RCC_APB2ENR_HRTIM1EN; /************************************************ * Setting GPIO ***********************************************/ RCC-&gt;AHBENR |= RCC_AHBENR_GPIOAEN; // Alternative PP GPIOA-&gt;MODER &amp;= ~GPIO_MODER_MODER8; GPIOA-&gt;MODER |= GPIO_MODER_MODER8_1; // Very high speed GPIOA-&gt;OSPEEDR |= GPIO_OSPEEDER_OSPEEDR8; GPIOA-&gt;MODER &amp;= ~GPIO_MODER_MODER9; GPIOA-&gt;MODER |= GPIO_MODER_MODER9_1; GPIOA-&gt;OSPEEDR |= GPIO_OSPEEDER_OSPEEDR9; // PA8 and PA9 - AF13 GPIOA-&gt;AFR[1] |= 0xDD; /************************************************ * Setting timer A ***********************************************/ HRTIM1-&gt;sCommonRegs.DLLCR |= HRTIM_DLLCR_CAL | HRTIM_DLLCR_CALEN; while ((HRTIM1-&gt;sCommonRegs.ISR &amp; HRTIM_ISR_DLLRDY) == RESET); // Period for timer A HRTIM1-&gt;sTimerxRegs[0].PERxR = PeriodTimerA; // Duty for timer A HRTIM1-&gt;sTimerxRegs[0].CMP1xR = 0; // Deadtime enable HRTIM1-&gt;sTimerxRegs[0].OUTxR |= HRTIM_OUTR_DTEN; // Tdtg = 6.94 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTPRSC_0 | HRTIM_DTR_DTPRSC_1; // Deadtime rising = 15*Ttg = 104 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTR_0 | HRTIM_DTR_DTR_1 | HRTIM_DTR_DTR_2 | HRTIM_DTR_DTR_3; // Deadtime falling = 15*Ttg = 104 ns HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTF_0 | HRTIM_DTR_DTF_1 | HRTIM_DTR_DTF_2 | HRTIM_DTR_DTF_3; HRTIM1-&gt;sTimerxRegs[0].DTxR |= HRTIM_DTR_DTFSLK | HRTIM_DTR_DTRSLK; // Event forces the output to active state for TA1 HRTIM1-&gt;sTimerxRegs[0].SETx1R |= HRTIM_SET1R_PER; // Event forces the output to inactive state for TA1 HRTIM1-&gt;sTimerxRegs[0].RSTx1R |= HRTIM_RST1R_CMP1; /************************************************ * ADC trigger intialization (with CMP2 event) ************************************************/ // Samples in middle of ON time HRTIM1-&gt;sTimerxRegs[0].CMP2xR = PeriodTimerA / 10; // ADC trigger 1 update: Timer A HRTIM1-&gt;sCommonRegs.CR1 |= HRTIM_CR1_ADC1USRC_0; // ADC trigger 1 event: Timer A compare 2 HRTIM1-&gt;sCommonRegs.ADC1R |= HRTIM_ADC1R_AD1TAC2; /************************************************ * HRTIM start ***********************************************/ // Enable output PWM for TA1 and TA2 HRTIM1-&gt;sCommonRegs.OENR |= HRTIM_OENR_TA1OEN | HRTIM_OENR_TA2OEN; // Continuous mode HRTIM1-&gt;sTimerxRegs[0].TIMxCR |= HRTIM_TIMCR_CONT; // Period for master timer HRTIM1-&gt;sMasterRegs.MPER = 65000; // Enable counter for Master and timer A HRTIM1-&gt;sMasterRegs.MCR |= HRTIM_MCR_MCEN | HRTIM_MCR_TACEN; } void SetDutyTimerA (uint16_t duty) { HRTIM1-&gt;sTimerxRegs[0].CMP1xR = duty; }</span></span></code> </pre><br></div></div><br>  ุงูุขู ูููุชุดู ูุง ุฅุฐุง ููุง ูุณูุฑ ูู ุงูุงุชุฌุงู ุงูุตุญูุญ.  ูู ุงููุธููุฉ <i>ุงูุฑุฆูุณูุฉ</i> ุ ูู ุจุชููุฆุฉ ุฅุนุฏุงุฏ HRTIM ูุถุจุท ุฏูุฑุฉ ุงูุชุดุบูู ุ ุนูู ุณุจูู ุงููุซุงู 22500. ูุน ูููุทูุฉ ุฏุฎู ุชุจูุบ 20 ูููุช ููุชุฑุฉ 45000 ุ ุณุชููู ุฏูุฑุฉ ุงูุชุดุบูู ูุฏููุง 50ูช ูุณูุจูุบ ุงูุฅูุชุงุฌ ุญูุงูู 10 ูููุช.  ูุฐุง ูุง ูููู ูุชูุณูุน ูุคุดุฑ LED ุฅูู ูุงูู ุ ูููู ููุจุบู ุฃู ุชุถูุก ูุณูู ูููู ูุง ุฅุฐุง ูุงู ูุนูู ูุณู ุงูุทุงูุฉ ุ ูู ูู ุดูุก ุนูู ูุง ูุฑุงู ูุน dt ูููู ุฌุฑุง.  ููุฏ ุจุฏุฃุช ูู ุดูุก ูู ุงููุฑุฉ ุงูุฃููู: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/HTLbf9aMAGs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  ููููู ุฃู ุชุฑู ุฃู ุฌููุน ุงูุญุณุงุจุงุช ุงููุธุฑูุฉ ุงูุณุงุจูุฉ ูุฏ ุชู ุชุฃููุฏูุง.  ูุน ุนุงูู ุงูุฎุฏูุฉ ุงูุซุงุจุชุฉ ุจูุณุจุฉ 50 ูช ุ ุชู ุชูุณูู ุฌูุฏ ุงูุฎุฑุฌ ุจุจุณุงุทุฉ ุนูู 2: 20V -&gt; 10V ุ 22V -&gt; 11V ุ 18V -&gt; 9V.  ุงูุขู ููุฌุนู ุงูุฌูุฏ ุงููุงุชุฌ ูุณุชูุฑุงู ููุณุชููุงู ุนู ุงููุฏุฎูุงุช ุ ุฃู ุฃุถู ููุงุญุธุงุช. <br><br>  <b>ADC ูุถุจุท ุชุญูู</b> <br><br>  ููุฏ ุณุจู ุฃู ูุชุจุช ุงููุซูุฑ ุนู ุงูุดุฑูุงุช ุงูุฅุนูุงููุฉ ูู STM32 ูุจูู ุ ูุฃูุง ุฃุชูุงูู ููุท ุฅุนุฏุงุฏ ุงููุดุบู ุงููุฑุชุจุท ุจููุงุฑู HRTIM.  ุณุฃุชุญุฏุซ ุจุงุฎุชุตุงุฑ ุนู ุจููุฉ ุฅุนุฏุงุฏุงุช ADC.  ูุญู ููุธุฑ ุฅูู ูุธููุฉ ุงูุชููุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitBasicADC</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ RCC-&gt;AHBENR |= RCC_AHBENR_ADC12EN; RCC-&gt;AHBENR |= RCC_AHBENR_GPIOCEN; <span class="hljs-comment"><span class="hljs-comment">/************************************************ * Calibration ***********************************************/</span></span> ADC2-&gt;CR &amp;= ~ADC_CR_ADVREGEN; ADC2-&gt;CR |= ADC_CR_ADVREGEN_0; <span class="hljs-comment"><span class="hljs-comment">// Vref enable Delay(10); ADC2-&gt;CR &amp;= ~ADC_CR_ADCALDIF; ADC2-&gt;CR |= ADC_CR_ADCAL; // Start calibration while (ADC2-&gt;CR &amp; ADC_CR_ADCAL); // Wait end calibration /************************************************ * Select event trigger and channel ***********************************************/ // Enable start conversion external trigger ADC2-&gt;CFGR |= ADC_CFGR_EXTEN_0; // Event 7 - HRTIM ADC2-&gt;CFGR |= ADC_CFGR_EXTSEL_0 | ADC_CFGR_EXTSEL_1 | ADC_CFGR_EXTSEL_2; // Select ADC2 channel IN5 ADC2-&gt;SQR1 |= ADC_SQR1_SQ1_0 | ADC_SQR1_SQ1_2; // Length regular ADC channel = 1 ADC2-&gt;SQR1 &amp;= ~ADC_SQR1_L; ADC2-&gt;IER |= ADC_IER_EOCIE; // Interrupt enable NVIC_EnableIRQ(ADC1_2_IRQn); // enable interrupt ADC1 and ADC2 /************************************************ * Start ADC ***********************************************/ ADC2-&gt;CR |= ADC_CR_ADEN; // Enable ADC2 Delay(10); ADC2-&gt;CR |= ADC_CR_ADSTART; }</span></span></code> </pre><br>  ูููููู ุงุณุชุฎุฏุงู ูุถุน ุงูููุงุฉ ุงูุนุงุฏู ุ ููุฏู ููุงุฉ ูุงุญุฏุฉ ููุท ููุชู ุชุญุฏูุฏู ูู ุณุฌู <i>SQR1</i> .  ูุชุถูู ADC ุฑูู 2 ุ ุฃู ูุฏุฎูุงุชู IN5 ุ ุฅูู ุณุฑูุน ููููู ุฃู ูุนูู ุจุฃูุตู ุชุฑุฏุฏ ูุฃุฎุฐ ุงูุนููุงุช ุ ููู ููุณ ูุฐู ุงููุฑุฉ.  ุชุฑุฏุฏ ุฃุฎุฐ ุงูุนููุงุช ูุณุงูู ุชุฑุฏุฏ PWM ุ ูุฃู  1 ูุชุฑุฉ = 1 ุนููุฉ ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ููุฐุง ุฃูุซุฑ ูู ูุงููุฉ. <br><br>  ุฃูุถูุง ุ ูู ุณุฌู <i>CFGR</i> ุ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุงูุญุฏุซ ุงูุฐู ุณูุจุฏุฃ ุจู ุงูุชุญููู ุ ุฃู <i>ุงูุญุฏุซ 7</i> ุ ููุงุฐุง ุจุงูุถุจุทุ  ูุญู ููุธุฑ ูู RM: <br><br><img src="https://habrastorage.org/webt/mr/f0/wn/mrf0wnno0sft4episcxokfnsduy.png"><br><br>  ูุฃุชู ุงููุดุบู 1 ูู ูุญุฏุฉ HRPWM ุฅูู ุงูุญุฏุซ 7 ูู ุฃุฌู ADC ุฑูู 2 ุ ูุงูุฐู ูุนูู ูู ูุฐู ุงูุญุงูุฉ ูุนุจุฏ ุ ุซู ูุชู ุงูุชุญูู ููู ูู ูุญุฏุฉ HRPWM.  ุฃุนุชูุฏ ุงูุขู ุฃูู ูู ุงููุงุถุญ ููููุฉ ุชูุตูู ูุญุฏุชูู ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ุงูุฎูุงุฑุฒููุฉ ุชุดุจู ุฃู ูุญูุท ูุฃู ุฌูุงุฒ ุชูููุช ุ ููุท ุงุณู ุงูุชุณุฌูู ุณูุฎุชูู. <br><br>  ุนูุฏ ุงููุตูู ุฅูู ุนุฏุงุฏ ูุชุฑุฉ ุงููุคูุช ุงูุฑุฆูุณู ุ ุณูุจุฏุฃ ุงูุชุญููู ุ ูุงูุฐู ุจุนุฏ ุญูุงูู 15 ุฏูุฑุฉ (ููุนุฑูุฉ ููุฏุงุฑ ุงูุฏูุฉ ุจุงูุถุจุท ูู RM) ุณูุชุณุจุจ ูู ููุงุทุนุฉ ูููููู ุงูุชูุงุท ุงููุชูุฌุฉ ููู.  ูู ูุฐุง ุงูุงููุทุงุน ูููู ุจุชูุธูู ุฎูุงุฑุฒููุฉ ุงูุชุญูู.  ูุนู ุ ูู ุงูุฃูุถู ุฃูุง ุชููู ุจุฐูู ุฏุงุฎู ุงูููุงุทุนุฉ ุ ููู ุงูุฃูุถู ุถุจุท ุงูุนูู ูุชูุฑูุฑ ุงูุชูููุฐ ุ ููููู ุณุฃุณูุญ ูููุณู ุจูุซู ูุฐุง ุงูุชุจุณูุท ุ ูุฃูู ูู ูุฐู ุงูุญุงูุฉ ูู ูุชู ุชุญููู ุฌูุงุฒ ุงูุชุญูู ุงูุฎุงุต ุจู ุ ูุณูู ูุชููู ูู ุญุณุงุจ ุงูุฎุฑูุฌ ูุงูุฎุฑูุฌ ููู ุจุงุญุชูุงู ูุฏุฑู 146ูช ุธููุฑ ูุงุญุฏุฉ ุฌุฏูุฏุฉ. <br><br>  <b>ููููุง ุนู ุงูุฅุฏุงุฑุฉ</b> <br><br>  ุชุฎูู ุฃูู ุฏุฎูุช ุงูุญูุงู ููุฑุฑุช ุฃู ุชุบุณู ูุฏูู ูู ุงูุญูุถ.  ููุช ุจูุชุญ ุงููุงุก ููููุง ุ ูููุณูุง ุจูุฏู ุ ุจุงุฑุฏุ  ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุงุก ุงูุณุงุฎู ุ ูุฃูุซุฑ ุฏูุฆุงุ  ุฌูุฏ  ุฃุถู ุงููุฒูุฏ ูู ุงููุงุก ุงูุณุงุฎูุ  ุชูุฑูุจุง ูุง ุชุญุชุงุฌูุ  ุฌูุฏ  ุฃุถู ุงููุฒูุฏ ูู ุงููุงุก ุงูุณุงุฎู ุ ุฌุฑุจ ุจูุฏู ุ ุงุญุฑู ููุณูุ  ุฏุนูุง ูุฑูุถ ููููุง ุงูุขู.  ุญุณูุงุ  ูููุฐุง ุฅูู ูุง ูุง ููุงูุฉ ุ ุณุชุฏูุฑ ุงูุตูุจูุฑ ุญุชู ุชุตุจุญ ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุงููุงุก ูุซุงููุฉ.  ูุฐุง ูู ุฃุณูู ููุจุถ ุงูุจุงุจ! <br><br>  ููุท ูุญู ูุง ููุธู ูููุฉ ุงููุงุก ุงูุณุงุฎู ุ ูููู ุฏูุฑุฉ ุงูุนูู PWM.  ุจุฏูุงู ูู ุงููุฏ ุ ูุฏููุง ADC ุจูุชูุฌุฉ ูุญุณูุจุฉ.  ูุจูู ููุท ูุชูููุฐ ุงูููุทู.  ุณูููู ุจุญุณุงุจ ูุง ููุจุบู ุฃู ุชูุชุฌู ุดุฑูุฉ ุชุทููุฑ ุงูุนูุจุฉ ุนูุฏ ูุฎุฑุฌ 12 ูููุช ุ ููู ุซู ุจุงุณุชุฎุฏุงู ุดุฑุท <i>if</i> ุ ูุฅููุง ุณูุฌุจุฑ ุฌูุงุฒ ุงูุชุญูู ุงูุฎุงุต ุจูุง ุนูู ุงูุญูุงุธ ุนูู ูุฐู ุงููููุฉ ุนู ุทุฑูู ุชุบููุฑ ุนุงูู ุงูุชุดุบูู. <br><br>  ููุจุฏุก ุ ุฏุนูุง ููุทุน ููุณู ุงูุฌูุฏ ูุชูููู 12V ุฅูู 2-2.5V ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุณุจุจ  ูููู ููููุงุณ ADC ูู 0 ุฅูู + 3.3 ูููุช ุ ูุฅุฐุง ุชู ุชุฒููุฏ 12V ุ ูุณูู ูุญุชุฑู ุงููุชุญูู ุจุจุณุงุทุฉ.  ูุฐูู ุ ุณุฃุถุน ููุณููุง ุจููู ุฑูุฒูุฉ ุชุจูุบ 10 ูููู ุฃูู ู 2 ูููู ุฃูุจูุฑ ุ ูุงูุชู ุณุชููุญ ูุณุจุฉ ุงููุณูุฉ 6 ุ ูุจุงูุชุงูู ุ ูุฅู + 12 ูููุช ุณูู ุชุชุญูู ุฅูู + 2 ูููุช.  ุณูู ููุชุฌ ADC ุงููุชูุฌุฉ: adcResult = (V <sub>out</sub> / k) / V <sub>ref</sub> * 2 <sup>12</sup> = (12V / 6) / 3.3 * 4095 = 2481. ุงูุขู ููุชุจ ุฑูุฒ ูุนุงูุฌ ุงูููุงุทุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ADC1_2_IRQHandler</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ ADC2-&gt;ISR |= ADC_ISR_EOC; adcResult = ADC2-&gt;DR; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (adcResult &gt; <span class="hljs-number"><span class="hljs-number">2480</span></span>) { dutyControl = dutyControl - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { dutyControl = dutyControl + <span class="hljs-number"><span class="hljs-number">10</span></span>; } SetDutyTimerA(dutyControl); }</code> </pre><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุจุนุฏ ุงูุฏุฎูู ูู ูุนุงูุฌ ุงูููุงุทุนุฉ ุ ุชุญุชุงุฌ ุฅูู ูุณุญ ุนูุงูุฉ ูุฐุง ุงูููุงุทุนุฉ ุ ูุฅูุง ูู ุงููุฑุฉ ุงูุซุงููุฉ ุงูุชู ูู ุชุฏุฎู ูููุง.  ุซู ููุฑุฃ ุงููุชูุฌุฉ <i>ููุญูุธูุง</i> ููุชุบูุฑ <i>adcResult</i> .  ุงูุขู ุ ููุน ูุนุฑูุฉ ุงูุฌูุฏ ูู ุงูุฅุฎุฑุงุฌ ุ ุชุญุชุงุฌ ุฅูู ุถุจุท ุฏูุฑุฉ ุงูุนูู ู PWM ุ ููุฏ ููุฐุช ูุฐุง ุจุจุณุงุทุฉ ูู ุฎูุงู <i>ุญุงูุฉ</i> ุงูุดุฑุท.  ูู ูู ูุชุฑุฉ PWM ุ ูุฃุฎุฐ ููุงุณ ุฃู ุฒูุงุฏุฉ ุฃู ุชูููู ุฏูุฑุฉ ุงูุนูู ูุชุญุฏูุฏ ุงููุชูุฌุฉ ูููุชุฑุฉ ุงููุงุฏูุฉ.  ูู ุดูุก ุจุณูุท ูุณุฑูุน ูุงูุฌููุฑ ูุฑุฆู.  ูุญู ููุธุฑ ุฅูู ูุชูุฌุฉ ุงูุนูู: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/JxpeGDzYd3A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  ููุง ุชุฑูู ุ ูู ุดูุก ูุนูู ูุนูุฏูุง ูุชุบูุฑ ุฌูุฏ ุงูุฏุฎู ุ ูุจูู ุงููุงุชุฌ ููุณู ุซุงุจุชูุง ุนูุฏ 12 ูููุช.  ููุชุจู ุฌุฏูุง ุฃู ุชูุงุญุธ ุฅุจุฑูุง ุตุบูุฑุฉ ุชุชุณูู ุ ุซู ุชุญุชุงุฌ ููุท ุฅูู ุชุนููู ุณูุฑุงููู X7R ุนูุฏ ุฅุฎุฑุงุฌ 1-10 ูููุฑููุงุฑุงุฏ ูุณูุบุงุฏุฑูู ุ ุฃูุง ูุณูู ุฌุฏูุง ููุจุญุซ ุนูู ููุญุงูู.  ุงูุขู ุฑุณู ุงูุฐุจุฐุจุงุช ููุณู ุ ุญุชู ูุง ุชูุณุฏ ุงูุนูููู: <br><br><img src="https://habrastorage.org/webt/ff/xf/be/ffxfbeq791q3wqwwfmohhheyg10.png"><br><br>  ููุง ููููู ุฃู ุชุฑู ููู ูุฑุชูุน ุงูุฌูุฏ ุงููุงุชุฌ.  ุงูุญูููุฉ ูู ุฃูู ุจุณุจุจ ุฎูุงุฑุฒููุฉ ุงูุชุญูู ุ ูู ุฃุฌู ุฃู ุชุตู ุงูุชุนุจุฆุฉ ุฅูู ูููุฉ ูู 0 ุฅูู 10000 ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุงู ุญุงุฌุฉ ุฅูู ุฃูู ููุทุฉ ุฃู ุญูุงูู 10 ูููู ุซุงููุฉ.  ููุงุณุจูู ูุฃู ุงูุจุฏุงูุฉ ุงูุณููุฉ ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูููู ููุช ุงูุตุนูุฏ ุ ูู ุจุชุนููุฏ ุงูุฎูุงุฑุฒููุฉ ููููุงู ูุฅุถุงูุฉ +1000 ุ ูููุณ +10 ุ ููููุง ุงูุชุฑุจุช ูู 12V ุงููุญุฏุฏ ุ ูู ุงูุชูุธูู ุงูุฐู ุชููู ุจู ุญุชู ุชุตู ุฅูู +10 .  ุจุดูู ุนุงู ุ ูููู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุฃุดูุงุก ูู ุญูุซ ุงูุฅุฏุงุฑุฉ ุ ูุฐูู ูุฏูู ูุฌุงู ููุชุฌุงุฑุจ. <br><br>  ููุทุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ูู ุงูุชุฐุจุฐุจ ูู ููุช ุงูุงุบูุงู ุ ูุซู "ูุงุฑูููููุง".  ุงูุญูููุฉ ูู ุฃูู ุจุนุฏ ุฅููุงู ุชุดุบูู ุงูุทุงูุฉ ุ ููุงุตู ุงูุฌุฒุก ุงูุฑููู ุงูุฎุงุต ุจู ุงูุนูู ูู ูุญุฏุฉ PSU ุฃุฎุฑู ููุญุงูู ุงูุญูุงุธ ุนูู ุงููููุฉ ุงููุทููุจุฉ ูู ุงูุฅุฎุฑุงุฌ.  ูู ุฃูู ุชุฃุชู ุงูุทุงูุฉุ  ูุนู ุ ูู ููุซู ุงููุฏุฎูุงุช ุ ูุฐู ูู ุชูู ุงูุชู ุชุญุชูู ุนูู 1000 microfarads ุจุงููุนู 3 ูุทุน ุ ูุฐู ุธุงูุฑุฉ ูุซูุฑุฉ ููุงูุชูุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุงุชูุฉ </h2><br>  ุงูููุงู ูู ููู ุตุบูุฑุงู ุ ูููู ุฃุฑุฏุช ูู ุดูุก ูุนูู ุงูููุฑ ูููููู ุฏุนูุง ูุฌูุฒ ูุทุนุฉ ุงูุญุฏูุฏ - ุงุญุตู ุนูููุง.  ุขูู ุฃู ุชุณุชูุชุนูุง ุจุงูููุงู ุ ููุฏ ุญุงููุช ุฃู ุฃุฌุนูู ุบูุฑ ุนููู ุ ูููู ุนููู ุดุนุจู ุ ุจุญูุซ ุชููู ุงููุงุฏุฉ ูุชุงุญุฉ ููุฃุดุฎุงุต ุฐูู ูุณุชููุงุช ุงููุนุฑูุฉ ูุงูุฎุจุฑุฉ ุงููุฎุชููุฉ.  ุฑุจูุง ุณุฃุญูู ูู ุงููุณุชูุจู ุทุจูููุฌูุง ุฃุฎุฑู ูุซู ุงูุชุนุฒูุฒ ูุงูุฌุณุฑ ุงููุงูู ูุบูุฑูุง. <br><br>  ุจุงูููุงุณุจุฉ ุ ุณุชุฎุฏู ูุฐู ุงูููุงูุฉ ูุงูููุฏ ููุญุฏุฉ ุชุญูู MPPT ุงูุฌุฏูุฏุฉ ูู 20A ุ ูุงูุชู ุฃููู ุจุชุตููููุง.  ุฃูุง ุงูุขู ูู ุงูุชุธุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุญุงุช PCBway</a> ุ ุงูุชู ุชุทูุนุช ุจุงููุนู ูุฑุนุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุงุฑูุนู</a> ููุชูุญุฉ ุงููุตุฏุฑ ูุน ููุญุงุช ุงูุฏูุงุฆุฑ ุงููุทุจูุนุฉ ุ ูุณุชููู ูุตุงุฏุฑ MPPT ููุชูุญุฉ ุฃูุถูุง ูุฌููุน ูุญุฏุงุชู. <br><br>  ููุฏ ูุณูุช ุฃูู ุดูุก!  ุงูุญูุงุธ ุนูู ุงููุดุฑูุน ูุน ุฑูุฒ TrueSTDIO - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RAR</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar432778/">https://habr.com/ru/post/ar432778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar432768/index.html">ุณูุงุนุงุช ุฑุฃุณ ูุงุณูููุฉ ูู "ุณุจุงู ุงููุงุฑุงุซูู ุงูุชุณูุณูู": ูู ุฏููุจู ุ ุณูุชู ุชูุฏูููุง ููุงุจู 599 ุฏููุงุฑ</a></li>
<li><a href="../ar432770/index.html">Botnets ูุฃููุงุนูุง: ูุง ูู ูุนุฑูู ูู ุนุงู 2018</a></li>
<li><a href="../ar432772/index.html">ููู ุตูุนูุง ุฎุฏูุฉ ุญููุฉ ุฅุนูุงููุฉ ุชุชูุงูู ูุน ุฅุฌูุงูู ุงููุงุชุฌ ุงููุญูู</a></li>
<li><a href="../ar432774/index.html">ุงููุงุฌูุฉ ุงูุฃูุงููุฉ DevDay. ุชูุฑูุฑ ุชุณุฌูู</a></li>
<li><a href="../ar432776/index.html">ูุชุงุจ "ุงูุชูุงุนู ูู ุงูุนูู"</a></li>
<li><a href="../ar432780/index.html">ููุงุฐุง ุงูุชุนุงุทู ูุทููุจ ูู ุนุงูู ุงูุชูููููุฌูุง</a></li>
<li><a href="../ar432782/index.html">ุชุซุจูุช ูุชุนุฏุฏ ุฎุงุฏู Zimbra Collaboration Suite</a></li>
<li><a href="../ar432784/index.html">Castlevania ุจูุช</a></li>
<li><a href="../ar432786/index.html">.NET - ุงูุชุนุฑูุจ ุฏูู ุฃูู. (N) gettext + poedit</a></li>
<li><a href="../ar432788/index.html">ุงูููุงุฐุฌ ุงูุฃูููุฉ: ููููุฉ ุฅูุดุงุก ููุชุฌ ูุงุฌุญ ูุญูุธู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>