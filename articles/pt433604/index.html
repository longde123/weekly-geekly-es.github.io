<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôàÔ∏è üêï üí™üèª Trabalho confort√°vel com o Android Studio üë©üèæ‚Äçüíº ü§±üèª ü§¥üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia a todos! 


 Qu√£o produtivo √© o Android Studio? Voc√™ acha que ele funciona de maneira inteligente no seu PC ou Mac? Ou, √†s vezes, voc√™ encontr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabalho confort√°vel com o Android Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433604/"><p><img src="https://habrastorage.org/webt/we/mk/6t/wemk6tsmfqmmuwmtypfern4b0yg.jpeg"><br>  Bom dia a todos! </p><br><p>  Qu√£o produtivo √© o Android Studio?  Voc√™ acha que ele funciona de maneira inteligente no seu PC ou Mac?  Ou, √†s vezes, voc√™ encontra atrasos ou uma assembl√©ia longa?  E em grandes projetos? </p><br><p>  De qualquer forma, todos queremos obter o m√°ximo desempenho de hardware e software.  Portanto, preparei uma lista de pontos e dicas para iniciantes e desenvolvedores experientes que ajudar√£o voc√™ a trabalhar confortavelmente em grandes projetos ou simplesmente aumentar a produtividade.  Voc√™ tamb√©m entender√° se o seu equipamento precisa de uma atualiza√ß√£o. </p><br><p>  Usu√°rios de outros IDEs populares tamb√©m podem encontrar algo √∫til para si mesmos. </p><a name="habracut"></a><br><h2 id="motivaciya">  Motiva√ß√£o </h2><br><p>  O Android Studio era desajeitado nos dias da transi√ß√£o do Eclipse.  E j√° comecei a procurar maneiras de otimizar o trabalho desse IDE.  No entanto, a maioria dos colegas se relaciona com esse "jeito nenhum".  Isso funciona.  Nem sempre r√°pido.  E tudo bem. </p><br><p>  Mas h√° um ano eu trabalho em outra empresa.  O clima √© diferente, os desenvolvedores leem relat√≥rios sobre v√°rias tecnologias.  Em um desses relat√≥rios, pareceu-me que o t√≥pico deste artigo poderia estar em demanda.  Especialmente no √¢mbito de projetos de maior complexidade t√©cnica. </p><br><p>  Tendo conversado com colegas e conhecidos de desenvolvedores, ficou claro para mim que nem todo profissional compreende as nuances de ferro, SO e IDE.  Porque aqui tentei coletar um programa educacional completo com base em minha pr√≥pria experi√™ncia. </p><br><p>  <strong>AVISO LEGAL!</strong>  <strong>Todos os modelos e marcas mencionados no artigo n√£o est√£o anunciando!</strong> </p><br><h2 id="zhelezo">  Ferro </h2><br><p>  Aqui est√° o que √© dito sobre o hardware no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site oficial do Android Studio</a> na coluna Requisitos do sistema (sem contar o espa√ßo em disco): </p><br><pre><code class="plaintext hljs">3 GB RAM minimum, 8 GB RAM recommended; plus 1 GB for the Android Emulator 1280x800 minimum screen resolution</code> </pre> <br><p>  Isso √© suficiente para o est√∫dio come√ßar e trabalhar.  N√£o estamos falando de desempenho e conforto. </p><br><p>  Neste cap√≠tulo, falarei sobre que tipo de hardware √© desej√°vel para um trabalho confort√°vel em grandes projetos e o que pode se tornar um "gargalo" em seu sistema. </p><br><p>  Aqui, 5 par√¢metros s√£o mais cr√≠ticos para n√≥s: </p><br><ul><li>  Desempenho da CPU </li><li>  N√∫mero de threads de hardware da CPU </li><li>  Quantidade de RAM </li><li>  Velocidade aleat√≥ria de leitura e grava√ß√£o do subsistema de disco </li><li>  A velocidade da leitura de pequenos blocos e da grava√ß√£o de pequenos blocos de um subsistema de disco </li></ul><br><p>  Como muitas vezes trabalhei em configura√ß√µes baseadas em produtos Intel, falaremos sobre elas.  No entanto, se voc√™ possui AMD, basta ler e fazer corre√ß√µes para tecnologias vermelhas semelhantes.  O √∫nico ponto negativo que eu enfrentei na AMD <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">j√°</a> foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">descrito em Habr√©</a> . </p><br><h4 id="para-slov-o-mac">  Algumas palavras sobre o Mac </h4><br><p>  Acredita-se que o Mac seja a melhor m√°quina para desenvolvimento.  Isso √© dito frequentemente sobre o MacBook Pro. </p><br><p>  Pessoalmente, considero isso um mito.  Com o advento da tecnologia, o NVMe Mac perdeu sua "m√°gica".  Hoje, mesmo entre os laptops, o Mac n√£o √© l√≠der em termos de pre√ßo, qualidade e desempenho.  Especialmente no contexto de desenvolvimento para o Android Studio. </p><br><p>  Caso contr√°rio, para um desenvolvimento confort√°vel, o MacBook Pro de 2015 ou 2016 n√£o possui um processador U.  Leia sobre outros recursos e servi√ßos abaixo. </p><br><h4 id="processor">  CPU </h4><br><p>  O desempenho do processador √© √≥bvio e compreens√≠vel.  Quanto mais alto, melhor.  A √∫nica coisa a observar √© que, se voc√™ tiver uma unidade suficientemente r√°pida, um processador fraco se tornar√° um gargalo no seu sistema.  Especialmente cr√≠tico no caso do NVMe-drive.  Freq√ºentemente, ao trabalhar com ele, a √™nfase est√° precisamente no poder da CPU. </p><br><p>  Com os t√≥picos, as coisas s√£o um pouco mais complicadas.  Eu li que os usu√°rios reduzem a prioridade do est√∫dio e seus subprocessos para que o sistema operacional n√£o "paralise" durante a montagem.  O motivo aqui √© um - 1-2 segmentos de hardware.  Isso n√£o √© suficiente n√£o apenas para o IDE, mas tamb√©m para um sistema operacional moderno.  O √∫nico "mas" - na minha pr√°tica, havia situa√ß√µes em que os processadores U de n√∫cleo duplo com Hyper Threading (ou seja, 2 n√∫cleos para 4 threads) trabalhavam normalmente com projetos relativamente pequenos, mas nos grandes os problemas acima come√ßaram. </p><br><p>  Obviamente, a virtualiza√ß√£o de hardware √© necess√°ria. </p><br><p>  Portanto, recomendo olhar para o Core i5 HQ Skylake com 4 ou mais fluxos e mais poderoso. </p><br><h4 id="operativnaya-pamyat">  RAM </h4><br><p>  Em rela√ß√£o aos padr√µes, DDR3 e superior.  Aqui, eu acho, est√° claro. </p><br><p>  Se for poss√≠vel trabalhar no modo de 2 ou 4 canais e eles n√£o estiverem ativos para voc√™, eu recomendo us√°-lo, pois voc√™ pode obter um aumento significativo na capacidade de resposta do IDE.  Esse recurso √© ativado nas configura√ß√µes de BIOS \ UEFI ou instalando m√≥dulos de RAM adicionais (se voc√™ ainda tiver um m√≥dulo). </p><br><p>  Que volume √© necess√°rio?  Para projetos pequenos (muito pequenos), 4 GB s√£o suficientes.  Em projetos maiores, o est√∫dio √© capaz de ocupar rapidamente 4 GB de mem√≥ria e muito mais.  Adicione o emulador HAXM (digamos 2 GB) aqui e leve em considera√ß√£o que o sistema operacional moderno (com exce√ß√£o de algumas distribui√ß√µes Linux) ocupa cerca de 2 GB na mem√≥ria - e agora parece que 8 GB j√° est√£o "invertidos". </p><br><p>  Isso n√£o leva em considera√ß√£o, por exemplo, o Slack (que ocupa uma m√©dia de cerca de 500 mb na mem√≥ria) e o Chrome (onde a conta √© atribu√≠da a gigabytes). </p><br><p>  Em geral, com 8 GB de RAM, voc√™ pode trabalhar com rapidez e conforto - ele economiza uma unidade r√°pida e um arquivo swap \ swap.  Mas vale a pena pensar em uma atualiza√ß√£o. </p><br><p>  Portanto, a empresa compra novas ou fornece uma atualiza√ß√£o das m√°quinas atuais para 12 GB de RAM ou mais. </p><br><h4 id="ssd">  SSD </h4><br><p>  O subsistema de disco √© o ‚Äúgargalo‚Äù mais frequente; portanto, √© necess√°rio prestar aten√ß√£o a ele antes de tudo. </p><br><p>  Trabalhar com o Android Studio no HDD em 2018 √© compar√°vel ao tormento - quanto maior o projeto, mais frisos voc√™ recebe.  Portanto, obviamente, use apenas SSD. </p><br><p>  Como mencionado acima, existem dois par√¢metros cr√≠ticos: </p><br><ul><li>  Velocidade aleat√≥ria de leitura e grava√ß√£o do subsistema de disco </li><li>  A velocidade da leitura de pequenos blocos e da grava√ß√£o de pequenos blocos de um subsistema de disco </li></ul><br><p>  Quanto mais altos, mais responsivo ser√° o est√∫dio e mais r√°pido ele ser√° carregado e montado. </p><br><p>  Chamo a aten√ß√£o para o fato de que n√£o se fala em velocidades lineares de leitura / grava√ß√£o - isso n√£o √© cr√≠tico para um est√∫dio.  Portanto, ao escolher uma unidade, √© necess√°rio observar n√£o a velocidade de leitura / grava√ß√£o no site do fabricante ou da loja, mas o n√∫mero de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IOPS</a> (quanto mais, melhor). </p><br><p>  Obviamente, aqui n√£o estamos falando sobre o Mac, j√° que a unidade l√° tem seu pr√≥prio padr√£o ou √© simplesmente soldada na placa.  A substitui√ß√£o √© poss√≠vel, exceto por um volume maior.  √â improv√°vel que seja poss√≠vel aumentar as caracter√≠sticas de velocidade aqui. </p><br><h4 id="nvme">  NVMe </h4><br><p>  Se sua placa-m√£e suportar a tecnologia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NVMe</a> , √© melhor usar uma unidade com seu suporte.  Permite obter velocidades compar√°veis ‚Äã‚Äãaos SSDs no Mac e superior. </p><br><p>  Se voc√™ possui uma unidade r√°pida, o foco est√° no barramento PCIe e na pot√™ncia da sua CPU.  Portanto, se, por exemplo, sua placa-m√£e suportar sa√≠da para uma unidade PCIe 2.0x4 \ 3.0x2 ou voc√™ n√£o tiver uma CPU muito poderosa, n√£o compre uma unidade muito cara.  Veja os recursos do seu sistema e a espessura da sua carteira. </p><br><h4 id="sata3">  SATA3 </h4><br><p>  Sim, o SATA3 √© mais vivo do que todos os que vivem.  E voc√™ pode trabalhar rapidamente com isso no est√∫dio. </p><br><p>  Nesse segmento, as unidades de alta velocidade s√£o mais acess√≠veis, portanto, faz sentido olhar imediatamente para as principais solu√ß√µes com capacidade de 120 GB ou mais. </p><br><h4 id="intel-optane">  Intel Optane </h4><br><p>  N√£o precisei usar o Android Studio em uma m√°quina com esta unidade (se √© que voc√™ pode chamar assim).  Se algu√©m tiver experi√™ncia, escreva nos coment√°rios. </p><br><h4 id="gpu">  GPU </h4><br><p>  N√£o h√° necessidade de falar muito. <br>  Se voc√™ escreve aplicativos de usu√°rio comuns, algo como o Intel HD 500 Series √© suficiente para o est√∫dio e o pr√≥prio emulador. </p><br><p>  Se voc√™ est√° desenvolvendo jogos ou esta √© sua m√°quina pessoal, gr√°ficos discretos fazem sentido.  Que - olhe de acordo com suas necessidades. </p><br><h4 id="sistema-ohlazhdeniya-i-trottling">  Sistema de refrigera√ß√£o e estrangulamento </h4><br><p>  N√£o se trata de atualiza√ß√£o, mas de manuten√ß√£o. </p><br><p>  A maioria de n√≥s conhece o fen√¥meno da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">limita√ß√£o</a> .  Sua implementa√ß√£o √© usada para proteger contra superaquecimento. </p><br><p>  Obviamente, a otimiza√ß√£o leva a uma diminui√ß√£o da produtividade.  Nem sempre √© percept√≠vel.  Em alguns casos, a opera√ß√£o do Turbo Boost √© reduzida aos valores m√≠nimos; em outros, √© iniciada uma queda nas frequ√™ncias m√°ximas do processador.  O motivo √© a opera√ß√£o insuficiente do sistema de refrigera√ß√£o.  Tamb√©m √© importante entender que a maioria dos testes de estresse (como o AIDA) diagnosticam a opera√ß√£o regular do Turbo Boost como limita√ß√£o. </p><br><p>  No caso de PCs de mesa, tudo est√° online h√° muito tempo.  No caso de sistemas m√≥veis baseados em heat pipes, muitas informa√ß√µes conflitantes.  Isso inclui a maioria dos laptops, nettops, MacBooks e iMacs.  Al√©m disso, vamos nos concentrar neles. </p><br><p>  Em modernas CPUs m√≥veis poderosas, 80-90 graus em um chip sob carga √© a norma.  Ao mesmo tempo, os SOCs com essas CPUs t√™m um design de chip aberto, o que reduz a √°rea de transfer√™ncia de calor.  Todo esse monte de calor √© removido <del>  esse rid√≠culo </del>  projeto semelhante com um pequeno circuito l√≠quido fechado. </p><br><div class="spoiler">  <b class="spoiler_title">Sistema de refrigera√ß√£o m√≥vel moderno</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/cs/cg/fv/cscgfvz76oz4aw6o5mmgjjqbrh0.png"></p></div></div><br><p>  Deve-se entender que esses sistemas de refrigera√ß√£o sofrem cargas maiores e requerem manuten√ß√£o mais frequente.  Especialmente no caso de laptops e MacBooks, quando transportados de vibra√ß√µes, a camada de pasta t√©rmica seca entra em colapso mais rapidamente.  E a manuten√ß√£o prematura √© repleta n√£o apenas de perda de produtividade, mas tamb√©m de vazamentos de termotubos e "despejos" de cristais. </p><br><p>  A manuten√ß√£o consiste em substituir a pasta t√©rmica e limpar o radiador uma vez a cada seis meses a um ano ap√≥s o final do per√≠odo de garantia.  De qualquer forma, √© isso que estamos fazendo. </p><br><p>  Devido √† pequena √°rea do cristal, faz sentido usar pasta t√©rmica diel√©trica com alta condutividade t√©rmica (isso custa em torno de 800-1000 r por grama).  <strong>Nunca use metal l√≠quido!</strong>  <strong>Caso contr√°rio, voc√™ provavelmente n√£o ser√° capaz de separar o cristal da placa!</strong> </p><br><p>  Se voc√™ n√£o possui habilidades suficientes para esse procedimento, √© melhor entrar em contato com o servi√ßo. </p><br><h2 id="apparatnye-nastroyki">  Configura√ß√µes de hardware </h2><br><p>  Este cap√≠tulo se concentrar√° nas fun√ß√µes e configura√ß√µes do equipamento.  Provavelmente, voc√™ j√° est√° familiarizado com isso. </p><br><h4 id="intel-hyper-threading">  Intel Hyper Threading </h4><br><p>  Esta √© a tecnologia Intel, que divide o fluxo de hardware do kernel em dois "virtuais".  Gra√ßas a ela, o sistema v√™ o processador de 4 n√∫cleos como um de 8 n√∫cleos.  Essa abordagem permite que voc√™ utilize efetivamente a energia do processador.  A AMD possui uma tecnologia semelhante. </p><br><p>  Muitas vezes, encontro o fato de que muitos desenvolvedores t√™m esse recurso desativado e geralmente n√£o sabem disso.  No entanto, sua inclus√£o pode aumentar a capacidade de resposta do est√∫dio e aumentar o desempenho.  Em alguns casos, em 10-15%. </p><br><p>  Ele √© ativado nas configura√ß√µes de BIOS \ UEFI da sua placa-m√£e ou laptop.  Um item √© chamado de maneira semelhante ou semelhante.  Se voc√™ ainda n√£o sabia sobre essa tecnologia, faz sentido verificar sua disponibilidade e ativar se isso n√£o tiver sido feito. </p><br><h4 id="intel-turbo-boost">  Intel Turbo Boost </h4><br><p>  Outra tecnologia bem conhecida.  De fato, √© um overclock autom√°tico de curto prazo da CPU e oferece um aumento significativo durante a montagem.  E, ao mesmo tempo, tem a capacidade de aquecer processadores m√≥veis a temperaturas n√£o muito distantes da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tjunction</a> . </p><br><p>  Portanto, se essa tecnologia foi desativada anteriormente, antes de ligar, √© aconselh√°vel verificar o status do sistema de refrigera√ß√£o e, possivelmente, executar sua manuten√ß√£o, conforme descrito no cap√≠tulo anterior. </p><br><p>  Pode ser ativado no BIOS \ UEFI e nas configura√ß√µes do sistema operacional. </p><br><h4 id="intel-rapid-storage">  Armazenamento r√°pido Intel </h4><br><p>  O suporte para esta placa-m√£e de tecnologia √© altamente recomendado.  Mais detalhes podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  S√≥ posso recomendar a atualiza√ß√£o de drivers desta tecnologia em tempo h√°bil para a vers√£o mais recente no site oficial da Intel.  Mesmo que o fabricante do seu laptop forne√ßa drivers mais antigos. </p><br><p>  No meu caso particular, a atualiza√ß√£o da vers√£o do driver do fabricante para a atual aumentou a velocidade da grava√ß√£o linear em cerca de 30% e a velocidade arbitr√°ria em 15%. </p><br><p>  Como instalar e atualizar drivers IRST no Linux - eu n√£o sei (e, em geral, isso √© poss√≠vel?).  Se algu√©m souber, escreva nos coment√°rios, terei prazer em complementar o artigo. </p><br><h4 id="ssd-secure-erase">  Apagar Seguro SSD </h4><br><p>  O desempenho dos modelos SSD de baixo custo pode diminuir com o tempo.  Isso nem sempre acontece devido √† "degrada√ß√£o" da unidade.  Talvez no seu modelo o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TRIM</a> n√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">seja</a> implementado com muita efici√™ncia. </p><br><p>  O Secure Erase for√ßar√° o controlador a marcar todas as c√©lulas de mem√≥ria vazias, o que, teoricamente, deve restaurar o desempenho do SSD ao estado de f√°brica.  <strong>E tamb√©m apague todos os seus dados!</strong>  <strong>Cuidado, fa√ßa backups!</strong> </p><br><p>  Voc√™ pode executar o procedimento usando um utilit√°rio propriet√°rio do fabricante.  Se o seu disco for um sistema, voc√™ precisar√° de uma unidade flash, que o utilit√°rio tornar√° inicializ√°vel.  Siga as instru√ß√µes abaixo. </p><br><p>  Em um est√°gio, pode ser necess√°rio reconectar o inversor diretamente durante a opera√ß√£o.  Portanto, no caso de M.2, a presen√ßa de um adaptador √© muito desej√°vel. </p><br><p>  O uso de utilit√°rios de terceiros para esta opera√ß√£o √© altamente desencorajado. </p><br><p>  No entanto, se o seu SSD perder significativamente a velocidade em menos de um ano, √© melhor mudar a unidade para outro modelo. </p><br><h4 id="apparatnaya-virtualizaciya">  Virtualiza√ß√£o de hardware </h4><br><p>  Essa tecnologia √© necess√°ria para a opera√ß√£o r√°pida do emulador x86.  Se voc√™ o tiver desativado, ative-o nas configura√ß√µes do BIOS \ UEFI.  Fornecedores diferentes podem ter nomes de configura√ß√µes diferentes. </p><br><p>  Sim, todos sabemos sobre o Genymotion e o BlueStacks, que funcionam bem sem a virtualiza√ß√£o de hardware.  No entanto, nas imagens desses emuladores, algumas ou muitas implementa√ß√µes da API do Android s√£o bastante alteradas para aumentar a velocidade do trabalho.  Isso pode provocar um comportamento que voc√™ nunca encontrar√° em um dispositivo real.  Ou, ao depurar, voc√™ pode perder alguns bugs.  Portanto, a presen√ßa de um AVD √°gil e funcional √© altamente desej√°vel. </p><br><h2 id="os-i-storonniy-soft">  SO e software de terceiros </h2><br><p>  Neste cap√≠tulo, discutiremos a poss√≠vel configura√ß√£o e instala√ß√£o do SO de software de terceiros para aumentar a produtividade. </p><br><h4 id="indeksaciya">  Indexa√ß√£o </h4><br><p>  Trata-se de encontrar o Windows e o Spotlight no Mac OS.  Esses mecanismos podem consumir at√© 15% da energia da CPU durante a montagem porque tentam indexar tudo o que √© gerado no / build. </p><br><p>  Obviamente, a partir da indexa√ß√£o √© necess√°rio excluir todos os diret√≥rios com os quais o est√∫dio trabalha: </p><br><ul><li>  Diret√≥rio do SDK </li><li>  Diret√≥rio do Studio </li><li>  Diret√≥rio do Projeto (altamente recomendado) </li><li>  ~ / .gradle </li><li>  ~ / .android </li><li>  ~ / Android StudioX.X </li><li>  ~ / lldb </li><li>  Diret√≥rio de cache Kotlin </li></ul><br><h4 id="antivirus">  Antiv√≠rus </h4><br><p>  Eu sei que nem todos no ambiente de desenvolvimento decidiram usar um antiv√≠rus.  Mas muitos o usam.  Incluindo, √†s vezes, no Linux e Mac OS.  E seu uso √© completamente justificado. </p><br><p>  Mesmo se voc√™ tiver o Windows 10 e nenhum antiv√≠rus, o Windows Defender executa suas fun√ß√µes. </p><br><p>  A montagem de um antiv√≠rus pode ocupar uma parte muito significativa da CPU.  Portanto, todos os diret√≥rios listados na coluna "Indexa√ß√£o" devem ser adicionados √†s exce√ß√µes do antiv√≠rus.  Al√©m disso, faz sentido adicionar os nomes de processo do est√∫dio e da JVM do JetBrains √†s exce√ß√µes. </p><br><p>  Dependendo da implementa√ß√£o do antiv√≠rus, o consumo da CPU durante a compila√ß√£o diminuir√° significativamente ou deixar√° de consumir a energia da CPU.  E o pr√≥prio tempo de montagem diminuir√° visivelmente. </p><br><h4 id="shifrovanie-diska-ili-domashney-direktorii">  Criptografia de unidade ou diret√≥rio inicial </h4><br><p>  Essas fun√ß√µes est√£o presentes em todos os sistemas operacionais populares ou s√£o implementadas por software de terceiros.  Obviamente, o trabalho de est√∫dio no espa√ßo de arquivo criptografado pode exigir mais energia da CPU.  Quanto depende da implementa√ß√£o da criptografia.  Portanto, √© recomend√°vel desativar essas fun√ß√µes completamente ou, se poss√≠vel, para os diret√≥rios listados na coluna "Indexa√ß√£o". </p><br><h4 id="a-rabotaet-li-trim">  O TRIM funciona? </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O TRIM</a> pode ser implementado tanto em hardware quanto em software.  Neste √∫ltimo caso, o dever de chamar TRIM recai sobre o sistema operacional.  E, por v√°rios motivos, uma chamada peri√≥dica pode ser desconectada, o que leva a uma queda na velocidade do drive. </p><br><p>  Voc√™ pode testar a integridade e retomar as chamadas TRIM usando utilit√°rios especializados.  √â recomend√°vel usar utilit√°rios do fabricante da unidade. </p><br><h4 id="ramdisk">  RAMDisk </h4><br><p>  O que √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RAMDisk, a</a> maioria j√° sabe h√° muito tempo.  Mas qual √© a efic√°cia do trabalho com o est√∫dio? </p><br><p>  Por experi√™ncia pr√≥pria, n√£o vou dizer muito.  A menos que voc√™ transfira o projeto em si, SDK, est√∫dio e assim por diante para o RAMDisk.  Se voc√™ tiver RAM suficiente ... </p><br><p>  Com uma simples transfer√™ncia do projeto com peso superior a 500 mb (a figura √© indicada com o cache de compila√ß√£o), n√£o foi poss√≠vel obter um aumento superior a 15%.  Aparentemente, as chamadas para o SDK e as APIs do sistema est√£o mais lentas.  Como resultado, esse aumento √© bastante caro. </p><br><p>  O m√©todo a seguir √© muito mais eficiente e muito mais barato. </p><br><h4 id="keshirovanie-zaprosov-k-nakopitelyu">  Solicita√ß√µes de unidade de cache </h4><br><p>  Algo semelhante √© implementado no Mac OS.  No entanto, em compara√ß√£o com as tecnologias listadas abaixo, n√£o √© t√£o eficaz. </p><br><p>  Infelizmente, conhe√ßo apenas duas implementa√ß√µes e ambas est√£o rigidamente ligadas aos produtos dos fabricantes.  √â sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Samsung RAPID</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlexTurbo</a> . </p><br><p>  Ambas as tecnologias funcionam com princ√≠pios semelhantes (eu descrevo como me entendi): </p><br><ul><li>  Se houver uma solicita√ß√£o para ler pequenos volumes, eles ser√£o adiados para a RAM e, quando lidos novamente, ser√£o retirados de l√°.  Cache de RAM padr√£o. </li><li>  Se houve um pedido para gravar pequenos dados, eles s√£o adiados para o cache da RAM.  Em seguida, as solicita√ß√µes de grava√ß√£o s√£o comparadas com o cache.  Se voc√™ reescreve os mesmos dados nos mesmos caminhos - por que regrav√°-los no hardware?  E o SSD viver√° mais. </li></ul><br><p>  A √∫nica diferen√ßa √© que o RAPID usa a RAM livre restante como cache.  Menos equil√≠brio - menos tamanho do cache, menos acelera√ß√£o.  O PlexTurbo permite limitar o tamanho m√°ximo do cache e carreg√°-lo do disco r√≠gido na inicializa√ß√£o do sistema. </p><br><p>  Se usado no SATA 3, voc√™ pode obter um aumento de at√© 50%.  Ao usar uma unidade NVMe, ela √© menor, mas geralmente tamb√©m √© significativa. </p><br><p>  No momento, eu tenho o Samsung 860 EVO SATA 3. Em baixo do spoiler, h√° benchmarks com o i7 6700HQ e o Turbo Boost desativados. </p><br><div class="spoiler">  <b class="spoiler_title">860 EVO antes de ligar o RAPID e duas execu√ß√µes ap√≥s</b> <div class="spoiler_text"><p>  RAPID desativado </p><br><p><img src="https://habrastorage.org/webt/n-/ej/jq/n-ejjqwzif0simqqnr9kslipkkg.png"></p><br><p>  Primeira execu√ß√£o </p><br><p><img src="https://habrastorage.org/webt/hz/j7/tn/hzj7tnao03uis02skljuo--4kdu.png"></p><br><p>  Segunda execu√ß√£o </p><br><p><img src="https://habrastorage.org/webt/dp/in/b2/dpinb2gzcow-ze4fogmuc1og4pq.png"></p></div></div><br><p>  Voc√™ pode ver claramente como o sistema come√ßa a armazenar dados em cache na primeira execu√ß√£o.  O resultado final √© significativamente maior que o SATA 3. No entanto, a efic√°cia dessa tecnologia depende mais das capacidades da CPU.  O que √© claramente vis√≠vel quando voc√™ ativa o Turbo Boost. </p><br><div class="spoiler">  <b class="spoiler_title">860 EVO + RAPID + Turbo Boost</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ja/py/2h/japy2hmwitfdrfb8rav_vts8qoe.png"></p></div></div><br><p>  Sint√©ticos √©, claro, bom.  Mas tudo funciona ao ler / gravar pequenos arquivos repetidos.  E essas s√£o as opera√ß√µes mais comuns ao executar o Android Studio. </p><br><p>  Atualmente, estou trabalhando em um projeto com um cache total de mais de 700 MB, composto por 10 m√≥dulos.  Um dos m√≥dulos √© o seu pr√≥prio gerador de c√≥digo baseado em kapt com l√≥gica muito pesada.  Dois m√≥dulos NDK, um dos quais se refere ao Boost em um caminho externo.  O resto s√£o toneladas de c√≥digo Kotlin. </p><br><p>  Se compararmos o tempo de uma reconstru√ß√£o completa deste projeto, os resultados ser√£o os seguintes: </p><br><ul><li>  Com o RAPID desligado, o tempo era de 1m 47s 633ms.  Tolerante. </li><li>  Com o RAPID ativado, a primeira reconstru√ß√£o passou em 1m 41s 633ms.  Empilhados em erro. </li><li>  Com o RAPID ativado, a segunda reconstru√ß√£o passou em 1m 7s 132m.  Aqui est√° o ganho.  Um pouco mais de 37%, o que √© significativo.  Recria√ß√µes adicionais mostram um tempo ainda mais curto, mas com uma diferen√ßa de n√£o mais que 3-5 segundos da √∫ltima medi√ß√£o.  O que √© imaterial. </li></ul><br><p>  Em processos mais curtos, o crescimento no est√∫dio √© imediatamente percept√≠vel. </p><br><p>  Como resultado, podemos recomendar essas tecnologias e unidades como uma boa maneira de aumentar a produtividade.  N√£o houve queixas sobre estabilidade. </p><br><h2 id="android-studio">  Android Studio </h2><br><p>  Muitas dessas dicas s√£o tiradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">daqui</a> e complementadas por meus coment√°rios.  O resto √© o resultado da minha pesquisa e experi√™ncia. </p><br><h4 id="obnovleniya">  Atualiza√ß√µes </h4><br><p>  O conselho, embora banal, √© sempre relevante.  Se voc√™ n√£o possui um projeto legado, tente, se poss√≠vel, manter as vers√µes do est√∫dio e componentes relacionados (como Gradle, Android Plugin, Kotlin Plugin) atualizados.  Google e JetBrains fazem muito trabalho para otimizar a velocidade e criar novas vers√µes. </p><br><p>  √Äs vezes, √© claro, o constrangimento acontece quando novas vers√µes param de se comportar de maneira previs√≠vel e provocam erros.  Portanto, temos um regulamento sobre como agir em tais situa√ß√µes. </p><br><p>  Em alguns casos, voc√™ precisa fazer File-&gt; invalidar caches e reiniciar ap√≥s a revers√£o.  Se voc√™ atualizar o pr√≥prio est√∫dio, √© melhor fazer backup dos diret√≥rios e dos diret√≥rios de est√∫dio.  Isso √© verdade se o seu projeto contiver qualquer <del>  </del>  ,       . </p><br><h4 id="struktura-proekta">   </h4><br><p>  ,      ,       API,   library-.      .       ,  ,    . </p><br><p> ,     .     ,   . </p><br><h4 id="instant-run"> Instant Run </h4><br><p>    .            " ".        .      -. </p><br><p> ,       ,      .        . ,             -    ,   Instant Run. </p><br><p>        Build, Execution, Deployment -&gt; Instant Run  Enable Instant Run. </p><br><h4 id="attach-to-process"> Attach to Process </h4><br><p>      .   ,    (   )     .                . </p><br><p> ,               -   Attach debugger to Android process. </p><br><h4 id="gradle-build-configs"> Gradle build configs </h4><br><p>  ,      buildConfig  flavour  ,     release- (, crashlytics,  annotation-   gradle-)-    debug     .   -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,     ,   . </p><br><p>  ,     buildConfig,      PNG crunching,   -      debug-.      png  .     : </p><br><pre> <code class="plaintext hljs">android { buildTypes { myConfig { crunchPngs false } } } //   android plugin android{ aaptOptions { cruncherEnabled false } }</code> </pre> <br><h4 id="webp"> WebP </h4><br><p>  minimum api level    18,       WebP.    ,           .         . ,      -      . </p><br><h4 id="parallelnaya-sborka">   </h4><br><p>        (,  app-),       Compile independent modules in parallel  Settings-&gt;Build, Execution, Deployment -&gt; Compiler.       CPU  . -  heap size ,  ,    . </p><br><p>          gradle.properties </p><br><p> <code>org.gradle.parallel=true</code> </p> <br><h4 id="gradle-daemon"> Gradle daemon </h4><br><p>        -     ,       . </p><br><p>       jvm  gradle           .           . -    .    gradle.properties </p><br><p> <code>org.gradle.daemon=true</code> </p> <br><h4 id="offline-sborka"> Offline- </h4><br><p>   Gradle   web- ,   .    .     ,    -     . </p><br><p>   Build, Execution, Deployment -&gt; Gradle   Offline work. </p><br><h4 id="uvelichenie-heap-size-android-studio-ili-idea">  heap size Android Studio  IDEA </h4><br><p>      .      xmx1280m (  ,      RAM  ).          GC ,  ,  . </p><br><p>   heap size    ,   Gradle. </p><br><p>  Gradle   gradle.properties </p><br><p> <code>org.gradle.jvmargs=-Xms1024m -Xmx4096m</code> </p> <br><p>   1       4   .      ,      . </p><br><p>   Android Studio  IDEA    Help -&gt; Edit Custom VM Options     JVM-    . </p><br><p>       JVM  ,       - .         <code>java -X</code> . </p><br><h4 id="plaginy">  Plugins </h4><br><p>    ,    IDE.     - .        .      . </p><br><p>      -    .    Settings -&gt; Plugins   ,    ,       .  ,     - . </p><br><h4 id="inspections"> Inspections </h4><br><p>       Settings -&gt; Editor -&gt; Inspections    IDE.  . </p><br><p>      ,   . -      ,      . </p><br><h4 id="power-save-mode"> Power Save mode </h4><br><p>       File.       (,   , Spell Checking  ..).       .        , , VS Code. </p><br><p>     ,    . </p><br><h4 id="settings-repository"> Settings Repository </h4><br><p>     ,   .            .       . </p><br><p>        codestyle-          Git,    copyright     ,      codestyle    . </p><br><p> , ,  .idea  ,  -  . </p><br><h4 id="avd"> AVD </h4><br><p>      AVD    .   3     ,           (   x86-). </p><br><p>    ,   x86- Pie  AVD  .    .   ,   . </p><br><p>  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HAXM</a>    2  RAM . </p><br><p>  ,  AVD   CPU    - ,    . ,    CPU   -     . </p><br><p>     -        .         Settings -&gt; Advanced .     ,         .   ,     Cold Boot.       . </p><br><div class="spoiler"> <b class="spoiler_title">    AVD</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/dh/wt/gi/dhwtgimqz0chd6ecwtzygtg4zei.jpeg"></p></div></div><br><p>    GPU      ,   -      GPU,    .    ,     .     Cold Boot. </p><br><h2 id="itog">  Sum√°rio </h2><br><p>   ,       .       . </p><br><p> -   . ,        . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt433604/">https://habr.com/ru/post/pt433604/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt433592/index.html">Informa√ß√µes: Yandex.Phone</a></li>
<li><a href="../pt433596/index.html">Erro de Magalh√£es: satura√ß√£o de buffer ou expedi√ß√£o ao redor do mundo usando SQLite FTS</a></li>
<li><a href="../pt433598/index.html">Como o LLVM otimiza a fun√ß√£o</a></li>
<li><a href="../pt433600/index.html">O Pixel 3 aprende como determinar a profundidade nas fotos</a></li>
<li><a href="../pt433602/index.html">A simplicidade matem√°tica pode estar na base da velocidade da evolu√ß√£o.</a></li>
<li><a href="../pt433606/index.html">Profundidades do SIEM: correla√ß√µes prontas para uso. Parte 3.2 Metodologia de Normaliza√ß√£o de Eventos</a></li>
<li><a href="../pt433608/index.html">O carro do futuro. Telas em vez de vidro autom√°tico?</a></li>
<li><a href="../pt433610/index.html">Notas de um fitoqu√≠mico. Caqui</a></li>
<li><a href="../pt433612/index.html">FCC: Sat√©lites SpaceX em √≥rbita - uma fonte de detritos perigosos para os habitantes da Terra</a></li>
<li><a href="../pt433614/index.html">Como assumir o controle de sua infraestrutura de rede. Cap√≠tulo Um Reten√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>