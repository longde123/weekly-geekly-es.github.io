<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí§ üë®üèæ‚Äçüíª ü§üüèª Criando uma chave RFID universal para interfones üåó üíô ü¶Ö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sauda√ß√µes a todos os interessados ‚Äã‚Äãno t√≥pico de ve√≠culos eletr√¥nicos com todos os terrenos. Na verdade, eu mesmo n√£o acompanho as not√≠cias nesta √°rea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando uma chave RFID universal para interfones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485104/">  Sauda√ß√µes a todos os interessados ‚Äã‚Äãno t√≥pico de ve√≠culos eletr√¥nicos com todos os terrenos.  Na verdade, eu mesmo n√£o acompanho as not√≠cias nesta √°rea h√° muito tempo.  Mas quero publicar meu desenvolvimento de tr√™s anos atr√°s, pois √© f√°cil repetir e pode ser do interesse de algu√©m.  Conclus√£o: em vez de uma d√∫zia de chaves com c√≥digos para todos os terrenos e c√≥digos justos, todas as chaves podem ser transportadas em um pequeno dispositivo. <br><br><img src="https://habrastorage.org/webt/fb/8l/s4/fb8ls4ydh-hfj8zheobot3rzac4.jpeg"><br><a name="habracut"></a><br><blockquote> Isen√ß√£o de responsabilidade: repita - n√£o exorto pela montagem e uso - voc√™ √© respons√°vel, compartilho informa√ß√µes apenas para fins informativos.  Por exemplo, para ajudar as empresas que atendem com viva-voz local a consertar ‚Äúburacos‚Äù a tempo, se forem detectados usando o dispositivo. </blockquote><h3>  1. O que √© isso?  O que pode? </h3><br>  O dispositivo que eu coletei em 2017 nada mais √© do que um spoofer para uma chave RFID de interfone operando a uma frequ√™ncia de 125 kHz.  A palavra "spoofer", neste caso, significa que o dispositivo, na verdade n√£o √© uma chave, o personifica e os intercomunicadores respondem de acordo. <br><br>  O dispositivo pode transmitir quaisquer c√≥digos de chave que s√£o gravados em sua mem√≥ria.  Alguns c√≥digos podem ser encontrados na Web para ‚Äúchaves todo-o-terreno‚Äù, eu os inseri primeiro no firmware.  Mas com alguma habilidade e desejo, voc√™ pode inserir no firmware os c√≥digos de todas as chaves RFID que voc√™ usa (se elas funcionam com uma frequ√™ncia de 125 kHz) e, assim, poder substituir um monte de porta-chaves por um dispositivo. <br><br>  Eu sei que na vastid√£o da Web h√° um grande n√∫mero de circuitos de tais dispositivos.  Meu objetivo era criar a vers√£o mais simples de todas as dispon√≠veis.  Se conseguiu ou n√£o - julgue por si mesmo. <br><br><h3>  2. Que habilidades voc√™ precisa ter para repetir este projeto? </h3><br>  Antes de tudo, as habilidades para trabalhar com o Arduino: ter um ambiente de desenvolvimento instalado, poder fazer upload de firmware para a placa, instalar bibliotecas, drivers, √© tudo.  Pr√≥ximo.  H√° um lugar no projeto onde sem solda - bem, nada.  Porque - voc√™ precisa de bra√ßos retos e um ferro de soldar com consum√≠veis.  Ser capaz de ler diagramas de circuitos el√©tricos (ou suas semelhan√ßas).  Bem, habilidades de programa√ß√£o em C ++, para poder personalizar o dispositivo.  Mas isso j√° √© opcional. <br><br><h3>  3. Quais pe√ßas s√£o necess√°rias e como mont√°-las? </h3><br><div class="spoiler">  <b class="spoiler_title">Sem demora, aqui est√° um diagrama do dispositivo:</b> <div class="spoiler_text">  Sinto muito pelo fato de "n√£o estar de acordo com o GOST" - eu desenho no drawio, porque a √∫nica alternativa gratuita e conveniente para o Visio, e agora eu s√≥ uso software licenciado.  Mas, suponho, tudo j√° est√° muito claro. <br></div></div><img src="https://habrastorage.org/webt/kc/yi/aj/kcyiaj5fxxrfkup1gvkcpuydeo4.jpeg"><br><br>  Como voc√™ pode ver, a lista t√©cnica da vers√£o b√°sica √© mais ou menos assim: <br><br><ol><li>  Arduino Nano (ou qualquer outro Dunya que esteja √† m√£o); </li><li>  Chave RFID EM4100 (em vez de indutor); </li><li>  transistor npn (qualquer um encontrado, as frequ√™ncias aqui n√£o s√£o muito altas); </li><li>  Resistor de 10K; </li><li>  Capacitor 560 pF (melhor SMD, voc√™ pode soldar diretamente no gabinete a partir da chave); </li><li>  bateria de i√µes de l√≠tio - a gosto; </li><li>  tr√™s bot√µes de toque; </li><li>  Display OLED com interface I2C; </li><li>  m√≥dulo de carregamento para li-ion; </li><li>  Conversor DC-DC com sa√≠da de 5V. </li></ol><br>  O esquema de energia pode ser qualquer um, apenas para ter Arduino suficiente para iniciar.  Dispositivos de E / S - da mesma forma: o firmware pode ser facilmente adaptado aos bot√µes / monitores dispon√≠veis (link para o github - logo abaixo).  A vers√£o atual do firmware foi escrita para a tela OLED e os bot√µes de toque (extra√≠dos de considera√ß√µes de "sem rejei√ß√£o"). <br><br>  Voc√™ tamb√©m pode coletar uma amostra de teste em uma t√°bua de p√£o sem solda.  Nenhuma instru√ß√£o especial √© necess√°ria aqui, exceto o que fazer com a "indut√¢ncia".  Sobre isso - em mais detalhes. <br><br><img src="https://habrastorage.org/webt/sy/ro/ex/syroexqy--g9u-ahq7pkixsbnbm.jpeg"><br><br>  A chave, semelhante √† da foto, pode ser obtida com qualquer mestre local ou encomendada no Ali.  H√° uma tampa no corpo da chave, que deve ser cuidadosamente aberta ao atingir o enchimento: <br><br><img src="https://habrastorage.org/webt/qw/nb/nh/qwnbnhclovyh7kqngg-cndj9tb4.jpeg"><br><br>  √â uma bobina e um chip de mem√≥ria com duas almofadas nas laterais.  As descobertas da bobina s√£o soldadas apenas a essas almofadas.  Tudo isso √© inundado com uma fina camada de termopol√≠mero el√°stico (na apar√™ncia e propriedades semelhantes ao adesivo congelado B7000).  Para obter uma bobina, fiz o seguinte.  Pegando uma faca de escrit√≥rio, pressionei delicadamente um textolite com uma l√¢mina entre as almofadas e o microcircuito.  Ele separou o microcircuito da bobina e jogou-o fora.  Ent√£o, com um ferro de soldar, eu cuidadosamente (para n√£o soldar os fios finos da bobina) queimei o termopol√≠mero sobre as almofadas, possibilitando um toque adicional. <br><br><img src="https://habrastorage.org/webt/oj/1o/mb/oj1ombm7birbshlzihfzk2qrfw4.jpeg"><br><br>  Antes de soldar, voc√™ deve medir a resist√™ncia da bobina, certificando-se de que ela n√£o esteja aberta.  Se tudo estiver em ordem, √© melhor montar assim: primeiro solde o capacitor SMD aos blocos (ele deve se encaixar perfeitamente entre eles), depois as pernas do transistor e, no final - o resistor √† base.  Tudo isso pode ser montado com cuidado na carca√ßa da chave.  Os fios da "terra" e a base do transistor s√£o soldados por √∫ltimo. <br><br><img src="https://habrastorage.org/webt/bn/uv/5p/bnuv5pbwssqmaoddge7uvgueekk.jpeg"><br><br>  Em seguida, fa√ßa um orif√≠cio na tampa do teclado para esses fios e feche o chaveiro, dando uma apar√™ncia quase original.  Para montar em uma t√°bua de p√£o sem solda, voc√™ deve soldar os conectores dos pinos nos fios (ou apenas rasg√°-los bem para poder inseri-los facilmente na t√°bua de p√£o). <br><br><h3>  4. Firmware, teste e configura√ß√£o </h3><br>  Como prometido, um <a href="https://github.com/VladimirMozg/RFID_125kHz_spoofer" rel="nofollow">link para o reposit√≥rio do</a> projeto.  Os arquivos de firmware est√£o na pasta My_125_kHz_spoofer_v.03. <br><br>  Ap√≥s a montagem e o upload do firmware, o dispositivo est√° pronto para uso.  Para garantir que funcione, n√£o √© necess√°rio procurar um intercomunicador - voc√™ pode se familiarizar com o m√≥dulo chin√™s para leitura de chaves RFID, chamado RDM6300 e outra placa Arduino (embora seja mais f√°cil para qualquer pessoa).  Tamb√©m coloquei o firmware do m√≥dulo RDM6300, que exibe o c√≥digo da chave traduzido no mesmo formato que foi inclu√≠do no firmware do spoofer, no reposit√≥rio do projeto.  Diagrama de conex√£o do leitor - no mesmo local. <br><br>  Procedimento de teste usando o leitor RDM6300: <br><br><ol><li>  Verifique se o leitor est√° funcionando mantendo pressionada qualquer uma das teclas dispon√≠veis a 125 kHz na antena (os dados ser√£o enviados para a porta COM); </li><li>  Selecione o c√≥digo de interesse principal no menu do spoofer; </li><li>  Traga a antena para o leitor.  Se o leitor ler a mesma chave especificada no firmware - tudo deu certo!  Sen√£o - verifique o esquema, procure onde est√° o erro, elimine-o e comece do ponto 1. </li></ol><br><h3>  5. O que pode ser alterado no firmware e o que √© melhor n√£o tocar </h3><br>  Como o firmware foi moldado com base <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">nesse c√≥digo, o que n√£o est√° claro para mim,</a> as fun√ß√µes vitais que n√£o podem ser alteradas no momento s√£o completamente completas, coloquei em uma guia separada functions.ino.  O restante do programa serve apenas para fornecer ao usu√°rio uma oportunidade conveniente de chamar a fun√ß√£o EmulateCard (bem, e algumas linhas de c√≥digo √† sua frente). <br><br>  Voc√™ pode adicionar suas chaves √† matriz uint64_t universalID [] localizada na linha 75 do c√≥digo.  Como n√£o "defini" o n√∫mero total de chaves na mem√≥ria do dispositivo e algumas fun√ß√µes est√£o vinculadas a essa constante, ao adicionar minha pr√≥pria chave, voc√™ tamb√©m deve alterar os limites dentro dos quais a vari√°vel keyNumber √© respons√°vel por escolher a chave.  Bem, n√£o esque√ßa de adicionar sua chave no menu.  Em geral, tudo est√° √∫mido, mas se voc√™ quiser, repito, n√£o √© dif√≠cil descobrir. <br><br><h3>  6. O que poderia ser melhorado no dispositivo </h3><br><ol><li>  Adicione suporte para as teclas do iButton (pelo menos as mais comuns de Dallas). </li><li>  Adicionar emula√ß√£o de teclas operando a uma frequ√™ncia de 13,5 MHz (como eu a entendo, usando um espa√ßo em branco regrav√°vel e o m√≥dulo RC522, ou √© tecnicamente dif√≠cil atrav√©s da emula√ß√£o real). </li><li>  Adicione os leitores iButton, RDM6300 e RC522 ao dispositivo para torn√°-lo ainda mais universal. </li></ol><br>  Quem ter√° sucesso - escreva sobre os resultados.  Eu mesmo n√£o voltarei ao desenvolvimento deste brinquedo em um futuro pr√≥ximo) <br><br><h3>  7. Hist√≥ria da cria√ß√£o </h3><br>  Eu estava no quintal no outono de 2017.  Como estudante do segundo ano, eu sofri em quest√µes n√£o resolvidas de autodetermina√ß√£o.  Simplificando, jogou sobre a ociosidade e estava procurando algo para fazer.  Como resultado, ele decidiu terminar seus antigos projetos de engenharia em detrimento de visitar a universidade. <br><br>  O clima no quintal era simplesmente luxuoso.  E o que poderia ser melhor do que sentar no telhado de um pr√©dio em uma noite fria de outono, beber ch√° de uma garrafa t√©rmica e contemplar a agita√ß√£o da cidade noturna sob seus p√©s? <br><br>  √Ä tarde, chegar √† entrada de qualquer pr√©dio n√£o √© dif√≠cil - a engenharia social da s√©rie "Ol√°, uma pesquisa social sobre a qualidade do trabalho da empresa de gest√£o em <i>nome do</i> jornal local" funciona bem e, de fato, basicamente, os moradores n√£o se importam com algu√©m entrar na entrada com eles.  √Ä noite, outra coisa.  E eu gostava de subir nos telhados ao p√¥r do sol ou √† noite ... Um problema amadureceu, o que resolvi da maneira descrita acima. <br><br>  Pelo que me lembro, as informa√ß√µes sobre esses dispositivos n√£o foram encontradas imediatamente.  Pesquisando as palavras-chave ‚Äúcracker de intercomunica√ß√£o‚Äù, quase nada resultou.  Adequado come√ßou a ser quando eu um pouco de compreens√£o da tecnologia RFID, e come√ßou a fazer perguntas mais significativas, como "emulador RFID", "multykey RFID", "spoofer RFID". <br><br>  Como resultado, acabou por encontrar dois artigos decentes em ingl√™s sobre o assunto.  Em um deles, o autor descreveu como, com base no Arduino, uma chave era bastante confusa do ponto de vista do hardware, e no segundo era tudo a mesma coisa, mas sem a fonte, mas com um hardware muito simples.  Tendo raciocinado corretamente que, como os dois circuitos est√£o conectados √† antena com um pino do Arduino, decidi cruzar uma solu√ß√£o simples de hardware e c√≥digo aberto.  Era poss√≠vel, embora n√£o a primeira vez). <br><br>  A foto no come√ßo deste artigo est√° longe da primeira vers√£o do dispositivo.  O primeiro estava na placa de ensaio e funcionou atrav√©s da porta COM.  Lembro-me de como os transeuntes me fizeram entender de todas as maneiras poss√≠veis que <i>eu parecia desconfiada</i> quando estava na porta de um pr√©dio de v√°rios andares com um laptop aberto e vi algo no interfone. <br><br>  Depois, havia v√°rias vers√µes mais compactas, que eu colecionei e desmontei por uma quest√£o de interesse.  O pen√∫ltimo roubou um dos personagens principais do <a href="https://habr.com/ru/post/483614/">meu artigo anterior.</a>  A vers√£o atual foi compilada em 29 de janeiro deste ano, entre as li√ß√µes que ensino no meu c√≠rculo.  Ele foi montado apenas com o objetivo de garantir que eu n√£o informava mal ningu√©m, e o firmware com o circuito funcionava. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485104/">https://habr.com/ru/post/pt485104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485094/index.html">Microsservi√ßos com Spring Boot. Parte 3. Criando um microsservi√ßo de convers√£o de moeda</a></li>
<li><a href="../pt485096/index.html">Cinco m√©todos para ofusca√ß√£o de banco de dados</a></li>
<li><a href="../pt485098/index.html">O design pode afetar a velocidade de entrega?</a></li>
<li><a href="../pt485100/index.html">Onde ir: os pr√≥ximos eventos gratuitos para desenvolvedores em Moscou (30 de janeiro a 15 de fevereiro)</a></li>
<li><a href="../pt485102/index.html">Topleaked: uma ferramenta para detectar vazamentos de mem√≥ria</a></li>
<li><a href="../pt485108/index.html">Estat√≠sticas de especialistas certificados em PMI na R√∫ssia em 10/01/2020</a></li>
<li><a href="../pt485110/index.html">Minha experi√™ncia de trabalho remoto eficaz</a></li>
<li><a href="../pt485118/index.html">C√≥digo Limpo de Robert Martin. Resumo. Como escrever um c√≥digo claro e bonito?</a></li>
<li><a href="../pt485120/index.html">Adicione uma API JSON muito r√°pida ao nosso aplicativo.</a></li>
<li><a href="../pt485122/index.html">O cabe√ßalho "Leia artigos para voc√™". Outubro - dezembro de 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>