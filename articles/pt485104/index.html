<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💤 👨🏾‍💻 🤟🏻 Criando uma chave RFID universal para interfones 🌗 💙 🦅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saudações a todos os interessados ​​no tópico de veículos eletrônicos com todos os terrenos. Na verdade, eu mesmo não acompanho as notícias nesta área...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando uma chave RFID universal para interfones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485104/">  Saudações a todos os interessados ​​no tópico de veículos eletrônicos com todos os terrenos.  Na verdade, eu mesmo não acompanho as notícias nesta área há muito tempo.  Mas quero publicar meu desenvolvimento de três anos atrás, pois é fácil repetir e pode ser do interesse de alguém.  Conclusão: em vez de uma dúzia de chaves com códigos para todos os terrenos e códigos justos, todas as chaves podem ser transportadas em um pequeno dispositivo. <br><br><img src="https://habrastorage.org/webt/fb/8l/s4/fb8ls4ydh-hfj8zheobot3rzac4.jpeg"><br><a name="habracut"></a><br><blockquote> Isenção de responsabilidade: repita - não exorto pela montagem e uso - você é responsável, compartilho informações apenas para fins informativos.  Por exemplo, para ajudar as empresas que atendem com viva-voz local a consertar “buracos” a tempo, se forem detectados usando o dispositivo. </blockquote><h3>  1. O que é isso?  O que pode? </h3><br>  O dispositivo que eu coletei em 2017 nada mais é do que um spoofer para uma chave RFID de interfone operando a uma frequência de 125 kHz.  A palavra "spoofer", neste caso, significa que o dispositivo, na verdade não é uma chave, o personifica e os intercomunicadores respondem de acordo. <br><br>  O dispositivo pode transmitir quaisquer códigos de chave que são gravados em sua memória.  Alguns códigos podem ser encontrados na Web para “chaves todo-o-terreno”, eu os inseri primeiro no firmware.  Mas com alguma habilidade e desejo, você pode inserir no firmware os códigos de todas as chaves RFID que você usa (se elas funcionam com uma frequência de 125 kHz) e, assim, poder substituir um monte de porta-chaves por um dispositivo. <br><br>  Eu sei que na vastidão da Web há um grande número de circuitos de tais dispositivos.  Meu objetivo era criar a versão mais simples de todas as disponíveis.  Se conseguiu ou não - julgue por si mesmo. <br><br><h3>  2. Que habilidades você precisa ter para repetir este projeto? </h3><br>  Antes de tudo, as habilidades para trabalhar com o Arduino: ter um ambiente de desenvolvimento instalado, poder fazer upload de firmware para a placa, instalar bibliotecas, drivers, é tudo.  Próximo.  Há um lugar no projeto onde sem solda - bem, nada.  Porque - você precisa de braços retos e um ferro de soldar com consumíveis.  Ser capaz de ler diagramas de circuitos elétricos (ou suas semelhanças).  Bem, habilidades de programação em C ++, para poder personalizar o dispositivo.  Mas isso já é opcional. <br><br><h3>  3. Quais peças são necessárias e como montá-las? </h3><br><div class="spoiler">  <b class="spoiler_title">Sem demora, aqui está um diagrama do dispositivo:</b> <div class="spoiler_text">  Sinto muito pelo fato de "não estar de acordo com o GOST" - eu desenho no drawio, porque a única alternativa gratuita e conveniente para o Visio, e agora eu só uso software licenciado.  Mas, suponho, tudo já está muito claro. <br></div></div><img src="https://habrastorage.org/webt/kc/yi/aj/kcyiaj5fxxrfkup1gvkcpuydeo4.jpeg"><br><br>  Como você pode ver, a lista técnica da versão básica é mais ou menos assim: <br><br><ol><li>  Arduino Nano (ou qualquer outro Dunya que esteja à mão); </li><li>  Chave RFID EM4100 (em vez de indutor); </li><li>  transistor npn (qualquer um encontrado, as frequências aqui não são muito altas); </li><li>  Resistor de 10K; </li><li>  Capacitor 560 pF (melhor SMD, você pode soldar diretamente no gabinete a partir da chave); </li><li>  bateria de iões de lítio - a gosto; </li><li>  três botões de toque; </li><li>  Display OLED com interface I2C; </li><li>  módulo de carregamento para li-ion; </li><li>  Conversor DC-DC com saída de 5V. </li></ol><br>  O esquema de energia pode ser qualquer um, apenas para ter Arduino suficiente para iniciar.  Dispositivos de E / S - da mesma forma: o firmware pode ser facilmente adaptado aos botões / monitores disponíveis (link para o github - logo abaixo).  A versão atual do firmware foi escrita para a tela OLED e os botões de toque (extraídos de considerações de "sem rejeição"). <br><br>  Você também pode coletar uma amostra de teste em uma tábua de pão sem solda.  Nenhuma instrução especial é necessária aqui, exceto o que fazer com a "indutância".  Sobre isso - em mais detalhes. <br><br><img src="https://habrastorage.org/webt/sy/ro/ex/syroexqy--g9u-ahq7pkixsbnbm.jpeg"><br><br>  A chave, semelhante à da foto, pode ser obtida com qualquer mestre local ou encomendada no Ali.  Há uma tampa no corpo da chave, que deve ser cuidadosamente aberta ao atingir o enchimento: <br><br><img src="https://habrastorage.org/webt/qw/nb/nh/qwnbnhclovyh7kqngg-cndj9tb4.jpeg"><br><br>  É uma bobina e um chip de memória com duas almofadas nas laterais.  As descobertas da bobina são soldadas apenas a essas almofadas.  Tudo isso é inundado com uma fina camada de termopolímero elástico (na aparência e propriedades semelhantes ao adesivo congelado B7000).  Para obter uma bobina, fiz o seguinte.  Pegando uma faca de escritório, pressionei delicadamente um textolite com uma lâmina entre as almofadas e o microcircuito.  Ele separou o microcircuito da bobina e jogou-o fora.  Então, com um ferro de soldar, eu cuidadosamente (para não soldar os fios finos da bobina) queimei o termopolímero sobre as almofadas, possibilitando um toque adicional. <br><br><img src="https://habrastorage.org/webt/oj/1o/mb/oj1ombm7birbshlzihfzk2qrfw4.jpeg"><br><br>  Antes de soldar, você deve medir a resistência da bobina, certificando-se de que ela não esteja aberta.  Se tudo estiver em ordem, é melhor montar assim: primeiro solde o capacitor SMD aos blocos (ele deve se encaixar perfeitamente entre eles), depois as pernas do transistor e, no final - o resistor à base.  Tudo isso pode ser montado com cuidado na carcaça da chave.  Os fios da "terra" e a base do transistor são soldados por último. <br><br><img src="https://habrastorage.org/webt/bn/uv/5p/bnuv5pbwssqmaoddge7uvgueekk.jpeg"><br><br>  Em seguida, faça um orifício na tampa do teclado para esses fios e feche o chaveiro, dando uma aparência quase original.  Para montar em uma tábua de pão sem solda, você deve soldar os conectores dos pinos nos fios (ou apenas rasgá-los bem para poder inseri-los facilmente na tábua de pão). <br><br><h3>  4. Firmware, teste e configuração </h3><br>  Como prometido, um <a href="https://github.com/VladimirMozg/RFID_125kHz_spoofer" rel="nofollow">link para o repositório do</a> projeto.  Os arquivos de firmware estão na pasta My_125_kHz_spoofer_v.03. <br><br>  Após a montagem e o upload do firmware, o dispositivo está pronto para uso.  Para garantir que funcione, não é necessário procurar um intercomunicador - você pode se familiarizar com o módulo chinês para leitura de chaves RFID, chamado RDM6300 e outra placa Arduino (embora seja mais fácil para qualquer pessoa).  Também coloquei o firmware do módulo RDM6300, que exibe o código da chave traduzido no mesmo formato que foi incluído no firmware do spoofer, no repositório do projeto.  Diagrama de conexão do leitor - no mesmo local. <br><br>  Procedimento de teste usando o leitor RDM6300: <br><br><ol><li>  Verifique se o leitor está funcionando mantendo pressionada qualquer uma das teclas disponíveis a 125 kHz na antena (os dados serão enviados para a porta COM); </li><li>  Selecione o código de interesse principal no menu do spoofer; </li><li>  Traga a antena para o leitor.  Se o leitor ler a mesma chave especificada no firmware - tudo deu certo!  Senão - verifique o esquema, procure onde está o erro, elimine-o e comece do ponto 1. </li></ol><br><h3>  5. O que pode ser alterado no firmware e o que é melhor não tocar </h3><br>  Como o firmware foi moldado com base <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">nesse código, o que não está claro para mim,</a> as funções vitais que não podem ser alteradas no momento são completamente completas, coloquei em uma guia separada functions.ino.  O restante do programa serve apenas para fornecer ao usuário uma oportunidade conveniente de chamar a função EmulateCard (bem, e algumas linhas de código à sua frente). <br><br>  Você pode adicionar suas chaves à matriz uint64_t universalID [] localizada na linha 75 do código.  Como não "defini" o número total de chaves na memória do dispositivo e algumas funções estão vinculadas a essa constante, ao adicionar minha própria chave, você também deve alterar os limites dentro dos quais a variável keyNumber é responsável por escolher a chave.  Bem, não esqueça de adicionar sua chave no menu.  Em geral, tudo está úmido, mas se você quiser, repito, não é difícil descobrir. <br><br><h3>  6. O que poderia ser melhorado no dispositivo </h3><br><ol><li>  Adicione suporte para as teclas do iButton (pelo menos as mais comuns de Dallas). </li><li>  Adicionar emulação de teclas operando a uma frequência de 13,5 MHz (como eu a entendo, usando um espaço em branco regravável e o módulo RC522, ou é tecnicamente difícil através da emulação real). </li><li>  Adicione os leitores iButton, RDM6300 e RC522 ao dispositivo para torná-lo ainda mais universal. </li></ol><br>  Quem terá sucesso - escreva sobre os resultados.  Eu mesmo não voltarei ao desenvolvimento deste brinquedo em um futuro próximo) <br><br><h3>  7. História da criação </h3><br>  Eu estava no quintal no outono de 2017.  Como estudante do segundo ano, eu sofri em questões não resolvidas de autodeterminação.  Simplificando, jogou sobre a ociosidade e estava procurando algo para fazer.  Como resultado, ele decidiu terminar seus antigos projetos de engenharia em detrimento de visitar a universidade. <br><br>  O clima no quintal era simplesmente luxuoso.  E o que poderia ser melhor do que sentar no telhado de um prédio em uma noite fria de outono, beber chá de uma garrafa térmica e contemplar a agitação da cidade noturna sob seus pés? <br><br>  À tarde, chegar à entrada de qualquer prédio não é difícil - a engenharia social da série "Olá, uma pesquisa social sobre a qualidade do trabalho da empresa de gestão em <i>nome do</i> jornal local" funciona bem e, de fato, basicamente, os moradores não se importam com alguém entrar na entrada com eles.  À noite, outra coisa.  E eu gostava de subir nos telhados ao pôr do sol ou à noite ... Um problema amadureceu, o que resolvi da maneira descrita acima. <br><br>  Pelo que me lembro, as informações sobre esses dispositivos não foram encontradas imediatamente.  Pesquisando as palavras-chave “cracker de intercomunicação”, quase nada resultou.  Adequado começou a ser quando eu um pouco de compreensão da tecnologia RFID, e começou a fazer perguntas mais significativas, como "emulador RFID", "multykey RFID", "spoofer RFID". <br><br>  Como resultado, acabou por encontrar dois artigos decentes em inglês sobre o assunto.  Em um deles, o autor descreveu como, com base no Arduino, uma chave era bastante confusa do ponto de vista do hardware, e no segundo era tudo a mesma coisa, mas sem a fonte, mas com um hardware muito simples.  Tendo raciocinado corretamente que, como os dois circuitos estão conectados à antena com um pino do Arduino, decidi cruzar uma solução simples de hardware e código aberto.  Era possível, embora não a primeira vez). <br><br>  A foto no começo deste artigo está longe da primeira versão do dispositivo.  O primeiro estava na placa de ensaio e funcionou através da porta COM.  Lembro-me de como os transeuntes me fizeram entender de todas as maneiras possíveis que <i>eu parecia desconfiada</i> quando estava na porta de um prédio de vários andares com um laptop aberto e vi algo no interfone. <br><br>  Depois, havia várias versões mais compactas, que eu colecionei e desmontei por uma questão de interesse.  O penúltimo roubou um dos personagens principais do <a href="https://habr.com/ru/post/483614/">meu artigo anterior.</a>  A versão atual foi compilada em 29 de janeiro deste ano, entre as lições que ensino no meu círculo.  Ele foi montado apenas com o objetivo de garantir que eu não informava mal ninguém, e o firmware com o circuito funcionava. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485104/">https://habr.com/ru/post/pt485104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485094/index.html">Microsserviços com Spring Boot. Parte 3. Criando um microsserviço de conversão de moeda</a></li>
<li><a href="../pt485096/index.html">Cinco métodos para ofuscação de banco de dados</a></li>
<li><a href="../pt485098/index.html">O design pode afetar a velocidade de entrega?</a></li>
<li><a href="../pt485100/index.html">Onde ir: os próximos eventos gratuitos para desenvolvedores em Moscou (30 de janeiro a 15 de fevereiro)</a></li>
<li><a href="../pt485102/index.html">Topleaked: uma ferramenta para detectar vazamentos de memória</a></li>
<li><a href="../pt485108/index.html">Estatísticas de especialistas certificados em PMI na Rússia em 10/01/2020</a></li>
<li><a href="../pt485110/index.html">Minha experiência de trabalho remoto eficaz</a></li>
<li><a href="../pt485118/index.html">Código Limpo de Robert Martin. Resumo. Como escrever um código claro e bonito?</a></li>
<li><a href="../pt485120/index.html">Adicione uma API JSON muito rápida ao nosso aplicativo.</a></li>
<li><a href="../pt485122/index.html">O cabeçalho "Leia artigos para você". Outubro - dezembro de 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>