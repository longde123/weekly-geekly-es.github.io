<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüç≥ üßöüèΩ üëéüèª Von 0,01 TFlops HPL bis ASC'18 Application Innovation üë®‚Äçüé§ ‚ôâÔ∏è üå±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Wir setzen eine Reihe von Artikeln √ºber die Teilnahme eines Teams der St. Petersburg State University (wir nennen uns EnterTildeDot) an de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Von 0,01 TFlops HPL bis ASC'18 Application Innovation</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419847/"><p>  Hallo Habr!  Wir setzen eine Reihe von Artikeln √ºber die Teilnahme eines Teams der St. Petersburg State University (wir nennen uns EnterTildeDot) an den weltweit gr√∂√üten Studenten-Supercomputer-Wettbewerben fort. </p><br><p><img src="https://habrastorage.org/webt/s-/qu/z3/s-quz3mfxbvvem_1lbkc0qu6voa.jpeg"></p><br><p>  In diesem Artikel betrachten wir den Weg zu ASC'18 am Beispiel eines Teammitglieds, wobei wir der Visitenkarte von Wettbewerben und modernen Supercomputern im Allgemeinen - Linpack - besondere Aufmerksamkeit widmen.  Schauen wir uns das Geheimnis an, um eine Rekord- und Anti-Rekord-Leistung eines Computersystems zu erzielen. </p><a name="habracut"></a><br><h1 id="kratkiy-ekskurs-po-superkompyuternym-sorevnovaniyam">  Eine kurze Tour durch Supercomputer-Wettbewerbe </h1><br><p>  Allgemeine Informationen dar√ºber, welche Art von Wettbewerb diese sind, finden Sie in unseren vorherigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikeln</a> , einschlie√ülich des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">langen Beitrags</a> √ºber den diesj√§hrigen Wettbewerb.  Der Vollst√§ndigkeit halber geben wir hier jedoch noch einige Informationen √ºber den gesamten Wettbewerb. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Asian Supercomputer Challenge</a> ist eines der drei wichtigsten Hochleistungs-Computing-Team-Events, an denen j√§hrlich immer mehr Studententeams aus der ganzen Welt teilnehmen.  ASC geht wie andere √§hnliche Wettbewerbe von einer Qualifikations- und Endrunde mit folgenden Bestimmungen aus: </p><br><ul><li>  Hauptaktivit√§t: L√∂sung von HPC-Problemen; </li><li>  Team: 5 Sch√ºler + Trainer; </li><li>  Qualifikationsphase: eine Abwesenheitsbeschreibung des Vorschlags mit einer Beschreibung der L√∂sung der vorgestellten Probleme, auf deren Grundlage eine Liste von 20 Finalisten erstellt wird. </li><li>  Die letzte Phase: Vollzeitwettbewerb f√ºr 20 Teams mit einer Dauer von ca. 5 Wettkampftagen, einschlie√ülich der vollst√§ndigen Montage und Konfiguration des Computerclusters, Probleml√∂sung und Pr√§sentation.  Der Cluster wird auf der Grundlage von Leistungsbeschr√§nkungen von 3 kW zusammengebaut, entweder aus dem von den Organisatoren bereitgestellten Eisen oder aus seinem eigenen.  Der Cluster hat keinen Internetzugang.  Die Aufgaben stimmen teilweise mit den Aufgaben der Qualifikationsphase √ºberein, aber es gibt auch eine unbekannte Aufgabe - Mystery Application. </li></ul><br><p>  Nun, jetzt in Ordnung mit R√ºckz√ºgen zum Bildungsprogramm.  Im Gegensatz zu anderen Teammitgliedern, die bereits das Finale von ASC'17 erreicht haben, bin ich erst in diesem Jahr der Wettbewerbsbewegung beigetreten.  Ich bin im September dem Team beigetreten. Die Aufgaben f√ºr die Qualifikationsphase werden erst im Januar gesendet. Ich hatte also gen√ºgend Zeit, um die Grundkonzepte des Wettbewerbs sowie die einzige bekannte Aufgabe - HPL &amp; HPCG - zu studieren.  Eine Aufgabe in der einen oder anderen Form tritt fast jedes Jahr auf. Es ist jedoch nicht immer im Voraus bekannt, welche Ausr√ºstung die Aufgabe ausf√ºhren muss (manchmal bieten die Organisatoren Fernzugriff auf ihre eigenen Ressourcen). </p><br><h1 id="hpl">  HPL </h1><br><p>  HPL (High Performance Computing Linpack Benchmark) ist ein Test der Leistung eines Computersystems, auf dessen Grundlage eine moderne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Liste der</a> weltweit besten Supercomputer erstellt wird.  Die Essenz des Tests besteht darin, dichte Systeme linearer algebraischer Gleichungen zu l√∂sen.  Mit dem Erscheinen dieses Benchmarks wurde eine Metrik eingef√ºhrt, mit der Sie Supercomputer bewerten und gleichzeitig der HPC-Community einen ‚ÄûB√§renservice‚Äú bieten k√∂nnen.  Wenn Sie sich die Liste der besten Supercomputer ansehen, k√∂nnen Sie verstehen, dass das Geheimnis von Lynpak ziemlich schnell gel√∂st wurde - nehmen Sie so viele Grafikbeschleuniger wie m√∂glich und werden Sie ganz oben sein.  Nat√ºrlich gibt es Ausnahmen, aber es sind Supercomputer mit Grafikbeschleunigern, die die Spitzenpl√§tze einnehmen.  Was ist der "B√§rendienst"?  Tatsache ist, dass Lynpak nicht nur die Leistung misst, sondern auch nirgendwo anders verwendet wird und nichts mit echten Computeraufgaben zu tun hat.  Infolgedessen ging das Supercomputer-Rennen dazu √ºber, die h√∂chste Linpak-Effizienz und nicht die tats√§chliche Arbeitsbelastung zu erzielen, wie das L√∂sen typischer USE-Aufgaben, anstatt den Lehrplan der Schule zu beherrschen. </p><br><p>  HPL-Entwickler haben auch ein weiteres Paket erstellt - HPCG, auf dessen Grundlage auch die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bewertung von</a> Supercomputern gebildet wird.  Es ist allgemein anerkannt, dass dieser Benchmark n√§her an realen Aufgaben liegt als HPL, und in gewisser Weise spiegelt die signifikante Diskrepanz zwischen den Positionen des Supercomputers in diesen beiden Listen die reale Situation wider.  Die j√ºngsten Bewertungen (Juni 2018) waren jedoch eine angenehme Ausnahme, und schlie√ülich stimmten die ersten Positionen der Listen √ºberein. </p><br><h1 id="a-teper-pro-nastoyaschiy-hpl">  Und jetzt zum echten HPL </h1><br><p>  Wir kehren zu praktischeren Momenten der Geschichte und des Wettbewerbs zur√ºck.  Linkpak ist Open Source und steht auf der offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Website</a> zum Download zur Verf√ºgung. Es gibt jedoch kaum einen Supercomputer auf der Welt, dessen Leistung anhand dieser speziellen Version des Benchmarks gemessen wurde.  Die Hersteller von Beschleunigern ver√∂ffentlichen ihre eigene Version von HPL, die f√ºr bestimmte Ger√§te optimiert ist, sodass Sie erhebliche Leistungssteigerungen erzielen k√∂nnen.  Nat√ºrlich m√ºssen benutzerdefinierte Versionen von HPL bestimmte Kriterien erf√ºllen und spezielle Tests erfolgreich bestehen. </p><br><p>  Jeder Anbieter hat f√ºr jeden Beschleuniger eine eigene Version von HPL. Im Gegensatz zum urspr√ºnglichen Benchmark ist hier jedoch keine Open-Source-Version zu erwarten.  Nvidia ver√∂ffentlicht HPL-Versionen, die f√ºr jede der Karten optimiert sind, w√§hrend der Code nicht mehr in Quellform, sondern in Bin√§rdateien geliefert wird.  Dar√ºber hinaus gibt es nur zwei M√∂glichkeiten, auf sie zuzugreifen: </p><br><ul><li>  Sie haben einen Supercomputer mit Nvidia-Karten, der die Spitze erreichen kann - Nvidia wird Sie alleine finden.  Leider erhalten Sie h√∂chstwahrscheinlich keine Bin√§rdateien, da keine M√∂glichkeit besteht, an der Optimierung der HPL-Parameter teilzunehmen.  Auf die eine oder andere Weise erhalten Sie einen angemessenen Leistungswert, der auf dem optimierten Benchmark erhalten wird. </li><li>  Sie nehmen an einem von drei studentischen Supercomputer-Wettbewerben teil.  Aber wir werden auf diesen Teil zur√ºckkommen. </li></ul><br><p>  Was ist das Wesentliche der Aufgabe, insbesondere wenn intelligente Onkel gro√üer Unternehmen den Benchmark f√ºr Ihre Ger√§te bereits optimiert haben? <br>  Beschreiben Sie im Falle der Qualifikationsphase des Wettbewerbs die m√∂glichen Ma√ünahmen zur Steigerung der Systemleistung.  In diesem Fall ist es nicht erforderlich, absolute Leistungszahlen zu verfolgen, da einige Teams mit modernen Beschleunigern auf einen gro√üen und noblen Cluster von 226 Knoten zugreifen k√∂nnen, w√§hrend andere nur auf die Universit√§tscomputernummer 226 zugreifen k√∂nnen, die wir als Cluster bezeichnen. </p><br><p><img src="https://habrastorage.org/webt/-z/ro/6c/-zro6cjlmhajdzz3opbuuuyc8gk.jpeg"></p><br><p>  Im Endstadium ist es bereits sinnvoll, die absoluten Leistungswerte zu vergleichen.  Um nicht zu sagen, dass hier alle gleichberechtigt sind, aber zumindest die zul√§ssige maximale Leistung des Systems eingeschr√§nkt ist. </p><br><p>  Das Ergebnis der Benchmark-Ausf√ºhrung h√§ngt haupts√§chlich von zwei Komponenten ab: der Cluster-Konfiguration und der direkten Einstellung der Parameter des Benchmarks.  Es w√§re auch erw√§hnenswert, welchen Einfluss die Auswahl der Compiler und Bibliotheken f√ºr das Matrix- und Vektor-Computing hat, aber hier ist alles ziemlich langweilig, jeder verwendet einen Compiler von Intel + MKL.  Und bei Bin√§rdateien m√ºssen Sie √ºberhaupt keine Auswahl treffen, da diese bereits zusammengestellt sind.  Das Ergebnis von HPL ist ein numerischer Wert, der angibt, wie viele Gleitkommaoperationen pro Sekunde dieses Computersystem ausf√ºhrt.  Die Hauptma√üeinheit ist FLOPS (FLoating-Point Operations Per Second) mit entsprechenden Pr√§fixen.  Im Falle der letzten Phase des Wettbewerbs handelt es sich fast immer um Tera-Systeme. </p><br><h1 id="optimizaciya-rezultatov">  Ergebnisoptimierung </h1><br><p>  Das Festlegen der Benchmark-Parameter besteht in einer aussagekr√§ftigen Auswahl der Eingabedaten der von Lynpak berechneten Aufgabe (HPL.dat-Datei).  In diesem Fall hat die Dimension dieses Problems den gr√∂√üten Einfluss - die Gr√∂√üe der Matrix, die Gr√∂√üe der Bl√∂cke, in die die Matrix unterteilt ist, in welcher Beziehung die Bl√∂cke verteilt werden usw. ... Insgesamt gibt es mehrere zehn Parameter, Tausende m√∂glicher Werte.  Bruteforce ist nicht die beste Wahl, insbesondere wenn der Test auf relativ kleinen Systemen je nach Konfiguration von einigen Minuten bis zu einigen Stunden durchgef√ºhrt wird (f√ºr die GPU ist der Test viel schneller). </p><br><p>  Ich hatte genug Zeit, um zu untersuchen, wie die bereits in anderen Quellen beschriebenen Muster zur Optimierung der Benchmark-Ergebnisse beitragen, und um neue zu identifizieren.  Ich habe sehr oft damit begonnen, Tests durchzuf√ºhren, viele Google-Tags gestartet und versucht, auf Systeme mit einer zuvor nicht erprobten Konfiguration zuzugreifen, um auch den Benchmark f√ºr sie auszuf√ºhren.  Infolgedessen wurden bereits vor Beginn der Qualifikationsphase eine Reihe von Systemen getestet, sowohl CPU als auch GPU, einschlie√ülich sogar des v√∂llig ungeeigneten Nvidia Quadro P5000.  Zu Beginn der Qualifikationsphase hatten wir mit dem P100 und P6000 Zugriff auf mehrere Knoten, was uns bei der Vorbereitung sehr geholfen hat.  Die Konfiguration dieses Systems √§hnelte in vielerlei Hinsicht derjenigen, die wir im Rahmen der letzten Phase des Wettbewerbs zusammenbauen wollten, und wir erhielten schlie√ülich Zugriff auf Einstellungen auf niedriger Ebene, einschlie√ülich der √Ñnderung der Frequenz. </p><br><p>  Bei der Konfiguration hat das Vorhandensein und die Anzahl der Beschleuniger den gr√∂√üten Einfluss.  Beim Testen eines Systems mit einer GPU ist die optimale Option, wenn der Hauptcomputerteil der Aufgabe an die GPU-Komponente delegiert wird.  Die CPU-Komponente wird auch mit Zusatzaufgaben geladen, tr√§gt jedoch nicht zur Systemleistung bei.  Gleichzeitig muss jedoch die Spitzenleistung der CPU bei der Spitzenleistung des Gesamtsystems ber√ºcksichtigt werden, was hinsichtlich des Verh√§ltnisses von maximaler Leistung zu Spitzenleistung (theoretisch) √§u√üerst nachteilig aussehen kann.  Wenn HPL auf einer GPU ausgef√ºhrt wird, ist ein System mit 2 GPU-Beschleunigern und zwei Prozessoren einem System mit 2 GPUs und 20 CPUs zumindest nicht unterlegen. </p><br><p>  Nachdem ich die Vorschl√§ge f√ºr eine m√∂gliche Optimierung der HPL-Ergebnisse beschrieben hatte, beendete ich meinen Teil des Vorschlags f√ºr die Qualifikationsphase und als ich in das Finale des Wettbewerbs eintrat, begann eine neue Phase des Wettbewerbs - die Suche nach Sponsoren.  Einerseits brauchten wir einen Sponsor, der die Kosten f√ºr den Flug des Teams nach China √ºbernimmt, und andererseits einen Sponsor, der sich freundlicherweise bereit erkl√§rt, dem Team Grafikbeschleuniger zur Verf√ºgung zu stellen.  Mit dem ersten hatten wir letztendlich Gl√ºck, eine Universit√§t stellte einen Teil des Geldes zur Verf√ºgung und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Devexperts</a> half dabei, die Tickets <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vollst√§ndig</a> zu decken.  Mit den Sponsoren, mit denen wir Karten ausleihen wollten, hatten wir weniger Gl√ºck, und jetzt fliegen wir wieder mit der Grundkonfiguration des Clusters ins Finale, ohne die Chance auf Wettbewerbsf√§higkeit bei HPL zu haben.  Nun, nichts, dr√ºck das Maximum aus dem heraus, was sie geben, dachten wir. </p><br><h1 id="final-asc18">  Final ASC'18 </h1><br><p>  Und hier sind wir in China, in der f√ºr chinesische Verh√§ltnisse winzigen Stadt - Nanchang im Finale.  Wir bauen den Cluster f√ºr zwei Tage zusammen und dann die Aufgaben. </p><br><p><img src="https://habrastorage.org/webt/yv/j4/1-/yvj41-b0bl7-rw7fgazbxuwicto.jpeg"></p><br><p>  In diesem Jahr wurden alle Teams mit 4 Nvidia V100-Karten ausgestattet. Dies verschaffte uns keine Vorteile gegen√ºber anderen Teams, erm√∂glichte jedoch den Start von HPL nicht auf der CPU.  Knoten geben anfangs jedem 10, aber die zus√§tzlichen (denken Sie an die 3-kW-Grenze) m√ºssen zur√ºckgegeben werden, bevor die Phase der Hauptwettbewerbsaufgaben beginnt.  Hier gibt es einen Trick: Reduzieren Sie die Frequenz der CPU und der GPU, ihre Leistung nimmt ab. Sie k√∂nnen jedoch solche Werte f√ºr die Frequenz ausw√§hlen, mit der wir mehr Leistung pro verbrauchter Energieeinheit erzielen.  Durch Verringern der Frequenz erhalten wir die M√∂glichkeit, noch mehr Beschleuniger hinzuzuf√ºgen, was sich letztendlich positiv auf die Leistung auswirkt.  Leider w√§re dieser Trick f√ºr uns viel n√ºtzlicher, wenn wir wie andere Teilnehmer mit einem Koffer Beschleuniger zum Wettbewerb kommen w√ºrden.  Trotzdem konnten wir es uns leisten, die maximale Anzahl an CPUs zu belassen.  Da nicht alle Aufgaben des Wettbewerbs eine GPU erfordern, bestand der Verdacht, dass dies in irgendeiner Weise in unsere H√§nde spielen k√∂nnte. <br>  Die h√§ufigste Clusterkonfiguration im Finale des Wettbewerbs ist also ein Minimum an Knoten, ein Maximum an Karten. </p><br><p><img src="https://habrastorage.org/webt/0s/wh/m7/0swhm7sk_qgtqryztydnpukiyik.png"></p><br><h2 id="finalnyy-linpak-i-nemnogo-o-rekordah">  Letztes Linkpack und ein bisschen √ºber Rekorde </h2><br><p>  Die Aufgaben beim Wettbewerb waren an bestimmte Wettbewerbstage gebunden, und HPL war nat√ºrlich der erste von ihnen, nachdem der Cluster zusammengestellt worden war.  Die Frist f√ºr die Einreichung der HPL-Ergebnisse ist das Mittagessen des dritten Wettbewerbstages. Dar√ºber hinaus wird der Zugriff auf die verbleibenden Aufgaben dieses Wettbewerbstages unmittelbar nach Abschluss von Linpak ge√∂ffnet.  Lynpak beginnt jedoch in den fr√ºhen Tagen zu fahren.  Erstens, um sicherzustellen, dass der Cluster korrekt zusammengesetzt ist, und zweitens, ist das Einrichten von Linpak nicht schnell, und da keine zus√§tzlichen Eingaben erforderlich sind, warum nicht. </p><br><p>  Wir haben unseren Cluster ziemlich schnell zusammengestellt und Lynpak aufgenommen.  F√ºr unsere Konfiguration haben wir ziemlich angemessene Werte erhalten - in der Gr√∂√üenordnung von 20 TFlops, und alles w√§re in Ordnung, aber nachdem das Ergebnis angezeigt wurde, gab es eine Zeile mit einem Fehler.  Fr√ºher habe ich solche Fehler nur erhalten, wenn ich absichtlich falsche Blockgr√∂√üen angegeben habe, in die die Taskmatrix unterteilt ist.  Eine sehr unangenehme √úberraschung erwartete uns hier.  Vorhin habe ich Ihnen gesagt, dass wir 4 V100-Karten erhalten haben, also ... wir haben keine HPL-Bin√§rdateien f√ºr sie erhalten, und niemand konnte uns dabei helfen.  Es ist einige Monate her, aber f√ºr mich ist es immer noch ein R√§tsel, was bei diesem Finale mit unserem Linpak passiert ist.  Wir haben die Versionen von Compilern und anderen Bibliotheken ge√§ndert, um den Fehler zu beheben. Wir haben wiederholt √ºberpr√ºft, ob wir die Beschleuniger korrekt installiert haben (seit wir dies zum ersten Mal getan haben), aber wir konnten den Fehler immer noch nicht beheben. </p><br><p><img src="https://habrastorage.org/webt/rq/aj/ps/rqajpsavhzb-iy-mjb8qryyfzyy.jpeg"></p><br><p>  In der Nacht vor der √úbergabe von Linpak haben wir die Kriterien f√ºr die Bewertung von Aufgaben erneut sorgf√§ltig gepr√ºft. Daher bestand die Formel f√ºr Linpak aus zwei Komponenten - einem bestimmten Wert, der vom Ergebnis des Teams, das Linpak gewonnen hat, und dem Koeffizienten f√ºr den erfolgreichen Abschluss der Aufgabe abh√§ngt.  Es stellte sich heraus, dass dieser Koeffizient so gro√ü ist, dass es v√∂llig nachteilig ist, einen angemessenen Lynpak-Wert zu √ºbergeben, jedoch mit einem unverst√§ndlichen Fehler, verglichen mit dem √úbergeben eines Werts, jedoch ohne Fehler.  Nachdem wir alles sorgf√§ltig √ºberlegt hatten, da viel Zeit f√ºr die Suche nach einer L√∂sung f√ºr den Fehler aufgewendet wurde und das Abrufen von Datens√§tzen aus den folgenden Aufgaben vollst√§ndig vom Zeitpunkt der Fertigstellung von Linpak abh√§ngt, haben wir uns entschlossen, diese Aufgabe taktisch zusammenzuf√ºhren.  So wurde in der Geschichte der Supercomputer-Wettbewerbe ein absoluter ‚ÄûRekord‚Äú unter den korrekten Werten aufgestellt.  Unser Lynpak platzte mit einem Wert von <strong>0,01</strong> TFlops.  Wenn wir den Benchmark f√ºr vorhandene CPUs optimieren, erhalten wir nat√ºrlich einen etwas h√∂heren Leistungswert. Dies h√§tte die Punkte jedoch nicht wesentlich beeinflusst, und die Zeit w√§re erheblich h√∂her gewesen.  Denken Sie daran, dass Lynpak viel l√§nger an der CPU gearbeitet hat.  Das beste Ergebnis zeigte die National Tsing Hua University - <strong>43</strong> TFlops.  Nach ein oder zwei Tagen fragte uns Jack Dongarra (der Sch√∂pfer von Lynpac), ein Mitglied des Organisationskomitees des Wettbewerbs, beil√§ufig, wie Lynpak vorgeht.  Anscheinend hatte er zu diesem Zeitpunkt die Ergebnisliste noch nicht gesehen: Seine WHAAAT-Reaktion war jede Stunde wert, die wir f√ºr HPL aufgewendet haben. </p><br><p><img src="https://habrastorage.org/webt/dh/dp/so/dhdpsol-zl3u3tmyni8mxgcij0u.jpeg"></p><br><h2 id="mystery-application">  Mystery-Anwendung </h2><br><p>  Nachdem ich gem√§√ü dem im Voraus erstellten Plan Benchmarks √ºbergeben hatte, schloss ich mich dem Teil des Teams an, der sich mit der Mystery-Anwendung befassen sollte.  Niemand wusste im Voraus, was diese Aufgabe sein w√ºrde, also bereiteten sie sich auf das Schlimmste vor - sie hatten zuvor alles installiert, was von einem Flash-Laufwerk in einem Cluster n√ºtzlich sein konnte.  In der Regel besteht die Hauptschwierigkeit der Aufgaben in diesem Abschnitt darin, sie zu sammeln.  Diesmal stellte sich heraus, dass alles etwas anders war.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Bewerbung wurde</a> fast zum ersten Mal ohne Probleme gesammelt.  Die Probleme begannen, als bei den meisten der pr√§sentierten Datens√§tze an der Adresse ein Fehler auftrat, obwohl es sich um eine fortran-Anwendung handelte.  Dem Ergebnisausschuss nach zu urteilen, hat uns nicht nur diese Aufgabe Probleme bereitet. </p><br><h2 id="sekretnoe-oruzhie-cpu">  Geheimwaffe: CPU </h2><br><p>  Nun, die letzte Aufgabe, an der ich teilgenommen habe, war f√ºr den n√§chsten Wettkampftag geplant.  Im Gegensatz zu Mystery Application haben wir bereits ein Paket gesehen, mit dem wir arbeiten mussten - es war cfl3d.  Als wir herausfanden, dass dies ein NASA-Produkt ist, waren alle aus irgendeinem Grund begeistert und dachten, dass dort sowohl bei der Montage als auch bei der Optimierung alles in Ordnung sein w√ºrde.  Als wir das Paket zu Hause getestet haben, gab es keine Probleme mit der Montage, aber die Anwendungsf√§lle waren sehr interessant.  Die meisten Beispiele hatten Abh√§ngigkeiten von der Installation zus√§tzlicher Tools, und es kam vor, dass wir bei dem Versuch, eines dieser Tools - Tool XX - zu googeln, einen Artikel aus dem Jahr 1995 fanden, in dem gesagt wurde, dass Tool XX jetzt veraltet ist und YY verwendet.  Die Website des Produkts stammt aus derselben Zeit - die Dokumentation hat den Benutzer h√§ufig zu den Seiten der Website geschickt, aber nur die Website in Frames und √ºber die Hauptseite hinaus funktioniert nicht.  Die Relevanz der Beispiele lie√ü zu w√ºnschen √ºbrig. </p><br><p>  Wenn es ganz einfach ist, bestand das Wesentliche der Aufgabe darin, ein mehrstufiges Raster unter Beibehaltung einer bestimmten Genauigkeit aufzuteilen.  Nat√ºrlich war die Hauptmetrik hier die Zeit.  Irgendwie kam es vor, dass wir an diesem Tag so entspannt wie m√∂glich waren und einfach das taten, was wir mussten.  Die Aufgabe war f√ºr die CPU, und genau das hatten wir viel.  Die Eingabedateien der Aufgabe hatten eine sehr spezifische Form und oft eine gro√üe Gr√∂√üe - bis zu Hunderten von Zeilen.  Ein Mitglied unseres Teams hat ein Skript geschrieben, das den Prozess der Generierung der Eingabedatei automatisiert und den Prozess wahrscheinlich hunderte Male beschleunigt hat.  Letztendlich wurden alle Datens√§tze erfolgreich abgeschlossen und optimiert. Es gab sogar Zeit zu versuchen, das Paket mit einigen interessanten Optionen neu zu erstellen, aber wir haben nicht viel Beschleunigung erhalten.  Wir haben diese Aufgabe besser als andere erledigt, nachdem wir einen Sonderpreis f√ºr Anwendungsinnovation sowie den 11. Platz im Team-Event erhalten haben (von 20 im Finale, von 300+ unter allen Teilnehmern des Wettbewerbs). </p><br><p><img src="https://habrastorage.org/webt/0u/9q/9f/0u9q9fzfzvzir7d9d7eczixnhxe.jpeg"></p><br><p>  Die Tabelle mit den Konfigurationen der Computersysteme sowie das Hauptfoto stammen von der Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://www.hpcwire.com/</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de419847/">https://habr.com/ru/post/de419847/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de419835/index.html">Wie man Autoren motiviert, mit Experten verhandelt und im Allgemeinen gute Artikel schreibt</a></li>
<li><a href="../de419837/index.html">Ich, RoboLoyer, oder wie man in Dokumenten nach Anomalien sucht</a></li>
<li><a href="../de419839/index.html">Low Level NCR ATM Hacking</a></li>
<li><a href="../de419843/index.html">GeekUniversity er√∂ffnet Einschreibung an der Fakult√§t f√ºr K√ºnstliche Intelligenz</a></li>
<li><a href="../de419845/index.html">Release 0.4.9: Implikationen</a></li>
<li><a href="../de419849/index.html">Motherboard-Untersuchung: Wie Cyberkriminelle mithilfe von Telekommunikationsunternehmen Mobiltelefonnummern stehlen</a></li>
<li><a href="../de419853/index.html">Unentdeckte IT</a></li>
<li><a href="../de419855/index.html">Der Unterschied zwischen den roten, blauen und lila Teams</a></li>
<li><a href="../de419857/index.html">Sarkasmuserkennung mit Faltungs-Neuronalen Netzen</a></li>
<li><a href="../de419863/index.html">W√∂chentlicher OpenGift Developer-Wettbewerb</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>