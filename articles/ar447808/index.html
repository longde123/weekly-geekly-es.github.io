<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¿â€ğŸ“ ğŸ§•ğŸ¾ â™Ÿï¸ ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© ÙƒØªØ§Ø¨Ø© Ù…ÙˆØ¬Ø§Øª Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ© Ø¹Ù„Ù‰ RIDE Ùˆ RIDE4DAPPS. Ø§Ù„Ø¬Ø²Ø¡ 2 (DAO - Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­ÙƒÙ… Ø§Ù„Ø°Ø§ØªÙŠ Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠØ©) ğŸ® ğŸ€„ï¸ ğŸŒ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù…Ø±Ø­Ø¨Ø§ Ø¨Ø§Ù„Ø¬Ù…ÙŠØ¹! 


 ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ ØŒ Ø¯Ø±Ø³Ù†Ø§ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù…Ù„ Ù…Ø¹ dApp (ØªØ·Ø¨ÙŠÙ‚ Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ) ÙÙŠ Waves RIDE IDE . 


 Ø¯Ø¹Ù†Ø§ Ù†Ø®ØªØ¨Ø± Ù…Ø«Ø§Ù„Ù‹Ø§ Ø¨Ø³ÙŠØ·Ù‹Ø§ Ø§Ù„Ø¢Ù† . ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© ÙƒØªØ§Ø¨Ø© Ù…ÙˆØ¬Ø§Øª Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø°ÙƒÙŠØ© Ø¹Ù„Ù‰ RIDE Ùˆ RIDE4DAPPS. Ø§Ù„Ø¬Ø²Ø¡ 2 (DAO - Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­ÙƒÙ… Ø§Ù„Ø°Ø§ØªÙŠ Ø§Ù„Ù„Ø§Ù…Ø±ÙƒØ²ÙŠØ©)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447808/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dv/gy/ai/dvgyaisyoan4t42fb2fh-gepdzy.png"></p><br><p style=";text-align:right;direction:rtl">  Ù…Ø±Ø­Ø¨Ø§ Ø¨Ø§Ù„Ø¬Ù…ÙŠØ¹! </p><br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ø§Ù„Ø¬Ø²Ø¡ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø£ÙˆÙ„</a> ØŒ Ø¯Ø±Ø³Ù†Ø§ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„Ø¹Ù…Ù„ Ù…Ø¹ dApp (ØªØ·Ø¨ÙŠÙ‚ Ù„Ø§Ù…Ø±ÙƒØ²ÙŠ) ÙÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Waves RIDE IDE</a> . </p><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù†Ø§ Ù†Ø®ØªØ¨Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…Ø«Ø§Ù„Ù‹Ø§</a> Ø¨Ø³ÙŠØ·Ù‹Ø§ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¢Ù†</a> . </p><br><h4 style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3. Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ dApp </h4><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gp/sc/10/gpsc10yhhtxgqau9qbvs5l5qcda.png"></p><br><blockquote style=";text-align:right;direction:rtl"> Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙŠ ØªØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± Ù…Ø¹ Ø­Ø³Ø§Ø¨ Alice <strong>dApp</strong> ØŸ <br>  <strong>Ø£ÙˆÙ„Ø§:</strong> <br>  ÙŠÙ…ÙƒÙ† Ù„Ù€ Boob and Cooper Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø£ Ø¥Ù„Ù‰ dApp Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø§Ù…Ù„Ø© <strong>ØªØ­ÙˆÙŠÙ„</strong> Ø¹Ø§Ø¯ÙŠØ© ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¥Ù…ÙƒØ§Ù†Ù‡Ù…Ø§ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§. <br><br>  <strong>Ø«Ø§Ù†ÙŠØ§:</strong> <br>  Ù†Ø­Ù† Ù„Ø§ Ù†Ù‚ÙŠØ¯ Ø³Ø­Ø¨ Alice Ù„Ù„Ø£Ù…ÙˆØ§Ù„ Ø¯ÙˆÙ† Ù…ÙˆØ§ÙÙ‚Ø© Boob Ùˆ / Ø£Ùˆ Cooper.  Ù…Ù†Ø° Ø°Ù„Ùƒ Ø§Ù„Ø­ÙŠÙ† ØŒ Ø§Ù†ØªØ¨Ù‡ Ù„Ù„ØªØ­Ù‚Ù‚ ØŒ Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ù† Alice. <br><br>  <strong>Ø«Ø§Ù„Ø«Ø§:</strong> <br>  ÙŠÙ…ÙƒÙ† Ù„Ø£ÙŠ Ø´Ø®Øµ Ø¥Ø¬Ø±Ø§Ø¡ Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ø­Ø³Ø§Ø¨ Alice Ø¨Ø¨Ø³Ø§Ø·Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">publicKey</a> ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©: <br><pre style=";text-align:right;direction:rtl"><code class="scala hljs">const unsignedTransferTx = transfer({ amount: <span class="hljs-number"><span class="hljs-number">1</span></span>, recipient: <span class="hljs-symbol"><span class="hljs-symbol">'3P6fVra21KmTfWHBdib45iYV6aFduh4WwC</span></span>2', <span class="hljs-comment"><span class="hljs-comment">//senderPublicKey is required if you omit seed senderPublicKey: '6nR7CXVV7Zmt9ew11BsNzSvVmuyM5PF6VPbWHW9BHgPq' })</span></span></code> </pre> <br></blockquote><p style=";text-align:right;direction:rtl">  <em>Ù„Ø³ÙˆØ¡ Ø§Ù„Ø­Ø¸ ØŒ Ù„Ø§ ØªØ³Ù…Ø­ Ù„Ùƒ Ø¹Ù‚ÙˆØ¯ Waves Ø§Ù„Ø°ÙƒÙŠØ© Ø¨Ø­Ø¸Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø© ÙÙŠ Ø­Ø³Ø§Ø¨Ùƒ ØŒ Ù„Ø°Ù„Ùƒ ÙŠØªØ¹ÙŠÙ† Ø¹Ù„Ù‰ Boob Ùˆ Cooper Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù…Ø¹Ø§Ù…Ù„Ø§ØªÙ‡Ù…Ø§ Ø§Ù„ØµØ§Ø¯Ø±Ø© Ø¨Ø£Ù†ÙØ³Ù‡Ù…Ø§.</em> </p><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹ÙˆÙ†Ø§ Ø¥ØµÙ„Ø§Ø­ 2 Ùˆ 3 Ø¹Ù† Ø·Ø±ÙŠÙ‚ <strong>ØªØ¹Ø·ÙŠÙ„</strong> Alice Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ <strong>SetScriptTransaction</strong> ØŒ <strong>ØªØ¹Ø·ÙŠÙ„</strong> Ø¨Ù‚ÙŠØ© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ­Ø¯ÙŠØ¯ PublicKey Ù„Ù‡Ø§ ÙÙŠVerifier.  Ø£ÙŠ Ø£Ù†Ù†Ø§ Ø³Ù†Ø³Ù…Ø­ ÙÙ‚Ø· Ù„Ù€ Alice ÙƒÙ…Ø·ÙˆØ± dApp Ø¨ØªØ­Ø¯ÙŠØ« / ØªØµØ­ÙŠØ­ Ø¹Ù‚Ø¯ Ø°ÙƒÙŠ Ù„ÙØªØ±Ø© Ù…Ù† Ø§Ù„ÙˆÙ‚Øª. </p><br><blockquote style=";text-align:right;direction:rtl">  Ù†Ø¹Ù… ØŒ ÙŠÙ…ÙƒÙ† Ù„Ù€ Alice Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø£Ù…ÙˆØ§Ù„ "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" ØŒ Ù„ÙƒÙ†Ù‡Ø§ ÙÙ‚Ø· ÙŠÙ…ÙƒÙ†Ù‡Ø§ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø°Ù„Ùƒ ÙˆØ³ÙŠØ´Ø§Ù‡Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ø­Ø¸Ø© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…ØµØ±Ø­ Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ³ÙŠÙƒÙˆÙ† Ø¨Ù…Ù‚Ø¯ÙˆØ±Ù‡Ù… Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡.  ÙˆÙ„ÙƒÙ† Ø·Ø§Ù„Ù…Ø§ Ù„Ù… ÙŠØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø®Ù„Ø§Ù invokeScript ØŒ ÙØ¥Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ«ÙˆÙ‚ Ù…Ù† Ø¬Ø§Ù†Ø¨ Alice. </blockquote><p style=";text-align:right;direction:rtl">  Ù†Ø´Ø± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØµØ­ÙŠØ­Ù‡: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-meta"><span class="hljs-meta">@Verifier</span></span>(tx) func verify() = { <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> tx { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> d: <span class="hljs-type"><span class="hljs-type">SetScriptTransaction</span></span> =&gt; sigVerify(tx.bodyBytes, tx.proofs[<span class="hljs-number"><span class="hljs-number">0</span></span>], base58<span class="hljs-symbol"><span class="hljs-symbol">'x51ySWMyhE8G2AqJqmDpe3qoQM2aBwmieiJzZLK33J</span></span>W') <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù†Ø­Ù† Ù†Ø­Ø§ÙˆÙ„ Ø³Ø­Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… dApp Alice ÙˆØªÙˆÙ‚ÙŠØ¹Ù‡Ø§.  Ø­ØµÙ„Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø£: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7w/6x/ar/7w6xarwrxdrfe8exzr0x3dlzgmu.png"></p><br><p style=";text-align:right;direction:rtl">  Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ø§Ù†Ø³Ø­Ø§Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø³Ø­Ø¨: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">broadcast(invokeScript({dappAddress: address(env.accounts[<span class="hljs-number"><span class="hljs-number">1</span></span>]), call:{function:<span class="hljs-string"><span class="hljs-string">"withdraw"</span></span>,args:[{<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>:<span class="hljs-string"><span class="hljs-string">"integer"</span></span>, value: <span class="hljs-number"><span class="hljs-number">1000000</span></span>}]}, payment: []}))</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ ÙŠØ¹Ù…Ù„ ÙˆÙ…Ø¹ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø±Ø²Øª! </p><br><h4 style=";text-align:right;direction:rtl">  Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4. Ù†Ø®Ù„Ù‚ DAO Ù…Ø¹ Ø§Ù„ØªØµÙˆÙŠØª </h4><br><p style=";text-align:right;direction:rtl">  Ù„Ø³ÙˆØ¡ Ø§Ù„Ø­Ø¸ ØŒ Ù„Ù… ØªÙˆÙØ± Ù„ØºØ© RIDE Ø­ØªÙ‰ Ø§Ù„Ø¢Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø§Ù„Ù‚ÙˆØ§Ù…ÙŠØ³ ØŒ Ø§Ù„Ù‚ÙˆØ§Ù…ÙŠØ³ ØŒ Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª ØŒ Ø§Ù„Ù…Ø®ÙØ¶Ø§Øª ØŒ Ø¥Ù„Ø®).  ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª <strong>Ù‚ÙŠÙ…Ø© Ù…ÙØªØ§Ø­</strong> Ù…Ø³Ø·Ø­ ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØµÙ…ÙŠÙ… Ù†Ø¸Ø§Ù… Ù„Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø³Ù„Ø§Ø³Ù„ ØŒ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ù„ÙŠ ØŒ Ù…Ø¹ Ù…ÙØ§ØªÙŠØ­ ÙˆÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±. <br>  Ø§Ù„Ø³Ù„Ø§Ø³Ù„ Ø³Ù‡Ù„Ø© Ù„Ù„ØºØ§ÙŠØ© Ø› ÙŠÙ…ÙƒÙ† ÙØµÙ„ Ø§Ù„Ø³Ù„Ø§Ø³Ù„ Ø­Ø³Ø¨ Ø§Ù„ÙÙ‡Ø±Ø³. </p><br><p style=";text-align:right;direction:rtl">  Ù„Ø¯ÙŠÙ†Ø§ ÙƒÙ„ Ù…Ø§ ØªØ­ØªØ§Ø¬Ù‡ Ù„ÙƒØªØ§Ø¨Ø© Ù…Ù†Ø·Ù‚ <strong>DAO dApp</strong> Ù…Ø¹Ù‚Ø¯Ø©! </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: <br>  "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ÙØªØ§Ø­ Ù‡Ùˆ 100 Ø­Ø±ÙÙ‹Ø§ ØŒ ÙˆÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù…ÙØªØ§Ø­ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø±Ù…Ø² Unicode Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª ÙˆØºÙŠØ±Ù‡Ø§ Ù…Ù† Ø§Ù„Ø±Ù…ÙˆØ² ØºÙŠØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©.  ØªØ­ØªÙˆÙŠ Ù‚ÙŠÙ… Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø¹Ù„Ù‰ 32ØŒ768 Ø¨Ø§ÙŠØª ÙˆØ§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© ÙÙŠ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª 100. Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù… ØŒ ÙŠØ¨Ù„Øº Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø­Ø¬Ù… Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ÙˆØ§Ù„ÙŠ 140 ÙƒÙŠÙ„Ùˆ Ø¨Ø§ÙŠØª - Ù„Ù„Ø¥Ø´Ø§Ø±Ø© ØŒ Ø¨Ø§Ù„Ø¶Ø¨Ø· Ø·ÙˆÙ„ Ù…Ø³Ø±Ø­ÙŠØ© Ø´ÙƒØ³Ø¨ÙŠØ± ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ "Ø±ÙˆÙ…ÙŠÙˆ ÙˆØ¬ÙˆÙ„ÙŠÙŠØª". " </p></div></div><br><p style=";text-align:right;direction:rtl">  <u><strong>Ø¥Ù†Ø´Ø§Ø¡ DAO Ø¨Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„ØªØ§Ù„ÙŠØ©:</strong></u> <br>  Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ…ÙˆÙŠÙ„ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ ØŒ ÙŠØªØ·Ù„Ø¨ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ <strong>getFunds ()</strong> Ø¯Ø¹Ù… Ù…Ø´Ø§Ø±ÙƒÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ - Ù…Ø³ØªØ«Ù…Ø±Ùˆ DAO.  Ø³ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ù…Ù…ÙƒÙ† Ø§Ù„Ø³Ø­Ø¨ ØªÙ…Ø§Ù…Ù‹Ø§ Ù…Ø«Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø°ÙŠ Ø£Ø´Ø§Ø± Ø¥Ù„ÙŠÙ‡ Ù…Ø§Ù„ÙƒÙˆ DAO. </p><br><blockquote style=";text-align:right;direction:rtl">  Ø¯Ø¹Ù†Ø§ Ù†Ø¬Ø¹Ù„ 3 Ø£Ù†ÙˆØ§Ø¹ Ù…Ù† Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ÙˆÙ†Ø¶ÙŠÙ Ù…Ù†Ø·Ù‚Ù‹Ø§ Ù„Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø±ØµØ¯Ø© ÙÙŠ ÙˆØ¸ÙŠÙØªÙŠÙ† Ø¬Ø¯ÙŠØ¯ØªÙŠÙ† ØŒ Ù‚Ù… Ø¨Ø§Ù„ØªØµÙˆÙŠØª Ùˆ getFunds: <br>  xx ... xx <strong>_ia</strong> = Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ† ØŒ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ <em>(Ø§Ù„ØªØµÙˆÙŠØª ØŒ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ ØŒ Ø§Ù„Ø³Ø­Ø¨)</em> <br>  xx ... xx <strong>_sv</strong> = Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ ØŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª <em>(Ø§Ù„ØªØµÙˆÙŠØª ØŒ getFunds)</em> <br>  xx ... xx <strong>_sf</strong> = Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ ØŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª <em>(Ø§Ù„ØªØµÙˆÙŠØª ØŒ getFunds)</em> <br>  xx ... xx = Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø§Ù… (35 Ø­Ø±ÙÙ‹Ø§) </blockquote><p style=";text-align:right;direction:rtl">  Ù„Ø§Ø­Ø¸ ÙÙŠ Ø§Ù„ØªØµÙˆÙŠØª Ø£Ù†Ù†Ø§ Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø© Ø­Ù‚ÙˆÙ„ ÙÙŠ ÙˆÙ‚Øª ÙˆØ§Ø­Ø¯: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-type"><span class="hljs-type">WriteSet</span></span>([<span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(key1, value1), <span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(key2, value2)]),</code> </pre> <br><p style=";text-align:right;direction:rtl">  WriteSet ÙŠØ³Ù…Ø­ Ù„Ù†Ø§ Ø¨Ø¹Ù…Ù„ Ø¹Ø¯Ø© Ø³Ø¬Ù„Ø§Øª Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙŠ Ù…Ø¹Ø§Ù…Ù„Ø© <strong>invokeScript</strong> ÙˆØ§Ø­Ø¯Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙŠ ÙŠØ¸Ù‡Ø± Ø¨Ù‡Ø§ ÙÙŠ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø°Ø§Øª Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© DAO dApp ØŒ Ø¨Ø¹Ø¯ Ø£Ù† Ù‚Ø§Ù… Ø¨ÙˆØ¨ ÙˆÙƒÙˆØ¨Ø± Ø¨ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ÙˆØ¯Ø§Ø¦Ø¹: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ao/8l/fq/ao8lfq7uk_qihgu3iiz1uiurw5q.png"></p><br><p style=";text-align:right;direction:rtl">  Ù„Ù‚Ø¯ ØªØºÙŠØ±Øª ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ù‚Ù„ÙŠÙ„Ø§Ù‹: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_u/28/ne/_u28nezib91y5t62tqi8p_ennfu.png"></p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ø¢Ù† ØªØ£ØªÙŠ Ø§Ù„Ù„Ø­Ø¸Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø£Ù‡Ù…ÙŠØ© ÙÙŠ Ø£Ù†Ø´Ø·Ø© DAO - <strong>Ø§Ù„ØªØµÙˆÙŠØª</strong> Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„ØªÙ…ÙˆÙŠÙ„. </p><br><p style=";text-align:right;direction:rtl">  Bob Votes for Neli's 500ØŒ000 Wavelets Project: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">broadcast(invokeScript({dappAddress: address(env.accounts[<span class="hljs-number"><span class="hljs-number">1</span></span>]), call:{function:<span class="hljs-string"><span class="hljs-string">"vote"</span></span>,args:[{<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>:<span class="hljs-string"><span class="hljs-string">"integer"</span></span>, value: <span class="hljs-number"><span class="hljs-number">500000</span></span>}, {<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>:<span class="hljs-string"><span class="hljs-string">"string"</span></span>, value: <span class="hljs-string"><span class="hljs-string">"3MrXEKJr9nDLNyVZ1d12Mq4jjeUYwxNjMsH"</span></span>}]}, payment: []}))</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø±Ù…Ø² ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØµÙˆÙŠØª: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"><span class="hljs-meta"><span class="hljs-meta">@Callable</span></span>(i) func vote(amount: <span class="hljs-type"><span class="hljs-type">Int</span></span>, address: <span class="hljs-type"><span class="hljs-type">String</span></span>) = { let currentKey = toBase58String(i.caller.bytes) let xxxInvestorBalance = currentKey + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + <span class="hljs-string"><span class="hljs-string">"ib"</span></span> let xxxStartupFund = address + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + <span class="hljs-string"><span class="hljs-string">"sf"</span></span> let xxxStartupVotes = address + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + <span class="hljs-string"><span class="hljs-string">"sv"</span></span> let flagKey = address + <span class="hljs-string"><span class="hljs-string">"_"</span></span> + currentKey let flag = <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> getInteger(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, flagKey) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a:<span class="hljs-type"><span class="hljs-type">Int</span></span> =&gt; a <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> } let currentAmount = <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> getInteger(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, xxxInvestorBalance) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a:<span class="hljs-type"><span class="hljs-type">Int</span></span> =&gt; a <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> } let currentVotes = <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> getInteger(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, xxxStartupVotes) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a:<span class="hljs-type"><span class="hljs-type">Int</span></span> =&gt; a <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> } let currentFund = <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> getInteger(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, xxxStartupFund) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> a:<span class="hljs-type"><span class="hljs-type">Int</span></span> =&gt; a <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> _ =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (amount &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) then <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>(<span class="hljs-string"><span class="hljs-string">"Can't withdraw negative amount"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (amount &gt; currentAmount) then <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>(<span class="hljs-string"><span class="hljs-string">"Not enough balance!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (flag &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) then <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>(<span class="hljs-string"><span class="hljs-string">"Only one vote per project is possible!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-type"><span class="hljs-type">WriteSet</span></span>([ <span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(xxxInvestorBalance, currentAmount - amount), <span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(xxxStartupVotes, currentVotes + <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(flagKey, <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-type"><span class="hljs-type">DataEntry</span></span>(xxxStartupFund, currentFund + amount) ]) }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙÙŠ Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØŒ Ù†Ø±Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ø¹Ù†ÙˆØ§Ù† Neli: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ot/su/t5/otsut5kwwj5vqholnxw4r17hgxk.png"></p><br><p style=";text-align:right;direction:rtl">  ÙƒÙ…Ø§ ØµÙˆØª ÙƒÙˆØ¨Ø± Ù„ØµØ§Ù„Ø­ Ù…Ø´Ø±ÙˆØ¹ Ù†ÙŠÙ„ÙŠ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/in/t5/o4/int5o4ktc3-kula5nzlaw3xmrnu.png"></p><br><p style=";text-align:right;direction:rtl">  Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ù„Ù‚ÙŠ Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ <strong>Ø±Ù…Ø²</strong> ÙˆØ¸ÙŠÙØ© <strong>getFunds</strong> .  ÙŠØ¬Ø¨ Ø¹Ù„Ù‰ Neli Ø¬Ù…Ø¹ Ù…Ø§ Ù„Ø§ ÙŠÙ‚Ù„ Ø¹Ù† ØµÙˆØªÙŠÙ† Ø­ØªÙ‰ ØªØªÙ…ÙƒÙ† Ù…Ù† Ø³Ø­Ø¨ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ Ù…Ù† DAO. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-h/gy/lh/-hgylhk5ohku6fpxmqokigwxaii.png"></p><br><p style=";text-align:right;direction:rtl">  Ø³ØªÙ‚ÙˆÙ… Ù†ÙŠÙ„ÙŠ Ø¨Ø³Ø­Ø¨ Ù†ØµÙ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ù†ÙˆØ· Ø¨Ù‡Ø§: </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs">broadcast(invokeScript({dappAddress: address(env.accounts[<span class="hljs-number"><span class="hljs-number">1</span></span>]), call:{function:<span class="hljs-string"><span class="hljs-string">"getFunds"</span></span>,args:[{<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>:<span class="hljs-string"><span class="hljs-string">"integer"</span></span>, value: <span class="hljs-number"><span class="hljs-number">500000</span></span>}]}, payment: []}))</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/pi/tt/sr/pittsrw2bxznsoqjgn4uvg1ralu.png"></p><br><p style=";text-align:right;direction:rtl">  Ø§Ù†Ù‡Ø§ ØªÙ†Ø¬Ø­ ØŒ ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ ØŒ ÙŠØ¹Ù…Ù„ DAO! </p><br><p style=";text-align:right;direction:rtl">  Ù†Ø¸Ø±Ù†Ø§ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ DAO Ø¨Ù„ØºØ© <strong>RIDE4DAPPS</strong> . <br>  ÙÙŠ Ø§Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„ØªØ§Ù„ÙŠØ© ØŒ Ø³Ù†ØªØ¹Ø§Ù…Ù„ Ø¨Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØµÙŠÙ„ Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø­Ø§Ù„Ø§Øª. </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Waves RIDE IDE:</a> </p><br><pre style=";text-align:right;direction:rtl"> <code class="scala hljs"># <span class="hljs-type"><span class="hljs-type">In</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> example multiple accounts can deposit their funds to <span class="hljs-type"><span class="hljs-type">DAO</span></span> and safely take them back, no one can interfere <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>. # <span class="hljs-type"><span class="hljs-type">DAO</span></span> participants can also vote <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> particular addresses and let them withdraw invested funds then quorum has reached. # <span class="hljs-type"><span class="hljs-type">An</span></span> inner state is maintained as mapping `address=&gt;waves`. # https:<span class="hljs-comment"><span class="hljs-comment">//medium.com/waves-lab/waves-announces-funding-for-ride-for-dapps-developers-f724095fdbe1 # You can try this contract by following commands in the IDE (ide.wavesplatform.com) # Run commands as listed below # From account #0: # deploy() # From account #1: deposit funds # broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"deposit",args:[]}, payment: [{amount: 100000000, asset:null }]})) # From account #2: deposit funds # broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"deposit",args:[]}, payment: [{amount: 100000000, asset:null }]})) # From account #1: vote for startup # broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"vote",args:[{type:"integer", value: 500000}, {type:"string", value: "3MrXEKJr9nDLNyVZ1d12Mq4jjeUYwxNjMsH"}]}, payment: []})) # From account #2: vote for startup # broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"vote",args:[{type:"integer", value: 500000}, {type:"string", value: "3MrXEKJr9nDLNyVZ1d12Mq4jjeUYwxNjMsH"}]}, payment: []})) # From account #3: get invested funds # broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"getFunds",args:[{type:"integer", value: 500000}]}, payment: []})) {-# STDLIB_VERSION 3 #-} {-# CONTENT_TYPE DAPP #-} {-# SCRIPT_TYPE ACCOUNT #-} @Callable(i) func deposit() = { let pmt = extract(i.payment) if (isDefined(pmt.assetId)) then throw("can hodl waves only at the moment") else { let currentKey = toBase58String(i.caller.bytes) let xxxInvestorBalance = currentKey + "_" + "ib" let currentAmount = match getInteger(this, xxxInvestorBalance) { case a:Int =&gt; a case _ =&gt; 0 } let newAmount = currentAmount + pmt.amount WriteSet([DataEntry(xxxInvestorBalance, newAmount)]) } } @Callable(i) func withdraw(amount: Int) = { let currentKey = toBase58String(i.caller.bytes) let xxxInvestorBalance = currentKey + "_" + "ib" let currentAmount = match getInteger(this, xxxInvestorBalance) { case a:Int =&gt; a case _ =&gt; 0 } let newAmount = currentAmount - amount if (amount &lt; 0) then throw("Can't withdraw negative amount") else if (newAmount &lt; 0) then throw("Not enough balance") else ScriptResult( WriteSet([DataEntry(xxxInvestorBalance, newAmount)]), TransferSet([ScriptTransfer(i.caller, amount, unit)]) ) } @Callable(i) func getFunds(amount: Int) = { let quorum = 2 let currentKey = toBase58String(i.caller.bytes) let xxxStartupFund = currentKey + "_" + "sf" let xxxStartupVotes = currentKey + "_" + "sv" let currentAmount = match getInteger(this, xxxStartupFund) { case a:Int =&gt; a case _ =&gt; 0 } let totalVotes = match getInteger(this, xxxStartupVotes) { case a:Int =&gt; a case _ =&gt; 0 } let newAmount = currentAmount - amount if (amount &lt; 0) then throw("Can't withdraw negative amount") else if (newAmount &lt; 0) then throw("Not enough balance") else if (totalVotes &lt; quorum) then throw("Not enough votes. At least 2 votes required!") else ScriptResult( WriteSet([ DataEntry(xxxStartupFund, newAmount) ]), TransferSet([ScriptTransfer(i.caller, amount, unit)]) ) } @Callable(i) func vote(amount: Int, address: String) = { let currentKey = toBase58String(i.caller.bytes) let xxxInvestorBalance = currentKey + "_" + "ib" let xxxStartupFund = address + "_" + "sf" let xxxStartupVotes = address + "_" + "sv" let flagKey = address + "_" + currentKey let flag = match getInteger(this, flagKey) { case a:Int =&gt; a case _ =&gt; 0 } let currentAmount = match getInteger(this, xxxInvestorBalance) { case a:Int =&gt; a case _ =&gt; 0 } let currentVotes = match getInteger(this, xxxStartupVotes) { case a:Int =&gt; a case _ =&gt; 0 } let currentFund = match getInteger(this, xxxStartupFund) { case a:Int =&gt; a case _ =&gt; 0 } if (amount &lt;= 0) then throw("Can't withdraw negative amount") else if (amount &gt; currentAmount) then throw("Not enough balance!") else if (flag &gt; 0) then throw("Only one vote per project is possible!") else WriteSet([ DataEntry(xxxInvestorBalance, currentAmount - amount), DataEntry(xxxStartupVotes, currentVotes + 1), DataEntry(flagKey, 1), DataEntry(xxxStartupFund, currentFund + amount) ]) } @Verifier(tx) func verify() = { match tx { case d: SetScriptTransaction =&gt; sigVerify(tx.bodyBytes, tx.proofs[0], base58'x51ySWMyhE8G2AqJqmDpe3qoQM2aBwmieiJzZLK33JW') case _ =&gt; false } }</span></span></code> </pre> <br><hr><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø§ÙˆÙ„</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙƒÙˆØ¯ Ø¬ÙŠØ«Ø¨</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…ÙˆØ¬Ø§Øª Ø±ÙƒÙˆØ¨ IDE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ù†Ø­Ø©</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar447808/">https://habr.com/ru/post/ar447808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar447794/index.html">Ø¹Ù† Ø£Ø´ÙŠØ§Ø¡ Ø¨Ø³ÙŠØ·Ø© ÙˆÙ…Ø¹Ù‚Ø¯Ø©. Ø®Ø·Ø§Ø¨ Ù…Ù† Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø¥Ù„Ù‰ Ø·Ø§Ø¨Ø¹Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯. Ø§Ù„Ù…Ø°ÙŠØ¨Ø§Øª Ù„Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠØ© ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù†Ù‡Ø§</a></li>
<li><a href="../ar447798/index.html">ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù…Ø§Ù„ÙŠ Ø¶Ø®Ù… Ù…Ø¹ Ø£Ù†Ù…Ø§Ø· ØºØ³Ù„ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ØŸ</a></li>
<li><a href="../ar447802/index.html">Ø¥ÙŠØ²Ø§Ø¨ÙŠÙ„Ø§ 2</a></li>
<li><a href="../ar447804/index.html">Ù‚Ø²Ù… Ø§Ù„Ù‚Ù„Ø¹Ø© ÙŠØªØ®Ù„Ù‰ Ø¹Ù† Ø§Ù„Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„Ù†ØµÙŠØ© ØŒ ÙˆÙ„ÙƒÙ† Ù„ÙŠØ³ Ø¬ÙˆÙ‡Ø±Ù‡Ø§</a></li>
<li><a href="../ar447806/index.html">ØªØ³Ø±ÙŠØ¹ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø¹ØµØ¨ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ¬Ø²Ø¦Ø©</a></li>
<li><a href="../ar447810/index.html">ØªØ­Ù„ÙŠÙ„Ø§Øª Ø®Ø¯Ù…Ø§Øª Azure DevOps Ù…ØªØ§Ø­Ø© Ø§Ù„Ø¢Ù† Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±</a></li>
<li><a href="../ar447812/index.html">ÙƒÙŠÙ Ù‚Ù…Ù†Ø§ Ø¨ØªÙ†ÙÙŠØ° ØªØ³Ù„ÙŠÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù„Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù…ÙŠÙ„</a></li>
<li><a href="../ar447814/index.html">Ø£ÙŠÙ† ÙˆÙƒÙŠÙ Ù„ÙØªØ­ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ·ÙˆÙŠØ±ØŸ</a></li>
<li><a href="../ar447816/index.html">Ø§Ù„Ù‚Ù„ÙŠÙ„ Ù…Ù† Ù‚Ø§Ù„Ø¨ C ++ Ø§Ù„Ø³Ø­Ø±ÙŠ Ùˆ CRTP Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ ØµØ­Ø© Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ ÙÙŠ ÙˆÙ‚Øª Ø§Ù„ØªØ±Ø¬Ù…Ø©</a></li>
<li><a href="../ar447818/index.html">AgileDays 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>