<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌝 🏗️ 🔲 Kelas Penyimpanan Memori dalam penyimpanan - jika Anda membutuhkannya lebih cepat ⛑️ 💧 👩🏼‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seperti yang mungkin Anda ingat, NRE telah lama diinvestasikan dalam topik tipe baru gudang data (tentu saja, The Machine ) dan dalam mengoptimalkan a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kelas Penyimpanan Memori dalam penyimpanan - jika Anda membutuhkannya lebih cepat</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hpe/blog/432306/"><img src="https://habrastorage.org/webt/tc/ks/yy/tcksyyfppgu3sraou3ixk2bqlmi.png" alt="Gambar tidak menyatakan posisi perusahaan dan merupakan visi pribadi penulis, tidak harus terkait dengan tema teks ini, amin" align="left">  Seperti yang mungkin Anda ingat, NRE telah lama diinvestasikan dalam topik tipe baru gudang data (tentu saja, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">The Machine</a> ) dan dalam mengoptimalkan akses ke penyimpanan (keanggotaan kami dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konsorsium Gen-Z</a> ). <br><br>  Tujuan dari gerakan ini adalah untuk mempercepat pekerjaan aplikasi pelanggan kami.  Selain itu, gerakan ini bertingkat: sementara arsitektur yang sepenuhnya baru dari sistem mesin The Machine (arsitektur yang disebut memori-sentris) sedang dipalsukan, kami memahami bahwa kami perlu mempercepat sekarang.  Mari kita lihat apa yang bisa dilakukan hari ini dan apa yang akan muncul di HPE besok.  Petunjuk - kita akan berbicara tentang akselerasi kuat penyimpanan 3PAR dan Nimble kami menggunakan caching yang cerdas dan relatif murah di Storage Class Memory (SCM) dalam bentuk Intel Optane. <br><a name="habracut"></a><br>  Pertama, kami menetapkan batasan masalah yang diteliti.  Dalam posting ini, kami tidak tertarik pada komputasi berkinerja tinggi dengan spesifiknya sendiri dan tidak tertarik pada tugas-tugas yang membutuhkan penyimpanan cepat antar server secara eksklusif.  Yang terakhir tidak diragukan lagi juga merupakan topik untuk Intel Optane dan SCM secara umum, tetapi tugas-tugas seperti itu sering spesifik, tidak dapat dikalahkan virtualisasi dan, karenanya, konsolidasi.  Kami akan berbicara tentang tugas dan aplikasi yang cocok dengan sistem penyimpanan 3PAR, Nimble atau MSA eksternal (meskipun kami juga tidak akan menyentuh MSA). <br><br>  Jadi, bagaimana Anda dapat meningkatkan kinerja aplikasi tervirtualisasi yang bekerja dengan data pada sistem penyimpanan eksternal: <br><ul><li>  lihat apa yang menahan aplikasi sekarang.  Mungkin intinya sama sekali bukan dalam penyimpanan, tetapi untuk mengantisipasi prosesor, dalam logika internal bekerja dengan data, dalam permintaan tertulis yang tidak optimal; </li><li>  jika keterlambatan besar dalam hal menunggu data (IO), maka Anda harus terlebih dahulu memeriksa apakah semua rekomendasi untuk mengkonfigurasi bundel driver-OS-aplikasi (SCSI, HBA, dll.) terpenuhi </li><li>  mungkin halnya di SAN (Ethernet, FC); </li><li>  mungkin masih dalam sistem penyimpanan.  Di mana dalam penyimpanan?  Di perangkat keras pengontrol (ada apa dengan cache, berapa beban prosesor), di OS pengontrol dan driver, di bus data, di disk ... </li></ul><br>  Kemungkinan pemikiran: Oh, pasti - roda!  Segala sesuatu yang rumit dan saya tidak ingin menyentuh, tetapi dengan disk kita akan coba.  Apa yang kita miliki, hibrida - yah, maka kita perlu semua-flash.  Apakah kita sudah memiliki semua flash?  Dan apa yang lebih baik?  Kami menonton iklan merek terkemuka: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dc/ig/q7/dcigq7iuujylprrygydh_0xbhla.png" alt="gambar"></div><br>  Semuanya jelas, kami mengambil penyimpanan dengan "NVMe-disk."  Tunggu, <b>berapa</b> harganya?  Dan Anda perlu membeli sistem penyimpanan <b>baru</b> , saya tidak dapat memutakhirkan saat ini?  Nah, kamu harus ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fc/a1a/91d/0fca1a91df15114fad6d015ff1a3aa56.gif" alt="gambar"></div><br>  Tetapi mungkinkah dengan cara lain?  Kami di NRE percaya bahwa itu tidak hanya mungkin, tetapi juga perlu.  Dan inilah alasannya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/np/rv/fxnprvk019rj4pwqquoqc2yhrca.png" alt="gambar"></div><br>  Faktanya adalah bahwa sebagian besar NVMe SSD di pasaran saat ini adalah jenis media yang sama, NAND-flash, hanya terhubung ke pengontrol tidak melalui protokol Serial Attached SCSI (SAS), tetapi melalui protokol NVMe yang baru.  Protokol baru tidak diragukan lagi indah, dan berikut adalah beberapa fakta: <br><br><ul><li>  64.000 antrian tersedia dengan masing-masing 64.000 utas - IOPS di atas atap </li><li>  controller langsung ke CPU - beban CPU lebih rendah </li><li>  setiap inti prosesor melihat setiap SSD secara langsung - latensi rendah </li></ul><br><br>  Dengan sepenuhnya mengganti protokol SCSI dari aplikasi ke disk, sangat mungkin untuk mengurangi latensi akses secara signifikan.  Tapi apa yang ditawarkan pemasar hari ini?  "Disk NVMe."  Yaitu  seluruh rantai ke pengontrol penyimpanan itu sendiri tetap sama - SCSI.  Dan kemudian controller hanya mengemas ulang SCSI di NVMe dan berkomunikasi dengan NAND SSD yang terhubung. <br><br>  Hasil pada grafik di atas adalah keuntungan minimum dalam penundaan.  Meskipun gain di puncak IOPS benar-benar bisa sangat terlihat.  Analogi tradisional: apakah Anda memerlukan mobil yang dapat mempercepat untuk menyalip dalam 5 detik, atau mobil yang, dalam kondisi ideal, dapat berakselerasi dalam 10 menit hingga 300 km / jam?  Kedua opsi itu bagus, tetapi lebih sering mereka memilih yang pertama. <br><br>  Kenyataannya adalah bahwa keuntungan dari NVMe NAND hampir tidak terlihat hari ini untuk aplikasi nyata, dan menurut kami, sama sekali tidak sebanding dengan perbedaan harga dan kehilangan kapasitas yang tersedia dibandingkan dengan SAS SAS. <br><br>  Apa yang ditawarkan HPE alih-alih sekadar mengganti "last mile" dari SAS ke NVMe adalah penggunaan drive Intel Optane yang sepenuhnya baru yang terhubung melalui NVMe sebagai cache baca di pengontrol penyimpanan 3PAR dan Nimble kami. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xu/li/vk/xulivkci2dqatabrok2n7vnwzio.png" alt="gambar"></div><br>  <i>(Baik arithmometer dan admin di foto disebut Felix, tetapi perbedaannya sangat besar!)</i> <br><br>  Mengapa kami memutuskan untuk pergi seperti ini: <br><br><ul><li>  dengan cara ini kami dapat menawarkan pelanggan kami untuk memperbarui sistem penyimpanan yang sudah dibeli (khususnya 3PAR 9450, 20450, 20850 dan Nimble AF60 dan AF80 - semua flash-top semua) <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u5/wz/dl/u5wzdlhs2_wb2lyalb1phbaprpi.jpeg" alt="gambar"></div></li><li>  dengan cara yang sangat sederhana ini (dengan menambahkan kartu ekspansi dengan Optane on board ke masing-masing controller) kami menurunkan penundaan maksimum sekitar 15 kali dan rata-rata 30-40% (IOPS juga tumbuh, well, oke).  Dan yang paling penting, penundaan tidak melompat dari pemasaran " <b>dari</b> 0,2 ms!"  ad infinitum (pemasaran bukan milik kita, saya hanya mengutip), tetapi menjadi jauh lebih stabil: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ee/4t/u_/ee4tu_cfntaw66z8sb6pupdnx_o.png" alt="gambar"></div><br>  <i>(Nilai penundaan berdasarkan pada tes HPE internal)</i> </li><li>  lebih khusus, apa yang dapat diharapkan dari pengurangan latensi array untuk Oracle favorit Anda, misalnya: menurut tes internal kami, IO wait dikurangi dengan rata-rata 37%, dan pemilihan SQL dipercepat oleh 27%. </li><li>  Mengapa cache dibaca dan tidak ditulis?  Karena dalam 3PAR dan Nimble, selama bertahun-tahun sekarang, DRAM telah digunakan sebagai cache tulis (NVRAM non-volatile di Nimble).  Ini, pada gilirannya, beberapa kali lebih cepat daripada perangkat NVMe, dan sampai munculnya Gen-Z atau protokol baru yang serupa akan tetap demikian.  Yaitu  Rekaman tidak perlu dipercepat melalui NVMe. </li><li>  Mengapa Intel Optane?  Karena ini adalah jenis media terbaru, meskipun masih di belakang NAND dalam hal kepadatan, tetapi urutan besarnya lebih cepat dalam menanggapi.  Plus, Optane memiliki sumber daya yang hampir tidak ada habisnya untuk menulis ulang.  Secara umum, untuk sistem yang dimuat, biaya transaksi pada Optane jauh lebih rendah daripada pada NAND NVMe.  Dan cache adalah lapisan yang sangat dimuat dari semua sisi.  Data panas disalin dari lapisan yang lebih lambat (oleh karena itu, diperlukan sumber daya), dibaca dari itu jika data tidak ditemukan dalam cache NVRAM controller (oleh karena itu, diperlukan respons cepat sehingga melampaui cache NVRAM tidak terlihat seperti perjalanan ke hypermarket dibandingkan dengan dengan perjalanan ke toko dekat rumah). </li><li>  mengapa tidak menempatkan disk NVMe setelah semua?  Pastikan untuk mengatakannya!  Misalnya, sasis Nimble memungkinkan pemasangan disk seperti itu sekarang (backplane sudah siap untuk ini), tetapi kami belum menjual disk tersebut untuk Nimble, karena masih dini.  SCM-cache sekarang memberikan beberapa peningkatan kinerja untuk uang relatif.  Jadi mari kita gunakan ketika NVMe NAND masih lebih murah, protokol NVMe sendiri masih berkembang (multi-pathing muncul dalam standar hanya pada bulan Maret 2018, dan masih tertinggal jauh di belakang stabilitas SCSI), dan secara umum, ekosistem NVMe dari aplikasi ke disk masih tidak dikembangkan (NVMe over fabric masuk ke taman kanak-kanak, produsen berdebat tentang bagaimana seharusnya terlihat, driver memiliki fungsi minimal, sehingga Anda tidak menimpa terlalu banyak ketika semuanya beres). </li><li>  dan juga karena kami sangat suka untuk men-cache semuanya.  Berikut ini contoh tentang Nimble: </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ra/xh/v3/raxhv31dou-uchvgyubrwwu3usm.png" alt="gambar"></div><br>  Ya, omong-omong, apakah Anda terbiasa dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">InfoSight HPE</a> ?  Dengan alat ini Anda selalu tahu di mana harus mencari penundaan.  Misalnya, seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/bz/ni/xtbzniulhurmg44yndks4qpr3kw.png" alt="gambar"></div><br>  <i>(Jika Anda menemukan penundaan, harap hubungi iman kami.)</i> <br><br>  Saatnya untuk meringkas: jika Anda adalah pemilik bangga 3PAR 9000 atau 20.000, maka Anda dapat memesan Cache 3D 3PAR berdasarkan Intel Optane sekarang.  Jika Anda melihat dekat pada array Nimble All-flash - bawa, karena  Ini adalah basis yang dapat diandalkan untuk melindungi investasi di masa depan.  Mulailah dengan SAS NAND SSD sekarang, colokkan Cache Turbo Flash Berbasis Semua SCM nanti, kemudian ubah drive menjadi NVMe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xq/uo/cg/xquocgeacjpnl2zqfmkttpkhjhc.png" alt="3PAR dan Cache Cekatan"></div><br>  Untuk referensi: <br><ul><li>  inilah webinar gesit baru-baru ini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HPE gesit evolusi: paranoid + perlindungan data dan banyak lagi</a> </li><li>  Dan ini webinar tentang Intel Optane dalam portofolio HPE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nomor Optane - tingkatkan kapasitas pusat data Anda dengan teknologi Intel</a> . </li><li>  Posting blog pemimpin sayap pertempuran lincah: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">recoverymonkey.org/2018/11/30/hpe-memory-driven-architectures-extend-to-3par-and-nimble-storage</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432306/">https://habr.com/ru/post/id432306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432296/index.html">Google membuat Anda dalam "gelembung pencarian" pribadi meskipun Anda keluar dari akun</a></li>
<li><a href="../id432298/index.html">Timeweb memasukkan pendaftar domain TOP-10 di zona .RU</a></li>
<li><a href="../id432300/index.html">Dukungan, layanan, sakit kepala, dan semuanya</a></li>
<li><a href="../id432302/index.html">Sequence-to-Sequence Bagian 2 Model</a></li>
<li><a href="../id432304/index.html">Seorang ilmuwan saraf yang brilian yang mungkin memiliki kunci untuk menciptakan kecerdasan buatan sejati</a></li>
<li><a href="../id432308/index.html">Tingkat modular Sci-Fi UE4: terinspirasi oleh Nostromo dan Serenity</a></li>
<li><a href="../id432310/index.html">Ktor sebagai klien HTTP untuk Android</a></li>
<li><a href="../id432312/index.html">Buat Peta Bentuk peta RF di Power BI</a></li>
<li><a href="../id432314/index.html">Roskachestvo menerbitkan daftar smartphone terbaik tahun 2018</a></li>
<li><a href="../id432316/index.html">Piala AI Rusia 2018: CodeBall. Kompetisi 3D yang spektakuler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>