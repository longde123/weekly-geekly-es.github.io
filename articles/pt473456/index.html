<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚úàÔ∏è üéôÔ∏è üêæ A √∫ltima fronteira de controle de qualidade de defesa: detec√ß√£o autom√°tica de erros üö∂üèΩ ‚èØÔ∏è üçî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Meu nome √© Askhat Nuryev, sou engenheiro de automa√ß√£o l√≠der no DINS. 

 Trabalho na Dino Systems h√° 7 anos. Durante esse per√≠odo, tive que lidar co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A √∫ltima fronteira de controle de qualidade de defesa: detec√ß√£o autom√°tica de erros</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dins/blog/473456/"><img src="https://habrastorage.org/webt/6g/16/7z/6g167zqsfurjcekgnb-vsvxauwm.png"><br><br>  Oi  Meu nome √© Askhat Nuryev, sou engenheiro de automa√ß√£o l√≠der no DINS. <br><br>  Trabalho na Dino Systems h√° 7 anos.  Durante esse per√≠odo, tive que lidar com v√°rias tarefas: desde a cria√ß√£o de testes funcionais automatizados at√© o desempenho do teste e a alta disponibilidade.  Gradualmente, me envolvi mais na organiza√ß√£o de testes e otimiza√ß√£o de processos em geral. <br><br>  Neste artigo vou dizer: <br><br><ul><li>  E se os erros j√° vazaram para a produ√ß√£o? </li><li>  Como competir pela qualidade do sistema, se voc√™ n√£o pode contar os erros com as m√£os e n√£o reconsiderar os olhos? </li><li>  Quais s√£o as armadilhas no tratamento autom√°tico de erros? </li><li>  Quais b√¥nus posso obter ao analisar as estat√≠sticas da consulta? </li></ul><a name="habracut"></a><br>  O DINS √© o centro de desenvolvimento do RingCentral, l√≠der de mercado entre os provedores de nuvem das Comunica√ß√µes Unificadas.  O Ringentral fornece tudo para comunica√ß√µes comerciais, desde telefonia cl√°ssica, SMS, reuni√µes at√© a funcionalidade de centros de contato e produtos para um trabalho em equipe complexo (√† la Slack).  Essa solu√ß√£o em nuvem est√° localizada em seus pr√≥prios datacenters e o cliente precisa apenas se inscrever no site. <br><br>  O sistema, no desenvolvimento do qual participamos, atende a 2 milh√µes de usu√°rios ativos e processa mais de 275 milh√µes de solicita√ß√µes por dia.  A equipe na qual estou trabalhando est√° desenvolvendo a API. <br>  O sistema possui uma API bastante complicada.  Com ele, voc√™ pode enviar SMS, fazer chamadas, coletar videoconfer√™ncias, configurar contas e at√© mesmo enviar faxes (Ol√°, 2019).  De uma forma simplificada, o esquema de intera√ß√£o de servi√ßos se parece com isso.  Eu n√£o estou brincando. <br><br><img src="https://habrastorage.org/webt/yh/qv/fh/yhqvfhbzgk-qluiiymhsfgchl2o.png"><br><br>  √â claro que um sistema t√£o complexo e altamente carregado cria um grande n√∫mero de erros.  Por exemplo, h√° um ano, recebemos dezenas de milhares de erros por semana.  Esses s√£o mil√©simos de um por cento em rela√ß√£o ao n√∫mero total de solicita√ß√µes, mas ainda assim muitos erros s√£o uma bagun√ßa.  N√≥s os capturamos gra√ßas ao servi√ßo de suporte desenvolvido, no entanto, esses erros afetam os usu√°rios.  Al√©m disso, o sistema est√° em constante evolu√ß√£o, o n√∫mero de clientes est√° crescendo.  E o n√∫mero de erros tamb√©m. <br><br>  Primeiro, tentamos resolver o problema de maneira cl√°ssica. <br>  Reunimos, solicitamos logs da produ√ß√£o, corrigimos algo, esquecemos algo, criamos pain√©is em Kibana e Sumologic.  Mas no geral n√£o ajudou.  Os erros vazavam de qualquer maneira, os usu√°rios reclamavam.  Ficou claro que algo estava errado. <br><br><h3>  Automa√ß√£o </h3><br>  Obviamente, come√ßamos a entender e vimos que 90% do tempo gasto na corre√ß√£o do erro √© gasto na coleta de informa√ß√µes.  Aqui est√° o que exatamente: <br><br><ul><li>  Obtenha as informa√ß√µes ausentes de outros departamentos. </li><li>  Examine os logs do servidor. </li><li>  Investigue o comportamento do nosso sistema. </li><li>  Entenda se esse ou aquele comportamento do sistema est√° incorreto. </li></ul><br>  E apenas os 10% restantes gastamos diretamente no desenvolvimento. <br><br>  Pensamos - mas e se criarmos um sistema que encontre erros, os priorize e mostre todos os dados necess√°rios para corrigi-lo? <br><br>  Devo dizer que a pr√≥pria id√©ia de um servi√ßo desse tipo causou algumas preocupa√ß√µes. <br>  Algu√©m disse: "Se encontrarmos todos os erros, ent√£o por que precisamos do controle de qualidade?" <br>  Outros disseram o contr√°rio: "Voc√™ se afogar√° nesta pilha de insetos!". <br>  Em uma palavra, valia a pena prestar um servi√ßo apenas para entender qual deles estava certo. <div class="spoiler">  <b class="spoiler_title">spoiler</b> <div class="spoiler_text">  (ambos os grupos de c√©ticos estavam enganados) </div></div><br><br><h3>  Solu√ß√µes prontas </h3><br>  Antes de tudo, decidimos ver quais sistemas semelhantes j√° est√£o no mercado.  Descobriu-se que existem muitos deles.  Voc√™ pode destacar Raygun, Sentry, Airbrake, existem outros servi√ßos. <br>  Mas nenhum deles nos convinha, e aqui est√° o porqu√™: <br><br><ul><li>  Alguns servi√ßos exigiram que fiz√©ssemos altera√ß√µes muito grandes na infraestrutura existente, incluindo altera√ß√µes no servidor.  O Airbrake.io precisaria refinar dezenas, centenas de componentes do sistema. </li><li>  Outros coletaram dados sobre nossos pr√≥prios erros e os enviaram para algum lugar ao lado.  Nossa pol√≠tica de seguran√ßa n√£o permite isso - os dados de usu√°rio e erro devem permanecer conosco. </li><li>  Bem, eles tamb√©m s√£o muito caros. </li></ul><br><br><h3>  N√≥s fazemos o nosso </h3><br>  Tornou-se √≥bvio que dever√≠amos prestar nosso servi√ßo, principalmente porque j√° constru√≠mos uma infraestrutura muito boa para ele: <br><br><ul><li>  Todos os servi√ßos j√° gravaram logs em um √∫nico reposit√≥rio - Elastic.  Nos logs, foram identificados identificadores uniformes de solicita√ß√µes em todos os servi√ßos. </li><li>  As estat√≠sticas de desempenho foram registradas adicionalmente no Hadoop.  Trabalhamos com logs usando Impala e Metabase. </li></ul><br>  De todos os erros do servidor (de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">acordo com a classifica√ß√£o dos c√≥digos de status HTTP</a> ), o c√≥digo 500 √© o mais promissor em termos de an√°lise de erros.  Em resposta aos erros 502, 503 e 504, em alguns casos, voc√™ pode simplesmente repetir a solicita√ß√£o ap√≥s algum tempo, sem mostrar a resposta ao usu√°rio.  E de acordo com as recomenda√ß√µes da API da plataforma RC, os usu√°rios devem entrar em contato com o suporte se receberem o c√≥digo de status 500 em resposta a uma chamada. <br><br>  A primeira vers√£o do sistema coletou logs de execu√ß√£o de consultas, todos os rastreamentos de pilha que surgiram, dados do usu√°rio e colocaram o bug no rastreador; no nosso caso, foi o JIRA. <br><br>  Logo ap√≥s a execu√ß√£o do teste, percebemos que o sistema cria um n√∫mero significativo de erros duplicados.  No entanto, entre essas duplicatas, muitas tinham quase os mesmos rastreamentos de pilha. <br><br>  Foi necess√°rio alterar o m√©todo para identificar os mesmos erros.  Da an√°lise de dados puramente estat√≠sticos, prossiga para encontrar a causa raiz do erro.  Os rastreamentos de pilha caracterizam bem o problema, mas s√£o bastante dif√≠ceis de comparar entre si - o n√∫mero de linhas muda de vers√£o para vers√£o, os dados do usu√°rio e outros ru√≠dos entram neles.  Al√©m disso, eles nem sempre entram no log - para alguns pedidos descartados, eles simplesmente n√£o existem. <br>  Em sua forma mais pura, os rastreamentos de pilha s√£o inconvenientes para o rastreamento de erros. <br><br>  Era necess√°rio selecionar padr√µes, modelos de rastreios de pilha e limp√°-los de informa√ß√µes que frequentemente mudavam.  Ap√≥s uma s√©rie de experimentos, decidimos usar express√µes regulares para limpar os dados. <br><br>  Como resultado, lan√ßamos uma nova vers√£o, nela os erros foram identificados por esses modelos exclusivos, se rastreamentos de pilha estivessem dispon√≠veis.  E se eles n√£o estavam dispon√≠veis, √† moda antiga, pelo m√©todo http e pelo grupo API. <br><br>  E depois disso praticamente n√£o havia duplicatas.  No entanto, muitos erros exclusivos foram encontrados. <br><br>  O pr√≥ximo passo √© entender como priorizar os erros, quais deles precisam ser corrigidos anteriormente.  Priorizamos por: <br><br><ul><li>  A frequ√™ncia do erro. </li><li>  O n√∫mero de usu√°rios que ela est√° preocupada. </li></ul><br>  Com base nas estat√≠sticas coletadas, come√ßamos a publicar relat√≥rios semanais.  Eles se parecem com isso: <br><br><img src="https://habrastorage.org/webt/sg/gy/lj/sggyljismpvupxa43mcjkz_pkko.png"><br><br>  Ou, por exemplo, os 10 principais erros por semana.  Curiosamente, esses 10 erros no jira foram respons√°veis ‚Äã‚Äãpor 90% dos erros de servi√ßo: <br><br><img src="https://habrastorage.org/webt/y8/hz/rm/y8hzrmloopmi_ncgweivbkvjfig.png"><br><br>  Enviamos esses relat√≥rios para desenvolvedores e l√≠deres de equipe. <br>  Alguns meses ap√≥s o lan√ßamento do sistema, o n√∫mero de problemas tornou-se notavelmente menor.  At√© nosso pequeno MVP (produto minimamente vi√°vel) ajudou a resolver melhor os erros. <br><br><h3>  O problema </h3><br>  Talvez par√°ssemos por aqui, se n√£o fosse por um acidente. <br>  Uma vez, cheguei ao trabalho e notei que o sistema rebenta bugs como bolos quentes: um por um.  Ap√≥s uma breve investiga√ß√£o, ficou claro que dezenas desses erros vieram de um servi√ßo.  Para descobrir qual √© o problema, fui √† sala de bate-papo da equipe de implanta√ß√£o.  Havia pessoas envolvidas na instala√ß√£o de novas vers√µes de servi√ßos na produ√ß√£o e na garantia de que funcionassem conforme o esperado. <br>  Eu perguntei: "Gente, o que aconteceu com este servi√ßo?". <br>  E eles respondem: "H√° uma hora, instalamos uma nova vers√£o l√°". <br>  Passo a passo, identificamos o problema e encontramos uma solu√ß√£o tempor√°ria, ou seja, reiniciamos o servidor. <br><br>  Ficou claro que o sistema "errado" √© necess√°rio n√£o apenas pelos desenvolvedores e engenheiros respons√°veis ‚Äã‚Äãpela qualidade.  Os engenheiros respons√°veis ‚Äã‚Äãpelo estado dos servidores em produ√ß√£o, bem como os funcion√°rios que instalam novas vers√µes nos servidores, tamb√©m est√£o interessados.  O servi√ßo que estamos desenvolvendo mostrar√° exatamente quais erros ocorrem na produ√ß√£o durante as altera√ß√µes do sistema, como instalar servidores, aplicar uma nova configura√ß√£o e assim por diante. <br><br>  E decidimos fazer outra itera√ß√£o de desenvolvimento. <br><br>  No processo de tratamento de erros, adicionamos um registro de estat√≠sticas de reprodu√ß√£o de problemas ao banco de dados e pain√©is no Grafana.  √â assim que a distribui√ß√£o gr√°fica de erros por dia em todo o sistema se parece: <br><br><img src="https://habrastorage.org/webt/xj/q_/gk/xjq_gkdt72qdxqocv-rv7hmku_0.png"><br><br>  E assim - erros em servi√ßos individuais. <br><br><img src="https://habrastorage.org/webt/x-/5t/kx/x-5tkxagwpv16lhfg2l0fvpzgeg.png"><br><br>  Tamb√©m parafusamos gatilhos com escala√ß√µes para as equipes de engenharia respons√°veis ‚Äã‚Äã- caso haja muitos erros.  Tamb√©m configuramos a coleta de dados uma vez a cada 30 minutos (em vez de uma vez por dia, como antes). <br>  O processo do nosso sistema come√ßou a ficar assim: <br><br><img src="https://habrastorage.org/webt/pl/gz/qg/plgzqgh9rsamo-ztprr2zbgjxug.png"><br><br><h3>  Erros do cliente </h3><br>  No entanto, os usu√°rios sofreram n√£o apenas com erros no servidor.  Tamb√©m ocorreu que o erro ocorreu devido √† implementa√ß√£o de aplicativos clientes. <br>  Para lidar com erros do cliente, decidimos criar outro processo de pesquisa e an√°lise.  Para fazer isso, escolhemos dois tipos de erros que afetam as empresas: erros de autoriza√ß√£o e erros de limita√ß√£o. <br><br><blockquote>  A limita√ß√£o √© uma maneira de proteger o sistema contra sobrecarga.  Se o aplicativo ou usu√°rio exceder sua cota de solicita√ß√µes, o sistema retornar√° um c√≥digo de erro 429 e um cabe√ßalho Retry-After, o valor do cabe√ßalho indicar√° o tempo ap√≥s o qual a solicita√ß√£o deve ser repetida para uma execu√ß√£o bem-sucedida. <br><br>  Os aplicativos podem permanecer limitados indefinidamente se parar de enviar novas solicita√ß√µes.  Os usu√°rios finais n√£o podem distinguir esses erros dos outros.  Como resultado, isso causa reclama√ß√µes ao servi√ßo de suporte. </blockquote><br><br>  Felizmente, o sistema de infraestrutura e estat√≠stica possibilita rastrear at√© mesmo os erros do cliente.  Podemos fazer isso porque os desenvolvedores de aplicativos que usam nossa API devem pr√©-registrar e receber sua chave exclusiva.  Cada solicita√ß√£o do cliente deve conter um token de autoriza√ß√£o, caso contr√°rio, o cliente receber√° um erro.  Usando esse token, calculamos o aplicativo. <br><br>  √â assim que parece o monitoramento de erros de limita√ß√£o.  Os picos de erros correspondem aos dias da semana e nos fins de semana - pelo contr√°rio, n√£o h√° erros: <br><br><img src="https://habrastorage.org/webt/pd/xk/se/pdxksedgs0yum5fmcl5o1rjzosw.png"><br><br>  Da mesma forma que no caso de erros internos, com base nas estat√≠sticas do Hadoop, encontramos aplicativos suspeitos.  Primeiro, em rela√ß√£o ao n√∫mero de solicita√ß√µes bem-sucedidas ao n√∫mero de solicita√ß√µes conclu√≠das com o c√≥digo 429. Se recebemos mais da metade dessas solicita√ß√µes, pensamos que o aplicativo n√£o estava funcionando corretamente. <br>  Mais tarde, come√ßamos a analisar o comportamento de aplicativos individuais com usu√°rios espec√≠ficos.  Entre os aplicativos suspeitos, encontramos o dispositivo espec√≠fico no qual o aplicativo est√° sendo executado e observamos com que frequ√™ncia ele executa solicita√ß√µes ap√≥s receber o primeiro erro de limita√ß√£o.  Se a frequ√™ncia da solicita√ß√£o n√£o diminuir, o aplicativo n√£o tratar√° o erro conforme o esperado. <br><br>  Parte das aplica√ß√µes foi desenvolvida em nossa empresa.  Portanto, conseguimos localizar imediatamente engenheiros respons√°veis ‚Äã‚Äãe corrigir erros rapidamente.  E decidimos enviar os erros restantes para uma equipe que contatou desenvolvedores externos e os ajudou a corrigir seu aplicativo. <br><br>  Para cada aplicativo, n√≥s: <br><br><ul><li>  Criamos uma tarefa no JIRA. </li><li>  Registramos estat√≠sticas no Influx. </li><li>  Estamos preparando gatilhos para interven√ß√£o cir√∫rgica no caso de um aumento acentuado no n√∫mero de erros. </li></ul><br>  O sistema para trabalhar com erros do cliente tem a seguinte apar√™ncia: <br><br><img src="https://habrastorage.org/webt/5j/yf/s8/5jyfs8mn48kpqhefrw3bnvyfynm.png"><br><br>  Uma vez por semana, coletamos relat√≥rios das 10 piores aplica√ß√µes pelo n√∫mero de erros. <br><br><h3>  N√£o pegue, mas avise </h3><br>  Ent√£o, aprendemos como encontrar erros no sistema de produ√ß√£o, aprendemos a trabalhar com os erros do servidor e do cliente.  Tudo parece estar bem, mas ... <br><br>  Mas, de fato, respondemos tarde demais - os bugs j√° afetam os usu√°rios! <br><br>  Por que n√£o tentar encontrar erros mais cedo? <br>  Obviamente, seria legal encontrar tudo em ambientes de teste.  Mas os ambientes de teste s√£o espa√ßos de ru√≠do branco.  Eles est√£o em desenvolvimento ativo, todos os dias v√°rias vers√µes diferentes de servidores funcionam.  A captura central de erros neles √© muito cedo.  Existem muitos erros neles, muitas vezes tudo muda. <br><br>  No entanto, a empresa possui ambientes especiais em que todos os conjuntos est√°veis ‚Äã‚Äãs√£o integrados para verificar o desempenho, a regress√£o manual centralizada e os testes de alta disponibilidade.  Como regra, esses ambientes ainda n√£o s√£o est√°veis ‚Äã‚Äão suficiente.  No entanto, h√° equipes interessadas em analisar problemas com esses ambientes. <br><br>  Mas h√° mais um obst√°culo - o Hadoop n√£o coleta dados desses ambientes!  N√£o podemos usar o mesmo m√©todo para detectar erros, precisamos procurar uma fonte de dados diferente. <br><br>  Ap√≥s uma breve pesquisa, decidimos processar o fluxo de estat√≠sticas, lendo dados da fila na qual nossos servi√ßos gravam para transfer√™ncia para o Hadoop.  Foi o suficiente para acumular erros exclusivos e process√°-los em lotes, por exemplo, uma vez a cada 30 minutos.  √â f√°cil estabelecer um sistema de filas que fornece dados - tudo o que restava era refinar o recebimento e o processamento. <br><br>  Come√ßamos a observar como os erros encontrados se comportam ap√≥s a detec√ß√£o.  Aconteceu que a maioria dos erros encontrados e n√£o corrigidos aparece mais tarde na produ√ß√£o.  Ent√£o, n√≥s os encontramos corretamente. <br><br>  Assim, constru√≠mos um prot√≥tipo do sistema, institui√ß√µes e erros de rastreamento.  J√° em sua forma atual, ele permite melhorar a qualidade do sistema, perceber e corrigir erros antes que os usu√°rios saibam sobre eles.  Se anteriormente processamos dezenas de milhares de solicita√ß√µes erradas por semana, agora s√£o apenas 2-300.  E n√≥s os corrigimos muito mais r√°pido. <br><br><h3>  O que vem a seguir </h3><br>  Obviamente, n√£o pararemos por a√≠ e continuaremos a melhorar o sistema de busca e rastreamento de erros.  Temos planos: <br><br><ul><li>  An√°lise de mais erros de API. </li><li>  Integra√ß√£o com testes funcionais. </li><li>  Recursos adicionais para investigar incidentes em nosso sistema. </li></ul><br>  Mas mais sobre isso da pr√≥xima vez. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt473456/">https://habr.com/ru/post/pt473456/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt473442/index.html">Definitivamente, algo vai dar errado, e tudo bem: como ganhar um hackathon com uma equipe de tr√™s</a></li>
<li><a href="../pt473444/index.html">Acordo de n√£o concorr√™ncia: o principal √© n√£o ter medo</a></li>
<li><a href="../pt473446/index.html">DevOops gr√°tis 2019 e C ++ Russia 2019 Piter</a></li>
<li><a href="../pt473452/index.html">Intelig√™ncia Artificial Rob√≥tica InterSystems IRIS</a></li>
<li><a href="../pt473454/index.html">Teste a automa√ß√£o usando o Selenide atrav√©s do Selenoid em um cont√™iner de encaixe</a></li>
<li><a href="../pt473460/index.html">Para a quest√£o da matem√°tica</a></li>
<li><a href="../pt473462/index.html">Semana 44 de seguran√ßa: NordVPN, TorGuard e Half Hack</a></li>
<li><a href="../pt473470/index.html">GitLab 12.4 com solicita√ß√£o aprimorada de mesclagem e depend√™ncias da API de auditoria</a></li>
<li><a href="../pt473476/index.html">Verificando o wrapper OpenCvSharp sobre o OpenCV com o PVS-Studio</a></li>
<li><a href="../pt473478/index.html">Verificando o OpenCvSharp Wrapper para OpenCV com PVS-Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>