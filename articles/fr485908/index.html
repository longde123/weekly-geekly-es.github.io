<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçá üë®‚Äçüë®‚Äçüëß ü§ù Gr√¢ce √† l'incroyable p√©pin dans Ocarina of Time, il a √©t√© possible d'ajouter des mod√®les de Star Fox 64 üôÅ ‚ô†Ô∏è üë©üèª‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au cours des ann√©es d'√©criture d'articles sur les jeux, j'ai parl√© de nombreux probl√®mes incroyables , de codes inconnus depuis longtemps , de trucs p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gr√¢ce √† l'incroyable p√©pin dans Ocarina of Time, il a √©t√© possible d'ajouter des mod√®les de Star Fox 64</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485908/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57c/4bb/e19/57c4bbe1942225f6f87df254b77ca7de.jpg" alt="image"></div><br>  Au cours des ann√©es d'√©criture d'articles sur les jeux, j'ai parl√© de nombreux <a href="https://arstechnica.com/gaming/2019/02/after-glitch-grants-access-bethesda-says-locked-fallout-76-vault-will-open/">probl√®mes incroyables</a> , de <a href="https://arstechnica.com/gaming/2016/02/decades-later-players-are-still-unlocking-secrets-in-classic-mortal-kombat/">codes inconnus depuis longtemps</a> , de <a href="https://arstechnica.com/gaming/2014/01/how-an-emulator-fueled-robot-reprogrammed-super-mario-world-on-the-fly/">trucs pour l'ex√©cution de code arbitraire</a> et de <a href="https://arstechnica.com/gaming/2017/09/searching-for-the-hidden-motion-to-unlock-the-switchs-nes-emulator/">recherches de contenu profond√©ment cach√©</a> dans des jeux et √©quipements classiques.  Mais rien ne pouvait me pr√©parer √† <a href="https://www.twitch.tv/zfg1/clip/StylishTallYogurtYee%3Ffilter%3Dclips%26amp%3Brange%3D7d%26amp%3Bsort%3Dtime">cette vid√©o Twitch</a> dans laquelle une flotte d'Arwing volante de <em>Star Fox 64</em> envahit le monde d' <em>Ocarina of Time</em> pour attaquer Link. <br><br>  Vous vous attendez √† voir une telle sc√®ne uniquement dans un dessin anim√© cr√©√© par un fan ou un piratage ROM que Nintendo <a href="https://arstechnica.com/gaming/2016/12/nintendo-sends-cease-and-desist-notice-to-pokemon-rom-hacker/">aime retirer d'Internet</a> .  Mais la chose la plus √©tonnante √† propos de cette vid√©o est qu'elle montre une version non modifi√©e de la ROM originale <em>Ocarina of Time</em> japonaise utilisant la console standard et les contr√¥leurs N64. <br><br>  Toute la matin√©e, j'ai compris comment c'√©tait m√™me possible.  Pour expliquer cela, vous devrez approfondir le c≈ìur des instructions du langage machine de Nintendo 64, <em>la</em> gestion <em>de la</em> m√©moire d' <em>Ocarina of Time</em> et le processus de d√©veloppement du jeu au milieu des ann√©es 90 lui-m√™me.  Si vous √™tes aussi curieux que moi, rejoignez-nous. <br><a name="habracut"></a><br><h2>  Liens obsol√®tes et nouveau code </h2><br>  Ce passage √©tonnant a commenc√© avec la d√©couverte d'un probl√®me majeur en octobre de l'ann√©e derni√®re: le joueur Glitches0and0stuff utilisant des √©mulateurs et une √©tude minutieuse des zones de m√©moire de Nintendo 64 a <a href="https://www.youtube.com/watch%3Fv%3DFX_1u7JaYLc">d√©couvert un moyen de manipuler des liens obsol√®tes</a> dans <em>Ocarina of Time</em> . <br><br>  En fait, le probl√®me est que le joueur ramasse l'√©l√©ment, puis astuces le jeu pour le d√©charger directement des mains de Link lorsqu'il franchit le seuil d'un nouvel emplacement de chargement (par exemple, la pi√®ce suivante).  √Ä ce stade, le jeu lib√®re la zone de m√©moire occup√©e par cet objet afin qu'il puisse √™tre utilis√© pour d'autres objets dans le jeu lors de leur chargement.  Mais en m√™me temps, le jeu pense que Link tient <em>quelque chose</em> , il continue donc de mettre √† jour le pointeur vers le "lien obsol√®te" dans la m√©moire lib√©r√©e, en √©crivant des donn√©es repr√©sentant la position et l'angle d'un objet inexistant.  Avec une manipulation prudente, ce pointeur peut ensuite √™tre utilis√© pour ¬´corrompre¬ª les donn√©es de l'objet nouvellement charg√© avec des valeurs arbitraires. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/246/283/c4e/246283c4ea2d7a7e728215345d8006be.png"></div><br>  <i>Les chasseurs spatiaux ne peuvent pas comparer avec Link.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c17/551/016/c175510164f143b6eff520c137a01d09.png"></div><br>  <i>Arwing de <em>Star Fox 64</em> peut subir des d√©g√¢ts et tirer sur Link car ils sont toujours dans le jeu.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57c/4bb/e19/57c4bbe1942225f6f87df254b77ca7de.jpg"></div><br>  <i>La vis√©e avec le bouton Z permet de viser facilement un boomerang au bas de l'Arwing.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abc/30b/e25/abc30be25dd61c7ed1890738c44270dc.png"></div><br>  <i>Le lien contient un objet "vide" - la pr√©paration du probl√®me est effectu√©e avec l'ex√©cution de code arbitraire.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/284/b1c/9a5/284b1c9a5fe7b372b0343e6dc6f01424.png"></div><br>  <i>La partie la plus importante de la technique consiste √† geler la cam√©ra √† la position de glitch.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d5/0f2/8bf/5d50f28bfc957af49c3c292e6c526dab.png"></div><br>  <i>Un dispositif permettant de maintenir les boutons / positions n√©cessaires du joystick analogique du contr√¥leur 3 pour acc√©der directement aux titres.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c80/dd9/ad9/c80dd9ad93f3e8a357bbee17f42f4e61.png"></div><br>  <i>Apr√®s dix minutes de saisie du nom de fichier, le code Arwing est pr√™t √† √™tre t√©l√©charg√©</i> <br><br>  Initialement, cette astuce a √©t√© utilis√©e pour simplement ¬´g√¢cher¬ª le jeu, par exemple, pour <a href="https://www.youtube.com/watch%3Fv%3DFX_1u7JaYLc">charger de nouveaux objets dans des coffres au tr√©sor</a> ou pour changer la position d'autres objets √† l'int√©rieur de la pi√®ce (comme <a href="https://www.youtube.com/watch%3Fv%3D_7E4dFD8Bmw">expliqu√© en d√©tail ici</a> ).  Cependant, apr√®s un certain temps, les joueurs ont d√©couvert que la m√™me m√©thode peut √™tre utilis√©e pour <a href="https://www.youtube.com/watch%3Fv%3DRoEmGCNsbno">modifier des codes de saut d'assembleur individuels</a> , indiquant au jeu o√π il doit rechercher la prochaine instruction lors de l'ex√©cution de certains √©v√©nements de jeu. <br><br>  Apr√®s avoir ins√©r√© le code souhait√© de cette mani√®re, vous pouvez forcer le jeu √† aller dans la zone de m√©moire contenant les derni√®res valeurs de rotation connues pour les frondes X et Y.  Si <em>ces</em> valeurs sont sp√©cifi√©es exactement, elles seront interpr√©t√©es comme <em>un autre</em> code de saut, qui ex√©cute une transition vers la zone m√©moire o√π le nom du fichier actuel est stock√©.  Ensuite, ce nom de fichier sera interpr√©t√© comme un code machine N64 normal, afin que le joueur puisse se d√©placer rapidement √† n'importe quel endroit du jeu dont il a besoin (bien s√ªr, s'il convertit correctement les caract√®res binaires du nom de fichier en <a href="https://www.zophar.net/documents/n64/n64-opcodes-list.html">opcodes correspondants</a> ). <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_7E4dFD8Bmw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Explication de glitch avec un lien obsol√®te qui √©tait √† l'origine utilis√© pour remplacer les objets dans les coffres.</i> <br><br>  Le premier exemple s√©rieux d'utilisation de cette manipulation avec des codes de transition a √©t√© de <a href="https://www.youtube.com/watch%3Fv%3DwdRJWDKb5Bo">charger la cin√©matique du jeu avec des l√©gendes</a> .  Ainsi, le joueur a √©tabli un <a href="https://www.thegamer.com/ocarina-of-time-new-speedrun-record/">nouveau record du monde pour le speedran du jeu dans la cat√©gorie "Any%"</a> .  Pour ce faire rapidement dans la zone initiale du jeu, vous devez utiliser d'autres probl√®mes, y compris <a href="https://www.zeldaspeedruns.com/oot/misc/walking-while-talking">le probl√®me de cam√©ra ¬´marcher pendant la conversation¬ª</a> , qui vous permet de charger et de d√©charger des pierres au moment et √† l'endroit parfaits.  Pour cela, vous devez √©galement maintenir certains boutons et positions du joystick analogique des contr√¥leurs connect√©s aux premier et troisi√®me ports Nintendo 64 afin que leurs signaux soient interpr√©t√©s comme un code de localisation de la cin√©matique avec des l√©gendes. <br><br><h2>  D√©verrouiller Arwing </h2><br>  La m√©thode d√©crite ci-dessus est assez bonne si vous voulez simplement aller √† la cin√©matique.  Mais il a une s√©rieuse limitation: le syst√®me de fichiers <em>Ocarina of Time</em> est limit√© √† huit caract√®res, c'est-√†-dire que le nom de fichier ne peut √™tre converti qu'en quelques instructions de code machine.  Heureusement, ces deux emplacements d'instructions peuvent √©galement √™tre utilis√©s pour √©liminer pratiquement la limite de caract√®res. <br><br>  Cela se fait d'une mani√®re extr√™mement confuse, d√©crite en d√©tail dans <a href="https://pastebin.com/29hHtupt">ce Pastebin</a> et <a href="https://www.youtube.com/watch%3Fv%3DwIyEUScOMxc">cette vid√©o</a> .  Il suffit de dire qu'il utilise trois fois la m√©thode d√©crite ci-dessus, ce qui √©limine les v√©rifications importantes de l'indicateur de position du nom de fichier, puis d√©finit ce pointeur sur une valeur de position n√©gative. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/RoEmGCNsbno" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Explication d√©taill√©e de l'ex√©cution de code arbitraire dans <em>Ocarina of Time</em></i> <br><br>  En cons√©quence, les joueurs ont la possibilit√© d'entrer un code de plusieurs centaines de caract√®res, ce qui leur permet de pr√©charger des s√©quences d'instructions machine beaucoup plus complexes pour mettre en ≈ìuvre la m√©thode de transition de code d√©crite ci-dessus.  Mais ce n'est pas encore suffisant pour encoder les graphiques, les animations et la logique de gameplay n√©cessaires pour attaquer Arwing.  Heureusement, Nintendo nous a beaucoup aid√©s en cachant commod√©ment tout ce code Arwing au fond de toutes les cartouches <em>Ocarina of Time</em> . <br><br>  Pourquoi?  Le personnage et graphiste Satoru Takizawa a <a href="http://iwataasks.nintendo.com/interviews/">d√©clar√© √† Iwata Asks dans une interview en 2011</a> que c'√©tait juste un moyen de r√©utiliser le code pour d√©placer l'un des ennemis de <em>Zelda</em> : <br><br><blockquote>  <a href="https://zelda.gamepedia.com/Volvagia">Volvagia</a> est un dragon, donc il se tortille et se d√©place par vagues.  Je viens de remettre au boss programmeur Kazuaki Morita des pi√®ces du mod√®le dragon, et il l'a imm√©diatement mis en mouvement.  Il restait un myst√®re pour moi comment il avait r√©ussi ... alors je n'ai pas pu r√©sister √† ne pas lui demander.  Il a r√©pondu que c'√©tait la m√™me chose que la programmation pour <em>Star Fox 64</em> .  Il y a une sc√®ne dans ce jeu dans laquelle un autre combattant se bloque sur la queue d'Arwing, et les mouvements de vol du combattant sont exactement les m√™mes que ceux de Volvagia.  J'√©tais √©tonn√©, c'√©tait un vrai miracle pour moi. </blockquote><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/H10Tl3sTpWM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>Vid√©o de 2007 montrant Arwing survolant la for√™t de Kokiri (codes GameShark et √©mulateur utilis√©s).</i> <br><br>  Apr√®s avoir copi√© les animations n√©cessaires √† Volvagia, Morita semble avoir laiss√© le bloc entier de code Arwing dans les donn√©es de poubelle du jeu.  Il y a de nombreuses ann√©es, <a href="https://tcrf.net/Notes:The_Legend_of_Zelda:_Ocarina_of_Time">les chercheurs de donn√©es en ont</a> pris connaissance.  Et <a href="https://www.engadget.com/2005/10/05/hidden-star-fox-arwing-in-ocarina-of-time/">depuis plus d'une d√©cennie, les</a> joueurs savent comment acc√©der √† ces parties cach√©es du code en utilisant <a href="http://www.eeggs.com/items/46440.html">des dispositifs de triche comme GameShark</a> , qui changent les valeurs en m√©moire pour remplacer les ennemis par Arwing. <br><br>  Mais gr√¢ce aux astuces de manipulation de la m√©moire d√©crites dans l'article, un dispositif de triche externe n'est plus n√©cessaire.  Le 23 janvier, le joueur ZFG1 l'a <a href="https://www.twitch.tv/zfg1/clip/StylishTallYogurtYee%3Ffilter%3Dclips%26amp%3Brange%3D7d%26amp%3Bsort%3Dtime">prouv√© une fois pour toutes</a> en chargeant Arwing √† l'aide de la ROM Zelda non modifi√©e et de la console standard Nintendo 64 dans un flux Twitch.  Le r√©sultat a √©t√© un jeu dans lequel toutes les portes ont √©t√© remplac√©es par Arwing, volant autour de Ling, l'attaquant avec des tirs dommageables de blasters, et m√™me tombant au sol lorsqu'il est renvers√©. <br><br>  La pr√©paration pour l'enregistrement de ce clip a <a href="https://www.twitch.tv/videos/540663120%3Ft%3D2h11m15s">pris plus d'une heure</a> , au cours de laquelle trois cycles d'ex√©cution de code arbitraire ont √©t√© cr√©√©s et en 10 minutes, le nom du fichier pour le chargement d'Arwing a √©t√© soigneusement entr√©.  Mais en m√™me temps, ce clip √©tait l'aboutissement de mois et d'ann√©es de travail d'une communaut√© obs√©d√©e par le d√©sir de bien comprendre et ma√Ætriser le jeu classique et ses p√©pins. <br><br>  En plus de la valeur de divertissement, le clip "Arwings in Zelda" a prouv√© que la communaut√©, un groupe de sp√©cialistes en informatique, avec suffisamment de temps et d'efforts, peut faire des choses incroyables avec du mat√©riel et des logiciels de jeu classiques. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485908/">https://habr.com/ru/post/fr485908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485886/index.html">Comment (et pourquoi) analyser gratuitement les cl√©s et les annonces de concurrents de Yandex.Direct et Google Ads</a></li>
<li><a href="../fr485892/index.html">La fin de l'√®re Trident</a></li>
<li><a href="../fr485896/index.html">Base de donn√©es massivement parall√®le Greenplum - un programme √©ducatif court</a></li>
<li><a href="../fr485898/index.html">Exportez Google Forms + t√©l√©chargez Google Script via l'API REST (Python)</a></li>
<li><a href="../fr485904/index.html">Meetup Test de charge √† Raiffeisenbank</a></li>
<li><a href="../fr485910/index.html">D√©ploiement d'API avec AWS Elastic Beanstalk</a></li>
<li><a href="../fr485914/index.html">Propuls√© par ZeroTier. Un guide pratique pour la construction de r√©seaux virtuels. Partie 1</a></li>
<li><a href="../fr485916/index.html">Supprimer les inutiles [effacer le calendrier des inutiles]</a></li>
<li><a href="../fr485918/index.html">Les navigateurs ind√©pendants ne sont plus comp√©titifs</a></li>
<li><a href="../fr485924/index.html">Astuces pour interviewer un chef de projet ou se promener dans un champ de mines de merveilles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>