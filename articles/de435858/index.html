<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôé üé© üò® Programmierbare Hardware-TOTP-Tasten mit der M√∂glichkeit, die Zeit zu synchronisieren üåë üëÜüèª üë®‚Äçüë¶‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir freuen uns, Ihnen die neue Reihe programmierbarer Hardware-TOTP-Schl√ºssel von TOKEN2 vorstellen zu k√∂nnen. Die Hauptinnovation ist die M√∂glichkeit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programmierbare Hardware-TOTP-Tasten mit der M√∂glichkeit, die Zeit zu synchronisieren</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/token2/blog/435858/"><img width="345" src="https://habrastorage.org/webt/eh/0f/m0/eh0fm0sn94_iiap-4frff3vyxwe.jpeg" align="right">  Wir freuen uns, Ihnen die neue Reihe programmierbarer Hardware-TOTP-Schl√ºssel von TOKEN2 vorstellen zu k√∂nnen.  Die Hauptinnovation ist die M√∂glichkeit, die Systemuhr von Hardwareschl√ºsseln √ºber die NFC-API mithilfe spezieller Anwendungen zu synchronisieren. Derzeit wird eine Version f√ºr Android und Windows 10 vorbereitet. <br><a name="habracut"></a><br>  <i>Es gibt noch keine Anwendungen f√ºr iOS: Trotz der Tatsache, dass NFC-Chips auf den neuesten iPhone-Modellen physisch vorhanden sind, bietet Apple noch keine √∂ffentliche API f√ºr deren Verwendung an.</i> <i><br></i> <br><br><h4>  Wof√ºr ist das? </h4><br>  Im Gegensatz zu mobilen TOTP-Anwendungen gibt es bei Hardwareschl√ºsseln keine M√∂glichkeit, die Zeit √ºber NTP, √ºber ein Mobilfunknetz oder ein Funksignal zu synchronisieren: Die Hardwareschl√ºssel des Ger√§ts sind vollst√§ndig isoliert und eigenst√§ndig und verwenden die Uhr auf ihrer Karte als Quelle f√ºr die genaue Zeit.  In den Jahren 1933-1934.  Die Physiker Scheibe und Adelsberger vom Kaiserlichen Institut f√ºr Physik und Technologie in Berlin nutzten die M√∂glichkeiten, den piezoelektrischen Effekt zur Zeitmessung zu nutzen.  Dieser Effekt liegt der Systemuhr der Hardwareschl√ºssel zugrunde.  Die Genauigkeit solcher Uhren liegt je nach Qualit√§t zwischen ¬± 0,3 und ¬± 1,1 s / Tag.  Wenn diese Genauigkeit f√ºr eine herk√∂mmliche Armbanduhr ausreicht, kann bei Hardware-Schl√ºsseln ein Zeitunterschied von mehr als einem bestimmten Grenzwert dazu f√ºhren, dass die Aktivierung und / oder Authentifizierung abgelehnt wird.  Diese Grenze h√§ngt vom jeweiligen System ab (Microsoft Azure MFA l√§sst beispielsweise eine Vorspannung von bis zu 600 Sekunden in beide Richtungen zu), wenn ein Hardwareschl√ºssel zum ersten Mal registriert wird.  Ferner ist der Offset-Synchronisationsprozess w√§hrend der Verwendung des Schl√ºssels zur Eingabe bereits in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RFC 6238</a> klar beschrieben <br><br><div class="spoiler">  <b class="spoiler_title">RFC 6238 / 6. Resynchronisation</b> <div class="spoiler_text">  Wegen m√∂glicher Zeitverschiebungen zwischen einem Client und einer Validierung <br>  Server empfehlen wir, dass der Validator mit einem bestimmten Limit gesetzt wird <br>  auf die Anzahl der Zeitschritte, die ein Pr√ºfer zuvor "nicht synchron" sein kann <br>  abgelehnt wird. <br><br>  Diese Grenze kann sowohl vorw√§rts als auch r√ºckw√§rts von der berechneten Grenze eingestellt werden <br>  Zeitschritt beim Empfang des OTP-Wertes.  Wenn der Zeitschritt ist <br>  30 Sekunden wie empfohlen, und der Validator ist so eingestellt, dass er nur akzeptiert <br>  zwei Zeitschritte zur√ºck, dann w√§re die maximal verstrichene Zeitdrift <br>  etwa 89 Sekunden, dh 29 Sekunden im berechneten Zeitschritt und <br>  60 Sekunden f√ºr zwei R√ºckw√§rtszeitschritte. <br><br>  Dies w√ºrde bedeuten, dass der Validator eine Validierung gegen das durchf√ºhren k√∂nnte <br>  aktuelle Zeit und dann zwei weitere Validierungen f√ºr jeden R√ºckschritt <br>  (f√ºr insgesamt 3 Validierungen).  Nach erfolgreicher Validierung wird die <br>  Der Validierungsserver kann die erkannte Taktdrift f√ºr das Token aufzeichnen <br>  in Bezug auf die Anzahl der Zeitschritte.  Wenn ein neues OTP empfangen wird <br>  Nach diesem Schritt kann der Validator das OTP mit dem aktuellen validieren <br>  Zeitstempel angepasst an die aufgezeichnete Anzahl von Zeitschritt-Zeitverschiebungen <br>  f√ºr den Token. <br><br>  Es ist auch wichtig zu beachten, dass je l√§nger ein Pr√ºfer nicht gesendet hat <br>  ein OTP zu einem Validierungssystem, je l√§nger (m√∂glicherweise) die <br>  akkumulierte Taktdrift zwischen dem Pr√ºfer und dem Pr√ºfer.  In solchen <br>  In diesen F√§llen funktioniert die oben beschriebene automatische Neusynchronisierung m√∂glicherweise nicht <br>  wenn die Drift den zul√§ssigen Schwellenwert √ºberschreitet.  Zus√§tzlich <br>  Authentifizierungsma√ünahmen sollten verwendet werden, um die sicher zu authentifizieren <br>  Pr√ºfen und synchronisieren Sie die Taktdrift zwischen dem <br>  Pr√ºfer und der Pr√ºfer. <br></div></div><br>  Das hei√üt, wenn der Authentifizierungsserver alle Anforderungen des RFC erf√ºllt und der Schl√ºssel nicht sehr selten f√ºr die Authentifizierung verwendet wird, beispielsweise mindestens ein paar Mal im Jahr (die genaue Anzahl kann unter Ber√ºcksichtigung der Genauigkeit des Oszillators und des vom Server zugelassenen Zeitversatzes berechnet werden), werden die Zeitvers√§tze ber√ºcksichtigt Auf der Serverseite sollten keine Probleme auftreten.  Bei Verwendung von Schl√ºsseln unter solchen Bedingungen ist die Zeitsynchronisationsfunktion grunds√§tzlich nicht erforderlich. <br><br>  Die Zeitsynchronisationsfunktion kann jedoch in den folgenden F√§llen n√ºtzlich sein: <br><br><ul><li>  Wenn die Serverimplementierung von TOTP nicht der RFC6238-Empfehlung Nr. 6 entspricht.  Ein Beispiel f√ºr eine solche Implementierung ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DUO</a> : <blockquote>  TOTP-Token-Drift und Resynchronisation werden nicht unterst√ºtzt.  Infolgedessen funktionieren importierte TOTP-Token m√∂glicherweise nicht f√ºr die Authentifizierung mit Duo Security oder k√∂nnen nach einem variablen Zeitraum nicht f√ºr die Authentifizierung verwendet werden ... </blockquote></li></ul><br><ul><li>  Wenn ein Stapel von Hardwareschl√ºsseln f√ºr eine lange Zeit gekauft wurde, diese aber erst nach einiger Zeit aktiviert werden mussten - in diesem Fall gibt es in vielen Systemen einfach keinen Synchronisationsmechanismus. </li><li>  Wenn der Dongle seltener als f√ºr die Synchronisierung erforderlich zum Anmelden verwendet wird.  Wenn ein Benutzer beispielsweise dasselbe TOTP-Profil (genauer gesagt ein gemeinsames Geheimnis) auf zwei Ger√§te ‚Äûkopieren‚Äú m√∂chte: a) in einer mobilen Anwendung auf dem Telefon f√ºr den t√§glichen Gebrauch und b) auf einem programmierbaren Hardwareschl√ºssel als Backup f√ºr einen regnerischen Tag .  Wenn dieser regnerische Tag in 3-4 Jahren kommt, kann das Hardware-Token aufgrund des Zeitunterschieds nicht mehr genau verwendet werden.  Dar√ºber hinaus verliert der Akku auf dem Token, der sich lange Zeit nicht eingeschaltet hat, fast nicht an Kapazit√§t.  In diesem Fall ist es daher recht einfach, die Uhr auf sie zu bringen, um sie wieder in Betrieb zu nehmen. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Sicherheitsanalyse</b> <div class="spoiler_text">  Wie immer basiert diese Art von Innovation immer auf einem Gleichgewicht zwischen Komfort und Sicherheit.  Programmierbare Schl√ºssel mit der F√§higkeit, die Zeit vor Netzwerkangriffen (Phishing, Personen in der Mitte usw.) zu synchronisieren, sind keine Ausnahme. In den meisten F√§llen verwenden unsere Kunden TOTP-Token genau zum Schutz vor diesen Arten von Angriffen. Sie werden sie jedoch vollst√§ndig sch√ºtzen, aber Diese M√∂glichkeit impliziert eine vernachl√§ssigbare und rein <i>theoretische</i> Wahrscheinlichkeit eines Angriffs durch einen Wiederholungsangriff (Wiederholungsangriff) unter der Bedingung, dass Angreifer: <br><br><ol><li>  Holen Sie sich den ersten Faktor (Passwort). </li><li>  Haben Sie ausreichend lange <i>ohne Wissen des Besitzers</i> physischen Zugriff auf den Hardwareschl√ºssel (siehe Schritt 3). </li><li>  √úbersetzen Sie mithilfe der Anwendung √ºber NFC die Uhrzeit auf dem Schl√ºssel auf ein bestimmtes Datum und zeichnen Sie eine ausreichende Anzahl generierter Codes auf.  Dies funktioniert mit einem Skript nicht, da Sie zum Generieren von Codes auf die physische Schaltfl√§che klicken m√ºssen und der aktuelle Code nur auf dem Bildschirm angezeigt wird (er wird nicht √ºber NFC √ºbertragen). </li><li>  Geben Sie die Zeit zur√ºck ( <i>damit der Eigent√ºmer nichts err√§t</i> ). </li><li>  Melden Sie sich abschlie√üend mit dem Kennwort (Schritt 1) ‚Äã‚Äãund einem der in Schritt 3 erhaltenen Codes an. </li></ol><br>  Wie wir sehen, kann dieses Risiko nur unter der Bedingung des physischen Zugriffs auf das Ger√§t auftreten. Beispielsweise kann ein Angriff von einem Kollegen in der N√§he ausgef√ºhrt werden, der aus irgendeinem Grund auch das Kennwort kennt.  Unter solchen Bedingungen f√ºhrt die Verwendung klassischer TOTP-Token jedoch zu demselben Risiko.  √úbrigens ist das Risiko, Token mit der Zeitsynchronisationsfunktion zu kompromittieren, vergleichbar mit dem Risiko von Fido-U2F-Ger√§ten. Wenn ein Angreifer vor√ºbergehend und unmerklich Zugriff auf einen U2F-Schl√ºssel hat, w√§hrend er √ºber ein Kennwort verf√ºgt, kann er sich mit diesem Schl√ºssel beim System anmelden und einen weiteren (seinen) Schl√ºssel und hinzuf√ºgen Geben Sie dann den Originalschl√ºssel genauso leise an den Eigent√ºmer zur√ºck. Gem√§√ü der Spezifikation kann ein Konto mehr als einen u2f-Schl√ºssel haben und jeder kann f√ºr die parallele Anmeldung verwendet werden.  Faktoren wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">perfekte Papierkennw√∂rter</a> sind dem gleichen Risiko ausgesetzt. <br>  Wie Sie sehen, ist der Angriff recht komplex und unwahrscheinlich. Im Allgemeinen kann das Risiko der Verwendung solcher Token mit der Verwendung einer Anwendung wie Google Authenticator auf einem Smartphone ohne PIN-Code, ohne Zugriff auf das Netzwerk und mit dem Benutzer immer bei sich verglichen werden. <br>  F√ºr Kunden, die selbst dieses Risiko immer noch als recht gro√ü betrachten, lauten unsere Empfehlungen zu diesem Thema wie folgt: <br><ol><li>  Die Beschr√§nkung des physischen Zugriffs auf diese Art von Schl√ºsseln entspricht in etwa der von Bankkarten (unsere Schl√ºssel haben √ºbrigens das Format von Bankkarten). </li><li>  Verwenden Sie programmierbare Tasten ohne Zeitsynchronisationsfunktion ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">miniOTP-1</a> ) </li><li>  Verwenden Sie programmierbare Tasten mit einer Zeitsynchronisationsfunktion, kombiniert mit dem Entfernen des geheimen Schl√ºssels.  Das hei√üt, wenn sich die Token-Zeit √§ndert, wird der Startwert zur√ºckgesetzt und muss erneut eingegeben werden (miniOTP-3, das Ver√∂ffentlichungsdatum des Modells wird zus√§tzlich bekannt gegeben). </li></ol><br><br></div></div><div class="spoiler">  <b class="spoiler_title">Wo kaufen?</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Vorbestellung ist</a> auf unserer Website ge√∂ffnet.  Verwenden Sie den <i><u>HABR2019-Aktionscode</u></i> f√ºr einen Rabatt von 10% (begrenzte Anzahl von Gutscheinen).  Lieferung per Post (SwissPost oder La Poste France).  Mit der Lieferung in die GUS-L√§nder gibt es noch keine Probleme. <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435858/">https://habr.com/ru/post/de435858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435842/index.html">Erstellen von 3D-Spielemodellen f√ºr die Armen: Indie Way</a></li>
<li><a href="../de435846/index.html">Konferenzen und Hackathons f√ºr Sch√ºler und Studenten: 11 thematische Veranstaltungen</a></li>
<li><a href="../de435848/index.html">Neue Ger√§te und Technologien mit CES 2019 von Microsoft und Partnern</a></li>
<li><a href="../de435854/index.html">Notizen eines Phytochemikers. Bananenradio</a></li>
<li><a href="../de435856/index.html">Welche Antivirenprogramme werden in modernen Firewalls verwendet?</a></li>
<li><a href="../de435862/index.html">Unterhaltungselektronik Hall of Fame: Die Geschichten der besten Ger√§te der letzten 50 Jahre, Teil 4</a></li>
<li><a href="../de435864/index.html">Mapping-Anfragen f√ºr Netty</a></li>
<li><a href="../de435866/index.html">Release IT: Eine neue Plattform f√ºr die Einf√ºhrung von Produkten und Dienstleistungen im Rahmen des SXSW 2019-Festivals</a></li>
<li><a href="../de435868/index.html">Slush 2018. Preview Day</a></li>
<li><a href="../de435870/index.html">Kybernetisches Orchester. Docker Container Orchestration mit .NET Core-Anwendungen in der Cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>