<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏽 🤷 🌿 Die 10 häufigsten Fehler bei der Arbeit mit der Spring-Plattform. Teil 1 😻 😩 🍐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle. Heute teilen wir den ersten Teil des Artikels, dessen Übersetzung speziell für Studenten des Kurses "Developer on the Spring Framework"...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die 10 häufigsten Fehler bei der Arbeit mit der Spring-Plattform. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/464429/">  <i>Hallo an alle.</i>  <i>Heute teilen wir den ersten Teil des Artikels, dessen Übersetzung speziell für Studenten des Kurses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Developer on the Spring Framework" erstellt wurde</a> .</i>  <i>Fangen wir an!</i> <br><br><img src="https://habrastorage.org/webt/sp/gg/np/spggnpu1e19b9c_yb66nbynmbqq.png"><br><br><hr><br>  Spring ist vielleicht eine der beliebtesten Java-Entwicklungsplattformen.  Dies ist ein mächtiges, aber ziemlich schwer zu erlernendes Werkzeug.  Die grundlegenden Konzepte sind relativ einfach zu verstehen und zu erlernen, aber es erfordert Zeit und Mühe, ein erfahrener Spring-Entwickler zu werden. <br><br>  In diesem Artikel werden einige der häufigsten Fehler bei der Arbeit in Spring behandelt, die sich insbesondere auf die Entwicklung von Webanwendungen und die Verwendung der Spring Boot-Plattform beziehen.  Wie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Spring Boot-Website erwähnt</a> , verfolgt Spring Boot einen <i>standardisierten</i> Ansatz zum Erstellen gebrauchsfertiger Anwendungen. Dieser Artikel folgt diesem Ansatz.  Es enthält eine Reihe von Empfehlungen, die bei der Entwicklung von Standard-Webanwendungen auf Basis von Spring Boot effektiv verwendet werden können. <a name="habracut"></a><br><br>  Falls Sie mit der Spring Boot-Plattform nicht sehr vertraut sind, aber mit den Beispielen in diesem Artikel experimentieren möchten, habe ich ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-Repository mit zusätzlichen Materialien für diesen Artikel erstellt</a> .  Wenn Sie diesen Artikel irgendwann etwas verwirrt lesen, würde ich Ihnen raten, einen Klon dieses Repositorys zu erstellen und mit dem Code auf Ihrem Computer zu experimentieren. <br><br><h2>  Häufiger Fehler Nr. 1: Zu einfache Programmierung </h2><br>  Wir können diesem weit verbreiteten Fehler leicht erliegen, da das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Syndrom der Ablehnung der Entwicklung eines anderen"</a> für die Programmierumgebung recht typisch ist.  Eines seiner Symptome ist das ständige Umschreiben von häufig verwendeten Codeteilen, und dies ist ein Symptom, das von vielen Programmierern gesehen wird. <br>  Das Studium der internen Struktur und der Implementierungsfunktionen einer bestimmten Bibliothek ist häufig ein nützlicher, notwendiger und interessanter Prozess. Wenn Sie jedoch während der Implementierung von Funktionen auf niedriger Ebene ständig denselben Codetyp schreiben, kann sich dies als schädlich für Sie als Softwareentwickler herausstellen.  Aus diesem Grund existieren und werden Abstraktionen und Plattformen wie Spring verwendet. Sie ersparen Ihnen wiederholte manuelle Arbeit und ermöglichen es Ihnen, sich auf Objekte Ihres Themenbereichs und der Programmcodelogik auf einer höheren Ebene zu konzentrieren. <br><br>  Abstraktionen sollten daher nicht vermieden werden.  Wenn Sie das nächste Mal mit der Notwendigkeit konfrontiert sind, ein bestimmtes Problem zu lösen, führen Sie zunächst eine schnelle Suche durch und finden Sie heraus, ob die Bibliothek, die dieses Problem löst, bereits in Spring integriert ist. Sie werden wahrscheinlich eine geeignete schlüsselfertige Lösung finden.  Eine solche nützliche Bibliothek ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Project Lombok</a> , die Anmerkungen, aus denen ich in den Beispielen in diesem Artikel verwenden werde.  Lombok wird als Vorlagencode-Generator verwendet, daher wird der faule Entwickler, der in jedem von uns lebt, sehr glücklich sein, diese Bibliothek kennenzulernen.  Sehen Sie sich beispielsweise an, wie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Standard-JavaBean-Komponente</a> in Lombok aussieht: <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; String secondBeanProperty; }</code> </pre> <br>  Wie Sie vielleicht bereits verstanden haben, wird der obige Code in die folgende Form konvertiert: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String secondBeanProperty; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty = firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String secondBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty = secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bean</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Beachten Sie, dass Sie höchstwahrscheinlich das entsprechende Plug-In installieren müssen, wenn Sie Lombok in Ihrer integrierten Entwicklungsumgebung verwenden möchten.  Die Version dieses Plugins für die IntelliJ IDEA finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  Häufiger Fehler Nummer 2. „Leck“ interner Strukturen </h2><br>  Der Zugang zu internen Strukturen war nie eine gute Idee, da dies die Flexibilität des Servicemodells beeinträchtigt und infolgedessen zur Bildung eines schlechten Programmierstils beiträgt.  Das „Leck“ interner Strukturen manifestiert sich in der Tatsache, dass auf die Datenbankstruktur von bestimmten API-Endpunkten aus zugegriffen werden kann.  Angenommen, das folgende „gute alte Java-Objekt“ (POJO) repräsentiert eine Tabelle in Ihrer Datenbank: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer id; <span class="hljs-meta"><span class="hljs-meta">@Column</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre> <br>  Angenommen, es gibt einen Endpunkt, der auf die Daten eines <code>TopTalentEntity</code> Objekts <code>TopTalentEntity</code> .  Das Zurückgeben von Instanzen von <code>TopTalentEntity</code> scheint eine verlockende Idee zu sein. Eine flexiblere Lösung wäre jedoch, eine neue Klasse zu erstellen, die TopTalentEntity-Daten für den API-Endpunkt darstellt: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentData</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; }</code> </pre> <br>  Das Vornehmen von Änderungen an den internen Komponenten der Datenbank erfordert daher keine zusätzlichen Änderungen auf Serviceebene.  Mal sehen, was passiert, wenn das Kennwortfeld zur <code>TopTalentEntity</code> Klasse hinzugefügt wird, um Benutzerkennwort-Hashes in der Datenbank zu speichern: Wenn kein Connector wie <code>TopTalentData</code> ist und der Entwickler vergisst, den Schnittstellenteil des Dienstes zu ändern, kann dies zu einer sehr unerwünschten Offenlegung geheimer Informationen führen! <br><br><h2>  Häufiger Fehler Nummer 3. Kombinieren von Funktionen, die besser im Code verteilt werden können </h2><br>  Das Organisieren von Anwendungscode während des Wachstums wird zu einer immer wichtigeren Aufgabe.  Seltsamerweise funktionieren die meisten Prinzipien einer effektiven Programmierung nicht mehr, wenn ein bestimmter Entwicklungsgrad erreicht ist, insbesondere wenn die Anwendungsarchitektur nicht gut durchdacht ist.  Und einer der am häufigsten gemachten Fehler ist die Kombination von Funktionen im Code, deren separate Implementierung sinnvoller ist. <br><br>  Der Grund für die Verletzung des Grundsatzes der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgabentrennung ist</a> in der Regel die Hinzufügung neuer Funktionen zu bestehenden Klassen.  Vielleicht ist dies eine gute momentane Lösung (insbesondere erfordert es das Schreiben einer geringeren Menge an Code), aber in Zukunft wird es unweigerlich zu einem Problem, auch in den Phasen des Testens und Verwaltens des Codes und zwischen diesen.  Betrachten Sie den folgenden Controller, der <code>TopTalentData</code> aus dem Repository zurückgibt: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::entityToData) .collect(Collectors.toList()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">entityToData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  Auf den ersten Blick scheint es keine offensichtlichen Fehler in diesem Codefragment zu geben.  Es enthält eine Liste der <code>TopTalentData</code> Objekte, die aus Instanzen der <code>TopTalentEntity</code> Klasse stammt.  Wenn Sie sich den Code genauer ansehen, werden Sie <code>TopTalentController</code> dass <code>TopTalentController</code> in Wirklichkeit mehrere Aktionen ausführt, nämlich Anforderungen mit einem bestimmten Endpunkt korreliert, Daten aus dem Repository <code>TopTalentRepository</code> und von <code>TopTalentRepository</code> empfangene <code>TopTalentRepository</code> in ein anderes Format konvertiert.  Eine sauberere Lösung sollte diese Funktionen in separate Klassen unterteilen.  Zum Beispiel könnte es so aussehen: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentService topTalentService; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentService.getTopTalent(); } } <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentEntityConverter topTalentEntityConverter; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(topTalentEntityConverter::toResponse) .collect(Collectors.toList()); } } <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntityConverter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  Ein zusätzlicher Vorteil dieser Hierarchie besteht darin, dass wir anhand des Klassennamens verstehen können, wo sich eine Funktion befindet.  Anschließend können wir während des Testens den Code einer dieser Klassen bei Bedarf problemlos durch Ersatzcode ersetzen. <br><br><h2>  Häufige Fehlernummer 4. Einheitlicher Code und schlechte Fehlerbehandlung </h2><br>  Das Thema der Code-Einheitlichkeit gilt nicht nur für Spring (oder allgemein für Java), ist jedoch ein wichtiger Aspekt, der bei der Arbeit mit Projekten in Spring berücksichtigt werden muss.  Die Auswahl eines bestimmten Programmierstils kann ein Diskussionsthema sein (und ist normalerweise innerhalb des Entwicklungsteams oder im gesamten Unternehmen konsistent), aber in jedem Fall trägt das Vorhandensein eines gemeinsamen Standards zum Schreiben von Code zu einer Steigerung der Arbeitseffizienz bei.  Dies gilt insbesondere dann, wenn mehrere Personen am Code arbeiten.  Einheitlicher Code kann von Entwickler zu Entwickler weitergegeben werden, ohne dass viel Aufwand für die Wartung oder ausführliche Erklärungen erforderlich ist, warum diese oder jene Klassen benötigt werden. <br><br>  Stellen Sie sich vor, es gibt ein Spring-Projekt, in dem verschiedene Konfigurationsdateien, Dienste und Controller vorhanden sind.  Nach der semantischen Einheitlichkeit bei der Benennung erstellen wir eine Struktur, anhand derer Sie leicht suchen können und in der jeder Entwickler den Code leicht verstehen kann.  Sie können beispielsweise das Konfigurationssuffix zu den Namen der Konfigurationsklassen, das Dienstsuffix zu den Dienstnamen und das Controller-Suffix zu den Controllernamen hinzufügen. <br><br>  Die serverseitige Fehlerbehandlung hängt eng mit der Code-Einheitlichkeit zusammen und verdient besondere Aufmerksamkeit.  Wenn Sie jemals Ausnahmen behandelt haben, die von einer schlecht geschriebenen API stammen, wissen Sie wahrscheinlich, wie schwierig es ist, die Bedeutung dieser Ausnahmen richtig zu verstehen und noch schwieriger festzustellen, warum sie tatsächlich aufgetreten sind. <br>  Als API-Entwickler möchten Sie im Idealfall alle Endpunkte abdecken, mit denen der Benutzer arbeitet, und sie dazu bringen, ein einziges Fehlermeldungsformat zu verwenden.  In der Regel bedeutet dies, dass Sie Standardfehlercodes und deren Beschreibung verwenden und zweifelhafte Entscheidungen wie das Versenden einer Meldung „500 Internal Server Error“ oder Stack-Trace-Ergebnisse an den Benutzer aufgeben müssen (letztere Option sollte übrigens auf jeden Fall vermieden werden, da Sie interne Daten preisgeben Außerdem sind solche Ergebnisse auf Kundenseite schwer zu verarbeiten. <br>  Hier zum Beispiel, wie das allgemeine Format der Fehlermeldung aussehen könnte: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorResponse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer errorCode; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String errorMessage; }</code> </pre> <br>  Ein ähnliches Format findet sich häufig in den gängigsten APIs und funktioniert in der Regel hervorragend, da es einfach und systematisch dokumentiert werden kann.  Sie können eine Ausnahme in dieses Format konvertieren, indem Sie der <code>@ExceptionHandler</code> Annotation <code>@ExceptionHandler</code> hinzufügen (ein Beispiel für die Annotation finden Sie im Abschnitt "Häufiger Fehler Nr. 6"). <br><br><h2>  Häufiger Fehler Nummer 5. Falsche Arbeit mit Multithreading </h2><br>  Das Implementieren von Multithreading kann eine schwierige Aufgabe sein, unabhängig davon, ob es in Desktopanwendungen oder Webanwendungen, in Spring-Projekten oder in Projekten für andere Plattformen verwendet wird.  Probleme, die durch die parallele Ausführung von Programmen verursacht werden, sind schwer zu verfolgen, und die Behandlung mit einem Debugger ist oft sehr schwierig.  Wenn Sie verstehen, dass es sich um einen parallelen Ausführungsfehler handelt, müssen Sie höchstwahrscheinlich den Debugger verlassen und den Code manuell untersuchen, bis die Hauptursache des Fehlers gefunden ist.  Leider gibt es keinen Standardweg, um solche Probleme zu lösen.  In jedem Fall ist es notwendig, die Situation zu bewerten und das Problem mit der Methode „anzugreifen“, die unter den gegebenen Bedingungen am besten erscheint. <br><br>  Im Idealfall möchten Sie natürlich die mit Multithreading verbundenen Fehler vollständig vermeiden.  Und obwohl es hier kein universelles Rezept gibt, kann ich dennoch einige praktische Empfehlungen geben. <br><br><h3>  Vermeiden Sie die Verwendung globaler Zustände </h3><br>  Denken Sie zunächst immer an das Problem der „globalen Staaten“.  Wenn Sie eine Multithread-Anwendung entwickeln, müssen Sie absolut alle global veränderbaren Variablen sorgfältig überwachen und sie nach Möglichkeit vollständig entfernen.  Wenn Sie immer noch einen Grund haben, warum die globale Variable geändert werden sollte, implementieren Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Synchronisierung</a> ordnungsgemäß und überwachen Sie die Leistung Ihrer Anwendung. Sie sollten sicherstellen, dass sie nicht durch zusätzliche Wartezeiten verlangsamt wird. <br><br><h3>  Vermeiden Sie veränderbare Objekte </h3><br>  Diese Idee stammt direkt aus den Prinzipien der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">funktionalen Programmierung</a> und besagt, dass veränderbare Klassen und veränderliche Zustände vermieden werden sollten, da sie an die Prinzipien der OOP angepasst sind.  Kurz gesagt bedeutet dies, dass Sie keine Einstellungsmethoden (Setter) festlegen und private Felder mit dem endgültigen Modifikator in allen Modellklassen haben sollten.  Ihre Werte ändern sich nur, wenn das Objekt erstellt wird.  In diesem Fall können Sie sicher sein, dass mit der Konkurrenz um Ressourcen keine Probleme verbunden sind. Wenn Sie auf die Eigenschaften des Objekts zugreifen, werden immer die richtigen Werte erhalten. <br><br><h3>  Wichtige Daten protokollieren </h3><br>  Bewerten Sie, wo Probleme in der Anwendung auftreten können, und richten Sie im Voraus eine Protokollierung aller wichtigen Daten ein.  Wenn ein Fehler auftritt, freuen Sie sich über Informationen darüber, welche Anfragen eingegangen sind, und können die Gründe für die Fehlfunktion Ihrer Anwendung besser verstehen.  Beachten Sie jedoch, dass die Protokollierung zusätzliche Datei-E / A umfasst und nicht missbraucht werden sollte, da dies die Anwendungsleistung beeinträchtigen kann. <br><br><h3>  Verwenden Sie vorgefertigte Thread-Implementierungen </h3><br>  Wenn Sie Ihre Threads erzeugen müssen (z. B. um asynchrone Anforderungen an verschiedene Dienste zu erstellen), verwenden Sie vorgefertigte sichere Thread-Implementierungen, anstatt Ihre eigenen zu erstellen.  In den meisten Fällen können Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ExecutorService-</a> Abstraktionen und die spektakulären funktionalen Abstraktionen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CompletableFuture</a> für Java 8 verwenden, um Threads zu erstellen. Mit der Spring-Plattform können Sie auch asynchrone Anforderungen mithilfe der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeferredResult-</a> Klasse verarbeiten. <br><br>  Das Ende des ersten Teils. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lesen Sie den zweiten Teil.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464429/">https://habr.com/ru/post/de464429/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464413/index.html">PVS-Studio - Motor des Fortschritts</a></li>
<li><a href="../de464415/index.html">Neuer Hinweisservice für die Suche nach hh.ru.</a></li>
<li><a href="../de464417/index.html">10 beliebte PHP-Frameworks im Jahr 2019</a></li>
<li><a href="../de464421/index.html">Radio Viber - alle Radiosender im Messenger online</a></li>
<li><a href="../de464423/index.html">Wie man Zeit verwaltet? Freelancer-Antwort</a></li>
<li><a href="../de464433/index.html">Mobile Cloud-Testplattformen</a></li>
<li><a href="../de464435/index.html">Wie man nicht in einem Meer von Technologie und Ansätzen ertrinkt: die Erfahrung von 50 Experten</a></li>
<li><a href="../de464437/index.html">Wie das Entwicklungsteam mehr verdienen kann, indem es Verkehrsseiten erstellt [Implementierungshandbuch]</a></li>
<li><a href="../de464443/index.html">Natas Web. Passage der CTF-Plattform zur Ausnutzung von Web-Schwachstellen. Teil 2</a></li>
<li><a href="../de464445/index.html">Warum es wirklich unmöglich ist, Vegetarier zu sein</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>