<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëí üï¢ üìè Erlang para IoT üòö üë¶ ü•ñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A onda de interesse em dispositivos microeletr√¥nicos e sua intera√ß√£o entre si para as necessidades industriais e dom√©sticas levou ao desenvolvimento d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erlang para IoT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417245/"> A onda de interesse em dispositivos microeletr√¥nicos e sua intera√ß√£o entre si para as necessidades industriais e dom√©sticas levou ao desenvolvimento de um grande n√∫mero de projetistas para desenvolvimento com base em SoC (sistemas em um chip) suficientemente poderosos, bastante miniatura em rela√ß√£o √†s solu√ß√µes de microcontrolador, mas que j√° cont√©m um sistema operacional completo.  O desenvolvimento de aplicativos para esses designers praticamente n√£o difere do desenvolvimento usual do servidor, exceto que o limite de recursos ainda deve ser lembrado. <br><br><img src="https://habrastorage.org/webt/sv/dz/4k/svdz4kyrpxvjmt-0soj6xodo14g.jpeg"><br><a name="habracut"></a><br>  √Ä medida que a produtividade e os recursos aumentam, a pr√°tica de usar linguagens interpretadas de alto n√≠vel, como Lua, Python, JS para desenvolvimento de aplicativos, ganha cada vez mais for√ßa.  Algumas l√≠nguas penetram gradualmente nos "irm√£os mais novos", microcontroladores, no entanto, de uma forma muito limitada. <br><br>  Existem v√°rias raz√µes para isso: <br><br><ul><li>  prototipagem r√°pida - com todo o respeito √† linguagem C, que desenvolve principalmente microcontroladores, √© muito dif√≠cil cham√°-la de concisa.  Linguagens de alto n√≠vel permitem que voc√™ escreva menos c√≥digo e simplifique as altera√ß√µes no que j√° est√° escrito, o que √© muito importante no est√°gio de prot√≥tipo; </li><li>  gerenciamento autom√°tico de mem√≥ria e abstra√ß√£o de mecanismos complexos de computa√ß√£o - acho que n√£o precisa de coment√°rios, os dois processos manuais com um volume suficiente de projeto se tornam uma fonte de muita dor de cabe√ßa; </li><li>  simplifica√ß√£o da depura√ß√£o e teste - o c√≥digo interpretado √© mais f√°cil de verificar na esta√ß√£o de trabalho antes da hora do teste em campo; </li><li>  luta com a complexidade - muitas vezes, uma grande produtividade gera um desejo pragm√°tico natural de empurrar mais pr√©-processamento e an√°lise para o dispositivo, o que n√£o adiciona simplicidade ao desenvolvimento. </li></ul><br>  Infelizmente, voc√™ tem que pagar por todas as comodidades.  Nesse caso, o pre√ßo da conveni√™ncia √© dos recursos, desempenho e tamanho do c√≥digo mais valiosos (em muitos casos, voc√™ precisa ter um ambiente de tempo de execu√ß√£o bastante volumoso).  Portanto, a aplica√ß√£o em campo de linguagens de alto n√≠vel no SoC e SoM √© uma coisa amb√≠gua e, em alguns lugares, um compromisso. <br><br>  Usamos a linguagem Erlang para o desenvolvimento, aplicando-a tanto para a finalidade pretendida (criando aplicativos de servidor e um plano de controle) quanto para aplicativos da Web muito incomuns.  Portanto, a id√©ia de usar a infraestrutura dessa linguagem para criar solu√ß√µes de IoT surgiu muito antes do aparecimento de placas nas quais o tempo de execu√ß√£o Erlang poderia funcionar sem problemas. <br><br>  Os motivos para usar Erlang foram muitos, os mais significativos: <br><br><ul><li>  Erlang √© muito conveniente para analisar e criar seq√º√™ncias bin√°rias.  A correspond√™ncia de padr√µes combinada com o processamento de dados de bits permite que protocolos bin√°rios sejam implementados muito rapidamente e sem palavras; </li><li>  falta de vari√°veis ‚Äã‚Äãglobais e imutabilidade para a maioria dos dados - permite escrever e, n√£o menos importante, manter aplicativos confi√°veis ‚Äã‚Äãnos quais √© dif√≠cil alterar acidentalmente algo errado; </li><li>  Processos leves de mensagens muito parecidos com o que os desenvolvedores incorporados precisam lidar.  Em ess√™ncia, eles s√£o um procedimento de inicializa√ß√£o e um procedimento que processa as mensagens recebidas em um loop infinito, alterando o estado interno.  √â muito parecido com o Arduino, apenas podem haver muitos processos e eles funcionam em paralelo; al√©m disso, no intervalo entre as mensagens, o procedimento de processamento pode ser alterado em tempo real (recarga de c√≥digo quente), o que √© muito conveniente quando voc√™ precisa corrigir pequenos erros ou ajustar o comportamento; </li><li>  ambiente isolado e aloca√ß√£o autom√°tica de mem√≥ria, eu acho, n√£o precisam de explica√ß√£o; </li><li>  multiplataforma - o c√≥digo de bytes para o tempo de execu√ß√£o do ERTS pode ser compilado na m√°quina do desenvolvedor e depois transferido para o dispositivo de destino sem problemas; </li><li>  excelentes ferramentas de introspec√ß√£o - a capacidade de conectar-se a um aplicativo em execu√ß√£o na rede e ver se ele fica mais lento com frequ√™ncia costuma ser muito √∫til. </li></ul><br>  A primeira placa de trabalho em que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">testamos</a> Erlang foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Carambola 2 dos</a> desenvolvedores lituanos de 8 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dispositivos</a> , montados no popular chip AR9331.  A primeira vers√£o desta placa, infelizmente, n√£o tinha mem√≥ria flash suficiente para caber no tempo de execu√ß√£o.  Mas a segunda vers√£o j√° se permitiu acomodar o ERTS e um aplicativo pequeno. <br><br><img src="https://habrastorage.org/webt/bw/hy/pc/bwhypc6udycl3pa3umaj13_enck.jpeg"><br><br>  A instala√ß√£o foi realizada por um m√©todo cl√°ssico para esse tipo de dispositivo - montando uma imagem OpenWRT contendo Erlang, seguida pela atualiza√ß√£o na mem√≥ria flash do dispositivo.  O primeiro lan√ßamento do meio ambiente, infelizmente, levou √† decep√ß√£o - tudo travou.  Eu j√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">expliquei os</a> motivos para isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na confer√™ncia InoThings 2018</a> , mas, infelizmente, como se viu mais tarde, enganou meus colegas ao nomear erroneamente a fonte desse comportamento. <br><br>  Vou recontar brevemente.  Ao trabalhar com arquivos, a m√°quina virtual ERTS usa o tipo <i>off_t</i> , cujo tamanho na distribui√ß√£o √© calculado quando o assembly √© configurado automaticamente (se executado na plataforma de destino) ou √© substitu√≠do no ambiente de compila√ß√£o cruzada, como aconteceu no caso do OpenWRT.  N√£o est√° claro por que, mas nas configura√ß√µes dos processadores MIPS e derivados no arquivo de configura√ß√£o do assembly √© duas vezes maior do que √© de fato.  O problema n√£o surgiria se o c√≥digo da m√°quina virtual n√£o usasse diretivas de pr√©-processador como <br><br><pre><code class="hljs cs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> SIZEOF_OFF_T == 4</span></span></code> </pre> <br>  e uma verifica√ß√£o banal no c√≥digo (suspeito que o resultado final da compila√ß√£o seria o mesmo, mas n√£o havia fus√≠vel suficiente para verificar): <br><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">off_t</span></span>) == <span class="hljs-number"><span class="hljs-number">4</span></span>) {</code> </pre> <br>  Como resultado, o ERTS coletado na primeira itera√ß√£o ao tentar ler o <i>arquivo ~ / .erlang.cookie</i> (um tipo de senha para identifica√ß√£o durante a intera√ß√£o da rede) no in√≠cio recebeu com √™xito o lixo em alta ordem e caiu com um estrondo. <br><br>  <a href="">O patch</a> e o pacote com a pen√∫ltima vers√£o do ERTS para OpenWRT podem ser baixados no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> .  Al√©m disso, ainda n√£o foram observados problemas, tudo funcionou conforme o esperado. <br><br>  A segunda plataforma de hardware na qual <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">testamos</a> o Erlang foi o designer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LinkIt Smart 7688</a> da Mediatek e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SeeedStudio</a> , especialmente projetado para prototipagem r√°pida e aprendizado do b√°sico.  Esta placa √© apenas a apoteose da deboche em termos de recursos - a frequ√™ncia do n√∫cleo do MIPS cresceu 1,5 vezes, mais RAM (para ERTS √© importante, o GC n√£o dorme) e mais mem√≥ria flash, al√©m da presen√ßa de um cart√£o microSD e a possibilidade de usar o co-processador Atmel Atmega 32U4 na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vers√£o Duo</a> para trabalhar com perif√©ricos. <br><img src="https://habrastorage.org/webt/8m/fb/cf/8mfbcfrgfnfdc7tnjkvicni19hg.png"><br>  Em geral, a plataforma era muito adequada para continuar o banquete, e a presen√ßa de dispositivos de plug-in adicionais que se conectam sem solda permite montar r√°pida e condicionalmente uma bancada de testes em seu joelho. <br><br>  A plataforma vem com software com sua pr√≥pria interface da web, al√©m de bibliotecas Python e NodeJS para desenvolvimento.  O ecossistema para a montagem n√£o mudou - ainda √© o OpenWRT.  Se, por algum motivo, voc√™ encontrar toda essa diversidade sup√©rflua, no reposit√≥rio acima h√° pacotes contendo um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conjunto m√≠nimo de componentes necess√°rios</a> .  Ap√≥s a montagem, a imagem do flash √© gravada no dispositivo e ap√≥s a reinicializa√ß√£o, voc√™ pode usar o REPL com seguran√ßa. <br><br>  Para criar aplicativos no Erlang para IoT, um problema de arquitetura precisa ser resolvido. <br><br>  A linguagem foi projetada e desenvolvida de olho no que servir√° como plano de controle, ou seja,  camada de controle, enquanto trabalhava com ferro deveria ser atrav√©s da FFI.  Tr√™s tipos de intera√ß√£o s√£o fornecidos para isso: <br><br><ol><li>  ports (ports) - processos de trabalho separados, escritos em qualquer idioma, cuja intera√ß√£o ocorre por meio de fluxos de entrada / sa√≠da.  Eles podem ser reiniciados em caso de queda, mas devido ao m√©todo de intera√ß√£o, sua produtividade em termos de comunica√ß√£o √© pequena (no entanto, ser√° suficiente para n√≥s); </li><li>  Fun√ß√µes NIF - parecem fun√ß√µes padr√£o da linguagem, mas sua chamada gera a execu√ß√£o do c√≥digo compilado no espa√ßo do tempo de execu√ß√£o.  Em caso de erro, eles podem arrastar toda a m√°quina virtual para tr√°s. </li><li>  N√≥ C - quando todo o trabalho √© realizado em um processo separado e a intera√ß√£o √© realizada como em um ambiente de tempo de execu√ß√£o em execu√ß√£o separadamente na rede.  N√£o consideraremos essa op√ß√£o devido aos custos indiretos suficientemente altos na estrutura de um dispositivo fraco. </li></ol><br>  O dilema √© este: s√≥ podemos transportar coisas para o FFI (ou seja, suporte para GPIO, I2C, SPI, PWM, UART etc.) e podemos interagir diretamente com sensores e outros dispositivos em Erlang, ou pelo contr√°rio, transferir drivers de dispositivo inteiramente para o c√≥digo de m√≥dulos externos, deixando o aplicativo receber dados brutos e process√°-los; nesse caso, pode fazer sentido usar o c√≥digo j√° escrito. <br><br>  Decidimos usar a primeira op√ß√£o.  Existem v√°rias raz√µes para isso: <br><br><ul><li>  porque n√≥s podemos; </li><li>  como j√° mencionei, o Erlang vem com ferramentas poderosas o suficiente para montar e desmontar seq√º√™ncias bin√°rias, enquanto √© uma matem√°tica bastante simples, que permite que voc√™ n√£o se preocupe com a prote√ß√£o contra transbordamentos e outras magias usadas para processar os resultados.  N√£o que esse espantalho seja m√°gico, mas afeta os ne√≥fitos chocantemente; </li><li>  intuitivamente, parecia que os drivers em um idioma de alto n√≠vel seriam mais simples e mais confi√°veis ‚Äã‚Äã(um processo travado reiniciar√° o supervisor, o que levar√° √† reinicializa√ß√£o do dispositivo controlado). </li></ul><br>  Portanto, a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ErlangALE</a> foi rapidamente encontrada, que continha suporte j√° implementado para GPIO, I2C e SPI por meio das interfaces do kernel, e os desenvolvedores da plataforma de hardware, por sua vez, j√° cuidavam deles.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A biblioteca para trabalhar com o UART</a> j√° foi testada, al√©m de termos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adicionado o erlexec</a> , um aplicativo que permite criar e gerenciar processos de SO. <br><br>  Todos esses aplicativos usavam portas (processos bin√°rios lan√ßados separadamente) para trabalhar com o equipamento e o sistema operacional, o que exigia suporte de compila√ß√£o cruzada para linguagens C e C ++, para a qual foi escrito um <a href="">script shell</a> bastante <a href="">elaborado</a> que configurava o ambiente de constru√ß√£o para usar os compiladores necess√°rios. <br><br>  Para testar as decis√µes que tomamos, montamos um dispositivo simples do LinkIt Smart 7866, dois dispositivos I2C (sensor de temperatura e press√£o BMP280 e display OLED de 128 pixels de 64 pixels) e um m√≥dulo GPS USB que envia dados via UART.  O GPIO foi testado no LED da placa, funciona e a conex√£o do monitor SPI parecia desnecess√°ria nesse est√°gio de complica√ß√£o. <br><br><img src="https://habrastorage.org/webt/y-/sg/fk/y-sgfkmhneogiscctg6qs8a20ou.jpeg"><br><br>  Acabou sendo uma aplica√ß√£o bastante compacta e simples, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo fonte</a> pode ser visualizado no Github. <br><br>  N√£o vou me aprofundar nos fragmentos de c√≥digo, mas tentarei descrever em uma vis√£o geral como o aplicativo funciona. <br><br>  Os drivers de todos os dispositivos s√£o feitos na forma de processos gen_server, isso √© conveniente porque permite adicionar par√¢metros adicionais e, √†s vezes, o estado do dispositivo no estado.  O √∫ltimo pode ser visto no exemplo de <a href="">uart_gps</a> - os dados do UART <a href="">chegam de</a> forma ass√≠ncrona, s√£o <a href="">analisados ‚Äã‚Äãpelo analisador NMEA0183</a> e os resultados s√£o gravados no estado do processo, de onde s√£o obtidos por solicita√ß√£o. <br><br>  O ciclo principal do aplicativo √© descrito no m√≥dulo <a href="">gps_temp_display</a> - a cada segundo o processo l√™ os dados do GPS e solicita o estado de temperatura e press√£o do BMP280 e os exibe no visor OLED.  Por uma quest√£o de interesse, voc√™ pode olhar para <a href="">os</a> <a href="">drivers</a> <a href="">do monitor</a> e do <a href="">sensor BMP280</a> - tudo acabou sucintamente, 150-170 linhas por m√≥dulo. <br><br>  Em geral, a tarefa acima (escrever o c√≥digo do driver, combinar tudo em um aplicativo, montagem e teste) levou cerca de quatro noites, duas horas em m√©dia, ou seja,  a rigor, alguns dias √∫teis.  Parece-me pessoalmente que este √© um bom indicador para tentar usar o Erlang em aplicativos incorporados mais complexos e s√©rios que n√£o exigem restri√ß√µes estritas em tempo real. <br><br>  Obviamente, nossas tentativas de usar Erlang para sistemas embarcados n√£o s√£o de forma alguma as √∫nicas.  Existem v√°rios projetos interessantes nesse sentido: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nerves-project.org</a> - visa criar um ecossistema incorporado baseado no Elixir; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.grisp.org</a> - uma abordagem ainda mais radical, envolvendo o lan√ßamento do ERTS diretamente no hardware (sistema Erlang bare metal); </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/bettio/AtomVM</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/cloudozer/ling</a> - tenta criar uma vers√£o compacta do ERTS, adequada para uso em microcontroladores e SoC / SoM fraco. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt417245/">https://habr.com/ru/post/pt417245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt417235/index.html">Como as lojas online perdem dinheiro devido a um endere√ßo de formul√°rio de pedido</a></li>
<li><a href="../pt417237/index.html">O que os desenvolvedores ouvem: dos cl√°ssicos √†s trilhas sonoras de jogos - discutimos as mais interessantes</a></li>
<li><a href="../pt417239/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel # 261 (9 a 15 de julho)</a></li>
<li><a href="../pt417241/index.html">Metadados S3 no PostgreSQL. Palestra Yandex</a></li>
<li><a href="../pt417243/index.html">Instale o 3CX SBC Session Edge Controller no Windows, Raspberry Pi ou Debian 9</a></li>
<li><a href="../pt417247/index.html">VSCE # 1: Podcast de empreendedores de m√≠dia</a></li>
<li><a href="../pt417249/index.html">C√¢mara de Auditoria dos EUA alerta: SpaceX e Boeing est√£o aguardando novos atrasos, √© poss√≠vel a interrup√ß√£o dos EUA nos v√¥os para a ISS</a></li>
<li><a href="../pt417251/index.html">Usando o olho de peixe no Raspberry Pi 3 com ROS - Parte 1</a></li>
<li><a href="../pt417255/index.html">Rel√≥gio de cuco baseado em Lego Mindstorms</a></li>
<li><a href="../pt417257/index.html">Ponteiros C como um paradoxo lingu√≠stico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>