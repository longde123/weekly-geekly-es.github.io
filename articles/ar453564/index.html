<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คพ๐ผ โ โ๏ธ ุงุฌุนููุง ุตุญูุญุฉ - ุชุทููุฑ ูุนุจุฉ ููุทู ุนูู ุงููุญุฏุฉ ๐๐ผ ๐ฌ ๐จ๐พโโ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฃุฑุบุจ ูู ูุดุงุฑูุฉ ุนูููุฉ ุชุทููุฑ ูุนุจุฉ ูุญูููุฉ ุจุณูุทุฉ ุจูุงุณุทุฉ ูุทูุฑูู ูููุงู. ูุฐู ุงูููุงูุฉ ุฅูู ุญุฏ ูุจูุฑ ูุตู ููุชูููุฐ ุงูุชููู. 
 ุงูุญุฐุฑ ุ ูุงููุซูุฑ ูู ุงููุต! 

 ุงูููุงู ููุณ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงุฌุนููุง ุตุญูุญุฉ - ุชุทููุฑ ูุนุจุฉ ููุทู ุนูู ุงููุญุฏุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453564/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4k/h-/6e/4kh-6e4-iwvtuaz42eqb2gg81iu.png"><br><br>  ุฃุฑุบุจ ูู ูุดุงุฑูุฉ ุนูููุฉ ุชุทููุฑ ูุนุจุฉ ูุญูููุฉ ุจุณูุทุฉ ุจูุงุณุทุฉ ูุทูุฑูู ูููุงู.  ูุฐู ุงูููุงูุฉ ุฅูู ุญุฏ ูุจูุฑ ูุตู ููุชูููุฐ ุงูุชููู. <br>  ุงูุญุฐุฑ ุ ูุงููุซูุฑ ูู ุงููุต! <br><br>  ุงูููุงู ููุณ ูุฑุดุฏูุง ุฃู ุฏุฑุณูุง ุ ุนูู ุงูุฑุบู ูู ุฃููู ุขูู ุฃู ูุชููู ุงููุฑุงุก ูู ุชุนูู ุดูุก ูููุฏ ููู.  ูุตููุฉ ูููุทูุฑูู ุงูุฐูู ูุฏููู ุฏุฑุงูุฉ ุจุงููุญุฏุฉ ูุน ุจุนุถ ุงูุฎุจุฑุฉ ุงูุจุฑูุฌูุฉ <br><a name="habracut"></a><br><a name="Content"></a><h4 style=";text-align:right;direction:rtl">  ุงููุญุชููุงุช: </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฑุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุจ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุฉ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุตููู</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌููุฑ</a> <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูุงุตุฑ ุงูููุฑุจุงุฆูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญูุงูุง</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ElementsProvider</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CircuitGenerator</a> </li></ol><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตูู ุงููุนุจุฉ</a> <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฌ ุงูุชูููุฉ ู DI</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฑุชูุจ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนูุงุตุฑ ุงูููุฑุจุงุฆูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฏุงุฑุฉ ุงููุนุจุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูู ุงูุชุญููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดูุฏ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุนุจ ุฅุถุงููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุณููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุฌูุฉ ุงููุณุชุฎุฏู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญูููุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงููุฑุง ูุชุญุฏูุฏ ุงูููุงูุน ูุงูุฑุณูู ุงูุจูุงููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฎุทุทุงุช ุงูุฃููุงู</a> </li></ol><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุญูุงุช ูุญุฑุฑ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><br></a> <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฏ ููุฑุจุงุฆู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญูุงูุง</a> </li></ol><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฏ</a> <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AssertHelper</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SceneObjectsHelper</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CoroutineStarter</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃุฏุงุฉ</a> </li></ol><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฌุฑูุจ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฎุต ุงูุชูููุฉ</a> <br><br><a name="Idea"></a><h2 style=";text-align:right;direction:rtl">  ููุฑุฉ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ูุงู ููุงู ููุฑุฉ ูุฌุนู ูุนุจุฉ ุงูุฌูุงู ุจุณูุทุฉ ูู ูุชุฑุฉ ูุตูุฑุฉ. <br><br>  ุงูุดุฑูุท ูุงูุฃุญูุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูุณูู ุชูููุฐ ุงููุนุจุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุญุฏ ุงูุฃุฏูู ููุชุทูุจุงุช ุงููู </li><li style=";text-align:right;direction:rtl">  ููุช ุชุทููุฑ ูุตูุฑ (ุนุฏุฉ ุฃุดูุฑ) </li><li style=";text-align:right;direction:rtl">  ูุน ุงูุชุดุบูู ุงูุขูู ุงูุณูู ูุฅูุดุงุก ุงููุญุชูู (ุงููุณุชููุงุช ูุงูููุงูุน ูุนูุงุตุฑ ุงููุนุจุฉ) </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุณุชูู ุจุณุฑุนุฉ ุฅุฐุง ูุงูุช ุงููุนุจุฉ ุชุชููู ูู ุนุฏุฏ ูุญุฏูุฏ ูู ุงููุณุชููุงุช </li></ul><br>  ูู ุฃุฌู ุงุชุฎุงุฐ ูุฑุงุฑ ุ ูููู ูุงุฐุง ุชูุนู ูู ุงููุงูุนุ  ุจุนุฏ ูู ุดูุก ุ ุฌุงุกุช ุงูููุฑุฉ ูุฌุนู ูุนุจุฉ ุ ูููุณ ููุฑุฉ ูุนุจุฉ.  ุชูุฑุฑ ุงูุจุญุซ ุนู ุงูุฅููุงู ูู ูุชุฌุฑ ุงูุชุทุจููุงุช. <br><br>  ุชุถุงู ุฅูู ุงูุนูุงุตุฑ ุงููุฐููุฑุฉ ุฃุนูุงู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุชูุชุน ุงููุนุจุฉ ุจุดุนุจูุฉ ูุนููุฉ ุจูู ุงููุงุนุจูู (ุนุฏุฏ ูุฑุงุช ุงูุชูุฒูู + ุงูุชุตูููุงุช) </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃูุง ูููู ูุชุฌุฑ ุงูุชุทุจููุงุช ูุฒุฏุญููุง ุจุฃูุนุงุจ ูุดุงุจูุฉ </li></ul><br>  ุชู ุงูุนุซูุฑ ุนูู ูุนุจุฉ ุจูุง ุทุฑููุฉ ูุนุจ ุชุนุชูุฏ ุนูู ุงูุจูุงุจุงุช ุงูููุทููุฉ.  ูู ุชูู ููุงู ุนูููุงุช ููุงุซูุฉ ุจุฃุนุฏุงุฏ ูุจูุฑุฉ ุ ุญูุซ ุชุญุชูู ุงููุนุจุฉ ุนูู ุงูุนุฏูุฏ ูู ุงูุชูุฒููุงุช ูุงูุชููููุงุช ุงูุฅูุฌุงุจูุฉ.  ููุน ุฐูู ุ ุจุนุฏ ุงููุญุงููุฉ ุ ูุงูุช ููุงู ุจุนุถ ุงูุนููุจ ุงูุชู ูููู ุฃุฎุฐูุง ูู ุงูุงุนุชุจุงุฑ ูู ูุนุจุชู. <br><br>  ุทุฑููุฉ ุงููุนุจ ูู ุงููุนุจุฉ ูู ุฃู ุงููุณุชูู ุนุจุงุฑุฉ ุนู ุฏุงุฆุฑุฉ ุฑูููุฉ ุจูุง ุงูุนุฏูุฏ ูู ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช.  ูุฌุจ ุฃู ูุฎุชุงุฑ ุงููุดุบู ูุฌููุนุฉ ูู ุงููุฏุฎูุงุช ุจุญูุซ ูููู ุงูุฅุฎุฑุงุฌ ููุทูููุง 1. ูุง ูุจุฏู ุงูุฃูุฑ ุตุนุจูุง ููุบุงูุฉ.  ูุงูุช ุงููุนุจุฉ ุฃูุถูุง ุจุฅูุดุงุก ูุณุชููุงุช ุชููุงุฆููุง ุ ููุง ููุญู ุจุฃู ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุงููุณุชููุงุช ุชููุงุฆููุง ุ ุฑุบู ุฃููุง ูุง ุชุจุฏู ุจุณูุทุฉ ุฌุฏูุง.  ุงููุนุจุฉ ุฌูุฏุฉ ุฃูุถูุง ููุชุนูู ุ ูุงูุชู ุฃุนุฌุจุชูู ุญููุง. <br><br>  ุงูุงูุฌุงุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุณุงุทุฉ ูููุฉ ูู ุงููุนุจ </li><li style=";text-align:right;direction:rtl">  ุชุจุฏู ุณููุฉ ููุงุฎุชุจุงุฑ ูุน autotests </li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุงููุณุชููุงุช ุชููุงุฆููุง </li></ul><br>  ุณูุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุนููู ุฃููุง ุฅูุดุงุก ุงููุณุชููุงุช </li></ul><br>  ุงูุขู ุงุณุชูุดุงู ุนููุจ ุงููุนุจุฉ ุงูุชู ุฃูููุช. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชุชููู ูุน ูุณุจุฉ ุงูุนุฑุถ ุฅูู ุงูุงุฑุชูุงุน ุงููุฎุตุตุฉ ุ ูุซู 18: 9 </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุณููุฉ ูุชุฎุทู ูุณุชูู ุตุนุจ ุฃู ุงูุญุตูู ุนูู ุชูููุญ </li><li style=";text-align:right;direction:rtl">  ูู ุงูุงุณุชุนุฑุงุถุงุช ูุงูุช ููุงู ุดูุงูู ุญูู ุนุฏุฏ ูููู ูู ุงููุณุชููุงุช </li><li style=";text-align:right;direction:rtl">  ุงุดุชูุช ุงูุงุณุชุนุฑุงุถุงุช ูู ุนุฏู ูุฌูุฏ ูุฌููุนุฉ ูุชููุนุฉ ูู ุงูุนูุงุตุฑ </li></ul><br>  ููุชูู ุฅูู ุชุฎุทูุท ูุนุจุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ุงูุจูุงุจุงุช ุงูููุทููุฉ ุงูููุงุณูุฉ (ANDุ NANDุ ORุ NORุ XORุ XNORุ NORุ NOT) </li><li style=";text-align:right;direction:rtl">  ูุชู ุนุฑุถ ุงูุจูุงุจุงุช ูุน ุตูุฑุฉ ุจุฏูุงู ูู ุชุนููู ูุต ุ ููู ุฃุณูู ููุชูููุฒ.  ูุธุฑูุง ูุฃู ุงูุนูุงุตุฑ ููุง ุชุฏููู ANSI ููุงุณู ุ ูุฅููุง ูุณุชุฎุฏููุง. </li><li style=";text-align:right;direction:rtl">  ูุชุฌุงูู ุฑูุฒ ุงูุชุจุฏูู ุงูุฐู ูุฑุจุท ุฃุญุฏ ุงููุฏุฎูุงุช ุจุฃุญุฏ ุงููุฎุฑุฌุงุช.  ูุธุฑูุง ูุฃูู ูุชุทูุจ ููู ุงูููุฑ ููู ููุณู ููุง ุชูุณุฌู ูุน ุงูุนูุงุตุฑ ุงูุฑูููุฉ ุงูุญููููุฉ ููููุงู.  ูุนู ุ ููู ุงูุตุนุจ ุชุฎูู ููุชุงุญ ุชุจุฏูู ูู ุดุฑูุญุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุนูุงุตุฑ ุงูุชุดููุฑ ููู ุงูุชุดููุฑ. </li><li style=";text-align:right;direction:rtl">  ููุฏู ูุถุนูุง ูุชุนูู ุนูู ุงููุดุบู ููู ุชุญุฏูุฏ ุงูุนูุตุฑ ุงููุฑุบูุจ ููู ูู ุงูุฎููุฉ ุจููู ุซุงุจุชุฉ ุนูุฏ ูุฏุฎูุงุช ุงูุฏุงุฆุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ูุญู ููุฏู ุงููุณุงุนุฏุฉ ููุงุนุจ: ุชูููุญ + ูุณุชูู ุชุฎุทู. </li><li style=";text-align:right;direction:rtl">  ุณูููู ูู ุงูุฌููู ุฃู ุชุถูู ุจุนุถ ุงููุคุงูุฑุฉ. </li></ul><br><a name="Gameplay"></a><h2 style=";text-align:right;direction:rtl">  ุงููุนุจ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุงููุถุน 1: ูุชููู ุงููุงุนุจ ุฏุงุฆุฑุฉ ููุฏูู ุญู ุงููุตูู ูุชุบููุฑ ุงูููู ุนูุฏ ุงููุฏุฎูุงุช. <br>  ุงููุถุน 2: ูุชููู ุงููุงุนุจ ุฏุงุฆุฑุฉ ููููู ูููุง ุชุบููุฑ ุงูุนูุงุตุฑ ูููู ูุง ููููู ุชุบููุฑ ุงูููู ุนูุฏ ุงููุฏุฎูุงุช. <br><br>  ุณูููู ุงููุนุจ ูู ุดูู ูุณุชููุงุช ูุนุฏุฉ ูุณุจููุง.  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงููุณุชูู ุ ูุฌุจ ุฃู ูุญุตู ุงููุงุนุจ ุนูู ุจุนุถ ุงููุชุงุฆุฌ ุ ูุณูุชู ุฐูู ูู ุดูู ุงููุฌูู ุงูุซูุงุซุฉ ุงูุชูููุฏูุฉ ุ ุงุนุชูุงุฏูุง ุนูู ูุชูุฌุฉ ุงูููุทุน. <br><br>  ูุงุฐุง ูููู ุฃู ุชููู ูุคุดุฑุงุช ุงูุฃุฏุงุก: <br>  ุนุฏุฏ ุงูุฅุฌุฑุงุกุงุช: ูู ุชูุงุนู ูุน ุนูุงุตุฑ ุงููุนุจุฉ ูุฒูุฏ ูู ุงูุนุฏุงุฏ. <br>  ุนุฏุฏ ุงูุงุฎุชูุงูุงุช ูู ุงูุญุงูุฉ ุงููุงุชุฌุฉ ุนู ุงูุฃุตู.  ูุง ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุนุฏุฏ ูุญุงููุงุช ุงููุงุนุจ ูุฅููุงูู.  ูุณูุก ุงูุญุธ ุ ูุง ูุชูุงุณุจ ูุน ุงููุธุงู ุงูุซุงูู. <br>  ุณูููู ูู ุงูุฌููู ุฅุถุงูุฉ ููุณ ุงููุถุน ูุน ุฅูุดุงุก ูุณุชูู ุนุดูุงุฆู.  ูููู ุงูุขู ุ ุชุฃุฌููู ูู ููุช ูุงุญู. <br><br><a name="Plot"></a><h2 style=";text-align:right;direction:rtl">  ูุตุฉ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุฃุซูุงุก ุงูุชูููุฑ ูู ุงููุนุจ ูุจุฏุก ุงูุชุทููุฑ ุ ุธูุฑุช ุฃููุงุฑ ูุฎุชููุฉ ูุชุญุณูู ุงููุนุจุฉ.  ูุจุฏุง ููุฑุฉ ูุซูุฑุฉ ููุงูุชูุงู ุจูุง ููู ุงูููุงูุฉ - ูุฅุถุงูุฉ ูุคุงูุฑุฉ. <br><br>  ุฅูู ุนู ูููุฏุณ ูุตูู ุงูุฏูุงุฆุฑ.  ููุณ ุณูุฆูุง ุ ูููู ุบูุฑ ูุงูู ุ ุฑุจูุง ูุณุชุญู ุนุฑุถ ุชุตููุน ุงูุฑูุงุฆู ุงุณุชูุงุฏูุง ุฅูู ูุง ููุนูู ุงููุงุนุจุ  ุงูุฑูุชูู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูุง ุชูุฌุฏ ูุชูุฌุฉ ูููููุฉ ูุจุณูุทุฉ. <br><br>  ุงูููุฑุฉ!  ูููู ุงููููุฏุณ ุจุชุทููุฑ ุฑูุจูุช ุจุงุฑุฏ ุจุงุณุชุฎุฏุงู ุฏุงุฑุงุชู ุงูููุทููุฉ.  ุงูุฑูุจูุช ูู ุดูุก ุจุณูุท ุฅูู ุญุฏ ูุง ููููู ูููุงุณุจ ุชูุงูุง ูุน ุงููุนุจ. <br><br>  ุชุฐูุฑ ุงูููุฑุฉ ุงูุฃููู ุ "ุงูุญุฏ ุงูุฃุฏูู ููุชุทูุจุงุช ุงููู"ุ  ุดูุก ูุง ูุชูุงุกู ูุน cutscenes ูู ุงููุคุงูุฑุฉ.  ุซู ูุฃุชู ููุงู ูุฃููู ุฅูู ุงูุฅููุงุฐ ุ ุงูุฐู ูุงูู ุนูู ูุณุงุนุฏุชูุง. <br><br>  ุงูุขู ุฏุนููุง ููุฑุฑ ุชูุณูู ูุฅุฏูุงุฌ cutscenes ูู ุงููุนุจุฉ. <br><br>  ูุฌุจ ุฃู ูุชู ุนุฑุถ ูุทุนุฉ ุงูุฃุฑุถ ุนูู ุดูู ูุทุน ุจุฏูู ุณุฌู ุฃู ูุตู ูุตู ูุฒูู ูุดุงูู ุงูุชุฑุฌูุฉ ุ ููุจุณุท ููููุง ุ ูุงูุนุฏูุฏ ูู ุงููุนุจ ุนูู ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุจุฏูู ุตูุช.  ุงููุนุจุฉ ุนุจุงุฑุฉ ุนู ุนูุงุตุฑ ุญููููุฉ ุฌุฏูุง ููุฏูุงุฆุฑ ุงูุฑูููุฉ ุ ุฃู ุฃูู ูู ุงููููู ุฑุจุท ูุฐุง ุจุงููุงูุน. <br><br>  ูุฌุจ ุฃู ุชููู ุงููุดุงูุฏ ูุงููุณุชููุงุช ูุดุงูุฏ ูููุตูุฉ.  ูุจู ูุณุชูู ูุนูู ุ ูุชู ุชุญููู ูุดูุฏ ูุนูู. <br><br>  ุญุณูุง ุ ุชู ุชุนููู ุงููููุฉ ุ ูููุงู ููุงุฑุฏ ููููุงุก ุ ูุจุฏุฃ ุงูุนูู ูู ุงูุบููุงู. <br><br><a name="Development"></a><h2 style=";text-align:right;direction:rtl">  ุชุตููู </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ูุฑุฑุช ุนูู ุงูููุฑ ุนูู ุงูููุตุฉ ุ ููุฐุง ูู ุงููุญุฏุฉ.  ูุนู ูุจุงูุบุฉ ููููุง ุ ููููู ุฃุนุฑููุง. <br><br>  ุฃุซูุงุก ุงูุชุทููุฑ ุ ูุชู ูุชุงุจุฉ ุงูููุฏ ููุฑูุง ูุน ุงูุงุฎุชุจุงุฑุงุช ุฃู ุญุชู ุจุนุฏู.  ูููู ููุญุตูู ุนูู ุณุฑุฏ ููู ุ ูุชู ูุถุน ุงูุงุฎุชุจุงุฑ ูู ูุณู ูููุตู ุฃุฏูุงู.  ุณูุตู ุงููุณู ุงูุญุงูู ุนูููุฉ ุงูุชุทููุฑ ุจุดูู ูููุตู ุนู ุงูุงุฎุชุจุงุฑ. <br><br><a name="Core"></a><h3 style=";text-align:right;direction:rtl">  ุฌููุฑ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ูุจุฏู ุฌููุฑ ุงููุนุจุฉ ุจุณูุทูุง ุฌุฏูุง ูุบูุฑ ูุฑุชุจุท ุจุงููุญุฑู ุ ูุฐูู ุจุฏุฃูุง ุจุงูุชุตููู ูู ุดูู ุฑูุฒ C #.  ูุจุฏู ุฃูู ููููู ุชุญุฏูุฏ ููุทู ุฃุณุงุณู ูููุตู.  ุฃุฎุฑุฌู ุฅูู ูุดุฑูุน ูููุตู. <br><br>  ุชุนูู ุงููุญุฏุฉ ูุน ุญู C # ูุงููุดุฑูุนุงุช ุจุฏุงุฎููุง ุบูุฑ ูุนุชุงุฏุฉ ููููุงู ููุทูุฑ .Net ุงูุนุงุฏู ุ ููููุงุช .sln ู .csproj ูุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ Unity ููุณูุง ููุง ูุชู ูุจูู ุงูุชุบููุฑุงุช ุฏุงุฎู ูุฐู ุงููููุงุช ูููุธุฑ ูููุง ูู ุฌุงูุจ Unity.  ููุงู ุงูู ุจุจุณุงุทุฉ ุงููุชุงุจุฉ ุนูููุง ูุญุฐู ุฌููุน ุงูุชุบููุฑุงุช.  ูุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนุฑูู ุงูุชุฌููุน</a> . <br><br><img src="https://habrastorage.org/webt/b2/84/92/b28492ps5o-_mv62mdvo1frk4l8.png"><br><br><img src="https://habrastorage.org/webt/vd/xk/_k/vdxk_k9ydjfhu1aiee8ctlx3eau.png"><br><br>  ุชููู ุงููุญุฏุฉ ุงูุขู ุจุฅูุดุงุก ูุดุฑูุน ุจุงูุงุณู ุงูููุงุณุจ.  ูู ูุง ูููู ูู ุงููุฌูุฏ ูุน ููู .asmdef ุณูููู ูุฑุชุจุทูุง ุจูุฐุง ุงููุดุฑูุน ูุงูุชุฌููุน. <br><br><a name="CoreElectricalElements"></a><h4 style=";text-align:right;direction:rtl">  ุงูุนูุงุตุฑ ุงูููุฑุจุงุฆูุฉ </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุชุชูุซู ุงููููุฉ ูู ูุตู ุชูุงุนู ุงูุนูุงุตุฑ ุงูููุทููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุน ุจุนุถูุง ุงูุจุนุถ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุฃู ูุญุชูู ุงูุนูุตุฑ ุนูู ูุฏุฎูุงุช ูุชุนุฏุฏุฉ ููุฎุฑุฌุงุช ูุชุนุฏุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ูุชุตูุงู ุฅุฏุฎุงู ุงูุนูุตุฑ ุฅูู ุฅุฎุฑุงุฌ ุนูุตุฑ ุขุฎุฑ </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุญุชูู ุงูุนูุตุฑ ููุณู ุนูู ููุทูู ุงูุฎุงุต. </li></ul><br>  ููุจุฏุฃ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู <b>ุงูุนูุตุฑ</b> ุนูู ููุทู ุงูุชุดุบูู ุงูุฎุงุต ุจู ูุฑูุงุจุท ููุฏุฎูุงุชู.  ุนูุฏ ุทูุจ ูููุฉ ูู ุนูุตุฑ ูุง ุ ูุฅูู ูุฃุฎุฐ ููููุง ูู ุงููุฏุฎูุงุช ููุทุจู ุงูููุทู ุนูููุง ููุนูุฏ ุงููุชูุฌุฉ.  ูููู ุฃู ูููู ููุงู ุงูุนุฏูุฏ ูู ุงูููุงุชุฌ ุ ูุฐูู ุชููู ูููุฉ ุงูุฅุฎุฑุงุฌ ุงููุญุฏุฏ ูุทููุจุฉ ุ ูุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู 0. </li><li style=";text-align:right;direction:rtl">  ูุฃุฎุฐ ุงูููู ุนูุฏ ุงูุฅุฏุฎุงู ุ ุณูููู ููุงู <b>ููุตู ุฅุฏุฎุงู</b> p ุ ูููู ุจุชุฎุฒูู ุฑุงุจุท ุฅูู ุขุฎุฑ - ููุตู ุงูุฅุฎุฑุงุฌ. </li><li style=";text-align:right;direction:rtl">  ูุดูุฑ <b>ููุตู ุงููุฎุฑุฌุงุช</b> ุฅูู ุนูุตุฑ ูุนูู ููุฎุฒู ุฑุงุจุทูุง ูุนูุตุฑู ุ ุนูุฏ ุทูุจ ูููุฉ ุ ูุทูุจู ูู ุงูุนูุตุฑ. </li></ul><br><img src="https://habrastorage.org/webt/am/7q/yo/am7qyonro-bohnomthogk8qy8o0.png"><br><br>  ุชุดูุฑ ุงูุฃุณูู ุฅูู ุงุชุฌุงู ุงูุจูุงูุงุช ุ ูุงุนุชูุงุฏ ุงูุนูุงุตุฑ ูู ุงูุงุชุฌุงู ุงููุนุงูุณ. <br>  ุชุญุฏูุฏ ูุงุฌูุฉ ุงูููุตู.  ููููู ุงูุญุตูู ุนูู ุงููููุฉ ููู. <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IConnector</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br>  ููุท ููููุฉ ุชูุตููู ุฅูู ููุตู ุขุฎุฑุ <br><br>  ุชุญุฏูุฏ ุงููุฒูุฏ ูู ูุงุฌูุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IInputConnector</span></span> : <span class="hljs-title"><span class="hljs-title">IConnector</span></span> { IOutputConnector ConnectedOtherConnector { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br>  IInputConnector ูู ููุตู ุฅุฏุฎุงู ุ ููู ุฑุงุจุท ุฅูู ููุตู ุขุฎุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IOutputConnector</span></span> : <span class="hljs-title"><span class="hljs-title">IConnector</span></span> { IElectricalElement Element { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br>  ูุดูุฑ ููุตู ุงูุฅุฎุฑุงุฌ ุฅูู ุนูุตุฑู ุงูุฐู ุณูุทูุจ ููู ูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IElectricalElement</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span>; }</code> </pre> <br>  ูุฌุจ ุฃู ูุญุชูู ุงูุนูุตุฑ ุงูููุฑุจุงุฆู ุนูู ุทุฑููุฉ ุชูุฑุฌุน ูููุฉ ุนูู ูุงุชุฌ ูุนูู ุ ูุงูุฑูู ูู ุฑูู ุงูุฅุฎุฑุงุฌ. <br><br>  <i>ููุฏ ุฃุทูู ุนูููุง IElectricalElement ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุชููู ูุณุชููุงุช ุงูุฌูุฏ ุงูููุทูู ููุท ุ ูููู ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูููู ุฃู ุชููู ุนูุตุฑูุง ูุง ูุถูู ููุทููุง ุนูู ุงูุฅุทูุงู ุ ููุท ูููู ูููุฉ ุ ูุซู ุงูููุตู.</i> <br><br>  ุงูุขู ุฏุนูุง ููุชูู ุฅูู ุงูุชูููุฐ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">InputConnector</span></span> : <span class="hljs-title"><span class="hljs-title">IInputConnector</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IOutputConnector ConnectedOtherConnector { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ConnectedOtherConnector?.Value ?? <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } }</code> </pre> <br>  ูุฏ ูุง ูุชู ุชูุตูู ุงูููุตู ุงููุงุฑุฏ ุ ููู ูุฐู ุงูุญุงูุฉ ุณูุนูุฏ ุฎุทุฃ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">OutputConnector</span></span> : <span class="hljs-title"><span class="hljs-title">IOutputConnector</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> number; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OutputConnector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number = number; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IElectricalElement Element { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> Value =&gt; Element.GetValue(number); } }</code> </pre> <br>  ูุฌุจ ุฃู ูุญุชูู ุงูุฅุฎุฑุงุฌ ุนูู ุฑุงุจุท ูุนูุตุฑู ูุฑููู ุจุงููุณุจุฉ ููุนูุตุฑ. <br>  ุนูุงูุฉ ุนูู ุฐูู ุ ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุฑูู ุ ูุทูุจ ูููุฉ ูู ุงูุนูุตุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ElectricalElementBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IInputConnector[] Input { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ูุฌููุน ุงูุนูุงุตุฑ ุ ููุท ูุญุชูู ุนูู ูุฌููุนุฉ ูู ุงููุฏุฎูุงุช. <br><br>  ูุซุงู ุนูู ุชูููุฐ ุนูุตุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">And</span></span> : <span class="hljs-title"><span class="hljs-title">ElectricalElementBase</span></span>, <span class="hljs-title"><span class="hljs-title">IElectricalElement</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> outputValue = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input?.Length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { outputValue = Input[<span class="hljs-number"><span class="hljs-number">0</span></span>].Value; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Input) { outputValue &amp;= item.Value; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> outputValue; } }</code> </pre> <br>  ูุนุชูุฏ ุงูุชูููุฐ ููููุง ุนูู ุงูุนูููุงุช ุงูููุทููุฉ ุจุฏูู ุฌุฏูู ุงูุญูููุฉ ุงูุตุนุจ.  ุฑุจูุง ูุง ุชููู ูุงุถุญุฉ ููุง ูู ุงูุญุงู ูุน ุงูุฌุฏูู ุ ููููุง ุณุชููู ูุฑูุฉ ุ ูุณุชุนูู ุนูู ุฃู ุนุฏุฏ ูู ุงููุฏุฎูุงุช. <br>  ุฌููุน ุงูุจูุงุจุงุช ุงูููุทููุฉ ููุง ูุงุชุฌ ูุงุญุฏ ุ ูุจุงูุชุงูู ูุฅู ุงููููุฉ ูู ุงูุฅุฎุฑุงุฌ ูู ุชุนุชูุฏ ุนูู ุฑูู ุงูุฅุฏุฎุงู. <br><br>  ุชุตูุน ุงูุนูุงุตุฑ ุงูููููุจุฉ ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Nand</span></span> : <span class="hljs-title"><span class="hljs-title">And</span></span>, <span class="hljs-title"><span class="hljs-title">IElectricalElement</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> new </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !<span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetValue(number); } }</code> </pre> <br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุฃุณููุจ GetValue ููุง ูุฏ ุชู ุชุฌุงูุฒู ุ ููู ูุชู ุชุฌุงูุฒู ุชูุฑูุจูุง.  ูุชู ุฐูู ุงุณุชูุงุฏูุง ุฅูู ุงูููุทู ุงููุงุฆู ุจุฃูู ุฅุฐุง ูุฌุญ Nand ูู And ุ ูุณูู ูุณุชูุฑ ูู ุงูุชุตุฑู ูุซู ู.  ูุงู ูู ุงููููู ุฃูุถูุง ุชุทุจูู ุงูุชูููู ุ ูููู ูุฐุง ุณูุชุทูุจ ุฑูุฒูุง ุฅุถุงูููุง ุ ููู ูุง ูุง ูุนูู ูู. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุตูุงูุงุช ุงูุชูููุฏูุฉ ุ ุชู ุฅูุดุงุก ุงูุนูุงุตุฑ ุงูุชุงููุฉ: <br>  ูุตุฏุฑ - ูุตุฏุฑ ูููุฉ ุซุงุจุช ูู 0 ุฃู 1. <br>  ููุตู - ููุท ููุณ ุฃู ููุตู ุ ูุฏูู ููุท ุชุทุจูู ูุฎุชูู ููููุง ุ ุงูุธุฑ ุงูุฌูู. <br>  AlwaysFalse - ุฅุฑุฌุงุน ุฏุงุฆููุง 0 ุ ูุทููุจ ูู ุฃุฌู ุงููุถุน ุงูุซุงูู. <br><br><a name="Solver"></a><h4 style=";text-align:right;direction:rtl">  ุญูุงูุง </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุจุนุฏ ุฐูู ุ ููุนุฏ ุงููุตู ูููุฏูุง ูู ุงูุนุซูุฑ ุชููุงุฆููุง ุนูู ุงููุฌููุนุงุช ุงูุชู ุชุนุทู 1 ูู ุฅุฎุฑุงุฌ ุงูุฏุงุฆุฑุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ISolver</span></span> { ICollection&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[]&gt; GetSolutions(IElectricalElement root, <span class="hljs-keyword"><span class="hljs-keyword">params</span></span> Source[] sources); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Solver</span></span> : <span class="hljs-title"><span class="hljs-title">ISolver</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ICollection&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[]&gt; GetSolutions(IElectricalElement root, <span class="hljs-keyword"><span class="hljs-keyword">params</span></span> Source[] sources) { <span class="hljs-comment"><span class="hljs-comment">// max value can be got with this count of bits(sources count), also it's count of combinations -1 // for example 8 bits provide 256 combinations, and max value is 255 int maxValue = Pow(sources.Length); // inputs that can solve circuit var rightInputs = new List&lt;bool[]&gt;(); for (int i = 0; i &lt; maxValue; i++) { var inputs = GetBoolArrayFromInt(i, sources.Length); for (int j = 0; j &lt; sources.Length; j++) { sources[j].Value = inputs[j]; } if (root.GetValue()) { rightInputs.Add(inputs); } } return rightInputs; } private static int Pow(int power) { int x = 2; for (int i = 1; i &lt; power; i++) { x *= 2; } return x; } private static bool[] GetBoolArrayFromInt(int value, int length) { var bitArray = new BitArray(new[] {value}); var boolArray = new bool[length]; for (int i = length - 1; i &gt;= 0; iโ) { boolArray[i] = bitArray[i]; } return boolArray; }</span></span></code> </pre> <br>  ุงูุญููู ูู ุงูููุฉ ุงูุบุงุดูุฉ.  ููุฐุง ุ ูุชู ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ูุงูุชู ูููู ุงูุชุนุจูุฑ ุนููุง ูู ุฎูุงู ูุฌููุนุฉ ูู ุงูุจุชุงุช ุจูุจูุบ ูุณุงูู ุนุฏุฏ ุงููุตุงุฏุฑ.  ููุฐุง ูู ุ 4 ูุตุงุฏุฑ = 4 ุจุช = ุงูุนุฏุฏ ุงูุฃูุตู 15. ูุญู ูุฑุฒ ูู ุฎูุงู ุฌููุน ุงูุฃุฑูุงู ูู 0 ุฅูู 15. <br><br><a name="ElementsProvider"></a><h4 style=";text-align:right;direction:rtl">  ElementsProvider </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ูุชูููุฑ ุงูุฑุงุญุฉ ููุฌูู ุ ูุฑุฑุช ุชุญุฏูุฏ ุฑูู ููู ุนูุตุฑ ุ ูููููุงู ุจุฐูู ุ ููุช ุจุฅูุดุงุก ูุฆุฉ ElementsProvider ูุน ูุงุฌูุฉ IElementsProvider. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IElementsProvider</span></span> { IList&lt;Func&lt;IElectricalElement&gt;&gt; Gates { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } IList&lt;Func&lt;IElectricalElement&gt;&gt; Conductors { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } IList&lt;ElectricalElementType&gt; GateTypes { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } IList&lt;ElectricalElementType&gt; ConductorTypes { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ElementsProvider</span></span> : <span class="hljs-title"><span class="hljs-title">IElementsProvider</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IList&lt;Func&lt;IElectricalElement&gt;&gt; Gates { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Func&lt;IElectricalElement&gt;&gt; { () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> And(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Nand(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Or(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Nor(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Xor(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Xnor() }; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IList&lt;Func&lt;IElectricalElement&gt;&gt; Conductors { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Func&lt;IElectricalElement&gt;&gt; { () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Conductor(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Not() }; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IList&lt;ElectricalElementType&gt; GateTypes { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ElectricalElementType&gt; { ElectricalElementType.And, ElectricalElementType.Nand, ElectricalElementType.Or, ElectricalElementType.Nor, ElectricalElementType.Xor, ElectricalElementType.Xnor }; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IList&lt;ElectricalElementType&gt; ConductorTypes { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ElectricalElementType&gt; { ElectricalElementType.Conductor, ElectricalElementType.Not }; }</code> </pre> <br>  ุฃูู ูุงุฆูุชูู ูุดุจูุงู ุงููุตุงูุน ุงูุชู ุชุนุทู ุนูุตุฑูุง ูู ุงูุฑูู ุงููุญุฏุฏ.  ุขุฎุฑ ูุงุฆูุชูู ููุง ุนูุงุฒ ูุฌุจ ุงุณุชุฎุฏุงูู ูุธุฑูุง ูููุฒุงุช ุงููุญุฏุฉ.  ุญูู ูุฐุง ุงูููุถูุน ูุฐูู. <br><br><a name="CircuitGenerator"></a><h4 style=";text-align:right;direction:rtl">  CircuitGenerator </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุงูุขู ุงูุฌุฒุก ุงูุฃุตุนุจ ูู ุงูุชุทููุฑ ูู ุชูููุฏ ุงูุฏูุงุฆุฑ. <br><br>  ุชุชูุซู ุงููููุฉ ูู ุฅูุดุงุก ูุงุฆูุฉ ุจุงููุฎุทุทุงุช ุงูุชู ููููู ูููุง ุชุญุฏูุฏ ุงููุฎุทุท ุงูุฐู ุชุฑูุฏู ูู ุงููุญุฑุฑ.  ููุงู ุญุงุฌุฉ ุฅูู ุฌูู ููุท ููุตูุงูุงุช ุจุณูุทุฉ. <br><br>  ูุชู ุชุนููู ูุนููุงุช ูุนููุฉ ูููุฎุทุท ุ ููู: ุนุฏุฏ ุงูุทุจูุงุช (ุงูุฎุทูุท ุงูุฃูููุฉ ููุนูุงุตุฑ) ูุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุทุจูุฉ.  ูู ุงูุถุฑูุฑู ุฃูุถูุง ุชุญุฏูุฏ ุงูุจูุงุจุงุช ุงูุชู ุชุญุชุงุฌูุง ูุฅูุดุงุก ุฏูุงุฆุฑ. <br><br>  ูุงู ููุงูู ูู ุชูุณูู ุงููููุฉ ุฅูู ุฌุฒุฃูู - ุฅูุดุงุก ุงููููู ูุงุฎุชูุงุฑ ุงูุฎูุงุฑุงุช. <br><br>  ูุญุฏุฏ ูููุดุฆ ุงูุจููุฉ ููุงูุน ููุตูุงุช ุงูุนูุงุตุฑ ุงูููุทููุฉ. <br>  ูุญุฏุฏ ุงููููุฏ ุงูุจุฏูู ูุฌููุนุงุช ุตุงูุญุฉ ูู ุงูุนูุงุตุฑ ูู ุงูููุงุถุน. <br><br><h4 style=";text-align:right;direction:rtl">  StructureGenerator </h4><br>  ูุชููู ุงููููู ูู ุทุจูุงุช ูู ุนูุงุตุฑ ุงูููุทู ูุทุจูุงุช ุงูููุตูุงุช / ุงููุญููุงุช.  ุงููููู ููู ูุง ูุญุชูู ุนูู ุนูุงุตุฑ ุญููููุฉ ูููู ุญุงููุงุช ููู. <br><br>  ุงูุญุงููุฉ ุนุจุงุฑุฉ ุนู ูุฆุฉ ููุฑูุซุฉ ูู IElectricalElement ุ ูุงูุชู ุชุญุชูู ุฏุงุฎููุง ุนูู ูุงุฆูุฉ ุจุงูุนูุงุตุฑ ุงูุตุงูุญุฉ ููููู ุงูุชุจุฏูู ุจูููุง.  ูู ุนูุตุฑ ูู ุฑููู ุงูุฎุงุต ูู ุงููุงุฆูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">ElectricalElementContainer : ElectricalElementBase, IElectricalElement</code> </pre> <br><br>  ูููู ููุญุงููุฉ ุฃู ุชุถุจุท "ููุณูุง" ุนูู ุฃุญุฏ ุงูุนูุงุตุฑ ูู ุงููุงุฆูุฉ.  ุฃุซูุงุก ุงูุชููุฆุฉ ุ ูุฌุจ ุฃู ุชุนุทูู ูุงุฆูุฉ ุจุงููููุถูู ุงูุฐูู ุณูููููู ุจุฅูุดุงุก ุงูุนูุงุตุฑ.  ูู ุงูุฏุงุฎู ุ ูุณุชุฏุนู ูู ููุฏูุจ ููุญุตู ุนูู ุงูุนูุตุฑ.  ุจุนุฏ ุฐูู ููููู ุถุจุท ููุน ูุญุฏุฏ ูู ูุฐุง ุงูุนูุตุฑ ุ ููุฐุง ูุฑุจุท ุงูุนูุตุฑ ุงูุฏุงุฎูู ุจููุณ ุงููุฏุฎูุงุช ููุง ูู ุงูุญุงููุฉ ูุณูุชู ุฅุฎุฑุงุฌ ุงููุฎุฑุฌ ูู ุงูุญุงููุฉ ูู ุฅุฎุฑุงุฌ ูุฐุง ุงูุนูุตุฑ. <br><br><img src="https://habrastorage.org/webt/wq/kt/bn/wqktbn6x7esbfnqxkuwh606qvqa.png"><br><br>  ุทุฑููุฉ ูุฅุนุฏุงุฏ ูุงุฆูุฉ ุงูุนูุงุตุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetElements</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IList&lt;Func&lt;IElectricalElement&gt;&gt; elements</span></span></span><span class="hljs-function">)</span></span> { Elements = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;IElectricalElement&gt;(elements.Count); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> elements) { Elements.Add(item()); } }</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ููููู ุถุจุท ุงูููุน ุจูุฐู ุงูุทุฑููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isInitialized == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException(UnitializedElementsExceptionMessage); } SelectedType = number; RealElement = Elements[number]; ((ElectricalElementBase) RealElement).Input = Input; }</code> </pre> <br>  ุจุนุฏ ุฐูู ุณูู ูุนูู ูุจูุฏ ูุญุฏุฏ. <br><br>  ุชู ุฅูุดุงุก ุงููููู ุงูุชุงูู ููุฏุงุฆุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CircuitStructure</span></span> : <span class="hljs-title"><span class="hljs-title">ICloneable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, ElectricalElementContainer[]&gt; Gates; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, ElectricalElementContainer[]&gt; Conductors; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Source[] Sources; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> And FinalDevice; }</code> </pre> <br>  ุชุฎุฒู ุงูููุงููุณ ููุง ุฑูู ุงูุทุจูุฉ ูู ุงูููุชุงุญ ููุฌููุนุฉ ูู ุงูุญุงููุงุช ููุฐู ุงูุทุจูุฉ.  ุงูุชุงูู ูู ูุฌููุนุฉ ูู ุงููุตุงุฏุฑ ู FinalDevice ูุงุญุฏ ุงูุฐู ูุฑุชุจุท ูู ุดูุก. <br><br>  ูุจุงูุชุงูู ูุฅู ุงููููุฏ ุงูููููู ูุฎูู ุงูุญุงููุงุช ููุฑุจุทูุง ุจุจุนุถูุง ุงูุจุนุถ.  ูุชู ุฅูุดุงุก ูู ุฐูู ูู ุทุจูุงุช ุ ูู ุงูุฃุณูู ุฅูู ุงูุฃุนูู.  ุงููุงุน ูู ุงูุฃูุณุน (ูุนุธู ุงูุนูุงุตุฑ).  ุชุญุชูู ุงูุทุจูุฉ ุฃุนูุงู ุนูู ุนูุงุตุฑ ุฃูู ุจูุฑุชูู ูููุฐุง ุญุชู ูุตู ุฅูู ุงูุญุฏ ุงูุฃุฏูู.  ูุชู ุชูุตูู ูุฎุฑุฌุงุช ุฌููุน ุนูุงุตุฑ ุงูุทุจูุฉ ุงูุนููุง ุจุงูุฌูุงุฒ ุงูููุงุฆู. <br><br>  ุชุญุชูู ุทุจูุฉ ุงูุนูุตุฑ ุงูููุทูู ุนูู ุญุงููุงุช ููุจูุงุจุงุช.  ูู ุทุจูุฉ ุงูููุตูุงุช ุชูุฌุฏ ุนูุงุตุฑ ุฐุงุช ูุฏุฎู ูุงุญุฏ ู ูุฎุฑุฌ.  ูููู ุฃู ูููู ููุงู ุนูุงุตุฑ ุฅูุง ููุตู ุฃู ุนูุตุฑ NO.  ูููู ุงูููุตู ุจุชูุฑูุฑ ูุง ุฌุงุก ุฅูู ุงููุฎุฑุฌุงุช ุ ููููู ุนูุตุฑ NO ุจุฅุฑุฌุงุน ุงููููุฉ ุงูููููุจุฉ ูู ุงูุฅุฎุฑุงุฌ. <br><br>  ุฃูู ูู ุฎูู ูุฌููุนุฉ ูู ุงููุตุงุฏุฑ.  ูุญุฏุซ ุงูุฌูู ูู ุฃุณูู ุฅูู ุฃุนูู ุ ูุชู ุฅูุดุงุก ุทุจูุฉ ุงูููุตูุงุช ุฃููุงู ุ ุซู ุทุจูุฉ ุงูููุทู ุ ูุนูุฏ ุฅุฎุฑุงุฌูุง ูุฑุฉ ุฃุฎุฑู ุงูููุตูุงุช. <br><br><img src="https://habrastorage.org/webt/pq/bj/hs/pqbjhsbn3xxxi6r6wosryczrdjc.png"><br><br>  ููู ูุซู ูุฐู ุงููุฎุทุทุงุช ูููุฉ ููุบุงูุฉ!  ููุฏ ุฃุฑุฏูุง ุชุจุณูุท ุญูุงุชูุง ุจุดูู ุฃูุจุฑ ููุฑุฑูุง ุฃู ูุฌุนู ุงูููุงูู ุงูุชู ุชู ุฅูุดุงุคูุง ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู (ูุนูุฏุฉ) ุ ููุฏ ุชูุฑุฑ ุฅุถุงูุฉ ุชุนุฏููุงุช ุงููููู ูุน ุงููุชูุฑุนุฉ ุฃู ุงูุงุชุตุงู ุนุจุฑ ุงูุนุฏูุฏ ูู ุงูุทุจูุงุช. <br><br>  ุญุณููุง ุ ูููู "ูุจุณุท" - ูุฐุง ูุนูู ุชุนููุฏ ุญูุงุชู ูู ุดูุก ุขุฎุฑ. <br>  ููุฏ ุฃุตุจุญ ุฅูุดุงุก ุฏูุงุฆุฑ ุจุฃูุตู ูุณุชูู ูู ูุงุจููุฉ ุงูุชุนุฏูู ูููุฉ ุดุงูุฉ ูููุณุช ุนูููุฉ ููุบุงูุฉ.  ูุฐูู ุ ูุฑุฑ ูุฑูููุง ุงูููุงู ุจูุง ููู ุจูุฐู ุงููุนุงููุฑ: <br>  ุชุทููุฑ ูุฐู ุงููููุฉ ูู ูุณุชุบุฑู ุงููุซูุฑ ูู ุงูููุช. <br>  ุฃูุซุฑ ุฃู ุฃูู ุฌูู ูุงููุฉ ูู ุงูููุงูู ุงููุนุฏูุฉ. <br>  ูู ุชูู ููุงู ุงูุชูุงุทุนุงุช ุจูู ุงูููุตูุงุช. <br>  ูุชูุฌุฉ ูุจุฑูุฌุฉ ุทูููุฉ ูุดุงูุฉ ุ ุชูุช ูุชุงุจุฉ ุงูุญู ูู ุงูุณุงุนุฉ 4 ุจุนุฏ ุงูุธูุฑ. <br>  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูููุฏ ู ฬถฬถฬถฬถฬถฬถฬถฬถฬถฬถ. <br><br>  <i>ููุง ุชุชู ููุงุฌูุฉ ูุฆุฉ OverflowArray.</i>  <i>ูุฃุณุจุงุจ ุชุงุฑูุฎูุฉ ุ ุชูุช ุฅุถุงูุชู ุจุนุฏ ุงูุฌูู ุงูููููู ุงูุฃุณุงุณู ููู ุนูุงูุฉ ุฃูุซุฑ ุจุงูุฌูู ุงูุจุฏูู ุ ูุฐูู ููุฌุฏ ุฃุฏูุงู.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุงุฑุชุจุงุท</a> .</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerable&lt;CircuitStructure&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GenerateStructure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lines, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxElementsInLine, StructureModification modification</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> baseStructure = GenerateStructure(lines, maxElementsInLine); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; lines; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxValue = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> branchingSign = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modification == StructureModification.All) { maxValue = <span class="hljs-number"><span class="hljs-number">2</span></span>; branchingSign = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lengthOverflowArray = baseStructure.Gates[(i * <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>].Length; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elementArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OverflowArray(lengthOverflowArray, maxValue); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> numberOfOption = Math.Pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, lengthOverflowArray); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = <span class="hljs-number"><span class="hljs-number">1</span></span>; k &lt; numberOfOption - <span class="hljs-number"><span class="hljs-number">1</span></span>; k++) { elementArray.Increase(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modification == StructureModification.Branching || modification == StructureModification.All) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!CheckOverflowArrayForAllConnection(elementArray, branchingSign, lengthOverflowArray)) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } } <span class="hljs-comment"><span class="hljs-comment">// Clone CircuitStructure var structure = (CircuitStructure) baseStructure.Clone(); ConfigureInputs(lines, structure.Conductors, structure.Gates); var sources = AddSourcesLayer(structure.Conductors, maxElementsInLine); var finalElement = AddFinalElement(structure.Conductors); structure.Sources = sources; structure.FinalDevice = finalElement; int key = (i * 2) + 1; ModifyStructure(structure, elementArray, key, modification); ClearStructure(structure); yield return structure; } } }</span></span></code> </pre> <br>  ุจุนุฏ ุนุฑุถ ูุฐุง ุงูุฑูุฒ ุ ุฃูุฏ ุฃู ุฃููู ูุง ูุญุฏุซ ููู. <br>  ูุง ุชููู!  ุดุฑุญ ููุฌุฒ ุฏูู ุชูุงุตูู ูุณุฑุน ูู. <br><br>  ุฃูู ุดูุก ููุนูู ูู ุฅูุดุงุก ูููู (ุฃุณุงุณู) ุนุงุฏู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> baseStructure = GenerateStructure(lines, maxElementsInLine);</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูุชูุฌุฉ ููุญุต ุจุณูุท ุ ูููุง ุจุชุนููู ุนูุงูุฉ ุงูุชูุฑุน (branchingSign) ุนูู ุงููููุฉ ุงูููุงุณุจุฉ ุ ููุงุฐุง ูุฐุง ุถุฑูุฑูุ  ูุฐูู ุณูููู ูุงุถุญุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxValue = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> branchingSign = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modification == StructureModification.All) { maxValue = <span class="hljs-number"><span class="hljs-number">2</span></span>; branchingSign = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> <br>  ุงูุขู ูุญู ูุญุฏุฏ ุทูู OverflowArray ูุฏููุง ูุชููุฆุชู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lengthOverflowArray = baseStructure.Gates[(i * <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>].Length; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elementArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OverflowArray(lengthOverflowArray, maxValue);</code> </pre> <br>  ููู ูุชููู ูู ูุชุงุจุนุฉ ุนูููุงุชูุง ูุน ุงูุจููุฉ ุ ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุนุฏุฏ ุงูุงุฎุชูุงูุงุช ุงููุญุชููุฉ ูู OverflowArray.  ููููุงู ุจุฐูู ุ ููุงู ุตูุบุฉ ุชู ุชุทุจูููุง ุนูู ุงูุณุทุฑ ุงูุชุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lengthOverflowArray = baseStructure.Gates[(i * <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>].Length;</code> </pre> <br>  ุงูุชุงูู ูู ุญููุฉ ูุชุฏุงุฎูุฉ ูุญุฏุซ ูููุง ูู "ุงูุณุญุฑ" ูุงูุชู ูุงู ููุง ูู ูุฐู ุงูููุฏูุฉ ุ ูู ุงูุจุฏุงูุฉ ุ ูุฒูุฏ ููู ุตููููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">elementArray.Increase();</code> </pre><br>  ุจุนุฏ ุฐูู ุ ูุฑู ุงูุชุญูู ูู ุงูุตุญุฉ ุ ููุชูุฌุฉ ูุฐูู ูุฐูุจ ุฅูู ุฃุจุนุฏ ูู ุฐูู ุฃู ุงูุชูุฑุงุฑ ุงูุชุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modification == StructureModification.Branching || modification == StructureModification.All) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!CheckOverflowArrayForAllConnection(elementArray, branchingSign, lengthOverflowArray)) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } }</code> </pre><br>  ุฅุฐุง ูุฌุญุช ุงููุตูููุฉ ูู ุงูุชุญูู ูู ุงูุตุญุฉ ุ ูุณูููู ุจุงุณุชูุณุงุฎ ูููููุง ุงูุฃุณุงุณู.  ููุงู ุญุงุฌุฉ ุฅูู ุงูุงุณุชูุณุงุฎ ุญูุซ ุณูููู ุจุชุนุฏูู ูููููุง ููุนุฏูุฏ ูู ุงูุชูุฑุงุฑุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// Clone CircuitStructure var structure = (CircuitStructure) baseStructure.Clone(); ConfigureInputs(lines, structure.Conductors, structure.Gates); var sources = AddSourcesLayer(structure.Conductors, maxElementsInLine); var finalElement = AddFinalElement(structure.Conductors); structure.Sources = sources; structure.FinalDevice = finalElement;</span></span></code> </pre> <br>  ูุฃุฎูุฑุงู ุ ูุจุฏุฃ ูู ุชุนุฏูู ุงููููู ูุชูุธููู ูู ุงูุนูุงุตุฑ ุบูุฑ ุงูุถุฑูุฑูุฉ.  ุฃุตุจุญุช ุบูุฑ ุถุฑูุฑูุฉ ูุชูุฌุฉ ุงูุชุนุฏูู ุงูููููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">ModifyStructure(structure, elementArray, key, modification); ClearStructure(structure);</code> </pre> <br>  ูุง ุฃุฑู ุงูููุทุฉ ุจูุฒูุฏ ูู ุงูุชูุตูู ูุชุญููู ุงูุนุดุฑุงุช ูู ุงููุธุงุฆู ุงูุตุบูุฑุฉ ุงูุชู ูุชู ุชูููุฐูุง "ูู ููุงู ูุง" ูู ุงูุฃุนูุงู. <br><br><h4 style=";text-align:right;direction:rtl">  VariantsGenerator </h4><br>  ุชุณูู ุงูุนูุงุตุฑ + ูููู ุงูุชู ูุฌุจ ุฃู ูููู ููู CircuitVariant. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> CircuitVariant { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CircuitStructure Structure; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt; Gates; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt; Conductors; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IList&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[]&gt; Solutions; }</code> </pre> <br>  ุงูุญูู ุงูุฃูู ูู ุฑุงุจุท ูููููู.  ุงูููุงููุณ ุงูุซุงููุงู ุญูุซ ูููู ุงูููุชุงุญ ูู ุฑูู ุงูุทุจูุฉ ุ ูุงููููุฉ ุนุจุงุฑุฉ ุนู ุตููู ูุญุชูู ุนูู ุฃุฑูุงู ุงูุนูุงุตุฑ ูู ุฃูุงูููู ูู ุงููููู. <br><br>  ููุชูู ุฅูู ุงุฎุชูุงุฑ ูุฌููุนุงุช.  ูููููุง ุงูุญุตูู ุนูู ุนุฏุฏ ูุนูู ูู ุงูุนูุงุตุฑ ุงูููุทููุฉ ูุงูููุตูุงุช ุงูุตุงูุญุฉ.  ูู ุงููุฌููุน ุ ูููู ุฃู ูููู ููุงู 6 ุนูุงุตุฑ ุงูููุทู ู 2 ุงูููุตูุงุช. <br>  ููููู ุชุฎูู ูุธุงู ุฃุฑูุงู ุจูุงุนุฏุฉ 6 ูุงูุญุตูู ุนูู ุงูุฃุฑูุงู ุงูุชู ุชุชูุงูู ูุน ุงูุนูุงุตุฑ ูู ูู ูุฆุฉ.  ูุจุงูุชุงูู ุ ูู ุฎูุงู ุฒูุงุฏุฉ ูุฐุง ุงูุฑูู ุงูุณุฏุงุณู ุนุดุฑ ุ ููููู ุชุตูุญ ุฌููุน ูุฌููุนุงุช ุงูุนูุงุตุฑ. <br><br>  ุฃู ุฃู ุงูุฑูู ุงูุณุฏุงุณู ุนุดุฑ ุงููููู ูู ุซูุงุซุฉ ุฃุฑูุงู ุณูููู 3 ุนูุงุตุฑ.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ููุท ุฅูู ุฃูู ูููู ุฅุฑุณุงู ุนุฏุฏ ุงูุนูุงุตุฑ ูุง 6 ูููู 4. <br><br>  ูุฃุฏุงุก ูุซู ูุฐุง ุงูุฑูู ุ ููุฏ ุญุฏุฏุช ุงููููู <br><a name="ClampedInt"></a><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> ClampedInt { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = Mathf.Clamp(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, MaxValue); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MaxValue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ClampedInt</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxValue</span></span></span><span class="hljs-function">)</span></span> { MaxValue = maxValue; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryIncrease</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Value + <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;= MaxValue) { Value++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// overflow return true; } }</span></span></code> </pre> <br><a name="OverflowArray"></a><br>  ุงูุชุงูู ูู ูุฆุฉ ุชุญูู ุงุณููุง ุบุฑูุจูุง <b>OverflowArray</b> .  ุฌููุฑูุง ุฃูู ูุฎุฒู ุตููู <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ClampedInt</a></b> ููุฒูุฏ ุงูุชุฑุชูุจ ุงูุนุงูู ูู ุญุงูุฉ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุฏูุซ</a></b> ุชุฌุงูุฒ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู</a></b> ุงูุชุฑุชูุจ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุฎูุถ</a></b> ูููุฐุง ุญุชู ูุตู ุฅูู ุงูุญุฏ ุงูุฃูุตู ูููููุฉ ูู ุฌููุน ุงูุฎูุงูุง. <br><br>  ููููุง ููู ClampedInt ุ ูุชู ุชุนููู ููู ElectricalElementContainer ุงูููุงุจูุฉ.  ูุจุงูุชุงูู ุ ููู ุงููููู ุงููุฑุฒ ูู ุฎูุงู ุฌููุน ุงููุฌููุนุงุช ุงูููููุฉ.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุฅุฐุง ููุช ุชุฑูุฏ ุฅูุดุงุก ูุฎุทุท ุจุนูุงุตุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ู (0) ู Xor (4)) ุ ููู ุชุญุชุงุฌ ุฅูู ูุฑุฒ ุฌููุน ุงูุฎูุงุฑุงุช ุ ุจูุง ูู ุฐูู ุงูุนูุงุตุฑ 1ุ2ุ3.  ููุฐุง ุ ุฃุซูุงุก ุงูุชูููุฏ ุ ุชุญุตู ุงูุนูุงุตุฑ ุนูู ุฃุฑูุงููุง ุงููุญููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ = 0 ุ Xor = 1) ุ ูุจุนุฏ ุฐูู ูุชู ุชุญููููุง ูุฑุฉ ุฃุฎุฑู ุฅูู ุฃุฑูุงู ุนููููุฉ. <br><br>  ุญุชู ุชุชููู ูู ุงูุชูุฑุงุฑ ุนูู ุฌููุน ุงููุฌููุนุงุช ุงูููููุฉ ูู ุฌููุน ุงูุนูุงุตุฑ. <br><br>  ุจุนุฏ ุถุจุท ุงูููู ุงูููุฌูุฏุฉ ูู ุงูุญุงููุงุช ุ ูุชู ูุญุต ุงูุฏุงุฆุฑุฉ ุจุญุซูุง ุนู ุญููู ููุง ุจุงุณุชุฎุฏุงู <b>Solver</b> .  ุฅุฐุง ูุฑุช ุงูุฏุงุฆุฑุฉ ุนูู ุงููุฑุงุฑ ุ ูุณุชุนูุฏ. <br><br>  ุจุนุฏ ุฅูุดุงุก ุงูุฏุงุฆุฑุฉ ุ ูุชู ูุญุต ุนุฏุฏ ุงูุญููู.  ูุฌุจ ุฃูุง ูุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ ุจู ููุฌุจ ุฃูุง ูููู ูู ูุฑุงุฑุงุช ุชุชููู ุจุงููุงูู ูู 0 ุฃู 1. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุซูุฑ ูู ุงูููุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IVariantsGenerator</span></span> { <span class="hljs-function"><span class="hljs-function">IEnumerable&lt;CircuitVariant&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IEnumerable&lt;CircuitStructure&gt; structures, ICollection&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; availableGates, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useNot, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxSolutions = </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">.MaxValue</span></span></span><span class="hljs-function">)</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">VariantsGenerator</span></span> : <span class="hljs-title"><span class="hljs-title">IVariantsGenerator</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> ISolver solver; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IElementsProvider elementsProvider; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VariantsGenerator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ISolver solver, IElementsProvider elementsProvider</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.solver = solver; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementsProvider = elementsProvider; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerable&lt;CircuitVariant&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IEnumerable&lt;CircuitStructure&gt; structures, ICollection&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; availableGates, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useNot, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxSolutions = </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">.MaxValue</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> manyGates = availableGates.Count &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> availableLeToGeneralNumber = GetDictionaryFromAllowedElements(elementsProvider.Gates, availableGates); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gatesList = GetElementsList(availableLeToGeneralNumber, elementsProvider.Gates); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> availableConductorToGeneralNumber = useNot ? GetDictionaryFromAllowedElements(elementsProvider.Conductors, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>}) : GetDictionaryFromAllowedElements(elementsProvider.Conductors, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span>[] {<span class="hljs-number"><span class="hljs-number">0</span></span>}); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conductorsList = GetElementsList(availableConductorToGeneralNumber, elementsProvider.Conductors); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> structure <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> structures) { InitializeCircuitStructure(structure, gatesList, conductorsList); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gates = GetListFromLayersDictionary(structure.Gates); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conductors = GetListFromLayersDictionary(structure.Conductors); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gatesArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OverflowArray(gates.Count, availableGates.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conductorsArray = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OverflowArray(conductors.Count, useNot ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (useNot &amp;&amp; conductorsArray.EqualInts) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } SetContainerValuesAccordingToArray(conductors, conductorsArray); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (manyGates &amp;&amp; gatesArray.Length &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; gatesArray.EqualInts) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } SetContainerValuesAccordingToArray(gates, gatesArray); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> solutions = solver.GetSolutions(structure.FinalDevice, structure.Sources); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (solutions.Any() &amp;&amp; solutions.Count &lt;= maxSolutions &amp;&amp; !(solutions.Any(s =&gt; s.All(b =&gt; b)) || solutions.Any(s =&gt; s.All(b =&gt; !b)))) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variant = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CircuitVariant { Conductors = GetElementsNumberFromLayers(structure.Conductors, availableConductorToGeneralNumber), Gates = GetElementsNumberFromLayers(structure.Gates, availableLeToGeneralNumber), Solutions = solutions, Structure = structure }; <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> variant; } } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!gatesArray.Increase()); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (useNot &amp;&amp; !conductorsArray.Increase()); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitializeCircuitStructure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">CircuitStructure structure, IList&lt;Func&lt;IElectricalElement&gt;&gt; gates, IList&lt;Func&lt;IElectricalElement&gt;&gt; conductors</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lElements = GetListFromLayersDictionary(structure.Gates); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> lElements) { item.SetElements(gates); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cElements = GetListFromLayersDictionary(structure.Conductors); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> cElements) { item.SetElements(conductors); } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> IList&lt;Func&lt;IElectricalElement&gt;&gt; GetElementsList(IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; availableToGeneralGate, IReadOnlyList&lt;Func&lt;IElectricalElement&gt;&gt; elements) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Func&lt;IElectricalElement&gt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> availableToGeneralGate) { list.Add(elements[item.Value]); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> list; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IDictionary&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">, </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDictionaryFromAllowedElements</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IReadOnlyCollection&lt;Func&lt;IElectricalElement&gt;&gt; allElements, IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; availableElements</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> enabledDic = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(allElements.Count); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; allElements.Count; i++) { enabledDic.Add(i, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> availableElements) { enabledDic[item] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> availableToGeneralNumber = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enabledDic) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item.Value) { availableToGeneralNumber.Add(index, item.Key); index++; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> availableToGeneralNumber; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetContainerValuesAccordingToArray</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IReadOnlyList&lt;ElectricalElementContainer&gt; containers, IOverflowArray overflowArray</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; containers.Count; i++) { containers[i].SetType(overflowArray[i].Value); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IReadOnlyList&lt;ElectricalElementContainer&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetListFromLayersDictionary</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IDictionary&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, ElectricalElementContainer[]&gt; layers</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elements = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;ElectricalElementContainer&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> layer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> layers) { elements.AddRange(layer.Value); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> elements; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt; GetElementsNumberFromLayers(IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, ElectricalElementContainer[]&gt; layers, IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; elementIdToGlobal = <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dic = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt;(layers.Count); <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> convert = elementIdToGlobal != <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> layer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> layers) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> values = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[layer.Value.Length]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; layer.Value.Length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!convert) { values[i] = layer.Value[i].SelectedType; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { values[i] = elementIdToGlobal[layer.Value[i].SelectedType]; } } dic.Add(layer.Key, values); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dic; } }</code> </pre> <br></div></div><br>  ุฅุฑุฌุงุน ูู ูู ุงููููุฏุงุช ูุชุบูุฑ ุจุงุณุชุฎุฏุงู ุนุจุงุฑุฉ ุงูุนุงุฆุฏ.  ูุจุงูุชุงูู ุ ูุฅู CircuitGenerator ุจุงุณุชุฎุฏุงู StructureGenerator ู VariantsGenerator ูููุฏ IEnumerable. (ุณุงุนุฏ ุงูููุฌ ูุน ุงูุนุงุฆุฏ ุงููุซูุฑ ูู ุงููุณุชูุจู ุ ุงูุธุฑ ุฃุฏูุงู) <br><br>  ูุชุจุน ูู ุญูููุฉ ุฃู ูููุฏ ุงูุฎูุงุฑุงุช ูุชููู ูุงุฆูุฉ ุงูููุงูู.  ููููู ุฅูุดุงุก ุฎูุงุฑุงุช ููู ูููู ุจุดูู ูุณุชูู.  ูููู ุฃู ูููู ูุฐุง ูุชูุงุฒูุงู ุ ููู ุฅุถุงูุฉ AsParallel ูู ุชูุฌุญ (ุฑุจูุง ุชุคุฏู ุฅูู ุชุฏุงุฎู).  ุณูููู ุงูุชูุงุฒู ูุฏูููุง ููุชูุง ุทููููุง ุ ูุฃููุง ูุชุฌุงูู ูุฐุง ุงูุฎูุงุฑ.  <i>ูู ุงููุงูุน ุ ุญุงููุช ุฃู ุฃูุนู ุงูุฌูู ุงูููุงุฒู ุ ููุฏ ูุฌุญุช ุ ููู ูุงูุช ููุงู ุจุนุถ ุงูุตุนูุจุงุช ุ ูุฃููุง ูู ุชุฐูุจ ุฅูู ุงููุณุชูุฏุน.</i> <br><br><a name="GameClasses"></a><h3 style=";text-align:right;direction:rtl">  ูุตูู ุงููุนุจุฉ </h3><br><a name="Approach"></a><h4 style=";text-align:right;direction:rtl">  ููุฌ ุงูุชูููุฉ ู DI </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุชูู</a> <br><br>  ุชู ุจูุงุก ุงููุดุฑูุน ุชุญุช <b>Dependency Injection</b> (DI).  ูุฐุง ูุนูู ุฃู ุงููุฆุงุช ูููููุง ุจุจุณุงุทุฉ ุฃู ุชุทูุจ ูู ููุณูุง ููุนูุง ูู ุงููุงุฆูุงุช ุงููุทุงุจูุฉ ูููุงุฌูุฉ ูุนุฏู ุงููุดุงุฑูุฉ ูู ุฅูุดุงุก ูุฐุง ุงููุงุฆู.  ูุง ูู ุงูููุงุฆุฏ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุชุนุฑูู ููุงู ุชูููู ูุชููุฆุฉ ูุงุฆู ุงูุชุจุนูุฉ ูู ููุงู ูุงุญุฏ ูููุตููุง ุนู ููุทู ุงููุฆุงุช ุงูุชุงุจุนุฉ ุ ููุง ูุฒูู ุงุฒุฏูุงุฌูุฉ ุงูููุฏ. </li><li style=";text-align:right;direction:rtl">  ููุบู ุงูุญุงุฌุฉ ูุงุณุชุฎุฑุงุฌ ุดุฌุฑุฉ ุงูุชุจุนูุฉ ุจุฃููููุง ูุงูุจุฏุก ูู ุฅูุดุงุก ูู ุงูุชุจุนูุงุช. </li><li style=";text-align:right;direction:rtl">  ูุชูุญ ูู ุจุณูููุฉ ุชุบููุฑ ุชุทุจูู ุงููุงุฌูุฉ ุ ูุงูุฐู ูุชู ุงุณุชุฎุฏุงูู ูู ุงูุนุฏูุฏ ูู ุงูุฃูุงูู. </li></ul><br>  ูุญุงููุฉ DI ูู ุงููุดุฑูุน ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://github.com/modesttree/Zenject">ูุชู</a> ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://github.com/modesttree/Zenject">Zenject</a> . <br><br>  ูุญุชูู Zenject ุนูู ุงูุนุฏูุฏ ูู ุงูุณูุงูุงุช ุ ูุฃูุง ุฃุณุชุฎุฏู ุงุซููู ููุท ูููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณูุงู ุงููุดุฑูุน - ุชุณุฌูู ุงูุชุจุนูุงุช ุฏุงุฎู ุงูุชุทุจูู ุจุฃูููู. </li><li style=";text-align:right;direction:rtl">  ุณูุงู ุงููุดูุฏ: ุชุณุฌูู ุงููุตูู ุงูููุฌูุฏุฉ ููุท ูู ูุดูุฏ ูุนูู ูุนูุฑูุง ูุญุฏูุฏ ุจูุชุฑุฉ ุญูุงุฉ ุงููุดูุฏ. </li><li style=";text-align:right;direction:rtl">  ุงูุณูุงู ุงูุซุงุจุช ูู ุณูุงู ุนุงู ููู ุดูุก ุจุดูู ุนุงู ุ ูุงูุฎุตูุตูุฉ ูู ุฃูู ููุฌูุฏ ูู ุงููุญุฑุฑ.  ูููููู ุงุณุชุฎุฏุงููุง ููุญูู ูู ุงููุญุฑุฑ </li></ul><br>  ูุชู ุชุฎุฒูู ุชุณุฌูู ุงููุฆุฉ ูู <b>ุงููุซุจุช</b> .  ูููููู ุงุณุชุฎุฏุงู <b>ScriptableObjectInstaller</b> ูุณูุงู ุงููุดุฑูุน ุ ู <b>MonoInstaller</b> ูุณูุงู ุงููุดูุฏ. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุธู ุงููุฆุงุช ุงูุชู ุฃุณุฌููุง ูู AsSingle ุ ูุธุฑูุง ูุฃููุง ูุง ุชุญุชูู ุนูู ุญุงูุฉ ุ ูู ุงูุฃุฑุฌุญ ุฃู ุชููู ูุฌุฑุฏ ุญุงููุงุช ููุทุฑู. ูููููู ุงุณุชุฎุฏุงู AsTransient ูููุฆุงุช ุญูุซ ุชูุฌุฏ ุญุงูุฉ ุฏุงุฎููุฉ ูุง ููุจุบู ุฃู ุชููู ุดุงุฆุนุฉ ูู ุงููุฆุงุช ุงูุฃุฎุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุฆุงุช MonoBehaviour ุจุทุฑููุฉ ูุง ูุชูุซู ูุฐู ุงูุนูุงุตุฑ. ููุง ุฎุตุตุช ูุฆุงุช ูุชุนููุฉ ุจุงููุญุฏุฉ ููุดุฑูุน ูููุตู ุงุนุชูุงุฏูุง ุนูู ุงููุดุฑูุน ุงูุฃุณุงุณู. </font></font><br><br><img src="https://habrastorage.org/webt/eg/s1/se/egs1seui5csmxylqk9we7qhedwc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ุฅูู ูุตูู MonoBehaviour ุ ุฃูุถู ุฅูุดุงุก ูุงุฌูุงุช ุฎุงุตุฉ ุจู. ูุฐุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงููุฒุงูุง ุงูููุงุณูุฉ ูููุงุฌูุงุช ุ ูุชูุญ ูู ุฅุฎูุงุก ุนุฏุฏ ูุจูุฑ ุฌุฏูุง ูู ุฃุนุถุงุก MonoBehaviour.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃุฌู ุงูุฑุงุญุฉ ุ ุบุงูุจูุง ูุง ุชูุดุฆ DI ูุตููุง ุจุณูุทูุง ูุฏูุฑ ูู ุงูููุทู ููุฌูุน MonoBehaviour ูุฐูู. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูุฏู ุงููุตู ุทุฑู Start ู Update ุ ุฃููู ุจุฅูุดุงุก ูุฐู ุงูุฃุณุงููุจ ูู ุงููุตู ุ ุซู ูู ูุฆุฉ MonoBehaviour ุฃููู ุจุฅุถุงูุฉ ุญูู ุชุจุนูุฉ ููู ุงูุทุฑู ุงูููุงุจูุฉ ุงูุชู ุฃุณูููุง Start ู Update. </font><font style="vertical-align: inherit;">ูุฐุง ูุนุทู ุงูุญูู "ุงูุตุญูุญ" ููููุดุฆ ุ ููุตู ุงููุฆุฉ ุงูุฑุฆูุณูุฉ ูู ุญุงููุฉ DI ูุงููุฏุฑุฉ ุนูู ุงูุงุฎุชุจุงุฑ ุจุณูููุฉ.</font></font><br><br><a name="Config"></a><h4 style=";text-align:right;direction:rtl">  ุชุฑุชูุจ </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุณุจ ุงูุชูููู ุ ุฃุนูู ุงูุจูุงูุงุช ุงูุดุงุฆุนุฉ ููุชุทุจูู ุจุฃูููู. </font><font style="vertical-align: inherit;">ูู ุญุงูุชู ุ ูุฐู ูู ุงููุจุงูู ุงูุฌุงูุฒุฉ ุ ููุนุฑููุงุช ุงูุฅุนูุงูุงุช ูุงููุดุชุฑูุงุช ุ ูุงูุนูุงูุงุช ุ ูุฃุณูุงุก ุงููุดูุฏ ุ ุฅูุฎ. </font><font style="vertical-align: inherit;">ููุฐู ุงูุฃุบุฑุงุถ ุ ุฃุณุชุฎุฏู ScriptableObjects:</font></font><br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู ูุฌููุนุฉ ุจูุงูุงุช ุ ูุชู ุชุฎุตูุต ูุฆุฉ ุณููู ScriptableObject. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฎูู ุงูุญููู ุงููุงุฒูุฉ ููุชุณูุณู </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุชู ุฅุถุงูุฉ ุฎุตุงุฆุต ุงููุฑุงุกุฉ ูู ูุฐู ุงูุญููู. </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชู ุชูููุฒ ุงููุงุฌูุฉ ูุน ุงูุญููู ุฃุนูุงู </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุณุฌู ุงููุฆุฉ ุฅูู ูุงุฌูุฉ ูู ุญุงููุฉ DI </font></font></li><li style=";text-align:right;direction:rtl">  ุฑุจุญ </li></ol><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ITags</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FixedColor { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> BackgroundColor { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ForegroundColor { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> AccentedColor { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } [CreateAssetMenu(fileName = <span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(Tags), menuName = <span class="hljs-string"><span class="hljs-string">"Configuration/"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(Tags))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Tags</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span>, <span class="hljs-title"><span class="hljs-title">ITags</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> fixedColor; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> backgroundColor; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> foregroundColor; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> accentedColor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FixedColor =&gt; fixedColor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> BackgroundColor =&gt; backgroundColor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ForegroundColor =&gt; foregroundColor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> AccentedColor =&gt; accentedColor; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { fixedColor.AssertNotEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(fixedColor)); backgroundColor.AssertNotEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(backgroundColor)); foregroundColor.AssertNotEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(foregroundColor)); accentedColor.AssertNotEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(accentedColor)); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุชูููู ุ ูุซุจุช ูููุตู (ุฑูุฒ ูุฎุชุตุฑ): </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">CreateAssetMenu(fileName = <span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(ConfigurationInstaller), menuName = <span class="hljs-string"><span class="hljs-string">"Installers/"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(ConfigurationInstaller))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ConfigurationInstaller</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObjectInstaller</span></span>&lt;<span class="hljs-title"><span class="hljs-title">ConfigurationInstaller</span></span>&gt; { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> EditorElementsPrefabs editorElementsPrefabs; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LevelCompletionSteps levelCompletionSteps; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CommonValues commonValues; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> AdsConfiguration adsConfiguration; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CutscenesConfiguration cutscenesConfiguration; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Colors colors; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Tags tags; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InstallBindings</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Container.Bind&lt;IEditorElementsPrefabs&gt;().FromInstance(editorElementsPrefabs).AsSingle(); Container.Bind&lt;ILevelCompletionSteps&gt;().FromInstance(levelCompletionSteps).AsSingle(); Container.Bind&lt;ICommonValues&gt;().FromInstance(commonValues).AsSingle(); Container.Bind&lt;IAdsConfiguration&gt;().FromInstance(adsConfiguration).AsSingle(); Container.Bind&lt;ICutscenesConfiguration&gt;().FromInstance(cutscenesConfiguration).AsSingle(); Container.Bind&lt;IColors&gt;().FromInstance(colors).AsSingle(); Container.Bind&lt;ITags&gt;().FromInstance(tags).AsSingle(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { editorElementsPrefabs.AssertNotNull(); levelCompletionSteps.AssertNotNull(); commonValues.AssertNotNull(); adsConfiguration.AssertNotNull(); cutscenesConfiguration.AssertNotNull(); colors.AssertNOTNull(); tags.AssertNotNull(); } }</code> </pre> <br><a name="GameElectricalElements"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนูุงุตุฑ ุงูููุฑุจุงุฆูุฉ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุขู ุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุฎูู ุจุทุฑููุฉ ูุง ุงูุนูุงุตุฑ ุงูููุฑุจุงุฆูุฉ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IElectricalElementMb</span></span> { GameObject GameObject { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } IElectricalElement Element { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } IOutputConnectorMb[] OutputConnectorsMb { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } IInputConnectorMb[] InputConnectorsMb { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } Transform Transform { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetInputConnectorsMb</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">InputConnectorMb[] inputConnectorsMb</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetOutputConnectorsMb</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">OutputConnectorMb[] outputConnectorsMb</span></span></span><span class="hljs-function">)</span></span>; } [DisallowMultipleComponent] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ElectricalElementMb</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">IElectricalElementMb</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OutputConnectorMb[] outputConnectorsMb; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> InputConnectorMb[] inputConnectorsMb; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Transform Transform =&gt; transform; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject GameObject =&gt; gameObject; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; name; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> =&gt; name = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> IElectricalElement Element { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IOutputConnectorMb[] OutputConnectorsMb =&gt; outputConnectorsMb; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IInputConnectorMb[] InputConnectorsMb =&gt; inputConnectorsMb; }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Provide additional data to be able to configure it after manual install. </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> public interface IElectricalElementMbEditor : IElectricalElementMb { ElectricalElementType Type { get; } } public class ElectricalElementMbEditor : ElectricalElementMb, IElectricalElementMbEditor { [SerializeField] private ElectricalElementType type; public ElectricalElementType Type =&gt; type; }</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IInputConnectorMb</span></span> : <span class="hljs-title"><span class="hljs-title">IConnectorMb</span></span> { IOutputConnectorMb OutputConnectorMb { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } IInputConnector InputConnector { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">InputConnectorMb</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">IInputConnectorMb</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OutputConnectorMb outputConnectorMb; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Transform Transform =&gt; transform; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IOutputConnectorMb OutputConnectorMb { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; outputConnectorMb; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> =&gt; outputConnectorMb = (OutputConnectorMb) <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IInputConnector InputConnector { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputConnector(); <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> UNITY_EDITOR private void OnDrawGizmos() { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (outputConnectorMb != null) { Handles.DrawLine(transform.position, outputConnectorMb.Transform.position); } } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏููุง ุงูุณุทุฑ ุงูุนุงู IElectricalElement Element {getุ </font><font style="vertical-align: inherit;">ูุฌููุนุฉุ</font></font> } <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ููุท ูู ููููุฉ ุชุซุจูุช ูุฐุง ุงูุจูุฏุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏ ูููู ุงูุฎูุงุฑ ุงูุฌูุฏ ูู ุฌุนู </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeneralE: ุงููุฆุฉ ุงูุนุงูุฉ ElectricalElementMb: MonoBehaviourุ IElectricalElementMb ุญูุซ T: IElectricalElement </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู </font><font style="vertical-align: inherit;">ุงูููู </font><font style="vertical-align: inherit;">ูู ุฃู Unity ูุง ุชุฏุนู ุนุงู ูู ูุตูู MonoBehavior. </font><font style="vertical-align: inherit;">ุนูุงูุฉ ุนูู ุฐูู ุ ูุง ุชุฏุนู ุงููุญุฏุฉ ุชุณูุณู ุงูุฎุตุงุฆุต ูุงููุงุฌูุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูู ููุช ุงูุชุดุบูู ุ ูู ุงููููู ุชูุงููุง ุงููุฑูุฑ ูู IElectricalElement Element {getุ </font><font style="vertical-align: inherit;">ูุฌููุนุฉุ</font></font> } <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููููุฉ ุงููุทููุจุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุง ุฌุนูุช ุงูุชุนุฏุงุฏ ElectricalElementType ุงูุฐู ุณูููู ููุงู ุฌููุน ุงูุฃููุงุน ุงููุงุฒูุฉ. </font><font style="vertical-align: inherit;">ูุชู ุชุนุฏุงุฏ ุงูุชุนุฏุงุฏ ุจุดูู ุฌูุฏ ุจูุงุณุทุฉ Unity ูุนุฑุถู ุจุดูู ุฌูุฏ ูู ุงูููุชุด ููุงุฆูุฉ ููุณุฏูุฉ. </font><font style="vertical-align: inherit;">ุญุฏุฏ ููุนูู ูู ุงูุนูุงุตุฑ: ุงูุชู ูุชู ุฅูุดุงุคูุง ูู ููุช ุงูุชุดุบูู ูุงูุชู ูุชู ุฅูุดุงุคูุง ูู ุงููุญุฑุฑ ููููู ุญูุธูุง. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ููุงู IElectricalElementMb ู IElectricalElementMbEditor ุ ูุงูุฐู ูุญุชูู ุฃูุถูุง ุนูู ุญูู ูู ุงูููุน ElectricalElementType. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ ุงูููุน ุงูุซุงูู ุฃูุถูุง ุฅูู ุงูุชููุฆุฉ ูู ููุช ุงูุชุดุบูู. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ููุงู ูุฆุฉ ูู ุงูุจุฏุงูุฉ ุณุชุชุฌุงูุฒ ุฌููุน ุงูุนูุงุตุฑ ูุชููุฆุชูุง ุญุณุจ ุงูููุน ุงูููุฌูุฏ ูู ุญูู ุงูุชุนุฏุงุฏ. </font><font style="vertical-align: inherit;">ุนูู ุงููุญู ุงูุชุงูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Dictionary&lt;ElectricalElementType, Func&lt;IElectricalElement&gt;&gt; ElementByType = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;ElectricalElementType, Func&lt;IElectricalElement&gt;&gt; { {ElectricalElementType.And, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> And()}, {ElectricalElementType.Or, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Or()}, {ElectricalElementType.Xor, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Xor()}, {ElectricalElementType.Nand, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Nand()}, {ElectricalElementType.Nor, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Nor()}, {ElectricalElementType.NOT, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NOT()}, {ElectricalElementType.Xnor, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Xnor()}, {ElectricalElementType.Source, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Source()}, {ElectricalElementType.Conductor, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Conductor()}, {ElectricalElementType.Placeholder, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlwaysFalse()}, {ElectricalElementType.Encoder, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Encoder()}, {ElectricalElementType.Decoder, () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Decoder()} };</code> </pre> <br><a name="GameManagement"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฏุงุฑุฉ ุงููุนุจุฉ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ุฐูู ุ ูุทุฑุญ ุงูุณุคุงู ุ ุฃูู ูุถุน ููุทู ุงููุนุจุฉ ููุณูุง (ุงูุชุญูู ูู ุดุฑูุท ุงููุฑูุฑ ุ ุนุฏ ูุฑุงุกุงุช ุงูููุทุน ููุณุงุนุฏุฉ ุงููุงุนุจ)ุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฐุง ุ ุฃููู ุจุชูููุฒ ูุฆุงุช ูุนููุฉ ูู ุงููุฏูุฑูู ุงููุณุคูููู ุนู ูุฆุฉ ูุนููุฉ ูู ุงูููุงู. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงููุณุคููุฉ ุนู ุชุฎุฒูู ุงูุจูุงูุงุช ูู ูุชุงุฆุฌ ุชูุฑูุฑ ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู ูุงููุนุจุฉ. ุชู ุชุณุฌููู ุจูุงุณุทุฉ AsSingle ูู ุณูุงู ุงููุดุฑูุน. ูุฐุง ูุนูู ุฃูู ูุงุญุฏ ููุชุทุจูู ุจุฃูููู. ุฃุซูุงุก ุชุดุบูู ุงูุชุทุจูู ุ ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ูู ุงูุฐุงูุฑุฉ ุ ุฏุงุฎู DataManager. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูู ูุณุชุฎุฏู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IFileStoreService</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููู ุงููุณุคูู ุนู ุชุญููู ูุญูุธ ุงูุจูุงูุงุช ู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IFileSerializer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุคููุฉ ุนู ุฅุฌุฑุงุก ุชุณูุณู ูููููุงุช ูู ูููุฐุฌ ุฌุงูุฒ ููุญูุธ. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LevelGameManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฏูุฑ ุงููุนุจุฉ ูู ูุดูุฏ ูุงุญุฏ. </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุตูุช ุนูู GodObject ููููุงู ุ ูุฃูู ูุง ูุฒุงู ูุณุคููุงู ุนู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ุฃู ูุชุญ ูุฅุบูุงู ุงููุงุฆูุฉ ุ ุฑุฏ ูุนู ุนูู ุงูุฃุฒุฑุงุฑ. ููู ูุฐุง ุฃูุฑ ููุจูู ุ ูุธุฑูุง ูุญุฌู ุงููุดุฑูุน ูุนุฏู ูุฌูุฏ ุญุงุฌุฉ ูุชูุณูุนู ุ ูุฐุง ุชุณูุณู ุงูุฅุฌุฑุงุกุงุช ุฃุณูู ูุฃูุซุฑ ูุถูุญูุง.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงู ุฎูุงุฑุงู. ูุฐุง ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูุณูู LevelGameManager1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LevelGameManager2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุถุน 1 ู 2 ุ ุนูู ุงูุชูุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุญุงูุฉ ุงูุฃููู ุ ูุนุชูุฏ ุงูููุทู ุนูู ุฑุฏ ุงููุนู ูุญุฏุซ ุชุบููุฑ ูู ุงููููุฉ ูู ุฃุญุฏ ุงููุตุงุฏุฑ ูุงูุชุญูู ูู ุงููููุฉ ุนูุฏ ุฅุฎุฑุงุฌ ุงูุฏุงุฆุฑุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุญุงูุฉ ุงูุซุงููุฉ ุ ูุณุชุฌูุจ ุงูููุทู ูุญุฏุซ ุชุบููุฑ ุงูุนูุตุฑ ููุชุญูู ุฃูุถูุง ูู ุงูููู ุนูุฏ ุฅุฎุฑุงุฌ ุงูุฏุงุฆุฑุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุจุนุถ ูุนูููุงุช ุงููุณุชูู ุงูุญุงูู ูุซู ุฑูู ุงููุณุชูู ููุณุงุนุฏุฉ ุงููุงุนุจ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุญูู ุงููุณุชูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุงูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู </font><b><font style="vertical-align: inherit;">CurrentLevelData</font></b><font style="vertical-align: inherit;"> . ูุชู ุชุฎุฒูู ุฑูู ุงููุณุชูู ููุงู - ุฎุงุตูุฉ Boolean ูุน ุงูุชุญูู ูู ุงููุณุงุนุฏุฉ ุ ูุนูู ุงูุนุฑุถ ูุชูููู ุงููุนุจุฉ ูุงูุจูุงูุงุช ููุณุงุนุฏุฉ ุงููุงุนุจ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICurrentLevelData</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LevelNumber { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> HelpExist { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ProposeRate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICurrentLevelDataMode1</span></span> : <span class="hljs-title"><span class="hljs-title">ICurrentLevelData</span></span> { IEnumerable&lt;SourcePositionValueHelp&gt; PartialHelp { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICurrentLevelDataMode2</span></span> : <span class="hljs-title"><span class="hljs-title">ICurrentLevelData</span></span> { IEnumerable&lt;PlaceTypeHelp&gt; PartialHelp { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br>            .      ,     . <br><br>        ,      .    ,  Unity    . <br><br>       ,       <b>LevelGameManager</b>   <b>ICurrentLevelData</b> . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุดูู ุนุงู ุ ูุฏู ููุฌ ูุญุฑูู ุงูุญุฏุซ ูุชูุตูู ุงูุนูุงุตุฑ. </font><font style="vertical-align: inherit;">ูู ูุงุญูุฉ ุ ูู ููุทูู ููุฑูุญ. </font><font style="vertical-align: inherit;">ูู ูุงุญูุฉ ุฃุฎุฑู ุ ููุงู ูุฑุตุฉ ููุญุตูู ุนูู ูุดุงูู ุฏูู ุฅูุบุงุก ุงูุงุดุชุฑุงู ุนูุฏ ุงูุถุฑูุฑุฉ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูู ุชูู ููุงู ูุดุงูู ูู ูุฐุง ุงููุดุฑูุน ุ ูุงูุญุฌู ููุณ ูุจูุฑูุง ุฌุฏูุง. </font><font style="vertical-align: inherit;">ุนุงุฏุฉู ูุง ูุญุฏุซ ุงูุงุดุชุฑุงู ุฎูุงู ุจุฏุงูุฉ ุงููุดูุฏ ููู ูุง ุชุญุชุงุฌู. </font><font style="vertical-align: inherit;">ูุง ูุชู ุฅูุดุงุก ุฃู ุดูุก ุชูุฑูุจูุง ูู ููุช ุงูุชุดุบูู ุ ูุฐูู ูุง ููุฌุฏ ุฃู ุชุดููุด.</font></font><br><br><a name="LevelsLoading"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุชูู ุงูุชุญููู </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชู ุชูุซูู ูู ูุณุชูู ูู ุงููุนุจุฉ ุจูุดูุฏ Unity ุ ููุฌุจ ุฃู ูุญุชูู ุนูู ุจุงุฏุฆุฉ ูุณุชูู ูุฑูู ุ ุนูู ุณุจูู ุงููุซุงู ุ "Level23". </font><font style="vertical-align: inherit;">ูุชู ุชุถููู ุงูุจุงุฏุฆุฉ ูู ุงูุชูููู. </font><font style="vertical-align: inherit;">ูุญุฏุซ ุชุญููู ุงููุณุชูู ุจุงูุงุณู ุ ูุงูุฐู ูุชููู ูู ุงูุจุงุฏุฆุฉ. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ </font><font style="vertical-align: inherit;">ูููู ุชุญููู </font><font style="vertical-align: inherit;">ุงููุฆุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LevelsManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุณุชููุงุช ุญุณุจ ุงูุนุฏุฏ.</font></font><br><br><a name="Cutscenes"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุดูุฏ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cutscene ูู ูุดุงูุฏ ุงููุญุฏุฉ ุงูุนุงุฏูุฉ ูุน ุฃุฑูุงู ูู ุงูุนููุงู ุ ุนูู ุบุฑุงุฑ ุงููุณุชููุงุช. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุณูุง ุจุงุณุชุฎุฏุงู ุงูุฌุฏูู ุงูุฒููู. </font><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ููุณ ูุฏู ููุงุฑุงุช ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุง ุงููุฏุฑุฉ ุนูู ุงูุนูู ูุน ุงูุฌุฏูู ุงูุฒููู ุ ูุฐูู "ูุง ุชุทูููุง ุงููุงุฑ ุนูู ุนุงุฒู ุงูุจูุงูู - ุฅูู ููุนุจ ูุง ูุณุชุทูุน" </font></font><br><br><img src="https://habrastorage.org/webt/h8/ny/rf/h8nyrfwesvjp8v6kmy70tcfiduc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููุช ุงูุญูููุฉ ุฅูู ุฃู ูุดูุฏ ูุงุญุฏ ููุทูู ูุฌุจ ุฃู ูุชููู ูู ูุดุงูุฏ ูุฎุชููุฉ ุจุฃุดูุงุก ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ุงุชุถุญ ุฃู ูุฐุง ูุฏ ููุญุธ ูุชุฃุฎุฑุง ุจุนุถ ุงูุดูุก ุ ูููู ุชูุฑุฑ ุจุจุณุงุทุฉ: ุนู ุทุฑูู ูุถุน ุฃุฌุฒุงุก ูู ุงููุทุน ุนูู ุงููุณุฑุญ ูู ุฃูุงูู ูุฎุชููุฉ ูุชุญุฑูู ุงููุงููุฑุง ุนูู ุงูููุฑ.</font></font><br><br><img src="https://habrastorage.org/webt/s1/jq/jc/s1jqjces_osngyiexu03i3inrlk.png"><br><br><a name="AdditionalGameplay"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุนุจ ุฅุถุงููุฉ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชู ุชูููู ุงููุนุจุฉ ูู ุฎูุงู ุนุฏุฏ ุงูุฅุฌุฑุงุกุงุช ููู ูุณุชูู ูุงุณุชุฎุฏุงู ุงููุฑุงุฆู. ุงูุนูู ุฃูู ูุงู ุฐูู ุฃูุถู. ูุคุฏู ุงุณุชุฎุฏุงู ุชูููุญ ุงูุฃุฏูุงุช ุฅูู ุชูููู ุงูุญุฏ ุงูุฃูุตู ููุชุตููู ุฅูู ูุฌูุชูู ุ ูุชุฎุทู ุงููุณุชูู ุฅูู ูุฌูุฉ ูุงุญุฏุฉ. ูุชูููู ุงูููุทุน ุ ูุชู ุชุฎุฒูู ุนุฏุฏ ุฎุทูุงุช ุงููุฑูุฑ. ูุชููู ูู ูููุชูู: ุงููููุฉ ุงูุฏููุง (ููุฏุฉ 3 ูุฌูู) ูุงูุญุฏ ุงูุฃูุตู (ูุฌูุฉ ูุงุญุฏุฉ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูุชู ุชุฎุฒูู ุนุฏุฏ ุฎุทูุงุช ุชูุฑูุฑ ุงููุณุชููุงุช ูู ููู ุงููุดูุฏ ููุณู ุ ูููู ูู ููู ุงูุชูููู ุ ุญูุซ ุชุญุชุงุฌ ุฅูู ุนุฑุถ ุนุฏุฏ ุงููุฌูู ููุณุชูู ุงููุฌุงุญ. ูุฐุง ูุนูุฏ ููููุง ุนูููุฉ ุฅูุดุงุก ุงููุณุชููุงุช. ูุงู ูู ุงููุซูุฑ ููุงูุชูุงู ุจุดูู ุฎุงุต ุฑุคูุฉ ุงูุชุบููุฑุงุช ูู ูุธุงู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ:</font></font><br><br><img src="https://habrastorage.org/webt/fl/uc/4q/fluc4q2iu7946a11fywzat8afck.png"><br><br>       .     ,       Unity,       . <br><br>          โ     ,      .     ,     . <br><br>     ,     .         1 . <br><br>           ,           ,    . <br><br><a name="Monetization"></a><h4 style=";text-align:right;direction:rtl">  ุชุณููู </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงู ููุนุงู ูู ุชุญููู ุงูุฏุฎู ูู ุงููุนุจุฉ: ุนุฑุถ ุงูุฅุนูุงูุงุช ูุชุนุทูู ุงูุฅุนูุงูุงุช ููุงุจู ุงููุงู. ูุชุถูู ุนุฑุถ ุงูุฅุนูุงูุงุช ุนุฑุถ ุงูุฅุนูุงูุงุช ุจูู ุงููุณุชููุงุช ูุนุฑุถ ุงูุฅุนูุงูุงุช ุงูููุงูุฃุฉ ูุชุฎุทู ุงููุณุชูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงููุงุนุจ ูุณุชุนุฏูุง ูุฏูุน ุชูุงููู ุชุนุทูู ุงูุฅุนูุงูุงุช ุ ูููููู ุงูููุงู ุจุฐูู. ูู ูุฐู ุงูุญุงูุฉ ุ ูู ูุชู ุนุฑุถ ุงูุฅุนูุงูุงุช ุจูู ุงููุณุชููุงุช ูุนูุฏ ุชุฎุทู ุงููุณุชูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฅุนูุงู ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชู ุฅูุดุงุก</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฆุฉ ุชุณูู </font><b><font style="vertical-align: inherit;">AdsService</font></b><font style="vertical-align: inherit;"> ุ ูุน ูุงุฌูุฉ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IAdsService</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> AdsDisabled { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadBetweenLevelAd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowBetweenLevelAd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> level, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> force = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">false</span></span></span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadHelpAd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Action onLoaded = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowHelpAd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Action onRewarded, Action onClosed</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> HelpAdLoaded { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง HelpAd ูู ุฅุนูุงู ููุงูุฃุฉ ูุชุฎุทู ุงููุณุชูู. ูู ุงูุจุฏุงูุฉ ุ ุฃุทูููุง ุนูู ุงููุณุงุนุฏุฉ ุงููุณุงุนุฏุฉ ุงูุฌุฒุฆูุฉ ูุงููุงููุฉ. ุฌุฒุฆู ูู ุชูููุญ ุ ูุงููุงูู ูู ูุณุชูู ุชุฎุทู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุชูู ูุฐู ุงููุฆุฉ ุฏุงุฎู ุงูุญุฏ ูู ุชูุฑุงุฑ ุนุฑุถ ุงูุฅุนูุงูุงุช ุญุณุจ ุงูููุช ุ ุจุนุฏ ุงูุฅุทูุงู ุงูุฃูู ููุนุจุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุฎุฏู ุงูุชุทุจูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Mobile Ads Unity Plugin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฎูุงู ุงูุฅุนูุงูุงุช ุงูููุงูุฃุฉ ุ ุตุนุฏุช ุฅูู ุฃุดุนู ุงููุงุฑ - ุงุชุถุญ ุฃูู ูููู ุงุณุชุฏุนุงุก ุงูููุฏูุจูู ุงููุฎูุตูู ูู ุฎูุท ุขุฎุฑ ุ ูููุณ ูู ุงููุงุถุญ ุณุจุจ ุฐูู. ูุฐูู ุ ูู ุงูุฃูุถู ุฃูุง ูููู ูุคูุงุก ุงููููุถูู ุจุงุณุชุฏุนุงุก ุฃู ุดูุก ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุชุนููุฉ ุจุงููุญุฏุฉ. ุฅุฐุง ุชู ุฅุฌุฑุงุก ุนูููุฉ ุดุฑุงุก ูุชุนุทูู ุงูุฅุนูุงู ุ ููู ูุชู ุนุฑุถ ุงูุฅุนูุงู ูุณูููู ุงููููุถ ุจุชูููุฐ ุงูุนุฑุถ ุงููุงุฌุญ ููุฅุนูุงู ุนูู ุงูููุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ูุงุฌูุฉ ููุชุณูู</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IPurchaseService</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> IsAdsDisablePurchased { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action DisableAdsPurchased; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuyDisableAds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RemoveDisableAd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุฎุฏู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unity IAP</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุชูููุฐ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููุงู ุฎุฏุนุฉ ูุดุฑุงุก ูุทุน ุงุชุตุงู ุงูุฅุนูุงู. </font><font style="vertical-align: inherit;">ูุง ูุจุฏู ุฃู Google Play ูููุฑ ูุนูููุงุช ูุงู ุงููุดุชุฑู ุจุดุฑุงุกูุง. </font><font style="vertical-align: inherit;">ููุท ุชุฃููุฏ ุณูุฃุชู ุฃููุง ูุฑุช ูุฑุฉ ูุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ูููู ุฅุฐุง ูุถุนุช ุญุงูุฉ ุงูููุชุฌ ุจุนุฏ ุงูุดุฑุงุก ุบูุฑ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูู ุ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณูุณูุญ ูู ุฐูู ุจุงูุชุญูู ูู ุฎุงุตูุฉ ููุชุฌ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hasReceipt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ูุฐุง ุตุญูุญูุง ุ ููุฏ ุงูุชูู ุงูุดุฑุงุก. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ุฃูู ูุฎูุท ุจุงูุทุจุน ูุซู ูุฐุง ุงูููุฌ ุ ุฅูุง ุฃููู ุฃุธู ุฃูู ูุฏ ูุง ูููู ุณูุณูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุญุงุฌุฉ ุฅูู ุทุฑููุฉ RemoveDisableAd ูู ููุช ุงูุงุฎุชุจุงุฑ ุ ููู ุชุฒูู ุงููุทุงุน ุงูุฅุนูุงูุงุช ุงููุดุชุฑุงุฉ.</font></font><br><br><a name="UI"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฌูุฉ ุงููุณุชุฎุฏู </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู ุชุนูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฌููุน ุนูุงุตุฑ ุงููุงุฌูุฉ ููููุง ููููุฌ ููุฌู ูุญู ุงูุญุฏุซ. </font><font style="vertical-align: inherit;">ูุง ุชุญุชูู ุนูุงุตุฑ ุงููุงุฌูุฉ ููุณูุง ุนุงุฏุฉ ุนูู ููุทู ุจุฎูุงู ุงูุฃุญุฏุงุซ ุงูุชู ุชุณุชุฏุนููุง ุงูุฃุณุงููุจ ุงูุนุงูุฉ ุงูุชู ูููู ุฃู ุชุณุชุฎุฏููุง ุงููุญุฏุฉ. </font><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ุฃูู ูุญุฏุซ ุฃูุถูุง ุฃุฏุงุก ุจุนุถ ุงููุงุฌุจุงุช ุงููุชุนููุฉ ููุท ุจุงููุงุฌูุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">UiElementBase</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">IUiElement</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action ShowClick; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action HideCLick; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { gameObject.SetActive(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); ShowClick?.Invoke(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Hide</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { gameObject.SetActive(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); HideCLick?.Invoke(); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PauseMenu</span></span> : <span class="hljs-title"><span class="hljs-title">UiElementEscapeClose</span></span>, <span class="hljs-title"><span class="hljs-title">IPauseMenu</span></span> { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Text levelNumberText; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocalizedText finishedText; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject restartButton; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> levelNumber; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action GoToMainMenuClick; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action RestartClick; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LevelNumber { <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> =&gt; levelNumberText.text = <span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{finishedText.Value}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">value</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string">"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DisableRestartButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { restartButton.SetActive(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GoToMainMenu</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GoToMainMenuClick?.Invoke(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Restart</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { RestartClick?.Invoke(); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ูุฐุง ููุณ ูู ุงูุญุงู ุฏุงุฆูุง. </font><font style="vertical-align: inherit;">ูู ุงูุฌูุฏ ุชุฑู ูุฐู ุงูุนูุงุตุฑ ูุทุฑููุฉ ุนุฑุถ ูุดุทุฉ ุ ูุฅูุดุงุก ูุณุชูุน ููุญุฏุซ ูููุง ุ ูุซู ุฌูุงุฒ ุงูุชุญูู ุงูุฐู ุณูุคุฏู ุฅูู ุงุชุฎุงุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ุนูู ุงููุฏูุฑูู.</font></font><br><br><a name="Analytics"></a><h4 style=";text-align:right;direction:rtl">  ุชุญูููุงุช </h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู ุทุฑูู ุงูุฃูู ููุงููุฉ ุ ุชู ุงุฎุชูุงุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญูููุงุช ุงููุญุฏุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุณูู ุงูุชูููุฐ ุ ุนูู ุงูุฑุบู ูู ูุญุฏูุฏูุฉ ุงูุงุดุชุฑุงู ุงููุฌุงูู - ูู ุงููุณุชุญูู ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููุตุฏุฑ. ููุฌุฏ ุฃูุถูุง ุญุฏ ูุนุฏุฏ ุงูุฃุญุฏุงุซ - 100 / ุณุงุนุฉ ููู ูุงุนุจ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ููุชุญูููุงุช ุ ุชู ุฅูุดุงุก ูุฆุฉ ุงููุฌููุน </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnalyticsService</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุญุชูู ุนูู ุทุฑู ููู ููุน ูู ุงูุฃุญุฏุงุซ ุ ููุชููู ุงููุนููุงุช ุงููุงุฒูุฉ ููุคุฏู ุฅูู ุฅุฑุณุงู ุงูุญุฏุซ ุจุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช ุงููุฏูุฌุฉ ูู Unity. ูู ุงููุคูุฏ ุฃู ุฅูุดุงุก ุทุฑููุฉ ููู ุญุฏุซ ููุณ ุฃูุถู ููุงุฑุณุฉ ููู ุ ูููู ูู ูุดุฑูุน ุตุบูุฑ ุนู ูุตุฏ ุ ูููู ุฃูุถู ูู ุงูููุงู ุจุดูุก ูุจูุฑ ููุนูุฏ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌููุน ุงูุฃุญุฏุงุซ ุงููุณุชุฎุฏูุฉ ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CustomEvent.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููู ูุจููุฉ ูู ุงุณู ุงูุญุฏุซ ูุงุณู ุงููุนููุฉ ุงููุงููุณ ูุงููููุฉ. </font><font style="vertical-align: inherit;">ูุญุตู AnalyticsService ุนูู ุงูููู ุงููุทููุจุฉ ูู ุงููุนููุงุช ููููู ุจุฅูุดุงุก ูุงููุณ ูู ุงูุฏุงุฎู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ูุถุน ุฌููุน ุฃุณูุงุก ุงูุฃุญุฏุงุซ ูุงููุนููุงุช ูู ุงูุซูุงุจุช. </font><font style="vertical-align: inherit;">ููุณ ูู ุดูู ููุฌ ุชูููุฏู ูุน ScriptableObject ุ ุญูุซ ูุฌุจ ุฃูุง ุชุชุบูุฑ ูุฐู ุงูููู ุฃุจุฏูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ุนูู ุงูุทุฑููุฉ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LevelComplete</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> stars, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> actionCount, TimeSpan timeSpent, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> levelMode</span></span></span><span class="hljs-function">)</span></span> { CustomEvent(LevelCompleteEventName, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt; { {LevelNumber, number}, {LevelStars, stars}, {LevelActionCount, actionCount}, {LevelTimeSpent, timeSpent}, {LevelMode, levelMode} }); }</code> </pre> <br><a name="CameraAlign"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุงููุฑุง ูุชุญุฏูุฏ ุงูููุงูุน ูุงูุฑุณูู ุงูุจูุงููุฉ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููููุฉ ูู ูุถุน FinalDevice ูู ุฃุนูู ุงูุดุงุดุฉ ุ ุนูู ููุณ ุงููุณุงูุฉ ูู ุงูุญุฏ ุงูุนููู ุ ููุง ุฃู ุงููุตุงุฏุฑ ูู ุฃุณูู ุฏุงุฆููุง ุนูู ูุณุงูุฉ ูุชุณุงููุฉ ูู ุงูุญุฏ ุงูุณููู. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุฃุชู ุงูุดุงุดุงุช ุจูุณุจ ุฃุจุนุงุฏ ูุฎุชููุฉ ุ ุชุญุชุงุฌ ุฅูู ุถุจุท ุญุฌู ุงููุงููุฑุง ูุจู ุจุฏุก ุงููุณุชูู ุจุญูุซ ููุงุณุจ ุงูุฏุงุฆุฑุฉ ุจุดูู ุตุญูุญ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูุชู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูุดุงุก</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฆุฉ </font><b><font style="vertical-align: inherit;">CameraAlign</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฎูุงุฑุฒููุฉ ุงูุญุฌู:</font></font><br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนุซูุฑ ุนูู ุฌููุน ุงูุนูุงุตุฑ ุงููุงุฒูุฉ ุนูู ุงููุณุฑุญ </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุจุญุซ ุนู ุงูุญุฏ ุงูุฃุฏูู ููุนุฑุถ ูุงูุงุฑุชูุงุน ุงุณุชูุงุฏูุง ุฅูู ูุณุจุฉ ุงูุนุฑุถ ุฅูู ุงูุงุฑุชูุงุน </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุญุฏูุฏ ุญุฌู ุงููุงููุฑุง </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงุถุจุท ุงููุงููุฑุง ูู ุงููุณุท </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููู FinalDevice ุฅูู ุฃุนูู ุงูุดุงุดุฉ </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููู ุงููุตุงุฏุฑ ุฅูู ุฃุณูู ุงูุดุงุดุฉ </font></font></li></ol><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CameraAlign</span></span> : <span class="hljs-title"><span class="hljs-title">ICameraAlign</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> ISceneObjectsHelper sceneObjectsHelper; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> ICommonValues commonValues; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CameraAlign</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ISceneObjectsHelper sceneObjectsHelper, ICommonValues commonValues</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sceneObjectsHelper = sceneObjectsHelper; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.commonValues = commonValues; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Align</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Camera camera</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elements = sceneObjectsHelper.FindObjectsOfType&lt;IElectricalElementMb&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> finalDevice = sceneObjectsHelper.FindObjectOfType&lt;IFinalDevice&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sources = elements.OfType&lt;ISourceMb&gt;().ToArray(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (finalDevice != <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; sources.Length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> leftPos = elements.Min(s =&gt; s.Transform.position.x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rightPos = elements.Max(s =&gt; s.Transform.position.x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> width = Mathf.Abs(leftPos - rightPos); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fPos = finalDevice.Transform.position; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> height = Mathf.Abs(sources.First().Transform.position.y - fPos.y) * camera.aspect; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> size = Mathf.Max(width * commonValues.CameraOffset, height * commonValues.CameraOffset); camera.orthographicSize = Mathf.Clamp(size, commonValues.MinCameraSize, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>.MaxValue); camera.transform.position = GetCenterPoint(elements, <span class="hljs-number"><span class="hljs-number">-1</span></span>); fPos = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(fPos.x, camera.ScreenToWorldPoint(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(Screen.width, Screen.height)).y - commonValues.FinalDeviceTopOffset * camera.orthographicSize); finalDevice.Transform.position = fPos; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sourceY = camera.ScreenToWorldPoint(Vector2.zero).y + commonValues.SourcesBottomOffset; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sources) { item.Transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(item.Transform.position.x, sourceY); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Debug.Log(<span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">nameof</span></span></span></span><span class="hljs-string"><span class="hljs-subst">(CameraAlign)}</span></span></span><span class="hljs-string">: No final device or no sources in scene"</span></span>); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetCenterPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ICollection&lt;IElectricalElementMb&gt; elements, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> top = elements.Max(e =&gt; e.Transform.position.y); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> bottom = elements.Min(e =&gt; e.Transform.position.y); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> left = elements.Min(e =&gt; e.Transform.position.x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> right = elements.Max(e =&gt; e.Transform.position.x); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = left + ((right - left) / <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = bottom + ((top - bottom) / <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(x, y, z); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุณูู ูุฐู ุงูุทุฑููุฉ ุนูุฏูุง ูุจุฏุฃ ุงููุดูุฏ ูู ูุฆุฉ ุจุฑูุงูุฌ ุงูุงูุชูุงู. </font></font><br><br><a name="Colors"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฎุทุทุงุช ุงูุฃููุงู </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุธุฑูุง ูุฃู ุงููุนุจุฉ ุณุชุชูุชุน ุจูุงุฌูุฉ ุจุฏุงุฆูุฉ ููุบุงูุฉ ุ ููุฏ ูุฑุฑุช ุฃู ุฃุฌุนููุง ูุฒูุฏุฉ ุจูุณููู ุฃููุงู ุ ุฃุจูุถ ูุฃุณูุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ุฅูุดุงุก ูุงุฌูุฉ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IColors</span></span> { Color ColorAccent { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } Color Background { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } Color Foreground { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> Action ColorsChanged; }</code> </pre> <br>       Unity     .         . <br><br>    Background  Foreground,      . <br><br>       ,        .        ,     . <br><br>    : <b>CameraColorAdjustment</b> โ       , <b>UiColorAdjustment</b> โ      <b>TextMeshColorAdjustment</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ูุญุฏุฏ ููู ุงูุฃุฑูุงู ุนูู ุงููุตุงุฏุฑ. </font><font style="vertical-align: inherit;">ูุณุชุฎุฏู UiColorAdjustment ุฃูุถูุง ุงูุนูุงูุงุช. </font><font style="vertical-align: inherit;">ูู ุงููุญุฑุฑ ุ ููููู ุชุนููู ูู ุนูุตุฑ ุจุนูุงูุฉ ุชุดูุฑ ุฅูู ููุน ุงูููู ุงูุฐู ูุฌุจ ุชุนูููู ูู (ุงูุฎูููุฉ ุ ุงูููุฏูุฉ ุ ุงูุฃูุณูุชูู ูุงูููู ุงูุซุงุจุช). </font><font style="vertical-align: inherit;">ูุชู ุชุนููู ูู ูุฐุง ูู ุจุฏุงูุฉ ุงููุดูุฏ ุฃู ุญุฏุซ ุชุบููุฑ ูู ูุธุงู ุงูุฃููุงู.</font></font><br><br>  ุงููุชูุฌุฉ: <br><br><img src="https://habrastorage.org/webt/jk/6o/zz/jk6ozzdaz6h8ixxrykmnocrtgze.png"><br><br><img src="https://habrastorage.org/webt/kl/4d/u6/kl4du6hxim70hyncofiakaiqsi4.png"><br><br><a name="Editor"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุญูุงุช ูุญุฑุฑ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> <br><br>           ,      .    Unity   - EditorWindow.      UiElements,      ,     . <br><br>    ,  -    UnityEditor      ,     ,        .   : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       </li><li style=";text-align:right;direction:rtl">     Assets/Editor </li><li style=";text-align:right;direction:rtl">     #if UNITY_EDITOR </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุฎุฏู ุงููุดุฑูุน ุงูุทุฑููุฉ ุงูุฃููู ูุฃุญูุงููุง #if UNITY_EDITOR ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุฃุถู ุฌุฒุกูุง ุตุบูุฑูุง ูููุญุฑุฑ ุฅูู ุงููุฆุฉ ุงููุทููุจุฉ ูู ุงูุฅูุดุงุก. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌููุน ุงููุฆุงุช ุงููุทููุจุฉ ููุท ูู ุงููุญุฑุฑ ุงูุฐู ุญุฏุฏุชู ูู ุงูุชุฌููุน ุ ูุงูุชู ุณุชููู ูุชุงุญุฉ ููุท ูู ุงููุญุฑุฑ. </font><font style="vertical-align: inherit;">ุฅููุง ูู ุชุฐูุจ ุฅูู ุจูุงุก ุงููุนุจุฉ. </font></font><br><br><img src="https://habrastorage.org/webt/-u/yv/ie/-uyviepp1z3u4aal0mgbzlothxg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูููู ูู ุงูุฌูุฏ ุงูุขู ุฃู ูููู ูุฏูู DI ูู ููุญูุงุช ุงููุญุฑุฑ. </font><font style="vertical-align: inherit;">ููุฐุง ุฃูุง ุงุณุชุฎุฏู Zenject.StaticContext. </font><font style="vertical-align: inherit;">ูู ุฃุฌู ุชุนููููุง ูู ุงููุญุฑุฑ ุ ูุชู ุงุณุชุฎุฏุงู ูุฆุฉ ูุน ุงูุณูุฉ InitializeOnLoad ุ ุญูุซ ููุฌุฏ ูููุดุฆ ุซุงุจุช.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">InitializeOnLoad</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EditorInstaller</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EditorInstaller</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> container = StaticContext.Container; container.Bind&lt;IElementsProvider&gt;().To&lt;ElementsProvider&gt;().AsSingle(); container.Bind&lt;ISolver&gt;().To&lt;Solver&gt;().AsSingle(); .... } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชุณุฌูู ูุฆุงุช ScriptableObject ูู ุณูุงู ุซุงุจุช ุ ุฃุณุชุฎุฏู ุงูููุฏ ุงูุชุงูู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">BindFirstScriptableObject&lt;ISceneNameConfiguration, SceneNameConfiguration&gt;(container); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> BindFirstScriptableObject&lt;TInterface, TImplementation&gt;(DiContainer container) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> TImplementation : ScriptableObject, TInterface { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = GetFirstScriptableObject&lt;TImplementation&gt;(); container.Bind&lt;TInterface&gt;().FromInstance(obj).AsSingle(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> T GetFirstScriptableObject&lt;T&gt;() <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : ScriptableObject { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> guids = AssetDatabase.FindAssets(<span class="hljs-string"><span class="hljs-string">"t:"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T).Name); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> path = AssetDatabase.GUIDToAssetPath(guids.First()); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = AssetDatabase.LoadAssetAtPath&lt;T&gt;(path); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TImplementation ูุทููุจ ููุท ููุฐุง ุงูุณุทุฑ. AssetDatabase.LoadAssetAtPath (path) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูููู </font><font style="vertical-align: inherit;">ุฅุถุงูุฉ </font><font style="vertical-align: inherit;">ุชุจุนูุฉ ุฅูู ุงููููุดุฆ. </font><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ุฃุถู ุงูุณูุฉ [Inject] ุฅูู ุญููู ุงูุชุจุนูุฉ ูู ูุฆุฉ ุงููุงูุฐุฉ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุชุตู ุจู StaticContext.Container.Inject (ูุฐุง) </font><font style="vertical-align: inherit;">ุนูุฏ </font><font style="vertical-align: inherit;">ุจุฏุก ุชุดุบูู </font><font style="vertical-align: inherit;">ุงููุงูุฐุฉ </font><font style="vertical-align: inherit;">ุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุตู ุฃูุถูุง ุจุฅุถุงูุฉ ูุญุต ุฏูุฑุฉ ุฎุงููุฉ ูู ุฃุญุฏ ุงูุญููู ุงูุชุงุจุนุฉ ุฅูู ุฏูุฑุฉ ุชุญุฏูุซ ุงููุงูุฐุฉ ุ ูุฅุฐุง ูุงู ุงูุญูู ูุงุฑุบูุง ุ ููู ุจุฅุฌุฑุงุก ุงูุณุทุฑ ุฃุนูุงู. </font><font style="vertical-align: inherit;">ูุฃูู ุจุนุฏ ุชุบููุฑ ุงูููุฏ ูู ุงููุดุฑูุน ุ ูููู ูููุญุฏุฉ ุฅุนุงุฏุฉ ุฅูุดุงุก ุงููุงูุฐุฉ ูุนุฏู ุงุณุชุฏุนุงุก ุงูุงุณุชููุงุธ ุนูููุง.</font></font><br><br><a name="GeneratorWindow"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุฏ ููุฑุจุงุฆู </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช:</font></font></a> <br><br><img src="https://habrastorage.org/webt/4i/cp/ud/4icpudizv2-8r-bwrbkk3bva8kq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนุฑุถ ุงูุฃููู ูููููุฏ ุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจ ุฃู ุชููุฑ ุงููุงูุฐุฉ ูุงุฌูุฉ ูุฅูุดุงุก ูุงุฆูุฉ ูู ุงููุฎุทุทุงุช ูุน ุงููุนููุงุช ุ ูุนุฑุถ ูุงุฆูุฉ ูู ุงููุฎุทุทุงุช ููุถุน ุงููุฎุทุท ุงููุญุฏุฏ ุนูู ุงููุดูุฏ ุงูุญุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชููู ุงููุงูุฐุฉ ูู ุซูุงุซุฉ ุฃูุณุงู ูู ุงููุณุงุฑ ุฅูู ุงููููู:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุนุฏุงุฏุงุช ุงูุฌูู </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฆูุฉ ุงูุฎูุงุฑุงุช ูู ุดูู ุฃุฒุฑุงุฑ </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎูุงุฑ ุงููุญุฏุฏ ููุต </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฅูุดุงุก ุงูุฃุนูุฏุฉ ุจุงุณุชุฎุฏุงู EditorGUILayout.BeginVertical () ู EditorGUILayout.EndVertical (). ูุณูุก ุงูุญุธ ุ ูู ููุฌุญ ุงูุฃูุฑ ูู ุชุญุฏูุฏ ุงูุฃุญุฌุงู ูุงูุญุฏ ูููุง ุ ููู ูุฐุง ููุณ ุจุงูุบ ุงูุฃูููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุชุถุญ ุฃู ุนูููุฉ ุงูุชูููุฏ ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงูุฏูุงุฆุฑ ููุณุช ุจูุฐู ุงูุณุฑุนุฉ. ูุชู ุงูุญุตูู ุนูู ุงููุซูุฑ ูู ุงููุฌููุนุงุช ูุน ุนูุงุตุฑ I. ููุง ุฃูุถุญ ุงููุญูู ุ ูุฅู ุฃุจุทุฃ ุฌุฒุก ูู ุงูุฏุงุฆุฑุฉ ููุณูุง. ุงูุชูุงุฒู ูุน ุฐูู ููุณ ุฎูุงุฑูุง ุ ูู ุงูุฎูุงุฑุงุช ุชุณุชุฎุฏู ูุฎุทุทูุง ูุงุญุฏูุง ุ ููู ูู ุงูุตุนุจ ุงุณุชูุณุงุฎ ูุฐุง ุงููููู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซู ุงุนุชูุฏุช ุฃูู ูู ุงููุญุชูู ุฃู ุชุนูู ูู ุฃููุงุฏ ููุญูุงุช ุงููุญุฑุฑ ูู ูุถุน ุชุตุญูุญ ุงูุฃุฎุทุงุก. ุชุญุช ุงูุฅุตุฏุงุฑ ุ ูุง ูุนูู ุงูุชุตุญูุญ ุจุดูู ุฌูุฏ ุ ูุง ุชุชููู ููุงุท ุงูุชููู ุ ูุชู ุชุฎุทู ุงูุฎุทูุท ุ ุฅูุฎ. ูู ุงููุงูุน ุ ุจุนุฏ ููุงุณ ุงูุฃุฏุงุก ุ ุงุชุถุญ ุฃู ุณุฑุนุฉ ุงููููุฏ ูู ุงููุญุฏุฉ ุชุชูุงูู ูุน ูุฌููุนุฉ Debug ุงูุชู ุชู ุฅุทูุงููุง ูู ุชุทุจูู ูุญุฏุฉ ุงูุชุญูู ุ ูุงูุชู ูู ุฃุจุทุฃ ูู ุงูุฅุตุฏุงุฑ ุจู 6 ูุฑุงุช.</font></font> ุถุน ูุฐุง ูู ุงูุงุนุชุจุงุฑ. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ููููู ุงูููุงู ุจุงูุชุฌููุน ุงูุฎุงุฑุฌู ูุงูุฅุถุงูุฉ ุฅูู DLL Unity ูุน ุงูุชุฌููุน ุ ููู ูุฐุง ูุคุฏู ุฅูู ุชุนููุฏ ุงูุชุฌููุน ูุงูุชุญุฑูุฑ ูููุดุฑูุน. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌูุจุช ุนูู ุงูููุฑ ุนูููุฉ ุงูุชูููุฏ ุฅูู ูููุฉ ูููุตูุฉ ูุน ุฑูุฒ ูุญุชูู ุนูู ูุฐุง: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">circuitGenerator.Generate (ุฎุทูุท ุ maxElementsInLine ุ availableLogicalElements ุ useNOT ุ ุชุนุฏูู) .ToList () </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุนู ุฃูุถู ุ ูุง ูุชุนุทู ุงููุญุฑุฑ ูู ููุช </font><font style="vertical-align: inherit;">ุงูุฅูุดุงุก </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููู ูุง ูุฒุงู ูู ุงูุถุฑูุฑู ุงูุงูุชุธุงุฑ ููุชุฑุฉ ุทูููุฉ ุ ูุนุฏุฉ ุฏูุงุฆู (ุฃูุซุฑ ูู 20 ุฏูููุฉ ุนูู ุฏูุงุฆุฑ ูุจูุฑุฉ ุงูุญุฌู). </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุงูุช ููุงู ูุดููุฉ ูู ุฃู ุงููููุฉ ูุง ูููู ุฃู ุชูุชูู ุจูุฐู ุงูุณูููุฉ ูุชุณุชูุฑ ูู ุงูุนูู ุญุชู ุงูุชูุงู ุงูุฌูู.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุซูุฑ ูู ุงูููุฏ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Ext</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IEnumerable&lt;CircuitVariant&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OrderVariants</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> IEnumerable&lt;CircuitVariant&gt; circuitVariants</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> circuitVariants.OrderBy(a =&gt; a.Solutions.Count()) .ThenByDescending(a =&gt; a.Solutions .Select(b =&gt; b.Sum(i =&gt; i ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">-1</span></span>)) .OrderByDescending(b=&gt;b) .First()); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IEditorGenerator</span></span> : <span class="hljs-title"><span class="hljs-title">IDisposable</span></span> { CircuitVariant[] FilteredVariants { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LastPage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterVariants</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> page</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lines, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxElementsInLine, ICollection&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; availableGates, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useNOT, StructureModification? modification, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxSolutions</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Stop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fetch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EditorGenerator</span></span> : <span class="hljs-title"><span class="hljs-title">IEditorGenerator</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PageSize = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> ICircuitGenerator circuitGenerator; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ConcurrentBag&lt;CircuitVariant&gt; variants; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;CircuitVariant&gt; sortedVariants; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Thread generatingThread; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EditorGenerator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ICircuitGenerator circuitGenerator</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.circuitGenerator = circuitGenerator; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Dispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { generatingThread?.Abort(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CircuitVariant[] FilteredVariants { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LastPage { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterVariants</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> page</span></span></span><span class="hljs-function">)</span></span> { CheckVariants(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortedVariants == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Fetch(); } FilteredVariants = sortedVariants.Skip(page * PageSize) .Take(PageSize) .ToArray(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> count = sortedVariants.Count; LastPage = count % PageSize == <span class="hljs-number"><span class="hljs-number">0</span></span> ? (count / PageSize) - <span class="hljs-number"><span class="hljs-number">1</span></span> : count / PageSize; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Fetch</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CheckVariants(); sortedVariants = variants.OrderVariants() .ToList(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lines, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxElementsInLine, ICollection&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; availableGates, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> useNOT, StructureModification? modification, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> maxSolutions</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (generatingThread != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Stop(); } variants = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ConcurrentBag&lt;CircuitVariant&gt;(); generatingThread = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(() =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v = circuitGenerator.Generate(lines, maxElementsInLine, availableGates, useNOT, modification, maxSolutions); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v) { variants.Add(item); } }); generatingThread.Start(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Stop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { generatingThread?.Abort(); sortedVariants = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; variants = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; generatingThread = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; FilteredVariants = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckVariants</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (variants == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException(<span class="hljs-string"><span class="hljs-string">"VariantsGeneration is not started. Use Start before."</span></span>); } } ~EditorGenerator() { generatingThread.Abort(); } }</code> </pre> <br></div></div><br>   ,     ,        .      .        ,       .    โโ:   ,           .      1 1 1 1    1 0 1 1. <br><br><img src="https://habrastorage.org/webt/mr/ud/aa/mrudaajqtmoetizlrvzd1muja4q.png"><br><br>   ,    ,     .   ,           . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนุฏ ููุฒุฉ ุงููุญุฏุฉ ูุฒุนุฌุฉ ููุบุงูุฉ ูุฃูู ุนูุฏ ุงูููุฑ ููู ุชุดุบูู ุ ุชุชู ุฅุนุงุฏุฉ ุชุนููู ูุญุชููุงุช ุงููุงูุฐุฉ ุ ูุซู ูู ุงูุจูุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ูุงุจูุฉ ููุชุณูุณู ุจุณูููุฉ ุ ูููู ุชุฎุฒูููุง ููููุงุช. </font><font style="vertical-align: inherit;">ุจูุฐู ุงูุทุฑููุฉ ุ ููููู ุญุชู ุชุฎุฒูู ูุชุงุฆุฌ ุงูุฌูู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. </font><font style="vertical-align: inherit;">ูููู ููุฃุณู ุ ูู ุงูุตุนุจ ุฅุฌุฑุงุก ุชุณูุณู ูุจููุฉ ูุนูุฏุฉ ุญูุซ ุชุดูุฑ ุงูุฃุดูุงุก ุฅูู ุจุนุถูุง ุงูุจุนุถ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุฃุถูุช ุฎุทูุท ููู ุจูุงุจุฉ ุ ูุซู</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.Length == <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Input[<span class="hljs-number"><span class="hljs-number">0</span></span>].Value &amp;&amp; Input[<span class="hljs-number"><span class="hljs-number">1</span></span>].Value; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุง ุฃุฏู ุฅูู ุชุญุณู ูุจูุฑ ูู ุงูุฃุฏุงุก. </font></font><br><br><a name="SolverWindow"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญูุงูุง </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูุฏูุง ุชููู ุจุชุฌููุน ุฏุงุฆุฑุฉ ูู ุงููุญุฑุฑ ุ ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฃู ุชููู ุจุณุฑุนุฉ ูุง ุฅุฐุง ูุงู ูุฏ ุชู ุญููุง ูุนุฏุฏ ุงูุญููู ุงูุชู ูุฏููุง. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ููุช ุจุฅูุดุงุก ูุงูุฐุฉ "ุญูุงูุง". </font><font style="vertical-align: inherit;">ูููุฑ ุญููููุง ูููุฎุทุท ุงูุญุงูู ูู ุดูู ูุต ุ </font></font><br><br><img src="https://habrastorage.org/webt/k4/4e/pk/k44epkd08ngv_gh2rpejtr6jzkg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุทู "ุงููุงุฌูุฉ ุงูุฎูููุฉ":</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSourcesLabel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourcesMb = sceneObjectsHelper.FindObjectsOfType&lt;SourceMb&gt;().OrderBy(s =&gt; s.name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourcesLabelSb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sourcesMb) { sourcesLabelSb.Append(<span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{item.name.Replace(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"Source"</span></span></span></span><span class="hljs-string"><span class="hljs-subst">, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"Src"</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">\t"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sourcesLabelSb.ToString(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[]&gt; FindSolutions() { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elementsMb = sceneObjectsHelper.FindObjectsOfType&lt;IElectricalElementMbEditor&gt;(); elementsConfigurator.Configure(elementsMb); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> root = sceneObjectsHelper.FindObjectOfType&lt;FinalDevice&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (root == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InvalidOperationException(<span class="hljs-string"><span class="hljs-string">"No final device in scene"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourcesMb = sceneObjectsHelper.FindObjectsOfType&lt;SourceMb&gt;().OrderBy(s =&gt; s.name); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sources = sourcesMb.Select(mb =&gt; (Source) mb.Element).ToArray(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> solver.GetSolutions(root.Element, sources); }</code> </pre> <br><a name="Useful"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุฏ </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู</font></font></a> <br><br><a name="AssertHelper"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AssertHelper </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุชุญูู ูู ุฃู ุงูููู ุชู ุชุนููููุง ูู ุงูุฃุตูู ุ ุงุณุชุฎุฏู ุทุฑู ุงูุฅุถุงูุฉ ุงูุชู ุฃุทูุจูุง ูู OnEnable</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AssertHelper</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AssertType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> IElectricalElementMbEditor elementMbEditor, ElectricalElementType expectedType</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (elementMbEditor.Type != expectedType) { Debug.LogError(<span class="hljs-string"><span class="hljs-string">$"Field for </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{expectedType}</span></span></span><span class="hljs-string"> require element with such type, but given element is </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{elementMbEditor.Type}</span></span></span><span class="hljs-string">"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AssertNOTNull&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> T obj, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> fieldName = <span class="hljs-string"><span class="hljs-string">""</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(fieldName)) { fieldName = <span class="hljs-string"><span class="hljs-string">$"of type </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">typeof</span></span></span></span><span class="hljs-string"><span class="hljs-subst">(T).Name}</span></span></span><span class="hljs-string">"</span></span>; } Debug.LogError(<span class="hljs-string"><span class="hljs-string">$"Field </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{fieldName}</span></span></span><span class="hljs-string"> is not installed"</span></span>); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AssertNOTEmpty</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> str, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fieldName = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrWhiteSpace(str)) { Debug.LogError(<span class="hljs-string"><span class="hljs-string">$"Field </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{fieldName}</span></span></span><span class="hljs-string"> is not installed"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AssertSceneCanBeLoaded</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Application.CanStreamedLevelBeLoaded(name)) { Debug.LogError(<span class="hljs-string"><span class="hljs-string">$"Scene </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{name}</span></span></span><span class="hljs-string"> can't be loaded."</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏ ุชูุดู ูู ุจุนุถ ุงูุฃุญูุงู ุงูุชุญูู ูู ูุฏุฑุฉ ุงููุดูุฏ ุนูู ุงูุชุญููู ุ ุฑุบู ุฃูู ูุฏ ูุชู ุชุญููู ุงููุดูุฏ. </font><font style="vertical-align: inherit;">ุฑุจูุง ูุฐุง ุฎุทุฃ ูู ุงููุญุฏุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">mainMenuSceneName.AssertNOTEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(mainMenuSceneName)).AssertSceneCanBeLoaded(); levelNamePrefix.AssertNOTEmpty(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(levelNamePrefix)); editorElementsPrefabs.AssertNOTNull(); not.AssertType(ElectricalElementType.NOT); <span class="hljs-comment"><span class="hljs-comment">//     enum    </span></span></code> </pre> <br><a name="SceneObjectsHelper"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SceneObjectsHelper </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุนูู ูุน ุนูุงุตุฑ ุงููุดูุฏ ุ ูุงูุช ุงููุฆุฉ SceneObjectsHelper ูููุฏุฉ ุฃูุถูุง:</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุซูุฑ ูู ุงูููุฏ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Circuit.Game.Utility</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ISceneObjectsHelper</span></span> { T[] FindObjectsOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>; T FindObjectOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>; T Instantiate&lt;T&gt;(T prefab) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : Object; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> DestroyObjectsOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> immediate = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Destroy&lt;T&gt;(T obj, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> immediate = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : Object; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DestroyAllChildren</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Transform transform</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Inject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span>; T GetComponent&lt;T&gt;(GameObject obj) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SceneObjectsHelper</span></span> : <span class="hljs-title"><span class="hljs-title">ISceneObjectsHelper</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> DiContainer diContainer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SceneObjectsHelper</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DiContainer diContainer</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.diContainer = diContainer; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T GetComponent&lt;T&gt;(GameObject obj) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj.GetComponents&lt;Component&gt;().OfType&lt;T&gt;().FirstOrDefault(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T[] FindObjectsOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (includeDisabled) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Resources.FindObjectsOfTypeAll(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Object)).OfType&lt;T&gt;().ToArray(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Object.FindObjectsOfType&lt;Component&gt;().OfType&lt;T&gt;().ToArray(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> DestroyObjectsOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> immediate = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objects = includeDisabled ? Resources.FindObjectsOfTypeAll(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Object)).OfType&lt;T&gt;().ToArray() : Object.FindObjectsOfType&lt;Component&gt;().OfType&lt;T&gt;().ToArray(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> objects) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (immediate) { Object.DestroyImmediate((item <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Component)?.gameObject); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Object.Destroy((item <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Component)?.gameObject); } } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Destroy&lt;T&gt;(T obj, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> immediate = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : Object { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (immediate) { Object.DestroyImmediate(obj); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Object.Destroy(obj); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DestroyAllChildren</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Transform transform</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> childCount = transform.childCount; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; childCount; i++) { Destroy(transform.GetChild(i).gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T FindObjectOfType&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> includeDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (includeDisabled) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Resources.FindObjectsOfTypeAll(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Object)).OfType&lt;T&gt;().FirstOrDefault(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Object.FindObjectsOfType&lt;Component&gt;().OfType&lt;T&gt;().FirstOrDefault(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Inject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { diContainer.Inject(obj); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T Instantiate&lt;T&gt;(T prefab) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : Object { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = Object.Instantiate(prefab); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Component) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> components = ((Component) (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>) obj).gameObject.GetComponents&lt;Component&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> component <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> components) { Inject(component); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Inject(obj); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj; } } }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุ ูุฏ ูุง ุชููู ุจุนุถ ุงูุฃุดูุงุก ูุนุงูุฉ ููุบุงูุฉ ุนูุฏูุง ุชููู ููุงู ุญุงุฌุฉ ุฅูู ุฃุฏุงุก ุนุงูู ุ ูููู ูุงุฏุฑุงู ูุง ูุชู ุงุณุชุฏุนุงุคูุง ุจุงููุณุจุฉ ูู ููุง ุชุฎูู ุฃู ุชุฃุซูุฑ. </font><font style="vertical-align: inherit;">ููููู ูุณูุญูู ูู ุจุงูุนุซูุฑ ุนูู ูุงุฆูุงุช ุนู ุทุฑูู ุงููุงุฌูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุจุฏู ุฌูููุฉ.</font></font><br><br><a name="CoroutineStarter"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CoroutineStarter </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุทูุงู Coroutine ูููู MonoBehaviour ููุท. </font><font style="vertical-align: inherit;">ูุฐูู ููุช ุจุฅูุดุงุก ูุฆุฉ CoroutineStarter ูุณุฌูุชูุง ูู ุณูุงู ุงููุดูุฏ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICoroutineStarter</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BeginCoroutine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IEnumerator routine</span></span></span><span class="hljs-function">)</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CoroutineStarter</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span>, <span class="hljs-title"><span class="hljs-title">ICoroutineStarter</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BeginCoroutine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IEnumerator routine</span></span></span><span class="hljs-function">)</span></span> { StartCoroutine(routine); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฑุงุญุฉ ุ ุณููู ุฅุฏุฎุงู ูุฐู ุงูุฃุฏูุงุช ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ุชูููุฐ coroutine ูู ุงูุงุฎุชุจุงุฑุงุช:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">coroutineStarter.When(x =&gt; x.BeginCoroutine(Arg.Any&lt;IEnumerator&gt;())).Do(info =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = (IEnumerator) info[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (a.MoveNext()) { } });</code> </pre> <br><a name="Gizmo"></a><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฃุฏุงุฉ </font></font></h4><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฑุงุญุฉ ุนุฑุถ ุงูุนูุงุตุฑ ุบูุฑ ุงููุฑุฆูุฉ ุ ุฃูุตู ุจุงุณุชุฎุฏุงู ุตูุฑ gizmo ูุฑุฆูุฉ ููุท ูู ุงููุดูุฏ. </font><font style="vertical-align: inherit;">ุฃููุง ุชุฌุนู ูู ุงูุณูู ุชุญุฏูุฏ ุนูุตุฑ ุบูุฑ ูุฑุฆู ุจููุฑุฉ ูุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ุฃูุถุง ุงุชุตุงูุงุช ูู ุงูุนูุงุตุฑ ูู ุดูู ุฎุทูุท:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDrawGizmos</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (outputConnectorMb != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Handles.DrawLine(transform.position, outputConnectorMb.Transform.position); } }</code> </pre> <br><img src="https://habrastorage.org/webt/ta/ce/d5/taced5wyeyhwkpj5vtiuvauu68s.png"><br><br><a name="Testing"></a><h3 style=";text-align:right;direction:rtl">  ุชุฌุฑูุจ </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชูู</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃุฑุฏุช ุงูุญุตูู ุนูู ุฃูุตู ุงุณุชูุงุฏุฉ ูู ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู ุ ูุฃูู ุชู ุงุณุชุฎุฏุงู ุงูุงุฎุชุจุงุฑุงุช ุญูุซูุง ูุงู ุฐูู ูููููุง ูุณูู ุงูุงุณุชุฎุฏุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ูุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุ ูู ุงููุนุชุงุฏ ุงุณุชุฎุฏุงู ูุงุฆูุงุช ููููุฉ ุจุฏูุงู ูู ุงููุฆุงุช ุงูุชู ุชููุฐ ุงููุงุฌูุฉ ุงูุชู ุชุนุชูุฏ ุนูููุง ูุฆุฉ ุงูุงุฎุชุจุงุฑ. ููุฐุง ุ ุงุณุชุฎุฏูุช ููุชุจุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSubstitute</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุง ูู ูุณุฑูุฑ ุฌุฏุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุฏุฉ ูุง ุชุฏุนู NuGet ุ ูุฐูู ุงุถุทุฑุฑุช ุฅูู ุงูุญุตูู ุนูู DLL ุจุดูู ูููุตู ุ ุซู ุงูุชุฌููุน ุ ุญูุซ ุชุชู ุฅุถุงูุฉ ุชุจุนูุฉ ุฅูู ููู AssemblyDefinition ููุชู ุงุณุชุฎุฏุงููุง ุฏูู ูุดุงูู. </font></font><br><br><img src="https://habrastorage.org/webt/y-/bh/sp/y-bhsprsfvxo-j9javgdhdzzhig.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฎุชุจุงุฑ ุงูุชููุงุฆู ุ ุชูุฏู Unity TestRunner ุ ูุงูุฐู ูุนูู ูุน ุฅุทุงุฑ ุงุฎุชุจุงุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุดููุฑ ุฌุฏูุง </font><font style="vertical-align: inherit;">. ูู ูุฌูุฉ ูุธุฑ TestRunner ุ ููุงู ููุนุงู ูู ุงูุงุฎุชุจุงุฑุงุช:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> EditMode โ     ,   .    Nunit .    ,    .        GameObject  Monobehaviour .   ,     EditMode . </li><li style=";text-align:right;direction:rtl"> PlayMode โ     .    </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EditMode. ูู ุชุฌุฑุจุชู ุ ูุงู ููุงู ุงูุนุฏูุฏ ูู ุงูุฅุฒุนุงุฌ ูุงูุณููู ุงูุบุฑูุจ ูู ูุฐุง ุงููุถุน. ููุน ุฐูู ุ ููู ูุฑูุญุฉ ููุชุญูู ุชููุงุฆูุง ูู ุตุญุฉ ุงูุชุทุจูู ููู. ููุง ุฃููุง ุชููุฑ ุงูุชุญูู ุงูุตุงุฏู ููุฑูุฒ ูู ุฃุณุงููุจ ูุซู ุงูุจุฏุก ูุงูุชุญุฏูุซ ููุง ุดุงุจู ุฐูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ูุตู ุงุฎุชุจุงุฑุงุช PlayMode ุจุฃููุง ุงุฎุชุจุงุฑุงุช NUnit ุนุงุฏูุฉ ุ ูููู ููุฌุฏ ุจุฏูู. ูู PlayMode ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ูุจุนุถ ุงูููุช ุฃู ุนุฏุฏ ูุนูู ูู ุงูุฅุทุงุฑุงุช. ููููุงู ุจุฐูู ุ ูุฌุจ ุฃู ุชูุตู ุงูุงุฎุชุจุงุฑุงุช ุจุทุฑููุฉ ููุงุซูุฉ ู Coroutine. ูุฌุจ ุฃู ุชููู ุงููููุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง IEnumerator / IEnumerable ูุฏุงุฎููุง ุ ูุชุฎุทู ุงูููุช ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุ ุนูู ุณุจูู ุงููุซุงู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>;</code> </pre> <br>  ุฃู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span></span><span class="hljs-function">)</span></span>;</code> </pre> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ููู ุงูุฅุฑุฌุงุน ุงูุฃุฎุฑู. </font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ ูุซู ูุฐุง ุงูุงุฎุชุจุงุฑ ุฅูู ุชุนููู ุณูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnityTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ููุงู ุฃูุถูุง </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุงุช UnitySetUp ู UnityTearDown ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ููุฌ ููุงุซู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุง ุ ุจุฏูุฑู ุ ูุดุงุฑูุฉ ุงุฎุชุจุงุฑุงุช EditMode ูููุญุฏุงุช ุงูููุทูุฉ ูุงูุชูุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฎุชุจุงุฑ ูุญุฏุฉ ุงุฎุชุจุงุฑ ูุฆุฉ ูุงุญุฏุฉ ููุท ูู ุนุฒูุฉ ุชุงูุฉ ุนู ุงููุตูู ุงูุฃุฎุฑู. </font><font style="vertical-align: inherit;">ุบุงูุจูุง ูุง ุชุณูู ูุซู ูุฐู ุงูุงุฎุชุจุงุฑุงุช ุฅุนุฏุงุฏ ุงูุจูุฆุฉ ูููุฆุฉ ุงููุฎุชุจุฑุฉ ุ ูุชุชูุญ ูู ุงูุฃุฎุทุงุก ุ ุนูุฏ ุงุฌุชูุงุฒูุง ุ ุชุญุฏูุฏ ููุงู ุงููุดููุฉ ุจุฏูุฉ ุฃูุจุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุ ุฃุฎุชุจุฑ ุงูุนุฏูุฏ ูู ุงููุตูู ุงูุฃุณุงุณูุฉ ูุงููุตูู ุงููุทููุจุฉ ูุจุงุดุฑุฉ ูู ุงููุนุจุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฎุชุจุงุฑุงุช ุนูุงุตุฑ ุงูุฏุงุฆุฑุฉ ูุชุดุงุจูุฉ ุฌุฏุง ุ ูุฐูู ููุช ุจุฅูุดุงุก ูุฆุฉ ุฃุณุงุณูุฉ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ElectricalElementTestsBase</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TElement</span></span>&gt; <span class="hljs-title"><span class="hljs-title">where</span></span> <span class="hljs-title"><span class="hljs-title">TElement</span></span> : <span class="hljs-title"><span class="hljs-title">ElectricalElementBase</span></span>, <span class="hljs-title"><span class="hljs-title">IElectricalElement</span></span>, <span class="hljs-title"><span class="hljs-title">new</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> TElement element; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> IInputConnector mInput1; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> IInputConnector mInput2; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> IInputConnector mInput3; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> IInputConnector mInput4; [OneTimeSetUp] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { element = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TElement(); mInput1 = Substitute.For&lt;IInputConnector&gt;(); mInput2 = Substitute.For&lt;IInputConnector&gt;(); mInput3 = Substitute.For&lt;IInputConnector&gt;(); mInput4 = Substitute.For&lt;IInputConnector&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue_3Input</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input3, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expectedOutput</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// arrange mInput1.Value.Returns(input1); mInput2.Value.Returns(input2); mInput3.Value.Returns(input3); element.Input = new[] {mInput1, mInput2, mInput3}; // act bool result = element.GetValue(); // assert Assert.AreEqual(expectedOutput, result); } protected void GetValue_2Input(bool input1, bool input2, bool expectedOutput) { // arrange mInput1.Value.Returns(input1); mInput2.Value.Returns(input2); element.Input = new[] {mInput1, mInput2}; // act bool result = element.GetValue(); // assert Assert.AreEqual(expectedOutput, result); } protected void GetValue_1Input(bool input, bool expectedOutput) { // arrange mInput1.Value.Returns(input); element.Input = new[] {mInput1}; // act bool result = element.GetValue(); // assert Assert.AreEqual(expectedOutput, result); } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุจุฏู ุงุฎุชุจุงุฑุงุช ุงูุนูุงุตุฑ ุงูุฅุถุงููุฉ ููุง ููู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">AndTests</span></span> : <span class="hljs-title"><span class="hljs-title">ElectricalElementTestsBase</span></span>&lt;<span class="hljs-title"><span class="hljs-title">And</span></span>&gt; { [TestCase(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)] [TestCase(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)] [TestCase(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)] [TestCase(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> new </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue_2Input</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> output</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetValue_2Input(input1, input2, output); } [TestCase(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>)] [TestCase(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> new </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue_1Input</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expectedOutput</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.GetValue_1Input(input, expectedOutput); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุจูุง ูููู ูุฐุง ุชุนููุฏูุง ูู ุญูุซ ุณูููุฉ ุงูููู ุ ููู ุฃูุฑ ุบูุฑ ุถุฑูุฑู ุนุงุฏุฉ ูู ุงูุงุฎุชุจุงุฑุงุช ุ ููููู ูู ุฃุฑุบุจ ูู ูุณุฎ ุงููุตู ุจููุณ ุงูุดูุก 11 ูุฑุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุฃูุถุง ุงุฎุชุจุงุฑุงุช GameManagers. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ูุฏููู ุงููุซูุฑ ูู ุงูููุงุณู ุงููุดุชุฑูุฉ ุ ููุฏ ุญุตููุง ุฃูุถูุง ุนูู ูุฆุฉ ุฃุณุงุณูุฉ ูู ุงูุงุฎุชุจุงุฑุงุช. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃู ูููู ูุฏู ูุฏูุฑู ุงูุฃูุนุงุจ ูู ููุง ุงููุถุนูู ุจุนุถ ุงููุธุงุฆู ุงููุชูุงุซูุฉ ูุจุนุถูุง ูุฎุชูู. </font><font style="vertical-align: inherit;">ูุชู ุงุฎุชุจุงุฑ ุงูุฃุดูุงุก ุงูุนุงูุฉ ุจุงุณุชุฎุฏุงู ููุณ ุงูุงุฎุชุจุงุฑุงุช ููู ุฎูููุฉ ููุชู ุงุฎุชุจุงุฑ ุงูุณููู ุงููุญุฏุฏ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู. </font><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ููุฌ ุงูุญุฏุซ ุ ูู ููู ูู ุงูุตุนุจ ุงุฎุชุจุงุฑ ุงูุณููู ุงูุฐู ูุงู ุจู ุงูุญุฏุซ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Test</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FullHelpAgree_FinishLevel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// arrange levelGameManager.Start(); helpMenu.ClearReceivedCalls(); dataManager.ClearReceivedCalls(); // act helpMenu.FullHelpClick += Raise.Event&lt;Action&gt;(); fullHelpWindow.Agreed += Raise.Event&lt;Action&lt;bool&gt;&gt;(true); // assert dataManager.Received().SaveGame(); helpMenu.Received().Hide(); } [Test] public void ChangeSource_RootOutBecomeTrue_SavesGameOpensMenu() { // arrange currentLevelData.IsTestLevel.Returns(false); rootOutputMb.OutputConnector.Value.Returns(true); // act levelGameManager.Start(); levelFinishedMenu.ClearReceivedCalls(); dataManager.ClearReceivedCalls(); source.ValueChanged += Raise.Event&lt;Action&lt;bool&gt;&gt;(true); // assert dataManager.Received().SaveGame(); levelFinishedMenu.Received().Show(); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุ ุงุฎุชุจุฑุช ุฃูุถูุง ูุตูู ุงููุญุฑุฑ ุ ูุฃุฎุฐุชูุง ูู ุงูุณูุงู ุงูุซุงุจุช ูุญุงููุฉ DI. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุงูุชุญูู ุจูุง ูู ุฐูู ุงูุญูู ุงูุตุญูุญ ุ ูุงูุฐู ูุง ููู ุฃูููุฉ ุนู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PlacerTests</span></span> { [Inject] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ICircuitEditorPlacer circuitEditorPlacer; [Inject] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ICircuitGenerator circuitGenerator; [Inject] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IEditorSolver solver; [Inject] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ISceneObjectsHelper sceneObjectsHelper; [TearDown] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TearDown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { sceneObjectsHelper.DestroyObjectsOfType&lt;IElectricalElementMb&gt;(immediate: <span class="hljs-literal"><span class="hljs-literal">true</span></span>); } [OneTimeSetUp] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> container = StaticContext.Container; container.Inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } [TestCase(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)] [TestCase(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)] [TestCase(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaceSolve_And_NoModifications_AllVariantsSolved</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lines, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> elementsInLine</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variants = circuitGenerator.Generate(lines, elementsInLine, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; {<span class="hljs-number"><span class="hljs-number">0</span></span>}, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variant <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> variants) { circuitEditorPlacer.PlaceCircuit(variant); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> solutions = solver.FindSolutions(); CollectionAssert.IsNOTEmpty(solutions); } } [TestCase(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.Branching)] [TestCase(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.ThroughLayer)] [TestCase(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.All)] [TestCase(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.Branching)] [TestCase(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.ThroughLayer)] [TestCase(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, StructureModification.All)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PlaceSolve_And_Modifications_AllVariantsSolved</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lines, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> elementsInLine, StructureModification modification</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variants = circuitGenerator.Generate(lines, elementsInLine, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; {<span class="hljs-number"><span class="hljs-number">0</span></span>}, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, modification); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variant <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> variants) { circuitEditorPlacer.PlaceCircuit(variant); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> solutions = solver.FindSolutions(); CollectionAssert.IsNOTEmpty(solutions); } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุฎุฏู ูุฐุง ุงูุงุฎุชุจุงุฑ ุชุทุจููุงุช ุญููููุฉ ูุฌููุน ุงูุชุจุนูุงุช ููุฐูู ูุนูู ุงููุงุฆูุงุช ุนูู ุงููุณุฑุญ ุ ููู ุฃูุฑ ูููู ุชูุงููุง ูู ุงุฎุชุจุงุฑุงุช EditMode. ุตุญูุญ ุฃู ุงูุงุฎุชุจุงุฑ ุฌุนููุง ุนุงููุฉ - ูุฏู ููุฑุฉ ููููุฉ ุนู ููููุฉ ุฐูู ุ ูุฐูู ุฃุชุญูู ูู ุฃู ุงูุฏุงุฆุฑุฉ ุงูููุดูุฑุฉ ูุฏููุง ุญููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุชูุงูู ุ ููุงู ุฃูุถูุง ุงุฎุชุจุงุฑุงุช ูู CircuitGenerator (StructureGenerator + VariantsGenerator) ู Solver</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CircuitGeneratorTests</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ICircuitGenerator circuitGenerator; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ISolver solver; [SetUp] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { solver = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Solver(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gates = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Func&lt;IElectricalElement&gt;&gt; { () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> And(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Or(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Xor() }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> conductors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Func&lt;IElectricalElement&gt;&gt; { () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Conductor(), () =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Not() }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elements = Substitute.For&lt;IElementsProvider&gt;(); elements.Conductors.Returns(conductors); elements.Gates.Returns(gates); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> structGenerator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StructureGenerator(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> variantsGenerator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VariantsGenerator(solver, elements); circuitGenerator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CircuitGenerator(structGenerator, variantsGenerator); } [Test] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Generate_2l_2max_ReturnsVariants</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// act var variants = circuitGenerator.Generate(2, 2, new[] {0, 1, 2}, false).ToArray(); // assert Assert.True(variants.Any()); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Nand)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Nor)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Xnor)); AssertLayersNotContains(variants.First().Structure.Conductors, typeof(Not)); AssertLayersContains(variants.First().Structure.Gates, typeof(Or)); AssertLayersContains(variants.First().Structure.Gates, typeof(Xor)); AssertLayersContains(variants.First().Structure.Conductors, typeof(Conductor)); } [Test] public void Generate_2l_2max_RestrictedElementsWithConductors() { // arrange var available = new[] {0}; // act var variants = circuitGenerator.Generate(2, 2, available, true).ToArray(); // assert Assert.True(variants.Any()); var lElements = new List&lt;int&gt;(); var layers = variants.Select(v =&gt; v.Gates); foreach (var layer in layers) { foreach (var item in layer.Values) { lElements.AddRange(item); } } Assert.True(lElements.Contains(0)); Assert.False(lElements.Contains(1)); Assert.False(lElements.Contains(2)); AssertLayersContains(variants.First().Structure.Gates, typeof(And)); AssertLayersContains(variants.First().Structure.Conductors, typeof(Conductor)); AssertLayersContains(variants.First().Structure.Conductors, typeof(Not)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Nand)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Or)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Nor)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Xnor)); AssertLayersNotContains(variants.First().Structure.Gates, typeof(Xor)); } private static void AssertLayersContains(IDictionary&lt;int, ElectricalElementContainer[]&gt; layers, Type elementType) { AssertLayersContains(layers, elementType, true); } private static void AssertLayersNotContains(IDictionary&lt;int, ElectricalElementContainer[]&gt; layers, Type elementType) { AssertLayersContains(layers, elementType, false); } private static void AssertLayersContains(IDictionary&lt;int, ElectricalElementContainer[]&gt; layers, Type elementType, bool shouldContain) { bool contains = false; foreach (var layer in layers) { foreach (var item in layer.Value) { contains |= item.Elements.Select(e =&gt; e.GetType()).Contains(elementType); } } Assert.AreEqual(shouldContain, contains); } } }</span></span></code> </pre> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ุงุฎุชุจุงุฑุงุช PlayMode ูุงุฎุชุจุงุฑุงุช ูููุธุงู. ุงููู ูุชุญูููู ุงูุฌุงูุฒุฉ ุ ุญูู ุ ุงูุฎ ูู ุงูุฎูุงุฑุงุช ุงูุฌูุฏุฉ ุงุณุชุฎุฏุงู ุงููุดุงูุฏ ุงูุฌุงูุฒุฉ ุญูุซ ูุชู ููุท ุชุญููู ุงูุงุฎุชุจุงุฑ ูููุชุฌ ุนูู ุจุนุถ ุงูุชูุงุนูุงุช. ููููู ุฃุณุชุฎุฏู ูุดูุฏูุง ูุงุฑุบูุง ุฌุงูุฒูุง ููุงุฎุชุจุงุฑ ุ ุญูุซ ุชุฎุชูู ุงูุจูุฆุฉ ุนูุง ุณูููู ุนููู ูู ุงููุนุจุฉ. ูุงูุช ููุงู ูุญุงููุฉ ูุงุณุชุฎุฏุงู PlayMode ูุงุฎุชุจุงุฑ ุนูููุฉ ุงููุนุจุฉ ุจุฃููููุง ุ ูุซู ุฅุฏุฎุงู ุงููุงุฆูุฉ ูุฅุฏุฎุงู ุงููุณุชูู ููุง ุฅูู ุฐูู ุ ูููู ุชุจูู ุฃู ุนูู ูุฐู ุงูุงุฎุชุจุงุฑุงุช ุบูุฑ ูุณุชูุฑ ุ ูุฐูู ุชูุฑุฑ ุชุฃุฌููู ุฅูู ููุช ูุงุญู (ุฃุจุฏูุง). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงุณุจ ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุชูููู ุงูุชุบุทูุฉ ููุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุ ููู ููุฃุณู ูู ุฃุฌุฏ ุฃู ุญููู ุชุนูู ูุน Unity.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ูุฌุฏุช ูุดููุฉ ุฃูู ูุน ุชุฑููุฉ Unity ุฅูู 2018.3 ุ ุจุฏุฃุช ุงูุงุฎุชุจุงุฑุงุช ุชุนูู ุจุดูู ุฃุจุทุฃ ุ ุญุชู 10 ูุฑุงุช ุฃุจุทุฃ (ูู ูุซุงู ุงุตุทูุงุนู). </font><font style="vertical-align: inherit;">ูุญุชูู ุงููุดุฑูุน ุนูู 288 EditMode ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ุชุนูู ููุฏุฉ 11 ุซุงููุฉ ุ ุนูู ุงูุฑุบู ูู ุนุฏู ุงูููุงู ุจุฃู ุดูุก ููุงู ููุชุฑุฉ ุทูููุฉ.</font></font><br><br><a name="Resume"></a><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฎุต ุงูุชูููุฉ </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู </font></font></a> <br><br><img src="https://habrastorage.org/webt/kl/4d/u6/kl4du6hxim70hyncofiakaiqsi4.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุทุฉ ูู ูุณุชูู ุงููุนุจุฉ</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ุตูุงุบุฉ ููุทู ุจุนุถ ุงูุฃูุนุงุจ ุจุบุถ ุงููุธุฑ ุนู ุงููุธุงู ุงูุฃุณุงุณู. ูู ูุฑุญูุฉ ูุจูุฑุฉ ุ ูููุญ ูุฐุง ุณูููุฉ ุงูุชุทููุฑ ููุงุจููุฉ ุงูุงุฎุชุจุงุฑ ุจูุงุณุทุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุฐุงุชูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DI ูุฑูุญุฉ. ุญุชู ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุญูููุฉ ุฃู Unity ูุง ุชููููุง ุฃุตูููุง ุ ูุฅู ุงูุดุฏ ุนูู ุงูุฌุงูุจ ูุนูู ุจุดูู ูุญุชูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุฏุฉ ุชุณูุญ ูู ุจุงุฎุชุจุงุฑ ุงููุดุฑูุน ุชููุงุฆููุง. ุตุญูุญ ุ ูุธุฑูุง ูุฃู ุฌููุน ููููุงุช GameObject ุงููุถููุฉ ูุง ุชุญุชูู ุนูู ูุงุฌูุงุช ููุง ูููู ุงุณุชุฎุฏุงููุง ุฅูุง ูุจุงุดุฑุฉ ููุณุฎุฑูุฉ ูู ุฃุดูุงุก ูุซู Collider ู SpriteRenderer ู MeshRenderer ุ ุฅูุฎ. ูู ุชูุฌุญ. ุนูู ุงูุฑุบู ูู ุฃู GetComponent ูุณูุญ ูู ุจุงูุญุตูู ุนูู ููููุงุช ุนูู ุงููุงุฌูุฉ. ูุฎูุงุฑ ุ ุงูุชุจ ุงูุฃุบููุฉ ุงูุฎุงุตุฉ ุจู ููู ุดูุก.</font></font><br><br>       ,        .        .,    ,           /        .   DI, , scriptable objects  ,   ,  ,       Zenject,   ,     . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุฏุฉ ุชููุฏ ูุฏุฑุง ูุจูุฑุง ูู ุงูุฃุฎุทุงุก ูุงูุญูุงุฏุซ. </font><font style="vertical-align: inherit;">ุบุงูุจูุง ูุง ูุชู ุญู ุงูุฃุฎุทุงุก ุนู ุทุฑูู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุญุฑุฑ. </font><font style="vertical-align: inherit;">ุชูุงุฌู ุฎุณุงุฑุฉ ุบุฑูุจุฉ ูู ุงูุฅุดุงุฑุงุช ุฅูู ุงููุงุฆูุงุช ูู ุงูุฌุงูุฒุฉ. </font><font style="vertical-align: inherit;">ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุชู ุฅุชูุงู ุงูุชุฑููุจ ุงููุณุจู ุญุณุจ ุงููุฑุฌุน (ToString () ููุฑุฌุน "ูุงุบู") ุ ุนูู ุงูุฑุบู ูู ุฃู ูู ุดูุก ูุจุฏู ุณุงุฑูุงู ุ ูุชู ุณุญุจ ุงูุชุฌููุฒ ุงููุณุจู ุฅูู ุงููุดูุฏ ููุง ูููู ุงูุฑุงุจุท ูุงุฑุบูุง. </font><font style="vertical-align: inherit;">ูู ุจุนุถ ุงูุฃุญูุงู ุชุถูุน ุจุนุถ ุงูุงุชุตุงูุงุช ูู ุฌููุน ุงููุดุงูุฏ. </font><font style="vertical-align: inherit;">ูุจุฏู ุฃูู ุชู ุชุซุจูุช ูู ุดูุก ุ ููู ุนูุฏ ุงูุชุจุฏูู ุฅูู ูุฑุน ุขุฎุฑ ุ ูุชู ูุณุฑ ุฌููุน ุงููุดุงูุฏ - ูุง ุชูุฌุฏ ุฑูุงุจุท ุจูู ุงูุนูุงุตุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุณู ุงูุญุธ ุ ุบุงูุจูุง ูุง ุชู ุชุตุญูุญ ูุฐู ุงูุฃุฎุทุงุก ุนู ุทุฑูู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุญุฑุฑ ุฃู ูู ุจุนุถ ุงูุฃุญูุงู ุญุฐู ูุฌูุฏ "ุงูููุชุจุฉ". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุฌููุน ุ ููุฏ ูุฑ ุญูุงูู ูุตู ุนุงู ูู ุงูููุฑุฉ ุฅูู ุงููุดุฑ ุนูู Google Play. </font><font style="vertical-align: inherit;">ุงุณุชุบุฑู ุงูุชุทููุฑ ููุณู ุญูุงูู 3 ุฃุดูุฑ ุ ูู ููุช ุงููุฑุงุบ ูู ุงูุนูู ุงูุฑุฆูุณู.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar453564/">https://habr.com/ru/post/ar453564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar453546/index.html">ุชุญุชุงุฌ ููุญุฉ ููุงุชูุญ ุตุบูุฑุฉ - ุงูุนููุง ุจููุณู</a></li>
<li><a href="../ar453548/index.html">ูุนูุฏ ุฅุญูุงุก ูุธุงู Samsung Galaxy TAB 2 WiFi</a></li>
<li><a href="../ar453554/index.html">ููู Starlink ูู SpaceX ูุฏ ุชุบูุฑ</a></li>
<li><a href="../ar453558/index.html">ููุฏูุฉ ูู ุงูุชุนูู ุงูุขูู</a></li>
<li><a href="../ar453562/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู 27 ูุงูู ุฅูู 2 ููููู</a></li>
<li><a href="../ar453566/index.html">ุงุณุชุนุงุฏุฉ ูุณููุฉ ุงูุฅูุถุงุญ: ุฏุนูุฉ ูุชุจุงุฏู ุงูุจูุงูุงุช ุงูููุชูุญุฉ ุงูุชู ูููู ุฃู ุชุณุงุนุฏ ูู ุงุณุชุนุงุฏุฉ ููุชุฑุฏุงู</a></li>
<li><a href="../ar453568/index.html">ุฅุนุงุฏุฉ ุฅูุดุงุก ุฑูุฒ: ุฏุนูุฉ ููุดุงุฑูุฉ ุงูุจูุงูุงุช ุงูููุชูุญุฉ ูููุณุงุนุฏุฉ ูู ุงุณุชุนุงุฏุฉ ููุชุฑุฏุงู</a></li>
<li><a href="../ar453570/index.html">Microsoft Edge ููุธุงู ุงูุชุดุบูู MacOS</a></li>
<li><a href="../ar453572/index.html">Microsoft Edge ููุธุงู ุงูุชุดุบูู MacOS</a></li>
<li><a href="../ar453574/index.html">B2B ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>