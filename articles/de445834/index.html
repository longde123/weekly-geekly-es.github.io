<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦁 👩🏾‍🚒 👨🏻‍🚒 Entwicklung der Fähigkeit zur Verwendung von Gruppierung und Datenvisualisierung in Python 💜 🤟🏽 👍🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 

 Heute werden wir die Fähigkeit entwickeln, Gruppierungs- und Datenvisualisierungstools in Python zu verwenden. In dem bereitgestellten ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklung der Fähigkeit zur Verwendung von Gruppierung und Datenvisualisierung in Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/445834/"><img src="https://habrastorage.org/webt/bg/ys/iw/bgysiwphjir0ghlyg7ntyua47wg.png" alt="Bild"><br><br>  Hallo Habr! <br><br>  Heute werden wir die Fähigkeit entwickeln, Gruppierungs- und Datenvisualisierungstools in Python zu verwenden.  In dem bereitgestellten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Datensatz zu Github</a> werden wir verschiedene Merkmale analysieren und eine Reihe von Visualisierungen erstellen. <br><br>  Nach der Tradition definieren wir am Anfang die Ziele: <br><br><ul><li>  Gruppieren Sie Daten nach Geschlecht und Jahr und visualisieren Sie die allgemeine Fruchtbarkeitsdynamik beider Geschlechter. </li><li>  Finden Sie die beliebtesten Namen in der Geschichte; </li><li>  Teilen Sie den gesamten Zeitraum in den Daten in 10 Teile auf und finden Sie für jeden den beliebtesten Namen für jedes Geschlecht.  Visualisieren Sie für jeden gefundenen Namen seine Dynamik für die gesamte Zeit. </li><li>  Berechnen Sie für jedes Jahr, wie viele Namen 50% der Personen abdecken und visualisieren (für jedes Jahr werden verschiedene Namen angezeigt). </li><li>  Wählen Sie 4 Jahre aus dem gesamten Zeitraum aus und zeigen Sie für jedes Jahr die Verteilung nach dem ersten Buchstaben im Namen und nach dem letzten Buchstaben im Namen an. </li><li>  Erstellen Sie eine Liste mehrerer berühmter Personen (Präsidenten, Sänger, Schauspieler, Filmhelden) und bewerten Sie deren Auswirkungen auf die Dynamik von Namen.  Visualisierung erstellen. </li></ul><br>  Weniger Wörter, mehr Code! <br><br>  Und lass uns gehen. <br><a name="habracut"></a><br><h4>  Gruppieren Sie die Daten nach Geschlecht und Jahr und visualisieren Sie die allgemeine Dynamik der Geburtenrate beider Geschlechter: </h4><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) datalist = <span class="hljs-string"><span class="hljs-string">'https://raw.githubusercontent.com/wesm/pydata-book/2nd-edition/datasets/babynames/yob{year}.txt'</span></span> dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe.assign(year=year)) result = pd.concat(dataframes) sex = result.groupby(<span class="hljs-string"><span class="hljs-string">'sex'</span></span>) births_men = sex.get_group(<span class="hljs-string"><span class="hljs-string">'M'</span></span>).groupby(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) births_women = sex.get_group(<span class="hljs-string"><span class="hljs-string">'F'</span></span>).groupby(<span class="hljs-string"><span class="hljs-string">'year'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) births_men_list = births_men.aggregate(np.sum)[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].tolist() births_women_list = births_women.aggregate(np.sum)[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].tolist() fig, ax = plt.subplots() fig.set_size_inches(<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>) index = np.arange(len(years)) stolb1 = ax.bar(index, births_men_list, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, color=<span class="hljs-string"><span class="hljs-string">'c'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) stolb2 = ax.bar(index + <span class="hljs-number"><span class="hljs-number">0.4</span></span>, births_women_list, <span class="hljs-number"><span class="hljs-number">0.4</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.8</span></span>, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'    '</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_xticklabels(years) ax.set_xticks(index + <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>) fig.tight_layout() plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/s6/wg/ft/s6wgftfappxjfseustjqtqtskck.png" alt="Bild"><br><br><h4>  Finden Sie die beliebtesten Namen in der Geschichte: </h4><br><pre> <code class="python hljs">years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe) result = pd.concat(dataframes) names = result.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum().sort_values(<span class="hljs-string"><span class="hljs-string">'count'</span></span>, ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) names.head(<span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre><br><img src="https://habrastorage.org/webt/io/kg/af/iokgafyfhwxgpuidxyb_b8bkzpy.png" alt="Bild"><br><br><h4>  Wir teilen den gesamten Zeitraum in den Daten in 10 Teile auf und finden für jeden den beliebtesten Namen jedes Geschlechts.  Visualisieren Sie für jeden gefundenen Namen seine Dynamik für die gesamte Zeit: </h4><br><pre> <code class="python hljs">years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) part_size = int((years[years.size - <span class="hljs-number"><span class="hljs-number">1</span></span>] - years[<span class="hljs-number"><span class="hljs-number">0</span></span>]) / <span class="hljs-number"><span class="hljs-number">10</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span> parts = {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetPart</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(year)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int((year - years[<span class="hljs-number"><span class="hljs-number">0</span></span>]) / part_size) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: index = GetPart(year) r = years[<span class="hljs-number"><span class="hljs-number">0</span></span>] + part_size * index, min(years[years.size - <span class="hljs-number"><span class="hljs-number">1</span></span>], years[<span class="hljs-number"><span class="hljs-number">0</span></span>] + part_size * (index + <span class="hljs-number"><span class="hljs-number">1</span></span>)) parts[index] = str(r[<span class="hljs-number"><span class="hljs-number">0</span></span>]) + <span class="hljs-string"><span class="hljs-string">'-'</span></span> + str(r[<span class="hljs-number"><span class="hljs-number">1</span></span>]) dataframe_parts = [] dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframe_parts.append(dataframe.assign(years=parts[GetPart(year)])) dataframes.append(dataframe.assign(year=year)) result_parts = pd.concat(dataframe_parts) result = pd.concat(dataframes) result_parts_sums = result_parts.groupby([<span class="hljs-string"><span class="hljs-string">'years'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum() result_parts_names = result_parts_sums.iloc[result_parts_sums.groupby([<span class="hljs-string"><span class="hljs-string">'years'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[<span class="hljs-string"><span class="hljs-string">'count'</span></span>].idxmax())] result_sums = result.groupby([<span class="hljs-string"><span class="hljs-string">'year'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span>], as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).sum() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> groupName, groupLabels <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result_parts_names.groupby([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>]).groups.items(): group = result_sums.groupby([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>]).get_group(groupName) fig, ax = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>) label = group[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] ax.plot(group[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], group[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], label=label.aggregate(np.max), color=<span class="hljs-string"><span class="hljs-string">'b'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">11</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/yp/o_/m0/ypo_m0sbnz5uwtlfssqi7qdx1jm.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/-8/yv/2m/-8yv2mombfbnydfbunco2zsyvoi.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/xd/gj/rg/xdgjrgmc6j45urnemdyuxbakzaw.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/bo/rm/tv/bormtvijzrxv_d7icxk8jtegygq.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/ch/eu/zg/cheuzgfafycl74ao12uhno6wgiw.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/79/gq/q9/79gqq9mujeudutjhgr3-sdntqio.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/ax/dp/5g/axdp5gpy3o_ddx3qu8tkwhlbcom.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tn/mq/yt/tnmqythfuz1eh4ieryvrfsnntzc.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/lj/m5/qq/ljm5qqp3k6h7ycvbc3j0alfpr6u.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/mb/br/xq/mbbrxqwybqakmhj6wwfxc8pnses.png" alt="Bild"><br><br><h4>  Für jedes Jahr berechnen wir, wie viele Namen 50% der Personen diese Daten abdecken und visualisieren: </h4><br><pre> <code class="python hljs">dataframe = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'year'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'count'</span></span>: []}) years = np.arange(<span class="hljs-number"><span class="hljs-number">1880</span></span>, <span class="hljs-number"><span class="hljs-number">2011</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) csv = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) names = csv.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).aggregate(np.sum) names[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] = names.sum()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>] names[<span class="hljs-string"><span class="hljs-string">'percent'</span></span>] = names[<span class="hljs-string"><span class="hljs-string">'count'</span></span>] / names[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] * <span class="hljs-number"><span class="hljs-number">100</span></span> names = names.sort_values([<span class="hljs-string"><span class="hljs-string">'percent'</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) names[<span class="hljs-string"><span class="hljs-string">'cum_perc'</span></span>] = names[<span class="hljs-string"><span class="hljs-string">'percent'</span></span>].cumsum() names_filtered = names[names[<span class="hljs-string"><span class="hljs-string">'cum_perc'</span></span>] &lt;= <span class="hljs-number"><span class="hljs-number">50</span></span>] dataframe = dataframe.append(pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'year'</span></span>: [year], <span class="hljs-string"><span class="hljs-string">'count'</span></span>: [names_filtered.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]]})) fig, ax1 = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">22</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>)) ax1.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">12</span></span>) ax1.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">12</span></span>) ax1.plot(dataframe[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], dataframe[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax1.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/9y/fm/1e/9yfm1etlu5uiju5ug0qmundf-q0.png" alt="Bild"><br><br><h4>  Wählen Sie 4 Jahre aus dem gesamten Zeitraum und zeigen Sie für jedes Jahr die Verteilung nach dem ersten Buchstaben im Namen und nach dem letzten Buchstaben im Namen an: </h4><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ascii_lowercase, ascii_uppercase fig_first, ax_first = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) fig_last, ax_last = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) index = np.arange(len(ascii_uppercase)) years = [<span class="hljs-number"><span class="hljs-number">1944</span></span>, <span class="hljs-number"><span class="hljs-number">1978</span></span>, <span class="hljs-number"><span class="hljs-number">1991</span></span>, <span class="hljs-number"><span class="hljs-number">2003</span></span>] colors = [<span class="hljs-string"><span class="hljs-string">'r'</span></span>, <span class="hljs-string"><span class="hljs-string">'g'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>] n = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) csv = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) names = csv.groupby(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, as_index=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).aggregate(np.sum) count = names.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] dataframe = pd.DataFrame({<span class="hljs-string"><span class="hljs-string">'letter'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>: [], <span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>: []}) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> letter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ascii_uppercase: countFirst = (names[names.name.str.startswith(letter)].count()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>]) countLast = (names[names.name.str.endswith(letter.lower())].count()[<span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframe = dataframe.append(pd.DataFrame({ <span class="hljs-string"><span class="hljs-string">'letter'</span></span>: [letter], <span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>: [countFirst / count * <span class="hljs-number"><span class="hljs-number">100</span></span>], <span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>: [countLast / count * <span class="hljs-number"><span class="hljs-number">100</span></span>]})) ax_first.bar(index + <span class="hljs-number"><span class="hljs-number">0.3</span></span> * n, dataframe[<span class="hljs-string"><span class="hljs-string">'frequency_first'</span></span>], <span class="hljs-number"><span class="hljs-number">0.3</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, color=colors[n], label=year) ax_last.bar(index + bar_width * n, dataframe[<span class="hljs-string"><span class="hljs-string">'frequency_last'</span></span>], <span class="hljs-number"><span class="hljs-number">0.3</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, color=colors[n], label=year) n += <span class="hljs-number"><span class="hljs-number">1</span></span> ax_first.set_xlabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax_first.set_ylabel(<span class="hljs-string"><span class="hljs-string">', %'</span></span>) ax_first.set_title(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ax_first.set_xticks(index) ax_first.set_xticklabels(ascii_uppercase) ax_first.legend() ax_last.set_xlabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax_last.set_ylabel(<span class="hljs-string"><span class="hljs-string">', %'</span></span>) ax_last.set_title(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ax_last.set_xticks(index) ax_last.set_xticklabels(ascii_uppercase) ax_last.legend() fig_first.tight_layout() fig_last.tight_layout() plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/ju/jo/0n/jujo0n1yuyi8enow6nufuvjjmtq.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/nb/88/gb/nb88gblc8qawtidkxc7hugzt8-k.png" alt="Bild"><br><br><h4>  Lassen Sie uns eine Liste mehrerer berühmter Personen (Präsidenten, Sänger, Schauspieler, Filmhelden) erstellen und deren Auswirkungen auf die Dynamik von Namen bewerten: </h4><br><pre> <code class="python hljs">celebrities = {<span class="hljs-string"><span class="hljs-string">'Frank'</span></span>: <span class="hljs-string"><span class="hljs-string">'M'</span></span>, <span class="hljs-string"><span class="hljs-string">'Britney'</span></span>: <span class="hljs-string"><span class="hljs-string">'F'</span></span>, <span class="hljs-string"><span class="hljs-string">'Madonna'</span></span>: <span class="hljs-string"><span class="hljs-string">'F'</span></span>, <span class="hljs-string"><span class="hljs-string">'Bob'</span></span>: <span class="hljs-string"><span class="hljs-string">'M'</span></span>} dataframes = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> year <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> years: dataset = datalist.format(year=year) dataframe = pd.read_csv(dataset, names=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'sex'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>]) dataframes.append(dataframe.assign(year=year)) result = pd.concat(dataframes) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> celebrity, sex <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> celebrities.items(): names = result[result.name == celebrity] dataframe = names[names.sex == sex] fig, ax = plt.subplots(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">10</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize = <span class="hljs-number"><span class="hljs-number">10</span></span>) ax.plot(dataframe[<span class="hljs-string"><span class="hljs-string">'year'</span></span>], dataframe[<span class="hljs-string"><span class="hljs-string">'count'</span></span>], label=celebrity, color=<span class="hljs-string"><span class="hljs-string">'r'</span></span>, ls=<span class="hljs-string"><span class="hljs-string">'-'</span></span>) ax.legend(loc=<span class="hljs-number"><span class="hljs-number">9</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/webt/pn/v-/q6/pnv-q66lueerg-jdlbcz9kqz8q0.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/b1/n2/yk/b1n2ykya8vxvfxmem0td-_i_jy4.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/wo/e8/wo/woe8wohlz-mhow1zlb82u-lnyey.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/tm/ht/vn/tmhtvnaidpxfufo-ka2reqvt8vs.png" alt="Bild"><br><br>  Für das Training können Sie die Lebensdauer des Prominenten zur Visualisierung aus dem letzten Beispiel hinzufügen, um deren Einfluss auf die Dynamik von Namen visuell zu bewerten. <br><br>  Damit wurden alle unsere Ziele erreicht und erfüllt.  Wir haben die Fähigkeit entwickelt, Datengruppierungs- und Visualisierungstools in Python zu verwenden, und wir werden weiterhin mit Daten arbeiten.  Jeder kann für sich selbst Schlussfolgerungen zu vorgefertigten, visualisierten Daten ziehen. <br><br>  Alles Wissen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445834/">https://habr.com/ru/post/de445834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445822/index.html">Warum Jaop? Warum Schläger?</a></li>
<li><a href="../de445824/index.html">Codegenerierung in Dart. Teil 1. Grundlagen</a></li>
<li><a href="../de445826/index.html">Wir gehen mit Bedacht durch die Stadt - 2: Gehen wir mit dem genetischen Algorithmus im Kreis durch die Stadt</a></li>
<li><a href="../de445828/index.html">Chinesisches Sonnenspektrum</a></li>
<li><a href="../de445832/index.html">Strahlung: der unsichtbare Mörder und seine Töchter oder ein bisschen über Radon</a></li>
<li><a href="../de445838/index.html">Robotik für Kinder: Roboteraugen</a></li>
<li><a href="../de445844/index.html">GitLab 11.9 wurde mit Secrets Detection- und Multiple Marge Request Resolution-Regeln veröffentlicht</a></li>
<li><a href="../de445846/index.html">Professionelle Postgres</a></li>
<li><a href="../de445850/index.html">Reparieren Sie das Sharp Memowriter EL-7000 Note-Speicher- und Druckgerät nach Batterieverlust</a></li>
<li><a href="../de445852/index.html">So erstellen Sie einen DAG-Trigger in Airflow mithilfe der experimentellen API</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>