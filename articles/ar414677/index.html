<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ ๐ ุฃูุงูุฑ ุณูุฑู ุงูุณุฑูุนุฉ ๐จ๐ฝโโ๏ธ ๐ง๐ผ ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุงุญุฏุฉ ูู ุงูููุฒุงุช ุงููููุฏุฉ (ูู ุฑุฃูู) iOS 12 ุงูุชู ุชู ุชูุฏูููุง ูู WWDC 2018 ูู Siri Shortcuts . 


 ุงุฎุชุตุงุฑ ( ุงุฎุชุตุงุฑ ) - ุฃูุฑ ุณุฑูุน ุ ุทุฑููุฉ ูุตูุฑุฉ ูุชูููุฐ ุฃู ุฅุฌ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฃูุงูุฑ ุณูุฑู ุงูุณุฑูุนุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/414677/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ge/mr/un/gemrunsbwx7gf07v5htwy9lytpu.png"></p><br><p style=";text-align:right;direction:rtl">  ูุงุญุฏุฉ ูู ุงูููุฒุงุช ุงููููุฏุฉ (ูู ุฑุฃูู) iOS 12 ุงูุชู ุชู ุชูุฏูููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://">WWDC 2018</a> ูู <strong>Siri Shortcuts</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุงุฎุชุตุงุฑ ( <em>ุงุฎุชุตุงุฑ</em> ) - ุฃูุฑ ุณุฑูุน ุ ุทุฑููุฉ ูุตูุฑุฉ ูุชูููุฐ ุฃู ุฅุฌุฑุงุก ูุชุฌุงูุฒ ุงููุต ุงูููุงุณู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุชุทุจููุงุชู ุ ููููู ุงูุชูุงุท ุงุฎุชุตุงุฑุงุช ูุจุนุถ ุงูุฅุฌุฑุงุกุงุช.  ุชุนูู ููู ููุชู ูููู ุงููุณุชุฎุฏู ุจุชูููุฐูุง ุ ูุจุฏุฃ Siri ุจุฐูุงุก ุ ูู ุงูููุช ูุงูููุงู ุงูููุงุณุจูู ุ ูููุฏู ูู ูุฐู ุงูุงุฎุชุตุงุฑุงุช ุ ูุงูุฃูุถู ูู ุฐูู ููู ุ ุณูุชููู ุงููุณุชุฎุฏู ูู ุงูุงุชุตุงู ุจูุง ุจุนุจุงุฑุงุช ุณูุนูููุง ุนูููุง!  ุชุญุช ุงููุท ุฃูุซุฑ. </p><a name="habracut"></a><br><h2 id="kak-eto-rabotaet" style=";text-align:right;direction:rtl">  ููู ูุนูู </h2><br><p style=";text-align:right;direction:rtl">  ูุญู ูุณุชุฎุฏู ุชุทุจููุงุช ุชููู ุ ูู ุฎูุงู ุฅุฌุฑุงุกุงุช ูุนููุฉ ุ ุจุฅูุดุงุก ุงุฎุชุตุงุฑุงุช ูููุธุงู ูุชุณููููุง. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุนุฑุถ ูุฐู ุงูุงุฎุชุตุงุฑุงุช ูู <strong>ุงูุฅุนุฏุงุฏุงุช โ Siri ู Search</strong> . <br><img src="https://habrastorage.org/webt/vp/z2/fd/vpz2fdo_rakpjpl-imiuvzkbyly.png"><br>  ุชูุธูุฑ ููุทุฉ ุงูุดุงุดุฉ ุฃุนูุงู ุงูุงุฎุชุตุงุฑุงุช ุงูุซูุงุซุฉ ุงูุฃุฎูุฑุฉ ุงูุชู ุงูุชุดููุง ุงููุธุงู ูู ุชุทุจููุงุช ูุฎุชููุฉ.  ุฅุฐุง ููุฑูุง ุนูู ุฒุฑ "ุงููุฒูุฏ ูู ุงูุงุฎุชุตุงุฑุงุช" ุ ูุณูู ูุฑู ูู ุงูุงุฎุชุตุงุฑุงุช ุงูุชู ูุชู ุชุณููููุง ุฅูู ุงููุธุงู ุจูุงุณุทุฉ ูู ุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ุฅุนุฏุงุฏุงุช ูุนููุฉ ูู ุฑูุฒ ุฅูุดุงุก ุงูุงุฎุชุตุงุฑ ุ ุณููุฏู Siri ูุฐู ุงูุงุฎุชุตุงุฑุงุช ูููุณุชุฎุฏู ุนูู ุดุงุดุฉ ููููุฉ ุ ูู ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช ูุงูุจุญุซ ุ ูุน ุงูุชุฑููุฒ ุนูู ุนุฏุฏ ูุฑุงุช ุงุณุชุฎุฏุงู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุ ูู ุฃู ููุช ุ ููู ุฃู ุฃูุงู ุงูุฃุณุจูุน ุ ูุฃูู ูููุนูุงูู ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุชุจุญุซ ุนุงุฏุฉู ุนู ุฃุฌูุฒุฉ ุงูุตุฑุงู ุงูุขูู ูู ูููุฉ ุงูุฌูุนุฉ ุ ูุนูุฏูุง ุชุชุฏุฑุจ ุ ุณููุฏู ูู Siri ุงุฎุชุตุงุฑูุง ููุฐุง ุงูุฅุฌุฑุงุก ูู ุฃูุณูุงุช ุงูุฌูุนุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ef/my/gu/efmyguxaczsetehquug_nyp7vnc.png"></p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุฅุถุงูุฉ ุฃูุฑูุง ุงูุตูุชู ุฅูู ูู ุงุฎุชุตุงุฑ ุฅุฐุง ููุฑูุง ุนูู ุฃููููุฉ " <strong>+</strong> ". </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃูุฑูุง ุตูุชููุง ุ ุงุถุบุท ุนูู "ุชู" ุ ูุงูุขู ูููููุง ุชูููุฐ ุงูุฅุฌุฑุงุก ูุฑุงุก ุงูุงุฎุชุตุงุฑ ุจุงุณุชุฎุฏุงู ุงูุตูุช ุนุจุฑ Siri.  <em>ุงุชุถุญ ุฃู ุงููุณุชุฎุฏู ุณูููู ูุงุฏุฑูุง ุนูู ุฃุฏุงุก ูุธุงุฆู ุชุทุจููู ูู ุฎูุงู Siri ุฏูู ูุชุญ ุงูุชุทุจูู ููุณู.</em>  ูุชู ุญูุธ ุงูุงุฎุชุตุงุฑ ูุน ุงูุนุจุงุฑุฉ ูู "ุงุฎุชุตุงุฑุงุชู". </p><br><h2 id="sozdanie-shortkatov" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงุฎุชุตุงุฑุงุช </h2><br><p style=";text-align:right;direction:rtl"> ููุชุทููุฑ ุ ุณูุญุชุงุฌ ุฅูู Xcode 10 ู iOS 12. ูู ููุช ุงููุชุงุจุฉ ุ ููุงููุง ูู ูุฑุญูุฉ <strong>ุจูุชุง</strong> . </p><br><p style=";text-align:right;direction:rtl"> ูููู ุฅูุดุงุก ุงุฎุชุตุงุฑ ุฅูุง ูู ุฎูุงู <code>NSUserActivity</code> ุฃู ูู ุฎูุงู <code>Intent</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ ุงูุฃููู: </p><br><p style=";text-align:right;direction:rtl">  ูููุฑ ุงููุณุชุฎุฏู ุนูู ุงูุงุฎุชุตุงุฑ ุ ุงูุฐู ููุฑุฑ ุงูุฃูุฑ ูุน ุงููุนููุงุช ( <code>NSUserActivity</code> ) ุฅูู ุชุทุจูููุง ุ ูููุฑุฑ ููููุฉ ูุนุงูุฌุฉ ูุฐุง ุงูุฃูุฑ (ุงูุชุญ ูุงูุฐุฉ ุณุนุฑ ุงูุฏููุงุฑ ุงูุฃูุฑููู ุงูุญุงูู ุ ุฃู ูุงูุฐุฉ ุทูุจ ุงูุจูุชุฒุง ุงูููุถูุฉ ูุฏููุง).  ูุฐุง ูู ุงุฎุชุตุงุฑ Spotlight ุงููุฏูู ุงูุฌูุฏ ุงูุฐู ูุนุฑูู ุฌููุนูุง ุ ูููู ููุฏูู Siri ุจุฐูุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ ุงูุซุงููุฉ: </p><br><p style=";text-align:right;direction:rtl">  ุชุนุฏ ุงูุงุฎุชุตุงุฑุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุฎูุงู <code>Intent</code> ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู - ููู ุชุณูุญ ูู ุจุชูููุฐ ุฃูุฑ ุนูู ุงูููุฑ ูู ูุงุฌูุฉ Siri ุจุฏูู ุชุดุบูู ุงูุชุทุจูู ุงูุฎุงุต ุจู.  ูู ุงูุณุงุจู ุ ูุงูุช ูุฌููุนุฉ <code>Intent</code> ุตุนุจุฉ ุนูู Apple: ุชุญููู ุงูุฃููุงู ูุฅุฑุณุงู ุงูุฑุณุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุบูุฑูุง</a> .  ุงูุขู ุ ูุฏููุง ุงููุทูุฑูู ุงููุฑุตุฉ ูุฎูู ููุชูุง! </p><br><p style=";text-align:right;direction:rtl">  ุจุบุถ ุงููุธุฑ ุนู ููููุฉ ุฅูุดุงุก ุงูุงุฎุชุตุงุฑ ุ ูุฅูู ููุฑ ุนุจุฑ 3 ูุฑุงุญู ูู ุฏูุฑุฉ ุงูุญูุงุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุนูุงู ( <strong><em>ุชุนุฑูู</em></strong> ) </li><li style=";text-align:right;direction:rtl">  ุงูุชูุตูู ูููุธุงู ( <strong><em>ุชุจุฑุน</em></strong> ) </li><li style=";text-align:right;direction:rtl">  ุงููุนุงูุฌุฉ ุญุณุจ ุงูุชุทุจูู ( <strong><em>ุงูููุจุถ</em></strong> ) </li></ol><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ie/7b/6z/ie7b6zoy5fd9mkx5ivjddp0agxc.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃุธูุฑ ุจุญุซู ุฃู ุชุทุจูููุง ูุงุญุฏูุง ูุง ููููู ุชูุฏูู ุฃูุซุฑ ูู 20 ุงุฎุชุตุงุฑูุง ูููุธุงู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุงูุฉ ุนูู ุฐูู ุ ุณููุธุฑ ูู ููููุฉ ููุญ ุชุทุจูููุง ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก ุงุฎุชุตุงุฑุงุช ูููููุฉ ุงูุนูู ูุนูุง ุฏุงุฎูู. </p><br><h2 id="sozdanie-shortkatov-cherez-nsuseractivity" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงุฎุชุตุงุฑุงุช ูู ุฎูุงู <code>NSUserActivity</code> </h2><br><p style=";text-align:right;direction:rtl">  ููุญูู ุงูููุน ุงูุฃูู ูุงูุจุณูุท ูู ุงูุงุฎุชุตุงุฑุงุช ุงูุชู ุชูุชุญ ูู ุฎูุงู <code>NSUserActivity</code> . </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุชุทุจูู ุจูู ุงููุงุชู ุงููุญููู ุ ูุฏููุง ุดุงุดุฉ ุจุญุซ ุนู ุฃุฌูุฒุฉ ุงูุตุฑุงู ุงูุขูู ูุบุงูุจุงู ูุง ุฃุจุญุซ ุนููุง.  ูู ุฃุฌู ุงููุตูู ุฅูู ุงูุดุงุดุฉ ุจุงุณุชุฎุฏุงู ุจุทุงูุฉ ุงูุตุฑุงู ุงูุขูู ุ ูุฌุจ ุฃู ุฃููู ุจุชุดุบูู ุงูุชุทุจูู ุ ุงูุชูู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ "ุงููุฒูุฏ" ูู ุนูุงูุฉ ุงูุชุจููุจ ุ ุญุฏุฏ ูุณู "ุงููุนูููุงุช" ูุงููุฑ ุนูู ุฒุฑ "ุฃุฌูุฒุฉ ุงูุตุฑุงู ุงูุขูู" ููุงู. <br>  ุฅุฐุง ุฃูุดุฃูุง ุงุฎุชุตุงุฑูุง ูุคุฏู ุนูู ุงูููุฑ ุฅูู ูุฐู ุงูุดุงุดุฉ ุ ูุณูููู ุงููุณุชุฎุฏู ูุงุฏุฑูุง ุนูู ุงูุฏุฎูู ุฅูููุง ุจููุณุฉ ูุงุญุฏุฉ ุนูุฏูุง ูุนุฑุถู Siri ุนููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูู ุดุงุดุฉ ููููุฉ. </p><br><h3 id="obyavlyaem-shortkat-declare" style=";text-align:right;direction:rtl">  ุฃุนูู ุงุฎุชุตุงุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฃููู ูู ุงูุฅุนูุงู ุนู ููุน ูุซู <code>NSUserActivity</code> (ูููููุง ุงูููู ุฃู ูุฐุง ูู ูุนุฑูู) ูู <em>info.playlist</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>NSUserActivityTypes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>ru.tinkoff.demo.show-cashMachine<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุนูู. </p><br><h3 id="dostavlyaem-shortkat-v-sistemu-donate" style=";text-align:right;direction:rtl">  ุชุณููู ุงูุงุฎุชุตุงุฑ ูููุธุงู (ุชุจุฑุน) </h3><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุฅุนูุงู ุ ูููููุง ุฅูุดุงุก <code>NSUserActivity</code> ูู ุฑูุฒ ุชุทุจูููุง ุจุงูููุน ุงูุฐู ุญุฏุฏูุงู ุฃุนูุงู ูู <strong>info.playlist</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> activity = NSUserActivity(activityType: <span class="hljs-string"><span class="hljs-string">"ru.tinkoff.demo.show-cashMachine"</span></span>)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ูุฏุฎู ุงููุดุงุท ุฅูู ูุงุฆูุฉ ุงุฎุชุตุงุฑุงุช ุงููุธุงู ุ ูุฌุจ ุชุนูููู ุนูู <code>title</code> ูุชุนููู ุฎุงุตูุฉ <code>isEligibleForSearch</code> ุฅูู <code>true</code> .  ุงูุฎุตุงุฆุต ุงูุฃุฎุฑู ููุณุช ุถุฑูุฑูุฉ ููุฅุถุงูุฉ ุฅูู ุงูุงุฎุชุตุงุฑุงุช ุ ูููู ูุฌูุฏูุง ูุฌุนู ุงูุงุฎุชุตุงุฑ ุฃูุซุฑ ูุงุจููุฉ ูููุฑุงุกุฉ ูุณูู ุงูุงุณุชุฎุฏุงู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"> <span class="hljs-comment"><span class="hljs-comment">//   (     ,   ) activity.title = " " if #available(iOS 12.0, *) { // ,             activity.suggestedInvocationPhrase = "  " //           activity.isEligibleForPrediction = true // (     ,   ) activity.isEligibleForSearch = true } //       let attributes = CSSearchableItemAttributeSet(itemContentType: "NSUserActivity.searchableItemContentType") ///    if let image = UIImage(named: "siriAtmIcon") { attributes.thumbnailData = UIImagePNGRepresentation(image) } ///   attributes.contentDescription = "     " ///     activity.contentAttributeSet = attributes</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุทูู!  <code>NSUserActivity</code> ุ ูุชุณููููุง ุฅูู ุงููุธุงู ุ ูุจูู ุงุชุฎุงุฐ ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฏู <code>userActivity</code> ุฎุงุตูุฉ <code>userActivity</code> ุ ูุงูุชู ูุญุชุงุฌ ุฅูููุง ูุชุนููู <code>activity</code> ุชู ุฅูุดุงุคู ุฃุนูุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">self.userActivity = activity</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุชูููุฐ ูุฐุง ุงูุฎุท ุ ุณูุชู ุฅูุดุงุก ุงุฎุชุตุงุฑ ูู ูุฐุง ุงููุดุงุท.  ุณูุชู ุชุณูููู ุฅูู ุงููุธุงู ูุนุฑุถู ูู ุฅุนุฏุงุฏุงุช Siri ( <strong>ุงูุฅุนุฏุงุฏุงุช โ Siri ูุงูุจุญุซ</strong> ).  ุจุนุฏ ุฐูู ุ ุณูุชููู Siri ูู ุนุฑุถู ุนูู ุงููุณุชุฎุฏู ุ ูุณูุชููู ุงููุณุชุฎุฏู ูู ุชุนููู ุฃูุฑู ุงูุตูุชู ูู. </p><br><p style=";text-align:right;direction:rtl">  <em><strong>ููุงุญุธุฉ</strong> : ุชุดูุฑ ูุซุงุฆู Apple ุฅูู ุฃูู ุจุฏูุงู ูู ุชุนููู ูุดุงุท <code>becomeCurrent()</code> ุงูุชุญูู ูู ุงูุนุฑุถ ุ ูููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>becomeCurrent()</code> ูู <code>becomeCurrent()</code> .</em>  <em>ููุน ุฐูู ุ ูู ููุฏู ูุฐุง ุงูุฅุฌุฑุงุก ุฃู ูุดุงุท ููุธุงูู ููู ูุธูุฑ ุงูุงุฎุชุตุงุฑ ูู ุงููุงุฆูุฉ</em> </p><br><blockquote style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ูู ุจุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>becomeCurrent()</code> ูู ูุงุฆู ูุดุงุท ุงููุณุชุฎุฏู ููุถุน ุนูุงูุฉ ุนููู <code>becomeCurrent()</code> ุ ูุงูุฐู ูุชุจุฑุน ุจุงููุดุงุท ุฅูู Siri.  ุจุฏูุงู ูู ุฐูู ุ ููููู ุฅุฑูุงู ุงููุงุฆู ุจูุงุฆู UIViewController ุฃู UIResponder ุ ูุงูุฐู ูุตูู ุฃูุถูุง ุงููุดุงุท ุนูู ุฃูู ุญุงูู. </blockquote><p style=";text-align:right;direction:rtl">  ููุชุญูู ูู ุนูู ูู ุดูุก ุ ุงูุชุญ <strong>ุงูุฅุนุฏุงุฏุงุช&gt; Siri ูุงูุจุญุซ</strong> - ูุฌุจ ุฃู ูููู ุงูุงุฎุชุตุงุฑ ุจูุงุกู ุนูู ูุดุงุทูุง ูู ุงููุงุฆูุฉ. </p><br><h3 id="obrabotka-shortkata-prilozheniem-handle" style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงูุงุฎุชุตุงุฑุงุช ุจุงูุชุทุจูู (ุงูููุจุถ) </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชููู ุงููุณุชุฎุฏู ุนุจุฑ ุงูุงุฎุชุตุงุฑ ูู ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช ุฃู ููุดุทู ุจุงูุตูุช ุ ูุจุฏุฃ ุงูุชุทุจูู ุ ููุฌุจ ุนูููุง ูุนุงูุฌุฉ ูุฐุง ุงูุงุฎุชุตุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  <code>activity</code> ุทุฑุญ <code>activity</code> ููุง ูู <code>AppDelegate</code> 'ุทุฑููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">func application(_ application: UIApplication, <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> userActivity: NSUserActivity, <span class="hljs-attr"><span class="hljs-attr">restorationHandler</span></span>: @escaping ([UIUserActivityRestoring]?) -&gt; Void) -&gt; Bool { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> userActivity.activityType == <span class="hljs-string"><span class="hljs-string">"ru.tinkoff.demo.show-cashMachine"</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   ,     handleShowCashMachineActivity() return true } return false }</span></span></code> </pre> <br><h3 id="itogo" style=";text-align:right;direction:rtl">  ุงููุฌููุน </h3><br><p style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก <code>NSUserActivity</code> NSUserActivity ููุง ููู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุนุฑูู ููุน (ูุนุฑู) <code>NSUserActivity</code> ูู <code>NSUserActivity</code> . </li><li style=";text-align:right;direction:rtl">  ูููู ุจุฅูุดุงุก <code>NSUserActivity</code> ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุชูููููุง </li><li style=";text-align:right;direction:rtl">  <code>viewController'</code> . </li></ol><br><h2 id="sozdanie-golosovyh-komand-iz-prilozheniya" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฃูุงูุฑ ุตูุชูุฉ ูู ุชุทุจูู </h2><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ุฅุฐุง ูุชุญ ุงููุณุชุฎุฏู <strong>ุงูุฅุนุฏุงุฏุงุช&gt; Siri ูุงูุจุญุซ</strong> ุ ูุณูู ูุฑู ูุงุฆูุฉ ุจุงูุงุฎุชุตุงุฑุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุชุทุจููุงุช ูุฎุชููุฉ ุ ุจูุง ูู ุฐูู ุชุทุจููุงุชูุง.  ูู ุฎูุงู ุงูููุฑ ุนูู " <strong>+</strong> " ุ ูููู ูููุณุชุฎุฏู ุฅูุดุงุก ุฃู ุฃูุฑ ุตูุชู ูุฑุจุทู ุจุงูุงุฎุชุตุงุฑ ุงููุญุฏุฏ.  ููุน ุฐูู ุ ูู ูู ูุฑุฉ ูููู ุฏุฎูู ุงูุฅุนุฏุงุฏุงุช ุบูุฑ ููุงุฆู ูููุณุชุฎุฏู ุ ูุง ูุฏุฑู ุงููุซูุฑูู ุญุชู ุนู ูุฐุง ุงูุงุญุชูุงู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฑุงุฆุน ุฃูู ููููู ุฅุฑูุงู ุฃูุฑ ุตูุชู ุจุฅุฌุฑุงุก ูุญุฏุฏ ูุจุงุดุฑุฉู ุฏุงุฎู ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃู ุงููุณุชุฎุฏู ูููู ุจุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุ ูุชู ุชุณููููุง ุฅูู ุงููุธุงู ุ ููุฑูุฏ ุญูุธูุง.  ูููููุง ุฅุถุงูุฉ ุงูุฒุฑ " <em>ุฅุถุงูุฉ ุฅุฌุฑุงุก ุฅูู Siri</em> " (ููููู ุชุณููุฉ ุงูุฒุฑ ูุฑุณูู ููุง ุชุฑูุฏ) ุนูู ุดุงุดุฉ ุชุทุจูููุง ุ ุซู ุณูุชููู ุงููุณุชุฎุฏู ุ ูู ุฎูุงู ุงูููุฑ ุนููู ุ ูู ุฑุจุท ูุฐุง ุงูุฅุฌุฑุงุก ุจุฃูุฑ ุตูุชู ูู ุฏุงุฎู ุงูุชุทุจูู ุฏูู ุงูุฏุฎูู ุฅูู ุงูุฅุนุฏุงุฏุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุถุบุท ุนูู ุงูุฒุฑ ุ ูุฌุจ ุฃู ุชูุชุญ ุงูุดุงุดุฉ ุจุดูู ูุดุฑูุท ูุฅุถุงูุฉ ุฃูุฑ ุตูุชู ุฅูู ุงุฎุชุตุงุฑ ูู Siri <code>INUIAddVoiceShortcutViewController</code> ุ ุฃู ุดุงุดุฉ ุชุญุฑูุฑ ุฃูุฑ ุตูุชู <code>INUIEditVoiceShortcutViewController</code> ุ ุฅุฐุง ุชู ุฅูุดุงุก ุฃูุฑ ุจุงููุนู.  ุณูููู <code>action</code> ุบูุฑ ุงููุชูุงุนู ููุฐุง ุงูุฒุฑ ุชูุฑูุจูุง ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs julia"> <span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> func addToSiriAction() { // <span class="hljs-number"><span class="hljs-number">1.</span></span>   ,       INVoiceShortcutCenter.shared.getAllVoiceShortcuts { (shortcuts, error) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> guard error == nil, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shortcuts = shortcuts <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // TODO: Handle error <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } // <span class="hljs-number"><span class="hljs-number">2.</span></span>     ,      <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> donatedShortcut: INVoiceShortcut? = shortcuts.first(<span class="hljs-keyword"><span class="hljs-keyword">where</span></span>: { (shorcut) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> shorcut.__shortcut.userActivity?.activityType == <span class="hljs-string"><span class="hljs-string">"com.ba"</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shortcut = donatedShortcut { // <span class="hljs-number"><span class="hljs-number">3.</span></span>     -     . //         <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> editVoiceShortcutViewController = INUIEditVoiceShortcutViewController(voiceShortcut: shortcut) editVoiceShortcutViewController.delegate = self self.present(editVoiceShortcutViewController, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: nil) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { // <span class="hljs-number"><span class="hljs-number">4.</span></span>         <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shortcut = INShortcut(userActivity: self.userActivity!) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> addVoiceShortcutViewController = INUIAddVoiceShortcutViewController(shortcut: shortcut) addVoiceShortcutViewController.delegate = self } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุ ูุฅู ุดุงุดุงุช ุฅุถุงูุฉ ุงูุฃูุงูุฑ ุงูุตูุชูุฉ ูุชุญุฑูุฑูุง ููุธูุฑ ุงุฎุชุตุงุฑ Siri: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ez/lk/ai/ezlkaihh3q9gvj4syqkizbwqy4c.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุนูููุง ุฃูุถูุง ุชูููุฐ ุทุฑู ุงูุชูููุถ ุงูุฎุงุตุฉ ุจู viewControllers ุ ูุงูุชู ูุญุชุงุฌูู ูููุง ุฅูู ุฅุฎูุงุก <code>dismiss(animated: true, completion: nil)</code> ุ ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุชุญุฏูุซ ุงูุดุงุดุฉ ุงูุญุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ููุงู ุฒุฑ "ุฅุถุงูุฉ ุฃูุฑ ุตูุชู" ุนูู ุงูุดุงุดุฉ ูู ููุช ุณุงุจู ุ ูุจุนุฏ ุฅุถุงูุฉ ุฃูุฑ ุตูุชู ูุฌุจ ุฃู ูุฎุชูู ูุฐุง ุงูุฒุฑ ุฃู ูุชุบูุฑ ุฅูู "ุชุญุฑูุฑ ุงูุฃูุฑ ุงูุตูุชู". </p><br><h2 id="shortkaty-sozdannye-pri-pomoschi-intent" style=";text-align:right;direction:rtl">  ุงุฎุชุตุงุฑุงุช ุงูููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ุ ุชุญุฏุซูุง ููุท ุนู ุงูุงุฎุชุตุงุฑุงุช ุงูุชู ุชูุชุญ ุชุทุจูููุง ูุชูุฑุฑ ุจูุงูุงุช <code>NSUserActivity</code> ููุงู ุฅูู <code>NSUserActivity</code> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุนุฏ ุฅูู ุงูุงุฎุชุตุงุฑุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุฎูุงู <code>Intent</code> ุ ูุงูุชู ุชุณูุญ ูู ุจุชูููุฐ ุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุฏูู ูุชุญ ุงูุชุทุจูู.  ููุง ูุจุฏุฃ ุงููุฑุญ. </p><br><p style=";text-align:right;direction:rtl">  ุชุฎูู ุฃู ูุณุชุฎุฏููุง ูุทูุจ ุงูุจูุชุฒุง ุงูููุถูุฉ ูุฏูู.  ุณูุทูุจูุง ุนุฏุฉ ูุฑุงุช ููุชูุง ูุดุงุก ุ ุจู ุฃุถุงู ุฃูุฑูุง ุตูุชููุง ุฅูู ุงุฎุชุตุงุฑ ูุฐู ุงูุจูุชุฒุง - ููุฐุง ูุจุณุท ุญูุงุชู.  ูููู ูููููุง ุฃู ููุนู ุงููุฒูุฏ ูู ุฃุฌูู - ูููููุง ุงูุชุฃูุฏ ูู ุฃูู ูู ุฎูุงู ุฅุตุฏุงุฑ ุฃูุฑ Siri ุงูุตูุชู ุ ูุฅู ุงููุธุงู ูุง ูุฑูููุง ูู ุงูุชุทุจูู ุ ููููู ูุนุฑุถ ูุนูููุงุช ุงูุทูุจ ูุงูุทูุจุงุช ุงูุจูุชุฒุง ุนูู ุงูููุฑ ูู ูุงุฌูุฉ Siri!  ูุฐู ูู ุงูุญุงูุฉ ููุท ุนูุฏูุง ูุง ูุญุชุงุฌ ุงููุณุชุฎุฏู ุฅูู ูุชุญ ุงูุชุทุจูู ููุณู ูู ุฃุฌู ุชูููุฐ ุจุนุถ ุงูุฅุฌุฑุงุกุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุงูุชูู ุฅูู ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน ุ ูุญุฏุฏ ุงููุฏู ุงูุฑุฆูุณู ุ ูุนูุงูุฉ ุงูุชุจููุจ <code>Capabilities</code> ูุชูููู ุงููุตูู ุฅูู Siri. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุชูุงุนู ุชุทุจูููุง ูุน Siri ุ ูููู ูุฐุง ูุง ูุญุฏุซ ูู ุงูุฑูุฒ ุงูุฑุฆูุณู ููุชุทุจูู ุ ูููู ูู ููุญู ูุฏู ูููุตู ูููุตู </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ูุฌุจ ุฅูุดุงุก ูุฐุง ุงููุฏู: <strong>File โ New โ Target</strong> ุ ุญุฏุฏ <strong>Intents Extensions</strong> .  ุณูุนุฑุถ Xcode ุฅูุดุงุก ููุญู ูุฏู ุขุฎุฑ ูููุงูุฐุฉ ูุนุฑุถ ุฅุฌุฑุงุกุงุชู ูู Siri ุ ุฅุฐุง ูุงูุช ููุงู ุญุงุฌุฉ ูุฐูู ุ ูุฅููุง ููุงูู ุนูู ุฐูู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ia/o_/pp/iao_pphchyfpr33hj6jluyy-ozc.jpeg"></p><br><h3 id="obyavlyaem-shortkat-declare-1" style=";text-align:right;direction:rtl">  ุฃุนูู ุงุฎุชุตุงุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุงุจุชูุงุฑ ุงูุฑุฆูุณู ูู SiriKit ูู iOS 12 ูู ุงููุฏุฑุฉ ุนูู ุฅูุดุงุก <code>Inetnts</code> ุงูุฎุงุต ุจู ุ ุฅูู ุชูู ุงูุชู ูุงูุช ูู ุงูุณุงุจู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5a/66/6m/5a666mqkcm0li-cujpl7yexzrgm.png"></p><br><p style=";text-align:right;direction:rtl">  ููููุงู ุจุฐูู ุ ูู ุจุฅูุดุงุก ููู ุฌุฏูุฏ: <strong>File โ New โ File</strong> ุ ูุน ุชุญุฏูุฏ <strong>SiriKit Intent Definition File</strong> ูู ูุณู <strong>Resource</strong> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qz/8l/lx/qz8llxznc1o05palhxxxcskrcbq.png"></p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ูุธูุฑ ููู ุจุงูุชุฏุงุฏ <em>.intentdefinition</em> ุ ุญูุซ ููููู ุฅูุดุงุก ุฃูุฏุงูู ุงูุฎุงุตุฉ.  ููุชุญ ุงูููู ุ ูุญูุซ <strong>ููุฌุฏ</strong> " <strong>ูุง ููุงูุง</strong> " ูู ุงูุฃุณูู ููุฌุฏ ุฑูุฒ " <strong>+</strong> " - ุงููุฑ ุนููู.  " <strong>ููุฉ ุฌุฏูุฏุฉ</strong> ".  ุณุชุธูุฑ ููุฉ ูู ุงููุงุฆูุฉ ุงูุชู ููููู ุฅุถุงูุฉ ูุนููุงุช ุฅูููุง.  ูู ุญุงูุฉ ุทูุจ ุงูุจูุชุฒุง ุ ููููู ุฅุถุงูุฉ ุนุฏุฏ ุงูุจูุชุฒุง ูููุน ุงูุจูุชุฒุง ุญุณุจ ุงูุทูุจ ููุนููุงุช.  ุจุงููุณุจุฉ ูููููุฉ ุ ูุฎุชุงุฑ ุงูููุน <code>Integer</code> ุ ูููุน ุงูุจูุชุฒุง ุ ูุฎุชุงุฑ ุงูููุน <code>Custom</code> ุ ุงูุฐู ุณูุชู ุชูุซููู ูู ุงูููุฏ ุจูุงุณุทุฉ ูุฆุฉ <code>INObject</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุฎุทุงู ูู ุงูุฅุญุจุงุท: </p><br><p style=";text-align:right;direction:rtl">  <strong>ูู ูุชููู ุงููุณุชุฎุฏู ูู ุฅุฑุณุงู ูุนููุงุช ูุฎุชููุฉ ุฅูู ููุณ ุงูุฃูุฑ ุงูุตูุชู ุงููุญููุธ.</strong>  <strong>ููุฃุณู!</strong> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kn/z4/y-/knz4y-oo1kns8ehvzoojslxqycq.jpeg"></p><br><p style=";text-align:right;direction:rtl">  ูุง ูู ูุนููุงุช: </p><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃูู ุฃูุดุฃุช ููุงููุง "ุฅุธูุงุฑ ุณุนุฑ ุงููุณุจุฉ <code>%currency</code> " ุ ุญูุซ ุชููู <code>currency</code> ูุนููุฉ ููุงู.  ูุฐุง ูุง ูุนูู ุฃูู ูููู ูููุณุชุฎุฏู ุฃู ูููู ุนุจุงุฑุงุช "ุฅุธูุงุฑ ุณุนุฑ ุตุฑู ุงูุฏููุงุฑ" ุ "ุฅุธูุงุฑ ุณุนุฑ ุตุฑู ุงูุจูุชูููู" ุ ุฅูุฎ.  ุฎุงุฑุฌ ุงูุตูุฏูู ุ ูู ูุนูู ูุฐุง ุนูู ูุฐุง ุงููุญู.  ูููู ูุฐุง ูุนูู ุฃูู ุฅุฐุง ูุธุฑ ุงููุณุชุฎุฏู ุฅูู ุณุนุฑ ุตุฑู ุงูุฏููุงุฑ ุ ููุฏ ุชู ุฅูุดุงุก ุงุฎุชุตุงุฑ "ุฅุธูุงุฑ ุณุนุฑ ุงูุฏููุงุฑ ุงูุฃูุฑููู" ุ ุซู ุนูุฏูุง ูุธุฑ ุฅูู ุณุนุฑ ุตุฑู Bitcoin ุ ุชู ุฅูุดุงุก ุงุฎุชุตุงุฑ "ุฅุธูุงุฑ ุณุนุฑ BTC" ุ ุฅูุฎ.  ูุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูุฏ ูููู ูุฏูู ุงูุนุฏูุฏ ูู ุงูุดูุฑูุงุช ุงูุชู ุชุนุชูุฏ ุนูู ููุณ ุงูููุฉ ุ ูููู ูุน ูุนููุงุช ูุฎุชููุฉ.  ูู ูู ุงุฎุชุตุงุฑ ุ ุณูุชููู ุงููุณุชุฎุฏู ูู ุทูุจ ุฃูุฑู ุงูุตูุชู. </p><br><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูู ุฎูุงู ุฅูุดุงุก intent ูู ููู <em>.intentdefinition</em> ุ ุณููุดุฆ <em>Xcode</em> ุชููุงุฆููุง ูุฆุฉ ููุฐุง ุงููุฏู (ููุงุญุธุฉ: ูู ูุธูุฑ ูู ูููุงุช ุงููุดุฑูุน ุ ููููู ุณูููู ูุชุงุญูุง ููุงุณุชุฎุฏุงู). ุณูููู ูุฐุง ุงูููู ุงูุฐู ุชู ุฅูุดุงุคู ุชููุงุฆููุง ูู ุชูู ุงูุฃูุฏุงู ุงูุชู ุชุญุชูู ุนูู ููู <em>.intentdefinition</em> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅูุดุงุก intent ูู ููู .intentdefinition <em>ุ</em> ูููููุง ุฅูุดุงุก ููุงูุงูุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> intent = <span class="hljs-type"><span class="hljs-type">OrderPizzaIntent</span></span>()</code> </pre> <br><h3 id="dostavlyaem-shortkat-v-sistemu-donate-1" style=";text-align:right;direction:rtl">  ุชุณููู ุงูุงุฎุชุตุงุฑ ูููุธุงู (ุชุจุฑุน) </h3><br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุชุถููู ูุฐุง ุงูููุงู ูู ูุงุฆูุฉ ุงูุงุฎุชุตุงุฑุงุช ุ ูุฌุจ ุนููู ุชุถูููู.  ููููุงู ุจุฐูู ุ ูุชู ุฅูุดุงุก ูุงุฆู <code>INInteraction</code> ูุน ูุซูู ูู ููุชู ุ ููุชู ุงุณุชุฏุนุงุก ุทุฑููุฉ .donate ุนูู ูุฐุง <code>.donate</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lua">let intent = OrderPizzaIntentf() // ...   let interaction = INInteraction(intent: intent, response: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) interaction.donate { (<span class="hljs-built_in"><span class="hljs-built_in">error</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> // ...   /  }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชูููุฐ ูุฐุง ุงูุฑูุฒ ุ ุณูุชู ุชุณููู ุงูุงุฎุชุตุงุฑ ุงููุงุฆู ุนูู ุงูููุฉ ุฅูู ุงููุธุงู ูุนุฑุถู ูู ุฅุนุฏุงุฏุงุช Siri. </p><br><h3 id="obrabatyvaem-shortkat-prilozheniem-handle" style=";text-align:right;direction:rtl">  ูููู ุจูุนุงูุฌุฉ ุชุทุจูู ุงูุงุฎุชุตุงุฑ (ุงูููุจุถ) </h3><br><p style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ูุนุงูุฌุฉ ุงููุฏู ุนูุฏูุง ูููุฑ ุนููู ุงููุณุชุฎุฏู ูู sirjest ูู Siri ุฃู ูุณููู ุจุงุณุชุฎุฏุงู ุฃูุฑ ุตูุชู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฃูุดุฃูุง ุจุงููุนู ููุญู ูุฏู ูู Siri ููุฏูู ูุฆุฉ IntentHandler ุชู ุฅูุดุงุคูุง ูุณุจููุง ุ ูุงูุชู ุชุญุชูู ุนูู ุทุฑููุฉ ูุงุญุฏุฉ - `` ููุจุถ (ูููุตุฏ) " </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntentHandler</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">INExtension</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> intent: INIntent)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Any</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> intent <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-type"><span class="hljs-type">OrderPizzaIntent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">fatalError</span></span>(<span class="hljs-string"><span class="hljs-string">"Unhandled intent type: \(intent)"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">OrderPizzaIntentHandler</span></span>() } }</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ููุงุญุธุฉ: ุฅุฐุง ูุงู ุงููุชุฑุฌู ูุง ูุฑู ูุฆุฉ ูุฏูู ุ ูุฃูุช ูู ุชูู ุจุฅุถุงูุฉ ููู ููุญู ุงููุฏู <em>.intentdefinition</em> ูู Siri. </blockquote><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุทุฑููุฉ ุ ูุญุฏุฏ ููุน ุงููุตุฏ ุงููุงุฑุฏ ูููู ููุน ูููู ุจุฅูุดุงุก ูุงุฆู ูุนุงูุฌ ูุนุงูุฌ ูุฐู ุงููุตุฏ.  ูู ุจุฅูุดุงุก ูุนุงูุฌ ูู <code>OrderPizzaIntent</code> ุงูุฎุงุต ุจูุง ุ ููู ุจุชูููุฐ ุจุฑูุชูููู <code>OrderPizzaIntentHandling</code> ููู ุ ูุงูุฐู ุชู ุฅูุดุงุคู ุชููุงุฆููุง ุจุนุฏ ุฅูุดุงุก Intent ูู <em>.intentdefinition</em> . </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ุงูุจุฑูุชูููู ุนูู ุทุฑููุชูู <code>confirm</code> <code>handle</code> .  ุฃููุงู ุ ูุชู ุงุณุชุฏุนุงุก <code>confirm</code> ุญูุซ ูุชู ุงูุชุญูู ูู ุฌููุน ุงูุจูุงูุงุช ููุชู ุงูุชุญูู ูู ุชููุฑ ุงูุฅุฌุฑุงุก.  ุซู ุณูุนูู <code>handle</code> ูู ุฅุฌุฑุงุก ูุตูุฑ ููุชู ุชูููุฐู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrderPizzaIntentHandler</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSObject</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrderPizzaIntentHandling</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">confirm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(intent: OrderPizzaIntent, completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(OrderPizzaIntentResponse)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//      // ... completion(OrderPizzaIntentResponse(code: OrderPizzaIntentResponseCode.ready, userActivity: nil)) } public func handle(intent: OrderPizzaIntent, completion: @escaping (OrderPizzaIntentResponse) -&gt; Void) { //     // ... completion(OrderPizzaIntentResponse(code: OrderPizzaIntentResponseCode.success, userActivity: nil)) } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุณุชุฏุนู ููุชุง ุงูุทุฑููุชูู ุจุงูุชุฃููุฏ <code>completion</code> ูุน ุงูุงุณุชุฌุงุจุฉ <code>OrderPizzaIntentResponse</code> (ูุชู ุฅูุดุงุคู ุชููุงุฆููุง ุฃูุถูุง) ุ ูุฅูุง ุณููุชุธุฑ Siri ููุชูุง ุทูููุงู ุซู ูุนุทู ุฎุทุฃ. </p><br><h3 id="bolee-podrobnye-otvety-ot-siri" style=";text-align:right;direction:rtl">  ุฅุฌุงุจุงุช ุฃูุซุฑ ุชูุตููุงู ูู Siri </h3><br><p style=";text-align:right;direction:rtl">  ููุงู ูุฌููุนุฉ ููุงุณูุฉ ูู ุฑููุฒ ุงูุงุณุชุฌุงุจุฉ ุงูุชู ูุชู ุฅูุดุงุคูุง ุชููุงุฆููุง - <code>enum OrderPizzaIntentResponseCode</code> ุ ูููููุง ูุฏ ูุง ุชููู ูุงููุฉ ููุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุฑุญูุฉ <code>confirm</code> ุ ูุฏ ุชุญุฏุซ ุงูุนุฏูุฏ ูู ุงูุฃุฎุทุงุก ุงููุฎุชููุฉ - ููุฏ ููุฏุช ุงูุจูุชุฒุง ุ ููุง ุชุนูู ุงูุจูุชุฒุง ูู ุงูููุช ุงูุญุงูู ุ ููุง ุฅูู ุฐูู.  ููุฌุจ ุนูู ุงููุณุชุฎุฏู ุงูุชุนุฑู ุนูู ูุฐู ุงูุญูุงุฆู ุ ุจุฏูุงู ูู ุงูุฑุณุงูุฉ ุงูููุงุณูุฉ "ุฎุทุฃ ุงูุชุทุจูู".  ูู ุชุฐูุฑ ุฃููุง ุฃูุดุฃูุง <code>Intent</code> ูู ููู <em>.intentdefinition</em> ุ  ุฅูู ุฌุงูุจ ุงููุฏู ููุณู ุ <code>Response</code> ุญูุซ ููููู ุฅุถุงูุฉ ุฎูุงุฑุงุชู ุงูุฎุงุตุฉ ููุฃุฎุทุงุก ูุงูุฅุฌุงุจุงุช ุงููุงุฌุญุฉ ุ ูุชูููููุง ุจุงููุนููุงุช: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xz/zg/fa/xzzgfawljagfnruxp_zjjdeug2m.png"></p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูููููุง ุฅุฎุจุงุฑ ุงููุณุชุฎุฏู ุจุฃุฎุทุงุก ูุฅุฌุงุจุงุช ุฃูุซุฑ ุฅูุงุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lua">public func confirm(intent: OrderPizzaIntent, completion: @escaping (OrderPizzaIntentResponse) -&gt; Void) { guard let pizzaKindId = intent.kind?.identifier <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { //         -     completion(OrderPizzaIntentResponse(code: .failure, userActivity: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> pizzeriaManager.isPizzeriaClosed == <span class="hljs-literal"><span class="hljs-literal">true</span></span> { ///     -     completion(OrderPizzaIntentResponse(code: .failurePizzeriaClosed, userActivity: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> pizzeriaManager.menu.isPizzaUnavailable(identifier: pizzaKindId) { ///      -     completion(OrderPizzaIntentResponse(code: .failurePizzaUnavailable(kind: intent.kind), userActivity: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } //     -    completion(OrderPizzaIntentResponse(code: .ready, userActivity: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)) }</code> </pre> <br><h3 id="otrisovka-intenta" style=";text-align:right;direction:rtl">  ุชุฌุณูุฏ <code>Intent</code> </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃูุดุฃูุง <strong>ููุญู</strong> ูุฏู <strong>Intent Extension UI</strong> ุ ููููููุง ุฑุณู ุนุฑุถ ูุฎุตุต ูู Siri ููุฃูุฏุงู ุงูุชู ูุญุชุงุฌูุง.  ูุฏููุง <code>MainInterface.storyboard</code> ู <code>IntentViewController</code> ุญูุซ ูููููุง ุฑุณู ุชุตููููู.  ุชููู ูุญุฏุฉ ุชุญูู ุงูุนุฑุถ ูุฐู ุจุชูููุฐ ุจุฑูุชูููู INUIHostedViewControlling ููุชู <code>configureView</code> ุทุฑููุฉ ุงูุนุฑุถ ูู ุทุฑููุฉ configView </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs sql">// <span class="hljs-keyword"><span class="hljs-keyword">Prepare</span></span> your <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> controller <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the interaction <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> handle. func configureView(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parameters</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>&lt;INParameter&gt;, <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> interaction: INInteraction, interactiveBehavior: INUIInteractiveBehavior, <span class="hljs-keyword"><span class="hljs-keyword">context</span></span>: INUIHostedViewContext, completion: @escaping (<span class="hljs-built_in"><span class="hljs-built_in">Bool</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Set</span></span>&lt;INParameter&gt;, CGSize) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Void</span></span>) { // <span class="hljs-keyword"><span class="hljs-keyword">Do</span></span> configuration here, <span class="hljs-keyword"><span class="hljs-keyword">including</span></span> preparing views <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> calculating a desired <span class="hljs-keyword"><span class="hljs-keyword">size</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> presentation. completion(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">parameters</span></span>, self.desiredSize) } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> desiredSize: CGSize { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.extensionContext!.hostedViewMaximumAllowedSize }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุงุณุชุฏุนุงุก ูุฐู ุงูุทุฑููุฉ ุ ูู ุงูุถุฑูุฑู ุฅุถุงูุฉ ุงุณู ููุชูุง ุฅูู ุงูุตููู <code>NSExtension</code> -&gt; <code>NSExtensionAttributes</code> -&gt; <code>IntentsSupported</code> ุ ุงูุฐู ูุดูุฑ ุฅูู ููุญู ุงููุฏู Intents UI </p><br><pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>NSExtension<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>NSExtensionAttributes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IntentsSupported<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>OrderPizzaIntent<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุนุชูุงุฏูุง ุนูู ุชุตููู ุงูุนุฑุถ ุงูุฎุงุต ุจู ูู Siri <code>interaction.intent</code> ุงููุตุฏ ุงูุฐู ุฏุฎู ูู ุงูุทุฑููุฉ ุ ููููู ุฑุณู ูุฐุง ุงูุนุฑุถ ุจุงูุทุฑููุฉ ุงูุชู ุชุฑูุฏูุง.  ูููุง ููู ููุทุงุช ุดุงุดุฉ ูููููุฉ ุธููุฑ ููุชูุง ูู Siri ุ ูู ุงูุจุญุซ ูุนูู ุดุงุดุฉ ููููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wr/gh/sa/wrghsafmpp3qz3fiih1afdkrrou.png"></p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงููุณุชุฎุฏู ูู ูููู ูุงุฏุฑูุง ุนูู ุงูุชูุงุนู ูุน ุงูุฃุฒุฑุงุฑ ูุงูุชูุฑูุฑ ูุนูุงุตุฑ ุงูุชุญูู ุงูุฃุฎุฑู ูู ุทุฑููุฉ ุงูุนุฑุถ ุงูุฎุงุตุฉ ุจู ุ ุญูุซ ูุชู ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ูุน ุงููุนููุฉ <code>interactiveBehavior = .none</code> ุ ููุฐุง ููุฑุถ ุจุงูุชุฃููุฏ ุนุฏุฏูุง ูู ุงููููุฏ. </p><br><h3 id="itogo-1" style=";text-align:right;direction:rtl">  ุงููุฌููุน </h3><br><p style=";text-align:right;direction:rtl">  ูููู ุนุฑุถ ุงุฎุชุตุงุฑ ูุงุฆู ุนูู <code>Intent</code> ูู ูุงุฌูุฉ siri ุฃู ูู ูุฑูุฒ ุงูุฅุนูุงู ูุชูููุฐ ุฅุฌุฑุงุก ุฏูู ูุชุญ ุงูุชุทุจูู.  ูุฅูุดุงุฆู ุชุญุชุงุฌ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููู <strong>ุงููุฏุฑุงุช</strong> ูุงุณุชุฎุฏุงู ุณูุฑู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก <strong>ููุญูุงุช</strong> <strong>Intents</strong> ู <strong>Inti Extensions UI</strong> </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก <strong>ููู ุชุนุฑูู SiriKit Intent</strong> </li><li style=";text-align:right;direction:rtl">  ููุดุฆ ูุฏููุง ูู ูุฐุง ุงูููู ููุนูู ูุนููุงุช ูู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก <code>IntentHandler</code> ุญูุซ ูููู ุจุชุทุจูู <code>hanlde</code> <code>confirm</code> ู <code>hanlde</code> </li></ol><br><h2 id="rekomendacii" style=";text-align:right;direction:rtl">  ุงูุชูุตูุงุช </h2><br><h3 id="obschiy-kod-v-targete-rasshirenii-siri-i-v-osnovnom-prilozhenii" style=";text-align:right;direction:rtl">  ููุฏ ุนุงู ูู ูุฏู ููุญู ุณูุฑู ูุงูุชุทุจูู ุงูุฑุฆูุณู </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏูู ุฑูุฒ ููุณุชุฎุฏู ูู ุงููุฏู ูู Siri ููู ูุฏู ุงููุดุฑูุน ุงูุฑุฆูุณู - ูููุงู ุทุฑููุชุงู ูุญู ูุฐู ุงููุดููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชูููุฒ ุงููุฆุงุช ุงูุดุงุฆุนุฉ ูุฅุถุงูุชูุง ุฅูู ููุง ุงููุณุชูุฏููู.  ( <strong>ุนุฑุถ โ Utilites โ ุนุฑุถ ููู ููุชุด ุงููููุงุช</strong> ุ ูู ูุณู <strong>ุนุถููุฉ ุงููุฏู ุ</strong> ุฃุถู ุนูุงูุงุช ุงุฎุชูุงุฑ ููุฃูุฏุงู ุงูุชู ุชุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู ุงูููู ุงููุญุฏุฏ) </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ุฅุทุงุฑ ุนูู ูุฏู ูุงุญุฏ ุฃู ุฃูุซุฑ ูุฃุฎุฐ ุงูุฑูุฒ ุงูุนุงู ููุงู. </li></ol><br><p style=";text-align:right;direction:rtl">  ุงูุทุฑููุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุฃูุถู ุ ูุฃูู ููููู ุจุนุฏ ุฐูู ุงุณุชุฎุฏุงู ูุฐู ุงูุฃุทุฑ ูู ููุญูุงุช ููุดุงุฑูุน ุฃุฎุฑู.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุฃูู ุจุงููุณุจุฉ ููุฐู ุงูุฃุทุฑ ุ ูููุตุญ ุจุชุนููู ุนูุงูุฉ <code>Allow app extension API only</code> ุ ุซู ุ ุนูุฏ ุชุทููุฑ ุฅุทุงุฑ ุงูุนูู ุ ุณููุณู ุงููุชุฑุฌู ุฅุฐุง ุญุงููุช ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุบูุฑ ูุงููููุฉ ูู ุชุทููุฑ ุงูุฅุถุงูุงุช (ุนูู ุณุจูู ุงููุซุงู ุ <code>UIApplication</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูููู ุชูุญุต ุงูููุงุฑุฏ ุงููุดุชุฑูุฉ ุจูู ุงูุฃูุฏุงู ูู ุฎูุงู <strong>ูุฌููุนุงุช ุงูุชุทุจููุงุช</strong> </p><br><h3 id="otladka" style=";text-align:right;direction:rtl">  ุชุตุญูุญ ุงูุฃุฎุทุงุก </h3><br><p style=";text-align:right;direction:rtl">  ุณูุณุงุนุฏ ุงุฎุชุจุงุฑ ุงูุงุฎุชุตุงุฑุงุช ูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุฅุนุฏุงุฏุงุช ุฅุนุฏุงุฏุงุช</strong> ุงููุงุชู <strong>โ ุงููุทูุฑ</strong> : <strong>ุนุฑุถ ุงูุงุฎุชุตุงุฑุงุช ุงูุฃุฎูุฑุฉ ูุชุจุฑุนุงุช</strong> <strong>ุงูุนุฑุถ ุนูู</strong> ููุงุชูุญ <strong>ููู ุงูุดุงุดุฉ</strong> : </li></ol><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lv/0s/v8/lv0sv8rxfrdw7tgeqaql7p9yyhy.png"></p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุงุฎุชุจุงุฑ Intens ุ ููููู ุนูู ุงูููุฑ ุชุดุบูู ุงูุชุฏุงุฏ ุงููุฏู ุนู ุทุฑูู ุชุญุฏูุฏ ุงูุนุจุงุฑุฉ ุงูุชู ููุชุญูุง Siri ูู Xcode.  ููููุงู ุจุฐูู ุ ุญุฏุฏ ูุฎุทุท ููุญู ุงููุฏู ุณูุฑู </li></ol><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lc/lf/vj/lclfvj0e18-jx73zrxkf0tasnyq.png"></p><br><p style=";text-align:right;direction:rtl">  ุงููุฑ ููู ูุฐุง ุงููุฏู ุ ุงููุฑ ููู <strong>ุชุญุฑูุฑ ุงููุฎุทุท ...</strong> </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/de/fq/8n/defq8nu0ptzrcaib4bcbwrpfa0k.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุญูู <strong>ุงุณุชุนูุงู Siri Intent Query</strong> ุ ุฃุฏุฎู ุนุจุงุฑุฉ ุณูุจุฏุฃ ุจูุง Siri ุจุงููุนู ุ ููุง ูู ููุช ูุฏ ููุชูุง ุจุงููุนู. </p><br><h2 id="itogo-2" style=";text-align:right;direction:rtl">  ุงููุฌููุน </h2><br><p style=";text-align:right;direction:rtl">  ุฃูุชุฑุญ ุฃู ุฃููู ูููุฎุต ูุง ูููุง ุจู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุฅูุดุงุก ุงุฎุชุตุงุฑุงุช ูู ุฎูุงู <code>NSUserActivity</code> ุฃู ูู ุฎูุงู <code>INIntent</code> </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุงูุฅุนูุงู ุนู (ุงูุงุฎุชุตุงุฑุงุช) ูุฅุจูุงุบ ุงููุธุงู (ุงูุชุจุฑุน) ููุนุงูุฌุชูุง (ุงูููุจุถ). </li><li style=";text-align:right;direction:rtl">  ููููู ุฅุถุงูุฉ ุฒุฑ " <em>ุฅุถุงูุฉ ุฅูู Siri</em> " ุฅูู ุงูุชุทุจูู ุ ุนู ุทุฑูู ุงูููุฑ ุนูู ุงููุณุชุฎุฏู ุงูุฐู ูููู ุฃู ูุถูู ุนุจุงุฑุฉ ููุฅุฌุฑุงุก ููู ุซู ูุทูู ุนููู ุจุตูุชู. </li><li style=";text-align:right;direction:rtl">  ููููู ุฅูุดุงุก ุฃูุฏุงูู ุงูุฎุงุตุฉ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุนูุงุตุฑ ุงููุถููุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ุฎูุงู <code>Intents</code> ุงููุงุฆูุฉ ุนูู Intents <code>Intents</code> ููููู ุฅูุดุงุก ุงูุฅุฌุฑุงุกุงุช ุงูุชู ุณูุชู ุชูููุฐูุง ูู ุฎูุงู ูุงุฌูุฉ Siri (ุฅูุง ุนูู ุดุงุดุฉ ููููุฉ ุฃู ูู ุงูุจุญุซ) ุฏูู ุงูุญุงุฌุฉ ุฅูู ูุชุญ ุงูุชุทุจูู ููุณู. </li></ol><br><p style=";text-align:right;direction:rtl">  ูู ูุซุงุฆู Apple ุ ููุงู ุฑุงุจุท <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุดุฑูุน ุชุฌุฑูุจู</a> ุ ููู ูููุฏ ููุชูุฒูู ูุงูุชุฑููุฒ ุนููู ุฃุซูุงุก ุงูุชุทููุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฏ ุฃู ุฃุคูุฏ ุฃูู ูู ููุช ูุชุงุจุฉ ูุฐุง ุงูููุงู ูุงูุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู ุงููุฑุญูุฉ <code>beta</code> .  ููุซูุฑุง ูุง ุฃุตุงุจ ุงููุดุงูู ูุงูุฃุฎุทุงุก.  ุฃุซูุงุก ุงูุนูู ุ ุฌุฆุช ุจุดูู ุฏูุฑู ุนุจุฑ ูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ,  Intent  Siri,  . </li><li style=";text-align:right;direction:rtl">   Siri     . </li><li style=";text-align:right;direction:rtl">        Siri. </li></ul><br><h2 id="ssylki" style=";text-align:right;direction:rtl">  ุงููุฑุงุฌุน </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> WWDC 2018, session 211: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Introduction to Siri Shortcuts</a> </li><li style=";text-align:right;direction:rtl"> WWDC 2018, session 214: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Building for Voice with Siri Shortcuts</a> </li><li style=";text-align:right;direction:rtl"> Apple Developer: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SiriKit</a> </li><li style=";text-align:right;direction:rtl"> Apple Developer: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">INUIHostedViewControlling</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Demo  <strong><em>Soup Chef</em></strong>  Apple</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar414677/">https://habr.com/ru/post/ar414677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar414663/index.html">ุงูุงุญุชุฑุงู ุงููููู: ูููุฉ ููุฎุจุฑุงุก</a></li>
<li><a href="../ar414667/index.html">[ููุถูุน ูุฑูุญุฉ ุตุบูุฑุฉ] ุฌุฏูู ุจุทููุฉ FIFA ูู ุงููุญุทุฉ</a></li>
<li><a href="../ar414669/index.html">ุชุทููุฑ ูุญูู ุซุงุจุช ุฌุฏูุฏ: PVS-Studio Java</a></li>
<li><a href="../ar414673/index.html">ูู ุชุนุฏ Abibas: ุงููุนุฌุฒุฉ ุงูุชูููููุฌูุฉ ูู ุงูุตูู</a></li>
<li><a href="../ar414675/index.html">ูููุฉ ูุฏูุฑ ุชูููููุฌูุง ุงููุนูููุงุช: ูู ุณุทุฑ ุงูุฃูุงูุฑ ุฅูู ุงูุนูู ุงูุฌูุงุนู</a></li>
<li><a href="../ar414679/index.html">Box-shadows.css</a></li>
<li><a href="../ar414683/index.html">ูุตุฉ ุฅูุดุงุก ุชุทุจูู ูุญููู ููุฃุทูุงู ูุณูุญ ูู ุจูุณุจ ุงููุงู ูู ุฎูุงู ุนููู. ุงุณุชูุฑุงุฑ</a></li>
<li><a href="../ar414687/index.html">ููููุฉ ุฅุฏุงุฑุฉ ูุฑูู ููุณู: 15 ูุชุงุจูุง ููุฏูุฑ ุงููุดุฑูุน</a></li>
<li><a href="../ar414689/index.html">ุงูุชุญ ุงูุฏุฑุณ "ุชุทุจููุงุช ุงูููุจ ูุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ุนูู Spring Boot 2.0"</a></li>
<li><a href="../ar414691/index.html">ุงูุฎูููุฉ. YouTube Music ู YouTube Premium: ูุง ูู ูููู ุชุฎุชูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>