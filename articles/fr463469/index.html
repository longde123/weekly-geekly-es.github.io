<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥üèª üåú üßÄ Chat Schrodinger sans bo√Æte: le probl√®me du consensus dans les syst√®mes distribu√©s üèø üë®‚Äçüî¨ üë§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alors, imaginez. 5 chats sont enferm√©s dans la chambre, et pour aller r√©veiller le propri√©taire, ils doivent tous s'entendre √† ce sujet, car ils ne pe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Chat Schrodinger sans bo√Æte: le probl√®me du consensus dans les syst√®mes distribu√©s</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/463469/">  Alors, imaginez.  5 chats sont enferm√©s dans la chambre, et pour aller r√©veiller le propri√©taire, ils doivent tous s'entendre √† ce sujet, car ils ne peuvent ouvrir la porte qu'en s'appuyant sur cinq d'entre eux.  Si l'un des chats est un chat Schrodinger et que les autres chats ne connaissent pas sa solution, la question se pose: "Comment peuvent-ils faire cela?" <br><br>  Dans cet article, je vais vous parler dans un langage simple de la composante th√©orique du monde des syst√®mes distribu√©s et des principes de leur fonctionnement.  Et aussi consid√©rer superficiellement l'id√©e principale sous-jacente √† Paxos'a. <br><br><img src="https://habrastorage.org/webt/rd/38/j0/rd38j0ycrlghtsm-ahtyuh4dj9e.png"><br><a name="habracut"></a><br>  Lorsque les d√©veloppeurs utilisent des infrastructures cloud, diverses bases de donn√©es, travaillent en grappes √† partir d'un grand nombre de n≈ìuds, ils sont s√ªrs que les donn√©es seront compl√®tes, s√©curis√©es et toujours accessibles.  Mais o√π sont les garanties? <br><br>  En fait, les garanties que nous avons sont les garanties du fournisseur.  Ils sont d√©crits dans la documentation de la mani√®re suivante: ¬´Ce service est assez fiable, il a un SLA pr√©d√©fini, ne vous inqui√©tez pas, tout fonctionnera de mani√®re distribu√©e, comme vous vous en doutez.¬ª <br><br>  Nous avons tendance √† croire au meilleur, car les oncles intelligents des grandes entreprises nous ont assur√© que tout irait bien.  Nous ne nous demandons pas: pourquoi, en fait, cela peut-il m√™me fonctionner?  Existe-t-il une justification officielle au bon fonctionnement de ces syst√®mes? <br><br>  Je suis r√©cemment all√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√† l'√©cole d'informatique distribu√©e</a> et j'ai √©t√© tr√®s inspir√© par ce sujet.  Les conf√©rences √† l'√©cole ressemblaient plus √† des cours d'analyse math√©matique qu'√† quelque chose de li√© aux syst√®mes informatiques.  Mais c'est pr√©cis√©ment ainsi que les algorithmes les plus importants que nous utilisons quotidiennement sans le savoir ont √©t√© prouv√©s √† un moment donn√©. <br><br>  La plupart des syst√®mes distribu√©s modernes utilisent l'algorithme de consensus Paxos et ses diverses modifications.  Le plus cool est que la validit√© et, en principe, la possibilit√© m√™me de l'existence de cet algorithme peuvent √™tre prouv√©es simplement avec un stylo et du papier.  Cependant, dans la pratique, l'algorithme est utilis√© dans les grands syst√®mes fonctionnant sur un grand nombre de n≈ìuds dans les nuages. <br><br><div class="spoiler">  <b class="spoiler_title">L√©g√®re illustration de ce qui sera discut√© plus loin: la t√¢che de deux g√©n√©raux</b> <div class="spoiler_text">  Jetons un ≈ìil √† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t√¢che de deux g√©n√©raux</a> de se r√©chauffer. <br><br>  Nous avons deux arm√©es - rouge et blanche.  Les troupes blanches sont bas√©es dans la ville assi√©g√©e.  Les troupes rouges dirig√©es par les g√©n√©raux A1 et A2 sont situ√©es des deux c√¥t√©s de la ville.  La t√¢che des rousses est d'attaquer la ville blanche et de gagner.  Cependant, l'arm√©e de chaque g√©n√©ral roux individuellement est plus petite que les troupes des blancs. <br><br><img src="https://habrastorage.org/webt/5i/ij/lu/5iijluannrbav-ljyfbmmi1n6fo.png"><br><br>  Conditions de victoire pour les roux: les deux g√©n√©raux doivent attaquer simultan√©ment pour avoir un avantage num√©rique sur les blancs.  Pour cela, les g√©n√©raux A1 et A2 doivent s'entendre.  Si tout le monde attaque individuellement, les roux perdront. <br><br>  Pour convenir, les g√©n√©raux A1 et A2 peuvent s‚Äôenvoyer des messagers √† travers le territoire de la ville blanche.  Un messager peut r√©ussir √† atteindre un g√©n√©ral alli√© ou peut √™tre intercept√© par un adversaire.  Question: existe-t-il une telle s√©quence de communications entre les g√©n√©raux rouges (la s√©quence d'envoi de messagers de A1 √† A2 et vice versa de A2 √† A1), dans laquelle ils sont garantis de s'entendre sur une attaque √† l'heure X. Ici, sous les garanties, il est entendu que les deux g√©n√©raux auront une confirmation sans √©quivoque qu'un alli√© (un autre g√©n√©ral) attaque avec pr√©cision √† l'heure fix√©e X. <br><br>  Supposons que A1 envoie un messager √† A2 avec le message: "Attaquons aujourd'hui √† minuit!"  Le g√©n√©ral A1 ne peut pas attaquer sans confirmation du g√©n√©ral A2.  Si le messager a atteint A1, alors le g√©n√©ral A2 envoie une confirmation avec le message: "Oui, remplissons les blancs aujourd'hui."  Mais maintenant, le g√©n√©ral A2 ne sait pas si son messager est arriv√© ou non, il n'a aucune garantie si l'attaque sera simultan√©e.  Le g√©n√©ral A2 doit √† nouveau √™tre confirm√©. <br><br>  Si nous planifions davantage leur communication, il s'av√®re que: quel que soit le nombre de cycles de messagerie, il n'y a aucun moyen de garantir d'informer les deux g√©n√©raux que leurs messages ont √©t√© re√ßus (√† condition que l'un des messagers puisse √™tre intercept√©). <br><br>  La t√¢che de deux g√©n√©raux est une excellente illustration d'un syst√®me distribu√© tr√®s simple o√π il y a deux n≈ìuds avec une communication peu fiable.  Nous n'avons donc pas de garantie √† 100% qu'ils sont synchronis√©s.  √Ä propos de probl√®mes similaires uniquement √† plus grande √©chelle plus loin dans l'article. <br></div></div><br><h2>  Nous introduisons le concept de syst√®mes distribu√©s </h2><br>  Un syst√®me distribu√© est un groupe d'ordinateurs (ci-apr√®s appel√©s n≈ìuds) qui peuvent √©changer des messages.  Chaque n≈ìud individuel est une entit√© autonome.  Un n≈ìud peut traiter ind√©pendamment des t√¢ches, mais pour interagir avec d'autres n≈ìuds, il doit envoyer et recevoir des messages. <br><br>  Comment sp√©cifiquement les messages sont mis en ≈ìuvre, quels protocoles sont utilis√©s - cela ne nous int√©resse pas dans ce contexte.  Il est important que les n≈ìuds d'un syst√®me distribu√© puissent √©changer des donn√©es entre eux en envoyant des messages. <br><br>  La d√©finition elle-m√™me ne semble pas tr√®s compliqu√©e, mais vous devez consid√©rer qu'un syst√®me distribu√© poss√®de un certain nombre d'attributs qui seront importants pour nous. <br><br><h4>  Attributs syst√®me distribu√©s </h4><br><ol><li>  <b>Concurrence</b> - la possibilit√© d'√©v√©nements simultan√©s ou comp√©titifs dans le syst√®me.  De plus, nous consid√©rerons que les √©v√©nements qui se sont produits sur deux n≈ìuds diff√©rents sont potentiellement comp√©titifs tant que nous n'avons pas un ordre clair d'occurrence de ces √©v√©nements.  Et, en r√®gle g√©n√©rale, nous ne l'avons pas. </li><li>  <b>L'absence d'horloge mondiale</b> .  Nous n'avons pas un ordre clair des √©v√©nements en raison de l'absence d'une horloge mondiale.  Dans le monde ordinaire des gens, nous sommes habitu√©s au fait que nous avons absolument des heures et du temps.  Tout change en mati√®re de syst√®mes distribu√©s.  M√™me les horloges atomiques ultra-pr√©cises ont une d√©rive, et il peut y avoir des situations o√π nous ne pouvons pas dire lequel des deux √©v√©nements s'est produit plus t√¥t.  Par cons√©quent, nous ne pouvons pas non plus compter sur le temps. </li><li>  <b>D√©faillance ind√©pendante des n≈ìuds du syst√®me</b> .  Il y a un autre probl√®me: quelque chose n'est peut-√™tre pas aussi simple car nos n≈ìuds ne sont pas √©ternels.  Le disque dur peut √©chouer, la machine virtuelle dans le cloud red√©marrera, le r√©seau peut clignoter et les messages seront perdus.  De plus, des situations sont possibles lorsque les n≈ìuds fonctionnent, mais en m√™me temps contre le syst√®me.  Cette derni√®re classe de probl√®mes a m√™me re√ßu un nom distinct: le probl√®me des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">g√©n√©raux byzantins</a> .  L'exemple le plus populaire d'un syst√®me distribu√© avec un tel probl√®me est Blockchain.  Mais aujourd'hui, nous ne consid√©rerons pas cette classe particuli√®re de probl√®mes.  Nous nous int√©resserons aux situations dans lesquelles un ou plusieurs n≈ìuds peuvent tomber en panne. </li><li>  <b>Mod√®les de communication (mod√®les de messagerie) entre les n≈ìuds</b> .  Nous avons d√©j√† d√©couvert que les n≈ìuds communiquent via la messagerie.  Il existe deux mod√®les de messagerie bien connus: synchrone et asynchrone. </li></ol><br><h4>  Mod√®les de communication entre les n≈ìuds dans les syst√®mes distribu√©s </h4><br>  <b>Mod√®le synchrone</b> - nous savons avec certitude qu'il existe un delta temporel connu fini pour lequel un message est garanti d'atteindre d'un n≈ìud √† un autre.  Si ce temps s'est √©coul√©, mais que le message n'est pas arriv√©, nous pouvons dire en toute s√©curit√© que le n≈ìud a √©chou√©.  Dans un tel mod√®le, nous avons un temps d'attente pr√©visible. <br><br>  <b>Mod√®le asynchrone</b> - dans les mod√®les asynchrones, nous pensons que le temps d'attente est fini, mais il n'y a pas un tel temps delta apr√®s lequel il peut √™tre garanti que le n≈ìud est hors service.  C'est-√†-dire  le temps d'attente pour un message du n≈ìud peut √™tre arbitrairement long.  Il s'agit d'une d√©finition importante et nous en reparlerons plus loin. <br><br><h2>  Le concept de consensus dans les syst√®mes distribu√©s </h2><br>  Avant de d√©finir formellement le concept de consensus, consid√©rons un exemple de la situation lorsque nous en avons besoin, √† savoir la <b>r√©plication de machine d'√©tat</b> . <br><br>  Nous avons un journal distribu√©.  Nous souhaitons qu'il soit coh√©rent et contienne des donn√©es identiques sur tous les n≈ìuds d'un syst√®me distribu√©.  Lorsqu'un des n≈ìuds d√©couvre une nouvelle valeur qu'il va √©crire dans le journal, sa t√¢che consiste √† proposer cette valeur √† tous les autres n≈ìuds afin que le journal soit mis √† jour sur tous les n≈ìuds et que le syst√®me passe √† un nouvel √©tat coh√©rent.  Il est important que les n≈ìuds s'accordent entre eux: tous les n≈ìuds conviennent que la nouvelle valeur propos√©e est correcte, tous les n≈ìuds acceptent cette valeur, et seulement dans ce cas, tout le monde peut √©crire une nouvelle valeur dans le journal. <br><br>  En d'autres termes: aucun des n≈ìuds ne s'est oppos√© √† ce qu'il dispose d'informations plus pertinentes et la valeur propos√©e est incorrecte.  L'accord entre les n≈ìuds et l'accord sur une seule valeur accept√©e correcte est un consensus dans un syst√®me distribu√©.  Plus loin, nous parlerons d'algorithmes qui permettent √† un syst√®me distribu√© d'atteindre un consensus avec garantie. <br><img src="https://habrastorage.org/webt/0j/ph/1q/0jph1qr2_nur1-s1cyabhttzpy4.png"><br>  Plus formellement, nous pouvons d√©finir un algorithme de consensus (ou simplement un algorithme de consensus) comme une fonction qui transf√®re un syst√®me distribu√© de l'√©tat A √† l'√©tat B.De plus, cet √©tat est accept√© par tous les n≈ìuds, et tous les n≈ìuds peuvent le confirmer.  Il s'av√®re que cette t√¢che n'est pas du tout aussi triviale qu'elle semble √† premi√®re vue. <br><br><h4>  Propri√©t√©s de l'algorithme de consensus </h4><br>  L'algorithme de consensus doit avoir trois propri√©t√©s pour que le syst√®me continue d'exister et ait une sorte de progr√®s dans la transition d'un √©tat √† l'autre: <br><br><ol><li>  <b>Accord</b> - tous les n≈ìuds qui fonctionnent correctement doivent prendre la m√™me valeur (dans les articles, cette propri√©t√© se trouve √©galement comme propri√©t√© de s√©curit√©).  Tous les n≈ìuds qui fonctionnent maintenant (qui ne sont pas en panne et qui n'ont pas perdu le contact avec les autres) devraient se mettre d'accord et prendre une sorte de signification g√©n√©rale finale. <br><br>  Il est important de comprendre ici que les n≈ìuds du syst√®me distribu√© que nous envisageons veulent √™tre d'accord.  Autrement dit, nous parlons maintenant de syst√®mes qui pourraient simplement √©chouer (par exemple, faire √©chouer un n≈ìud), mais ce syst√®me n'a certainement pas de n≈ìuds qui fonctionnent intentionnellement contre d'autres (la t√¢che des g√©n√©raux byzantins).  En raison de cette propri√©t√©, le syst√®me reste coh√©rent. </li><li>  <b>Int√©grit√©</b> - si tous les n≈ìuds fonctionnant correctement offrent la m√™me valeur de <b>v</b> , alors chaque n≈ìud fonctionnant correctement doit accepter cette valeur de <b>v</b> . </li><li>  <b>Terminaison</b> - tous les n≈ìuds fonctionnant correctement prendront √©ventuellement une certaine valeur (propri√©t√© de vivacit√©), ce qui permet √† l'algorithme de progresser dans le syst√®me.  Chaque n≈ìud individuel qui fonctionne correctement doit t√¥t ou tard accepter la valeur finale et la confirmer: "Pour moi, cette valeur est vraie, je suis d'accord avec l'ensemble du syst√®me." </li></ol><br><h4>  Exemple d'algorithme de consensus </h4><br>  Jusqu'√† pr√©sent, les propri√©t√©s de l'algorithme peuvent ne pas √™tre enti√®rement claires.  Par cons√©quent, nous illustrons avec un exemple les √©tapes que l'algorithme de consensus le plus simple traverse dans un syst√®me avec un mod√®le de messagerie synchrone, dans lequel tous les n≈ìuds fonctionnent comme pr√©vu, les messages ne sont pas perdus et rien ne casse (est-ce vraiment le cas?). <br><br><ol><li>  Tout commence par une proposition de mariage (Proposer).  Supposons qu'un client se connecte √† un n≈ìud appel√© ¬´Node 1¬ª et d√©marre une transaction, en transmettant une nouvelle valeur au n≈ìud - O. Dor√©navant, ¬´Node 1¬ª, nous appellerons proposer.  En tant que proposant, ¬´Node 1¬ª devrait maintenant informer l'ensemble du syst√®me qu'il a de nouvelles donn√©es, et il enverra des messages √† tous les autres n≈ìuds: ¬´Regardez!  J'ai obtenu la valeur ¬´O¬ª et je veux l'√©crire!  Veuillez confirmer que vous inscrirez √©galement ¬´O¬ª dans votre journal. ¬ª <br><br><img src="https://habrastorage.org/webt/62/tt/i4/62tti4d8onrzc_0npw14yxzttba.png"></li><li>  L'√©tape suivante consiste √† voter pour la valeur propos√©e (vote).  √Ä quoi √ßa sert?  Il peut arriver que d'autres n≈ìuds re√ßoivent des informations plus r√©centes et disposent de donn√©es sur la m√™me transaction. <br><br><img src="https://habrastorage.org/webt/4f/a8/ii/4fa8iiknak8jtumfh-kq3--yljs.png"><br><br>  Lorsque le n≈ìud ¬´Node 1¬ª envoie son propre message, les n≈ìuds restants v√©rifient les donn√©es de cet √©v√©nement dans leurs journaux.  S'il n'y a pas de contradictions, les n≈ìuds annoncent: ¬´Oui, je n'ai pas d'autres donn√©es sur cet √©v√©nement.  La valeur ¬´O¬ª est la derni√®re information que nous m√©ritons. ¬ª <br><br>  Dans tous les autres cas, les n≈ìuds peuvent r√©pondre ¬´N≈ìud 1¬ª: ¬´√âcoutez!  J'ai des donn√©es plus r√©centes sur cette transaction.  Pas "Oh", mais quelque chose de mieux. " <br><br>  Au stade du vote, les n≈ìuds se prononcent: soit chacun prend la m√™me valeur, soit l'un vote contre, indiquant qu'il dispose de donn√©es plus r√©centes. </li><li>  Si le tour de scrutin a r√©ussi et que tout le monde y √©tait favorable, le syst√®me passe √† une nouvelle √©tape - l'acceptation de la valeur (Accept).  ¬´Node 1¬ª recueille toutes les r√©ponses des autres n≈ìuds et signale: ¬´Tout le monde √©tait d'accord avec la valeur¬´ O ¬ª!  Maintenant, je d√©clare officiellement que ¬´O¬ª est notre nouveau sens, le m√™me pour tous!  √âcrivez-vous dans un livret, n'oubliez pas.  √âcrivez √† votre journal! ‚Äù <br><br><img src="https://habrastorage.org/webt/q4/q3/dj/q4q3djt3usbjuxz5jktov7tki9u.png"></li><li>  Les n≈ìuds restants envoient une confirmation (accept√©e) qu'ils ont √©crit la valeur "O", ils n'ont pas r√©ussi √† faire quelque chose de nouveau pendant ce temps (une sorte de validation en deux phases).  Apr√®s cet √©v√©nement capital, nous pensons que la transaction distribu√©e est termin√©e. <br><img src="https://habrastorage.org/webt/ip/mi/hx/ipmihxdgotdz6dkggfeubcothkc.png"></li></ol><br>  Ainsi, l'algorithme de consensus dans le cas simple comprend quatre √©tapes: proposer, voter, accepter, confirmer l'acceptation. <br><br>  Si √† un moment donn√©, nous ne parvenions pas √† un accord, alors l'algorithme est red√©marr√©, en tenant compte des informations fournies par les n≈ìuds qui ont refus√© de confirmer la valeur propos√©e. <br><br><h2>  Algorithme de consensus dans un syst√®me asynchrone </h2><br>  Avant cela, tout se passait bien, car il s'agissait d'un mod√®le de messagerie synchrone.  Mais nous savons que dans le monde moderne, nous sommes habitu√©s √† tout faire de mani√®re asynchrone.  Comment fonctionne un algorithme similaire dans un syst√®me avec un mod√®le de messagerie asynchrone, o√π nous pensons que le temps d'attente d'une r√©ponse d'un n≈ìud peut √™tre arbitrairement long (√† propos, la d√©faillance d'un n≈ìud peut √©galement √™tre consid√©r√©e comme un exemple lorsqu'un n≈ìud peut r√©pondre pendant une dur√©e arbitrairement longue) ) <br><br><blockquote>  Maintenant que nous savons comment fonctionne l'algorithme de consensus, la question est pour les lecteurs curieux qui ont atteint ce point: combien de n≈ìuds dans un syst√®me de N n≈ìuds avec un mod√®le de message asynchrone peuvent √©chouer afin que le syst√®me puisse toujours atteindre un consensus? </blockquote><br><div class="spoiler">  <b class="spoiler_title">La bonne r√©ponse et la justification derri√®re le spoiler.</b> <div class="spoiler_text">  La bonne r√©ponse est <b>0</b> .  Si au moins un n≈ìud du syst√®me asynchrone tombe en panne, le syst√®me ne parvient pas √† un consensus.  Cette affirmation est prouv√©e dans le th√©or√®me FLP connu dans certains milieux (1985, Fischer, Lynch, Paterson, lien vers l'original √† la fin de l'article): ¬´L'incapacit√© √† atteindre un consensus distribu√© lorsqu'au moins un n≈ìud tombe en panne¬ª. <br><img src="https://habrastorage.org/webt/bo/hm/1x/bohm1xpvycsoq2xbobtaje8xpfc.png"><br>  Les gars, alors nous avons un probl√®me, nous sommes habitu√©s au fait que tout est asynchrone avec nous.  Et voil√†.  Comment vivre plus loin? <br></div></div><br>  Nous parlons maintenant de th√©orie, de math√©matiques.  Qu'est-ce que cela signifie "un consensus ne peut pas √™tre atteint", traduisant d'un langage math√©matique dans le n√¥tre - l'ing√©nierie?  Cela signifie que ¬´ne peut pas toujours √™tre atteint¬ª, c'est-√†-dire  il y a un cas o√π le consensus n'est pas r√©alisable.  Et quel est ce cas? <br><br>  Il s'agit simplement d'une violation de la propri√©t√© d'animation d√©crite ci-dessus.  Nous n'avons pas d'accord g√©n√©ral, et le syst√®me ne peut pas progresser (ne peut pas se terminer dans un temps fini) dans le cas o√π nous n'avons pas de r√©ponse de tous les n≈ìuds.  Parce que dans un syst√®me asynchrone, nous n'avons pas de temps de r√©ponse pr√©visible et nous ne pouvons pas savoir si le n≈ìud est en panne ou prend juste beaucoup de temps pour r√©pondre. <br><br>  Mais en pratique, nous pouvons trouver une solution.  Laissez notre algorithme fonctionner longtemps en cas d'√©checs (il peut potentiellement fonctionner √† l'infini).  Mais dans la plupart des situations, lorsque la plupart des n≈ìuds fonctionnent correctement, nous aurons des progr√®s dans le syst√®me. <br><br>  Dans la pratique, nous avons affaire √† des mod√®les de communication partiellement synchrones.  Le synchronisme partiel est compris comme suit: dans le cas g√©n√©ral, nous avons un mod√®le asynchrone, mais formellement, nous introduisons un certain concept de ¬´temps de stabilisation globale¬ª d'un certain moment dans le temps. <br><br>  Ce moment peut ne pas arriver aussi longtemps que vous le souhaitez, mais un jour il doit arriver.  Une alarme virtuelle va sonner, et √† partir de maintenant, nous pouvons pr√©dire le delta de temps pendant lequel les messages atteindront.  A partir de ce moment, le syst√®me passe d'asynchrone √† synchrone.  Dans la pratique, nous traitons pr√©cis√©ment de tels syst√®mes. <br><br><h2>  L'algorithme Paxos r√©sout les probl√®mes de consensus </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paxos</a> est une famille d'algorithmes qui r√©solvent le probl√®me du consensus pour les syst√®mes partiellement synchrones, √† condition que certains n≈ìuds puissent tomber en panne.  L'auteur de Paxos est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Leslie Lamport</a> .  Il a propos√© une preuve formelle de l'existence et de l'exactitude de l'algorithme en 1989. <br><br>  Mais la preuve n'√©tait nullement anodine.  La premi√®re publication n'a √©t√© publi√©e qu'en 1998 (33 pages) avec une description de l'algorithme.  Il s'est av√©r√© qu'il √©tait extr√™mement difficile √† comprendre et, en 2001, une explication a √©t√© publi√©e pour l'article, qui comptait 14 pages.  Les volumes de publications sont donn√©s afin de montrer qu'en fait, le probl√®me du consensus n'est pas du tout simple, et de tels algorithmes sont soumis √† l'√©norme travail des personnes les plus intelligentes. <br><blockquote>  Il est int√©ressant de noter que Leslie Lamport lui-m√™me dans sa conf√©rence a not√© que dans le deuxi√®me article-explication, il y a une d√©claration, une ligne (n'a pas pr√©cis√© laquelle), qui peut √™tre interpr√©t√©e diff√©remment.  -      Paxos    . </blockquote><br>    Paxos'     ,         .               . <br><br><h4>   Paxos </h4><br>   Paxos   .    (    ): <br><br><ol><li> <b>Proposers (   :   )</b> .  ,    -          .            .  Paxos       . </li><li> <b>Acceptors (Voters)</b> .  ,          .    ,       :     (  )      . </li><li> <b>Learners</b> . ,        ,    .    ,         . </li></ol><br>         . <br><br><h4>   </h4><br>  ,       <b>N</b> .     <b>F</b>     .  F    ,       ,   <b>2F + 1</b>  acceptor'. <br><br>    ,    ,     ¬´¬ª,     .   <b>F + 1</b> ¬´¬ª ,  ,     .      ,               .     ,    . <br><br><h4>      Paxos </h4><br>  Paxos    ,         : <br><br><ol><li> <b>Phase 1a: Prepare</b> .     (proposer)   : ¬´    .    .    ‚Äì n.    ¬ª.        ,     .            .   ,     ,         .            ,     . ,                 ,     . </li><li> <b>Phase 1b: Promise</b> .  -acceptor'     ,   : <br><ul><li>  n   ,      ,    acceptor.  acceptor   ,            ,  n.  acceptor    -  (..       - ),           ,    . </li><li>   ,  acceptor       ,          . </li></ul></li><li> <b>Phase 2a: Accept</b> .       (   ) ,     ,        : <br><ul><li>   acceptor'  ,     .          c .    x,      : ¬´Accept (n, x)¬ª,    ‚Äì       Propose,    ‚Äì     , ..   , , . </li><li>    acceptor'    ,        ,        ,  ,      .   y.      : ¬´Accept (n, y)¬ª,     . </li></ul></li><li> <b>Phase 2b: Accepted</b> . , -acceptor',    ¬´Accept(...)¬ª,      (   ,      )    ,     - ()        <b>n' &gt; n</b> ,        . <br><br>     ,      ,     . !        ,     ,    . </li></ol><br>     Paxos.        ,       ,      ,               . <br><br>   ,  Paxos ‚Äî     ,    , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Raft</a> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br><h2>       </h2><br>  ¬´¬ª: <br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">How Does Distributed Consensus Works?</a> , Preethi Kasireddy, blog article on Medium </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paxos made simple. For real</a> , Adi Kancherla, blog article on Medium </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Decentralized Thoughts</a> , Ittai Abraham, blog </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Synchrony, Asynchrony and Partial synchrony</a> , Ittai Abraham, blog article </li></ul><br>  ¬´ ¬ª: <br><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Impossibility of Distributed Consensus with One Faulty Process (FLP impossibility)</a> , Fischer, Lynch and Paterson, research paper, 1985 </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">The Part-Time Parliament</a> , Leslie Lamport, research paper, 1998 </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paxos made simple</a> , Leslie Lamport, research paper, 2001 </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463469/">https://habr.com/ru/post/fr463469/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463455/index.html">Des milliers de choses √† corriger en Java √† partir de la premi√®re version: une grande interview avec Sergey Kuksenko d'Oracle</a></li>
<li><a href="../fr463459/index.html">Erreurs cach√©es avec les transitions d'√©l√©ment partag√©</a></li>
<li><a href="../fr463461/index.html">Ce qui est et ce qui n'est pas dans Go. Partie 1</a></li>
<li><a href="../fr463463/index.html">M√©thode pour cr√©er un effet DRAG et DROP</a></li>
<li><a href="../fr463465/index.html">Le livre ¬´JavaScript expressif. Programmation web moderne. 3e √©dition</a></li>
<li><a href="../fr463471/index.html">Fonctionnalit√© bascule: vues, avantages et utilisation avec eux dans .NET</a></li>
<li><a href="../fr463473/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 16. R√©seautage dans un petit bureau</a></li>
<li><a href="../fr463481/index.html">Math√©matiques discr√®tes pour WMS: algorithme de compression des marchandises dans les cellules (partie 1)</a></li>
<li><a href="../fr463483/index.html">Collaboration sur les documents, chat d'entreprise mis √† jour et application mobile: Nouveaut√©s de Zextras Suite 3.0</a></li>
<li><a href="../fr463489/index.html">Heavy metal lied: en fait, la musique heavy a un effet positif sur la sant√© de ses fans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>