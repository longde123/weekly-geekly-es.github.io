<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∂üèª üçñ üî© Sair do concurso ATM Alone no PHDays 8 üë®üèø‚Äçüî¨ ü§≤üèø ‚úçüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nos Dias Positivos de Hackeamento 8, a boa e velha competi√ß√£o por hackers Deixar ATMs Alone ATMs foi novamente realizada. Havia dois caixas eletr√¥nico...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sair do concurso ATM Alone no PHDays 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/412735/">  Nos Dias Positivos de Hackeamento 8, a boa e velha competi√ß√£o por hackers Deixar ATMs Alone ATMs foi novamente realizada.  Havia dois caixas eletr√¥nicos √† disposi√ß√£o dos participantes, o hardware foi fornecido pelo nosso parceiro de seguran√ßa banc√°ria Alfa-Bank.  Especialmente para a competi√ß√£o, montamos caixas eletr√¥nicos e colocamos vulnerabilidades neles.  Em 15 minutos, foi necess√°rio ignorar o equipamento de prote√ß√£o e extrair dinheiro do dispositivo.  O fundo do pr√™mio foi de 40 000 ‚ÇΩ.  Cerca de 40 participantes vieram tentar contornar a defesa.  Leonid Krolle, organizador do concurso e especialista do departamento de pesquisa de seguran√ßa de sistemas banc√°rios da Positive Technologies, contou como estava e analisou as tarefas em detalhes. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/lu/c9/cf/luc9cf7_e31tyqi6v7ejrodfxly.png"></a> <br><br>  <i>Deixar os concorrentes sozinhos no caixa eletr√¥nico</i> <br><br>  √Ä disposi√ß√£o dos participantes havia dois caixas eletr√¥nicos.  Em um deles, o software de controle de aplicativos de nossos parceiros est√° instalado, o que impede o lan√ßamento de aplicativos n√£o confi√°veis.  Ele n√£o permite que voc√™ execute qualquer aplicativo necess√°rio para sacar dinheiro (ol√°, Cutlet Maker, BubbleMaker e nemagiya!). <br><br>  O segundo caixa eletr√¥nico √© conectado via rede para testar o processamento, o que permite realizar uma opera√ß√£o de retirada de dinheiro (dispon√≠vel no caixa eletr√¥nico).  No entanto, o processamento envia um sinal para emitir da fita na qual n√£o h√° dinheiro.  Portanto, a tarefa dos participantes √© substituir a resposta do processamento para emitir dinheiro da fita correta. <br><br>  Os cabos de conex√£o do caixa eletr√¥nico e o processamento de teste est√£o localizados fora, com a capacidade de conectar-se a eles usando um cabo de rede (LAN). <br><br>  Os jogadores tiraram todo o dinheiro retirado do sistema. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/vh/g8/io/vhg8iogibjgk2plut3n6lmlxywu.png"><br><br>  <i>Caixas eletr√¥nicos em dois dias do f√≥rum: estavam tristes e solit√°rios</i> <br><br><h2>  Controle de aplica√ß√£o </h2><br>  Existem v√°rias maneiras de verificar se um aplicativo corresponde a uma determinada lista de permiss√µes - desde a verifica√ß√£o do caminho at√© o arquivo execut√°vel ou seu hash at√© a an√°lise da assinatura e extens√£o digitais.  As ferramentas de controle de aplicativos costumam ser usadas para fornecer prote√ß√£o adicional aos computadores clientes (eles pro√≠bem o lan√ßamento de software que n√£o est√° na lista branca) e fornecem seguran√ßa para sistemas isolados, como caixas eletr√¥nicos, que n√£o implicam interven√ß√£o operacional constante. <br><br>  Se a lista negra de extens√µes que devem ser bloqueadas √© mais ou menos universal e √© f√°cil de configurar, a lista branca do que √© permitido executar √© redundante por padr√£o - geralmente inclui todos os aplicativos do sistema operacional no momento da configura√ß√£o. <br><br>  Nos √∫ltimos anos, muitos m√©todos foram descritos para ignorar o controle de aplicativos usando as ferramentas do Microsoft Windows (por exemplo, ‚Äúrundll32‚Äù, ‚Äúregsvr32‚Äù), um bloqueio simples que interrompe a opera√ß√£o normal do sistema operacional.  Portanto, o ajuste fino do controle de aplicativos √© um trabalho complexo e meticuloso, cujo resultado foi dado aos participantes do concurso de rasgos.  Observe que, no mundo real, os invasores n√£o t√™m muito tempo para ignorar o controle de aplicativos. <br><br><h2>  Primeiro dia de competi√ß√£o </h2><br><img src="https://habrastorage.org/webt/xt/t6/f3/xtt6f3h0h1wgy5oy1ccte4rbqri.png"><br><br>  <i>A verdade da vida :)</i> <br><br>  O in√≠cio do primeiro dia da competi√ß√£o foi marcado por um denso fluxo de participantes do f√≥rum que tentaram contornar o controle de aplicativos e substituir a resposta do processamento - mais de 40 pessoas no total. <br><br><img src="https://habrastorage.org/webt/yl/tq/96/yltq96ue_yjtqhenqxfjvzweoic.png"><br><br>  <i>Primeiros participantes</i> <br><br>  No total, foram alocados 15 minutos para ignorar a prote√ß√£o em um caixa eletr√¥nico com controle de aplicativo: durante esse per√≠odo, voc√™ precisou executar o seu c√≥digo.  Infelizmente, no primeiro dia, todas as tentativas dos participantes de iniciar sua explora√ß√£o falharam.  No entanto, um participante conseguiu encontrar um dispositivo estranho instalado em um caixa eletr√¥nico.  Era um skimmer - um leitor port√°til em miniatura que pode ser conectado a um caixa eletr√¥nico.  Esses dispositivos ajudam os fraudadores a roubar dados do cart√£o banc√°rio: detalhes, c√≥digo PIN - todas as informa√ß√µes registradas na fita magn√©tica. <br><br><img src="https://habrastorage.org/webt/sz/kd/sk/szkdskly0ge1n-elb3hiaz5d3ku.png"><br><br>  <i>Skimmer</i> <br><br>  Depois de detectar o skimmer, foi necess√°rio extrair os dados do cart√£o: durante a prepara√ß√£o da competi√ß√£o, os organizadores escreveram um despejo de um cart√£o inexistente com um determinado n√∫mero. <br><br><div class="spoiler">  <b class="spoiler_title">Vamos falar um pouco sobre a prepara√ß√£o de um skimmer para uma competi√ß√£o.</b> <div class="spoiler_text">  O skimmer consiste em uma cabe√ßa magn√©tica para leitura e um dispositivo para gravar uma faixa de √°udio (√†s vezes com Wi-Fi ou Bluetooth).  Esta inst√¢ncia pode ser feita com base em um gravador Explay ou em um gravador de voz USB semelhante.  Exemplos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Em termos de tamanho, eles se encaixam na cobertura do anti-skimmer e ainda h√° espa√ßo para uma bateria, j√° que o mini de Frankenstein teve que ser preparado e revivido: um teste de desempenho foi realizado em um dispositivo semelhante de outro modelo de caixa eletr√¥nico.  Para economizar espa√ßo, o suporte de montagem da porta USB √© aparado, ent√£o eu mesmo precisei fazer o adaptador. <br><br><img src="https://habrastorage.org/webt/e7/eu/ux/e7euux45y66_irhfyfm6te8sphy.png"><br><br>  <i>Fazendo um adaptador</i> <br><br>  Testamos a inclus√£o correta do skimmer player de acordo com as instru√ß√µes do jogador da Internet (n√£o havia sinais nos bot√µes, pois eles permaneciam no estojo) e anotamos o cart√£o e o n√∫mero que os participantes tinham que remover do skimmer. <br><br><img src="https://habrastorage.org/webt/vw/cc/o7/vwcco7dgqrukqqn6gvzkty9x-14.png"><br><br>  √â assim que um cart√£o com p√≥ magn√©tico aplicado a ele se parece </div></div><br>  As informa√ß√µes na faixa magn√©tica do cart√£o s√£o gravadas usando a codifica√ß√£o de frequ√™ncia F / 2F (com o que √© consumido e como pode ser decodificado - leia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ) e representa caracteres alfanum√©ricos na codifica√ß√£o de 7 bits ou caracteres digitais na codifica√ß√£o de 5 bits.  Para determinar erros de leitura, √© usada a verifica√ß√£o de paridade e redund√¢ncia longitudinal (ou controle longitudinal de espera - LRC). <br><br>  Os dados em qualquer faixa devem come√ßar com o s√≠mbolo de servi√ßo iniciar e terminar com o s√≠mbolo de servi√ßo final.  Esses s√≠mbolos s√£o escolhidos de forma a permitir determinar o in√≠cio de um bloco de informa√ß√µes √∫teis, determinar a dire√ß√£o da leitura do cart√£o e at√© o formato de codifica√ß√£o da informa√ß√£o (5 ou 7 bits). <br><br>  Os caracteres de controle s√£o projetados para controlar o hardware e n√£o podem ser usados ‚Äã‚Äãpara transmitir informa√ß√µes (conte√∫do dos dados).  Separadores s√£o usados ‚Äã‚Äãpara separar os campos de dados no mapa. <br><br>  Em uma codifica√ß√£o de 7 bits, os caracteres [\] s√£o reservados para caracteres nacionais adicionais e n√£o devem ser usados ‚Äã‚Äãcomo parte da troca internacional de informa√ß√µes, o caractere # √© reservado para caracteres gr√°ficos adicionais arbitr√°rios. <br>  Aqui est√° um exemplo de como pode parecer: <br><br>  - via ISO 2 normal: <br><br>  <b>; XXXXXXXXXXXXXXXX = AAAAAAAAAAAAAAAA? Z</b> - 37 caracteres <br><br>  X ... X - n√∫mero do cart√£o, Z - LRC (os dados come√ßam com o caractere inicial e terminam com o caractere final, o n√∫mero do cart√£o tem 16 d√≠gitos e o LRC est√° presente) <br><br><img src="https://habrastorage.org/webt/zt/l7/tm/ztl7tmpmtzjao3ulrofqqbnlv80.png"><br><br>  <i>O momento de testar e despejar</i> <br><br>  De fato, voc√™ pode copiar dados do player na forma de um arquivo MP3, descobrir onde a faixa est√° gravada, aument√°-la no editor de √°udio e analisar pouco a pouco, mas existem m√©todos mais simples. <br><br>  Por exemplo: <br><br><ul><li>  O SWipe √© um aplicativo para leitura de cart√µes de tarja magn√©tica em uma porta de √°udio. </li><li>  Decodificador de tarja magn√©tica.  Um programa para decodificar um cart√£o de tarja magn√©tica, recebendo os dados brutos da tarja magn√©tica por meio da placa de som. </li></ul><br>  Eles permitem converter com mais ou menos precis√£o os dados da faixa de √°udio em ASCII (dados decriptografados). <br><br>  Ap√≥s cerca de uma hora, foram fornecidos os dados do cart√£o gravado no skimmer.  O Honrado Pr√™mio da Simpatia do Espectador encontrou seu dono.  Parab√©ns a Maxim Vikhlyantsev! <br><br>  O restante dos participantes continuou a lutar pelos principais pr√™mios enviados aos caixas eletr√¥nicos :) Algu√©m tentou invadir a defesa, mas havia tamb√©m aqueles que estavam cansados ‚Äã‚Äãe perderam a esperan√ßa de um r√°pido enriquecimento.  No entanto, o primeiro dia foi tempestuoso, embora o jackpot principal tenha permanecido com os organizadores ... <br><br><img src="https://habrastorage.org/webt/a7/jv/qk/a7jvqksrhcpyx7mhu-l7uzuy1_m.png"><br><br><h2>  Segundo dia </h2><br><img src="https://habrastorage.org/webt/6t/st/ep/6tstepatpvygffsz1gjbyaxk6x0.png"><br><br>  <i>Permaneceu o mais persistente</i> <br><br>  No segundo dia da competi√ß√£o em campo por hackers em ATM, era poss√≠vel observar todos os mesmos participantes.  Perseveran√ßa e perseveran√ßa na tentativa de encontrar um vetor para contornar a prote√ß√£o n√£o permaneceu em v√£o, e aqui - Stanislav Povolotsky contornou com seguran√ßa a defesa e, executando um c√≥digo n√£o assinado, ganhou o pr√™mio em dinheiro no primeiro caixa eletr√¥nico. <br><br><img src="https://habrastorage.org/webt/sn/9s/wd/sn9swddlya06o70a50iycymfvkg.png"><br><br>  <i>Demonstra√ß√£o de um trabalho bem sucedido</i> <br><br>  A ess√™ncia do ataque √† rede no segundo caixa eletr√¥nico foi a seguinte: no caixa eletr√¥nico havia um laptop com software instalado que emulava o processamento. <br><br><img src="https://habrastorage.org/webt/c2/rk/_i/c2rk_ihnvcu7psjkghgf_srh6iw.png"><br><br>  <i>Emulador de processamento</i> <br><br>  O emulador foi configurado para emitir dinheiro com qualquer cart√£o inserido, sem um c√≥digo PIN, mas a fita cujo comando o emulador enviou em resposta √† solicita√ß√£o estava vazia.  Para resolver este problema, era necess√°rio: <br><br><ul><li>  interceptar o pacote de resposta do emulador de processamento; </li><li>  desmonte a embalagem e forme a sua - apenas com o n√∫mero de cartucho correto; </li><li>  insira um cart√£o e, ao enviar uma solicita√ß√£o de processamento, responda ao caixa eletr√¥nico com os dados alterados; </li><li>  usando as ferramentas tcpdump, wireshark, scapy ou ettercap, execute um ataque de repeti√ß√£o ou um ataque de falsifica√ß√£o com dados modificados para responder ao ATM. </li></ul><br>  O tcpdump √© um utilit√°rio UNIX que possui um clone para Windows e permite interceptar e analisar o tr√°fego de rede que passa pelo computador no qual este programa est√° sendo executado. <br><br>  O wireshark √© um utilit√°rio semelhante, apenas mais "carregado", com uma GUI. <br><br>  scapy √© uma biblioteca interativa de shell e software para manipular pacotes de rede na linguagem de programa√ß√£o Python. <br><br>  O ettercap √© um utilit√°rio para analisar o tr√°fego de rede que passa por uma interface de computador, mas com funcionalidade adicional.  O programa permite realizar ataques como "man in the middle" para for√ßar outro computador a transmitir pacotes n√£o ao roteador, mas ao invasor. <br><br><img src="https://habrastorage.org/webt/4_/zf/gq/4_zfgqlxjev9u55wt0dz4tojhz0.png"><br><br>  <i>Na verdade, nada muda</i> <br><br>  Com uma abordagem t√£o dif√≠cil, os participantes tiveram dificuldades, mas os venceram.  O pr√™mio por falsificar a resposta do processamento no segundo caixa eletr√¥nico foi recebido pela equipe - Informa√ß√µes e p√∫blico, Centro de seguran√ßa e Uzbequist√£o.  Com o que os parabenizamos!  A lista completa dos vencedores est√° na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina do concurso</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt412735/">https://habr.com/ru/post/pt412735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt412721/index.html">Tr√™s esperan√ßas da humanidade para a descoberta de alien√≠genas</a></li>
<li><a href="../pt412723/index.html">Procurando uma nova cor de bilh√µes de d√≥lares</a></li>
<li><a href="../pt412725/index.html">Como tornar sua infraestrutura de TI chata</a></li>
<li><a href="../pt412727/index.html">Como escolher uma ferramenta para prototipagem em 2018?</a></li>
<li><a href="../pt412729/index.html">GDPR. √â necess√°rio realiz√°-lo na R√∫ssia?</a></li>
<li><a href="../pt412737/index.html">Prote√ß√£o de dados pessoais de 3 bilh√µes de pessoas - semelhan√ßas e diferen√ßas na legisla√ß√£o nos pa√≠ses do BRICS</a></li>
<li><a href="../pt412739/index.html">C√£o pastor</a></li>
<li><a href="../pt412741/index.html">Como parar de ter medo de que a intelig√™ncia artificial o deixe sem trabalho</a></li>
<li><a href="../pt412743/index.html">Profiss√£o: Cyber ‚Äã‚ÄãDetective</a></li>
<li><a href="../pt412747/index.html">MIS. Armazenamento de dados m√©dicos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>