<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé• üçù üçì Como desenvolvo e teste APIs com minha ‚Äúbicicleta‚Äù PieceofScript ü§öüèø ü§Ωüèø üôåüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PieceofScript √© uma linguagem simples para escrever scripts para teste autom√°tico da API HTTP JSON. 

 O PieceofScript permite: 



- descrever m√©todo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como desenvolvo e teste APIs com minha ‚Äúbicicleta‚Äù PieceofScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430392/">  PieceofScript √© uma linguagem simples para escrever scripts para teste autom√°tico da API HTTP JSON. <br><br>  O PieceofScript permite: <br><br><ul><li>  descrever m√©todos de API no formato YAML, com o nome do m√©todo em uma linguagem quase natural, o que √© conveniente para a leitura de testes </li><li>  flex√≠vel o suficiente para descrever modelos no formato YAML e gerar dados aleat√≥rios a partir deles </li><li>  escreva scripts de chamada de API complexos em uma linguagem f√°cil de ler com sintaxe simples </li><li>  obtenha resultados de teste nos formatos JUnit e HTML </li></ul><br>  Eu escrevi essa "bicicleta" porque a interface do SoapUI me derrubou.  Eu queria descrever de forma simples e clara os testes em um editor de texto sem uma GUI especial.  Al√©m disso, o git n√£o digere o enorme arquivo xml que o SoapUI emite, por isso √© dif√≠cil colocar testes para uma tarefa espec√≠fica no mesmo ramo em que a tarefa foi realizada.  A interface do Postman √© muito melhor, mas durante o desenvolvimento, leva muito tempo para compor / modificar solicita√ß√µes l√° e repeti-las na sequ√™ncia desejada.  Eu queria automatizar isso.  Tamb√©m estudei outras ferramentas de teste, cada uma com uma " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">falha fatal</a> "; portanto, no contexto da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">s√≠ndrome</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NIH,</a> abri uma IDE. <br><br>  Aqui est√° o que veio disso. <br><br><img src="https://habrastorage.org/webt/be/su/_o/besu_olm_gbromxnr34mzcvy8sy.gif"><br><a name="habracut"></a><br>  O int√©rprete √© escrito em PHP e √© um arquivo phar; requer a vers√£o PHP 7.2, embora tamb√©m possa funcionar no 7.1.  C√≥digo-fonte e documenta√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/maximw/PieceofScript</a> .  Documenta√ß√£o em desenvolvimento.  Como se viu, essa √© a parte mais dif√≠cil e entediante. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Projeto de teste, sua estrutura e lan√ßamento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Script de teste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todos de teste da API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chamada de m√©todo da API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gera√ß√£o de modelos e dados de teste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fun√ß√µes incorporadas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Casos de teste</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vari√°veis ‚Äã‚Äãe escopos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tipos e Opera√ß√µes</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Salvando dados entre execu√ß√µes</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sa√≠da para stdout e relat√≥rios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Exemplos</a> - palavras suficientes, mostre o c√≥digo! <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Coment√°rios e planos para o futuro, se houver</a> <br><br><a name="struct"></a><h2>  Projeto de teste, sua estrutura e lan√ßamento </h2><br>  O projeto √© um diret√≥rio com um conjunto de arquivos de script, arquivos de descri√ß√£o do m√©todo API e geradores de dados de teste. <br><br>  Na vers√£o m√≠nima, o projeto fica assim: <br><br><pre><code class="plaintext hljs">./tests endpoints.yaml -  API generators.yaml -  start.pos -   </code> </pre> <br>  O arquivo de inicializa√ß√£o √© o script a partir do qual o processo de teste come√ßa.  √â definido na inicializa√ß√£o: <br><br><pre> <code class="bash hljs">pos.phar run ./start.pos --junit=junit_report.xml -vvv --config=config.yaml</code> </pre> <br>  Todos os caminhos relativos s√£o lidos no diret√≥rio de trabalho que cont√©m o arquivo inicial. <br>  O arquivo de configura√ß√£o pode ser especificado na linha de comandos com a op√ß√£o <i>--config</i> ou coloque <i>config.yaml</i> no diret√≥rio de trabalho.  A configura√ß√£o √© opcional, voc√™ precisa subir l√° conforme necess√°rio.  <a href="">Mais sobre a configura√ß√£o</a> . <br><br><a name="script"></a><h2>  Script de teste </h2><br>  Decidi escrever scripts em arquivos com a extens√£o .pos, para que voc√™ possa fazer configura√ß√µes de destaque de c√≥digo no IDE com uma extens√£o de extens√£o.  Mas o int√©rprete √© completamente indiferente √† extens√£o. <br><br>  Aqui est√° um exemplo de script simples para um f√≥rum imagin√°rio em que o teste de cria√ß√£o e leitura de uma postagem por diferentes usu√°rios √© realizado. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">"./globals.pos"</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ,  $domain include "./globals_local.pos" //     ,    include "./user/*.pos" //       ./user  ./post include "./post/*.pos" //       var $author = User() var $reader = User() var $banned = User() var $post = Post() Register $author //   API,     must $response.code == 201 //     Register $reader must $response.code == 201 Register $banned must $response.code == 201 Add $banned to blacklist of $author //$banned      $author Create post $post by $author //   API   must $response.code == 201 //    API   201 // ...,   ,       assert $response.body.post.content == $post.content var $postId = $response.body.post.id // Id     Read post $postId by $author //     must $response.code == 200 assert $response.body.post.content == $post.content Read post $postId by $reader //      must $response.code == 200 assert $response.body.post.content == $post.content Read post $postId by $banned //        assert $response.code == 404</span></span></code> </pre><br>  Sim, n√£o parece muito bom sem luz de fundo. <br><br>  Cada linha do script come√ßa com um operador ou √© uma chamada para um m√©todo de API.  Se de repente o nome do m√©todo da API come√ßar com uma palavra que corresponda a um dos operadores, voc√™ poder√° usar o s√≠mbolo " <i>&gt;</i> ": <br><br><pre> <code class="plaintext hljs">&gt;Include $user to group $userGroup</code> </pre> <br>  Os operadores n√£o diferenciam mai√∫sculas de min√∫sculas.  assert, ASSERT ou aSsErT (mas por que escrever assim?) funcionar√°. <br>  Cada instru√ß√£o ou chamada de m√©todo da API deve estar em uma linha separada.  Mas a quebra de linha tamb√©m √© poss√≠vel se o √∫ltimo caractere da string for <i>\</i> (hello, Python). <br><br><div class="spoiler">  <b class="spoiler_title">Detalhes desinteressantes sobre quebras de linha e recuos</b> <div class="spoiler_text">  Se a quebra de linha for usada em um coment√°rio, a pr√≥xima linha tamb√©m ser√° considerada parte do coment√°rio.  Ao agrupar linhas dentro de blocos (caso de <i>teste</i> , <i>se</i> , <i>enquanto</i> , <i>foreach</i> ), √© importante <i>recuar</i> para que a pr√≥xima linha caia no mesmo bloco. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $n = <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $i = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib1 = <span class="hljs-number"><span class="hljs-number">1</span></span>; \ $fib2 = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> $i &lt;= $n <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib_sum = \ $fib2 + $fib1 <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> toString($i) + <span class="hljs-string"><span class="hljs-string">"  :"</span></span> + \ toString($fib_sum) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib1 = $fib2 <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $fib2 = $fib_sum <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $i = $i + <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Ao executar instru√ß√µes de bloco ( <i>testcase</i> , <i>if</i> , <i>while</i> , <i>foreach</i> ), um bloco √© determinado pela indenta√ß√£o de suas linhas.  O recuo √© contado como o n√∫mero de espa√ßos em branco no in√≠cio de uma linha.  O espa√ßo e a guia contam como um caractere, mas as guias geralmente s√£o exibidas nos editores como v√°rios espa√ßos.  Portanto, para evitar confus√£o, √© melhor usar guias ou espa√ßos, mas n√£o todos juntos. <br></div></div><br><h4>  Lista completa de operadores </h4><br>  <b>exigir nome</b> do arquivo - anexe o arquivo ao local em que o operador √© chamado.  O arquivo anexado ser√° iniciado imediatamente a partir da primeira linha.  Ap√≥s a conclus√£o, o int√©rprete retorna para a pr√≥xima linha do arquivo de origem.  Se o arquivo solicitado n√£o estiver leg√≠vel, um erro ser√° gerado.  O caminho relativo √© calculado a partir do diret√≥rio ativo. <br><br>  <b>include <i>fileMask</i></b> - semelhante ao requerido, mas se o arquivo solicitado n√£o for leg√≠vel, n√£o haver√° erro.  Isso √© conveniente, por exemplo, para criar configura√ß√µes para diferentes ambientes de teste.  Al√©m disso, o include pode conectar todos os arquivos por m√°scara de uma vez.  Portanto, por exemplo, voc√™ pode baixar diret√≥rios inteiros de arquivos que cont√™m casos de teste.  Mas, ao mesmo tempo, qualquer ordem de download de arquivos n√£o √© garantida. <br><br>  <b>var <i>$ vari√°vel1 = express√£o1</i> ;</b>  <b><i>$ vari√°vel2 = express√£o2</i> ; ...;</b>  <b><i>$ variableN = expressionN</i></b> - atribua valores √†s vari√°veis.  Se a vari√°vel ainda n√£o existir, ela ser√° criada no contexto atual. <br><br>  <b>deixe <i>$ vari√°vel1 = express√£o1</i> ;</b>  <b><i>$ vari√°vel2 = express√£o2</i> ; ...;</b>  <b><i>$ variableN = expressionN</i></b> - atribua valores √†s vari√°veis.  Se a vari√°vel n√£o estiver no contexto atual, haver√° uma tentativa de criar ou modificar a vari√°vel no contexto global. <br><br>  <b>const <i>$ const1 = express√£o1</i> ;</b>  <b><i>$ const2 = express√£o2</i> ; ...;</b>  <b><i>$ constN = expressionN</i></b> - define o valor das constantes no contexto atual.  A diferen√ßa entre constantes e vari√°veis ‚Äã‚Äã√© apenas que elas n√£o podem ser alteradas; quando voc√™ tenta atribuir um valor a uma constante, um aviso ser√° emitido ap√≥s a declara√ß√£o.  Se j√° houver uma vari√°vel com o mesmo nome, ser√° gerado um erro ao tentar declar√°-la uma constante.  Caso contr√°rio, tudo o que √© verdadeiro para vari√°veis ‚Äã‚Äãtamb√©m √© verdadeiro para constantes. <br><br>  <b>import <i>$ variable1</i> ;</b>  <b><i>$ vari√°vel2</i> ; ...;</b>  <b><i>$ variableN</i></b> - copia vari√°veis ‚Äã‚Äãdo contexto global para o atual.  Pode ser √∫til se voc√™ precisar operar com o valor de uma vari√°vel global, mas n√£o alter√°-lo. <br><br>  <b>testcase <i>testCaseName</i></b> - anuncia um caso de teste, que pode ser chamado como uma unidade com a instru√ß√£o <i>run</i> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Leia mais sobre casos de teste posteriormente neste artigo</a> . <br><br>  <b>afirmar <i>express√£o</i></b> - verifique se a <i>express√£o</i> √© <i>verdadeira</i> ; caso contr√°rio, imprima um relat√≥rio sobre o teste que falhou. <br><br>  <b><i>express√£o</i> deve</b> ser a mesma que <i>afirmar</i> , somente se o teste falhar, o caso de teste atual ser√° interrompido.  E fora do contexto do caso de teste, o script ser√° finalizado por completo.  Pode ser usado se for detectado um erro com o qual verifica√ß√µes adicionais n√£o fazem sentido. <br><br>  <b>executar <i>testCaseName</i></b> - execute o caso de teste especificado para execu√ß√£o.  <i>executar</i> sem especificar o nome do caso de teste iniciar√° todos os casos de teste declarados que n√£o exigem argumentos na ordem de sua declara√ß√£o. <br><br>  <b>while <i>expression</i></b> - um loop, enquanto <i>expression for</i> true, executa instru√ß√µes com linhas recuadas mais do que <i>while</i> . <br><br>  <b>foreach <i>$ array</i> ;</b>  <b><i>$ element</i></b> - passa pela matriz, o corpo da malha √© executado para cada pr√≥ximo elemento da matriz.  Tamb√©m √© poss√≠vel obter a chave <b><i>para cada array $</i> ;</b>  <b><i>chave $</i> ;</b>  <b><i>elemento $</i></b> .  As vari√°veis <i>$ key</i> e <i>$ element</i> s√£o criadas / substitu√≠das no contexto atual. <br><br>  <b>se <i>express√£o</i></b> - se <i>express√£o for</i> verdadeira, executa instru√ß√µes com linhas recuadas mais do que <i>se</i> <br><br>  <b>print <i>expression1</i> ;</b>  <b><i>expression2</i> ; ... <i>expressionN</i></b> - imprime o valor de <i>expressionM</i> em stdout.  Ele pode ser usado para depura√ß√£o, funciona apenas com o n√≠vel de "capacidade de conversa√ß√£o" <i>--verbosity = 1</i> ou <i>-v</i> e mais. <br><br>  <b><i>express√£o do</i> sono</b> - pausa para um determinado n√∫mero, opcionalmente um n√∫mero inteiro, segundos.  √Äs vezes, voc√™ precisa dar uma pausa na API testada. <br><br>  <b><i>express√£o de</i> pausa</b> - n√£o no modo interativo (op√ß√£o de linha de comando <i>-n</i> ) √© semelhante ao modo de <i>suspens√£o</i> .  <i>A express√£o</i> √© opcional; nesse caso, n√£o haver√° pausa.  E no modo interativo, fa√ßa uma pausa antes de pressionar Enter. <br><br>  <b>cancele o</b> teste final.  O int√©rprete termina o trabalho, cria relat√≥rios. <br><br><a name="methods"></a><h2>  M√©todos de teste da API </h2><br>  Na verdade, √© isso que voc√™ precisa testar - ligue com determinados par√¢metros e verifique se a resposta atende √†s expectativas. <br><br>  Os m√©todos de API s√£o descritos no formato YAML.  Por padr√£o, as descri√ß√µes devem estar no arquivo <i>endpoints.yaml</i> do diret√≥rio atual e / ou nos arquivos <i>* .yaml</i> em seu subdiret√≥rio <i>./endpoints</i> .  Antes do teste, o int√©rprete tentar√° ler todos esses arquivos de uma vez. <br><br>  Exemplo de estrutura <i>endpoints.yaml</i> : <br><br><pre> <code class="plaintext hljs">Auth $user: method: "POST" url: $domain + "/login" headers: Content-Type: "application/json" format: "json" data: login: $user.login password: $user.password after: - assert $response.code == 200 - let $user.auth_token = $response.body.auth_token Create post $post by $user: method: "POST" url: $domain + "/posts" format: "json" data: $post headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 201 Read post $postId by $user: method: "GET" url: $domain + "/posts/" + $postId headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert ($response.code == 200) || ($response.code == 404) Create comment $comment on $post by $user: method: "POST" url: $domain + "/comments/create/" + $post.id format: "json" data: $comment headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 201</code> </pre><br>  O nome do m√©todo da API (o n√≠vel superior da estrutura YAML) pelo qual ele pode ser chamado √© uma sequ√™ncia em um formato quase arbitr√°rio. <br><br>  Os argumentos podem ser especificados em qualquer lugar do nome.  Eles devem ser separados por espa√ßos do restante das palavras.  Por exemplo, <i>$ comment</i> , <i>$ post</i> e <i>$ user</i> no √∫ltimo m√©todo. <br><br>  Al√©m disso, em qualquer lugar do nome, voc√™ pode especificar valores opcionais do m√©todo entre colchetes duplos. <br><br><pre> <code class="plaintext hljs">Get comments of $post {{$page=1; $perPage=$defaultGlobalPageSize}}: method: "GET" url: $domain + "/comments/" + $post.id query: page: $page per_page: $perPage headers: auth: "Bearer " + $user.auth_token content-type: "application/json" after: - assert $response.code == 200</code> </pre> <br>  Nas express√µes que especificam valores opcionais, vari√°veis ‚Äã‚Äãde contexto global est√£o dispon√≠veis. <br>  Os valores opcionais podem ser √∫teis para que voc√™ n√£o os especifique sempre que chamar o m√©todo da API.  Se o tamanho da p√°gina precisar ser alterado em apenas um lugar, por que indic√°-lo em todos os outros lugares?  Exemplos de chamadas para este m√©todo: <br><br><pre> <code class="plaintext hljs">Get comments of $newPost //     $page  $perPage Get comments of $newPost {{$page=$currentPage+1}} Get comments of {$newPost} {{$perPage=10;$page=100}}</code> </pre><br>  O restante das vari√°veis ‚Äã‚Äãusadas ( <i>$ domain</i> no exemplo acima) ser√£o retiradas do contexto global.  Mais adiante falarei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre os contextos</a> . <br><br>  Parece-me conveniente fornecer nomes de legibilidade humana aos m√©todos de API em uma linguagem natural, para que o script de teste seja mais f√°cil de ler.  Os nomes n√£o diferenciam mai√∫sculas de min√∫sculas, ou seja, o m√©todo <i>Auth $ User</i> pode ser chamado como <i>auth $ User</i> e como <i>AUTH $ User</i> .  No entanto, os nomes de vari√°veis ‚Äã‚Äãdiferenciam mai√∫sculas de min√∫sculas, mais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre as vari√°veis</a> abaixo. <br><br>  <b>Nota importante.</b>  O formato YAML permite que voc√™ n√£o inclua seq√º√™ncias de caracteres entre aspas.  Mas para o int√©rprete, uma sequ√™ncia sem aspas √© uma express√£o que precisa ser avaliada.  Por exemplo, declarar um campo <code>url: http://example.com/login</code> resultar√° em um erro de sintaxe durante a execu√ß√£o.  Portanto, ele estar√° correto: <code>url: "http://example.com/login"</code> ou <code>url: "http://"+$domain+"/login"</code> <br><br><h4>  Campos de descri√ß√£o do m√©todo da API </h4><br>  <i><b>method</b></i> - m√©todo HTTP necess√°rio <br><br>  <i><b>url</b></i> - o URL real, necess√°rio <br><br>  <i><b>headers</b></i> - lista de cabe√ßalhos HTTP, opcional <br><br>  <i><b>cookies</b></i> - lista de cookies opcional <br><br>  <i><b>auth</b></i> - dados para autentica√ß√£o HTTP, opcional <br><br><pre> <code class="php hljs">auth: login: $login password: $password type: <span class="hljs-string"><span class="hljs-string">"basic"</span></span> <span class="hljs-comment"><span class="hljs-comment">//  "digest"  "ntlm", - "basic"</span></span></code> </pre> <br>  <i><b>query</b></i> - uma lista de par√¢metros de URL, opcional <br><br>  <i><b>formato</b></i> - um dos valores: <br><br><ul><li>  <i>none</i> - a solicita√ß√£o n√£o tem corpo </li><li>  <i>json</i> - enviar para JSON </li><li>  <i>bruto</i> - envie a string "como est√°" </li><li>  <i>form</i> - no formato application / x-www-form-urlencoded </li><li>  <i>multipart</i> - no formato multipart / data-form </li></ul><br>  Opcional, <i>nenhum</i> padr√£o <br><br>  <i><b>data</b></i> - request body, ser√° enviado no formato especificado no <i>formato</i> , opcional <br><br><ul><li>  Para <i>nenhum</i> - o formato dos <i>dados</i> pode estar ausente, se presente, ser√° ignorado </li><li>  Para o formato <i>json</i> , qualquer valor </li><li>  Para <i>o</i> formato <i>bruto</i> , qualquer valor escalar </li><li>  Para o formato do <i>formul√°rio</i> , uma matriz cujas chaves s√£o nomes de campos: <br><br><pre> <code class="plaintext hljs">data: login: "Bob" password: $password remember_me: 1</code> </pre> </li><li>  Para o formato <i>multipartes</i> , uma matriz da seguinte estrutura: <br><br><pre> <code class="plaintext hljs">data: user_id: value: 42 headers: X-Baz: "bar" avatar: file: "/path/to/file" photo: file: "http://url.to/file" filename: "custom_filename.jpg"</code> </pre> </li></ul><br>  Os arquivos especificados nos campos do <i>arquivo</i> devem ser leg√≠veis.  Se uma URL for especificada, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">allow_url_fopen</a> dever√° ser ativado no php.ini <br><br>  <i><b>before</b></i> - instru√ß√µes que ser√£o executadas antes da solicita√ß√£o HTTP, opcional <br><br>  <i><b>after</b></i> - instru√ß√µes que ser√£o executadas ap√≥s a solicita√ß√£o HTTP, opcional <br><br>  A id√©ia dos bloqueios <i>antes</i> e <i>depois</i> na execu√ß√£o de verifica√ß√µes ou no processamento de quaisquer dados necess√°rios sempre que antes ou depois da execu√ß√£o da solicita√ß√£o HTTP √© ditada n√£o tanto pelas necessidades de teste quanto pela l√≥gica de neg√≥cios.  Por exemplo, copiando o token de autoriza√ß√£o emitido no campo da estrutura $ user para chamar todos os m√©todos de API subseq√ºentes em nome desse usu√°rio.  Ou para verificar o status HTTP da resposta, para n√£o verificar todas as vezes ap√≥s uma chamada no script. <br><br><a name="call"></a><h2>  Chamada de m√©todo da API </h2><br>  Para chamar o m√©todo API no script, voc√™ precisa especificar seu nome e par√¢metros, se necess√°rio.  Aqui est√° um exemplo de chamada do √∫ltimo m√©todo de API da descri√ß√£o acima: <br><br><pre> <code class="php hljs">Create comment $comments<span class="hljs-number"><span class="hljs-number">.1</span></span> on {$newPost} by {$postAuthor}</code> </pre> <br>  Se o par√¢metro estiver entre colchetes, ele ser√° passado por valor - dessa forma, voc√™ pode passar qualquer express√£o.  Se voc√™ especificar um par√¢metro sem colchetes, ele ser√° passado por refer√™ncia - pode ser apenas vari√°veis ‚Äã‚Äãe acessos est√°ticos aos elementos da matriz (por um per√≠odo, mas n√£o por colchetes []). <br><br><pre> <code class="php hljs">Create comment {$comments[$i]} on $posts<span class="hljs-number"><span class="hljs-number">.0</span></span> by $users<span class="hljs-number"><span class="hljs-number">.1</span></span> Read post {<span class="hljs-number"><span class="hljs-number">123</span></span>} by $user Get comments of $users<span class="hljs-number"><span class="hljs-number">.1</span></span>.id {{$page = <span class="hljs-number"><span class="hljs-number">2</span></span>}}</code> </pre> <br>  Cada vez que o m√©todo API √© chamado no contexto da pr√≥pria chamada (nas listas de instru√ß√µes <i>antes</i> e <i>depois</i> ) e no contexto em que foi chamado, as vari√°veis <i>$ request</i> e <i>$ response s√£o criadas</i> .  Estes s√£o nomes reservados, n√£o recomendo us√°-los para outros fins.  <i>$ request</i> est√° dispon√≠vel nos blocos <i>antes</i> e <i>depois</i> , e <i>$ response est√°</i> somente em <i>depois</i> , em <i>antes que</i> seu valor se torne <i>Nulo</i> .  No contexto de chamada, essas vari√°veis ‚Äã‚Äãest√£o dispon√≠veis at√© a pr√≥xima chamada de m√©todo da API, onde ser√£o reinicializadas. <br><br><h4>  $ Estrutura de solicita√ß√£o </h4><br>  <b>$ request.method</b> - String - m√©todo HTTP <br>  <b>$ request.url</b> - String - o URL solicitado <br>  <b>$ request.query</b> - Array - uma lista dos par√¢metros GET <br>  <b>$ request.headers</b> - Matriz - lista de cabe√ßalhos de solicita√ß√£o <br>  <b>$ request.cookies</b> - Matriz - lista de cookies <br>  <b>$ reuqest.auth</b> - Matriz ou Nulo - dados para autentica√ß√£o HTTP <br>  <b>$ request.format</b> - String - solicita o formato dos dados <br>  <b>$ request.data</b> - digite qualquer - o que foi calculado no campo de <i>dados</i> <br><br><h4>  Estrutura de resposta </h4><br>  <b>$ response.network</b> - Boolean - false se o erro ocorreu no n√≠vel da rede abaixo de HTTP <br>  <b>$ response.code</b> - Number or Null - c√≥digo de resposta, por exemplo, 200 ou 404 <br>  <b>$ response.status</b> - String ou Null - status da resposta, por exemplo, ‚Äú204 No Content‚Äù ou ‚Äú401 Unauthorized‚Äù <br>  <b>$ response.headers</b> - Array - lista de cabe√ßalhos de resposta, nomes de cabe√ßalho em min√∫sculas <br>  <b>$ response.cookies</b> - Matriz - lista de cookies <br>  <b>$ response.body</b> - qualquer tipo de corpo de resposta processado como JSON; se houver um erro durante a an√°lise, o elemento <i>body</i> n√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">existir√°</a> : <code>@response.body == null</code> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre a verifica√ß√£o da exist√™ncia de vari√°veis</a> ) <br>  <b>$ response.raw</b> - String ou Null - o corpo de resposta bruto <br>  <b>$ response.duration</b> - type Number - dura√ß√£o da solicita√ß√£o em segundos <br><br><a name="generators"></a><h2>  Gera√ß√£o de modelos e dados de teste </h2><br>  Geradores s√£o usados ‚Äã‚Äãpara descrever modelos e gerar dados de teste a partir deles.  As descri√ß√µes no formato YAML devem estar no arquivo <i>generators.yaml</i> no diret√≥rio de trabalho e / ou <i>nos</i> arquivos <i>* .yaml</i> no subdiret√≥rio <i>./generators</i> . <br><br><pre> <code class="plaintext hljs">User: body: login: Faker\login() name: Faker\name() email: Faker\email() password: Faker\text(16) child: Child() birthday: dateFormat(Faker\datetime(), "U") settings: notifications_enabled: Faker\boolean() Child: body: name: Faker\name() gender: Faker\integer(1, 2) age: Faker\integer(0, 18) Comment($user): body: content: "Hi! I'm " + $user.name tags: - "tag1" - "tag2"</code> </pre><br>  No exemplo acima, os tr√™s geradores <i>User ()</i> , <i>Child ()</i> e <i>Comment () s√£o</i> declarados.  Nesse caso, o √∫ltimo possui o argumento <i>$ user</i> e pode usar esses dados ao gerar.  Argumentos para geradores sempre s√£o passados ‚Äã‚Äãpor valor.  Al√©m disso, o exemplo usa v√°rias outras fun√ß√µes <i>internas</i> : <i>Faker \ name ()</i> , <i>Faker \ email ()</i> , <i>dateFormat ()</i> etc.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Se√ß√£o sobre fun√ß√µes internas</a> . <br><br>  Ao chamar o gerador <i>User ()</i> do exemplo acima, ser√° gerada uma estrutura parecida com esta no JSON: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"login"</span></span>: <span class="hljs-string"><span class="hljs-string">"fgadrkq"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Lucy Cechtelar"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"email"</span></span>: <span class="hljs-string"><span class="hljs-string">"tkshlerin@collins.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"password"</span></span>: <span class="hljs-string"><span class="hljs-string">"gbnaueyaaf"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"child"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adaline Reichel"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"gender"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"age"</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"birthday"</span></span>: <span class="hljs-number"><span class="hljs-number">318038400</span></span>, <span class="hljs-attr"><span class="hljs-attr">"settings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"notifications_enabled"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>  O valor do campo <i>filho</i> √© o resultado do gerador <i>Child</i> <i>()</i> . <br><br>  Como na descri√ß√£o dos m√©todos da API, quaisquer seq√º√™ncias de caracteres que n√£o estejam entre aspas s√£o tratadas como express√µes a serem avaliadas.  Isso pode ser n√£o apenas uma chamada para outro gerador, mas uma express√£o arbitr√°ria, por exemplo, no gerador <i>Comment ($ user)</i> , o campo <i>content</i> representa a concatena√ß√£o da string Hi!  Eu sou e o nome passou para <i>$ user</i> <br><br>  Os nomes dos geradores n√£o diferenciam mai√∫sculas de min√∫sculas e devem come√ßar com uma letra latina; eles podem conter letras latinas, n√∫meros, sublinhados e barras invertidas. <br><br>  Como a sintaxe para chamar geradores e fun√ß√µes internas √© a mesma, eles compartilham um espa√ßo para nome comum.  Por conven√ß√£o, sugiro o uso de uma barra invertida como um separador para especificar um "fornecedor" ou uma biblioteca de fun√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">internas</a> , como as fun√ß√µes Faker \ something (), com base na biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/fzaninotto/Faker</a> . <br><br><div class="spoiler">  <b class="spoiler_title">As nuances do uso de geradores, voc√™ n√£o pode ler</b> <div class="spoiler_text">  Usando geradores, voc√™ pode compor estruturas de dados: <br><br><pre> <code class="plaintext hljs"># Userredentials     $user Userredentials($user): body: login: $user.email password: $user.password #    .     ,    GlobalSearchResult($posts, $comments, $users): body: posts: title: " " list: $posts comments: title: " " list: $comments users: title: " " list: $users</code> </pre><br>  <i>GlobalSearchResult</i> n√£o s√£o dados de teste enviados na solicita√ß√£o para o m√©todo API, mas um modelo de resposta que pode ser verificado com o que a API enviar√°, por exemplo, usando as fun√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>similar ()</i></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>id√™ntica ()</i></a> . <br><br>  O gerador pode alterar a estrutura obtida no <i>corpo</i> usando estruturas calculadas nos campos <i>substituir</i> e <i>remover</i> .  Eu vou te mostrar um exemplo. <br><br>  Suponha que voc√™ j√° tenha um gerador <i>User ()</i> que cria a estrutura de dados correta para o usu√°rio.  Agora voc√™ precisa verificar como a API responder√° se voc√™ fornecer dados incorretos.  Voc√™ pode seguir de duas maneiras: <br><br><ul><li>  Crie um gerador de usu√°rios "errado" do zero.  Por√©m, obteremos duplica√ß√£o de c√≥digo e, mais tarde, por exemplo, ao adicionar um novo campo ao usu√°rio de acordo com as necessidades da l√≥gica de neg√≥cios, voc√™ precisar√° fazer altera√ß√µes em dois locais.  SECA! </li><li>  Voc√™ pode "herd√°-lo" da estrutura User () existente, configurando-a no <i>corpo</i> .  E em <i>substituir</i> e <i>remover,</i> defina os campos que ser√£o adicionados / alterados e exclu√≠dos. </li></ul><br><pre> <code class="plaintext hljs">#      ,    , #    InvalidUser($user): body: $user replace: email: Faker\String(6, 15) #   password: Faker\String(1, 5) #    new_field: "      ,  " remove: name: size($user.name) &lt; 10 #  ,    10  #      , #        InvalidNewUser: body: User() replace: login: "!@#$%^&amp;*" #   remove: about: true settings: notifications: 100500 #       , #      true</code> </pre><br>  Quando o gerador est√° funcionando, a estrutura de dados no <i>corpo √©</i> calculada primeiro, depois √© substitu√≠da e complementada com elementos de <i>replace</i> e <i>, em</i> seguida, os campos especificados em <i>remove</i> s√£o exclu√≠dos se seu valor for equivalente a <i>true</i> .  Se o resultado do c√°lculo do <i>corpo</i> , <i>substituir</i> ou <i>remover</i> n√£o <i>for</i> uma matriz, n√£o haver√° erro, mas tamb√©m n√£o h√° sentido nisso, pois n√£o haver√° campos que possam ser substitu√≠dos e exclu√≠dos. <br></div></div><br><a name="functions"></a><h2>  Fun√ß√µes incorporadas </h2><br>  <a href="">Lista completa de fun√ß√µes internas</a> .  Por exemplo, darei apenas alguns deles. <br>  Ap√≥s o nome da fun√ß√£o e a lista de argumentos, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tipo do</a> valor de retorno √© indicado, se um estiver definido. <br><br><h4>  Opera√ß√µes com vari√°veis: </h4><br>  <b>similar</b> ($ var, $ sample, $ checkTypes) <i>Booleano</i> - retorna <i>true</i> se os argumentos forem do mesmo tipo, se <i>$ var</i> for uma matriz, todas as chaves de string que est√£o em <i>$ sample</i> devem estar em <i>$ var</i> , se <i>$ checkTypes √©</i> true, ent√£o os tipos dos elementos correspondentes devem corresponder.  Em outras palavras, os elementos da matriz <i>$ var</i> s√£o um subconjunto dos elementos de <i>$ sample</i> . <br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id√™ntico</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var, $ sample, $ checkTypes) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boolean</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um an√°logo de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">similar ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , com o inverso adicional, no caso de matrizes, todas as chaves de string em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ var tamb√©m</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devem estar em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ sample</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Em outras palavras, os elementos da matriz </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ var</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o iguais aos elementos da matriz </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ sample</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> at√© o tipo de elemento. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">max</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) - o m√°ximo dos valores passados ‚Äã‚Äã(se puderem ser comparados). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">min</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) - o m√≠nimo dos valores passados. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ condition, $ var1, $ var2) - Se $ condition == true, retornar√° $ var1, caso contr√°rio, $ var2. Substituindo o operador de coaching (Ol√° MySQL). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escolha</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ condition1, $ var1, $ condition2, $ var2, ..., $ conditionN, $ varN) - Retornar√° o primeiro encontrado $ varK se $ conditionK == true. </font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trabalhar com strings: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o comprimento da string na codifica√ß√£o UTF-8. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regex</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string, $ regex) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Booleano</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - verifica </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a express√£o regular da</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> string </font><font style="vertical-align: inherit;">. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regexMatch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ string, $ regex) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - retornar√° uma matriz de strings - combina com os grupos regulares </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ regex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Processamento de matriz: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matriz</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ var1, $ var2, ... $ varN) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cria uma matriz a partir dos elementos passados. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o n√∫mero de elementos na matriz. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keys</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - uma lista de chaves na matriz. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fatia</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ offset, $ length) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - parte da matriz de $ offset of length $ length, ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mais</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">append</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ value) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - adicione um elemento ao final do array. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepend</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array, $ value) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - adicione um elemento ao in√≠cio da matriz.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Data de Processamento: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dateFormat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ date, $ format) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - formata√ß√£o de data, ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mais sobre formatos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dateModify</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ date, $ formato) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - altere a data, conveniente para usar com os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formatos relativos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gera√ß√£o de dados de teste aleat√≥rio: </font></font></h4><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ n√∫mero inteiro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ min, $ max) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - n√∫mero inteiro aleat√≥rio de $ min a $ max inclusive </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ ipv4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - IPv4 aleat√≥rio </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ arrayElement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ($ array) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - elemento aleat√≥rio da matriz </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ name</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nome aleat√≥rio </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faker \ email</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - email aleat√≥rio</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora n√£o h√° muitas fun√ß√µes internas. </font><font style="vertical-align: inherit;">Adicionei apenas o que me parece necess√°rio durante o teste. </font><font style="vertical-align: inherit;">Voc√™ pode adicionar novos recursos conforme necess√°rio em novas vers√µes. </font><font style="vertical-align: inherit;">E no futuro, se houver demanda, adicionarei a capacidade de criar fun√ß√µes conectadas dinamicamente implementadas como classes especiais em PHP.</font></font><br><br><a name="testcases"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Casos de teste </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um caso de teste √© uma sequ√™ncia de instru√ß√µes que podem ser chamadas como uma unidade. </font><font style="vertical-align: inherit;">Alguns an√°logos do procedimento em linguagens de programa√ß√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um caso de teste √© criado pela </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instru√ß√£o testcase</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seguido pelo nome do caso de teste, com uma sintaxe semelhante aos nomes dos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todos da API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Casos de teste aninhados s√£o proibidos.</font></font><br><br><pre> <code class="php hljs">testcase Registration $device <span class="hljs-comment"><span class="hljs-comment">//     var $user = User() Register $user on $device assert $response.code == 201 //        var $user = User() //       InvalidUser() var $user.email = "some_bad_email" Register $user on $device assert $response.code == 400</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A instru√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">run</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode chamar um caso de teste separado ou todos os casos de teste que n√£o requerem argumentos.</font></font><br><br><pre> <code class="php hljs">run Get all users <span class="hljs-comment"><span class="hljs-comment">//   -,    run Get user $user_id //   -   run //   -,    </span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A id√©ia desse lan√ßamento √© que os casos de teste possam ser usados ‚Äã‚Äãcomo testes independentes separados de uma parte da l√≥gica de neg√≥cios e como procedimentos para evitar a duplica√ß√£o de c√≥digo em cen√°rios de teste complexos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os argumentos s√£o passados ‚Äã‚Äãpara o caso de teste por refer√™ncia ou por valor na analogia completa de transmiss√£o de argumentos para m√©todos de API.</font></font><br><br><a name="vars"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vari√°veis ‚Äã‚Äãe escopos </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os nomes de vari√°veis </font><font style="vertical-align: inherit;">diferenciam </font><font style="vertical-align: inherit;">mai√∫sculas de min√∫sculas e come√ßam com um sinal de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sim, sim, sou um pshpshnik). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o tipo de vari√°vel </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">da matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em seguida, o acesso a campos ou elementos de valor individuais √© produzido atrav√©s do ponto: </font></font><code>$users.12.password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Entre os pontos, apenas n√∫meros ou letras latinas, sublinhados e n√∫meros com a primeira letra latina s√£o permitidos. </font><font style="vertical-align: inherit;">Os nomes de campo tamb√©m diferenciam mai√∫sculas de min√∫sculas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um acesso din√¢mico a um elemento da matriz √© poss√≠vel:</font></font><code>$post.comments[$i + 1].content</code> <br><br><a name="contexts"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem quatro tipos de contextos - o escopo das vari√°veis. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexto global</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - criado no in√≠cio, cont√©m todas as vari√°veis ‚Äã‚Äãdeclaradas ao executar instru√ß√µes fora dos casos de teste e fora das chamadas do m√©todo API. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexto do caso de teste</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um novo √© criado toda vez que o caso de teste √© executado com a instru√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">run</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexto do m√©todo da API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √© criado quando o m√©todo da API √© chamado, quando os operadores especificados nas se√ß√µes </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depois</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o executados </font><font style="vertical-align: inherit;">. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexto do gerador</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- n√£o h√° possibilidade nos geradores de criar vari√°veis ‚Äã‚Äãnovas ou alterar existentes; portanto, as vari√°veis ‚Äã‚Äãe argumentos do contexto global s√£o somente leitura. </font><font style="vertical-align: inherit;">As vari√°veis ‚Äã‚Äãsempre s√£o passadas por valor para o contexto do gerador. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota importante. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em todos os contextos, as vari√°veis ‚Äã‚Äãde contexto global est√£o dispon√≠veis se seus nomes n√£o forem criados no contexto atual. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplos de operadores para trabalhar com vari√°veis:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> $a = <span class="hljs-number"><span class="hljs-number">1</span></span> let $a = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">//    var $b = 1 const $b = 3 //    const $c = 3; $c = 4 //   , $c     </span></span></code> </pre><br><pre> <code class="php hljs">let $a = <span class="hljs-number"><span class="hljs-number">1</span></span>; $a = $a + <span class="hljs-number"><span class="hljs-number">1</span></span>; $a = $a + <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> $a <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre><br><pre> <code class="php hljs">Testcase Context example changes $argument1, $argument2 <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> $argument3 <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $a = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> let $b = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> $c = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> import $i let $i = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument1 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument2 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $argument3 = <span class="hljs-string"><span class="hljs-string">"changed"</span></span> <span class="hljs-comment"><span class="hljs-comment">// ,     var $a = "original" var $b = "original" var $i = "original" const $c = "original"; var $paramByRef = "original" var $paramByVal = "original" const $paramConst = "original" run Context example changes $paramByRef, {$paramByVal} and $paramConst //  $a     - print $a // "original" // $b     -,  let    $b print $b // "changed" // $i      print $i // "original" //      ,  var   print $c // "original" //     print $paramByRef // "changed" //     print $paramByVal // "original" //     ,     print $paramConst // "original"</span></span></code> </pre><br><a name="types"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tipo Sistema e Opera√ß√µes </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A digita√ß√£o din√¢mica relaxada √© usada. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os valores s√£o armazenados em wrappers nos tipos PHP correspondentes. Para uma melhor compreens√£o, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consulte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o sistema de tipos PHP. Fiz um pouco menos de liberdade na convers√£o de tipo din√¢mico. Por exemplo, ao adicionar uma string e um n√∫mero </font></font><code>"2" + 2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, um erro ser√° gerado e o PHP executar√° a adi√ß√£o silenciosamente. Talvez eu precise revisar as regras da digita√ß√£o din√¢mica no futuro, mas at√© agora tentei encontrar um equil√≠brio entre a conveni√™ncia e o rigor exigidos para testes confi√°veis. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipos de dados dispon√≠veis no PieceofScript: </font></font><br><br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â um n√∫mero. Por motivos de simplicidade, n√£o criei tipos separados para Integer e Float. A √∫nica diferen√ßa significativa entre o n√∫mero inteiro e o n√∫mero real no PieceofScript √© o uso de uma matriz como chaves: os n√∫meros reais ser√£o arredondados para n√∫meros inteiros. </font></font><br> <code>7 -42 3.14159</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - entre aspas duplas, √© poss√≠vel escapar com uma barra </font></font><br> <code>"I say \"Hello world!\""</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - definida por constante </font></font><br> <code>null</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">booleana</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sem distin√ß√£o entre mai√∫sculas e min√∫sculas </font><font style="vertical-align: inherit;">- √© o resultado de opera√ß√µes booleanas e opera√ß√µes de compara√ß√£o, definidas por constantes sem distin√ß√£o entre mai√∫sculas e min√∫sculas </font></font><br> <code>true false</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - data e hora. "Sob o cap√¥" √© um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DateTime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . As constantes s√£o especificadas entre aspas simples, em um dos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formatos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <code>'now', '2008-08-07 18:11:31', 'last day of next month'</code> <br> <br> <b><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© uma matriz, o √∫nico tipo n√£o escalar. Wrap over</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">N√£o h√° literais desse tipo, mas matrizes podem ser o resultado do trabalho de geradores, fun√ß√µes internas (por exemplo, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ol√° PHP 5.3 e abaixo), ou voc√™ pode simplesmente acessar as chaves vari√°veis ‚Äã‚Äãque ser√£o criadas dinamicamente ap√≥s a atribui√ß√£o.</font></font><br><br><pre> <code class="plaintext hljs">let $a.1 = 100 let $i = 1 let $a[$i + 1] = 200 let $a.sum = $a.1 + $a.2 print " "; $a.sum //  300 var $b = array(true, 3, $a, "Hi") // [true, 3, {1: 100, 2: 200, "sum":300}, "Hi"]</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao acessar uma vari√°vel ou elemento de matriz inexistente, o script de teste ser√° interrompido e um erro ser√° gerado. </font><font style="vertical-align: inherit;">Por√©m, ao executar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instru√ß√µes assert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">must</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se uma vari√°vel inexistente for acessada, n√£o haver√° erro, mas a verifica√ß√£o ser√° considerada com falha.</font></font><br><br><a name="var_exists"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verificando a exist√™ncia e o tipo de uma vari√°vel </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devemos mencionar separadamente a constru√ß√£o de verificar a exist√™ncia e o tipo da vari√°vel </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se </font><i><font style="vertical-align: inherit;">@ for</font></i><font style="vertical-align: inherit;"> especificado </font><font style="vertical-align: inherit;">no nome da vari√°vel em vez de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o resultado dessa constru√ß√£o ser√° um dos seguintes:</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uma string com o nome do tipo da vari√°vel ou o tipo do elemento da matriz, se chaves foram usadas; </font></font></li><li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se a vari√°vel n√£o for encontrada em contextos acess√≠veis ou se o elemento com a chave especificada na matriz n√£o existir.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Esse design pode ser √∫til ao verificar a estrutura das respostas HTTP. </font></font><br><br><pre> <code class="plaintext hljs">var $a.string_field = "Hello World" var $a.number_field = 3.14 var $a.bool_field = true var $a.date_field = '+1 day' var $a.null_field = null var $a.array_field = array(1, "2") assert @a.string_field == "String" assert @a.number_field == "Number" assert @a.bool_field == "Boolean" assert @a.date_field == "Date" assert @a.null_field == "Null" assert @a.array_field == "Array" assert @a.array_field.0 == "Number" assert @a.array_field.1 == "String" assert @a.array_field.2 == null assert @notExistedVar == null</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou em constru√ß√µes como: </font></font><br><br><pre> <code class="php hljs">assert @comment.optional_field &amp;&amp; $comment.optional_field &gt; <span class="hljs-number"><span class="hljs-number">20</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As opera√ß√µes booleanas s√£o otimizadas no primeiro operando. </font><font style="vertical-align: inherit;">Se o primeiro operando for </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falso</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a opera√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nem tentar√° calcular o segundo operando. </font><font style="vertical-align: inherit;">Da mesma forma com </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">||</font></font></i>  . <br><br><a name="storage"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Salvando dados entre execu√ß√µes </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usei scripts separados, n√£o apenas para teste ap√≥s a conclus√£o da tarefa, mas tamb√©m durante o desenvolvimento. </font><font style="vertical-align: inherit;">Complementei e mudei o script ao implementar o recurso. </font><font style="vertical-align: inherit;">Posteriormente, esse script se tornou a base para escrever um caso de teste, mas durante o desenvolvimento, era necess√°rio fazer as mesmas chamadas de API repetidamente. </font><font style="vertical-align: inherit;">Ao mesmo tempo, cada vez no script era muito tempo para criar novas entidades a partir do zero (por exemplo, registro de usu√°rio), criar lixo no banco de dados e interferir de todas as formas no desenvolvimento. </font><font style="vertical-align: inherit;">Portanto, decidi adicionar a capacidade de salvar e restaurar os valores das vari√°veis ‚Äã‚Äãentre as partidas no armazenamento de valores-chave. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O salvamento √© ativado pela </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√£o de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> linha de comando </font><i><font style="vertical-align: inherit;">--storage</font></i><font style="vertical-align: inherit;"> , que define o nome do arquivo de armazenamento:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./start.pos --storage=storage.yaml</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os dados s√£o salvos no formato YAML, o que facilita a leitura e a edi√ß√£o. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage \ get</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (string $ key, $ defaultValue, boolean $ $ saveValue = true) - se a chave $ key n√£o existir ou o arquivo de armazenamento n√£o for especificado, retornar√° $ defaultValue. </font><font style="vertical-align: inherit;">Caso contr√°rio, ele retornar√° o valor armazenado. </font><font style="vertical-align: inherit;">Se o argumento $ saveValue for verdadeiro e a chave $ key n√£o for encontrada, $ defaultValue ser√° gravado l√°. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage \ set</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (string $ key, $ value) - salva $ value com a chave $ key e retorna $ value. </font><font style="vertical-align: inherit;">Se o arquivo de armazenamento n√£o tiver sido definido, ele simplesmente retornar√° $ value. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storage \ key</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (string $ regexp = null) </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matriz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- retorna uma matriz de todas as chaves dispon√≠veis. </font><font style="vertical-align: inherit;">Se o argumento $ regexp n√£o for nulo, as chaves correspondentes a esta express√£o regular ser√£o retornadas. </font><font style="vertical-align: inherit;">Se o arquivo de armazenamento n√£o tiver sido definido, ele retornar√° uma matriz vazia.</font></font><br><br><a name="output"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sa√≠da para stdout </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O PieceofScript pode gerar relat√≥rios nos formatos JUnit e HTML. </font><font style="vertical-align: inherit;">O primeiro √© necess√°rio para integra√ß√£o com sistemas de CI / CD, por exemplo, Jenkins. </font><font style="vertical-align: inherit;">A segunda √© ver convenientemente os resultados do teste, por exemplo, ao testar localmente. </font><font style="vertical-align: inherit;">Os arquivos de relat√≥rio podem ser definidos na inicializa√ß√£o:</font></font><pre> <code class="bash hljs">pos.phar run ./start.pos --junit=junit_report.xml --html=report.html</code> </pre> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de relat√≥rio HTML</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V√°rias informa√ß√µes sobre o trabalho do int√©rprete s√£o exibidas no stdout. Existem 5 n√≠veis padr√£o de sa√≠da de informa√ß√µes. Tudo o que √© exibido no mesmo n√≠vel tamb√©m √© exibido nos outros mais "faladores". </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Silencioso</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o n√≠vel mais "silencioso" √© definido pela op√ß√£o de linha de comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse n√≠vel, nada √© gerado no stdout, nem mesmo nos erros cr√≠ticos do interpretador. Mas pelo c√≥digo de retorno diferente de zero, voc√™ pode entender que algo deu errado. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Normal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© o n√≠vel padr√£o, sem especificar op√ß√µes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse n√≠vel, erros s√£o gerados no int√©rprete. Solicita√ß√µes incorretas para m√©todos de API e falha na </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declara√ß√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devem ser</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verificadas </font><font style="vertical-align: inherit;">. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalhado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - definido por op√ß√£o</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse n√≠vel, os resultados da declara√ß√£o de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impress√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o exibidos </font><font style="vertical-align: inherit;">. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muito detalhado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - definido pela op√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-vv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse n√≠vel, os avisos do int√©rprete s√£o exibidos. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depura√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - definido pela op√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-vvv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse n√≠vel, todas as linhas de script executadas s√£o exibidas. </font><font style="vertical-align: inherit;">Todas as solicita√ß√µes e respostas de m√©todos de API, os resultados de todas as verifica√ß√µes de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declara√ß√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obriga√ß√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><a name="examples"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemplos </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O prov√©rbio "√â melhor ver uma vez do que ouvir cem vezes" √© verdadeiro e na interpreta√ß√£o "√© melhor ver o c√≥digo uma vez do que ler sua descri√ß√£o cem vezes". </font><font style="vertical-align: inherit;">Preparei e coloquei os exemplos no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/maximw/PosExamples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> repository </font><font style="vertical-align: inherit;">.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Virustotal </font></font></h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virustotal.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um servi√ßo para verificar arquivos e links maliciosos. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documenta√ß√£o da API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Testes s√£o feitos para a parte p√∫blica da API, com exce√ß√£o dos m√©todos de coment√°rios, porque </font><font style="vertical-align: inherit;">N√£o quero jogar lixo em uma API de "combate" real com dados de teste. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para acessar a API, voc√™ precisa se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registrar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , obter a chave e adicion√°-la ao arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virustotal / globals.pos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Executando testes:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./Virustotal/start.pos</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Che l√° para um exe-shnik encontra-se em um reposit√≥rio?</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para testes, copiei hiddeninput.exe do componente Console do reposit√≥rio Symfony. </font><font style="vertical-align: inherit;">Este arquivo pode ser exclu√≠do e, para testes, use qualquer outro tamanho de at√© 32 mb.</font></font><br></div></div><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pastery </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anal√≥gico de Pasebin. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documenta√ß√£o da API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para acessar a API que voc√™ precisa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registrar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , obtenha a chave e adicione-a ao arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastery / globals.pos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Executando testes:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./Pastery/start.pos</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vale ressaltar que, com esses testes, um bug foi encontrado no limite do n√∫mero de visualiza√ß√µes. </font><font style="vertical-align: inherit;">J√° foi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consertado pelos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desenvolvedores do Pastery.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rick e morty </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu acho que essa s√©rie animada √© conhecida por muitos e amada por muitos. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documenta√ß√£o da API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A API consiste em tr√™s se√ß√µes quase id√™nticas: Personagem, Local e Epis√≥dio. </font><font style="vertical-align: inherit;">Portanto, os cen√°rios s√£o quase os mesmos, e basta olhar para os casos de teste √© apenas uma das se√ß√µes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Executando testes:</font></font><br><br><pre> <code class="bash hljs">pos.phar run ./RickAndMorty/20MinutesTest.pos</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se voc√™ conhece uma API p√∫blica que seria interessante testar dessa maneira, escreva em um e-mail pessoal. </font></font><br><br><a name="plans"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Coment√°rios e planos para o futuro, se houver </font></font></h2><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tenho uma lista de pequenas e grandes melhorias que ainda n√£o preciso, mas que podem ser √∫teis.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ver lista</font></font></b> <div class="spoiler_text"><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adicione um relat√≥rio sobre o trabalho no formato Json com a possibilidade de sobrescrever ap√≥s v√°rias execu√ß√µes de scripts </font></font></li><li>        <i>body</i>   <i>replace</i>  <i>remove</i> </li><li>         ,         YAML </li><li>     HTTP-    ,        </li><li>     ,     <i>run</i>  .  . </li><li>   HTML-     stdout,       -vvv </li><li>        https </li><li>       application/x-www-form-urlencoded   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CURLFile</a> .        Guzzle 6,       </li><li>        ¬´ ¬ª,           </li><li>       API,             </li><li>  HTML-,         bootstrap- ¬´  ¬ª,     . </li></ul></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para a valida√ß√£o de modelos nas respostas da API usando geradores, at√© o momento existem apenas duas fun√ß√µes - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">similar ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id√™ntica ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A valida√ß√£o com eles √© muito "desajeitada". Obviamente, j√° √© poss√≠vel validar as respostas "manualmente" e, em alguns casos, n√£o √© poss√≠vel de outra maneira, mas quero torn√°-lo mais conveniente e, sempre que poss√≠vel, evitar a verifica√ß√£o manual da resposta. Existem algumas id√©ias sobre como tornar poss√≠vel gerar e validar modelos usando a mesma descri√ß√£o do modelo, evitando duplica√ß√£o. Mas at√© agora essas id√©ias n√£o foram formadas o suficiente para que voc√™ possa implement√°-las no c√≥digo. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eu acho que o andaime para m√©todos API baseado em descri√ß√µes em OpenAPI ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cole√ß√µes </font><font style="vertical-align: inherit;">ser√° muito √∫til</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carteiro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mas vale muito a pena sentar-se se o PieceofScript valer a pena. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seria bom criar plugins para alguns IDEs, com destaque de c√≥digo e preenchimento autom√°tico. O preenchimento autom√°tico de nomes de casos de teste, m√©todos de API, operadores e vari√°veis ‚Äã‚Äãseria simplesmente conveniente. Mas ele ainda n√£o "cavou" nessa dire√ß√£o. No√ß√µes b√°sicas sobre a cria√ß√£o de realce para Sublime Text e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Language Server Protocol</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Eu ficaria feliz se j√° houver pessoas com a mesma opini√£o, versadas em tais coisas. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N√£o sei qual prioridade colocar a capacidade de criar </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">fun√ß√µes</font></a><font style="vertical-align: inherit;"> conectadas dinamicamente</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementado em PHP. Por um lado, tudo √© simples l√°, basta lidar com o carregamento autom√°tico e fazer uma especifica√ß√£o das classes e espa√ßos de nomes usados. Por outro lado, fun√ß√µes complexas com suas depend√™ncias inevitavelmente causar√£o um conflito de namespace entre depend√™ncias (no pior caso, vers√µes diferentes). H√° tamb√©m algo em que pensar. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bons sistemas de teste executam testes independentes em paralelo. Agora, isso pode ser feito iniciando o int√©rprete v√°rias vezes com diferentes arquivos de in√≠cio, onde diferentes casos de teste est√£o conectados. Mas acho que precisamos incorporar isso no pr√≥prio int√©rprete com detec√ß√£o autom√°tica do que pode ser iniciado em paralelo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Por um lado, como esse √© o meu "of√≠cio", seria l√≥gico colocar um post no hub "Sou PR". </font><font style="vertical-align: inherit;">Por outro lado, n√£o fa√ßo rela√ß√µes p√∫blicas, n√£o busco nenhum ganho comercial, apenas uma ferramenta que fiz para mim, decidi "pentear" e public√°-la publicamente.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430392/">https://habr.com/ru/post/pt430392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430380/index.html">Guia JavaScript Parte 5: matrizes e loops</a></li>
<li><a href="../pt430382/index.html">Guia de JavaScript Parte 4: Recursos</a></li>
<li><a href="../pt430384/index.html">Criando mapas a partir de recursos de ru√≠do</a></li>
<li><a href="../pt430386/index.html">Usina de armazenamento de estado s√≥lido a ser constru√≠da na √çndia</a></li>
<li><a href="../pt430388/index.html">Desconfian√ßa na Web Summit</a></li>
<li><a href="../pt430394/index.html">Implementando pesquisa instant√¢nea no Android usando RxJava</a></li>
<li><a href="../pt430396/index.html">Replica√ß√£o em cadeia: construindo um reposit√≥rio KV eficaz (parte 1/2)</a></li>
<li><a href="../pt430398/index.html">Como entender que voc√™ n√£o √© bem-vindo ou discutir m√©todos para afastar trabalhadores da empresa</a></li>
<li><a href="../pt430400/index.html">Experi√™ncia no uso de um h√≠brido de teclado e mouse na programa√ß√£o</a></li>
<li><a href="../pt430402/index.html">O que o developer.android.com n√£o menciona sobre o RecyclerView?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>