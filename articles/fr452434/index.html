<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë®‚Äçüëß‚Äçüëß „äôÔ∏è üïï Des t√©l√©grammes encore plus secrets üê≠ üõãÔ∏è üë≤üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous avions l'habitude de consid√©rer Telegram comme un moyen de transmission fiable et s√©curis√© pour les messages de toutes sortes. Mais sous le capot...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Des t√©l√©grammes encore plus secrets</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452434/"><p>  Nous avions l'habitude de consid√©rer Telegram comme un moyen de transmission fiable et s√©curis√© pour les messages de toutes sortes.  Mais sous le capot, il a une combinaison plut√¥t commune de cryptages a et sym√©triques.  O√π est-ce amusant l√†-dedans?  Et de toute fa√ßon, pourquoi quelqu'un confierait-il ses messages au tiers? <br><img src="https://habrastorage.org/webt/fj/xl/ka/fjxlkasq2yqy1vfjle83rlnc4js.png" alt="Spy vs Spy par Antonio Proh√≠as"><br>  TL; DR - inventer un canal secret priv√© sur les utilisateurs qui se bloquent mutuellement. </p><a name="habracut"></a><br><h2 id="covert-channels">  Cha√Ænes secr√®tes </h2><br><p>  Il existe de nombreuses solutions de contournement pour transmettre des donn√©es entre deux utilisateurs en √©vitant tout contact direct.  Vous pouvez utiliser des interm√©diaires, des m√©thodes de cryptographie et de st√©ganographie, des r√©seaux de relais de diffusion et d'autres extensions de protocoles existants.  Mais parfois, il est utile de pouvoir √©tablir un contact s√©curis√© en utilisant uniquement des fonctionnalit√©s officiellement document√©es.  Ou, comme il faut le dire, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ez</a> un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">canal secret</a> . </p><br><p> Nous pouvons en voir un exemple dans un film d'espionnage sovi√©tique "Seventeen Moments of Spring" (celui-ci est, comme, vraiment bon, essayez de le regarder).  Dans ce document, une fleur dans la fen√™tre de la maison s√ªre a √©t√© utilis√©e pour signaler si l'espion avait √©chou√© ou non.  La fleur en soi ne veut rien dire: elle peut √™tre l√† et ne peut pas l'√™tre, une telle symbiose est une chose courante et ne fait que nous parler de l'amour du propri√©taire pour les fleurs.  Seule une interpr√©tation pr√©d√©termin√©e distingue les informations re√ßues par un espion de celles re√ßues par un passant al√©atoire. </p><br><p><img src="https://habrastorage.org/webt/xq/z2/bs/xqz2bs06a68qp9m11r-fpqgy6fo.jpeg" alt="du film"></p><br><h2 id="in-window-flower-based-channels-in-telegram">  Canaux bas√©s sur les fleurs dans la fen√™tre dans Telegram </h2><br><p>  Pour organiser votre propre cha√Æne secr√®te selon le m√™me principe, vous n'aurez besoin que de deux choses: une fen√™tre et une fleur.  La fen√™tre repr√©sente un objet dont vous pouvez changer l'√©tat de vue des autres et la fleur - des √©tats possibles et une fa√ßon de les changer. </p><br><p>  Alors qu'est-ce qu'Alice pourrait changer dans Telegram que Bob puisse voir?  Beaucoup de choses, en fait: avatars, noms d'utilisateur, heure de la derni√®re visite et plus encore.  Mais g√©n√©ralement, ces choses sont accessibles √† tous en m√™me temps, ce qui limite la confidentialit√© des dialogues - si l'on poss√®de la m√©thode de transition, il pourrait lire tout ce qu'Alice envoie.  √âtonnamment, il est possible de contourner cette limitation sans aucun type de cryptage impliqu√©. </p><br><h3 id="im-blocking-you-haha">  Je te bloque, haha </h3><br><p>  Chaque utilisateur a sa propre liste noire, et si le lecteur √©tait assez ennuyeux, il aurait d√ª remarquer apr√®s avoir √©t√© bloqu√© que son statut de `` derni√®re visite '' qui n'√©tait pas d√©j√† un ami √©tait devenu `` vu pour la derni√®re fois il y a longtemps ''.  La v√©rit√© est qu'il aurait pu √™tre en ligne il y a quelques secondes ou m√™me √™tre en ce moment, mais l'API Telegram n'enverra plus ces informations √† votre application.  De cette fa√ßon, il prot√®ge la vie priv√©e des autres utilisateurs contre les ind√©sirables.  En √©change, ils peuvent voir s'ils sont sur liste noire ou non. </p><br><p>  Alors qu'est-ce que voir une fleur et √™tre bloqu√© ont en commun?  Les deux pourraient √™tre v√©rifi√©s √† un moment donn√©, ce qui permet de recevoir un bit d'information selon que vous √™tes bloqu√© ou non.  Un autre avantage est le fait que Telegram ne stocke probablement pas de journaux d'utilisateurs se bloquant les uns les autres (tout au plus pour de courtes p√©riodes √† des fins de journalisation). </p><br><h2 id="organizing-bits">  Organiser les bits </h2><br><p>  La possibilit√© d'envoyer et de recevoir des bits est amusante et tout, mais nous devons encore d√©crire son m√©canisme d'exploitation.  Le t√©l√©gramme refuse de vous remarquer lorsqu'il est bloqu√©, donc chaque action `` recevoir un bit '' doit √™tre initialis√©e par le destinataire (appelons-le Bob) et ne pas d√©pendre de l'exp√©diteur (et elle sera Alice), c'est-√†-dire ind√©pendante.  Il s'ensuit √©galement qu'Alice et Bob devraient faire des demandes √† la m√™me fr√©quence. </p><br><p>  L'algorithme d'√©change de bits sur chaque horloge ressemble √† ceci: </p><br><ul><li>  A v√©rifie l'envoi d'un bit et si a diff√©rent de la valeur pr√©c√©dente en le changeant en fonction d'une valeur: <br><ul><li>  A -&gt; T: bloc B si le bit est √† 1; </li><li>  A -&gt; T: d√©bloquer B si le bit est √† 0. </li></ul></li><li>  B re√ßoit un peu: <br><ul><li>  B -&gt; T: r√©soudre A; </li><li>  T -&gt; B: √† la disposition de B des informations sur A; </li><li>  B: v√©rifie si les informations re√ßues ont un statut: <br><ul><li>  B: si c'est -&gt; il n'est pas bloqu√© et le bit est 0 </li><li>  B: si ce n'est pas -&gt; il est bloqu√© et le bit est 1 </li></ul></li></ul></li></ul><br><p>  La plupart des PC modernes ont de bons g√©n√©rateurs de fr√©quence (une horloge syst√®me, par exemple) afin que nous puissions synchroniser nos horloges avec eux sans utiliser le canal pour transmettre quoi que ce soit, √† l'exception des bits de message.  Il convient de noter que les demandes de l'API Telegram, √† la fois le (d√©) blocage et la r√©solution du statut utilisateur, sont des appels r√©seau et n'ont pas tendance √† fonctionner rapidement, surtout si vous utilisez des proxys ou VPN.  Cela produit une limitation: la longueur de l'horloge doit √™tre plus longue qu'un temps de r√©ponse moyen (car nous devons nous adapter les uns aux autres) et c'est pourquoi notre vitesse de transmission de donn√©es sera limit√©e. </p><br><h3 id="encoding-messages">  Encodage des messages </h3><br><p>  Les textes en langues naturelles ont une redondance assez √©lev√©e, et les messages re√ßus avec des erreurs seront toujours principalement lisibles par un humain.  Et puisque Telegram est un messager (ignorant certaines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">choses folles</a> ), nous pouvons n√©gliger la correction d'erreur limitant la transmission possible de donn√©es √† de simples messages texte. </p><br><p>  Notre canal a une bande passante extr√™mement faible, alors pourquoi nous devons utiliser le codage de message le plus efficace disponible pour les messages possibles.  Heureusement pour nous, le nom du messager rappelle √† quel moment ce probl√®me √©tait courant. </p><br><p>  C'est pourquoi nous, vivant au 21e si√®cle, allons coder nos textes avec l'un des encodages les plus efficaces disponibles pour les t√©l√©graphes il y a cent ans - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le code Baudot</a> .  Plus pr√©cis√©ment, sa derni√®re variante ITA-2 cr√©√©e par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Donald Murray</a> pour effectuer moins d'appels API sur les symboles les plus fr√©quents du langage. </p><br><p> Le seul qui reste pour transmettre un message avec succ√®s est de trouver les limites d'une session de transmission afin que le destinataire puisse en trouver un parmi le flux binaire continu.  Avant que la transmission ne commence, Bob est bloqu√© ou non, et son √©tat ne changera pas de lui-m√™me de sit√¥t.  C'est pourquoi Alice peut signaler le d√©but de la session en la rempla√ßant par un oppos√© pour une seule horloge.  √Ä la fin de la session, elle le d√©bloquera et repartira en paix.  Lui, de l'autre c√¥t√©, continuera √† recevoir z√©ro bits jusqu'√† ce qu'il d√©cide qu'ils ne font pas partie du message - le code Baudot n'a pas de symbole <code>00000</code> . </p><br><p><img src="https://habrastorage.org/webt/vx/fa/0q/vxfa0q7-ko6isor152okxwclvto.png" alt="Sur la chronologie"></p><br><p>  Les inconv√©nients de la m√©thode sont une impossibilit√© pratique de se connecter (vous pouvez, mais cela n√©cessitera probablement une correction d'erreur manuelle en raison du d√©calage de bits) √† la traduction en cours et un besoin de s√©parer les symboles nuls re√ßus avec des erreurs de ceux envoy√©s.  Mais il y a tous les probl√®mes de mise en ≈ìuvre. </p><br><h2 id="high-tech">  Haute technologie </h2><br><p>  Apr√®s plusieurs heures pass√©es √† essayer d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une biblioth√®que officielle</a> pour utiliser l'API, je me suis fatigu√© et j'ai tout √©crit avec un Python en utilisant une biblioth√®que de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t√©l√©thon</a> plus conviviale.  Il a m√™me une API de style synchrone pour des raisons √©tranges rares aujourd'hui.  Encodage des messages avec ITA-2 que j'ai √©crit moi-m√™me car je n'ai rien trouv√© d'utile sur Internet. </p><br><p>  La synchronisation d'horloge effectu√©e avec les horloges syst√®me (et oui, elle dort () s! Entre les deux) car elle est suffisamment pr√©cise compte tenu du temps requis sur chaque appel d'API r√©seau est plus d'un dixi√®me de seconde dans la plupart des cas.  L'utilisateur peut d√©finir la vitesse de transmission comme il le souhaite, mais je recommande de suivre la r√®gle `` pas plus d'une demande par seconde '' si vous ne voulez pas √† la fois voir les erreurs de l'autre c√¥t√© et vous retrouver banni par un syst√®me de pr√©vention des inondations.  Telegram s'est av√©r√© tr√®s pointilleux sur l'utilisation de l'API, gelant mon acc√®s pendant une journ√©e √† partir de quelques tentatives d'autorisation simples (r√©ussies!) D'affil√©e et juste un blocage al√©atoire pour une inondation pendant la transmission pour une raison inconnue.  Vous devez toujours d√©clarer vos limites d'utilisation de l'API, les gars. </p><br><p>  Si l'utilisateur d√©cide d'utiliser un canal aussi √©trange pour √©changer des messages, il ne devrait pas se soucier des fonctionnalit√©s de l'interface utilisateur graphique.  Et tous les syst√®mes ne l'ont pas de toute fa√ßon, c'est pourquoi j'ai √©crit mon application sous la forme d'un outil terminal.  Il permet √† la fois d'envoyer et de recevoir des messages via un canal par un ID utilisateur donn√© en arguments de ligne de commande, mais une seule op√©ration par lancement.  Bien s√ªr, personne ne vous limitera √† ex√©cuter une seule copie d'un programme √† la fois et √† utiliser plusieurs canaux simultan√©ment dans les deux sens, vous aurez juste besoin d'ex√©cuter plusieurs copies du m√™me script avec des param√®tres diff√©rents. </p><br><h3 id="using-the-stuff">  Utiliser les trucs </h3><br><p>  Vous pouvez en savoir plus sur l'utilisation de cette chose en tant qu'utilitaire de ligne de commande et biblioth√®que python3 via l'API sur GitHub (r√©f√©rentiel li√© √† la fin).  Le seul probl√®me est d'acqu√©rir vos propres informations d'identification API (un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manuel</a> simple est assez utile) car Telegram ne permet pas de divulguer le mien et de le d√©finir en fonction des valeurs de votre copie locale d'un script.  Tout est pass√© par les arguments de la ligne de commande, √† l'exception de la partie autorisation qui, par d√©faut, a √©t√© effectu√©e via stdio) et ressemble √† ceci: </p><br><pre> <code class="plaintext hljs">For Alice: For Bob: Enter your phone number: XXX | Enter your phone number: XXX Enter auth code: YYY | Enter auth code: YYY Started message transmission... | Listening for the message... ---++ ('O', '9') | ---++ ('O', '9') --+-+ ('H', '#') | --+-+ ('H', '#') +++++ (1, 1) | +++++ (1, 1) --++- ('N', ',') | --++- ('N', ',') --+-- (' ', ' ') | --+-- (' ', ' ') ++-++ (0, 0) | ++-++ (0, 0) --+-+ ('H', '#') | --+-+ ('H', '#') -++-- ('I', '8') | -++-- ('I', '8') --+-- (' ', ' ') | --+-- (' ', ' ') --+++ ('M', '.') | --+++ ('M', '.') ++--- ('A', '-') | ++--- ('A', '-') -+-+- ('R', "'") | -+-+- ('R', "'") ++++- ('K', '(') | ++++- ('K', '(') +++++ (1, 1) | +++++ (1, 1) +-++- ('F', '!') | +-++- ('F', '!') --+++ ('M', '.') | --+++ ('M', '.') --+++ ('M', '.') | --+++ ('M', '.') Done, exiting... | ----- ('', '') | ----- ('', '') | Automatically decoded: OH, HI MARK!..</code> </pre> <br><p>  Le message re√ßu est d√©cod√© automatiquement, mais si vous souhaitez corriger manuellement certaines erreurs ou suivre la progression, vous pouvez le faire en regardant la sortie de la ligne de commande. </p><br><h2 id="outside-of-the-telegram">  En dehors du t√©l√©gramme </h2><br><p>  Il convient de noter qu'un tel canal pourrait √™tre mis en ≈ìuvre sur n'importe quel r√©seau de messagerie et / ou social dans lequel on peut d√©tecter s'il est bloqu√© ou non par d'autres utilisateurs.  Des interfaces similaires peuvent √™tre facilement remplac√©es dans le code existant, donc si vous voulez le faire, utilisez simplement le travail de base.  Les faibles performances de python (par rapport √† l'habituel pour de telles choses C / ++) ne seront pas un facteur limitant en raison de la faible vitesse de transmission et du temps de r√©ponse des appels API. </p><br><p>  PS Merci sp√©cial √† l'amour inhabituel de ma passion pour me bloquer </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Version russe</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Miroir moyen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Github</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr452434/">https://habr.com/ru/post/fr452434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr452424/index.html">La carence en h√©lium peut ralentir le d√©veloppement des ordinateurs quantiques - discuter de la situation</a></li>
<li><a href="../fr452426/index.html">Connexion √† Azure DevOps √† l'aide des informations d'identification GitHub</a></li>
<li><a href="../fr452428/index.html">Dictionnaire Yandex rapide</a></li>
<li><a href="../fr452430/index.html">QA: Hackathons</a></li>
<li><a href="../fr452432/index.html">Des sciences humaines aux d√©veloppeurs en nombre et en couleurs</a></li>
<li><a href="../fr452436/index.html">Apprendre l'anglais: cinq erreurs √©crites non √©videntes et comment les √©viter</a></li>
<li><a href="../fr452438/index.html">L'histoire de la lutte contre la censure: comment fonctionne la m√©thode du proxy flash cr√©√©e par des scientifiques du MIT et de Stanford</a></li>
<li><a href="../fr452440/index.html">Petit, oui supprimer: un vrai regard sur le projet japonais Minimal Fab</a></li>
<li><a href="../fr452442/index.html">Nous jouons dans la console du navigateur</a></li>
<li><a href="../fr452444/index.html">L'accord pour 39 millions de dollars: pourquoi les cr√©ateurs du SGBD open source ont d√©cid√© de faire du d√©veloppement mobile</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>