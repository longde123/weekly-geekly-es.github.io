<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👦‍👦 🔯 ♠️ Proof-of-Stake: Inside Look 👸🏼 💰 👂🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada banyak artikel dan diskusi filistin di Internet, tetapi tidak cukup informasi tentang manfaatnya. Pada titik tertentu, penulis menyadari bahwa mek...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Proof-of-Stake: Inside Look</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442862/"><p><img src="https://habrastorage.org/webt/yj/8k/rq/yj8krqpp54tlsgp9p1vupdz-ofi.jpeg"></p><br><blockquote>  Ada banyak artikel dan diskusi filistin di Internet, tetapi tidak cukup informasi tentang manfaatnya.  Pada titik tertentu, penulis menyadari bahwa mekanisme dan banyak nuansa keamanan terkait tidak sepenuhnya dipahami bahkan oleh banyak pengembang cryptocurrency.  Ini terungkap dalam kasus nyata porting implementasi PoS untuk salah satu cryptocurrency dan dalam publikasi informasi lebih lanjut tentang kerentanan yang ditemukan oleh para ahli pihak ketiga. </blockquote><p>  Artikel ini akan bermanfaat bagi semua pengembang yang telah menemukan kerentanan PoS atau yang masih akan datang. </p><br><p> Ngeri di bawah luka. </p><a name="habracut"></a><br><h2 id="krupica-istorii">  Sepotong sejarah </h2><br><p> Di Internet, munculnya Proof-of-Stake (PoS) di Peercoin dilacak setelah diskusi di salah satu forum pada tahun 2011, penggunaan selanjutnya di NovaCoin dan distribusinya lebih lanjut dalam PIVX dan garpu Bitcoin lainnya.  Logika PoS yang cukup primitif dibawa ke <code>kernel.cpp</code> / <code>kernel.cpp</code> , yang berkeliaran melalui ruang fork dalam bentuk berbagai modul Frankenstein. </p><br><p>  Algoritma PoS melewati beberapa tahap pengembangan, seseorang memberi mereka versi.  Sekarang opsi PoS dibagi karena alasan alami, DPoS telah muncul.  Salah satu solusi paling canggih adalah protokol Casper di Ethereum. </p><br><p>  Setiap blockchain membutuhkan pembuatan blok dan seseorang harus memiliki hak untuk membangun blok baru.  Jika penulis melakukannya tanpa banyak persaingan dalam blockchain seperti sistem kontrol versi Git, maka dalam cryptocurrency ada perjuangan sengit untuk hadiah blok dalam kerangka Proof-of-Work (PoW) - menemukan kombinasi parameter input variabel dengan memilih yang memberikan hasil yang sesuai dengan ditentukan oleh tujuan tertentu (penambangan, penambangan). </p><br><p>  PoS menggantikan Proof-of-Work (PoW) untuk menghindari pemborosan sumber daya di pertambangan.  Sebagai gantinya, semua parameter input didefinisikan secara ketat dengan karakteristik konstan berdasarkan simpanan pemegang koin yang ada.  Oleh karena itu, PoW diperlukan sebagai titik awal untuk PoS, jika Anda tidak menggunakan berbagai opsi untuk pengayaan awal yang digadaikan dari para pembuat koin. </p><br><h2 id="zachem">  Mengapa </h2><br><p>  Menghemat energi sama pentingnya bagi pengembang dan pemegang koin dengan membatasi emisi gas rumah kaca bagi produsen dan konsumen.  Kebenaran yang kejam berbeda: </p><br><ol><li>  Proyek berbasis PoW tunduk pada apa yang disebut  "51 persen serangan": penyerang dapat memanfaatkan kekuatan besar, membuat rantai paralel, dan kemudian tiba-tiba menerbitkannya dengan gerakan koin yang berbeda (yaitu limbah ganda), </li><li>  Penambang PoW perlu menutup biaya mereka dan berinvestasi dalam pengembangan kapasitas - ini adalah aliran keluar modal langsung dari proyek, </li><li>  pemilik tabungan ingin mempertahankan daya belinya dengan modal sendiri, daripada melihat inflasi alami. </li></ol><br><p>  <em>Pada contoh hidup: pada November-Desember 2018 ada upaya serangan;</em>  <em>kemudian pada bulan Desember-Februari ada kehebohan sebagai koin paling menguntungkan untuk menambang di kartu video;</em>  <em>kurs turun dari 2+ menjadi 0,5 USD;</em>  <em>Setelah beralih ke PoS, kurs naik menjadi 1 USD dalam seminggu dan arus investasi meningkat.</em> </p><br><hr><br><h2 id="tehnicheskie-momenty">  Poin teknis </h2><br><p>  <strong>Perhatian: di bagian ini, kita berbicara tentang PoS "tradisional" dalam bentuk seperti di Peercoin, PIVX dan forks-forksnya.</strong> </p><br><p>  Anda perlu memahami bahwa tidak ada sentralisasi dan akuntansi untuk "poin".  Dalam versi ini, prinsip keberuntungan yang sama berfungsi seperti pada PoW. </p><br><h3 id="1-terminologiya">  1. Terminologi </h3><br><p>  Terminologinya relatif umum, tetapi dalam implementasi yang berbeda nuansanya adalah: </p><br><ul><li>  <strong>Target PoW</strong> - target = target dasar, biasanya 2 ^ 240 (0x0000ffff ...) dibagi dengan kompleksitas blok (meningkatkan jumlah nol di depan). </li><li>  <strong>Blok kesulitan</strong> - kompleksitas blok relatif terhadap tujuan dasar, ditentukan berdasarkan tingkat pertumbuhan rantai saat ini. </li><li>  <strong>UTXO</strong> - Output Transaksi Unspent, pasangan dari hash transaksi dan nomor keluar. </li><li>  <strong>CoinBase</strong> adalah transaksi khusus dengan indeks 0 di blok yang berisi hadiah. </li><li>  <strong>Taruhan</strong> atau <strong>CoinStake</strong> adalah transaksi khusus dengan indeks 1 di blok. </li><li>  <strong>Input</strong> Taruhan - UTXO yang memenuhi persyaratan untuk taruhan berdasarkan ukuran dan usia. </li><li>  <strong>Stake Modifier</strong> - parameter yang dihitung secara deterministik khusus untuk setiap <strong>Input Pasak</strong> . </li><li>  <strong>Stake Hash</strong> adalah hasil hash yang harus secara aritmatika kurang dari <strong>Stake Target</strong> . </li><li>  <strong>Target Pasak</strong> - sama dengan target PoW, tetapi meningkat secara proporsional dengan jumlah <strong>Input Pasak</strong> relatif terhadap tawaran minimum. </li><li>  <strong>Block Signature</strong> - <strong>Block Signature</strong> . </li><li>  <strong>Fork</strong> - rantai bercabang. </li><li>  <strong>Split</strong> - berbagi jaringan. </li><li>  <strong>Anak yatim</strong> - blok yang dibuang karena pilihan alternatif lain. </li></ul><br><h3 id="2-anatomiya">  2. Anatomi </h3><br><p>  Proses Pembuatan: </p><br><ol><li>  Kami menemukan semua UTXO yang memenuhi persyaratan Input Pasak </li><li>  Temukan Pengubah Pasak. </li><li>  Gandakan Target PoW dengan Input Pasak <br><ul><li>  <em>dalam sepersejuta bahkan - itu sebabnya 1 MH PoW hashrate secara eksperimental keluar sama dengan satu koin.</em> </li></ul></li><li>  Kami <code>Stake Hash = H(Stake Modifier, Stake Block Time, UTXO output index, UTXO txid, Current Block Time)</code> . <br><ul><li>  <em>hanya parameter variabel Waktu Blok Saat Ini</em> </li></ul></li><li>  Jika <code>Stake Hash &gt;= Stake Target</code> , maka cobalah untuk menemukan <code>Current Block Time</code> dalam rentang yang dapat diterima. <br><ul><li>  <em>Anda perlu mempertimbangkan kemungkinan luapan Target Pasak ketika dikalikan dengan jumlah Input Pasak, tergantung pada implementasinya.</em> </li></ul></li><li>  Kami menempatkan Coinbase di tx [0], dan CoinStake di tx [1]. <br><ul><li>  <em>penerima Coinbase adalah skrip (alamat) yang sama dengan Stake Input.</em> </li></ul></li><li>  Kami menandatangani blokir. </li></ol><br><h4 id="21-vremya-bloka">  2.1.  Waktu pemblokiran: </h4><br><p>  Sangat mudah untuk melihat bahwa scam dapat memberikan manfaat dari waktu ke waktu.  Konsensus standar membatasi batas bawah dan atas. </p><br><p>  Yang lebih rendah selalu mengatur waktu rata-rata blok di atas blok N terakhir, biasanya lebih dari 11. Ini adalah toleransi untuk ketidaktepatan waktu dalam menghasilkan node. </p><br><p>  Batas atas bersejarah ditetapkan untuk PoW dengan jari ke langit pada jam 2.  Meningkatkan interval mengurangi kompleksitas dan membuat cabang kurang menarik - karena itu, tidak masuk akal.  Tapi untuk PoS, itu masuk akal. </p><br><p>  PIVX dan lainnya membatasi waktu mendatang hingga maksimum 3 menit.  Beberapa menempatkan pembatasan yang lebih parah, tetapi ini menciptakan masalah bagi pengguna.  Beberapa implementasi PoS telah memutuskan untuk mengubah interval Waktu Blok minimum saat ini dari satu detik menjadi 15-16 detik. </p><br><h4 id="22-stake-modifier">  2.2.  Pengubah Pasak: </h4><br><p>  Pengubah Pasak dikandung sebagai cara mempersulit prediksi dan membangun rantai di depan, tetapi ada yang salah ... </p><br><p>  Ada berbagai opsi untuk menghitungnya: bit terakhir dari hash blok di akhir interval waktu yang ditentukan secara progresif, [tidak terlalu] nilai prediksi yang buruk dari blok sebelumnya, dll.  Di beberapa tempat, ini lebih mirip kode yang membingungkan daripada sesuatu yang waras. </p><br><p>  Dokumen asli memerlukan jarak 64 interval.  Kesenjangan ini secara progresif dibagi menjadi 64 bagian yang tidak sama.  Perbatasan dibulatkan menjadi menit.  Di perbatasan, blok yang ada dipilih dan satu bit terakhir diambil dari mereka.  Jadi ternyata angka 64-bit, sesuatu yang mirip dengan Nonce. </p><br><p>  Interval di Peercon adalah 20 menit, tetapi orang-orang di PIVX memutuskan bahwa interval 1 menit, dibulatkan ke menit, adalah apa yang diperintahkan dokter. </p><br><p>  Secara umum, dalam beberapa implementasi seperti Blackcoin V2 + semuanya sudah diperbaiki dan Stake Modifier dihitung dari kepala, sedangkan di Peercoin V03, PIVX, Blackcoin V1 dan lainnya dari blok Stake Input.  Yang terakhir hampir sepenuhnya menghancurkan maknanya.  Ada asumsi bahwa kebingungan terjadi karena masalah penamaan variabel penamaan, metamorfosis lebih lanjut dan copy-paste tanpa pertimbangan.  Dan penulis sendiri menemukan masalah itu agak terlambat sementara semua perhatiannya terfokus pada perlindungan terhadap DoS.  Jangan sampai ketahuan! </p><br><h4 id="23-podpis-bloka">  2.3.  Blokir tanda tangan </h4><br><p>  Karena hash blok tidak lagi berfungsi sebagai bukti kerja, dan siapa pun dapat mengambil transaksi CoinStake yang ditandatangani dari blok orang lain, Anda perlu memeriksa bahwa blok tersebut dibuat oleh pemilik Pasak.  Oleh karena itu, tajuk ditandatangani dengan kunci pribadi yang sama dengan CoinStake. </p><br><h4 id="24-skript-vyhoda-coinbase-i-coinstake">  2.4.  Script keluar CoinBase dan CoinStake </h4><br><p>  Skrip keluar yang sama, atau saat orang memanggil alamat dompet, diperlukan untuk menjaga privasi dan menghindari menautkan masing-masing alamat dalam satu dompet. </p><br><h4 id="25-chto-i-kuda">  2.5 Apa dan dimana? </h4><br><p>  Ada variasi berbeda tentang cara mereka menangani jumlah di CoinBase dan CoinStake.  Logika dan motivasi dalam kasus tertentu: </p><br><ol><li>  Jumlah harus disimpan terpisah untuk menghindari hilangnya dana pengguna sekecil mungkin karena kesalahan pemrosesan. </li><li>  CoinBase mempertahankan 100 konfirmasi, tetapi CoinStake dapat dihabiskan segera, yang tentu saja meninggalkan risiko pengeluaran ganda. <br><ul><li>  menjentikkan ke kedalaman blok juga bertentangan dengan kualifikasi usia untuk digunakan sebagai Input Pasak. </li></ul></li><li>  CoinBase dan CoinStake seharusnya tidak pernah masuk ke mempool, dan semua transaksi yang didasarkan padanya harus dihapus selama pembangunan kembali rantai. </li></ol><br><h3 id="3-polnye-bloki-protiv-zagolovkov">  3. Blok lengkap terhadap header </h3><br><p>  Entri dari simpul penuh ke dalam jaringan dimulai dengan sinkronisasi.  Dalam Bitcoin, sinkronisasi terutama didasarkan pada header blokir, seperti  mereka berisi informasi yang cukup untuk verifikasi awal konsensus.  Pertama, header yang relatif kecil ditarik keluar dan diperiksa dalam batch hingga 2.000 buah dari satu simpul sisi.  Jika pemeriksaan awal berhasil, maka semua blok ditarik secara paralel dari semua node yang terhubung. </p><br><p>  Perlindungan banjir didasarkan pada kenyataan bahwa simpul lokal membandingkan header yang paling terkenal dengan apa yang dimilikinya dan meminta seluruh rantai tajuk.  Saat Anda mengunduh, semuanya diperiksa oleh biaya rendah ruang disk dan komputasi.  Berat rantai dibandingkan berdasarkan karakteristik seperti <strong>rantai</strong> , yang merupakan jumlah dari kompleksitas masing-masing blok.  Untuk membangun rantai alternatif yang kuat seperti itu akan membutuhkan investasi sumber daya yang sangat besar, yang membuat serangan tidak menjanjikan. </p><br><p>  Dengan PoS, pendekatan ini tidak berhasil, karena  Untuk memeriksa blok, Anda perlu memproses blok sebelumnya yang lengkap setidaknya untuk usia minimum Pasak.  Implementasi yang dilihat oleh penulis tidak mulai disimpangkan, tetapi hanya menolak untuk bekerja dengan header. </p><br><p>  <strong>Oleh karena itu,</strong> penulis menerapkan unduhan oportunistik paralel dari blok-blok yang mengikuti tajuk, yang secara signifikan meningkatkan kecepatan sinkronisasi karena penggunaan semua koneksi.  Penundaan kecil terjadi hanya jika rekan-rekannya berada di rantai yang berbeda - maka koneksi terputus setelah sedikit waktu habis seperti dalam skema standar.  Sebagai minus, kecenderungan untuk memilih rantai palsu pada saat sinkronisasi. </p><br><p>  <em>Omong-omong, klien Bitcoin standar dan fork-nya telah mengambil jumlah standar minimum dari koneksi keluar selama 8 cukup lama jika beberapa dari mereka gagal karena berbagai alasan.</em>  <em>Ini telah diatasi dengan koneksi keluar asinkron.</em> </p><br><h3 id="4-forki-splity-i-orfany">  4. Garpu, perpecahan dan anak yatim </h3><br><p>  Dengan kompetisi pembangunan blok, rantai alternatif 1-2 tautan relatif umum.  Fork yang lebih panjang di jaringan yang dikembangkan secara alami hanya terjadi dengan kegagalan epik dalam konsensus karena kesalahan pemrograman atau jeda Internet global. </p><br><p>  Bahkan dengan pemisahan, biasanya tidak ada ancaman terhadap integritas pemrosesan transaksi, seperti  saat melepaskan blok, semua transaksi kembali ke mempool dan sudah termasuk dalam blok lainnya.  Mempool adalah repositori sementara dari transaksi setelah dibuat.  Mempool sendiri disimpan ke disk dalam versi terbaru.  Hadiah untuk blok dihancurkan.  Itulah mengapa jumlah minimum konfirmasi (kedalaman) ditetapkan untuk penghargaan. </p><br><p>  Itu terjadi bahwa segmen jaringan lokal kehilangan koneksi mereka dengan dunia luar dan terus menambang, dengan asumsi ada koneksi ke jaringan utama.  Cabang-cabang seperti itu biasanya tidak menimbulkan ancaman karena kelemahan alami mereka. </p><br><p>  Serangan 51% utama untuk PoW telah dijelaskan di atas - ini sangat intensif sumber daya, tetapi untuk PoS menjadi relatif terjangkau.  Karena alasan ini, secara teknis dimungkinkan untuk menghasilkan banyak cabang dari berbagai mata rantai.  Salah satu solusi klasik adalah melarang garpu di bawah kedalaman tertentu. </p><br><p>  Masalah utama dari perlindungan tersebut adalah ketidakmampuan node dari segmen pertapa untuk secara mandiri kembali ke sirkuit utama setelah restart. </p><br><p>  <strong>Oleh karena itu</strong> , pendekatan diimplementasikan dalam pelarangan garpu yang lebih tua dari periode waktu tertentu hanya jika bagian atas rantai cukup muda. </p><br><p>  <em>Dengan interval target blok 1 menit, kriteria garpu tua dipilih pada 1 jam, yang kira-kira sesuai dengan 60% konfirmasi CoinBase, dan kriteria pemuda mahkota pada 15 menit adalah 3+ kali lebih tinggi daripada penundaan statistik maksimum blok.</em> </p><br><h3 id="5-hesh-bloka-i-splity">  5. Blokir dan pisahkan hash </h3><br><p>  Di PoW, hash blok sepenuhnya mencakup semua data.  Ini juga digunakan untuk memeriksa target.  Dalam PoS, Stake Hash adalah nilai yang terpisah karena  perlu untuk mengecualikan kemungkinan pemilihannya.  Ini membuka ancaman utama - kemampuan untuk menghasilkan jumlah yang tidak terbatas dari versi yang berbeda dari blok berdasarkan pada Peristiwa yang sama, yang mudah membanjiri dan menempatkan jaringan atau masing-masing node. </p><br><p>  Pendekatan pertahanan naif meningkatkan kerentanan perpecahan yang bahkan lebih serius.  Salah satu pendekatan tersebut dalam variasi yang berbeda adalah untuk memungkinkan penggunaan Input Pasak hanya sekali.  Serangan sederhana adalah mengirim blok yang berbeda ke node yang berbeda, yang segera membuat pemisahan lembut. </p><br><p>  Bahkan lebih fatal untuk memperburuk ini dengan larangan DoS, yang akan membagi tidak hanya rantai, tetapi jaringan itu sendiri menjadi segmen yang berbeda. </p><br><p>  Masalah lain muncul - ketidakmampuan untuk menggunakan Pasak dari blok yang dijatuhkan. </p><br><p>  <strong>Oleh karena itu</strong> , metode throttle dipilih sebagai solusi teraman - Taruhan yang sama dapat digunakan tidak lebih dari sekali per menit.  Logikanya sederhana: serangan hanya bisa bertahan dalam interval 1 jam (lihat garpu tua di atas), yang memungkinkan untuk membanjiri tidak lebih dari 60 blok.  Dalam kasus terbaik, pada blok berikutnya, jaringan sudah akan pindah ke satu sirkuit.  Dalam kasus terburuk, dengan serangan terus-menerus, ini akan terjadi dalam satu jam.  Probabilitas kasus terburuk - menemukan beberapa blok berturut-turut, mencair secara eksponensial. </p><br><p>  <em>Semua sama, beberapa titik tetap di mana node rentan terhadap banjir sedang sampai saat sinkronisasi lengkap</em> . </p><br><h3 id="6-minimalnyy-vozrast">  6. Usia minimum </h3><br><p>  Bagi sebagian orang, batasan ini membingungkan, tetapi sangat penting untuk stabilitas jaringan  parameter ini berkaitan langsung dengan panjang maksimum jaringan alternatif, yang dapat diperiksa oleh simpul lokal tanpa distorsi teknis yang serius. </p><br><p>  Seperti disebutkan sebelumnya, simpul lokal harus memproses semua blok hingga batas waktu usia untuk dapat memverifikasi bahwa Stake Input a) memiliki tempat untuk menjadi b) benar-benar UTXO dan belum dihabiskan. </p><br><p>  Periksa ini hanya mungkin melalui fungsi yang disebut.  CoinView, yang merupakan keadaan pergerakan koin pada saat blok tertentu - bagian atas rantai utama dalam memahami simpul lokal. </p><br><p>  Pelaksanaan uji coba lengkap rangkaian alternatif pada interval waktu atau bahkan dengan cara khusus yang disimpan oleh CoinView tampaknya tidak menjanjikan, karena  jumlah rantai alternatif ini sangat besar. </p><br><p>  Bilah terlalu besar untuk batas usia UTXO berdampak negatif pada pengguna yang ingin menghabiskan atau menggabungkan sebagian dari koin mereka. </p><br><p>  Jika Anda menentukan batas ini di kedalaman blok, maka situasi jalan buntu hipotetis dari penghentian rantai lengkap karena fakta bahwa tidak ada UTXO yang cocok adalah mungkin.  Dalam kasus unit waktu, setidaknya beberapa gerakan terjadi. </p><br><p>  <strong>Oleh karena itu</strong> , pilihan seimbang 1 jam digunakan di jaringan lain dalam satuan waktu absolut, daripada kedalaman blok. </p><br><h3 id="7-chto-luchshe-n-utxo-po-minimalnoy-summe-ili-odin-utxo-s-n-summoy">  7. Apa yang lebih baik dari N UTXO untuk jumlah minimum atau satu UTXO dengan total N? </h3><br><p>  Di sini analoginya memohon: bahwa lebih baik memiliki satu senjata dengan akurasi 0,9 atau tiga senjata dengan akurasi 0,3, tetapi dengan probabilitas urutan 1/2 ^ 20, hasil perhitungan seperti itu tampaknya akan diratakan.  Sebuah peta kecil membingungkan jatuh tempo kualifikasi. </p><br><p>  Kepercayaan saat ini bahwa banyak transaksi kecil menemukan lebih banyak blok kemungkinan berasal dari zaman ketika Stake Input juga diperhitungkan untuk menentukan bobot.  Saat itu, transaksi kecil lama benar-benar masuk akal. </p><br><p>  Pada saat ini, berdasarkan percobaan praktis dan perhitungan teoritis, kelompok-kelompok yang dikelompokkan dalam UTXO besar membawa lebih banyak blok.  Selain itu, lebih sedikit UTXO membutuhkan lebih sedikit kerja CPU.  Seseorang mengklaim sebaliknya. </p><br><p>  <strong>Jadi</strong> pikirkan sendiri. </p><br><h3 id="8-zabeganie-blokov-vperyod">  8. Menjalankan blok ke depan </h3><br><p>  Penambang PoS secara alami mengungguli blok kali sedikit.  Ini mempengaruhi kompleksitas jaringan menjadi lebih buruk.  Kode Bitcoin standar memilih blok pertama yang diterima, terlepas dari waktu yang ditunjukkan di dalamnya.  Sebagian besar implementasi PoS melakukan hal yang sama. </p><br><p>  <strong>Oleh karena itu,</strong> logika penambang PoS diubah untuk memulai pemilihan dari waktu rata-rata blok jika waktu blok saat ini berjalan maju.  Pada saat yang sama, sebelum membandingkan urutan, simpul membandingkan waktu yang ditunjukkan dari blok.  Penambang PoS mengirim blok yang ditemukan ke jaringan bahkan jika ia melihat bahwa ia menghasilkan garpu. </p><br><p>  Dengan cara ini, jaringan juga dilindungi dari blok hipotetis yang dikirim prematur yang Stake Input-nya tidak dapat digunakan dalam 60 detik berikutnya dengan Stake Modifier yang sama karena perlindungan DoS.  Seperti hukuman ganda karena selingkuh dari waktu ke waktu. </p><br><h3 id="9-nebolshoy-cheklist">  9. Daftar periksa kecil </h3><br><ol><li>  Input Pasak harus valid UTXO sebelum titik fork: <br><ul><li>  dalam kasus rantai utama, titik garpu adalah ujung, </li><li>  dalam kasus rangkaian alternatif - UTXO setelah titik fork dapat menyebabkan Self-DoS saat berpindah, </li><li>  UTXO tidak boleh di mempool dengan sendirinya. </li></ul></li><li>  Jangan terima CoinStake di mempool saat membangun kembali sirkuit utama: <br><ul><li>  hal yang sama terjadi dengan CoinBase, </li><li>  ini dapat menghancurkan rantai transaksi (tidak mungkin). </li></ul></li><li>  Jangan terima garpu dari blok lama jika bagian atasnya cukup hidup. </li><li>  Batas usia dalam unit waktu absolut untuk Input Pasak diperlukan untuk stabilitas dan keamanan. </li><li>  Taruhan Taruhan seharusnya hanya berubah dari waktu blokir. </li><li>  Pengubah Pasak tidak boleh terikat pada blok Masukan Pasak. </li><li>  Bekerja dengan header blok memerlukan pemrosesan khusus pada jaringan dan selama pengindeksan ulang. </li><li>  CoinStake direkam di dompet lokal dan memerlukan beberapa perubahan untuk tampilan anak yatim dengan benar. </li><li>  Penambang PoS kemungkinan besar memiliki cukup tiang tembok dan perlu diselesaikan dengan file. </li><li>  Indeks ulang perlu ditingkatkan, karena  Ini bekerja dengan analogi dengan header - pertama memuat dan memeriksa hanya indeks blok, dan kemudian hanya mencoba untuk memproses blok. </li><li>  Jika transisi ke PoS bukan hard-coded, tetapi melalui spork, maka Anda perlu menangkapnya saat boot, karena  sporks tidak disimpan. </li><li>  Pos-pos pemeriksaan di Dash dan Bitcoin hampir palsu dan membutuhkan revisi yang sangat serius. </li><li>  Jika garpu Dash hingga versi 0.13, maka ada masalah dengan pemrosesan data masternode dalam mode pengguna yang sederhana. <br><ul><li>  Dengan seringnya restart klien, tampilan jaringan terdistorsi. </li><li>  Lebih baik mengabaikan cache jika berjalan dalam mode grafis. </li></ul></li><li>  Ubah pilihan blok terbaik dengan mempertimbangkan waktu blok. </li><li>    Bitcoin          . </li><li>         mempool CoinStake  . </li></ol><br><hr><br><p><img src="https://habrastorage.org/webt/gw/fh/up/gwfhupvzahev6mwinu2-idrfpp8.png"></p><br><h2 id="vnedrenie-v-zhizn">    </h2><br><p>     .   mainnet    PoW       ,    ,      PoS,      . PoS       Ethereum   Casper'. </p><br><p>  GPU        -    — ethminer'.           150-200 GH (ethash).  -                PoS  . </p><br><p>       PoS   PIVX 2.x  "   ".  -    PIVX     ,             ,  .         ,     PIVX 2.x    .      Dash         0.12      Bitcoin'. </p><br><p>          ,     PoS      .       ,         ,     . </p><br><h3 id="podgotovitelnye-raboty">   </h3><br><h4 id="dokumentaciya">  </h4><br><p>      .           .   whitepaper    -. </p><br><h4 id="pervoe-priblizhenie">   </h4><br><p>        PoS  PIVX       Bitcoin/Dash.     CoinStake          .      PoS    . </p><br><p>      ,      Stake Modifier   Stake Hash  ,       Stake Input   . -      ,  -    PIVX    . </p><br><h4 id="dinamichnye-chekpoynty">   </h4><br><p>          —      .    : </p><br><ol><li>            . </li><li>         . </li><li>       — ..    ,       . </li><li>      ,  -      ,         . </li></ol><br><p>            .    spork'    ,       . </p><br><p> <em>,        .    spork'     .</em> </p><br><h4 id="perehod-na-pos-ne-dolzhen-byt-zhyostko-zashit">   PoS      </h4><br><p>              ,   -    .        spork,   ,     . </p><br><h4 id="novaya-versiya-protokola">    </h4><br><p>  , ..              .  ,         . </p><br><h4 id="publichnoe-testirovanie">   </h4><br><p>      testnet,       . </p><br><p>  testnet      3   1   mainnet,        . </p><br><h4 id="kalkulyator-dohodnosti">   </h4><br><p>    PoW ,  PoS     - ,            1e6       PoW. </p><br><p>           .   mainnet          Stake Input. </p><br><p>           . </p><br><h3 id="perehod-na-pos-v-zhizni">   PoS   </h3><br><p>     X   spork    PoS . -       ,      . </p><br><p>             .  ,   .        . </p><br><p>     ,      ,     . </p><br><h3 id="lozhka-dyogtya">   </h3><br><p>      Stake Modifier  .        .    PIVX  - … ,     ,        Ethereum,    . </p><br><hr><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>    -      ,          .   ,          PoS   ,        .        . </p><br><p> <em>:       -           .</em> </p><br><p> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  GitHub       </a></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id442862/">https://habr.com/ru/post/id442862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id442846/index.html">Industri luar angkasa kami. Pandangan tentang masalah industri dari perspektif pengembang biasa</a></li>
<li><a href="../id442852/index.html">Dell 6000 atau halo dari 2005</a></li>
<li><a href="../id442854/index.html">Bagaimana kami membuat skema metro Minsk</a></li>
<li><a href="../id442856/index.html">Dua dalam satu: Wi-Fi memantau kualitas udara dan jam</a></li>
<li><a href="../id442858/index.html">Apakah ada terlalu banyak gajah di Afrika? Bagaimana koeksistensi damai dengan komunitas manusia dapat membantu dalam hal ini</a></li>
<li><a href="../id442864/index.html">Berapa umur tuanmu?</a></li>
<li><a href="../id442866/index.html">AI yang terlatih dari beberapa dekade percobaan kuliner menciptakan hidangan baru</a></li>
<li><a href="../id442868/index.html">Tamasya singkat ke sistem pendingin pusat data. Pro dan kontra</a></li>
<li><a href="../id442870/index.html">Yang terbaik di dunia Angular untuk minggu ini - Intisari No. 2 (26 Januari - 7 Maret)</a></li>
<li><a href="../id442872/index.html">Bagaimana saya menemukan telur paskah di perlindungan Android dan tidak mendapatkan pekerjaan di Google</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>