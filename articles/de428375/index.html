<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¢ üöÜ ‚öôÔ∏è Das Buch "Arbeiten Sie mit BigData in den Wolken. Verarbeiten und Speichern von Daten anhand von Beispielen aus Microsoft Azure ¬ª üéÖüèª üôçüèΩ üöç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hier ist das erste urspr√ºnglich russischsprachige Buch, in dem die Geheimnisse der Verarbeitung von Big Data (Big Data) in den Clouds anhand realer Be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das Buch "Arbeiten Sie mit BigData in den Wolken. Verarbeiten und Speichern von Daten anhand von Beispielen aus Microsoft Azure ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/428375/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/un/xm/vy/unxmvydwj2ybjfabsmi3vbdcnsg.jpeg" align="left" alt="Bild"></a>  Hier ist das erste urspr√ºnglich russischsprachige Buch, in dem die Geheimnisse der Verarbeitung von Big Data (Big Data) in den Clouds anhand realer Beispiele untersucht werden. <br><br>  Der Schwerpunkt liegt auf Microsoft Azure- und AWS-L√∂sungen.  Alle Arbeitsphasen werden ber√ºcksichtigt - das Abrufen von Daten, die f√ºr die Verarbeitung in der Cloud vorbereitet wurden, mithilfe von Cloud-Speicher- und Cloud-Datenanalysetools.  Besonderes Augenmerk wird auf SAAS-Services gelegt. Die Vorteile von Cloud-Technologien im Vergleich zu L√∂sungen, die auf dedizierten Servern oder virtuellen Maschinen bereitgestellt werden, werden demonstriert. <br><br>  Das Buch richtet sich an ein breites Publikum und wird als hervorragende Ressource f√ºr die Entwicklung von Azure, Docker und anderen unverzichtbaren Technologien dienen, ohne die moderne Unternehmen undenkbar sind. <br><br>  Wir laden Sie ein, die Passage "Direkter Download von Streaming-Daten" zu lesen. <br><a name="habracut"></a><br><h3>  10.1.  Allgemeine Architektur </h3><br>  Im vorherigen Kapitel haben wir die Situation untersucht, in der viele Clientanwendungen eine gro√üe Anzahl von Nachrichten senden m√ºssen, die dynamisch verarbeitet, im Repository abgelegt und dann erneut verarbeitet werden m√ºssen.  Gleichzeitig ist es erforderlich, die Logik des Datenverarbeitungs- und Speicherflusses √§ndern zu k√∂nnen, ohne den Clientcode √§ndern zu m√ºssen.  Und schlie√ülich sollten Kunden aus Sicherheitsgr√ºnden das Recht haben, nur eines zu tun - Nachrichten zu senden oder zu empfangen, aber in keiner Weise Daten zu lesen oder Datenbanken zu l√∂schen, und sie sollten keine direkten Rechte zum Schreiben dieser Daten haben. <br><br>  Solche Aufgaben sind in Systemen, die mit IoT-Ger√§ten arbeiten, die √ºber eine Internetverbindung verbunden sind, sowie in Online-Protokollanalysesystemen sehr h√§ufig.  Zus√§tzlich zu den oben aufgef√ºhrten Anforderungen an unseren dedizierten Service gibt es zwei weitere Anforderungen, die sich auf die Besonderheiten des ‚ÄûInternet der Dinge‚Äú und die Gew√§hrleistung einer zuverl√§ssigen Nachrichtenverarbeitung beziehen.  Erstens muss das Interaktionsprotokoll zwischen dem Client und dem Dienstempf√§nger sehr einfach sein, damit es auf einem Ger√§t mit begrenzten Rechenkapazit√§ten und sehr begrenztem Speicher implementiert werden kann (z. B. Arduino, Intel Edison, STM32 Discovery und andere ‚Äûunangemessene‚Äú Plattformen, wie z wie zuvor RaspberryPi).  Die n√§chste Anforderung ist die zuverl√§ssige Nachrichten√ºbermittlung unabh√§ngig von m√∂glichen Fehlern bei den Verarbeitungsdiensten.  Dies ist eine st√§rkere Anforderung als die Anforderung einer hohen Zuverl√§ssigkeit.  Um die allgemeine Zuverl√§ssigkeit des gesamten Systems zu gew√§hrleisten, muss die Zuverl√§ssigkeit aller seiner Komponenten hoch genug sein, und das Hinzuf√ºgen einer neuen Komponente f√ºhrt nicht zu einer sp√ºrbaren Zunahme der Anzahl von Fehlern.  Zus√§tzlich zum Fehler in der Cloud-Infrastruktur kann ein Fehler im vom Benutzer erstellten Dienst auftreten.  Und selbst dann sollte die Nachricht verarbeitet werden, sobald der Benutzerdienst wiederhergestellt ist.  Zu diesem Zweck muss der Nachrichtenfluss-Empfangsdienst die Nachricht zuverl√§ssig speichern, bis sie verarbeitet wird oder bis ihre Lebensdauer abl√§uft (dies ist erforderlich, um einen Speicher√ºberlauf w√§hrend eines kontinuierlichen Nachrichtenflusses zu verhindern).  Ein Dienst mit diesen Eigenschaften wird als Event Hub bezeichnet.  F√ºr IoT-Ger√§te gibt es spezialisierte Hubs (IoT Hub), die eine Reihe anderer Eigenschaften aufweisen, die f√ºr die Verwendung in Verbindung mit Ger√§ten des Internet der Dinge sehr wichtig sind (z. B. bidirektionale Kommunikation von einem Punkt aus, integriertes Nachrichtenrouting, ‚Äûdigitale Doppel‚Äú des Ger√§ts und eine Reihe von andere).  Diese Dienste sind jedoch immer noch spezialisiert, und wir werden sie nicht im Detail betrachten. <br><br>  Bevor wir uns dem Konzept der Nachrichtenkonzentration zuwenden, wenden wir uns den zugrunde liegenden Ideen zu. <br><br>  Angenommen, wir haben eine Nachrichtenquelle (z. B. Anforderungen von einem Client) und einen Dienst, der diese verarbeiten soll.  Die Verarbeitung einer einzelnen Anforderung nimmt Zeit in Anspruch und erfordert Rechenressourcen (CPU, Speicher, IOPS).  Dar√ºber hinaus k√∂nnen w√§hrend der Verarbeitung einer Anforderung die verbleibenden Anforderungen nicht verarbeitet werden.  Damit Clientanwendungen nicht einfrieren, w√§hrend auf die Freigabe eines Dienstes gewartet wird, m√ºssen sie mithilfe eines zus√§tzlichen Dienstes getrennt werden, der f√ºr das Speichern von Nachrichten verantwortlich ist, w√§hrend sie in der Warteschlange auf die Verarbeitung warten.  Diese Trennung ist auch notwendig, um die allgemeine Zuverl√§ssigkeit des Systems zu erh√∂hen.  In der Tat sendet der Client eine Nachricht an das System, aber der Verarbeitungsdienst kann "fallen", aber die Nachricht sollte nicht verloren gehen. Sie muss in einem Dienst gespeichert werden, der zuverl√§ssiger als der Verarbeitungsdienst ist.  Die einfachste Version eines solchen Dienstes hei√üt Warteschlange (Abb. 10.1). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ql/8v/vn/ql8vvnkz7cm8mkc0mrgtrdczzae.png" alt="Bild"></div><br>  Der Warteschlangendienst funktioniert wie folgt: Der Client kennt die URL der Warteschlange und verf√ºgt √ºber Zugriffsschl√ºssel.  Mithilfe des SDK oder der API der Warteschlange platziert der Client eine Nachricht, die den Zeitstempel, die Kennung und den Nachrichtentext mit einer Nutzlast im JSON-, XML- oder Bin√§rformat enth√§lt. <br><br>  Der Programmcode des Dienstes enth√§lt einen Zyklus, der die Warteschlange ‚Äûabh√∂rt‚Äú und bei jedem Schritt die n√§chste Nachricht abruft. Wenn sich eine Nachricht in der Warteschlange befindet, wird sie extrahiert und verarbeitet.  Wenn der Dienst die Nachricht erfolgreich verarbeitet, wird sie aus der Warteschlange entfernt.  Wenn w√§hrend der Verarbeitung ein Fehler auftritt, wird dieser nicht gel√∂scht und kann erneut verarbeitet werden, wenn eine neue Version des Dienstes mit dem korrigierten Code gestartet wird.  Die Warteschlange dient zum Synchronisieren eines Clients (oder einer Gruppe √§hnlicher Clients) und genau eines Verarbeitungsdienstes (obwohl sich dieser in einem Servercluster oder in einer Serverfarm befinden kann).  Zu den Cloud-Warteschlangendiensten geh√∂ren die Azure-Speicherwarteschlange, die Azure-Dienstbuswarteschlange und AWS SQS.  Zu den auf virtuellen Maschinen gehosteten Diensten geh√∂ren RabbitMQ, ZeroMQ, MSMQ, IBM MQ usw. <br><br>  Unterschiedliche Warteschlangendienste garantieren unterschiedliche Arten der Nachrichten√ºbermittlung: <br><ul><li>  Mindestens einmalige Nachrichten√ºbermittlung </li><li>  streng einmalige Lieferung; </li><li>  Zustellung von Nachrichten unter Beibehaltung der Bestellung; </li><li>  Zustellung von Nachrichten ohne Aufrechterhaltung der Bestellung. </li></ul><br>  Die Warteschlange bietet eine zuverl√§ssige Zustellung von Nachrichten von einer Quelle an einen Verarbeitungsdienst, dh eine Eins-zu-Eins-Interaktion.  Was aber, wenn mehrere Dienste √ºbermittelt werden m√ºssen?  In diesem Fall m√ºssen Sie einen Dienst namens "topic" (topic) verwenden (Abb. 10.2). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wo/mi/6i/womi6if7bwniohwxjvik1r68v_4.png" alt="Bild"></div><br>  Ein wichtiges Element dieser Architektur sind ‚ÄûAbonnements‚Äú.  Dies ist der Pfad, der in dem Abschnitt registriert ist, √ºber den die Nachricht gesendet wird.  Nachrichten werden vom Client im Thema ver√∂ffentlicht und an eines der Abonnements √ºbertragen, aus denen sie von einem der Dienste extrahiert und von diesem verarbeitet werden.  Themen bieten eine Eins-zu-Viele-Interaktionsarchitektur f√ºr den Kundenservice.  Beispiele f√ºr solche Dienste sind das Azure Service Bus-Thema und AWS SNS. <br><br>  Nehmen wir nun an, dass es eine gro√üe Anzahl heterogener Clients gibt, die viele Nachrichten an verschiedene Dienste senden m√ºssen, dh wir m√ºssen ein Viele-zu-Viele-Interaktionssystem aufbauen.  Nat√ºrlich kann eine solche Architektur aus mehreren Abschnitten erstellt werden, aber eine solche Konstruktion ist nicht skalierbar und erfordert Verwaltungs- und √úberwachungsaufwand.  Es gibt jedoch separate Dienste - Nachrichtenkonzentratoren (Abb. 10.3). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5t/na/sg/5tnasgyiet_8zcd0zmtvxj4koeg.png" alt="Bild"></div><br>  Der Hub akzeptiert Nachrichten von vielen Clients.  Alle Clients k√∂nnen Nachrichten an einen gemeinsamen Service-Endpunkt senden oder √ºber spezielle Schl√ºssel eine separate Verbindung zu verschiedenen Endpunkten herstellen.  Mit diesen Schl√ºsseln k√∂nnen Sie Clients flexibel verwalten: Trennen Sie einige, trennen Sie neue usw. Innerhalb des Hubs befinden sich auch Partitionen.  In diesem Fall k√∂nnen sie jedoch auf alle Clients verteilt werden, um die Produktivit√§t zu steigern (Round Robin - ‚Äûmit zyklischer Addition‚Äú), oder der Client kann Nachrichten in einem der Abschnitte ver√∂ffentlichen.  Auf der anderen Seite werden Verarbeitungsdienste zu Verbrauchergruppen zusammengefasst.  Ein oder mehrere Dienste k√∂nnen mit einer Gruppe verbunden werden.  Somit ist ein Nachrichtenkonzentrator der flexibelste Dienst, der als Warteschlange, Abschnitt oder Gruppe von Warteschlangen oder als Satz von Abschnitten konfiguriert werden kann.  Im Allgemeinen bietet ein Nachrichtenkonzentrator eine Viele-zu-Viele-Beziehung zwischen Clients und Diensten.  Zu diesen Hubs geh√∂ren Apache Kafka, Azure Event Hub und AWS Kinesis Stream. <br><br>  Bevor wir uns mit Cloud-basierten PaaS-Diensten befassen, werden wir uns mit einem sehr leistungsstarken und bekannten Dienst befassen - Apache Kafka.  In Cloud-Umgebungen kann auf sie als Distribution zugegriffen werden, die direkt in einem Cluster einer virtuellen Maschine oder √ºber den HDInsight-Dienst bereitgestellt wird.  Apache Kafka ist also ein Dienst, der die folgenden Funktionen bietet: <br><ul><li>  Ver√∂ffentlichen und Abonnieren eines Nachrichtenflusses </li><li>  zuverl√§ssige Speicherung von Nachrichten; </li><li>  Anwendung von Streaming-Nachrichtenverarbeitungsdiensten von Drittanbietern. </li></ul><br>  Physisch l√§uft Kafka in einem Cluster von einem oder mehreren Servern.  Kafka bietet eine API f√ºr die Interaktion mit externen Clients (Abb. 10.4). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gz/50/ug/gz50ugazn-xwectzo--c8pulh4c.png" alt="Bild"></div><br>  Betrachten Sie diese APIs der Reihe nach. <br><ul><li>  Mit Hersteller-APIs k√∂nnen Clientanwendungen Nachrichtenfl√ºsse in einem oder mehreren Kafka-Themen ver√∂ffentlichen. </li><li>  Mit Consumer-APIs k√∂nnen Clientanwendungen ein oder mehrere Themen abonnieren und Nachrichtenfl√ºsse verarbeiten, die von Themen an Clients √ºbermittelt werden. </li><li>  Mit den Stream-Prozessor-APIs k√∂nnen Anwendungen als Streaming-Prozessor mit dem Kafka-Cluster interagieren.  Quellen f√ºr einen Prozessor k√∂nnen ein oder mehrere Themen sein.  In diesem Fall werden die verarbeiteten Nachrichten auch in einem oder mehreren Themen platziert. </li><li>  Die Connector-APIs helfen dabei, externe Datenquellen (z. B. RDB) als Nachrichtenquellen (z. B. Daten√§nderungsereignisse in der Datenbank abzufangen) und als Empf√§nger zu verbinden. </li></ul><br>  In Kafka erfolgt die Interaktion zwischen Clients und Cluster √ºber TCP, was durch die vorhandenen SDKs f√ºr verschiedene Programmiersprachen, einschlie√ülich .Net, erleichtert wird.  Die grundlegenden SDK-Sprachen sind jedoch Java und Scala. <br><br>  In einem Cluster erfolgt die Speicherung von Nachrichtenfl√ºssen (in der Kafka-Terminologie auch als Eintr√§ge bezeichnet) logisch in Objekten, die als Themen bezeichnet werden (Abb. 10.5).  Jeder Datensatz besteht aus einem Schl√ºssel, einem Wert und einem Zeitstempel.  Ein Thema ist im Wesentlichen eine Folge von Datens√§tzen (Nachrichten), die von Kunden ver√∂ffentlicht wurden.  Kafka-Themen unterst√ºtzen von 0 bis zu mehreren Abonnenten.  Jedes Thema wird physisch als partitioniertes Protokoll dargestellt.  Jeder Abschnitt ist eine geordnete Folge von Datens√§tzen, zu denen st√§ndig neue hinzugef√ºgt werden, die am Eingang von Kafka ankommen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qn/yi/wu/qnyiwuqtcxijhasj3iz7q8eh4jm.png" alt="Bild"></div><br>  Jeder Eintrag im Abschnitt entspricht einer Nummer in der Sequenz, die auch als Offset bezeichnet wird und diese Nachricht in der Sequenz eindeutig identifiziert.  Im Gegensatz zur Warteschlange l√∂scht Kafka die Nachricht nicht nach der Verarbeitung des Dienstes, sondern nach der Lebensdauer der Nachrichten.  Dies ist eine sehr wichtige Eigenschaft, die es verschiedenen Verbrauchern erm√∂glicht, von einem Thema zu lesen.  Dar√ºber hinaus ist jedem Verbraucher eine Vorspannung zugeordnet (Abb. 10.6).  Und jeder Lesevorgang f√ºhrt nur zu einer Wertsteigerung f√ºr jeden Kunden und wird vom Kunden genau bestimmt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mj/1b/mk/mj1bmkl7ooowixrdekhfg3-bix8.png" alt="Bild"></div><br>  Im Normalfall erh√∂ht sich dieser Versatz um eins, nachdem eine Nachricht aus dem Thema erfolgreich gelesen wurde.  Bei Bedarf kann der Client diesen Offset verschieben und den Lesevorgang wiederholen. <br><br>  Die Verwendung des Abschnittskonzepts verfolgt die folgenden Ziele. <br><br>  Erstens bieten Abschnitte die M√∂glichkeit, Themen zu skalieren, wenn ein Thema nicht in denselben Knoten passt.  Gleichzeitig hat jeder Abschnitt einen f√ºhrenden Knoten (verwechseln Sie ihn nicht mit dem Hauptknoten des gesamten Clusters) und null oder mehrere nachfolgende Knoten.  Der Kopfknoten ist f√ºr die Verarbeitung von Lese- / Schreibvorg√§ngen verantwortlich, w√§hrend die Follower seine passiven Kopien sind.  Wenn der Masterknoten ausf√§llt, wird einer der Nachfolgeknoten automatisch zum Hauptknoten.  Jeder Clusterknoten ist f√ºr einige Abschnitte der Lead und f√ºr andere ein Follower.  Zweitens erh√∂ht eine solche Replikation die Leseleistung aufgrund der M√∂glichkeit paralleler Leseoperationen. <br><br>  Der Produzent kann die Nachricht explizit oder implizit im Round-Robin-Modus (dh mit einheitlicher F√ºllung) in ein beliebiges Thema seiner Wahl einf√ºgen.  Verbraucher sind in sogenannten Verbrauchergruppen zusammengefasst, und jede im Thema ver√∂ffentlichte Nachricht wird an einen Kunden in jeder Verbrauchergruppe √ºbermittelt.  In diesem Fall k√∂nnen Clients physisch auf einem oder mehreren Servern / virtuellen Maschinen gehostet werden.  Im Einzelnen ist die Nachrichten√ºbermittlung wie folgt.  F√ºr alle Kunden, die derselben Verbrauchergruppe angeh√∂ren, k√∂nnen Nachrichten zwischen Kunden verteilt werden, um die Auslastung zu optimieren.  Wenn Kunden verschiedenen Verbrauchergruppen angeh√∂ren, wird jede Nachricht an jede Gruppe gesendet.  Die Trennung von Nachrichten von Abschnitten durch verschiedene Verbrauchergruppen ist in Abb. 2 dargestellt.  10.7. <br><br>  Jetzt werde ich kurz die wichtigsten Parameter f√ºr die Zustellung und Speicherung von Nachrichten beschreiben, die von Kafka garantiert werden. <br><ul><li>  Vom Hersteller an ein bestimmtes Thema gesendete Nachrichten werden ausschlie√ülich in der Reihenfolge hinzugef√ºgt, in der sie gesendet wurden. </li><li>  Der Client sieht die Nachrichtenreihenfolge in dem Thema, das beim Speichern der Nachrichten empfangen wurde.  Infolgedessen werden Nachrichten vom Hersteller an den Verbraucher ausschlie√ülich in der Reihenfolge geliefert, in der sie eingehen. </li><li>  Die N-fache Replikation des Themas stellt die Stabilit√§t des Themas gegen√ºber dem Ausfall von N - 1 Knoten ohne Leistungsverlust sicher. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rf/qp/ms/rfqpmsno04krpiqxhs1qv8agwhu.png" alt="Bild"></div><br>  Daher kann der Apache Kafka-Dienst in den folgenden Modi verwendet werden. <br><br><ul><li>  Dienst - Nachrichtenbroker (Warteschlange) oder Ver√∂ffentlichungsdienst - Nachrichtenabonnement (Thema).  In der Tat basiert Kafka auf einer Gruppe von Themen, die mit einem Abonnenten in eine Warteschlange umgewandelt werden k√∂nnen.  (Es sollte beachtet werden: Im Gegensatz zu den √ºblichen Nachrichtenbrokerdiensten, die auf dem Prinzip der Warteschlangen basieren, werden Kafka-Nachrichten erst nach Ablauf ihrer Lebensdauer gel√∂scht, w√§hrend die Broker das Peek-Delete-Prinzip implementieren, dh das Abrufen und L√∂schen nach erfolgreicher Verarbeitung. ) Das Prinzip der Verbrauchergruppen fasst diese beiden Konzepte zusammen, und die F√§higkeit, Nachrichten in allen Themenbereichen mit der Verteilung von Round Robin zu ver√∂ffentlichen, macht Kafka zu einem universellen Multi-Mode-Nachrichtenbroker. </li><li>  Dienst zur Analyse von Streaming-Nachrichten.  Dies ist dank der in Kafka enthaltenen API f√ºr Streaming-Prozessoren m√∂glich, mit der Sie komplexe Systeme erstellen k√∂nnen, die auf der Grundlage von Event Driven erstellt wurden, mit Diensten, die Nachrichten filtern oder darauf antworten, sowie Diensten, die Nachrichten aggregieren. </li></ul><br>  All diese Eigenschaften erm√∂glichen es, Kafka als Schl√ºsselkomponente einer Plattform zu verwenden, die mit Streaming-Daten arbeitet und √ºber hervorragende Funktionen zum Aufbau komplexer Nachrichtenverarbeitungssysteme verf√ºgt.  Gleichzeitig ist Kafka in Bezug auf die Bereitstellung und Konfiguration eines Clusters aus mehreren Knoten recht kompliziert, was einen erheblichen Verwaltungsaufwand erfordert.  Da die Kafka zugrunde liegenden Ideen jedoch sehr gut zum Erstellen von Systemen, zum Streamen von Nachrichten und zum Empfangen von Nachrichten geeignet sind, bieten Cloud-Anbieter PaaS-Dienste an, die diese Ideen implementieren und alle Schwierigkeiten beim Erstellen und Verwalten eines Kafka-Clusters verbergen.  Da diese Dienste hinsichtlich der Anpassung und Erweiterung √ºber die f√ºr Dienste zugewiesenen Grenzen hinaus eine Reihe von Einschr√§nkungen aufweisen, bieten Cloud-Anbieter spezielle IaaS / PaaS-Dienste f√ºr die physische Bereitstellung von Kafka in einem Cluster f√ºr virtuelle Maschinen an.  In diesem Fall hat der Benutzer nahezu vollst√§ndige Konfigurations- und Erweiterungsfreiheit.  Diese Dienste umfassen Azure HDInsight.  Es wurde bereits oben erw√§hnt.  Es wurde erstellt, um einerseits dem Benutzer selbst Dienste aus dem Hadoop-√ñkosystem ohne externe Wrapper bereitzustellen und andererseits die Schwierigkeiten zu beseitigen, die sich aus der direkten Installation, Verwaltung und Konfiguration von IaaS ergeben.  Docker Hosting ist ein wenig auseinander.  Da dies ein √§u√üerst wichtiges Thema ist, werden wir es betrachten, aber zuerst die PaaS-Dienste kennenlernen, die mit den Grundkonzepten von Kafka implementiert wurden. <br><br><h3>  10.2.  Azure-Ereignis-Hub </h3><br>  Betrachten Sie den Azure Event Hub-Nachrichten-Hub-Dienst.  Es ist ein Dienst, der auf dem PaaS-Modell basiert.  Verschiedene Clientgruppen k√∂nnen als Nachrichtenquellen f√ºr den Azure Event Hub fungieren (Abbildung 10.8).  Zun√§chst einmal handelt es sich um eine sehr gro√üe Gruppe von Cloud-Diensten, deren Ausgaben oder Trigger so konfiguriert werden k√∂nnen, dass Nachrichten direkt an den Event Hub gesendet werden.  Dies k√∂nnen Stream Analytics-Jobs, Event Grid und eine wichtige Gruppe von Diensten sein, die Ereignisse umleiten - Protokolle im Event Hub (haupts√§chlich mithilfe des AppService erstellt: API-App, Web-App, Mobile App und Funktions-App). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/th/wr/-y/thwr-yanwimel2wqzorsolaojxo.png" alt="Bild"></div><br>  An den Hub √ºbermittelte Nachrichten k√∂nnen direkt erfasst und im Blob-Speicher oder im Data Lake-Speicher gespeichert werden. <br><br>  Die n√§chste Gruppe von Quellen sind externe Software-Clients oder -Ger√§te, f√ºr die es kein Azure Event Hub-SDK gibt und die nicht direkt in Azure-Dienste integriert werden k√∂nnen.  Zu diesen Clients geh√∂ren haupts√§chlich IoT-Ger√§te.  Sie k√∂nnen Nachrichten √ºber HTTPS oder AMQP an den Event Hub senden.  √úberlegungen zum Anschlie√üen dieser Ger√§te gehen √ºber den Rahmen unseres Buches hinaus. <br><br>  Schlie√ülich die Software-Clients, die Nachrichten generieren und diese mithilfe des Azure Event Hub SDK an den Event Hub senden.  Diese Gruppe umfasst Azure PowerShell und die Azure-CLI. <br>  Als Nachrichtenempf√§nger (Verbraucher - ‚ÄûVerbraucher‚Äú) vom Event Hub k√∂nnen Stream Analytics Job oder der Event Grid-Integrationsdienst verwendet werden.  Dar√ºber hinaus ist es m√∂glich, Nachrichten von Software-Clients mithilfe des Azure Event Hub SDK zu empfangen.  Verbraucher stellen √ºber das AMQP 1.0-Protokoll eine Verbindung zum Event Hub her. <br><br>  Ber√ºcksichtigen Sie die grundlegenden Konzepte des Azure Event Hub, die erforderlich sind, um zu verstehen, wie er verwendet und konfiguriert wird.  Jede Quelle (in der Dokumentation auch als Herausgeber bezeichnet), die eine Nachricht an den Hub sendet, muss das HTTPS- oder AMQP 1.0-Protokoll verwenden.  Die Wahl eines Protokolls wird durch den Client-Typ, das Kommunikationsnetzwerk und die Anforderungen an die Nachrichtenrate bestimmt.  AMQP erfordert eine permanente Verbindung zwischen zwei bidirektionalen TCP-Sockets.  Es wird durch die Verwendung des TLS-Transportschicht-Verschl√ºsselungsprotokolls oder von SSL / TLS gesch√ºtzt.   ,  ,       AMQP   ,  HTTPS,          .      HTTPS. <br><br>     ,         SAS (Shared Access Signature) tokens.          SAS-          SAS   .      SAS-,      (  ). <br><br>         256 .  ,                  . <br><br>  ,      Event Hub.      ,        ,      ,     -.   EventHub     (partitions).   EventHub ‚Äî    ,     ¬´  ‚Äî  ¬ª (FIFO) (. 10.9). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/2g/_p/iq2g_p_ldvolfuahy8admgxqhzo.png" alt="Bild"></div><br>   ‚Äî       Event Hub.  Event Hub    2  32 ,          Event Hub.   ,          . <br><br>    (    )    ,      (    ,     ‚Äî . ),       (retention period),   .   .           .       ,  Azure Event Hub    (offset).     ‚Äî    ,      ,  ,  ,      .          . Azure Event Hub SDK    ,     ,     .       -,         . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fe/ab/bc/feabbcymdq52xiddkbp2vcajz-k.png" alt="Bild"></div><br>  ,          ,     ,       ,    .   Azure Event Hub SDK     ,        .  ,     Storage Account.  Azure,     Event Hub,       . <br><br>     Event Hub     (partition key),          .    ‚Äî   . ,         (    )          .        ,       (round robin). <br><br>       .      ,       (consumer group) (. 10.11).             .             (view) (     ) ,  ,     .        ,       .     ‚Äî 20,            ,            . <br><br>          .  ,              .    ,     (throughput unit).         : <br><ul><li>    ‚Äî 1 M    1000    (   ,       ); </li><li>    ‚Äî 2 M  . </li></ul><br>         .      ,     .           .         .  !  ,     ,    ,       Event Hub. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i_/l0/jc/i_l0jcqwomkuargf-sygdrfufdc.png" alt="Bild"></div><br>        (namespace) (. 10.12). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jf/de/h-/jfdeh-khouxn6olnkxcgw6-w1a4.png" alt="Bild"></div><br><br>  ¬ªWeitere Informationen zum Buch finden Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Website des Herausgebers</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auszug</a> <br><br>  20% <b>Rabatt-</b> Gutschein f√ºr <b>Stra√üenh√§ndler</b> - <b>BigData</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428375/">https://habr.com/ru/post/de428375/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428365/index.html">Die Geschichte, wie sich die Google-Abrechnung ge√§ndert hat oder wie unn√∂tige Kosten vermieden werden k√∂nnen</a></li>
<li><a href="../de428367/index.html">Wir haben das kleinste Sonarmodem der Welt hergestellt</a></li>
<li><a href="../de428369/index.html">Raus aus Sansaras Rad, Extremismus und ein bisschen Gr√ºnzeug - eine Analyse der Aufgaben aus dem GridGain-Booklet auf der Joker 2018-Konferenz</a></li>
<li><a href="../de428371/index.html">Altes IBM-Spiel</a></li>
<li><a href="../de428373/index.html">Das iPhone ist unpraktisch zu bedienen</a></li>
<li><a href="../de428377/index.html">Epigenetische Biomarker des Alterns</a></li>
<li><a href="../de428379/index.html">Der eigentliche Designprozess. Eine Schritt-f√ºr-Schritt-Geschichte zum Erstellen einer gesch√§ftsorientierten Website</a></li>
<li><a href="../de428381/index.html">Investition in H√∂he von 10 Millionen US-Dollar und Lob von Wozniak - ein langer Weg, um einen Computerdesigner f√ºr Kinder zu schaffen</a></li>
<li><a href="../de428383/index.html">Sony hat eine vollst√§ndige Liste der Spiele f√ºr die PlayStation Classic ver√∂ffentlicht</a></li>
<li><a href="../de428385/index.html">Mehr Kaffee, weniger Koffein: Intel 9th ‚Äã‚ÄãGen (Teil 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>