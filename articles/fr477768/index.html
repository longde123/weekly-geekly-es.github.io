<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§™ğŸ» ğŸ‘ğŸ¿ ğŸ“º Histoire de Vim et un guide pour son utilisation efficace âœ¨ ğŸ¥— ğŸ‘©ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note du traducteur: il s'agit de la premiÃ¨re partie de l'article monumental (en fait monumental) sur Vim et ses capacitÃ©s du dÃ©veloppeur de Minneapoli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Histoire de Vim et un guide pour son utilisation efficace</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/477768/">  <i>Note du traducteur: il s'agit de la premiÃ¨re partie de l'article monumental (en fait monumental) sur Vim et ses capacitÃ©s du dÃ©veloppeur de Minneapolis et de l'auteur du projet <a href="http://postgrest.org/en/v6.0/">PostgREST,</a> Joe <a href="https://github.com/begriffs">begriffs</a> Nelson.</i> <i><br><br></i>  <i>La premiÃ¨re partie de l'article est consacrÃ©e Ã  se familiariser avec l'histoire de Vim en tant qu'Ã©diteur, et l'auteur parle d'un certain nombre de faits intÃ©ressants sur les capacitÃ©s de Vim.</i>  <i>Dans la deuxiÃ¨me partie de la traduction, tous les jetons et hacks de vie que Joe a dÃ©cidÃ© de partager avec le public seront concentrÃ©s, lÃ  le rÃ©cit, en tant que tel, s'estompe et il ne reste qu'un ensemble de lignes directrices pour l'action.</i>  <i>Comme le texte original a des dimensions totalement inacceptables, nous avons divisÃ© cette histoire en deux articles de taille approximativement Ã©gale.</i>  <i>Aujourd'hui est la premiÃ¨re de deux publications.</i>  <i>Bonne lecture.</i> <br><br><hr><br>  Cet article est basÃ© sur des recherches sur l'histoire de Vim et sur la lecture de son guide d'utilisation.  J'espÃ¨re que ces notes vous aideront Ã  dÃ©couvrir (ou Ã  redÃ©couvrir?) Les fonctionnalitÃ©s de base de cet Ã©diteur, ainsi qu'Ã  vous permettre d'abandonner l'utilisation des fichiers vimrc avertis et d'utiliser les plugins de maniÃ¨re plus rÃ©flÃ©chie. <br><br><img src="https://habrastorage.org/webt/hn/0g/5q/hn0g5qskcbqwtg_kauayaurqcak.png"><br><br><h3>  Les rÃ©fÃ©rences </h3><br>  Pour aller au-delÃ  des sujets habituels, je recommanderais d'obtenir une copie papier de ce manuel et une rÃ©fÃ©rence de poche volumineuse.  Je n'ai pas pu trouver une copie imprimÃ©e du guide de l'utilisateur de Vim, donc Ã  la fin je viens d'imprimer le <a href="https://begriffs.com/pdf/vim-user-manual.pdf">fichier PDF</a> fourni avec l'Ã©diteur en utilisant printme1.com.  <code>$VIMRUNTIME/doc/usr_??</code> il avec un logiciel dans <code>$VIMRUNTIME/doc/usr_??</code>  .  En tant que liste pratique de commandes, je peux vous conseiller le livre de rÃ©fÃ©rence <a href="https://www.goodreads.com/book/show/9787030-vi-and-vim-editors-pocket-reference">Â«Vi and Vim Editors PocketÂ»</a> . <br><br>  <b>Table des matiÃ¨res</b> <br><br><ul><li>  L'histoire </li><li>  HiÃ©rarchie de configuration </li><li>  Plugins tiers </li><li>  Sauvegardes et ristournes </li><li>  Inclure et chemin </li><li>  Ã‰dition et compilation d'une boucle </li><li>  Diffs et patchs </li><li>  Tampon d'entrÃ©e / sortie </li><li>  Types de fichiers </li><li>  N'oubliez pas la souris </li><li>  Divers </li></ul><br><h2>  L'histoire </h2><br><h3>  Naissance vi </h3><br>  Les commandes et fonctions Vi existent depuis plus de cinquante ans, Ã  commencer par l'Ã©diteur QED.  Voici sa chronologie: <br><a name="habracut"></a><br><ul><li>  1966: QED (Quick Editor) au Berkeley Timesharing System </li><li>  Juillet 1969: avec son aide, ils ont atterri sur la lune (enfin, pour rÃ©fÃ©rence) </li><li>  AoÃ»t 1969: QED â†’ ed at AT&amp;T </li><li>  1976 fÃ©v: ed â†’ em (Â«Editor for MortalsÂ») au Queen Mary's College </li><li>  1976: em â†’ ex ("EXtended") Ã  l'UniversitÃ© de Californie, Berkeley </li><li>  1977 Oct: ex reÃ§oit le mode visuel, vi - terminal texte </li></ul><br>  Si vous lisez le manuel <a href="https://begriffs.com/pdf/qed-editor.pdf">QED</a> et <a href="https://begriffs.com/pdf/ex-manual.pdf">ex</a> , vous pouvez trouver des similitudes entre eux.  Les deux Ã©diteurs utilisent une grammaire similaire pour indiquer et travailler avec des plages de lignes. <br><br>  Des Ã©diteurs tels que QED ed et em ont Ã©tÃ© conÃ§us pour les terminaux d'impression, qui Ã©taient pour la plupart des machines Ã  Ã©crire Ã©lectriques ordinaires avec un modem connectÃ©.  De tels terminaux "Ã  copieur complet" affichaient des commandes sur papier et, Ã©videmment, une fois entrÃ©s, il Ã©tait impossible de faire des corrections.  Par consÃ©quent, le processus d'Ã©dition consistait Ã  Ã©diter manuellement les commandes utilisateur sur papier, puis Ã  les saisir Ã  nouveau. <br><br>  En 1976, des terminaux vidÃ©o, par exemple ADM-3A, sont apparus.  Un Â«mode ouvertÂ» a Ã©tÃ© ajoutÃ© Ã  l'Ã©diteur Ex, ce qui a permis d'Ã©diter via un terminal vidÃ©o sur une seule page.  Un mode visuel a Ã©tÃ© ajoutÃ© pour s'orienter sur les lignes du terminal Ã  l'aide du curseur.  Le mode visuel a Ã©tÃ© activÃ© par la commande Â«viÂ» et a constamment mis Ã  jour le fichier affichÃ© Ã  l'Ã©cran, tout en conservant le positionnement de la ligne de commande en bas de l'Ã©cran.  Fait intÃ©ressant: des flÃ¨ches ont Ã©tÃ© placÃ©es sur les touches h, j, k, l de l'ADM-3A, ce qui nous a permis de dÃ©placer le curseur sur vi. <br><br>  Vous pouvez en savoir plus sur cette transition de ed Ã  ex / vi dans <a href="https://begriffs.com/pdf/unix-review-bill-joy.pdf">une interview avec Bill Joy</a> .  Dans ce document, il parle de la faÃ§on dont il a crÃ©Ã© ex / vi et de certaines choses qui l'ont finalement dÃ©Ã§u. <br><br>  Classic vi est juste un alter est ex.  Les deux sont reprÃ©sentÃ©s par le mÃªme fichier binaire, qui peut Ãªtre exÃ©cutÃ© Ã  la fois en ex-mode et en vi-mode, selon le nom du fichier exÃ©cutable.  L'hÃ©ritage de toute cette histoire est que ex / vi Â«se dÃ©plieÂ» lorsqu'il est utilisÃ©, ne nÃ©cessite presque pas de ressources systÃ¨me et peut fonctionner dans des conditions de bande passante limitÃ©e.  Il est Ã©galement disponible sur la plupart des systÃ¨mes existants et est <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/vi.html">entiÃ¨rement dÃ©crit</a> dans POSIX. <br><br><h3>  Vi Ã  vim </h3><br>  DÃ©rivÃ© d'ed, l'Ã©diteur ex / vi Ã©tait la propriÃ©tÃ© intellectuelle d'AT &amp; T.  Pour utiliser vi sur des plateformes autres qu'Unix, les gens devaient Ã©crire des clones qui avaient une base de code source diffÃ©rente. <br><br>  En voici quelques uns: <br><br><ul><li>  nvi - 1980 pour 4BSD </li><li>  calvin - 1987 pour DOS </li><li>  vil - 1990 pour DOS </li><li>  stevie - 1987 pour Atari ST </li><li>  elvis - 1990 pour Minix et 386BSD </li><li>  vim - 1991 pour Amiga </li><li>  viper - 1995 pour Emacs </li><li>  elwin - 1995 pour Windows </li><li>  lemmy - 2002 pour Windows </li></ul><br>  Nous allons nous concentrer sur le clone du centre de la liste - Vim.  Bram Mulenaar voulait utiliser vi sur Amiga et a commencÃ© Ã  porter avec Atari et Ã  dÃ©velopper le clone vi stevie.  Et il a nommÃ© sa version du port Â«Vi ImitationÂ».  Si vous voulez en savoir plus sur ce processus, regardez son interview pour Free Software Magazine. <br><br>  Dans la version 1.22, Vim a Ã©tÃ© renommÃ© Â«Vi IMprovedÂ», ce qui indique la supÃ©rioritÃ© de la copie sur l'original.  Voici un graphique des principales versions suivantes avec des descriptions de certaines fonctionnalitÃ©s: <br><br><img src="https://habrastorage.org/webt/n-/gw/lu/n-gwlulgvi4i6rrmjqfzvmvpwbi.png"><br><br>  Pour plus d'informations sur chaque version, l'aide doit Ãªtre utilisÃ©e, par exemple, pour vim8.  Pour voir les mises Ã  jour prÃ©vues, ainsi qu'une liste des erreurs connues, vous devez vous tourner vers todo.txt. <br><br>  Par exemple, la huitiÃ¨me version incluait une prise en charge des travaux asynchrones en raison de la pression sur le projet de NeoVim.  Les dÃ©veloppeurs de ce dernier <a href="https://groups.google.com/forum/">souhaitaient</a> lancer le dÃ©bogage et REPL pour les scripts Web directement dans l'Ã©diteur. <br><br>  GÃ©nÃ©ralement, Vim est superportable.  Adaptant toute l'histoire de son existence pour travailler sur des plateformes complÃ¨tement diffÃ©rentes, cet Ã©diteur a Ã©tÃ© contraint de rester dans le cadre de la culture Â«facileÂ» du codage.  Vim fonctionne sur OS / 390, Amiga, BeOS et BeBox, Macintosh Classic, Atari MiNT, MS-DOS, OS / 2, QNX, RISC-OS, BSD, Linux, OS X, VMS et MS-Windows.  Vous pouvez compter sur Vim n'importe oÃ¹ et ne vous souciez pas de l'Ã©quipement que vous utilisez. <br><br>  Ã€ la fin du chemin vi original, en 2002, le code source ex / vi Ã©tait toujours publiÃ© sous la licence de logiciel libre BSD.  Les sorciers sont disponibles sur <a href="http://ex-vi.sourceforge.net/">ex-vi.sourceforge.net</a> . <br><br>  Mais passons aux choses sÃ©rieuses.  Avant de commencer Ã  analyser Vim, il est utile de savoir comment il organise et lit ses fichiers de configuration. <br><br><h2>  HiÃ©rarchie de configuration </h2><br>  Auparavant, je croyais Ã  tort que Vim obtient tous ses paramÃ¨tres et scripts uniquement Ã  partir du fichier .vimrc.  La visualisation de rÃ©fÃ©rentiels de Â«fichiers dotÂ» alÃ©atoires ne peut que renforcer cette opinion.  TrÃ¨s souvent, les gens tÃ©lÃ©chargent des fichiers .vimrc monstrueux par essence, dont la tÃ¢che est de contrÃ´ler tous les aspects de l'Ã©diteur.  Ces Ã©normes configurations sont aussi parfois appelÃ©es Â«distributions vimÂ». <br><br>  En fait, Vim a une structure soignÃ©e dans laquelle .vimrc n'est qu'un des nombreux Â«points d'entrÃ©eÂ».  En fait, vous pouvez vous-mÃªme demander Ã  Vim quels scripts il charge.  Pour ce faire, modifiez du code source pour un projet alÃ©atoire sur votre machine, tÃ©lÃ©chargez-le puis exÃ©cutez la commande <br><br><pre> <code class="xml hljs">:scriptnames</code> </pre> <br>  Cette liste mÃ©rite d'Ãªtre lue.  Essayez de deviner ce que font ces scripts et notez les rÃ©pertoires dans lesquels ils se trouvent. <br><br>  La liste Ã©tait plus longue que prÃ©vu?  Si vous avez installÃ© de nombreux plugins, l'Ã©diteur a beaucoup Ã  faire.  VÃ©rifiez qu'il ralentit au dÃ©marrage en exÃ©cutant la commande de crÃ©ation start.log suivante: <br><br><pre> <code class="xml hljs">vim --startuptime start.log name-of-your-file</code> </pre> <br>  Comparez simplement la vitesse de dÃ©marrage de Vim: <br><br><pre> <code class="xml hljs">vim --clean --startuptime clean.log name-of-your-file</code> </pre> <br>  Pour dÃ©terminer quels scripts doivent Ãªtre chargÃ©s au dÃ©marrage ou pendant le chargement de la mÃ©moire tampon, vous devez vÃ©rifier le chemin d'exÃ©cution Vim.  Ce chemin est reprÃ©sentÃ© par une liste de rÃ©pertoires sÃ©parÃ©s par des virgules, chacun contenant une structure commune.  Vim vÃ©rifie ces structures dans chaque rÃ©pertoire pour trouver ses scripts de dÃ©marrage.  Les rÃ©pertoires sont traitÃ©s strictement dans l'ordre dans lequel ils se trouvent dans la liste. <br><br>  VÃ©rifiez le chemin d'exÃ©cution sur votre systÃ¨me via cette commande: <br><br><pre> <code class="xml hljs">:set runtimepath</code> </pre> <br>  Mon systÃ¨me contient les rÃ©pertoires suivants spÃ©cifiÃ©s par dÃ©faut pour la vÃ©rification runtimepath.  Ils n'existent pas tous, mais Vim essaiera toujours d'y accÃ©der et vÃ©rifiera le contenu s'ils sont toujours en place: <br><br> <code>~/.vim</code> <br>  RÃ©pertoire personnel, conÃ§u pour les profils crÃ©Ã©s. <br><br> <code>/usr/local/share/vim/vimfiles</code> <br>  RÃ©pertoire Vim Ã  l'Ã©chelle du systÃ¨me, pour les profils avec des privilÃ¨ges d'administrateur systÃ¨me. <br><br> <code>/usr/local/share/vim/vim81</code> <br>  Aka $ VIMRUNTIME, pour les fichiers distribuÃ©s avec Vim. <br><br> <code>/usr/local/share/vim/vimfiles/after</code> <br>  Dans le rÃ©pertoire Vim Ã  l'Ã©chelle du systÃ¨me, il y a aussi le rÃ©pertoire after.  Il est destinÃ© Ã  ajouter les paramÃ¨tres personnels de l'administrateur systÃ¨me Â«par dÃ©fautÂ». <br><br> <code>~/.vim/after</code> <br>  Le rÃ©pertoire Â«aprÃ¨sÂ» du rÃ©pertoire personnel.  Ceci est nÃ©cessaire pour que les configurations personnelles n'annulent pas ou ne chevauchent pas les paramÃ¨tres Ã  l'Ã©chelle du systÃ¨me ou Â«par dÃ©fautÂ». <br><br>  En gÃ©nÃ©ral, les rÃ©pertoires sont traitÃ©s dans le mÃªme ordre dans lequel ils sont Ã©crits dans start.log, une exception n'est faite que pour Â«aprÃ¨sÂ».  Celui-ci est toujours en fin de liste et est traitÃ© en dernier. <br><br>  Lors du traitement de chaque rÃ©pertoire, Vim y recherche des sous-dossiers avec des noms spÃ©cifiques.  Pour en savoir plus Ã  ce sujet, consultez l'aide runtimepath.  Voici une brÃ¨ve description de ceux que nous examinerons plus loin dans le texte: <br><br> <code>plugin /</code> <br>  Ici se trouvent les fichiers de script Vim qui sont automatiquement chargÃ©s lors de la modification de tout type de fichier.  Ils sont Ã©galement appelÃ©s Â«mondiauxÂ». <br><br> <code>autoload /</code> <br>  (A ne pas confondre avec "plugin").  Ces scripts de dÃ©marrage contiennent des fonctions qui ne sont resserrÃ©es qu'Ã  la demande d'autres scripts. <br><br> <code>ftdetect /</code> <br>  Scripts pour dÃ©terminer les types de fichiers.  Dans leur travail, ils s'appuient sur l'extension, l'emplacement ou le contenu interne du fichier. <br><br> <code>ftplugin /</code> <br>  Scripts exÃ©cutÃ©s lors de la modification de fichiers d'un type connu. <br><br> <code>compiler /</code> <br>  DÃ©termine comment exÃ©cuter divers compilateurs ou vÃ©rifications de peluches et comment analyser leur sortie.  Il peut Ãªtre divisÃ© entre plusieurs plugins ft en mÃªme temps.  Le compilateur n'est pas exÃ©cutÃ© automatiquement et doit Ãªtre appelÃ© par une commande. <br><br> <code>pack /</code> <br>  Un conteneur pour les packages natifs Vim 8, le successeur de la gestion des packages de type Pathogen.  Il a son propre systÃ¨me d'emballage, ne nÃ©cessite pas de code tiers pour fonctionner. <br><br>  Et enfin, <code>~ / .vimrc</code> est un piÃ¨ge pour les paramÃ¨tres gÃ©nÃ©raux de l'Ã©diteur.  UtilisÃ© pour configurer les paramÃ¨tres par dÃ©faut, qui peuvent Ãªtre attribuÃ©s Ã  un type de fichier spÃ©cifique.  Pour afficher la liste entiÃ¨re, vous pouvez sÃ©lectionner .vimrc et exÃ©cuter la commande d'options. <br><br><h2>  Plugins tiers </h2><br>  Les plugins ne sont que des scripts Vim, pour lesquels il suffit de les placer aux bons endroits dans le runtimepath.  En gÃ©nÃ©ral, le processus d'installation est extrÃªmement simple: il suffit de tÃ©lÃ©charger le (s) fichier (s).  Le problÃ¨me est que certains plugins sont assez difficiles Ã  mettre Ã  jour ou Ã  supprimer, car ils sont dispersÃ©s dans diffÃ©rents sous-rÃ©pertoires et obstruent les chemins d'exÃ©cution avec leurs scripts.  Autrement dit, Ã  la fin, il est difficile de dÃ©terminer quel fichier appartient Ã  quel plugin. <br><br>  Pour rÃ©soudre ce problÃ¨me, les Â«gestionnaires de pluginsÂ» ont commencÃ© Ã  se dÃ©velopper.  Sur vim.org, il y avait un registre de plugins au moins jusqu'en 2003 inclus (si l'archive ne ment pas).  Cependant, les Â«gestionnaires de pluginsÂ» en tant qu'entitÃ©s ne sont entrÃ©s dans la mode qu'en 2008. <br><br>  Ces outils ajoutent des rÃ©pertoires spÃ©ciaux pour les plugins pour suivre les chemins d'exÃ©cution et organiser les balises par lesquelles les plugins peuvent Ãªtre suivis.  La plupart des gestionnaires rÃ©cupÃ¨rent Ã©galement les mises Ã  jour des plugins depuis le rÃ©seau. <br><br>  Ci-dessous, j'ai construit des gestionnaires de plugins en fonction de la chronologie de leur occurrence.  BasÃ© sur les plages de dates de sortie de la premiÃ¨re et de la derniÃ¨re version.  S'il n'y avait pas de versions officielles, j'ai pris comme base les premiÃ¨res dates de sortie et la derniÃ¨re mise Ã  jour. <br><br><ul><li>  Mars 2006 - Juil 2014: Vimball </li><li>  Oct 2008 - Dec 2015: PathogÃ¨ne </li><li>  AoÃ»t 2009 - dÃ©c 2009: Vimana </li><li>  DÃ©c 2009 - dÃ©c 2014: VAM </li><li>  AoÃ»t 2010 - Nov 2010: Jolt </li><li>  Oct 2010 - Nov 2012: tplugin </li><li>  Octobre 2010 - fÃ©vrier 2014: Vundle </li><li>  Mar 2012 - Mar 2018: vim-flavour </li><li>  Avril 2012 - mars 2016: NeoBundle </li><li>  Janvier 2013 - aoÃ»t 2017: infect </li><li>  FÃ©v 2013 - aoÃ»t 2016: vimogen </li><li>  Oct 2013 - Jan 2015: dÃ©groupage vim </li><li>  DÃ©c 2013 - juil 2015: Vizardry </li><li>  FÃ©v 2014 - Oct 2018: vim-plug </li><li>  Jan 2015 - Oct 2015: facilitateur </li><li>  AoÃ»t 2015 - avril 2016: Vizardry 2 </li><li>  Janvier 2016 - juin 2018: dein.vim </li><li>  Sept 2016 - PrÃ©sent: originaire de Vim 8 </li><li>  FÃ©v 2017 - Sept 2018: minpac </li><li>  Mars 2018 - mars 2018: autopac </li><li>  FÃ©vrier 2017 - juin 2018: pack </li><li>  Mars 2017 - sept. 2017: vim-pck </li><li>  Sept 2017 - Sept 2017: pack vim8 </li><li>  Sept 2017 - Mai 2019: volt </li><li>  Sep 2018 - Feb 2019: vim-packager </li><li>  FÃ©v 2019 - FÃ©v 2019: plugpac.vim </li></ul><br>  La premiÃ¨re chose Ã  laquelle vous devez prÃªter attention dans la liste ci-dessus est la grande variÃ©tÃ©.  La seconde - chacun des outils prÃ©sentÃ©s Â«vitÂ» depuis environ quatre ans, puis, trÃ¨s probablement, se dÃ©mode. <br><br>  Le chemin de moindre rÃ©sistance dans la gestion des plugins est simplement d'utiliser la fonctionnalitÃ© intÃ©grÃ©e de Vim 8, qui ne nÃ©cessite pas de rÃ©cupÃ©rer un code tiers.  Voyons comment procÃ©der. <br><br>  Pour commencer, crÃ©ez deux rÃ©pertoires dans votre runtimepath: opt et start. <br><br><pre> <code class="xml hljs">mkdir -p ~/.vim/pack/foobar/{opt,start}</code> </pre> <br>  Faites attention Ã  l'espace rÃ©servÃ© Â«foobarÂ» (le nom peut Ãªtre changÃ©).  Il classe entiÃ¨rement tous les packages qui entrent.  La plupart des utilisateurs transfÃ¨rent simplement tous leurs plugins dans une seule catÃ©gorie et, en gÃ©nÃ©ral, c'est normal.  Choisissez n'importe quel nom que vous aimez;  Je continuerai Ã  utiliser foobar.  En thÃ©orie, vous pouvez Ã©galement crÃ©er plusieurs catÃ©gories, par exemple <code>~/.vim/pack/navigation</code> et <code>~/.vim/pack/linting</code> .  Veuillez noter que Vim ne reconnaÃ®t pas la duplication entre les catÃ©gories et tÃ©lÃ©charge les doublons deux fois s'ils existent. <br><br>  Les packages dans "start" sont chargÃ©s automatiquement, tandis que les packages dans "opt" ne sont pas chargÃ©s tant qu'ils ne proviennent pas de Vim en utilisant la commande <code>:packadd</code> .  Cette option est bonne pour les packages rarement utilisÃ©s et est prise en charge par Vim prÃªte Ã  l'emploi, sans avoir Ã  exÃ©cuter de scripts.  Notez que <code>:packadd</code> pas d'Ã©quivalent pour dÃ©charger les paquets. <br><br>  Pour revoir cet exemple, nous ajouterons le plugin de recherche floue ctrlp Ã  opt.  TÃ©lÃ©chargez et dÃ©compressez sa derniÃ¨re version sur: <br><br><pre> <code class="xml hljs">curl -L https://github.com/kien/ctrlp.vim/archive/1.79.tar.gz \ | tar zx -C ~/.vim/pack/foobar/opt</code> </pre> <br>  Cette commande crÃ©era le <code>~ / .vim / pack / foobar / opt / ctrlp.vim-1.79</code> package prÃªt Ã  l'emploi.  Revenez Ã  vim et crÃ©ez les pointeurs de balises d'aide (index helptags) pour le nouveau package: <br><br><pre> <code class="xml hljs">:helptags ~/.vim/pack/foobar/opt/ctrlp.vim-1.79/doc</code> </pre> <br>  Cette commande crÃ©era un fichier appelÃ© Â«balisesÂ» dans le dossier avec les tris de packages, qui rendra les thÃ¨mes disponibles pour la visualisation dans le systÃ¨me interne de Vim.  Autre moyen: exÃ©cutez helptags ALL aprÃ¨s avoir tÃ©lÃ©chargÃ© le package, et la commande prendra en charge tous les fichiers et leurs chemins d'exÃ©cution. <br>  Lorsque vous souhaitez utiliser un package, tÃ©lÃ©chargez-le simplement et n'oubliez pas que dans ce cas, la rÃ©siliation fonctionne Ã  l'aide d'onglets, vous n'avez donc pas besoin d'entrer le nom complet: <br><br><pre> <code class="xml hljs">:packadd ctrlp.vim-1.79</code> </pre> <br>  Le rÃ©pertoire de base de Packadd se trouve dans le runtimepath, ce qui lui permet d'utiliser les scripts de son plugin et ftdetect.  AprÃ¨s avoir chargÃ© ctrlp, vous pouvez utiliser la commande CTRL-P pour ouvrir la recherche de fichiers par correspondance partielle. <br><br>  Certaines personnes gardent une trace de leur rÃ©pertoire ~ / .vim et utilisent git pour contrÃ´ler la version de chaque paquet.  Pour ma part, je viens de dÃ©compresser les packages des archives tar et de les suivre manuellement via le rÃ©fÃ©rentiel.  Si vous utilisez des packages suffisamment matures qui ne nÃ©cessitent pas de mises Ã  jour frÃ©quentes, ainsi que des scripts, ils sont assez petits et n'encombrent pas l'historique git. <br><br><h2>  Sauvegardes et restaurations de versions </h2><br>  En fonction de vos prÃ©fÃ©rences utilisateur, Vim peut vous protÃ©ger contre quatre causes possibles de perte de donnÃ©es: <br><br><ol><li>  Crash lors de l'Ã©dition (entre les sauvegardes).  Vim peut se protÃ©ger contre cela en enregistrant pÃ©riodiquement les modifications apportÃ©es au fichier d'Ã©change. </li><li>  Protection contre la modification du mÃªme fichier avec deux instances Vim, protection contre l'Ã©crasement des modifications apportÃ©es via une ou plusieurs instances.  Cela se fait Ã©galement via le fichier d'Ã©change. </li><li>  Ã‰chec lors du processus d'enregistrement lui-mÃªme aprÃ¨s la modification du fichier final, mais jusqu'Ã  ce que le nouveau contenu soit complÃ¨tement Ã©crit.  Vim peut vous en protÃ©ger grÃ¢ce Ã  la fonction d'Ã©criture diffÃ©rÃ©e.  Pour ce faire, il crÃ©e en cours de sauvegarde un nouveau fichier, qui remplace ensuite l'original, si tout s'est bien passÃ©.  La mÃ©thode de remplacement est dÃ©terminÃ©e par le paramÃ¨tre de copie de sauvegarde. </li><li>  Sauvegarde du nouveau contenu du fichier Ã  condition que l'original soit restaurÃ©.  Vim vous permet d'enregistrer une copie de sauvegarde d'un fichier aprÃ¨s avoir apportÃ© des modifications. </li></ol><br>  Mais avant de commencer Ã  explorer ces paramÃ¨tres intelligents, que diriez-vous de quelques blagues?  Voici quelques exemples de commentaires provenant de fichiers vimrc sur GitHub: <br><br>  Â«Ne crÃ©ez pas de fichier d'Ã©change.  GÃ©rez tout grÃ¢ce au contrÃ´le de version. Â» <br>  Â«Sauvegardes pour les exilÃ©s.  Utilisez le contrÃ´le de version. " <br>  "Seul contrÃ´le de version!"  Seulement hardcore! â€ <br>  "Nous vivons dans un monde de contrÃ´le de version, donc les Ã©changes et les sauvegardes sont Ã  la poubelle." <br>  "Pourquoi avez-vous besoin de fichiers de sauvegarde si le contrÃ´le de version est suffisant." <br>  "Je n'ai jamais utilisÃ© de fichiers de sauvegarde Vim ... Utilisez le contrÃ´le de version." <br>  "La plupart des choses peuvent Ãªtre trouvÃ©es grÃ¢ce au contrÃ´le de version." <br>  Msgstr "DÃ©sactivez les sauvegardes de fichiers, car vous utilisez toujours le systÃ¨me de contrÃ´le de version;)". <br>  "Et le contrÃ´le de version est venu, et Git nous a sauvÃ©s." <br>  Â«DÃ©sactiver les fichiers d'Ã©change et le systÃ¨me de sauvegarde.  Utilisez toujours le contrÃ´le de version!  TOUJOURS! â€ <br>  "Je n'ai pas besoin d'une sauvegarde, car je travaille avec le contrÃ´le de version." <br><br>  L'ironie est que les commentaires ci-dessus ne reflÃ¨tent qu'une comprÃ©hension du quatriÃ¨me et, en partie, du troisiÃ¨me type d'Ã©chec.  Si vous refusez le fichier d'Ã©change et la sauvegarde, vous perdrez la protection dans le cas dÃ©crit aux paragraphes 1 et 2. <br><br>  Voici un exemple de configuration que je recommande pour un fonctionnement sÃ»r: <br><br><pre> <code class="xml hljs">" Protect changes between writes. Default values of " updatecount (200 keystrokes) and updatetime " (4 seconds) are fine set swapfile set directory^=~/.vim/swap// " protect against crash-during-write set writebackup " but do not persist backup after successful write set nobackup " use rename-and-write-new method whenever safe set backupcopy=auto " patch required to honor double slash at end if has("patch-8.1.0251") " consolidate the writebackups -- not a big " deal either way, since they usually get deleted set backupdir^=~/.vim/backup// end " persist the undo tree for each file set undofile set undodir^=~/.vim/undo//</code> </pre> <br>  Ces paramÃ¨tres incluent des sauvegardes pour les enregistrements incomplets, mais n'enregistrent pas les fichiers une fois l'opÃ©ration terminÃ©e avec succÃ¨s, car nous avons le contrÃ´le de version, le meilleur contrÃ´le de version, bla bla bla, etc.  etc.  Veuillez noter que vous pourriez avoir besoin de mkdir ~ / .vim / {swap, undodir, backup}, sinon Vim accÃ¨dera au prochain dossier lisible.  Vous devrez Ã©galement probablement exÃ©cuter la commande chmod sur les dossiers cibles afin que leur contenu soit privÃ©, car les fichiers d'Ã©change et l'historique de sauvegarde peuvent contenir des informations sensibles. <br><br>  Il convient de noter que la caractÃ©ristique de nos chemins de configuration est qu'ils se ferment toujours avec une barre oblique.  Cette orthographe permet Ã  la fonction d'Ã©liminer toute ambiguÃ¯tÃ© possible dans les chemins des fichiers de pagination et de sauvegarde pour les fichiers portant les mÃªmes noms, qui se trouvent dans des rÃ©pertoires diffÃ©rents.  Par exemple, le fichier d'Ã©change pour / foo / bar sera enregistrÃ© dans ~ / .vim / swap /% foo% bar.swp (j'ai Ã©chappÃ© aux barres obliques avec des signes de pourcentage).  Il y avait un bogue dans le correctif Vim rÃ©cent qui empÃªchait la barre oblique d'Ãªtre prise en compte pour backupdir, donc la protection contre celle-ci est montrÃ©e ci-dessus. <br><br>  Notre Vim enregistre Ã©galement l'historique de restauration pour chaque fichier, vous pouvez donc restaurer la version correcte mÃªme aprÃ¨s avoir quittÃ© le mode d'Ã©dition.  Bien qu'une telle fonction puisse sembler redondante dans le contexte du fichier d'Ã©change que nous avons dÃ©jÃ , l'historique de restauration est une ligne de dÃ©fense supplÃ©mentaire pendant l'enregistrement du fichier. <br><br>  Lorsque nous parlons de restauration, il convient de rappeler que Vim prend en charge une arborescence complÃ¨te de l'historique des modifications de fichiers.  Cela signifie que vous pouvez apporter une modification, l'annuler, puis rÃ©pÃ©ter les mÃªmes modifications Ã  nouveau, et tout cela correspondra Ã  trois points de rÃ©cupÃ©ration diffÃ©rents.  L'heure et l'Ã©tendue des modifications apportÃ©es peuvent Ãªtre vÃ©rifiÃ©es Ã  l'aide de la commande undolist, mais il est problÃ©matique d'en extraire l'arborescence.                 :     5 ,      .     ,        â€”  ,  undotree â€”  . <br><br>              .                .   :        .       ,    . <br><br>     :      ,      ,vim         .       nowritebackup,        ,      .     ,   Vim      ,     .    backupskip        . <br><br>  Â«patchmodeÂ» Vim      .      ,     . ,     tar-,        ,     git.  set patchmod = .orig   foo-      foo.orig. <br><br><h2> Include  path </h2><br>      (include)      . Vim     path, include, suffixesadd,  includeexpr.    (. help include-search) â€”       ctags   . <br><br>         .    ,       .           ,     <code>help include</code> . <br><br>    ,    <code>[i</code>  ,    ,    <code>[d</code>    .    <code>gf</code>    Vim     .       :find,      <code>**/*</code>         ,    .       , ..   ,       . <br><br>        ,      .     (      )         CTRL-D.    . <br><br><pre> <code class="xml hljs">" fuzzy-find lite nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Leader</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">space</span></span></span><span class="hljs-tag">&gt;</span></span> :e ./**/</code> </pre> <br>   :  path     (headers) .     ,   : checkpath,  ,   .     C   checkpath.     ,     ,       .   ,  checkpath      ,   . <br><br>      <code>Â«., / Usr / include ,,Â»</code> .  ,     â€”  /usr/include,        .       ,     <code>:help file-searching</code> . <br><br>   ftplugin   (  )      ,    . : ./src/include  ./include. <br><br><pre> <code class="xml hljs">setlocal path=.,,*/include/**3,./*/include/**3 setlocal path+=/usr/include</code> </pre> <br>   <code>Â«**3Â»</code> â€”      .    ,    .  ,      . <br><br>     ,        ,  :checkpath ,      . , ,       . <br><br>   : <code>:he [, :he gf, :he :find</code> . <br><br><hr><br> <i>  .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477768/">https://habr.com/ru/post/fr477768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477754/index.html">Comparez micro: bit avec Arduino. Et comment obtenir gratuitement micro: bit si vous n'Ãªtes pas Ã©tudiant en anglais?</a></li>
<li><a href="../fr477756/index.html">Comment nous avons Ã©pousÃ© deux systÃ¨mes CRM bancaires</a></li>
<li><a href="../fr477758/index.html">Â«Docteur, retirez cela du projet de loiÂ»: comment nous avons cherchÃ© des services illÃ©gaux Ã  VHI</a></li>
<li><a href="../fr477760/index.html">SberX RamblerFront & Meet Up: comment c'Ã©tait</a></li>
<li><a href="../fr477766/index.html">Application du mode de cryptage des cartes SL3 MIfare sur l'exemple d'une entreprise</a></li>
<li><a href="../fr477770/index.html">Allumez la lumiÃ¨re par le pouvoir de la pensÃ©e, enfin presque</a></li>
<li><a href="../fr477774/index.html">RÃ©union de conception au bureau de Saint-PÃ©tersbourg de Wrike le 5 dÃ©cembre</a></li>
<li><a href="../fr477778/index.html">Historique du processeur vidÃ©o, partie 2: 3Dfx Voodoo</a></li>
<li><a href="../fr477780/index.html">Ã‰crire votre propre CLI pour React</a></li>
<li><a href="../fr477782/index.html">DJI Mavic Mini et la loi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>