<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👈🏿 🎬 🤲🏿 So übernehmen Sie die Kontrolle über Ihre Netzwerkinfrastruktur. Kapitel Drei Netzwerksicherheit. Teil zwei 🏇🏼 🙉 ℹ️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist der vierte in einer Reihe von Artikeln, „Wie Sie die Netzwerkinfrastruktur unter Ihre Kontrolle bringen“. Den Inhalt aller Artikel ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So übernehmen Sie die Kontrolle über Ihre Netzwerkinfrastruktur. Kapitel Drei Netzwerksicherheit. Teil zwei</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436230/">  <i>Dieser Artikel ist der vierte in einer Reihe von Artikeln, „Wie Sie die Netzwerkinfrastruktur unter Ihre Kontrolle bringen“.</i>  <i>Den Inhalt aller Artikel der Reihe und Links finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a></i> . <br><br>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Teil</a> dieses Kapitels haben wir einige Aspekte der Netzwerksicherheit des Data Center-Segments untersucht.  Dieser Teil ist dem Segment „Internetzugang“ gewidmet. <br><br><img src="https://habrastorage.org/webt/90/cg/fg/90cgfgwjckdeac9trcmr6gifhcy.png" alt="Bild"><br><br><h1>  Internetzugang </h1><br>  Sicherheit ist zweifellos eines der komplexesten Themen in der Welt der Datennetze.  Wie in früheren Fällen werde ich hier, ohne vorzutäuschen, dass es sich um Tiefe und Vollständigkeit handelt, ganz einfach betrachten, aber meiner Meinung nach wichtige Fragen, deren Antworten hoffentlich dazu beitragen werden, das Sicherheitsniveau Ihres Netzwerks zu erhöhen. <br><br>  Beachten Sie bei der Prüfung dieses Segments die folgenden Aspekte: <br><br><ul><li>  Design </li><li>  BGP-Einstellungen </li><li>  DOS / DDOS-Schutz </li><li>  Firewall-Verkehrsfilterung </li></ul><a name="habracut"></a><br><h3>  Design </h3><br>  Als Beispiel für das Design dieses Segments für das Unternehmensnetzwerk würde ich einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leitfaden</a> von Cisco innerhalb des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SAFE-Modells</a> empfehlen. <br><br>  Natürlich erscheint Ihnen die Lösung anderer Anbieter vielleicht attraktiver (siehe den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gartner-Quadranten für 2018</a> ), aber ohne Sie zu drängen, diesem Entwurf im Detail zu folgen, finde ich es dennoch nützlich, die zugrunde liegenden Prinzipien und Ideen zu verstehen. <br><blockquote>  <b>Bemerkung</b> <br><br>  In SAFE ist das RAS-Segment Teil des Internetzugangs.  Aber in dieser Artikelserie werden wir es separat betrachten. </blockquote>  Die Standardausrüstung in diesem Segment für ein Unternehmensnetzwerk ist <br><br><ul><li>  Grenzrouter </li><li>  Firewalls </li></ul><br><blockquote>  <b>Bemerkung 1</b> <br><br>  Wenn ich in dieser Artikelserie über Firewalls <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">spreche</a> , meine ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NGFW</a> . </blockquote><blockquote>  <b>Bemerkung 2</b> <br><br>  Ich verzichte auf die Berücksichtigung verschiedener Arten von L2 / L1- oder Overlay-L2-über-L3-Lösungen, die zur Gewährleistung der L1 / L2-Konnektivität erforderlich sind, und beschränke mich auf Fragen der Stufe L3 und höher.  Teilweise wurden L1 / L2-Probleme im Kapitel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reinigung und Dokumentation</a> " behandelt. </blockquote>  Wenn Sie in diesem Segment keine Firewall gefunden haben, sollten Sie keine Schlussfolgerungen ziehen. <br><br>  Beginnen wir wie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherigen Teil</a> mit der Frage: Ist es in Ihrem Fall erforderlich, in diesem Segment eine Firewall zu verwenden? <br><br>  Ich kann sagen, dass dies der gerechtfertigtste Ort für die Verwendung von Firewalls und die Anwendung komplexer Algorithmen zur Verkehrsfilterung ist.  In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1 haben</a> wir 4 Faktoren erwähnt, die die Verwendung von Firewalls im Rechenzentrumsegment beeinträchtigen können.  Aber hier sind sie nicht so bedeutend. <br><blockquote>  Beispiel 1. <b>Verzögerung</b> <br><br>  Für das Internet macht es keinen Sinn, über Verzögerungen in der Größenordnung von 1 Millisekunde zu sprechen.  Daher kann die Verzögerung in diesem Segment kein Faktor sein, der den Einsatz von Feuerwerkskörpern einschränkt. </blockquote><blockquote>  Beispiel 2. <b>Leistung</b> <br><br>  In einigen Fällen kann dieser Faktor immer noch signifikant sein.  Daher müssen Sie möglicherweise einen Teil des Datenverkehrs (z. B. Load Balancer-Datenverkehr) die Firewall umgehen lassen. </blockquote><blockquote>  Beispiel 3. <b>Zuverlässigkeit</b> <br><br>  Dieser Faktor muss noch berücksichtigt werden, doch angesichts der Unzuverlässigkeit des Internets selbst ist seine Bedeutung für dieses Segment nicht so wichtig wie für das Rechenzentrum. <br><br>  Angenommen, Ihr Dienst wird über http / https (mit kurzen Sitzungen) ausgeführt.  In diesem Fall können Sie zwei unabhängige Boxen (ohne HA) verwenden und bei Problemen mit einer dieser Boxen den gesamten Datenverkehr auf die zweite übertragen. <br><br>  Sie können auch Firewalls im Transperence-Modus verwenden und bei einem Ausfall zulassen, dass der Datenverkehr die Firewalls umgeht, während das Problem gelöst wird. </blockquote>  Daher ist es höchstwahrscheinlich nur der <b>Preis,</b> der Sie dazu zwingen kann, die Verwendung von Firewalls in diesem Segment aufzugeben. <br><blockquote>  <b>Wichtig!</b> <br><br>  Es besteht die Versuchung, diese Firewall mit der Firewall des Rechenzentrums zu kombinieren (verwenden Sie eine Firewall für diese Segmente).  Die Lösung ist im Prinzip möglich, aber gleichzeitig müssen Sie das seitdem verstehen  Die Firewall "Internetzugang" steht tatsächlich an vorderster Front Ihrer Verteidigung und "übernimmt" zumindest einen Teil des böswilligen Datenverkehrs. Dann müssen Sie natürlich das erhöhte Risiko berücksichtigen, dass diese Firewall deaktiviert wird.  Das heißt, wenn Sie dieselben Geräte in diesen beiden Segmenten verwenden, verringern Sie die Verfügbarkeit Ihres Rechenzentrumsegments erheblich. </blockquote>  Wie üblich müssen Sie verstehen, dass das Design dieses Segments je nach Service des Unternehmens sehr unterschiedlich sein kann.  Sie können wie gewohnt je nach Anforderung unterschiedliche Ansätze wählen. <br><blockquote>  <b>Beispiel</b> <br><br>  Wenn Sie ein Inhaltsanbieter mit einem CDN-Netzwerk sind (siehe z. B. eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reihe von Artikeln</a> ), möchten Sie möglicherweise nicht Dutzende oder sogar Hunderte von Infrastrukturpräsenzpunkten mit separaten Geräten zum Weiterleiten und Filtern des Datenverkehrs erstellen.  Es wird teuer und möglicherweise überflüssig. <br><br>  Für BGP benötigen Sie überhaupt keine dedizierten Router. Sie können Open-Source-Tools verwenden, z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quagga</a> .  Daher benötigen Sie möglicherweise nur einen Server oder mehrere Server, einen Switch und BGP. <br><br>  In diesem Fall können Ihr Server oder mehrere Server nicht nur die Rolle des CDN-Servers, sondern auch des Routers spielen.  Natürlich gibt es noch viele Details (zum Beispiel, wie ein Ausgleich sichergestellt werden kann), aber dies ist machbar, und wir haben diesen Ansatz erfolgreich für einen unserer Partner angewendet. <br><br>  Sie können mehrere Rechenzentren mit umfassendem Schutz (Firewalls, DDOS-Schutzdienste, die von Ihren Internetanbietern bereitgestellt werden) und Dutzende oder Hunderte von „vereinfachten“ Präsenzpunkten mit nur L2-Switches und -Servern haben. <br><br>  Aber was ist mit dem Schutz in diesem Fall? <br><br>  Schauen wir uns zum Beispiel den jüngsten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DDOS-Angriff</a> zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DNS-Verstärkung an</a> .  Die Gefahr liegt in der Tatsache, dass eine große Menge an Verkehr generiert wird, der einfach 100% aller Ihrer Uplinks „verstopft“. <br><br>  Was wir bei unserem Design haben. <br><br><ul><li>  Wenn Sie AnyCast verwenden, wird der Datenverkehr auf Ihre Präsenzpunkte verteilt.  Wenn Sie Terabit mit einer Gesamtbandbreite haben, schützt Sie dies an sich (tatsächlich gab es in letzter Zeit mehrere Angriffe mit böswilligem Datenverkehr in der Größenordnung von Terabit) vor überfüllten Uplinks </li><li>  Wenn dennoch einige Uplinks "verstopft" sind, nehmen Sie diese Plattform einfach außer Betrieb (hören Sie auf, das Präfix anzukündigen). </li><li>  Sie können auch den Anteil des Datenverkehrs erhöhen, der von Ihren „vollwertigen“ (und entsprechend geschützten) Rechenzentren geliefert wird, und so einen erheblichen Teil des böswilligen Datenverkehrs von ungeschützten Präsenzpunkten entfernen </li></ul><br>  Und noch eine kleine Bemerkung zu diesem Beispiel.  Wenn Sie genügend Datenverkehr über IXs senden, verringert dies auch Ihre Gefährdung durch solche Angriffe. </blockquote><h3>  Konfigurieren Sie BGP </h3><br>  Es gibt zwei Themen. <br><br><ul><li>  Konnektivität </li><li>  Konfigurieren Sie BGP </li></ul><br>  Wir haben bereits in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> ein wenig über Konnektivität gesprochen.  Das Fazit ist, dass der Verkehr zu Ihren Kunden den besten Weg geht.  Bei der Optimalität geht es zwar nicht immer nur um Verzögerung, aber normalerweise ist die geringe Latenz der Hauptindikator für die Optimalität.  Für einige Unternehmen ist dies wichtiger, für andere weniger.  Es hängt alles von dem Service ab, den Sie anbieten. <br><blockquote>  <b>Beispiel 1</b> <br><br>  Wenn Sie ein Austausch sind und Zeitintervalle von weniger als Millisekunden für Ihre Kunden wichtig sind, kann natürlich überhaupt nicht über Internet gesprochen werden. </blockquote><blockquote>  <b>Beispiel 2</b> <br><br>  Wenn Sie ein Spieleunternehmen sind und Ihnen zehn Millisekunden wichtig sind, ist Ihnen natürlich die Konnektivität sehr wichtig. </blockquote><blockquote>  <b>Beispiel 3</b> <br><br>  Sie müssen auch verstehen, dass aufgrund der Eigenschaften des TCP-Protokolls die Datenübertragungsrate innerhalb einer TCP-Sitzung auch von RTT (Round Trip Time) abhängt.  Es werden auch CDN-Netzwerke aufgebaut, um dieses Problem zu lösen und die Inhaltsverteilungsserver dem Verbraucher dieser Inhalte näher zu bringen. </blockquote>  Das Studium der Konnektivität ist ein separates interessantes Thema, das eines separaten Artikels oder einer Reihe von Artikeln würdig ist und ein gutes Verständnis dafür erfordert, wie das Internet „angeordnet“ ist. <br><br>  Nützliche Ressourcen: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ripe.net</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bgp.he.net</a> <br><blockquote>  <b>Beispiel</b> <br><br>  Ich werde nur ein kleines Beispiel geben. <br><br>  Angenommen, Ihr Rechenzentrum befindet sich in Moskau und Sie haben den einzigen Uplink - Rostelecom (AS12389).  In diesem Fall benötigen Sie kein (Single Homed) BGP und verwenden höchstwahrscheinlich den Adresspool von Rostelecom als öffentliche Adressen. <br><br>  Angenommen, Sie bieten einen bestimmten Service an und haben eine ausreichende Anzahl von Kunden aus der Ukraine, die sich über große Verzögerungen beschweren.  In der Studie haben Sie festgestellt, dass sich die IP-Adressen einiger von ihnen im Netzwerk 37.52.0.0/21 befinden. <br><br>  Bei der Traceroute haben Sie festgestellt, dass der Datenverkehr über AS1299 (Telia) geleitet wird, und beim Ping haben Sie eine durchschnittliche RTT von 70 bis 80 Millisekunden erhalten.  Sie können es auch auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spiegel von Rostelecom sehen</a> . <br><br>  Mit dem Dienstprogramm whois (auf ripe.net oder einem lokalen Dienstprogramm) können Sie leicht feststellen, dass Block 37.52.0.0/21 zu AS6849 (Ukrtelecom) gehört. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wenn</a> Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bgp.he.net</a> gehen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sehen</a> Sie, dass AS6849 keine Beziehung zu AS12389 hat (sie sind weder Clients noch Uplinks zueinander, sie haben auch kein Peering).  Wenn Sie sich jedoch die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Liste der Peers</a> für AS6849 ansehen, sehen Sie beispielsweise AS29226 (Mastertel) und AS31133 (Megafon). <br><br>  Indem Sie den Spiegel dieser Anbieter finden, können Sie den Pfad und die RTT vergleichen.  Für Mastertel RTT sind es beispielsweise bereits etwa 30 Millisekunden. <br><br>  Wenn der Unterschied zwischen 80 und 30 Millisekunden für Ihren Dienst erheblich ist, müssen Sie möglicherweise über die Konnektivität nachdenken, Ihre AS-Nummer und Ihren Adresspool in RIPE abrufen und zusätzliche Uplinks verbinden und / oder Präsenzpunkte auf IXs erstellen. </blockquote><br>  Bei Verwendung von BGP haben Sie nicht nur die Möglichkeit, die Konnektivität zu verbessern, sondern auch Ihre Internetverbindung zu reservieren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dieses Dokument</a> enthält Empfehlungen zur Konfiguration von BGP.  Trotz der Tatsache, dass diese Empfehlungen auf der Grundlage der „Best Practice“ der Anbieter entwickelt wurden, sind sie (wenn Ihre BGP-Einstellungen nicht sehr elementar sind) zweifellos nützlich und sollten tatsächlich Teil der im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Teil</a> erörterten Härtung sein. <br><br><h3>  DOS / DDOS-Schutz </h3><br>  Jetzt sind DOS / DDOS-Angriffe für viele Unternehmen zur täglichen Realität geworden.  Tatsächlich werden Sie in der einen oder anderen Form ziemlich oft angegriffen.  Die Tatsache, dass Sie dies noch nicht bemerken, bedeutet nur, dass ein gezielter Angriff auf Sie noch nicht organisiert wurde und dass die von Ihnen verwendeten Abwehrmechanismen, möglicherweise auch ohne es zu ahnen (verschiedene integrierte Abwehrmechanismen von Betriebssystemen), ausreichend, damit die Verschlechterung des erbrachten Service für Sie und Ihre Kunden minimiert wird. <br><br>  Es gibt Internet-Ressourcen, die basierend auf den Protokollen der Geräte wunderschöne Angriffskarten in Echtzeit zeichnen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier</a> finden Sie Links zu ihnen. <br><br>  Meine Lieblingskarte von CheckPoint. <br><br>  Der DDOS / DOS-Schutz ist normalerweise mehrschichtig.  Um zu verstehen, warum, müssen Sie verstehen, welche Arten von DOS / DDOS-Angriffen existieren (siehe zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ). <br><br>  Das heißt, wir haben drei Arten von Angriffen: <br><br><ul><li>  volumetrische Angriffe </li><li>  Protokollangriffe </li><li>  Anwendungsangriffe </li></ul><br>  Wenn Sie sich selbst vor den letzten beiden Arten von Angriffen schützen können, indem Sie beispielsweise Firewalls verwenden, werden Sie nicht vor Angriffen geschützt, die darauf abzielen, Ihre Uplinks zu überlaufen (natürlich, wenn Ihre Gesamtkapazität der Internetkanäle nicht in Terabit, sondern besser in Dutzenden berechnet wird Terabit). <br><br>  Daher ist die erste Verteidigungslinie der Schutz vor "volumetrischen" Angriffen, und Ihr Anbieter oder Ihre Anbieter sollten diesen Schutz bieten.  Wenn Sie dies noch nicht erkannt haben, haben Sie vorerst nur Glück. <br><blockquote>  <b>Beispiel</b> <br><br>  Angenommen, Sie haben mehrere Uplinks, aber nur einer der Anbieter kann Ihnen diesen Schutz bieten.  Aber wenn der gesamte Datenverkehr über einen Anbieter geleitet wird, was ist dann mit der Konnektivität, die wir kurz zuvor kurz besprochen haben? <br><br>  In diesem Fall müssen Sie die Konnektivität während des Angriffs teilweise opfern.  Aber <br><br><ul><li>  Dies gilt nur für die Dauer des Angriffs.  Im Falle eines Angriffs können Sie BGP manuell oder automatisch neu konfigurieren, sodass der Datenverkehr nur über den Anbieter geleitet wird, der Ihnen den "Regenschirm" zur Verfügung stellt.  Nach dem Ende des Angriffs können Sie das Routing auf den vorherigen Status zurücksetzen. </li><li>  Es ist nicht erforderlich, den gesamten Datenverkehr zu übersetzen.  Wenn Sie beispielsweise feststellen, dass durch einige Uplinks oder Peerings kein Angriff erfolgt (oder der Datenverkehr nicht signifikant ist), können Sie weiterhin Präfixe mit Wettbewerbsattributen in Richtung dieser BGP-Nachbarn ankündigen. </li></ul></blockquote><br>  Sie können Partner auch vor "Protokollangriffen" und "Anwendungsangriffen" schützen. <br>  Hier können Sie eine gute Studie ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Übersetzung</a> ) lesen.  Der Artikel ist zwar vor zwei Jahren, aber dies gibt Ihnen eine Vorstellung von Ansätzen, wie Sie sich vor DDOS-Angriffen schützen können. <br><br>  Grundsätzlich können Sie sich darauf beschränken, indem Sie Ihren Schutz vollständig auslagern.  Diese Lösung hat Pluspunkte, aber ein offensichtliches Minus.  Tatsache ist, dass wir (je nachdem, was Ihr Unternehmen tut) über das Überleben des Geschäfts sprechen können.  Und vertrauen Sie solchen Dingen Dritten ... <br><br>  Schauen wir uns daher an, wie eine zweite und dritte Verteidigungslinie organisiert werden (als Ergänzung zum Schutz vor dem Anbieter). <br><br>  Die zweite Verteidigungslinie sind Filter und Polizisten am Eingang Ihres Netzwerks. <br><blockquote>  <b>Beispiel 1</b> <br><br>  Angenommen, Sie haben mit einem der Anbieter von DDOS „mit einem Regenschirm geschlossen“.  Angenommen, dieser Anbieter verwendet Arbor, um Datenverkehr und Filter am Rand seines Netzwerks zu filtern. <br><br>  Das Band, das Arbor „handhaben“ kann, ist begrenzt, und der Anbieter kann natürlich nicht ständig den Verkehr aller seiner Partner, die diesen Service bestellt haben, über Filtergeräte weiterleiten.  Daher wird der Verkehr unter normalen Bedingungen nicht gefiltert. <br><br>  Angenommen, ein SYN-Flutangriff ist im Gange.  Selbst wenn Sie einen Dienst bestellt haben, bei dem im Falle eines Angriffs der Datenverkehr automatisch auf Filterung umgeschaltet wird, geschieht dies nicht sofort.  Sie bleiben eine Minute oder länger angegriffen.  Dies kann zum Ausfall Ihrer Geräte oder zur Verschlechterung des Service führen.  In diesem Fall führt die Einschränkung des Datenverkehrs auf dem Grenzrouting zwar dazu, dass einige TCP-Sitzungen während dieser Zeit nicht eingerichtet werden, Ihre Infrastruktur jedoch vor größeren Problemen geschützt wird. </blockquote><blockquote>  <b>Beispiel 2</b> <br><br>  Eine ungewöhnlich große Anzahl von SYN-Paketen ist möglicherweise nicht nur das Ergebnis eines SYN-Flood-Angriffs.  Nehmen wir an, Sie stellen einen Dienst bereit, bei dem Sie gleichzeitig ungefähr 100.000 TCP-Verbindungen (in einem Rechenzentrum) haben können. <br><br>  Angenommen, aufgrund eines kurzfristigen Problems mit einem Ihrer Hauptanbieter hat Sie die Hälfte der Sitzungen „gekickt“.  Wenn Ihre Anwendung so konzipiert ist, dass sie ohne nachzudenken sofort (oder nach einem identischen Zeitintervall für alle Sitzungen) versucht, die Verbindung wiederherzustellen, erhalten Sie ungefähr gleichzeitig mindestens 50.000 SYN-Pakete. <br><br>  Wenn Sie zusätzlich zu diesen Sitzungen beispielsweise einen ssl / tls-Handshake haben sollten, bei dem Zertifikate ausgetauscht werden, ist dies unter dem Gesichtspunkt, dass Ihnen die Ressourcen für Ihren Load Balancer ausgehen, ein viel stärkeres "DDOS" als eine einfache SYN-Flut.  Es scheint, dass Balancer ein solches Ereignis ausarbeiten sollten, aber ... leider standen wir bei vollem Wachstum vor einem solchen Problem. <br><br>  Und natürlich wird der Polizist am Grenzrouter auch in diesem Fall Ihre Ausrüstung retten. </blockquote>  Die dritte Schutzstufe gegen DDOS / DOS sind die Einstellungen Ihrer Firewall. <br><br>  Hier können Sie beide Angriffe des zweiten und dritten Typs stoppen.  Im Allgemeinen kann hier alles gefiltert werden, was die Firewall erreicht. <br><blockquote>  <b>Tipp</b> <br><br>  Versuchen Sie, der Firewall so wenig Arbeit wie möglich zu geben, indem Sie so viel wie möglich nach den ersten beiden Verteidigungslinien filtern.  Und hier ist warum. <br><br>  Es ist Ihnen nicht passiert, dass Sie versehentlich, indem Sie Datenverkehr generieren, um beispielsweise zu überprüfen, wie widerstandsfähig Ihre DDOS-Angriffe gegen das Betriebssystem sind, Ihre Firewall "getötet" und zu 100 Prozent mit Datenverkehr normaler Intensität geladen haben?  Wenn nicht, dann vielleicht nur, weil Sie es nicht ausprobiert haben? <br><br>  Im Allgemeinen ist eine Firewall, wie gesagt, eine komplizierte Sache, und sie funktioniert gut mit bekannten Schwachstellen und getesteten Lösungen. Wenn Sie jedoch etwas Ungewöhnliches senden, nur etwas Müll oder Pakete mit falschen Headern, dann mit einigen Mit einer so geringen Wahrscheinlichkeit (basierend auf meiner Erfahrung) können Sie Top-End-Geräte in einen Stupor einführen.  Verwenden Sie daher in Schritt 2 unter Verwendung regulärer ACLs (auf L3 / L4-Ebene) nur den Datenverkehr in Ihr Netzwerk. </blockquote><h3>  Firewall-Verkehrsfilterung </h3><br>  Wir setzen das Gespräch über die Firewall fort.  Sie müssen verstehen, dass DOS / DDOS-Angriffe nur eine Art von Cyber-Angriffen sind. <br><br>  Zusätzlich zum DOS / DDOS-Schutz können wir noch so etwas wie die folgende Liste von Funktionen haben: <br><br><ul><li>  Anwendungs-Firewall </li><li>  Bedrohungsprävention (Antivirus, Anti-Spyware und Sicherheitslücke) </li><li>  URL-Filterung </li><li>  Datenfilterung (Inhaltsfilterung) </li><li>  Dateiblockierung (Blockierung von Dateitypen) </li></ul><br>  Es liegt an Ihnen, was Sie von dieser Liste benötigen. <br><br>  <i>Fortsetzung folgt</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436230/">https://habr.com/ru/post/de436230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436218/index.html">Content Marketing in beliebten Online-Medien: 5 Fehler von Startups, die vermieden werden sollten</a></li>
<li><a href="../de436220/index.html">Wie das Scoring in der Carsharing-Branche funktioniert. Teil 2. Identifizieren Sie in 5 Sekunden einen aggressiven Fahrer</a></li>
<li><a href="../de436224/index.html">Wir schreiben unsere Programmiersprache, Teil 4: Darstellung von Strukturen und Klassen, Generierung von Allokatoren</a></li>
<li><a href="../de436226/index.html">Leitfaden und Spickzettel für Wireshark</a></li>
<li><a href="../de436228/index.html">Entwicklung eines Teams zum Abfragen von Daten aus der Datenbank</a></li>
<li><a href="../de436232/index.html">Telepathie-Strategie</a></li>
<li><a href="../de436234/index.html">Haskell Applicative Parsers</a></li>
<li><a href="../de436236/index.html">Wir verwenden Data Science, um den Lebenszyklus eines Kunden zu bestimmen</a></li>
<li><a href="../de436238/index.html">Authentifizierung in Kubernetes mit GitHub OAuth und Dex</a></li>
<li><a href="../de436240/index.html">Automatisierung gegen Chaos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>