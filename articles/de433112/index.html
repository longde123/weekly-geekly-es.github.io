<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👪 🥅 💘 Unterhaltsames JavaScript: Schneetag 🔴 😝 👲🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine weitere erfundene Aufgabe für abnormale Programmierung in JavaScript . Diesmal anlässlich des kommenden Neujahrs 2019. Ich hoffe, es wird genauso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unterhaltsames JavaScript: Schneetag</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433112/"><p><img src="https://habrastorage.org/webt/zf/ez/9p/zfez9p_xyavjo1-wdofbde446sq.jpeg" alt="Bild"></p><br><p>  Eine weitere erfundene Aufgabe für abnormale Programmierung in <strong>JavaScript</strong> .  Diesmal anlässlich des kommenden Neujahrs 2019.  Ich hoffe, es wird genauso interessant sein zu entscheiden, wie interessant es für mich war, es zu entwickeln.  Ich frage neugierig unter Katze.  Alles Champagner und alles ein Happy! </p><a name="habracut"></a><br><p>  Bisherige Aufgaben: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verschleierung der Klammer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der kürzeste Memoizer</a> </li></ul><br><h2 id="formulirovka">  Formulierung </h2><br><blockquote> Im vergangenen Jahr hat der Weihnachtsmann eine anständige Liste mit Namen normaler Entwickler zusammengestellt und plant nun, ein Glückwunschprogramm zu schreiben.  Das Format lautet: <code>happy new year, ${username}!</code>  .  Aber hier ist das Pech: Die Tastatur stürzt ab und Sie können nicht viele lateinische Zeichen eingeben.  Nach der Untersuchung des Defekts machten die Elfen eine interessante Beobachtung, dass man aus dem, was sonst noch funktioniert, einen <code>Snowing day</code> addieren kann.  Die Ausgabequelle kann nach eigenem Ermessen ausgewählt werden. </blockquote><p>  Also, am Eingang - ein Array von nicht leeren Zeichenfolgen (der Name darf nicht leer sein).  Es ist erforderlich, ein Programm nur mit lateinischen Zeichen zu schreiben: <code>S</code> , <code>n</code> , <code>o</code> , <code>w</code> , <code>i</code> , <code>g</code> , <code>d</code> , <code>a</code> , <code>y</code> (insgesamt 9 Zeichen, von denen eines in Großbuchstaben geschrieben ist).  Das Programm sollte das übergebene Array umgehen und die Phrase <code>happy new year, ${username}!</code> ausgeben <code>happy new year, ${username}!</code> für jeden Namen <code>happy new year, ${username}!</code>  Verwenden einer Ausgabequelle: <em>alert</em> , <em>console.log</em> oder was auch immer in den Sinn kommt.  Nun, es wäre schön, den globalen Kontext nicht zu verschmutzen. </p><br><h2 id="privychnoe-reshenie">  Gewohnheitsmäßige Lösung </h2><br><p>  Wenn Sie nichts erfinden, ist alles sehr einfach: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i !== users.length; i += <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${users[i]}</span></span></span><span class="hljs-string">!`</span></span>); } }</code> </pre> <br><p>  oder besser so: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">happy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ users.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">user</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`happy new year, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${user}</span></span></span><span class="hljs-string">!`</span></span>)); }</code> </pre> <br><p>  Wir verwenden mit unserem Array, lassen Sie es <em>Benutzer sein</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> users = [<span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-string"><span class="hljs-string">'Jack'</span></span>, <span class="hljs-string"><span class="hljs-string">'James'</span></span>]; happy(users); <span class="hljs-comment"><span class="hljs-comment">// happy new year, John! // happy new year, Jack! // happy new year, James!</span></span></code> </pre> <br><p>  Aber hier ist es weit hergeholt: nur erlaubte Zeichen in der lateinischen Implementierung zu verwenden.  Versuchen Sie zuerst, selbst fertig zu werden, und beteiligen Sie sich dann an der Diskussion. </p><br><h2 id="zanimatelnoe-reshenie">  Unterhaltsame Entscheidung </h2><br><p>  Ungeduldig kann die unten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">stehende</a> Lösung jetzt in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSFiddle sehen</a> . </p><br><p>  Um das Problem zu lösen, müssen Sie überschüssiges Latein im Folgenden entfernen: </p><br><ol><li>  Die Schlüsselwortfunktion in einer <em>Funktionsdeklaration</em> . </li><li>  Das Schlüsselwort <em>let</em> (oder <em>var</em> ) zum Deklarieren von Variablen. </li><li>  Schlüsselwörter beim Organisieren einer Schleife zum Durchlaufen eines übergebenen Arrays. </li><li>  Die Bildung des Textes der Nachricht. </li><li>  Rufen Sie eine Funktion auf, um das Ergebnis auszugeben. </li></ol><br><p>  Pfeilfunktionen helfen uns leicht beim ersten Problem: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr</span></span></span><span class="hljs-function"> =&gt;</span></span> el.forEach(<span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>))(users);</code> </pre> <br><p>  Wir werden Variablennamen im Moment nicht beachten, da wir sie ganz einfach ganz am Ende umbenennen können. </p><br><p>  Wir verwenden "Pfeile" mit IIFE überall dort, wo eine Funktion benötigt wird oder deren Ergebnis sofort.  Darüber hinaus können Sie mit Funktionen <em>let-</em> und <em>var-</em> Direktiven auf zwei Arten entfernen: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)(value); <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(param = value</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span>)();</code> </pre> <br><p>  In beiden Fällen deklarieren wir eine Variable in den Funktionsparametern.  Nur im ersten Fall übergeben wir den Wert, wenn die Funktion aufgerufen wird, und im zweiten Fall verwenden wir den Standardfunktionsparameter. </p><br><p>  In der Tat beginnen die Probleme mit dem <strong>dritten</strong> Punkt.  Wir haben nicht genügend Zeichen für die klassischen <em>for</em> , <em>do</em> , <em>while-</em> Schleifen oder für die Durchquerungsoptionen für <em>for..in</em> und <em>for..of</em> sowie für die Array-Methoden <em>forEach</em> , <em>map</em> , <em>filter</em> (wo Sie den Rückruf übergeben können).  Wir können unsere Iterationsfunktion jedoch über ein Array implementieren: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arr[i]) { consume(arr[i]); iter(++i); } } iter(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre> <br><p>  Wir durchlaufen die Elemente rekursiv, bis die Überprüfung des aktuellen Zustands abfällt.  Warum können wir uns hier auf logische Transformation verlassen?  Da das Element unseres Arrays keine leere Zeichenfolge ist (nur es wird <em>false</em> umbrochen), werden wir <em>undefiniert</em> (in <em>false umgewandelt</em> ), wenn wir das Array durch das Inkrement des Index verlassen. </p><br><p>  Wir schreiben die Funktion mit den Pfeilausdrücken neu: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; { </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">if</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (arr[i]</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">consume</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr[i]</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">); } }) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p>  Wir können die <em>if-Anweisung</em> jedoch nicht verwenden, da wir das Zeichen <code>f</code> nicht haben.  Damit unsere Funktion die Bedingung erfüllt, müssen wir sie loswerden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iterate = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arr, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; arr[i] ? (consume(arr[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>) )();</code> </pre> <br><p>  Der ternäre Operator und die Möglichkeit, zwei Ausdrücke durch den <em>Komma-Operator</em> zu einem zu kombinieren, haben uns dabei geholfen.  Wir werden diese Funktion später im Layout der Lösung verwenden. </p><br><p>  Das <strong>vierte</strong> Problem ist, dass wir auf jeden Fall eine Zeichenfolge mit fehlenden Zeichen benötigen.  Natürlich werden wir Zahlen verwenden, um Zeichen darzustellen.  Es gibt mehrere Möglichkeiten: </p><br><ul><li>  Eine <em>String.fromCharCode-</em> Funktion, die erwartet, dass die Ganzzahl zurückgegeben wird, und eine Zeichenfolge zurückgibt, die aus der angegebenen Unicode-Sequenz erstellt wurde. </li><li>  Mit der <code>\uhhhh</code> Sequenz <code>\uhhhh</code> können <code>\uhhhh</code> jedes Unicode-Zeichen mit dem angegebenen Hexadezimalcode ausgeben. </li><li>  Format <code>&amp;#dddd;</code>  Mit HTML-Zeichen können Sie ein Symbol im Seitendokument mit dem angegebenen Dezimalcode anzeigen. </li><li>  Die <em>toString-</em> Funktion des <em>Number-</em> Prototypobjekts verfügt über einen zusätzlichen <em>Radix-</em> Parameter - die Basis des Zahlensystems. </li><li>  Vielleicht gibt es noch etwas ... </li></ul><br><p>  Sie können sich in Richtung der ersten drei Optionen graben und jetzt die wahrscheinlich einfachste für diese Aufgabe in <em>Betracht ziehen</em> : <em>Number.prototype.toString</em> .  Der Maximalwert des <em>Radix-</em> Parameters beträgt 36 (10 Ziffern + 26 lateinische Kleinbuchstaben): </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>).toString(<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Somit können wir jedes lateinische Zeichen anhand der Zahl im Alphabet erhalten, beginnend mit 1. Die einzige Einschränkung besteht darin, dass alle Zeichen in Kleinbuchstaben geschrieben sind.  Ja, dies reicht aus, um den Text in der Nachricht anzuzeigen, aber wir können einige Methoden und Funktionen nicht hinzufügen (dasselbe gilt für <em>jede</em> ). </p><br><p>  Aber es ist zu früh, um sich zu freuen. Zuerst müssen Sie <em>toString</em> im Funktionseintrag entfernen.  Zunächst wenden wir uns der Methode wie folgt zu: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[<span class="hljs-string"><span class="hljs-string">'toString'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Wenn Sie genau hinschauen, benötigen wir für die Zeichenfolge <code>toString</code> nur zwei Zeichen: <code>t</code> und <code>r</code> : Der Rest steht im Wort <code>Snowing</code> .  Sie zu bekommen ist ziemlich einfach, da ihre Reihenfolge bereits auf <code>true</code> hinweist.  Mit impliziten Typkonvertierungen können wir diese Zeichenfolge und die benötigten Zeichen wie folgt abrufen: </p><br><pre> <code class="javascript hljs">!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'true' (!0+'')[0]; // 't' (!0+'')[1]; // 'r'</span></span></code> </pre> <br><p>  Wir erreichen die Funktion, einen lateinischen Buchstaben zu erhalten: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> symb = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sn</span></span></span><span class="hljs-function"> =&gt;</span></span> (sn + <span class="hljs-number"><span class="hljs-number">9</span></span>)[(!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + <span class="hljs-string"><span class="hljs-string">'oS'</span></span> + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] + (!<span class="hljs-number"><span class="hljs-number">0</span></span>+<span class="hljs-string"><span class="hljs-string">''</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>] + <span class="hljs-string"><span class="hljs-string">'ing'</span></span>](<span class="hljs-number"><span class="hljs-number">36</span></span>);</code> </pre> <br><p>  Um mit <em>symb</em> Wörter aus einem Array von Buchstabenfolgenummern <em>abzurufen</em> , verwenden wir die Standardfunktion <em>Array.prototype.reduce</em> : </p><br><pre> <code class="javascript hljs">[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, sn</span></span></span><span class="hljs-function">) =&gt;</span></span> res += symb(sn), <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p>  Ja, das passt nicht zu uns.  In unserer Lösung können wir jedoch mit der <em>Iterationsfunktion</em> etwas Ähnliches tun: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> word = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chars</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> (iterate(chars, ch =&gt; res += symb(ch)), res))(<span class="hljs-string"><span class="hljs-string">''</span></span>); word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]); <span class="hljs-comment"><span class="hljs-comment">// 'abc'</span></span></code> </pre> <br><p>  Aufmerksame Leute werden feststellen, dass wir die <em>Iterationsfunktion</em> für ein Array von Zeichenfolgen entwickelt haben, aber wir verwenden sie hier mit Zahlen.  Aus diesem Grund ist der Anfangsindex unseres Alphabets 1 und nicht 0. Andernfalls würde ein spontaner Zyklus enden, wenn er 0 (Buchstabe <code>a</code> ) erreicht. </p><br><p>  Um die Zuordnung von Zeichen zu ihren Seriennummern zu vereinfachen, können Sie ein Wörterbuch herunterladen: </p><br><pre> <code class="javascript hljs">[...Array(<span class="hljs-number"><span class="hljs-number">26</span></span>).keys()].reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map, i</span></span></span><span class="hljs-function">) =&gt;</span></span> (map[symb(i + <span class="hljs-number"><span class="hljs-number">1</span></span>)] = i + <span class="hljs-number"><span class="hljs-number">1</span></span>, map), {}); <span class="hljs-comment"><span class="hljs-comment">// {a: 1, b: 2, c: 3, d: 4, e: 5, …}</span></span></code> </pre> <br><p>  Es ist jedoch klüger, noch einfacher zu arbeiten und die Funktion der inversen Transformation von Wörtern als Ganzes zu schreiben: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> reword = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> str.split(<span class="hljs-string"><span class="hljs-string">''</span></span>).map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">parseInt</span></span>(s, <span class="hljs-number"><span class="hljs-number">36</span></span>) - <span class="hljs-number"><span class="hljs-number">9</span></span>); reword(<span class="hljs-string"><span class="hljs-string">'happy'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [8,1,16,16,25] reword('new'); // [14,5,23] reword('year'); // [25,5,1,18]</span></span></code> </pre> <br><p>  Wir vervollständigen die Funktion der Bildung der Nachricht selbst: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> message = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name</span></span></span><span class="hljs-function"> =&gt;</span></span> word([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + word([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'!'</span></span>;</code> </pre> <br><p>  Es gibt nur noch sehr wenig zu tun, um das <strong>fünfte</strong> Problem zu lösen.  <em>Konsole</em> , <em>Alarm</em> , <em>Bestätigung</em> , <em>Eingabeaufforderung</em> , <em>innerHTML</em> , <em>document.write</em> kommen in den Sinn.  Keine der aufgeführten Optionen kann jedoch direkt erreicht werden. </p><br><p>  Wir hatten auch die Möglichkeit, jedes Wort mit der <em>Wortfunktion zu erhalten</em> .  Dies bedeutet, dass wir viele Funktionen von Objekten aufrufen können, indem wir über eckige Klammern auf sie zugreifen, wie dies bei <em>toString</em> der Fall war. </p><br><p>  Da wir Pfeilfunktionen verwenden, bleibt <em>dieser</em> Kontext global (und es besteht keine Notwendigkeit, ihn weiterzuleiten).  An jedem Ort können wir über eine Leitung auf viele seiner Funktionen zugreifen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>[word([<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>])](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// alert('hello'); this[word([3,15,14,19,15,12,5])][word([12,15,7])]('hello'); // console.log('hello');</span></span></code> </pre> <br><p>  Aber für das "Zeichnen" fehlen uns wieder Charaktere.  Wir können es durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Window.self</a> ersetzen, aber damit ist es in Bezug auf das verfügbare Alphabet noch schlimmer.  Es lohnt sich jedoch, auf das <em>Fensterobjekt</em> selbst zu achten, dessen "Umriss" für uns durchaus zufriedenstellend ist, selbst wenn es eine Ziege gewesen wäre und viel länger ist! </p><br><p>  Übrigens war in der ersten Version der Aufgabe die Schlüsselphrase nur das Wort <code>Snowing</code> , und das <code>window</code> konnte nicht gefaltet werden (aufgrund des Fehlens des Zeichens <code>d</code> ).  Der Zugriff auf den Kontext basierte auf einem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jsfuck-</a> Tricks: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return this'</span></span>)()[<span class="hljs-string"><span class="hljs-string">'alert'</span></span>](<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p>  Oder Sie können auch direkt auf etwas in einem globalen Kontext zugreifen: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-string"><span class="hljs-string">'constructor'</span></span>](<span class="hljs-string"><span class="hljs-string">'return alert'</span></span>)()(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>);</code> </pre> <br><p>  Wie Sie sehen können, ist in den Beispielen das gesamte Latein in Zeilen.  Hier erstellen wir eine Funktion aus einer Zeichenfolge und erhalten über die <em>Funktion für</em> verschwendete Pfeile Zugriff auf die <em>Funktion</em> (Konstruktor).  Aber das ist irgendwie zu viel!  Vielleicht weiß jemand anderes, wie wir unter unseren Bedingungen auf den Kontext zugreifen können? </p><br><p>  Endlich haben wir alles zusammengestellt!  Der Hauptteil unserer "Haupt" -Funktion ruft <em>Iterate</em> für das übergebene Array auf, und der Consumer gibt das Ergebnis der bereits integrierten Nachrichtenkompilierungsfunktion aus.  Für den Text der Nachricht und der Befehle wird eine <em>Wortfunktion</em> verwendet, die ebenfalls <em>iteriert werden muss</em> , und wir werden sie als nächstes in den <em>Standardparametern bestimmen</em> .  So: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">//</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstly we need the iterating </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">function</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iterate = (array, consume</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter = i =&gt; array[i] ? (consume(array[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">iter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> iter(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), <span class="hljs-comment"><span class="hljs-comment">// then we determine the word-creating function word = chars =&gt; (res =&gt; (iterate(chars, ch =&gt; res += (ch + 9)[(!0+'')[0] + 'oS' + (!0+'')[0] + (!0+'')[1] + 'ing'](36) ), res) )('') ) =&gt; iterate(users, name =&gt; // using console.log in window for printing out window[word([3,15,14,19,15,12,5])][word([12,15,7])]( word([8,1,16,16,25]) + ' ' + word([14,5,23]) + ' ' + word([25,5,1,18]) + ', ' + name + '!' ) ))() ))(users);</span></span></code> </pre> <br><p>  Benennen Sie die Variablen mit dem zulässigen Alphabet um: </p><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_10</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( _123 = (ann, snow</span></span></span><span class="hljs-function">) =&gt;</span></span> (<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12 = i =&gt; ann[i] ? (snow(ann[i]</span></span></span><span class="hljs-function">), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_12</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">++i</span></span></span><span class="hljs-function">)) : 0) =&gt;</span></span> _12(<span class="hljs-number"><span class="hljs-number">0</span></span>))(), wo = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ann</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function"> =&gt;</span></span> (_123(ann, an =&gt; w += <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">an + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">9</span></span></span></span></span><span class="hljs-function">)[(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oS</span></span></span><span class="hljs-function">' + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[0] + (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">!</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">+</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)[1] + '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ing</span></span></span><span class="hljs-function">'](</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">36</span></span></span></span></span><span class="hljs-function">) ), </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">w</span></span></span><span class="hljs-function">) )(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">) ) =&gt;</span></span> _123(_10, _1 =&gt; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>[wo([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>])][wo([<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>])]( wo([<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">25</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>]) + <span class="hljs-string"><span class="hljs-string">' '</span></span> + wo([<span class="hljs-number"><span class="hljs-number">25</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>]) + <span class="hljs-string"><span class="hljs-string">', '</span></span> + _1 + <span class="hljs-string"><span class="hljs-string">'!'</span></span> ) ))() ))(users);</code> </pre> <br><table><thead><tr><th>  Variable </th><th>  Beschreibung </th></tr></thead><tbody><tr><td>  <strong>_123</strong> <code>{function}</code> </td><td>  Die <em>Iterationsfunktion</em> zum Iterieren über die Elemente eines Arrays. </td></tr><tr><td>  <strong>_12</strong> <code>{function}</code> </td><td>  Die lokale <em>Iterationsfunktion, die</em> Aufrufe rekursiv <em>iteriert</em> . </td></tr><tr><td>  <strong>Schnee</strong> <code>{function}</code> </td><td>  Funktion als Rückruf für <em>Iteration verwenden</em> . </td></tr><tr><td>  <strong>ann</strong> <code>{Array&lt;Any&gt;}</code> </td><td>  Array-Parameter. </td></tr><tr><td>  <strong>ein</strong> <code>{Any}</code> </td><td>  Array-Elementparameter. </td></tr><tr><td>  <strong>wo</strong> <code>{function}</code> </td><td>  Die <em>Wortfunktion</em> zur Bildung von Wörtern. </td></tr><tr><td>  <strong>w</strong> <code>{string}</code> </td><td>  Lokale Variable zum Akkumulieren einer Zeichenfolge in <em>Word</em> . </td></tr><tr><td>  <strong>_10</strong> <code>{Array&lt;string&gt;}</code> </td><td>  Das ursprüngliche Array von Benutzern. </td></tr><tr><td>  <strong>_1</strong> <code>{string}</code> </td><td>  Der Benutzer aus dem Quell-Array, sein Name. </td></tr></tbody></table><br><p>  Das ist alles.  Schreiben Sie Ihre Ideen und Gedanken dazu auf, da es viele Möglichkeiten gibt, etwas anders oder gar nicht zu tun. </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Interessanterweise erwies es sich als echter Test, ein Wort oder eine Phrase für die Bedingungen des Problems zu finden.  Ich wollte, dass sie klein und nicht sehr suggestiv ist und sich für eine mehr oder weniger prägnante Lösung eignet. </p><br><p>  Die Inspiration für diese Aufgabe war die Funktionalität von JavaScript und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Isoterik von 6 Zeichen</a> , die vielen bekannt sind.  Wie bereits erläutert, kann dies verschiedene Variationen des Themas aufweisen und ist nicht die einzige Lösung.  Es reicht aus, einen einfachen Wortlaut und eine Schlüsselphrase zu finden.  Wir sehen uns im neuen Jahr! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433112/">https://habr.com/ru/post/de433112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433102/index.html">Warum glauben Wissenschaftler, dass der Neunte Planet nicht existiert?</a></li>
<li><a href="../de433104/index.html">Die Foobar-Herausforderung: Googles geheimer Test für Entwickler</a></li>
<li><a href="../de433106/index.html">SpaceX und die NASA bekräftigen ihre Absicht, den ersten Start des Crew Dragon-Schiffs im Januar 2019 zu starten</a></li>
<li><a href="../de433108/index.html">ld -z separater Code</a></li>
<li><a href="../de433110/index.html">Erstellen von Hochleistungsorganisationen: Die strategische Bedeutung von Collaboration-Software</a></li>
<li><a href="../de433114/index.html">PMP-Zertifizierung: Vorbereitung auf die Pendlerprüfung</a></li>
<li><a href="../de433116/index.html">Flammenwerfer, Weihnachtsmann auf einem Panzer, Bigfoot, Baba Yaga auf Endurica (und möglicherweise ein Jetpack) - alles für Kinder für das neue Jahr</a></li>
<li><a href="../de433118/index.html">Benchmark-Tests und schnelle Analyse von Permutationsalgorithmen</a></li>
<li><a href="../de433122/index.html">React-Hot-Loader v4.6</a></li>
<li><a href="../de433126/index.html">Zabbix Review: So organisieren Sie eine Codeüberprüfung zur Überwachung der Konfiguration</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>