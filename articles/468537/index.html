<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄºÔ∏è üë©üèº‚Äçüöí ‚òïÔ∏è Conceptos b√°sicos de DevOps. Ingreso al proyecto desde cero üêí üôåüèø üë©üèΩ‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En noviembre de 2018, se cre√≥ un departamento de soporte de informaci√≥n en Lituania e invit√≥ a Andrei Yumashev a dirigir. El a√±o pasado, el departamen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conceptos b√°sicos de DevOps. Ingreso al proyecto desde cero</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/468537/">  En noviembre de 2018, se cre√≥ un departamento de soporte de informaci√≥n en Lituania e invit√≥ a <strong>Andrei Yumashev</strong> a dirigir.  El a√±o pasado, el departamento ayuda a la empresa a trabajar y desarrollar y mantiene toda la infraestructura bajo control.  Pero ese no fue siempre el caso.  Antes de comenzar a trabajar, Andrei se enfrent√≥ a ruinas: Nagios medio muerto, Cactus condicionalmente vivo y Puppet en coma, Wiki muerto de 120 p√°ginas, tablas de tareas incoherentes y lista de hierro, arquitectura obsoleta, 340 n√∫cleos inactivos, 2 TB de RAM y 17 TB espacio en disco que por alguna raz√≥n no se registr√≥ en las tablas de inventario.  Planes que no funcionan, plazos que se rompen, entorno de trabajo y herramientas que no existen: todo esto le esperaba a Andrei en un nuevo proyecto. <br><br><img src="https://habrastorage.org/webt/jr/wy/ag/jrwyagng-7fixaij6vkk8bbnet8.jpeg"><br><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DevOpsConf 2019,</a> Andrei hizo un informe en el que mostr√≥ en ejemplos en vivo lo que vale y lo que no debe hacerse cuando ingresa a un proyecto que no ha visto o que conoce mal.  Debajo del corte hay una versi√≥n actualizada de la historia: c√≥mo analizar adecuadamente el rango de problemas y construir un plan de actividades, c√≥mo calcular los KPI correctamente y cu√°ndo detenerse a tiempo. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YOaIg9By0fU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Andrey Yumashev</strong> es propietario de sus propias empresas de desarrollo en diversos campos (en l√≠nea y fuera de l√≠nea), consultor en la construcci√≥n de procesos y jefe del departamento de soporte de informaci√≥n de LiteRes. <br><br>  Un poco sobre LiteRes.  Este es el mayor proveedor de libros electr√≥nicos y de audio en Rusia, una editorial y un mont√≥n de proyectos de asociaci√≥n.  Estos son cientos de miles de l√≠neas de Perl, varios grupos de bases de datos y repositorios.  Esto es 2 GB de tr√°fico saliente por segundo, cientos de miles de solicitudes √∫nicas por d√≠a, varios bastidores en diferentes centros de datos y m√°s de 100 servidores.  En general, esto no es solo una librer√≠a electr√≥nica. <br><br><h2>  Primeros pasos </h2><br>  Sol√≠a ‚Äã‚Äãtrabajar en LiteRes a destajo.  La compa√±√≠a practica el desarrollo de personal con el registro de empleados remotos en el estado. <br><br>  El sistema de cumplimiento de tareas en litros funciona seg√∫n el principio de una "subasta".  En el rastreador de tareas interno, los gerentes y arquitectos describen tareas para proyectos internos y las eval√∫an en moneda local.  La moneda es "hongos, hierba y √°rboles". <br><br>  Luego comienza la "subasta f√°cil": cualquier desarrollador puede asumir la tarea o negociar.  Bien hecho, te pagan.  No trabaj√© en absoluto, no lo entiendes.  De una manera l√∫dica, las personas est√°n interesadas en completar tareas.  Para obtener m√°s informaci√≥n sobre este sistema, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">presentaci√≥n de</a> Dmitry Gribov. <br><br><img src="https://habrastorage.org/webt/1a/zj/wj/1azjwjlwwzndujp6trjhdlzwyn4.jpeg"><br>  <em>Trabaja por los champi√±ones.</em> <br><br>  El sistema me conven√≠a: apoy√© la experiencia de programaci√≥n de Perl, trabaj√© cuando era conveniente y no pas√© demasiado tiempo en √©l.  En este modo, pas√© un par de a√±os hasta noviembre del a√±o pasado y pens√© que entend√≠a la estructura del ecosistema. <br><br><h3>  Estaba equivocado </h3><br>  Me invitaron a la compa√±√≠a e inform√© que mis servicios como desarrollador de Perl no eran necesarios, y me ofrecieron dirigir un nuevo departamento.  En noviembre de 2018, me convert√≠ en el jefe del departamento de informaci√≥n. <br><br>  Frente a m√≠ hab√≠a espacios abiertos: varios bastidores con hierro en varios centros de datos en Mosc√∫, arquitectura obsoleta, recursos extranjeros y la ausencia casi completa de documentaci√≥n relevante para eso es todo.  La introducci√≥n sonaba m√°s o menos as√≠: "Ahora este es su patrimonio, mejorar, no romper y apoyar".  Hab√≠a una lista lista de tareas y planes generales para el pr√≥ximo a√±o.  Era necesario comprender todo esto y llevarlo a una forma humana. <br><blockquote>  Ten√≠a la sensaci√≥n de que estaba mirando hacia el abismo, y el abismo me estaba mirando. </blockquote>  La experiencia de los √∫ltimos a√±os me ayud√≥ mucho cuando desarroll√© una posici√≥n clara al trabajar con un extra√±o o incomprensible.  En primer lugar, este es un estudio exhaustivo y un plan de acci√≥n m√≠nimo.  Aqu√≠ es donde empec√©. <br><br><h2>  La limpieza es la clave de la salud. </h2><br>  El orden es ante todo. <br><br>  Para el primer mes logr√≥ encontrar: <br><br><ul><li>  Hojas de c√°lculo de Google dispersas con tareas actuales y una pizca de informaci√≥n √∫til; </li><li>  documentos dispersos: Word, textos, fragmentos de antiguas p√°ginas Wiki de 120; </li><li>  Nagios, medio muerto; </li><li>  monitoreo condicional en vivo de Cactus; </li><li>  marioneta muy vieja con signos raros de vida. </li></ul><br>  Todas estas ruinas tambi√©n recogieron 400 m√©tricas. <br><br><img src="https://habrastorage.org/webt/gu/q9/bx/guq9bxrahvxth1pywoi2rgw8ck0.jpeg"><br>  <em>Las ruinas que encontr√© en el primer mes.</em> <br><br>  Fui un poco divertido, le√≠ todo con fluidez y me apegu√© a los procesos de Trello.  Le transfiri√≥ las tareas actuales de sus colegas y comenz√≥ a so√±ar: escribir un plan para el trimestre y el a√±o. <br><br><h3>  Primer error </h3><blockquote>  No hay planes hasta que explore la zona. </blockquote>  El plan brillaba con calor y salud, pero no ten√≠a en cuenta la realidad.  Fue hermoso y simple: implementar monitoreo, analizar registros y transferir implementaci√≥n a CI / CD.  En alg√∫n momento al final hubo un l√°nguido "an√°lisis de las debilidades del proyecto".  Primeros pasos cl√°sicos. <br><br>  Me olvid√© de lo principal.  Mi primera prioridad no es implementar herramientas para la implementaci√≥n de herramientas, sino garantizar la viabilidad y la estabilidad del servicio en su conjunto. <br><br>  Mientras escrib√≠a el plan y atormentado por las preguntas de mis colegas, llegaron los primeros problemas.  Uno de los nodos de uno de los grupos de cl√∫steres se qued√≥ sin espacio, y el SSD en su conjunto termin√≥ en el otro nodo del mismo grupo.  Compr√© urgentemente nuevos discos m√°s grandes y nuestro departamento r√°pidamente gan√≥ experiencia en reemplazar estos discos copiando el sistema de un disco a otro.  Despu√©s de reemplazar los discos, creamos el cl√∫ster desde cero a trav√©s de SST.  El cl√∫ster est√° construido sobre Percona y Galera, y ese entretenimiento no va a √©l por nada. <br><br>  Mientras viajaba entre centros de datos, nacieron los <strong>primeros brotes de dudas</strong> sobre el plan. <br><br><img src="https://habrastorage.org/webt/3d/or/b2/3dorb2jimqxrud9f-mtog3yqltw.jpeg"><br>  <em>Ahhhhhh!</em> <br><br>  Al mismo tiempo, la intensidad del trabajo negro era tan alta que ni siquiera pens√© en recopilar un historial m√©dico completo, sino que simplemente tom√© algunas fotos para seguir estudiando. <br><br>  En paralelo, apareci√≥ otra introducci√≥n.  En litros hay versiones de audio de libros.  Para que el oyente no rebobine la grabaci√≥n cada vez m√°s, tenemos un mecanismo que rastrea el momento de la parada.  La pr√≥xima vez que escuche, la versi√≥n de audio se reproducir√° desde la secci√≥n deseada.  Para esta tarea, llev√≥ alrededor de 500 n√∫cleos m√°s r√°pido, un terabyte de RAM y un poco de an√°lisis en Java. <br><br>  Comenc√© a informar a Azure, Google, DigitalOcean y todo lo dem√°s que proporcionaban las soluciones de gotas.  La contenedorizaci√≥n suplica, ¬øpor qu√© no implementarla alegremente?  Adem√°s, en el "gran" plan hab√≠a un punto separado sobre esto. <br><br>  Ha pasado un mes en correspondencia y licitaci√≥n, todo se agreg√≥ a las tareas en Trello, de las cuales gener√© una parte importante, pero el resultado no progres√≥.  Me preguntaba si ir√≠a all√≠.  Ante m√≠, todo funcion√≥ de alguna manera y no se detendr√°, sin importar cu√°nta actividad vac√≠a muestre.  Me sent√© cuidadosamente para estudiar el inventario que pude reunir poco a poco.  Luego se levant√≥ y fue a la segunda ronda de centros de datos. <br><br>  La segunda visita tranquila a los centros de datos puso todo en su lugar.  Cuando vi todo esto no en la consola, no en Excel, sino vivo, mi conciencia de la realidad cambi√≥ radicalmente.  Me di cuenta de que no estoy ocupado con lo que deber√≠a.  Porque primero necesitas entender con qu√© estoy trabajando. <br><blockquote>  Hasta que entienda con qu√© estoy trabajando, todos los planes son una p√©rdida de tiempo. </blockquote>  Estudi√© los bastidores, compar√© la realidad con las listas, realic√© ediciones y me top√© con una semi unidad con 20 cuchillas.  De 20, solo 4 funcionaron. Sacud√≠ las cuchillas y me di cuenta de que no necesit√°bamos gotas para la soluci√≥n.  ¬°Porque encontr√© 340 n√∫cleos inactivos, 2 terabytes de RAM y 17 terabytes de espacio en disco!  Estos son viejos backends, viejos nodos de cl√∫steres que simplemente dejaron de usarse y el tiempo ha borrado la memoria de su existencia.  Puse a Kubernetes sobre estas cuchillas y me libr√© de una tarea importante. <br><br><h3>  Primer error de salida </h3><blockquote>  Analizar y estudiar.  Sin un an√°lisis preliminar de la situaci√≥n, el tren no se mueve. </blockquote>  Gracias a un cuidadoso viaje a los campos, ya ten√≠a en mis manos un plan bastante relevante para el equipo y la arquitectura general del sistema.  En el patio era enero.  Pas√© dos meses en esto, de los cuales la mitad simplemente me lanc√© de lado a lado.  No sab√≠a qu√© tipo de incendio extinguir primero, qu√© problema resolver primero: la rutina con apoyo no fue a ninguna parte. <br><br>  En paralelo, deduje tres reglas.  Estas son consecuencias del primer error. <br><br><img src="https://habrastorage.org/webt/pk/bc/d6/pkbcd6tndhw7uz0jlv7wkttizts.jpeg"><br>  <em>Tres corolarios.</em> <br><br><h3>  Segundo plan </h3><br>  Descart√© tareas secundarias desde el primer plano: an√°lisis de registros e implementaci√≥n de CI / CD.  En una escala de cat√°strofe general, estas peque√±as cosas no son importantes.  Litros ha trabajado durante a√±os y ha desarrollado sus propias l√≥gicas para trabajar con troncos, y ha adquirido un demonio rodante hecho a s√≠ mismo.  Met√≠ en el quinto plan lo que funcion√≥ y no requiri√≥ intervenci√≥n. <br><br>  El segundo plan se parec√≠a a esto. <br><br>  <strong>Tratar con el monitoreo</strong> .  En su forma actual, no reflejaba al menos un tercio de los problemas, aunque funcion√≥. <br><br>  <strong>Describa la l√≥gica general de todos los litros</strong> .  Los nombres de los servidores son excelentes, pero los paquetes clave son un conocimiento cr√≠tico: qu√©, d√≥nde, d√≥nde, por qu√© y por qu√©.  El error anterior dej√≥ en claro que sin esto de ninguna manera. <br><br>  <strong>Escalado</strong>  Casi los √∫ltimos recursos gratuitos tomaron Kubernetes.  Seg√∫n estimaciones m√≠nimas, se supon√≠a que terminar√≠a todo el grupo de trabajo en seis meses. <br><br>  <strong>Inventario y estado de los equipos</strong> .  Como parte del viaje, literalmente borr√© una red de varios servidores que asustaban con sus etiquetas: "copia de seguridad", "suscripci√≥n", "bgp".  De nuevo, discos, cayendo discos. <br><br>  <strong>Adaptaci√≥n de gu√≠as a la realidad</strong> .  La mayor√≠a de las instrucciones est√°n desactualizadas o incompletas. <br><br>  Los primeros seis meses pasaron desapercibidos en la facturaci√≥n, compra de equipos y problemas, y finalmente me establec√≠ en el segundo error. <br><br><h3>  Segundo error </h3><blockquote>  No lo subestimes. </blockquote>  <strong>Se subestima cualquier t√©rmino que se le ocurra</strong> .  Claro, puede beneficiarse r√°pidamente del proyecto.  Pero para maximizar los retornos, multiplique el tiempo planificado por <strong>al menos dos veces</strong> .  Especialmente en un proyecto complejo y altamente cargado, que crece constantemente en tr√°fico en m√°s del 100% por a√±o. <br><br>  ¬øPor qu√© al menos dos veces?  Si el proyecto es inestable y no se investiga, prep√°rese para el hecho de que cualquier actividad dar√° lugar a otras actividades en lugares vecinos.  Parece que reemplazar discos, ¬øcu√°l es m√°s f√°cil?  El procedimiento es simple hasta que encuentre una compra, luego programe el tiempo para nodos espec√≠ficos de tiempo de inactividad y luego realice el servicio despu√©s de reemplazar un disco.  Calcul√© esta simple operaci√≥n una semana.  Al final, tom√≥ dos semanas y media, incluso con un esquema de adquisici√≥n simple. <br><br>  Otro ejemplo es la compra e instalaci√≥n de nuevos equipos.  Comprar y pegar, ¬øqu√© es tan dif√≠cil?  No tard√© m√°s de un mes en hacerlo sin tener en cuenta el tiempo de entrega.  De hecho, uno de los tres chasis todav√≠a est√° parado frente a mi escritorio.  Esto se debe a que el equipo simplemente no ten√≠a suficiente espacio: calculamos el lugar en los agujeros entre la instalaci√≥n actual.  Cuando llegamos a uno de los centros de datos con la intenci√≥n de sacudir el rack, de repente nos dimos cuenta de que los dos servidores eran "intocables".  El primero es el host, y simplemente no es seguro tocarlo.  El segundo es una canasta de 16 discos, que se cierra con un mont√≥n de datos.  Las pajillas no se colocaron, el an√°lisis no se llev√≥ a cabo, y es bueno que hayan podido pegar dos de cada tres. <br><br>  <strong>Si parece que todo ser√° simple, pronto tendr√° problemas</strong> .  Esta instalaci√≥n plante√≥ una nueva pregunta: si todo est√° tan mal en el lugar, ¬øc√≥mo nos expandiremos?  Una peque√±a tarea ahora gener√≥ un sudor gigante.  En 2020, seg√∫n el plan, la transferencia de un centro de datos a otro y la expansi√≥n del resto por bastidores.  Esto significa la migraci√≥n dentro del centro de datos entre los m√≥dulos.  La migraci√≥n se complement√≥ con la reestructuraci√≥n de la red y su transferencia a 10G. <br><blockquote>  No subestimes el tiempo, el umbral de entrada y las consecuencias. </blockquote><br><h3>  Conceptos basicos </h3><br>  Por supuesto, la esencia de los errores ya se describe en Wiki como conceptos b√°sicos. <br><br>  <strong>Cualquier proceso burocr√°tico dura al menos un mes</strong> .  Esto se aplica a las adquisiciones, la conclusi√≥n de nuevas condiciones con un centro de datos u otros contratistas, a todo.  T√≥malo como un hecho. <br><br>  <strong>Despu√©s de la conclusi√≥n del contrato y el pago, cualquier entrega dura al menos una semana y media</strong> , desde los discos hasta los procesadores.  Aprenda a negociar con los proveedores para las fechas previas a la entrega.  Por ejemplo, los discos se env√≠an en peque√±os lotes ahora hasta el pago e incluso antes de la aprobaci√≥n de la aplicaci√≥n. <br><br>  <strong>Si bien no hay una comprensi√≥n clara de la implementaci√≥n, cualquier plan para implementar algo sigue siendo un plan.</strong>  Cuanto m√°s cortos sean los pasos, mejor. <br><br>  Por ejemplo, para cambiar de MySQL a ClickHouse, un paso amplio se ve as√≠: ‚Äú¬°Llenemos un servidor, luego dibujemos un boleto para la reintegraci√≥n y vuele!‚Äù.  De hecho, un estudio detallado del problema condujo a nuevos pasos: compra adicional de equipos, por ejemplo, procesadores y discos, tickets detallados para cambiar la l√≥gica del rastreador de comportamiento del usuario, mantener la integraci√≥n inversa, los servidores de cola y muchos otros. <br><blockquote>  Cuanto m√°s detallado sea el plan, mejor.  Escribir con una pincelada amplia es una garant√≠a de 100% de error en la fecha l√≠mite. </blockquote>  <strong>Sujete cualquier plan a las m√°ximas cr√≠ticas y espere el m√°ximo riesgo</strong> .  Aseg√∫rese de mirar el plan desde el punto de vista comercial: qu√© beneficio traer√° cada paso. <br><br>  Tuvimos que llevar a cabo implementaciones obligatorias: monitoreo, Ansible, pero no nos olvidamos del componente comercial. <br><br><ul><li>  Al cambiar la arquitectura de la red, podremos aceptar tr√°fico adicional y resolver muchos problemas actuales. </li><li>  Al cambiar el tipo de almacenamiento de contenido, reduciremos la cantidad de errores con la devoluci√≥n de libros y aumentaremos la velocidad de trabajo con los datos. </li><li>  Mueva el back-end a la nube: aumente instant√°neamente la carga durante las campa√±as de marketing. </li><li>  Traducir el seguimiento a ClickHouse es una oportunidad para que los analistas comprendan mejor las necesidades de nuestros amados lectores y oyentes. </li></ul><br>  <strong>La mejor manera de lidiar con una situaci√≥n en la que est√° poco versado en el tema es solicitar la ayuda de especialistas, no Stack Overflow</strong> .  El contacto de voz resuelve el problema muchas veces m√°s r√°pido que la correspondencia larga o la lectura de documentaci√≥n. <br><br><h3>  Seis meses despues </h3><br>  A pesar del hecho de que las tareas ra√≠z en las que me enfoqu√© al principio todav√≠a estaban resbalando, gracias a la investigaci√≥n y las correcciones, algo bueno apareci√≥ en mis manos. <br><br>  <strong>Herramienta autoescrita para el inventario de redes y direcciones.</strong>  Regularmente hizo tapping en todas nuestras subredes y adem√°s verific√≥ los datos con la configuraci√≥n BIND.  Esto facilit√≥ y agiliz√≥ la puesta en servicio de nuevos servicios y entendi√≥ la carga real de los grupos de redes.  Realmente no quer√≠a gastar tiempo en esto, pero no pude encontrar una alternativa preparada, y encontrar una direcci√≥n para asignar a un nuevo recurso tom√≥ mucho tiempo.  Mientras escrib√≠a la herramienta, el primer borrador del plan apareci√≥ en la red. <br><br>  <strong>La marioneta ya no est√° tan muerta y confundida</strong> .  Estaba armado con una conclusi√≥n del error n√∫mero uno y ni siquiera intent√© pasar a Ansible, lo cual es m√°s c√≥modo para m√≠. <br><br>  <strong>Nagios m√°s o menos ama√±ado</strong> .  Lo traslad√© de la oficina al centro de datos y lo distribu√≠ en tres puntos.  Fue mucho m√°s r√°pido y m√°s barato que implementar Zabbix.  Completamos un agujero con alertas que son incorrectas en tiempo y eventos, una simple reconfiguraci√≥n de las reglas y la introducci√≥n de nodos de control adicionales. <br><br>  <strong>Comprender</strong> el mantenimiento de los grupos de bases de datos utilizados. <br><br>  <strong>Wiki muy hinchado</strong> .  Ella "engord√≥" por los comentarios e instrucciones sobre c√≥mo trabajar con entornos. <br><br>  <strong>Tres chasis HP</strong> que compramos para una futura instalaci√≥n. <br><br>  <strong>Comprender el camino hacia el resto de 2019</strong> en una aproximaci√≥n m√°s clara. <br><br>  <strong>Ecosistema reciclado</strong> para trabajo de departamento. <br><br>  Todos estos seis meses trabaj√© casi solo.  Los empleados que heredaron eran m√°s administradores del sistema.  No estaban realmente ansiosos por profundizar en la esencia de DevOps. <br><br>  Con gran dificultad, encontr√© dos especialistas en el equipo: junior y middle.  Recopil√© la cantidad m√°xima de conocimiento, apariencias y contrase√±as de los administradores actuales y me separ√© de ellos con gran pesar. <br><br><h3>  Sistema de trabajo, entorno y herramientas. </h3><br>  Te contar√© sobre la importancia de introducir un ecosistema y un entorno de trabajo.  Ya mencion√© a Trello, pero no dije por qu√© y por qu√© lo implement√©.  No se generar√° trabajo sin establecer objetivos y datos estructurados.  Esto se evidencia parcialmente por el primer error: recoger todo lo que es. <br><blockquote>  Toma todo, no des nada. </blockquote>  <strong>El proceso es el motor del progreso</strong> .  Por lo tanto, todo este tiempo trabaj√© en el sistema, a pesar de la obstrucci√≥n de la investigaci√≥n y el flujo de trabajo.  Gracias al sistema, seis meses despu√©s puse la locomotora de vapor del departamento en rieles estables. <br><br>  La introducci√≥n de herramientas de soporte y un curso corto sobre su uso ahorra mucho tiempo para usted y sus colegas.  Especialmente si incluso en la parte superior comprende la administraci√≥n y es un poco capaz de mantener el orden en el escritorio y en la vida. <br><br>  <strong>No complicamos las herramientas, pasamos de lo simple e introducimos lo necesario</strong> .  A principios de a√±o, pens√© qu√© rastreador de tareas ser√≠a adecuado para nosotros.  Inmediatamente despidi√≥ a Jira y Redmine, demasiado control.  Pasar√≠amos tiempo completando los formularios, no las tareas.  Hojas de c√°lculo de Google: creo que no vale la pena explicar por qu√© no. <br><br>  <strong>Trello fue perfecto</strong> .  Algunas columnas simples: "Backlog": donde se suman todos los errores o tareas notados para el futuro, "A la finalizaci√≥n": las principales tareas a realizar y "Finish".  Un poco m√°s tarde, hab√≠a cinco columnas: "Backlog", "Pause", "Sprint", "Finish" y "Study". <br><br>  En la "Pausa" se llevaron cosas que han perdido relevancia en el proceso de sprint.  En "Aprendizaje": tareas que requieren investigaci√≥n y que no deben perderse hasta el momento de comprender y transferir el conocimiento al Wiki.  Sprint se ha convertido en evidencia de que hemos cambiado al sistema de sprint.  Experimentamos y elegimos el momento √≥ptimo: 2 semanas.  Usamos este segmento ahora, pero otro le conviene.  <strong>El tiempo de sprint es individual para cada empresa</strong> . <br><br>  <strong>Las reuniones semanales obligatorias</strong> son la pr√≥xima innovaci√≥n despu√©s de Trello.  Pr√°cticamente no trabajamos en la oficina.  El tiempo que podemos pasar en el camino, lo dedicamos al trabajo.  Pero una vez a la semana, todo el departamento se re√∫ne en la oficina durante 2-3 horas de manera intermitente y discute el curso del sprint y las tareas que surgieron.  En consecuencia, adem√°s de una vez cada dos semanas, planeamos el pr√≥ximo sprint. <br><br>  Luego fue a implementar las herramientas m√≠nimas necesarias.  Todos los repositorios de servicios con configuraciones (Puppet, Nagios, DNS) se sacaron de SVN a GitLab nuevo.  Engancharon a Jenkins a √©l.  Ahora las configuraciones de DNS se actualizaron autom√°ticamente, y las ediciones de los colegas de Puppet se pod√≠an leer a trav√©s de solicitudes de combinaci√≥n de manera m√°s f√°cil y conveniente.  Anteriormente, las contrase√±as se transmit√≠an de persona a persona, ahora se recogen perfectamente en 1Password.  Ahora esta es la √∫nica soluci√≥n paga en la infraestructura. <br><blockquote>  Las herramientas f√°ciles de implementar y configurar generaron el proceso, y es m√°s f√°cil de controlar. </blockquote><br><h3>  Los problemas </h3><br>  En litros, el tr√°fico creci√≥ y se agreg√≥ trabajo: grupos defectuosos, piezas rotas de hierro, componentes.  Se acercaba la segunda mitad del a√±o, para lo cual se planific√≥ el desarrollo de la escala. <br><br>  En este momento, aparecieron dos bestsellers: un nuevo libro de un autor popular y un decreto del presidente de un pa√≠s amigo sobre el bloqueo de litros.  Verti√≥ masivamente quejas sobre la inaccesibilidad del sitio.  El decreto se emiti√≥ hace mucho tiempo, pero lo descubrimos solo cuando realmente comenzaron a bloquearnos en todo el amplio conjunto de direcciones.  Afortunadamente, el decreto se refer√≠a a un solo nombre de dominio: "litres.ru". <br><br>  El aumento del tr√°fico (todos quer√≠an un √©xito de ventas) a trav√©s de servidores proxy, confundimos con un ataque DDoS y lo pagamos con divisas.  Recuerdo c√≥mo pagamos las facturas de una compa√±√≠a que nos prometi√≥ protecci√≥n contra DDoS.  Inmediatamente despu√©s del pago, cambi√© el DNS a sus direcciones, y despu√©s de 10 minutos record√© el primer error y volv√≠ el DNS fren√©ticamente.  No hab√≠a tr√°fico de basura, pero hab√≠a un precio de caballo para el tr√°fico que pasaba por ellos: libros, audio, portadas.  No dir√© cu√°nto nos cost√≥ 20 minutos de vida en las direcciones de otras personas. <br><br>  Esa noche llam√© a Cloudflare y habl√© sobre nuestros problemas.               Anti-DDoS     .  ,      Cloudflare        .       .        ,  DDoS'   ,   . <br><br>         .          KPI. <br><br><h3>   KPI </h3><br>          .           .  ,  ,    . <br><br>      KPI.    ‚Äî    . <br><br><ul><li>     .   ‚Äî  . </li><li> Downtime.   ‚Äî  . </li><li>     .    ,  --,   ,    .    ,    . </li></ul><br>         KPI,    ‚Äî . ,   ,    KPI,        . <br><br>   .      90%.      ,    .  ‚Äî  ,  .      .         ,        . <br><br> <strong>    -Nagios  -Puppet</strong>     Zabbix  Grafana  Ansible.      ¬´        ¬ª. <br><br>      Prometheus          ,   Zabbix.      Zabbix,   Prometheus ‚Äî     .        ‚Äî      .                . <br><br> <strong>  ,     ,    </strong> . <br><br><ul><li>  . </li><li>     . </li><li>   . </li><li> . </li></ul><br><h3>   </h3><br>       .   ,  <strong>   ,    </strong> .     ‚Äî    .          ,     . <br><br>       .    -    -,  -  .    ,     .      .         .       .       . <br><br>    ,            . <br><br><img src="https://habrastorage.org/webt/cx/ts/v2/cxtsv2pow8pwufw6dzq6ovfai6q.jpeg"><br>       2  .   3     ¬´ ¬ª,   ‚Äî   .    . <br><br> <strong> </strong> .      :  ,      ,    ,    Ansible,    . <br><br> <strong> .</strong>          ,        .      .        . <br><br> <strong>  </strong> . <br><br> <strong></strong> ‚Äî ,  ,  .       . <br><br> <strong> </strong> .    ‚Äî  ,             . <br><br>      .      ,           .      .      2019.    ,  ,    , ‚Äî     .                . <br><br><h3>    </h3><br>         .    . <br><blockquote>   . </blockquote>       ,  -    ,    .         . <br><br><ul><li>        ,  ,      . </li><li>   ,      . </li><li>    , ,    ‚Äî . </li><li>      ,  ,  ,  ‚Äî   ,       . </li></ul><br>       .    ,    - .        ,   ,  ,    . <br><blockquote>    . </blockquote>     ‚Äî , , .     ,    ,     . <br><br><img src="https://habrastorage.org/webt/mo/rs/us/morsusn140tgpjhqq_r7j_brdlc.jpeg"><br><br>   ,     ‚Äî  -   . ,     . <br><br><ul><li>        . </li><li>      ,    . </li><li>      ,      ,    . </li></ul><br>       ¬´  ,    ¬ª.   ,        ‚Äî  ,  , ,  . <br><br>    ,     ,     . <br><br><h2>   ‚Äî    </h2><br>  Ansible? ,  ,   Puppet  ?        ‚Äî     . <br><br><img src="https://habrastorage.org/webt/q6/7v/5j/q67v5jtkws8xri9l2v-eflfci8e.jpeg"><br><br>          CI/CD?   ,  .  CI/CD  ,      ‚Äî . <strong>    .</strong> <br><br>    ,  ,      .      - ?   ,          KPI?       ,    -. <strong> -</strong> ‚Äî  ,    ,   . <br><blockquote>  . </blockquote><br> <b>  :</b> <br><br><ul><li>    ‚Äî      . </li><li>         . </li><li>    ,     . </li></ul><br><blockquote>    DevOpsConf  .     ‚Äî  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a> , ,     .    DevOps-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HighLoad++ 2019</a>  .   DevOps 13     AWS,    Lamoda,    ,    Kubernetes,    Kubernetes,   Kubernetes   .          ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> ¬ª  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a> .    HighLoad++      ‚Äî  ,   -. .       ‚Äî    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/468537/">https://habr.com/ru/post/468537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../468527/index.html">S√≠ntesis de un controlador por el m√©todo del problema de din√°mica inversa</a></li>
<li><a href="../468529/index.html">Domar a Gorynych o descompilar eBPF en Ghidra</a></li>
<li><a href="../468531/index.html">El primer bot PHP para VKontakte</a></li>
<li><a href="../468533/index.html">Autostop en DevOps con Express 42</a></li>
<li><a href="../468535/index.html">¬øNo necesitas registros?</a></li>
<li><a href="../468541/index.html">¬øArrastrar y soltar componentes para usuarios ciegos? Estas bromeando</a></li>
<li><a href="../468543/index.html">Entre semana Comit√© del Programa FrontendConf. Entrevista con Sergey Popov</a></li>
<li><a href="../468547/index.html">Habla ingl√©s, CSS, Grid y accesibilidad en FrontendConf</a></li>
<li><a href="../468549/index.html">GPU enlazado. C√≥mo transferir todo a la tarjeta de video y un poco m√°s. Animaciones</a></li>
<li><a href="../468553/index.html">Gesti√≥n de par√°metros en aplicaciones empresariales similares a un sistema de control de versiones.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>