<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçî üå™Ô∏è ‚ôãÔ∏è Erleben Sie die √úbersetzung eines gro√üen Projekts von Flow nach TypeScript üë®üèª‚Äç‚öñÔ∏è üíà üíì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript ist eine der Sprachen mit dynamischer Typisierung. Solche Sprachen eignen sich f√ºr eine schnelle Anwendungsentwicklung. Wenn jedoch mehrere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erleben Sie die √úbersetzung eines gro√üen Projekts von Flow nach TypeScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/directum/blog/462055/"><img src="https://habrastorage.org/webt/yz/xc/aw/yzxcaw_zmgfag6uoogghhx9xv7s.jpeg" alt="Directum-Logo"><br><br>  JavaScript ist eine der Sprachen mit dynamischer Typisierung.  Solche Sprachen eignen sich f√ºr eine schnelle Anwendungsentwicklung. Wenn jedoch mehrere Teams mit der Entwicklung eines gro√üen Projekts beginnen, ist es besser, von Anfang an eines der Tools zur Typpr√ºfung auszuw√§hlen. <br><br>  Sie k√∂nnen mit der Entwicklung von TypeScript-Code beginnen oder ihn in ein Flow-Projekt aufnehmen.  TypeScript ist eine kompilierte Version von JavaScript, die von Microsoft entwickelt wurde.  Flow ist im Gegensatz zu TypeScript keine Sprache, sondern ein Tool, mit dem Sie Code analysieren und Typen √ºberpr√ºfen k√∂nnen.  Im Internet finden Sie viele Artikel und Videos zu diesen Ans√§tzen sowie eine Anleitung zum Starten der Eingabe.  In diesem Artikel m√∂chten wir Ihnen erkl√§ren, warum Flow nicht zu uns passte und wie wir zu Typescript gewechselt sind. <br><a name="habracut"></a><br><h2>  Ein bisschen Geschichte </h2><br>  2016 haben wir begonnen, einen React / Redux-basierten Webclient f√ºr unser ECM-System zu entwickeln.  Flow wurde aus folgenden Gr√ºnden ausgew√§hlt, um die Eingabe zu testen: <br><br><ol><li>  React und Flow sind Produkte der gleichen Firma Facebook. </li><li>  Flow entwickelte sich aktiver. </li><li>  Flow l√§sst sich problemlos in das Projekt integrieren. </li></ol><br>  Das Projekt wuchs jedoch, die Anzahl der Entwicklungsteams nahm zu und bei der Verwendung von Flow traten einige Probleme auf: <br><br><ol><li>  √úberpr√ºfung des Hintergrundtyps Flow verwendete zu viele PC-Ressourcen.  Infolgedessen haben einige Entwickler es deaktiviert und bei Bedarf mit der √úberpr√ºfung begonnen. </li><li>  Es gab Situationen, in denen es genauso lange dauerte, den Code mit Flow in Einklang zu bringen, wie den Code selbst zu schreiben. </li><li>  Der Code wurde im Projekt angezeigt und war nur erforderlich, um den Flow-Test zu bestehen.  Beispiel: Doppelte √úberpr√ºfung auf Null: <br><br><pre><code class="javascript hljs">foo() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.activeFormContainer == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// to do something if (this.activeFormContainer != null) // only for Flow this.activeFormContainer.style.minWidth = '100px'; }</span></span></code> </pre> </li><li>  Die meisten Entwickler verwendeten den Visual Studio Code-Code-Editor, in dem Flow nicht so gut unterst√ºtzt wird wie TypeScript.  Die automatische Vervollst√§ndigung (IntelliSense) funktionierte w√§hrend der Entwicklung nicht immer und die Code-Navigation war instabil.  Ich m√∂chte den gleichen Entwicklungskomfort haben wie beim Schreiben in C # in Visual Studio. </li></ol><br>  Einige Entwickler hatten die Idee, zu TypeScript zu wechseln.  Um die Idee des √úbergangs zu testen und das Management zu √ºberzeugen, haben wir uns entschlossen, den Prototyp auszuprobieren. <br><br><h2>  Prototyp </h2><br>  Wir wollten zwei Ideen an Prototypen testen: <br><br><ol><li>  Versuchen Sie, das gesamte Projekt zu √ºbersetzen. </li><li>  Richten Sie das Projekt so ein, dass Sie Flow und Typescript parallel verwenden k√∂nnen. </li></ol><br>  F√ºr die erste Idee wurde ein Dienstprogramm ben√∂tigt, das alle Projektdateien konvertiert.  Im Netzwerk fand man eine davon.  Nach der Beschreibung zu urteilen, konnte sie am meisten √ºbersetzen, aber einige der √Ñnderungen m√ºssten von uns selbst bearbeitet werden, oder das Dienstprogramm selbst sollte hinzugef√ºgt werden.  Wir konnten ein Testprojekt mit einer kleinen Anzahl von Dateien konvertieren.  Das eigentliche Projekt konnte jedoch nicht kompiliert werden, es w√§re notwendig gewesen, zu viele Dateien zu bearbeiten.  Wir haben beschlossen, nicht in diese Richtung weiterzumachen, da: <br><br><ol><li>  Es gab noch viel zu tun!  Und w√§hrend wir das Projekt abschlie√üen, werden die verbleibenden Teams weiterhin neue Funktionen entwickeln, Fehler beheben und Tests schreiben.  Au√üerdem w√ºrde das Zusammenf√ºhren von Dateien viel Zeit in Anspruch nehmen. </li><li>  Selbst wenn wir das Projekt auf diese Weise √ºbersetzen w√ºrden, wie viel Arbeit m√ºssten unsere Tester dann leisten! </li></ol><br>  Obwohl wir diese Option aufgegeben haben, haben wir n√ºtzliche Erfahrungen damit gesammelt.  Es wurde deutlich, wie viel Arbeit ungef√§hr erforderlich ist, um jede Datei zu √ºbersetzen.  So sieht die √úbersetzung einer einfachen React-Komponente aus. <br> <a href=""><img src="https://habrastorage.org/webt/xa/d8/h1/xad8h1wgyhpfy1jydrgxmuqy1ga.jpeg" alt="Vergleichen von Flow- und TypeScript-Code"><br></a> <br><br>  Wie Sie sehen, gibt es nicht viele √Ñnderungen.  Grunds√§tzlich sind sie wie folgt: <br><br><ul><li>  entferne // @ flow; </li><li>  Ersetzen Sie den Typ durch eine vertraute Oberfl√§che. </li><li>  Zugriffsmodifikatoren hinzuf√ºgen; </li><li>  Ersetzen Sie Typen durch Typen aus ts-Bibliotheken (aus dem Beispiel im Bild: Ereignishandler und die Ereignisse selbst). </li></ul><br>  Die Implementierung der zweiten Idee w√ºrde eine weitere Entwicklung erm√∂glichen, jedoch bereits in TypeScript und im Hintergrund, um die vorhandene Codebasis langsam zu √ºbersetzen.  Dies bot mehrere Vorteile: <br><br><ol><li>  Einfach zu √ºbersetzen, ohne Angst zu haben, etwas zu verpassen. </li><li>  Einfach zu testen. </li><li>  Einfache Zusammenf√ºhrung von √Ñnderungen. </li></ol><br>  Es war jedoch nicht ganz klar, ob das Projekt so konfiguriert werden konnte, dass zwei Arten der Eingabe parallel ausgef√ºhrt werden k√∂nnen.  Eine Suche im Internet f√ºhrte zu nichts Konkretem, also begannen sie, es selbst zu kl√§ren.  Theoretisch pr√ºft der Flow Analyzer nur Dateien mit der Erweiterung js / jsx und enth√§lt einen Kommentar: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//@flow  /* @flow */</span></span></code> </pre><br>  F√ºr den TypeScript-Compiler m√ºssen Dateien die Erweiterung ts / tsx haben.  Daraus folgt, dass beide Schreibans√§tze gleichzeitig funktionieren und sich nicht gegenseitig st√∂ren sollten.  Auf dieser Grundlage haben wir die Projektumgebung eingerichtet.  Aus der Erfahrung des ersten Prototyps haben wir einige Dateien √ºbersetzt.  Projekt kompiliert, Client gestartet - alles hat wie bisher funktioniert! <br><br><h2>  Gr√ºnes Licht </h2><br>  Und eines sch√∂nen Tages - am Tag der Sprintplanung - hat unser Team im Backlog eine User Story ‚ÄûStart Switching to TypeScript‚Äú mit der folgenden Liste von Arbeiten: <br><br><ol><li>  Richten Sie das Webpack ein. </li><li>  Konfigurieren Sie tslint. </li><li>  Richten Sie eine Testumgebung ein. </li><li>  √úbersetzen Sie Dateien in TypeScript. </li></ol><br><h3>  Webpack-Setup </h3><br>  Der erste Schritt besteht darin, Webpack den Umgang mit Dateien mit der Erweiterung ts / tsx beizubringen.  Zu diesem Zweck haben wir dem Abschnitt "Regeln" der Konfigurationsdatei eine Regel hinzugef√ºgt.  Urspr√ºnglich verwendeter ts-loader: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// webpack.config.js const rules = [ ... { test: /\.(ts|tsx)?$/, loader: 'ts-loader', options: { transpileOnly: true } } ];</span></span></code> </pre><br>  Um die Assembly zu beschleunigen, wurde die Typpr√ºfung <code>transpileOnly: true</code> , weil  Die IDE zeigt bereits Fehler beim Schreiben von Code an. <br><br>  Als wir jedoch mit der √úbersetzung unserer Redux-Aktionen begannen, wurde klar, dass sie das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Plugin babel-plugin-transform-class-display-name</a> ben√∂tigen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">um</a> zu funktionieren.  Dieses Plugin f√ºgt allen Klassen eine statische displayName-Eigenschaft hinzu.  Nach der √úbersetzung wurden nur ts-loader-Aktionen verarbeitet, sodass keine babel-Plugins auf sie angewendet werden konnten.  Infolgedessen haben wir ts-loader aufgegeben und die vorhandene Regel f√ºr js / jsx durch Hinzuf√ºgen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">babel</a> / preset-typescript erweitert: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// webpack.config.js const rules = [ { test: /\.(ts|tsx|js|jsx)?$/, exclude: /node_modules|lib/, loader: 'babel-loader?cacheDirectory=true' }, ... ];</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// .babelrc.js const presets = [ [ "@babel/preset-env", { "modules": !isTest ? false : 'commonjs', "useBuiltIns": false } ], "@babel/typescript", "@babel/preset-react", ];</span></span></code> </pre><br>  Damit der TypeScript-Compiler ordnungsgem√§√ü funktioniert, m√ºssen Sie die Konfigurationsdatei tsconfig.json hinzuf√ºgen, die der Dokumentation entnommen wurde. <br><br><h3>  Konfigurieren Sie Tslint </h3><br>  Mit Flow geschriebener Code wurde zus√§tzlich mit eslint √ºberpr√ºft.  TypeScript hat sein Gegenst√ºck, tslint.  Anfangs wollte ich alle Regeln von eslint auf tslint √ºbertragen.  Es wurde versucht, Regeln √ºber das Plugin tslint-eslint-rules zu synchronisieren, aber die meisten Regeln werden nicht unterst√ºtzt.  Es ist auch m√∂glich, eslint zu verwenden, um ts-Dateien mit dem Typenskript-eslint-Parser zu √ºberpr√ºfen.  Leider kann nur ein Parser mit eslint verbunden werden.  Wenn Sie nur ts-parser f√ºr alle Dateitypen verwenden, treten sowohl in js-Dateien als auch in ts viele seltsame Fehler auf.  Infolgedessen haben wir die empfohlenen Regeln verwendet, die auf unsere Anforderungen erweitert wurden: <br><br><pre> <code class="json hljs">// tslint.json <span class="hljs-string"><span class="hljs-string">"extends"</span></span>: [<span class="hljs-string"><span class="hljs-string">"tslint:recommended"</span></span>, <span class="hljs-string"><span class="hljs-string">"tslint-react"</span></span>]</code> </pre><br><h3>  √úbersetzen Sie eine Datei in TypeScript </h3><br>  Jetzt ist alles fertig und Sie k√∂nnen mit der √úbersetzung von Dateien beginnen.  Zun√§chst haben wir uns entschlossen, eine kleine React-Komponente zu √ºbertragen, die im gesamten Projekt verwendet wird.  Die Wahl fiel auf die Komponente ‚ÄûButton‚Äú. <br><br><img src="https://habrastorage.org/webt/ka/fg/ri/kafgri2le33qadvazbpa4creaxk.png" alt="Schaltfl√§chen im projekt"><br><br>  W√§hrend des √úbersetzungsprozesses ist ein Problem aufgetreten: Nicht alle Bibliotheken von Drittanbietern verf√ºgen √ºber TypeScript-Typisierung, z. B. bem-cn-lite.  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TypeSearch-</a> Ressource von Microsoft wurde die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typbibliothek</a> daf√ºr nicht gefunden.  F√ºr fast alle erforderlichen Bibliotheken haben wir Bibliotheken vom Typ ts gefunden und verbunden.  Eine L√∂sung bestand darin, eine Verbindung √ºber erforderlich herzustellen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> b = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'bem-cn-lite'</span></span>);</code> </pre><br>  Gleichzeitig wurde das Problem mit dem Mangel an Typen nicht gel√∂st.  Aus diesem Grund haben wir mit dem Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dts-gen</a> selbst einen ‚ÄûStub‚Äú f√ºr die Typen generiert: <br><br><pre> <code class="bash hljs">dts-gen -m bem-cn-lite</code> </pre><br>  Das Dienstprogramm hat eine Datei mit der Erweiterung * .d.ts generiert.  Die Datei wurde im Ordner @types abgelegt und tsconfig.json konfiguriert: <br><br><pre> <code class="json hljs">// tsconfig.json <span class="hljs-string"><span class="hljs-string">"typeRoots"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"./@types"</span></span>, <span class="hljs-string"><span class="hljs-string">"./node_modules/@types"</span></span> ]</code> </pre><br>  Als n√§chstes haben wir in Analogie zum Prototyp die Komponente √ºbersetzt.  Das Projekt kompiliert, den Client gestartet - alles hat funktioniert!  Aber die Tests brachen ab. <br><br><h3>  Setup der Testumgebung </h3><br>  Zum Testen der Anwendung verwenden wir Storybook und Mocha. <br><br>  Das Storybook wird f√ºr visuelle Regressionstests verwendet ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> ).  Wie das Projekt selbst wird es mit Webpack erstellt und verf√ºgt √ºber eine eigene Konfigurationsdatei.  Um mit ts / tsx-Dateien arbeiten zu k√∂nnen, musste sie daher analog zur Konfiguration des Projekts selbst konfiguriert werden. <br><br>  W√§hrend wir das Projekt mit ts-loader erstellt haben, haben wir die Ausf√ºhrung von Mocha-Tests eingestellt.  F√ºgen Sie der Testumgebung ts-node hinzu, um dieses Problem zu l√∂sen: <br><br><pre> <code class="json hljs">// mocha.opts --require @babel/polyfill --require @babel/register --require test/index.js --require tsconfig-paths/register --require ts-node/register/transpile-only --recursive --reporter mochawesome --reporter-options reportDir=../../bin/TestResults,reportName=js-test-results,inlineAssets=<span class="hljs-literal"><span class="hljs-literal">true</span></span> --exit</code> </pre><br>  Aber nachdem Sie zu Babel gewechselt sind, k√∂nnen Sie es loswerden. <br><br><h2>  Die Probleme </h2><br>  W√§hrend des √úbersetzungsprozesses stie√üen wir auf eine gro√üe Anzahl von Problemen unterschiedlicher Komplexit√§t.  Sie waren haupts√§chlich auf unsere mangelnde Erfahrung mit TypeScript zur√ºckzuf√ºhren.  Hier sind einige davon: <br><br><ol><li>  Importieren Sie Komponenten / Funktionen aus verschiedenen Dateitypen. </li><li>  √úbersetzung von Komponenten h√∂herer Ordnung. </li><li>  Verlust der √Ñnderungsgeschichte. </li></ol><br><h3>  Importieren Sie Komponenten / Funktionen aus verschiedenen Dateitypen </h3><br>  Bei der Verwendung von Komponenten / Funktionen aus verschiedenen Dateitypen musste die Dateierweiterung angegeben werden: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { foo } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./utils.ts'</span></span></code> </pre><br>  Auf diese Weise k√∂nnen Sie den Webpack- und eslint-Konfigurationsdateien g√ºltige Erweiterungen hinzuf√ºgen: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// webpack.config.js resolve: { ‚Ä¶ extensions: [ '.tsx', '.ts', '.js' ] }</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// .eslintrc.js "import/resolver": { "node": { "extensions": [ ".js", ".jsx", ".ts", ".tsx", ".json" ] } }</span></span></code> </pre><br><h3>  √úbersetzung von Komponenten h√∂herer Ordnung </h3><br>  Von allen Dateitypen verursachte die √úbersetzung von Komponenten h√∂herer Ordnung (HOC) die meisten Probleme.  Dies ist eine Funktion, die eine Komponente am Eingang nimmt und eine neue Komponente zur√ºckgibt.  Es wird haupts√§chlich zur Wiederverwendung von Logik verwendet. Beispielsweise kann es eine Funktion sein, die die M√∂glichkeit bietet, Elemente auszuw√§hlen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MyComponentWithSeletedItem = withSelectedItem(MyComponent);</code> </pre><br>  Oder die ber√ºhmteste Verbindung aus der Redux-Bibliothek.  Die Eingabe solcher Funktionen ist nicht trivial und erfordert das Anschlie√üen einer zus√§tzlichen Bibliothek, um mit Typen arbeiten zu k√∂nnen.  Ich werde den √úbersetzungsprozess nicht im Detail beschreiben, da Sie im Internet viele Handb√ºcher zu diesem Thema finden.  Kurz gesagt, das Problem ist, dass eine solche Funktion abstrakt ist: Jede Komponente mit einem beliebigen Satz von Eigenschaften kann Eingaben akzeptieren.  Dies kann eine Button-Komponente mit den Eigenschaften title und onClick oder eine Picture-Komponente mit den Eigenschaften alt und imgUrl sein.  Die Menge dieser Eigenschaften ist uns nicht im Voraus bekannt, nur die Eigenschaften, die die Funktion selbst hinzuf√ºgt, sind bekannt.  Damit der TypeScript-Compiler bei der Verwendung von Komponenten, die mit Hilfe solcher Funktionen erhalten wurden, nicht schw√∂rt, m√ºssen die Eigenschaften, die die Funktion aus dem R√ºckgabetyp hinzuf√ºgt, "ausgeschnitten" werden. <br><br>  Dazu ben√∂tigen Sie: <br><br><ol><li>  Ziehen Sie diese Eigenschaften in die Benutzeroberfl√§che: <br><br><pre> <code class="javascript hljs">interface IWithSelectItem { <span class="hljs-attr"><span class="hljs-attr">selectedItem</span></span>: number; handleSelectedItemChange: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">id: number</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>; }</code> </pre></li><li>  Entfernen Sie alle Eigenschaften, die in die IWithSelectItem-Schnittstelle eingegeben werden, von der Komponentenschnittstelle.  Dazu k√∂nnen Sie die Operation Diff &lt;T, U&gt; aus der Bibliothek der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogrammtypen verwenden</a> . <br><br><pre> <code class="javascript hljs">React.ComponentType&lt;Diff&lt;TPropsComponent, IWithSelectItem&gt;&gt;</code> </pre></li></ol><br><h3>  Verlust der √Ñnderungsgeschichte </h3><br>  Um mit Quellen zu arbeiten, z. B. Code√ºberpr√ºfung, verwenden wir Team Foundation Server.  Bei der √úbersetzung von Dateien sind wir auf eine unangenehme Funktion gesto√üen.  Anstelle einer ge√§nderten Datei werden zwei im Anforderungspool angezeigt: <br><br><ul><li>  remote - die alte Version der Datei; </li><li>  erstellt - neue Version. <br><br><img src="https://habrastorage.org/webt/rd/cs/ac/rdcsac47lojd8ojlyfvckqhgrlc.jpeg" alt="Wie es in Pull-Anfrage betrifft"></li></ul><br>  Dieses Verhalten wird beobachtet, wenn die Datei viele √Ñnderungen aufweist (√Ñhnlichkeit &lt;50%), z. B. bei kleinen Dateien.  Um dieses Problem zu l√∂sen, haben wir versucht: <br><br><ul><li>  git mv befehl </li><li>  F√ºhren Sie zwei Commits aus: Der erste √§ndert die Dateierweiterung, der zweite enth√§lt sofortige Korrekturen. </li></ul><br>  Leider haben uns beide Ans√§tze nicht geholfen. <br><br><h2>  Zusammenfassung </h2><br>  Verwenden Sie Flow oder TypeScript - jeder entscheidet f√ºr sich selbst, beide Ans√§tze haben ihre Vor- und Nachteile.  Wir haben uns f√ºr TypeScript entschieden.  Und Sie waren aus eigener Erfahrung √ºberzeugt: Wenn Sie sich f√ºr einen der Ans√§tze entschieden und pl√∂tzlich festgestellt haben, dass er auch nach drei Jahren nicht zu Ihnen passt, k√∂nnen Sie ihn jederzeit √§ndern.  Und f√ºr einen reibungsloseren √úbergang k√∂nnen Sie das Projekt wie uns so konfigurieren, dass es parallel arbeitet. <br><br>  Zum Zeitpunkt des Schreibens haben wir noch nicht vollst√§ndig auf TypeScript umgestellt, aber wir haben den Hauptteil - den "Kern" des Projekts - bereits neu geschrieben.  In der Codebasis finden Sie Beispiele f√ºr die √úbersetzung aller Arten von Dateien, von einer einfachen Reaktionskomponente zu Komponenten h√∂herer Ordnung.  Au√üerdem wurden Schulungen f√ºr alle Entwicklungsteams durchgef√ºhrt, und jetzt √ºbertr√§gt jedes Team im Rahmen seiner Aufgabe einen Teil des Projekts auf diese Aufgaben. <br><br>  Wir planen, den √úbergang vor Ende des Jahres abzuschlie√üen, Tests und ein Storybook zu √ºbersetzen und vielleicht sogar einige unserer tslint-Regeln zu schreiben. <br><br>  Nach meinen pers√∂nlichen Gef√ºhlen kann ich sagen, dass die Entwicklung weniger Zeit in Anspruch nahm, die Typpr√ºfung im laufenden Betrieb durchgef√ºhrt wurde, ohne das System zu laden, und dass Fehlermeldungen f√ºr mich pers√∂nlich verst√§ndlicher wurden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462055/">https://habr.com/ru/post/de462055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462043/index.html">Intelligentes Angeln bei FishSensor</a></li>
<li><a href="../de462045/index.html">Eine andere Meinung zum Unterschied zwischen bin, sbin, usr / bin, usr / sbin</a></li>
<li><a href="../de462047/index.html">Blockchain als digitale Transformationsplattform</a></li>
<li><a href="../de462049/index.html">Wie man 2019 ein gefragter Spezialist auf dem Gebiet der Datenwissenschaft wird</a></li>
<li><a href="../de462051/index.html">Analyse: Wie man mit Anlagen in Aktienindizes und ETFs Geld verdient</a></li>
<li><a href="../de462065/index.html">Ivan aka BANO.notIT: ‚ÄûWenn OSM anf√§ngt, sich selbst zu bewerben und zu f√∂rdern, werden neue Leute mit neuen Ideen dazu kommen.‚Äú</a></li>
<li><a href="../de462067/index.html">LinkedIn und die Kunst der Eigenwerbung</a></li>
<li><a href="../de462069/index.html">Pilot mit einer Bank: Wie ein Startup nicht auf der Landebahn abst√ºrzen kann</a></li>
<li><a href="../de462071/index.html">Nicht zuf√§lliger Generator von zuf√§lligen einmaligen Tinkoff-Bankcodes</a></li>
<li><a href="../de462073/index.html">Nachteile des Standard-Proof-of-Stake oder wie wir den Konsens-Suchalgorithmus gew√§hlt haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>