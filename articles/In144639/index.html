<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйЁЯП╜тАНтЪЦя╕П ЁЯЪгЁЯП╝ ЁЯОи рд░реАрдпрд▓рдЯрд╛рдЗрдо рдбреИрд╢рдмреЛрд░реНрдб ЁЯСиЁЯП╛тАНЁЯФз ЁЯХ│я╕П ЁЯСйтАНтЬИя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рджрд┐рди, рдХрд╛рдо рдкрд░ рджреЗрд░ рд░рд╛рдд рдмреИрдареЗ, рдореИрдВ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рд╛ рддреНрд╡рд░рд┐рдд рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдЬреЛ рдЕрдкрд╛рдЪреЗ рдпрд╛ рдирдЧреНрдиреЗрдХреНрд╕ рд▓реЙрдЧреНрд╕ рд╕реЗ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдпрд╛ рдЕрдиреНрдп рдЪреЗрддрд╛рд╡рдирд┐рдпреЛрдВ рдХреЗ рдЧреНрд░рд╛рдл рдХреЛ рдЖрдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд░реАрдпрд▓рдЯрд╛рдЗрдо рдбреИрд╢рдмреЛрд░реНрдб</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/144639/"><img src="https://habrastorage.org/getpro/habr/post_images/f97/ba1/704/f97ba17043c09c89d3344bcc71b17f89.png" align="left"><br>  рдПрдХ рджрд┐рди, рдХрд╛рдо рдкрд░ рджреЗрд░ рд░рд╛рдд рдмреИрдареЗ, рдореИрдВ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рд╛ рддреНрд╡рд░рд┐рдд рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдЬреЛ рдЕрдкрд╛рдЪреЗ рдпрд╛ рдирдЧреНрдиреЗрдХреНрд╕ рд▓реЙрдЧреНрд╕ рд╕реЗ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдпрд╛ рдЕрдиреНрдп рдЪреЗрддрд╛рд╡рдирд┐рдпреЛрдВ рдХреЗ рдЧреНрд░рд╛рдл рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░реЗрдЧрд╛ред  рд░реАрдпрд▓рдЯрд╛рдЗрдо рд╢рдмреНрдж рдереЛрдбрд╝рд╛ рдЪрд╛рдкрд▓реВрд╕реА рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдо рдЪрд╛рд░реНрдЯ рдкрд░ рд╣рд░ 3 рд╕реЗрдХрдВрдб рдореЗрдВ рдПрдХ рдЕрдкрдбреЗрдЯ рджреЗрдЦрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдбреИрд╢рдмреЛрд░реНрдб рдпреЛрдЬрдирд╛ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реИ, рдЦрд╛рд╕рдХрд░ рдЬрдм рдПрдХ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рд▓рдбрд╝рд╛рдИ рдореЗрдВ рдЙрддрд╛рд░рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк рдмреИрдардХрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рд╕рд░реНрд╡рд░ рдкрд░ рдХреИрд╕реЗ рдлреИрд▓рддрд╛ рд╣реИ, рдЧреНрд░рд╛рдл рдкрд░ рдШрдЯрддрд╛ рдХреА рджрд┐рд╢рд╛ рдмрджрд▓ рд░рд╣рд╛ рд╣реИред <a name="habracut"></a><br><br>  <b>рддреБрд░рдВрдд рдореИрдВ рджрд┐рдЦрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдХреНрдпрд╛ рд╣реБрдЖ</b> <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.youtube.com/embed/Dw6px5I85dE%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700256,15700259,15700262,15700265,15700271,15700283&amp;usg=ALkJrhhH_-y6VI6dlMqmwnrioprTrsJW9Q" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>рд╕рд░реНрд╡рд░ рд╕рд╛рдЗрдб</b> <br><br>  рдкреНрд░рддреНрдпреЗрдХ рд╕рд░реНрд╡рд░ рдкрд░ рдЬрд╣рд╛рдВ рдХреЛрдИ рд▓реЙрдЧ рд╣реЛрддрд╛ рд╣реИ, рд╣рдо рдЙрд╕ рдкрд░ рд▓реИрдЪ рдХрд░рддреЗ рд╣реИрдВ <br><pre><code class="bash hljs">tail -f /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> | perl frenko_sender.pl</code> </pre> <br><br>  frenko_sender.pl <br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/local/bin/perl -w use strict; use IO::Socket; my($sock, $server_host, $msg, $PORTNO); $PORTNO = 15555; $server_host = '188.xxx'; $sock = IO::Socket::INET-&gt;new(Proto =&gt; 'udp', PeerPort =&gt; $PORTNO, PeerAddr =&gt; $server_host) or die "Creating socket: $!\n"; while (&lt;&gt;){ $sock-&gt;send($_) }</span></span></code> </pre><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, frenko_sender.pl рдмрд╕ рдпреВрдбреАрдкреА рд▓реЙрдЧ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рд▓рд╛рдЗрди рдХреЛ рд╕рд░реНрд╡рд░ рдкрд░ рднреЗрдЬрддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╡реИрд╕реЗ, рдЖрдк рдЗрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдмрд┐рдирд╛ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрджрд┐ рдЖрдк udp рд▓реЙрдЧ рдХреЛ рддреБрд░рдВрдд рдЙрд╕ рдЬрдЧрд╣ рдкрд░ рднреЗрдЬрдирд╛ рд╕рд┐рдЦрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреА рд╣рдореЗрдВ рдЬрд╝рд░реВрд░рдд рд╣реИ, рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдФрд░ рдЬреИрд╕рд╛ рдХрд┐ <a href="https://habrahabr.ru/users/dreadatour/" class="user_link">Dreadatour</a> nc ( <a href="https://habrahabr.ru/users/dreadatour/" class="user_link">Netcat</a> ) рдиреЗ рдиреЛрдЯ рдХрд┐рдпрд╛, рдХрд┐рд╕реА рдиреЗ рднреА рд░рджреНрдж рдирд╣реАрдВ рдХрд┐рдпрд╛: <br><br><pre> <code class="bash hljs">tail -f /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> | nc -u 188.xxx 15555</code> </pre><br>  рдПрдХ рдореЛрддреА рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рдмреАрдЪ рд▓реЛрдб рдХреЛ рд╡рд┐рддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╣рд╛рдБ рд▓реБрдЯреЗрд░реЛрдВ рдХреЗ рдПрдХ рджреМрд░ рдХреЛ рдкреЗрдВрдЪ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ рдЬреЛ рд▓реЙрдЧ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░реЗрдЧрд╛ред <br><br>  рдЕрдм рдЙрд╕ рд╕рд░реНрд╡рд░ (frenko_listen.pl) рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬреЛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдЖрдВрдХрдбрд╝реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИ, IO :: Lambda рдХреЗ рд▓рд┐рдП Dima Karasik рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЙрд╕ рдкрд░ рдерд╛ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдЪреБрдирд╛ рдерд╛ред <br><br>  frenko_listen.pl рд▓рд╛рдЗрди (1-30) <br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/local/bin/perl -w use strict; use warnings; use Cache::Memcached::Fast; use IO::Socket; use IO::Lambda qw(:all); use IO::Lambda::Socket qw(:all); use Getopt::Std; use POSIX qw/setsid/; my $PORT=15555; my $LOCALHOST ='188.xxx'; my $CONFIG='./frenko_config'; my $time_to_die=0; my $memd = new Cache::Memcached::Fast({ servers =&gt; [ { address =&gt; 'localhost:11211', weight =&gt; 2.5 }], connect_timeout =&gt; 0.2, io_timeout =&gt; 0.5, close_on_error =&gt; 1, max_failures =&gt; 3, failure_timeout =&gt; 2, ketama_points =&gt; 150, nowait =&gt; 1, utf8 =&gt; ($^V &gt;= 5.008001 ? 1 : 0), });</span></span></code> </pre><br>  $ LOCALHOST рд╣рдорд╛рд░реЗ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╛рд╣рд░реА IP рдкрддрд╛ рд╣реИ рдЬреЛ UDP рдкрд░ рдкреЛрд░реНрдЯ 15555 рдкрд░ рд╕реБрдирддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдкрдиреЗ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛ рдерд╛, рд╣рдо рд╕рдВрд╕реНрдорд░рдг =) рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рдПрдБ рд▓рд┐рдЦреЗрдВрдЧреЗред <br><br>  frenko_listen.pl рд▓рд╛рдЗрди (32-46) <br><pre> <code class="php hljs">my %Regexps=(); load_config(\%Regexps); sub load_config{ my $re=shift; %{$re}=(); open (F,$CONFIG) || <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">'cant open config '</span></span>.$CONFIG; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (&lt;F&gt;){ next <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> /^[\s\n]+$/; my ($regexp,$key,undef,$rate)=split(<span class="hljs-string"><span class="hljs-string">"\t"</span></span>,$_,<span class="hljs-number"><span class="hljs-number">4</span></span>); $$re{$key}{re}=$regexp; $$re{$key}{rate}=$rate || <span class="hljs-number"><span class="hljs-number">1</span></span>; } close (F); }</code> </pre><br>  рдпрд╣рд╛рдВ рд╣рдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╣рдо рдЖрдБрдХрдбрд╝реЛрдВ рдХреА рдЧрдгрдирд╛ рдХреЗ рдирд┐рдпрдореЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВрдЧреЗред  рд╡рд┐рдиреНрдпрд╛рд╕ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br>  frenko_config <br><pre> <code class="bash hljs">errdescr= 9 [E2;Javascript error at web interface - nginx acclog] 1 errorcode=\d+ 10 [E3;Fail upload with errorcode - nginx acclog] 1</code> </pre><br>  рдкрд╣рд▓реЗ рдХреЙрд▓рдо рдореЗрдВ рдПрдХ рдирд┐рдпрдорд┐рддрддрд╛ рд╣реИ, рдлрд┐рд░ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдХреБрдВрдЬреА рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╣рдо рдЪрд╛рд░реНрдЯ рдкрд░ рдбреЗрдЯрд╛ рдкрдврд╝реЗрдВрдЧреЗ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВрдЧреЗ, рддреАрд╕рд░реЗ рдХреЙрд▓рдо рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╡рд┐рд╡рд░рдг рдЫреЛрдЯрд╛ рдФрд░ рдкреВрд░реНрдг рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдВрддрд┐рдо рдХреЙрд▓рдо рдореЗрдВ рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдбреЗрдЯрд╛ рдХреЛ рдмрдЪрд╛рдПрдВрдЧреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рдЧреНрд░рд╛рдл рдкрд░ рд╣рд┐рдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╣реА рдЧреНрд░рд╛рдл рдкрд░ рдШрдЯрддрд╛ рдХреЗ рдмреАрдЪ рдПрдХ рдмрдбрд╝рд╛ рдЕрдВрддрд░ рд╣реЛрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рджреМрд░рд╛рди 3 рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдФрд░ 30,000 рд╣рд┐рдЯ, рд╡реЗ рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рдШреБрдЧрдгрдХреАрдп рдкреИрдорд╛рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдпрд╣ рд╕реБрдВрджрд░ рд╣реЛред  рдЗрд╕рд▓рд┐рдП, рд╣рд┐рдЯ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗ 0.1 - рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ 10% рдореЗрдВ рд╣рдо рд╣рд┐рдЯ рдХрд╛рдЙрдВрдЯрд░ рдХреЛ рдмрдврд╝рд╛рдПрдВрдЧреЗред <br><br>  frenko_listen.pl рд▓рд╛рдЗрди (49-80) <br><pre> <code class="php hljs">sub sendstat{ my ($key,$rate,$memd)= @ _; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($rate==<span class="hljs-number"><span class="hljs-number">1</span></span> || $rate&lt;rand()){ saver($key,$_,$memd) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">1200</span></span>) } } sub saver{ my ($key,$accur,$memd)=@ _; my $memc=startpoint($accur); $key=$key.<span class="hljs-string"><span class="hljs-string">'_'</span></span>.$accur.<span class="hljs-string"><span class="hljs-string">'_'</span></span>.$memc; my $ttl=<span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($accur==<span class="hljs-number"><span class="hljs-number">300</span></span>){$ttl=<span class="hljs-number"><span class="hljs-number">7400</span></span>} elsif($accur==<span class="hljs-number"><span class="hljs-number">1200</span></span>){$ttl=<span class="hljs-number"><span class="hljs-number">87000</span></span>} $memd-&gt;set($key,<span class="hljs-number"><span class="hljs-number">1</span></span>,$ttl) unless $memd-&gt;incr($key); } sub startpoint{ my $accur=shift; my $t=time(); my $x=$t % $accur; my $memc=$t-$x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $memc; }</code> </pre><br>  рдпрд╣рд╛рдВ рд╣рдо рд╕реАрдзреЗ рдЕрдкрдиреЗ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХрд╛рдЙрдВрдЯрд░ рдмрдврд╝рд╛рддреЗ рд╣реИрдВред  рдФрд░ рд╣рдо рд╢реЗрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП 2x, 300 рдФрд░ 1200 рджреВрд╕рд░реА рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдореЗрдВ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╣рд░ 3 рд╕реЗрдХрдВрдб рдореЗрдВ рдЕрдкрдбреЗрдЯ рд╣реЛрддреЗ рд╣реИрдВ, рд╣рд░ 5 рдорд┐рдирдЯ рдореЗрдВ рдПрдХ рдмрд╛рд░ рдФрд░ 20 рдорд┐рдирдЯ рдХреЗ рдмрд╛рджред  2 рд╕реЗрдХрдВрдб рд╕реЗрд▓ рдХреЗ рд▓рд┐рдП рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдореЗрдореНрдХреЗ рдХреА рдХреБрдВрдЬреА (рд╣рдорд╛рд░реЗ frenko_config рд╕реЗ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рддреНрд░реБрдЯрд┐ рдХреЗ рд▓рд┐рдП) рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: 300-300 рд╕реЗрд▓ рдХреЗ рд▓рд┐рдП 9_2_1338129044, 9_2_1338129046: 9_300_1338121800, 9_300_1338122100 рдЖрджрд┐ред <br><br>  frenko_listen.pl рд▓рд╛рдЗрди (82-128) <br><pre> <code class="ruby hljs">sub udp_server(&amp;@) { my ($callback, $port, $host) = @ <span class="hljs-number"><span class="hljs-number">_</span></span> ; my $server = IO::Socket::INET-&gt; new( Proto =&gt; <span class="hljs-string"><span class="hljs-string">'udp'</span></span>, LocalPort =&gt; $port, LocalHost =&gt; $host, Blocking =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $! <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> $server; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lambda { context $server, <span class="hljs-number"><span class="hljs-number">65536</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>; recv { my ( $addr, $msg) = @ <span class="hljs-number"><span class="hljs-number">_</span></span> ; again; context $callback-&gt; (), $addr, $msg; &amp;tail(); }} } sub handle_incoming_connection_udp { lambda { my ( $addr, $msg ) = @ <span class="hljs-number"><span class="hljs-number">_</span></span> ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (length($msg)&gt;<span class="hljs-number"><span class="hljs-number">5</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! index($msg,<span class="hljs-string"><span class="hljs-string">'reconfig'</span></span>)){ load_config(\%Regexps); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { foreach (keys %Regexps){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($msg=~<span class="hljs-regexp"><span class="hljs-regexp">/$Regexps{$_}{re}/</span></span>){ sendstat($_,$Regexps{$_}{rate},$memd); last; } } } } } } sub runserv{ my $server = udp_server { handle_incoming_connection_udp } $PORT,$LOCALHOST; die $server <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> ref $server; $server-&gt; wait; }</code> </pre><br>  рд▓реЙрдЧ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рд╕рдм рд╣реИрдВрдбрд▓_рдЗрдирд┐рдВрдЧ_рдХрдиреЗрдХреНрд╢рди_рдпреВрдбреАрдкреА рдХреЗ рдЕрдВрджрд░ рд╣реЛрддреА рд╣реИред  рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдпрджрд┐ рд░реЗрдЦрд╛ 5 рд╡рд░реНрдгреЛрдВ рд╕реЗ рдЕрдзрд┐рдХ рд▓рдВрдмреА рд╣реИ, рддреЛ рд╣рдо рдЗрд╕реЗ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдХреЙрдиреНрдлрд┐рдЧ рд╕реЗ рд▓реЛрдб рдХрд┐рдП рдЧрдП рд╣рдорд╛рд░реЗ рдирд┐рдпрдорд┐рдд рдХреА рд╕реВрдЪреА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред <br><br>  рдПрдХ рд╕реНрдерд┐рддрд┐ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рддреАрди рд╕реМ рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ рд▓реЙрдЧ рд╕реБрдирддреЗ рд╣реИрдВ, рдФрд░ рдЖрдкрдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдПрдХ рдирдИ рдирд┐рдпрдорд┐рддрддрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдпрджрд┐ рдЖрдк frenko_listen.pl рдХреЛ рд░реЛрдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдбреЗрдЯрд╛ рдЦреЛ рджреЗрдВрдЧреЗред  рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╣рдорд╛рд░реЗ рд╕рд░реНрд╡рд░ рдХреЛ рдлрд╝реНрд▓рд╛рдИ рдкрд░ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рдЦрд╛рдирд╛ рд╣реЛрдЧрд╛, рдЬреЛ рдКрдкрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЕрдЧрд░ рд╣рдореЗрдВ рдПрдХ рд▓рд╛рдЗрди рдорд┐рд▓рддреА рд╣реИ рдЬреЛ 'рд░реАрдХрдлрд┐рдЧ' рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рддреЛ рд╣рдо рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдХреЛ рдУрд╡рд░рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рд╣рд╛рдВ, рд░реИрдкрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдордд рднреВрд▓реЛ рдЬреЛ рдЧрд┐рд░рд╛рд╡рдЯ рдХреЗ рджреМрд░рд╛рди рд╣рдорд╛рд░реЗ frenko_sender.pl рдХреЛ рдмрдврд╝рд╛рдПрдЧрд╛ред <br><br>  рдпрд╣рд╛рдВ, рд╡реИрд╕реЗ, рдЖрдкрдХреЛ рдпрд╣ рд╕реЛрдЪрдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ рдХрд┐ рдорд╛рдЗрд▓реЗрдЬ =) рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХреИрд╕реЗ рдХрд░реЗрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрд╡реГрддреНрддрд┐ рджреНрд╡рд╛рд░рд╛ рдХреНрд░рдордмрджреНрдз рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд░рдо рдореЗрдВ рдЪрд▓рд╛рдПрдВред  рдпрд╣реА рд╣реИ, рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрдиреНрдп рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдореЗрдЬрдмрд╛рди рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдирд┐рдпрдорд┐рдд рд╣реЛрд╕реНрдЯ рдХреЗ рд╕рд╛рде рд░рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреБрдЫ рдирд┐рдпрдорд┐рдд рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рд╕реВрдЪрдХрд╛рдВрдХ () рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдлрд┐рд▓рд╣рд╛рд▓, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЬрдм 1042 рд▓реЙрдЧ рд▓рд╛рдЗрдиреЗрдВ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб (15 рдирд┐рдпрдорд┐рдд рдХреЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрдВ) рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╣реЛрддреА рд╣реИрдВ, рддреЛ рдкреНрд░реЛрд╕реЗрд╕рд░ рд▓реЛрдб 30-32% рд╣реЛрддрд╛ рд╣реИ <br><pre> <code class="bash hljs"> 4-  Intel(R) Xeon(R) CPU E5405 @ 2.00GHz</code> </pre><br>  рдЬрдм рдЖрдк рдРрд╕реА рд╕рдВрдЦреНрдпрд╛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рджреБрдЦреА рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдЪреМрдереЗ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪрдХрд╛рдВрдХ () рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдЬреЛрдбрд╝рдХрд░ рд╣рдорд╛рд░реЗ рдХреЙрдиреНрдлрд┐рдЧрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдХрд░реЗрдВрдЧреЗ - рдЗрд╕рд╕реЗ рдЪреАрдЬреЛрдВ рдХреЛ рдЧрддрд┐ рдорд┐рд▓рдиреА рдЪрд╛рд╣рд┐рдПред <br><br>  frenko_config <br><pre> <code class="bash hljs">errdescr= 9 [E2;Javascript error at web interface - nginx acclog] 1 errdescr= errorcode=\d+ 10 [E3;Fail upload with errorcode - nginx acclog] 1 errorcode=</code> </pre><br>  рдФрд░ рд╣рдорд╛рд░реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рд▓реЛрдбрд┐рдВрдЧ рдФрд░ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рднреА рдереЛрдбрд╝рд╛ рдмрджрд▓реЗрдВ: <br><pre> <code class="php hljs">sub load_config{ my $re=shift; %{$re}=(); open (F,$CONFIG) || <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">'cant open config '</span></span>.$CONFIG; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (&lt;F&gt;){ next <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> /^[\s\n]+$/; my ($regexp,$key,undef,$rate,$index)=split(<span class="hljs-string"><span class="hljs-string">"\t"</span></span>,$_,<span class="hljs-number"><span class="hljs-number">5</span></span>); $index=~s/[\n\t\r]<span class="hljs-comment"><span class="hljs-comment">//g; $$re{$key}{re}=$regexp; $$re{$key}{index}=$index; $$re{$key}{rate}=$rate || 1; } close (F); } sub handle_incoming_connection_udp { lambda { my ( $addr, $msg ) = @_; if (length($msg)&gt;5){ if (substr($msg,0,8) eq 'reconfig'){ load_config(\%Regexps); } else { foreach my $key(keys %Regexps){ if (index($msg,$Regexps{$key}{index})&gt;=0){ if ($Regexps{$key}{index} eq $Regexps{$key}{re}){ sendstat($key,$Regexps{$key}{rate},$memd); last; }elsif($msg=~/$Regexps{$key}{re}/){ sendstat($key,$Regexps{$key}{rate},$memd); last; } } } } } } }</span></span></code> </pre><br>  рдЗрди рд╕рдВрд╢реЛрдзрдиреЛрдВ рдиреЗ рдкреНрд░рддрд┐рд╢рдд рд▓реЛрдб рдХреЛ рдереЛрдбрд╝рд╛ рдХрдо рдХрд░ рджрд┐рдпрд╛, рдпрд╣ 25-28% рдирд┐рдХрд▓рд╛ред  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдХрдо рд╕реЗ рдХрдо 10% рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред <br><br>  рдореЗрдореЗрдХрдЯреЗрдб рдбреЗрдЯрд╛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><pre> <code class="bash hljs">STAT uptime 601576 STAT bytes_read 358221242 STAT bytes_written 92007777 STAT bytes 5018318 STAT curr_items 62269 STAT total_items 557908 STAT reclaimed 372969</code> </pre><br><br>  рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ <br><br>  frenko_listen.pl рд▓рд╛рдЗрди (130-157) <br><pre> <code class="php hljs">sub signal_handler{ $time_to_die=<span class="hljs-number"><span class="hljs-number">1</span></span>; } getopts(<span class="hljs-string"><span class="hljs-string">'d:'</span></span>, my $opts = {}); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (exists $opts-&gt;{d}) { <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"start daemon\n"</span></span>; my $pid=fork; <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $pid; <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">'Couldn\'t fork: '</span></span>.$! unless defined($pid); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> my $handle (*STDIN, *STDOUT, *STDERR){ open ($handle, <span class="hljs-string"><span class="hljs-string">'+&lt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'/dev/null'</span></span> ) || <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">'Cant\t reopen '</span></span>.$handle.<span class="hljs-string"><span class="hljs-string">' to /dev/null: '</span></span>.$!; } POSIX::setsid() || <span class="hljs-keyword"><span class="hljs-keyword">die</span></span> <span class="hljs-string"><span class="hljs-string">'Can\'t start a new session: '</span></span>.$!; $time_to_die=<span class="hljs-number"><span class="hljs-number">0</span></span>; $SIG{TERM} = $SIG{INT} = $SIG{HUP}= \&amp;signal_handler; until ($time_to_die){ runserv(); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { runserv() }</code> </pre><br>  рдпрд╣рд╛рдБ, рд╣рдордиреЗ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдХреЛ -d рдлреНрд▓реИрдЧ рджреНрд╡рд╛рд░рд╛ рдбрд┐рдореЙрдиреЗрдЯрд╛рдЗрдЬрд╝ рдХрд░рдирд╛ рд╕рд┐рдЦрд╛рдпрд╛ред <br><br>  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рд╣рдореЗрдВ рдПрдХ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╕реНрдХреЗрд▓реЗрдмрд▓ рд╕рд░реНрд╡рд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ рдорд┐рд▓рд╛ред  рдпрд╣ рдЫреЛрдЯреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдорд▓рд╛ рд╣реИред  рдЪрд▓реЛ рдЧреНрд░рд╛рд╣рдХ рдкрдХреНрд╖ рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВред <br><br>  <b>рдЧреНрд░рд╛рд╣рдХ рднрд╛рдЧ</b> <br>  рдореИрдВрдиреЗ рдЧреНрд░рд╛рдлрд╝ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд╕рд╛рд░реЗ рдбреНрд░реЙ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХреА, рд▓реЗрдХрд┐рди рд╣рд╛рдИрдЪрд░реНрдЯ рдкрд░ рдмрд╕ рдЧрдП, рдХреНрдпреЛрдВрдХрд┐ рдПрдХ рдлреНрд▓реИрд╢ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдЧреНрд░рд╛рдл рдЦреАрдВрдЪрдиреЗ рдХрд╛ рдПрдХ рдЕрд╡рд╕рд░ рд╣реИ, рдЕрдЬрд╛рдХреНрд╕ рдХреЗ рд╕рд╛рде рдирдП рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд▓рд┐рдП рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рд▓реЛрдбрд┐рдВрдЧ рдбреЗрдЯрд╛, рдФрд░ рдЕрдиреНрдп рдЙрдкрд╣рд╛рд░реЛрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ред  рд╣рдо <a href="http://www.highcharts.com/documentation/how-to-use">рдЙрдЪреНрдЪрд╛рдзрд┐рдХрд╛рд░рд┐рдпреЛрдВ рдХреЗ</a> рдкрд╛рд╕ <a href="http://www.highcharts.com/documentation/how-to-use">рдЬрд╛рддреЗ рд╣реИрдВ</a> рдФрд░ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕рдм рдХреБрдЫ рдХрд░рддреЗ рд╣реИрдВред  рд╡рд╣рд╛рдВ рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИред <br><br>  рдореИрдВ рдЧреНрд░рд╛рд╣рдХ рднрд╛рдЧ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдХреЛ рдлрд╛рд╕реНрдЯрдХреЙрдЧ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рджреЗрддрд╛ рд╣реВрдВ, рдпрд╣ рдореЗрдордЪреИрдЪ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рджрд┐рдП рдЧрдП рд╕рдордп рдХреЗ рд▓рд┐рдП рдЕрдВрдХ рджреЗрддрд╛ рд╣реИред <br><br>  рдЪрд╛рд░реНрдЯ рд╕реНрд╡рдпрдВ рджреЛ рдкреНрд░рд╢реНрди рдХрд░рддрд╛ рд╣реИ: рдпрд╣ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЖрд░рдВрднреАрдХрд░рдг рд╣реИ рдФрд░ рдЪрд╛рд░реНрдЯ рдХреЗ рд▓рд┐рдП рдирдП рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред  рдЗрди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдЙрддреНрддрд░ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреЗ рд╣реИрдВ: <br>  /frenky.fpl?init=1&amp;accur=2 <br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"status"</span></span>:<span class="hljs-string"><span class="hljs-string">"1"</span></span>,<span class="hljs-string"><span class="hljs-string">"init"</span></span>:[[<span class="hljs-string"><span class="hljs-string">"U1"</span></span>,[[<span class="hljs-number"><span class="hljs-number">1338188480</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188482</span></span>,<span class="hljs-number"><span class="hljs-number">21</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188484</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188486</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188488</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188490</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188492</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188494</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188496</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188498</span></span>,<span class="hljs-number"><span class="hljs-number">21</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188500</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188502</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188504</span></span>,<span class="hljs-number"><span class="hljs-number">21</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188506</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188508</span></span>,<span class="hljs-number"><span class="hljs-number">22</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188510</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188512</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188514</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188516</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188518</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188520</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188522</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>],[<span class="hljs-number"><span class="hljs-number">1338188524</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>]],<span class="hljs-string"><span class="hljs-string">"User uploaded the file - apache errlog"</span></span>]]}</code> </pre><br>  /frenky.fpl?refresh=1&amp;accur=2 <br><pre> <code class="bash hljs">{<span class="hljs-string"><span class="hljs-string">"status"</span></span>:<span class="hljs-string"><span class="hljs-string">"1"</span></span>,<span class="hljs-string"><span class="hljs-string">"refresh"</span></span>:[[1338188814,20],[1338188814,1],[1338188814,0],[1338188814,0],[1338188814,0],[1338188814,0],[1338188814,0],[1338188814,8],[1338188814,7],[1338188814,0],[1338188814,0],[1338188814,0]]}</code> </pre><br><br>  рдЬрд┐рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдореБрдЭреЗ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛ рд╣реИ, рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдпрд╣ рд╣реИ рдХрд┐, рдЕрдЧрд░ рджреЛ рдЪрд▓ рд░рд╣реА рдлрд╛рд╕реНрдЯреИрдЧреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рд╡реЗ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред  рд╡реЗрдм рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреЛрдиреЛрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рддрдХ рдХреИрд╕реЗ рдкрд╣реБрдВрдЪреЗрдВ - рдореБрдЭреЗ рдЕрднреА рддрдХ рдПрдХ рд╕реБрдВрджрд░ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рдорд┐рд▓рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЕрдкрд╛рдЪреЗ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реВрдВред <br><br>  рдЖрдк js рдФрд░ fcgi, <a href="">rdash.rar</a> рд╕рд╣рд┐рдд рд╕рднреА рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <br><br>  <b>рдЕрджреНрдпрддрди</b> <br>  рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕рднреА рдЕрдиреБрдХреВрд▓рди рдХреЗ рдмрд╛рдж, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрдЦреНрдпрд╛рдПрдВ рдкреНрд░рд╛рдкреНрдд рд╣реБрдИрдВ: <br>  80 рд╣рдЬрд╛рд░ рд╕реАрдкреАрдпреВ рдХреЗ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 50 рд╣рдЬрд╛рд░ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рднрд╛рд░ рдкрд░ <br>  рдпрджрд┐ рдЖрдк рдЫрдБрдЯрд╛рдИ рдХреЗ рдирд┐рдпрдо рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рддреЛ 80 рд╣рдЬрд╝рд╛рд░ рд▓рд╛рдЗрдиреЗрдВ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдФрд░ CPU рдХрд╛ 90% <br><br>  <a href="https://github.com/frenkyoptic/rdash">https://github.com/frenkyoptic/rdash</a> </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/In144639/">https://habr.com/ru/post/In144639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../In144632/index.html">рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрджреНрдзрд░рдг</a></li>
<li><a href="../In144633/index.html">рд╕реНрдХреВрд▓ рд░реЛрдмреЛрдЯрд┐рдХреНрд╕ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рд╕реЗ рдкреНрд░рд╕рд╛рд░рдг</a></li>
<li><a href="../In144636/index.html">рдЬрд░реНрдордиреА рдиреЗ рд╕реМрд░ рдКрд░реНрдЬрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рдХреЙрд░реНрдб рдмрдирд╛рдпрд╛: 22 GWh</a></li>
<li><a href="../In144637/index.html">VKontakte рдХреЗ рд▓рд┐рдП LVA рдпрд╛ рд▓рд╛рдЗрд╡ рд╡реАрдбрд┐рдпреЛ рдЕрд╡рддрд╛рд░</a></li>
<li><a href="../In144638/index.html">25 рдорд┐рдирдЯ рдХреА рддрд▓рд╛рд╢!</a></li>
<li><a href="../In144640/index.html">рдПрдХ рд╕реАрдорд┐рдд рд╕реНрдореГрддрд┐ рдХреНрд╖рдорддрд╛ рдпрд╛ рдЕрддрд┐рд░рд┐рдХреНрдд "рдЙрдкрд╣рд╛рд░" рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд╛рдпрд░рд▓реЗрд╕ рд░реВрдЯрд░ рдХреЗ рд▓рд┐рдП рдЧреНрд░рд╛рдлрд┐рдХрд▓ рдлрд░реНрдорд╡реЗрдпрд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕?</a></li>
<li><a href="../In144641/index.html">рдПрдлрдмреАрдЖрдИ рдиреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕рдВрдЪрд╛рд░ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдХрд╛рдИ рдмрдирд╛рдИ</a></li>
<li><a href="../In144642/index.html">рдиреЛрдЯрдкреИрдб ++ рдореЗрдВ рдХрдо рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд┐рдВрдЯреИрдХреНрд╕ рд╣рд╛рдЗрд▓рд╛рдЗрдЯрд┐рдВрдЧ рдЪрд╛рд▓реВ рдХрд░реЗрдВ</a></li>
<li><a href="../In144643/index.html">рд╡реАрдбрд┐рдпреЛ рдЧреЗрдо рдиреНрдпреВрд░реЛрд▓реЙрдЬреА: рдбреЗрд╕ рдкреВрд░реНрд╡: рдорд╛рдирд╡ рдХреНрд░рд╛рдВрддрд┐</a></li>
<li><a href="../In144644/index.html">рд╣реИрдХрд░ рдкрддреНрд░рд┐рдХрд╛ рдХреЗ рд╕рдВрдкрд╛рджрдХреАрдп рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХреЛ рдЦреБрд▓рд╛ рдкрддреНрд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>