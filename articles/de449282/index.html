<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üó°Ô∏è ‚úåüèæ üíú Backup, Teil 1: Zweck, √úberblick √ºber Techniken und Technologien üëèüèΩ üö∂üèæ üöñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Warum m√ºssen Sie Backups erstellen? Schlie√ülich ist die Ausr√ºstung sehr, sehr zuverl√§ssig, au√üerdem gibt es ‚ÄûClouds‚Äú, die hinsichtlich der Zuverl√§ssig...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Backup, Teil 1: Zweck, √úberblick √ºber Techniken und Technologien</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/449282/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/945/c47/658945c47c79b468058bdfa05712bab1.jpg" alt="Backup?  Ich brauche kein Backup !!"></div><br>  Warum m√ºssen Sie Backups erstellen?  Schlie√ülich ist die Ausr√ºstung sehr, sehr zuverl√§ssig, au√üerdem gibt es ‚ÄûClouds‚Äú, die hinsichtlich der Zuverl√§ssigkeit besser sind als physische Server: Bei korrekter Konfiguration √ºberlebt der ‚ÄûCloud‚Äú -Server den Ausfall des physischen Infrastrukturservers problemlos, und aus Sicht der Servicebenutzer wird es einen kleinen, kaum wahrnehmbaren Zeitsprung geben Service.  Dar√ºber hinaus erfordert das Duplizieren von Informationen h√§ufig die Zahlung f√ºr "zus√§tzliche" Prozessorzeit, Festplattenlast und Netzwerkverkehr. <br><a name="habracut"></a><br><blockquote>  Ein ideales Programm l√§uft schnell, flie√üt nicht durch den Arbeitsspeicher, hat keine L√∂cher und existiert nicht. <br><br>  - Unbekannt </blockquote>  Da die Programme immer noch von Proteinentwicklern geschrieben werden und der Testprozess h√§ufig fehlt und die Bereitstellung von Programmen unter Verwendung von "Best Practices" (die ebenfalls Programme f√ºr sich sind und daher nicht perfekt sind) √§u√üerst selten ist, m√ºssen Systemadministratoren h√§ufig Probleme l√∂sen, die klingen kurz aber pr√§gnant: "um so zur√ºckzukehren wie es war", "um die Basis wieder in den normalen Betrieb zu versetzen", "es funktioniert langsam - wir rollen zur√ºck" und auch mein Favorit "Ich wei√ü nicht was, aber repariere es". <br><br>  Neben logischen Fehlern, die sich aus unachtsamer Arbeit der Entwickler oder einer Kombination von Umst√§nden ergeben, sowie unvollst√§ndigen Kenntnissen oder Missverst√§ndnissen der kleinen Funktionen von Bauprogrammen - einschlie√ülich Bindemitteln und Systemprogrammen, einschlie√ülich Betriebssystemen, Treibern und Firmware - gibt es auch andere Fehler.  Zum Beispiel verlassen sich die meisten Entwickler auf die Laufzeit und vergessen dabei die physikalischen Gesetze, die mit Hilfe von Programmen immer noch nicht umgangen werden k√∂nnen.  Dies umfasst die unendliche Zuverl√§ssigkeit des Festplattensubsystems und aller Datenspeichersubsysteme im Allgemeinen (einschlie√ülich RAM und Prozessor-Cache!), Die Null-Verarbeitungszeit auf dem Prozessor und das Fehlen von Fehlern w√§hrend der √úbertragung √ºber das Netzwerk und w√§hrend der Verarbeitung auf dem Prozessor sowie Netzwerklatenzen von 0. Vernachl√§ssigen Sie nicht die ber√ºchtigte Frist, denn wenn Sie keine Zeit daf√ºr haben, treten Probleme auf, die sauberer sind als die Nuancen des Netzwerks und der Festplatte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/171/855/c4d/171855c4dfec286b3624dd27efeb71e6.jpg" alt="Chef, es ist alles weg!  Diamond auf k \ f Diamond Hand"><br><br>  Aber was ist mit den Problemen, die bei vollem Wachstum auftreten und √ºber wertvollen Daten h√§ngen bleiben?  Es gibt nichts, was die Live-Entwickler ersetzen k√∂nnte, und nicht die Tatsache, dass dies in naher Zukunft m√∂glich sein wird.  Um jedoch vollst√§ndig zu beweisen, dass das Programm wie beabsichtigt funktioniert, waren bisher nur wenige Projekte erfolgreich, und es ist √ºberhaupt nicht m√∂glich, die Beweise auf andere, √§hnliche Projekte anzuwenden.  Solche Nachweise nehmen auch viel Zeit in Anspruch und erfordern besondere F√§higkeiten und Kenntnisse, und dies minimiert praktisch die M√∂glichkeit ihrer Anwendung unter Ber√ºcksichtigung von Fristen.  Dar√ºber hinaus wissen wir immer noch nicht, wie man ultraschnelle, billige und unendlich zuverl√§ssige Technologien zum Speichern, Verarbeiten und √úbertragen von Informationen einsetzt.  Solche Technologien, wenn sie existieren, dann in Form von Konzepten oder - meistens - nur in Science-Fiction-B√ºchern und -Filmen. <br><blockquote>  Gute K√ºnstler kopieren, gro√üe K√ºnstler stehlen. <br><br>  - Pablo Picasso. </blockquote>  Die erfolgreichsten L√∂sungen und √ºberraschend einfachen Dinge passieren normalerweise dort, wo es auf den ersten Blick absolut inkompatible Konzepte, Technologien, Kenntnisse und Wissenschaftsbereiche gibt. <br><br>  Zum Beispiel haben V√∂gel und Flugzeuge Fl√ºgel, aber trotz der funktionalen √Ñhnlichkeit - das Funktionsprinzip ist in einigen Modi das gleiche und technische Probleme werden auf √§hnliche Weise gel√∂st: Hohlknochen, die Verwendung starker und leichter Materialien usw. - sind die Ergebnisse jedoch v√∂llig unterschiedlich sehr √§hnlich.  Die besten Proben, die wir in unserer Technologie beobachten, stammen gr√∂√ütenteils aus der Natur: luftdichte Abteile in Schiffen und U-Booten - eine direkte Analogie zu Anneliden;  Aufbau von Raid-Arrays und √úberpr√ºfung der Datenintegrit√§t - Duplizierung der DNA-Kette;  Neben gepaarten Organen sind die Unabh√§ngigkeit der Arbeit verschiedener Organe vom Zentralnervensystem (automatische Herzfunktion) und Reflexe autonome Systeme im Internet.  Nat√ºrlich ist das Aufnehmen und Anwenden von vorgefertigten L√∂sungen ‚Äûfrontal‚Äú mit Problemen behaftet, aber wer wei√ü, vielleicht gibt es keine anderen L√∂sungen. <br><blockquote>  Wenn ich w√ºsste, wo du fallen w√ºrdest, w√ºrde ich Strohhalme legen! <br><br>  - Belarusianisches Sprichwort </blockquote>  Backups sind daher f√ºr diejenigen von entscheidender Bedeutung, die Folgendes m√∂chten: <br><br><ul><li>  Um den Betrieb ihrer Systeme mit minimalen Ausfallzeiten oder sogar ohne sie wiederherstellen zu k√∂nnen </li><li>  F√ºhlen Sie sich frei zu handeln, denn im Fehlerfall besteht immer die M√∂glichkeit eines Rollbacks </li><li>  Minimieren Sie die Auswirkungen absichtlicher Datenkorruption </li></ul><br><div class="spoiler">  <b class="spoiler_title">Hier ist ein bisschen Theorie</b> <div class="spoiler_text"><blockquote>  Jede Klassifizierung ist beliebig.  Die Natur klassifiziert nicht.  Wir klassifizieren, weil es f√ºr uns bequemer ist.  Und wir klassifizieren nach den Daten, die wir auch willk√ºrlich nehmen. <br><br>  - Jan Bruler </blockquote>  Unabh√§ngig von der physischen Speichermethode kann die logische Speicherung von Daten in zwei Arten des Zugriffs auf diese Daten unterteilt werden: Block und Datei.  Diese Aufteilung war in letzter Zeit sehr verschwommen, da es weder rein blockige noch rein dateilogische Speicher gibt.  Der Einfachheit halber nehmen wir jedoch an, dass dies der Fall ist. <br><br>  Die Blockspeicherung von Daten impliziert, dass es ein physisches Ger√§t gibt, auf dem Daten in einigen festen Abschnitten, Bl√∂cken, aufgezeichnet werden.  Der Zugriff auf die Bl√∂cke erfolgt √ºber eine bestimmte Adresse. Jeder Block hat eine eigene Adresse im Ger√§t. <br><br>  Eine Sicherung erfolgt normalerweise durch Kopieren von Datenbl√∂cken.  Um die Datenintegrit√§t zum Zeitpunkt des Kopierens sicherzustellen, wird die Aufzeichnung neuer Bl√∂cke sowie die √Ñnderung bestehender Bl√∂cke ausgesetzt.  Wenn wir eine Analogie aus der gew√∂hnlichen Welt nehmen, ist der n√§chste Schrank mit den gleichen nummerierten Zellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac1/aa2/32f/ac1aa232faecb701dd3c82894239f34e.png" alt="Datenspeicherung blockieren"><br><br>  Die Dateispeicherung von Daten nach dem Prinzip eines logischen Ger√§ts ist nahe an der Blockspeicherung und wird h√§ufig oben organisiert.  Wichtige Unterschiede sind das Vorhandensein einer Speicherhierarchie und lesbarer Namen.  Die Abstraktion wird in Form einer Datei hervorgehoben - eines benannten Datenbereichs sowie eines Verzeichnisses - einer speziellen Datei, in der Beschreibungen gespeichert und auf andere Dateien zugegriffen wird.  Dateien k√∂nnen mit zus√§tzlichen Metadaten versehen werden: Erstellungszeit, Zugriffsflags usw.  Sie sichern normalerweise auf diese Weise: Sie suchen nach den ge√§nderten Dateien und kopieren sie dann in einen anderen Dateispeicher mit derselben Struktur.  Die Datenintegrit√§t wird normalerweise durch das Fehlen der Dateien implementiert, in die geschrieben wird.  Dateimetadaten werden auf √§hnliche Weise gesichert.  Die n√§chste Analogie ist die Bibliothek mit Abschnitten mit verschiedenen B√ºchern sowie einem Katalog mit lesbaren Buchnamen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/752/454/8cc/7524548cc8ff235cf9284d49d1fab007.jpg" alt="Dateidatenspeicherung"><br><br>  In letzter Zeit wird manchmal eine andere Option beschrieben, mit der im Prinzip die Dateispeicherung von Daten begann und die dieselben archaischen Merkmale aufweist: die Speicherung von Objektdaten. <br><br>  Es unterscheidet sich vom Dateispeicher dadurch, dass es nicht mehr als eine Verschachtelung (flaches Layout) hat und die Dateinamen, obwohl sie f√ºr Menschen lesbar sind, dennoch besser f√ºr die Verarbeitung durch Maschinen geeignet sind.  Beim Sichern werden Objektspeicher meistens wie Dateispeicher behandelt, gelegentlich gibt es jedoch auch andere Optionen. <br><blockquote>  - Es gibt zwei Arten von Systemadministratoren: diejenigen, die keine Sicherungen erstellen, und diejenigen, die dies bereits tun. <br>  - Tats√§chlich gibt es drei Arten: Es gibt auch solche, die √ºberpr√ºfen, ob Sicherungen wiederhergestellt werden k√∂nnen. <br><br>  - Unbekannt </blockquote>  Es ist auch sinnvoll zu verstehen, dass das Sichern von Daten von Programmen durchgef√ºhrt wird, sodass es dieselben Nachteile wie ein anderes Programm hat.  Entfernen (nicht ausschlie√üen!) Die Abh√§ngigkeit vom menschlichen Faktor sowie Merkmale - die einzeln nicht stark beeinflussen, aber zusammen einen sp√ºrbaren Effekt erzielen k√∂nnen - wenden den sogenannten an  Regel 3-2-1.  Es gibt viele M√∂glichkeiten, es zu entschl√ºsseln, aber ich bevorzuge die folgende Interpretation: Sie m√ºssen 3 S√§tze derselben Daten speichern, 2 S√§tze m√ºssen in verschiedenen Formaten gespeichert werden und 1 Satz muss in einem geografisch entfernten Speicher gespeichert werden. <br><br>  Das Speicherformat sollte wie folgt verstanden werden: <br><br><ul><li>  Wenn eine Abh√§ngigkeit von der physischen Speichermethode besteht, √§ndern wir die physische Methode. </li><li>  Wenn eine Abh√§ngigkeit von der logischen Speichermethode besteht, √§ndern wir die logische Methode. </li></ul><br>  Um die maximale Wirkung von Regel 3-2-1 zu erzielen, wird empfohlen, das Speicherformat auf beide Arten zu √§ndern. <br><br>  Unter dem Gesichtspunkt der Bereitschaft des Backups f√ºr den beabsichtigten Zweck - Wiederherstellung der Funktionsf√§higkeit - gibt es "hei√üe" und "kalte" Backups.  Hei√ü von Kalt unterscheiden sich nur in einem Punkt: Sie sind sofort einsatzbereit, w√§hrend Kalt f√ºr die Wiederherstellung einige zus√§tzliche Ma√ünahmen erfordert: Entschl√ºsselung, Extraktion aus dem Archiv usw. <br><br>  Verwechseln Sie hei√üe und kalte Kopien nicht mit Online- und Offline-Kopien, die eine physische Isolierung der Daten implizieren und tats√§chlich ein weiteres Zeichen f√ºr die Klassifizierung von Sicherungsmethoden sind.  Eine Offline-Kopie, die nicht direkt mit dem System verbunden ist, auf dem sie wiederhergestellt werden muss, kann entweder hei√ü oder kalt sein (in Bezug auf die Wiederherstellungsbereitschaft).  Eine Online-Kopie ist m√∂glicherweise direkt dort verf√ºgbar, wo sie wiederhergestellt werden muss. Meistens ist sie hei√ü, aber es gibt auch kalte. <br><br>  Vergessen Sie au√üerdem nicht, dass das Erstellen von Sicherungen normalerweise nicht mit dem Erstellen einer einzelnen Sicherung endet und es m√∂glicherweise eine ganze Reihe von Kopien gibt.  Daher ist es notwendig, zwischen vollst√§ndigen Sicherungen zu unterscheiden, d.h.  diejenigen, die unabh√§ngig von anderen Sicherungen wiederhergestellt werden k√∂nnen, sowie differenzielle (inkrementelle, differenzielle, dekrementelle usw.) Kopien - solche, die nicht selbst wiederhergestellt werden k√∂nnen und die vorl√§ufige Wiederherstellung einer oder mehrerer anderer Sicherungen erfordern. <br><br>  Differenzielle inkrementelle Sicherungen - ein Versuch, Speicherplatz f√ºr die Speicherung von Sicherungen zu sparen.  Daher werden nur ge√§nderte Daten aus der vorherigen Sicherung in die Sicherung geschrieben. <br><br>  Differenzdekrementale werden f√ºr denselben Zweck erstellt, jedoch auf etwas andere Weise: Es wird eine vollst√§ndige Sicherung durchgef√ºhrt, aber nur der Unterschied zwischen der neuen und der vorherigen Kopie wird tats√§chlich gespeichert. <br><br>  Unabh√§ngig davon lohnt es sich, den Sicherungsprozess √ºber dem Speicher zu ber√ºcksichtigen, der das Fehlen von doppeltem Speicher unterst√ºtzt.  Wenn Sie also vollst√§ndige Sicherungen dar√ºber schreiben, wird in Wirklichkeit nur der Unterschied zwischen den Sicherungen aufgezeichnet. Der Vorgang des Wiederherstellens von Sicherungen √§hnelt jedoch dem Wiederherstellen von einer vollst√§ndigen Kopie und ist vollst√§ndig transparent. <br><br><blockquote>  Quis custodiet ipsos custodes? <br><br>  (Wer wird die W√§chter selbst bewachen? - lat.) </blockquote><br><br>  Es ist sehr unangenehm, wenn keine Backups vorhanden sind, aber es ist viel schlimmer, wenn das Backup erstellt zu werden scheint. W√§hrend der Wiederherstellung stellt sich jedoch heraus, dass es nicht wiederhergestellt werden kann, weil: <br><br><ul><li>  Die Integrit√§t der Quelldaten wurde verletzt. </li><li>  Der Sicherungsspeicher ist besch√§digt. </li><li>  Die Wiederherstellung funktioniert sehr langsam. Sie k√∂nnen keine Daten verwenden, die teilweise wiederhergestellt wurden. </li></ul><br><br>  Ein ordnungsgem√§√ü erstellter Sicherungsprozess muss solche Kommentare ber√ºcksichtigen, insbesondere die ersten beiden. <br><br>  Die Integrit√§t der Quelldaten kann auf verschiedene Weise gew√§hrleistet werden.  Die am h√§ufigsten verwendeten sind: a) Erstellen von Dateisystem-Snapshots auf Blockebene, b) Einfrieren des Status des Dateisystems, c) eines speziellen Blockger√§ts mit Versionsspeicher, d) sequentielles Aufzeichnen von Dateien oder Bl√∂cken.  Pr√ºfsummen werden auch verwendet, um die Daten√ºberpr√ºfung w√§hrend der Wiederherstellung sicherzustellen. <br><br>  Sch√§den am Speicher k√∂nnen auch anhand von Pr√ºfsummen festgestellt werden.  Eine zus√§tzliche Methode ist die Verwendung spezieller Ger√§te oder Dateisysteme, bei denen es unm√∂glich ist, bereits aufgezeichnete Daten zu √§ndern, Sie jedoch neue hinzuf√ºgen k√∂nnen. <br><br>  Um die Wiederherstellung zu beschleunigen, wird die Datenwiederherstellung bei mehreren Wiederherstellungsprozessen verwendet - vorausgesetzt, es liegt kein ‚ÄûEngpass‚Äú in Form eines langsamen Netzwerks oder eines langsamen Festplattensystems vor.  Um die Situation mit teilweise wiederhergestellten Daten zu umgehen, ist es m√∂glich, den Sicherungsprozess in relativ kleine Unteraufgaben zu unterteilen, von denen jede separat ausgef√ºhrt wird.  Somit wird es m√∂glich, die Leistung mit Vorhersage der Wiederherstellungszeit konsistent wiederherzustellen.  Dieses Problem liegt meistens in der Organisationsebene (SLA), daher werden wir nicht n√§her darauf eingehen. <br><br><blockquote>  Wei√ü viel √ºber Gew√ºrze, nicht derjenige, der sie zu jedem Gericht hinzuf√ºgt, sondern derjenige, der niemals etwas √úberfl√ºssiges hinzuf√ºgt. <br><br>  - B.  Sinyavsky </blockquote><br><br>  Die Praxis in Bezug auf die von Systemadministratoren verwendete Software kann variieren, aber die allgemeinen Prinzipien sind auf die eine oder andere Weise immer noch dieselben, insbesondere: <br><br><ul><li>  Fertige L√∂sungen werden dringend empfohlen. </li><li>  Programme sollten vorhersehbar funktionieren, d.h.  Es sollten keine undokumentierten Funktionen oder Engp√§sse vorhanden sein. </li><li>  Das Einrichten jedes Programms sollte so einfach sein, dass Sie nicht jedes Mal das Handbuch oder den Spickzettel lesen m√ºssen. </li><li>  Die L√∂sung sollte nach M√∂glichkeit universell sein.  Server in ihren Hardwarespezifikationen k√∂nnen sehr, sehr unterschiedlich sein. </li></ul><br><br>  Die folgenden g√§ngigen Programme stehen zum Entfernen von Sicherungen von Blockger√§ten zur Verf√ºgung: <br><br><ul><li>  dd, Veteranen der Systemadministration vertraut, gelten auch hier √§hnliche Programme (zum Beispiel das gleiche dd_rescue). </li><li>  In einige Dateisysteme integrierte Dienstprogramme (Dienstprogramme), die einen Speicherauszug des Dateisystems erstellen. </li><li>  Allesfressende Versorgungsunternehmen;  z.B. Partclone. </li><li>  Eigene, oft propriet√§re Entscheidungen;  z.B. NortonGhost und sp√§ter. </li></ul><br><br>  Bei Dateisystemen wird die Sicherungsaufgabe teilweise mithilfe von Methoden gel√∂st, die zum Blockieren von Ger√§ten anwendbar sind. Das Problem kann jedoch effizienter gel√∂st werden, indem beispielsweise Folgendes verwendet wird: <br><br><ul><li>  Rsync, ein universelles Programm und Protokoll zur Synchronisierung des Status von Dateisystemen. </li><li>  Integrierte Archivierungswerkzeuge (ZFS). </li><li>  Archivierungswerkzeuge von Drittanbietern;  Der beliebteste Vertreter ist Teer.  Es gibt andere, die beispielsweise Teer durch einen Fokus auf moderne Systeme ersetzen. </li></ul><br>  Unabh√§ngig davon ist die Datenkonsistenzsoftware beim Erstellen von Sicherungen zu erw√§hnen.  Die am h√§ufigsten verwendeten Optionen sind: <br><br><ul><li>  Mounten des Dateisystems im schreibgesch√ºtzten Modus (ReadOnly) oder Einfrieren des Dateisystems (Freeze) - die Methode ist begrenzt. </li><li>  Erstellen von Snapshots des Status eines Dateisystems oder Blockger√§ts (LVM, ZFS). </li><li>  Die Verwendung von Tools von Drittanbietern zum Organisieren von Casts, auch in F√§llen, in denen die vorherigen Abs√§tze aus irgendeinem Grund nicht bereitgestellt werden k√∂nnen (Programme wie Hotcopy). </li><li>  Die Copy-on-Change-Technik (CopyOnWrite) ist jedoch am h√§ufigsten an die verwendete FS (BTRFS, ZFS) gebunden. </li></ul><br></div></div><br>  F√ºr einen kleinen Server m√ºssen Sie daher ein Sicherungsschema bereitstellen, das die folgenden Anforderungen erf√ºllt: <br><br><ul><li>  Einfach zu bedienen - beim Arbeiten sind keine besonderen zus√§tzlichen Schritte erforderlich, minimale Schritte zum Erstellen und Wiederherstellen von Kopien. </li><li>  Universal - funktioniert sowohl auf gro√üen als auch auf kleinen Servern;  Dies ist wichtig, wenn Sie die Anzahl der Server erh√∂hen oder skalieren. </li><li>  Es wird vom Paketmanager oder in einem oder zwei Befehlen vom Typ "Herunterladen und Entpacken" installiert. </li><li>  Stabil - Verwendet ein Standard- oder seit langem etabliertes Speicherformat. </li><li>  Schnell in der Arbeit. </li></ul><br>  Bewerber von denen, die die Anforderungen mehr oder weniger erf√ºllen: <br><br><ul><li>  rdiff-backup </li><li>  rsnapshot </li><li>  r√ºlpsen </li><li>  duplicati </li><li>  Duplizit√§t </li><li>  deja dup </li><li>  dar </li><li>  zbackup </li><li>  unruhig </li><li>  Borgbackup </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a62/7e9/237/a627e923770a18cff68471cb826ec2bd.jpg" alt="Prokrustes Bett"><br><br>  Eine virtuelle Maschine (basierend auf XenServer) mit den folgenden Eigenschaften wird als Pr√ºfstand verwendet: <br><br><ul><li>  4 Kerne 2,5 GHz, </li><li>  16 GB RAM </li><li>  50 GB Hybridspeicher (Speicher mit Caching auf SSD bei 20% der Gr√∂√üe der virtuellen Festplatte) als separate virtuelle Festplatte ohne Partitionierung, </li><li>  200 Mbit / s Internetkanal. </li></ul><br>  Fast derselbe Computer wird als Backup-Zielserver verwendet, nur mit einer 500-GB-Festplatte. <br><br>  Betriebssystem - Centos 7 x64: Die Aufschl√ºsselung ist Standard, eine zus√§tzliche Partition wird als Datenquelle verwendet. <br><br>  Nehmen wir eine WordPress-Site als Quelldaten mit 40 GB Mediendateien und einer MySQL-Datenbank.  Da sich die Eigenschaften virtueller Server stark unterscheiden und die Reproduzierbarkeit verbessert wird, gibt es solche <br><br><div class="spoiler">  <b class="spoiler_title">Server-Testergebnisse mit sysbench.</b> <div class="spoiler_text">  sysbench --threads = 4 --time = 30 --cpu-max-prime = 20.000 CPU-Lauf <br>  sysbench 1.1.0-18a9f86 (mit geb√ºndeltem LuaJIT 2.1.0-beta3) <br>  F√ºhren Sie den Test mit den folgenden Optionen aus: <br>  Anzahl der Threads: 4 <br>  Initialisierung des Zufallszahlengenerators aus der aktuellen Zeit <br><br>  Primzahllimit: 20.000 <br><br>  Worker-Threads initialisieren ... <br><br>  Threads gestartet! <br><br>  CPU-Geschwindigkeit: <br>  Ereignisse pro Sekunde: 836,69 <br><br>  Durchsatz: <br>  Ereignisse / e (eps): 836.6908 <br>  verstrichene Zeit: 30.0039s <br>  Gesamtzahl der Veranstaltungen: 25104 <br><br>  Latenz (ms): <br>  min: 2,38 <br>  Durchschnitt: 4,78 <br>  max: 22,39 <br>  95. Perzentil: 10,46 <br>  Summe: 119923,64 <br><br>  Themen Fairness: <br>  Ereignisse (Durchschnitt / Standard): 6276.0000 / 13.91 <br>  Ausf√ºhrungszeit (avg / stddev): 29.9809 / 0.01 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = Lesespeicherlauf <br>  sysbench 1.1.0-18a9f86 (mit geb√ºndeltem LuaJIT 2.1.0-beta3) <br>  F√ºhren Sie den Test mit den folgenden Optionen aus: <br>  Anzahl der Threads: 4 <br>  Initialisierung des Zufallszahlengenerators aus der aktuellen Zeit <br><br>  Ausf√ºhren des Speichergeschwindigkeitstests mit den folgenden Optionen: <br>  Blockgr√∂√üe: 1 KB <br>  Gesamtgr√∂√üe: 102400MiB <br>  Bedienung: lesen <br>  Geltungsbereich: global <br><br>  Worker-Threads initialisieren ... <br><br>  Threads gestartet! <br><br>  Gesamtbetrieb: 50900446 (1696677,10 pro Sekunde) <br><br>  49707,47 MiB √ºbertragen (1656,91 MiB / Sek.) <br><br>  Durchsatz: <br>  Ereignisse / e (eps): 1696677.1017 <br>  verstrichene Zeit: 30.0001s <br>  Gesamtzahl der Veranstaltungen: 50900446 <br><br>  Latenz (ms): <br>  min: 0,00 <br>  Durchschnitt: 0,00 <br>  max: 24.01 <br>  95. Perzentil: 0,00 <br>  Summe: 39106,74 <br><br>  Themen Fairness: <br>  Ereignisse (avg / stddev): 12725111.5000 / 137775.15 <br>  Ausf√ºhrungszeit (avg / stddev): 9.7767 / 0.10 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = Schreibspeicherlauf <br>  sysbench 1.1.0-18a9f86 (mit geb√ºndeltem LuaJIT 2.1.0-beta3) <br>  F√ºhren Sie den Test mit den folgenden Optionen aus: <br>  Anzahl der Threads: 4 <br>  Initialisierung des Zufallszahlengenerators aus der aktuellen Zeit <br><br>  Ausf√ºhren des Speichergeschwindigkeitstests mit den folgenden Optionen: <br>  Blockgr√∂√üe: 1 KB <br>  Gesamtgr√∂√üe: 102400MiB <br>  Operation: schreiben <br>  Geltungsbereich: global <br><br>  Worker-Threads initialisieren ... <br><br>  Threads gestartet! <br><br>  Gesamtbetrieb: 35910413 (1197008,62 pro Sekunde) <br><br>  35068,76 MiB √ºbertragen (1168,95 MiB / s) <br><br>  Durchsatz: <br>  Ereignisse / e (eps): 1197008.6179 <br>  verstrichene Zeit: 30.0001s <br>  Gesamtzahl der Veranstaltungen: 35910413 <br><br>  Latenz (ms): <br>  min: 0,00 <br>  Durchschnitt: 0,00 <br>  max: 16,90 <br>  95. Perzentil: 0,00 <br>  Summe: 43604,83 <br><br>  Themen Fairness: <br>  Ereignisse (Durchschnitt / Standard): 8977603.2500 / 233905.84 <br>  Ausf√ºhrungszeit (avg / stddev): 10.9012 / 0.41 <br><br>  sysbench --threads = 4 --file-test-mode = rndrw --time = 60 --file-block-size = 4K --file-total-size = 1G fileio run <br>  sysbench 1.1.0-18a9f86 (mit geb√ºndeltem LuaJIT 2.1.0-beta3) <br>  F√ºhren Sie den Test mit den folgenden Optionen aus: <br>  Anzahl der Threads: 4 <br>  Initialisierung des Zufallszahlengenerators aus der aktuellen Zeit <br><br>  Zus√§tzliche Datei offene Flags: (keine) <br>  128 Dateien zu je 8 MB <br>  1 GB Gesamtdateigr√∂√üe <br>  Blockgr√∂√üe 4KiB <br>  Anzahl der E / A-Anforderungen: 0 <br>  Lese- / Schreibverh√§ltnis f√ºr kombinierten zuf√§lligen E / A-Test: 1,50 <br>  Periodische FSYNC aktiviert, wobei alle 100 Anforderungen fsync () aufgerufen wird. <br>  Aufruf von fsync () am Ende des Tests, Aktiviert. <br>  Verwenden des synchronen E / A-Modus <br>  Zuf√§lliger R / W-Test <br>  Worker-Threads initialisieren ... <br><br>  Threads gestartet! <br><br>  Durchsatz: <br>  Lesen Sie: IOPS = 3868,21 15,11 MiB / s (15,84 MB / s) <br>  Schreiben: IOPS = 2578,83 10,07 MiB / s (10,56 MB / s) <br>  fsync: IOPS = 8226,98 <br><br>  Latenz (ms): <br>  min: 0,00 <br>  Durchschnitt: 0,27 <br>  max: 18.01 <br>  95. Perzentil: 1,08 <br>  Summe: 238469.45 <br></div></div><br>  Diese Notiz beginnt gro√ü <br><br><div class="spoiler">  <b class="spoiler_title">Sicherungsartikelserie</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Backup, Teil 1: Warum ben√∂tigen Sie ein Backup, einen √úberblick √ºber Methoden und Technologien?</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  2:    rsync-based   </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  3:    duplicity, duplicati</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  4:    zbackup, restic, borgbackup</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  5:  Bacula  Veeam Backup for Linux</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> :    :  AMANDA, UrBackup, BackupPC</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  6:    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,  7: </a> </li></ol><br></div></div><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autoren</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finnix</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449282/">https://habr.com/ru/post/de449282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449270/index.html">Yandex hat einen √úberblick √ºber den Markt f√ºr IT-Stellenangebote ver√∂ffentlicht</a></li>
<li><a href="../de449274/index.html">Gro√ües 7-Segment-Display mit Neonlicht am ESP8266</a></li>
<li><a href="../de449276/index.html">Karrierewechsel mit 35 Jahren. Meine Erfahrungen und ersten Erfolge</a></li>
<li><a href="../de449278/index.html">Domain-Angriffe</a></li>
<li><a href="../de449280/index.html">Wie die Cloud-Gaming-Plattform f√ºr B2B- und B2C-Clients funktioniert. L√∂sungen f√ºr ein tolles Bild und Kampf mit der letzten Meile</a></li>
<li><a href="../de449284/index.html">Ich verkaufe Zwiebeln online</a></li>
<li><a href="../de449286/index.html">Machen Sie los GraphQL API</a></li>
<li><a href="../de449288/index.html">Welches Team wird ben√∂tigt, um einen wirklich guten Online-Shop zu erstellen?</a></li>
<li><a href="../de449290/index.html">Wie 3D-Scannen Probleme bei der Qualit√§tskontrolle in der Produktion l√∂st</a></li>
<li><a href="../de449292/index.html">MT6081 Digital Pen Review - Nehmen Sie Ihre Notizen direkt auf Ihren Computer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>