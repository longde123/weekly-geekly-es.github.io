<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>➿ 🎅🏽 🧜 Schreiben einer API für Reaktionskomponenten, Teil 5: Verwenden Sie einfach die Komposition 🤛🏼 🛌 🙍🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Schreiben einer API für React-Komponenten, Teil 1: Erstellen Sie keine widersprüchlichen Requisiten 

 Schreiben einer API für Reaktionskomponenten, T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schreiben einer API für Reaktionskomponenten, Teil 5: Verwenden Sie einfach die Komposition</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459416/"><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schreiben einer API für React-Komponenten, Teil 1: Erstellen Sie keine widersprüchlichen Requisiten</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schreiben einer API für Reaktionskomponenten, Teil 2: Geben Sie dem Verhalten Namen, nicht der Interaktion</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schreiben einer API für React-Komponenten, Teil 3: Die Reihenfolge der Requisiten ist wichtig</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schreiben einer API für React Components, Teil 4: Vorsicht vor der Apropacalypse!</a> <br><br>  <strong>Schreiben einer API für Reaktionskomponenten, Teil 5: Verwenden Sie einfach die Komposition</strong> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wir schreiben API für React-Komponenten, Teil 6: Wir erstellen die Kommunikation zwischen Komponenten</a> </blockquote><p>  Wir haben eine Icon-Komponente: </p><br><p><img src="https://habrastorage.org/webt/6p/n9/vq/6pn9vqzr96ggahurfxzbsi9hm6q.png" alt="Abzeichen-1"></p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Sie haben sie in verschiedenen Anwendungen gesehen, sie zeigen die Anzahl der Objekte als Nummer. </p><br><p><img src="https://habrastorage.org/webt/3q/is/i1/3qisi1zoghe30jofkgzpwrtqlpo.png" alt="Github-1"></p><br><p>  Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kosmos-</a> Abzeichen (Symbol) hat mehrere Farben für jeden spezifischen Kontext (Informationen, Gefahr usw.). </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/pt/2k/qe/pt2kqeg_iv75cc8hsgvnntm_cba.png" alt="Abzeichen-2"></p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"success"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"danger"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Diese Benutzeroberfläche hat eine andere ähnliche Komponente - <code>Label</code> . </p><br><p><img src="https://habrastorage.org/webt/te/pr/il/tepril_sgr_n5azkqzgtg2ty9c0.png" alt="Github-2"></p><br><p>  Es hat auch mehrere Farben für jeden Kontext: </p><br><p><img src="https://habrastorage.org/webt/oe/fx/1p/oefx1pgaxmbdhdqedyuggafito0.png" alt="Etikett-2"></p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"success"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"default"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"danger"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Schauen Sie sich diese beiden Komponenten an und sagen Sie eine gute und eine schlechte Sache über ihre API (über ihre Requisiten). </p><br><p><img src="https://habrastorage.org/webt/3o/ni/r2/3onir2phh7ripkv6kjo6kipmxlo.png" alt="zusammen 2"></p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><h2 id="chto-horosho">  Was ist gut </h2><br><p>  Beide Komponenten haben die gleiche Requisite für das Aussehen: <code>appearance</code> , das ist großartig.  Darüber hinaus haben sie die gleichen Optionen für diese Requisite!  Wenn Sie wissen, wie das <code>appearance</code> in <code>Badge</code> , wissen Sie bereits, wie Sie das <code>appearance</code> in <code>Label</code> </p><br><blockquote>  Streben Sie nach konsistenten Requisiten zwischen den Komponenten <br><br>  Tipp 2 zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schreiben einer API für Reaktionskomponenten, Teil 2: Geben Sie dem Verhalten Namen, nicht der Interaktion</a> </blockquote><br><h2 id="chto-ploho">  Was ist schlecht </h2><br><p>  Die Art und Weise, wie sie ihre Bedeutungen annehmen, ist unterschiedlich.  Sie haben beide ihre eigene Option. </p><br><p>  Zählen, <code>count</code> ist im Rahmen der <code>Badge</code> Komponente sinnvoll. Unter Berücksichtigung aller übrigen Komponenten ist dies jedoch eine zusätzliche API, an die sich Ihr Team und Ihre Benutzer (Entwickler) erinnern müssen. </p><br><h2 id="davayte-uluchshim-etot-api">  Lassen Sie uns diese API verbessern </h2><br><p>  Um konsistent zu sein, werde ich diesen Requisiteninhalt nennen. Dies ist der häufigste Name, den ich mir einfallen lassen könnte - allgemeiner als nur Beschriftung, Text oder Wert. </p><br><p><img src="https://habrastorage.org/webt/3o/ni/r2/3onir2phh7ripkv6kjo6kipmxlo.png" alt="zusammen 2"></p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"12"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><p>  Wir haben einige Details verloren, aber viel Konsistenz erhalten.  Wir können den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wertetyp</a> immer noch mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Requisitentypen</a> festlegen, daher halte ich dies für einen guten Kompromiss. </p><br><p>  Aber warten Sie, in React gibt es bereits eine Mehrzweck- <code>content</code> Requisite, sie heißt <code>children</code> - ein Kind. </p><br><blockquote>  <code>props.children.</code> nicht neu <code>props.children.</code> <br><br>  Wenn Sie Requisiten definiert haben, die beliebige Daten akzeptieren, die nicht auf einer Datenstruktur basieren, ist es wahrscheinlich am besten, die Komposition <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Brent Jackson zu verwenden</a> </blockquote><p>  Hier ist der Tipp dieses Artikels - <strong>Wenn Sie zwischen einer Komposition und Requisiten wählen, wählen Sie eine Komposition</strong> . </p><br><p>  Lassen Sie uns diese API mit <code>children</code> , Kindern umgestalten: </p><br><p><img src="https://habrastorage.org/webt/3o/ni/r2/3onir2phh7ripkv6kjo6kipmxlo.png" alt="zusammen 2"></p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag">&gt;</span></span>12 <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Badge</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appearance</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"information"</span></span></span><span class="hljs-tag">&gt;</span></span>Private <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Es sieht gut aus. </p><br><p>  Bonus: Wenn Sie <code>children</code> anstelle von Requisiten verwenden, erhält der Entwickler, der diese Komponente verwendet, mehr Flexibilität, ohne die Komponente ändern zu müssen. </p><br><p>  Hier <code> </code> zum Beispiel <code> </code> , in der ich ein Symbol vor dem Text einfügen möchte. </p><br><p><img src="https://habrastorage.org/webt/3r/9r/vs/3r9rvsjdq1zrygc7obhzp225e8w.png" alt="Alarm"></p><br><p>  Mit <code>children</code> ich dieser <code> </code> ein Symbol hinzufügen, ohne zu dieser Komponente zurückzukehren oder sie zu ändern. </p><br><pre> <code class="xml hljs">//  -     <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Alert</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"This is an important message!"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Alert</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Icon</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"warning"</span></span></span><span class="hljs-tag"> /&gt;</span></span> This is an important message! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Alert</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Zufälligerweise sah ich beim Schreiben dieses Textes einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tweet von Brad Frost</a> : </p><br><blockquote>  Hey, reagiere Freunde, brauche ein bisschen Hilfe.  Ich stoße weiterhin auf dieses Muster, bei dem bestimmte Komponenten (insbesondere Listen) in kleinere Komponenten aufgeteilt oder durch Übergeben eines Objekts gesteuert werden können.  Welche Option ist besser? </blockquote><p><img src="https://habrastorage.org/webt/rb/rm/6k/rbrm6kcobqnadsodp6tck7rjpku.jpeg" alt="Code"></p><br><p>  Kommt Ihnen das bekannt vor? </p><br><p>  Lassen Sie uns zunächst keinen Requisitentext <code>text</code> und stattdessen untergeordnete <code>text</code> verwenden. </p><br><pre> <code class="xml hljs">//  : <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Breadcrumb</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Home"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/child"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  : <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Breadcrumb</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/child"</span></span></span><span class="hljs-tag">&gt;</span></span>Home<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Breadcrumb</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Nachdem wir dies herausgefunden haben, sprechen wir über diese beiden API-Optionen. </p><br><p>  Da es nicht schwer zu erraten ist, mag ich den ersten. </p><br><ol><li>  Sie müssen nicht darüber nachdenken, wie der Prop- <code>text</code> heißt?  <code>label</code> ?  <strong>Das sind nur <code>children</code> .</strong> </li><li>  Sie können Ihren <code>className</code> oder Ihr <code>target</code> bei Bedarf hinzufügen.  Bei der zweiten Option müssen Sie sicherstellen, dass diese Eigenschaften unterstützt werden, oder sie einfach an das Basiselement übergeben. </li><li>  Auf diese Weise können Sie das untergeordnete Element in einen Kontext oder in eine übergeordnete Komponente einschließen. </li></ol><br><h2 id="isklyuchenie-iz-pravila">  Ausnahme von der Regel: </h2><br><p>  Was ist, wenn Brad den Entwickler daran hindern möchte, die oben genannten Einstellungen vorzunehmen?  Dann wäre es ein Fehler, dem Entwickler mehr Flexibilität zu geben! </p><br><p>  Hier ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">meine Antwort an Brad</a> . </p><br><h2 id="bolshe-primerov">  Weitere Beispiele </h2><br><p>  Hier sind einige weitere Beispiele, wie dieser Tipp Ihren Code verbessern kann, mein letzter Favorit. </p><br><p>  Formulare sind ein gutes Beispiel für die Verwendung. Wir möchten das Layout des Formulars, Anzeigefehler usw. steuern.  Gleichzeitig wollen wir aber keine Expansionsmöglichkeiten verlieren. </p><br><pre> <code class="xml hljs">// #1  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FormTextInput</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name-input"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //     id, //  label   input? // #2  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FormField</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag">&gt;</span></span>Field label<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextInput</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"What's your name?"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FormField</span></span></span><span class="hljs-tag">&gt;</span></span> // #3    <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FormField</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Field label"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextInput</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"What's your name?"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FormField</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Das letztere Beispiel ist besonders interessant. </p><br><p>  Manchmal benötigen Sie eine Komponente, die in sehr unterschiedlichen Situationen verwendet wird.  Es ist nicht einfach, eine Komponente zu erstellen, die flexibel ist und dennoch über eine einfache API verfügt. </p><br><p>  Hier kommt die Umkehrung der Steuerung zum Einsatz - lassen Sie den Benutzer der Komponente entscheiden, was gerendert werden soll.  In der React-Welt wird dieses Muster als <strong>Render-Prop-Muster bezeichnet</strong> . </p><br><blockquote>  Die Render-Prop-Komponente übernimmt eine Funktion, die ein React-Element zurückgibt und aufruft, anstatt ein eigenes Rendering zu implementieren. <br><br>  aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React</a> Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Render-Requisiten</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> </blockquote><p>  Eines der beliebtesten Beispiele für Render-Requisiten ist die offizielle Kontext-API. </p><br><p>  Im folgenden Beispiel steuert die <code>App</code> Komponente die Daten, jedoch nicht deren Rendering. Sie übergibt dieses Steuerelement an die <code>Counter</code> Komponente. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    const MyContext = React.createContext() //    //    function App() { return ( &lt;MyContext.Provider value="5"&gt; &lt;Counter /&gt; &lt;/MyContext.Provider&gt; ) } //    //   function Counter() { return ( &lt;MyContext.Consumer&gt; {value =&gt; ( &lt;div className="counter"&gt;the count is: {value}&lt;/div&gt; )} &lt;/MyContext.Consumer&gt; ) }</span></span></code> </pre> <br><p>  Haben Sie etwas Interessantes an dieser <code>Consumer</code> API bemerkt? </p><br><p>  Anstatt eine neue API zu erstellen, verwendet er <code>children</code> , um eine Funktion zu akzeptieren, die ihm sagt, wie er rendern soll! </p><br><pre> <code class="xml hljs">//  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Consumer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">render</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{value</span></span></span><span class="hljs-tag"> =&gt;</span></span> ( <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"counter"</span></span></span><span class="hljs-tag">&gt;</span></span>the count is: {value}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> )} /&gt; //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Consumer</span></span></span><span class="hljs-tag">&gt;</span></span> {value =&gt; ( <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"counter"</span></span></span><span class="hljs-tag">&gt;</span></span>the count is: {value}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> )} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Consumer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Kehren Sie zu Ihrem Code zurück und suchen Sie die Komponente, die Requisiten akzeptiert, wenn sie problemlos <strong><code>children</code></strong> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de459416/">https://habr.com/ru/post/de459416/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de459402/index.html">Wie implementiere ich eine saubere Architektur auf Android?</a></li>
<li><a href="../de459404/index.html">Idee: anonyme Registrierung / Autorisierung über das Ethereum + Metamask-Netzwerk, ohne E-Mails usw.</a></li>
<li><a href="../de459408/index.html">Wie ich versucht habe, eine Kartensuche nach Treibern zu reparieren. Teil 3 (endgültig)</a></li>
<li><a href="../de459410/index.html">So schreiben Sie Code, damit Ihre Kollegen nicht schwören</a></li>
<li><a href="../de459414/index.html">Schreiben einer API für Reaktionskomponenten, Teil 4: Vorsicht vor der Apropakalypse</a></li>
<li><a href="../de459420/index.html">Der häufigste Rechen bei der Verwendung von printf in Programmen für Mikrocontroller</a></li>
<li><a href="../de459422/index.html">Wir schreiben API für React-Komponenten, Teil 6: Wir erstellen die Kommunikation zwischen Komponenten</a></li>
<li><a href="../de459426/index.html">Wie das Design von Yandex.Avto erstellt wurde</a></li>
<li><a href="../de459428/index.html">Intel Quartus Prime - alles, was Sie für die Arbeit mit Intel FPGA benötigen</a></li>
<li><a href="../de459430/index.html">Mobile Anwendung mit automatischer Formularerstellung: unser Fall</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>