<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦕 👋 👈🏻 كيفية تجميع صورة Oracle DB لـ Testcontainers ☠️ 👩🏿‍🍳 👨‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="يجب اختبار الرمز على نظام إدارة قواعد البيانات (DBMS) الذي سيعمل به. Testcontainers هي مكتبة تتيح لك استخدام أي قاعدة بيانات تقريبًا في اختبارات الوحد...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيفية تجميع صورة Oracle DB لـ Testcontainers</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480106/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  يجب اختبار الرمز على نظام إدارة قواعد البيانات (DBMS) الذي سيعمل به.  Testcontainers هي مكتبة تتيح لك استخدام أي قاعدة بيانات تقريبًا في اختبارات الوحدة بنفس سهولة قواعد البيانات المدمجة مثل HSQLDB أو H2.  لن يكون هناك سوى صورة عامل ميناء </p><br><img src="https://habrastorage.org/webt/hn/x3/ho/hnx3hojiqvya8flignz-mqkrk6s.jpeg"><br><p style=";text-align:right;direction:rtl">  هذه المقالة مخصصة لتجميع صورة عامل ميناء ملائمة للاستخدام مع Testcontainers.  عندما حاولت القيام بذلك ، واجهت مشاكل ، وهنا أشارك حل بلدي. <br>  سأجمع الصورة الخاصة بـ Oracle 11 ، لأنها صغيرة ولديّ نسخة كافية 11.  مع الإصدارات الأخرى ، فإن النهج هو نفسه تقريبا. </p><br><p style=";text-align:right;direction:rtl">  لتوضيح كيفية استخدام الصورة ، سيكون هناك أيضًا كود Java يوضح استخدام الصورة لاختبار تطبيقات Spring Boot.  طريقة الاتصال بحاويات الاختبار التي قدمتها ربما ليست هي الأفضل.  ولكن أولاً ، يوضح كيفية استخدام الإعدادات المحددة عند إنشاء الصورة.  ثانيا ، الأمر بسيط.  وثالثا ، ليس مرتبطًا بـ Spring تقريبًا ، بل يمكن تعليقه في تعليمات Java البرمجية ، التي لا يوجد فيها سوى فراغ ثابت عام رئيسي. </p><br><p style=";text-align:right;direction:rtl">  من المفترض أن يكون القارئ على دراية سطحية بـ Docker و Testcontaners ، ويعرف أيضًا جافا جيدًا.  للبناء ، تحتاج إلى استخدام linux ، إذا كنت تقوم بالبناء تحت Windows ، فستحتاج إلى استخدام msys2 أو شيء من هذا القبيل. </p><br><p style=";text-align:right;direction:rtl">  يتم تحميل رمز العرض التوضيحي إلى github هنا <a href="https://github.com/poxu/testcontainers-spring-demo" rel="nofollow">https://github.com/poxu/testcontainers-spring-demo</a> يمكن الاطلاع على البرامج النصية الصحيحة لتجميع الصورة في مفترقتي لتعليمات Oraklov <a href="https://github.com/poxu/docker-images/tree/master/OracleDatabase/SingleInstance" rel="nofollow">https://github.com/poxu/docker-images/tree/ ماجستير / OracleDatabase / SingleInstance</a> </p><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  بناء صورة عامل الميناء </h1><br><p style=";text-align:right;direction:rtl">  لا يوفر Oracle صورًا لرسو السفن ، ولكنه نشر إرشادات مفصلة حول كيفية تجميعها على جيثب. </p><br><p style=";text-align:right;direction:rtl">  لسوء الحظ ، لا يمكن استخدام هذه الصور في حاويات الاختبار لأن الحاوية التي يتم إطلاقها من هذه الصورة تبدأ من دقيقتين إلى 20 دقيقة. </p><br><p style=";text-align:right;direction:rtl">  للاستخدام في اختبارات الوحدات ، هذا أمر غير مقبول ، لذلك تحتاج إلى إجراء التغييرات الخاصة بك على البرامج النصية ، ولكن من الأفضل أولاً محاولة تجميع الحاوية وفقًا للتعليمات التي توفرها Oracle.  سأجعل رواية موجزة هنا ، يوجد تعليمات أكثر اكتمالا على هذا الرابط <a href="https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance" rel="nofollow">https://github.com/oracle/docker-images/tree/master/OracleDatabase/SingleInstance</a> </p><br><h2 style=";text-align:right;direction:rtl">  تجميع الصور وفقًا لتعليمات Oracle </h2><br><p style=";text-align:right;direction:rtl">  أولاً ، عليك استنساخ المستودع بتعليمات حول كيفية تجميع الصورة. </p><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/oracle/docker-images.git</code> </pre> <br><p style=";text-align:right;direction:rtl">  ثم احصل على حزمة rpm للنسخة السريعة المأذون بها من Oracle 11.2.0.2 ، إنها ليست صعبة للغاية ، فأنت تحتاج فقط إلى التسجيل على موقع Oracle على الويب ، وانتقل إلى صفحة تنزيل Oracle DBMS ، وحدد الإصدار 11.2.0.2 XE هناك ، وقم بتنزيل ملف rpm المحزوم oracle-xe-11.2.0 -1.0.x86 ~ 64 ~ .rpm.zip. </p><br><p style=";text-align:right;direction:rtl">  ضع الملف في مستودع git الذي تم تنزيله في الدليل docker-images / OracleDatabase / SingleInstance / dockerfiles / 11.2.0.2 / </p><br><p style=";text-align:right;direction:rtl">  بعد ذلك ، انتقل إلى دليل docker-images / OracleDatabase / SingleInstance / dockerfiles وقم بتشغيل الأمر </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">./buildDockerImage.sh -v 11.2.0.2 -x</code> </pre> <br><p style=";text-align:right;direction:rtl">  سيقوم عامل التجميع بتجميع صورة تسمى oracle / database: 11.2.0.2-xe بناءً على ما تحتاج إليه لإنشاء الحاوية باستخدام هذا الأمر </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">docker run --rm --name vanilla_oracle_test_habr \ -p 1234:1521 \ -p 5678:5500 \ -e ORACLE_PWD=123 \ --shm-size=<span class="hljs-string"><span class="hljs-string">"1g"</span></span> \ oracle/database:11.2.0.2-xe</code> </pre> <br><p style=";text-align:right;direction:rtl">  تبدأ الحاوية بضع دقائق ، لأنه بعد البدء في إنشاء قاعدة بيانات جديدة ، وهذه العملية ليست سريعة. </p><br><p style=";text-align:right;direction:rtl">  بعد بضع دقائق ، ستظهر لافتة في وحدة التحكم </p><br><blockquote style=";text-align:right;direction:rtl">  ######################### <br>  قاعدة البيانات جاهزة للاستخدام! <br>  ######################### </blockquote><p style=";text-align:right;direction:rtl">  بعد ذلك ، يمكنك الاتصال بقاعدة البيانات باستخدام تسجيل الدخول SYSTEM ، وكلمة المرور هي 123 ، وعنوان الاتصال هو المضيف المحلي و SID هو XE. </p><br><p style=";text-align:right;direction:rtl">  إذا نجح كل شيء ، فيمكنك المتابعة إلى عملية إنشاء صورة تحت حاويات الاختبار.  إذا لم يكن الأمر كذلك ، فمن الأفضل أن تذهب أولاً من خلال الدليل من Oracle ومعرفة الخطأ. </p><br><p style=";text-align:right;direction:rtl">  كما اكتشفنا بالفعل ، تبدأ الحاوية لفترة طويلة بسبب حقيقة أنه بعد البدء يتم إنشاء قاعدة بيانات.  في بعض الحالات ، قد يكون هذا مناسبًا ، لكن الآن يتسبب ذلك في ضرر تام.  من الضروري جعل الحاوية جاهزة للاستخدام فورًا بعد الإطلاق. </p><br><h2 style=";text-align:right;direction:rtl">  تحسين الصورة اليدوية </h2><br><p style=";text-align:right;direction:rtl">  تتمثل إحدى طرق الحصول على الصورة من قاعدة البيانات النهائية في الانتظار حتى يتم بدء تشغيل الحاوية وإكمال إنشاء قاعدة البيانات ، ثم حفظ الحاوية في صورة جديدة. </p><br><p style=";text-align:right;direction:rtl">  من المهم فقط عدم بدء تشغيل الحاوية بالوسيطة - rm ، وإلا فسيقوم عامل النقل بضربها فور إيقافها. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">docker commit --message <span class="hljs-string"><span class="hljs-string">"container for unit tests"</span></span> &lt;container id&gt; my/oracle-11.2.0.2-for-unit-tests</code> </pre> <br><p style=";text-align:right;direction:rtl">  سيؤدي ذلك إلى إنشاء صورة جديدة من الحاوية ، والتي سيتم إطلاقها ليس فقط لبضع دقائق ، ولكن من 20 إلى 30 ثانية. </p><br><h2 style=";text-align:right;direction:rtl">  تعديل عملية تجميع الصور من أجل الحصول على صورة منتهية فور التجميع </h2><br><p style=";text-align:right;direction:rtl">  بالطبع ، من الجيد أن يكون لديك تعليمات لتجميع الصورة في شكل رمز بحيث يمكنك بدء التجميع بأمر واحد ولا حاجة إلى الانتظار حتى تبدأ الحاوية في إنشاء صورة تستند إليها بيديك. </p><br><p style=";text-align:right;direction:rtl">  يشير السطر الأخير من dockerfile إلى الأمر الذي يتم تنفيذه بعد البداية </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">CMD <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-variable"><span class="hljs-variable">$ORACLE_BASE</span></span>/<span class="hljs-variable"><span class="hljs-variable">$RUN_FILE</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  \ $ ORACLE ~ BASE ~ / \ $ RUN ~ FILE ~ يشير إلى ملف docker-images / OracleDatabase / SingleInstance / dockerfiles / 11.2.0.2 / runOracle.sh </p><br><p style=";text-align:right;direction:rtl">  إذا قمت بإيقاف هذه الحاوية ثم تشغيلها مرة أخرى ، كنتيجة ، لأول مرة ، سينشئ البرنامج النصي قاعدة البيانات ، وفي المرة الثانية سيبدأ تشغيله ببساطة.  يمكن افتراض أنه إذا قمت بتنفيذ البرنامج النصي في مرحلة تجميع الصورة ، فسيتم تجميع الصورة من قاعدة البيانات التي تم إنشاؤها بالفعل. </p><br><p style=";text-align:right;direction:rtl">  ولكن في الطريق إلى تنفيذ هذه الخطة الجريئة ، تنشأ تعقيد واحد. </p><br><p style=";text-align:right;direction:rtl">  يتم تشغيل البرنامج النصي إلى الأبد ، أي إلى أن تصل الإشارة إلى الحاوية التي تحتاج إلى إكمال العمل.  تم حل هذا بكل بساطة.  يحتوي السطر الأخير من ملف runOracle.sh على أمر الانتظار.  نحن نعلم أنه في مرحلة التجميع لا تحتاج إلى الانتظار لأي شيء ، تحتاج إلى إنهاء العمل وبالتالي سنضع بيانًا مشروطًا في البرنامج النصي. </p><br><p style=";text-align:right;direction:rtl">  سيتم التحقق مما إذا لم يتم تمرير الوسيطة --running-بينما - بناء إلى الملف وإذا تم تمرير هذه الوسيطة ، ثم لا تنتظر أي إشارات ، ولكن ببساطة مقاطعة العمل.  وهذا هو ، تفعل مثل هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">"--running-while-building"</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">wait</span></span> <span class="hljs-variable"><span class="hljs-variable">$childPID</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  حسنًا ، في dockerfile نضيف مكالمة نصية أخرى ، فقط في مرحلة التجميع.  سوف تتحول مثل هذا. </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">RUN <span class="hljs-variable"><span class="hljs-variable">$ORACLE_BASE</span></span>/<span class="hljs-variable"><span class="hljs-variable">$RUN_FILE</span></span> --running-while-building CMD <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> <span class="hljs-variable"><span class="hljs-variable">$ORACLE_BASE</span></span>/<span class="hljs-variable"><span class="hljs-variable">$RUN_FILE</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  التغييرات المطلوبة للاستخدام في الاختبار </h2><br><h3 id="ustranit-ispolzovanie-tomov" style=";text-align:right;direction:rtl">  القضاء على استخدام حجم </h3><br><p style=";text-align:right;direction:rtl">  بحاجة الى ايجاد الخط </p><br><blockquote style=";text-align:right;direction:rtl">  المجلد ["\ $ ORACLE ~ BASE ~ / oradata"] </blockquote><p style=";text-align:right;direction:rtl">  والتعليق عليها.  ليست هناك حاجة لاستخدام وحدات التخزين ، لأن كل التغييرات سيتم طرحها بعد كل تشغيل تجريبي ، ولكن يمكن أن تنشأ مشاكل عند استخدام وحدات التخزين بسهولة عند نسخ الصور. </p><br><h3 id="udalit-nenuzhnye-fayly" style=";text-align:right;direction:rtl">  حذف الملفات غير الضرورية </h3><br><p style=";text-align:right;direction:rtl">  تحتاج إلى إضافة خطوط </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/demo &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/jdbc &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/jlib &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/md &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/nls/demo &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/odbc &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/rdbms/jlib &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/rdbms/public &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/rdbms/demo &amp;&amp; \ rm -rf <span class="hljs-variable"><span class="hljs-variable">$ORACLE_HOME</span></span>/bin/rman &amp;&amp; \</code> </pre> <br><p style=";text-align:right;direction:rtl">  فقط قبل الخط </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">chmod ug+x <span class="hljs-variable"><span class="hljs-variable">$ORACLE_BASE</span></span>/*.sh</code> </pre> <br><p style=";text-align:right;direction:rtl">  سيؤدي ذلك إلى إزالة جميع الملفات غير اللازمة لأغراض الاختبار من الصورة.  أصغر الصورة ، كان ذلك أفضل. </p><br><h3 id="ubrat-razbienie-obraza-na-sloi" style=";text-align:right;direction:rtl">  إزالة تقسيم الصورة </h3><br><p style=";text-align:right;direction:rtl">  لتقليل الصورة ، تحتاج إلى إنشائها باستخدام وسيطة <strong>الاسكواش</strong> .  سيؤدي ذلك إلى إزالة الفصل إلى طبقات من الصورة ، مما يقلل من حجمه.  تعتبر حجة الاسكواش تجريبية ، لذلك عليك تمكينها بشكل منفصل.  في أنظمة التشغيل المختلفة ، يتم ذلك بطرق مختلفة. </p><br><p style=";text-align:right;direction:rtl">  لإعادة توجيه الوسائط إلى عامل الإرساء ، يوفر عامل الإلحاق بالصور / OracleDatabase / SingleInstance / dockerfiles / buildDockerImage.sh الوسيطة -o.  هذا هو ، لإعادة توجيه وسيطة - الحشو إلى عامل الميناء ، تحتاج إلى استدعاء buildDockerImage.sh مثل هذا </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">./buildDockerImage.sh -o <span class="hljs-string"><span class="hljs-string">'--squash'</span></span></code> </pre> <br><h3 id="pomenyat-nazvanie-obraza" style=";text-align:right;direction:rtl">  تغيير اسم الصورة </h3><br><p style=";text-align:right;direction:rtl">  حتى الآن ، تختلف الصورة اختلافًا كبيرًا عما تقترحه Oracle ، لذلك يجب إعادة تسميته.  للقيام بذلك ، تحتاج بالفعل إلى تحرير ملف buildDockerImage.sh نفسه ، يأخذ البرنامج النصي اسم الصورة من متغير IMAGE ~ NAME ~ ، حيث يتم تعيين القيمة مباشرة في الملف. </p><br><p style=";text-align:right;direction:rtl">  هنا </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># Oracle Database Image Name IMAGE_NAME="oracle/database:$VERSION-$EDITION"</code> </pre> <br><p style=";text-align:right;direction:rtl">  لقد غيرت ل </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># Oracle Database Image Name IMAGE_NAME="my/oracle-for-habr:$VERSION-$EDITION"</code> </pre> <br><h3 id="zadat-parol-k-bd" style=";text-align:right;direction:rtl">  تعيين كلمة مرور DB </h3><br><p style=";text-align:right;direction:rtl">  تم تعيين كلمة المرور هذه في متغير البيئة ORACLE ~ PWD ~ أثناء البداية الأولى للحاوية.  لكن لدينا إعداد قاعدة البيانات أثناء إنشاء الصور ، لذلك يجب تحديد المتغير في هذه المرحلة.  إذا لم تكن هناك حاجة إلى تعيين كلمة مرور لكل مجموعة من خلال سطر الأوامر ، يمكنك ببساطة إدخالها في dockerfile: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ENV ORACLE_PWD=123</code> </pre> <br><p style=";text-align:right;direction:rtl">  إذا احتجت إلى شيء ما لتتمكن من تحديد كلمة المرور مرة أخرى مع كل بنية ، ثم لإعادة توجيه الوسيطة إلى عامل الميناء ، يمكنك مرة أخرى استخدام -o </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">./buildDockerImage.sh -v 11.2.0.2 -x -o <span class="hljs-string"><span class="hljs-string">'--squash --build-arg ORACLE_PWD=123'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  سيؤدي هذا إلى نقل متغير البيئة ORACLE ~ PWD ~ إلى dockerfile ، ولكن لن يقوم dockerfile بتمريره إلى البرامج النصية التي تعمل أثناء الإنشاء.  لكي يقوم بذلك ، أضف تعليمة ARG إلى dockerfile. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ARG ORACLE_PWD=default</code> </pre> <br><p style=";text-align:right;direction:rtl">  ستكون كلمة المرور ، كما قد تصبح واضحة بالفعل ، 123 ، وإذا لم تقم بتمرير ORACLE ~ PWD ~ إلى buildDockerImage.sh ثم الافتراضي. </p><br><p style=";text-align:right;direction:rtl">  في بعض الأحيان ، تعتقد Oracle أن كلمة المرور سيئة ولا ترغب في العمل ، لذلك قد يكون من الضروري استبدال 123 بشيء آخر </p><br><h2 style=";text-align:right;direction:rtl">  اختبار رفع الصورة الناتجة </h2><br><p style=";text-align:right;direction:rtl">  الآن يمكنك محاولة تشغيل الحاوية على أساس الصورة </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">docker run --rm --name dockertest_habr \ -p 1234:1521 \ -p 5678:5500 \ --shm-size=<span class="hljs-string"><span class="hljs-string">"1g"</span></span> \ my/oracle-for-habr:11.2.0.2-xe</code> </pre> <br><p style=";text-align:right;direction:rtl">  الوسيطة --shm-size = "1g" مهمة هنا ، بدونها تبدأ الحاوية ، لكن Oracle 11.2.0.2 نفسه لا يمكن أن يعمل.  هذا ، فقط في حالة ، لا يعني أن الحاوية ستحتاج إلى غيغابايت من ذاكرة الوصول العشوائي ، فهي تستهلك حوالي 100 ميجابايت. </p><br><p style=";text-align:right;direction:rtl">  إذا ارتفعت الحاوية بشكل طبيعي ، فيمكنك محاولة الاتصال بقاعدة البيانات الموجودة هناك. </p><br><p style=";text-align:right;direction:rtl">  العنوان الأساسي - على الأرجح المضيف المحلي <br>  ميناء - 1234 <br>  نظام المستخدم <br>  كلمة المرور - 123 </p><br><p style=";text-align:right;direction:rtl">  إذا بدأت بشكل طبيعي ، فيمكنك المتابعة إلى الخطوة التالية. </p><br><h2 style=";text-align:right;direction:rtl">  النصي التهيئة DB </h2><br><p style=";text-align:right;direction:rtl">  حتى يتمكن البرنامج من العمل مع قاعدة البيانات من الصورة ، من الضروري وجود دائرة هناك بعد الإطلاق.  يمكنك إنشاء هذه الدائرة في مرحلة الإنشاء ، لكنني أفضل القيام بذلك عند بدء تشغيل الحاوية. </p><br><p style=";text-align:right;direction:rtl">  بعد البدء ، ستقوم الحاوية بالبحث في الدليل <em>u01 / app / oracle / scripts / startup</em> وتنفيذ جميع البرامج النصية sql التي تعثر عليها هناك ، والتي يمكنك استخدامها بوضع الملف هناك الذي سيؤدي إلى إنشاء الدائرة.  شيء من هذا القبيل. </p><br><pre style=";text-align:right;direction:rtl"> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USER</span></span> TEST_USER <span class="hljs-keyword"><span class="hljs-keyword">IDENTIFIED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> passwordnoquotes; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USER</span></span> TEST_USER <span class="hljs-keyword"><span class="hljs-keyword">QUOTA</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unlimited</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SYSTEM</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">GRANT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SESSION</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONNECT</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">RESOURCE</span></span>, DBA <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> TEST_USER; <span class="hljs-keyword"><span class="hljs-keyword">GRANT</span></span> ALL <span class="hljs-keyword"><span class="hljs-keyword">PRIVILEGES</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> TEST_USER;</code> </pre> <br><p style=";text-align:right;direction:rtl">  كل هذا يحتاج إلى إضافته إلى ملف init ~ db ~ .sql ، ويتم طرح الملف في الحاوية باستخدام -v </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">docker run --rm --name dockertest_habr \ -p 1234:1521 \ -p 5678:5500 \ -e ORACLE_PWD=123 \ -v <span class="hljs-variable"><span class="hljs-variable">${PWD}</span></span>/init_db.sql:/u01/app/oracle/scripts/startup/init_db.sql \ --shm-size=<span class="hljs-string"><span class="hljs-string">"1g"</span></span> \ my/oracle-for-habr:11.2.0.2-xe</code> </pre> <br><p style=";text-align:right;direction:rtl">  \ $ {PWD} هنا يتم استخدامه لأن المسار المطلق للملف مطلوب ، عند استخدام Windows ، تحتاج إلى تحديده بطريقة مختلفة بطريقة ما.  إذا تم إنشاء مخطط TEST ~ USER ~ بنجاح بعد البدء ، فيمكنك المتابعة لربط الحاوية التي تم إنشاؤها حديثًا بالاختبارات. </p><br><h1 style=";text-align:right;direction:rtl">  باستخدام صورة في كود جافا </h1><br><p style=";text-align:right;direction:rtl">  عند اختبار استخدام قاعدة البيانات المدمجة ، كقاعدة عامة ، تنشأ نفس المشكلة.  إذا تعذر أخذ التكوين من ذاكرة التخزين المؤقت ، فسيجمعه Spring مرة أخرى.  على وجه الخصوص ، تعيد إنشاء قاعدة البيانات المدمجة ، والتي بالطبع تبطئ بشكل خطير الاختبارات.  لقد قمت بحل مشكلة القوة الغاشمة من خلال جعل جزء رفع الحاوية منفردًا.  حقيقي واحد ، الشقة. </p><br><p style=";text-align:right;direction:rtl">  بالنسبة إلى Oracle XE ، تحتوي Testcontainers على فصل دراسي مُعد خصيصًا.  بادئ ذي بدء ، يعرف هذا الفصل أننا نتحدث عن حاوية مع DBMS وأنه من أجل تحديد رفعها ، يجب أن نحاول الاتصال بقاعدة البيانات باستخدام jdbc. </p><br><p style=";text-align:right;direction:rtl">  سينتظر كائن من هذه الفئة رفع الحاوية من تلقاء نفسه ، وتحتاج فقط إلى إخبارها بسجلات باستخدام كلمة مرور للاستخدام. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testcontainers.containers.BindMode; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testcontainers.containers.OracleContainer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StaticOracleContainer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> OracleContainer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContainer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LazyOracleContainer.ORACLE_CONTAINER; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LazyOracleContainer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> OracleContainer ORACLE_CONTAINER = makeContainer(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> OracleContainer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeContainer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       testcontainers.properties //  oracle.container.image final var dockerImageName = "my/oracle-for-habr"; final var container = new OracleContainer(dockerImageName) //    ,  testcontainers //  ,  ,  //   .withUsername("SYSTEM").withPassword("123") // ,  testcontainers  //     .withExposedPorts(1521, 5500) //      shared memory //    .withSharedMemorySize(2147483648L) //   ,       // -v /path/to/init_db.sql:/u01/app/oracle/scripts/startup/init_db.sql //    init_db.sql   .withClasspathResourceMapping("init_db.sql" , "/u01/app/oracle/scripts/startup/init_db.sql" , BindMode.READ_ONLY); container.start(); return container; } } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  أيضًا ، تقوم حاويات الاختبار ، عند إطلاقها ، بتعيين المنافذ الداخلية للحاوية إلى منافذ خارجية غير مأهولة محددة عشوائيًا.  لذلك ، لا يمكنك الخوف من أن الحاوية لن ترتفع ، لأن المنفذ يستخدم بالفعل من قبل شخص ما.  يمكن الحصول على منفذ خارجي من الحاوية باستخدام طريقة getOraclePort (). </p><br><p style=";text-align:right;direction:rtl">  يمكنك أيضًا الحصول على عنوان الحاوية باستخدام طريقة getContainerIpAddress () ، ولكن تحتوي أي حاوية على هذه الطريقة. </p><br><p style=";text-align:right;direction:rtl">  بعد أول مكالمة إلى getContainer ، لن يتم إعادة إنشاء الحاوية ، ولكن سيتم إرجاع الحاوية الحالية.  يمكن الآن استخدام هذه الطريقة في Java العارية أو في تهيئة Spring للحصول على كائن به حاوية يمكنك من خلالها سحب المنافذ وعنوان الاتصال. </p><br><p style=";text-align:right;direction:rtl">  على سبيل المثال ، يمكنك إنشاء مُهيئ ، والذي عند رفع السياق ، سيتخطى سمات الربيع المسؤولة عن الاتصال بقاعدة البيانات. </p><br><h2 style=";text-align:right;direction:rtl">  فئة لربط حاويات Test to Spring </h2><br><p style=";text-align:right;direction:rtl">  بعد رفع الحاوية ، يستبدل المُهيِّج الخصائص المسؤولة عن عنوان URL للاتصال بقاعدة البيانات وتسجيل الدخول وكلمة المرور وكل ذلك. </p><br><p style=";text-align:right;direction:rtl">  ولكن ، إذا لم يكن هناك إعداد evilcorp.testcontainers.enabled في application.properties ، فلن يتم رفع الحاوية وسيعمل كل شيء كما لو أنه لا يوجد أحد متصل بـ testcontainers. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.evilcorp.demo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.platform.commons.logging.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.platform.commons.logging.LoggerFactory; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.test.util.TestPropertyValues; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ApplicationContextInitializer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.context.ConfigurableApplicationContext; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.testcontainers.containers.OracleContainer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestcontainersInitializer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationContextInitializer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConfigurableApplicationContext</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Logger log = LoggerFactory.getLogger(TestcontainersInitializer.class); <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ConfigurableApplicationContext applicationContext)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,   Testcontainers final String testcontainersEnabled = applicationContext.getEnvironment().getProperty("evilcorp.testcontainers.enabled"); if (!"true".equals(testcontainersEnabled)) { return; } OracleContainer oracleContainer = StaticOracleContainer.getContainer(); oracleContainer.followOutput(s -&gt; log.debug(() -&gt; s.getUtf8String())); // IP       //  ,    // (linux, MacOs, Windows  ) , //    oracleContainer.getContainerIpAddress() //    // // Testcontainers     //   ,    oracleContainer.getOraclePort() //  ,         final String jdbcUrl = "jdbc:oracle:thin:@//" + oracleContainer.getContainerIpAddress() + ":" + oracleContainer.getOraclePort() + "/XE"; //      init_db.sql //      final String user = "TEST_USER"; final String password = "passwordnoquotes"; TestPropertyValues.of( "spring.jpa.properties.hibernate.default_schema=" + user, "spring.datasource.driver-class-name=oracle.jdbc.OracleDriver", "spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect", "spring.datasource.username=" + user, "spring.datasource.password=" + password, "spring.datasource.url=" + jdbcUrl, "spring.liquibase.url=" + jdbcUrl, "spring.liquibase.user=" + user, "spring.liquibase.password=" + password ).applyTo(applicationContext.getEnvironment(), TestPropertyValues.Type.MAP, "test"); } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكن استخدام هذا التكوين في اختبار التمهيد الربيع للكتابة فوق إعدادات قاعدة البيانات أثناء الطيران. </p><br><h2 style=";text-align:right;direction:rtl">  اختبار باستخدام Testcontainers </h2><br><p style=";text-align:right;direction:rtl">  الاختبار ببساطة يكتب كائن إلى قاعدة البيانات ، ثم يقرأ ، لا شيء خاص. </p><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.evilcorp.demo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.evilcorp.demo.entity.User; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.jupiter.api.BeforeEach; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.jupiter.api.Test; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.test.context.SpringBootTest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.test.context.ContextConfiguration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Optional; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.junit.jupiter.api.Assertions.assertEquals; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.junit.jupiter.api.Assertions.assertNotNull; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.junit.jupiter.api.Assertions.assertNotSame; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.junit.jupiter.api.Assertions.assertTrue; <span class="hljs-meta"><span class="hljs-meta">@SpringBootTest</span></span> <span class="hljs-meta"><span class="hljs-meta">@ContextConfiguration</span></span>(initializers = {TestcontainersInitializer.class}) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestcontainersSpringDemoApplicationTests</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> UserRepository userRepository; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> User createdUser; <span class="hljs-meta"><span class="hljs-meta">@BeforeEach</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ createdUser = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(); createdUser.setName(<span class="hljs-string"><span class="hljs-string">"Fry"</span></span>); userRepository.save(createdUser); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userRepositoryLoaded</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ assertNotNull(userRepository); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userAdded</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Optional&lt;User&gt; loadedUser = userRepository.findById(createdUser.getUserId()); assertTrue(loadedUser.isPresent()); assertEquals(<span class="hljs-string"><span class="hljs-string">"Fry"</span></span>, loadedUser.get().getName()); assertNotSame(createdUser, loadedUser.get()); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ونعم ، أضف تبعيات إلى pom.xml </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.testcontainers<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>testcontainers<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.12.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.testcontainers<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>oracle-xe<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.12.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>test<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  هذا حول كيفية إنشاء صورة لرسو السفن Oracle DBMS واستخدامها في تعليمات Java البرمجية.  يبقى فقط وضع الصورة في مستودع الشركة من القطع الأثرية وترتيب إطلاق الاختبارات داخل حاوية أخرى لرسو السفن.  لكن هذه قصة مختلفة تماما. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar480106/">https://habr.com/ru/post/ar480106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar480096/index.html">نهاية الطفولة: حقوق الطبع والنشر على الأعمال التي أنشأتها الذكاء الاصطناعي (AI)</a></li>
<li><a href="../ar480098/index.html">JH مياه الأمطار "كيفية رعي القطط": على الجانب الآخر من التنمية</a></li>
<li><a href="../ar480100/index.html">مبتدئين حول كبار المسئولين الاقتصاديين</a></li>
<li><a href="../ar480102/index.html">نشرة نوفمبر لإدارة المنتجات</a></li>
<li><a href="../ar480104/index.html">9 الحيل HTML مفيدة</a></li>
<li><a href="../ar480108/index.html">الفيزياء في مشروع الوحدة باستخدام القتال المحمول كمثال</a></li>
<li><a href="../ar480110/index.html">uMCPIno: كتابة بروتوكول بسيط مع تسليم مضمون لاردوينو</a></li>
<li><a href="../ar480112/index.html">الاختلافات بين C ++ / Visual Basic و Java على المستوى العام (للمبتدئين والطلاب)</a></li>
<li><a href="../ar480114/index.html">كل شيء عن الضرائب لحسابهم الخاص. IE والعاملين لحسابهم الخاص. الجزء 1</a></li>
<li><a href="../ar480116/index.html">موقف Mail.ru المجموعة على تطوير مفتوحة المصدر في روسيا</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>