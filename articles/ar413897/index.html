<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐ถ ๐๏ธ Unity3D ECS ููุธุงู ุงููุธุงุฆู ๐จ๐ป ๐ซ ๐ฉ๐ฝโ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุน Unity3D ุ ูุน ุฅุตุฏุงุฑ ุงูุฅุตุฏุงุฑ 2018 ุ ุฃุตุจุญ ูู ุงููููู ุงุณุชุฎุฏุงู ูุธุงู ECS ุงูุฃุตูู (ูู ุฃุฌู ุงููุญุฏุฉ) ุ ุงููููู ุจุชุฑุงุจุท ูุชุนุฏุฏ ูู ุดูู ูุธุงู ุงููุธุงุฆู. ูุง ุชูุฌุฏ ุงูุนุฏูุฏ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unity3D ECS ููุธุงู ุงููุธุงุฆู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413897/" style=";text-align:right;direction:rtl"> ูุน Unity3D ุ ูุน ุฅุตุฏุงุฑ ุงูุฅุตุฏุงุฑ 2018 ุ ุฃุตุจุญ ูู ุงููููู ุงุณุชุฎุฏุงู ูุธุงู ECS ุงูุฃุตูู (ูู ุฃุฌู ุงููุญุฏุฉ) ุ ุงููููู ุจุชุฑุงุจุท ูุชุนุฏุฏ ูู ุดูู ูุธุงู ุงููุธุงุฆู.  ูุง ุชูุฌุฏ ุงูุนุฏูุฏ ูู ุงูููุงุฏ ุนูู ุงูุฅูุชุฑูุช (ูุดุฑูุนุงู ูู Unity Technologies ููุณูุง ูุงุซููู ูู ููุงุทุน ุงูููุฏูู ุงูุชุฏุฑูุจูุฉ ุนูู YouTube).  ุญุงููุช ุฃู ุฃุฏุฑู ุญุฌู ูููุงุกูุฉ ECS ุ ูุตูุน ูุดุฑูุนูุง ุตุบูุฑูุง ููุณ ูู ุงูููุนุจุงุช ูุงูุฃุฒุฑุงุฑ.  ูุจู ุฐูู ุ ูู ููู ูุฏู ุฃู ุฎุจุฑุฉ ูู ุชุตููู ECS ุ ูุฐูู ุงุณุชุบุฑู ุงูุฃูุฑ ููููู ูุฏุฑุงุณุฉ ุงูููุงุฏ ูุฅุนุงุฏุฉ ุจูุงุก ุงูุชูููุฑ ุจุงุณุชุฎุฏุงู OOP ุ ููู ููุงุณุชูุชุงุน ุจุงูููุฌ ุ ูููู ุฃู ููููู ุขุฎุฑ ูุชุทููุฑ ูุดุฑูุน ุ ููุญุงุฑุจุฉ ุงููุญุฏุฉ ุ ูุณุญุจ ุนููุงุช ุงูุดุนุฑ ูุงูุฏุฎุงู .  ุชุญุชูู ุงูููุงูุฉ ุนูู ุงููููู ูู ุงููุธุฑูุฉ ููุดุฑูุน ูุซุงู ุตุบูุฑ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wv/hc/vs/wvhcvsphuk6bci024xzqap-_b0y.png"></div><a name="habracut"></a><br>  ูุนูู ECS ุจุณูุท ููุบุงูุฉ - ููุงู ( <b>ููุงู</b> ) ุจููููุงุชู ( <b>ูููู</b> ) ุ ูุงูุชู ุชุชู ูุนุงูุฌุชูุง ุจูุงุณุทุฉ ุงููุธุงู ( <b>ุงููุธุงู</b> ). <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฌููุฑ </h4><br>  ุงูููุงู ููุณ ูุฏูู ููุทู ููุง ูุฎุฒู ุณูู ุงูููููุงุช (ูุดุงุจู ุฌุฏูุง ูู GameObject ูู ููุฌ ุชูููุฉ ุงูููุฑุฉ ุงููุฏูู).  ูู Unity ECS ุ ุชูุฌุฏ ูุฆุฉ ุงูููุงู ููุฐุง ุงูุบุฑุถ. <br><br><h4 style=";text-align:right;direction:rtl">  ูููู </h4><br>  ุชููู ุงูููููุงุช ุจุชุฎุฒูู ุงูุจูุงูุงุช ููุท ุ ูุฃุญูุงููุง ูุง ุชุญุชูู ุนูู ุฃู ุดูุก ุนูู ุงูุฅุทูุงู ููู ุนูุงูุฉ ุจุณูุทุฉ ูููุนุงูุฌุฉ ุจูุงุณุทุฉ ุงููุธุงู.  ููู ููุณ ูุฏููู ุฃู ููุทู.  ููุฑูุซ ูู ComponentDataWrapper.  ูููู ูุนุงูุฌุชูุง ุจูุงุณุทุฉ ูุคุดุฑ ุชุฑุงุจุท ุขุฎุฑ (ูููู ููุงู ูุงุฑู ุจุณูุท). <br><br><h4 style=";text-align:right;direction:rtl">  ุงููุธุงู </h4><br>  ุงูุฃูุธูุฉ ูุณุคููุฉ ุนู ูุนุงูุฌุฉ ุงูููููุงุช.  ุนูุฏ ุงูุฅุฏุฎุงู ุ ูุชูููู ูู Unity ูุงุฆูุฉ ุจุงูููููุงุช ุงููุนุงูุฌุฉ ููุฃููุงุน ุงููุนููุฉ ุ ููู ุงูุฃุณุงููุจ ุงููุญููุฉ (ูุธุงุฆุฑ ุงูุชุญุฏูุซ ุ ุงุจุฏุฃ ุ OnDestroy) ูุญุฏุซ ุณุญุฑ ุขููุงุช ุงููุนุจุฉ.  ููุฑูุซ ูู ComponentSystem ุฃู JobComponentSystem. <br><br><h2 style=";text-align:right;direction:rtl">  ูุธุงู ุงูุนูู </h2><br>  ุขููุงุช ุงููุธู ุงูุชู ุชุณูุญ ุจูุนุงูุฌุฉ ุงูููููุงุช ุจุดูู ูุชูุงุฒู.  ูู ูุธุงู OnUpdate ุ ูุชู ุฅูุดุงุก ุจููุฉ ูููุฉ ูุฅุถุงูุชูุง ุฅูู ุงููุนุงูุฌุฉ.  ูู ูุญุธุฉ ุงูููู ูุงูููุงุฑุฏ ุงููุฌุงููุฉ ุ ุณุชููู ุงููุญุฏุฉ ุจูุนุงูุฌุฉ ุงููุชุงุฆุฌ ูุชุทุจูููุง ุนูู ุงูููููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  Multithreading and Unity 2018 </h3><br>  ุชุชู ุฌููุน ุฃุนูุงู ูุธุงู ุงูุนูู ูู ุณูุงุณู ุฑุณุงุฆู ุฃุฎุฑู ุ ููุง ูููู ุชุบููุฑ ุงูููููุงุช ุงูููุงุณูุฉ (Transform ุ Rigidbody ุ ููุง ุฅูู ุฐูู) ูู ุฃู ูุคุดุฑ ุชุฑุงุจุท ุจุงุณุชุซูุงุก ุงูุฎูุท ุงูุฑุฆูุณู.  ูุฐูู ุ ุชูุฌุฏ ูู ุงูุญุฒูุฉ ุงูููุงุณูุฉ ููููุงุช "ุงุณุชุจุฏุงู" ูุชูุงููุฉ - ูููู ุงููููุน ุ ูููู ุงูุชุฏููุฑ ุ ูููู ุฌูุงุฒ ุนุฑุถ ูุซูู ุงูุดุจูุฉ. <br><br>  ูููุทุจู ุงูุดูุก ููุณู ุนูู ุงูููุงูู ุงูููุงุณูุฉ ูุซู Vector3 ุฃู Quaternion.  ุชุณุชุฎุฏู ููููุงุช ุงูุชูุงุฒู ุฃุจุณุท ุฃููุงุน ุงูุจูุงูุงุช ููุท (float3 ุ float4 ุ ูุฐุง ูู ุดูุก ุ ุณูููู ุงููุจุฑูุฌูู ุณุนุฏุงุก) ุงููุถุงูุฉ ุฅูู ูุณุงุญุฉ ุงูุงุณู Unity ุ ูููุงู ุฃูุถูุง ูุฆุฉ ุงูุฑูุงุถูุงุช ููุนุงูุฌุชูุง.  ูุง ุณูุงุณู ุ ูุง ุฃููุงุน ูุฑุฌุนูุฉ ุ ููุท ุงููุชุดุฏุฏูู. <br><br><h2 style=";text-align:right;direction:rtl">  "ุฃุฑูู ุงูุฑูุฒ" </h2><br>  ูุฐุง ุ ุญุงู ุงูููุช ูุชุญุฑูู ุดูุก ูุง! <br><br>  ูู ุจุฅูุดุงุก ูููู ูุฎุฒู ูููุฉ ุงูุณุฑุนุฉ ุ ููู ุฃูุถูุง ุฃุญุฏ ุนูุงูุงุช ุงููุธุงู ุงูุฐู ูุญุฑู ุงููุงุฆูุงุช.  ุชุชูุญ ูู ุงูุณูุฉ Serializable ุชุนููู ุงููููุฉ ูุชุชุจุนูุง ูู ุงูููุชุด. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุตุฑ ุณุฑูุน</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> SpeedData : IComponentData { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Value; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SpeedComponent</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentDataWrapper</span></span>&lt;<span class="hljs-title"><span class="hljs-title">SpeedData</span></span>&gt; {}</code> </pre> <br></div></div><br>  ุจุงุณุชุฎุฏุงู ุงูุณูุฉ Inject ุ ูุญุตู ุงููุธุงู ุนูู ุจููุฉ ุชุญุชูู <b>ููุท</b> ุนูู ููููุงุช ุชูู ุงูููุงูุงุช ุงูุชู ุชูุฌุฏ ุนูููุง ุฌููุน ุงูููููุงุช ุงูุซูุงุซุฉ.  ูุฐูู ุ ุฅุฐุง ูุงู ูุฏู ุจุนุถ ุงูููุงูุงุช ููููุงุช PositionComponent ู SpeedComponent ุ ูููู ููุณ ููููุงุช RotationComponent ุ ููู ุชุชู ุฅุถุงูุฉ ูุฐุง ุงูููุงู ุฅูู ุงูุจููุฉ ุงูุชู ุชุฏุฎู ุงููุธุงู.  ูุจุงูุชุงูู ุ ูู ุงููููู ุชุตููุฉ ุงูููุงูุงุช ูู ุฎูุงู ูุฌูุฏ ูููู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุธุงู ุงูุญุฑูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MovementSystem</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentSystem</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> ShipsPositions { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Length; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;Position&gt; Positions; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;Rotation&gt; Rotations; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;SpeedData&gt; Speeds; } [Inject] ShipsPositions _shipsMovementData; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _shipsMovementData.Length; i++) { _shipsMovementData.Positions[i] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Position(_shipsMovementData.Positions[i].Value + math.forward(_shipsMovementData.Rotations[i].Value) * Time.deltaTime * _shipsMovementData.Speeds[i].Value); } } }</code> </pre> <br></div></div><br>  ุงูุขู ุณุชุชุญุฑู ุฌููุน ุงููุงุฆูุงุช ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงูููููุงุช ุงูุซูุงุซุฉ ุฅูู ุงูุฃูุงู ุจุณุฑุนุฉ ูุนููุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eu/77/w8/eu77w8rnfiar24lcjzttovjf448.gif"><br></div></div><br>  ูุงู ุงูุฃูุฑ ุณููุงู.  ุนูู ุงูุฑุบู ูู ุฃู ุงูุฃูุฑ ุงุณุชุบุฑู ููููุง ูุงุญุฏูุง ููุชูููุฑ ูู ECS. <br><br>  ููู ุชููู.  ุฃูู ูุธุงู ุงููุธุงุฆู ููุงุ <br><br>  ูุงูุญูููุฉ ูู ุฃูู ูุง ููุฌุฏ ุดูุก ููุณูุฑ ุจูุง ูููู ูุงุณุชุฎุฏุงู ุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ุญุงู ููุช ุงูุงุณุชุฑุงุญุฉ! <br><br>  ุณุญุจุช ูู ุงูุนููุงุช ุงููุธุงู ุงูุฐู ูุคุฏู ุฅูู ุงููุจุงูู ุงูุฌุงูุฒุฉ.  ูู ุงููุซูุฑ ููุงูุชูุงู - ุฅููู ูุทุนุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุจูุถ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">EntityManager.Instantiate(prefab, entities); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Position { Value = spawnPositions[i] }; EntityManager.SetComponentData(entities[i], position); EntityManager.SetComponentData(entities[i], <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SpeedData { Value = Random.Range(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">25</span></span>) }); }</code> </pre> <br></div></div><br>  ูุฐุง ุฏุนููุง ูุถุน 1000 ูุทุนุฉ.  ูุง ูุฒุงู ุฌูุฏูุง ุฌุฏูุง ูุฅูุดุงุก ุดุจูุงุช ุชูุณุฌ ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช.  5000 - ุชูุฑูุจูุง ุฃูุถูุง.  ุณุฃุฑู ูุง ูุญุฏุซ ูุน 50000 ุดูุก. <br><br>  ุธูุฑ ูุตุญุญ ุงูููุงู ูู Unity ุ ููุง ููุถุญ ุนุฏุฏ ms ููู ูุธุงู.  ูููู ุชุดุบูู / ุฅููุงู ุชุดุบูู ุงูุฃูุธูุฉ ูู ููุช ุงูุชุดุบูู ุ ููุนุฑูุฉ ุงูุฃุดูุงุก ุงูุชู ุชุนุงูุฌูุง ุ ุจุดูู ุนุงู ุ ููู ุฃูุฑ ูุง ุบูู ุนูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุญุตู ุนูู ูุซู ูุฐู ุงููุฑุฉ ุงููุถุงุฆูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/0u/it/gc/0uitgcq7f3mwv69-ufrjvqr55ls.gif"><br></div></div><br>  ุชุณุฌู ุงูุฃุฏุงุฉ ุจุณุฑุนุฉ 15 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ ุ ูุฐุง ูุฅู ุงูููุทุฉ ุจุฃููููุง ููุฌูุฏุฉ ูู ุงูุฃุฑูุงู ูู ูุงุฆูุฉ ุงูุฃูุธูุฉ.  ูุญุงูู ูุธุงููุง ุ MoveSystem ุ ููู ุฌููุน ุงููุงุฆูุงุช ุงูุจุงูุบ ุนุฏุฏูุง 50000 ูู ูู ุฅุทุงุฑ ุ ููููู ุจุฐูู ูู ุงููุชูุณุท โโูู 60 ูููู ุซุงููุฉ.  ูุฐุง ุ ุงูุขู ุงููุนุจุฉ ููุณูุฑุฉ ุจูุง ููู ุงูููุงูุฉ ููุชุญุณูู. <br>  ูุฑุจุท ูุธุงู ุงูุนูู ุจูุธุงู ุงูุญุฑูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุนุฏูู ูุธุงู ุงูุญุฑูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MovementSystem</span></span> : <span class="hljs-title"><span class="hljs-title">JobComponentSystem</span></span> { [ComputeJobOptimization] <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> MoveShipJob : IJobProcessComponentData&lt;Position, Rotation, SpeedData&gt; { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ref</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Position position, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ref</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Rotation rotation, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ref</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SpeedData speed</span></span></span><span class="hljs-function">)</span></span> { position.Value += math.forward(rotation.Value) * dt * speed.Value; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> JobHandle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">JobHandle inputDeps</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> job = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MoveShipJob { dt = Time.deltaTime }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> job.Schedule(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, inputDeps); } }</code> </pre> <br></div></div><br>  ูุฑุซ ุงููุธุงู ุงูุขู ูู JobComponentSystem ููู ูู ุฅุทุงุฑ ูููู ุจุฅูุดุงุก ูุนุงูุฌ ุฎุงุต ุชููู Unity ุจููู ููุณ ุงูููููุงุช ุงูุซูุงุซุฉ ู deltaTime ูู ุงููุธุงู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุทูุงู ุณูููุฉ ุงููุถุงุก ูุฑุฉ ุฃุฎุฑู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tq/ys/u0/tqysu0ut41v8om_s4ocpg6f1sbc.gif"><br></div></div><br>  0.15 ูููู ุซุงููุฉ (0.4 ูู ุงูููุฉ ุ ูุนู) ููุงุจู 50-70!  50 ุฃูู ูุทุนุฉ!  ุฃุฏุฎูุช ูุฐู ุงูุฃุฑูุงู ูู ุงูุขูุฉ ุงูุญุงุณุจุฉ ุ ุฑุฏุงู ุนูู ุฐูู ุฃุธูุฑ ูุฌููุง ุณุนูุฏูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฅุฏุงุฑุฉ </h2><br>  ููููู ุฃู ุชูุธุฑ ุฅูู ุงููุฑุฉ ุงูุทุงุฆุฑุฉ ุจูุง ููุงูุฉ ุ ุฃู ููููู ุฃู ุชุทูุฑ ุจูู ุงูุณูู. <br>  ุจุญุงุฌุฉ ุฅูู ูุธุงู ูุณูุงุฑุงุช ุงูุฃุฌุฑุฉ. <br><br>  ูููููู ุงูุชุฏููุฑ ููุฌูุฏ ุจุงููุนู ุนูู ุงูุฌุงูุฒุฉ ุ ูู ุจุฅูุดุงุก ูููู ูุชุฎุฒูู ุนูุงุตุฑ ุงูุชุญูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนูุตุฑ ุชุญูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> RotationControlData : IComponentData { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> roll; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pitch; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> yaw; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ControlComponent</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentDataWrapper</span></span>&lt;<span class="hljs-title"><span class="hljs-title">RotationControlData</span></span>&gt;{}</code> </pre> <br></div></div><br>  ูุญุชุงุฌ ุฃูุถูุง ุฅูู ูููู ูุงุนุจ (ุนูู ุงูุฑุบู ูู ุฃูู ูุง ููุซู ูุดููุฉ ูู ุชูุฌูู ุฌููุน ุงูุณูู ุงูุชู ูุจูุบ ูุฒููุง 50 ุฃูููุง ุฏูุนุฉ ูุงุญุฏุฉ) <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">PlayerComponent</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> PlayerData : IComponentData { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PlayerComponent</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentDataWrapper</span></span>&lt;<span class="hljs-title"><span class="hljs-title">PlayerData</span></span>&gt; { }</code> </pre> <br></div></div><br>  ูุนูู ุงูููุฑ ุ ูุงุฑุฆ ุฅุฏุฎุงู ุงููุณุชุฎุฏู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">UserControlSystem</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">UserControlSystem</span></span> : <span class="hljs-title"><span class="hljs-title">ComponentSystem</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> InputPlayerData { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Length; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;PlayerData&gt; Data; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;RotationControlData&gt; Controls; } [Inject] InputPlayerData _playerData; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; _playerData.Length; i++) { _playerData.Controls[i] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RotationControlData { roll = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>), pitch = Input.GetAxis(<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>), yaw = Input.GetKey(KeyCode.Q) ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : Input.GetKey(KeyCode.E) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> }; } } }</code> </pre> <br></div></div><br>  ุจุฏูุงู ูู ุงูุฅุฏุฎุงู ุงูููุงุณู ุ ูููู ุฃู ูููู ููุงู ุฃู ุฏุฑุงุฌุฉ ููุถูุฉ ุฃู AI. <br><br>  ูุฃุฎูุฑุง ูุนุงูุฌุฉ ุงูุถูุงุจุท ูุงูุฏูุฑุงู ููุณู.  ููุฏ ูุงุฌูุช ุญูููุฉ ุฃู math.euler ูู ูุชู ุชูููุฐูุง ุจุนุฏ ุ ูุฐูู ุฃููุฐุช ุบุงุฑุฉ ุณุฑูุนุฉ ุนูู ููููุจูุฏูุง ูู ุงูุชุญูู ูู ุฒูุงูุง ุฃูููุฑ ุฅูู ุงูุฑุจุงุนูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ProcessRotationInputSystem</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ProcessRotationInputSystem</span></span> : <span class="hljs-title"><span class="hljs-title">JobComponentSystem</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> LocalRotationSpeedGroup { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;Rotation&gt; rotations; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;RotationSpeedData&gt; rotationSpeeds; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;RotationControlData&gt; controlData; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Length; } [Inject] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocalRotationSpeedGroup _rotationGroup; [ComputeJobOptimization] <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> RotateJob : IJobParallelFor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;Rotation&gt; rotations; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;RotationSpeedData&gt; rotationSpeeds; [ReadOnly] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ComponentDataArray&lt;RotationControlData&gt; controlData; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> speed = rotationSpeeds[i].Value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (speed &gt; <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) { quaternion nRotation = math.normalize(rotations[i].Value); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> yaw = controlData[i].yaw * speed * dt; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pitch = controlData[i].pitch * speed * dt; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> roll = -controlData[i].roll * speed * dt; quaternion result = math.mul(nRotation, Euler(pitch, roll, yaw)); rotations[i] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rotation { Value = result }; } } <span class="hljs-function"><span class="hljs-function">quaternion </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Euler</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> roll, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> yaw, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pitch</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cy = math.cos(yaw * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sy = math.sin(yaw * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cr = math.cos(roll * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sr = math.sin(roll * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cp = math.cos(pitch * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sp = math.sin(pitch * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> qw = cy * cr * cp + sy * sr * sp; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> qx = cy * sr * cp - sy * cr * sp; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> qy = cy * cr * sp + sy * sr * cp; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> qz = sy * cr * cp - cy * sr * sp; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> quaternion(qx, qy, qz, qw); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> JobHandle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">JobHandle inputDeps</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> job = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RotateJob { rotations = _rotationGroup.rotations, rotationSpeeds = _rotationGroup.rotationSpeeds, controlData = _rotationGroup.controlData, dt = Time.deltaTime }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> job.Schedule(_rotationGroup.Length, <span class="hljs-number"><span class="hljs-number">64</span></span>, inputDeps); } }</code> </pre> <br></div></div><br>  ุฑุจูุง ุณุชุณุฃู ููุงุฐุง ูุง ููููู ููุท ุชูุฑูุฑ 3 ููููุงุช ุฏูุนุฉ ูุงุญุฏุฉ ุฅูู Job ุ ููุง ูู ุงูุญุงู ูู MoveSystemุ  ูุฃู.  ููุฏ ูุงูุญุช ูุน ูุฐุง ููุชุฑุฉ ุทูููุฉ ุ ูููู ูุง ุฃุนุฑู ููุงุฐุง ูุง ูุนูู ุจูุฐู ุงูุทุฑููุฉ.  ูู ุงูุนููุงุช ุ ูุชู ุชูููุฐ ุงูููุนุทูุงุช ูู ุฎูุงู ComponentDataArray ุ ููููุง ูู ูุชุฑุงุฌุน ุนู ุงูุดุฑุงุฆุน. <br><br>  ูุฑูู ุงูุฌุงูุฒุฉ ุนูู ุงููุณุฑุญ ุ ูุนูู ุงูููููุงุช ุ ูุฑุจุท ุงููุงููุฑุง ุ ูุถุน ุฎูููุงุช ูููุฉ ุ ููุฐูุจ! <br><br><img src="https://habrastorage.org/webt/kq/ui/8b/kqui8b_6g4wyedwa3pv2vcaht_a.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h2><br>  ููุฏ ุชุญุฑู ุงูุฑุฌุงู ูู Unity Technologies ูู ุงูุงุชุฌุงู ุงูุตุญูุญ ููุชุนุฏุฏูุฉ.  ูุง ูุฒุงู ูุธุงู ุงูุนูู ููุณู ุฑุทุจูุง (ุฅุตุฏุงุฑ ุฃููุง ุนูู ูู ุญุงู) ุ ููููู ูุงุจู ููุงุณุชุฎุฏุงู ุชูุงููุง ููุชุณุงุฑุน ุงูุขู.  ูุณูุก ุงูุญุธ ุ ูุฅู ุงูููููุงุช ุงูููุงุณูุฉ ุบูุฑ ูุชูุงููุฉ ูุน ูุธุงู ุงูุนูู (ูููู ููุณ ูุน ECS ุจุดูู ูููุตู!) ุ ูุฐูู ุนููู ูุญุช ุงูุนูุงุฒุงุช ููุชุบูุจ ุนูู ุฐูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุดุฎุต ูุงุญุฏ ูู ููุชุฏู ุงููุญุฏุฉ ุจุชูููุฐ ูุธุงูู ุงููุงุฏู ููุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ุ ูุซู ุฅุญุฑุงุฒ ุชูุฏู. <br>  ุชู ุงุณุชุฎุฏุงู ECS with Unity ูู ูุจู ุ ูููุงู ุงูุนุฏูุฏ ูู ูุธุงุฆุฑูุง ุงููุฒุฏูุฑุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฉ ูุน ูุธุฑุฉ ุนุงูุฉ ุนูู</a> ุงูุฃูุซุฑ ุดูุฑุฉ.  ููุง ูุตู ุฅูุฌุงุจูุงุช ูุณูุจูุงุช ูุฐุง ุงูููุฌ ูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ. <br><br>  ูู ููุณู ุ ูููููู ุฅุถุงูุฉ ููุฒุฉ ูุซู ููุงุก ุงูุดูุฑุฉ.  ููุฏ ุจุฏุฃุช ุจูุญุงููุฉ ุชุทุจูู ุงูุญุฑูุฉ ูู ูุธุงู ูุงุญุฏ.  ููุง ุนุฏุฏ ููููุงุช ุงูุชุจุนูุฉ ุจุณุฑุนุฉ ุ ูุงุถุทุฑุฑุช ุฅูู ุชูุณูู ุงูุดูุฑุฉ ุฅูู ุฃูุธูุฉ ุตุบูุฑุฉ ููุฑูุญุฉ.  ููููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง ุจุณูููุฉ ูู ูุดุฑูุน ุขุฎุฑ. <br><br>  ุฑูุฒ ุงููุดุฑูุน ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GitHub</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413897/">https://habr.com/ru/post/ar413897/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413885/index.html">ุชูููู Cavium ThunderX2: ุญูู ุฎุงุฏู ุงูุฐุฑุงุน ูุตุจุญ ุญูููุฉ (ุงูุฌุฒุก ุงูุฃูู ุ ููุฏูุฉ)</a></li>
<li><a href="../ar413889/index.html">ุงูููุนุฏ ุงูููุงุฆู ููููุฏ ุ ุฃู ููุงุฐุง ูู ุชูู ุฃูุซุฑ ูู ูุตู ุงูุดุฑูุงุช ุฌุงูุฒุฉ ููุงุฆุญุฉ ุงูุนุงูุฉ ูุญูุงูุฉ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar413891/index.html">ููููุฉ ุชูุธูู ุณุฌู ุงูุฏููุฉ ุงูููุญุฏ ููููุงูุงุช ุงููุงููููุฉ - ุณุฌู ุงูุฏููุฉ ุงูููุญุฏ ููููุงูุงุช ุงููุงููููุฉ</a></li>
<li><a href="../ar413893/index.html">ุญูุฑุฉ ูุฃุฏุงุฉ ุฃูุงู - 2 ุ ุฃู ููููุฉ ุงูุชูุงุท APT "ุงูุทุนู ุงูุญู"</a></li>
<li><a href="../ar413895/index.html">ุงุฎุชุฑุงู ุณูุงุฑ ููุงูุฉ ุฑุฎูุตุฉ</a></li>
<li><a href="../ar413899/index.html">ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุงูุจูููุชุฑูุฉ ููุฑูุณ</a></li>
<li><a href="../ar413901/index.html">ุงูุชุญูู ูู ุฑูุจูุช EduMip ุฐุงุชู ุงูุชูุงุฒู ุจุงุณุชุฎุฏุงู ุนุตุง ุงูุชุญูู PS4 Dualshock 4 ุนุจุฑ ROS</a></li>
<li><a href="../ar413903/index.html">ููู ุชุญูู ูุงูุจุฑุฏุฌ ุฃูุงููุชููุง ุงูููุฑุงุช ุฅูู ุงูุฃุตูุงุช</a></li>
<li><a href="../ar413907/index.html">ููุฎุต ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงู ููุทูุฑ ุงูุฌูุงู ุฑูู 256 (4 ููููู - 12 ููููู)</a></li>
<li><a href="../ar413909/index.html">ูุฐุง ูู ุงูููุงู ุงูุฐู ุฐูุจุช ุฅููู ุฐูุฑูุงุช ุทูููุชู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>