<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👀 ❇️ 🍇 Trouver des objets en images 📸 👈🏻 🤟🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous sommes engagés dans l'achat de trafic auprès d'Adwords (une plateforme publicitaire de Google). L'une des tâches régulières dans ce domaine est l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trouver des objets en images</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/joom/blog/445354/"><p>  Nous sommes engagés dans l'achat de trafic auprès d'Adwords (une plateforme publicitaire de Google).  L'une des tâches régulières dans ce domaine est la création de nouvelles bannières.  Les tests montrent que les bannières perdent de leur efficacité au fil du temps, à mesure que les utilisateurs s'habituent à la bannière;  Les saisons et les tendances changent.  En outre, nous avons pour objectif de capturer différentes niches d'audience et les bannières étroitement ciblées fonctionnent mieux. </p><br><p>  Dans le cadre de l'entrée dans de nouveaux pays, la question de la localisation des bannières s'est posée.  Pour chaque bannière, vous devez créer des versions dans différentes langues et avec différentes devises.  Vous pouvez demander aux concepteurs de le faire, mais ce travail manuel ajoutera une charge supplémentaire à une ressource déjà rare. </p><br><p>  Cela ressemble à une tâche facile à automatiser.  Pour ce faire, il suffit de créer un programme qui imposera à la bannière vierge le prix localisé pour le "prix" et l'appel à l'action (une phrase comme "acheter maintenant") sur le bouton.  Si l'impression de texte dans une image est assez simple, il n'est pas toujours facile de déterminer où vous devez le mettre.  Peppercorns ajoute que le bouton est disponible en différentes couleurs et est de forme légèrement différente. </p><br><p>  Cet article est dédié à: comment trouver l'objet spécifié dans l'image?  Les méthodes populaires seront triées;  Domaines d'application, fonctionnalités, avantages et inconvénients.  Les méthodes ci-dessus peuvent être utilisées à d'autres fins: développement de programmes pour les caméras de sécurité, automatisation du test de l'interface utilisateur, etc.  Les difficultés décrites peuvent être trouvées dans d'autres tâches et les méthodes utilisées peuvent être utilisées à d'autres fins.  Par exemple, le détecteur Canny Edge est souvent utilisé pour prétraiter des images, et le nombre de points clés peut être utilisé pour évaluer la «complexité» visuelle d'une image. </p><br><p>  J'espère que les solutions décrites reconstitueront votre arsenal d'outils et d'astuces pour résoudre les problèmes. </p><br><p><img src="https://habrastorage.org/webt/2q/_t/fm/2q_tfmvffjyb1i9k_dlczqceoha.png"></p><a name="habracut"></a><br><p>  Le code est en Python 3.6 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">référentiel</a> );  Bibliothèque OpenCV requise.  Le lecteur est censé comprendre les bases de l'algèbre linéaire et de la vision par ordinateur. </p><br><p>  Nous nous concentrerons sur la recherche du bouton lui-même.  Nous nous souviendrons de la recherche d'étiquettes de prix (car la recherche d'un rectangle peut également être résolue de manière plus simple), mais omettons-la, car la solution aura le même aspect. </p><br><h1 id="template-matching">  Correspondance de modèle </h1><br><p>  La première pensée qui vient à l'esprit est pourquoi ne pas simplement chercher et trouver dans l'image la région qui ressemble le plus à un bouton en termes de différence de couleur de pixel?  C'est ce qui rend la correspondance de modèle - une méthode basée sur la recherche d'espace sur l'image qui ressemble le plus au modèle.  La «similitude» d'une image est définie par une métrique spécifique.  En d'autres termes, le modèle est «superposé» à l'image et la différence entre l'image et le modèle est prise en compte.  La position du modèle à laquelle cet écart sera minime et indiquera l'emplacement de l'objet souhaité. </p><br><p>  Vous pouvez utiliser différentes options comme métrique, par exemple, la somme des différences au carré entre un modèle et une image (somme des différences au carré, SSD), ou utiliser la corrélation croisée (CCORR).  Soit <em>f</em> et <em>g</em> l'image et le motif de dimensions <em>(k, l)</em> et <em>(m, n),</em> respectivement (nous ignorerons les canaux de couleur pour l'instant);  <em>i, j</em> - position sur l'image à laquelle nous avons "attaché" le modèle. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-6" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mo" id="MJXp-Span-8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;">s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;">u </font></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">m </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-18"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-19"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;">m </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-21"><font style="vertical-align: inherit;">, </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;">b </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;">= </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;">0 .. </font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;">n</font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">f </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;">i </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-32"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-34"><font style="vertical-align: inherit;">, </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;">j </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-36"><font style="vertical-align: inherit;">+ </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;">b</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> - </font></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">g </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;">a </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-43"><font style="vertical-align: inherit;">, </font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;">b</font></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"> ) </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mn MJXp-script" id="MJXp-Span-47" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">2</font></span></span></span></font><span class="MJXp-mtext" id="MJXp-Span-11">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-18"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-19"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-21"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-23"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-26"><span class="MJXp-mo" id="MJXp-Span-27" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-30" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-32"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-34"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-36"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-41" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-43"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-47" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.005ex" height="3.142ex" viewBox="0 -987.6 18085.2 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="4536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="5005" y="0"></use><g transform="translate(5578,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(11074,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="3714" y="0"></use><g transform="translate(4714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6167,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> SSD_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} - g_ {a, b}) ^ 2} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">R</span><span class="MJXp-msubsup" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-55" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">i</span><span class="MJXp-mo" id="MJXp-Span-57">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-60">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">u</span><span class="MJXp-msubsup" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-65" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">a</span><span class="MJXp-mo" id="MJXp-Span-67">=</span><span class="MJXp-mn" id="MJXp-Span-68">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">m</span><span class="MJXp-mo" id="MJXp-Span-70">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">b</span><span class="MJXp-mo" id="MJXp-Span-72">=</span><span class="MJXp-mn" id="MJXp-Span-73">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-75"><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-77"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-79" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">i</span><span class="MJXp-mo" id="MJXp-Span-81">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">a</span><span class="MJXp-mo" id="MJXp-Span-83">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">j</span><span class="MJXp-mo" id="MJXp-Span-85">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">b</span></span></span><span class="MJXp-mtext" id="MJXp-Span-87">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">t</span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-94" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">a</span><span class="MJXp-mo" id="MJXp-Span-96">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-98"><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-100" style="vertical-align: 0.5em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.846ex" height="3.142ex" viewBox="0 -987.6 20600.3 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="4914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="6220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="6689" y="0"></use><g transform="translate(7262,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(12758,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="3741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="4175" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6F" x="4698" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="5184" y="0"></use><g transform="translate(5545,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6998,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> CCORR_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} \ cdot g_ {a, b}) ^ 2} </script></p><br><p>  Essayons d'appliquer la différence de carrés pour trouver un chaton <br><img src="https://habrastorage.org/webt/yl/jh/rs/yljhrsjvvk02qqkppdp7tameuei.png"></p><br><p>  Dans l'image <br><img src="https://habrastorage.org/webt/e6/rl/er/e6rleromcb4st7cpxuisl9qsk-i.png"></p><br><p>  (photo prise de PETA Caring for Cats). </p><br><p>  L'image de gauche est la valeur métrique de la similitude de l'endroit dans l'image avec le modèle (c'est-à-dire les valeurs SSD pour différents i, j).  La zone sombre est l'endroit où la différence est minime.  Ceci est un pointeur vers l'endroit qui ressemble le plus à un modèle - dans l'image de droite, cet endroit est entouré. </p><br><p><img src="https://habrastorage.org/webt/6b/fe/fb/6bfefbafbzjwe710fa4yoqjvuay.png"><img src="https://habrastorage.org/webt/nn/hl/wq/nnhlwqagheaudmhfnvxk6mbwfxu.png"></p><br><p>  La corrélation croisée est en fait une convolution de deux images.  Les convolutions peuvent être mises en œuvre rapidement à l'aide de la transformée de Fourier rapide.  Selon le théorème de convolution, après la transformée de Fourier, la convolution se transforme en une simple multiplication élémentaire: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">R</span><span class="MJXp-msubsup" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-108" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">i</span><span class="MJXp-mo" id="MJXp-Span-110">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">f</span><span class="MJXp-mtext" id="MJXp-Span-114">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">g</span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">T</span><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">T</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">f</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">g</span><span class="MJXp-mo" id="MJXp-Span-149" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">I</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">T</span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">T</span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">f</span><span class="MJXp-mo" id="MJXp-Span-162" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-163">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">T</span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">g</span><span class="MJXp-mo" id="MJXp-Span-173" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="90.193ex" height="2.78ex" viewBox="0 -832 38833.1 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-4F" x="1521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="2284" y="0"></use><g transform="translate(3044,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="4914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="5970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="6770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="7204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="7549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="8001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="8434" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="8733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="9199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="9723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="10252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="10722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="11083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="11842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="12898" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="13403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="14152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="14902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="15606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="15996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="16745" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="17495" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="18199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="18589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="19389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="19823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="20168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="20620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="21053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="21352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="21818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="22342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="22871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="23341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="23702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="24183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="24572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="25239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="26296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="26800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="27550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="28299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="29004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="29393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="30143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="30892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="31597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="31986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="32537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="33176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="33610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6F" x="34133" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="34619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="34980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-46" x="35730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="36479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="37184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="37573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="38054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="38443" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> CCORR_ {i, j} = f \ circledast g = IFFT (FFT (f \ circledast g)) = IFFT (FFT (f) \ cdot FFT (g)) </script></p><br><p>  O Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-175"><span class="MJXp-mtext" id="MJXp-Span-176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.598ex" height="2.057ex" viewBox="0 -780.1 4563 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="1480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="1914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="2212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="2679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="3202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="3732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="4201" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ circledast </script>  - opérateur de convolution.  De cette façon, nous pouvons calculer rapidement la corrélation croisée.  Cela donne la complexité globale de <em>O (kllog (kl) + mnlog (mn))</em> , par rapport à <em>O (klmn)</em> lorsqu'il est implémenté de front.  Le carré de la différence peut également être réalisé par convolution, car après l'ouverture des crochets, il se transformera en différence entre la somme des carrés des valeurs de pixels de l'image et la corrélation croisée: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">S</span><span class="MJXp-msubsup" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191" style="margin-right: 0.05em;">D</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-192" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">i</span><span class="MJXp-mo" id="MJXp-Span-194">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-197">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">u</span><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-202" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mo" id="MJXp-Span-204">=</span><span class="MJXp-mn" id="MJXp-Span-205">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">m</span><span class="MJXp-mo" id="MJXp-Span-207">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">b</span><span class="MJXp-mo" id="MJXp-Span-209">=</span><span class="MJXp-mn" id="MJXp-Span-210">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-216" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">i</span><span class="MJXp-mo" id="MJXp-Span-218">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">a</span><span class="MJXp-mo" id="MJXp-Span-220">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">j</span><span class="MJXp-mo" id="MJXp-Span-222">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-227" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">a</span><span class="MJXp-mo" id="MJXp-Span-229">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-231"><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-233" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.458ex" height="3.142ex" viewBox="0 -987.6 19141.5 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-53" x="645" y="0"></use><g transform="translate(1291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-44" x="0" y="0"></use><g transform="translate(828,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="624" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3230" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="4536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="5005" y="0"></use><g transform="translate(5578,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(11074,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="3714" y="0"></use><g transform="translate(4714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g><g transform="translate(6167,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="18362" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> SSD_ {i, j} = \ sum_ {a = 0..m, b = 0..n} {(f_ {i + a, j + b} - g_ {a, b}) ^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-235"><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">u</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">a</span><span class="MJXp-mo" id="MJXp-Span-244">=</span><span class="MJXp-mn" id="MJXp-Span-245">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">m</span><span class="MJXp-mo" id="MJXp-Span-247">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">b</span><span class="MJXp-mo" id="MJXp-Span-249">=</span><span class="MJXp-mn" id="MJXp-Span-250">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-252"><span class="MJXp-msubsup" id="MJXp-Span-253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-263">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">i</span><span class="MJXp-mo" id="MJXp-Span-257">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">a</span><span class="MJXp-mo" id="MJXp-Span-259">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">j</span><span class="MJXp-mo" id="MJXp-Span-261">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-265">2</span><span class="MJXp-msubsup" id="MJXp-Span-266"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-268" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">i</span><span class="MJXp-mo" id="MJXp-Span-270">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">a</span><span class="MJXp-mo" id="MJXp-Span-272">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">j</span><span class="MJXp-mo" id="MJXp-Span-274">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">b</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-278" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">a</span><span class="MJXp-mo" id="MJXp-Span-280">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">b</span></span></span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-289">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">a</span><span class="MJXp-mo" id="MJXp-Span-287">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.674ex" height="3.383ex" viewBox="0 -883.9 20956.9 1456.5" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="1306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="1775" y="0"></use><g transform="translate(2348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(7844,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="804" y="488"></use><g transform="translate(490,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="3324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="4325" y="0"></use><g transform="translate(4825,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g></g><g transform="translate(7928,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><g transform="translate(477,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="9603" y="0"></use><g transform="translate(10603,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="680" y="488"></use><g transform="translate(477,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="20178" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> = \ sum_ {a = 0..m, b = 0..n} {f_ {i + a, j + b} ^ 2 - 2 f_ {i + a, j + b} g_ {a, b} + g_ {a, b} ^ 2} = </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-291"><span class="MJXp-mo" id="MJXp-Span-292" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-293">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">u</span><span class="MJXp-msubsup" id="MJXp-Span-296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-298" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">a</span><span class="MJXp-mo" id="MJXp-Span-300">=</span><span class="MJXp-mn" id="MJXp-Span-301">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">m</span><span class="MJXp-mo" id="MJXp-Span-303">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">b</span><span class="MJXp-mo" id="MJXp-Span-305">=</span><span class="MJXp-mn" id="MJXp-Span-306">0..</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">n</span></span></span><span class="MJXp-mrow" id="MJXp-Span-308"><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;">f</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-319">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-311"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">i</span><span class="MJXp-mo" id="MJXp-Span-313">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mo" id="MJXp-Span-315">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">j</span><span class="MJXp-mo" id="MJXp-Span-317">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">b</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-321"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322" style="margin-right: 0.05em;">g</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-327">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-323"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">a</span><span class="MJXp-mo" id="MJXp-Span-325">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">b</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-328" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-329">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">O</span><span class="MJXp-msubsup" id="MJXp-Span-333"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334" style="margin-right: 0.05em;">R</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-335" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">i</span><span class="MJXp-mo" id="MJXp-Span-337">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">j</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="44.646ex" height="3.383ex" viewBox="0 -883.9 19222.5 1456.5" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="1306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="1775" y="0"></use><g transform="translate(2348,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="529" y="0"></use><g transform="translate(924,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="2365" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3243" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3522" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="3951" y="0"></use><g transform="translate(3344,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-30"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2E" x="779" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6E" x="5787" y="0"></use></g></g><g transform="translate(7844,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="804" y="488"></use><g transform="translate(490,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1124" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1653" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="2344" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="3123" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="3324" y="0"></use><g transform="translate(4325,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="680" y="488"></use><g transform="translate(477,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="808" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="13844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="14845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="15345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="16106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-4F" x="16866" y="0"></use><g transform="translate(17630,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><g transform="translate(759,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6A" x="624" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> = \ sum_ {a = 0..m, b = 0..n} {f_ {i + a, j + b} ^ 2 + g_ {a, b} ^ 2} - 2CCOR_ {i, j} </script></p><br><p>  Les détails peuvent être vus dans cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">présentation</a> . </p><br><p>  Passons à la mise en œuvre.  Heureusement, des collègues du département Nizhny Novgorod d'Intel ont pris soin de nous en créant la bibliothèque OpenCV, elle implémente déjà une recherche de modèle en utilisant la méthode matchTemplate (en passant, elle utilise l'implémentation via FFT, bien que cela ne soit pas mentionné dans la documentation), en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">différentes mesures de divergence</a> : </p><br><ul><li>  CV_TM_SQDIFF - la somme des carrés de la différence des valeurs des pixels </li><li>  CV_TM_SQDIFF_NORMED - la somme du carré des différences de couleur, normalisée à la plage 0..1. </li><li>  CV_TM_CCORR - la somme des produits élément par élément du modèle et du segment d'image </li><li>  CV_TM_CCORR_NORMED - la somme des éléments fonctionne, normalisée à la plage -1..1. </li><li>  CV_TM_CCOEFF - corrélation croisée d'images sans moyenne </li><li>  CV_TM_CCOEFF_NORMED - corrélation croisée entre images sans moyenne, normalisée à -1..1 (corrélation de Pearson) </li></ul><br><p>  Nous les utiliserons pour trouver un chaton: </p><br><p><img src="https://habrastorage.org/webt/y8/8f/vi/y88fviifqz-jleg9frdobcnyh9s.png"></p><br><p>  On peut voir que seul TM_CCORR n'a pas rempli sa tâche.  Ceci est compréhensible: puisqu'il s'agit d'un produit scalaire, la plus grande valeur de cette métrique sera lors de la comparaison d'un modèle avec un rectangle blanc. </p><br><p>  Vous pouvez remarquer que ces mesures nécessitent une correspondance de motifs pixel par pixel dans l'image souhaitée.  Toute déviation du gamma, de la lumière ou de la taille entraînera l'échec des méthodes.  Permettez-moi de vous rappeler que c'est exactement notre cas: les boutons peuvent être de tailles et de couleurs différentes. </p><br><p>  Le problème des différentes couleurs et de la lumière peut être résolu en appliquant un filtre de détection de bord.  Cette méthode ne laisse que des informations sur l'endroit où l'image a subi des changements de couleur nets.  Appliquons Canny Edge Detector (nous allons l'analyser un peu plus loin) aux boutons de différentes couleurs et luminosité.  À gauche, les bannières d'origine et à droite, le résultat de l'application du filtre Canny. </p><br><p><img src="https://habrastorage.org/webt/bi/dq/wq/bidqwqba0as5nqgbcfkxgkkibvu.png"></p><br><p>  Dans notre cas, il existe également un problème de tailles différentes, mais il a déjà été résolu.  La transformation log-polaire transforme une image en un espace dans lequel le zoom et la rotation apparaîtront comme un décalage.  En utilisant cette transformation, nous pouvons restaurer l'échelle et l'angle.  Après cela, en mettant à l'échelle et en faisant pivoter le modèle, vous pouvez trouver la position du modèle dans l'image d'origine.  Vous pouvez également utiliser la FFT tout au long de cette procédure, comme décrit dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une technique basée sur la FFT pour la traduction, la rotation et l'enregistrement d'images invariantes d'échelle</a> .  Dans la littérature, le cas est considéré lorsque les modèles horizontal et vertical sont modifiés proportionnellement, tandis que le facteur d'échelle varie dans de petites limites (2,0 ... 0,8).  Malheureusement, le redimensionnement d'un bouton peut être volumineux et disproportionné, ce qui peut conduire à un résultat incorrect. </p><br><p>  Nous appliquons la construction résultante (filtre Canny, restituant uniquement l'échelle par la transformation log-polaire, obtenant la position en trouvant l'endroit avec l'écart quadratique minimum), pour trouver le bouton sur trois images.  Nous utiliserons le gros bouton jaune comme modèle: </p><br><p><img src="https://habrastorage.org/webt/lb/07/vf/lb07vfkchqexignjqteoi7iilek.png"></p><br><p>  En même temps, les boutons sur les bannières seront de différents types, couleurs et tailles: </p><br><p><img src="https://habrastorage.org/webt/nz/wv/mj/nzwvmjpywnjdcicgjk1r7qinq5q.png"></p><br><p>  Dans le cas du redimensionnement du bouton, la méthode n'a pas fonctionné correctement.  Cela est dû au fait que la méthode implique de redimensionner les boutons dans le même nombre de fois horizontalement et verticalement.  Mais ce n'est pas toujours le cas.  Dans l'image de droite, la taille du bouton n'a pas changé verticalement, mais horizontalement a considérablement diminué.  Si le redimensionnement est trop important, les distorsions causées par la transformation log-polaire rendent la recherche instable.  À cet égard, la méthode n'a pas pu détecter le bouton dans le troisième cas. </p><br><h1 id="keypoint-detection">  Détection de points clés </h1><br><p>  Vous pouvez essayer une approche différente: au lieu de rechercher le bouton entier, trouvons ses parties typiques, par exemple les coins du bouton ou les éléments de bordure (il y a un trait décoratif le long du contour du bouton).  Il semble que trouver des coins et une bordure soit plus facile, car ce sont de petits objets (et donc simples).  Ce qui se trouve entre les quatre coins et la bordure sera un bouton.  La classe de méthodes de recherche de points clés est appelée «détection de points clés» et les algorithmes de comparaison et de recherche d'images à l'aide de points clés sont appelés «correspondance de points clés».  La recherche d'un motif dans une image revient à appliquer un algorithme pour détecter les points clés d'un motif et d'une image, et à comparer les points clés d'un motif et d'une image. </p><br><p>  Habituellement, les «points clés» sont automatiquement trouvés en trouvant des pixels dont l'environnement a certaines propriétés.  De nombreuses méthodes et critères de recherche ont été inventés.  Tous ces algorithmes sont des heuristiques qui trouvent en règle générale certains éléments d'image caractéristiques - des angles ou des changements de couleur nets.  Un bon détecteur devrait fonctionner rapidement et être résistant aux transformations d'image (lors du changement d'image, les points clés ne devraient pas cesser d'être / de bouger). </p><br><h2 id="harris-corner-detector">  Détecteur de coin Harris </h2><br><p>  L'un des algorithmes les plus élémentaires est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le détecteur de coin Harris</a> .  Pour l'image (ici et plus loin, nous considérons que nous fonctionnons avec une «intensité» - une image traduite en niveaux de gris), il essaie de trouver des points au voisinage desquels les différences d'intensité sont supérieures à un certain seuil.  L'algorithme ressemble à ceci: </p><br><ol><li><p>  De l'intensité <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">I</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.172ex" height="2.057ex" viewBox="0 -780.1 504.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> I </script>  sont des dérivées le long des axes x et y ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-341"><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-344" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> I_x </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-345"><span class="MJXp-msubsup" id="MJXp-Span-346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-348" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> I_y </script>  respectivement).  Ils peuvent être trouvés, par exemple, en appliquant le filtre Sobel. </p><br></li><li><p>  Pour un pixel, considérons le carré <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-349"><span class="MJXp-msubsup" id="MJXp-Span-350"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-352" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> I_x </script>  carré <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-353"><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-356" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> I_y </script>  et travaille <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-357"><span class="MJXp-msubsup" id="MJXp-Span-358"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-360" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> I_x </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-361"><span class="MJXp-msubsup" id="MJXp-Span-362"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-364" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> I_y </script>  .  Certaines sources les étiquettent comme <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-365"><span class="MJXp-msubsup" id="MJXp-Span-366"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-368" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">x</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.136ex" height="2.419ex" viewBox="0 -780.1 1350.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-15"> I_ {xx} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-371"><span class="MJXp-msubsup" id="MJXp-Span-372"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-374" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.66ex" viewBox="0 -780.1 1297.1 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-16"> I_ {xy} </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-377"><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">y</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.013ex" height="2.66ex" viewBox="0 -780.1 1297.1 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><g transform="translate(440,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="572" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-17"> I_ {xy} </script>  - ce qui n'ajoute pas de clarté, car on pourrait penser que ce sont les deuxièmes dérivées de l'intensité (et ce n'est pas le cas). </p><br></li><li><p>  Pour chaque pixel, nous considérons les sommes dans un certain voisinage (plus de 1 pixel) avec les caractéristiques suivantes: </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">A</span><span class="MJXp-mo" id="MJXp-Span-385" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-386">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">u</span><span class="MJXp-msubsup" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-391" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">x</span><span class="MJXp-mo" id="MJXp-Span-393">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-395"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">w</span><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">x</span><span class="MJXp-mo" id="MJXp-Span-399" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">y</span><span class="MJXp-mo" id="MJXp-Span-401" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-402"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-404" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-407" style="vertical-align: -0.4em;">x</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.713ex" height="2.78ex" viewBox="0 -832 10209.9 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="2334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="2804" y="0"></use><g transform="translate(3376,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="851" y="0"></use></g></g><g transform="translate(5308,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-77" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="1106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="2123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="2621" y="0"></use><g transform="translate(3010,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g><g transform="translate(3955,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> A = \ sum_ {x, y} {w (x, y) I_xI_x} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">B</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">u</span><span class="MJXp-msubsup" id="MJXp-Span-414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-416" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">x</span><span class="MJXp-mo" id="MJXp-Span-418">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-420"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">w</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">x</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">y</span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-427"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-429" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-msubsup" id="MJXp-Span-430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-432" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.611ex" height="2.78ex" viewBox="0 -832 10165.9 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="2343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="2813" y="0"></use><g transform="translate(3385,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="851" y="0"></use></g></g><g transform="translate(5317,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-77" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="1106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="2123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="2621" y="0"></use><g transform="translate(3010,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g><g transform="translate(3955,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> B = \ sum_ {x, y} {w (x, y) I_xI_y} </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">C</span><span class="MJXp-mo" id="MJXp-Span-435" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">u</span><span class="MJXp-msubsup" id="MJXp-Span-439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-441" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">x</span><span class="MJXp-mo" id="MJXp-Span-443">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">w</span><span class="MJXp-mo" id="MJXp-Span-447" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">x</span><span class="MJXp-mo" id="MJXp-Span-449" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">y</span><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-452"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-454" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-msubsup" id="MJXp-Span-455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-457" style="vertical-align: -0.4em;">y</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.49ex" height="2.78ex" viewBox="0 -832 10113.8 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="2344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-75" x="2814" y="0"></use><g transform="translate(3386,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="851" y="0"></use></g></g><g transform="translate(5318,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-77" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="1106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="2123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="2621" y="0"></use><g transform="translate(3010,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g><g transform="translate(3902,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-20"> C = \ sum_ {x, y} {w (x, y) I_yI_y} </script></p><br>  Comme dans la détection de modèle, cette procédure pour les grandes fenêtres peut être effectuée efficacement en utilisant le théorème de convolution. <br></li><li><p>  Pour chaque pixel, calculez la valeur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-458"><span class="MJXp-msubsup" id="MJXp-Span-459"><span class="MJXp-mi" id="MJXp-Span-460" style="margin-right: 0.05em;"></span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-461" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.021ex" height="1.937ex" viewBox="0 -728.2 2162 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="350" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1181" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="1710" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> ^ \ star </script>  heuristique R </p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-466"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">R</span><span class="MJXp-mo" id="MJXp-Span-468" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">t</span><span class="MJXp-mo" id="MJXp-Span-472" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">H</span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-475" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">k</span><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">r</span><span class="MJXp-mo" id="MJXp-Span-480" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">H</span><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-483"><span class="MJXp-mo" id="MJXp-Span-484" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-485" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-486" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">B</span><span class="MJXp-mo" id="MJXp-Span-490" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-491"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-493" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">k</span><span class="MJXp-mo" id="MJXp-Span-497" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">A</span><span class="MJXp-mo" id="MJXp-Span-499" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">B</span><span class="MJXp-msubsup" id="MJXp-Span-501"><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-503" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="53.426ex" height="3.021ex" viewBox="0 -987.6 23002.7 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-44" x="2093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="2922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="3388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="3750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-48" x="4139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="5028" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="5639" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6B" x="6640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="7162" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="7551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="8256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="8707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-48" x="9097" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="9985" y="0"></use><g transform="translate(10375,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="11496" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="12552" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="12941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="13692" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="14674" y="0"></use><g transform="translate(15674,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="1094" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="16902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="17514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6B" x="18515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="19036" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="19426" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="20399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="21399" y="0"></use><g transform="translate(22159,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> R = Det (H) - k (Tr (H)) ^ 2 = (AB - C ^ 2) - k (A + B) ^ 2 </script></p><br>  Valeur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-504"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> k </script>  sélectionnés empiriquement dans la plage [0,04, 0,06] Si <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-506"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-24"> R </script>  un pixel a un certain seuil, puis le voisinage <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-508"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">w</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.664ex" height="1.455ex" viewBox="0 -520.7 716.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-77" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-25"> w </script>  ce pixel contient un angle, et nous le marquons comme un point clé. <br></li><li><p>  La formule précédente peut créer des grappes de points clés côte à côte, auquel cas il vaut la peine de les supprimer.  Cela peut être fait en vérifiant pour chaque point s'il a une valeur <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-510"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> R </script>  maximum parmi les voisins immédiats.  Sinon, le point clé est filtré.  Cette procédure est appelée <em>suppression non maximale</em> . </p><br></li></ol><br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-512"><span class="MJXp-mtext" id="MJXp-Span-513">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.789ex" height="1.937ex" viewBox="0 -728.2 2062 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="1081" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="1610" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-27"> \ star </script>  Formule <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-518"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28"> R </script>  donc choisi pour une raison. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-520"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">A</span><span class="MJXp-mo" id="MJXp-Span-522" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">B</span><span class="MJXp-mo" id="MJXp-Span-524" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.341ex" height="2.419ex" viewBox="0 -780.1 3160.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="1195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1955" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="2400" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-29"> A, B, C </script>  - composantes du tenseur structurel - matrice décrivant le comportement du gradient au voisinage: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-526"><span class="noError" id="MJXp-Span-527" style="display: inline-block;">H&nbsp;=&nbsp;\&nbsp;begin&nbsp;{pmatrix}&nbsp;A&nbsp;&amp;&nbsp;C&nbsp;\\&nbsp;C&nbsp;&amp;&nbsp;B&nbsp;\&nbsp;end&nbsp;{pmatrix}</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><span class="noError" style="display: inline-block;">H&nbsp;=&nbsp;\&nbsp;begin&nbsp;{pmatrix}&nbsp;A&nbsp;&amp;&nbsp;C&nbsp;\\&nbsp;C&nbsp;&amp;&nbsp;B&nbsp;\&nbsp;end&nbsp;{pmatrix}</span></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> H = \ begin {pmatrix} A & C \\ C & B \ end {pmatrix} </script></p><br><p>  Cette matrice est similaire à bien des égards à sa matrice de covariance.  Par exemple, ce sont toutes les deux des matrices positivement semi-définies, mais la similitude ne se limite pas à cela.  Permettez-moi de vous rappeler que la matrice de covariance a une interprétation géométrique.  Les vecteurs propres de la matrice de covariance indiquent les directions de la plus grande variance des données source (sur lesquelles la covariance a été calculée), et les valeurs propres indiquent la dispersion le long de l'axe </p><br><p><img src="https://habrastorage.org/webt/y7/yv/g1/y7yvg148wkaold6x0scnqffqq1m.png"></p><br><p>  Image tirée de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://www.visiondummy.com/2014/04/geometric-interpretation-covariance-matrix/</a> </p><br><p>  Les valeurs propres du tenseur structurel se comportent également de la même manière: elles décrivent la propagation des gradients.  Sur une surface plane, les valeurs propres du tenseur structurel seront faibles (car la propagation des gradients eux-mêmes sera faible).  Les valeurs propres du tenseur structurel construit sur une image avec un visage varieront considérablement: un nombre sera grand (et correspondra à son propre vecteur dirigé perpendiculairement au visage), et le second sera petit.  Sur le tenseur angulaire, les deux valeurs propres seront grandes.  Sur cette base, nous pouvons construire une heuristique ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-528"><span class="MJXp-mtext" id="MJXp-Span-529">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">d</span><span class="MJXp-msubsup" id="MJXp-Span-535"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-537" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-538" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-539">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">d</span><span class="MJXp-msubsup" id="MJXp-Span-545"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-547" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.117ex" height="2.419ex" viewBox="0 -780.1 8231 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="3892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="4588" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="4886" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="5416" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="6294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="6724" y="0"></use><g transform="translate(7247,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-31"> \ lambda_1, \ lambda_2 </script>  Sont les valeurs propres du tenseur structurel). </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-548"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">R</span><span class="MJXp-mo" id="MJXp-Span-550" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-551">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">d</span><span class="MJXp-msubsup" id="MJXp-Span-557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-559" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-560">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">d</span><span class="MJXp-msubsup" id="MJXp-Span-566"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-568" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-569" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">k</span><span class="MJXp-mo" id="MJXp-Span-571" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-572">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">d</span><span class="MJXp-msubsup" id="MJXp-Span-578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-580" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-581" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-582">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">d</span><span class="MJXp-msubsup" id="MJXp-Span-588"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-590" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-591"><span class="MJXp-mo" id="MJXp-Span-592" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-593" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="50.785ex" height="3.021ex" viewBox="0 -987.6 21865.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="2343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="2642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="3171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="4050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="4479" y="0"></use><g transform="translate(5003,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="6236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="6534" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="7064" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="7942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="8372" y="0"></use><g transform="translate(8895,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="10101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6B" x="11102" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="11623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="12263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="12561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="13091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="13969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="14399" y="0"></use><g transform="translate(14922,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="16128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="17379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="17677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="18207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="19085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="19515" y="0"></use><g transform="translate(20038,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="748" y="-213"></use></g><g transform="translate(21022,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="550" y="583"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-32"> R = \ lambda_1 \ lambda_2 - k (\ lambda_1 + \ lambda_2) ^ 2 </script></p><br><p>  La valeur de cette heuristique sera grande lorsque les deux valeurs propres sont grandes. </p><br><p>  La somme des valeurs propres est la trace de la matrice, qui peut être calculée comme la somme des éléments sur la diagonale (et si vous regardez les formules A et B, il devient clair que c'est aussi la somme des carrés des longueurs des gradients dans la région): </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-594"><span class="MJXp-mtext" id="MJXp-Span-595">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">d</span><span class="MJXp-msubsup" id="MJXp-Span-601"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-603" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-604" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-605">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">d</span><span class="MJXp-msubsup" id="MJXp-Span-611"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-613" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-614" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">T</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">r</span><span class="MJXp-mo" id="MJXp-Span-617" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">H</span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-620" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">A</span><span class="MJXp-mo" id="MJXp-Span-622" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">B</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.026ex" height="2.66ex" viewBox="0 -832 17233.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="4115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="5365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="5664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="6193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="7072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="7501" y="0"></use><g transform="translate(8025,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="9286" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-54" x="10342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-72" x="11047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="11498" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-48" x="11888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="12776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="13444" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="14500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2B" x="15473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="16473" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> \ lambda_1 + \ lambda_2 = Tr (H) = A + B </script></p><br><p>  Le produit des valeurs propres est le déterminant d'une matrice, qui est également facile à écrire dans le cas de 2x2: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-624"><span class="MJXp-mtext" id="MJXp-Span-625">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">d</span><span class="MJXp-msubsup" id="MJXp-Span-631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-633" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-634">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">d</span><span class="MJXp-msubsup" id="MJXp-Span-640"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-642" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-643" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">t</span><span class="MJXp-mo" id="MJXp-Span-647" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">H</span><span class="MJXp-mo" id="MJXp-Span-649" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-650" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">B</span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-656" style="vertical-align: 0.5em;">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.2ex" height="3.021ex" viewBox="0 -987.6 17738.8 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="2386" y="0"></use><g transform="translate(2909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="4142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="4441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6D" x="4970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-62" x="5849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-64" x="6278" y="0"></use><g transform="translate(6802,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="8063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-44" x="9119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="9948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="10414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="10776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-48" x="11165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="12054" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="12721" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-41" x="13777" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-42" x="14528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2212" x="15510" y="0"></use><g transform="translate(16510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="1094" y="583"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> \ lambda_1 \ lambda_2 = Det (H) = AB - C ^ 2 </script></p><br><p>  Ainsi, nous pouvons calculer efficacement <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-657"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.057ex" viewBox="0 -780.1 759.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-35"> R </script>  , l'exprimant en termes de composants du tenseur structurel. </p><br><h2 id="fast">  Rapide </h2><br><p>  La méthode de Harris est bonne, mais il existe de nombreuses alternatives.  Nous ne considérerons pas tout de la même manière que la méthode ci-dessus, nous ne mentionnerons que quelques-uns populaires pour montrer des astuces intéressantes et les comparer en action. </p><br><p><img src="https://habrastorage.org/webt/k5/4e/a1/k54ea1vfb82j0lsk6o-xhngk0cw.png"><br>  Pixels vérifiés par l'algorithme FAST </p><br><p>  Une alternative à la méthode de Harris est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FAST</a> .  Comme son nom l'indique, FAST est beaucoup plus rapide que la méthode ci-dessus.  Cet algorithme essaie de trouver les points qui se trouvent sur les bords et les coins des objets, c'est-à-dire  dans les endroits de différence de contraste.  Leur emplacement est le suivant: FAST construit un cercle de rayon R autour du pixel candidat et vérifie s'il a un segment continu de pixels de longueur t qui est plus sombre (ou plus clair) du pixel candidat par K unités.  Si cette condition est remplie, le pixel est alors considéré comme un «point clé».  Pour certains t, nous pouvons implémenter cette heuristique efficacement en ajoutant quelques vérifications préliminaires qui couperont les pixels qui sont garantis comme étant non-coins.  Par exemple, lorsque <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-659"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">R</span><span class="MJXp-mo" id="MJXp-Span-661" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-662">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.025ex" height="2.057ex" viewBox="0 -780.1 2594.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-33" x="2093" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-36"> R = 3 </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-663"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">t</span><span class="MJXp-mo" id="MJXp-Span-665" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-666">12</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.263ex" height="1.937ex" viewBox="0 -728.2 2696.6 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-74" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-3D" x="639" y="0"></use><g transform="translate(1695,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-32" x="500" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-37"> t = 12 </script>  , il suffit de vérifier s'il y a 3 pixels consécutifs parmi les 4 pixels extrêmes qui sont strictement plus foncés / plus clairs que le centre de K (dans l'image - 1, 5, 9, 13).  Cette condition vous permet de couper efficacement les candidats qui ne sont certainement pas des points clés. </p><br><h2 id="sift">  SIFT </h2><br><p>  Les deux algorithmes précédents ne résistent pas au redimensionnement d'image.  Ils ne vous permettent pas de trouver un modèle dans l'image si l'échelle de l'objet a été modifiée.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SIFT</a> (Transformation de caractéristique invariante à l'échelle) offre une solution à ce problème.  Prenez l'image à partir de laquelle nous extrayons les points clés et commençons à réduire progressivement sa taille avec un petit pas, et pour chaque option d'échelle, nous trouverons les points clés.  La mise à l'échelle est une procédure difficile, mais sa réduction de 2/4/8 / ... peut être effectuée efficacement en sautant les pixels (dans SIFT, ces multiples échelles sont appelées «octaves»).  Les échelles intermédiaires peuvent être approximées en appliquant un bleuâtre gaussien avec une taille de noyau différente à l'image.  Comme nous l'avons décrit ci-dessus, cela peut être effectué de manière efficace sur le plan informatique.  Le résultat ressemblera si nous réduisons d'abord l'image puis l'agrandissons à sa taille d'origine - de petits détails sont perdus, l'image devient «floue». </p><br><p><img src="https://habrastorage.org/webt/p3/tn/ao/p3tnao1rjzyg9q6sbhtlttktf_q.png"></p><br><p>  Après cette procédure, nous calculons la différence entre les échelles voisines.  De grandes valeurs (en valeur absolue) dans cette différence se produiront si certains petits détails cessent d'être visibles au niveau d'échelle suivant, ou, inversement, le niveau d'échelle suivant commence à capturer une partie qui n'était pas visible au niveau précédent.  Cette technique est appelée DoG, Difference of Gaussian.  Nous pouvons supposer que la grande importance de cette différence est déjà un signal qu'il y a quelque chose d'intéressant à cet endroit sur l'image.  Mais nous nous intéressons à l'échelle pour laquelle ce point clé sera le plus expressif.  Pour ce faire, nous considérerons un point clé non seulement comme un point qui diffère de son environnement, mais qui diffère également le plus fortement entre différentes échelles d'image.  En d'autres termes, nous choisirons un point clé non seulement dans l'espace X et Y, mais dans l'espace <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-667"><span class="MJXp-mo" id="MJXp-Span-668" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">X</span><span class="MJXp-mo" id="MJXp-Span-670" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">Y</span><span class="MJXp-mo" id="MJXp-Span-672" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-673"><span class="MJXp-mo" id="MJXp-Span-674" style="margin-left: 0em; margin-right: 0em;">é</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">e</span><span class="MJXp-mo" id="MJXp-Span-681" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.386ex" height="2.66ex" viewBox="0 -832 6194.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-58" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-59" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="2450" y="0"></use><g transform="translate(2895,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">é</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="3264" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-68" x="3698" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="4274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="4741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="5039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="5338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="5804" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-38"> (X, Y, échelle) </script>  .  Dans SIFT, cela se fait en trouvant des points dans le DoG (Difference of Gaussians), qui sont des hauts ou des bas locaux dans <math></math><img src="https://habrastorage.org/getpro/habr/formulas/b5b/033/2ae/b5b0332aeaa15fc268ef4f84f9ad2f91.svg" alt="3x3x3 $" data-tex="inline">  cube d'espace <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-682"><span class="MJXp-mo" id="MJXp-Span-683" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">X</span><span class="MJXp-mo" id="MJXp-Span-685" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">Y</span><span class="MJXp-mo" id="MJXp-Span-687" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-688"><span class="MJXp-mo" id="MJXp-Span-689" style="margin-left: 0em; margin-right: 0em;">é</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">e</span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.386ex" height="2.66ex" viewBox="0 -832 6194.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-58" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="1242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-59" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-2C" x="2450" y="0"></use><g transform="translate(2895,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">é</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-63" x="3264" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-68" x="3698" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="4274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="4741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-6C" x="5039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-65" x="5338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMAIN-29" x="5804" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-39"> (X, Y, échelle) </script>  autour d'elle: </p><br><p><img src="https://habrastorage.org/webt/bd/zk/gd/bdzkgddgrifmsizaxknwzbrbboy.png"></p><br><p>  Des algorithmes pour trouver des points clés et construire des descripteurs SIFT et SURF sont brevetés.  Autrement dit, pour leur utilisation commerciale, il est nécessaire d'obtenir une licence.  C'est pourquoi ils ne sont pas disponibles à partir du package opencv principal, mais uniquement à partir d'un package opencv_contrib distinct.  Cependant, jusqu'à présent, nos recherches sont de nature purement académique, donc rien ne nous empêche de participer au SIFT en comparaison. </p><br><h2 id="deskriptory">  Descripteurs </h2><br><p>  Essayons d'appliquer une sorte de détecteur (par exemple, Harris) au modèle et à l'image. </p><br><p><img src="https://habrastorage.org/webt/dl/jy/t9/dljyt9d6ngfzvnom-mx1_wt1uh4.png"><img src="https://habrastorage.org/webt/fx/cv/p5/fxcvp5gfb55nzpmfkpvn6jllyiq.png"></p><br><p>  Après avoir trouvé les points clés de l'image et du modèle, vous devez en quelque sorte les comparer les uns aux autres.  Permettez-moi de vous rappeler que jusqu'à présent, nous n'avons extrait que les positions des points clés.  Ce que ce point signifie (par exemple, dans quelle direction l'angle trouvé est dirigé), nous n'avons pas encore déterminé.  Et une telle description peut aider à comparer les points et les motifs de l'image les uns avec les autres.  Certains points du modèle dans l'image peuvent être déplacés par des distorsions, recouvertes par d'autres objets, il ne semble donc pas fiable de se fier uniquement à la position des points les uns par rapport aux autres.  Par conséquent, prenons un voisinage pour chaque point clé pour construire une certaine description (descripteur), qui nous permet ensuite de prendre quelques points (un point du modèle, un de l'image) et comparer leur similitude. </p><br><h3 id="brief">  BREF </h3><br><p>         (..   0  1),       ,  XOR  ,      .    ? ,    N      . ,  i-  ,      ,    —   i-    1.        N.            -     (,   —   ),       :       ,    “”.  ,       (       ).      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BRIEF</a> . </p><br><p><img src="https://habrastorage.org/webt/ua/su/sh/uasushvojprrhmms6vfjhxhxwsc.png"><br>      .      .  ,   GII     . </p><br><p>  ,    ,    (..        ,    ,  ).    OpenCV        <a href=""></a> . </p><br><h3 id="deskriptor-sift">  SIFT </h3><br><p> SIFT     ,          .    SIFT   1616   ,      44 .      (       ,      ).       8    (, -, ,  ..).       —  8 ,     ,     .        . ,     8-   .         128 (  4*4 = 16 ,    8 ).      . </p><br><h3 id="sravnenie">  Comparaison </h3><br><p>          ( —   ,      ),  -     : </p><br><p><img src="https://habrastorage.org/webt/qx/er/fs/qxerfsd6yqjzlxroadwnhveb3am.png"></p><br><p>   —            .      ? </p><br><p> ,    .      ,        ,     .  ,     ,      ,    ,    .         ?   BRIEF,          ,        ,      .  ,  BRIEF  1/16    .  SIFT    — -   1/4    . </p><br><p>         SIFT. </p><br><h2 id="sravnenie-detektorov">   </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, nous appliquons toutes les connaissances acquises pour résoudre notre problème. </font><font style="vertical-align: inherit;">Dans notre cas, les exigences pour le détecteur de points clés sont suffisantes: nous n'avons pas besoin d'invariance pour redimensionner, ainsi que des performances extrêmement élevées. </font><font style="vertical-align: inherit;">Comparez les trois détecteurs.</font></font></p><br><table><thead><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Détecteur de coin Harris </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rapide </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIFT </font></font></th></tr></thead><tbody><tr><td> <a href=""><img src="https://habrastorage.org/webt/-a/bs/dk/-absdkxkvccrzrfa6t0i8arpc_e.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/pa/dl/lk/padllkwce61vmi9t3vv5hskhyv0.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/lu/3d/i-/lu3di-b7fxf3graaaxqsumerpd8.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/6_/6k/5l/6_6k5lr13o0urqqmnbnap3cbb4i.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/vn/i9/hq/vni9hq6ozwaheetajhu6dk-3ckk.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/ch/cr/dq/chcrdqlia0fjz18fmv0clf0bz-a.png"></a> </td></tr><tr><td> <a href=""><img src="https://habrastorage.org/webt/do/as/hs/doashsborvmicatlqa5tdfqfuxc.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/m9/qj/ii/m9qjiitzdkekcwv1kj7gywfjcp8.png"></a> </td><td> <a href=""><img src="https://habrastorage.org/webt/dg/u9/2_/dgu92__jquo-geofs1exakj0vj0.png"></a> </td></tr></tbody></table><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIFT a trouvé extrêmement peu de points clés sur le bouton. </font><font style="vertical-align: inherit;">Cela est compréhensible - le bouton est un objet assez petit et plat, et le zoom n'aide pas à trouver les points clés.</font></font></p><br><p> De plus, aucun détecteur n'a géré le troisième cas.  Ceci est explicable et attendu.  En règle générale, les méthodes ci-dessus sont utilisées pour rechercher un objet à partir d'un modèle dans une image où il peut être partiellement masqué, pivoté ou légèrement déformé.  Dans notre cas, nous voulons trouver non pas <em>exactement le même objet</em> , mais <em>un objet assez similaire au modèle (bouton)</em> .  C'est une tâche légèrement différente.  Ainsi, la modification de la forme du bouton lui-même (par exemple, le rayon d'arrondi des coins ou l'épaisseur du cadre de points) modifie les points clés en eux et leurs descripteurs.  De plus, les points clés seront situés dans le coin du bouton.  En raison de la position sur le bord, les points seront instables: leur emplacement exact et leurs descripteurs sont affectés par ce qui est dessiné à côté du bouton. </p><br><p>  Conclusion - la méthode est bonne et remplit correctement les situations lorsque l'objet souhaité est tourné, sa taille est modifiée ou l'objet est partiellement caché (ce qui est bon pour trouver des objets complexes ou une étiquette de prix, par exemple).  Cependant, s'il y a peu de points sur l'objet qui peuvent être «capturés», ou si la forme de l'objet change trop, les points clés et eux sur le modèle et l'image peuvent ne pas coïncider.  En outre, un arrière-plan avec beaucoup de petits détails peut déplacer les "points clés" ou changer leurs descripteurs. </p><br><p>  Nous pouvons trouver une correspondance qui utilise les coordonnées des points clés.  Au lieu de rechercher des paires de points sur le modèle et l'image, dont le voisinage est similaire, vous pouvez rechercher de tels ensembles de points, l'interposition de points clés sur le modèle et l'image sera similaire.  Dans le cas général, il s'agit d'une tâche assez compliquée (à la fois sur le plan informatique et du point de vue de la programmation), en particulier dans une situation où certains points peuvent être décalés ou absents.  Mais, étant donné que nous avons des points clés - des angles, il nous suffit de trouver des groupes qui formeront grossièrement un rectangle des proportions souhaitées, et à l'intérieur desquels il n'y aura pas de points clés.  Nous arrivons progressivement à la méthode suivante: </p><br><h1 id="contour-detection">  Détection de contour </h1><br><p>  Habituellement, un bouton est une sorte d'objet rectangulaire (parfois avec des coins arrondis), dont les côtés sont parallèles aux axes de coordonnées.  Essayons ensuite de distinguer les zones de différence de contraste (bords), et parmi elles, nous trouverons des visages dont les contours sont similaires au contour de l'objet dont nous avons besoin.  Cette méthode est appelée détection de contour. </p><br><h2 id="edge-detection">  Détection des contours </h2><br><p>  Contrairement à la détection des points clés, nous nous intéressons non seulement aux angles des points clés, mais également aux arêtes.  Cependant, les idées de base que nous pouvons tirer de là.  Lissez l'image avec un filtre gaussien et comme dans le détecteur de coin Harris.  Ensuite, nous calculons les dérivées de l'intensité <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-697"><span class="MJXp-msubsup" id="MJXp-Span-698"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-700" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.419ex" viewBox="0 -780.1 945.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-78" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-40"> I_x </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-701"><span class="MJXp-msubsup" id="MJXp-Span-702"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-704" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.072ex" height="2.66ex" viewBox="0 -780.1 892.3 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/joom/blog/445354/&amp;usg=ALkJrhj62cim8_X0VKaUx4j5LYHeJzWPdw#MJMATHI-79" x="622" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-41"> I_y </script>  .  Comme nous n'avons pas besoin de distinguer les angles des bords, nous n'avons pas besoin de considérer le tenseur structurel - il suffit de calculer la force du gradient: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-705"><span class="MJXp-msubsup" id="MJXp-Span-706"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-708" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-709" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-710"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-713"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-714" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-718"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> I_l = I_x ^ 2 + I_y ^ 2 </script>  (au fait, c'est la racine de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-719"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mo" id="MJXp-Span-722" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-724" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> Tr (H) </script>  , ou à partir de la somme de la diagonale du tenseur structurel).  Après cela, nous ne laissons que des pixels qui sont des maxima locaux en termes de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-725"><span class="MJXp-msubsup" id="MJXp-Span-726"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-728" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> I_l </script>  (en utilisant la suppression non maximale déjà considérée), mais comme paramètre local, nous choisirons non pas 8 pixels voisins, mais les pixels de ces 8, vers lesquels je suis dirigé, et du côté opposé: </p><br><p><img src="https://habrastorage.org/webt/au/vm/v7/auvmv7glpynxvkwwg8thg2yfyze.png"></p><br><p>  Le pixel en question est bleu, la flèche est de direction I. Les pixels verts sont ceux qui seront pris en compte lors de la suppression non maximale. </p><br><p>  Un tel choix inhabituel de pixels pour la comparaison est dû au fait que nous ne voulons pas faire de lacunes dans la bordure.  Dans l'image de gauche, le visage va de haut en bas, et comme la suppression non maximale ne comparera pas les intensités avec les pixels au-dessus et en dessous du bleu, nous obtenons un visage continu. </p><br><p>  De toute évidence, une suppression non maximale ne suffit pas et vous devez appliquer une sorte de filtrage pour supprimer les bords avec Il trop bas.  Pour ce faire, nous appliquons la technique du «double seuillage»: nous supprimons tous les pixels avec Il, avec une intensité de dégradé inférieure au seuil bas, et assignons tous les pixels au-dessus du seuil haut à «bords forts».  Les pixels dans lesquels la force du gradient se situe entre Bas et Haut seront appelés «bords faibles», nous ne les laissons que s'ils sont connectés à des «bords forts»: </p><br><p><img src="https://habrastorage.org/webt/cx/qt/kb/cxqtkbtz7qhbyv69raqyqxbxhs4.png"></p><br><p>  Le bleu clair indique les «côtes faibles», le bleu foncé - fort.  Les côtes de la partie inférieure sont tamisées, car elles ne sont reliées à aucune côte forte. </p><br><p>  Nous venons de décrire Canny Edge Detector.  Il est extrêmement largement utilisé à ce jour comme une procédure simple et rapide qui vous permet de retrouver les contours des objets. </p><br><h2 id="border-tracking">  Suivi des frontières </h2><br><p>  L'action suivante consiste à sélectionner les contours de la carte avec les visages trouvés.  Trouvez les composants associés (îlots de pixels adjacents qui ont passé toutes les vérifications) et vérifiez chacun d'eux, à quel point il ressemble à un bouton.  Après avoir appliqué la suppression non maximale dans Canny, nous avons la garantie que les bords auront une épaisseur d'un pixel, mais comptons-y.  Pour chaque pixel qui a été affecté à un visage, et à côté duquel se trouve un pixel non-visage, nous l'assignons à une «bordure».  En passant d'un pixel de la frontière à un autre, nous revenons soit au même pixel (puis nous avons trouvé le chemin), soit à une impasse (alors vous pouvez essayer de revenir en arrière s'il y avait une fourchette quelque part le long du chemin): </p><br><p><img src="https://habrastorage.org/webt/iz/jj/i_/izjji_u52eu0h9aj-iphph2fjs4.png"></p><br><p>  L'algorithme de suivi de bordure complet, prenant en compte différents cas de bord (par exemple, lorsqu'un objet avec une face épaisse a généré deux contours, interne et externe), est décrit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Après avoir appliqué cet algorithme, nous aurons un ensemble de contours qui pourraient potentiellement être des boutons. </p><br><h2 id="filtraciya-konturov">  Filtrage des chemins </h2><br><p>  Comment savoir que notre circuit est un bouton?  Pour les rectangles et les polygones, il existe une excellente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">méthode</a> basée sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">simplification du contour</a> .  Il suffit de «réduire» progressivement les côtes, si elles sont presque sur une ligne droite, puis de calculer le nombre de côtes restantes et de vérifier les angles entre elles.  Malheureusement, pour notre cas, ces méthodes ne conviennent pas - notre rectangle a des coins arrondis.  En outre, il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">correspondance de contour</a> pour les figures à géométrie complexe - mais cela ne nous concerne pas non plus, car nous n'avons qu'un rectangle (des exemples avec un contour humain sont donnés dans l'article).  Par conséquent, il est préférable de créer un filtre basé sur les propriétés de la figure elle-même.  Nous savons que: </p><br><ul><li>  Le bouton est suffisamment grand (zone supérieure à 100 pixels) </li><li>  Les côtés sont parallèles aux axes de coordonnées </li><li>  Le rapport de l'aire de la figure à l'aire du rectangle englobant doit être assez proche de l'unité.  Nous avons fixé le seuil à 0,8, car le bouton est un rectangle avec des côtés parallèles aux axes de coordonnées, et les 20% manquants sont les coins arrondis. </li></ul><br><p>  De plus, de l'expérience de l'utilisation de détecteurs de points clés, nous nous souvenons qu'il peut y avoir des problèmes avec des situations où il y a un objet de contraste sous le bouton.  Par conséquent, après avoir appliqué Canny, nous floutons les bords pour fermer les petits trous qui pourraient survenir de tels objets. </p><br><p>  Nous appliquons l'approche résultante: </p><br><p><img src="https://habrastorage.org/webt/2t/29/if/2t29ify9hc0vz1qtj55whhu7npi.png"></p><br><p>  L'application de filtre Canny (image 2) a trouvé la forme nécessaire, mais en raison de la forme complexe du bouton et du gradient, de nombreux contours ont été trouvés à la fois, et en raison d'une suppression non maximale, certains d'entre eux n'ont pas été fermés.  L'application de flou (3 images) a résolu le problème. </p><br><h1 id="testirovanie-podhoda">  Approche de test </h1><br><p>  Exécutez la recherche de contours dans l'image résultante.  Colorez les contours qui ont réussi le test en rouge.  S'il y en a plusieurs, nous devons choisir l'option la plus réussie parmi eux.  Nous sélectionnons le contour de la plus grande zone et le peignons en vert. </p><br><p>  | <img src="https://habrastorage.org/webt/bi/ku/ls/bikuls_blki6of3jtlyhuuffino.png">  | <img src="https://habrastorage.org/webt/bp/mt/wp/bpmtwpq00xs7zbcjp4gpwsgk6ei.png">  | <img src="https://habrastorage.org/webt/ie/kl/ts/iekltsc8zyvnbha0f3lce22505g.png">  | </p><br><p>  Le design résultant a trouvé des boutons sur les images de test.  Une course sur toutes les bannières a montré qu'occasionnellement (1 cas sur ~ 20), au lieu d'un bouton, il sélectionne des dés rectangulaires d'iOS Appstore et de Google Apps, ou d'autres objets rectangulaires (cas de téléphone).  Par conséquent, en ajoutant la possibilité d'indiquer manuellement la position dans ce cas rare d'une détermination incorrecte, nous avons implémenté cette option dans l'outil de localisation. </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  Pour résumer.  Le CV «classique» sans apprentissage approfondi fonctionne toujours, et sur cette base, vous pouvez résoudre des problèmes.  Ils sont sans prétention et ne nécessitent pas une grande quantité de données balisées, un matériel puissant et ils sont plus faciles à déboguer.  Cependant, ils introduisent des hypothèses supplémentaires et, par conséquent, avec leur aide, tous les problèmes ne peuvent pas être résolus efficacement. </p><br><ul><li>  <strong>La mise en correspondance de modèles</strong> est le moyen le plus simple, basé sur la recherche d'un endroit dans l'image qui est le plus similaire (par une métrique simple) à un modèle.  Efficace avec une correspondance pixel par pixel.  Il peut être rendu résistant aux plis et aux petits changements de taille, mais avec des changements importants, il peut ne pas fonctionner correctement. </li><li>  <strong>Détection / correspondance de</strong> points clés - trouvez les points clés, <strong>faites correspondre</strong> les points de l'image et du modèle.  Les détecteurs sont résistants aux rotations, au zoom (en fonction du détecteur et du descripteur sélectionnés) et à l'adaptation - aux chevauchements partiels.  Mais cette méthode ne fonctionne bien que s'il y a suffisamment de «points clés» dans l'objet, et les paramètres régionaux du modèle et des points d'image coïncident assez bien (c'est-à-dire le même objet sur le modèle et l'image). </li><li>  <strong>Détection de contour</strong> - trouver les contours des objets et trouver un contour similaire au contour de l'objet souhaité.  Cette solution ne prend en compte que la forme de l'objet et ignore son contenu et sa couleur (qui peuvent être à la fois un plus et un moins). <br>  Un lecteur averti peut remarquer que notre problème peut être résolu à l'aide de méthodes modernes de vision par ordinateur.  Par exemple, le réseau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YOLO</a> renvoie la boîte englobante de l'objet souhaité - et c'est ce qui nous intéresse.  Oui, nous avons testé et lancé avec succès une solution basée sur le deep learning - mais comme une deuxième itération (déjà après le lancement et le démarrage de l'outil de localisation).  Ces solutions sont plus résistantes aux modifications des paramètres des boutons et ont de nombreuses propriétés positives: par exemple, au lieu de sélectionner des seuils et des paramètres avec vos mains, vous pouvez simplement ajouter des exemples de bannières sur lesquelles le réseau se trompe (Active Learning) dans le kit de formation.  L'utilisation de l'apprentissage en profondeur pour notre tâche a ses problèmes et ses points intéressants.  Par exemple, de nombreuses méthodes modernes de vision par ordinateur nécessitent un grand nombre d'images annotées, mais nous n'avions pas de balisage (comme dans de nombreux cas réels), et le nombre total de bannières différentes ne dépasse pas plusieurs milliers.  Par conséquent, nous avons décidé de disposer nous-mêmes un petit nombre d'images et d'écrire un générateur qui créera d'autres bannières similaires sur leur base.  Dans ce sens, il existe de nombreuses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">astuces intéressantes</a> .  Il existe de nombreux autres pièges, et la tâche même de déterminer la position d'un objet de vision par ordinateur est vaste et comporte de nombreuses solutions.  Par conséquent, il a été décidé de limiter le champ de vision de l'article, et les décisions basées sur le deep learning n'ont pas été prises en compte. </li></ul><br><p>  Le code avec des blocs-notes qui implémentent les méthodes décrites et dessinent des images de l'article peut être trouvé dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">référentiel</a> ). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445354/">https://habr.com/ru/post/fr445354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445344/index.html">Plateforme de communications unifiées OpenVox</a></li>
<li><a href="../fr445346/index.html">Comment écrire une mauvaise API</a></li>
<li><a href="../fr445348/index.html">SNA Hackathon 2019: Simplify Architecture - Simplify Features</a></li>
<li><a href="../fr445350/index.html">Sonata - Serveur d'approvisionnement SIP</a></li>
<li><a href="../fr445352/index.html">Spark Structured Streaming Applications sur Kubernetes. Découvrez FASTEN RUS</a></li>
<li><a href="../fr445356/index.html">Aperçu de la section mobile à DUMP-2019: maximum appliqué et utile dans le travail quotidien</a></li>
<li><a href="../fr445358/index.html">Organisation du système d'événements dans Unity - à travers les yeux d'un game designer</a></li>
<li><a href="../fr445360/index.html">5 tâches typiques pour les interviews JavaScript: analyse et solutions</a></li>
<li><a href="../fr445362/index.html">Le livre "Distributed Systems. Modèles de conception</a></li>
<li><a href="../fr445366/index.html">Comment accélérer le cryptage selon GOST 28147-89 sur le processeur Baikal-T1 en raison du bloc SIMD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>