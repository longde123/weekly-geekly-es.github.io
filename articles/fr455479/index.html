<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§® üé± üóÑÔ∏è Comment nous avons impl√©ment√© la navigation de Jetpack dans une application de combat. Rapport Yandex.Food üî° üë¥üèæ ‚úäüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les applications mobiles utilisent de plus en plus de liens profonds. Ce sont des liens qui vous permettent non seulement d'acc√©der √† l'application de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons impl√©ment√© la navigation de Jetpack dans une application de combat. Rapport Yandex.Food</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/455479/">  Les applications mobiles utilisent de plus en plus de liens profonds.  Ce sont des liens qui vous permettent non seulement d'acc√©der √† l'application de l'ext√©rieur, mais √©galement d'acc√©der √† un √©cran sp√©cifique.  Vladislav Kozhushko, un d√©veloppeur Android de Yandex.Food, a expliqu√© pourquoi nous avons impl√©ment√© la navigation √† partir de Jetpack pour impl√©menter des liens profonds, quels probl√®mes nous avons rencontr√©s, comment ils ont √©t√© r√©solus et ce qui s'est finalement produit. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/5uKceY3fZbo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Bonjour √† tous!  Je m'appelle Vlad.  Je m'int√©resse au d√©veloppement Android depuis 2013, je travaille chez Yandex.Ed depuis l'√©t√© dernier.  Je vais vous parler de notre fa√ßon d'introduire la biblioth√®que des composants de navigation dans une application de combat. <br><br><a name="habracut"></a>  Tout a commenc√© avec le fait que nous avions la t√¢che technique de refactoriser la navigation.  Ensuite, les chefs de produit sont venus vers nous et nous ont dit que nous ferions des liens profonds, il y en aurait beaucoup, ils m√®neraient √† diff√©rents √©crans. <br><br>  Et ici, nous avons pens√© - la navigation pr√©sent√©e sur Google I / O 2018 est tr√®s bien adapt√©e √† la mise en ≈ìuvre de t√¢ches sur les liens profonds.  Nous d√©cidons de voir ce qui se passe.  Nos coll√®gues avec iOS dans Xcode ont un √©diteur graphique pratique dans lequel ils peuvent utiliser la souris pour piquer la disposition enti√®re des √©crans, ainsi que d√©finir les transitions entre les √©crans.  Maintenant, nous avons √©galement une telle opportunit√©, nous pouvons utiliser la souris pour d√©finir les transitions, les liens profonds vers les √©crans et les associer √† des fragments.  De plus, nous pouvons d√©finir des arguments √† l'√©cran. <br><br><img src="https://habrastorage.org/webt/x_/az/di/x_azdiz_lzuq41qa1em7im23l7k.jpeg"><br><br>  Autrement dit, les arguments doivent √™tre bloqu√©s dans un √©diteur d'interface utilisateur ou √©crits en XML.  En plus de basculer entre les √©crans, une balise d'action est apparue, dans laquelle nous indiquons son identifiant et l'√©cran vers lequel nous devons aller. <br><br><img src="https://habrastorage.org/webt/7k/sf/s7/7ksfs7qzvn4tqxkxxfzziaw-d_y.jpeg"><br><br>  Nous avons √©galement indiqu√© le lien profond avec lequel nous voulons ouvrir l'√©cran.  Dans ce cas, il existe un param√®tre itemId, si nous transmettons un param√®tre de ce type, et qu'il conduira √† un fragment, alors la valeur de ce param√®tre sera transmise aux arguments de fragment, et nous pouvons l'obtenir et l'utiliser avec la cl√© itemId.  La biblioth√®que prend √©galement en charge les liaisons montantes.  Si nous d√©finissons la liaison montante, par exemple, navdemo.ru/start/{itemId}, nous n'aurons plus besoin de prendre soin d'enregistrer les sch√©mas http / https pour ouvrir de tels diplinks.  La biblioth√®que fera tout pour nous. <br><br>  Parlons maintenant des arguments.  Nous avons ajout√© deux arguments, entier et bool√©en, et leur avons √©galement donn√© des valeurs par d√©faut. <br><br><img src="https://habrastorage.org/webt/wt/fc/xx/wtfcxx7fsl5z7vjgb6x0tbr6-u0.jpeg"><br><br>  Apr√®s cela, lors de l'assemblage du fragment, nous aurons la classe NextFragmentArgs.  Il a un constructeur avec lequel vous pouvez assembler et d√©finir les arguments dont nous avons besoin.  Il existe √©galement des getters dans la classe NextFragmentArgs pour obtenir nos arguments.  Vous pouvez collecter NextFragmentArgs √† partir d'un ensemble et convertir un ensemble, ce qui est tr√®s pratique. <br><br><img src="https://habrastorage.org/webt/ti/qb/a7/tiqba7tr-2zbzaryvnwmllffqrs.jpeg"><br><br>  √Ä propos des principales fonctionnalit√©s de la biblioth√®que.  Elle a un √©diteur d'interface utilisateur pratique dans lequel nous pouvons faire toute la navigation.  Nous obtenons un balisage XML lisible qui se gonfle de la m√™me mani√®re que les vues.  Et nous n'avons pas autant de mal que les d√©veloppeurs iOS quand ils ont corrig√© quelque chose dans l'√©diteur graphique, et beaucoup de choses ont chang√©. <br><br>  Les liens profonds peuvent fonctionner √† la fois avec des fragments et avec Activity, et pour cela, vous n'avez pas besoin d'enregistrer une grande quantit√© d'IntentFilter dans le manifeste.  Nous prenons √©galement en charge les liaisons montantes, et avec Android 6, vous pouvez activer la v√©rification automatique pour v√©rification.  De plus, lors de l'assemblage de projets, la g√©n√©ration de code a lieu avec des arguments √† l'√©cran souhait√©.  La navigation prend en charge les graphiques imbriqu√©s et la navigation imbriqu√©e, ce qui vous permet de d√©composer logiquement toute la navigation en sous-composants distincts. <br><br><img src="https://habrastorage.org/webt/bv/5o/ct/bv5oct566mctqouri8o483_b91k.jpeg"><br><br>  Nous allons maintenant parler de notre chemin, que nous avons parcouru, en pr√©sentant la biblioth√®que.  Tout a commenc√© avec la version alpha 3. Nous avons tout impl√©ment√©, nous avons remplac√© toute la navigation par des composants de navigation, tout est super, tout fonctionne, diplinks ouvert, mais des probl√®mes sont apparus. <br><br><img src="https://habrastorage.org/webt/nj/zz/f7/njzzf7kherhavxsfdwqkdicnrtq.jpeg"><br><br>  Le premier probl√®me est une exception IllegalArgumentException.  Il est apparu dans deux cas: l'incoh√©rence du graphe, car il y avait une d√©synchronisation de la repr√©sentation du graphe et des fragments sur la pile, √† cause de cela il y avait une exception.  Le deuxi√®me probl√®me est le double clic.  Lorsque nous avons fait le premier clic, nous naviguons.  Passe √† l'√©cran suivant et l'√©tat du graphique change.  Lorsque nous effectuons le deuxi√®me clic, le graphique est d√©j√† dans un nouvel √©tat, et il essaie de faire l'ancienne transition, qui n'existe plus, nous obtenons donc une telle exception.  Dans cette version, diplinks ne s'est pas ouvert, dont le sch√©ma contient un point, par exemple, project.company.  Cela a √©t√© d√©cid√© dans les futures versions de la biblioth√®que, et dans la version stable, tout fonctionne bien. <br><br>  De plus, les √©l√©ments partag√©s ne sont pas pris en charge.  Vous avez probablement vu comment Google Play fonctionne: il y a une liste d'applications, vous cliquez sur l'application, votre √©cran s'ouvre et une belle animation de d√©placement de l'ic√¥ne se produit.  Nous l'avons √©galement dans l'application sur la liste des restaurants, mais nous avions besoin d'un support pour les √©l√©ments partag√©s.  De plus, SafeArgs ne fonctionnait pas pour nous, nous avons donc v√©cu sans eux. <br><br><img src="https://habrastorage.org/webt/me/kw/kg/mekwkgnoug7sm5mq1wkxybu7d8g.jpeg"><br><br>  Il √©tait facile de r√©parer le lien profond.  Il √©tait n√©cessaire de remplacer le sch√©ma qui √©tait dans la biblioth√®que par son propre sch√©ma, qui prend en charge le point.  Avec l'aide de la r√©flexion, nous frappons sur la classe, changeons la valeur de l'expression r√©guli√®re, et tout fonctionne. <br><br><img src="https://habrastorage.org/webt/cm/mm/po/cmmmpoanuuvi0e7zjxjnwrfnmcg.jpeg"><br><br>  Pour corriger le double clic, nous avons utilis√© la m√©thode suivante.  Nous avons des fonctions d'extension pour d√©finir les clics dans la navigation.  Apr√®s avoir cliqu√© sur un bouton ou un autre √©l√©ment, nous mettons √† jour le ClickListener et faisons la navigation pour √©viter une double transition.  Ou si vous avez RxJava dans votre projet, je recommande d'utiliser la biblioth√®que RxBindingsgs de Jake Worton, et avec elle, vous pouvez g√©rer les √©v√©nements de View dans un style r√©actif, en utilisant les op√©rateurs √† notre disposition. <br><br><img src="https://habrastorage.org/webt/cg/_y/fh/cg_yfhpc4uvios5bvpqy5q2rwg8.jpeg"><br><br>  Parlons des √©l√©ments partag√©s.  Puisqu'ils sont apparus un peu plus tard, nous avons d√©cid√© de terminer le navigateur, d'y ajouter la navigation.  Nous sommes programmeurs, pourquoi pas? <br><br><img src="https://habrastorage.org/webt/8f/in/sb/8finsbjtbk0uckv15eid7gqxfec.jpeg"><br><br>  Le raffinement √©tait le suivant: nous h√©ritons notre navigateur du navigateur, qui se trouve dans la biblioth√®que.  Tout le code n'est pas pr√©sent√© ici, mais c'est la partie principale que nous avons finalis√©e.  Je veux noter qu'avant de faire la navigation, l'√©tat du FragmentManager est v√©rifi√©.  S'il a √©t√© enregistr√©, nous perdons nos √©quipes.  √Ä mon avis, c'est un d√©faut. <br><br>  De plus, lorsque nous d√©marrons une transaction fragment√©e, nous cr√©ons une transaction et d√©finissons toutes nos vues qui doivent √™tre fouill√©es.  Mais la question est, quel genre de classe est cette TransitionDestination?  Il s'agit de notre classe personnalis√©e dans laquelle il est possible de d√©finir des vues.  Nous l'h√©ritons de Destination et √©tendons la fonctionnalit√©.  Nous d√©finissons des vues et notre destination est pr√™te √† les partager. <br><br><img src="https://habrastorage.org/webt/cu/do/qh/cudoqhbr1telv86fghwc4hf61mw.jpeg"><br><br>  La partie suivante - nous devons faire de la navigation.  Lorsque nous cliquons sur le bouton, nous recherchons la destination de l'id, nous retirons le haut du graphique vers lequel nous devons aller.  Apr√®s cela, nous le transformerons en TransitionDestination, dans lequel nous avons des vues.  Ensuite, nous configurons toutes nos vues pour animer les transitions et faisons la navigation.  Tout fonctionne, tout est super.  Mais alors alpha06 est apparu. <br><br>  Cela ne signifie pas que nous avons fait des sauts entre les versions.  Nous avons essay√© de mettre √† jour les biblioth√®ques au besoin, mais ce sont peut-√™tre les changements les plus fondamentaux que nous avons rencontr√©s. <br><br>  Il y avait des probl√®mes avec alpha06.  Comme il s'agissait d'une version alpha de la biblioth√®que, il y avait des changements constants associ√©s au changement de nom des m√©thodes, des rappels, des interfaces, sans parler du fait que des param√®tres √©taient ajout√©s et supprim√©s dans les m√©thodes.  Depuis que nous avons √©crit notre propre navigateur, nous avons d√ª synchroniser le code du navigateur de la biblioth√®que avec le n√¥tre afin de compl√©ter √©galement les corrections de bugs et les nouvelles fonctionnalit√©s. <br><br>  De plus, dans la biblioth√®que elle-m√™me, au fur et √† mesure que nous passons des premi√®res versions alpha aux versions stables, le comportement a chang√©, certaines fonctionnalit√©s ont √©t√© supprim√©es.  Il y avait un indicateur launchDocument, mais il n'a jamais √©t√© utilis√©, puis il a √©t√© supprim√©. <br><br><img src="https://habrastorage.org/webt/lk/27/e8/lk27e8i0ha-eeysxxbgarfiy2bc.jpeg"><br><br>  Par exemple, il y a eu un tel changement dans lequel les d√©veloppeurs ont d√©clar√© que la m√©thode navigUp () qui fonctionne avec DrawerLayout est obsol√®te, utilisez-en une autre, dans laquelle les param√®tres sont simplement √©chang√©s. <br><br><img src="https://habrastorage.org/webt/1z/-u/-4/1z-u-4ub3ofpcvgz2dgknqlomhs.jpeg"><br><br><img src="https://habrastorage.org/webt/tt/ls/bs/ttlsbse7jt_q_dok28qtuzinama.jpeg"><br><br>  Notre prochaine grande migration √©tait √† alpha11.  Ici, les principaux probl√®mes de navigation ont √©t√© r√©solus lors de l'utilisation du graphique.  Nous avons finalement retir√© notre contr√¥leur dop√© et utilis√© tout ce qui √©tait hors de la bo√Æte.  Les arguments s√ªrs ne fonctionnaient toujours pas pour nous et nous √©tions boulevers√©s. <br><br>  Ensuite, beta01 est sorti, et dans cette version, pratiquement rien n'a chang√© lorsque la navigation s'est comport√©e, mais le probl√®me suivant est apparu: si un certain nombre d'√©crans sont ouverts dans l'application, alors nous devons vider la pile avant d'ouvrir notre diplink.  Ce comportement ne nous convenait pas.  Les arguments s√ªrs ne fonctionnaient toujours pas. <br><br><img src="https://habrastorage.org/webt/lo/tw/9j/lotw9jlnmyrsnhx95etgnrs3ink.jpeg"><br><br>  Nous avons √©crit un probl√®me sur Google, pour lequel on nous a dit que toutes les r√®gles avaient √©t√© con√ßues √† l'origine, et dans le code lui-m√™me, c'√©tait parce qu'avant de passer au lien profond, nous sommes retourn√©s au fragment racine en utilisant l'ID du graphique qui se trouve √† la racine.  Et √©galement dans la m√©thode setPopUpTo (), le vrai drapeau est pass√©, disant que, √©tant revenu √† cet √©cran, nous devons √©galement le supprimer de la pile. <br><br><img src="https://habrastorage.org/webt/br/qa/mq/brqamqzlwzsg-muws3e0ss_ptyq.jpeg"><br><br>  Nous avons d√©cid√© de rendre notre navigateur dop√© et de corriger ce que nous pensons √™tre faux. <br><br><img src="https://habrastorage.org/webt/mn/fa/qr/mnfaqrgvrtsox_awvaq_axr6ewq.jpeg"><br><br>  Voil√†, le probl√®me d'origine qui a provoqu√© l'effacement de la pile.  Nous l'avons r√©solu comme suit.  On v√©rifie si startDestination est √©gal √† z√©ro, l'√©cran initial, puis on va l'utiliser, prendre comme identifiant l'identifiant du graphe.  Si notre ID startDestination n'est pas nul, nous prendrons cet ID dans le graphique, gr√¢ce auquel nous ne pouvons pas effacer la pile et ouvrir le diplink au-dessus du contenu que nous avons.  Ou, en option, vous pouvez simplement supprimer la fen√™tre contextuelle true dans les options de navigation.  En th√©orie, tout devrait aussi fonctionner. <br><br>  Et enfin, une version stable sort.  Nous √©tions heureux, nous pensions que tout allait bien, mais dans la version stable, le comportement, dans l'ensemble, n'a pas chang√©.  Ils l'ont juste finalis√©.  Nous avons finalement obtenu des arguments s√ªrs, nous avons donc commenc√© √† ajouter activement des arguments sur nos √©crans et √† les utiliser partout dans le code.  Nous avons √©galement constat√© que la navigation ne fonctionne pas avec DialogFragments.  Puisque nous avions DialogFragments, nous voulions tous les transf√©rer sur un graphique, en XML, et d√©crire les transitions entre eux.  Mais nous n'avons pas r√©ussi. <br><br><img src="https://habrastorage.org/webt/1f/nd/kg/1fndkgqleynvgu0vno1xf_p9ux0.jpeg"><br><br>  Double ouverture.  Nous avons √©galement eu un probl√®me qui nous hantait depuis la toute premi√®re version - la double ouverture d'Activity lors d'un d√©marrage √† froid de l'application. <br><br><img src="https://habrastorage.org/webt/k6/y6/fm/k6y6fm59psyrtdsaqv47hfdl_cm.jpeg"><br><br>  Cela se passe comme suit.  Il existe une merveilleuse m√©thode de gestion des liens profonds que nous pouvons appeler √† partir de notre code, par exemple, lorsque nous sommes en activit√©, nous obtenons onNewIntent () afin d'intercepter un lien profond.  Ici, l'indicateur ACTIVITY_NEW_TASK revient √† Intent lorsque l'application est lanc√©e √† l'aide du lien profond, ce qui se produit ainsi: une nouvelle activit√© d√©marre et s'il y a une activit√© en cours, elle est supprim√©e.  Par cons√©quent, si nous lan√ßons l'application, l'√©cran blanc d√©marre d'abord, puis il dispara√Æt, un autre √©cran appara√Æt et ils sont tr√®s beaux. <br><br>  En cons√©quence, en introduisant cette biblioth√®que, nous avons obtenu les avantages suivants. <br><br><img src="https://habrastorage.org/webt/ip/x2/dv/ipx2dv_nu1w0-8erk2de8buctsm.jpeg"><br><br>  Nous avons une documentation pour notre navigation, ainsi qu'une repr√©sentation graphique des transitions entre les √©crans, et si une personne vient √† nous dans un projet, elle le comprend rapidement en regardant le graphique, ouvrant sa pr√©sentation dans le Studio. <br><br>  Nous avons SingleActivity.  Tous les √©crans sont faits sur des fragments, tous les diplinks m√®nent √† des fragments, et je pense que c'est pratique. <br><br>  Le r√©sultat a √©t√© une simple liaison du lien profond avec des fragments, il suffit d'ajouter la balise deeplink au fragment, et la biblioth√®que fait tout pour nous.  Nous avons √©galement divis√© notre navigation en sous-graphiques imbriqu√©s, nous avons fait de la navigation imbriqu√©e.  Ce sont des choses diff√©rentes.  Juste un graphique imbriqu√©, en fait, il est inclus dans le graphique, et la navigation imbriqu√©e est lorsqu'un navigateur distinct est utilis√© pour parcourir les √©crans. <br><br>  Nous changeons √©galement le graphique dynamiquement dans le code, nous pouvons ajouter des sommets, nous pouvons supprimer des sommets, nous pouvons changer l'√©cran de d√©marrage - tout cela fonctionne. <br><br>  Nous avons presque oubli√© comment travailler avec FragmentManager, car toute la logique de travailler avec lui est encapsul√©e dans la biblioth√®que, et la biblioth√®que fait toute la magie pour nous.  La biblioth√®que fonctionne √©galement avec DrawerLayout, si vous avez un ensemble de fragments racine, la biblioth√®que elle-m√™me dessinera un hamburger dessus, et lors du passage aux √©crans suivants, elle dessinera une fl√®che et le fera de mani√®re anim√©e lors du retour de l'avant-dernier fragment. <br><br>  Nous avons √©galement transf√©r√© tous les arguments, la plupart d'entre eux, vers SafeArgs, et tout est cr√©√© lorsque nous construisons le projet.  De plus, nous avons fait face √† tous les probl√®mes qui nous tourmentaient et avons modifi√© la biblioth√®que pour l'adapter √† nos besoins. <br><br>  SafeArgs peut g√©n√©rer du code Kotlin, un plugin s√©par√© est utilis√© pour cela. <br><br><img src="https://habrastorage.org/webt/kr/gw/lo/krgwloyigbrzjumonwtftiygi7w.jpeg"><br><br>  De plus, la biblioth√®que pr√©sente des inconv√©nients.  Le premier est que le nettoyage de la pile a √©t√© livr√© √† la version stable.  Je ne sais pas pourquoi cela a √©t√© fait, c'est peut-√™tre si pratique pour quelqu'un, mais dans le cas de notre application, nous aimerions ouvrir des liens profonds en plus du contenu que nous avons. <br><br>  Les fragments eux-m√™mes sont cr√©√©s par le fragment de navigateur et sont cr√©√©s par r√©flexion.  Je ne pense pas que ce soit un plus dans la mise en ≈ìuvre.  La condition de lien profond n'est pas prise en charge.  Votre application peut avoir des √©crans secrets qui ne sont disponibles que pour les utilisateurs autoris√©s.  Et pour ouvrir les liens profonds par condition, vous devez √©crire des b√©quilles pour cela, car vous ne pouvez pas d√©finir un processeur de liens profonds dans lequel nous prendrions le contr√¥le et dirions quoi faire, soit ouvrir l'√©cran par le lien profond ou ouvrir un autre √©cran. <br><br>  De plus, les commandes de transition sont perdues, tout cela parce que le fragment du navigateur v√©rifie l'√©tat s'il est enregistr√© ou non, et s'il est enregistr√©, alors nous ne faisons rien. <br><br>  Nous avons √©galement d√ª modifier la biblioth√®que avec un fichier, ce n'est pas un plus.  Et un autre inconv√©nient important - nous n'avons pas la possibilit√© d'ouvrir une cha√Æne d'√©crans devant le lien profond.  Dans le cas de notre application, nous souhaitons faire un lien profond vers le panier, avant d'ouvrir tous les √©crans pr√©c√©dents: restaurants, un restaurant sp√©cifique, et seulement apr√®s cela le panier. <br><br>  De plus, pour travailler avec la navigation, vous devez avoir une instance View.  Pour obtenir un navigateur, vous devez vous tourner vers la vue - la biblioth√®que de navigation elle-m√™me contactera les parents de cette vue - et essayer d'y trouver le navigateur.  Si elle le trouve, l'√©cran passe √† l'√©cran dont nous avons besoin. <br><br>  Mais la question se pose: vaut-il la peine d'utiliser la biblioth√®que au combat?  Je dirai oui si: <br><br><img src="https://habrastorage.org/webt/ao/nv/th/aonvthsqh1m-ompt19yxq30ofug.jpeg"><br><br>  Si nous devons obtenir un r√©sultat rapide.  La biblioth√®que est impl√©ment√©e tr√®s rapidement, elle peut √™tre ins√©r√©e dans le projet en 20 minutes environ, toutes les transitions se piquent avec la souris, tout cela est pratique.  Il est √©galement √©crit rapidement en XML, rapidement assembl√© et fonctionne rapidement.  Tout est super. <br><br>  Si vous avez besoin de plusieurs √©crans dans l'application qui fonctionnent avec des liens profonds, et qu'il n'y a aucune condition dans laquelle ils doivent s'ouvrir. <br><br>  Pas d'activit√© unique.  Ici, je veux dire non seulement une seule activit√©.  Nous pouvons faire de la navigation √† la fois sur des fragments avec une seule activit√©, et sur un m√©lange de fragments et d'activit√©, juste dans le graphique, vous pouvez √©galement d√©crire l'activit√©.  Pour cela, un fournisseur est utilis√© √† l'int√©rieur du navigateur, dans lequel il existe deux impl√©mentations de navigation.  L'une sur l'activit√©, qui cr√©e des intentions pour acc√©der aux activit√©s souhait√©es, la deuxi√®me impl√©mentation est un navigateur de fragments qui fonctionne en interne avec un gestionnaire de fragments. <br><br>  Si vous n'avez pas de logique complexe pour basculer entre les √©crans.  Chaque application est unique √† sa mani√®re, et s'il existe une logique complexe pour ouvrir les √©crans, cette biblioth√®que n'est pas pour vous. <br><br>  Vous √™tes pr√™t √† aller dans la source et √† la modifier comme nous le faisons.  C'est en fait tr√®s int√©ressant. <br><br><img src="https://habrastorage.org/webt/x5/hb/gh/x5hbghbpwhocquyhtflyjth2xka.jpeg"><br><br>  Je dirai non si l'application a une logique de navigation compliqu√©e, si vous devez ouvrir une cha√Æne d'√©crans avant le lien profond, si vous avez besoin de conditions difficiles pour ouvrir les √©crans via le lien profond.  En principe, avec l'exemple d'autorisation, cela peut √™tre fait, l'√©cran dont vous avez besoin s'ouvre simplement, et en plus de cela est l'√©cran d'autorisation.  Si l'utilisateur ne se connecte pas, vous √™tes transf√©r√© sur la pile vers l'√©cran pr√©c√©dent, avant lequel l'√©cran secret a √©t√© ouvert.  Une telle d√©cision b√©quille. <br><br>  La perte d'√©quipes est essentielle pour vous.  Le m√™me Cicerone peut enregistrer des commandes dans le tampon, et lorsque le navigateur devient disponible, il les ex√©cute. <br><br>  Si vous ne souhaitez pas terminer le code, cela ne signifie pas que vous, en tant que d√©veloppeur, ne voulez pas faire quelque chose.  Supposons que vous ayez un d√©lai, les chefs de produit vous disent que vous devez supprimer des fonctionnalit√©s, une entreprise veut d√©ployer des fonctionnalit√©s.  Vous avez besoin d'une solution cl√© en main qui fonctionne imm√©diatement.  Les composants de navigation ne concernent pas ce cas. <br><br>  Encore une chose critique - DialogFragments ne sont pas pris en charge.  Un navigateur qui fonctionnerait avec eux pourrait √™tre ajout√©, mais pour une raison quelconque, il n'a pas √©t√© ajout√©.  Le probl√®me est qu'ils s'ouvrent eux-m√™mes comme des fragments ordinaires.  La case √† cocher pour isShowing n'est pas d√©finie et, par cons√©quent, le cycle de vie DialogFragments pour la cr√©ation d'une bo√Æte de dialogue n'est pas ex√©cut√©.  En fait, DialogFragment s'ouvre comme un fragment normal, tout l'√©cran sans cr√©er de fen√™tre. <br><br>  C‚Äôest tout pour moi.  Creusez la source, c'est vraiment int√©ressant et excitant.  Voici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des documents utiles</a> pour ceux qui souhaitent travailler avec la biblioth√®que de navigation.  Merci de votre attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr455479/">https://habr.com/ru/post/fr455479/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr455469/index.html">√ätre une pile compl√®te et ne pas √™tre</a></li>
<li><a href="../fr455471/index.html">Traduction de l'utilisation de Google Analytics avec R (Michal Brys)</a></li>
<li><a href="../fr455473/index.html">G√©n√©riques dans TypeScript: se r√©unir</a></li>
<li><a href="../fr455475/index.html">Food Design Digest, mai 2019</a></li>
<li><a href="../fr455477/index.html">Singleton pla√ßant des objets dans la ROM et des variables statiques (C ++ en utilisant le microcontr√¥leur Cortex M4 comme exemple)</a></li>
<li><a href="../fr455481/index.html">Trois histoires de chasse sauvage</a></li>
<li><a href="../fr455483/index.html">Artiste Ai-Da: un robot humano√Øde se pr√©pare pour sa premi√®re exposition personnelle</a></li>
<li><a href="../fr455485/index.html">Check Point Scripts - ex√©cutez des scripts directement √† partir de la Smart Console</a></li>
<li><a href="../fr455487/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 10. Changer les modes de fonctionnement du port</a></li>
<li><a href="../fr455489/index.html">Connexion de solutions audio et vid√©o tierces √† Microsoft Teams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>