<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🚀 🧚🏿 ⚔️ Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Le Sandbox Native Client, Partie 1 😆 🎷 🧓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Le Sandbox Native Client, Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418223/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Aujourd'hui, nous allons parler d'un système appelé <b>Native Client</b> , que <b>Google</b> utilise dans le monde réel.  Il s'agit d'une technologie sandbox pour exécuter du code sur différentes plates-formes.  Il est utilisé dans le <b>navigateur Chrome</b> , permettant aux applications Web d'exécuter du code machine arbitraire.  C'est en fait un système plutôt cool.  Il illustre également les capacités d'isolation et une technique particulière de séparation des privilèges ou du bac à sable appelée <b>isolation des pannes logicielles</b> , <b>isolation des pannes logicielles</b> , sans utiliser le système d'exploitation ou la machine virtuelle pour créer le bac à sable. <br><br><img src="https://habrastorage.org/webt/pm/pn/i2/pmpni2s7ydakqxa5tzszbpp2pbu.jpeg"><br><br>  Au lieu de cela, le <b>client natif</b> adopte une approche complètement différente pour regarder des instructions spécifiques dans un fichier binaire pour savoir s'il est sûr de l'exécuter ou non.  Par conséquent, avant de commencer à étudier les détails techniques du système, découvrons pourquoi ces gars-là veulent vraiment exécuter du code machine?  Leur intérêt spécifique est d'appliquer cette solution dans un navigateur Web, où vous pouvez déjà exécuter du code <b>JavaScript</b> , <b>Flash Player</b> et d'autres processus.  Pourquoi ces gars sont-ils si enthousiastes à l'idée d'exécuter du code sur la plate-forme <b>x86</b> ?  Après tout, il semble que ce soit un pas en arrière. <br><br>  <b>Public:</b> ils veulent obtenir des calculs très rapides. <br><br>  <b>Professeur:</b> oui, c'est un énorme avantage du code machine.  Même s'il peut être dangereux à long terme, il offre des performances élevées.  Tout ce que vous ne feriez pas en <b>JavaScript</b> , par exemple, écrire un programme et le compiler, fonctionnera vraiment beaucoup plus rapidement.  Y a-t-il d'autres raisons? <br><br>  <b>Public:</b> exécuter un code existant? <br><br>  <b>Professeur: à</b> droite.  Il est important que tout ne puisse pas être écrit en <b>JavaScript</b> .  Donc, si vous avez une application existante ou, dans la terminologie de l'industrie, du code «hérité» que vous avez l'intention d'exécuter sur Internet, cela semble être une excellente solution.  Parce que vous pouvez simplement prendre une bibliothèque existante, par exemple, une sorte de «moteur» graphique complexe qui est à la fois sensible aux performances et à de nombreuses autres choses complexes que vous ne voulez pas réimplémenter, et ce sera une bonne solution. <br>  Si vous programmez simplement une nouvelle application Web, devez-vous utiliser votre propre client si vous n'êtes pas particulièrement préoccupé par l'héritage ou les performances? <br><br>  <b>Public:</b> Vous n'avez alors pas besoin d'utiliser <b>JavaScript</b> . <br><br>  <b>Professeur:</b> oui, c’est une bonne raison.  Si vous n'aimez pas <b>JavaScript</b> , vous n'avez pas besoin de l'utiliser, non?  Vous pouvez utiliser, par exemple, <b>C</b> , vous pouvez exécuter du code <b>Python</b> , l'écrire en <b>Haskell</b> , dans n'importe quel langage qui vous semble le plus approprié. <br><br>  Donc, c'est une liste assez convaincante de motivation pour exécuter votre propre code dans un navigateur, et il est assez difficile d'obtenir des droits sur une telle action.  Dans une seconde, nous examinerons les détails techniques, et maintenant je veux vous montrer une démonstration de formation simple que j'ai reçue du site Web <b>Native Client</b> . <br><br><img src="https://habrastorage.org/webt/eu/nh/qv/eunhqvmixughsk_piecmnsfwcpy.jpeg"><br><br>  C'est assez simple, car vous pouvez prendre <b>C ++</b> ou un programme <b>C</b> et l'exécuter dans un navigateur.  Vous pouvez consulter cette page Web, qui est un fichier <b>HTML</b> qui contient un tas de code <b>JavaScript</b> . <br><br><img src="https://habrastorage.org/webt/no/fp/is/nofpisdyic-0xbo1xfg-ptmbsta.jpeg"><br><br>  La raison de l'existence de ce code <b>JavaScript</b> est qu'il vous permet d'interagir avec des parties du <b>client natif</b> .  En ce qui concerne le fonctionnement du navigateur, la signification d'une telle solution est que vous avez une sorte de page Web contenant du code <b>JavaScript</b> .  Et cette solution fonctionne avec les privilèges des pages et vous permet de faire diverses choses sur la page Web elle-même, par exemple, communiquer avec le réseau dans certaines circonstances. <br><br>  <b>Native Client</b> vous permet d'exécuter votre module à l'intérieur du navigateur, afin que le code <b>JavaScript</b> puisse interagir avec lui et recevoir une réponse.  Cela montre une partie du code <b>JavaScript</b> nécessaire au <b>Native Client</b> pour interagir avec le module <b>NaCl</b> spécifique que nous sommes sur le point d'exécuter. <br><br><img src="https://habrastorage.org/webt/kl/hz/hr/klhzhr6znxavpre0y7ro-bjrgbw.jpeg"><br><br>  Et vous pouvez envoyer des messages à ce module.  Comment cela se fait-il?  Vous prenez l'objet de ce module en <b>JavaScript</b> , l'appelez <b>postMessage,</b> et supportez donc l'envoi de ce message au module <b>NaCl</b> .  Lorsque le module <b>NaCl</b> répond, il lance la fonction de message en <b>JavaScript</b> .  Et dans ce cas particulier, une boîte de dialogue apparaît simplement dans le navigateur. <br><br><img src="https://habrastorage.org/webt/n1/6f/ct/n16fct-epmcvq47bqh35b7wvc8i.jpeg"><br><br>  Donc, du côté <b>JavaScript</b> , il s'agit d'une interface de page Web assez simple.  La seule chose que vous devez faire en plus est d'affecter le module <b>NaCl</b> de cette façon.  Autrement dit, vous insérez simplement un module avec un <b>ID</b> spécifique <b>ici</b> .  Le plus intéressant ici est le code <b>hello</b> avec l'extension <b>nmf</b> .  Il dit simplement qu'il existe un fichier exécutable que vous devez télécharger et commencer à travailler avec lui dans un environnement <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/14/r_/xn/14r_xn80sp_m3ubrkfftdryomqw.jpeg"><br><br>  Ce code natif est vraiment comme tout autre code C ++ que vous pourriez écrire.  La partie intéressante est cette fonction de traitement des messages <b>HandleMessage</b> . <br><br><img src="https://habrastorage.org/webt/hr/rn/kn/hrrnkncebsasx-lajbmnlf089xc.jpeg"><br><br>  Il s'agit d'une classe <b>C ++</b> et chaque fois que le code <b>JavaScript</b> envoie un message au code <b>natif</b> , il exécute cette fonction.  Il effectue une vérification <b>if (message = = 'hello')</b> .  Si c'est le cas, il créera une sorte de ligne de réponse et la renverra.  C'est assez simple.  Mais pour plus de détails, essayons de l'exécuter et voyons ce qui se passe. <br><br>  Nous pouvons construire et exécuter un petit serveur Web qui servira cette page et le module <b>Native Client</b> .  Ici, je peux aller à cette <b>URL</b> , et ici nous voyons la page Web <b>NaCl</b> .  Le module a reçu notre message de bienvenue de <b>JavaScript</b> , a répondu en retour avec une chaîne en <b>JavaScript</b> et le code <b>JavaScript a</b> déclenché une boîte de dialogue contextuelle contenant cette réponse. <br><br><img src="https://habrastorage.org/webt/rh/hi/xv/rhhixv0gqz8vgls10i0dkus3vgw.jpeg"><br><br>  Donc ça marche vraiment. <br><br>  Essayez de savoir si nous pouvons provoquer le crash du <b>Native Client</b> .  J'espère que non, mais nous pouvons prendre ce code et ce tampon et y écrire un tas de bêtises, par exemple 65536 et voir ce qui se passe. <br><br><img src="https://habrastorage.org/webt/hi/gc/iy/higciynre_pzpduwpdkhsw-6hlq.jpeg"><br><br>  J'espère que cela ne devrait pas faire planter mon navigateur car le <b>client natif</b> essaie de fournir l'isolement.  Mais voyons ce qui se passe. <br><br>  Redémarrez le serveur Web.  On voit que l'entrée du module est toujours réussie, notre navigateur n'a pas été blessé.  Cependant, la messagerie avec le client n'a pas eu lieu, donc la boîte de dialogue est manquante.  Regardons la console <b>JavaScript</b> au bas de la page et voyons que le module <b>Native Client</b> nous informe de l'échec du module <b>NaCl</b> . <br><br><img src="https://habrastorage.org/webt/5d/ec/ev/5decevvdddfz81augpqkdi25tni.jpeg"><br><br>  Il est possible que l'argument que j'ai entré ait provoqué un débordement de tampon ou un accès à une mauvaise adresse, mais dans tous les cas, le module <b>NaCl</b> est vraiment capable d'isoler la corruption de mémoire accidentelle de telle manière qu'elle n'affecte pas le navigateur. <br><br>  Il s'agit d'une démonstration rapide de ce système sous la forme dans laquelle vous pouvez l'utiliser en tant qu'utilisateur final ou développeur.  Regardons quelques autres exemples.  Par exemple, comment le <b>Native Client</b> fonctionnera, ou pourquoi nous en avons besoin, et non une conception alternative. <br><br>  Par conséquent, si votre objectif est d'isoler votre propre code, il existe plusieurs alternatives avec lesquelles vous pouvez le faire.  En fait, les gens avaient du mal à utiliser le code hérité et d'autres langues avant l'apparition du <b>Native Client</b> .  Ils les ont résolus de diverses manières, qui n'étaient peut-être pas aussi sécurisées et pratiques que le <b>client natif</b> , mais fournissaient les mêmes capacités d'isolement. <br><br>  Alors, que devez-vous faire si vous voulez vraiment exécuter le code machine dans un navigateur?  Une option est la confiance dans le développeur.  Une variante de cette approche consiste peut-être à demander à l'utilisateur s'il souhaite exécuter un morceau de code dans son navigateur ou non. <br><br>  Donc, tout le monde comprend à peu près de quel type de plan il s'agit, non?  Par exemple, au lieu de toute cette stratégie de compilation <b>Native Client</b> , je pourrais simplement créer un programme <b>C</b> , l'exécuter dans un navigateur, et il me demanderait si je veux exécuter ce site ou non?  Et si je clique sur "oui", "tondant" accidentellement dans la mémoire du navigateur, il se bloquera.  C'est donc possible, non?  Bien sûr, cela résout tous ces problèmes, mais qu'est-ce qui ne va pas? <br><br>  Je pense que la mauvaise chose est que cette solution n'est pas sûre.  C'est une façon de contourner ce système et de nombreux autres systèmes. <br><br>  <b>Microsoft</b> avait un système appelé <b>ActiveX</b> qui implémentait essentiellement ce plan.  Vous pouvez envoyer les fichiers binaires à <b>IE</b> , le navigateur de votre ordinateur, et jusqu'à ce qu'ils reviennent avec un certificat d'un développeur spécifique signé par, disons, <b>Microsoft</b> ou quelqu'un d'autre, le navigateur n'exécutera pas votre code.  Pensez-vous que ce soit un plan utile? <br><br>  Public: C'est une question de confiance! <br><br>  Professeur: oui, ça l'est.  Vous devez vraiment faire confiance un peu au développeur qui ne signera que les «binaires» qui ne feront rien de mal.  Mais il est souvent impossible de déterminer si c'est une mauvaise chose ou non, alors ils écrivent simplement du code <b>C</b> et le signent aveuglément sans faire énormément de travail.  Dans ce cas, vous pourriez bien rencontrer certains problèmes à l'avenir. <br><br>  De même, la décision de demander à l'utilisateur s'il veut vraiment exécuter une chose ne garantit pas du tout la sécurité.  Même si l'utilisateur veut être prudent, on ne sait pas vraiment comment il doit décider?  Supposons que je veuille vraiment comprendre si je peux laisser ce programme fonctionner?  On me dit que tout va bien, peut-être qu'il a été créé par des développeurs réputés de <b>Google.com</b> ou <b>Microsoft.com</b> .  Cependant, il s'agit du fichier exécutable <b>foo.exe</b> et je ne sais absolument pas ce qu'il <b>contient</b> .  Même si je démonte son code, il sera très difficile de dire s'il va faire quelque chose de mal ou non.  Par conséquent, il est vraiment difficile pour l'utilisateur de décider si l'exécution du code est sûre pour le système. <br><br><img src="https://habrastorage.org/webt/yj/sh/fa/yjshfa6jbfjytpoxjzdt2qfgdpw.jpeg"><br><br>  Ainsi, le <b>client natif</b> peut agir comme un mécanisme par lequel les utilisateurs peuvent obtenir une certaine confiance s'ils doivent dire oui ou non à un programme. <br><br>  Donc, dans la pratique, je pense, il devrait y avoir une option proposée par notre conférencier invité Paul Yang la semaine dernière.  Il a conseillé d'exécuter le plug-in " <b>play extension</b> " ou "play the extension" dans le <b>navigateur Chrome</b> .  Autrement dit, il s'avère qu'avant de démarrer une extension, y compris le <b>client natif</b> , vous devez cliquer sur cette chose.  D'une certaine manière, cela revient à demander à l'utilisateur.  Mais dans ce cas, même si l'utilisateur décide de répondre «oui», le système sera toujours sûr, car le <b>Native Client sera inclus</b> dans le travail.  En ce sens, nous avons un double mécanisme de sécurité: demandez d'abord à l'utilisateur, puis, avec une réponse positive, démarrez le client sandbox, ce qui ne permettra pas au navigateur de planter. <br><br>  Ainsi, une autre approche qui devrait être appliquée est d'utiliser le bac à sable, implémenté au moyen du système d'exploitation ou du matériel, ou d'isoler les processus.  C'est ce que nous avons examiné dans les 2 dernières conférences. <br><br>  Peut-être que vous utiliseriez <b>des</b> mécanismes d'isolement <b>Unix</b> .  Si vous aviez quelque chose de plus complexe, vous utiliseriez <b>FreeBSD</b> ou <b>Capsicum</b> .  Il est idéal pour isoler un morceau de code dans le bac à sable, car vous pouvez limiter ses capacités.  <b>Linux</b> a un mécanisme similaire appelé <b>Seccomp</b> , que nous avons brièvement abordé dans la dernière conférence, il vous permet également de faire de telles choses. <br><br>  Ainsi, il existe déjà un mécanisme pour écrire du code de manière isolée sur votre machine.  Pourquoi ces gars-là sont contre l'utilisation de cette solution existante?  Il semble qu'ils «inventent la roue» pour une raison quelconque.  Alors qu'est-ce qui se passe? <br><br>  <b>Public:</b> peut <b>-</b> être qu'ils veulent minimiser les erreurs? <br><br>  <b>Professeur:</b> oui, d’une certaine manière, ils ne font pas confiance au système d’exploitation.  Peut-être sont-ils réellement préoccupés par les erreurs du système d'exploitation.  Il est probable que le noyau <b>FreeBSD</b> ou le <b>noyau Linux</b> contiennent beaucoup de code <b>C</b> dont ils ne veulent pas ou ne peuvent pas vérifier l'exactitude, même s'ils le voulaient.  Et dans <b>Capsicum</b> ou <b>Seccomp, le</b> travail se fait sur la base d'un plan d'isolement, il suffit donc que le noyau ne dispose que d'un petit morceau fidèle de code, pour que le bac à sable conserve et applique l'isolement. <br><br><img src="https://habrastorage.org/webt/wr/iq/ew/wriqewh7dx-iiwc-q2wymixcw1k.jpeg"><br><br>  <b>Public: étant</b> donné que vous disposez de beaucoup plus de façons d'utiliser les navigateurs, vous devez gérer différents systèmes d'exploitation, tels que iOS et Android, et accéder à ... <br><br>  <b>Professeur:</b> oui, en fait, une autre considération intéressante est que généralement de nombreux systèmes d'exploitation ont des erreurs.  De plus, en fait, différents systèmes d'exploitation sont en quelque sorte incompatibles entre eux.  Cela signifie que chaque système d'exploitation a son propre mécanisme, comme indiqué ici: <b>Unix</b> a <b>Capsicum</b> , <b>Linux</b> a <b>Seccomp</b> , mais ce ne sont que des variantes d' <b>Unix</b> .  <b>Mac OS</b> a la <b>ceinture de sécurité</b> , <b>Windows</b> a autre chose et la liste continue. <br><br>  Donc au final, chaque plateforme avec laquelle vous travaillez a son propre mécanisme d'isolement.  Et ce qui ne les dérange pas vraiment, c'est qu'ils devront écrire du code différent pour <b>Mac</b> , <b>Windows</b> et <b>Linux</b> .  Mais plus encore, cela affecte la façon dont vous écrivez ces choses pour qu'elles fonctionnent à l'intérieur du bac à sable.  Parce que dans le <b>client natif,</b> vous écrivez en fait un morceau de code qui s'exécute de la même manière que le code de système d'exploitation "natif", de la même manière que <b>le</b> code <b>Apple</b> , <b>le</b> code <b>Windows</b> ou le code système <b>Linux</b> s'exécute. <br><br>  Et si vous utilisez ces mécanismes d'isolement, ils imposent en fait différentes restrictions au programme placé dans le bac à sable.  Vous devez donc écrire un programme qui s'exécutera à l'intérieur du bac à sable <b>Linux</b> , un autre programme à exécuter à l'intérieur du bac à sable <b>Windows</b> , etc. <br><br>  C'est ce qui est vraiment inacceptable pour eux.  Ils ne veulent pas faire face à des problèmes de ce genre.  Quelles autres considérations avez-vous? <br><br>  <b>Public:</b> vraisemblablement les performances du système.  Parce que si vous utilisez <b>Capsicum</b> , vous devez prendre soin de ressources suffisantes pour vous assurer que les processus fonctionnent à l'intérieur du bac à sable.  Ici, ils peuvent être confrontés au même problème. <br><br>  <b>Professeur:</b> oui, c'est vrai.  Le plan d'isolation des plantages logiciels est en fait très gourmand en ressources, ce qui au niveau du système d'exploitation peut entraîner un manque de ressources pour prendre en charge le bac à sable.  Il s'avère que dans leur propre <b>client natif,</b> ils utilisent en fait à la fois leur sandbox et leur sandbox OS pour fournir une sécurité supplémentaire.  Ainsi, en fait, ils ne gagnent pas dans la performance de leur mise en œuvre, même s'ils le pourraient probablement. <br><br>  <b>Public:</b> peut <b>-</b> être qu'ils veulent tout contrôler.  Parce qu'ils peuvent contrôler ce qui se passe dans le navigateur, mais s'ils l'ont envoyé à l'ordinateur du client sur le système d'exploitation, ils ne savent pas ce qui pourrait s'y passer. <br><br>  <b>Professeur:</b> on peut dire que oui, le système d'exploitation peut avoir des erreurs ou ne pas gérer assez bien le bac à sable.  Ou l'interface est un peu différente, donc vous ne savez pas ce que le système d'exploitation est sur le point de révéler. <br><br>  <b>Public:</b> cela n'empêchera pas le code de faire de mauvaises choses.  Il y a beaucoup de choses que le code fait, par exemple, vous voulez effectuer une analyse statique, mais les boucles de code empêchent le programme d'agir. <br><br>  <b>Professeur:</b> en fait, il est très difficile de déterminer s'il existe un processus en boucle infinie ou non, mais en principe, cette approche vous permet de détecter certains problèmes de code.  Je pense qu'un exemple vraiment intéressant, que je ne connaissais pas avant d'avoir lu leur article, montre que ces gars sont inquiets des erreurs matérielles, et pas seulement des vulnérabilités du système d'exploitation qui peuvent être exécutées par le code.  Par exemple, le processeur lui-même contient des instructions qui peuvent entraîner le gel ou le redémarrage de l'ordinateur.  Fondamentalement, votre équipement ne devrait pas avoir une telle erreur, car le système d'exploitation repose sur le fait que le matériel l'aidera en tout cas à atteindre le noyau afin de prendre soin d'éliminer les conséquences d'une erreur utilisateur. <br><br>  Mais il s'avère que les processeurs sont si complexes qu'ils ont des erreurs, et ces gars-là disent qu'ils en ont trouvé la preuve.  S'il existe des instructions complexes que le processeur ne s'attendait pas à recevoir, il s'arrêtera au lieu de traiter le cœur du système.  C'est mauvais.  Je pense que ce n'est pas catastrophique si je lance juste quelques choses utiles sur mon ordinateur portable, mais bien pire si l'ordinateur se bloque lorsque je visite une sorte de page Web. <br><br>  Ainsi, ils voulaient créer un niveau de protection plus élevé pour les modules <b>Native Client</b> que celui qui assure l'isolement au niveau du système d'exploitation, même sans erreurs matérielles.  Donc, en ce qui concerne la sécurité, ils se comportent comme des paranoïaques, y compris le problème de sécurité du matériel. <br><br>  Voyons maintenant comment le <b>client natif</b> isole réellement les processus dans le bac à sable.  Ainsi, le <b>client natif</b> adopte une approche différente, qui peut être appelée «isoler les pannes logicielles». <br><br><img src="https://habrastorage.org/webt/rk/a1/gv/rka1gv4vu6qut_1tjda81we9u6w.jpeg"><br><br>  Le plan n'est pas de s'appuyer sur le fait que le système d'exploitation ou l'équipement vérifiera les choses pendant que le programme est en cours d'exécution, mais de s'appuyer sur eux pour revoir les instructions à l'avance et décider qu'elles peuvent être exécutées en toute sécurité.  Ainsi, en fait, il suffit de regarder le fichier binaire pour vérifier toutes les instructions possibles et voir si elles seront sûres ou non.  Une fois que vous avez décidé que tout sera en sécurité, vous pouvez simplement démarrer le processus car vous savez qu'il se compose de choses sûres et qu'il n'y aura pas d'échecs. <br><br>  Donc, ce qu'ils vont faire, c'est regarder presque toutes les instructions du code binaire qui est envoyé au navigateur et décider si des instructions spécifiques sont sûres ou non. <br><br>      ?     .      ? ,  ,          . <br><br>     -  <b>ALU</b> ,  ,      .         ,    .       ,   ,        .   ,      ,   ,           . <br><br><img src="https://habrastorage.org/webt/jh/gt/nb/jhgtnbhw2ijz1h3_9t_ypdy-nr4.jpeg"><br><br>     ?  ,   ,     .   ,     ,     ,       .  ,    «»  ,  ?           . <br><br>       , ,     ,    -  ,        .    «»    ,    -   .   ,      «» ,     .        ,   ,        ,      ,       . <br> ,         (      )    .      . ,      <b>if</b>  ,      ,    .   ,  ,   –  . <br><br>  ,     ,         ,       .               .  ,       ,        . ,   ,        ,       ,    «»      . <br><br><img src="https://habrastorage.org/webt/na/m3/8e/nam38efcfifztldcv1vxg6zfhpu.jpeg"><br><br>        .       ,          ,     .   ,      ,         . <br><br>          ,    ,    ,   ,       - ,      .       ,  ,   , , .               <b>Trusted Service Runtime</b> ,     .          .         <b>Google</b> .    ,    <b>NaCl</b>    . <br><br>     ,   , ,  ,  ,    —  ,      —   .        ,        . <br><br> <b>:</b> ,        ,       <b>NaCl</b> ?        ,      ? <br><br> <b>:</b>  ,     ,   ,      <b>NaCl</b> .    ,   <b>malloc</b>  <b>pthread_create</b> ,       <b>Trusted Service Runtime</b> .     -        ,        <b>Unix</b> ,       - . ,     ,        <b>JavaScript</b>   -.        <b>RPC</b>   <b>JavaScript</b> ,         . <br><br><img src="https://habrastorage.org/webt/t9/yv/c3/t9yvc38rfpu-anjcegov4zusgjg.jpeg"><br><br> ,   ,     <b>NaCl</b>  <b>Unix</b> -,    - ,          -. <br><br>        .  ,       <b>Native Client</b> .          –       <b>Native Client</b> ? <br><br>    ,  <b>Native Client</b>    .   ,     ,    .        ,      ,    <b>x86</b>            . ,        ,       «»,     . <br><br>            ,           .  ,         ,     0  256   .  ,    ,      ,    ,         . <br><br>        ?   ,      ? <br><br> <b>:</b>  ,     . <br><br> <b>:</b> ,     . ,        ,        .     ,      ,         ?    ,     ? <br><br> <b>:</b>              . <br><br> <b>:</b> ! <br><br> <b>:</b>  -,       ,    .       . <br><br> <b>:</b> ,     .    ,       .  ,  ,       .  ,           ,       ,  <b>Trusted Service Runtime</b> .       ,        ,         <b>Trusted Service Runtime</b>   ,     .  ,          . <br><br>  ,         ,      <b>NaCl</b>    ,     .              ,       0.  ,          <b>NaCl</b>   .         . <br><br> 28:00  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "Sécurité des systèmes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 7: « Native Client»,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/I0Psvvky-44" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br> ,    .  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 mois gratuits</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lors du paiement d'un nouveau Dell R630 pour une période de six mois - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel Deca-Core Xeon E5-2630 v4 / 128GB DDR4 / 4x1TB HDD ou 2x240GB SSD / 1Gbps 10 TB - à partir de 99,33 $ par mois</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uniquement jusqu'à fin août, commandez peut être </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418223/">https://habr.com/ru/post/fr418223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418213/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les systèmes de sécurité», partie 1</a></li>
<li><a href="../fr418215/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 5: «D'où viennent les erreurs du système de sécurité», partie 2</a></li>
<li><a href="../fr418217/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 1</a></li>
<li><a href="../fr418219/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: Opportunités, partie 2</a></li>
<li><a href="../fr418221/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 6: «Opportunités», partie 3</a></li>
<li><a href="../fr418225/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Native Client Sandbox Part 2</a></li>
<li><a href="../fr418227/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 7: Le Sandbox Native Client, Partie 3</a></li>
<li><a href="../fr418229/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 8: Modèle de sécurité réseau, partie 1</a></li>
<li><a href="../fr418233/index.html">Les mnémoniques BMW pour trouver les valeurs limites</a></li>
<li><a href="../fr418235/index.html">Saga orchestrée ou comment créer des transactions commerciales dans les services avec la base de données par modèle de service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>