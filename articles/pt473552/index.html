<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äçüéì üë©üèª‚Äçüåæ üêÆ Deanonymization atrav√©s do Clickjacking em 2019 ‚òÆÔ∏è üçó ‚úùÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gostaria de compartilhar com voc√™ os resultados de minha pesquisa sobre o estado atual das coisas no processo de desanonimiza√ß√£o usando a t√©cnica de c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deanonymization atrav√©s do Clickjacking em 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473552/">  Gostaria de compartilhar com voc√™ os resultados de minha pesquisa sobre o estado atual das coisas no processo de desanonimiza√ß√£o usando a t√©cnica de clickjacking.  Por desanonimiza√ß√£o, quero dizer a capacidade de um site mal-intencionado revelar a identidade de um visitante, incluindo seu nome completo e possivelmente outras informa√ß√µes.  N√£o apresento aqui nenhuma informa√ß√£o nova que n√£o era publicamente conhecida anteriormente, mas fiquei muito surpreso ao descobrir como √© f√°cil violar a privacidade do visitante e revelar sua identidade, mesmo se voc√™ seguir as melhores pr√°ticas e usar um navegador e sistema operacional modernos. <br><a name="habracut"></a><br><h2>  Tudo come√ßou com o Google YOLO </h2><br>  Minha jornada come√ßou quando me deparei com um √≥timo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post no blog chamado Google YOLO</a> , de autoria de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@filedescriptor</a> , sobre a vulnerabilidade de clickjacking do widget da web do Google YOLO (voc√™ s√≥ faz login uma vez), que fornece autoriza√ß√£o em linha com um clique em sites .  Eu recomendo que voc√™ visite e leia uma postagem do blog que descreva e demonstre interativamente as t√©cnicas de clickjacking. <br><br>  Em resumo, o problema da privacidade √© que voc√™ pode criar um site com um widget do Google YOLO e mascar√°-lo como um bot√£o inofensivo.  Quando voc√™ clica em um bot√£o que √© inofensivo √† primeira vista, a v√≠tima, sem saber, faz login com sua Conta do Google, transferindo sua identidade para o propriet√°rio do site, incluindo seu nome completo e endere√ßo de e-mail. <br><br>  Muitas vezes, isso realmente n√£o importa, pois muitos sites provavelmente j√° conhecem sua identidade.  No entanto, esse problema pode ter conseq√º√™ncias desagrad√°veis.  Considere, por exemplo, preencher uma pesquisa supostamente an√¥nima.  Como voc√™ nunca visitou este site, pode pensar que ele n√£o tem a capacidade de associar suas respostas √† sua identidade, mas isso n√£o √© de todo. <br><br>  Quando me deparei com a postagem no blog do Google YOLO, o Google j√° havia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">corrigido o problema</a> restringindo o recurso apenas aos sites afiliados.  Esta postagem no blog tamb√©m descreve o clickjacking usando o widget Curtir do Facebook, mas quando voc√™ clicou no bot√£o, o widget solicitou confirma√ß√£o: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee8/920/146/ee8920146db28c5aa8daba3ccc60d850.gif" alt="imagem"><br><br>  A solicita√ß√£o de confirma√ß√£o torna esse ataque imposs√≠vel - mesmo se a v√≠tima clicar inconscientemente no bot√£o Curtir duas vezes, ela ainda precisar√° confirmar sua a√ß√£o em uma janela pop-up.  O pop-up n√£o pode ser modificado pelo site do invasor e, portanto, n√£o est√° sujeito a ataques de clickjacking.  A desvantagem dessa solu√ß√£o √© que ela torna o uso menos conveniente, exigindo a√ß√µes adicionais todas as vezes, mesmo para o uso intencional do bot√£o "Curtir". <br><br>  Como resultado, cheguei √† conclus√£o de que as grandes empresas resolveram esse problema e, durante um tempo, esqueci-o at√© ter uma nova id√©ia ... <br><br><h2>  Widget de coment√°rios do Facebook: ‚Äútypejacking‚Äù </h2><br>  Um dia, enquanto andava pela Internet, me deparei com um site que usava o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">widget de coment√°rios</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Facebook</a> para permitir que os visitantes comentassem em uma p√°gina de terceiros.  Naquele momento, lembrei-me do que li anteriormente e pensei: o problema do clickjacking foi resolvido por grandes empresas, mas e o "typejacking"?  E se eu pegar um widget de coment√°rio e col√°-lo no meu site, disfar√ßando-o como um formul√°rio n√£o relacionado?  Ent√£o, se eu puder convencer a v√≠tima a inserir texto nela, qualquer texto, e envi√°-la como um coment√°rio do Facebook para minha p√°gina, posso descobrir sua identidade verificando no Facebook qual conta acabou de postar o coment√°rio. <br><br>  Com isso em mente, comecei a trabalhar em uma p√°gina da web que demonstra essa t√©cnica.  No processo, descobri acidentalmente que o widget "Curtir", que me parecia exigir confirma√ß√£o, funciona sem confirma√ß√£o na minha p√°gina da web!  Ao ler sobre um widget na Internet, descobri que o Facebook, ao contr√°rio do Google, usa uma lista negra para se proteger contra o clickjacking. <br><br>  A maneira como o Facebook decidiu proteger seus usu√°rios contra o clickjacking pode proteg√™-lo de uma enorme cole√ß√£o de curtidas - o Facebook pode perceber que um grande n√∫mero de curtidas vem de um site, adiciona confirma√ß√£o e at√© cancela curtidas.  Mas isso n√£o protege contra a amea√ßa de desanonimiza√ß√£o.  Um invasor pode criar facilmente um novo site e usar o clickjacking com o widget "Curtir", depois enviar a p√°gina a um n√∫mero limitado de v√≠timas e revelar suas identidades rastreando as curtidas do Facebook. <br><br>  Para minha surpresa, a t√©cnica de likejacking, um termo que descreve a t√©cnica de clickjacking para obter curtidas, √© conhecida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">desde pelo menos 2010</a> .  E hoje, 9 anos depois, ainda permanece relevante.  Al√©m disso, quando se trata de "likejacking", a quest√£o da desanonimiza√ß√£o raramente √© mencionada.  A quest√£o da desanonimiza√ß√£o foi escrita publicamente, pelo menos em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2012</a> , mas ainda assim, acredito que poucas pessoas o conhecem, especialmente para o nosso tempo, quando mais e mais pessoas entendem a import√¢ncia da privacidade na Internet. <br><br>  Quanto √† t√©cnica de typejacking, ainda adicionei uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">p√°gina da web que demonstra o ataque</a> .  Voc√™ pode experimentar ou assistir ao v√≠deo: <br><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Seu navegador n√£o suporta v√≠deo HTML5. <source src="https://m417z.com/images/De-anonymization-via-Clickjacking-in-2019/Attack-demonstration.mp4" type="video/mp4"></video></div></div></div><br><br><h2>  Clickjacking, typejacking ... o que mais? </h2><br>  Pensando na t√©cnica de clickjacking, imaginei o que mais poderia ser feito usando a capacidade de inserir e manipular widgets de terceiros em um site mal-intencionado.  As t√©cnicas de clickjacking e typejacking foram projetadas para a intera√ß√£o do usu√°rio com o widget.  E se, em vez disso, convencermos o usu√°rio a fornecer informa√ß√µes a partir do widget? <br><br>  Acabou que algu√©m j√° tinha pensado nisso antes de mim.  Uma pesquisa r√°pida me levou ao artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Tell Me About Yourself: The Malicious CAPTCHA Attack</a> , que analisa essa t√©cnica.  Aqui est√° um exemplo de um artigo que demonstra como um invasor pode enganar uma v√≠tima e, sem saber, revelar seu nome, mascarando o widget como um captcha inocente: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/718/c86/69e/718c8669e3e38b1501f1484c41f83c2d.png" alt="imagem"><br><br><h2>  Preven√ß√£o de clickjacking para propriet√°rios de sites </h2><br>  Ainda n√£o h√° uma maneira confi√°vel de impedir o clickjacking. <br><br>  Em 2009, foi introduzido o cabe√ßalho HTTP <b>X-Frame-Options</b> , que oferece prote√ß√£o parcial contra o clickjacking.  O cabe√ßalho permite que o propriet√°rio do site especifique quais p√°ginas n√£o devem estar no quadro.  O navegador que suporta o cabe√ßalho se recusar√° a carregar essas p√°ginas em um quadro.  Embora isso evite o clickjacking em alguns casos, ele n√£o ajuda com widgets que precisam carregar em um quadro, como um widget "Curtir" ou um widget de coment√°rio. <br><br>  Olhando para o t√≠tulo <b>X-Frame-Options</b> , perguntei-me por que n√£o fazer uma op√ß√£o semelhante que forne√ßa uma medida de prote√ß√£o enquanto ainda permite que a p√°gina da Web seja carregada em um quadro?  Pense, por exemplo, no widget "Curtir": existe uma boa raz√£o para uma p√°gina da Web desenhar em cima de um bot√£o?  Redimensionar ou bot√µes de transpar√™ncia?  Alguma outra manipula√ß√£o como filtros CSS?  A √∫nica raz√£o pela qual posso imaginar √© o clickjacking.  Por que n√£o introduzir uma nova op√ß√£o <b>X-Frame-Options</b> , como <b>X-Frame-Options: Isolate</b> , que permite que a p√°gina da Web seja carregada no quadro, mas garante que o quadro n√£o possa ser redimensionado e o site pai n√£o possa ser atra√≠do ele.  Como nas id√©ias anteriores, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algu√©m j√° me sugeriu isso</a> . <br><br>  Embora os navegadores n√£o implementem essa prote√ß√£o, os propriet√°rios de sites t√™m apenas uma op√ß√£o: requerem intera√ß√£o adicional com o usu√°rio, por exemplo, usando uma janela pop-up separada.  Vimos que o Facebook faz isso com o widget "Curtir", mas apenas para sites suspeitos nos quais est√° hospedado.  Obviamente, o Facebook valoriza mais a conveni√™ncia dos usu√°rios do que sua privacidade. <br><br>  <b>Atualiza√ß√£o:</b> verifica-se que o Chrome oferece aos propriet√°rios de widgets a capacidade de detectar o clickjacking usando a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Intersection Observer v2</a> .  Esse recurso √© ativado por padr√£o a partir do Chrome 74, lan√ßado em abril de 2019.  Infelizmente, atualmente apenas o Chrome o implementa e n√£o √© t√£o f√°cil de usar - pelo menos, mais dif√≠cil do que adicionar um cabe√ßalho.  Consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Confian√ßa √© boa, observa√ß√£o √© melhor</a> para obter mais informa√ß√µes. <br><br><h2>  Preven√ß√£o de clickjacking para usu√°rios </h2><br>  Depois de tentar v√°rias solu√ß√µes, cheguei √† conclus√£o de que bloquear cookies de terceiros √© a melhor maneira de impedir o vazamento de informa√ß√µes atrav√©s do clickjacking.  Isso n√£o impede a t√©cnica de clickjacking, mas como o quadro incorporado n√£o recebe cookies de visitantes, esse quadro n√£o ser√° particularmente √∫til para um invasor. <br><br>  Al√©m disso, a op√ß√£o para bloquear cookies de terceiros √© que, na maioria dos navegadores, essa op√ß√£o √© incorporada inicialmente.  N√£o h√° necessidade de instalar extens√µes de terceiros ou procurar solu√ß√µes diferentes para diferentes navegadores ou dispositivos. <br><br>  A desvantagem √© que widgets, como o widget Curtir ou o coment√°rio, deixar√£o de funcionar em todos os sites.  N√£o sinto muita falta deles, mas talvez essa op√ß√£o n√£o seja adequada para todos. <br><br>  Outra vantagem do bloqueio de cookies de terceiros √© que o bloqueio pode proteger contra ataques de canal lateral que n√£o requerem interven√ß√£o do usu√°rio.  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esse m√©todo</a> demonstra o uso do CSS3 para desin√¥nimo de usu√°rios do Facebook sem intera√ß√£o adicional do usu√°rio com a p√°gina da web.  Outro exemplo de uma vulnerabilidade antiga, mas interessante, que pode ser evitada com o bloqueio de cookies de terceiros √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">roubo de dom√≠nio cruzado gen√©rico entre navegadores</a> , que usa uma brecha na especifica√ß√£o CSS para for√ßar o navegador a usar a p√°gina de origem como CSS e acesso para informa√ß√µes espec√≠ficas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">edi√ß√£o do projeto Chromium</a> ). <br><br><h2>  Conclus√£o </h2><br>  Entre todos os detalhes hist√≥ricos e t√©cnicos deste artigo, h√° uma recomenda√ß√£o que eu gostaria de enfatizar novamente: considere o bloqueio de cookies de terceiros para melhorar a prote√ß√£o de sua identidade na Internet. <br><br>  Espero que este artigo ajude a conscientizar sobre a t√©cnica de clickjacking que √© conhecida desde 2010 e ainda n√£o foi resolvida.  Talvez os fornecedores de navegadores considerem a introdu√ß√£o de medidas para evit√°-lo e limitar a manipula√ß√£o de quadros. <br><br>  O PS On Habr√© escreveu sobre um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">problema semelhante no site da VKontakte</a> h√° 5 anos.  Parece que a demonstra√ß√£o n√£o est√° mais funcionando (√© necess√°rio confirmar a a√ß√£o em uma janela pop-up), mas, como voc√™ pode ver, o tema ainda √© relevante.  Talvez no VKontakte exista outro widget que voc√™ possa usar, por exemplo, um widget de coment√°rio.  Mas, infelizmente, nesse artigo, o autor n√£o mencionou o bloqueio de cookies de terceiros. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt473552/">https://habr.com/ru/post/pt473552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt473534/index.html">Automatizar altera√ß√µes nas informa√ß√µes do OEM</a></li>
<li><a href="../pt473544/index.html">Estudo de recarga m√∫ltipla JPEG</a></li>
<li><a href="../pt473546/index.html">Aplicativo no TSD e comunica√ß√£o com 1C: Enterprise 8.3 atrav√©s do servi√ßo HTTP. Parte 2 (implementa√ß√£o da API no lado 1C)</a></li>
<li><a href="../pt473548/index.html">Descentraliza√ß√£o da PKI: abordagens propostas para melhoria da seguran√ßa</a></li>
<li><a href="../pt473550/index.html">Coringa 2019: Triunfo do Ano</a></li>
<li><a href="../pt473560/index.html">Criando uma API REST com Node.js e um Banco de Dados Oracle. Parte 4</a></li>
<li><a href="../pt473562/index.html">Prefer√™ncias criptografadas no Android</a></li>
<li><a href="../pt473564/index.html">Existem habilidades, mas n√£o h√° raz√£o: tarefas que a IA n√£o pode lidar com</a></li>
<li><a href="../pt473568/index.html">Servi√ßo de campo, aplica√ß√µes no mapa, geolocaliza√ß√£o. Escolha do servi√ßo cartogr√°fico. Vista lateral do produto</a></li>
<li><a href="../pt473570/index.html">Pesquise 314 km¬≤ em 10 horas - a batalha final dos engenheiros de busca contra a floresta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>