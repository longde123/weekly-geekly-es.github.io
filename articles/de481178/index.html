<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüè≠ üîµ ‚óæÔ∏è Top 10 Bugs in C # -Projekten f√ºr 2019 ü•û üë©üèΩ‚ÄçüöÄ üßëüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gr√º√üe an alle K√§ferliebhaber. Das neue Jahr steht vor der T√ºr, also ist es Zeit, Bilanz des kommenden Jahres zu ziehen. Eine Bewertung der interessant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Top 10 Bugs in C # -Projekten f√ºr 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/481178/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/970/122/d8c/970122d8c4434832fba26edb674ff23d.png" alt="Bild 1"></div><br>  Gr√º√üe an alle K√§ferliebhaber.  Das neue Jahr steht vor der T√ºr, also ist es Zeit, Bilanz des kommenden Jahres zu ziehen.  Eine Bewertung der interessantesten Fehler, die vom PVS-Studio-Team in C # entdeckt wurden, ist traditionell f√ºr 2019 ge√∂ffnet.  Bist du bereit?  Dann fangen wir an. <br><a name="habracut"></a><br><h2>  Zehnter Platz: "Alle verwirren" </h2><br>  <a href="https://www.viva64.com/ru/w/v3066/">V3066</a> M√∂gliche falsche Reihenfolge der an die 'AdjustCellBorderStyle'-Methode √ºbergebenen Argumente:' isFirstDisplayedRow 'und' isFirstDisplayedColumn '.  DataGridViewComboBoxCell.cs 1934 <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseMove</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DataGridViewCellMouseEventArgs e</span></span></span><span class="hljs-function">)</span></span> { .... dgvabsEffective = AdjustCellBorderStyle( DataGridView.AdvancedCellBorderStyle, dgvabsPlaceholder, singleVerticalBorderAdded, singleHorizontalBorderAdded, isFirstDisplayedRow, <span class="hljs-comment"><span class="hljs-comment">// &lt;= isFirstDisplayedColumn); // &lt;= .... }</span></span></code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0653/">WinForms: Errors, Holmes</a> ".  Der Analyzer gibt an, dass bei der √úbergabe von Argumenten an die Methode die letzten beiden Argumente umgekehrt wurden.  Schauen Sie sich die <i>AdjustCellBorderStyle-Deklaration an</i> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> DataGridViewAdvancedBorderStyle </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AdjustCellBorderStyle</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> DataGridViewAdvancedBorderStyledataGridViewAdvancedBorderStyleInput, DataGridViewAdvancedBorderStyle dataGridViewAdvancedBorderStylePlaceholder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> singleVerticalBorderAdded, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> singleHorizontalBorderAdded, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isFirstDisplayedColumn, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isFirstDisplayedRow</span></span></span><span class="hljs-function">)</span></span> { .... }</code> </pre> <br>  Es sieht so aus, als h√§tte der Analysator recht.  Oft werden einige Argumente absichtlich in umgekehrter Reihenfolge √ºbergeben, um beispielsweise einige Variablen auszutauschen.  Aber es sieht nicht so aus, als w√§re das genau der Fall.  Erstens sind Variablen vom Typ <i>bool</i> verwirrt.  Zweitens sind die Namen der Methoden ebenfalls gebr√§uchlich: kein "Swap" oder "Reverse".  Au√üerdem ist es nicht so schwierig, einen solchen Fehler zu machen: Die Reihenfolge der Zeilen- / Spaltenpaare wird h√§ufig unterschiedlich wahrgenommen. <br><br><h2>  Neunter Platz: "The Infinite is near" </h2><br>  <a href="https://www.viva64.com/ru/w/v3110/">V3110</a> M√∂gliche unendliche Rekursion innerhalb der Methode 'TryValidateModel'.  PrefixedModuleUpdater.cs 48 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> prefix</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> TryValidateModel(model, Prefix(prefix)); }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0681/">Suchen und Analysieren von Fehlern im Orchard CMS-Code</a> ".  Es wurde ein Fehler gemacht, der eine unendliche Rekursion verursacht.  Um zu verstehen, wie dieser Fehler h√§tte auftreten k√∂nnen, m√ºssen Sie sich die √úberladung der <i>TryValidateModel-</i> Methode <i>ansehen</i> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _updateModel.TryValidateModel(model); }</code> </pre> <br>  Es ist wahrscheinlich, dass im ersten Fall ein Aufruf des Formulars verwendet werden sollte: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TryValidateModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> prefix</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _updateModel.TryValidateModel(model, Prefix(prefix)); }</code> </pre> <br>  Der Code wurde kompiliert, weil <i>_updateModel</i> vom Typ <i>IUpdateModel</i> ist und die aktuelle Klasse auch die <i>IUpdateModel-</i> Schnittstelle implementiert. <br><br><h2>  Achte Stelle: "Versuchen, finden" </h2><br>  <a href="https://www.viva64.com/ru/w/v3091/">V3091</a> Empirische Analyse.  Es ist m√∂glich, dass das Zeichenfolgenliteral einen Tippfehler enth√§lt: "Verwaltungsgruppen-ID".  Das Wort 'Id' ist verd√§chtig.  Konstanten.cs 36 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HelpMessages</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SubscriptionId = <span class="hljs-string"><span class="hljs-string">"Subscription Id of the subscription associated with the management"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> GroupId = <span class="hljs-string"><span class="hljs-string">"Management Group Id"</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= public const string Recurse = "Recursively list the children of the management group"; public const string ParentId = "Parent Id of the management group"; public const string GroupName = "Management Group Id"; // &lt;= public const string DisplayName = "Display Name of the management group"; public const string Expand = "Expand the output to list the children of the management group"; public const string Force = "Force the action and skip confirmations"; public const string InputObject = "Input Object from the Get call"; public const string ParentObject = "Parent Object"; }</span></span></code> </pre> <br>  Der Fehler stammte aus dem Artikel ‚Äû <a href="https://www.viva64.com/ru/b/0678/">Azure PowerShell: Im Grunde genommen harmlos</a> ." Der Analysator vermutete, dass die <i>GroupName-</i> Konstante mit einer <i>Fehlerzeichenfolge</i> initialisiert wurde. Es sollte wahrscheinlich so etwas wie <i>‚ÄûManagement Group Name" geben.</i> Es ist schwierig, die Kritikalit√§t dieses Fehlers zu beurteilen, aber einzigartig selten und schwer zu erkennen. <br><br><h2>  Siebter Platz: "Nur √ºbersehen" </h2><br>  <a href="https://www.viva64.com/ru/w/v3078/">V3078 Die</a> urspr√ºngliche Sortierreihenfolge geht nach wiederholtem Aufruf der 'OrderBy'-Methode verloren.  Verwenden Sie die 'ThenBy'-Methode, um die urspr√ºngliche Sortierung beizubehalten.  GridModel.Selection.cs 107 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GridModel</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuildCellSelectionRegions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MergeCellSelectionRegions(selectedItemsInView .OrderBy(c =&gt; c.Column.ItemInfo.LayoutInfo.Line) .OrderBy(c =&gt; c.RowItemInfo.LayoutInfo.Line)); } }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0677/">√úberpr√ºfen der Telerik-Benutzeroberfl√§che auf UWP, um sich mit PVS-Studio vertraut zu machen</a> ".  Durch die Wiederverwendung von <i>OrderBy</i> f√ºr eine bereits sortierte Sammlung geht das Ergebnis der vorherigen Sortierung verloren.  Sie m√ºssen <i>ThenBy verwenden</i> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MergeCellSelectionRegions(selectedItemsInView .OrderBy(c =&gt; c.Column.ItemInfo.LayoutInfo.Line) .ThenBy(c =&gt; c.RowItemInfo.LayoutInfo.Line));</code> </pre> <br>  Solche Fehler werden durch Nachl√§ssigkeit oder Unwissenheit gemacht.  Ich denke, Copy-Paste ist schuld. <br><br><h2>  Sechster Platz: "Der Code ist dokumentiert", sagten sie </h2><br>  <a href="https://www.viva64.com/ru/w/v3009/">V3009</a> Es ist merkw√ºrdig, dass diese Methode immer den gleichen Wert von 'true' zur√ºckgibt.  MaskedTextProvider.cs 1529 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Remove</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> testPosition, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MaskedTextResultHint resultHint</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastAssignedPos == INVALID_INDEX) { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// nothing to remove. } .... return true; }</span></span></code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0656/">√úberpr√ºfen des Quellcodes von .NET Core-Bibliotheken mit dem statischen Analysator von PVS-Studio</a> ".  Die Methode gibt immer <i>true zur√ºck</i> .  Ja, das ist ein Fehler, aber etwas anderes ist merkw√ºrdig.  Ein ausf√ºhrlicher Kommentar ist der Methode beigef√ºgt: <br><br>  <i>Entfernt das letzte Zeichen aus der formatierten Zeichenfolge.</i>  <i>(Letztes Zeichen in virtueller Zeichenfolge entfernen).</i>  <i>Beim Beenden enth√§lt der Parameter out die Position, an der die Operation tats√§chlich ausgef√ºhrt wurde.</i>  <i>Diese Position ist relativ zum Teststring.</i>  <i>Der Parameter MaskedTextResultHint out gibt weitere Informationen zum Operationsergebnis.</i>  <i>Gibt</i> <i>bei Erfolg</i> <b><i>true zur√ºck</i></b> <i>,</i> <i>andernfalls</i> <b><i>false</i></b> <i>.</i> <br><br>  Konzentriere dich auf den letzten Satz.  Aber wer liest diese Kommentare schon?  Aber im Ernst, ein solcher Fehler kann sich leicht einschleichen, zum Beispiel beim Refactoring oder Debuggen.  Wir wollten die Option markieren, wenn das Ergebnis der Methode immer <i>wahr sein</i> wird. Nun, wir haben vergessen, alles so zur√ºckzugeben, wie es war. <br><br><h2>  F√ºnfter Platz: "Indexiere mich sofort!" </h2><br>  <a href="https://www.viva64.com/ru/w/v3102/">V3102</a> Verd√§chtiger Zugriff auf ein Element eines ' <a href="https://www.viva64.com/ru/w/v3102/">seq'</a> -Objekts durch einen konstanten Index innerhalb einer Schleife.  XmlQueryRuntime.cs 738 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MatchesXmlType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IList&lt;XPathItem&gt; seq, ....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; seq.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!CreateXmlType(seq[<span class="hljs-number"><span class="hljs-number">0</span></span>]).IsSubtypeOf(....)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0656/">√úberpr√ºfen des Quellcodes von .NET Core-Bibliotheken mit dem statischen Analysator von PVS-Studio</a> ".  Beim Durchlaufen der <i>seq-</i> Auflistung verwendet die <i>for-</i> Schleife bei allen Iterationen f√§lschlicherweise nur den Zugriff auf das erste Element (Index 0 anstelle von <i>i</i> ). <br><br><h2>  Vierter Platz: ‚ÄûNur ein Dollar und nicht genug‚Äú </h2><br>  <a href="https://www.viva64.com/ru/w/v3138/">V3138</a> String-Literal enth√§lt einen m√∂glichen interpolierten Ausdruck.  Betrachten Sie die Inspektion: e.  SSPIHandleCache.cs 42 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">internal</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CacheCredential</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">SafeFreeCredentials newHandle</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ExceptionCheck.IsFatal(e)) { NetEventSource.Fail(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Attempted to throw: {e}"</span></span>); } } }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0656/">√úberpr√ºfen des Quellcodes von .NET Core-Bibliotheken mit dem statischen Analysator von PVS-Studio</a> ".  Die Zeichenfolge <i>"Versuch zu werfen: {e}" scheint</i> interpoliert zu sein.  Aufgrund des fehlenden <i>$</i> -Zeichens wird die Zeichenfolgendarstellung der <i>e-</i> Ausnahme nicht in die Zeichenfolge eingesetzt.  Infolgedessen wird die Zeichenfolge unver√§ndert verwendet. <br><br><h2>  Dritter Platz: ‚ÄûEs gibt keinen Ausweg‚Äú </h2><br>  <a href="https://www.viva64.com/ru/w/v3008/">V3008</a> [CWE-563] Der Variablen 'this.linker.s3.region' werden nacheinander zweimal Werte zugewiesen.  Vielleicht ist das ein Fehler.  Zeilen pr√ºfen: 116, 114. AWSSDK.DynamoDBv2.Net45 S3Link.cs 116 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Region { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-string"><span class="hljs-string">"us-east-1"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linker.s3.region = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0605/">Suchen nach Fehlern im Quellcode des Amazon Web Services SDK f√ºr .NET</a> ."  Im Hauptteil des <i>if-</i> Blocks wurde die <i>R√ºckgabe</i> √ºbersprungen.  Infolgedessen <i>erh√§lt die</i> Variable <i>this.linker.s3.region</i> immer einen <i>Wert</i> , einschlie√ülich einer leeren Zeichenfolge und <i>null</i> . <br><br><h2>  Zweiter Platz: "Werden Sie in Ordnung!" </h2><br>  <a href="https://www.viva64.com/ru/w/v3070/">V3070</a> Nicht initialisierte Variable 'LANG_USER_DEFAULT' wird beim Initialisieren der Variablen 'LOCALE_USER_DEFAULT' verwendet.  NativeMethods.cs 890 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NativeMethods</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LOCALE_USER_DEFAULT = MAKELCID(LANG_USER_DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LANG_USER_DEFAULT = MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT); .... }</code> </pre> <br>  Fehler aus dem Artikel " <a href="https://www.viva64.com/ru/b/0653/">WinForms: Errors, Holmes</a> ".  Die Reihenfolge der Initialisierung der Klassenfelder ist vertauscht.  <i>Verwenden Sie</i> zum Berechnen des Werts des <i>Felds LOCALE_USER_DEFAULT das</i> Feld <i>LANG_USER_DEFAULT</i> , das noch nicht initialisiert wurde und den Wert 0 hat. Die Variable <i>LANG_USER_DEFAULT</i> wird an keiner anderen Stelle im Code verwendet.  Um zu verstehen, wozu dieser Fehler f√ºhrt, wurde ein Testprogramm geschrieben, das Methoden aus WinForms-Code enth√§lt.  Der Einfachheit halber wurden einige tats√§chliche Konstanten durch ihre tats√§chlichen Werte ersetzt: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">NativeMethods</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LOCALE_USER_DEFAULT = MAKELCID(LANG_USER_DEFAULT); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LANG_USER_DEFAULT = MAKELANGID(<span class="hljs-number"><span class="hljs-number">0x00</span></span>, <span class="hljs-number"><span class="hljs-number">0x01</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELANGID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> primary, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sub</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((((<span class="hljs-keyword"><span class="hljs-keyword">ushort</span></span>)(sub)) &lt;&lt; <span class="hljs-number"><span class="hljs-number">10</span></span>) | (<span class="hljs-keyword"><span class="hljs-keyword">ushort</span></span>)(primary)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELCID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lgid</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MAKELCID(lgid, <span class="hljs-number"><span class="hljs-number">0x0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKELCID</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lgid, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sort</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((<span class="hljs-number"><span class="hljs-number">0xFFFF</span></span> &amp; lgid) | (((<span class="hljs-number"><span class="hljs-number">0x000f</span></span>) &amp; sort) &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>)); } } <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Program</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { System.Console.WriteLine(NativeMethods.LOCALE_USER_DEFAULT); } }</code> </pre> <br>  Nach dem Start wird auf der Konsole Folgendes angezeigt: 0. Jetzt korrigieren wir den Fehler, indem wir die Deklaration der <i>Felder</i> <i>LOCALE_USER_DEFAULT</i> und <i>LANG_USER_DEFAULT vertauschen</i> .  Das Ergebnis des Programms in dieser Form: 1024. <br><br><h2>  Erster Platz: "Vertrauen, aber √ºberpr√ºfen" </h2><br>  Mit dem ersten Platz ist es immer schwer.  Es muss etwas Au√üergew√∂hnliches und sehr Interessantes geben.  Anfangs habe ich f√ºr diesen Artikel mehr als zwanzig interessante Fehler ausgew√§hlt, aber es gab nichts, was den ersten Platz unter ihnen verdient h√§tte.  Und dann erinnerte ich mich an einen Artikel meines Kollegen Sergey Vasiliev, der einem einzigen Fehler gewidmet war.  Das Sch√∂ne an diesem Fehler ist, dass er sich direkt auf den Betrieb unseres Analysators auswirkt.  Wie?  Dies geht bereits aus dem Titel des Artikels " <a href="https://www.viva64.com/ru/b/0654/">Verlauf, wie PVS-Studio einen Fehler in der in ... PVS-Studio verwendeten Bibliothek gefunden hat</a> " hervor.  Auch hier wurde die Faulheit nicht gestrichen.  :) Und hier sch√§me ich mich vollkommen und werde keine Beschreibung des Fehlers geben, sondern vorschlagen, dem Link zum Artikel zu folgen und mehr herauszufinden.  Ich garantiere - es lohnt sich.  Und der Artikel ist kurz. <br><br><h2>  Fazit </h2><br>  Ich hoffe die Fehler waren interessant, aber der Artikel wurde nicht m√ºde.  Ich erinnere Sie daran, dass Sie <a href="https://www.viva64.com/ru/pvs-studio-download/">den</a> PVS-Studio Analyzer jederzeit <a href="https://www.viva64.com/ru/pvs-studio-download/">herunterladen</a> k√∂nnen, um selbst nach Fehlern in Ihren eigenen Projekten und Projekten von Drittanbietern zu suchen und sich selbst, Freunden und Kollegen zufrieden zu stellen.  Und lassen Sie es weniger Fehler und mehr Zeit f√ºr die Selbstverbesserung sein!  :) <br><br>  Hast du gelesen  Herzlichen Gl√ºckwunsch zum Aufstieg ins n√§chste Level!  In den folgenden Artikeln unseres Blogs werden die besten Fehler des Jahres 2019 in <a href="https://habr.com/ru/company/pvs-studio/blog/481186/">Java-</a> und <a href="https://habr.com/ru/company/pvs-studio/blog/481190/">C ++ -</a> Projekten <a href="https://habr.com/ru/company/pvs-studio/blog/481190/">hervorgehoben</a> . <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4c/f27/4c0/b4cf274c045d32ce12b08487befdede7.png" alt="Bild 2"></div><br><br><p> <a href="https://habr.com/en/company/pvs-studio/blog/481174/"><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br>  Wenn Sie diesen Artikel mit einem englischsprachigen Publikum teilen m√∂chten, verwenden Sie bitte den Link zur √úbersetzung: Sergey Khrenov.  <a href="https://habr.com/en/company/pvs-studio/blog/481174/">Die 10 h√§ufigsten Fehler in C # -Projekten im Jahr 2019</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481178/">https://habr.com/ru/post/de481178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481166/index.html">Prototyping von Spieloberfl√§chen f√ºr die Geisteswissenschaften</a></li>
<li><a href="../de481168/index.html">Von Hadoop bis Cassandra: Top 5 Big Data Tools</a></li>
<li><a href="../de481172/index.html">Starkes KI-Modell</a></li>
<li><a href="../de481174/index.html">Die 10 h√§ufigsten Fehler in C # -Projekten im Jahr 2019</a></li>
<li><a href="../de481176/index.html">Kuriere Yandex.Food and Delivery Club brauchen eine Gewerkschaft</a></li>
<li><a href="../de481180/index.html">M√ºssen Entwickler Vorschl√§ge von Benutzern erhalten?</a></li>
<li><a href="../de481182/index.html">Istio Service Mesh Beitr√§ge Serie</a></li>
<li><a href="../de481184/index.html">Die 10 h√§ufigsten Fehler in Java-Projekten im Jahr 2019</a></li>
<li><a href="../de481186/index.html">Top 10 Bugs in Java-Projekten f√ºr 2019</a></li>
<li><a href="../de481188/index.html">Die 10 h√§ufigsten Fehler in C ++ - Projekten im Jahr 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>