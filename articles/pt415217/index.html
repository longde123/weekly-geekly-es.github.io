<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîå ‚ò∏Ô∏è ü§πüèæ Criando um gancho para gatos no Unity. Parte 2 üôáüèΩ üë®üèΩ‚Äçüè´ ‚öôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota : este tutorial √© destinado a usu√°rios avan√ßados e experientes e n√£o abrange t√≥picos como adi√ß√£o de componentes, cria√ß√£o de novos scripts GameObj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando um gancho para gatos no Unity. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415217/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db0/187/d5e/db0187d5e9f5fc2bfa78b078dcb2a178.png" alt="imagem"></div><br><blockquote> <em>Nota</em> : este tutorial √© destinado a usu√°rios avan√ßados e experientes e n√£o abrange t√≥picos como adi√ß√£o de componentes, cria√ß√£o de novos scripts GameObject e sintaxe C #.  Se voc√™ precisar aprimorar suas habilidades no Unity, consulte nossos tutoriais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o ao Unity</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Introdu√ß√£o ao script de unidade</a> . </blockquote><br>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte do</a> tutorial, aprendemos como criar um gancho para gatos com a mec√¢nica de enrolar uma corda em torno de obst√°culos.  No entanto, queremos mais: a corda pode envolver objetos ao n√≠vel, mas n√£o se solta quando voc√™ retorna. <br><a name="habracut"></a><br><h2>  Come√ßando a trabalhar </h2><br>  Abra o projeto finalizado da primeira parte do Unity ou fa√ßa o download do <a href="">rascunho</a> desta parte do tutorial e abra <em>2DGrapplingHook-Part2-Starter</em> .  Como na primeira parte, usaremos o Unity vers√£o 2017.1 ou superior. <br><br>  Abra a cena do <em>jogo</em> no editor na pasta do projeto <em>Scenes</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89c/ee3/48c/89cee348caa1656418bcc0ded8e91bab.png"></div><br>  Inicie a cena do jogo e tente prender o gancho do gato nas pedras acima do personagem e depois gire para fazer a corda envolver um par de bordas de pedra. <br><br>  Ao retornar, voc√™ notar√° que os pontos da pedra atrav√©s dos quais a corda costumava girar n√£o se soltam novamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4e9/d83/da7/4e9d83da7eda544a3f48cecbf3e64b08.gif"></div><br>  Pense no ponto em que a corda deve se desdobrar.  Para simplificar a tarefa, √© melhor usar o estojo quando a corda envolver as bordas. <br><br>  Se a lesma, agarrada a uma pedra acima de sua cabe√ßa, girar para a direita, a corda dobrar√° ap√≥s o limiar no qual cruza o ponto de √¢ngulo de 180 graus com a nervura √† qual a lesma est√° atualmente presa.  Na figura abaixo, √© mostrado por um ponto verde destacado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3eb/257/132/3eb25713213c01fb76fb97c49e6958cf.png"></div><br>  Quando a lesma balan√ßa de volta na outra dire√ß√£o, a corda deve soltar novamente no mesmo ponto (destacada em vermelho na figura acima): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ef/ad3/e22/2efad3e22fddf83cefcf52fca6175792.png"></div><br><h2>  A l√≥gica de desvendar </h2><br>  Para calcular o momento em que voc√™ precisa desenrolar a corda nos pontos em que foi enrolada anteriormente, precisamos de conhecimento de geometria.  Em particular, usaremos uma compara√ß√£o de √¢ngulos para determinar quando a corda deve se soltar da borda. <br><br>  Essa tarefa pode parecer um pouco intimidadora.  A matem√°tica pode inspirar horror e desespero, mesmo nos mais corajosos. <br><br>  Felizmente, o Unity tem √≥timas fun√ß√µes auxiliares de matem√°tica que podem facilitar nossa vida. <br><br>  Abra o script <em>RopeSystem</em> no IDE e crie um novo m√©todo chamado <code>HandleRopeUnwrap()</code> . <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleRopeUnwrap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { }</code> </pre> <br>  V√° para <code>Update()</code> e adicione no final uma chamada ao nosso novo m√©todo. <br><br><pre> <code class="cs hljs">HandleRopeUnwrap();</code> </pre> <br>  Enquanto <code>HandleRopeUnwrap()</code> n√£o faz nada, mas agora podemos processar a l√≥gica associada a todo o processo de desanexa√ß√£o das bordas. <br><br>  Como voc√™ se lembra da primeira parte do tutorial, armazenamos as posi√ß√µes de quebra de corda em uma cole√ß√£o chamada <code>ropePositions</code> , que √© uma cole√ß√£o <code>List&lt;Vector2&gt;</code> .  Sempre que uma corda envolve uma borda, mantemos a posi√ß√£o desse ponto de empacotamento nesta cole√ß√£o. <br><br>  Para tornar o processo mais eficiente, n√£o executaremos nenhuma l√≥gica em <code>HandleRopeUnwrap()</code> se o n√∫mero de posi√ß√µes armazenadas na cole√ß√£o for igual ou menor que 1. <br><br>  Em outras palavras, quando a lesma estiver conectada ao ponto inicial e sua corda ainda n√£o estiver enrolada nas bordas, o n√∫mero <code>ropePositions</code> de <code>ropePositions</code> ser√° 1 e n√£o seguiremos a l√≥gica de processamento sem tor√ß√£o. <br><br>  Adicione esta <code>return</code> simples na parte superior de <code>HandleRopeUnwrap()</code> para salvar valiosos ciclos da CPU, porque esse m√©todo √© chamado de <code>Update()</code> muitas vezes por segundo. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ropePositions.Count &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre> <br><h3>  Adicionando novas vari√°veis </h3><br>  Sob esse novo teste, adicionaremos algumas dimens√µes e refer√™ncias aos diferentes √¢ngulos necess√°rios para implementar a base da l√≥gica sem tor√ß√£o.  Adicione o seguinte c√≥digo ao <code>HandleRopeUnwrap()</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// Hinge =       // Anchor =     Hinge // Hinge Angle =   anchor  hinge // Player Angle =   anchor  player // 1 var anchorIndex = ropePositions.Count - 2; // 2 var hingeIndex = ropePositions.Count - 1; // 3 var anchorPosition = ropePositions[anchorIndex]; // 4 var hingePosition = ropePositions[hingeIndex]; // 5 var hingeDir = hingePosition - anchorPosition; // 6 var hingeAngle = Vector2.Angle(anchorPosition, hingeDir); // 7 var playerDir = playerPosition - anchorPosition; // 8 var playerAngle = Vector2.Angle(anchorPosition, playerDir);</span></span></code> </pre> <br>  Existem muitas vari√°veis ‚Äã‚Äãaqui, ent√£o vou explicar cada uma delas, al√©m de adicionar uma ilustra√ß√£o conveniente que ajudar√° a entender seu objetivo. <br><br><ol><li>  <code>anchorIndex</code> √© o √≠ndice na cole√ß√£o <code>ropePositions</code> em duas posi√ß√µes do final da cole√ß√£o.  Podemos consider√°-lo como um ponto em duas posi√ß√µes na corda a partir da posi√ß√£o da lesma.  Na figura abaixo, este √© o primeiro ponto de fixa√ß√£o do gancho √† superf√≠cie.  Ao preencher a cole√ß√£o <code>ropePositions</code> novos pontos de empacotamento, esse ponto sempre permanecer√° o ponto de empacotamento a uma dist√¢ncia de duas posi√ß√µes da lesma. </li><li>  <code>hingeIndex</code> √© o √≠ndice da cole√ß√£o que armazena o ponto da dobradi√ßa atual;  em outras palavras, a posi√ß√£o na qual a corda est√° enrolando no ponto mais pr√≥ximo do final da corda da lesma.  Est√° sempre a uma dist√¢ncia de uma posi√ß√£o da lesma, e √© por isso que usamos <code>ropePositions.Count - 1</code> . </li><li>  <code>anchorPosition</code> calculado referenciando o lugar <code>anchorIndex</code> na cole√ß√£o <code>ropePositions</code> e √© o valor simples Vector2 dessa posi√ß√£o. </li><li>  <code>hingePosition</code> calculado referenciando o local de <code>hingeIndex</code> na cole√ß√£o <code>ropePositions</code> e √© o valor simples Vector2 dessa posi√ß√£o. </li><li>  <code>hingeDir</code> √© um vetor direcionado de <code>anchorPosition</code> para <code>hingePosition</code> .  √â usado na vari√°vel a seguir para obter o √¢ngulo. </li><li>  <code>hingeAngle</code> - a √∫til fun√ß√£o auxiliar <code>Vector2.Angle()</code> √© usada aqui para calcular o √¢ngulo entre <code>anchorPosition</code> e o ponto de dobradi√ßa. </li><li>  <code>playerDir</code> √© um vetor direcionado de <code>anchorPosition</code> para a posi√ß√£o atual da lesma (playerPosition) </li><li>  Em seguida, usando o √¢ngulo entre o ponto de ancoragem e o jogador (lesma), o <code>playerAngle</code> calculado. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/73f/207/4c4/73f2074c470b3016bcd5ee386ce240e8.png"></div><br>  Todas essas vari√°veis ‚Äã‚Äãs√£o calculadas usando posi√ß√µes armazenadas como valores de Vector2 na cole√ß√£o <code>ropePositions</code> e comparando essas posi√ß√µes com outras posi√ß√µes ou a posi√ß√£o atual do jogador (lesma). <br><br>  As duas vari√°veis ‚Äã‚Äãimportantes usadas para compara√ß√£o s√£o <code>hingeAngle</code> e <code>hingeAngle</code> . <br><br>  O valor armazenado em <code>hingeAngle</code> deve permanecer est√°tico, pois √© sempre um √¢ngulo constante entre o ponto nas duas "dobras da corda" da lesma e a atual "dobra da corda" mais pr√≥xima da lesma que n√£o se move at√© que a corda seja destorcida ou depois de ser dobrada um novo ponto de curvatura ser√° adicionado. <br><br>  Quando a lesma est√° <code>playerAngle</code> muda.  Comparando esse √¢ngulo com <code>hingeAngle</code> e tamb√©m verificando se a lesma est√° √† esquerda ou √† direita deste canto, podemos determinar se o ponto de dobra atual mais pr√≥ximo √† lesma deve ser destacado. <br><br>  Na primeira parte deste tutorial, salvamos as posi√ß√µes de dobra em um dicion√°rio chamado <code>wrapPointsLookup</code> .  Cada vez que salvamos o ponto de dobra, o adicionamos ao dicion√°rio com a posi√ß√£o como chave e com 0 como valor.  No entanto, esse valor de 0 era misterioso, certo? <br><br>  Usaremos esse valor para armazenar a posi√ß√£o da lesma em rela√ß√£o ao seu √¢ngulo com o ponto de articula√ß√£o (o ponto de dobra atual mais pr√≥ximo da lesma). <br><br>  Se voc√™ atribuir um valor <em>-1</em> , o √¢ngulo da lesma ( <code>playerAngle</code> ) ser√° menor que o √¢ngulo da dobradi√ßa (dobradi√ßaAngle) e, com o valor <em>1, o</em> √¢ngulo da <code>playerAngle</code> maior que a <code>hingeAngle</code> . <br><br>  Devido ao fato de salvarmos os valores no dicion√°rio, toda vez que comparamos <code>hingeAngle</code> com <code>hingeAngle</code> , podemos entender se a lesma acabou de ultrapassar o limite ap√≥s o qual a corda deve ser desengatada. <br><br>  Pode ser explicado de maneira diferente: se o √¢ngulo da lesma acabou de ser verificado e √© menor que o √¢ngulo da dobradi√ßa, mas a √∫ltima vez que foi salva no dicion√°rio de pontos de dobra, foi marcada com um valor indicando que estava do outro lado desse canto, ent√£o o ponto deve ser removido imediatamente ! <br><br><h3>  Desacoplar corda </h3><br>  D√™ uma olhada na captura de tela abaixo com notas.  Nossa lesma se agarrou √† rocha, balan√ßou para cima, enrolando uma corda em volta da borda da rocha em seu caminho. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db0/187/d5e/db0187d5e9f5fc2bfa78b078dcb2a178.png"></div><br>  Voc√™ pode notar que, na posi√ß√£o de giro mais alta, onde a lesma √© opaca, seu ponto de dobra mais pr√≥ximo atual (marcado com um ponto branco) ser√° armazenado no dicion√°rio <code>wrapPointsLookup</code> com o valor <em>1</em> . <br><br>  No caminho para baixo, quando o <code>playerAngle</code> se torna menor que o <code>hingeAngle</code> (duas linhas verdes tracejadas), como mostra a seta azul, √© realizada uma verifica√ß√£o e, se o √∫ltimo valor (atual) do ponto de curvatura for <em>1</em> , o ponto de curvatura dever√° ser removido. <br><br>  Agora vamos implementar essa l√≥gica no c√≥digo.  Mas antes de come√ßarmos, vamos criar um espa√ßo em branco do m√©todo que usaremos para relaxar.  Devido a isso, ap√≥s criar a l√≥gica, ela n√£o levar√° a um erro. <br><br>  Adicione um novo m√©todo <code>UnwrapRopePosition(anchorIndex, hingeIndex)</code> inserindo as seguintes linhas: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UnwrapRopePosition</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> anchorIndex, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> hingeIndex</span></span></span><span class="hljs-function">)</span></span> { }</code> </pre> <br>  Feito isso, volte para <code>HandleRopeUnwrap()</code> .  Nas vari√°veis ‚Äã‚Äãrec√©m-adicionadas, adicione a seguinte l√≥gica, que tratar√° de dois casos: <code>playerAngle</code> menos que <code>hingeAngle</code> e <code>hingeAngle</code> mais que <code>hingeAngle</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (playerAngle &lt; hingeAngle) { <span class="hljs-comment"><span class="hljs-comment">// 1 if (wrapPointsLookup[hingePosition] == 1) { UnwrapRopePosition(anchorIndex, hingeIndex); return; } // 2 wrapPointsLookup[hingePosition] = -1; } else { // 3 if (wrapPointsLookup[hingePosition] == -1) { UnwrapRopePosition(anchorIndex, hingeIndex); return; } // 4 wrapPointsLookup[hingePosition] = 1; }</span></span></code> </pre> <br>  Este c√≥digo deve corresponder √† explica√ß√£o da l√≥gica descrita acima para o primeiro caso (quando <code>hingeAngle</code> &lt; <code>hingeAngle</code> ), mas tamb√©m lida com o segundo caso (quando <code>hingeAngle</code> &gt; <code>hingeAngle</code> ). <br><br><ol><li>  Se o ponto de dobra atual mais pr√≥ximo da lesma tiver um valor de <em>1</em> no ponto em que <code>hingeAngle</code> &lt; <code>hingeAngle</code> , removeremos esse ponto e realizaremos um retorno para que o restante do m√©todo n√£o seja executado. </li><li>  Caso contr√°rio, se o ponto de dobra n√£o tiver sido marcado pela √∫ltima vez com um valor de <em>1</em> , mas <code>playerAngle</code> menor que <code>hingeAngle</code> , <em>-1 ser√°</em> atribu√≠do. </li><li>  Se o ponto de dobra atual mais pr√≥ximo da lesma for <em>-1</em> no ponto em que <code>hingeAngle</code> &gt; <code>hingeAngle</code> , remova o ponto e retorne. </li><li>  Caso contr√°rio, atribu√≠mos as entradas no dicion√°rio de pontos de dobra na posi√ß√£o da dobradi√ßa para <em>1</em> . </li></ol><br>  Esse c√≥digo garante que o dicion√°rio <code>wrapPointsLookup</code> sempre atualizado, garantindo que o valor do ponto de dobra atual (mais pr√≥ximo da lesma) corresponda ao √¢ngulo da lesma atual em rela√ß√£o ao ponto de dobra. <br><br>  N√£o se esque√ßa de que o valor √© -1 quando o √¢ngulo da barra √© menor que o √¢ngulo da dobradi√ßa (em rela√ß√£o ao ponto de refer√™ncia) e 1 quando o √¢ngulo da barra √© maior que o √¢ngulo da dobradi√ßa. <br><br>  Agora, <code>UnwrapRopePosition()</code> no script <em>RopeSystem com um</em> c√≥digo que se envolver√° diretamente no desacoplamento, movendo a posi√ß√£o de refer√™ncia e atribuindo um novo valor de dist√¢ncia ao valor da dist√¢ncia da corda DistanceJoint2D.  Adicione as seguintes linhas ao disco do m√©todo criado anteriormente: <br><br><pre> <code class="cs hljs"> <span class="hljs-comment"><span class="hljs-comment">// 1 var newAnchorPosition = ropePositions[anchorIndex]; wrapPointsLookup.Remove(ropePositions[hingeIndex]); ropePositions.RemoveAt(hingeIndex); // 2 ropeHingeAnchorRb.transform.position = newAnchorPosition; distanceSet = false; // Set new rope distance joint distance for anchor position if not yet set. if (distanceSet) { return; } ropeJoint.distance = Vector2.Distance(transform.position, newAnchorPosition); distanceSet = true;</span></span></code> </pre> <br><ol><li>  O √≠ndice do ponto de ancoragem atual (a segunda posi√ß√£o da corda da lesma) torna-se a nova posi√ß√£o da dobradi√ßa, e a posi√ß√£o antiga da dobradi√ßa √© removida (a que estava anteriormente mais pr√≥xima da lesma e que agora estamos "desenrolando").  A vari√°vel <code>newAnchorPosition</code> recebe o valor <code>anchorIndex</code> na lista de posi√ß√µes da corda.  Ele ser√° usado para posicionar a posi√ß√£o atualizada do ponto de ancoragem. </li><li>  A junta de cabo RigidBody2D (√† qual o cabo DistanceJoint2D est√° conectado) muda sua posi√ß√£o para a nova posi√ß√£o do ponto de ancoragem.  Isso garante um movimento cont√≠nuo suave da lesma na corda quando ela est√° conectada ao DistanceJoint2D, e essa conex√£o deve permitir que ela continue a balan√ßar em rela√ß√£o √† nova posi√ß√£o, que se tornou a refer√™ncia - em outras palavras, em rela√ß√£o ao pr√≥ximo ponto da corda a partir de sua posi√ß√£o. </li><li>  Em seguida, √© necess√°rio atualizar o valor da dist√¢ncia distanceJoint2D para levar em considera√ß√£o uma mudan√ßa acentuada na dist√¢ncia da lesma ao novo ponto de refer√™ncia.  Se isso ainda n√£o tiver sido feito, uma verifica√ß√£o r√°pida do sinalizador <code>distanceSet</code> √© executada e a dist√¢ncia recebe o valor da dist√¢ncia calculada entre a lesma e a nova posi√ß√£o do ponto de ancoragem. </li></ol><br>  Salve o script e retorne ao editor.  Comece o jogo novamente e observe como a corda se desprende das bordas quando a lesma passa os valores limite de cada ponto de curvatura! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65b/4af/3a1/65b4af3a13e464947b394595dc052a06.gif"></div><br>  Embora a l√≥gica esteja pronta, adicionaremos algum c√≥digo auxiliar ao <code>HandleRopeUnwrap()</code> antes de comparar o <code>hingeAngle</code> com o <code>hingeAngle</code> ( <code>if (playerAngle &lt; hingeAngle)</code> ). <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!wrapPointsLookup.ContainsKey(hingePosition)) { Debug.LogError(<span class="hljs-string"><span class="hljs-string">"We were not tracking hingePosition ("</span></span> + hingePosition + <span class="hljs-string"><span class="hljs-string">") in the look up dictionary."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre> <br>  Na verdade, isso n√£o deve acontecer, porque redefinimos e desconectamos o gancho do gato quando ele envolve uma costela duas vezes, mas se isso ainda acontecer, podemos sair facilmente desse m√©todo com uma <code>return</code> simples e uma mensagem de erro no console. <br><br>  Al√©m disso, gra√ßas a isso, lidaremos mais convenientemente com esses casos limitantes;  al√©m disso, recebemos nossa pr√≥pria mensagem de erro caso algo desnecess√°rio ocorra. <br><br><h2>  Para onde ir a seguir? </h2><br>  Aqui est√° um <a href="">link para o projeto finalizado</a> desta segunda e √∫ltima parte do tutorial. <br><br>  Parab√©ns por concluir esta s√©rie de tutoriais!  Quando se trata de comparar √¢ngulos e posi√ß√µes, tudo se tornou bastante complicado, mas n√≥s sobrevivemos a isso e agora temos um maravilhoso sistema de gancho e corda que pode acabar com objetos no jogo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5f/69a/cbe/b5f69acbefc9de390ff25f0fbc4cbe10.png"></div><br>  Voc√™ sabia que nossa equipe de desenvolvimento do Unity escreveu um livro?  Caso contr√°rio, confira o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Unity Games By Tutorials</a> .  Este jogo ensinar√° como criar quatro jogos prontos do zero: <br><br><ul><li>  Atirador com dois bast√µes </li><li>  Atirador em primeira pessoa </li><li>  Jogo de defesa de torre (com suporte a VR!) </li><li>  Jogo de plataformas 2D </li></ul><br>  Depois de ler este livro, voc√™ aprender√° a criar seus pr√≥prios jogos para Windows, macOS, iOS e outras plataformas! <br><br>  Este livro √© destinado a iniciantes e aqueles que desejam atualizar suas habilidades em Unity para um n√≠vel profissional.  Para dominar o livro, voc√™ precisa ter experi√™ncia em programa√ß√£o (em qualquer idioma). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt415217/">https://habr.com/ru/post/pt415217/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt415205/index.html">Pergunte a Ethan: As civiliza√ß√µes futuras sentir√£o falta do Big Bang?</a></li>
<li><a href="../pt415207/index.html">Quando o c√©u perdeu a perfei√ß√£o</a></li>
<li><a href="../pt415209/index.html">‚ÄúEu precisava guardar uma sala vazia‚Äù: o surgimento de empregos sem sentido</a></li>
<li><a href="../pt415211/index.html">Via L√°ctea esconde dezenas de milhares de buracos negros</a></li>
<li><a href="../pt415215/index.html">Universidade de Michigan apresenta o menor computador do mundo</a></li>
<li><a href="../pt415219/index.html">Como recebi uma oferta de um conhecido editor estrangeiro para me tornar autor de um curso on-line</a></li>
<li><a href="../pt415221/index.html">Semana de Seguran√ßa 23: 50 bilh√µes de dispositivos IoT</a></li>
<li><a href="../pt415223/index.html">Funil de vendas</a></li>
<li><a href="../pt415227/index.html">Ecossistema de desenvolvimento em 2018: o que os programadores vivem na R√∫ssia e no mundo</a></li>
<li><a href="../pt415229/index.html">DevTube - Novo agregador de v√≠deo de c√≥digo aberto para desenvolvedores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>