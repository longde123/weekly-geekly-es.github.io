<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👖 🙊 ✉️ مرة واحدة بالضبط ليست هي نفسها: تحليل المقالة 🥇 🏴󠁧󠁢󠁷󠁬󠁳󠁿 🐈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مقدمة 


 قررت تحليل مقال يصف بعض التفاصيل المثيرة للاهتمام لمعالجة الدفق مرة واحدة بالضبط: مرة واحدة بالضبط . الحقيقة هي أن بعض المؤلفين يفهمون المصط...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>مرة واحدة بالضبط ليست هي نفسها: تحليل المقالة</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419935/" style=";text-align:right;direction:rtl"><h2 id="vvedenie" style=";text-align:right;direction:rtl">  مقدمة </h2><br><p style=";text-align:right;direction:rtl">  قررت تحليل مقال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">يصف بعض التفاصيل المثيرة للاهتمام لمعالجة الدفق مرة واحدة بالضبط: مرة واحدة بالضبط</a> .  الحقيقة هي أن بعض المؤلفين يفهمون المصطلحات بغرابة.  سيسمح لنا تحليل المقال بتوضيح تفاصيل أكثر عمقًا ، لأنه  يسمح لك التعرف على التناقضات والأوجه الغريبة بتجربة المفاهيم والمعنى بشكل كامل. </p><br><p style=";text-align:right;direction:rtl">  دعنا نبدأ. </p><br><h2 id="analiz" style=";text-align:right;direction:rtl">  التحليل </h2><br><p style=";text-align:right;direction:rtl">  كل شيء يبدأ بشكل جيد للغاية: </p><a name="habracut"></a><br><blockquote style=";text-align:right;direction:rtl"> أصبحت معالجة دفق الأحداث الموزعة موضوعًا متزايد الأهمية في مجال البيانات الضخمة.  تشمل محركات معالجة التدفق البارزة (SPEs) Apache Storm و Apache Flink و Heron و Apache Kafka (Kafka Streams) و Apache Spark (Spark Streaming).  واحدة من أبرز ميزات SPEs والتي تمت مناقشتها على نطاق واسع هي دلالات المعالجة الخاصة بها ، مع كون "مرة واحدة بالضبط" واحدة من أكثر العناصر المرغوبة بعد ذلك وتدعي العديد من SPEs أنها تقدم دلالات معالجة "لمرة واحدة". </blockquote><p style=";text-align:right;direction:rtl">  أي أن معالجة البيانات مهمة للغاية ، وما إلى ذلك ، والموضوع قيد المناقشة هو مرة واحدة بالضبط.  دعونا نناقش ذلك. </p><br><blockquote style=";text-align:right;direction:rtl">  هناك الكثير من سوء الفهم والغموض ، ومع ذلك ، يحيط ما هو بالضبط "مرة واحدة" بالضبط ، وما ينطوي عليه ، وما يعنيه حقًا عندما تدعي SPEs الفردية توفيرها. </blockquote><p style=";text-align:right;direction:rtl">  في الواقع ، من المهم جدًا فهم ما هو.  للقيام بذلك ، سيكون من الجيد إعطاء التعريف الصحيح قبل التفكير المطول.  ومن أنا لتقديم هذه النصيحة اللعينة؟ </p><br><blockquote style=";text-align:right;direction:rtl">  سأناقش كيف تختلف دلالات المعالجة "لمرة واحدة بالضبط" عبر العديد من SPEs الشائعة ولماذا يمكن وصف "مرة واحدة بالضبط" بشكل أفضل بأنها ذات مرة واحدة بشكل فعال </blockquote><p style=";text-align:right;direction:rtl">  إن اختراع مصطلحات جديدة هي بالطبع مهمة مهمة.  أحب هذا الشيء بنفسي.  لهذا فقط ، هناك حاجة للتبرير.  دعونا نحاول العثور عليه. </p><br><p style=";text-align:right;direction:rtl">  لن أصف الأشياء الواضحة مثل الرسوم البيانية للمعالجة الموجهة وما إلى ذلك.  يمكن للقراء قراءة المقالة الأصلية بأنفسهم.  علاوة على ذلك ، لتحليل هذه التفاصيل ليست ذات صلة.  سأعطي صورة فقط: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/14b/024/a60/14b024a60f1b9403430bd43ff77cb50b.png"></p><br><p style=";text-align:right;direction:rtl">  بعد ذلك ، هناك وصف للدلالات: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  مرة واحدة على الأكثر ، أي  لا أكثر من مرة.  مع الوضوح الواضح ، من الصعب للغاية ضمان مثل هذا السلوك في سيناريوهات على مستوى الحدود مثل الأعطال ، وتعطيل اتصال الشبكة ، والمزيد.  ولكن بالنسبة للمؤلف كل شيء بسيط: </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b12/02f/cb0/b1202fcb0c735e893daf0373ba23255e.png"></p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  مرة واحدة على الأقل ، أي  مرة واحدة على الأقل.  المخطط أكثر تعقيدًا.  ويمكن جمع أشعل النار أكثر: </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/879/4cd/bd3/8794cdbd351ae965b267e7a3d51ae761.png"></p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  مرة واحدة بالضبط.  ما هو بالضبط مرة واحدة؟ </li></ul><br><blockquote style=";text-align:right;direction:rtl">  يتم ضمان معالجة الأحداث "مرة واحدة بالضبط" من قبل جميع المشغلين في تطبيق التدفق ، حتى في حالة حدوث أعطال مختلفة. </blockquote><p style=";text-align:right;direction:rtl">  على سبيل المثال  إن ضمان المعالجة لمرة واحدة هو بالضبط عند حدوث المعالجة "لمرة واحدة بالضبط". </p><br><p style=";text-align:right;direction:rtl">  تشعر بقوة التصميم؟  لإعادة صياغة: المعالجة مرة واحدة عندما تحدث المعالجة "مرة واحدة".  حسنًا ، نعم ، تقول أيضًا أنه يجب الحفاظ على هذا الضمان في حالة الفشل.  ولكن بالنسبة للأنظمة الموزعة ، هذا شيء واضح.  وتشير علامات الاقتباس إلى أن هناك خطأ ما هنا.  التعريف بعلامات اقتباس دون توضيح ما يعنيه هذا هو علامة على نهج عميق ومدروس. </p><br><p style=";text-align:right;direction:rtl">  فيما يلي وصف لكيفية تنفيذ مثل هذه الدلالات.  وهنا أود أن أسهب في مزيد من التفاصيل. </p><br><blockquote style=";text-align:right;direction:rtl">  عادة ما يتم استخدام آليتين شائعتين لتحقيق دلالات معالجة "لمرة واحدة". <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  توزيع نقطية / حالة موزعة </li><li style=";text-align:right;direction:rtl">  تسليم حدث مرة واحدة على الأقل بالإضافة إلى إلغاء تكرار الرسائل </li></ol><br></blockquote><p style=";text-align:right;direction:rtl">  إذا كانت الآلية الأولى المتعلقة باللقطات ونقاط التفتيش لا تثير أسئلة جيدة ، باستثناء بعض التفاصيل مثل الكفاءة ، فهناك مشاكل صغيرة مع الثانية التي تجاهلها المؤلف. </p><br><p style=";text-align:right;direction:rtl">  لسبب ما ، من المفهوم أن المعالج يمكن أن يكون حتميا فقط.  في حالة وجود معالج غير حتمي ، ستعطي كل إعادة تشغيل لاحقة قيم وحالات إخراج أخرى ، بشكل عام ، مما يعني أن إلغاء البيانات المكررة لن يعمل ، لأن  ستكون قيم الإخراج مختلفة.  وبالتالي ، ستكون الآلية العامة أكثر تعقيدًا بكثير مما هو موضح في المقالة.  أو ، بصراحة ، مثل هذه الآلية غير صحيحة. </p><br><p style=";text-align:right;direction:rtl">  ومع ذلك ، ننتقل إلى ألذ: </p><br><blockquote style=";text-align:right;direction:rtl"><h2 id="is-exactly-once-really-exactly-once" style=";text-align:right;direction:rtl">  هو بالضبط مرة واحدة حقا؟ </h2><br><br>  الآن دعونا نعيد النظر في ما تضمنه دلالات المعالجة "لمرة واحدة" حقًا للمستخدم النهائي.  التسمية "لمرة واحدة" مضللة في وصف ما تم عمله مرة واحدة بالضبط. </blockquote><p style=";text-align:right;direction:rtl">  ويقال أن الوقت قد حان لإعادة النظر في هذا المفهوم ، مثل  هناك بعض التناقضات. </p><br><blockquote style=";text-align:right;direction:rtl">  قد يعتقد البعض أن "مرة واحدة بالضبط" تصف الضمان لمعالجة الأحداث حيث تتم معالجة كل حدث في الدفق مرة واحدة فقط.  في الواقع ، لا يوجد SPE يمكن أن يضمن معالجة مرة واحدة بالضبط.  لضمان أن المنطق المحدد من قبل المستخدم في كل عامل يتم تنفيذه مرة واحدة فقط لكل حدث أمر مستحيل في مواجهة الإخفاقات التعسفية ، لأن التنفيذ الجزئي لكود المستخدم هو احتمال دائم. </blockquote><p style=";text-align:right;direction:rtl">  عزيزي المؤلف ، من الجدير بالذكر كيف تعمل المعالجات الحديثة.  يقوم كل معالج في المعالجة بتنفيذ عدد كبير من المراحل المتوازية.  علاوة على ذلك ، هناك فروع يبدأ فيها المعالج في تنفيذ الإجراءات الخاطئة إذا كان متنبئ الفرع خاطئًا.  في هذه الحالة ، يتم التراجع عن الإجراءات.  وبالتالي ، يمكن للمعالج تنفيذ نفس جزء من التعليمات البرمجية مرتين ، حتى لو لم تحدث أعطال! </p><br><p style=";text-align:right;direction:rtl">  سوف يهتف القارئ اليقظ على الفور: لأن العادم مهم ، وليس كيف يتم تنفيذه.  بالضبط!  ما يهم هو ما حدث نتيجة لذلك ، وليس كيف حدث بالفعل.  إذا كانت النتيجة كما لو كانت حدثت مرة واحدة بالضبط ، فهذا يعني أنها حدثت مرة واحدة بالضبط.  لا تجد؟  وكل شيء آخر هو قشر ، غير ذي صلة.  إن الأنظمة معقدة ، ولا تؤدي التجريدات الناتجة إلا إلى وهم التنفيذ بطريقة معينة.  يبدو لنا أن الشفرة تُنفذ بالتتابع ، التعليمات بالتعليمات ، التي تقرأ أولاً ، ثم تكتب ، ثم تعليمات جديدة.  لكن الأمر ليس كذلك ، فكل شيء أكثر تعقيدًا.  وجوهر التجريد الصحيح هو الحفاظ على وهم ضمانات بسيطة ومفهومة ، دون التعمق في كل مرة ، عندما تحتاج إلى تعيين قيم لمتغير. </p><br><p style=";text-align:right;direction:rtl">  وتكمن المشكلة الكاملة لهذه المقالة في حقيقة أن التجريد لمرة واحدة يسمح لك بإنشاء تطبيقات دون التفكير في التكرارات والقيم المفقودة.  أن كل شيء سيكون على ما يرام ، حتى في حالة السقوط.  وليس هناك حاجة لاختراع شروط جديدة لذلك. </p><br><p style=";text-align:right;direction:rtl">  يوضح رمز المثال في المقالة عدم فهم كيفية كتابة معالجات: </p><br><pre style=";text-align:right;direction:rtl"><code class="hljs cs">Map (Event <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>) { Print <span class="hljs-string"><span class="hljs-string">"Event ID: "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.getId() Return <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">  القارئ مدعو لإعادة كتابة التعليمات البرمجية بشكل مستقل حتى لا يكرر أخطاء كاتب المقال. </p><br><blockquote style=";text-align:right;direction:rtl">  إذن ما الذي تضمنه SPEs عندما تدعي دلالات معالجة "لمرة واحدة"؟  إذا كان لا يمكن ضمان تنفيذ منطق المستخدم مرة واحدة بالضبط ، فما الذي يتم تنفيذه مرة واحدة بالضبط؟  عندما تدعي SPEs دلالات معالجة "لمرة واحدة" ، ما يقولونه في الواقع هو أنها يمكن أن تضمن أن التحديثات إلى الحالة التي يديرها SPE يتم الالتزام بها مرة واحدة فقط إلى متجر خلفي دائم. </blockquote><p style=";text-align:right;direction:rtl">  لا يحتاج المستخدم إلى ضمان التنفيذ المادي للكود.  بمعرفة كيفية عمل المعالج ، من السهل استنتاج أن هذا غير ممكن.  الشيء الرئيسي هو التنفيذ المنطقي مرة واحدة بالضبط ، كما لو لم يكن هناك إخفاقات على الإطلاق.  إن جذب مفاهيم "الالتزام بمخزن البيانات" يؤدي فقط إلى تفاقم عدم فهم المؤلف للأشياء الأساسية ، لأنه  هناك تطبيقات لمثل هذه الدلالات دون الحاجة إلى الالتزام. </p><br><p style=";text-align:right;direction:rtl">  لمزيد من المعلومات ، يمكنك قراءة مقالتي بإيجاز: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">معالجة البيانات التنافسية غير المتجانسة في الوقت الفعلي بدقة مرة واحدة</a> . </p><br><blockquote style=";text-align:right;direction:rtl">  بمعنى آخر ، يمكن أن تتم معالجة الحدث أكثر من مرة ولكن تأثير هذه المعالجة لا ينعكس إلا مرة واحدة في متجر الحالة الخلفية المتين. </blockquote><p style=";text-align:right;direction:rtl">  أن يكون هناك "متجر خلفية دائمة" للمستخدم هو بنفسجي تمامًا.  فقط تأثير المعالجة مهم ، أي  الاتساق وقيم المخرجات على مدى كامل معالجة دفق البيانات.  تجدر الإشارة إلى أنه بالنسبة لبعض المهام ، ليست هناك حاجة إلى وجود متجر حالة خلفية دائم ، وسيكون من الجيد ضمانه مرة واحدة بالضبط. </p><br><blockquote style=";text-align:right;direction:rtl">  هنا في Streamlio ، قررنا أنه لمرة واحدة هو أفضل مصطلح لوصف دلالات المعالجة هذه. </blockquote><p style=";text-align:right;direction:rtl">  مثال نموذجي على المدخلات الغبية للمفاهيم: سنكتب بعض الأمثلة والحجج المطولة لفقرة كاملة ، وفي النهاية سنضيف أن "نحدد هذا المفهوم".  تتسبب دقة التعريفات ووضوحها في استجابة عاطفية حية حقًا. </p><br><h2 id="vyvody" style=";text-align:right;direction:rtl">  الاستنتاجات </h2><br><p style=";text-align:right;direction:rtl">  يؤدي سوء فهم جوهر التجريد إلى تشويه المعنى الأصلي للمفاهيم الموجودة والخلق اللاحق للمصطلحات الجديدة من الصفر. </p><br><p style=";text-align:right;direction:rtl">  [1] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بالضبط مرة واحدة ليست هي نفسها تمامًا</a> . <br>  [2] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">معالجة البيانات التنافسية غير المتجانسة في الوقت الفعلي بدقة مرة واحدة</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar419935/">https://habr.com/ru/post/ar419935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar419925/index.html">التحكم في إصدار الملفات الفردية باستخدام GitHub Gist</a></li>
<li><a href="../ar419927/index.html">[DotNetBook] الاستثناءات: اكتب بنية النظام</a></li>
<li><a href="../ar419929/index.html">[DotNetBook] أحداث الاستثناء وكيفية الحصول على StackOverflow و ExecutionEngineException من البداية</a></li>
<li><a href="../ar419931/index.html">[DotNetBook] حان الوقت للترفيه عن القصص: حالات استثنائية استثنائية</a></li>
<li><a href="../ar419933/index.html">كيفية إجراء عمليات بحث المستخدم على Github باستخدام Angular</a></li>
<li><a href="../ar419939/index.html">كيف جعلت الملاحة في React Native ليست رهيبة جدًا</a></li>
<li><a href="../ar419941/index.html">جولة تصوير مكتب Audiomania: الجزء الأول</a></li>
<li><a href="../ar419943/index.html">ما نقرأه في يوليو: كيفية إيجاد وقت للقراءة ، وخمسة كتب لقيادة الفريق وبعض المقالات الجديدة</a></li>
<li><a href="../ar419945/index.html">كيفية التحضير لمقابلة على جوجل وعدم اجتيازها. مرتين</a></li>
<li><a href="../ar419947/index.html">اتصل ب PiZeroW مع Raspbian Stretch Lite ، بدون محولات إضافية وشاشة</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>