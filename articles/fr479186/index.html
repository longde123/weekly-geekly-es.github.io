<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüé§ üí™üèæ ‚ûó Sur la structure du calcul parall√®le ou les arguments contre l'op√©rateur ¬´Go¬ª üçÉ üå± üìù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chaque langage qui prend en charge l'informatique parall√®le (comp√©titive, asynchrone) a besoin d'un moyen d'ex√©cuter du code en parall√®le. Voici des e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sur la structure du calcul parall√®le ou les arguments contre l'op√©rateur ¬´Go¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479186/"><p><img src="https://habrastorage.org/getpro/habr/post_images/85d/e9d/a9e/85de9da9eebff2dc7806d48e9b71706e.png"></p><br><p>  Chaque langage qui prend en charge l'informatique parall√®le (comp√©titive, asynchrone) a besoin d'un moyen d'ex√©cuter du code en parall√®le.  Voici des exemples de diff√©rentes API: </p><br><pre><code class="plaintext hljs">go myfunc(); // Golang pthread_create(&amp;thread_id, NULL, &amp;myfunc); /* C with POSIX threads */ spawn(modulename, myfuncname, []) % Erlang threading.Thread(target=myfunc).start() # Python with threads asyncio.create_task(myfunc()) # Python with asyncio</code> </pre> <br><p>  Il existe de nombreuses options pour la notation et la terminologie, mais une s√©mantique consiste √† ex√©cuter <code>myfunc</code> en parall√®le avec le programme principal et √† continuer le <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">thread d'ex√©cution</a> parent (Eng. "Control Flow") </p><a name="habracut"></a><br><p>  Une autre option est les <a href="https://ru.wikipedia.org/wiki/Callback_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">rappels</a> : </p><br><pre> <code class="plaintext hljs">QObject::connect(&amp;emitter, SIGNAL(event()), // C++ with Qt &amp;receiver, SLOT(myfunc())) g_signal_connect(emitter, "event", myfunc, NULL) /* C with GObject */ document.getElementById("myid").onclick = myfunc; // Javascript promise.then(myfunc, errorhandler) // Javascript with Promises deferred.addCallback(myfunc) # Python with Twisted future.add_done_callback(myfunc) # Python with asyncio</code> </pre> <br><p>  Et encore une fois, la notation change, mais tous les exemples font en sorte que, √† partir du moment actuel, si et quand un certain √©v√©nement se produit, <code>myfunc</code> d√©marre.  Une fois le rappel d√©fini, le contr√¥le revient et la fonction d'appel continue.  (Parfois, les rappels sont regroup√©s dans <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" rel="nofollow">des</a> fonctions de <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" rel="nofollow">combinaison</a> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" rel="nofollow">pratiques</a> ou <a href="https://twistedmatrix.com/documents/current/core/howto/servers.html" rel="nofollow">des protocoles de style torsad√©</a> , mais l'id√©e de base reste inchang√©e.) </p><br><p>  Et ... c'est tout.  Prenez n'importe quel langage √† usage g√©n√©ral populaire simultan√© et vous constaterez probablement qu'il tombe dans l'un de ces paradigmes (parfois les deux, asyncio). </p><br><p>  Mais pas ma nouvelle biblioth√®que <a href="https://trio.readthedocs.io/" rel="nofollow">Trio</a> bizarre.  Elle n'utilise pas ces approches.  Au lieu de cela, si nous voulons ex√©cuter <code>myfunc</code> et <code>anotherfunc</code> en parall√®le, nous √©crivons quelque chose comme ceci: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> trio.open_nursery() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery: nursery.start_soon(myfunc) nursery.start_soon(anotherfunc)</code> </pre> <br><blockquote>  p√©pini√®re - p√©pini√®re, p√©pini√®re </blockquote><p>  Pour la premi√®re fois face √† la conception de "nursery", les gens sont perdus.  Pourquoi y a-t-il <a href="https://pythonworld.ru/osnovy/with-as-menedzhery-konteksta.html" rel="nofollow">un gestionnaire de contexte</a> (avec bloc)?  Qu'est-ce que cette p√©pini√®re et pourquoi est-elle n√©cessaire pour ex√©cuter une t√¢che?  Ensuite, les gens comprennent que la p√©pini√®re interf√®re avec les approches habituelles dans d'autres cadres et se f√¢che.  Tout semble bizarre, sp√©cifique et trop haut pour √™tre une primitive de base.  Toutes ces r√©actions sont compr√©hensibles!  Mais supportez-le un peu. </p><br><p>  <strong>Dans cet article, je veux vous convaincre que les nurseries ne sont pas une mode, mais plut√¥t une nouvelle primitive pour contr√¥ler le flux d'ex√©cution, aussi fondamentale que les boucles et les appels de fonction.</strong>  <strong>De plus, les approches discut√©es ci-dessus (cr√©ation de threads et enregistrement des rappels) doivent √™tre rejet√©es et remplac√©es par des p√©pini√®res.</strong> </p><br><p>  Semble trop gras?  Mais cela s'est d√©j√† produit: une fois <code>goto</code> largement utilis√© pour contr√¥ler le comportement d'un programme.  Voil√† une occasion de rire: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c37/12a/b90/c3712ab9028c26f7ff089f3ff14e9071.png"></p><br><p>  Plusieurs langues ont toujours le soi-disant <code>goto</code> , mais ses capacit√©s sont beaucoup plus limit√©es que le <code>goto</code> origine.  Et dans la plupart des langues, ce n'est pas du tout.  Que lui est-il arriv√©?  Cette histoire est √©tonnamment pertinente, bien que peu connue de la plupart en raison de son antiquit√©.  Rappelons-nous ce qu'√©tait <code>goto</code> , puis voyons comment cela peut aider dans la programmation asynchrone. </p><br><h1 id="oglavlenie">  Table des mati√®res </h1><br><ul><li>  Qu'est-ce que goto? </li><li>  Qu'est-ce que c'est? </li><li>  Qu'est-il arriv√© √† goto? <br><ul><li>  goto d√©truit l'abstraction </li><li>  Un nouveau monde courageux sans goto </li><li>  Plus de goto </li></ul></li><li>  √Ä propos des dangers des expressions de type ¬´Go¬ª <br><ul><li>  les expressions vont casser les abstractions. </li><li>  les go-expressions interrompent le nettoyage automatique des ressources ouvertes. </li><li>  les expressions go interrompent la gestion des erreurs. </li><li>  Plus besoin d'aller </li></ul></li><li>  La p√©pini√®re en remplacement structurel de go <br><ul><li>  La p√©pini√®re conserve l'abstraction des fonctions. </li><li>  Prise en charge dynamique des t√¢ches d'ajout de p√©pini√®re. </li><li>  Vous pouvez toujours quitter la p√©pini√®re. </li><li>  Vous pouvez identifier de nouveaux types qui charlatanent comme une p√©pini√®re. </li><li>  Non, cependant, les p√©pini√®res attendent toujours la fin de toutes les t√¢ches √† l'int√©rieur. </li><li>  Travaux de nettoyage automatique des ressources. </li><li>  La lev√©e d'insectes fonctionne. </li><li>  Un nouveau monde courageux sans aller </li></ul></li><li>  P√©pini√®res en pratique </li><li>  Conclusions </li><li>  Commentaires </li><li>  Remerciements </li><li>  Notes de bas de page </li><li>  √Ä propos de l'auteur </li><li>  Continuation </li></ul><br><h1 id="chto-takoe-goto">  Qu'est-ce que <code>goto</code> ? </h1><br><p>  Les premiers ordinateurs ont √©t√© programm√©s en utilisant l' <a href="https://ru.wikipedia.org/wiki/%25D0%25AF%25D0%25B7%25D1%258B%25D0%25BA_%25D0%25B0%25D1%2581%25D1%2581%25D0%25B5%25D0%25BC%25D0%25B1%25D0%25BB%25D0%25B5%25D1%2580%25D0%25B0" rel="nofollow">assembleur</a> , ou m√™me plus primitivement.  Ce n'est pas tr√®s pratique.  Ainsi, dans les ann√©es 1950, des gens tels que <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D1%258D%25D0%25BA%25D1%2583%25D1%2581,_%25D0%2594%25D0%25B6%25D0%25BE%25D0%25BD" rel="nofollow">John Backus</a> d'IBM et <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25BE%25D0%25BF%25D0%25BF%25D0%25B5%25D1%2580,_%25D0%2593%25D1%2580%25D0%25B5%25D0%25B9%25D1%2581" rel="nofollow">Grace Hopper</a> de <a href="https://ru.wikipedia.org/wiki/Remington_Rand" rel="nofollow">Remington Rand ont</a> commenc√© √† d√©velopper des langages tels que <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25BE%25D1%2580%25D1%2582%25D1%2580%25D0%25B0%25D0%25BD" rel="nofollow">FORTRAN</a> et <a href="https://en.wikipedia.org/wiki/FLOW-MATIC" rel="nofollow">FLOW-MATIC</a> (mieux connu pour son descendant direct <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B1%25D0%25BE%25D0%25BB" rel="nofollow">COBOL</a> ). </p><br><p>  FLOW-MATIC √©tait tr√®s ambitieux √† l'√©poque.  Vous pouvez le consid√©rer comme l'arri√®re-arri√®re-arri√®re-arri√®re-arri√®re-grand-p√®re de Python - c'√©tait le premier langage d√©velopp√© principalement pour les gens, et le second pour les ordinateurs.  Il ressemblait √† ceci: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/620/bfd/d70/620bfdd7076dd6c0536f75a0dd187cd4.png"></p><br><p>  Notez que contrairement aux langages modernes, il n'y a pas de conditionnel <code>if</code> blocs, des boucles ou des appels de fonction - en fait, il n'y a aucun bloc ou retrait du tout.  Ceci est juste une liste s√©quentielle d'expressions.  Pas parce que ce programme est trop court pour exiger des <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">instructions de</a> contr√¥le (autres que <code>JUMP TO</code> ) - une telle syntaxe n'a pas encore √©t√© invent√©e! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br><p>  Au lieu de cela, FLOW-MATIC avait deux options pour contr√¥ler le flux d'ex√©cution.  Habituellement, le flux √©tait coh√©rent - commencez par le haut et descendez, une expression √† la fois.  Mais si vous ex√©cutez l'expression sp√©ciale <code>JUMP TO</code> , elle pourrait prendre le contr√¥le ailleurs.  Par exemple, expression (13) passe √† expression (2): </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/753/de0/ae9/753de0ae91dc198fa867707d441fc511.png"></p><br><p>  Tout comme avec les primitives du parall√©lisme depuis le d√©but de l'article, il n'y avait pas d'accord sur ce qu'il fallait appeler cette op√©ration de ¬´saut √† sens unique¬ª.  Dans la liste, c'est <code>JUMP TO</code> , mais <code>goto</code> historiquement pris racine (comme "y aller"), que j'utilise ici. </p><br><p>  Voici l'ensemble complet des sauts <code>goto</code> dans ce petit programme: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/32a/127/4f4/32a1274f45c48110468e47083437bf29.png"></p><br><p>  Cela vous semble d√©routant non seulement!  FLOW-MATIC a h√©rit√© de ce style de programmation bas√© sur le saut directement de l'assembleur.  Il est puissant, bien proche de la fa√ßon dont le mat√©riel informatique fonctionne r√©ellement, mais il est tr√®s difficile de travailler directement avec lui.  Cette boule de fl√®ches est √† l'origine de l'invention du terme "code spaghetti". </p><br><p>  Mais pourquoi <code>goto</code> caus√© un tel probl√®me?  Pourquoi certaines d√©clarations de contr√¥le sont-elles bonnes et d'autres non?  Comment choisir les bons?  √Ä l'√©poque, c'√©tait compl√®tement incompr√©hensible et si vous ne comprenez pas le probl√®me, il est difficile √† r√©soudre. </p><br><h1 id="chto-takoe-go">  Qu'est-ce que c'est? </h1><br><p>  √âcartons-nous de notre histoire.  Tout le monde sait que <code>goto</code> √©tait mauvais, mais qu'est-ce que cela a √† voir avec l'asynchronie?  Regardez la c√©l√®bre expression <code>go</code> de Golang, qui est utilis√©e pour engendrer le nouveau "goroutine" (flux l√©ger): </p><br><pre> <code class="plaintext hljs">// Golang go myfunc();</code> </pre> <br><p>  Est-il possible de dessiner un diagramme de son flux d'ex√©cution?  Il est l√©g√®rement diff√©rent du diagramme ci-dessus, car ici le flux est divis√©.  Dessinons-le comme ceci: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7b4/5ed/524/7b45ed524dc3bcd7625f5aaf60497607.png"></p><br><p>  Les couleurs ici sont destin√©es √† montrer que les <em>deux</em> chemins sont choisis.  Du point de vue du goroutine parent (ligne verte) - le <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">flux de contr√¥le est</a> ex√©cut√© s√©quentiellement: il commence par le haut puis descend imm√©diatement.  Pendant ce temps, du point de vue de la fonction descendante (ligne lilas), le flux vient d'en haut puis saute dans le corps de <code>myfunc</code> .  Contrairement √† un appel de fonction normal, il y a un saut √† sens unique - √† partir de <code>myfunc</code> nous <code>myfunc</code> vers une <em>pile</em> compl√®tement nouvelle et le <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2580%25D0%25B5%25D0%25B4%25D0%25B0_%25D0%25B2%25D1%258B%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F" rel="nofollow">runtime</a> oublie imm√©diatement d'o√π nous venons. </p><br><blockquote>  apparemment, je veux dire <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25B5%25D0%25BA_%25D0%25B2%25D1%258B%25D0%25B7%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B2" rel="nofollow">la pile d'appels</a> </blockquote><p>  Mais cela ne s'applique pas seulement √† Golang.  Ce diagramme est vrai pour <em>toutes les</em> primitives (contr√¥les) r√©pertori√©es au d√©but de l'article: </p><br><ul><li>  Les biblioth√®ques de threads retournent g√©n√©ralement une sorte d'objet de contr√¥le qui leur permettra de rejoindre le thread plus tard - mais il s'agit d'une op√©ration ind√©pendante dont le langage lui-m√™me ne sait rien.  La primitive de cr√©ation d'un nouveau thread a le sch√©ma ci-dessus. </li><li>  L'enregistrement de rappel √©quivaut s√©mantiquement √† la cr√©ation d'un thread d'arri√®re-plan (bien qu'il soit √©vident que l'impl√©mentation est diff√©rente), ce qui: <br>  a) est bloqu√© jusqu'√† ce qu'un √©v√©nement se produise, puis <br>  b) lance une fonction de rappel <br>  Ainsi, en termes d'op√©rateurs de contr√¥le de haut niveau, l'enregistrement de rappel est une expression identique √† <code>go</code> . </li><li>  Avec <code>Futures</code> et <code>Promises</code> la m√™me chose - lorsque vous ex√©cutez la fonction et qu'elle renvoie <code>Promise</code> , cela signifie qu'elle a pr√©vu de fonctionner en arri√®re-plan et renvoie un objet de contr√¥le pour obtenir le r√©sultat plus tard (si vous le souhaitez).  Du point de vue de la s√©mantique de gestion, cela revient √† cr√©er un flux.  Apr√®s cela, vous passez le rappel √† Promis, puis comme dans le paragraphe pr√©c√©dent. </li></ul><br><p>  Ce m√™me mod√®le se manifeste sous de nombreuses formes - la similitude cl√© est que dans tous ces cas, le flux de contr√¥le est divis√© - un saut est effectu√© vers le nouveau thread, mais le parent revient √† celui qui l'a appel√©.  Sachant quoi regarder, vous le verrez partout!  C'est un jeu int√©ressant (au moins pour certains types de personnes)! </p><br><p>  Pourtant, cela m'√©nerve qu'il n'y ait pas de nom standard pour cette cat√©gorie d'instructions de contr√¥le.  J'utilise l'expression <strong>¬´go¬ª</strong> pour les appeler, tout comme <strong>¬´goto¬ª</strong> est devenu un terme g√©n√©rique pour toutes les expressions de <code>goto</code> .  Pourquoi <code>go</code> ?  L'une des raisons est que Golang nous donne un exemple tr√®s clair d'une telle syntaxe.  Et l'autre est: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1ad/41c/8e1/1ad41c8e1896e247183cd25d08b353f5.png"></p><br><p>  Remarquez la similitude?  C'est vrai - <strong><code>go</code> est l'une des formes de <code>goto</code> .</strong> </p><br><p>  Les programmes asynchrones sont connus pour la difficult√© d'√©crire et d'analyser.  Ainsi que des programmes bas√©s sur <code>goto</code> .  Les probl√®mes caus√©s par <code>goto</code> pour la plupart r√©solus dans les langues modernes.  Si nous apprenons √† corriger <code>goto</code> , cela aidera-t-il √† cr√©er des API asynchrones plus pratiques?  Voyons! </p><br><h1 id="chto-sluchilos-s-goto">  Qu'est-il arriv√© √† <code>goto</code> ? </h1><br><p>  Alors, quel est le probl√®me avec <code>goto</code> qui cause tant de probl√®mes?  √Ä la fin des ann√©es 60, <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D0%25B9%25D0%25BA%25D1%2581%25D1%2582%25D1%2580%25D0%25B0,_%25D0%25AD%25D0%25B4%25D1%2581%25D0%25B3%25D0%25B5%25D1%2580_%25D0%2592%25D0%25B8%25D0%25B1%25D0%25B5" rel="nofollow">Edsger Wieb Dijkstra a</a> √©crit quelques ouvrages maintenant connus qui ont aid√© √† comprendre cela beaucoup plus clairement: les <a href="http://khpi-iip.mipk.kharkiv.edu/library/extent/dijkstra/pp/ewd215.html" rel="nofollow">arguments contre l'op√©rateur goto</a> et les <a href="http://khpi-iip.mipk.kharkiv.edu/library/extent/dijkstra/ewd249/index.html" rel="nofollow">notes sur la programmation structurelle</a> . </p><br><h2 id="goto-razrushaet-abstrakcii">  <code>goto</code> d√©truit l'abstraction </h2><br><p>  Dans ces travaux, Dijkstra s'est inqui√©t√© de la fa√ßon dont nous √©crivons des programmes non triviaux et garantissons leur exactitude.  Il y a beaucoup de points int√©ressants.  Par exemple, vous avez probablement entendu cette phrase: </p><br><blockquote>  Les programmes de test peuvent montrer la pr√©sence d'erreurs, mais jamais leur absence. </blockquote><p>  Oui, cela provient des <em>notes de programmation structurelle</em> .  Mais sa principale pr√©occupation √©tait l' <em>abstraction</em> .  Il voulait √©crire des programmes trop gros pour les tenir dans leur t√™te.  Pour ce faire, vous devez traiter les parties du programme comme des bo√Ætes noires - par exemple, vous voyez ce programme en Python: </p><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span>)</code> </pre> <br><p>  et vous n'avez pas besoin de conna√Ætre tous les d√©tails du fonctionnement de l' <code>print</code> (formatage des lignes, mise en m√©moire tampon, diff√©rences entre plates-formes, etc.).  Tout ce que vous devez savoir, c'est que l' <code>print</code> imprime en quelque sorte le texte que vous avez transmis et vous pouvez vous concentrer sur ce que vous voulez faire dans ce morceau de code.  Dijkstra voulait que les langues prennent en charge ce type d'abstraction. </p><br><p>  √Ä ce stade, la syntaxe des blocs a √©t√© invent√©e et des langages comme ALGOL ont accumul√© environ 5 types diff√©rents d'instructions de contr√¥le: ils avaient toujours un fil d'ex√©cution s√©quentiel et <code>goto</code> : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br><p>  Et aussi des conditions acquises, des cycles et des appels de fonction: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0d8/de3/a21/0d8de3a217a61b13b2c1f6869f706d6b.png"></p><br><p>  Vous pouvez impl√©menter ces constructions de haut niveau √† l'aide de <code>goto</code> , et c'est ainsi que les gens les consid√©raient auparavant: comme un raccourci pratique.  Mais Dijkstra a soulign√© la grande diff√©rence entre <code>goto</code> et le reste des op√©rateurs de contr√¥le.  Pour tout sauf <code>goto</code> , le fil d'ex√©cution </p><br><ul><li>  vient d'en haut =&gt; [quelque chose se passe] =&gt; le flux vient d'en bas </li></ul><br><p>  Nous pouvons appeler cela la ¬´r√®gle de la bo√Æte noire¬ª - si la structure de contr√¥le (op√©rateur de contr√¥le) a cette forme, alors dans une situation o√π vous n'√™tes pas int√©ress√© par les d√©tails √† l'int√©rieur, vous pouvez ignorer la partie ¬´quelque chose se passe¬ª et traiter le bloc comme avec une s√©rie r√©guli√®re √©quipe.  Encore mieux, cela est vrai pour tout code compos√© de ces blocs.  Quand je regarde: </p><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span>)</code> </pre> <br><p>  Je n'ai pas besoin de lire les sources d' <code>print</code> et toutes ses d√©pendances pour comprendre o√π ira le fil d'ex√©cution.  Peut-√™tre qu'√† l'int√©rieur de <code>print</code> il y a une boucle, et qu'il y a une condition dans laquelle il y a un appel √† une autre fonction ... ce n'est pas important - je sais que le thread ira √† <code>print</code> , la fonction fera son travail, et finalement le thread reviendra au code que je J'ai lu. </p><br><p>  Mais si vous avez un langage avec <code>goto</code> - un langage o√π les fonctions et tout le reste est construit sur la base de <code>goto</code> , et <code>goto</code> peut sauter n'importe o√π, n'importe quand - alors ces structures ne sont pas du tout des bo√Ætes noires!  Si vous avez une fonction avec une boucle, √† l'int√©rieur de laquelle il y a une condition, et √† l'int√©rieur, il y a <code>goto</code> ... alors ce <code>goto</code> peut passer l'ex√©cution n'importe o√π.  Peut-√™tre que le contr√¥le reviendra soudainement compl√®tement d'une autre fonction que vous n'avez m√™me pas appel√©e!  Tu ne sais pas! </p><br><p>  Et cela rompt l'abstraction - <em>n'importe quelle fonction peut avoir un potentiel <code>goto</code> int√©rieur, et la seule fa√ßon de savoir si c'est le cas est de garder √† l'esprit tout le code source de votre syst√®me.</em>  Une fois que le langage est <code>goto</code> , vous ne pouvez pas pr√©dire le flux d'ex√©cution.  C'est <em>pourquoi</em> <code>goto</code> m√®ne au code spaghetti. </p><br><p>  Et d√®s que Dijkstra a compris le probl√®me, il a pu le r√©soudre.  Voici son hypoth√®se r√©volutionnaire - nous ne devons pas consid√©rer les conditions / boucles / appels de fonction comme des abr√©viations pour <code>goto</code> , mais comme des primitives fondamentales avec nos droits - et nous devons supprimer compl√®tement <code>goto</code> de nos langages. </p><br><p>  √Ä partir de 2018, cela semble assez √©vident.  Mais comment les programmeurs r√©agissent-ils lorsque vous essayez de r√©cup√©rer leurs jouets dangereux?  En 1969, la proposition de Dijkstra semblait incroyablement douteuse.  <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BD%25D1%2583%25D1%2582,_%25D0%2594%25D0%25BE%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25B4_%25D0%25AD%25D1%2580%25D0%25B2%25D0%25B8%25D0%25BD" rel="nofollow">Donald Knuth a</a> <a href="https://scholar.google.com/scholar%3Fcluster%3D17147143327681396418%26hl%3Den%26as_sdt%3D0,5" rel="nofollow">d√©fendu</a> <code>goto</code> .  Les gens qui sont devenus des experts en codage avec <code>goto</code> √©taient √† juste titre indign√©s de devoir r√©apprendre √† exprimer leurs id√©es en termes nouveaux et plus restrictifs.  Et bien s√ªr, il a fallu cr√©er des langages compl√®tement nouveaux. </p><br><p>  En cons√©quence, les langues modernes sont un peu moins strictes que la formulation originale de Dijkstra. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/385/9c2/6dc/3859c26dcf65e23a85415a039974645f.jpg"></p><br><blockquote>  √Ä gauche: <code>goto</code> traditionnel.  √Ä droite: <code>goto</code> domestiqu√©, comme en C, C #, Golang, etc.  Ne pas franchir les limites d'une fonction signifie qu'il peut toujours faire pipi sur vos chaussures, mais il est peu probable qu'il vous d√©chire. </blockquote><p>  Ils vous permettent de sauter les niveaux d'imbrication des instructions de contr√¥le structurel √† l'aide des instructions <code>break</code> , <code>continue</code> ou <code>return</code> .  Mais √† un niveau de base, ils sont tous construits autour de l'id√©e de Dijkstra et peuvent perturber le flux s√©quentiel d'ex√©cution de mani√®re strictement limit√©e.  En particulier, les fonctions - un outil fondamental pour envelopper un thread d'ex√©cution dans une bo√Æte noire - sont indestructibles.  Vous ne pouvez pas ex√©cuter la commande <code>break</code> d'une fonction √† une autre et <code>return</code> ne peut pas vous renvoyer plus loin que la fonction actuelle.  Aucune manipulation du thread d'ex√©cution √† l'int√©rieur de la fonction n'affectera les autres fonctions. </p><br><p>  Et les langages qui pr√©servaient l'op√©rateur <code>goto</code> (C, C #, Golang, ...) le limitaient fortement.  Au minimum, ils ne vous permettent pas de sauter du corps d'une fonction √† une autre.  Si vous n'utilisez pas Assembler [2], le <code>goto</code> classique et illimit√© appartient au pass√©.  Dijkstra a gagn√©. </p><br><h2 id="divnyy-novyy-mir-bez-goto">  Un nouveau monde courageux sans goto </h2><br><p>  Quelque chose d'int√©ressant s'est produit avec la disparition de <code>goto</code> - les cr√©ateurs de langage ont pu commencer √† ajouter de nouvelles fonctionnalit√©s bas√©es sur un flux d'ex√©cution structur√©. </p><br><p>  Par exemple, Python a une syntaxe sympa pour effacer automatiquement les ressources - <a href="https://pythonworld.ru/osnovy/with-as-menedzhery-konteksta.html" rel="nofollow">un gestionnaire de contexte</a> .  Vous pouvez √©crire: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Python with open("my-file") as file_handle: some code</span></span></code> </pre> <br><p>  et cela garantit que le fichier sera ouvert au moment de l'ex√©cution <code>some code</code> mais apr√®s cela - imm√©diatement ferm√©.  La plupart des langages modernes ont des √©quivalents ( <a href="https://rurust.github.io/rust-by-example-ru/scope/raii.html" rel="nofollow">RAII</a> , <code>using</code> , try-with-resource, <code>defer</code> , ...).  Et ils supposent tous que le flux de contr√¥le est en ordre.  Et que se passe-t-il si nous sautons dans le bloc <code>with</code> utilisant <code>goto</code> ?  Le fichier est-il ouvert ou non?  Et si nous sautions de l√† au lieu de partir comme d'habitude? </p><br><blockquote>  une fois le code √† l'int√©rieur du bloc termin√©, <code>with</code> d√©marre la <code>__exit__()</code> qui ferme les ressources ouvertes, telles que les fichiers et les connexions. </blockquote><p>  Le fichier se fermera-t-il?  Dans <code>goto</code> , les gestionnaires de contexte ne fonctionnent tout simplement pas de mani√®re claire. </p><br><p>  Le m√™me probl√®me avec la gestion des erreurs - en cas de probl√®me, que doit faire le code?  Souvent - envoyez une description de l'erreur dans la pile (d'appels) au code appelant et laissez-le d√©cider quoi faire.  Les langages modernes ont des constructions sp√©cifiquement pour cela, telles que les exceptions ou d'autres formes de <a href="https://doc.rust-lang.ru/stable/rust-by-example/error/result/enter_question_mark.html" rel="nofollow">g√©n√©ration automatique d'erreurs</a> .  Mais cette aide n'est disponible que si la langue a une pile d'appels et un concept "d'appel" robuste.  Rappelez-vous les spaghettis dans l'exemple de flux dans l'exemple FLOW-MATIC et imaginez l'exception lev√©e au milieu.  D'o√π peut-il m√™me venir? </p><br><h2 id="bolshe-nikakih-goto">  Plus de <code>goto</code> </h2><br><p>  Ainsi, le <code>goto</code> traditionnel - qui ignore les limites des fonctions - est mauvais non seulement parce qu'il est difficile √† utiliser correctement.  Si seulement cela, <code>goto</code> aurait pu rester - de nombreuses constructions de mauvais langage sont rest√©es. </p><br><p>  Mais m√™me la fonction tr√®s <code>goto</code> du langage rend <em>tout</em> plus compliqu√©.  Les biblioth√®ques tierces ne peuvent pas √™tre consid√©r√©es comme une bo√Æte noire - sans conna√Ætre la source, vous ne pouvez pas d√©terminer quelles fonctions sont normales et lesquelles contr√¥lent de mani√®re impr√©visible le flux d'ex√©cution.  Il s'agit d'un obstacle majeur √† la pr√©diction du comportement du code local.  Des fonctionnalit√©s puissantes telles que les gestionnaires de contexte et les fen√™tres contextuelles d'erreur automatiques sont √©galement perdues.  Il est pr√©f√©rable de supprimer compl√®tement <code>goto</code> , au profit des op√©rateurs de contr√¥le qui prennent en charge la r√®gle de la bo√Æte noire. </p><br><h1 id="o-vrede-vyrazheniy-tipa-go">  √Ä propos des dangers d'expressions comme "Go" </h1><br><p>  Nous avons donc regard√© l'histoire de <code>goto</code> .  Mais est-ce applicable √† l'op√©rateur <code>go</code> ?  Eh bien ... dans l'ensemble!  L'analogie est d'une pr√©cision choquante. </p><br><h2 id="go-vyrazheniya-lomayut-abstrakcii">  les expressions vont casser les abstractions. </h2><br><p>  Rappelez-vous comment nous avons dit que si le langage autorise <code>goto</code> , alors n'importe quelle fonction peut cacher <code>goto</code> en soi?  Dans la plupart des frameworks asynchrones, les expressions <code>go</code> conduisent au m√™me probl√®me - n'importe quelle fonction peut (ou non) ex√©cuter la t√¢che en arri√®re-plan.  Il semble que la fonction ait renvoy√© le contr√¥le, mais fonctionne-t-elle toujours en arri√®re-plan?  Et il n'y a aucun moyen de le savoir sans lire la source de la fonction et tout ce qu'elle appelle.  Et quand cela se terminera-t-il?  C'est difficile √† dire.  Si vous avez <code>go</code> et ses analogues, alors les fonctions ne sont plus des bo√Ætes noires qui respectent le flux d'ex√©cution.  Dans mon premier article sur <a href="https://vorpus.org/blog/some-thoughts-on-asynchronous-api-design-in-a-post-asyncawait-world/" rel="nofollow">les API asynchrones</a> , j'ai appel√© cela une ¬´violation de causalit√©¬ª et j'ai constat√© que c'√©tait la cause premi√®re de nombreux probl√®mes r√©els et courants dans les programmes utilisant <code>asyncio</code> et Twisted, tels que les probl√®mes de contr√¥le de flux, les probl√®mes d'arr√™t corrects, etc. </p><br><blockquote>  Il s'agit du contr√¥le du flux de donn√©es entrant et sortant du programme.  Par exemple, le programme re√ßoit des donn√©es √† une vitesse de 3 Mo / s et part √† une vitesse de 1 Mo / s, et en cons√©quence le programme consomme de plus en plus de m√©moire, voir <a href="https://vorpus.org/blog/some-thoughts-on-asynchronous-api-design-in-a-post-asyncawait-world/" rel="nofollow">un autre article de l'auteur</a> </blockquote><br><h2 id="go-vyrazheniya-lomayut-avtoochistku-otkrytyh-resursov">  les go-expressions interrompent le nettoyage automatique des ressources ouvertes. </h2><br><p>  Jetons √† nouveau un exemple <code>with</code> d√©claration: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Python with open("my-file") as file_handle: some code</span></span></code> </pre> <br><p>  Plus t√¥t, nous avons dit que nous √©tions ¬´garantis¬ª que le fichier serait ouvert pendant que <code>some code</code> fonctionnaient, et ferm√© apr√®s.  Mais que faire si <code>some code</code> d√©marre une t√¢che en arri√®re-plan?    : ,  <em></em> ,     <code>with</code> ,      <em></em>   <code>with</code> ,   ,    ,      .  ,       ;   ,       ,   <code>some code</code> . </p><br><p>   ,     ,   -      ,   ,        . </p><br><blockquote>       ,   Python  <code>threading</code> ‚Äî       ,        ,          ‚Äî   ,    <code>with</code> </blockquote><p>  ,    ,     ,     (       ).     ,        .     ,     . </p><br><h2 id="go-vyrazheniya-lomayut-obrabotku-oshibok"> go-   . </h2><br><p>    ,     ,    (exceptions),          .        " ".         ,   .  ,      ,  .      ,       ,   ‚Ä¶      ,      .   ,   -  . (   ,   ,   " -   "     ‚Äî     ;      .)  Rust ‚Äî , ,        -     ‚Äî    .     (thread) , Rust <a href="https://doc.rust-lang.org/std/thread/" rel="nofollow">     </a> . </p><br><p> ,  <em></em>      ,  join         ,   <a href="https://twistedmatrix.com/documents/current/core/howto/defer.html" rel="nofollow">errbacks  Twisted</a>  <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch" rel="nofollow">Promise.catch  Javascript</a> .     ,   ,     .     ,  Traceback  .       <code>Promise.catch</code>       . </p><br><p>      ,       . </p><br><h2 id="bolshe-nikakih-go">   <code>go</code> </h2><br><p> ,  <code>goto</code>        , go-         ‚Äî    ,    ,   ,      .  ,   <code>goto</code> ,     ,     <code>go</code>        . </p><br><p>    ,     ,     !  : </p><br><ul><li>    <code>go</code> -,    ,   "  ", </li><li>        ,    <code>go</code> -. </li></ul><br><p>   ,   <a href="https://trio.readthedocs.io/en/stable/" rel="nofollow">Trio</a> . </p><br><h1 id="pitomnik-kak-strukturnaya-zamena-go">     <code>go</code> </h1><br><p>   :  ,        ,   ,    . ,       ,       : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b13/280/671/b13280671e22430f5417a99dde464344.png"></p><br><p> ,      ,     ,     "  " . </p><br><p>         ?     " " ,  </p><br><p> )      ,   ,    (      ),  <br> )       ,             . </p><br><p>       .   ,        - .      ,       .. [3] </p><br><p>     : ,  ,        ,     <strong>""</strong> ,    .  Trio   ,    <code>async with</code> : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/22b/0fe/266/22b0fe2660255eede7befcff37f099b9.png"></p><br><p>       ,   <code>as nursery</code>     <code>nursery</code> .      <code>nursery.start_soon()</code> ,    () :      <code>myfunc</code>  <code>anotherfunc</code> .     <em></em> .     ,   ,    () ,   ,   . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/cbb/a00/adc/cbba00adc39a2f528626284bbf4a7e55.png"></p><br><p>  ,    ,        ‚Äî        ,    ,       .   ,   . </p><br><blockquote> ,     . </blockquote><p>              : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/017/9df/9f1/0179df9f11831897e5e231edc5d43a20.png"></p><br><p>     ,     .  En voici quelques uns: </p><br><h2 id="pitomnik-sohranyaet-abstrakciyu-funkciy">    . </h2><br><p>   go- ‚Äî    , ,      ,      .         ‚Äî          ,      ,     .      ,  ,    . </p><br><h2 id="pitomnik-podderzhivayut-dinamicheskoe-dobavlenie-zadach">     . </h2><br><p>    ,        .         : </p><br><pre> <code class="go hljs">run_concurrently([myfunc, anotherfunc])</code> </pre> <br><blockquote> async.gather  Python, Promise.all  Javascript,  .. </blockquote><p>    ,        ,    ,    . ,       <code>accept</code> ,             . <br>   <code>accept</code>   Trio: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> trio.open_nursery() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery: <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: incoming_connection = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> server_socket.accept() nursery.start_soon(connection_handler, incoming_connection)</code> </pre> <br><p>    ,   ,  <code>run_concurrently</code>    .   ,    <code>run_concurrently</code>    ‚Äî    ,     ,   <code>run_concurrently</code> ,     . </p><br><h2 id="iz-pitomnika-vsyo-eschyo-mozhno-vyyti">      . </h2><br><p>     .      ,    ,      ? :      .  ,    <code>async with open_nursery()</code>   <code>nursery.start_soon()</code> , ‚Äî    [4], ,     ,      .       ,    ,  . </p><br><p>    ,     ,  " ",    : </p><br><ul><li>     ,     ,      ,     ,    ,    . </li><li>         ,   . </li><li>        ,    . </li></ul><br><p>          ,              . </p><br><p>    ,    ,  go-,       . </p><br><h2 id="vy-mozhete-opredelit-novye-tipy-kotorye-kryakayut-kak-pitomnik">     ,    . </h2><br><p>      ,     - .                ,    ,   .            : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> my_supervisor_library.open_supervisor() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> nursery_alike: nursery_alike.start_soon(...)</code> </pre> <br><p>       ,       ,     .  . </p><br><p>  Trio     ,  <code>asyncio</code>    : <code>start_soon()</code>   ,     <code>Future</code> (     ,       <code>Future</code> ).  ,        ( ,   Trio   <code>Future</code> !),       . </p><br><h2 id="net-pravda-pitomniki-vsegda-zhdut-okonchaniya-vseh-zadach-vnutri"> , ,  <em></em>     . </h2><br><p>           ,     ,   ‚Äî     ‚Äî   . </p><br><p>  Trio,          .     ,   ,    " " ( <a href="https://trio.readthedocs.io/en/latest/reference-core.html" rel="nofollow"></a> ),   <code>Cancelled</code> .  ,        ,    <em></em> ‚Äî   - ,      " ",        ,    ..   ,   ,    .  <em></em>   ,       ,   <em></em>        ,      . </p><br><h2 id="rabotaet-avtomaticheskaya-ochistka-resursov">    . </h2><br><p>     "  ",  <code>with</code>  . ,      <code>with</code>     ,      . </p><br><h2 id="rabotaet-podnyatie-oshibok">   . </h2><br><p>   ,    ,       .      . </p><br><p>  Trio,     ,         ‚Ä¶    -    .      ,      .   ,   ‚Äî     " " ‚Äî     ,     <code>myfunc</code>  <code>anotherfunc</code> ,       .         ,  ,       . </p><br><p> ,    :    (re-raise)    ,    .    ,       </p><br><blockquote>  " " ,  ,      ,     ,   ,   . </blockquote><p>    ,       ,      .    ? </p><br><p>  ‚Äî    ( )   ,                .   ,      ,            ,      ,   . </p><br><p>   ,         ,    -          ( <a href="https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-cancellation" rel="nofollow">task cancellation</a> ).        C#  Golang,                ‚Äî       . </p><br><h2 id="divnyy-novyy-mir-bez-go">     <code>go</code> </h2><br><p>  <code>goto</code>           ,        <code>with</code>  ;  <code>go</code> -   .  Par exemple: </p><br><ul><li>        ,   ,   ,       . ( : <a href="https://vorpus.org/blog/timeouts-and-cancellation-for-humans/" rel="nofollow">    -</a> ) </li><li>  ‚Äî  Python    ,  <code>ctrl-C</code>    ( <a href="https://vorpus.org/blog/control-c-handling-in-python-and-trio/" rel="nofollow"></a> ).    ,         . </li></ul><br><h1 id="pitomniki-na-praktike">    </h1><br><p> ,   .      ? </p><br><p> ‚Ä¶   :     ! ,     ,     .       ,          , ,         <code>break</code>  <code>continue</code> . </p><br><p>        ,      .   <a href="https://stackoverflow.com/questions/48282841/in-trio-how-can-i-have-a-background-task-that-lives-as-long-as-my-object-does" rel="nofollow">     </a> ‚Äî  ,   1970   ,     <code>goto</code> . </p><br><p>      .    (Knuth, 1974, .275): </p><br><blockquote>   ,         <code>goto</code> ,  ,  " "            <code>goto</code> .  <code>goto</code>   !    ,       ,        <code>goto</code> ,          . ,     ,      . ,      ‚Äî ,     ‚Äî    "goto" . </blockquote><p>        :    .    ,   ,         .     ,     ,      .  ,    ,     . </p><br><p> ,    Happy Eyeballs ( <a href="https://tools.ietf.org/html/rfc8305" rel="nofollow">RFC 8305</a> ),       TCP . ,   ‚Äî     ,   ,     .     <a href="https://github.com/twisted/twisted/compare/trunk...glyph:statemachine-hostnameendpoint" rel="nofollow"> Twisted </a> ‚Äî   600    Python       <a href="https://twistedmatrix.com/trac/ticket/9345" rel="nofollow">  </a> .      15 .  ,        ,  ,       .           ,   ,       .    ,  <a href="https://www.youtube.com/watch%3Fv%3Di-R704I8ySE" rel="nofollow"> </a> .    ?  .   . </p><br><h1 id="vyvody">  Conclusions </h1><br><p>     ‚Äî  <code>go</code> ,   , , <code>Futures</code> , <code>Promises</code> ,‚Ä¶   ‚Äî   <code>goto</code> ,    .      <code>goto</code> ,    -- <code>goto</code> ,    .   ,      ,                 ;      ,        . ,   <code>goto</code> ,       . </p><br><p>      ,      ,    (         <code>CTRL+C</code> )        ,    . </p><br><p>  ,     ,     ,  ,        ‚Äî  ,   <code>goto</code>    .       FLOW-MATIC   ,    ,     - .   ,       ,  <a href="https://trio.readthedocs.io/en/stable/" rel="nofollow">Trio</a> ,      ,   . </p><br><h1 id="kommentarii">  Commentaires </h1><br><p>   <a href="https://trio.discourse.group/t/discussion-thread-notes-on-structured-concurrency-or-go-statement-considered-harmful/25" rel="nofollow">     Trio</a> . </p><br><blockquote>       : <br><ul><li>    "What colour is your function?", <a href="https://habr.com/ru/post/466337/"></a> </li><li>     : <a href="https://lukasa.co.uk/2016/07/The_Function_Colour_Myth/" rel="nofollow">The Function Colour Myth</a> </li></ul><br><br>   Trio  : <a href="https://trio.discourse.group/" rel="nofollow">https://trio.discourse.group/</a> </blockquote><br><h1 id="blagodarnosti">  Remerciements </h1><br><p>   Graydon Hoare, Quentin Pradet, and Hynek Schlawack      .   ,  ,    . </p><br><blockquote>    <a href="https://habr.com/users/berez/">berez</a>     . </blockquote><p>  :  FLOW-MATIC   <a href="http://archive.computerhistory.org/resources/text/Remington_Rand/Univac.Flowmatic.1957.102646140.pdf" rel="nofollow"> </a> (PDF),  <a href="http://www.computerhistory.org/collections/catalog/102646140" rel="nofollow">  </a> . </p><br><p> Wolves in Action,  Martin Pannier,   <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/" rel="nofollow">CC-BY-SA 2.0</a> , . <br> <a href="https://pixabay.com/en/french-bulldog-pet-dog-funny-2427629/" rel="nofollow"> </a> ,  Daniel Borker,   <a href="https://creativecommons.org/publicdomain/zero/1.0/" rel="nofollow">CC0 public domain dedication</a> . </p><br><h1 id="snoski">  </h1><br><p> [2]  WebAssembly  ,          <code>goto</code> : <a href="https://www.w3.org/TR/wasm-core-1/" rel="nofollow"></a> , <a href="" rel="nofollow"></a> </p><br><p> [3]  ,        ,   ,       ,       : <br> The "parallel composition" operator in Cooperating/Communicating Sequential Processes and Occam, the fork/join model, Erlang supervisors,  Martin S√∫strik's  <a href="http://250bpm.com/blog:71" rel="nofollow"> </a>    <a href="https://github.com/sustrik/libdill" rel="nofollow">libdill</a> ,  <a href="https://docs.rs/crossbeam/0.3.2/crossbeam/struct.Scope.html" rel="nofollow">crossbeam::scope</a> / <a href="https://docs.rs/rayon/1.0.1/rayon/fn.scope.html" rel="nofollow">rayon::scope</a>  Rust.         <a href="https://godoc.org/golang.org/x/sync/errgroup" rel="nofollow">golang.org/x/sync/errgroup</a>  <a href="https://godoc.org/github.com/oklog/run" rel="nofollow">github.com/oklog/run</a>  Golang. <br>   ,    - . </p><br><p> [4]   <code>start_soon()</code>  ,   ,  <code>start_soon</code>  ,    ,    ,     .       ,         . </p><br><h1 id="ob-avtore">  √Ä propos de l'auteur </h1><br><p> <a href="https://vorpus.org/" rel="nofollow">Nathaniel J. Smith</a> , Ph.D.,   UC Berkeley   <code>numpy</code> ,        Python    .  Nathaniel                . </p><br><h1 id="prodolzhenie">  </h1><br><p>             : </p><br><ul><li> <a href="https://habr.com/ru/post/466337/">   </a> ,  Bob Nystrom      </li><li> <a href="https://habr.com/ru/post/466337/"></a>        ,  <a href="https://habr.com/ru/post/466337/"></a>  golang </li><li>  <a href="https://habr.com/ru/post/469441/"> </a> ,   <a href="https://habr.com/ru/users/PsyHaSTe/">PsyHaSTe</a>       Haskell, Golang  C# </li><li>          : <a href="https://habr.com/ru/post/469441/">Go</a> , <a href="https://habr.com/ru/post/469441/">Go</a> , <a href="https://habr.com/ru/post/469441/">python</a> , <a href="https://habr.com/ru/post/469441/">C#</a> (,     JS) </li></ul><br><p>  ,  ,   ,  Haskell      ,      ,           . </p><br><p>       ( <a href="https://habr.com/ru/users/yourock/"> </a> , <a href="https://habr.com/ru/users/0xd34df00d/"> 0xd34df00d</a> , <a href="https://habr.com/ru/users/PsyHaSTe/"></a> )    ,       ( <a href="https://tools.ietf.org/html/rfc8305" rel="nofollow">Happy Eyeballs</a> ),         . </p><br><p>  ,  Trio  ?   Haskell  Golang    ? </p><br><p> <strong> :</strong> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479186/">https://habr.com/ru/post/fr479186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479176/index.html">Modders a pass√© 15 ans √† r√©parer les Chevaliers de l'Ancienne R√©publique 2</a></li>
<li><a href="../fr479178/index.html">D√©nonymisation des transactions de jeux de donn√©es elliptiques</a></li>
<li><a href="../fr479180/index.html">Cr√©ation de Discord - bot sur .NET Core avec d√©ploiement sur serveur VPS</a></li>
<li><a href="../fr479182/index.html">La pratique de la pr√©paration de mots √©trangers avec voix agissant pour la m√©morisation dans le programme Anki</a></li>
<li><a href="../fr479184/index.html">R√©solution de probl√®mes avec pwnable.kr 26 - ascii_easy. Nous traitons les gadgets ROP √† partir de z√©ro une fois pour toutes</a></li>
<li><a href="../fr479188/index.html">La somme de tous les nombres naturels: 1 + 2 + 3 + 4 + .... 2e partie</a></li>
<li><a href="../fr479192/index.html">Hyperviseur de st√©ro√Ødes: FreeBSD + ZFS + cbsd</a></li>
<li><a href="../fr479196/index.html">La plupart des superordinateurs utilisent Linux - discutez de la situation</a></li>
<li><a href="../fr479200/index.html">Compression d'image fractale</a></li>
<li><a href="../fr479202/index.html">C ++ et m√©thodes num√©riques: int√©gration approximative de Newton-Cotes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>