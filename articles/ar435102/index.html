<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ป ๐จ๐ผโโ๏ธ โ ููููุง ุนู ุงูุชุญููู ุงููุนุฌูู ๐๐ฝ ๐ฉโโ๏ธ ๐ช๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฐุงุช ูุฑุฉ ุ ุนูุฏูุง ูุงูุช ุงูุณูุงุก ุฒุฑูุงุก ุ ูุงู ุงูุนุดุจ ุฃูุซุฑ ุฎุถุฑุฉ ูุชุฌููุช ุงูุฏููุงุตูุฑุงุช ุนูู ุงูุฃุฑุถ ... ูุง ุ ุงูุณูุง ุงูุฏููุงุตูุฑุงุช. ุญุณููุง ุ ุจุดูู ุนุงู ุ ูุงูุช ุงูููุฑุฉ ุชุชุจุงุฏุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุง ุนู ุงูุชุญููู ุงููุนุฌูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435102/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/93/ob/36/93ob36rkepacsoqhbmlu4bj3g0q.png"><br><br>  ุฐุงุช ูุฑุฉ ุ ุนูุฏูุง ูุงูุช ุงูุณูุงุก ุฒุฑูุงุก ุ ูุงู ุงูุนุดุจ ุฃูุซุฑ ุฎุถุฑุฉ ูุชุฌููุช ุงูุฏููุงุตูุฑุงุช ุนูู ุงูุฃุฑุถ ... ูุง ุ ุงูุณูุง ุงูุฏููุงุตูุฑุงุช.  ุญุณููุง ุ ุจุดูู ุนุงู ุ ูุงูุช ุงูููุฑุฉ ุชุชุจุงุฏุฑ ุฅูู ุงูุฐูู ูุชุดุชุช ุงูุงูุชุจุงู ุนู ุจุฑูุฌุฉ ุงูููุจ ุงูููุงุณูุฉ ูุงูููุงู ุจุดูุก ุฃูุซุฑ ุฌููููุง.  ุจุงูุทุจุน ุ ูููู ุฃู ูููู ุฃู ุดูุก ุ ููู ุงูุฎูุงุฑ ููุน ุนูู ูุชุงุจุฉ ูุชุฑุฌูู ุงูุฎุงุต.  ูุงุฐุง ูููููู ุฃู ุฃููู ... <i>ูุง ุชูุชุจ ุฃุจุฏูุง ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจู</i> .  ููููู ุงูุชุณุจุช ุจุนุถ ุงูุฎุจุฑุฉ ูู ูู ูุฐุง ุ ูุฐูู ูุฑุฑุช ุฃู ุฃุดุงุฑูู.  ุฏุนูุง ูุจุฏุฃ ูุน ุงูุฃุณุงุณ - lexer. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h2><br>  ูุจู ุฃู ุชุจุฏุฃ ูู ููู ููุน "lexer" ุงูุญููุงูู ุ ูู ุงูุฌุฏูุฑ ูุนุฑูุฉ ูุง ุชุตูุนู YaPs. <br><br>  ูู ุงูุนุงูู ุงูุญุฏูุซ ุ ูุชู ุชูุณูู ูู ูุชุฑุฌู / ูุชุฑุฌู / ูุชุฑุฌู / ุดูุก ูุง-ูุซูู (ุฏุนูุง ุ ุณุฃุทูู ุนููู ุจุจุณุงุทุฉ "ูุชุฑุฌู" ุฅุถุงูู ุ ุฏูู ุชูููุฒ ุจูู ุงูุฃููุงุน) ุฅูู ูุณููู.  ูู ูุตุทูุญุงุช ุงูุฃุนูุงู ุงูุฐููุฉ ุ ุชุณูู ูุฐู ุงููุทุน "ุงููุงุฌูุฉ ุงูุฃูุงููุฉ" ู "ุงููุงุฌูุฉ ุงูุฎูููุฉ".  ูุง ุ ูุฐุง ููุณ ุนูู ุงูุฅุทูุงู ูุง ุ ุนูุฏ ุงูุนูู ูุน ุงูููุจ ุ ูุง ุงุนุชุฏูุง ุนูู ุงูุงุชุตุงู ุจู ููู ุชุชู ูุชุงุจุฉ ุงููุงุฌูุฉ ูู JS ุจุงุณุชุฎุฏุงู HTML.  ุนูู ุงูุฑุบู ูู ... ุญุณูุง. <br><br>  ุชุชูุซู ูููุฉ ุงููุงุฌูุฉ ุงูุฃููู ูู ุฃุฎุฐ <b>ุงููุต</b> ูุชุญูููู ุฅูู <b>AST</b> (ุดุฌุฑุฉ ุจูุงุก ุฌููุฉ ูุฌุฑุฏุฉ) ุ ูุงูุชุญูู ูู ุจูุงุก ุงูุฌููุฉ (ูุฃุญูุงููุง ุฏูุงูุงุช) ูู ุงูุทุฑูู.  ูููุฉ ุงููุงุฌูุฉ ุงูุฎูููุฉ ุงูุซุงููุฉ ูู ุฌุนู ูู ุดูุก ูุนูู.  ุฅุฐุง ุชู ุชุฌููุน ุงูุดูุฑุฉ ุฏุงุฎู ุงููุชุฑุฌู ุงูููุฑู ุ ูุฅู AST ุชูุดุฆ ูุฌููุนุฉ ูู ุงูุฅุฑุดุงุฏุงุช ูููุนุงูุฌ ุงูุธุงูุฑู (ุงูุฌูุงุฒ ุงูุธุงูุฑู) ุ ุฅุฐุง ูุงู ุงููุชุฑุฌู ุ ุซู ูุฌููุนุฉ ุงูุฅุฑุดุงุฏุงุช ูููุนุงูุฌ ุงูุญูููู.  ูู ุงูุญูุงุฉ ุ ูู ุดูุก ุฃูุซุฑ ุชุนููุฏูุง ููุฏ ูุง ูุชู ุชูููุฐู ุนูู ูุฐุง ุงููุญู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ูุฏูู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู ุ ูุชู ุฎูุท ูู ุดูุก ุ ููู Clang ุฃุตุจุญ ุจุงููุนู ุฃูุซุฑ ูุดุงุทูุง ุ LLVM ูู ููุซู ูููุฐุฌู ูู "ุงููุงุฌูุฉ ุงูุฎูููุฉ" ูููุชุฑุฌููู. <br><br><img src="https://habrastorage.org/webt/un/ai/wa/unaiwa1kmx5jci6uxnhngor5ozs.png"><br><br>  ุงูุขู ุฏุนููุง ูุชุนุฑู ุนูู ูุทุนุฉ ุชุณูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญููู ูุนุฌูู </h2><br>  ูููุฉ lexer ููุฑุญูุฉ ุงูุชุญููู ุงููุนุฌููุฉ ูู ุงูุญุตูู ุนูู ุงูุนุฏูุฏ ูู ุงูุฑุณุงุฆู ุนูุฏ ุงููุฏุฎู ูุชุฌููุนูุง ูู ุจุนุถ ุงููุฆุงุช - "ุงูุฑููุฒ".  ูุฐูู ุ ูุฅู ุงูุชุญููู ุงููุนุฌูู ูุณูู ุฃูุถุง "ุฑูุฒูุฉ".  ูุฐู ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ูุนุงูุฌุฉ ุงููุตูุต ุงูุชู ููุชุฌูุง ูู ูุชุฑุฌู ููุฌูุฏ. <br><br>  ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="php hljs">$tokens = [<span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>]; var_dump(lex(<span class="hljs-string"><span class="hljs-string">'class Example {}'</span></span>, $tokens)); <span class="hljs-comment"><span class="hljs-comment">// array(4) { // [0] =&gt; string(5) "class" // [1] =&gt; string(7) "Example" // [2] =&gt; string(1) "{" // [3] =&gt; string(1) "}" // }</span></span></code> </pre> <br>  ุจุงูููุงุณุจุฉ ุ ููุฏ ูุชุจูุง ููุง ุจุงููุนู ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ูุฌุนู ุงูุญูุงุฉ ุฃุณูู.  ููุณ ูุธุงุฆู <i>preg</i> ุงูุชู ุงุนุชุฏูุง ุงุณุชุฎุฏุงููุง ูู ุชุญููู ุงููุต <i>ูุงุฏุฑุฉ</i> ุชูุงููุง <i>ุนูู</i> ูุฐู ุงููููุฉ.  ููุน ุฐูู ุ ููุงู ุฃุฏูุงุช ุฃูุซุฑ ููุงุกูุฉ ููุฐู ุงููุณุฃูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุณู</a> ุ ูู ุชุฃููู ููููุชุง ุจูุจูู. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ูุฌููุนุฉ ุฃุฏูุงุช ุชุชููู ูู Lexer + Parser + Grammar. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Port Yacc</a> ุ ูุชุจู ุฃูุชููู ููุฑุงุฑุง ุ ููู ุฃูุถูุง ูุฌููุนุฉ ุฃุฏูุงุช ูุนูุฏุฉ ุ ูุงูุฐู ูุชุจ ุนููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญูู</a> Popov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PHP</a> ุงููุนุฑูู ุ ูุงูุฐู ููุทุจู ุนูู ุงูุฃุฏูุงุช ุงูุชู ุชุณุชุฎุฏู ุชุญููู ุงูููุฏ. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Railt Lexer ุชุทุจููู</a> ูู PHP 7.1+ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Parle</a> ูู ุงูุชุฏุงุฏ ูู PHP ูุณูุญ ุจูุฌููุนุฉ ูุญุฏูุฏุฉ ูู ุชุนุจูุฑุงุช PCRE (ุจุฏูู ูุงุฌูุฉ ุงุณุชุฎุฏุงู ูุจุนุถ ุจููุงุช ุจูุงุก ุงูุฌููุฉ ุงูุฃุฎุฑู). </li><li style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ ูุธููุฉ php ุงูููุงุณูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">token_get_all</a> ุ ูุงูุชู ุชูุฏู ูุจุงุดุฑุฉู ุฅูู ุงูุชุญููู ุงููุนุฌูู ูู PHP. </li></ul><br>  ุญุณููุง ุ ูู ุงููุงุถุญ ุฃู ููุงู ุงููุซูุฑ ูู ุงูุฃุฏูุงุช ุงูุชู ูููู ุฃู ุชูุณู ุงููุต ุนูู ุงูุฑููุฒ ุ ูุฑุจูุง ูุณูุช ุญุชู ุดูุฆูุง ูุง ุ ูุซู ูุงููุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฐูุจ</a> .  ููู ูุงุฐุง ุจุนุฏุ <br><br><h2 style=";text-align:right;direction:rtl">  ุฃููุงุน Lexers </h2><br>  ูููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ููุณ ูู ุดูุก ุจูุฐู ุงูุจุณุงุทุฉ.  ููุงู ูุง ูุง ููู ุนู ูุฆุชูู ูุฎุชููุชูู ูู lexers.  ููุงู ุงูุฎูุงุฑ ุงููุนุชุงุฏ ุ ุชุงูู ููุบุงูุฉ ุ ูุงูุฐู ููููู ูู ุฎูุงูู ุงูุชุฎูู ุนู ุงูููุงุนุฏ ุ ููู ููุณู ุจุงููุนู ูู ุดูุก ุฅูู ุฑููุฒ.  ูุง ูุฎุชูู ุชูููููุง ูุซูุฑูุง ุนู ุงููุซุงู ุงูููุถุญ ุฃุนูุงู.  ููุน ุฐูู ุ ููุงู ุฎูุงุฑ ุขุฎุฑ ูุณูู <b>multistate</b> .  ูู ุงูุตุนุจ ููู ูุซู ูุคูุงุก ุงูููุฌุฑูู ููููุงู ุ ูุฐูู ุ ุฃุฑูุฏ ุงูุชุญุฏุซ ูุนูู ุฃูุซุฑ ููููุงู. <br><br>  ูููุฉ lexer ูุชุนุฏุฏ ุงููุฑุงุญู ูู ุนุฑุถ ุงูุฑููุฒ ุงููููุฒุฉ ุงููุฎุชููุฉ ุจูุงุกู ุนูู ุงูุญุงูุฉ ุงูุณุงุจูุฉ.  ุญุณููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู PHP ุ ูุชู ุชุดููู ูุซู ูุฐู ุงูุญุงูุงุช "ุงูุงูุชูุงููุฉ" ุจุงุณุชุฎุฏุงู ุงูุนูุงูุงุช &lt;ุ Php +ุ&gt; ูุงูุฎุทูุท ุงูุฏุงุฎููุฉ ูุงูุชุนูููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุจููุงุช HEREDOC</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">NOWDOC</a> . <br><br>  ุชุฐูุฑ ุงููุซุงู ุงูุณุงุจู ูุน 4 ุงูุฑููุฒ ุฃุนูุงูุ  ููุนุฏูู ููููุงู ูููู ูุงููุฉ ูุฐู ุงูุญุงูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// class Example {} }</span></span></code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุฅุฐุง ูุงู ูุฏููุง ุฃุจุณุท lexer ุฏูู ุฅููุงูุงุช PCRE ุงููุงุณุนุฉ ุ ูุณูุญุตู ุนูู ูุฌููุนุฉ ุงูุฑููุฒ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">var_dump(lex(...)); <span class="hljs-comment"><span class="hljs-comment">// array(9) { // [0] =&gt; string(5) "class" // [1] =&gt; string(7) "Example" // [2] =&gt; string(1) "{" // [3] =&gt; string(2) "//" // [4] =&gt; string(5) "class" // [5] =&gt; string(7) "Example" // [6] =&gt; string(1) "{" // [7] =&gt; string(1) "}" // [8] =&gt; string(1) "}" //}</span></span></code> </pre><br>  ููุง ุชุฑูู ุ ุญุตููุง ุนูู ุนุถุงุถุฉ ุนุงุฏูุฉ ุชูุงููุง ุนูู ุงูุนูุงุตุฑ 3-5: ููุฏ ุชู ุงุชุฎุงุฐ ุงูุชุนููู ุจุดูู ุบูุฑ ูุชููุน ุชูุงููุง ูุชู ุชูุณููู ุฅูู ุฑููุฒ ุ ุนูู ุงูุฑุบู ูู ุฃูู ูุงู ููุจุบู ุงุนุชุจุงุฑู ูุทุนุฉ ูุงููุฉ. <br><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุน PCRE ุงููุธูููุฉ ุ ูููู ูุฏู ูุฐุง ุงูุฑูุฒ ุงููููุฒ ุจูุณุงุนุฏุฉ ุงูุชุธุงู ุจุณูุท " <i>// [^ \ n] * \ n</i> " ุ ูููู ุฅุฐุง ูู ููู ูุฐููุ  ุญุณููุง ุ ุฃู ุฃููุง ูุฑูุฏ ุฃู ูุฏูุนูุง ุจุฃูุฏููุงุ  ุจุงุฎุชุตุงุฑ ุ ูู ุญุงูุฉ ุฃุฏุงุฉ lexer ูุชุนุฏุฏุฉ ุงูููุงูุงุช - ูููููุง ุฃู ูููู ุฃู ุฌููุน ุงูุฑููุฒ ูุฌุจ ุฃู ุชููู ูู ุงููุฌููุนุฉ ุฑูู 1 ุ ุจูุฌุฑุฏ ุงูุนุซูุฑ ุนูู ุงูุฑูุฒ " <i>//</i> " ุ ุซู ูุฌุจ ุฃู ูุญุฏุซ ุงูุงูุชูุงู ุฅูู ุงููุฌููุนุฉ <b>ุฑูู 2</b> .  ูุฏุงุฎู ุงููุฌููุนุฉ ุงูุซุงููุฉ ุ ุงูุงูุชูุงู ุงูุนูุณู ุ ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ุงูุฑูุฒ ุงููููุฒ " <i>\ n</i> " - ุงูุงูุชูุงู ุฅูู ุงููุฌููุนุฉ ุงูุฃููู. <br><br>  ุดูุก ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$tokens = [ <span class="hljs-string"><span class="hljs-string">'group-1'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'//'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'group-2'</span></span> <span class="hljs-comment"><span class="hljs-comment">//      2 ], 'group-2' =&gt; [ "\n" =&gt; 'group-1', //    1    '.*' ] ];</span></span></code> </pre><br>  ุฃุนุชูุฏ ุงูุขู ุฃู ุงูุฃูุฑ ุฃุตุจุญ ุฃูุซุฑ ูุถูุญูุง ููู ูุชู ุชุญููู ุจุนุถ HEREDOC ุ ูุฃูู ุญุชู ูุน ูู ููุฉ PCRE ุ ูุฅู ูุชุงุจุฉ ูุต ููุชุธู ููุฐู ุงูุญุงูุฉ ููุซู ูุดููุฉ ูุจูุฑุฉ ููุบุงูุฉ ุ ุจุงููุธุฑ ุฅูู ุฃู ุจูุงุก ุฌููุฉ HEREDOC ูุฏุนู ุงูุงุณุชููุงุก ุงููุชุบูุฑ.  ูุง ุนููู <i>ุณูู</i> ูุญุงููุฉ ุชุญููู ุดูุก ูุซู ูุฐุง ุจุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <i>token_get_all</i> ุงููุถููุฉ (ููุงุญุธุฉ&gt; 12 ุฑูุฒูุง ูููุฒูุง): <br><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $example = <span class="hljs-number"><span class="hljs-number">42</span></span>; $a = &lt;&lt;&lt;EOL Your answer is $example !!! EOL; var_dump(token_get_all(file_get_contents(<span class="hljs-keyword"><span class="hljs-keyword">__FILE__</span></span>)));</code> </pre><br>  ุญุณููุง ุ ูุจุฏู ุฃููุง ูุณุชุนุฏูู ูุจุฏุก ุงูุชุฏุฑูุจ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงุฑุณุฉ </h2><br>  ุฏุนููุง ูุชุฐูุฑ ูุง ูุฏููุง ูู PHP ููุซู ูุฐู ุงูุฃุดูุงุกุ  ุญุณูุง ุ ุจุงูุทุจุน ุ preg_match!  ุญุณููุง ุ ูุจุท.  ูุชู ุชูููุฐ ุงูุฎูุงุฑุฒููุฉ ุงููุณุชูุฏุฉ ุฅูู preg_match ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุชูููุฐ ูู Phelxy</a> .  ูููุชูุง ุจุณูุทุฉ ุฌุฏุง: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฏููุง ูู ูุชูุงูู ุงููุฏ ุงููุต ุงููุตุฏุฑ ููุฌููุนุฉ ูู ุงููุธุงูู. </li><li style=";text-align:right;direction:rtl">  ูุทุงุจู ุญุชู ูุชู ุงูุนุซูุฑ ุนูู ุดูุก ููุงุณุจ. </li><li style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุงูุนุซูุฑ ุนูู ูุทุนุฉ ูุง ุ ูู ุจูุตูุง ูุชุทุงุจููุง ุฃูุซุฑ. </li></ol><br>  ูู ูููุฐุฌ ุงูุดูุฑุฉ ุ ุณูุจุฏู ูุซู ูุฐุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฑูุฉ ุฑูุฒ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleLexer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array&lt;string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $tokens = []; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array&lt;string&gt; $tokens */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $tokens)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $definition) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens[$name] = \sprintf(<span class="hljs-string"><span class="hljs-string">'/\G%s/isSum'</span></span>, $definition); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> iterable&amp;\Traversable&lt;string&gt; * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> RuntimeException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span><span class="hljs-function"> </span></span>{ [$offset, $length] = [<span class="hljs-number"><span class="hljs-number">0</span></span>, \strlen($sources)]; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($offset &lt; $length) { [$name, $token] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;next($sources, $offset); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $name =&gt; $token; $offset += \strlen($token); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $offset * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array&lt;string,string&gt; * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> RuntimeException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources, int $offset)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $pcre) { \preg_match($pcre, $sources, $matches, <span class="hljs-number"><span class="hljs-number">0</span></span>, $offset); $token = \reset($matches); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (\count($matches) &amp;&amp; \strpos($sources, $token, $offset) === $offset) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [$name, $token]; } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \RuntimeException(<span class="hljs-string"><span class="hljs-string">'Unrecognized token at offset '</span></span> . $offset); } }</code> </pre><br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจุงุณุชุฎุฏุงู ูุฑูุฉ ุฑูุฒ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$lexer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleLexer([ <span class="hljs-string"><span class="hljs-string">'T_CLASS'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_CONST'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_BRACE_OPEN'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'{'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_BRACE_CLOSE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_WHITESPACE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\s+'</span></span>, ]); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'| %-10s | %-20s |'</span></span>, <span class="hljs-string"><span class="hljs-string">'VALUE'</span></span>, <span class="hljs-string"><span class="hljs-string">'NAME'</span></span>) . <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($lexer-&gt;lex(<span class="hljs-string"><span class="hljs-string">'class Example {}'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $token) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'| %-10s | %-20s |'</span></span>, <span class="hljs-string"><span class="hljs-string">'"'</span></span> . \trim($token, <span class="hljs-string"><span class="hljs-string">"\n"</span></span>) . <span class="hljs-string"><span class="hljs-string">'"'</span></span>, $name) . <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; }</code> </pre><br></div></div><br>  ูุฐุง ุงูููุฌ ุชุงูู ููุบุงูุฉ ููุณูุญ ูุจุถุน ุฏูุนุงุช ููุญุฉ ุงูููุงุชูุญ ุจุชุนุฏูู lexer ูู ุงูููุทูุฉ ูู ุงูุทุฑููุฉ ุงูุชุงููุฉ () ุ ุฅุถุงูุฉ ุงูุงูุชูุงู ุจูู ุงูุฏูู ูุชุญููู ูุฐุง ุงูุชูุณูู ูู ุงูุงุณุชููุงุก ุฅูู lexer ุจุฏุงุฆูุฉ ูุชุนุฏุฏุฉ ุงููุฑุงุญู.  ูู ููุทูุฉ <i>$ this-&gt; tokens ุ</i> ููุท ุฃุถู ุดูุฆูุง ูุซู <i>$ this-&gt; tokens [$ this-&gt; state]</i> . <br><br>  ููุน ุฐูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจุฏุงุฆูุฉ ููุณูุง ุ ููุงู ุนูุจ ุขุฎุฑ ุ ููุณ ูุงุชูุงู ููุง ูุฏ ูุญุฏุซ ุ ูููู ูุง ูุฒุงู ... ูุซู ูุฐุง ุงูุชูููุฐ ุจุทูุก ุจุดูู ูุง ูุตุฏู.  ุนูู i7 7600k ุ ุงูุชู ุตุงุฏูุช ุฃู ุตุงุญุจูุง - ุฎูุงุฑุฒููุฉ ููุงุซูุฉ ุชุนุงูุฌ ุญูุงูู 400 ุฑูุฒ ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ ุ ููุน ุฒูุงุฏุฉ ุฃุดูุงููุง (ุฃู ุงูุชุนุงุฑูู ุงูุชู ููููุงูุง ุฅูู ุงูููุดุฆ) - ูููู ุฃู ุชุจุทุฆ ุณุฑุนุฉ ุชุบููุฑ ุงูุฑุคุณุงุก ูู ุฑูุณูุง ... ููู ุงุณู  ุฃุฑุฏุช ุฃู ุฃููู ุ ุจุงูุทุจุน ุ ุฅููุง ุณุชุนูู <b>ุจุจุทุก ุดุฏูุฏ</b> . <br><br>  ุญุณูุง ุ ูุงุฐุง ูููููุง ุฃู ููุนูุ  ุจุงููุณุจุฉ ูููุจุชุฏุฆูู ุ ููููู ููู ูุง ูุญุฏุซ.  ุงูุญูููุฉ ูู ุฃูู ูู ูู ูุฑุฉ ูุณูููุง <b>preg_match</b> ุฏุงุฎู ุจุฑุงุฑู ุงููุบุฉ ุ ูุฑุชูุน ูุชุฑุฌู ูุน JIT ุงูุฎุงุต ุจู ูุณูู PCRE (ููุน PHP 7.3 ุ ูููู PCRE2 ุจุงููุนู).  ูู ูู ูุฑุฉ ูููู ุจุชูุฒูุน ุงูููุงุฏ ุงููุธุงููุฉ ุจุฃููุณูู ููุฌูุน ูุญูููุง ุฎุงุตูุง ุจูู ุ ุญูุซ ูููู ุจุชุญููู ุงููุต ูุฅูุดุงุก ุงูุฑููุฒ.  ูุจุฏู ุบุฑูุจุง ุจุนุถ ุงูุดูุก ูุชูุชูููุฌูุฉ.  ูููู ุจุงุฎุชุตุงุฑ ุ ูุชุทูุจ ูู ุฑูุฒ ุชุฌููุน ูู 1 ุฅูู N ุงููุธุงูู ุ ุญูุซ N ูู ุนุฏุฏ ุชุนุฑููุงุช ูุฐู ุงูุฑููุฒ ุงููููุฒุฉ.  ูู ุงูููุช ููุณู ุ ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุญุชู ุนูุงูุฉ " <i>S</i> " ุงููุทุจูุฉ ูุงูุชุญุณูู ุจุงุณุชุฎุฏุงู " <i>\ G</i> " ูู ุงูููุดุฆ ุ ุญูุซ ูุชู ุฅูุดุงุก ุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ ููุฑููุฒ ุ ูุง ุชุณุงุนุฏ. <br><br>  ูุง ููุฌุฏ ุณูู ุทุฑููุฉ ูุงุญุฏุฉ ููุฎุฑูุฌ ูู ูุฐุง ุงููููู - ุชุญุชุงุฌ ุฅูู ุชุญููู ูู ูุฐุง ุงููุต ูู ูุณุงุฑ ูุงุญุฏ ุ ุฃู  ุนู ุทุฑูู ุชูููุฐ ูุธููุฉ ูุงุญุฏุฉ ููุท <b>preg_match</b> .  ูุจูู ูุญู ูุดููุชูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู ุชุดูุฑ ุฅูู ุฃู ูุชูุฌุฉ ุงูุชุนุจูุฑ ุงูุนุงุฏู N1 ุชุชูุงูู ูุน ุงูุฑูุฒ ุงููููุฒ N2ุ  ุฃู  ููู ุชุดูุฑ ุฅูู ุฃู " <i>\ w +</i> " ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู <i>T_CONST</i> . </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุชุญุฏูุฏ ุชุณูุณู ุงูุฑููุฒ ูุชูุฌุฉ ูุฐูู.  ููุง ุชุนูููู ุ <b>ุณุชุญุชูู</b> ูุชูุฌุฉ <b>preg_match</b> ุฃู <b>preg_match_all</b> ุนูู ูู ุดูุก ูุฎุชูุท.  ูุญุชู ุจูุณุงุนุฏุฉ ุงูุฃุนูุงู ุงูุชู ุชู ุชูุฑูุฑูุง ูุญุฌุฉ ุฑุงุจุนุฉ ุ ูุฅู ุงููุถุน ูู ูุชุบูุฑ. </li></ol><br>  ููุง ููููู ุงูุชููู ูุงูุชูููุฑ ููููุง.  ุญุณูุง ุงู ูุง. <br><br>  ุญู ุงููุดููุฉ ุงูุฃููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏุนู ูุฌููุนุงุช PCRE</a> ุ ูุงูุชู ุชุณูู ุฃูุถูุง "ุงูููุงู".  ุจุงุณุชุฎุฏุงู ุงูููุงุนุฏ: " <i>(ุ &lt;T_WHITESPACE&gt; \ s + | &lt;T_WORD&gt; \ w + | ...)</i> " ููููู ุงูุญุตูู ุนูู ุฌููุน ุงูุฑููุฒ ุงููููุฒุฉ ูู <i>ูุณุงุฑ</i> ูุงุญุฏ ูู ุฎูุงู ููุงุฑูุชูุง ุจุฃุณูุงุฆูุง.  ููุชูุฌุฉ ูููุทุงุจูุฉ ุ ุณูุชู ุชุดููู ูุฌููุนุฉ <i>ููุงุจูุฉ</i> ุ ุชุชููู ูู ุงูุฃุฒูุงุฌ " <i>[TOKEN_NAME =&gt; TOKEN_VALUE]</i> ". <br><br>  ูุงูุซุงูู ูู ุฃูุซุฑ ุชุนููุฏุง ููููุง.  ูููู ููุง ููููู ุชุทุจูู ุฎุฏุนุฉ ุชูุชูููุฉ ูุงุณุชุฎุฏุงู ูุธููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">preg_replace_callback</a> .  ุฎุตูุตูุชูุง ูู ุฃู ุงููุฌููู ุงูุฐู ุชู ุชูุฑูุฑู ูุญุฌุฉ ุซุงููุฉ ุณูุชู ุงุณุชุฏุนุงุคู ุจุงูุชุชุงุจุน ุงูุฏููู ููู ุฑูุฒ ุ ูู ุงูุฃูู ุฅูู ุงูุฃุฎูุฑ. <br><br>  ูู ุฃุฌู ุนุฏู ุงูุชุนุฑุถ - ุงูุชูููุฐ ุนูู ุงููุญู ุงูุชุงูู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฑู ุขุฎุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PregReplaceLexer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array&lt;string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $tokens = []; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array&lt;string&gt; $tokens */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $tokens)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $definition) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens[] = \sprintf(<span class="hljs-string"><span class="hljs-string">'(?&lt;%s&gt;%s)'</span></span>, $name, $definition); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> iterable&amp;\Traversable&lt;string,string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span><span class="hljs-function"> </span></span>{ $result = []; \preg_replace_callback(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compilePcre(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $matches)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;$result)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (\array_reverse($matches) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $value) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (\is_string($name) &amp;&amp; $value !== <span class="hljs-string"><span class="hljs-string">''</span></span>) { $result[] = [$name, $value]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } }, $sources); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($result <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [$name, $value]) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $name =&gt; $value; } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compilePcre</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'/\G(?:%s)/isSum'</span></span>, \implode(<span class="hljs-string"><span class="hljs-string">'|'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens)); } }</code> </pre><br></div></div><br>  ูุงุณุชุฎุฏุงูู ูุง ูุฎุชูู ุนู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู.  ูู ุงูููุช ููุณู ุ ุชุฒุฏุงุฏ ุณุฑุนุฉ ุงูุนูู ูู <b>400</b> ุฅูู <b>57000</b> ุฑูุฒ ูู ุงูุซุงููุฉ.  ูุฐู ูู ุงูุฎูุงุฑุฒููุฉ ุงูุชู ุทุจูุชูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุนููู</a> ุ ูุน ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูููุฏ ุงููุตุฏุฑู ููุง.  ุจุงูููุงุณุจุฉ ุ ุฅุฐุง ููุช ุชุณุชุฎุฏู Parle ุ ูููููู ุถุบุท ูุง ูุตู ุฅูู <b>600000</b> ุฑูุฒ ูู ุงูุซุงููุฉ.  ูุชุจุฏู ุงูุตูุฑุฉ ุงูุนุงูุฉ ูุซู ูุฐุง (ูุน ุชุดุบูู XDebug ูู PHP 7.1 ุ ูุจุงูุชุงูู ูุฅู ุงูุฃุฑูุงู ุฃูู ุ ูููู ูููู ุชูุซูู ุงููุณุจุฉ ุชูุฑูุจูุง). <br><br> <a href=""><img src="https://habrastorage.org/webt/rr/yw/qr/rrywqr04hb7lt5zdhdpmu8ppdc8.png"></a> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุตูุฑ ูู ุงูุงูุชุฏุงุฏ ุงูุฃุตูู ูุจุงุฑูู. </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฒุฑู - ุงูุชูููุฐ ูู ุฎูุงู <i>preg_replace_callback</i> ูุน ุงูุชุฌููุน ุงููุณุจู ุงูุนุงุฏู. </li><li style=";text-align:right;direction:rtl">  ุฃุญูุฑ - ูู ุฐูู ุ ูููู ูุน <i>ุงูุชุธุงู ุชู</i> ุฅูุดุงุคู ุฃุซูุงุก ุงูููุงููุฉ ุฅูู <i>preg_replace_callback</i> . </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฎุถุฑ - ุงูุชูููุฐ ูู ุฎูุงู <i>preg_match</i> . </li></ul><br><h2 style=";text-align:right;direction:rtl">  ููุงุฐุงุ </h2><br>  ุญุณููุง ุ ูู ูุฐุง ุ ุจุงูุทุจุน ุ ุดูุก ุฑุงุฆุน ุ ููู ุงูุตุจุฑ ุงูุฐูู ูุชูููู ุฅูู ุทุฑุญ ุงูุฃุณุฆูุฉ: "ูู ูุญุชุงุฌ ุฅูู ูุฐุง ุนูู ุงูุฅุทูุงูุ"  ูู ุงูุนุงูู ุงููุฌุฑุฏ ูู PHP ุ ุญูุซ ููููู ูุจุฏุฃ "ุงูุชูู ูุงูุชูู ูุงููููุน ุฌุงูุฒูู" - ููุณุช ููุงู ุญุงุฌุฉ ุฅูู ูุซู ูุฐู ุงูููุชุจุงุช ุ ุณูููู ุตุงุฏููู.  ูููู ุฅุฐุง ุชุญุฏุซูุง ุนู ุงููุธุงู ุงูุฅูููููุฌู ููู ุ ููููููุง ุฃู ูุชุฐูุฑ ุงูููุชุจุงุช ุณูุฆุฉ ุงูุณูุนุฉ ูุซู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">symfony / yaml</a> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Doctrine</a> .  ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ูู Symfony ูู ููุณ ุงููุบุฉ ุงููุฑุนูุฉ ุฏุงุฎู PHP ุ ูุชุชุทูุจ ุชุญููู ูุบูู ูููุตู ููุญูู ูููุตู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุฌุฏ ุนุฏุฏ ุฃูู ููููุงู ูู ูุณุชุดุนุฑุงุช ุงููููุฉ ุ ู Less ุ ู Scss / Sass ุงููุนุฑููุฉ ูู PHP.  ุญุณูุง ุ ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงู ูุงููุนุงูุฌุฉ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุจูุฉ</a> ุนูู ุฃุณุงุณ ุฐูู.  ูู ุฃุฐูุฑ ุฃุฏูุงุช ุชุญููู ุงูููุฏ ูุซู phpmd ุฃู phpcs.  ููููุฏุงุช ุงููุซุงุฆู ูุซู phpDocumentnor ุฃู Sami ุชุงููุฉ ููุบุงูุฉ.  ูุณุชุฎุฏู ูู ูุดุฑูุน ูู ูุฐู ุงููุดุฑูุนุงุช ุจุฏุฑุฌุฉ ุฃู ุจุฃุฎุฑู ุงูุชุญููู ุงููุนุฌูู ูู ุงููุฑุญูุฉ ุงูุฃููู ูู ุชุญููู ุงููุต / ุงูููุฏ. <br><br>  ูุฐู ููุณุช ูุงุฆูุฉ ูุงููุฉ ุจุงููุดุงุฑูุน ุ ูุฑุจูุง ุขูู ุฃู ุชุณุงุนุฏู ูุตุชู ูู ุงูุชุดุงู ุดูุก ุฌุฏูุฏ ูุชุฌุฏูุฏู. <br><br><h2 style=";text-align:right;direction:rtl">  ุฎุงุชูุฉ </h2><br>  ุฅุฐุง ูุธุฑูุง ุฅูู ุงููุณุชูุจู ุ ุฅุฐุง ูุงู ููุงู ุฃู ุดุฎุต ููุชู ุจููุถูุน ุงููุญูููู ูุงููุชุฑุฌููู ุ ูููุงู ุจุนุถ ุงูุชูุงุฑูุฑ ุงููุซูุฑุฉ ููุงูุชูุงู ุญูู ูุฐุง ุงูููุถูุน ุ ูุง ุณููุง ูู ุงููุงุนุจูู ูู JetBrains: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/zI1QmnRRBMA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  ูุง ูุฒุงู ุ ุจุงูุทุจุน ุ ูุนุธู ุนุฑูุถ Andrei Breslav ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">abreslav</a> ) ุ ูุงูุชู ูููู ุงูุนุซูุฑ ุนูููุง ุนูู ูุณุงุญุฉ YouTube <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุงููุงุณุนุฉ</a> - ุฃูุตุญู ุจูุดุงูุฏุชูุง. <br><br>  ุญุณููุง ุ ุจุงููุณุจุฉ ููุญุจู ุงูุฎูุงู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ููุฑุฏ</a> ูุงู ูููุฏูุง ููุบุงูุฉ ุจุงููุณุจุฉ ูู. <br><br>  ูุดุฑ ุขุฎุฑ ุงููุต.  ุฅุฐุง ููุช ูุฎุชูููุง ูู ููุงู ูุง ูู ุงุชุณุงุน ูุฐู ุงูููุญูุฉ ุ ูููููู ุฅุจูุงุบ ุงููุคูู ุจุฃูุงู ุจุฃู ุดูู ููุงุณุจ ูู. <br><br>  ุนูู ุณุจูู ุงูููุงูุฃุฉ ุ ุฃูุฏ ุฃู ุฃูุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงููุง ุนูู ูุบุฉ PHP ุจุณูุทุฉ</a> ุ ูุจุฏู ุฃููุง ููุณุช ูุฎููุฉ ุฌุฏูุง ุงูุขู ุ ูุงูุขู ุฃุตุจุญ ูู ุงููุงุถุญ ูุง ุงูุฐู ุชูุนูู ุ ุฃููุณ ูุฐููุ  ุนูู ุงูุฑุบู ูู ุงูุฐู ุฃุฎุฏุนู ุ ูุฅู ุงูุนูููู ุชูุฒูุงู ูู ุงููุธุงูู.  =) <br><br>  ุดูุฑุง ูู </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar435102/">https://habr.com/ru/post/ar435102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar435088/index.html">ุชูุฏู ุดุฑูุฉ Tencent Music ุงูุนููุงูุฉ ุงูุตูููุฉ ููุจุซ ุงูุงูุชุชุงุจ ุงูุนุงู - ูุงุฐุง ูุนูู ููุงุฐุง ูุชููุน ุงููุชูุงูุณูู</a></li>
<li><a href="../ar435090/index.html">ูุฏูุช ูุฌููุนุฉ ููููุฏุงู ููุณูุงุฑุงุช ููููู ุงูุดุญู ุงููุงุณููู ูููุงูู ุงูุณูุงุฑุงุช ุงููุณุชููุฉ</a></li>
<li><a href="../ar435094/index.html">Gamepad ูู Sega Mega Drive ู Raspberry Pi Part 2 (ุขุฎุฑ ุณุชุฉ ุฃุฒุฑุงุฑ)</a></li>
<li><a href="../ar435096/index.html">ุชุฃุซูุฑ ุงูุฑุงุฏูู ุฃูุจูุจ ุฏุงูุฆ</a></li>
<li><a href="../ar435098/index.html">ADB vs Spy Cam & Mic</a></li>
<li><a href="../ar435106/index.html">ูุฑุฉ ุฃุฎุฑู ุญูู ุฌูุงุฒ ุงูุณูุฑ</a></li>
<li><a href="../ar435108/index.html">ุจุงุณุชุฎุฏุงู Prolog</a></li>
<li><a href="../ar435112/index.html">ููุงุจูุฉ ุงูุดุฑูุงุช</a></li>
<li><a href="../ar435114/index.html">ุจูุงูุงุช ุงูุฑุจูุน jpa</a></li>
<li><a href="../ar435118/index.html">ุญูุธ File Me - ุฎุฏูุฉ ูุณุฎ ุงุญุชูุงุทู ูุฌุงููุฉ ูุน ุชุดููุฑ ูู ุฌุงูุจ ุงูุนููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>