<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤪 👸 👎🏽 So schützen Sie Ihr Kind auf YouTube vor Müll und erstellen einen benutzerdefinierten Player mit einer weißen Liste von Kanälen 🐪 👩🏽‍💼 🏇🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie können lange darüber streiten, ob es sich lohnt, kleinen Kindern Zugang zu Tablets und Smartphones zu gewähren. Jemand sagt, dass es schädlich für...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So schützen Sie Ihr Kind auf YouTube vor Müll und erstellen einen benutzerdefinierten Player mit einer weißen Liste von Kanälen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421451/"><p>  Sie können lange darüber streiten, ob es sich lohnt, kleinen Kindern Zugang zu Tablets und Smartphones zu gewähren.  Jemand sagt, dass es schädlich für die Augen oder die Psyche ist, jemand - dass Eltern mit ihren Kindern selbst spielen und lesen sollten und nicht versuchen sollten, sie mit Geräten abzusperren.  Was charakteristisch ist, wird meistens von Menschen gesagt, die keine eigenen Kinder haben.  Und sie wissen nicht, was für ein Glück es ist - wenn das Kind mindestens eine halbe Stunde lang verstummt, nicht mehr alles ruiniert, ruhig auf dem Sofa liegt und Cartoons anschaut.  Es gibt noch ein Argument: Die Kinder wiederholen sensibel alles nach den Eltern. Wenn die Eltern ständig mit den Händen am Telefon sitzen, ist es sehr schwierig, den Kindern zu erklären, warum die Eltern das können und sie nicht. </p><br><p><img src="https://habrastorage.org/webt/k3/y2/sz/k3y2szb9qvds9nza5bamfw1pb9w.jpeg"></p><br><p>  Im Allgemeinen können Sie mir faule Tomaten werfen, aber mein Sohn, der jetzt seit drei Jahren ohne ein paar Tage ist, liegt gelegentlich mit einem Tablet auf der Couch und schaut sich auf YouTube Cartoons an. </p><br><p>  Leider wurde mir schnell klar, dass YouTube für Kinder nur ein HELLY TRASH ist.  Darüber gab es sogar auf Habré bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine Übersetzung des Artikels</a> .  Kinderkanäle sind eine Art bodenlose Senkgrube voller Vyrviglaznymi-Videos wie "Setzen Sie hundert Kinder-Überraschungen ein", "Dumme Reime mit elenden 3D-Grafiken zu lauter Musik" und "Fahren Sie Autos in Beam NG zu dummen Kommentaren".  Aus irgendeinem Grund ist dies alles sehr attraktiv für kleine Kinder, die schnell auf solche Videos klicken, sobald sie sie in den empfohlenen sehen.  Und auf YouTube kannst du keine Empfehlungen verwalten.  Selbst wenn ich meinem Sohn eine Tablette mit eingeschalteten „normalen“ Cartoons gebe, beobachte ich nach ein paar Minuten, wie er mit zwei Klicks auf die Empfehlungen diese verdammten Schokoladeneier wieder findet und wieder darin steckt. </p><br><p>  Das reicht mir, entschied ich.  Und er sah seine Anwendung zum Ansehen von YouTube, mit der Sie eine Liste von Kanälen auswählen und nur Videos von diesen Kanälen anzeigen konnten.  Wie ich es gemacht habe - unter dem Schnitt. <a name="habracut"></a></p><br><p>  Hier ist ein Beispiel für ein Thrash-Video, mit dem wir kämpfen werden.  Shitty machte sinnlose 3D-Animationen zu dummer Musik - und 142 Millionen Views.  Aus irgendeinem Grund werden solche Videos von Kindern einfach zombifiziert und sind bereit, sie zu überprüfen und zu überarbeiten. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YdZn3PXmFnE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Zum Vergleich: Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">coolste Video,</a> in dem Chris Hadfield auf der ISS auf einer Gitarre singt, hat nur 40 Millionen Aufrufe und der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wunderbare OK GO-Clip</a> mit echter Schwerelosigkeit (keine Kabel und Chromakey, nur ehrliche Schwerelosigkeit an Bord eines Spezialflugzeugs) - nur 12 Millionen, zehnmal weniger. </p><br><p>  Übrigens sind Werbetreibende auf YouTube <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">selbst nicht glücklich über die Beliebtheit von Kinderkanälen</a> , da die Schaltung von Anzeigen auf ihnen eine Verschwendung von Budgets ist.  Kinder sehen Anzeigen, manchmal klicken sie sogar, kaufen aber nichts, und Millionen von Ansichten geben schnell das Budget aus. </p><br><h2 id="postanovka-zadachi">  Erklärung des Problems </h2><br><p>  Ich muss sofort sagen, dass ich mir nicht die Aufgabe gestellt habe, einen undurchdringlichen Antrag für Kinder zu stellen.  Solche Versuche gibt es bereits, auch hier auf dem Hub - alles wird dort in einer Reihe geschnitten, so dass das Kind die Anwendung nicht beenden, etwas kaufen, einen Browser öffnen usw. kann.  Es gibt Optionen mit Hardware-Sperren, deaktivierten Ports, benutzerdefinierten Android-Shells und anderen Schwierigkeiten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ist beispielsweise ein Artikel</a> für 2012, das Projekt scheint noch am Leben zu sein).  All dies ist jedoch für ältere Kinder sinnvoll, die bereits die Möglichkeiten ihrer Geräte erkunden.  Für Kinder im Alter von 2-3 Jahren ist kein besonderer Schutz erforderlich. Sie sehen sich gerne Videos an und greifen von Zeit zu Zeit in die Vorschau anderer Videos ein.  Die Hauptsache ist, dass diese Videos genau das sein sollten, was Sie brauchen, und nicht das, was YouTube bietet (und er bietet endlose Schokoladeneier und Babyfinger). </p><br><p>  Daraus ergab sich die Liste der Anforderungen: </p><br><ul><li>  Benutzerdefinierte Kanalliste </li><li>  Schutz vor Änderungen (eher vor versehentlichen, da listige erwachsene Kinder bereits eine Reihe von Möglichkeiten haben, die Passwörter ihrer Eltern zu identifizieren) </li><li>  Die Anwendung selbst ähnelt YouTube. Sie spielt links Videos ab. Rechts befindet sich eine Spalte mit Miniaturansichten, auf die Sie klicken können </li><li>  Der Hauptanwendungsfall ist das zufällige Durchstöbern des Videos. Dem Kind ist es im Allgemeinen egal, was es sehen soll </li></ul><br><p>  Gleichzeitig besteht die Anwendung aus zwei Hauptteilen: Suchen und Einrichten von Kanälen mithilfe der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">YouTube-Daten-API</a> und anschließendes Abspielen des Videos.  Außerdem habe ich im Moment zwei Optionen zum Abspielen von Videos in meiner eigenen Anwendung gefunden: </p><br><h2 id="youtube-android-player-api">  YouTube Android Player API </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://developers.google.com/youtube/android/player/</a> </p><br><p>  Dies ist die offizielle Möglichkeit, Videos in Ihrer Android-Anwendung abzuspielen.  Damit es auf dem Gerät des Benutzers funktioniert, muss die offizielle YouTube-Anwendung bereits installiert sein, die in ihrer Zusammensetzung einen bestimmten Dienst enthält, der von anderen Anwendungen verwendet werden kann.  Diese Player-API ist also eine kleine Bibliothek, die mit einer separat installierten Anwendung interagiert. </p><br><p>  Zuerst habe ich es benutzt, aber nach einiger Zeit stellte sich heraus, dass er ein kritisches Problem hatte.  Sie können das Erscheinungsbild des Players nicht wirklich anpassen, insbesondere die Tasten steuern (Sie können nur das Ganze ausblenden, aber dann verlieren Sie auch die Schaltfläche für den Vollbildmodus).  Auf dem Bedienfeld des Players befindet sich eine fehlerhafte Schaltfläche "Zur Anzeige auf YouTube gehen", mit der die offizielle Anwendung (die sich auf dem Gerät befinden muss) geöffnet wird, in der keine Filterung mehr erfolgt.  Und die Kinder klicken leicht (aus Versehen oder nicht) darauf, gehen zur ungefilterten Anwendung, und nach ein paar Minuten höre ich bereits wieder „Babyfinger, Babyfinger, wo bist du?“ Und sehe eine Art verdrehte Augen-Treanyanimation auf dem Bildschirm. </p><br><p>  Ein bisschen mehr Müll, den Kinder mit ein paar Klicks finden.  Über 900 Millionen Aufrufe! </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YJyNoFkud6g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Daher lehnte ich den offiziellen Spieler ab und fand ihn als Ersatz in Form der folgenden Bibliothek. </p><br><h2 id="android-youtube-player">  Android YouTube Player </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/PierfrancescoSoffritti/android-youtube-player</a> </p><br><p>  Die Bibliothek scheint ein Wrapper um das WebView zu sein, der den Webplayer über seine JavaScript-API steuert.  Von den Vorteilen - die Möglichkeit, die Benutzeroberfläche vollständig anzupassen. </p><br><p>  Die Initialisierung des Players ist etwas unauffällig, insbesondere nach dem Wechsel von der offiziellen Bibliothek: </p><br><ol><li>  Holen Sie sich unsere Ansicht der Klasse com.pierfrancescosoffritti.androidyoutubeplayer.player.YouTubePlayerView </li><li>  Rufen Sie sie initialize () auf und übergeben Sie den Listener </li><li>  Die onInitSuccess-Methode (@Nonnull final YouTubePlayer youTubePlayer) wird im Listener aufgerufen, der eine Instanz des Player-Objekts empfängt.  Dies ist der einzige Weg, um es zu bekommen.  Bis zu diesem Zeitpunkt war der Initialisierungsprozess mit dem des offiziellen Clients identisch </li><li>  Wir rufen die addListener () -Methode auf dem Player auf und übergeben einen anderen Listener (mehr Listener an den Listener-Gott!). </li><li>  Die onReady () -Methode wird für diesen Listener aufgerufen. Erst nach diesem Moment können Sie Videos herunterladen und anzeigen und den Player verwenden.  Wenn Sie versehentlich versuchen, etwas in onInitSuccess zu laden, spuckt die Bibliothek seltsame Fehler aus. </li></ol><br><p>  Sie können den Lebenszyklus des Players manuell steuern (die Wiedergabe in onPause () und so weiter stoppen) oder unsere Ansicht als Lifecycle Observer registrieren (für den unsere Aktivität von AppCompatActivity geerbt werden sollte).  In diesem Fall übernimmt die Bibliothek die gesamte Routine. </p><br><p>  Eine weitere seltsame Nuance der Bibliothek ist das Fehlen einer sofort einsatzbereiten Vollbildunterstützung.  Es gibt standardmäßig eine Schaltfläche im Player, die jedoch nichts bewirkt.  Tatsächlich müssen Sie den Vollbildmodus manuell ausführen - verstecken Sie den Kerl, maximieren Sie das Player-Fenster auf Vollbild und stellen Sie dann alles wieder her.  Dies kann sich als nicht trivial herausstellen, wenn Sie eine komplizierte Benutzeroberfläche um den Player haben.  Ich hatte dort nur eine Liste von Videos, die leicht manuell ausgeblendet werden kann. </p><br><p>  In den Beispielen der Bibliothek befindet sich eine Klasse FullScreenHelper, aus der Sie den gewünschten Code entnehmen können.  Seine Verwendung sieht ungefähr so ​​aus: </p><br><pre><code class="java">youTubePlayerView.addFullScreenListener(new YouTubePlayerFullScreenListener() {

            private final View rootLayout = findViewById(R.id.rootLayout);

            @Override
            public void onYouTubePlayerEnterFullScreen() {
                fullScreenHelper.enterFullScreen();
                rootLayout.setPadding(0, 0, 0, 0);
            }

            @Override
            public void onYouTubePlayerExitFullScreen() {
                fullScreenHelper.exitFullScreen();
                rootLayout.setPadding(8, 8, 8, 8);
                youTubePlayerView.getLayoutParams().height = LinearLayout.LayoutParams.MATCH_PARENT;
                  }
        });</code></pre><br>
<p>FullScreenHelper        .      (   ,  )   -      ,     .</p><br>
<p> -      ,      —    .      "  YouTube",     :</p><br>
<pre><code class="java">youTubePlayerView.getPlayerUIController().showFullscreenButton(true);
youTubePlayerView.getPlayerUIController().showYouTubeButton(false);</code></pre><br>
<p>      ,   ,     View  .. —             .</p><br>
<p>            youTubePlayer.loadVideo(url, startTime);</p><br>
<h2 id="poluchenie-spiskov-video-rabota-s-youtube-data-api">  ,   YouTube Data API</h2><br>
<p>URL    - .    YouTube   API,          .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>   Developer Console   .</p><br>
<p>      :         .   - ,         "Peppa Pig".   id (          id)  snippet       : , -, .</p><br>
<pre><code class="java"> YouTube.Search.List searchListByKeywordRequest = youTube.search().list("snippet,id");
 searchListByKeywordRequest.setMaxResults(10L);
 searchListByKeywordRequest.setQ("Peppa Pig");
 searchListByKeywordRequest.setType("channel,playlist");
 searchListByKeywordRequest.setKey("&lt;api key&gt;");
 SearchListResponse response = searchListByKeywordRequest.execute();</code></pre><br>
<p>       (    snippet  id)    . YouTube API      :       ,         .      - ( ,   ),       .           ,        . ..          5  (      2   sinppet  id).       ,   6 ,   13.    10 ,      21  .      ,   .</p><br>
<p>         :</p><br>
<pre><code class="java">YouTube.Search.List request = youTube.search().list("snippet,id");
request.setChannelId("&lt;channel id&gt;");
request.setType("video");
request.setMaxResults(50L);
request.setKey("&lt;api key&gt;");
SearchListResponse response = request.execute();</code></pre><br>
<p>      ,          ,      nextPageToken,    —     ,            .</p><br>
<pre><code class="java">if (response.getNextPageToken() != null) {
    request.setPageToken(response.getNextPageToken());
    response = request.execute();
}</code></pre><br>
<p>  API  ,       ,        ..</p><br>
<h2 id="opyt-ispolzovaniya"> </h2><br>
<p> ,     ,  .    ,      Google Play      .   :</p><br>
<ol>
<li>    .            .   " "          (""  " "), -      .</li>
<li>  —    .   ,     "     ",       ,    . </li>
<li>     .   ,               ,     —   .</li>
<li>       .   "     ",      ,              .</li>
<li>         .</li>
<li>   Pinned Mode —       ,            .</li>
</ol><br>
<p>  -  — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://play.google.com/store/apps/details?id=ru.sundogs.youtubekiosk</a>        ,    —     .       —       .         ,           ,    . </p><br>
<p> ,       ,       , -      (   ),     .    —       ,        .        .</p><br>
<p><strong>UPD</strong>:    ,          .             — ,  .     Play Market   ""</p><br>
<p><strong>UPD2</strong>:      ,        .   ,    ,             .</p><br>
<p><strong>UPD3</strong>:     ,     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://channelwhitelist.tilda.ws</a>. , !</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de421451/">https://habr.com/ru/post/de421451/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de421439/index.html">Die Japaner stellten einen Prototyp-Prozessor für Exaflops-Supercomputer vor: Wie der Chip funktioniert</a></li>
<li><a href="../de421441/index.html">Embox beginnt den Mount Elbrus zu besteigen</a></li>
<li><a href="../de421443/index.html">Neu in unserem Markt: Übersicht über Snom D385- und D785-IP-Telefone</a></li>
<li><a href="../de421445/index.html">Wir schreiben einen einfachen Übersetzer in Lisp - II</a></li>
<li><a href="../de421447/index.html">Redmadrobot iOS Meetup</a></li>
<li><a href="../de421453/index.html">Situation: Sonos ging an die Öffentlichkeit und kann „den Raum verlassen“</a></li>
<li><a href="../de421455/index.html">Japan startet die weltweit erste klinische Studie mit Stammzellen unter Verwendung der Parkinson-Krankheit</a></li>
<li><a href="../de421461/index.html">Time Tracker für Google-Skripte, -Dokumente und -Tabellen</a></li>
<li><a href="../de421463/index.html">Das Nachtleben des Himmels oder auf der Suche nach Perseiden - Verarbeitung</a></li>
<li><a href="../de421465/index.html">Mobile DevOps in der Praxis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>