<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÇüèΩ üìç üëÅÔ∏è Projet de norme nationale IoT OpenUNB: examen critique üå§Ô∏è üë®‚Äçüë®‚Äçüëß‚Äçüëß ü§æüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 Il y a quelque temps, le groupe de travail Skoltech sur l'Internet des objets a publi√© un projet de norme nationale sur l'Internet d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Projet de norme nationale IoT OpenUNB: examen critique</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464103/"> Bonjour, Habr! <br><br>  Il y a quelque temps, le groupe de travail Skoltech sur l'Internet des objets a publi√© un projet de norme nationale sur l'Internet des objets √† bande √©troite appel√© ¬´OpenUNB¬ª, dont le texte int√©gral se trouve <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  D'une part, le ph√©nom√®ne est sans aucun doute positif - si, dans le domaine des normes de large bande, il existe de facto un acc√®s ouvert √† tous ceux qui le souhaitent, LoRaWAN, alors les normes √† bande √©troite ont √©t√© extr√™mement propri√©taires √† ce jour (Sigfox, XNB de la soci√©t√© Strizh, NB-Fi de la soci√©t√© Vaviot - bien que cette derni√®re est √©galement publi√©e sous forme de projet de norme nationale, elle ne r√©v√®le pas les parties indispensables √† la mise en ≈ìuvre par des tiers). <br><br>  En m√™me temps, les syst√®mes √† bande √©troite et √† large bande ont leurs propres avantages et inconv√©nients, donc dire "pourquoi avez-vous besoin d'autre chose quand il y a LoRaWAN" n'est pas tout √† fait vrai.  Autrement dit, une norme ouverte pour les communications UNB est n√©cessaire. <br><br>  Cependant, la n√©cessit√© n'est qu'une des deux conditions.  La seconde est la suffisance.  Ok, ce que Skoltech a publi√© est n√©cessaire, mais est-ce suffisant pour une utilisation pratique? <br><br><img src="https://habrastorage.org/webt/mu/4m/y3/mu4my3u5mgerviabkc-yhlqhb2m.jpeg"><br><br>  Nous y r√©pondrons dans un format similaire √† une interview - sous les citations r√©duites du projet de norme OpenUNB et des commentaires y relatifs, donn√©s par Alexander Sheptovetsky (AS), directeur technique de GoodWAN, et Oleg Artamonov (OA), directeur technique de Unwired Devices. <br><br>  Alors allons-y.  La stylistique, l'orthographe et la ponctuation des auteurs sont pr√©serv√©es. <br><a name="habracut"></a><br><blockquote>  Une caract√©ristique du protocole est l'utilisation de la modulation √† bande ultra-√©troite (la largeur du spectre d'√©mission est inf√©rieure √† 1 kHz), ce qui permet d'atteindre un rapport signal / bruit √©lev√© (avec des restrictions sur la puissance rayonn√©e dans la plage sans licence), ce qui signifie de transmettre des donn√©es sur de longues distances ou √† travers de multiples obstacles (murs en b√©ton, cloisons armoires m√©talliques). </blockquote>  <b>OA: la</b> premi√®re erreur des auteurs de la norme est qu'ils supposent initialement un SNR √©lev√© (rapport signal / bruit) comme principale exigence pour les signaux dans les syst√®mes LPWAN - et √† partir de cela, les erreurs continueront de cro√Ætre dans la conception et la mise en ≈ìuvre du protocole lui-m√™me, comme le choix pr√©ambules, par exemple. <br><br>  En r√©alit√©, la principale capacit√© des protocoles sans fil LPWAN, en fournissant leur ¬´port√©e¬ª, est la capacit√© de recevoir un signal avec un <i>faible</i> SNR, jusqu'√† un n√©gatif, c'est-√†-dire  cas o√π le niveau du signal est inf√©rieur au niveau de bruit. <br><br>  De plus, les auteurs de la norme ne connaissent pas bien les principes de base de la th√©orie de la transmission du signal, et en particulier la limite de Shannon sur le taux de transfert de donn√©es dans le canal en pr√©sence de bruit.  Cette vitesse est d√©termin√©e par la valeur du SNR <i>et la</i> largeur du spectre du signal - en fait, l'un est compens√© par l'autre.  Par cons√©quent, pour transmettre des donn√©es dans des syst√®mes LPWAN sur de longues distances, les signaux √† bande √©troite et √† large bande (par exemple, dans la bande LoRaWAN - 125 kHz) sont utilis√©s avec succ√®s, chacune des m√©thodes a ses propres avantages et inconv√©nients. <br><blockquote>  Cela est possible du fait que les appareils d'abonn√©s diffusent des donn√©es sans √©tablir de connexion avec la station de base (mode simplex), comme par exemple, cela se fait dans les r√©seaux cellulaires mobiles. </blockquote>  <b>OA:</b> en plus des erreurs stylistiques et de ponctuation, je note l'usage imprudent et inacceptable de la terminologie.  Le mode simplex, c'est-√†-dire la transmission de messages sur le canal de communication dans une seule direction, n'est pas directement li√© √† la n√©cessit√© d'√©tablir une connexion - et ce ne sont certainement pas des synonymes.  Le m√™me LoRaWAN fournit une communication bidirectionnelle en mode semi-duplex, mais ne n√©cessite pas non plus de connexion pr√©alable avec la BS. <br><br>  Probablement, les auteurs avaient √† l'esprit l'absence d'un mode de fonctionnement de session dans OpenUNB - mais c'est une caract√©ristique de tous les protocoles LPWAN. <br><blockquote>  Pour simplifier et r√©duire le co√ªt de la conception de l'√©metteur-r√©cepteur, la transmission et la r√©ception sont s√©par√©es dans le temps, c'est-√†-dire que les donn√©es sont √©chang√©es de la station de base soit en mode simplex (transmission de l'unit√© d'abonn√© √† la station de base) soit en mode semi-duplex (transmission de l'unit√© d'abonn√© √† la station de base et les suivantes r√©ception sur l'appareil d'abonn√© de la station de base). </blockquote>  <b>OA:</b> et litt√©ralement une demi-page plus tard, il s'av√®re qu'il existe √©galement un mode semi-duplex dans OpenUNB!  D'une mani√®re g√©n√©rale, je tiens √† noter qu'il existe de nombreuses contradictions internes de ce type dans le projet de norme. <br><blockquote>  L'ordre des octets dans le paquet est du plus ancien au plus jeune (big-endian) </blockquote>  <b>OA:</b> big-endian est un type d'architecture informatique avec un ordre d'octets sp√©cifique dans un nombre multi-octets.  Dans un paquet, l'ordre des octets est toujours le m√™me - du premier au dernier.  Je le r√©p√®te: pour un projet de norme nationale, une telle utilisation imprudente de la terminologie √©tablie est inacceptable. <br><blockquote>  Les colis peuvent √™tre de diff√©rentes longueurs en fonction de la taille de la charge utile.  Options de longueur de charge utile: 0, 64 ou 128 bits.  Un message avec une charge utile nulle peut √™tre utilis√© comme un signal r√©gulier que l'appareil fonctionne (rythme cardiaque).  Les longueurs de paquets de 64 et 128 bits sont d√©termin√©es par la taille des blocs de chiffrement des algorithmes de chiffrement. </blockquote>  <b>AS:</b> Les d√©veloppeurs ont limit√© la longueur de la charge utile √† 0, 64 ou 128 bits, justifiant cela par la commodit√© du chiffrement.  Il s'agit d'une limitation compl√®tement artificielle.  Parfois, vous devez envoyer des messages tr√®s courts, mais vous devez utiliser 64 bits.  De quelle efficacit√© √©nerg√©tique peut-on parler apr√®s √ßa!  Comment chiffrer des messages courts avec des cl√©s longues peut √™tre lu, par exemple, dans le protocole LoRaWAN. <br><br>  <b>OA:</b> oui, dans le m√™me LoRaWAN, le sch√©ma de chiffrement AES-CTR est r√©guli√®rement utilis√©, ce qui permet de chiffrer des colis de toute longueur, y compris  moins de longueur de cl√©. <br><blockquote>  Pour obtenir une plage de transmission √©lev√©e dans la plage sans licence, un rapport signal / bruit √©lev√© est requis.  Il est obtenu gr√¢ce √† la bande passante de transmission ultra-petite (de l'ordre de 100 Hz). </blockquote>  <b>AS:</b> dans le projet de norme, il n'y a m√™me pas une seule opinion sur la bande passante - elle est "inf√©rieure √† 1 kHz", puis "de l'ordre de 100 Hz".  N‚Äôa-t-il pas √©t√© possible de faire une seule d√©claration dans la norme? .. <br><br>  <b>OA:</b> et encore sur la n√©cessit√© d'un SNR √©lev√©.  Non, non!  LPWAN est √©galement LPWAN pour fonctionner m√™me avec un SNR n√©gatif. <br><br><blockquote>  Certains √©metteurs-r√©cepteurs peuvent modifier leurs propri√©t√©s assez fortement au tout d√©but d'une transmission.  Cela peut affecter la fr√©quence et la longueur du signal modul√© des premiers bits du paquet.  Pour compenser ce facteur, il est recommand√© d'√©mettre un signal √† une fr√©quence de paquet d'une dur√©e √©gale √† une dur√©e de transmission de 1 √† 2 bits avant de commencer la transmission du pr√©ambule (figure 2).  [...] √Ä la fin de la transmission, apr√®s la somme de contr√¥le, vous devez √©galement √©tudier 1 bit de plus et r√©duire progressivement l'amplitude du signal, ce qui augmentera la probabilit√© de bonne r√©ception du dernier bit </blockquote><br><br>  <b>AS: Les</b> informations et les dessins sont tir√©s de la description technique de SigFox et sont li√©s √† certaines fonctionnalit√©s de la description de SigFox.  Le r√©cepteur fixe les bits non pas au moment du changement de phase, mais avant et apr√®s.  Vous ne devez pas copier sans r√©fl√©chir les fonctionnalit√©s et les erreurs de description d'autres personnes. <br><blockquote>  Valeur de pr√©ambule recommand√©e pour le paquet de liaison montante: 101010101010101010 <sub>2</sub> .  √Ä la discr√©tion des d√©veloppeurs, les valeurs de pr√©ambule pour l'ensemble du r√©seau peuvent √™tre modifi√©es.  Par exemple, cela peut √™tre utilis√© pour cr√©er plusieurs r√©seaux sur un m√™me territoire, dont la r√©ception de l'une ou l'autre station de base sera r√©partie sur la base de diff√©rents pr√©ambules. </blockquote>  <b>AS:</b> Br√®ve explication.  Les r√©cepteurs de signaux UNB fonctionnent au niveau du bruit de l'air.  En r√®gle g√©n√©rale, des r√©cepteurs √† conversion directe sont utilis√©s, apr√®s quoi des FFT sont effectu√©es.  Si le signal a une modulation de phase, regardez plus loin le changement de phase pour chaque canal de fr√©quence.  Si une s√©quence num√©rique correspondant au pr√©ambule est trouv√©e dans n'importe quel canal, alors une d√©cision est prise sur la pr√©sence d'un signal utile.  En m√™me temps, sur chaque corr√©lateur apr√®s la FFT, une s√©quence al√©atoire de z√©ros et de uns s'√©carte constamment du bruit de l'√©ther - cela signifie qu'il y a toujours la possibilit√© d'obtenir un pr√©ambule du bruit de l'√©ther.  Voyons maintenant √† quelle fr√©quence de faux pr√©ambules de 16 bits appara√Ætront, par exemple, sur le r√©cepteur, dont l'utilisation est d√©clar√©e par Vaviot, les auteurs d'un "projet de norme nationale" similaire.  La bande de r√©ception d√©clar√©e par eux est de 200 kHz avec un pas FFT de 7 Hz, ce qui signifie que plus de 28 000 corr√©lateurs sont n√©cessaires.  Pour un coup exact dans une longueur de bit de 10 ms (vitesse de transmission 100 bps), les corr√©lateurs d√©marrent toutes les 2,5 ms.  Au total, 11 millions de corr√©lats doivent √™tre v√©rifi√©s chaque seconde pour la pr√©sence √©ventuelle d'un pr√©ambule, et <i>une moyenne de 178 faux pr√©ambules seront d√©vers√©s</i> du bruit de l'√©ther <i>chaque seconde</i> .  Chaque faux pr√©ambule doit √™tre trait√© - et en m√™me temps ne pas perdre la r√©ception des vrais pr√©ambules.  Il s'agit d'une t√¢che excessivement redondante pour un processeur BS, qui fonctionne d√©j√† √† la limite. <br><br>  Pour tous les fabricants de syst√®mes UNB que je connais, <i>le pr√©ambule mesure 32 bits</i> et n'a pas √©t√© choisi par hasard, mais √† la suite de calculs et d'exp√©riences. <br><br>  De plus, le pr√©ambule n'a pas seulement pour objet d'extraire un signal utile du flux de bruit, mais √©galement d'assurer la synchronisation.  <i>Dans les syst√®mes UNB, des s√©quences M sp√©ciales de bits avec une fonction d'autocorr√©lation prononc√©e sont utilis√©es comme pr√©ambule</i> .  Par exemple, si avant la s√©quence propos√©e par les auteurs (1010101010101010 <sub>2</sub> ), une paire 10 <sub>2 de plus est</sub> accidentellement re√ßue du bruit, le r√©cepteur d√©terminera le d√©but des informations utiles deux bits plus t√¥t et ne pourra pas recevoir le paquet. <br><br>  Certains syst√®mes utilisent des pr√©ambules r√©guliers, mais apr√®s eux, il y a toujours le mot synchronisation, qui n'est pas pr√©vu dans ce protocole.  Pour les m√™mes raisons, il est incorrect d'utiliser l'identifiant de p√©riph√©rique comme pr√©ambule pour la liaison descendante, comme le pr√©voit ce protocole. <br><br>  <b>OA: les</b> auteurs du projet de norme se r√©sument clairement √† l'id√©e d'un ¬´rapport signal / bruit √©lev√©¬ª profond√©ment ancr√© dans leur t√™te, qu'ils ont d√©j√† soulign√© √† plusieurs reprises.  Oui, lors d'exp√©riences en laboratoire, le SNR est √©lev√© et le r√©cepteur peut fonctionner en mode `` Je vois le signal - je re√ßois le signal '' (et beaucoup de produits bon march√© vendus sur Aliexpress fonctionnent avec succ√®s dans ce mode, offrant une port√©e de communication de plusieurs centaines de m√®tres). <br><br>  Dans toutes les conditions r√©elles, et plus encore √† des distances d√©clar√©es de 50 km, le pr√©ambule propos√© mourra simplement dans le bruit: un mauvais bit ou un bruit al√©atoire devant lui suffira pour emp√™cher le r√©cepteur de reconna√Ætre le paquet. <br><br>  <b>AS:</b> Sans √©l√©ments de codage anti-bruit, il est impossible d'obtenir des communications de haute qualit√© dans les conditions de bruit a√©rien quotidien, en particulier dans la gamme de fr√©quences sans licence, c'est un ¬´classique du genre¬ª.  Toute interf√©rence d'impulsion courte dans le canal, coupant un seul bit dans toute la s√©quence, et le r√©cepteur n'acceptera rien. <br><blockquote>  L'ID de l'exp√©diteur est une s√©quence unique de 32 bits attribu√©e √† un p√©riph√©rique lors de sa production.  Des informations suppl√©mentaires sur les identifiants sont donn√©es dans l'Annexe E: Format d'√©criture des identifiants, unit√©s d'abonn√©, calcul des informations de commande et plages r√©serv√©es d'identifiants. </blockquote>  <b>OA:</b> la norme, qui pr√©tend √™tre la base d'un syst√®me de transfert de donn√©es unifi√© dans les syst√®mes de comptabilit√© des ressources, ne d√©crit pas les r√®gles selon lesquelles les fabricants choisissent eux-m√™mes les identifiants - il n'est m√™me pas indiqu√© que de telles r√®gles existeront un jour.  √Ä quoi cela m√®nera-t-il?  C'est vrai, pour un tas d'appareils de diff√©rents fabricants, mais avec les m√™mes identifiants, car chaque deuxi√®me fabricant num√©rotera simplement les appareils √† partir de z√©ro. <br><blockquote>  Les informations de service se composent de 8 bits, les 6 bits les plus √† gauche √©tant r√©serv√©s pour une utilisation future.  2 bits sont r√©serv√©s au num√©ro de paquet dans le message. </blockquote>  <b>OA: une</b> quantit√© tr√®s √©trange et tr√®s modeste d'informations de frais g√©n√©raux.  On pourrait sp√©cifier le num√©ro de paquet de bout en bout, le type de cryptage, la taille du paquet et bien plus encore.  On ne sait pas pourquoi nous avons m√™me besoin d'un num√©ro de paquet "local" dans le message - disons que nous avons re√ßu le num√©ro de paquet 0, puis le num√©ro 1. Faut-il √©liminer le deuxi√®me?  Et si c'est d√©j√† le paquet num√©ro 1 du message suivant, duquel nous avons perdu le num√©ro 0 √† l'antenne?  Et si nous ne pouvons pas √©liminer les paquets sur cette base, comment r√©soudre le probl√®me avec le fait que l'appareil peut transmettre 4 paquets identiques d'affil√©e - les acceptons-nous et les consid√©rons-nous tous, recevant plusieurs charges utiles en double √† la sortie? .. <br><br>  <b>AS:</b> Habituellement, un pr√©ambule suit un en-t√™te qui indique la longueur du paquet, ce qui n'est pas le cas dans ce protocole.  Comment le r√©cepteur comprend-il le nombre de bits √† composer?  Vous pouvez, bien s√ªr, v√©rifier toutes les longueurs possibles en utilisant CRC, mais personne ne le fait, c'est trop cher du point de vue mat√©riel du r√©cepteur. <br><blockquote>  La somme de contr√¥le des paquets est calcul√©e sur la base de l'algorithme de l'annexe B: Calcul de la somme de contr√¥le des paquets. </blockquote>  <b>OA:</b> pour √™tre honn√™te, je me tiens juste la bouche ouverte.  Non, <i>g√©n√©ralement aucune</i> protection contre les attaques typiques dans le protocole n'est simplement fournie!  Avec la s√ªret√© et la s√©curit√© d√©clar√©es du protocole, l'utilisation de chiffres forts, et d'autres, et d'autres, n'importe qui peut attraper le paquet de quelqu'un d'autre, changer les champs qu'il contient, substituer la charge utile d'un autre paquet, recalculer la somme de contr√¥le - et la diffuser, et la station de base l'acceptera et ne peut en aucune fa√ßon √™tre en mesure de distinguer un faux d'un package "natif". <br><br>  <b>AS: les</b> d√©veloppeurs prot√®gent les informations utiles avec le cryptage, mais ce n'est clairement pas suffisant!  Les d√©veloppeurs affirment qu'ils connaissent les protocoles LoRaWAN et NB-FI, si tel √©tait le cas, ils comprendraient pourquoi une protection contre les r√©p√©titions est requise et pourquoi une insertion d'imitation suppl√©mentaire est n√©cessaire dans le package.  Par exemple, un colis avec une charge utile de 0 bit est absolument dangereux, il n'y a aucun probl√®me √† l'√©crire depuis l'air et √† le r√©p√©ter, et le syst√®me le comprendra comme le sien.  Il n'est pas non plus difficile pour un attaquant d'envoyer des ordures au syst√®me ou de r√©p√©ter pour le compte de n'importe quel capteur dans des packages d'une longueur non nulle. <br><br>  La norme a priori est d√©j√† devenue des protocoles de s√©curit√© de l'information dans LoRaWAN, ce qui justifiait l'utilisation de deux cl√©s de s√©curit√©, pour le r√©seau et pour l'utilisateur, ainsi que la possibilit√© de g√©n√©rer des cl√©s de session par voie a√©rienne, les d√©veloppeurs de protocoles n'ont apparemment m√™me pas pens√© √† cela. <br><blockquote>  Les cl√©s de chiffrement doivent √™tre stock√©es sur l'appareil d'abonn√© et sur les serveurs r√©seau dans un stockage s√©curis√©.  Pour chiffrer les paquets de liaison montante et de liaison descendante, diff√©rentes cl√©s de chiffrement doivent √™tre utilis√©es.  Pour chaque appareil, l'ensemble de cl√©s de chiffrement doit √™tre unique. </blockquote>  <b>OA:</b> d'une part, les d√©veloppeurs d'OpenUNB se cr√©ditent de "tailles de champs s√©lectionn√©es en multiples de 8 bits, pour un traitement plus efficace sur microprocesseurs" (orthographe de l'auteur), d'autre part, il semble qu'ils ne connaissent tout simplement pas une technique d'optimisation sym√©trique aussi efficace le cryptage, comme la possibilit√© de conserver l'appareil final au lieu de deux proc√©dures - cryptage et d√©cryptage - une seule, ce qui r√©duit sensiblement la taille du micrologiciel sur les microcontr√¥leurs.  Au moins dans le projet de norme, il n'est pas mentionn√©. <br><br>  <b>AS:</b> mais ils ont vraiment r√©ussi √† capter les tailles des champs en multiples de 8 bits! <br><blockquote>  L'envoi d'un message depuis un canal aval n'est possible qu'en r√©ponse √† un message provenant d'un canal amont.  Il y a plusieurs raisons √† cela.  Premi√®rement, le protocole est sp√©cialis√© pour les appareils d'abonn√©s qui n'ont pas d'alimentation externe et sont con√ßus pour une dur√©e de vie de la batterie extra longue, ce qui signifie que la consommation d'√©nergie joue un r√¥le cl√©.  √âtant donn√© que la consommation de l'√©metteur en mode r√©ception est assez √©lev√©e, vous ne devez passer √† ce mode que pendant une courte p√©riode </blockquote>  <b>OA: Je</b> ne comprends pas tr√®s bien pourquoi limiter consciemment le champ d'application de la norme, d'ailleurs, faites-le d√©j√† que ce qui est indiqu√© dans l'introduction de la m√™me norme.  Un compteur √©lectrique domestique ordinaire a-t-il une alimentation externe?  A.  Qu'est-ce qui vous emp√™che de garder ¬´l'√©metteur en mode r√©ception¬ª allum√© en permanence?  Rien. <br><blockquote>  Deuxi√®mement, il n'est pas possible de s√©lectionner un intervalle de temps sp√©cifique sur un appareil d'abonn√©, car afin de r√©duire le co√ªt des appareils d'abonn√©, ils sont souvent √©quip√©s d'oscillateurs √† cristal instables et n'ont pas d'horloge en temps r√©el. </blockquote>  <b>OA:</b> Ce n'est bien s√ªr pas le cas.  Premi√®rement, en regardant deux paragraphes en avant, les auteurs tiennent d√©j√† une immense fen√™tre de r√©ception - 8 secondes (dans le m√™me LoRaWAN, les fen√™tres de r√©ception sont de 1 √† 2 secondes).  Deuxi√®mement, il suffit de calculer la fr√©quence √† laquelle l'appareil doit synchroniser l'horloge avec la station de base (et fournir une m√©thode pour une telle synchronisation) afin que le probl√®me de l'instabilit√© du quartz ne soit pas un probl√®me.  Dans LoraWAN, cela se fait dans les appareils de classe B. <br><blockquote>  Troisi√®mement, la faible stabilit√© des oscillateurs √† cristal sur les dispositifs d'abonn√© n√©cessite l'utilisation de l'algorithme de r√©glage de fr√©quence d√©crit dans l'annexe D: R√©glage de la fr√©quence de transmission en liaison descendante.  Mais, puisque le dernier message du canal amont est utilis√© pour calculer la d√©rive de fr√©quence, et que la fr√©quence de l'oscillateur √† cristal peut changer dans le temps (par exemple, lorsque la temp√©rature change), le temps entre le dernier message amont et l'aval doit √™tre suffisamment petit pour modifier l'√©cart de fr√©quence sur l'abonn√©. pendant cette p√©riode √©tait n√©gligeable. </blockquote>  <b>AS:</b> √Ä en juger par les d√©tails de la description, les d√©veloppeurs du protocole OpenUNB consid√®rent que leur solution au probl√®me de la synchronisation en fr√©quence en aval est leur r√©alisation la plus importante. <br><br>  La m√©thode de calcul elle-m√™me est tout √† fait acceptable, mais il y a plusieurs probl√®mes: <br><br><ul><li>         ,     ,    . </li><li>        . </li><li>      ,     7  50 ,   7      . </li><li>         ,        . </li><li>              . </li><li>           ,            ,     . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons men√© les √©tudes appropri√©es et n'avons pas pu obtenir, dans des conditions r√©elles, une pr√©cision de frappe dans la plage de 868 MHz au-dessus de ¬± 150 Hz. Pour recevoir un signal BPSK de 100 Hz, une pr√©cision d'au moins 30 Hz est requise. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SigFox fonctionne dans le canal de retour avec une modulation de fr√©quence de 600 Hz. Je pense que l'organisation maximale possible du canal de retour est de 2GFSK avec un √©cart de 300 Hz et une augmentation de la puissance du signal aval √† 100 mW.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, les syst√®mes UNB avec codage √† d√©calage de phase du signal ne fonctionnent pas tr√®s bien sur les objets en mouvement de toute fa√ßon en raison d'une augmentation du bruit de phase pendant la propagation du signal par trajets multiples. La m√©thode propos√©e pour d√©terminer la fr√©quence du signal descendant en pr√©sence d'une polarisation Doppler donnera une erreur suppl√©mentaire dans la d√©termination de la fr√©quence porteuse du canal de liaison montante, ce qui conduira √† une erreur suppl√©mentaire dans la d√©termination de la fr√©quence descendante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peut-√™tre que les auteurs du protocole ont d'autres donn√©es, confirm√©es non pas "sur la table", mais en conditions r√©elles, j'aimerais voir les rapports d'essais. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ajoute que m√™me un √©cart de 30 Hz avec une bande de 100 Hz n'est pas une r√©ception id√©ale, mais environ 10% des erreurs de bits (dans les syst√®mes LPWAN, cela est traditionnellement pris √† l'√©tranger, o√π la qualit√© de r√©ception peut toujours √™tre consid√©r√©e comme acceptable). √âtant donn√© le manque de codage du bruit dans OpenUNB, la probabilit√© qu'un message de l'ordre de quelques centaines de bits capture au moins une erreur avec un BER de 10% est tr√®s √©lev√©e - c'est-√†-dire que dans OpenUNB j'√©valuerais l'√©cart de fr√©quence admissible auquel quelque chose d'autre en quelque sorte seront parfois prises, √† 5% maximum. En </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trente fois</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mieux qu'il est possible d'obtenir en r√©alit√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En bref, il existe de s√©rieux doutes que la m√©thode d'organisation d'un canal de communication inverse d√©crite dans le projet de norme soit g√©n√©ralement op√©rationnelle en principe.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La dur√©e de l'intervalle de temps T </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dl</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est choisie pour √™tre plusieurs fois la dur√©e de la transmission d'une liaison descendante de paquet. </font><font style="vertical-align: inherit;">Une telle augmentation de la taille de la fen√™tre temporelle est n√©cessaire, car il y a g√©n√©ralement de nombreux p√©riph√©riques par station, ce qui peut entra√Æner la n√©cessit√© d'envoyer un paquet de liaison descendante √† plusieurs p√©riph√©riques en m√™me temps.</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chaque magie a un prix, comme l'a dit le h√©ros d'une s√©rie. </font><font style="vertical-align: inherit;">Dans le cas de la planification d'un r√©seau radio, ce prix doit √™tre calcul√© - et soit les auteurs du projet de norme n'ont pas trouv√© le temps de faire de tels calculs (mais peut-√™tre alors ne valait-il pas la peine de se pr√©cipiter pour publier le projet?), Ou bien ils n'ont pas du tout devin√© de les faire.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans ce cas, comme les m√™mes auteurs l'ont correctement not√© ci-dessus, le fonctionnement du r√©cepteur est une proc√©dure plut√¥t √©nergivore. Dans un cas, nous obtenons 8 secondes de fonctionnement inactif, dans l'autre (lorsque le cr√©neau de r√©ception est r√©duit √† 1-2 secondes) - la possibilit√© que la station de base ne r√©ponde pas (elle n'a pas eu le temps pour le cr√©neau horaire d√©fini) et la n√©cessit√© de relancer la messagerie du r√©cepteur. Il √©tait n√©cessaire d'estimer au moins approximativement la charge de l'√©ther et la consommation d'√©nergie dans les deux cas, en fonction de l'intensit√© de l'√©change radio dans le r√©seau, et √©galement de pr√©voir un moyen explicitement d√©crit pour confirmer que le r√©cepteur a re√ßu des messages de la station de base. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enfin, il ne ressort pas clairement du texte de la norme si l'ensemble du local en aval doit tomber dans T </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dl</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ou le destinataire, apr√®s avoir pris le pr√©ambule et son adresse, √©tendra la fen√™tre de r√©ception jusqu'√† ce qu'il ait le temps de recevoir le colis dans son int√©gralit√©. </font><font style="vertical-align: inherit;">En r√®gle g√©n√©rale, dans les syst√®mes LPWAN, ils suivent le deuxi√®me chemin, cela permet √† nouveau de r√©duire la dur√©e requise de la fen√™tre de r√©ception.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cas de r√©ception r√©ussie par le dispositif abonn√© du message du canal aval, il envoie en r√©ponse un message de r√©ception r√©ussie sur la liaison montante. </font><font style="vertical-align: inherit;">Les donn√©es utilisateur doivent contenir une indication du message confirm√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[...] Un message avec une charge utile nulle peut √™tre utilis√© comme confirmation que la station de base a re√ßu des donn√©es d'une unit√© d'abonn√© (accus√© de r√©ception).</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bonjour encore une fois, la s√©curit√©! Comme confirmation de livraison, il est propos√© d'envoyer un paquet cryptographiquement non prot√©g√© √† partir de la station de base, que n'importe qui peut truquer en une demi-minute. Sans parler de ce que vous essayez de comprendre √† partir de ces deux paragraphes - l'appareil doit-il envoyer un message sur sa r√©ception r√©ussie √† l'ACK? Il ressort du texte litt√©ral du projet de norme qu'il le devrait. ACK √† ACK. Mais, au moins, il n'est dit nulle part que la station de base devrait r√©pondre ACK pour ACK sur ACK - ou plut√¥t, le projet de norme ne dit nulle part comment la BS doit comprendre si elle doit accuser r√©ception du paquet ou non. Ce n'est pas une propri√©t√© du paquet (bien qu'avec 6 bits vides dans son en-t√™te, un puisse √™tre attribu√© √† l'indicateur de confirmation de livraison).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et qu'est-ce que cela signifie, "une indication d'un message qui est confirm√©" doit √™tre contenue? </font><font style="vertical-align: inherit;">Comment d√©signer un message sp√©cifique dans un syst√®me dans lequel un √©tiquetage individuel des messages par un protocole n'est pas fourni?</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La norme OpenUNB n√©cessite un minimum d'√©nergie pour envoyer un bit d'information. </font><font style="vertical-align: inherit;">Selon les r√©sultats des tests pr√©liminaires, il s'agit d√©sormais de l'un des protocoles les plus √©conomes en √©nergie.</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AS: Une</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©claration controvers√©e et non confirm√©e. </font><font style="vertical-align: inherit;">Le protocole contient au moins quelques √©l√©ments qui indiquent sa faible efficacit√© √©nerg√©tique:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une somme de contr√¥le excessivement longue de 32 bits, bien que tous les fabricants de tels syst√®mes co√ªtent CRC 16 bits. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La restriction sur la longueur des informations n'est que strictement de 64 ou 128 bits. </font><font style="vertical-align: inherit;">Si vous devez envoyer un court message de plusieurs bits (par exemple, √† partir de n'importe quel capteur binaire - 1 bit), vous devrez alors transmettre quelques octets suppl√©mentaires √† chaque fois, quelle est l'efficacit√© ici.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le besoin d√©clar√© de dupliquer la transmission d'un message jusqu'√† quatre fois, ce qui modifie imm√©diatement les param√®tres √©nerg√©tiques de 4 fois. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une longue fen√™tre de 8 secondes pour recevoir les paquets en aval. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'aimerais beaucoup voir les rapports d'essais, il y a certains doutes qu'ils existent m√™me. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oui, il est difficile de comprendre o√π Skoltech √©tait si press√© qu'il ne pouvait m√™me pas partager des rapports de test et d'autres informations de support pour √©valuer les performances r√©elles d'OpenUNB.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenUNB est un standard ouvert universel, absolument pr√™t pour une utilisation pratique. </font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AS:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le texte de la norme est grossier, il contient des descriptions fragmentaires, incompl√®tes et inexactes des √©l√©ments perfor√©s individuels; son utilisation dans la pratique est impossible. </font><font style="vertical-align: inherit;">Il n'y a rien sur les sp√©cificit√©s de l'√©l√©ment cl√© des syst√®mes UNB - le r√©cepteur de la station de base. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans l'ensemble, j'ai le sentiment d'un bon travail de cours de troisi√®me ann√©e √©crit en une semaine ou deux. </font><font style="vertical-align: inherit;">Bien jou√©, j'ai assist√© √† toutes les conf√©rences, j'ai m√™me compris 70-80 pour cent, il n'y a pas encore d'exp√©rience r√©elle, mais au moins il y a un sujet de discussion fructueuse avec l'enseignant lors du passage du test. </font><font style="vertical-align: inherit;">Avant l'application pratique, ce n'est pas comme avant la lune - pour une application pratique dans LPWAN, tout ce projet devra √™tre rejet√© et r√©√©crit.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr464103/">https://habr.com/ru/post/fr464103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr464091/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 311 (du 12 au 18 ao√ªt)</a></li>
<li><a href="../fr464093/index.html">Produits num√©riques: que faire si un client vient chercher un achat dans un an?</a></li>
<li><a href="../fr464095/index.html">Getters et Setters √† Dart et Flutter</a></li>
<li><a href="../fr464097/index.html">L'√©volution de l'intelligence: pourquoi les robots ont besoin d'√©motions</a></li>
<li><a href="../fr464099/index.html">Analyse du langage VKScript: JavaScript, √™tes-vous?</a></li>
<li><a href="../fr464105/index.html">Serveur natif Commento avec Docker Compose</a></li>
<li><a href="../fr464107/index.html">√âv√©nements num√©riques √† Moscou du 19 au 25 ao√ªt</a></li>
<li><a href="../fr464109/index.html">Parachutes supersoniques spatiaux</a></li>
<li><a href="../fr464111/index.html">Natas Web. Passage de la plateforme CTF visant √† exploiter les vuln√©rabilit√©s du Web</a></li>
<li><a href="../fr464113/index.html">"CAD pour tout le monde, gratuitement et ne laissez personne partir ..." ou les premi√®res √©tapes de la programmation de FreeCAD en Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>