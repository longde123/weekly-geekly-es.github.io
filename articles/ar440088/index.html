<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ฝ ๐ โธ๏ธ bobaflu - ุงูููุญูุงุช ุงูุจุฑูุฌุฉ ุนูู ุงูุฑูุฑูุฉ ๐ฆ ๐ฉ๐พโ๐พ โ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุณูู ุชุฑูุฒ ูุฐู ุงูููุงูุฉ ุนูู ุชูููุฐ ุนููู ุงููุญููู Flutter. 


 ุฃู ุนููู ุงููุญูููุ 


 ูุตู ุงูููุดูุฑ ุงูุณุงุจู ูุธุงู ููุญูุงุช ุงูุจุฑุงูุฌ: 
 bobaoskit - ุงูููุญูุงุช ุ dnssd ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>bobaflu - ุงูููุญูุงุช ุงูุจุฑูุฌุฉ ุนูู ุงูุฑูุฑูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440088/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-n/0y/sv/-n0ysvv41yt_uwk8hh-fa1ui79e.png"></p><br><p style=";text-align:right;direction:rtl"> ุณูู ุชุฑูุฒ ูุฐู ุงูููุงูุฉ ุนูู ุชูููุฐ ุนููู ุงููุญููู Flutter. </p><br><p style=";text-align:right;direction:rtl">  ุฃู ุนููู ุงููุญูููุ </p><br><p style=";text-align:right;direction:rtl">  ูุตู ุงูููุดูุฑ ุงูุณุงุจู ูุธุงู ููุญูุงุช ุงูุจุฑุงูุฌ: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">bobaoskit - ุงูููุญูุงุช ุ dnssd ู WebSocket</a> . </p><br><p style=";text-align:right;direction:rtl"> ุงูุชูุงุซููุฉ ูุจุฑูุงูุฌ ููุญู ูู ูุงุฆู ุญูููู.  ุงููุตุจุงุญ ุงูููุฑุจุงุฆู ุ ุงูููุชุงุญ ุ ูุดุบู ุฃุณุทูุงูุงุช ูุฏูุฌุฉ / ูุงุณูุช ุ ูุดุบู ุฑุงุฏูู ุ ููุธู ุญุฑุงุฑุฉ ุ ูุณุชุดุนุฑ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุ ูุณุชุดุนุฑ ุงูุญุฑูุฉ ุ ุฅูุฎ ... ูุชู ุชุญุฏูุฏ ูุฌููุนุฉ ูู ุงูููุญูุงุช ุญุณุจ ุงูุฎูุงู ูุฑูุฒ ุงูุจุฑูุงูุฌ.  ููููู ุชูููุฐ ูุง ูุง ููู ุนู ุฑูุนุฉ ุงูุดุทุฑูุฌ.  ุจุงููุณุจุฉ ุฅูู ูุฐู ุงูููุญุฉ ุ ูุฌุจ ุฃู ูููู ูุฏูู ููู ( <code>control</code> ) ูุญูู <code>control</code> ุ ูุงูุฐู ูุฃุฎุฐ ูุงุฆู <code>{ from: "e2", to: "e4" }</code> ุนูู ุณุจูู ุงููุซุงู ุ ูุญููู ุงูุฎุฏูุฉ ูุฅุนุงุฏุฉ ุชุนููู ุงูุฃุฑูุงู ุ ููุง ุฅูู ุฐูู ... ุณูููู ุงูุจุฑูุงูุฌ ุงููุตู ุงูููุญู ุจูุนุงูุฌุฉ ุทูุจ ุงูุชุญูู ูู ุญูู <code>move</code> ุ ููุจูู ุงููุฑุงุฑ ูู ูุง ุฅุฐุง ูุงู ูู ุงููููู ุชุญุฑูู ุงูุฑูู ุ ูุณูุนูุฏ (ุฃู ูุง) ุงูุญุงูุฉ ูุน ููุถุน ุงูุฃุฑูุงู ูู ุฌููุน ุฃูุญุงุก ุงูุญูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงุน ุงูููุญูุงุช ุงููุนุชูุฏุฉ ุญุงูููุง ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงููุธุงุฆู ูู ููุง ููู: "ุงูุชุจุฏูู" ุ "ูุณุชุดุนุฑ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ" ุ "ุชุฑููุณุชุงุช" ุ "ูุดุบู ุฑุงุฏูู". </p><br><p style=";text-align:right;direction:rtl">  ุญูู ูุนุจุฉ ุงูุดุทุฑูุฌ ุ ูู ูููู ููุงู ูุฒูุฏ ูู ุงูููุงุด.  ุฅุฐุง ูุงูุช ูุซูุฑุฉ ููุงูุชูุงู ููู ูุฐู ุงูุญุงูุฉ ุ ูุฑุญุจุง ุจูู ูู ุงููุท. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุญุชู <code>bobaoskit.worker</code> ููุฏ ุงูุชุดุบูู.  ุชูุฌุฏ ูุงุฆูุงุช ููุญูุฉ ูู ุฐุงูุฑุฉ ุงูููุจููุชุฑ ุ ูููููู ูุฑุงุกุฉ ุงููุนูููุงุช ุงููุชุนููุฉ ุจูุง ุ ูููููู ุฅุฑุณุงู ุทูุจ <code>JSON</code> ูุฏูููุง ุฅูู ูููุฐ <code>WebSocket</code> ุ ููุดุงูุฏุฉ ุงูุฃุญุฏุงุซ ุงููุงุฑุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุฅุฏุงุฑุฉ ุ ููุฏ ุตูุนุช ุฃุจุณุท ุชุทุจููุงุช ุงููุงุชู ุงููุญููู. </p><br><h2 id="pochemu-flutter" style=";text-align:right;direction:rtl">  ููุงุฐุง ุชุฑูุฑูุ </h2><br><p style=";text-align:right;direction:rtl">  ุนูู ูุฏู ุงูุนุงููู ุงููุงุถููู ุ ูุงูุช ููุฑุฉ ุชุนูุด ูู ุฑุฃุณู ุจูุดุงุท ูุฏุฑุงุณุฉ ุงูุจุฑูุฌุฉ ููุฃุฌูุฒุฉ ุงููุญูููุฉ.  ููุฐ ุฃู ูุชุจุช ูู <code>JavaScript</code> ุ ููุช ุจุฏุฑุงุณุฉ ุงูุญููู ุงูุชู ุชุณูุญ ูู ุจุนุฏู ุชุนูู ูุบุฉ ุจุฑูุฌุฉ ุฌุฏูุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  <code>Appcelerator</code>  ุจุฏุฃ ุงูุฏุฑุงุณุฉ ูุนู.  ุฅุฐุง ูู ุชุชุบูุฑ ุงูุฐุงูุฑุฉ ุ ุชููู SDK ููุชูุญุฉ ุ ูููู IDE ูุน ุงูุชุนุฑููุงุช ุงููุฎุชููุฉ. <br>  <code>NativeScript</code>  ููุฏ ููุช ุจุงููุนู ุจุฅูุดุงุก ุชุทุจูู ุจุณูุท ูุนุฑุถ ูุงุฆูุฉ ุจุงูุตูุฑ.  ูู ูุฐูุจ ุฃุจุนุฏ ูู ุฐูู. <br>  <code>ReactNative</code>  ุฃุทูู ุงุนุชุฏุงุก ุนูู ุงูุฃุทุฑ ุงููุฐููุฑุฉ ุญุชู ุงูุขู.  ุงูุชุญุฏู ุงูุฃูุจุฑ ูู ุงูุจุฏุก.  ูุธุฑุช ุฅูู ุงูุฏูุฑุฉ.  ูู ุงูุจุฏุงูุฉ ูุงู ุงูุฃูุฑ ูุงุถุญูุง ููุซูุฑูุง ููุงูุชูุงู ุ ููุง ุงุชุถุญ.  ููู <code>redux</code> ูุจุนุฏ ูุดู ุงูุชุบูุจ.  ุซู ุญุงูู ุจุงูุชุธุงู ุงูุจุฏุก ูู ุงููุชุงุจุฉ ุ ููู <code>redux</code> ุนููุฏ ูู ูุณูุญ ูููุณู ุฃู ูุชุบูุจ. </p><br><p style=";text-align:right;direction:rtl">  ููุชูุฌุฉ ูุฐูู ุ ูู ุฃูู ูุฑููุฉ ุจุฃู ูุฑุงุฑ ุจุนุฏ ุฐูู (ููุงูุฉ ุนุงู 2016).  ุฑุจูุง ูุฃูู ูู ููู ููุงู ูููุฉ ูุญุฏุฏุฉ ุ ุฑุจูุง ูุฃุณุจุงุจ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุฑุจ ุฅูู ุฎุฑูู ุงููุงุถู (2018) ุ ูุงู ุงูุนูู ุฌุงุฑู ุจุงููุนู ุนูู sdk ูููุญูุงุช ุงูุจุฑุงูุฌ.  ุจุทุจูุนุฉ ุงูุญุงู ุ ุชุญุชุงุฌ ุฅูู ุชุทุจูู ูููุงุชู ุงููุญููู.  ุจุฏุฃ ูู ุดูุก ูุน mdns.  ูุฑุฉ ูุงุญุฏุฉ ูู ููุช ูุฑุงุบู ููุฏ ููุช ุจุชุญุฏูุซ ReactNative ุ ููุฌุฏุช ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ react-native-zeroconf ุ ุงูุฐู ุฃูุดุฃ ุงูุชุทุจูู.  ูููุง ููุชุนูููุงุช ุ ุชุซุจูุช ุ ุฃุฏูู <code>link</code> ุ ุฃุทููุช.  ุชู ุจุฏุก ุชุดุบูู ุชุทุจูู ุชุตุญูุญ Expo ุ ุงูุฐู ูุง ูุฏุนู ุงููุญุฏุงุช ุงูููุทูุฉ ุงูุฃุตููุฉ ุ ูุจุงูุชุงูู ุ ูู ูุนูู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ mdns.  ูู ูุฐู ุงููุฑุญูุฉ ุ ูู ููู ููุงู ูุง ูููู ูู ููุช ุงููุฑุงุบ ูุฅูุดุงุก ุชุทุจูู ูุธูู (ุจุฏูู ูุนุฑุถ) ููุชูุงุนู ุงูุฃุตูู ูุงุฎุชุจุงุฑู.  ุชู ุชุฃุฌูู ุงูุนูู ูุจุถุนุฉ ุฃุดูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ููุณู ุ ุธูุฑุช ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงูููุงุฏ ุญูู <code>flutter</code> ุนูู ุงูุดุจูุฉ.  ููุฏ ููุช ุจุชุซุจูุช ููุณู.  ุงูุชุซุจูุช ุจุณูุท: <code>git clone</code> ูุฃุถู ุฅูู <code>PATH</code> .  ูููู ุงูุจุงูู ุจุงููุนู ุจุฅุนุฏุงุฏ Android SDK / Xcode (ูู ุญุงูุชู ุ ุชู ุชูููู Android SDK ููุชุฑุฉ ุทูููุฉ. ูุง ูููููู ุชุทููุฑ ูุธุงู iOS ุ ูุฃููู ูุณุช ูุณุชุฎุฏู ูุธุงู MacOS) ู Dart SDK (ููููู ุชุซุจูุชู ุจุดูู ูููุตู ุ ูููู ููุณ ุจุงูุถุฑูุฑุฉ ุ ูุฃูู ุฌุฒุก ูู ุงูุฑูุฑูุฉ). </p><br><h2 id="principshema-raboty" style=";text-align:right;direction:rtl">  ูุจุฏุฃ / ูุฎุทุท ุงูุนูู </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏ ุจุฏุก ุงูุชุดุบูู ุ ูุจุญุซ ุงูุชุทุจูู ุนู ุฎุฏูุงุช <code>_bobaoskit._tcp</code> ุนูู ุงูุดุจูุฉ ุงููุญููุฉ ุจุงุณุชุฎุฏุงู ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ <a href="">flutter_mdns</a> .  ููุงู ุนุฏุฉ ุฅุตุฏุงุฑุงุช ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุ ุฌููุนูุง ุชุฃุฎุฐ ุฌุฐูุฑูุง ูู ุงููุณุฎุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุดูุฑุฉ</a> ุ ููููุง ุบูุฑ ูุชูุงููุฉ ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ูู Dart SDK ุ ุนูู ุงูุชูุงูู ุ ุงูุนุฏูุฏ ูู ุงูุชูุงููุงุช ุฐุงุช ุงูุดููุฉ ูุงูุฅุถุงูุฉ.  ููุฏ ุงุฎุชุฑุช ูุฐุง ุงูุฅุตุฏุงุฑ ูุฃู ุงูุขุฎุฑูู ูู ูุญููุง ูุถููู ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช ุงูููุชุดูุฉ ูู ููุช ูุงุญุฏ. <br>  ุนูุฏ ุงููุดู ูุงูุชุตููู (onResolve) ุ ุชุชู ุฅุถุงูุฉ ุงููุถูู ุฅูู ุงููุงุฆูุฉ. <br>  ุงูุตูุญุฉ ุงูุชู ุชุญุชูู ุนูู ูุงุฆูุฉ ุจุงูุฎุฏูุงุช ุงูููุชุดูุฉ ูู <code>StatefulWidget</code> ุ ุนูู ุงูุชูุงูู ุ ุนูุฏูุง ุชูุชุดู / ุชููุฏ ุงูุฎุฏูุงุช ุ ูุชู <code>setState() {...}</code> </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุงุฎุชูุงุฑ ูุถูู ูู ุงููุงุฆูุฉ ุ ูุชู ุฅูุดุงุก ุตูุญุฉ ุฌุฏูุฏุฉ (ุฃูุถูุง <code>StatefulWidget</code> ) ุ ูุงูุชู ูุชู ุฅุฑุณุงู <code>host</code> <code>port</code> ุงูุฎุฏูุฉ ุงููุญุฏุฏุฉ ุฅูููุง. <br>  ูุชู <code>BobaosKit</code> ูุงุฆู <code>BobaosKit</code> ุงููุณุคูู ุนู ุงูุงุชุตุงูุงุช.  ุชุชู ูุนุงูุฌุฉ ุงูุฑุฏูุฏ ูู ุฎูุงู ุงูุงุณุชุฑุฌุงุนุงุช ุ ููุง  ุจูููุง ุฃูุง ูู ุฃุฏุฑุณ ุงููุซูุฑ ูู ุฏุงุฑุช ุบูุฑ ูุชุฒุงูู.  ูููู ููููุง ูููุซุงุฆู ุงูููุณูุญุฉ ุถูุฆููุง ุ ูุฅู <code>Futures</code> ุชุนุฏ ุจูุซุงุจุฉ ุชูุงุธุฑ <code>Promise</code> ูู JS. <br>  ูุชู ุชุณุฌูู ูุธุงุฆู ููุฃุญุฏุงุซ ุงููุงุฑุฏุฉ (ูุง ุชูุฌุฏ ุฑุฏูุฏ).  <code>EventEmitter</code> ุนู <code>EventEmitter</code> ูู Dart ููุง.  ูุชุจุช ูู ุจุณูุท ุฌุฏุง. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> void registerListener(String name, Function cb) { this._events.add(new BobaosKitCallback(name, cb)); } void removeAllListeners() { this._events = []; } void emitEvent(String name, dynamic params) { // call all listeners List&lt;BobaosKitCallback&gt; foundCallbacks = this._events.where((t) =&gt; t.name == name).toList(); foundCallbacks.forEach((f) =&gt; f.cb(params)); } ... ... void listen() { this.ws.listen((text) { var json = jsonDecode(text); if (json.containsKey('response_id')) { .... } else { //   response_id -  this.emitEvent(json['method'], json['payload']); } }); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุฃุญุฏุงุซ ุงููุงุฑุฏุฉ - ุฅุฐุง ุชูุช ุฅุฒุงูุฉ ุงูููุญู ุ ุชูุช ุฅุถุงูุฉ ุงูุญุงูุฉ ุงููุญุฏุซุฉ.  ุฃู ุฅุฐุง ุชูุช ุฅุฒุงูุฉ ุฌููุน ุงูููุญูุงุช ( <code>clear accessories</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูุธุงุฆู ูุณุฌูุฉ - ูุชุญุฏูุซ ุงูููุงุฆู ุ ุงูุญุงุฌูุงุช ููุฐู ุงูุฃุญุฏุงุซ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฅุฑุณุงู ุทูุจ ููุญุตูู ุนูู ูุนูููุงุช ุญูู ุฌููุน ุงูููุญูุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก ูุงุฆู AccessoryInfo ููู ููุญู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">import 'package:scoped_model/scoped_model.dart'; // AccessoryInfo extends Model // so, when accessory value is updated it descends down to // all widgets inside ScopedModelDescendant class AccessoryInfo extends Model { dynamic id; dynamic type; String name; String job_channel; List control; List status; bool selected; Map&lt;dynamic, dynamic&gt; currentState; AccessoryInfo(Map&lt;dynamic, dynamic&gt; obj) { this.id = obj['id']; this.type = obj['type']; this.name = obj['name']; this.job_channel = obj['job_channel']; this.control = obj['control']; this.status = obj['status']; this.currentState = {}; } void updateCurrentState(key, value) { currentState[key] = value; notifyListeners(); } void notify() { notifyListeners(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงููุงุฆู ูู ุจุงููุนู ูููุฐุฌ.  ูู ุงูุจุฏุงูุฉ ุ ูุชุจุช <code>StatefulWidget</code> ู <code>setState() {}</code> ูู ููุงู ุ ููู <code>setState() {}</code> ูุนูู ููุท ูุน ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุชู ุชุณุฌูู ุงููุณุชูุนูู ุฏุงุฎูู.  ูููู ุจุงููุณุจุฉ ูุฅุฏุงุฑุฉ ุงูููุญูุงุช ุงูุชูุตูููุฉ ุ ููุชู ูู ุงูุจุฏุงูุฉ ุจุฅูุดุงุก ุตูุญุงุช <code>Stateful</code> ุฌุฏูุฏุฉ ุ ููุงุญุธุช ุฃู ุงูุญุงูุฉ ูุง ูุชู ุชุญุฏูุซูุง.  ูุญู - ุชุณุชุฎุฏู <code>ScopedModel</code> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชููู ูุงุฆูุฉ ุงูููุญูุงุช ุ ูุฑุณู ููู ุญุงูุฉ ุทูุจูุง ููุญุงูุฉ ููุถูููุง ุฅูู ุงููุงุฆูุฉ <code>List &lt;AccessoryInfo&gt;</code> .  ุงุณุชุฏุนุงุก <code>setState() {}</code> ุ ูุจุงูุชุงูู ุฅุถุงูุฉ ููุญู ูุนุชูุฏ ุฅูู ุงููุงุฌูุฉ.  ูุชู ุชุนุฑูู ุฃููุงุน ุงูููุญูุงุช ุงููุฏุนููุฉ ูู <code>ListView.builder</code> ููู <code>./lib/widgets/*.dart</code> .  ูุฏุนู ุญุงููุง <code>switch/temperature sensor/radio player/thermostat</code> .  ุงูุนูู ุงูุฑุฆูุณู ูู ุงููุณุชูุจู ูู ุฅุถุงูุฉ ุฃุฏูุงุช ุฌุฏูุฏุฉ ูุชุญุณูู ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุญุงููุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุขู ุญูู ููููุฉ ุฅูุดุงุก ุนูุงุตุฑ ูููุตูุฉ ููู ููุญู.  ุนูู ุณุจูู ุงููุซุงู ุ ุงููุธุฑ ูู ุงูุชุจุฏูู. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> @override Widget build(BuildContext context) { return new ScopedModel&lt;AccessoryInfo&gt;( model: info, child: ScopedModelDescendant&lt;AccessoryInfo&gt;( builder: (context, child, model) { var cardColor = Theme.of(context).cardColor; dynamic switchState = model.currentState['state']; if (switchState is bool) { if (switchState) { cardColor = Colors.deepPurple; } else { cardColor = Theme.of(context).cardColor; } } return Card( color: cardColor, child: ListTile( selected: false, leading: new Icon(Icons.lightbulb_outline), title: new Text("${model.name}"), onTap: () { // to control accessory value // get status value at first bobaos.getStatusValue( model.id, "state", (bool err, Object payload) { if (err) { return print('error ocurred $payload'); } if (payload is Map) { dynamic currentValue = payload['status']['value']; bool newValue; if (currentValue is bool) { // invert newValue = !currentValue; } else { newValue = false; } // then send new value bobaos.controlAccessoryValue( model.id, {"state": newValue}, (bool err, Object payload) { if (err) { return print('error ocurred $payload'); } }); } }); }, onLongPress: () { // TODO: dialog with additional funcs }, )); })); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูููุญู <code>switch</code> ุงูููุน ุ ูุชู ุฅูุดุงุก ุนูุตุฑ ูู ุงููุงุฆูุฉ ุงูุนุงูุฉ ููููุญูุงุช ุ ุนูุฏ ุงูุชูุงุนู ูุน (onTap) ูุชู ุฅุฑุณุงู ุทูุจ ููุญุตูู ุนูู ุงููููุฉ ุงูุญุงููุฉ ุ ุซู ูุชุจุฏูู ูุฐู ุงููููุฉ.  ูุณูุญ <code>ScopedModel</code> ุจุฅุนุงุฏุฉ ุฑุณู ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ููุญุตูู ุนูู ุชุญุฏูุซุงุช ุงูุญุงูุฉ ุงููุงุฑุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุชู ุชุทุจูู ูุนุงูุฌ ุงูููุฑ ุงูุทููู ููุฐุง ุงูููุญู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุดุบู ุงูุฑุงุฏูู ุ ูุจุฏู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> onLongPress: () { Navigator.of(context).push(MaterialPageRoute( builder: (context) =&gt; AccRadioPlayerControl( info: info, bobaos: bobaos, ))); },</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู <code>AccRadioPlayerControl</code> ุตูุญุฉ <code>AccRadioPlayerControl</code> ุ ูุงูุชู ุชุณุชุฎุฏู ุฃูุถูุง <code>ScopedModel</code> ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุ ุชู ุงุณุชููุงุฏ ุงููุตู ุงููุงูู ูุฎูุงุฑุฒููุฉ ุชุดุบูู ุงูุจุฑูุงูุฌ.  ูุง ุชูุฌุฏ ููุฒุงุช ุฅุถุงููุฉ ุ ูุซู ุชุฐูุฑ ุขุฎุฑ ูุถูู ุ ูุง ูุชู ุชุทุจูู ูุฑุฒ ุงูููุญูุงุช ูู ูุฆุงุช / ุบุฑู.  ูู ุงูููุช ุงูุญุงูู ุ ูู ุดูุก ุจุณูุท. </p><br><h2 id="problemy" style=";text-align:right;direction:rtl">  ุงููุดุงูู </h2><br><p style=";text-align:right;direction:rtl">  ุณูู ุฃุตู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ูู ุงูุขู.  ูุง ุฒูุช ูุง ุฃููู ููููุฉ ุงูุชุดุงู ุงุชุตุงู <code>WebSocket</code> ููุทูุน. </p><br><p style=";text-align:right;direction:rtl">  ูููููู ุงุณุชุฎุฏุงู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฆุฉ WebSocket</a> . </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูููู ุงูุชุทุจูู / ุงูุฌูุงุฒ ูู ูุถุน ุงูุณููู ููุชุฑุฉ ุทูููุฉ ุ ูุชู ูุทุน ุงูุงุชุตุงู.  ูุฌุจ ุนููู ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฃููู ูุฅุนุงุฏุฉ ูุชุญ ุงูุฎุฏูุฉ ุงูููุชุดูุฉ. </p><br><h2 id="posleslovie" style=";text-align:right;direction:rtl">  ุฎุงุชูุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุงุญูุฉ ุ ูููู Flutter ุณุฑูุนูุง ุฌุฏูุง ูู ุงูุชุนูู ูุงูุชุทููุฑ.  ุชุญููุช ScopedModel ุจุงููุณุจุฉ ูู ููููู ุงูุชูุฑุงุฑ ุฃูุซุฑ ูุงุจููุฉ ููููู. <br>  ุชุจูู ุฃู ุงูุณูุงู ูุดุงุจู ูุฌุงูุง ุณูุฑูุจุช ุงููุฃููู.  ุงููุชุงุจุฉ + ุฃููุงุน ุฏููุงููููุฉ ุณุชุชูุญ ููุฌููุน ุงููุชุงุจุฉ ุจุทุฑููุฉ ูุฑูุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุตุนูุจุงุช ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: ุชุฏุงุฎู ูุจูุฑ ูู ุงูุญุงุฌูุงุช.  ุฑุฏ ุงูุงุชุตุงู ุงูุฌุญูู ุงููุนุฑููุฉ ุจุนุฏ ุฑูุฑูุฉ ุชุจุฏู ูุฎุชููุฉ.  ูุถุน VIM ู <code>%</code> ุณูููู ูููุฏุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุจุนุถ ุงูุฃููุงุฑ ุญูู ุฅูุชุฑูุช ุงูุฃุดูุงุก.  ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ุ ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงูุฃุฌูุฒุฉ / ุงูุฎุฏูุงุช ุงูุฐููุฉ ุงูุชู ุชุชุทูุจ ุงูุชุณุฌูู ูู ุงูุณุญุงุจุฉ.  ุงูููุงูุฐ ุงูุตูููุฉ ุ ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุซุจูุช ุงูุชุทุจูู ูุงุณุชุฎุฏุงููุง ุ ูู ุจุฅูุดุงุก ุญุณุงุจ ุ ูุจุนุฏ ุฐูู ููุท ููููู ุงุณุชุฎุฏุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุณุงุนุฏูู ุตูุช.  ุฃููุณ ูู Yandex ุชุชุทูุจ ุณุญุงุจุฉ ููุง ุงูุชู ูุชู ุฅุฑุณุงู ุงููุต ุงููุนุชุฑู ุจูุง.  ุชุนูู ุฃูุงุฒูู ุฃูููุณุง ุจุทุฑููุฉ ููุงุซูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃูุซุฑ ูุฌุงุญูุง ุ ูู ุฑุฃูู ุ ุชู ุชุตููุนู ุจูุงุณุทุฉ Apple HomeKit ุจุงูุชุนุงูู ูุน Siri.  ุชุณุชุฎุฏู ุงูุณุญุงุจุฉ ููุชุนุฑู ุนูู ุงููุต.  ุงูุชูุงุนู ูุน ุงูุฃุฌูุฒุฉ - ูู ุงูุดุจูุฉ ุงููุญููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฑุฃูู ูู ุฃู ุงูุณุญุงุจุฉ ูุฌุจ ุฃู ุชููู ููุฌูุฏุฉ ูุบุฑุถูุง: ุงูุชุญูู ุนู ุจุนุฏ ุ ุงูุชุญุฏูุซ ุ ุฅูุฎ ... ุฅุฐุง ูุงู ูููู ุงูุชุญูู ูู ุงูุฌูุงุฒ ุนูู ุดุจูุฉ ูุญููุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูููุงู ุจุฐูู. </p><br><h2 id="ssylki" style=";text-align:right;direction:rtl">  ุงููุฑุงุฌุน </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน ุงูุชุทุจูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู Bobaoskit</a> - ุชูุถุญ ููููุฉ ุชุซุจูุช bobaoskit.worker ูุชุดุบูู ููุญู <code>radio player</code> . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar440088/">https://habr.com/ru/post/ar440088/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar440074/index.html">ุชุนุชุจุฑ Roskomos ุฃูู ูู ุงูุฎุทุฃ ููุงุฑูุฉ ูุญุฑูุงุช Raptor Ilona Mask ู RD-180</a></li>
<li><a href="../ar440076/index.html">ุชุฑุฌูุฉ ูุชูุณูุฑ ุงูุฅุนูุงูุงุช ูู ุงูุฅูุฌููุฒูุฉ ุฅูู ุงูุฑูุณูุฉ</a></li>
<li><a href="../ar440078/index.html">ุฌูุงุฒ ุงูุชุญููู ุงูุจุฑูุฌู ุงูุณุฑูุน. ุงูุฌุฒุก 4</a></li>
<li><a href="../ar440084/index.html">10 ูููุงุฑ ุตุงุฏุฑุงุช ุงูุจุฑูุฌูุงุช ูุง ููุงุฏ ูุฐูุฑ</a></li>
<li><a href="../ar440086/index.html">MS-DOS Virus World</a></li>
<li><a href="../ar440090/index.html">ููู ุงููุคุดุฑุงุช ุงููููุฉ ูู ุณูู ุงูุฃูุฑุงู ุงููุงููุฉ ุชุนูู ูุนูุงุ</a></li>
<li><a href="../ar440092/index.html">ุชุญููู ุฑูุงุถู ูููููุฉ ุงูุชุฎุงุจุงุช ุงููุญุงูุธ ุงููุฒููุฉ ูู ุจุฑูููุฑู ูู 16 ุณุจุชูุจุฑ 2018</a></li>
<li><a href="../ar440094/index.html">ูุง ุชุฒุงู ุญุฏุงุฆู Blooming on Mars ุญููุงู: ููุฏ ุฃููุณุช ูุดุฑูุน Mars One</a></li>
<li><a href="../ar440096/index.html">ูุดููุฉ ุนุฏู ุงูุญุตุงูุฉ RunC ุงูุชู ุชุคุซุฑ ุนูู Kubernetes ู Docker ู containerd</a></li>
<li><a href="../ar440098/index.html">ูุบู ูุง ูุฒุงู ุงูุชููุงุฆู ุจุงููุงูู. ุงูุฌุฒุก 2. ูุงุตู. ุงูุซูุงุฌุฉ. ููุนุจ ุงูุฎูุงุฑุฒููุงุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>