<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👸🏽 🚡 👩 Rostelecom virtual PBX: apa dan bagaimana bisa dilakukan melalui API ☯️ 🤹🏽 👩🏼‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bisnis modern menganggap telepon darat sebagai teknologi yang sudah ketinggalan zaman: komunikasi seluler memberikan mobilitas dan ketersediaan karyaw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rostelecom virtual PBX: apa dan bagaimana bisa dilakukan melalui API</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/484180/"><img src="https://habrastorage.org/webt/9p/4z/il/9p4zilg_eledccytuo6hslf19f0.png"><br><br>  Bisnis modern menganggap telepon darat sebagai teknologi yang sudah ketinggalan zaman: komunikasi seluler memberikan mobilitas dan ketersediaan karyawan yang konstan, jaringan sosial, dan pesan instan adalah saluran komunikasi yang lebih mudah dan lebih cepat.  Untuk mengikuti pesaing mereka, PBX kantor menjadi semakin mirip dengan mereka: mereka pergi ke cloud, dikelola melalui antarmuka web dan terintegrasi dengan sistem lain melalui API.  Dalam posting ini kami akan memberi tahu Anda apa fungsi yang dimiliki API PBX virtual Rostelecom dan bagaimana bekerja dengannya melalui fungsi dasar PBX virtual. <br><a name="habracut"></a><br>  Tugas utama API PBX virtual Rostelecom adalah berinteraksi dengan CRM atau situs perusahaan.  Misalnya, API menyertakan widget "panggilan balik" dan "panggilan dari situs" untuk sistem kontrol utama: WordPress, Bitrix, OpenCart.  API memungkinkan Anda untuk: <br><br><ul><li>  Terima informasi, beri tahu tentang status dan lakukan panggilan berdasarkan permintaan dari sistem eksternal; <br></li><li>  Dapatkan tautan sementara ke rekaman percakapan; <br></li><li>  Kelola dan terima pengaturan pembatasan dari pengguna; <br></li><li>  Dapatkan informasi tentang pengguna PBX virtual; <br></li><li>  Meminta riwayat biaya dan biaya panggilan; <br></li><li>  Unduh log panggilan. <br></li></ul><br><h2>  Cara Kerja API </h2><br>  API integrasi dan sistem eksternal berinteraksi satu sama lain menggunakan permintaan HTTP.  Di akun pribadi, administrator menetapkan alamat ke mana permintaan untuk API harus datang dan ke mana permintaan dari API harus dikirim.  Sistem eksternal harus memiliki alamat publik yang dapat diakses dari Internet dengan sertifikat SSL diinstal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aef/32c/8c5/aef32c8c5b54534a5b002a87166cb724.png"><br><br>  Juga, di akun pribadi Anda, administrator domain dapat membatasi sumber IP permintaan saat mengakses API. <br><br><h2>  Kami mendapatkan informasi tentang pengguna PBX virtual </h2><br>  Untuk mendapatkan daftar pengguna atau grup, Anda perlu mengirim permintaan ke PBX virtual menggunakan metode <i>/ users_info</i> . <br><br><pre><code class="plaintext hljs">{         "domain":"example.ru" }</code> </pre> <br>  Daftar akan dikembalikan yang dapat Anda simpan. <br><br><pre> <code class="plaintext hljs">{ "result":0, "resultMessage":"", "users":[                           {                            "display_name":"test_user_1",                            "name":"admin",                            "pin":^_^quotʚquot^_^,                           "is_supervisor":true,                            "is_operator":false,                            "email":"test_user_1@mail.gov","recording":1                             },                            {                            "display_name":"test_user_2",                            "name":"test",                            "pin":^_^quotʿquot^_^,                            "is_supervisor":true,                            "is_operator":false,                            "email":"",                           "recording":1                            }              ], "groups":              [                            {                            "name":"testAPI",                            "pin":^_^quotǴquot^_^,                            "email":"Ivanov@mail.gov",                            "distribution":1,                           "users_list":[^_^quotʚquot^_^,^_^quotʿquot^_^]                            }              ]</code> </pre><br>  Dalam metode ini, dua array dilewatkan.  Satu dengan pengguna domain, satu dengan grup domain.  Grup juga memiliki kemampuan untuk menentukan email yang akan dikirim dalam permintaan. <br><br><h2>  Kami memproses informasi tentang panggilan masuk </h2><br>  Menghubungkan telepon perusahaan ke berbagai sistem CRM menghemat waktu karyawan yang berinteraksi dengan pelanggan dan mempercepat pemrosesan panggilan masuk.  Misalnya, pada panggilan dari klien saat ini, CRM dapat membuka kartunya, dan dari CRM, Anda dapat mengirim panggilan ke klien dan menghubungkannya ke karyawan. <br><br>  Untuk mendapatkan informasi tentang panggilan melalui API, Anda perlu menggunakan metode <i>/ get_number_info</i> , yang membentuk daftar panggilan dengan informasi tentang grup tempat panggilan itu didistribusikan.  Misalkan panggilan masuk dari nomor 1234567890 telah tiba di nomor PBX virtual. Kemudian permintaan akan dikirim dari PBX: <br><br><pre> <code class="plaintext hljs">{        "session_id":"SDsnZugDFmTW7Sec",        "timestamp":"2019-12-27 15:34:44.461",        "type":"incoming",        "state":"new",        "from_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@192.168.0.1",        "from_pin":"",        "request_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@1192.168.0.1",        "request_pin":^_^quotɟquot^_^,        "disconnect_reason":"",        "is_record":"" }</code> </pre><br>  Selanjutnya, Anda perlu menghubungkan handler <i>/ get_number_info</i> .  Permintaan harus dieksekusi ketika panggilan masuk tiba di saluran masuk sebelum merutekan panggilan.  Jika respons terhadap permintaan tidak diterima dalam waktu yang ditentukan, maka panggilan dialihkan sesuai dengan aturan yang ditetapkan dalam domain. <br><br>  Penangan contoh di sisi CRM. <br><br><pre> <code class="plaintext hljs">if ($account) {        $data = [            'result' =&gt; 0,            'resultMessage' =&gt; ' ',            'displayName' =&gt; $account-&gt;name,            //'PIN' =&gt; $crm_users,        ];    }        else                {        $data = [            'result' =&gt; 0,            'resultMessage' =&gt; '  ',            'displayName' =&gt; '  '.$contact,            //'PIN' =&gt; crm_users,        ];    }    return $data;</code> </pre><br>  Tanggapan dari pawang. <br><br><pre> <code class="plaintext hljs">{        "result":0,        "resultMessage":" ",        "displayName":"   +1&lt;/i&gt; 234-56-78-90&lt;i&gt;" }</code> </pre><br><h2>  Kami memantau status dan mengunduh catatan percakapan </h2><br>  Dalam pertukaran telepon virtual Rostelecom, rekaman percakapan diaktifkan di akun pribadi Anda.  Menggunakan API, Anda dapat melacak status fungsi ini.  Saat memproses penghentian panggilan di <i>call_events,</i> Anda dapat melihat bendera <i>'is_record',</i> yang memberi tahu pengguna tentang status perekaman: <i>true</i> berarti bahwa pengguna <i>mengaktifkan</i> fungsi perekaman percakapan. <br><br>  Untuk mengunduh catatan, Anda perlu mengirim permintaan ke <i>api.cloudpbx.rt.ru/get_record menggunakan</i> ID sesi dari panggilan <i>session_id</i> <i>.</i> <i><br></i> <br><pre> <code class="plaintext hljs">{        "session_id":"SDsnZugDFmTW7Sec" }</code> </pre><br>  Responsnya akan berupa tautan sementara untuk mengunduh file rekaman percakapan. <br><br><pre> <code class="plaintext hljs">{        "result": ^_^quot&amp;#0;quot^_^,        "resultMessage": "  ",    "url": "https://api.cloudpbx.rt.ru/records_new_scheme/record/download/501a8fc4a4aca86eb35955419157921d/188254033036" }</code> </pre><br><br>  Waktu penyimpanan file diatur dalam pengaturan akun pribadi Anda.  Setelah file dihapus. <br><br><h2>  Statistik dan Pelaporan </h2><br>  Di akun Anda di halaman terpisah, Anda dapat melihat statistik dan pelaporan untuk semua panggilan dan menerapkan filter berdasarkan status dan waktu.  Melalui API, Anda harus terlebih dahulu memproses panggilan dengan metode <i>/ call_events</i> : <br><br><pre> <code class="plaintext hljs">    {        "session_id":"SDsnZugDFmTW7Sec",        "timestamp":"2019-12-27 15:34:59.349",        "type":"incoming",        "state":"end",        "from_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@192.168.0.1",        "from_pin":"",        "request_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@192.168.0.1",        "request_pin":^_^quotʚquot^_^,        "disconnect_reason":"",        "is_record":"true"        }</code> </pre><br>  Kemudian panggil metode <i>call_info</i> untuk memproses array dan menampilkan panggilan dalam sistem CRM. <br><br><pre> <code class="plaintext hljs">   {        "session_id":"SDsnZugDFmTW7Sec" }</code> </pre><br>  Respons akan berupa array data yang dapat diproses untuk menyimpan data dalam log CRM. <br><br><pre> <code class="plaintext hljs">{        "result":0,        "resultMessage":"",        "info":        {                "call_type":1,                "direction":1,                "state":1,                "orig_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@192.168.0.1",                "orig_pin":null,                "dest_number":"sip:&lt;/i^_^gt lt&amp;i;gt^_^@192.168.0.1",                "answering_sipuri":"admin@example.ru",                "answering_pin":^_^quotɟquot^_^,                "start_call_date":^_^quot quot^_^,                "duration":14,                 "session_log":"0:el:123456789;0:ru:admin;7:ct:admin;9:cc:admin;14:cd:admin;",                "is_voicemail":false,                "is_record":true,                "is_fax":false,                "status_code":^_^quot&amp;#0;quot^_^,                "status_string":""        } }</code> </pre><br><br><h2>  Fitur PBX virtual berguna lainnya </h2><br>  Selain API, PBX virtual memiliki beberapa fungsi lebih bermanfaat yang dapat Anda gunakan.  Misalnya, ini adalah menu suara interaktif dan kombinasi komunikasi seluler dan tetap. <br><br>  Interactive Voice Response (IVR) adalah apa yang kita dengar di penerima sebelum seseorang menjawab.  Bahkan, ini adalah operator elektronik yang mengalihkan panggilan ke departemen yang sesuai dan menjawab beberapa pertanyaan secara otomatis.  Segera, akan mungkin untuk bekerja dengan IVR melalui API: sekarang kami sedang mengembangkan perangkat lunak yang akan memungkinkan Anda untuk melacak kemajuan panggilan melalui IVR dan menerima informasi tentang penekanan tombol ketika pemanggil berada di menu suara. <br><br>  Untuk mentransfer telepon perusahaan ke ponsel, Anda dapat menggunakan aplikasi softphone atau secara terpisah menghubungkan layanan Fixed Mobile Convergence (FMC).  Dengan metode apa pun, panggilan dalam jaringan gratis, dimungkinkan untuk bekerja dengan nomor pendek, dan panggilan dapat direkam dan statistik umum dapat disimpan pada mereka. <br><br>  Perbedaannya adalah bahwa softphones memerlukan Internet untuk berkomunikasi, tetapi mereka tidak terikat pada operator, dan FMC terikat pada operator tertentu, tetapi bahkan dapat digunakan pada telepon tombol yang lebih lama. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id484180/">https://habr.com/ru/post/id484180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id484170/index.html">Perbarui Titik Periksa dari R77.30 hingga 80.20</a></li>
<li><a href="../id484172/index.html">Integrasi berkelanjutan di Unity: cara mengurangi waktu perakitan dan menghemat sumber daya + payline sebagai hadiah</a></li>
<li><a href="../id484174/index.html">Castle minum dalam kondisi "ekstrim" atau bagaimana kami mengambil bagian dalam acara "DOZOR"</a></li>
<li><a href="../id484176/index.html">Menerapkan Template Status dalam Persatuan</a></li>
<li><a href="../id484178/index.html">Saklar Ethernet Cerdas untuk Planet Bumi</a></li>
<li><a href="../id484182/index.html">Xenobots: nanorobots hidup dari sel katak</a></li>
<li><a href="../id484186/index.html">LDAP - "otentikasi" adalah antipattern</a></li>
<li><a href="../id484188/index.html">Standar Desain Basis Data</a></li>
<li><a href="../id484192/index.html">Mudah dan mudah untuk menerapkan aplikasi pada Tarantool Cartridge (bagian 2)</a></li>
<li><a href="../id484194/index.html">Kubernet diterjemahkan menjadi anak-anak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>