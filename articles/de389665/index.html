<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🔧 🧓 👋🏽 Automatisierung der Belüftung eines Raumes durch ein Fenster und was daraus wurde 👨🏽‍🏫 ✏️ ♈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alles begann mit der Tatsache, dass der Raum heiß wurde, wenn der Computer funktionierte, der Raum aufgrund meiner Abwesenheit oder Faulheit nicht oft...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisierung der Belüftung eines Raumes durch ein Fenster und was daraus wurde</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389665/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles begann mit der Tatsache, dass der Raum heiß wurde, wenn der Computer funktionierte, der Raum aufgrund meiner Abwesenheit oder Faulheit nicht oft belüftet wurde (obwohl es den Anschein hat, dass Sie nur das Fenster öffnen müssen). Kurz gesagt, ich habe mich für dieses "Gerät" entschieden. Im Wesentlichen war ein Temperatursensor erforderlich, ein Mechanismus zum Öffnen und Schließen eines Fensters und eine Automatisierung, die all dies steuert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich zu diesem Zeitpunkt bereits ein wenig mit den Controllern verwöhnen lassen, also habe ich beschlossen, dass ich einen Controller und den einfachsten Temperatursensor (es ist ein Thermistor) brauche - wunderbar, es heißt, es wurde gemacht, ich habe es in einem örtlichen Geschäft auf einem Steckbrett gekauft und die einfachste Automatisierung wie das Erhitzen des Sensors ausprobiert Atmung - die LED leuchtet auf, der Sensor kühlt ab - die LED erlischt. Es stellte sich ungefähr so ​​heraus:</font></font><br>
<br>
<img src="https://habrastorage.org/files/523/289/b50/523289b509e04b098798870e799106cf.jpg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Großartig, es funktioniert! Die nächste Frage stellte sich: Die Atmung ist klar, aber ich möchte bestimmte Temperaturwerte. Nach einer langen Berechnung der Spannungswerte und deren Umrechnung in Temperatur habe ich mehr oder weniger genaue Temperaturwerte erhalten, die ich auf einem Computermonitor beobachtet habe, indem ich Werte vom COM-Anschluss genommen habe. Freute sich auch über diese Leistung (es scheint, dass eine Person Freude braucht). Dann kam eine Idee auf, aber ich müsste die Temperaturwerte ohne Computer betrachten, und im Allgemeinen ein separates Gerät, das alleine funktioniert, und wenn Sie mit einem Computer kommunizieren müssen, scheint es interessant zu sein. Die Variante mit Sieben-Segment-Indikatoren hat sich irgendwie sehr schnell entfernt - es ist kein interessanter Typ. beschlossen, auf dem LCD zu schließen.</font></font><br>
<br>
<img src="https://habrastorage.org/files/0e5/edd/b9b/0e5eddb9b6944964a2ce9b137e9522ba.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich benutzte einen solchen Indikator, begann zu verstehen, was da war und wie es passierte, was sie dort brauchten, testete es auf einem Steckbrett und kam zu dem Schluss - sie brauchen eine anfängliche Initialisierung, es hängt vom jeweiligen verwendeten Indikator ab, und wenn ich Verzögerungen beobachtete, dachte ich, wenn ich Bei einem analogen Temperatursensor mit Zeitumrechnung weist die Anzeige auch alle möglichen Verzögerungen auf. Außerdem müssen Sie den Fenstermechanismus öffnen, der am Motor am wahrscheinlichsten ist. Dort müssen Sie auch mit der Zeit rechnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen habe ich beschlossen, ein separates Modul zu erstellen, das sich mit der Informationsausgabe befasst (im Folgenden als MVTI-Textinformationsausgabemodul bezeichnet), und der Hauptcontroller wird darüber nachdenken, dass es nicht einmal zu Verzögerungen kommt, sondern außerdem Speicher spart. Ich entschied mich für die Standard-COM-Port-Schnittstelle (RS-232). Die Aufgabe war folgende: Ich empfange die Zeichen auf dem RS-232-Modul, gebe sie auf dem LCD aus, bevor alle erforderlichen Initialisierungen durchgeführt werden, alle erforderlichen Verzögerungen beobachtet werden, alle Arten von Überprüfungen durchgeführt werden, z. B. die Anzahl der Zeichen zum Drucken von 40 Zeichen, Übergänge in eine neue Zeile und die Korrespondenztabelle der Zeichen, die Daten von COM codieren Port und LCD, ich wollte wirklich, dass die Schlussfolgerung auf Russisch ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich mit diesem Problem befasst - eine Schaltung erstellt, die Platine geteilt und mit der Herstellung begonnen, was für mich schlecht war. Ich habe mich entschlossen, es in China zu versuchen, einen ganzen Artikel darüber auf dem Hub zu lesen und es an derselben Stelle zu bestellen, an der es sich befand Sie haben in dem Artikel auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Website des Plattenherstellers geschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sie haben eine Mindestbestellmenge von 5 Stück und fügen 1 kostenlos zum Anhang hinzu (im Allgemeinen ist es für jeden Preis rentabler als eine Bestellung bei uns). Ich habe diese 5 Teile bei ihnen bestellt. Ich dachte, es wäre praktisch, wenn ich solche Module noch machen würde. Sie stellen sich als universell heraus. Sie können einfach ein Modemkabel am Computer auf Null stellen und etwas ausgeben (Stromversorgung über das Gerät). Einen Monat später schickten sie mir Platinen, löten die Elemente dort, schrieben ein Programm für die Steuerung, die sich im Modul befand, testeten es und ich mochte es als erste Annäherung und passten es dann leise an, als ich etwas fand. Die endgültige Version kam so heraus. </font></font><br>
<br>
<img src="https://habrastorage.org/files/fa0/2e9/b92/fa02e9b92868499eb10d330c71885ae5.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt habe ich die Temperatur auf dem LCD in der Form: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temperatur 23 Grad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als ein neues Problem auftauchte, sprang sie beim kleinsten Windstoß wie dem Öffnen der Fenstertür, er ging allein - gemittelt, es stellte sich heraus, dass es normal war. Die Temperatur ist sicherlich gut, aber ich wollte auch raus und Zeit raus. Ich habe versucht, dies zu tun, den Code hinzugefügt und festgestellt, dass es beim Ausschalten Fehler gibt - es geht in die Irre und muss jedes Mal eingestellt werden. Es gab nicht genug Erfahrung mit Controllern und im Laufe der Zeit hat es nicht sehr gut geklappt, die Sekunden waren unterschiedlich und Fehler liefen schnell auf. Nachdem ich das versucht hatte, begann ich zu überlegen, was ich tun sollte, Arduino entwickelte und billige Echtzeitmodule erschienen, und ich entschied mich dafür.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich nahm Arduino Leonardo mit 2 UART-Ports (einer für ein Textausgabemodul, der zweite für eine Standardverbindung zu einem Computer), ein Echtzeitmodul. Es gab keine Probleme mit Bibliotheken, es gab genug Code im Internet, ich schrieb den Code schnell, testete ihn und genoss das Leben - die Zeit verging und das Datum war auch da, und als ich mich ausschaltete, ging die Zeit nicht schief, es war ein wundervolles Leben. Aber hier saß ich nicht und mochte das nicht auf dem kleinen Bildschirm des LCD, die Zeit ist sehr klein, es wäre notwendig, sich etwas auszudenken, und ich entschied mich, ein Zeitausgabemodul für Sieben-Segment-Anzeigen zu erstellen. Ich habe keinen Sieben-Segment-Indikator mit zwei Punkten guter Größe gefunden. Ich habe 2 Dual-plus-2-LEDs für Punkte verwendet. Ich habe mich dazu entschlossen, dasselbe wie bei der vorherigen zu tun, aber nicht, um die Frequenz festzulegen, sondern mit Speicherchips, die den Status von Stunden und Minuten speichern, d.Dort wird einmal pro Minute Zeit geschrieben, dann sind die Pins für andere Aufgaben frei. es stellte sich heraus, dass hier ein solches Modul ist:</font></font><br>
<br>
<img src="https://habrastorage.org/files/840/a84/c95/840a84c955f34c1cafe0feff42034146.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann fand er ein passendes Gehäuse, kaufte ein Netzteil für Ali, baute es zusammen - das Auge gefällt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/1c1/c19/aa6/1c1c19aa6e94411faac70b78a2d2d19e.jpg"><br>
<br>
<img src="https://habrastorage.org/files/11c/850/781/11c8507819e54a71929677037d99bd1f.JPG"><br>
<br>
<img src="https://habrastorage.org/files/491/a0e/13c/491a0e13cc294593b1c4a0058ec11de5.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt ist ein Fensteröffnungsmechanismus. Mein Holzfenster öffnet sich an der Seite eines schmalen und langen Fensters nach oben. Hier ging nicht wenig Zeit verloren, bis ich eine mehr oder weniger geeignete Option für ein System gefunden habe, das sich mit dem Öffnen und Schließen eines Fensters befasst. Im letzten Moment sieht der Mechanismus folgendermaßen aus:</font></font><br>
<br>
<img src="https://habrastorage.org/files/d1f/f71/3f4/d1ff713f47fc4d65b6a6cffdd019c063.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles wurde mit improvisierten Mitteln gesammelt, die Traktion wurde vom Mechanismus der Barschranktür (noch von sowjetischem Design) übernommen, der Schrittmotor vom Drucker (Treiber auf dem L293-Chip), das weiße Kunststoffteil wurde auf einem 3D-Drucker gedruckt. Mehrmals erfüllt das aufgehellte und überarbeitete Design derzeit seine Funktion, ist jedoch nicht ganz zufrieden damit - daher plane ich, es zu modernisieren. Zum Beispiel wurde ein Programm so aufgezeichnet, dass es bei einer Temperatur von mehr als 27 ° C ein Fenster öffnet und das Fenster bei weniger als 24 Grad schließt. Es ist jedoch geplant, rechtzeitig mit einem Fokus auf die Temperatur zu lüften: Wenn die Temperatur während der Belüftung abnimmt, ist die Belüftung zeitlich gering, häufiger die Belüftung selbst und umgekehrt . </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link zum Video zum Öffnen und Schließen des Fensters</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuletzt: Es stellte sich heraus, dass es sich um ein ziemlich eigenartiges Gerät handelte, mit der Möglichkeit, weitere Funktionen wie das Einschalten von Zeitlichtsensoren - eine Art Nano-Smart-Home - weiter zu integrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Ich werde Meinungen, Ideen, Kommentare usw. anhören.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de389665/">https://habr.com/ru/post/de389665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de389653/index.html">Wir wechseln einen Tisch für die Arbeit nicht nur im Sitzen, sondern auch im Stehen</a></li>
<li><a href="../de389655/index.html">Обновление дистрибутива Cubian до последней версии Debian на Allwinner A10/A20</a></li>
<li><a href="../de389657/index.html">Loon Copter kann unter Wasser fliegen und schwimmen</a></li>
<li><a href="../de389659/index.html">Prognosen für 2016: Technologie für Menschen</a></li>
<li><a href="../de389663/index.html">6 Anzeichen dafür, dass Apple an einer neuen Computerplattform arbeitet</a></li>
<li><a href="../de389667/index.html">IBM wird Computer menschlicher machen</a></li>
<li><a href="../de389671/index.html">Top 10 rechtliche Ereignisse im Bereich der freien Software im Jahr 2015</a></li>
<li><a href="../de389673/index.html">Gamification: Wie Barbesitzer Exchange-Mechaniken einsetzen, um den Cocktail-Umsatz zu steigern</a></li>
<li><a href="../de389677/index.html">Patenttroll hat versucht, Newegg zu verklagen, jetzt wird er vor Gericht gestellt</a></li>
<li><a href="../de389679/index.html">Ein Moment der Nostalgie: Preise für Computer und Zubehör ab 2002</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>