<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚵🏼 👨🏽‍🏭 🚚 Telefon für ein Pferd und ein Orchester ohne Pianisten. Wie man Sportaufgaben am Frontend macht ✊🏿 🤦🏼 👴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Mein Name ist Dmitry Andriyanov, ich arbeite als Schnittstellenentwickler in Yandex. Letztes Jahr habe ich an der Vorbereitung unseres Online-F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telefon für ein Pferd und ein Orchester ohne Pianisten. Wie man Sportaufgaben am Frontend macht</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/466647/"><p>  Hallo!  Mein Name ist Dmitry Andriyanov, ich arbeite als Schnittstellenentwickler in Yandex.  Letztes Jahr habe ich an der Vorbereitung unseres Online-Frontend-Wettbewerbs teilgenommen. </p><br><p><img src="https://habrastorage.org/webt/xu/ws/qc/xuwsqcae8zkjcjh0bkijqxun8z8.png"><br>  Vor ein paar Tagen erhielt ich einen Brief von den Organisatoren, in dem ich gefragt wurde, ob ich wieder teilnehmen möchte - um Frontend-Aufgaben für die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zweite Programmiermeisterschaft zu entwickeln</a> .  Ich stimmte zu - und fand es ein interessantes Thema für den Artikel.  Kaffee einfüllen, zurücklehnen.  Ich werde Ihnen erzählen, wie wir die Aufgaben vor einem Jahr vorbereitet haben. </p><a name="habracut"></a><br><hr><br><p>  Wir waren ungefähr zehn, fast alle waren Front-End-Entwickler aus verschiedenen Yandex-Diensten.  Wir mussten eine Auswahl von Aufgaben treffen, die durch Autotests überprüft wurden. </p><br><p>  Für Programmierwettbewerbe gibt es einen speziellen Service - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex.Contest</a> .  Dort können Sie Aufgaben veröffentlichen und die Teilnehmer registrieren und lösen.  Das Testen von Aufgaben erfolgt automatisch, die Ergebnisse der Teilnehmer werden in einer speziellen Tabelle veröffentlicht.  Damit war die Infrastruktur bereits fertig.  Alles, was benötigt wurde, war, Aufgaben zu entwickeln.  Es stellte sich jedoch heraus, dass es eine Einschränkung gibt.  Zuvor veranstaltete Yandex Wettbewerbe zu Algorithmen, maschinellem Lernen und anderen Themen, jedoch nie zu Front-End-Wettbewerben.  Niemand hatte ein Verständnis dafür, woraus der Wettbewerb bestehen sollte und wie die Überprüfung automatisiert werden kann. </p><br><p><img src="https://habrastorage.org/webt/v9/d0/5a/v9d05absifxraifxjqgxkyojcoy.jpeg"></p><br><p>  Wir haben entschieden, dass für Front-End-Entwickler Aufgaben geeignet sind, die Layout, JavaScript und Kenntnisse der Browser-API erfordern.  Das Layout kann durch Vergleichen von Screenshots überprüft werden.  Algorithmische Aufgaben können in Node.js ausgeführt und durch Vergleichen des Ergebnisses mit der richtigen Antwort überprüft werden.  Programme, die mit der Browser-API arbeiten, können über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Puppeteer</a> gestartet werden, und das Skript kann den Status der Seite nach der Ausführung überprüfen. </p><br><p>  Die Wettbewerbe bestehen aus zwei Runden - Qualifikation und Finale, mit 6 Aufgaben in jeder Runde.  Qualifikationsaufgaben müssen <em>variiert</em> werden, damit verschiedene Teilnehmer unterschiedliche Optionen erhalten.  Wir haben die Anzahl und Art der Aufgaben für jede Runde ausgewählt, in Teams von zwei Personen aufgeteilt und Aufgaben auf Teams verteilt.  Jede Gruppe musste sich zwei Variationsprobleme für die Qualifikation und zwei nicht-Variationsaufgaben für das Finale einfallen lassen. </p><br><p><img src="https://habrastorage.org/webt/zh/bx/rs/zhbxrslglxdwuk_fdcvjww-cz3o.jpeg"></p><br><h2 id="davayte-klikat-po-dom-elementam">  Klicken wir auf die DOM-Elemente ... </h2><br><p>  Die Idee kam auf - ein Browsergame, in dem Sie auf die DOM-Elemente klicken müssen, als eine der variablen Aufgaben zu geben.  Die Aufgabe des Teilnehmers bestand darin, ein Programm zu schreiben, das dieses Spiel spielt und gewinnt.  Erfunden 4 Optionen: </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wählen Sie eine handschriftliche Telefonnummer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">spielen Sie die Melodie auf dem Klavier</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klicken Sie auf doppelte Bilder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klicken Sie auf eine andere Farbe</a> . </li></ul><br><p>  Wenn Sie möchten, können Sie den Links folgen und spielen.  Wenn Sie "Telefon" oder "Klavier" spielen, vergessen Sie nicht, den Ton einzuschalten. </p><br><p>  Schrieb einen gemeinsamen Teil für alle Optionen.  Es enthielt die Logik zum Anzeigen anklickbarer Elemente sowie Elemente mit Informationen zum Klicken (Notizen, handgeschriebene Zahlen, Karten mit Bildern und Farben).  Informationssätze und anklickbare Elemente werden über Parameter festgelegt. <br></p><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   —   div    // targetClasses —      // keyClasses —    ,     function initGame(targetClasses, keyClasses) { //    for(let i = 0; i &lt; targetClasses.length; i++) { document.body.insertAdjacentHTML('afterbegin', `&lt;div class="${targetClasses[i]}" /&gt;`); } //    for(let i = 0; i &lt; keyClasses.length; i++) { document.body.insertAdjacentHTML('beforeend', // data-index     `&lt;div class="key ${keyClasses[i]}" data-index="${i}" /&gt;`); } //       ,     }</span></span></code> </pre> <br><p>  Das Aussehen wurde durch CSS kontrolliert.  Es stellte sich heraus, dass es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">csszengarden.com</a> sehr ähnlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">war</a> - ein Layout mit unterschiedlichen Stilen sieht anders aus. </p><br><p><img src="https://habrastorage.org/webt/yh/sj/li/yhsjlimr8bqrhl-6mglptyeop44.png"><br><img src="https://habrastorage.org/webt/8m/ry/zt/8mryztu4x5p5bt2irv1rgkjaraq.png"><br><img src="https://habrastorage.org/webt/bl/75/oi/bl75oigc4f2wswzkz_txcek01ky.png"><br><img src="https://habrastorage.org/webt/u4/h1/3w/u4h13wk7izouclbf4q8vnh2dm7e.png"></p><br><p>  Das Ergebnis des Teilnehmerprogramms ist ein Protokoll der Klicks auf Elemente.  Es wurde ein Handler hinzugefügt, der Informationen zu angeklickten Elementen in eine globale Variable schreibt.  Damit der Teilnehmer anstelle ehrlicher Klicks das Ergebnis nicht sofort in diese Variable schreiben konnte, geben wir seinen Namen außen weiter. <br></p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initGame</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">targetClasses, keyClasses, resultName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... const log = []; document.body.addEventListener('click', (e) =&gt; { if (e.target.classList.contains('key')) { //     , //       log.push(e.target.data.index); //    ,    //  ,       if (log.length === targetClasses.length) { window[resultName] = log; } } }); }</span></span></code> </pre> <br><p>  Das Skript zum Ausführen des Teilnehmerprogramms war ungefähr so: <br></p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     ,    , //     Node.js. //   Chrome  headless-,    //       . const puppeteer = require('puppeteer'); const { writeFileSync } = require('fs'); const htmlFilePath = require.resolve('./game.html'); //    const solutionJsPath = resolve(process.argv[2]); //   const data = require('input.json'); //    const resName = `RESULT${Date.now()}`; //     (async () =&gt; { const browser = await puppeteer.launch(); //   const page = await browser.newPage(); //    await page.goto(`file://${htmlFilePath}`); //       await page.evaluate(resName =&gt; initGame( //   data.target, data.keys, resName), resName); await page.addScriptTag({ path: solutionJsPath }); //    await page.waitForFunction(`!!window[${resName}]`) // ,     resName const result = await page.evaluate(`window[${resName}]`); //   writeFileSync('output.json', JSON.stringify(result)); //       await browser.close(); })();</span></span></code> </pre> <br><h2 id="dobavim-zvuk">  Sound hinzufügen </h2><br><p>  Wir haben beschlossen, das Spiel mit dem Telefon ein wenig wiederzubeleben und den Klang von Tastenanschlägen hinzuzufügen.  Solche Sounds werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DTMF-Töne genannt</a> .  Ich habe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel</a> darüber gefunden, wie man sie generiert.  Kurz gesagt, es ist notwendig, zwei Sounds gleichzeitig mit unterschiedlichen Frequenzen abzuspielen.  Sounds einer bestimmten Frequenz können mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Web Audio API</a> abgespielt werden.  Das Ergebnis ist ungefähr so ​​wie dieser Code: <br></p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSound</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  audioContext const context = this.audioContext; const g = context.createGain() //     const o = context.createOscillator(); o.connect(g); o.type='sine'; o.frequency.value = [697, 697, 697, 770, 770, 770, 852, 852, 852, 941, 941][num]; g.connect(context.destination); //     const o2 = context.createOscillator(); o2.connect(g); o2.type='sine'; o2.frequency.value = [1209, 1336, 1477, 1209, 1336, 1477, 1209, 1336, 1477, 1209, 1336][num]; g.connect(context.destination); //   —      // .    //   o.start(0); o2.start(0); //   240  g.gain.value = 1; setTimeout(() =&gt; g.gain.value = 0, 240); }</span></span></code> </pre> <br><p>  Zum Klavierspielen wurden auch Sounds hinzugefügt.  Wenn einer der Teilnehmer versucht hätte, die auf der Seite geschriebenen Noten zu spielen, hätte er den imperialen Marsch von Star Wars gehört. </p><br><p><img src="https://habrastorage.org/webt/5z/02/ne/5z02newyi1chpmu1llmrlgatqbm.jpeg"></p><br><h2 id="uslozhnim-zadanie">  Lassen Sie uns die Aufgabe komplizieren </h2><br><p>  Wir freuten uns über die coole Aufgabe mit den Sounds, die wir gemacht haben, aber die Freude hielt nicht lange an.  Während des Testens des Spiels stellte sich heraus, dass das Programm sehr schnell auf die Schaltflächen klickt und alle unsere coolen Sounds zu einem gemeinsamen Durcheinander verschmelzen.  Wir haben beschlossen, zwischen den Tastenanschlägen eine Verzögerung von 50 ms hinzuzufügen, damit die Sounds nacheinander abgespielt werden.  Gleichzeitig erschwerte dies die Aufgabe ein wenig. <br></p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initGame</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">targetClasses, keyClasses, resultName</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      //    let lastClick = 0; // ... document.body.addEventListener('click', (e) =&gt; { const now = Date.now(); //      //    50 ,    if (lastClick + 50 &lt; now) { // ... //     lastClick = now; } }); }</span></span></code> </pre> <br><p>  Das ist aber noch nicht alles.  Wir dachten, dass die Teilnehmer den Quellcode leicht sehen und die Verzögerung sofort sehen könnten.  Um ihre Aufgabe zu verkomplizieren, haben wir den gesamten JS-Code auf der Seite mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">UglifyJS minimiert</a> .  Diese Bibliothek ändert jedoch nicht die öffentliche API von Klassen.  Daher haben wir die Teile, die UglifyJS gleich gelassen hat (nämlich die Namen der Methoden und Klassenfelder), durch <code>replace</code> . </p><br><p>  Das Skript zur Verschleierung des Spiels sah ungefähr so ​​aus: <br></p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> minified = uglifyjs.minify(lines.join(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> replaced = minified.code .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.window'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.document'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.log'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.lastClick'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.target'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.resName'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.audioContext'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.keyCount'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'this.classMap'</span></span>, <span class="hljs-string"><span class="hljs-string">'this.'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_createDiv'</span></span>, <span class="hljs-string"><span class="hljs-string">'_'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_renderTarget'</span></span>, <span class="hljs-string"><span class="hljs-string">'_'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_renderKeys'</span></span>, <span class="hljs-string"><span class="hljs-string">'_'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_updateLog'</span></span>, <span class="hljs-string"><span class="hljs-string">'_'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_generateAnswer'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_createKeyElement'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_getMessage'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_next'</span></span>, <span class="hljs-string"><span class="hljs-string">'_____'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'_pos'</span></span>, <span class="hljs-string"><span class="hljs-string">'__'</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'PhoneGame'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'MusicGame'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) .replaceAll(<span class="hljs-string"><span class="hljs-string">'BaseGame'</span></span>, <span class="hljs-string"><span class="hljs-string">'xyz'</span></span>);</code> </pre> <br><h2 id="napishem-kreativnoe-uslovie">  Schreiben wir eine kreative Bedingung </h2><br><p>  Wir haben den technischen Teil des Spiels vorbereitet, aber wir brauchten einen <em>kreativen</em> Text der Bedingung - nicht nur mit den Anforderungen, die erfüllt werden müssen, sondern mit einer Art Geschichte. </p><br><p>  Meine Lieblingsart von Humor ist Absurdität.  Dies ist, wenn Sie mit einem ernsten Blick einen lächerlichen Unsinn sagen.  Unsinn klingt normalerweise unerwartet und verursacht Lachen.  Ich wollte die Bedingungen der Aufgaben absurd machen, um den Teilnehmern zu gefallen.  Es gab also eine Geschichte über Adolfs Pferd, das keinen Freund anrufen kann, weil er seine großen Hufe nicht auf die Tasten des Telefons bekommt. </p><br><p><img src="https://habrastorage.org/webt/qu/ef/5t/quef5tswcc2ikg-4iqybeazherg.jpeg"></p><br><p>  Dann gab es eine Geschichte über ein Mädchen, das sich mit Klavier beschäftigt und es automatisieren möchte, so dass sie anstelle des Unterrichts spazieren geht.  Es gab den Satz "Wenn ein Mädchen aufhört zu spielen, kommt Mama aus dem Raum und gibt einen Schlag ins Gesicht."  Uns wurde gesagt, dass dies Propaganda des Kindesmissbrauchs ist und wir einen weiteren Text schreiben müssen.  Dann kamen wir auf eine Geschichte über ein Orchester, in dem ein Pianist vor einem Konzert krank wurde, und einer der Musiker schrieb ein Programm über JS, das seine Rolle spielen würde. </p><br><p>  Im Allgemeinen ist es uns gelungen, die gewünschte Wirkung der Texte zu erzielen.  Wenn Sie möchten, können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie sie hier lesen</a> . </p><br><h2 id="nastroyka-zadach-v-konteste">  Aufgaben im Wettbewerb festlegen </h2><br><p>  Wir hatten also Aufgabenbedingungen, Skripte zum Überprüfen von Lösungen und Referenzlösungen parat.  Dann war es notwendig, all dies im Wettbewerb zu konfigurieren.  Für jede Aufgabe gibt es mehrere Tests, von denen jeder einen Satz von Eingabedaten und die richtige Antwort enthält.  Das folgende Diagramm zeigt die Phasen des Wettbewerbs.  Die erste Stufe ist die Ausführung des Programms, die zweite die Überprüfung des Ergebnisses: </p><br><p><img src="https://habrastorage.org/webt/v4/px/l3/v4pxl3ikfi0gpiloyn6p8g0bbnq.png"></p><br><p>  Bei der Eingabe der ersten Stufe werden ein Satz von Testdaten und ein Teilnehmerprogramm empfangen.  Im Inneren funktioniert das Skript run.js, dessen Code wir oben geschrieben haben.  Er ist dafür verantwortlich, das Programm des Teilnehmers auszuführen, das Ergebnis seiner Arbeit zu empfangen und in eine Datei zu schreiben.  Das Programm wird in einer separaten virtuellen Maschine ausgeführt, die sich vor der Ausführung aus dem Docker-Image erhebt.  Diese virtuelle Maschine ist in ihren Ressourcen begrenzt und hat keinen Zugriff auf das Netzwerk. </p><br><p>  Die zweite Stufe (Überprüfung des Ergebnisses) wird in einer anderen virtuellen Maschine durchgeführt.  Somit hat das Programm des Teilnehmers keinen physischen Zugriff auf die Umgebung, in der die Überprüfung stattfindet.  Die Eingabe der zweiten Stufe ist das Ergebnis der Arbeit des Teilnehmerprogramms (erhalten in der ersten Stufe) und der Datei mit der richtigen Antwort.  Die Ausgabe ist der Exit-Code des Verifizierungsskripts, nach dem der Wettbewerb versteht, wie die Überprüfung beendet wurde: </p><br><p>  - <code>OK</code> = 0, <br>  - <code>PE</code> (Präsentationsfehler - falsches Ergebnisformat) = 4 <br>  - <code>WA</code> (falsche Antwort) = 5 <br>  - <code>CF</code> (Fehler bei der Überprüfung) = 6 </p><br><p>  Der Wettbewerb war schlecht an Aufgaben im Frontend angepasst, einschließlich Node.js.  Wir haben das Problem gelöst, indem wir die Validierungsskripte mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pkg</a> zusammen mit Node.js und node_modules in eine Binärdatei gepackt haben.  Jetzt haben wir geheimes Wissen über den Wettbewerb und haben viel weniger Schwierigkeiten bei der Vorbereitung der aktuellen Meisterschaft. </p><br><hr><br><p>  Also haben wir die Aufgaben vorbereitet.  Danach gab es noch viel mehr: öffentliche Tests zur Kalibrierung der Komplexität, Veröffentlichung von Aufgaben, technische Unterstützung während des Wettbewerbs und Vergabe der Gewinner im Yandex-Büro.  Aber das sind ganz andere Geschichten. </p><br><p>  Anstatt in bestimmten Bereichen zu konkurrieren, veranstalten wir jetzt einheitliche Programmiermeisterschaften, bei denen es einfach parallele Strecken gibt, einschließlich des Frontends. </p><br><p>  Ich bereue kein bisschen die Zeit, die für die Vorbereitung von Aufgaben aufgewendet wurde.  Es war interessant und lustig, unkonventionell.  In einem Kommentar zu Habré schrieb er, dass die Bedingungen von Enthusiasten des Geschäfts ausgedacht wurden.  Während des Wettbewerbs war es cool zu erkennen, dass die Teilnehmer die Aufgaben lösen, die Sie sich ausgedacht haben. </p><br><p>  Referenzen: <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Analyse der Frontend-Zuweisung des letzten Jahres, die wir vorbereitet haben</a> <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Analyse der Strecke am Frontend in der ersten Meisterschaft dieses Jahres</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466647/">https://habr.com/ru/post/de466647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466633/index.html">Ssh Chat</a></li>
<li><a href="../de466635/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 475 (08.20.2019-26.08.2019)</a></li>
<li><a href="../de466637/index.html">Design Elektromechanische Marmormaschine v2.0</a></li>
<li><a href="../de466641/index.html">Als Dummkopf lehrte C #. Teil 1</a></li>
<li><a href="../de466643/index.html">Die Zusammenfassung interessanter Materialien für den mobilen Entwickler # 314 (vom 2. bis 8. September)</a></li>
<li><a href="../de466649/index.html">Wochenende mit Elektroauto</a></li>
<li><a href="../de466651/index.html">Auswahl zwischen XML und SQL zum Rollen von LiquiBase-Skripten am Beispiel von Java / Spring / H2</a></li>
<li><a href="../de466653/index.html">Debugging-Spiele für NES: wie es heute passiert</a></li>
<li><a href="../de466657/index.html">Dynamisches Detail: verdeckte Compiler-Spiele, Speicherverlust, Leistungsnuancen</a></li>
<li><a href="../de466659/index.html">Kubecost Bewertung, um Geld für Kubernetes in den Wolken zu sparen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>