<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✍️ 👨🏾‍🤝‍👨🏻 ✍🏻 前8个有用的分析过滤器 🦁 🐕 🏠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="默认情况下，Google Analytics（分析）（GA）收集网站访问者的所有统计信息，但是您可能不需要使用整个数据数组进行分析。 您可以在演示级别使用过滤器清除和处理信息。 我们将在本文中分析其中最有用的。 

 您需要了解什么过滤器？ 
 Google Analytics（分析）中有两种过滤器...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>前8个有用的分析过滤器</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467573/">默认情况下，Google Analytics（分析）（GA）收集网站访问者的所有统计信息，但是您可能不需要使用整个数据数组进行分析。 您可以在演示级别使用过滤器清除和处理信息。 我们将在本文中分析其中最有用的。 <br><br><h3> 您需要了解什么过滤器？ </h3><br>  Google Analytics（分析）中有两种过滤器： <br><br><ul><li> 自订 </li><li> 嵌入式的。 </li></ul><br> 内置过滤器-一种简单直观的工具，可让您启用和排除流量。 <br><br><img src="https://habrastorage.org/webt/gj/05/s2/gj05s2qm_vdtkzunolazvbwcsps.png" alt="图片"><br><br> 使用五个自定义过滤器参数，可以创建更灵活的流量过滤条件： <br><br><ul><li> 排除 </li><li> 启用 </li><li> 小写/大写 </li><li> 查找并替换 </li><li> 进阶 </li></ul><br><img src="https://habrastorage.org/webt/zp/w6/ue/zpw6uejllkerjxkwerj40iof1zs.png"><br><br> 设置可应用于源数据的大多数参数：流量源，浏览器特征，页面名称等。 <br><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google Analytics（分析）</a>官方<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">帮助中</a>了解有关过滤器的更多信息。 <br><br> 在开始工作之前，重要的是保持默认视图不变，并且不对其应用任何过滤器。 因此，您将始终可以访问源数据，并能够评估所应用过滤器的有效性。 <br><br> 流量过滤应在单独的视图中进行配置。 <br><br> 过滤器设置对于每个项目和每个任务都是严格独立的。 根据我们的实践，我们已编制了通用过滤器和有用过滤器的列表，然后将通过示例进行介绍。 <br><a name="habracut"></a><br><h3>  IP流量排除 </h3><br> 一个重要的过滤器（即使在GA帮助中也可以找到其描述）是从您公司的IP地址中排除流量。 <br><br> 示例：在线商店的员工经常不进行购买就去工作场所。 在这方面，转换下降，数据失真，结论不正确。 使用过滤器可以避免这种情况。 <br><br><h4> 筛选器设定 </h4><br> 为了排除扭曲数据的内部流量，我们创建了一个内置过滤器。 它从以209.185.108.1开头的所有IP地址中排除流量。 也就是说，过滤器在提交之前将不允许来自IP地址209.185.108.100、209.185.108.101、209.185.108.102等的数据。 <br><br><img src="https://habrastorage.org/webt/_l/th/my/_lthmyd_oaswuh79ypreeqla8mq.png"><br><br>  “开始于”标准只是确定过滤器中IP地址的四种方法之一。 <br><br> 它们也可以定义为： <br><br><ul><li> 与正则表达式相同 </li><li> 以正则表达式结尾 </li><li> 包含正则表达式 </li></ul><br><h3>  TEST和PROD事件的分离 </h3><br> 想象一下，您网站上的标记是通过开发人员实施的，经过辛苦的一周之后，受训的开发人员不小心将一个加倍的错误事件发送到您的GA在线商店，即GA。 在发现开发者错误之前，将经历一个周末。 底线-数据失真，难以分析。 使用用户过滤器和用户参数可以避免由于错误标记导致的数据失真。 <br><br> 作用域位于命中（命中）级别的用户参数h_HIT_TYPE采用事件类型的值。 默认情况下，每个事件标识符都具有[测试]类型。 使用GTM查找表检查标记的正确性后，事件类型将手动更改为[prod]。 <br><br><h4> 筛选器设定 </h4><br> 自定义过滤器仅在h_HIT_TYPE参数与[prod]过滤器模式匹配时才允许显示数据。 请注意：“过滤模式”字段在正则表达式模式下有效。 <br><br><img src="https://habrastorage.org/webt/qv/9r/x9/qv9rx94pz_nk0kuqlvll7ymew9u.png"><br><br> 应用此类过滤器时，double事件将永远不会进入视图，从而使数据失真。 这种分离与除浏览量外的所有事件有关。 为此，h_HIT_TYPE参数必须始终为[prod]。 <br><br><h3>  STAGE和PROD环境的分离 </h3><br> 测试环境（或阶段）是站点上的开发区域，可以方便地测试更改。 通常，此类测试在访问受限的子域上进行。 测试人员和开发人员生成的数据可能会对所有统计信息产生负面影响，因此，认真监视站点从测试环境到战斗环境（产品）的过渡非常重要。 为此，您可以按媒介类型创建过滤器，方法是首先创建一个用户参数，其作用域为命中级别h_ENVIRONMENT_TYPE。 将站点从测试环境转移到战场时，只需将其值从[stage]更改为[prod]，以防止错误的数据进入视图。 <br><br><h4> 筛选器设定 </h4><br> 与上一个过滤器的设置类似，我们仅在h_ENVIRONMENT_TYPE参数与过滤器模板[prod]匹配时才允许显示数据。 <br><br><img src="https://habrastorage.org/webt/1p/vm/by/1pvmbykwy9dfczi-nfxipwvfyu0.png"><br><br> 因此，仅在将环境类型从[stage]更改为[prod]之后，过滤器才会开始将数据传递到视图中。 <br><br><h3> 结合浏览器及其版本 </h3><br> 在标准的Google Analytics（分析）界面中，可能很难在浏览器及其版本上生成报告。 例如，要分析浏览器版本，有一个浏览器和操作系统报告。 <br><br><img src="https://habrastorage.org/webt/6l/dx/uf/6ldxuf9nvu4hqpdkhidlyrijcqk.png"><br><br> 通过单击浏览器的名称，我们可以得到有关其版本的报告： <br><br><img src="https://habrastorage.org/webt/ra/kj/ux/rakjuxucq7v8cw9sv81w7enen-w.png"><br><br> 想象一下，您需要获取所有版本浏览器的统计信息。 生成此类报告的方法有很多，但是为了方便处理数据，我们将它们采用类似的形式： <br><br><img src="https://habrastorage.org/webt/l0/6u/eb/l06uebdicr8qwnqz2b6ta9r_o5k.png"><br><br><h4> 筛选器设定 </h4><br> 在用户高级过滤器中，我们使用两个字段：字段A和字段B，基于它们创建一个输出字段。 表达式“ Extract A”和“ Extract B”用于搜索文本匹配项。 在本例中，我们使用正则表达式（。*）对应于“操作系统平台”和“操作系统版本”参数的任何值。 <br><br> 在输出字段中，选择“操作系统版本”参数，并使用符号$ A1和$ B1引用提取的值。 <br><br> 因此，我们写了浏览器的名称及其版本。 <br><br><img src="https://habrastorage.org/webt/s8/16/ub/s816ubmvfjnwfc04cics9hjbv8e.png"><br><br> 类似的过滤器也可以方便地应用于操作系统版本： <br><br><img src="https://habrastorage.org/webt/ib/u7/sd/ibu7sddf-vyko93ozoheayc9nti.png"><br><br><h3> 将URL置于单个视图 </h3><br>  Google Analytics（分析）区分大小写。 打开页面报告时，您可能会遇到类似的数据： <br><br><img src="https://habrastorage.org/webt/15/j7/rv/15j7rvj-qocje5hwznfoel3v15u.png"><br><br> 这是相同的资源，但是Google Analytics（分析）会根据情况扭曲统计信息。 在构建报告时必须考虑这一点。 为了合并页面并避免在数据收集中出现此类错误，您可以使用过滤器，该过滤器会将站点URL带到单个寄存器中。 <br><br><h4> 筛选器设定 </h4><br> 在用户过滤器中，选择寄存器的类型和所需的字段。 在本例中，我们将请求URL转换为小写。 <br><br><img src="https://habrastorage.org/webt/pn/up/un/pnupunvvew3r5vl319hk5qmywdm.png"><br><br> 调整后的URL将使您可以将页面上的数据与相同的URL组合在一起，但大小写不同，从而使它们进入共同的视图。 例如，“ / balkon.html”。 由于没有过滤器的左视图，您将始终可以访问未更改的URL数据。 <br><br><h3> 将来源，渠道和广告系列的名称放在一个视图中 </h3><br> 尽管使用了用于更改URL大小写的过滤器，但源，渠道和广告系列将保留原始大小写。 这是由于utm标签作为与原始数据不同的参数传输到Google Analytics（分析）配置文件的事实。 它们每个都需要一个单独的过滤器才能转换为单个寄存器。 <br><br><h4> 筛选器设定 </h4><br> 与之前的过滤器设置一样，选择所需的寄存器类型和过滤器字段。 就我们而言，我们将广告系列的来源降低为小写。 <br><br><img src="https://habrastorage.org/webt/lk/ng/8v/lkng8vbxt_cg96e5ckzf33p-__a.png"><br><br> 同样，为渠道和广告系列本身配置了过滤器。 <br><br><h3> 例外www。 来自主机名 </h3><br> 通过URL分割相同页面的问题不仅可能是由于寄存器不同而引起的。 例如，Google Analytics（分析）将数据与<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.forexample.ru</a>和forexample.ru等页面分开。 <br><br> 可以使用过滤器将URL转换为相同格式来解决此问题。 <br><br><h4> 筛选器设定 </h4><br> 在用户高级过滤器中，使用字段A和输出字段。 从主机名中，我们提取“ www”之后的所有内容。 使用正则表达式www \。（。*）。 在输出字段中选择参数“主机名”，然后使用表达式$ A1将接收到的值写入其中。 <br><br><img src="https://habrastorage.org/webt/ca/bk/7o/cabk7oiuqkn4seafq5ac1evqb4i.png"><br><br><h3>  SEO流量校正 </h3><br> 为了提升网站在搜索引擎结果中的排名，重要的是分析来自这些系统的转化数据。 但是，Google Analytics（分析）并不总是能正确地确定来自Yandex搜索的SEO流量：部分自然流量属于推荐渠道。 您可以使用过滤器调整数据。 <br><br><h4> 筛选器设定 </h4><br> 在用户高级过滤器中，我们使用两个字段，字段A和字段B，并根据它们重写输出字段。 如果广告系列来源与yandex正则表达式匹配，并且广告系列渠道与引荐正则表达式匹配，则过滤器会将用户渠道覆盖为自然。 <br><br><img src="https://habrastorage.org/webt/z0/n8/rp/z0n8rp59id-drwzvuaspwuimz5g.png"><br><br>  Mail.ru SEO流量也影响了类似的问题，该搜索引擎的过滤器以相同的方式配置。 <br><br>  Google Analytics（分析）中的过滤器具有灵活的功能。 在本文中，我们检查了基本的过滤器设置，使您可以将数据转换为方便的形式进行分析。 重要的是要记住，过滤器顺序在过滤流量中也起着重要的作用。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467573/">https://habr.com/ru/post/zh-CN467573/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467557/index.html">上周第380期（2019年9月8日至15日）的前端世界摘要</a></li>
<li><a href="../zh-CN467559/index.html">9月16日至9月22日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN467561/index.html">PVS-Studio用户支持的一天</a></li>
<li><a href="../zh-CN467563/index.html">PVS-Studio用户支持的一天</a></li>
<li><a href="../zh-CN467567/index.html">在一堆ssh + tmux + neovim中支持终端中的24位颜色</a></li>
<li><a href="../zh-CN467575/index.html">在PostgreSQL中获取工作负载配置文件和等待历史的一种方法</a></li>
<li><a href="../zh-CN467577/index.html">单声道评论：顶级Playme P600SG组合设备</a></li>
<li><a href="../zh-CN467581/index.html">在仿真器中正确显示RetroConsole的颜色</a></li>
<li><a href="../zh-CN467583/index.html">LMTOOLS许可经理。 列出Autodesk产品用户的许可证</a></li>
<li><a href="../zh-CN467587/index.html">所有有用的Wi-Fi内容都集中在一处</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>