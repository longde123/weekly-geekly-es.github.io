<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙 👨🏽 📺 Eclipse #include <Arduino.h> 📢 🧑🏼‍🤝‍🧑🏼 👱🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 
 Kürzlich wurden einige Artikel über den GT gegen und für die Verwendung des Arduino für etwas veröffentlicht, das rentabler ist al...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eclipse #include <Arduino.h></h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390441/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo allerseits! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kürzlich wurden einige Artikel über den GT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gegen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verwendung des Arduino für etwas veröffentlicht, das rentabler ist als das Blinken von Lichtern und das Erstellen von Wetterstationen zu Hause. Der übliche solche Diskurs aus der Welt der Technologie, wenn Technologie für die breite Öffentlichkeit immer zugänglicher wird, schwamm, wissen wir. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe eine technische Ausbildung und ein Universitätsfach, das in direktem Zusammenhang mit der Programmierung von Mikrocontrollern steht, und verstehe diejenigen, die dagegen sind. Und mit langjähriger Erfahrung in der Kommerzialisierung nicht nur meiner eigenen, sondern auch in größerem Umfang ausländischer Kenntnisse und Fähigkeiten verstehe ich diejenigen, die dafür sind, perfekt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du hast Recht, und Sie sind auch richtig, aber die Wahrheit ist immer irgendwo </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in der </font><font style="vertical-align: inherit;">Nähe</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Mitte.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst müssen Sie verstehen, worum es bei dem Argument geht. Arduino ist nicht nur ein Mikrocontroller, der von Italienern wunderschön in Leiterplatten und Boxen verpackt wurde, sondern auch nicht nur die Arduino IDE-Entwicklungsumgebung. Erstens sind dies Bibliotheken für eine schnelle Entwicklung, und meiner Meinung nach sind sie von größtem Wert. Wenn Sie sich die Schaltpläne der Arduino-Platinen ansehen, werden wir nichts besonders Beeindruckendes sehen. Entwicklungsumgebung ... Sagen wir einfach, dass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es das Borland C ++ - Modell von 1994 nicht ganz erreicht</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir wissen, werden diese Bibliotheken unter der GNU-Lizenz vertrieben. Sie können verwendet und verwendet werden, ohne dass Lizenzgebühren an ihre Ersteller gezahlt werden. </font><font style="vertical-align: inherit;">Ein solches Geschäftsmodell erfordert Geld mit etwas anderem als Lizenzgebühren. </font><font style="vertical-align: inherit;">Sie verdienen also, indem sie in einem schönen Paket für 20 Dollar produzieren und verkaufen, was ein Elektronikingenieur für 20 Cent kaufen wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das Wichtigste dabei ist nicht, dass sie eine so gierige Bourgeoisie sind, die die Werktätigen beraubt und der gesamten fortschrittlichen Menschheit verwerflich ist, sondern warum sie dies tun können. </font><font style="vertical-align: inherit;">Weil:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie erschienen zur richtigen Zeit am richtigen Ort und sahen die ersten Gelegenheiten, die andere nicht sahen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie stellten dem Verbraucher das zur Verfügung, was zuvor einem engen Kreis begrenzter Personen zur Verfügung stand.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles war wunderschön verpackt und dem Verbraucher in gebrauchsfertiger Form präsentiert.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun geht es darum, warum und wie die Errungenschaften des Verbrauchersegments unterhaltsamer Elektronik mit dem Entwicklungszyklus eines kommerziellen Projekts kombiniert werden können. </font><font style="vertical-align: inherit;">In diesem Zyklus hat das Arduino-Ökosystem eine sehr wertvolle Eigenschaft - die Entwicklungsgeschwindigkeit. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geschwindigkeit ist das Verhältnis der zurückgelegten Strecke zur Zeit. </font><font style="vertical-align: inherit;">Je größer die Geschwindigkeit, desto schneller werden </font><font style="vertical-align: inherit;">wir die Arbeit tun, oder solche , </font><font style="vertical-align: inherit;">verwendet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mehr Arbeit , die </font><font style="vertical-align: inherit;">wir in der vorgegebenen Zeit tun und wir hypothetisch mehr Geld pro Zeiteinheit verdienen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, der Kunde hat sich an Sie gewandt, er hat einige Wünsche und Sie haben in den Behältern des Heimatlandes kein fast 86% abgeschlossenes Projekt mit ähnlichen funktionalen Merkmalen. </font><font style="vertical-align: inherit;">Jeder Kunde hat zwei grundlegende Fragen:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie viel wird es kosten?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wann wird es fertig sein?</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(sehr oft braucht er die Antwort "gestern" auf die zweite Frage)</font></font><br>
<table>
<tbody><tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>    ,   ,                              .</td>
<td>    ,    ,    .      M    X  Y    Z .</td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgrund der Geschäftserfahrung wage ich zu sagen, dass der Kunde den Weg des </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rauchers des</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arduino wählen wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Informationen zur Verwendung von Arduino für eigene egoistische Zwecke mit </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blackjack- und</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gruppenentwicklung, Versionskontrolle, Dokumentation des Projekts und anderen ausgestopften Schwänen aus der Welt der kommerziellen Entwicklung. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Tat ist alles sehr einfach. Dafür brauchen wir neben Entwicklern eine Entwicklungsumgebung und einen Stand, auf dem sie sich entwickeln können. C ++, es ist in Afrika C ++, AVR und in Arduino bleibt AVR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie als Umgebung Eclipse. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier ist ein sehr guter Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> darüber, wie Sie Eclipse zuerst für die Arbeit mit der AVR-Toolchain konfigurieren, dann die Arduino-Bibliotheken verbinden und die LED auf Uno blinken lassen.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und hier ist es noch besser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber auf Englisch. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde sie mit ein paar Rechen ergänzen, auf die ich getreten bin. Vielleicht spart dies jemandem ein paar Stunden Zeit. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle folgenden Punkte sind für Linux und Leonardo beschrieben. </font><font style="vertical-align: inherit;">Für Windows müssen Sie zuerst </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW / msys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installieren </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um alle im Arduino-Kern enthaltenen Quellen zu erstellen, müssen Sie die Präprozessorkonstanten korrekt festlegen. </font><font style="vertical-align: inherit;">Wenn Sie sich den Quellcode der Bibliotheken ansehen, sehen Sie viele bedingte Kompilierungsstrukturen #ifdef #else #endif. </font><font style="vertical-align: inherit;">In dem Artikel hat der Autor als Referenz alles bewertet, indem er die fertige .a-Datei genommen hat, die von der Arduino IDE zusammengestellt wurde. </font><font style="vertical-align: inherit;">Aber nicht alle Bibliotheken fallen in den Kernel, zum Beispiel fallen SPI und Ethernet nicht in sie, und die gleichen Witze mit bedingter Kompilierung erwarten uns in ihnen.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es kann sehr einfach sein, herauszufinden, welche Konstanten und wie sie eingestellt werden sollen.</font></font><br>
<ol>
<li> Arduino IDE</li>
<li> ,     </li>
<li> —  —    — </li>
<li>     ,   <br>
<pre><code class="bash hljs">*** avr-g++ -c -g -Os -w -std=gnu++11 -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics  -w -x c++ -E -CC -mmcu=atmega32u4 -DF_CPU=16000000L -DARDUINO=10607 -DARDUINO_AVR_LEONARDO -DARDUINO_ARCH_AVR  -DUSB_VID=0x2341 -DUSB_PID=0x8036 <span class="hljs-string"><span class="hljs-string">'-DUSB_MANUFACTURER="Unknown"'</span></span> <span class="hljs-string"><span class="hljs-string">'-DUSB_PRODUCT="Arduino Leonardo"'</span></span> ***
</code></pre><br>
,     -D ( F_CPU,  Eclipse  )       Eclipse.<br>
</li>
</ol><br>
<img src="https://habrastorage.org/files/b65/27d/dc8/b6527ddc8f374bd193b728fb70856b5b.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit der Compiler alle .h-Dateien findet, die wir im Projekt verwenden möchten, müssen Sie den Pfad zu ihnen in den Einstellungen angeben. Es gibt zwei Möglichkeiten. Sie können absolute Pfade zu den Arduino IDE-Ordnern angeben oder die Bibliothek mit dem Projekt verknüpfen und den relativen Pfad von {workspase} / {ProjName} angeben. Mit der zweiten Methode können Sie den Kernel in Eclipse kompilieren, obwohl es keinen grundlegenden Unterschied gibt. In Arduino IDE und Eclipse ist avr-g ++ für das Kompilieren verantwortlich. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie außerdem den Pfad zu pins_arduino.h für die Karte an, die wir im Projekt verwenden.</font></font><br>
<img src="https://habrastorage.org/files/23d/006/16a/23d00616a5b04c96b3d33ade8789b44f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die harmonische Struktur der Bibliotheksdateien main.cpp nicht zu verletzen, werden wir sie nicht bearbeiten. Fügen Sie es einfach so hinzu, wie es vom Kernel stammt, und wir nennen unsere Datei einen anderen Namen. Es ist nicht notwendig, die main () - Funktion darin zu deklarieren, sie befindet sich bereits in main.cpp, initialisiert alles, was benötigt wird, und ruft die loop () - Funktion in einer Endlosschleife auf. Der Linker sammelt alles so, wie er sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Umgebung ist bereit zu gehen. Wir schreiben ähnlich wie in der Arduino IDE, aber hier überwachen sie die Einhaltung der C ++ - Kanons etwas strenger. Und jederzeit können wir von der Programmierung auf hoher Ebene in den unteren Bereich wechseln. Wenn die Geschwindigkeit der Arbeit mit Ports über digitalWrite nicht ausreicht, schreiben wir direkt auf die Ports. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider die Gewohnheit, den Prozessor mit einem Anruf aufzuhängen</font></font><pre><code class="cpp hljs">delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eclipse heilt nicht. Dies wird irgendwo entweder in der High School oder in der Junior High School gelehrt, es dringt so tief in die Persönlichkeit ein, dass keine Moralisierung eine Person auf den richtigen Weg führen kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden Sie zum Füllen von Arduino IDE und Eclipse das Programmierdienstprogramm AVRDude. Sie kennt Boards wie Uno wirklich unter dem Namen "Arduino", aber sie weigert sich kategorisch, billigere wie Leonardo zu erkennen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir gehen zu board.txt und stellen fest, dass der </font><font style="vertical-align: inherit;">
Programmierer in den AVRDude-Einstellungen </font><font style="vertical-align: inherit;">für den Programmierer </font><font style="vertical-align: inherit;">"Atmel AppNote AVR109 Boot Loader" heißt. Hier ist es: </font><font style="vertical-align: inherit;">
Eine kleine Unannehmlichkeit ist nur, dass Eclipse dies nicht tut. Sie </font><font style="vertical-align: inherit;">
müssen vor dem Laden mit den Stiften auf "Zurücksetzen" drücken. </font><font style="vertical-align: inherit;">
Nun, abschließend das gleiche Projekt, das in der Arduino IDE zusammengestellt wurde</font></font><br>
<code>leonardo.upload.protocol=avr109<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/a47/e6b/bd4/a47e6bbd4afe47da8374653d5c7792ed.png"><br><font style="vertical-align: inherit;"></font><br>
<code>leonardo.upload.use_1200bps_touch=true<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>  28&nbsp;432  (99%)  .   28&nbsp;672 .<br>
   1&nbsp;254  (48%)  ,  1&nbsp;306    . : 2&nbsp;560 .<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und in Eclipse Eine </font><font style="vertical-align: inherit;">
Kleinigkeit, aber zum Beenden sind es nur diese ein halbes Kilo und nicht genug.</font></font><br>
<code>Invoking: Print Size<br>
avr-size --format=avr --mcu=atmega32u4 EthernetController.elf<br>
AVR Memory Usage<br>
----------------<br>
Device: atmega32u4<br>
<br>
Program: 27834 bytes (84.9% Full)<br>
(.text + .data + .bootloader)<br>
<br>
Data: 1257 bytes (49.1% Full)<br>
(.data + .bss + .noinit)<br>
<br>
Finished building: sizedummy<br>
</code><br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de390441/">https://habr.com/ru/post/de390441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de390429/index.html">Ein einfaches RC Aero Boot bauen</a></li>
<li><a href="../de390431/index.html">Heimprojektoren Epson EH-TW5210, EH-TW5300 und EH-TW5350 - besser, schneller, heller</a></li>
<li><a href="../de390435/index.html">Mathematiker haben eine Karte der Verbindungen im Universum von Star Wars erstellt</a></li>
<li><a href="../de390437/index.html">Selbstgemachtes elektronisches Höhenmesser-Variometer mit Ton- und Lichtwarnsignalen</a></li>
<li><a href="../de390439/index.html">Spiegel-Interband-Andreev-Reflexionen an den Van-der-Waals-Kontakten zwischen Graphen und Niobselenid</a></li>
<li><a href="../de390447/index.html">Technologische Trends, auf die alle Fluggesellschaften und Flughäfen vorbereitet sein sollten</a></li>
<li><a href="../de390451/index.html">Illinois School Robotics Wettbewerb</a></li>
<li><a href="../de390453/index.html">Maus-Upgrade - Hinzufügen von Radneigungen, Ersetzen der Elektronik</a></li>
<li><a href="../de390455/index.html">Als Wasserkocher liest die Fernbedienung</a></li>
<li><a href="../de390457/index.html">Zum ersten Mal aufgezeichnete Gravitationswellen: jetzt offiziell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>