<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßÄ üçí üõÉ No simplifique demasiado su CI / CD y use Docker de manera significativa üêÄ üë©üèø‚Äçüé® üíáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Trabaj√© en diferentes empresas que usan microservicios. Y los pusieron en contenedores acoplables. Ahora estoy trabajando con un proyecto que, aunque ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>No simplifique demasiado su CI / CD y use Docker de manera significativa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443136/"> Trabaj√© en diferentes empresas que usan microservicios.  Y los pusieron en contenedores acoplables.  Ahora estoy trabajando con un proyecto que, aunque es un monolito, a√∫n es m√°s conveniente ejecutarlo en un contenedor. <br><br>  Por un lado, Docker es una herramienta muy vers√°til, se puede usar de manera f√°cil y efectiva para resolver una gran cantidad de tareas.  Es comprensible y parece que todo es elemental.  Pero, por otro lado, si no gasta su tiempo y recursos para "bombear" en su uso adecuado, es probable que complique demasiado las cosas simples.  Y, por supuesto, supondr√° que tiene raz√≥n, y Docker es una basura voluminosa mediocre que no es adecuada para resolver su tarea √∫nica. <br><a name="habracut"></a><br>  Por lo general, en una empresa est√°ndar, el proceso de trabajar en cualquier tarea se ve as√≠: <br><br><ol><li>  Git push se hace con nuestro compromiso </li><li>  Se activa un sistema, ya sea Jenkins, TeamCity, etc. </li><li>  Se inicia la canalizaci√≥n / trabajo, en el que se descargan bibliotecas de terceros, se compila el proyecto, se ejecutan pruebas </li><li>  Se crea una imagen acoplable con el proyecto ensamblado (ADD ..) y se inserta en el registro de acoplador remoto </li><li>  De alguna manera, en el servidor remoto, se realiza la extracci√≥n de la ventana acoplable (chef, t√≠tere, manualmente a trav√©s de Docker-compose) y se inicia el contenedor. </li></ol><br>  Intuitivamente, siempre sent√≠ que todo era de alguna manera demasiado complicado.  Este proceso se llama orgullosamente CI / CD, y estoy cansado de personas tan inteligentes que no tienen dudas de que esta es la forma m√°s f√°cil. <br><br>  Para el usuario final, se ve as√≠: al presionar al repositorio git, lo que estaba en el commit se desarrolla en alg√∫n lugar. <br><br>  Lo que NO me gusta de este enfoque. <br><br><ol><li>  La √∫nica forma de implementar el sistema en un servidor remoto es realizar los 5 pasos. </li><li>  En el paso 3, es posible que necesite claves de acceso a bibliotecas privadas.  El proceso puede ser largo si el almacenamiento en cach√© de las bibliotecas descargadas previamente no est√° configurado. </li><li>  Debe preparar el Dockerfile, decidir sobre la imagen (DE ...), decidir c√≥mo etiquetaremos la imagen y necesitar√° acceso al repositorio en el que empujaremos la imagen. </li><li>  Necesita su propio repositorio, configure https.  Despu√©s de todo, el cliente de Docker solo funciona en https. </li></ol><br><br>  El cuarto p√°rrafo, por supuesto, se hace una vez y quiz√°s no deber√≠a agregarse. <br><br>  Pero, ¬øcu√°ntas veces se menciona la palabra Docker en la etapa de lanzamiento? <br><br>  Pi√©nselo: ¬øpor qu√© estamos arrastrando todo este Docker antes de tiempo?  Porque se cree que el contenedor es conveniente y ‚ÄúBueno, todo estuvo bien, funciona.  ¬øQu√© est√°s comenzando entonces? <br>  Por lo tanto, para esas personas, puedo decir que los contenedores Docker no son una panacea y no el √∫nico entorno en el que se puede ejecutar su aplicaci√≥n.  Proyecto escrito en python, php, js, swift, scala / java, etc.  se puede ejecutar en: <br><br><ul><li>  m√°quina virtual remota </li><li>  en un host local sin virtualizaci√≥n ni contenedores de acopladores. </li></ul><br>  De repente :) <br><br>  Imaginemos que estamos haciendo un servicio que se ejecutar√° en nodeJS. <br><br>  El resultado de este proyecto (o como lo llamo el 'artefacto') ser√° un conjunto de archivos js (el servicio en s√≠ mismo) + node_modules (bibliotecas de terceros que se utilizan en el servicio). <br><br>  Supongamos que nos aseguramos de que el servicio funciona y queremos ejecutarlo de forma remota para que nuestros evaluadores puedan probar su funcionalidad. <br><br>  ¬øQu√© le parece esta idea? <br><br><ol><li>  Hacemos .tar.gz con nuestro proyecto y lo subimos a ... ¬°repositorio remoto de artefactos!  (Adem√°s, dichos repositorios se denominan "repositorio binario"). </li><li>  Decimos la url por la que pueden descargar nuestro servicio y comenzar a probar. </li></ol><br>  Adem√°s, los probadores pueden iniciar el servicio localmente en casa, si lo tienen todo, o hacer un Dockerfile, en el que habr√° una descarga de artefactos y simplemente iniciar el contenedor.  Bueno o algo m√°s. <br><br>  Dir√© de inmediato si no desea que los evaluadores inicien los contenedores acoplables y, en general, "no es su trabajo" iniciarlos, luego use una herramienta que recopile im√°genes tan pronto como aparezcan nuevos artefactos en el repositorio binario (use el gancho web, persiga peri√≥dicamente sobre la corona). <br><br>  Ahora desde repositorios binarios hay: <br><br><ul><li>  Sonatype nexus </li><li>  Artefacto </li></ul><br>  Nexus es f√°cil de usar, tiene un mont√≥n de repositorios diferentes que puedes crear (npm, maven, raw, docker), as√≠ que lo uso. <br><br>  Esta es una idea muy simple, ¬øpor qu√© no lo he le√≠do en ning√∫n lado?  En Internet, no puede contar art√≠culos "como en git push en alg√∫n lugar donde se implementa un contenedor en alg√∫n tipo de kubernetes".  A partir de algoritmos tan complejos, el cabello se pone de punta. <br><br>  El prop√≥sito de este art√≠culo, es decir, no es necesario en un proceso ensamblar el proyecto y agregarlo a la imagen del acoplador. <br><br>  ¬°Divide y gobierna! <br><br>  Construya el proyecto, publique artefactos en un lugar descargable.  (El registro Docker no es el √∫nico lugar donde puede almacenar su proyecto, elija rutas universales para entregar artefactos a los servidores). <br><br>  Con una herramienta separada, entregue artefactos al servidor donde funcionar√° su proyecto. <br>  Todo es muy simple, d√©le a los dem√°s una opci√≥n: use docker, ejecute en kubernetes o use cualquier otra herramienta para ejecutar artefactos.  No es necesario imponer el uso de la tecnolog√≠a a pesar del hecho de que te parece muy conveniente y de moda. <br><br>  ¬°Buena suerte en el lanzamiento de tus proyectos! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443136/">https://habr.com/ru/post/443136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443122/index.html">Fuga de 809 millones de direcciones de correo electr√≥nico del servicio Verifications.io debido a MongoDB abierto p√∫blicamente</a></li>
<li><a href="../443124/index.html">Reaccionar perezoso? Pero, ¬øy si no tienes un componente?</a></li>
<li><a href="../443126/index.html">D = Confianza: por qu√© Google, Amazon, Apple y Facebook lo pierden y c√≥mo restaurarlo</a></li>
<li><a href="../443128/index.html">kW, kW * h y kW / h</a></li>
<li><a href="../443132/index.html">C√≥mo descubrir las bases de datos abiertas de MongoDB y Elasticsearch</a></li>
<li><a href="../443138/index.html">"El audio es genial, pero un poco m√°s tarde": un podcast sobre creadores de contenido, GTD para un editor y una carrera en los medios</a></li>
<li><a href="../443140/index.html">Sistema de simulaci√≥n de script ZenCad 3D</a></li>
<li><a href="../443144/index.html">42 escuelas en los EE. UU. Es un sue√±o americano al alcance de todos</a></li>
<li><a href="../443146/index.html">Estacionamiento inteligente: estaciones adaptativas de navegaci√≥n, iluminaci√≥n y carga para veh√≠culos el√©ctricos</a></li>
<li><a href="../443150/index.html">Angular vs React: biblioteca completa con un marco</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>