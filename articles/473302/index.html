<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧗🏿 🤶 💴 Adiós HTML, Hola QML 🙌🏻 🌖 🍭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¿Cómo puedo crear una aplicación web sin usar HTML? Para esto necesitamos: un nuevo navegador, QML y back-end en Java. 
 Un poco de historia 


 HTML ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Adiós HTML, Hola QML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473302/"><p><img src="https://habrastorage.org/webt/mt/h1/_d/mth1_dlp5ttlqdlmw5nlnkaguio.png" alt="Desorden HTML"></p><br><p>  ¿Cómo puedo crear una aplicación web sin usar HTML?  Para esto necesitamos: un nuevo navegador, QML y back-end en Java. </p><a name="habracut"></a><br><h3 id="nemnogo-istorii">  Un poco de historia </h3><br><p>  HTML fue creado por científicos del CERN como una forma de compartir artículos científicos.  Luego se convirtió en una forma conveniente de publicar información en la red.  Quedó claro que la funcionalidad de los hipervínculos no era suficiente, y luego comenzaron a agregarse componentes, formularios y CSS.  Pero esto no fue suficiente, necesitábamos dinámica, agregamos JavaScript.  Pero en todo esto no es muy conveniente desarrollar, por lo que en el futuro aparecieron los frameworks js.  Están tratando de arreglar los defectos de HTML.  Pero creo que es mejor tratar la enfermedad en sí misma que los síntomas.  QML nos ayudará con esto. </p><br><h3 id="pristupim-k-resheniyu">  Vayamos a la solución </h3><br><p>  <em>Quiero señalar de inmediato que esta solución no está lista para producción.</em>  <em>Esto es "¡Hola Mundo!"</em>  <em>Una aplicación que muestra lo que se puede lograr con estas herramientas.</em> </p><br><h3 id="brauzer">  Navegador </h3><br><p>  Como no necesitamos el análisis HTML, escribiremos nuestro propio navegador en Qt5, QML y C ++.  Nuestro navegador debe interactuar con la aplicación de fondo y mostrar información en la pantalla. </p><br><p>  Flujo de trabajo del navegador: </p><br><ul><li> En la barra de direcciones, escriba la URL del recurso y presione <code>enter</code> </li><li>  Usando una solicitud HTTP, cargue el archivo qml en el disco duro </li><li>  Usando una solicitud HTTP, cargue los datos para el archivo qml </li><li>  Mostrar el archivo qml con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Loader</a> </li></ul><br><p>  TabComponent.qml </p><br><pre> <code class="javascript hljs">... TextInput { <span class="hljs-attr"><span class="hljs-attr">onAccepted</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = siteLoader.loadSite(addressIpt.text) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result === LoadResultType.SUCCESS) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> props = siteLoader.loadProperties(addressIpt.text) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> qmlPath = siteLoader.getMainQmlPath(addressIpt.text) pageLoader.setSource(qmlPath, props) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ... } } } ... Loader { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: pageLoader }</code> </pre> <br><p>  Aquí <code>siteLoader</code> es una instancia de la clase C ++ que se importa a qml.  Implementa la lógica del navegador. </p><br><p>  <code>TextInput</code> es un componente de la barra de direcciones en el navegador.  Cuando presiona <code>enter</code> , se <code>onAccepted</code> método <code>onAccepted</code> y se ejecuta la lógica de carga del sitio. </p><br><p>  QML tiene la capacidad de mostrar un archivo a través de la red, pero no creo que sea una buena manera.  En el futuro, puede atornillar el control de versiones y, si las versiones coinciden, no descargue el archivo, sino que use el que es. </p><br><p>  Ese es todo el navegador.  Pasemos al back-end y a la interfaz de usuario. </p><br><h3 id="back-end-i-ui">  Back-end y UI </h3><br><p>  El back-end y la interfaz de usuario son directamente nuestra aplicación web.  Escribiremos la parte de la interfaz de usuario en QML, y el back-end se escribirá en <code>spring boot</code> , ya que soy un programador de Java.  Lo primero que necesitamos es un archivo qml con una descripción de nuestra interfaz. </p><br><p>  main.qml </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> QtQuick <span class="hljs-number"><span class="hljs-number">2.0</span></span> Rectangle { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"lightgray"</span></span> property alias textValue: helloText.text Text { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: helloText anchors.horizontalCenter: parent.horizontalCenter font.pointSize: <span class="hljs-number"><span class="hljs-number">24</span></span> } }</code> </pre> <br><p>  Aquí todo es bastante simple. </p><br><pre> <code class="javascript hljs">property alias textValue: helloText.text</code> </pre> <br><p>  Esta línea es necesaria para extraer la propiedad de <code>text</code> para que pueda ponerla en el <code>Loader</code> . <br>  Ahora agregue dos puntos finales: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>( value = <span class="hljs-string"><span class="hljs-string">"/main.qml"</span></span>, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] mainQml() <span class="hljs-keyword"><span class="hljs-keyword">throws</span></span> IOException { ClassPathResource resource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassPathResource(<span class="hljs-string"><span class="hljs-string">"main.qml"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IOUtils.toByteArray(resource.getInputStream()); } <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span>( value = <span class="hljs-string"><span class="hljs-string">"/getProperties"</span></span>, produces = MediaType.APPLICATION_JSON_VALUE) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getProperties</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"{\"textValue\": \"Hello World!\"}"</span></span>; } }</code> </pre> <br><p>  El primer punto final devolverá el archivo qml y el segundo, los datos necesarios.  Almacenar un archivo en classpath no es la mejor solución.  Además, en las aplicaciones QML puede haber muchos archivos <code>qml</code> y <code>js</code> .  Pero lo hicimos por simplicidad. </p><br><p>  Como resultado, obtenemos: </p><br><p><img src="https://habrastorage.org/webt/uk/um/ph/ukumph8s6qrxsj6rn-t8cahjx2i.png" alt="Hola mundo ejemplo"></p><br><h3 id="plyusy-i-minusy">  Pros y contras </h3><br><p>  Veamos ahora los pros y los contras de este enfoque. </p><br><h4 id="plyusy">  Pros </h4><br><ul><li>  El código de la interfaz de usuario del cliente es relativamente simple.  Por ejemplo, no necesitamos usar ningún hack CSS para hacer 2 columnas de la misma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">altura</a> . </li><li>  El desarrollo de la interfaz de usuario se puede hacer en el diseñador gráfico Qt Creator </li><li>  Presumiblemente, la velocidad de la aplicación será mucho mayor que HTML </li><li>  Uso de componentes de la IU de escritorio </li></ul><br><h4 id="minusy">  Contras </h4><br><ul><li>  Segundo navegador O RLY?  Hasta que se resuelva el problema de seguridad, nadie incluirá el código en los navegadores principales, y nadie instalará un segundo navegador para "sitios de un tipo diferente". </li><li>  Seguridad  Ahora ella simplemente está ausente.  Puede hacer una página que formatee el disco duro. </li><li>  Para una solución de producción, debe resolver un centenar de preguntas: estándar, sesiones, almacenamiento en caché de datos, seguridad, etc. </li><li>  Todo esta en su infancia </li><li>  La falta de una biblioteca de componentes de UI, mejorada para crear aplicaciones web </li></ul><br><p>  Hasta ahora, hay muchas más desventajas que ventajas.  Bueno, esto es comprensible, este es solo un prototipo que fue escrito en un par de días, de rodillas.  Pero todos los problemas están resueltos, al menos no veo bloqueadores serios. </p><br><p>  Entonces, ¿por qué este artículo? </p><br><p>  No encontré nada similar en Internet, tal vez me veía mal y ya existe algo similar.  O nadie solo lo necesita.  En cualquier caso, quiero escuchar sus comentarios y los de ellos para comprender si vale la pena hacer este negocio. </p><br><h3 id="resursy">  Recursos </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Navegador web Drako</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aplicación Java Hello</a> </li></ul><br><p>  PD: Quiero señalar que este método es fundamentalmente diferente de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">QmlWeb</a> .  En <code>QmlWeb</code> , el código HTML + JS se <code>QmlWeb</code> partir del archivo qml y se representa en el navegador. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/473302/">https://habr.com/ru/post/473302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../473292/index.html">El resumen de materiales interesantes para el desarrollador móvil # 319 (del 21 al 27 de octubre)</a></li>
<li><a href="../473294/index.html">Gestión de la memoria o, con menos frecuencia, dispararse en el pie</a></li>
<li><a href="../473296/index.html">Arranque sin dinero. Experiencia personal</a></li>
<li><a href="../473298/index.html">Cómo construir procesos y dejar de burlarse de un equipo</a></li>
<li><a href="../473300/index.html">Relaciones públicas en la era digital, programas modernos de fidelización y marketing de festivales.</a></li>
<li><a href="../473306/index.html">Concepto de gafas de realidad aumentada. Mi auricular AR perfecto, que es posible</a></li>
<li><a href="../473308/index.html">Cómo llevar a cabo la revisión de código de Google</a></li>
<li><a href="../473312/index.html">"Big Brother Music": metal, pop chino y ópera</a></li>
<li><a href="../473316/index.html">Marketing de influencia saudita, tendencias de relaciones públicas 2020 y los formatos de anuncios digitales más rentables</a></li>
<li><a href="../473318/index.html">Encuestas telefónicas y búsquedas de CRM en CFDs 3CX, nuevo complemento WP-Live Chat Support, actualización de la aplicación de Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>