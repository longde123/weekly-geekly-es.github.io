<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>  ю Perfiles de Linux con Performance Analyzer ウ  </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perfiles de Linux con Performance Analyzer 


 Colegas, me parece 煤til hablar de un generador de perfiles de c贸digo conveniente y gratuito para Linux ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perfiles de Linux con Performance Analyzer</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469409/"><h1>  Perfiles de Linux con Performance Analyzer </h1><br><p>  Colegas, me parece 煤til hablar de un generador de perfiles de c贸digo conveniente y gratuito para Linux / Solaris.  Forma parte del paquete Sun / Oracle Developer Studio [1].  En mi opini贸n, otras partes de este entorno de desarrollo son algo in煤tiles, pero el generador de perfiles, llamado Performance Analyzer, es muy exitoso.  Es f谩cil de usar, permite un an谩lisis claro y conveniente de los resultados.  En mi opini贸n, el generador de perfiles sigue siendo superior a muchos hom贸logos de Linux.  Con esta herramienta, usar gprof parece un capricho extra帽o y una p茅rdida de tiempo. </p><br><p>  Si no planea utilizar el Analizador de rendimiento de inmediato, no podr谩 seguir leyendo.  Solo recuerda que tal producto existe.  Si es interesante echar un vistazo, bienvenido. </p><a name="habracut"></a><br><p>  El generador de perfiles consta de dos partes: recopilar: inicia la aplicaci贸n y recopila datos, registra los resultados del experimento;  El analizador es una interfaz gr谩fica que lee los datos del experimento y brinda oportunidades para el an谩lisis conveniente de puntos calientes y 谩rboles de llamadas de funci贸n. </p><br><p>  Brevemente sobre las ventajas y desventajas importantes: </p><br><h3 id="plyusy">  Pros: </h3><br><ul><li>  sin cargo; </li><li>  no requiere la recompilaci贸n del c贸digo y la vinculaci贸n del archivo ejecutable; </li><li>  trabaja con compiladores gnu y sun; </li><li>  no cambia el tiempo de ejecuci贸n del programa al recopilar datos; </li><li>  Tiene una interfaz gr谩fica intuitiva; </li><li>  Equipado con interfaz de l铆nea de comando avanzada para an谩lisis autom谩tico; </li><li>  le permite ver r谩pidamente el resultado del compilador; </li><li>  tiene un perfilador estad铆stico que es lo suficientemente preciso incluso para piezas no particularmente laboriosas; </li><li>  an谩lisis convenientemente realizado y an谩lisis comparativo de varios lanzamientos de programas; </li><li>  No distorsiona los resultados. </li></ul><br><h3 id="nekotorye-minusy">  Algunas desventajas: </h3><br><ul><li>  La interfaz gr谩fica est谩 escrita en Java.  A veces se bloquea al arrancar, un simple reinicio ayuda; </li><li>  solo se mide el tiempo de CPU; si es posible arreglar el n煤cleo, entonces esta restricci贸n se puede eliminar; </li><li>  En las aplicaciones de subprocesos m煤ltiples, el tiempo que tarda la funci贸n es la suma de los tiempos dedicados a esta funci贸n en cada subproceso; </li><li>  El generador de perfiles estad铆sticos es ruidoso y dificulta la optimizaci贸n de los ciclos. </li></ul><br><h3 id="platformy">  Plataformas </h3><br><p>  Formalmente, Oracle Developer Studio solo es compatible con Solaris y Oracle Linux.  De hecho, lo he usado con 茅xito en Redhat, CentOS y Ubuntu.  Recopilar / analizador que utilic茅 solo para optimizar las aplicaciones C / C ++ / Fortran.  La documentaci贸n indica que la herramienta tambi茅n maneja proyectos Java. </p><br><h1 id="zapusk-i-analiz-rezultatov">  Ejecuta y analiza resultados </h1><br><p>  El an谩lisis de c贸digo, por supuesto, comienza con la construcci贸n de un archivo ejecutable.  Los nombres de funciones no deben eliminarse, de lo contrario no habr谩 nada que analizar.  Los s铆mbolos de depuraci贸n son necesarios si desea ver l铆neas de c贸digo desde el analizador.  Por supuesto, en primer lugar tiene sentido perfilar con sus opciones de optimizaci贸n favoritas.  Hay escenarios en los que es 煤til perfilar el c贸digo sin optimizaci贸n, pero esto es raro.  Por ejemplo, si solo necesita mirar el gr谩fico de llamadas y no medir el rendimiento. </p><br><p>  Entonces, para comenzar, necesita, como de costumbre, recopilar el archivo ejecutable, por ejemplo: </p><br><pre><code class="plaintext hljs">g++ -O3 g example.c o ex</code> </pre> <br><p>  El segundo paso es correr desde recoger: </p><br><pre> <code class="plaintext hljs">$pathToSunStudio/collect ./ex</code> </pre> <br><p>  Como resultado del trabajo del generador de perfiles, se crea un subdirectorio de la prueba experimental. N.er en el directorio actual, donde N es el n煤mero inicial.  (Importante: si su programa fue interrumpido, el directorio del experimento se romper谩). </p><br><p>  El paso m谩s divertido es iniciar la GUI: </p><br><pre> <code class="plaintext hljs">$pathToSunStudio/analyzer test.1.er</code> </pre> <br><p>  En el caso de nuestro sencillo ejemplo, conoceremos el c贸digo directamente desde el analizador GUI.  Nuestro ejemplo calcula la suma de los logaritmos naturales y decimales de enteros de 2 a 20,000,000. Las l铆neas "c谩lidas" se resaltan en amarillo. </p><br><p><img src="https://habrastorage.org/webt/g1/vb/vt/g1vbvt9-p4wmcqsjv0vwlffb0lq.jpeg"></p><br><p>  Pasemos a la lista de "funciones pesadas".  Inicialmente, las funciones se ordenan por el tiempo dedicado a la funci贸n en s铆 (tiempo exclusivo).  Puede ordenar por la suma de tiempo en la funci贸n y en sus elementos secundarios (tiempo incluido). </p><br><p><img src="https://habrastorage.org/webt/vq/1x/tx/vq1xtx33e01jqrawptj4-nskjm0.jpeg"></p><br><p>  Como se esperaba, puede caminar alrededor de la pila de llamadas.  En nuestro ejemplo simple, vemos que en <i>t1 ()</i> venimos de <i>main ()</i> , y la funci贸n <i>sumlog ()</i> toma la mitad del tiempo de ejecuci贸n de todo el programa. </p><br><p><img src="https://habrastorage.org/webt/zc/qg/97/zcqg97u-txl6iwqj-3aaywfgo6i.jpeg"></p><br><p>  Es muy conveniente para la automatizaci贸n que sea posible extraer datos utilizando la l铆nea de comando.  Por ejemplo: </p><br><pre> <code class="plaintext hljs">er_print -functions test.1.er test.2.er</code> </pre> <br><p>  imprime el tiempo de ejecuci贸n de las funciones desde dos inicios. </p><br><div class="spoiler">  <b class="spoiler_title">tabla con tiempos</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">&lt;p&gt;Functions sorted by metric: Exclusive Total CPU Time Excl. Incl. Name Total Total CPU sec. CPU sec. 4.160 4.160 Total 3.140 3.140 __ieee754_log 0.330 1.990 __ieee754_log10 0.270 1.880 sumlog(int) 0.180 2.280 sumlog10(int) 0.100 1.610 log 0.090 2.100 log10 0.050 0.050 isnan&lt;/p&gt; &lt;ol&gt; &lt;li&gt;4.160 __libc_start_main&lt;/li&gt; &lt;li&gt;4.160 main&lt;/li&gt; &lt;li&gt;1.880 t1(int)&lt;/li&gt; &lt;li&gt;2.280 t2(int)</code> </pre> </div></div><br><br><p>  <b>Lifehack</b>  Mirando detenidamente el gr谩fico de las llamadas al programa, puede encontrar mucho trabajo 煤til y la arquitectura de una nueva base de c贸digo para usted.  A menudo empiezo a trabajar con un nuevo proyecto lanzando el Analizador de rendimiento, porque puede comprender de inmediato qu茅 c贸digo realmente se ejecuta y en qu茅 escenarios. </p><br><h1 id="zaklyuchenie">  Conclusi贸n </h1><br><p>  Sun / Oracle Studion Performance Analyzer es una herramienta potente y conveniente.  En la nota, mostr茅 el caso de uso m谩s simple y, por supuesto, Performance Analyzer puede hacer mucho m谩s.  Si est谩 interesado en aprender m谩s, consulte la documentaci贸n [2].  La conclusi贸n principal: esta herramienta existe y puede ser de gran beneficio para sus proyectos. </p><br><h1 id="ssylki">  Referencias </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Oracle Developer Studio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Oracle Developer Studio 12.6: Analizador de rendimiento</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Analizador de rendimiento</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469409/">https://habr.com/ru/post/469409/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469399/index.html">Wi-Fi en el Museo-Finca Arkhangelskoye</a></li>
<li><a href="../469401/index.html">Actualizaci贸n del servicio 3CX WebMeeting, Elastix Online Converter y nuevos videos tutoriales</a></li>
<li><a href="../469403/index.html">Estamos entrevistando a un candidato para el puesto de Desarrollador de Software Senior</a></li>
<li><a href="../469405/index.html">Deep Learning ahora est谩 en Java</a></li>
<li><a href="../469407/index.html">ARIES PLC110 [M02] -MS4, HMI, OPC y SCADA, o cu谩nto necesita una persona el t茅 de manzanilla. Parte 1</a></li>
<li><a href="../469411/index.html">RE: Dolor y l谩grimas en Svelte 3</a></li>
<li><a href="../469413/index.html">El resumen de materiales frescos del mundo del front-end para la 煤ltima semana No. 382 (22-29 de septiembre de 2019)</a></li>
<li><a href="../469415/index.html">Niveles de aislamiento transaccional para los m谩s peque帽os.</a></li>
<li><a href="../469417/index.html">Distribuido SI o distribuido NO? Entrevista para aquellos que durante seis meses no pueden encontrar un desarrollador</a></li>
<li><a href="../469421/index.html">Hola personas con discapacidades autistas.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>