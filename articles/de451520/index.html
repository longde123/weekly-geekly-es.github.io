<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛠️ 👨🏾‍🔧 📫 VDI: Billig und fröhlich 🕑 🙌 🔞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, liebe Chabrowiten, Freunde und Bekannte. Als Vorwort möchte ich über die Implementierung eines interessanten Projekts oder, wie es jetzt in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VDI: Billig und fröhlich</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451520/"><img src="https://habrastorage.org/webt/wi/kx/fo/wikxfomu1gaefx-0flncqjauk5o.png"><br><br>  Guten Tag, liebe Chabrowiten, Freunde und Bekannte.  Als Vorwort möchte ich über die Implementierung eines interessanten Projekts oder, wie es jetzt in Mode ist, über einen interessanten Fall in Bezug auf die Bereitstellung der VDI-Infrastruktur sprechen.  Es schien, dass es viele Artikel über VDI gab, es gibt einen Schritt-für-Schritt-Vergleich direkter Wettbewerber und erneut einen Schritt-für-Schritt-Vergleich von Wettbewerbslösungen.  Es schien, dass etwas Neues angeboten werden könnte? <br><br>  Und neu, was viele Artikel nicht haben, ist eine Beschreibung der wirtschaftlichen Auswirkungen der Implementierung, die Berechnung der Betriebskosten der ausgewählten Lösung und noch interessanter der Vergleich der Betriebskosten mit ähnlichen Lösungen.  In diesem Fall ist das Schlüsselwort basierend auf dem Titel des Artikels <b>billig</b> : Was bedeutet es?  Zu Beginn des Jahres hatte einer meiner Kollegen, ein Freund und ein Freund, die Aufgabe, VDI mit einer Mindestanzahl von „Fenstern“ zu implementieren, nämlich einem kostenlosen Hypervisor, einem Linux-Desktop, einer kostenlosen Datenbank und anderen Möglichkeiten, um die Kosten mit unserem „geliebten“ Microsoft zu minimieren. <br><a name="habracut"></a><br>  Und warum mit „minimalen Fenstern“?  Hier schweife ich von der weiteren Erzählung ab und beschreibe die Disposition, warum ich an der Offenlegung dieses speziellen Themas interessiert war.  Ein Freund von mir, dem ich bei der Bereitstellung des Projekts geholfen habe, arbeitet in einem durchschnittlichen Unternehmen mit mehr als 500 Mitarbeitern. Nicht alle Software ist legal, aber es wurde daran gearbeitet, sie zu optimieren. Die meisten Front-End-Informationssysteme sind für WEB angepasst. Ich war bis zu einem schönen Tag gut gelaunt Der dem Unternehmen zugewiesene Microsoft- <s>Sammler</s> „Personal Manager“ kam nicht und begann nicht, nicht anzubieten, nicht zu fragen, sondern zu fordern, alles dringend gewaltsam zu legalisieren, und machte viele Schlussfolgerungen über die auf Open Source und Presse basierenden Lösungen  Veröffentlichungen.  Es schien dem Unternehmen nichts auszumachen, aber diese Wichtigkeit und Besessenheit, die an Bedrohungen grenzte, spornte die langjährigen Pläne der <s>Importsubstitution an</s> , um den Einsatz von MS-Produkten und maximale Sorgfalt in OpenSource <s>zu</s> minimieren.  Eine Person von außen mag nicht besonders an die beschriebene Situation mit einem Vertreter des Software-Riesen glauben, aber zu einer Zeit wiederholte sich eine ähnliche Situation 1 zu 1 mit dem angegebenen Druck eines Microsoft-Mitarbeiters, der persönlich mit mir zusammen war. <br><br>  Andererseits ist dies ein zusätzlicher Auslöser für die Überprüfung der Entwicklungsstrategie der IT-Abteilung, um die Verwendung kostenpflichtiger Softwareprodukte zu diversifizieren.  Auch hier gewinnt der Trend zur Verbreitung von OpenSource-Lösungen für Unternehmen zunehmend an Bedeutung. Auf der IT-OS 0219-Konferenz wurde zu diesem Thema diskutiert, und die folgende Folie bestätigt dies vollständig. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mh/0x/2e/mh0x2e7i7tobz-us6jmjyxgyw3e.png" alt="Bild"></div><br>  In der oben genannten Organisation wurde daher das Ziel festgelegt, den Abschluss der Lizenzierung von MS-Produkten zu erzwingen und gleichzeitig OpenSource-Lösungen maximal einzuführen und zu verwenden.  Für den Benutzerzugriff wurde beschlossen, von „terminalok“ und Windows VDI vollständig auf Linux VDI umzusteigen.  Die Wahl von Citrix VDI wurde aufgrund des kleinen Verwaltungspersonals, der großen Anzahl von Niederlassungen und der Einfachheit der Bereitstellung der Skalierung und des bereits gekauften Produkts getroffen. <br><br>  Und im ersten Teil des Artikels möchte ich mich darauf konzentrieren, die Gesamtbetriebskosten der Linux-VDI-Infrastruktur zu berechnen und eine Lösung zu wählen, die auf der Citrix Virtual Apps- und Desktops-Lösung in den normalen Leuten von XenDesktop und dem guten alten XenServer basiert, obwohl sie jetzt Citrix Hypervisor heißt (oh, diese Umbenennung, ändern Sie den Namen fast auf einmal Produktlinie) und dementsprechend Linux-Desktops.  Jeder schien sich bewusst zu sein, dass die Synergie von VDI / APP in der Kombination von Vmware als Hypervisor, Citrix als Controller für die Anwendungsbereitstellung und Microsoft als Gastbetriebssystem besteht.  Was aber, wenn dieselbe Technologie benötigt wird, aber zu den niedrigsten Kosten?  Nun, lassen Sie uns berechnen: <br><br>  Am Anfang werde ich über die Disposition von DO sprechen, und danach hat es sich „gelohnt“, auf eine neue Plattform umzusteigen. <br>  Betrachten wir zur Vereinfachung und Integrität des Bildes nur den Softwareteil, da das Gerät bereits verfügbar war und seine Aufgabe erfüllt hat. <br><br>  Am Anfang war es also ... es gab einen wunderbaren EMC-Speicher, einen Blade-Korb mit HP c7000- und 7 G8-Servern in der Rolle des Virtualisierungs-VDI.  Windows Server 2012R2 mit der Hyper-V-Rolle wurde auf den Servern installiert und SCVMM wurde verwendet.  Die erworbene VDI-Plattform auf Basis von XenDesktop 7.18 wurde bereitgestellt, mehrere Terminalfarmen wurden bereitgestellt.  Vergleichen Sie die Kosten für die Bereitstellung von Linux VDI und einer schlüsselfertigen Microsoft-Komplettlösung, da Sie die Disposition und die Notwendigkeit kennen, eine große Anzahl von Software zu lizenzieren.  Es wurde beschlossen, die Übersetzung schrittweise umzusetzen. In der Anfangsphase waren die Niederlassungen des Unternehmens betroffen, in der zweiten Phase wurden die verbleibenden Arbeitsplätze in GO übertragen. <br><br><img src="https://habrastorage.org/webt/5f/bo/4k/5fbo4kvywhqjqd-f3ytkdggr2ny.png"><br><br>  In der Terminalfarm arbeitete 1C hauptsächlich, auf VDI-Desktops funktionierte die Standard-Office-Suite, Mail, Dateien, das Internet (ihre Hauptfunktion war ausschließlich Lesen und Drucken). <br><br>  Wenn Sie die Liste der erforderlichen Software kennen, berechnen wir die Gesamtbetriebskosten einer Lösung von Microsoft. <br><br>  <b>Windows Server:</b> <br><br>  Gemäß den Microsoft-Lizenzanforderungen müssen die folgenden Bedingungen erfüllt sein: <br><br><ol><li>  Sie müssen alle physischen Kerne auf dem Server lizenzieren. </li><li>  Das Mindestpaket für 2-Core-Serverlizenzen beträgt 8 Stück.  (oder eine 16-Core-Lizenz). </li><li>  Das Mindestpaket an 2-Core-Prozessorlizenzen beträgt 4 Stück.  (Diese Regel ist aktiviert, wenn die Anzahl der Prozessoren mehr als zwei beträgt.) </li><li>  Das Standard License Pack gewährt das Recht, eine physische und zwei virtuelle Instanzen von Windows Server auf einem Server zu verwenden. </li><li>  Das Datacenter-Lizenzpaket bietet das Recht, eine physische und eine beliebige Anzahl virtueller Instanzen von Windows Server auf einem einzelnen Server zu verwenden. </li></ol><br>  Es stellt sich heraus, dass es wirtschaftlich machbar ist, die Datacenter Edition zu erwerben, wenn Sie mehr als 13 virtuelle Kopien von Windows Server und Windows-Arbeitsstationen auf dem Server installieren müssen. <br><br>  <b>Windows 10 VDI:</b> <br><br>  Gemäß der Microsoft-Lizenzrichtlinie muss der Zugriff auf virtuelle Desktops vom Client-Betriebssystem aus von einem Gerät aus erfolgen, das über ein gültiges Microsoft VDA-Abonnement (Virtual Desktop Access) verfügt, mit Ausnahme von PCs, die von Software Assurance abgedeckt werden.  In unserem Fall müssen wir tatsächlich jährlich ein Abonnement für 300 DVA-Lizenzen erwerben und verlängern. <br><br>  „Ich kaufe VDI-Software von VMware / Citrix / einem anderen Anbieter. <br><br>  Benötige ich noch Windows VDA?  Ja  Wenn Sie von einem Nicht-SA-Gerät (einschließlich Thin Clients, iPads usw.) auf ein Windows-Client-Betriebssystem als Gastbetriebssystem im Rechenzentrum zugreifen, ist Windows VDA unabhängig vom ausgewählten VDI-Softwareanbieter das geeignete Lizenzierungsinstrument.  Das einzige Szenario, in dem Sie Windows VDA nicht benötigen würden, wäre die Verwendung von PCs, die unter Software Assurance fallen, als Zugriffsgeräte, da Zugriffsrechte für virtuelle Desktops als Vorteil von SA enthalten sind. “ <br><br>  <b>SCVMM:</b> <br><br>  Der Manager der virtuellen Maschine des Managementsystems der virtuellen Infrastruktur System Center Virtual Machine ist im Microsoft System Center-Paket enthalten und wird nicht als separates Produkt geliefert.  In Bezug auf diesen Ansatz ist es nicht notwendig zu diskutieren, was wir haben, dann haben wir. <br><br>  Berücksichtigung der Lizenzanforderungen: <br><br><ol><li>  „Sie müssen alle physischen Kerne auf dem Server lizenzieren. </li><li>  Das Mindestpaket für 2-Core-Serverlizenzen beträgt 8 Stück.  (oder eine 16-Core-Lizenz). </li><li>  Das Mindestpaket an 2-Core-Prozessorlizenzen beträgt 4 Stück.  (Diese Regel ist aktiviert, wenn die Anzahl der Prozessoren mehr als zwei beträgt.) </li><li>  Das Standard-Lizenzpaket bietet das Recht, ein physisches und zwei virtuelle Betriebssysteme auf einem Server zu verwalten. </li><li>  Das Datacenter-Lizenzpaket bietet das Recht, ein physisches und eine beliebige Anzahl virtueller Betriebssysteme auf einem Server zu verwalten. “ </li></ol><br><img src="https://habrastorage.org/webt/f8/gv/ey/f8gveyi4ffhvkva0au_3liatglw.png"><br><br>  Die angegebenen Preise sind natürlich Preise, bei einem solchen Volumen ist ein Rabatt möglich, aber im Gegensatz zu den GLP-Preisen von Cisco oder Lenovo vergessen Sie einen Rabatt von 50 oder 70%.  Aus Erfahrung mit MS sind über 5% schwer zu erkennen.  Es stellt sich nur für das erste Jahr heraus, dass die Betriebskosten mehr als 5 Millionen Rubel betragen werden, innerhalb von 3 Jahren werden die Betriebskosten ~ 9 Millionen Rubel betragen.  Die Anzahl ist nicht klein, aber für ein mittelständisches Unternehmen ist sie riesig.  Es stellt sich heraus, dass die Entscheidung aus wirtschaftlicher Sicht bereits nicht so einfach erscheint. <br><br>  Mit Blick auf die Zukunft werde ich sagen, dass das Management nach der Berechnung der Entscheidung für das Projekt eine positive Entscheidung getroffen hat, als es genehmigt wurde. <br><br><h3>  Das Ergebnis: </h3><br>  Infolgedessen stellte sich heraus, dass das Softwarepaket das folgende ist: Citrix Hypervisor Gireprivizor, Linux-Gastbetriebssystem, wird von Citrix Virtual Desktops gesteuert.  3 Millionen Rubel sparen.  pro Jahr ist signifikant.  War dieses Projekt einfach umzusetzen?  Nein!  Ist das ein Allheilmittel für eine solche Entscheidung?  Nein!  Es ist jedoch klar, dass die Möglichkeit der Implementierung von Citrix VDI-basierten Linux-Gastsystemen eingehend geprüft werden muss.  Natürlich gibt es auch einige kleine Nachteile, auf die ich im zweiten Teil näher eingehen werde, der eine vollständige Schritt-für-Schritt-Anleitung der beschriebenen Lösung darstellt. <br><br>  Abschließend möchte ich sagen, dass ich nicht vorgebe, eine endgültige Instanz zu sein, aber der Fall selbst, die Aufgabe, war sehr interessant. <br><br>  <i>Vielen Dank für Ihre Aufmerksamkeit, bis bald)</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de451520/">https://habr.com/ru/post/de451520/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de451510/index.html">Ein paar technische Texte über C ++ Tools von JetBrains und was Einhörner damit zu tun haben</a></li>
<li><a href="../de451512/index.html">So analysieren Sie das mobile MMORPG-Netzwerkprotokoll</a></li>
<li><a href="../de451514/index.html">CSS Subgrid News</a></li>
<li><a href="../de451516/index.html">Im Spring Framework verwendete Entwurfsmuster</a></li>
<li><a href="../de451518/index.html">Unsere abgespeckten mobilen Websites</a></li>
<li><a href="../de451522/index.html">Wir stellen die Automatisierung in wenigen Stunden bereit: TypeScript, Protractor, Jasmine</a></li>
<li><a href="../de451524/index.html">Die Geschichte, wie der Autoplay Media Studio 8.5.3.0-Wasserkocher kaputt ging</a></li>
<li><a href="../de451528/index.html">"Und so geht es": Cloud-Anbieter sind sich nicht über personenbezogene Daten einig</a></li>
<li><a href="../de451532/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 459 (30.04.2019 - 05.06.2019)</a></li>
<li><a href="../de451534/index.html">12 Prinzipien der Animation bei der Entwicklung von Videospielen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>