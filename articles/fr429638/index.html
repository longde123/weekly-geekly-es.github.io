<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≥ ü§≥üèø üë®üèª‚Äç‚úàÔ∏è Chat, extraire: l'architecture des chatbots complexes üïã üöÇ üåà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les utilisateurs, apr√®s avoir parl√© avec des assistants vocaux intelligents, attendent de l'intelligence des robots de discussion. Si vous d√©veloppez ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Chat, extraire: l'architecture des chatbots complexes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429638/">  Les utilisateurs, apr√®s avoir parl√© avec des assistants vocaux intelligents, attendent de l'intelligence des robots de discussion.  Si vous d√©veloppez un bot pour les entreprises, les attentes sont encore plus √©lev√©es: le client veut que l'utilisateur suive le sc√©nario pr√©-prescrit souhait√©, et l'utilisateur veut que le robot r√©ponde intelligemment et de pr√©f√©rence avec humanit√© aux questions pos√©es, aide √† r√©soudre les probl√®mes, et parfois ne supporte que les petites conversations. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0-/pv/i1/0-pvi1riz8k3g804x9fke0sre6w.jpeg"></div><br>  Nous proposons des robots de discussion en anglais qui communiquent avec les utilisateurs via diff√©rents canaux - Facebook Messenger, SMS, Amazon Alexa et le Web.  Nos robots remplacent les services d'assistance, les agents d'assurance et peuvent simplement discuter.  Chacune de ces t√¢ches n√©cessite sa propre approche de d√©veloppement. <br><br>  Dans cet article, nous vous expliquerons de quels modules est compos√© notre service, comment chacun d'eux est r√©alis√©, quelle approche nous avons choisie et pourquoi.  Nous partagerons notre exp√©rience dans l'analyse de diff√©rents outils: lorsque les r√©seaux neuronaux g√©n√©ratifs ne sont pas le meilleur choix, pourquoi au lieu de Doc2vec nous utilisons Word2vec, quel est le charme et l'horreur de ChatScript et ainsi de suite. <br><br><a name="habracut"></a><br>  √Ä premi√®re vue, il peut sembler que les probl√®mes que nous r√©solvons sont plut√¥t insignifiants.  Cependant, dans le domaine du traitement du langage naturel, il existe un certain nombre de difficult√©s li√©es √† la fois √† la mise en ≈ìuvre technique et au facteur humain. <br><ol><li>  Un milliard de personnes parlent anglais, et chaque locuteur natif l'utilise √† sa mani√®re: il existe diff√©rents dialectes, diff√©rentes fonctionnalit√©s vocales. </li><li>  De nombreux mots, phrases et expressions sont ambigus: un exemple typique est dans cette image. </li><li>  Une interpr√©tation correcte du sens des mots n√©cessite un contexte.  Cependant, le bot qui pose des questions de clarification au client n'a pas l'air aussi cool que celui qui peut passer √† n'importe quel sujet √† la demande de l'utilisateur et r√©pondre √† n'importe quelle question. <br></li><li>  Souvent, dans la parole et la correspondance vivantes, les gens n√©gligent les r√®gles de grammaire ou r√©pondent si bri√®vement qu'il est presque impossible de restaurer la structure de la phrase. </li><li>  Parfois, pour r√©pondre √† la question d'un utilisateur, il est n√©cessaire de comparer sa demande avec les textes de la FAQ.  Dans le m√™me temps, vous devez vous assurer que le texte trouv√© dans la FAQ est bien la r√©ponse, et ne contient pas seulement plusieurs mots qui correspondent √† la demande. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yz/zw/iy/yzzwiynir0jqsmzyjdcfrrrokoo.png"></div><br>  Ce ne sont que quelques-uns des aspects les plus √©vidents, et il y a l'argot, le jargon, l'humour, le sarcasme, les erreurs d'orthographe et de prononciation, les abr√©viations et d'autres probl√®mes qui rendent difficile le travail dans ce domaine. <br><br>  Pour r√©soudre ces probl√®mes, nous avons d√©velopp√© un bot qui utilise un ensemble d'approches.  La partie IA de notre syst√®me se compose d'un gestionnaire de dialogue, d'un service de reconnaissance et d'importants microservices complexes qui r√©solvent des probl√®mes sp√©cifiques: Intent Classifier, FAQ-service, Small Talk. <br><br><h3>  Lancez une conversation.  Gestionnaire de dialogue </h3><br>  La t√¢che de Dialog Manager dans le bot est une simulation logicielle de communication avec un agent en direct: elle doit guider l'utilisateur √† travers un sc√©nario de conversation vers un objectif utile. <br>  Pour ce faire, premi√®rement, recherchez ce que l'utilisateur veut (par exemple, calculer le co√ªt de l'assurance pour les voitures), et deuxi√®mement, trouvez les informations n√©cessaires (adresse et autres donn√©es utilisateur, donn√©es sur les conducteurs et les voitures).  Apr√®s cela, le service devrait donner une r√©ponse utile - remplissez le formulaire et donnez au client le r√©sultat de ces donn√©es.  En m√™me temps, nous ne devons pas demander √† l'utilisateur ce qu'il a d√©j√† indiqu√©. <br><br>  Dialog Manager vous permet de cr√©er un tel sc√©nario: d√©crivez-le par programme, construisez √† partir de petites briques - probl√®mes ou actions sp√©cifiques qui devraient se produire √† un certain point.  En fait, le sc√©nario est un graphe orient√©, o√π chaque n≈ìud est un message, une question, une action, et le bord d√©termine l'ordre et les conditions de la transition entre ces n≈ìuds, s'il y a un choix multiple de transition d'un n≈ìud √† un autre. <br>  Les principaux types de n≈ìuds <br><ul><li>  Les n≈ìuds attendent jusqu'√† ce qu'ils atteignent la file d'attente et ils appara√Ætront dans les messages. </li><li>  Les n≈ìuds attendent que l'utilisateur montre une certaine intention (par exemple, √©crivez: ¬´Je veux souscrire une assurance¬ª). </li><li>  Noeuds en attente de validation et d'enregistrement des donn√©es par l'utilisateur. </li><li>  N≈ìuds pour l'impl√©mentation de diff√©rentes conceptions algorithmiques (boucles, branches, etc.). </li></ul><br>  Si le n≈ìud est ferm√©, le contr√¥le ne lui sera plus transf√©r√© et l'utilisateur ne verra pas la question d√©j√† pos√©e.  Ainsi, si nous effectuons une recherche approfondie dans un tel graphique sur le premier n≈ìud ouvert, nous obtenons une question qui doit √™tre pos√©e √† l'utilisateur √† un moment donn√©.  R√©pondant √† son tour aux questions g√©n√©r√©es par Dialog Manager, l'utilisateur fermera progressivement tous les n≈ìuds du graphique et il sera consid√©r√© qu'il a ex√©cut√© le script prescrit.  Ensuite, par exemple, nous donnons √† l'utilisateur une description des options d'assurance que nous pouvons offrir. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nt/sb/hp/ntsbhp9gpihkj2awmq8clkt6cl8.png"></div><br><h4>  "J'ai d√©j√† tout dit!" </h4><br>  Supposons que nous demandions un nom √† l'utilisateur, et dans un message, il donnera √©galement sa date de naissance, son nom, son sexe, son √©tat civil, son adresse ou enverra une photo de son permis de conduire.  Le syst√®me extraira toutes les donn√©es pertinentes et fermera les n≈ìuds correspondants, c'est-√†-dire que les questions sur la date de naissance et le sexe ne seront plus pos√©es. <br><br><h4>  "Au fait ..." </h4><br>  Dialog Manager offre √©galement la possibilit√© de communiquer simultan√©ment sur plusieurs sujets.  Par exemple, un utilisateur dit: "Je veux souscrire une assurance".  Puis, sans terminer ce dialogue, il ajoute: ¬´Je veux effectuer un paiement sur une police pr√©c√©demment jointe.¬ª  Dans de tels cas, Dialog Manager enregistre le contexte du premier sujet et, une fois le deuxi√®me script termin√©, il propose de reprendre la bo√Æte de dialogue pr√©c√©dente √† l'endroit o√π elle a √©t√© interrompue. <br><br>  Il est possible de revenir aux questions auxquelles l'utilisateur a d√©j√† r√©pondu.  Pour cela, le syst√®me enregistre l'instantan√© du graphique √† la r√©ception de chaque message du client. <br><br><h4>  Quelles sont les options? </h4><br>  En plus de la n√¥tre, nous avons envisag√© une autre approche de l'IA pour la mise en ≈ìuvre du gestionnaire de dialogue: l'intention et les param√®tres de l'utilisateur sont aliment√©s √† l'entr√©e du r√©seau neuronal, et le syst√®me lui-m√™me g√©n√®re les √©tats correspondants, la question suivante qui doit √™tre pos√©e.  Cependant, dans la pratique, cette m√©thode n√©cessite l'ajout d'une approche bas√©e sur des r√®gles.  Peut-√™tre que cette option de mise en ≈ìuvre convient √† des sc√©narios triviaux - par exemple, pour commander de la nourriture, o√π vous devez obtenir seulement trois param√®tres: ce que l'utilisateur veut commander, quand il veut recevoir la commande et o√π l'apporter.  Mais dans le cas de sc√©narios complexes, comme dans notre domaine, ce n'est toujours pas possible.  √Ä l'heure actuelle, les technologies d'apprentissage automatique ne sont pas en mesure de guider qualitativement l'utilisateur vers l'objectif dans un sc√©nario complexe. <br><br>  Dialog Manager est √©crit en Python, framework Tornado, car initialement notre partie AI a √©t√© √©crite en tant que service unique.  Une langue a √©t√© choisie dans laquelle tout cela peut √™tre r√©alis√© sans d√©penser de ressources pour la communication. <br><br><h3>  "D√©cidons."  Service de reconnaissance </h3><br>  Notre produit est capable de communiquer via diff√©rents canaux, mais la partie IA est compl√®tement ind√©pendante du client: cette communication se pr√©sente uniquement sous forme de texte mandat√©.  Le gestionnaire de bo√Æte de dialogue transf√®re le contexte, la r√©ponse de l'utilisateur et les donn√©es collect√©es au service de reconnaissance, qui est charg√© de reconna√Ætre l'intention de l'utilisateur et de r√©cup√©rer les donn√©es n√©cessaires. <br>  Aujourd'hui, le service de reconnaissance se compose de deux parties logiques: le gestionnaire de reconnaissance, qui g√®re le pipeline de reconnaissance, et les extracteurs. <br><br><h4>  Gestionnaire de reconnaissance </h4><br>  Le gestionnaire de reconnaissance est responsable de toutes les √©tapes de base de la reconnaissance du sens de la parole: tokenisation, lemmatisation, etc. Il d√©termine √©galement l'ordre des extracteurs (objets qui reconnaissent les entit√©s et les attributs dans les textes) par lesquels un message sera ignor√©, et d√©cide quand arr√™ter la reconnaissance et le retour r√©sultat final.  Cela vous permet d'ex√©cuter uniquement les extracteurs n√©cessaires dans l'ordre le plus attendu. <br><br>  Si nous avons demand√© quel est le nom de l'utilisateur, il est logique de v√©rifier d'abord si le nom est entr√© dans la r√©ponse.  Le nom est venu et il n'y a plus de texte utile - ce qui signifie que la reconnaissance peut √™tre compl√©t√©e √† cette √©tape.  D'autres entit√©s utiles sont venues, ce qui signifie que la reconnaissance doit √™tre poursuivie.  Tr√®s probablement, la personne a ajout√© d'autres donn√©es personnelles - en cons√©quence, vous devez ex√©cuter l'extracteur pour traiter les donn√©es personnelles. <br><br>  Selon le contexte, l'ordre de d√©marrage des extracteurs peut varier.  Cette approche nous permet de r√©duire consid√©rablement la charge sur l'ensemble du service. <br><br><h4>  Extracteurs </h4><br>  Comme mentionn√© ci-dessus, les extracteurs sont capables de reconna√Ætre certaines entit√©s et attributs dans les textes.  Par exemple, un extracteur reconna√Æt les num√©ros de t√©l√©phone;  un autre d√©termine si une personne a r√©pondu positivement ou n√©gativement √† une question;  le troisi√®me - reconna√Æt et v√©rifie l'adresse dans le message;  le quatri√®me est des donn√©es sur le v√©hicule de l'utilisateur.  Passer un message √† travers un ensemble d'extracteurs - c'est le processus de reconnaissance de nos messages entrants. <br><br>  Pour le fonctionnement optimal de tout syst√®me complexe, il est n√©cessaire de combiner les approches.  Nous avons respect√© ce principe lorsque nous travaillions sur des extracteurs.  Je vais souligner certains des principes de travail que nous avons utilis√©s dans les extracteurs. <br><br>  Utilisation de nos microservices avec Machine Learning inside (les extracteurs envoient un message √† ce service, le compl√®tent parfois avec les informations dont ils disposent et renvoient le r√©sultat). <br><br><ul><li>  Utilisation du balisage POS, analyse syntaxique, analyse s√©mantique (par exemple, d√©termination de l'intention de l'utilisateur par le verbe) </li><li>  Utilisation de la recherche en texte int√©gral (peut √™tre utilis√©e pour trouver la marque et le mod√®le de la machine dans les messages) </li><li>  Utilisation d'expressions r√©guli√®res et de mod√®les de r√©ponse </li><li>  Utilisation d'API tierces (telles que l'API Google Maps, SmartyStreets, etc.) </li><li>  Une recherche textuelle des phrases (si une personne a r√©pondu ¬´oui¬ª bri√®vement, alors il est inutile de la passer par les algorithmes ML pour rechercher l'intention). </li><li>  Nous utilisons √©galement des solutions de traitement du langage naturel pr√™tes √† l'emploi dans les extracteurs. </li></ul><br><h4>  Quelles sont les options? </h4><br>  Nous avons examin√© les biblioth√®ques NLTK, Stanford CoreNLP et SpaCy.  NLTK abandonne d'abord dans Google SERPs lorsque vous d√©marrez un examen NLP.  Il est tr√®s cool pour les solutions de prototypage, poss√®de des fonctionnalit√©s √©tendues et est assez simple.  Mais ses performances sont m√©diocres. <br><br>  Stanford CoreNLP a un s√©rieux inconv√©nient: il tire une machine virtuelle Java avec de tr√®s gros modules, des biblioth√®ques int√©gr√©es et consomme beaucoup de ressources.  De plus, la sortie de cette biblioth√®que est difficile √† personnaliser. <br><br>  En cons√©quence, nous avons opt√© pour SpaCy, car il a suffisamment de fonctionnalit√©s pour nous et a le rapport optimal de l√©g√®ret√© et de vitesse.  La biblioth√®que SpaCy s'ex√©cute des dizaines de fois plus rapidement que NLTK et propose de bien meilleurs dictionnaires.  Cependant, c'est beaucoup plus facile que Stanford CoreNLP. <br><br>  Pour le moment, nous utilisons spaCy pour la tokenisation, la vectorisation des messages (en utilisant le r√©seau neuronal form√© int√©gr√©), la reconnaissance primaire des param√®tres du texte.  Comme la biblioth√®que ne couvre que 5% de nos besoins de reconnaissance, nous avons d√ª ajouter de nombreuses fonctions. <br><br><h4>  "C'√©tait autrefois ..." </h4><br>  Le service de reconnaissance n'a pas toujours √©t√© une structure en deux parties.  La premi√®re version √©tait la plus triviale: nous avons utilis√© √† tour de r√¥le diff√©rents extracteurs et essay√© de comprendre s'il y avait des param√®tres ou des intentions dans le texte.  L'IA n'y sentait m√™me pas - c'√©tait une approche compl√®tement bas√©e sur des r√®gles.  La difficult√© r√©sidait dans le fait que la m√™me intention pouvait s'exprimer de diff√©rentes mani√®res, chacune devant √™tre d√©crite dans les r√®gles.  Dans ce cas, il est n√©cessaire de prendre en compte le contexte, car la m√™me phrase utilisateur, selon la question pos√©e, peut n√©cessiter des actions diff√©rentes.  Par exemple, √† partir du dialogue: "√ätes-vous mari√©?"  - ¬´D√©j√† deux ans¬ª, vous pouvez comprendre que l'internaute est mari√© (sens bool√©en).  Et du dialogue "Combien de temps conduisez-vous cette voiture?"  - ¬´D√©j√† deux ans¬ª, vous devez extraire la valeur ¬´2 ans¬ª. <br><br>  D√®s le d√©but, nous avons compris que la prise en charge de solutions bas√©es sur des r√®gles n√©cessiterait beaucoup d'efforts, et √† mesure que le nombre d'intentions prises en charge augmente, le nombre de r√®gles augmentera beaucoup plus rapidement que dans le cas d'un syst√®me bas√© sur le ML.  Cependant, le point de vue des affaires.  nous devions ex√©cuter MVP, une approche bas√©e sur des r√®gles nous a permis de le faire rapidement.  Par cons√©quent, nous l'avons utilis√© et avons travaill√© en parall√®le sur le mod√®le ML de reconnaissance des intentions.  D√®s qu'elle est apparue et a commenc√© √† donner des r√©sultats satisfaisants, ils ont progressivement commenc√© √† s'√©loigner de l'approche fond√©e sur des r√®gles. <br><br>  Pour la plupart des cas d'extraction d'informations, nous avons utilis√© ChatScript.  Cette technologie fournit son propre langage d√©claratif qui vous permet d'√©crire des mod√®les pour extraire des donn√©es d'un langage naturel.  Gr√¢ce √† WordNet, cette solution est tr√®s puissante sous le capot (par exemple, vous pouvez sp√©cifier une ¬´couleur¬ª dans le mod√®le de reconnaissance, et WordNet reconna√Æt tout concept de r√©tr√©cissement, tel que ¬´rouge¬ª).  Nous n'avons pas vu d'analogues √† ce moment-l√†.  Mais ChatScript est √©crit de mani√®re tr√®s tordue et bogu√©e, avec son utilisation, il est presque impossible d'impl√©menter une logique complexe. <br><br>  Au final, les inconv√©nients ont √©t√© d√©pass√©s et nous avons abandonn√© ChatScript au profit des biblioth√®ques NLP en Python. <br>  Dans la premi√®re version de Recognition Service, nous avons atteint le plafond de la flexibilit√©.  L'introduction de chaque nouvelle fonctionnalit√© a consid√©rablement ralenti l'ensemble du syst√®me dans son ensemble. <br><br>  Nous avons donc d√©cid√© de r√©√©crire compl√®tement le service de reconnaissance, en le divisant en deux parties logiques: les petits extracteurs l√©gers et le gestionnaire de reconnaissance, qui g√©rera le processus. <br><br><h3>  "Que veux-tu?"  Classificateur d'intention </h3><br>  Pour que le bot communique correctement - pour fournir les informations n√©cessaires sur demande et pour enregistrer les donn√©es de l'utilisateur - il est n√©cessaire de d√©terminer l'intention (l'intention) de l'utilisateur sur la base du texte qui lui est envoy√©.  La liste des intentions par lesquelles nous pouvons interagir avec les utilisateurs est limit√©e par les t√¢ches commerciales du client: il peut s'agir de conna√Ætre les conditions d'assurance, de remplir des informations vous concernant, d'obtenir une r√©ponse √† une question fr√©quemment pos√©e, etc. <br><br>  Il existe de nombreuses approches de la classification des intentions bas√©es sur les r√©seaux de neurones, en particulier sur les LSTM / GRU r√©currents.  Ils ont fait leurs preuves dans des √©tudes r√©centes, mais ils ont un inconv√©nient commun: un tr√®s grand √©chantillon est n√©cessaire pour un bon fonctionnement.  Sur une petite quantit√© de donn√©es, ces r√©seaux de neurones sont soit difficiles √† former, soit ils produisent des r√©sultats insatisfaisants.  Il en va de m√™me pour le framework Fast Text de Facebook (nous l'avons examin√© car il s'agit d'une solution de pointe pour le traitement des phrases courtes et moyennes). <br><br>  Nos √©chantillons de formation sont de tr√®s haute qualit√©: les ensembles de donn√©es sont constitu√©s d'une √©quipe de linguistes √† plein temps qui ma√Ætrisent l'anglais et connaissent les sp√©cificit√©s du domaine de l'assurance.  Cependant, nos √©chantillons sont relativement petits.  Nous avons essay√© de les diluer avec des ensembles de donn√©es publics, mais ceux-ci, √† de rares exceptions pr√®s, ne correspondaient pas √† nos sp√©cificit√©s.  Nous avons √©galement essay√© d'attirer des pigistes avec Amazon Mechanical Turk, mais cette m√©thode s'est √©galement av√©r√©e inop√©rante: les donn√©es qu'ils ont envoy√©es √©taient partiellement de mauvaise qualit√©, les √©chantillons ont d√ª √™tre rev√©rifi√©s. <br><br>  Par cons√©quent, nous recherchions une solution qui fonctionnerait sur un petit √©chantillon.  La bonne qualit√© du traitement des donn√©es a √©t√© d√©montr√©e par le classificateur Random Forest, form√© sur des donn√©es converties en vecteurs de notre mod√®le de sac de mots.  En utilisant la validation crois√©e, nous avons s√©lectionn√© les param√®tres optimaux.  Parmi les avantages de notre mod√®le figurent la vitesse et la taille, ainsi que la relative facilit√© de d√©ploiement et de recyclage. <br><br>  Au cours du travail sur le classificateur d'intention, il est devenu clair que pour certaines t√¢ches, son utilisation n'est pas optimale.  Supposons qu'un utilisateur veuille changer le nom indiqu√© dans l'assurance ou le num√©ro de voiture.  Pour que le classificateur d√©termine correctement cette intention, il faudrait ajouter manuellement √† l'ensemble de donn√©es toutes les phrases de mod√®le utilis√©es dans ce cas.  Nous avons trouv√© un autre moyen: cr√©er un petit extracteur pour le service de reconnaissance, qui d√©termine l'intention par mots-cl√©s et m√©thodes NLP, et utiliser Intent Classifier pour les phrases non standard dans lesquelles la m√©thode avec mots-cl√©s ne fonctionne pas. <br><br><h3>  "Ils demandent toujours √† ce sujet."  FAQ </h3><br>  Beaucoup de nos clients ont des sections FAQ.  Pour que l'utilisateur re√ßoive ces r√©ponses directement du chatbot, il √©tait n√©cessaire de fournir une solution qui a) reconna√Ætrait la demande de FAQ;  b) trouverait la r√©ponse la plus pertinente dans notre base de donn√©es et la publierait. <br><br>  Il existe un certain nombre de mod√®les form√©s sur l'ensemble de donn√©es Stanford SQUAD.  Ils fonctionnent bien lorsque le texte de r√©ponse de la FAQ contient les mots de la question de l'utilisateur.  Disons que la FAQ dit: "Frodon a dit qu'il am√®nerait l'Anneau au Mordor, bien qu'il ne connaissait pas le chemin."  Si l'utilisateur demande: ¬´O√π Frodon prendra-t-il l'anneau?¬ª, Le syst√®me r√©pondra: ¬´Au Mordor¬ª. <br><br>  Notre sc√©nario, en r√®gle g√©n√©rale, √©tait diff√©rent.  Par exemple, pour deux demandes similaires - "Puis-je payer?"  et "Puis-je payer en ligne?"  Le bot doit r√©pondre diff√©remment: dans le premier cas, proposer √† une personne un mode de paiement, dans la deuxi√®me r√©ponse - oui, vous pouvez payer en ligne, voici l'adresse de la page. <br><br>  Une autre classe de solutions pour √©valuer la similitude des documents se concentre sur les r√©ponses longues - au moins quelques phrases, parmi lesquelles contiennent des informations d'int√©r√™t pour l'utilisateur.  Malheureusement, dans les cas avec de courtes questions et r√©ponses (¬´Comment puis-je payer en ligne?¬ª - ¬´Vous pouvez payer avec PayPal¬ª), ils fonctionnent tr√®s instables. <br><br>  Une autre solution est l'approche Doc2vec: le gros texte est distill√© dans une repr√©sentation vectorielle, qui est ensuite compar√© √† d'autres documents sous la m√™me forme et le coefficient de similitude est r√©v√©l√©.  Cette approche a √©galement d√ª √™tre supprim√©e: elle se concentre sur des textes longs, mais nous traitons principalement des questions et r√©ponses d'une ou deux phrases. <br><br>  Notre d√©cision √©tait bas√©e sur deux √©tapes.  Premi√®rement: en utilisant des incorporations, nous avons traduit chaque mot d'une phrase en vecteurs en utilisant le mod√®le Google Word2vec.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s cela, nous avons consid√©r√© le vecteur moyen pour tous les mots, repr√©sentant une phrase sous la forme d'un vecteur. </font><font style="vertical-align: inherit;">La deuxi√®me √©tape, nous avons pris le vecteur de la question et trouv√© dans la base de donn√©es FAQ, stock√©e sous la m√™me forme vectorielle, la r√©ponse la plus proche dans une certaine mesure, dans notre cas, le cosinus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les avantages comprennent une facilit√© de mise en ≈ìuvre, une extensibilit√© tr√®s facile et une interpr√©tabilit√© assez simple. </font><font style="vertical-align: inherit;">Les inconv√©nients sont une faible opportunit√© d'optimisation: ce mod√®le est difficile √† modifier - il fonctionne bien dans la plupart de vos cas d'utilisation, ou vous devez l'abandonner.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Et parler?" </font><font style="vertical-align: inherit;">Petite conversation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parfois, l'utilisateur √©crit quelque chose de compl√®tement hors de propos, par exemple: "Il fait beau aujourd'hui". </font><font style="vertical-align: inherit;">Ce n'est pas inclus dans la liste des intentions qui nous int√©ressent, mais nous voulons toujours r√©pondre de mani√®re significative, d√©montrant l'intelligence de notre syst√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour de telles d√©cisions, une combinaison des approches d√©crites ci-dessus est utilis√©e: elles sont bas√©es soit sur des solutions bas√©es sur des r√®gles tr√®s simples, soit sur des r√©seaux neuronaux g√©n√©ratifs. </font><font style="vertical-align: inherit;">Nous voulions obtenir un prototype t√¥t, nous avons donc pris un ensemble de donn√©es public sur Internet et utilis√© une approche tr√®s similaire √† celle utilis√©e pour la FAQ. </font><font style="vertical-align: inherit;">Par exemple, un utilisateur a √©crit quelque chose sur la m√©t√©o - et en utilisant un algorithme comparant les repr√©sentations vectorielles de deux phrases avec une certaine mesure de cosinus, nous recherchons une phrase dans l'ensemble de donn√©es public qui sera aussi proche du th√®me m√©t√©o que possible.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La formation </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, nous n'avons pas pour objectif de cr√©er un bot qui sera form√© sur chaque message re√ßu des clients: premi√®rement, comme l'exp√©rience le montre, c'est le chemin vers la mort du bot (rappelez-vous comment IBM Watson </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a d√ª effacer la base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> car il a commenc√© √† diagnostiquer avec un tapis et le robot Twitter de Microsoft a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©ussi √† devenir raciste en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seulement une journ√©e). Deuxi√®mement, nous nous effor√ßons de cl√¥turer les t√¢ches des compagnies d'assurance aussi qualitativement que possible; un bot d'auto-apprentissage n'est pas notre t√¢che commerciale. Nous avons √©crit un certain nombre d'outils pour les linguistes et les commandes d'assurance qualit√©, avec lesquels ils peuvent recycler manuellement les bots en explorant les dialogues et la correspondance avec les utilisateurs pendant la post-mod√©ration.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√©anmoins, notre bot semble d√©j√† pr√™t √† passer le test de Turing. </font><font style="vertical-align: inherit;">Certains utilisateurs entament une conversation s√©rieuse avec lui, pensant qu'ils parlent avec un agent d'assurance, et l'un d'eux a m√™me commenc√© √† menacer de porter plainte aupr√®s du patron lorsque le bot l'a mal compris.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Plans </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous travaillons maintenant sur la partie visuelle: afficher l'int√©gralit√© du graphique du script et la possibilit√© de le composer √† l'aide de l'interface graphique. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Du c√¥t√© du service de reconnaissance, nous introduisons l'analyse linguistique pour reconna√Ætre et comprendre la signification de chaque mot du message. </font><font style="vertical-align: inherit;">Cela am√©liorera la pr√©cision de la r√©action et extraira des donn√©es suppl√©mentaires. </font><font style="vertical-align: inherit;">Par exemple, si une personne remplit une assurance auto et mentionne qu'elle a une maison non assur√©e, le bot pourra se souvenir de ce message et le transmettre √† l'op√©rateur pour contacter le client et lui proposer une assurance habitation.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre caract√©ristique du travail est le traitement des commentaires. Apr√®s avoir termin√© le dialogue avec le bot, nous demandons √† l'utilisateur s'il a aim√© le service. Si Sentiment Analysis reconna√Æt que l'avis de l'utilisateur est positif, nous l'invitons √† partager son avis sur les r√©seaux sociaux. Si l'analyse montre que l'utilisateur a r√©agi n√©gativement, le bot clarifie ce qui n'allait pas, corrige la r√©ponse, dit: ¬´OK, nous allons le r√©parer¬ª, et ne propose pas de partager l'avis dans le flux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'une des cl√©s pour rendre la communication avec le bot aussi naturelle que possible est de rendre le bot modulaire et d'√©largir la gamme de r√©actions √† sa disposition. Nous y travaillons. Peut-√™tre √† cause de cela, l'utilisateur √©tait pr√™t √† prendre sinc√®rement notre robot pour un agent d'assurance. L'√©tape suivante: assurez-vous que la personne essaie de remercier le bot.</font></font><br><br><hr><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'article a √©t√© √©crit avec Sergei Kondratyuk et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Kazakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√âcrivez vos questions dans les commentaires, nous pr√©parerons des documents plus pratiques √† leur sujet.</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr429638/">https://habr.com/ru/post/fr429638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr429628/index.html">Comment cr√©er un bot de chat pour VKontakte en utilisant Python, Django et webhook</a></li>
<li><a href="../fr429630/index.html">"Monstres dans les jeux ou rendre la peur diversifi√©e"</a></li>
<li><a href="../fr429632/index.html">Raisons du refus des h√©bergeurs lors de l'ajout aux r√©pertoires</a></li>
<li><a href="../fr429634/index.html">Voici comment fonctionne la recherche de pr√™ts dans l'Anti-Plagiat</a></li>
<li><a href="../fr429636/index.html">Installer le PBX 3CX dans Amazon Lightsail Cloud</a></li>
<li><a href="../fr429640/index.html">Supprimons les quaternions de tous les moteurs 3D</a></li>
<li><a href="../fr429642/index.html">Semaine de la s√©curit√© 46: mettons √† jour quelque chose</a></li>
<li><a href="../fr429644/index.html">Spot dimmable GX53 avec angle d'√©clairage r√©glable</a></li>
<li><a href="../fr429648/index.html">DNS sur TLS et sur HTTPS maintenant sur iOS / Android et tous les r√©seaux √† la fois [Merci Cloudflare]</a></li>
<li><a href="../fr429652/index.html">Webinaire ouvert "Recrutement en informatique: de l'application √† l'offre"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>