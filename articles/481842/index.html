<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìè üÜó üíù Mudarse al almacenamiento puro: nuestro nuevo almacenamiento üíØ üöΩ üë©üèΩ‚Äçü§ù‚Äçüë®üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, transferimos nuestras bases de datos altamente cargadas (servicios de oficina centralizados, correo, estaciones de trabajo virtuales, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mudarse al almacenamiento puro: nuestro nuevo almacenamiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mvideo/blog/481842/"><img src="https://habrastorage.org/webt/ml/7u/nz/ml7unzkujnu5qbfigbdeq_h6b5i.jpeg"><br><br>  Recientemente, transferimos nuestras bases de datos altamente cargadas (servicios de oficina centralizados, correo, estaciones de trabajo virtuales, as√≠ como sistemas y sitios comerciales mvideo.ru y eldorado.ru) a arreglos flash de Pure Storage.  Y hoy le diremos por qu√© decidimos hacer esto y c√≥mo cambiamos a otros nuevos. <br><a name="habracut"></a><br><h2>  Antecedentes </h2><br>  Despu√©s de la fusi√≥n de M.Video y Eldorado, el Grupo adopt√≥ el programa ONE RETAIL a largo plazo, que desarrolla activamente plataformas digitales y automatiza los servicios de TI.  Cambiamos a una infraestructura h√≠brida desde nuestras propias instalaciones y entornos en la nube.  Sin embargo, una gran flota de equipos de varios fabricantes, que se form√≥ como resultado de la fusi√≥n, impidi√≥ una mayor mejora en la eficiencia de los sistemas. <br><br>  Por lo tanto, se nos ocurri√≥ la idea de actualizar parte de los repositorios.  Despu√©s de analizar soluciones de diferentes fabricantes, nos decidimos por Pure Storage.  Pero antes de tomar la decisi√≥n final, era necesario probar el equipo con nuestros datos. <br><br><h2>  Prueba </h2><br>  Los sistemas que participaron en las pruebas se ubicaron en el sistema de almacenamiento de varios proveedores, que utilizaban discos duros cl√°sicos y de estado s√≥lido.  Despu√©s de acordar un programa de prueba e instalar equipos de Pure Storage en nuestro centro de datos, comenzamos a migrar. <br><br><img src="https://habrastorage.org/webt/k_/de/dj/k_dedjiw7yztzhugzc6fp8bulza.jpeg"><br><br>  Uno de los primeros en migrar el servicio de escritorio virtual.  Como resultado, los usuarios finales, no los administradores de sistemas, notaron un aumento significativo en la productividad: los archivos PDF, documentos de texto y tablas se abrieron mucho m√°s r√°pido.  Despu√©s de que el servicio regres√≥ a su sistema de almacenamiento original, la velocidad de respuesta disminuy√≥.  Es decir, debido a la transferencia al almacenamiento con la arquitectura All-Flash, el rendimiento de un sistema bastante cr√≠tico ha aumentado notablemente.  No realizamos mediciones precisas, pero seg√∫n las sensaciones, el aumento de velocidad fue del 50-70%.  Para algunas aplicaciones, los tiempos de respuesta han disminuido significativamente. <br><br>  Luego probamos la compresi√≥n y la deduplicaci√≥n.  Una de las diferencias entre Pure Storage es que en sus sistemas de almacenamiento, la deduplicaci√≥n y la compresi√≥n funcionan a nivel global, sobre la marcha, por lo que no necesita distribuir datos entre vol√∫menes de almacenamiento separados.  Adem√°s, el sistema de almacenamiento tambi√©n puede comprimir informaci√≥n con el tiempo, utilizando los algoritmos de compresi√≥n y deduplicaci√≥n m√°s avanzados en modo diferido.  Y, por √∫ltimo, los algoritmos de compresi√≥n y deduplicaci√≥n en Pure Storage funcionan con bloques de datos muy peque√±os, a partir de 512 bytes: la longitud del bloque puede cambiar y adaptarse a diferentes tipos de datos. <br><br>  Gracias a estos trucos, el volumen de las bases de datos MySQL y Oracle (seleccionadas para la prueba) disminuy√≥ 3.1 veces en comparaci√≥n con el sistema de almacenamiento original. <br><br><h2>  Implementaci√≥n </h2><br>  Est√°bamos interesados ‚Äã‚Äãen aumentar no solo el rendimiento del almacenamiento, sino tambi√©n la confiabilidad del almacenamiento.  Por lo tanto, en el siguiente paso, decidimos introducir un cl√∫ster de almacenamiento distribuido de acuerdo con el esquema Active-Active (Pure Storage ActiveCluster), es decir, distribuir nuestros sistemas en dos centros de datos.  Cada sistema de almacenamiento de Pure Storage ya incluye el conjunto de herramientas necesarias para la replicaci√≥n s√≠ncrona y as√≠ncrona, incluida la creaci√≥n de cl√∫steres activo-activo distribuidos geogr√°ficamente. <br><br><img src="https://habrastorage.org/webt/zs/ez/1c/zsez1ctlnsm6kib_pnx4wwtspni.jpeg"><br><br><img src="https://habrastorage.org/webt/cg/cx/gp/cgcxgpvx7xtkojonwyvhpkoxclw.jpeg"><br><br>  Despu√©s de la aparici√≥n del segundo sistema de almacenamiento Pure, utilizamos la funci√≥n de replicaci√≥n s√≠ncrona a nivel de matriz, lo que aceler√≥ significativamente la migraci√≥n de datos entre sitios, ya que los datos se transmiten en forma comprimida.  Ahora estamos eligiendo servicios que operar√°n en modo de sincronizaci√≥n continua para garantizar una alta disponibilidad: en caso de emergencia o falla de todo el sitio, los servicios de TI de la compa√±√≠a continuar√°n funcionando sin interrupci√≥n.  Dado que la replicaci√≥n funciona en modo Activo-Activo, la falla real de todo el sistema de almacenamiento conduce a la p√©rdida de algunas rutas, pero no afecta la disponibilidad de las aplicaciones alojadas.  Para los usuarios finales, esto pasa desapercibido.  Dado que, de forma predeterminada, Pure Storage brinda confiabilidad al nivel del 99.9999% (31.5 segundos de tiempo de inactividad por a√±o), incluso m√°s, en este momento, seg√∫n las estad√≠sticas que el fabricante recopila de su servicio en la nube, los arreglos Pure, en nuestra opini√≥n, exceden 6 nueves (y esto es solo 3 segundos de tiempo de inactividad por a√±o), con la ayuda de la sincronizaci√≥n continua de ActiveCluster, el tiempo de actividad puro se convierte en casi el 100%.  Es decir, incluso si falla todo el centro de datos, los usuarios trabajar√°n en silencio, como si nada hubiera pasado. <br><br><h2>  Gesti√≥n </h2><br>  Junto con la introducci√≥n de las primeras unidades de equipos de Pure Storage, comenzamos a usar el servicio patentado de monitoreo y control en la nube: Pure1.  Proporciona un √∫nico panel de control que muestra el estado de todos los sistemas de almacenamiento y las condiciones previstas para los pr√≥ximos a√±os.  Es decir, no necesitamos calcular cu√°ndo el rendimiento o la capacidad dejar√°n de ser suficientes: el sistema avisar√° con anticipaci√≥n o permitir√° predecir con anticipaci√≥n.  Esto simplifica enormemente el proceso de futuras extensiones y actualizaciones. <br><br>  Pure1 tambi√©n tiene una herramienta llamada VM Analytics.  Dado que todos nuestros servicios y aplicaciones est√°n completamente virtualizados en funci√≥n de la soluci√≥n VMware, podemos conectarnos al cl√∫ster de virtualizaci√≥n VMware y ver la topolog√≠a de toda la infraestructura en Pure1.  Se mostrar√°n todos los puntos de contacto intermedios: m√°quinas virtuales, vol√∫menes, almacenamiento, relaciones individuales.  Y en caso de cualquier problema, veremos d√≥nde y qu√© sucedi√≥ sin la ayuda de un proveedor. <br><br><h2>  Densidad de colocaci√≥n </h2><br>  Migramos datos de 6 tipos de sistemas de almacenamiento de diferentes fabricantes a dos modelos de sistemas de almacenamiento Pure Storage.  Los dispositivos viejos ocupaban varios bastidores.  Y ahora el equipo con los mismos datos, aproximadamente 1,5 petabytes, ocupa un tercio de un rack, 18 unidades, mientras que queda una reserva de capacidad de disco en la regi√≥n del 15 al 20%.  El consumo de energ√≠a y la disipaci√≥n de calor disminuyeron significativamente, lo que ahorra en el sistema de enfriamiento. <br><br><h2>  Otras caracter√≠sticas y capacidades </h2><br>  En el coraz√≥n del soporte t√©cnico de Pure Storage hay un motor de "inteligencia artificial" que puede predecir posibles problemas. <br><br>  Adem√°s de los servicios de bloque tradicionales, los sistemas de almacenamiento Pure Storage permiten la implementaci√≥n de servicios de archivos debido a la arquitectura modular interna definida por software.  As√≠ lo hicimos: en x50 y x70 creamos servidores de archivos de Windows y comenzamos la migraci√≥n de los recursos de almacenamiento de archivos. <br><br>  Tambi√©n me gustar√≠a mencionar que no importa qu√© componente de software se use en Pure Storage, no necesita pensar en futuras licencias: una licencia implica la adici√≥n autom√°tica de todas las nuevas caracter√≠sticas futuras.  Por ejemplo, desde el momento de la implementaci√≥n inicial, ha aparecido la funci√≥n de cargar instant√°neas a trav√©s del protocolo NFS a un sistema de almacenamiento externo de cualquier fabricante, o a trav√©s del protocolo S3 a un almacenamiento externo en la nube. <br>  Tambi√©n uno de los beneficios de los productos Pure Storage es su facilidad de administraci√≥n. <br><br><img src="https://habrastorage.org/webt/er/y-/uz/ery-uznzp0eid48ogcofonkmprw.jpeg"><br><br><img src="https://habrastorage.org/webt/mu/8n/o7/mu8no7fg2fbymxk9nttra9m2xb8.jpeg"><br><br>  Ahora estamos integrando instant√°neas de Pure Storage con un sistema de respaldo centralizado.  Con su ayuda, podemos crear copias de seguridad instant√°neas, esto le permitir√° descargar aplicaciones durante el proceso de copia de seguridad y reducir significativamente el tiempo requerido para la recuperaci√≥n.  En caso de falla, el proceso de recuperaci√≥n de aplicaciones de la instant√°nea ser√° casi instant√°neo.  Cuando utiliza instant√°neas con un sistema de respaldo, obtiene una soluci√≥n completa de alto rendimiento.  Es decir, los recursos m√°s exigentes se asignar√°n al sistema de almacenamiento.  Tales instant√°neas de hardware no reducen el rendimiento del sistema, a diferencia de las instant√°neas creadas a nivel de aplicaci√≥n o virtualizaci√≥n. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/481842/">https://habr.com/ru/post/481842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../481824/index.html">B√∫squeda r√°pida de la fuente de mutaciones no deseadas de una propiedad de objeto</a></li>
<li><a href="../481828/index.html">La historia del software educativo: sistemas de gesti√≥n del aprendizaje y el auge de la educaci√≥n en l√≠nea.</a></li>
<li><a href="../481836/index.html">Pizza como servicio: como Amazon migr√≥ a Redshift</a></li>
<li><a href="../481838/index.html">WireGuard, configurando m√∫ltiples clientes para NAT, y ¬øa d√≥nde va STUN?</a></li>
<li><a href="../481840/index.html">Proteja su API GraphQL de vulnerabilidades</a></li>
<li><a href="../481844/index.html">7 a√±os de exageraci√≥n de redes neuronales en gr√°ficos y perspectivas inspiradoras de Deep Learning 2020</a></li>
<li><a href="../481846/index.html">Uso de GitHub CI para proyectos de elixir</a></li>
<li><a href="../481848/index.html">Formaci√≥n de personal con experiencia.</a></li>
<li><a href="../481850/index.html">La Inquisici√≥n espa√±ola y el robot para la humillaci√≥n: ¬øcu√°les son las conferencias "depredadoras" por dinero?</a></li>
<li><a href="../481852/index.html">Revisi√≥n de la impresora 3D Anet N4 // C√≥mo colorear de forma realista un personaje de Dark Souls</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>