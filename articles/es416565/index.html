<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíó üë©‚ÄçüöÄ üßòüèΩ Amazon Lumberyard: el grito del alma üè∑Ô∏è ü§∞üèø üàµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los juegos son uno de los productos de software m√°s populares. Esta es una gran industria en la que un nuevo motor de juegos: Amazon Lumberyard. El pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Amazon Lumberyard: el grito del alma</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/416565/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/94c/9b7/4f0/94c9b74f00eae5bc8d344548dd744585.png"></div><br>  Los juegos son uno de los productos de software m√°s populares.  Esta es una gran industria en la que un nuevo motor de juegos: Amazon Lumberyard.  El proyecto todav√≠a est√° en estado beta y tiene tiempo para corregir errores y mejorar la calidad del c√≥digo.  Los desarrolladores del motor tienen mucho trabajo por hacer en el futuro cercano para no decepcionar a millones de jugadores y desarrolladores de juegos. <br><a name="habracut"></a><br><h2>  Introduccion </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Amazon Lumberyard</a> es un motor de juegos multiplataforma AAA gratuito desarrollado por Amazon y basado en la arquitectura del motor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CryEngine</a> , que fue licenciada por Crytek en 2015.  Por cierto, el an√°lisis de CryEngine ya lo hice dos veces en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">agosto de 2016</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">abril de 2017</a> .  Al mismo tiempo, debo se√±alar que despu√©s de un a√±o, el c√≥digo solo empeor√≥.  Y el otro d√≠a, decid√≠ ver qu√© hac√≠a Amazon en funci√≥n de este motor de juego.  Funcionaron muy bien en el medio ambiente.  La documentaci√≥n para desarrolladores y software para implementar un entorno de trabajo es muy interesante y de alto nivel.  ¬°Pero el problema es nuevamente con el c√≥digo!  Espero que Amazon tenga muchos m√°s recursos para trabajar con el proyecto y sigan prestando atenci√≥n a la calidad del c√≥digo.  Con esta revisi√≥n, espero llamar la atenci√≥n de los desarrolladores sobre la calidad del c√≥digo y presionar por un nuevo enfoque en el desarrollo de este motor de juego.  El estado actual del c√≥digo estaba en un estado tan deplorable que cambi√© el t√≠tulo del art√≠culo varias veces y volv√≠ a dibujar la imagen del t√≠tulo mientras miraba el informe con los resultados del an√°lisis.  La primera versi√≥n de la imagen fue menos emotiva: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6d/fa3/c02/e6dfa3c02fad5fb4eadd6ca01cd68b62.png"></div><br><br>  Analizamos las fuentes de Amazon Lumberyard de la √∫ltima versi√≥n disponible 1.14.0.1.  El c√≥digo fuente se toma del repositorio en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> .  Uno de los primeros juegos en el motor de Lumberyard deber√≠a ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Star Citizen</a> .  Los jugadores potenciales que la est√°n esperando, tambi√©n los invito a echar un vistazo a lo que actualmente est√° "bajo el cap√≥" del juego. <br><br><h2>  Integraci√≥n con PVS-Studio </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PVS-Studio se</a> utiliz√≥ como analizador de c√≥digo est√°tico.  Est√° disponible para Windows, Linux y macOS.  Es decir  Para el an√°lisis de proyectos multiplataforma, incluso hay algo para elegir para un trabajo m√°s c√≥modo.  Adem√°s de C y C ++, se admite el an√°lisis de proyectos en el lenguaje C #.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Planes de Java</a> .  La gran mayor√≠a del c√≥digo en el mundo est√° escrito en los idiomas enumerados (no sin errores, por supuesto), as√≠ que pruebe el analizador PVS-Studio en su proyecto, aprender√° muchas cosas interesantes ;-). <br><br>  Como sistema de ensamblaje de Lumberyard, se utiliza WAF, que tambi√©n estaba en CryEngine.  El analizador no tiene una forma especial de integrarse con este sistema de ensamblaje.  Decid√≠ trabajar con un proyecto en Windows y eleg√≠ este m√©todo para comenzar el an√°lisis: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un sistema de monitoreo de compilaci√≥n</a> .  El archivo de proyecto para Visual Studio se genera autom√°ticamente.  Se puede usar para construir el proyecto y ver el informe del analizador. <br><br>  La lista de comandos para el an√°lisis se ve as√≠: <br><br><pre><code class="cpp hljs">cd /path/to/lumberyard/dev lmbr_waf.bat ... CLMonitor.exe monitor MSBuild.exe ... LumberyardSDK_vs15.sln ... CLMonitor.exe analyze --<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> /path/to/report.plog</code> </pre> <br>  El informe, como dije, se puede ver en Visual Studio. <br><br><h2>  Sobre Igor y Qualcomm </h2><br>  Amazon Lumberyard se posiciona como un motor de juegos multiplataforma.  Promover un proyecto a las masas con tal caracter√≠stica es f√°cil, pero mantenerlo es muy dif√≠cil.  Una de las advertencias de PVS-Studio se emiti√≥ en un fragmento de c√≥digo donde el programador Igor luch√≥ con el compilador Qualcomm.  Quiz√°s resolvi√≥ su problema, pero dej√≥ un c√≥digo extremadamente sospechoso.  Decid√≠ dibujarlo con una imagen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V523</a> La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  toglsloperand.c 700 <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/933/cc0/610/933cc0610c9968b8c0d1455ffcd4f245.png"></p><br>  Aqu√≠ se ejecuta el mismo c√≥digo, independientemente de la condici√≥n calculada.  En el contexto de los comentarios que quedan, tal decisi√≥n parece sospechosa. <br><br>  En general, el proyecto no es el √∫nico lugar donde las condiciones deben simplificarse para mayor claridad o para corregir un error real.  Aqu√≠ hay una lista de dichos lugares: <br><br><ul><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  livingentity.cpp 1385 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  tometalinstruction.c 4201 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  scripttable.cpp 905 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  budgettingsystem.cpp 701 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  editorframeworkapplication.cpp 562 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  Particleitem.cpp 130 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  trackviewnodes.cpp 1223 </li><li>  V523 La declaraci√≥n 'then' es equivalente a la declaraci√≥n 'else'.  propertyyoarchive.cpp 447 </li></ul><br><h2>  Python ++ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/000/30b/8bd/00030b8bd5aa006af7df8c98db5ef66f.png"></div><br><br>  El analizador encontr√≥ un c√≥digo tan divertido: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V709</a> CWE-682 Comparaci√≥n sospechosa encontrada: 'a == b == c'.  Recuerde que 'a == b == c' no es igual a 'a == b &amp;&amp; b == c'.  toglslinstruction.c 564 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CallBinaryOp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src1SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src0SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> dstSwizCount = GetNumSwizzleElements(....); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src1SwizCount == src0SwizCount == dstSwizCount) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { .... } .... }</span></span></code> </pre> <br>  En C ++, dicho c√≥digo, desafortunadamente, se compila con √©xito, pero no se ejecuta en absoluto como podr√≠a parecer.  Las expresiones en C ++ se eval√∫an en orden de prioridad, ejecutando castas impl√≠citas, si es necesario. <br><br>  Tal verificaci√≥n ser√≠a correcta, por ejemplo, en el lenguaje Python.  Pero en esta situaci√≥n, el desarrollador "se peg√≥ un tiro en el pie". <br><br>  3 tomas de control m√°s: <br><br><ul><li>  V709 CWE-682 Comparaci√≥n sospechosa encontrada: 'a == b == c'.  Recuerde que 'a == b == c' no es igual a 'a == b &amp;&amp; b == c'.  toglslinstruction.c 654 </li><li>  V709 CWE-682 Comparaci√≥n sospechosa encontrada: 'a == b == c'.  Recuerde que 'a == b == c' no es igual a 'a == b &amp;&amp; b == c'.  toglslinstruction.c 469 </li><li>  V709 CWE-682 Comparaci√≥n sospechosa encontrada: 'a == b == c'.  Recuerde que 'a == b == c' no es igual a 'a == b &amp;&amp; b == c'.  tometalinstruction.c 539 </li></ul><br><h2>  El primero y uno de los mejores diagn√≥sticos. </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e9/03c/f55/9e903cf5512521593ce3a8f226105025.png"></div><br><br>  Se tratar√° de la advertencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> , el primer diagn√≥stico de uso general en PVS-Studio.  Los errores encontrados solo por este diagn√≥stico pueden ser suficientes para escribir un art√≠culo.  Y el proyecto Amazon Lumberyard lo demuestra muy bien. <br><br>  Desafortunadamente, es aburrido mirar los errores del mismo tipo durante mucho tiempo, por lo que en esta secci√≥n solo comentar√© un par de fragmentos de c√≥digo, y el resto de las advertencias se enumerar√°n. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas a la izquierda y a la derecha de '||'  operador: hotX &lt;0 ||  hotX &lt;0 editorutils.cpp 166 <br><br><pre> <code class="cpp hljs">QCursor CMFCUtils::LoadCursor(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pm.isNull() &amp;&amp; (hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> || hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-function"><span class="hljs-function">QFile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path)</span></span></span></span>; f.open(QFile::ReadOnly); <span class="hljs-function"><span class="hljs-function">QDataStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;f)</span></span></span></span>; stream.setByteOrder(QDataStream::LittleEndian); f.read(<span class="hljs-number"><span class="hljs-number">10</span></span>); quint16 x; stream &gt;&gt; x; hotX = x; stream &gt;&gt; x; hotY = x; } .... }</code> </pre> <br>  La condici√≥n carece de la variable <b><i>Y</i></b> <i>caliente</i> <b><i>.</i></b>  Error tipogr√°fico cl√°sico. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas 'sp.m_pTexture == m_pTexture' a la izquierda y a la derecha del operador '&amp;&amp;'.  shadercomponents.h 487 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas 'sp.m_eCGTextureType == m_eCGTextureType' a la izquierda y a la derecha del operador '&amp;&amp;'.  shadercomponents.h 487 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> != (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SCGTexture&amp; sp) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sp.m_RegisterOffset == m_RegisterOffset &amp;&amp; sp.m_Name == m_Name &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; <span class="hljs-comment"><span class="hljs-comment">// &lt;= 1 sp.m_RegisterCount == m_RegisterCount &amp;&amp; sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_BindingSlot == m_BindingSlot &amp;&amp; sp.m_Flags == m_Flags &amp;&amp; sp.m_pAnimInfo == m_pAnimInfo &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; // &lt;= 1 sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_bSRGBLookup == m_bSRGBLookup &amp;&amp; sp.m_bGlobal == m_bGlobal) { return false; } return true; }</span></span></code> </pre> <br>  Se encontraron dos copias en este fragmento a la vez.  Para mayor claridad, pint√© flechas. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas a la izquierda y a la derecha del operador '==': pSrc.GetLen () == pSrc.GetLen () fbxpropertytypes.h 978 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FbxTypeCopy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FbxBlob&amp; pDst, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> FbxString&amp; pSrc)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> lCastable = pSrc.GetLen() == pSrc.GetLen(); FBX_ASSERT( lCastable ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( lCastable ) pDst.Assign(pSrc.Buffer(), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)pSrc.GetLen()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lCastable; }</code> </pre> <br>  Aqu√≠ quiero saludar a los desarrolladores de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AUTODESK</a> .  Este error es de su biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FBX SDK</a> .  Variables confusas <i>pSrc</i> y <i>pDst</i> .  Creo que, adem√°s de Lumberyard, tambi√©n hay muchos otros usuarios cuyos proyectos dependen del c√≥digo con este error. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">subexpresiones</a> id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': pTS-&gt; pRT_ALD_1 &amp;&amp; pTS-&gt; pRT_ALD_1 d3d_svo.cpp 857 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CSvoRenderer::ConeTracePass(SSvoTargetsSet* pTS) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pTS-&gt;pRT_ALD_1 &amp;&amp; pTS-&gt;pRT_ALD_1) { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nPrevWidth = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { pTS-&gt;pRT_ALD_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">10</span></span>, m_nTexStateLinear); pTS-&gt;pRT_RGB_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">11</span></span>, m_nTexStateLinear); } } .... }</code> </pre> <br>  De vuelta al c√≥digo de Lumberyard.  En la condici√≥n, se <i>marca</i> el mismo puntero <i>pTS-&gt; pRT_ALD_1</i> .  Uno de ellos deber√≠a haber sido <i>pTS-&gt; pRT_RGB_1</i> .  Quiz√°s incluso despu√©s de la explicaci√≥n no es posible ver la diferencia de inmediato, pero hay una: la diferencia est√° en las subcadenas cortas <i>ALD</i> y <i>RGB</i> .  Si le dicen que la revisi√≥n de c√≥digo manual es suficiente, muestre este ejemplo. <br><br>  Y si este ejemplo no es suficiente, entonces hay 5 m√°s similares. <br><ul><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha de '||'  operador :! pTS-&gt; pRT_ALD_0 ||! pTS-&gt; pRT_ALD_0 d3d_svo.cpp 1041 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': m_pRT_AIR_MIN &amp;&amp; m_pRT_AIR_MIN d3d_svo.cpp 1808 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': m_pRT_AIR_MAX &amp;&amp; m_pRT_AIR_MAX d3d_svo.cpp 1819 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': m_pRT_AIR_SHAD &amp;&amp; m_pRT_AIR_SHAD d3d_svo.cpp 1830 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': s_pPropertiesPanel &amp;&amp; s_pPropertiesPanel entityobject.cpp 1700 </li></ul><br>  Y como promet√≠, aqu√≠ hay una lista de las advertencias <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V501</a> restantes sin ejemplos de c√≥digo: <div class="spoiler">  <b class="spoiler_title">Expandir lista</b> <div class="spoiler_text"><ul><li>  V501 Hay subexpresiones id√©nticas 'MaxX &lt;0' a la izquierda y a la derecha de '||'  operador  czbufferculler.h 128 </li><li>  V501 Hay subexpresiones id√©nticas 'm_joints [op [1]]. L√≠mites [1] [i]' a la izquierda y a la derecha del operador '-'.  articulatedentity.cpp 795 </li><li>  V501 Hay subexpresiones id√©nticas 'm_joints [i] .limits [1] [j]' a la izquierda y a la derecha del operador '-'.  articulatedentity.cpp 2044 </li><li>  V501 Hay subexpresiones id√©nticas 'irect [0] .x + 1 - irect [1] .x &gt;&gt; 31' a la izquierda y a la derecha de '|'  operador  trimesh.cpp 4029 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1779 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1827 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1865 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1779 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1827 </li><li>  V501 Hay subexpresiones id√©nticas 'b-&gt; mlen &lt;= 0' a la izquierda y a la derecha de '||'  operador  bstrlib.c 1865 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '-': dd - dd finalizingspline.h 669 </li><li>  V501 Hay subexpresiones id√©nticas 'pVerts [2] - pVerts [3]' a la izquierda y a la derecha del operador '^'.  roadrendernode.cpp 307 </li><li>  V501 Hay subexpresiones id√©nticas '! PGroup-&gt; GetStatObj ()' a la izquierda y a la derecha de '||'  operador  terreno_nodo.cpp 594 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha de '||'  operador: val == 0 ||  val == - 0 xmlcpb_attrwriter.cpp 367 </li><li>  V501 Hay subexpresiones id√©nticas 'geom_colltype_solid' a la izquierda y a la derecha de '|'  operador  attachmanager.cpp 1058 </li><li>  V501 Hay subexpresiones id√©nticas '(TriMiddle - RMWPosition)' a la izquierda y a la derecha de '|'  operador  modelmesh.cpp 174 </li><li>  V501 Hay subexpresiones id√©nticas '(objetivo - pAbsPose [b3] .t)' a la izquierda y a la derecha de '|'  operador  posemodifierhelper.cpp 115 </li><li>  V501 Hay subexpresiones id√©nticas '(goal - pAbsPose [b4] .t)' a la izquierda y a la derecha de '|'  operador  posemodifierhelper.cpp 242 </li><li>  V501 Hay subexpresiones id√©nticas '(m_eTFSrc == eTF_BC6UH)' a la izquierda y a la derecha de '||'  operador  texturestreaming.cpp 983 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '-': q2.vz - q2.vz azentitynode.cpp 102 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '-': q2.vz - q2.vz entitynode.cpp 107 </li><li>  V501 Hay subexpresiones id√©nticas 'm_listRect.contains (event-&gt; pos ())' a la izquierda y a la derecha de '||'  operador  aidebuggerview.cpp 463 </li><li>  V501 Hay subexpresiones id√©nticas a la izquierda y a la derecha del operador '&amp;&amp;': pObj-&gt; GetParent () &amp;&amp; pObj-&gt; GetParent () designerpanel.cpp 253 </li></ul></div></div><br><h2>  Sobre la posici√≥n de la c√°mara en los juegos </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/564/587/079/5645870792e812044ad7bd3df6fdd2f0.png"></div><br><br>  Existe el segundo diagn√≥stico m√°s r√°pido en PVS-Studio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V502</a> .  Este diagn√≥stico es m√°s antiguo que algunos lenguajes de programaci√≥n nuevos, en los que ya no se puede cometer dicho error.  Y para C ++, este error ser√° relevante, tal vez siempre. <br><br>  Comencemos con un peque√±o ejemplo simple. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V502</a> Quiz√°s el operador '?:' Funciona de una manera diferente a la esperada.  El operador '?:' Tiene una prioridad menor que el operador '+'.  zipencryptor.cpp 217 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ZipEncryptor::ParseKey(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span>) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>; RCLogError(<span class="hljs-string"><span class="hljs-string">"...."</span></span>, pos); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br>  La operaci√≥n de adici√≥n tiene una prioridad m√°s alta que el operador ternario.  Por lo tanto, esta expresi√≥n tiene una l√≥gica de c√°lculo completamente diferente de lo que el autor asumi√≥. <br><br>  Puede corregir el error de esta manera: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V502</a> Quiz√°s el operador '?:' Funciona de una manera diferente a la esperada.  El operador '?:' Tiene una prioridad menor que el operador '-'.  3dengine.cpp 1898 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> C3DEngine::GetDistanceToSectorWithWater() { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (bCameraInTerrainBounds &amp;&amp; (m_pTerrain &amp;&amp; m_pTerrain-&gt;GetDistanceToSectorWithWater() &gt; <span class="hljs-number"><span class="hljs-number">0.1f</span></span>)) ? m_pTerrain-&gt;GetDistanceToSectorWithWater() : max(camPostion.z - OceanToggle::IsActive() ? OceanRequest::GetOceanLevel() : GetWaterLevel(), <span class="hljs-number"><span class="hljs-number">0.1f</span></span>); }</code> </pre> <br>  Y aqu√≠ hay un c√≥digo de ejemplo donde trabajan con la posici√≥n de la c√°mara.  Un ejemplo es dif√≠cil de percibir con los ojos y hay un error en √©l.  Para la publicaci√≥n, el formato del c√≥digo ha cambiado, pero en el archivo fuente este c√≥digo es a√∫n m√°s ilegible. <br><br>  Hay un error en esta subcadena: <br><br><pre> <code class="cpp hljs">camPostion.z - OceanToggle::IsActive() ? .... : ....</code> </pre> <br>  Si la c√°mara en su juego de repente comenz√≥ a comportarse de manera inapropiada, entonces debe saber que los desarrolladores guardaron en el an√°lisis de c√≥digo est√°tico: D. <br><br>  Otros ejemplos con advertencias similares: <br><br><ul><li>  V502 Quiz√°s el operador '?:' Funciona de una manera diferente a la esperada.  El operador '?:' Tiene una prioridad menor que el operador '-'.  scriptbind_ai.cpp 5203 </li><li>  V502 Quiz√°s el operador '?:' Funciona de una manera diferente a la esperada.  El operador '?:' Tiene una prioridad menor que el operador '+'.  qcolumnwidget.cpp 136 </li><li>  V502 Quiz√°s el operador '?:' Funciona de una manera diferente a la esperada.  El operador '?:' Tiene una prioridad menor que el operador '&amp;&amp;'.  shapetool.h 98 </li></ul><br><h2>  Legado de CryEngine </h2><br>  Amazon Lumberyard se basa en el c√≥digo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CryEngine</a> .  Y no en su mejor versi√≥n.  Llegu√© a tal conclusi√≥n mirando el informe del analizador.  Algunos errores encontrados ya se han corregido en la √∫ltima versi√≥n de CryEngine para mis dos revisiones de c√≥digo, pero todav√≠a est√°n presentes en el c√≥digo de Lumberyard.  Adem√°s, durante el a√±o pasado, el analizador se mejor√≥ significativamente y fue posible encontrar errores adicionales que ahora est√°n presentes en dos motores de juego.  Pero con Lumberyard la situaci√≥n es peor.  Amazon esencialmente hered√≥ toda la deuda t√©cnica de CryEngine.  Pero su propio deber t√©cnico, por supuesto, aparece en cada empresa por su cuenta :). <br><br>  En esta secci√≥n, le dar√© un par de errores que se corrigieron en la √∫ltima versi√≥n de CryEngine, y ahora siguen siendo solo un problema del proyecto Lumberyard. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V519</a> La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">variable</a> 'BlendFactor [2]' tiene valores asignados dos veces seguidas.  Quiz√°s esto sea un error.  L√≠neas de verificaci√≥n: 1283, 1284. ccrydxgldevicecontext.cpp 1284 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/659/fb5/4bb/659fb54bb651df9abf4568dec3b76bf4.png"></div><br><br>  Aproximadamente tales emociones ser√°n experimentadas por los desarrolladores de Lumberyard cuando descubran que este error se mantuvo solo con ellos. <br><br>  Por cierto, hay dos m√°s: <br><br><ul><li>  V519 La variable 'm_auBlendFactor [2]' tiene valores asignados dos veces sucesivamente.  Quiz√°s esto sea un error.  L√≠neas de verificaci√≥n: 919, 920. ccrydxgldevicecontext.cpp 920 </li><li>  V519 La variable 'm_auBlendFactor [2]' tiene valores asignados dos veces sucesivamente.  Quiz√°s esto sea un error.  Verifique las l√≠neas: 926, 927. ccrydxgldevicecontext.cpp 927 </li></ul><br>  Hay tal error: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V546 El</a> miembro de una clase se inicializa por s√≠ mismo: 'eConfigMax (eConfigMax.VeryHigh)'.  Part√≠cula de part√≠culas. 1837 <br><br><pre> <code class="cpp hljs">ParticleParams() : .... fSphericalApproximation(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), fVolumeThickness(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>), fSoundFXParam(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), eConfigMax(eConfigMax.VeryHigh), <span class="hljs-comment"><span class="hljs-comment">// &lt;= fFadeAtViewCosAngle(0.f) {}</span></span></code> </pre> <br>  En CryEngine, esta clase generalmente se reescribi√≥, pero aqu√≠ se mantuvo el error de inicializaci√≥n. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V521</a> Tales expresiones que usan el operador ',' son peligrosas.  Aseg√∫rese de que la expresi√≥n '! SWords [iWord] .empty (), iWord ++' sea correcta.  tacticalpointsystem.cpp 3376 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CTacticalPointSystem::Parse(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sInput</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sSpec)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MAXWORDS = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sWords[MAXWORDS]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iC = <span class="hljs-number"><span class="hljs-number">0</span></span>, iWord = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; iWord &lt; MAXWORDS; !sWords[iWord].empty(), iWord++) { sWords[iWord] = sInput.Tokenize(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, iC); } .... }</code> </pre> <br>  El ciclo sospechoso que CryEngine ya ha reescrito tambi√©n. <br><br><h2>  Los errores viven m√°s de lo que piensas </h2><br>  Los usuarios que comienzan a usar PVS-Studio por primera vez tienen una situaci√≥n aproximadamente id√©ntica: encuentran un error, descubren que se agreg√≥ hace unos meses y est√°n felices de darse cuenta de que milagrosamente evitaron la manifestaci√≥n del problema entre sus usuarios.  Muchos de nuestros clientes llegaron al uso regular de PVS-Studio precisamente despu√©s de tales historias. <br><br>  A veces, para iniciar los procesos de control de calidad del c√≥digo, una empresa debe visitar esas situaciones varias veces.  Aqu√≠ hay un ejemplo sobre CryEngine y Lumberyard: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V557</a> CWE-119 Arreglo de arrastre es posible.  El √≠ndice 'id' apunta m√°s all√° de la matriz.  gameobjectsystem.cpp 113 <br><br><pre> <code class="cpp hljs">uint32 CGameObjectSystem::GetExtensionSerializationPriority(....) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id &gt; m_extensionInfo.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0xffffffff</span></span>; <span class="hljs-comment"><span class="hljs-comment">// minimum possible priority } else { return m_extensionInfo[id].serializationPriority; } }</span></span></code> </pre> <br>  Como saben, Amazon Lumberyard no se basa en la √∫ltima versi√≥n de CryEngine.  Sin embargo, con la ayuda del analizador PVS-Studio, fue posible encontrar un error que ahora est√° presente en dos motores de juego.  Era necesario verificar el √≠ndice utilizando el operador '&gt; =' ... <br><br>  El error de indexaci√≥n es grave.  ¬°Adem√°s, hay <b>seis de</b> esos lugares <b>!</b>  Aqu√≠ hay otro ejemplo: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V557</a> CWE-119 Arreglo de arrastre es posible.  El √≠ndice '√≠ndice' apunta m√°s all√° de la matriz.  vehicleeatgroup.cpp 73 <br><br><pre> <code class="cpp hljs">CVehicleSeat* CVehicleSeatGroup::GetSeatByIndex(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> index) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (index &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; index &lt;= m_seats.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_seats[index]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; }</code> </pre> <br>  Alguien cometi√≥ los errores del mismo tipo, y no se corrigieron solo porque no se hab√≠an incluido una vez en las revisiones de errores de CryEngine. <br><br>  Advertencias restantes: <br><br><ul><li>  V557 CWE-119 Arreglo de arrastre es posible.  El √≠ndice 'id' apunta m√°s all√° de la matriz.  gameobjectsystem.cpp 195 </li><li>  V557 CWE-119 Arreglo de arrastre es posible.  El √≠ndice 'id' apunta m√°s all√° de la matriz.  gameobjectsystem.cpp 290 </li><li>  V557 CWE-119 Arreglo de arrastre es posible.  El √≠ndice 'stateId' apunta m√°s all√° del l√≠mite de la matriz.  vehicleanimation.cpp 311 </li><li>  V557 CWE-119 Arreglo de arrastre es posible.  El √≠ndice 'stateId' apunta m√°s all√° del l√≠mite de la matriz.  vehicleanimation.cpp 354 </li></ul><br>  La larga existencia de errores en el c√≥digo solo puede explicarse por el nivel correspondiente de prueba del proyecto.  Se cree que el an√°lisis est√°tico encuentra errores solo en el c√≥digo no utilizado.  Entonces, esto no es as√≠.  Los desarrolladores olvidan que la mayor√≠a de los usuarios sufren silenciosamente de errores no evidentes en los programas, y la manifestaci√≥n de estos errores muy raros a menudo afecta negativamente el trabajo de toda la empresa, la reputaci√≥n y sus ventas, si las hay. <br><br><h2>  Diferentes tonos de programaci√≥n de copiar y pegar </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7b/18c/0d2/b7b18c0d2641836736a2bde2d19ba5ba.png"></div><br><br>  Cuando llegaste a esta secci√≥n del art√≠culo, probablemente notaste que la programaci√≥n de copiar y pegar es la causa de muchos problemas.  En PVS-Studio, la b√∫squeda de tales errores se implementa en varios diagn√≥sticos.  Esta secci√≥n dar√° ejemplos de copiar y pegar encontrados con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V561</a> . <br><br>  Aqu√≠ hay un ejemplo de c√≥digo sospechoso al declarar variables con el mismo nombre en √°mbitos superpuestos. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V561</a> CWE-563 Probablemente sea mejor asignar valor a la variable 'pLibrary' que declararlo de nuevo.  Declaraci√≥n previa: entityobject.cpp, l√≠nea 4703. entityobject.cpp 4706 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CEntityObject::OnMenuConvertToPrefab() { .... IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { QString sError = tr(....); CryMessageBox(....); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } .... }</code> </pre> <br>  El puntero pLibrary no se sobrescribe como se esperaba.  La inicializaci√≥n de este puntero se copi√≥ completamente bajo la condici√≥n junto con la declaraci√≥n de tipo. <br><br>  Voy a enumerar todos los lugares similares: <br><br><ul><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'eType' que declararlo de nuevo.  Declaraci√≥n previa: toglsloperand.c, l√≠nea 838. toglsloperand.c 1224 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'eType' que declararlo de nuevo.  Declaraci√≥n previa: toglsloperand.c, l√≠nea 838. toglsloperand.c 1305 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'rSkelPose' que declararlo de nuevo.  Declaraci√≥n previa: attachmanager.cpp, l√≠nea 409. attachmanager.cpp 458 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'nThreadID' que declararlo de nuevo.  Declaraci√≥n previa: d3dmeshbaker.cpp, l√≠nea 797. d3dmeshbaker.cpp 867 </li><li>  V561 CWE-563 Probablemente sea mejor asignar un valor a la variable 'directoryNameList' que declararlo de nuevo.  Declaraci√≥n previa: assetimportermanager.cpp, l√≠nea 720. assetimportermanager.cpp 728 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'pNode' que declararlo de nuevo.  Declaraci√≥n previa: breakpointsctrl.cpp, l√≠nea 340. breakpointsctrl.cpp 349 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'pLibrary' que declararlo de nuevo.  Declaraci√≥n previa: prefabobject.cpp, l√≠nea 1443. prefabobject.cpp 1446 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'pLibrary' que declararlo de nuevo.  Declaraci√≥n previa: prefabobject.cpp, l√≠nea 1470. prefabobject.cpp 1473 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'cmdLine' que declararlo de nuevo.  Declaraci√≥n previa: fileutil.cpp, l√≠nea 110. fileutil.cpp 130 </li><li>  V561 CWE-563 Probablemente sea mejor asignar valor a la variable 'sfunctionArgs' que declararlo de nuevo.  Declaraci√≥n anterior: attributeitemlogiccallbacks.cpp, l√≠nea 291. attributeitemlogiccallbacks.cpp 303 </li><li>  V561 CWE-563 Probablemente sea mejor asignar un valor a la variable 'curveName' que declararlo de nuevo.  Declaraci√≥n previa: qgradientselectorwidget.cpp, l√≠nea 475. qgradientselectorwidget.cpp 488 </li></ul><br>  Una larga lista ... algunos de los lugares enumerados son incluso copias completas del ejemplo descrito. <br><br><h2>  Inicializaci√≥n del valor propio </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54a/3e3/bff/54a3e3bff4ffeeeb75087c52d644eaa6.png"></div><br><br>  En el c√≥digo del motor del juego, se encontraron muchos lugares donde la variable se asigna a s√≠ misma.  En alg√∫n lugar, este c√≥digo permaneci√≥ para la depuraci√≥n, en alg√∫n lugar el c√≥digo est√° simplemente bellamente dise√±ado (a menudo tambi√©n es una fuente de errores), por lo que le dar√© una pieza de c√≥digo que es m√°s sospechosa para m√≠. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V570</a> La variable 'behaviourParams.ignoreOnVehicleDestroyed' se asigna a s√≠ misma.  vehiclecomponent.cpp 168 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CVehicleComponent::Init(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!damageBehaviorTable.getAttr(....) { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-comment"><span class="hljs-comment">// &lt;= behaviorParams.ignoreOnVehicleDestroyed; // &lt;= } .... }</span></span></code> </pre> <br>  En la vista actual, la rama <i>else</i> no es necesaria en absoluto.  Pero quiz√°s este c√≥digo contiene un error: quer√≠an asignar el valor opuesto a la variable: <br><br><pre> <code class="cpp hljs">bValue = !bValue</code> </pre> <br>  Pero es mejor que los desarrolladores se familiaricen con los resultados de este diagn√≥stico. <br><br><h2>  Manejo de problemas </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/4fe/a30/cef4fea30182004f3debd9467c1e8d16.png"></div><br><br>  Esta secci√≥n dar√° muchos ejemplos cuando algo sali√≥ mal durante el manejo de errores. <br><br>  <b>Ejemplo 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V606</a> token sin propietario 'nullptr'.  dx12rootsignature.cpp 599 <br><br><pre> <code class="cpp hljs">RootSignature* RootSignatureCache::AcquireRootSignature(....) { .... RootSignature* result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RootSignature(m_pDevice); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result-&gt;Init(params)) { DX12_ERROR(<span class="hljs-string"><span class="hljs-string">"Could not create root signature!"</span></span>); <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; } m_RootSignatureMap[hash] = result; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } }</code> </pre> <br>  Olvid√© escribir <i>return nullptr;</i>  .  Ahora, el valor no v√°lido de la variable de <i>resultado</i> se usar√° en otra parte del c√≥digo. <br><br>  El mismo c√≥digo exacto se copi√≥ a un lugar m√°s: <br><br><ul><li>  V606 token sin propietario 'nullptr'.  dx12rootsignature.cpp 621 </li></ul><br>  <b>Ejemplo 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V606</a> token sin propietario 'falso'.  fillspacetool.cpp 191 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> FillSpaceTool::FillHoleBasedOnSelectedElements() { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.size() == <span class="hljs-number"><span class="hljs-number">2</span></span>) { .... } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, iVertexSize(....); i &lt; iVertexSize; ++i) { validEdgeList.push_back(....); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { false; // &lt;= fail } std::vector&lt;BrushEdge3D&gt; linkedEdgeList; std::set&lt;int&gt; usedEdgeSet; linkedEdgeList.push_back(validEdgeList[0]); // &lt;= fail .... }</span></span></code> </pre> <br>  Un ejemplo muy interesante de un error con una <i>declaraci√≥n de retorno</i> faltante.  Ahora es posible una situaci√≥n de acceso a un contenedor vac√≠o al √≠ndice. <br><br>  <b>Ejemplo 3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V564</a> CWE-480 El operador '&amp;' se aplica al valor de tipo bool.  Probablemente haya olvidado incluir par√©ntesis o tenga la intenci√≥n de utilizar el operador '&amp;&amp;'.  toglslinstruction.c 2914 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetDataTypes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-comment"><span class="hljs-comment">// Check assumption that both the values which MOVC might pick // have the same basic data type. if(!psContext-&gt;flags &amp; HLSLCC_FLAG_AVOID_TEMP_REGISTER_ALIASING) { ASSERT(GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[2]) == GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[3])); } .... }</span></span></code> </pre> <br>  Se verific√≥ incorrectamente la presencia de bits en la bandera.  El operador de negaci√≥n se aplica al valor del indicador, no a la expresi√≥n completa.  Escribe correctamente as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!(psContext-&gt;flags &amp; ....))</code> </pre> <br>  M√°s advertencias similares: <br><br><ul><li>  V564 CWE-480 El '|'  El operador se aplica al valor de tipo bool.  Probablemente te hayas olvidado de incluir par√©ntesis o tengas la intenci√≥n de usar '||'  operador  d3dhwshader.cpp 1832 </li><li>  V564 CWE-480 El operador '&amp;' se aplica al valor de tipo bool.  Probablemente haya olvidado incluir par√©ntesis o tenga la intenci√≥n de utilizar el operador '&amp;&amp;'.  trackviewdialog.cpp 2112 </li><li>  V564 CWE-480 El '|'  El operador se aplica al valor de tipo bool.  Probablemente te hayas olvidado de incluir par√©ntesis o tengas la intenci√≥n de usar '||'  operador  imagecompiler.cpp 1039 </li></ul><br>  <b>Ejemplo 4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V596</a> CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1491 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; PyGetPrefabLibrarys() { CPrefabManager* pPrefabManager = GetIEditor()-&gt;GetPrefabMa....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pPrefabManager) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>); } .... }</code> </pre> <br>  Error al lanzar la excepci√≥n.  Era necesario escribir as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>);</code> </pre> <br>  La lista completa de tales errores: <br><br><ul><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1515 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1521 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1543 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1549 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1603 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1619 </li><li>  V596 CWE-390 El objeto fue creado pero no se est√° utilizando.  Podr√≠a faltar la palabra clave 'throw': throw runtime_error (FOO);  prefabobject.cpp 1644 </li></ul><br><br><h2>  Un par de problemas al trabajar con memoria </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/521/55f/307/52155f307f3824842c324aa99902796e.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">V549</a> CWE-688 El primer argumento de la funci√≥n 'memcmp' es igual al segundo argumento.  meshutils.h 894 <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VertexLess</span></span></span><span class="hljs-class"> {</span></span> .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m.m_links[a].links.size() != m.m_links[b].links.size()) { res = (m.m_links[a].links.size() &lt; m.m_links[b].links.size()) ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : +<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { res = <span class="hljs-built_in"><span class="hljs-built_in">memcmp</span></span>(&amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], &amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>]) * m.m_links[a].links.size()); } .... } .... };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La condici√≥n compara los tama√±os de dos vectores. </font><font style="vertical-align: inherit;">Si son iguales, en la rama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> los </font><font style="vertical-align: inherit;">valores de los primeros elementos de los vectores se comparan utilizando la funci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">¬°Pero los argumentos primero y segundo para esta funci√≥n son los mismos! </font><font style="vertical-align: inherit;">El acceso a los elementos de la matriz es bastante engorroso. </font><font style="vertical-align: inherit;">Hay √≠ndices </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Lo m√°s probable es que haya un error tipogr√°fico en ellos. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V611</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-762 La memoria se asign√≥ usando el operador 'nuevo T []' pero se liber√≥ usando el operador 'borrar'. </font><font style="vertical-align: inherit;">Considere inspeccionar este c√≥digo. </font><font style="vertical-align: inherit;">Probablemente sea mejor usar 'borrar [] datos;'. </font><font style="vertical-align: inherit;">vectorn.h 102</font></font><br><br><pre> <code class="cpp hljs">~vectorn_tpl() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>[] data; } } vectorn_tpl&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vectorn_tpl&lt;ftype&gt;&amp; src) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src.len != len &amp;&amp; !(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> data; <span class="hljs-comment"><span class="hljs-comment">// &lt;= data = new ftype[src.len]; } .... }</span></span></code> </pre> <br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La memoria del</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puntero de </font><i><font style="vertical-align: inherit;">datos se est√°</font></i><font style="vertical-align: inherit;"> liberando con una declaraci√≥n no v√°lida. </font><font style="vertical-align: inherit;">El operador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delete []</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> debe usarse en </font><i><font style="vertical-align: inherit;">todas partes</font></i><font style="vertical-align: inherit;"> .</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C√≥digo inalcanzable </font></font></h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561 C√≥digo inalcanzable detectado. </font><font style="vertical-align: inherit;">Es posible que haya un error presente. </font><font style="vertical-align: inherit;">fbxskinimporter.cpp 67</font></font><br><br><pre> <code class="cpp hljs">Events::ProcessingResult FbxSkinImporter::ImportSkin(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (BuildSceneMeshFromFbxMesh(....) { context.m_createdData.push_back(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(createdData)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Events::ProcessingResult::Success; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return Events::ProcessingResult::Failure; // &lt;= } context.m_createdData.push_back(); // &lt;= fail return Events::ProcessingResult::Success; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas las ramas de la declaraci√≥n condicional terminan con la salida de la funci√≥n. </font><font style="vertical-align: inherit;">Sin embargo, algunos c√≥digos no se ejecutan. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561 C√≥digo inalcanzable detectado. </font><font style="vertical-align: inherit;">Es posible que haya un error presente. </font><font style="vertical-align: inherit;">dockablelibrarytreeview.cpp 153</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> DockableLibraryTreeView::Init(IDataBaseLibrary* lib) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView &amp;&amp; m_titleBar &amp;&amp; m_defaultView) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView-&gt;topLevelItemCount() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { ShowTreeView(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ShowDefaultView(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return false; // &lt;= } emit SignalFocused(this); // &lt;= fail }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es f√°cil detectar un error en este fragmento de c√≥digo. </font><font style="vertical-align: inherit;">Pero si escribe el c√≥digo durante mucho tiempo, entonces la atenci√≥n se reduce bruscamente y esos errores caen f√°cilmente en el proyecto. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V622</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-478 Considere la posibilidad de inspeccionar la declaraci√≥n 'switch'. </font><font style="vertical-align: inherit;">Es posible que falte el primer operador de 'caso'. </font><font style="vertical-align: inherit;">datum.cpp 872</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AZ_INLINE </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsDataGreaterEqual</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type.GetType()) { AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::Number: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IsDataGreaterEqual&lt;Data::NumberType&gt;(lhs, rhs); .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::AABB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::AABBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::OBB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::OBBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modificador</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene c√≥digo fuera de la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declaraci√≥n case / default</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nunca se ejecuta.</font></font><br><br><h2>  Conclusi√≥n </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo incluye </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> advertencias del analizador, 25 de ellas con ejemplos de c√≥digo. ¬øCu√°nto material proviene del informe completo del analizador? R√°pidamente desplac√© solo un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tercio de las alertas de alto nivel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tambi√©n hay Mediano y Bajo, un grupo de diagn√≥sticos para buscar optimizaciones y otras oportunidades sin explotar del analizador: estos son cientos de errores m√°s obvios y miles de advertencias inexploradas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y luego el lector debe hacerse la pregunta: "¬øEs posible con este enfoque del proyecto lanzar un buen motor de juego?". No hay c√≥digo de control de calidad. El c√≥digo CryEngine con errores antiguos se tom√≥ como base, se agregaron nuevos errores. CryEngine se finaliza solo despu√©s de la pr√≥xima revisi√≥n del c√≥digo. ¬°Amazon tiene todas las oportunidades con sus recursos para trabajar en la direcci√≥n de la calidad del c√≥digo y lanzar el motor de juego m√°s genial! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No te enfades mucho. Entre los clientes de PVS-Studio hay m√°s de treinta compa√±√≠as que participan en juegos. Puede familiarizarse con ellos y sus productos en la p√°gina de nuestro sitio web " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clientes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " seleccionando el filtro "Desarrollo de juegos". Entonces, estamos mejorando gradualmente el mundo. Quiz√°s podamos mejorar Amazon Lumberyard :).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un colega recientemente escribi√≥ un art√≠culo sobre el tema de la calidad del software de juegos, sugiero que le interese leer: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis est√°tico en la industria de los videojuegos: los 10 principales errores de software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace para descargar el analizador </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ¬øc√≥mo puede prescindir de √©l? ;-)</font></font><br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si desea compartir este art√≠culo con una audiencia de habla inglesa, utilice el enlace a la traducci√≥n: Svyatoslav Razmyslov. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Lumberyard: Un grito de angustia</font></font></a> <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øHas le√≠do el art√≠culo y tienes una pregunta?</font></font></b> <div class="spoiler_text">          .      : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">      PVS-Studio,  2015</a> . ,   . </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416565/">https://habr.com/ru/post/es416565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416551/index.html">Teor√≠a de la felicidad. La ley de la c√°scara de sand√≠a y la normalidad de la anormalidad.</a></li>
<li><a href="../es416553/index.html">C√≥mo est√°n cambiando los enfoques para el desarrollo de terminales para el comercio en el intercambio: 4 tendencias de 2018</a></li>
<li><a href="../es416555/index.html">Noticias: ¬øpor qu√© estamos haciendo esto mal?</a></li>
<li><a href="../es416557/index.html">GitLab 11.0: Lanzamiento autom√°tico de DevOps y gesti√≥n de licencias</a></li>
<li><a href="../es416561/index.html">¬°La impresora vivi√≥, la impresora est√° viva, la impresora vivir√°! Tratamiento Canon MG7140</a></li>
<li><a href="../es416569/index.html">Como Prius, pero solo en Linux: pensando en una oficina h√≠brida</a></li>
<li><a href="../es416573/index.html">Env√≠o de correo electr√≥nico desde cualquier direcci√≥n</a></li>
<li><a href="../es416575/index.html">An√°lisis de las interrupciones de la superconductividad de los imanes colisionadores de hadrones grandes en el CERN</a></li>
<li><a href="../es416577/index.html">Digest MBLT DEV: nuevo para desarrolladores de iOS</a></li>
<li><a href="../es416579/index.html">Controlamos los LED utilizando Web Bluetooth API y Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>