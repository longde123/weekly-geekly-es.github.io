<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐ป Seccomp ูู Kubernetes: 7 ุฃุดูุงุก ุชุญุชุงุฌ ููุนุฑูุชูุง ุญูู ูู ุงูุจุฏุงูุฉ ๐ ๐๐ฟ ๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชูุฑูุจุง. ุงูุนุงุจุฑุฉ. : ุชูุฏูู ุชุฑุฌูุฉ ูููุงู ูู ูุจู ูููุฏุณ ุฃูุงู ุชุทุจูู ูุจูุฑ ูู ุดุฑูุฉ ASOS.com ุงูุจุฑูุทุงููุฉ. ูุนู ุ ูุจุฏุฃ ุณูุณูุฉ ูู ุงูููุดูุฑุงุช ุญูู ุชุญุณูู ุงูุฃูู ูู Kubern...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seccomp ูู Kubernetes: 7 ุฃุดูุงุก ุชุญุชุงุฌ ููุนุฑูุชูุง ุญูู ูู ุงูุจุฏุงูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/481114/" style=";text-align:right;direction:rtl"> <i><b>ุชูุฑูุจุง.</b></i>  <i><b>ุงูุนุงุจุฑุฉ.</b></i>  <i>: ุชูุฏูู ุชุฑุฌูุฉ ูููุงู ูู ูุจู ูููุฏุณ ุฃูุงู ุชุทุจูู ูุจูุฑ ูู ุดุฑูุฉ ASOS.com ุงูุจุฑูุทุงููุฉ.</i>  <i>ูุนู ุ ูุจุฏุฃ ุณูุณูุฉ ูู ุงูููุดูุฑุงุช ุญูู ุชุญุณูู ุงูุฃูู ูู Kubernetes ูู ุฎูุงู ุงุณุชุฎุฏุงู seccomp.</i>  <i>ุฅุฐุง ูุงู ุงููุฑุงุก ุณูุญุจูู ุงูููุฏูุฉ ุ ูุณูู ูุชุงุจุน ุงููุคูู ูููุงุตู ูุดุฑ ููุงูุงุชู ุงููุณุชูุจููุฉ ุญูู ูุฐุง ุงูููุถูุน.</i> <br><br><img src="https://habrastorage.org/webt/-u/nv/vk/-unvvkiylrs9ucbym-l4bsobtr8.png"><br><br>  ูุฐุง ุงูููุงู ูู ุงูุฃูู ูู ุณูุณูุฉ ูู ุงูููุดูุฑุงุช ุญูู ููููุฉ ุฅูุดุงุก ูููุงุช ุชุนุฑูู seccomp ุจุฑูุญ SecDevOps ุฏูู ุงููุฌูุก ุฅูู ุงูุณุญุฑ ูุงูุณุญุฑ.  ูู ุงูุฌุฒุก ุงูุฃูู ุ ุณุฃุชุญุฏุซ ุนู ุงูุฃุณุงุณูุงุช ูุงูุชูุงุตูู ุงูุฏุงุฎููุฉ ูุชูููุฐ seccomp ูู Kubernetes. <br><br>  ูููุฑ ูุธุงู Kubernetes ุงูุจูุฆู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุทุฑู ูุถูุงู ุณูุงูุฉ ุงูุญุงููุงุช ูุงูุนุฒู.  ุชุชูุงูู ูุฐู ุงูููุงูุฉ ูุถุน ุงูุญูุณุจุฉ ุงูุขููุฉ ุ ูุงููุนุฑูู ุฃูุถูุง ุจุงุณู <b>seccomp</b> .  ูููู ุฌููุฑูุง ูู ุฏุนูุงุช ูุธุงู ุงูุชุฑุดูุญ ุงููุชุงุญุฉ ููุญุงููุงุช ููุชูููุฐ. <a name="habracut"></a><br><br>  ููุงุฐุง ูุฐุง ูููุ  ุงูุญุงููุฉ ูู ูุฌุฑุฏ ุนูููุฉ ุชุนูู ุนูู ุฌูุงุฒ ูุนูู.  ููุณุชุฎุฏู ุงูููุงุฉ ุนูู ูุฏู ุงููุณุงูุงุฉ ูุน ุงูุชุทุจููุงุช ุงูุฃุฎุฑู.  ุฅุฐุง ุชูููุช ุงูุญุงููุงุช ูู ุฅุฌุฑุงุก ุฃู ููุงููุงุช ูููุธุงู ุ ูุณุชุณุชุบู ุงูุจุฑุงูุฌ ุงูุถุงุฑุฉ ูุฑูุจูุง ุฌุฏูุง ูุชุฌุงูุฒ ุนุฒู ุงูุญุงููุฉ ูุงูุชุฃุซูุฑ ุนูู ุงูุชุทุจููุงุช ุงูุฃุฎุฑู: ุงุนุชุฑุงุถ ุงููุนูููุงุช ุ ูุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงููุธุงู ุ ุฅูุฎ. <br><br>  ุชุญุฏุฏ ูููุงุช ุชุนุฑูู seccomp ููุงููุงุช ุงููุธุงู ุงูุชู ูุฌุจ ุงูุณูุงุญ ุจูุง ุฃู ุฑูุถูุง.  ูุนูู ููุช ุชุดุบูู ุงูุญุงููุฉ ุนูู ุชูุดูุทูุง ุฃุซูุงุก ุฅุทูุงููุง ุ ุจุญูุซ ุชุชููู ุงูููุงุฉ ูู ุงูุชุญูู ูู ุชูููุฐูุง.  ูุชูุญ ูู ุงุณุชุฎุฏุงู ูููุงุช ุงูุชุนุฑูู ูุฐู ุงูุญุฏ ูู ูุงูู ุงููุฌูู ูุชูููู ุงูุถุฑุฑ ุฅุฐุง ุจุฏุฃ ุฃู ุจุฑูุงูุฌ ุฏุงุฎู ุงูุญุงููุฉ (ุฃู ุชุจุนูุงุชู ุฃู ุชุจุนูุงุชูุง) ูู ุงูููุงู ุจูุง ูุง ูุณูุญ ุจู. <br><br><h2 style=";text-align:right;direction:rtl">  ููู ุงูุฃุณุงุณูุงุช </h2><br>  ูุชุถูู ููู ุชุนุฑูู seccomp ุงูุฃุณุงุณู ุซูุงุซุฉ ุนูุงุตุฑ: <code>defaultAction</code> ุ <code>defaultAction</code> (ุฃู <code>archMap</code> ) ุ <code>syscalls</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"defaultAction"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ERRNO"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"architectures"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86_64"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X32"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"syscalls"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"names"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"arch_prctl"</span></span>, <span class="hljs-string"><span class="hljs-string">"sched_yield"</span></span>, <span class="hljs-string"><span class="hljs-string">"futex"</span></span>, <span class="hljs-string"><span class="hljs-string">"write"</span></span>, <span class="hljs-string"><span class="hljs-string">"mmap"</span></span>, <span class="hljs-string"><span class="hljs-string">"exit_group"</span></span>, <span class="hljs-string"><span class="hljs-string">"madvise"</span></span>, <span class="hljs-string"><span class="hljs-string">"rt_sigprocmask"</span></span>, <span class="hljs-string"><span class="hljs-string">"getpid"</span></span>, <span class="hljs-string"><span class="hljs-string">"gettid"</span></span>, <span class="hljs-string"><span class="hljs-string">"tgkill"</span></span>, <span class="hljs-string"><span class="hljs-string">"rt_sigaction"</span></span>, <span class="hljs-string"><span class="hljs-string">"read"</span></span>, <span class="hljs-string"><span class="hljs-string">"getpgrp"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ALLOW"</span></span> } ] }</code> </pre> <br>  <i>( <a href="https://gist.github.com/pjbgf/ef974f57693bb193f39e8add8a7040d7">ูุชูุณุทุฉ ุฃุณุงุณูุฉ- seccomp.json</a> )</i> <br><br>  <code>defaultAction</code> ูุญุฏุฏ ุงููุตูุฑ ุงูุงูุชุฑุงุถู ูุฃู ููุงููุฉ ูุธุงู ุบูุฑ ูุญุฏุฏุฉ ูู ูุณู <code>syscalls</code> .  ูุชุจุณูุท ุงููููุฉ ุ ูุฑูุฒ ุนูู ูููุชูู ุฑุฆูุณูุชูู ุณูุชู ุงุณุชุฎุฏุงูููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>SCMP_ACT_ERRNO</code> - ูููุน ุชูููุฐ ููุงููุฉ ุงููุธุงู ุ </li><li style=";text-align:right;direction:rtl">  <code>SCMP_ACT_ALLOW</code> - ูุณูุญ. </li></ul><br>  ูุณุฑุฏ ูุณู ุงูุจููุงุช ุงูุจูู ุงููุณุชูุฏูุฉ.  ูุฐุง ููู ุ ูุธุฑูุง ูุฃู ุงููุฑุดุญ ููุณู ุ ุงููุทุจู ุนูู ูุณุชูู kernel ุ ูุนุชูุฏ ุนูู ูุนุฑูุงุช ููุงููุงุช ุงููุธุงู ุ ูููุณ ุนูู ุฃุณูุงุฆูู ุงููุณุฌูุฉ ูู ููู ุงูุชุนุฑูู.  ูุจู ุงูุงุณุชุฎุฏุงู ุ ูููู ููุช ุชุดุบูู ุงูุญุงููุฉ ุจุชุนููููุง ุฅูู ูุนุฑูุงุช.  ุงูููุทุฉ ุงููููุฉ ูู ุฃู ููุงููุงุช ุงููุธุงู ูููู ุฃู ุชุญุชูู ุนูู ูุนุฑูุงุช ูุฎุชููุฉ ุชูุงููุง ุ ุงุนุชูุงุฏูุง ุนูู ุจููุฉ ุงููุธุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฏุนุงุก ูุธุงู <code>recvfrom</code> (ุงููุณุชุฎุฏู ููุญุตูู ุนูู ูุนูููุงุช ูู ูุฃุฎุฐ ุชูุตูู) ูู ูุนุฑูู = 64 ุนูู ุฃูุธูุฉ x64 ููุนุฑู = 517 ุนูู x86.  <a href="">ููุง</a> ููููู ุงูุนุซูุฑ ุนูู ูุงุฆูุฉ ุจุฌููุน ุงุณุชุฏุนุงุกุงุช ุงููุธุงู ูุจููุฉ x86-x64. <br><br>  ูุณุฑุฏ ูุณู <code>syscalls</code> ุฌููุน ููุงููุงุช ุงููุธุงู ููุดูุฑ ุฅูู ูุง ูุฌุจ ูุนูู ุจูุง.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅูุดุงุก ูุงุฆูุฉ ุจูุถุงุก ุนู ุทุฑูู ุชุนููู <code>defaultAction</code> ุนูู <code>SCMP_ACT_ERRNO</code> ุ ูุชุนููู ููุงููุงุช ุฅูู ูุณู <code>SCMP_ACT_ALLOW</code> ุฅูู <code>SCMP_ACT_ALLOW</code> .  ูุจุงูุชุงูู ุ ูุง ุชุณูุญ ุฅูุง ุจุงูููุงููุงุช ุงููุณุฌูุฉ ูู ูุณู <code>syscalls</code> ูุชุญุธุฑ ุฌููุน ุงูููุงููุงุช ุงูุฃุฎุฑู.  ูููุงุฆูุฉ ุงูุณูุฏุงุก ุ ูุฌุจ ุนููู ุชุบููุฑ ุงูููู ูุงูุฅุฌุฑุงุกุงุช <code>defaultAction</code> ุฅูู ุนูุณ ุฐูู. <br><br>  ุงูุขู ูุฌุจ ููู ุจุถุน ูููุงุช ุนู ุงููุฑูู ุงูุฏูููุฉ ุงูุชู ููุณุช ูุงุถุญุฉ.  ูุฑุฌู ููุงุญุธุฉ ุฃู ุงูุชูุตูุงุช ุงููุงุฑุฏุฉ ุฃุฏูุงู ุชุฃุชู ูู ุญูููุฉ ุฃูู ุชููู ุจูุดุฑ ูุฌููุนุฉ ูู ุชุทุจููุงุช ุงูุฃุนูุงู ูู Kubernetes ููู ุงูููู ุจุงููุณุจุฉ ูู ุฃู ุชุนูู ุจุฃูู ุงูุงูุชูุงุฒุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  1. AllowPrivilegeEscalation = ุฎุทุฃ </h2><br>  ูุญุชูู <code>securityContext</code> ุงูุญุงููุฉ ุนูู ูุนููุฉ <code>AllowPrivilegeEscalation</code> .  ุฅุฐุง ุชู ุชุนูููู ุนูู " <code>false</code> ุ <a href="https://www.kernel.org/doc/Documentation/prctl/no_new_privs.txt"><code>no_new_priv</code></a> ุจุชูุณูู <a href="https://www.kernel.org/doc/Documentation/prctl/no_new_privs.txt"><code>no_new_priv</code></a> ุนูู ( <code>on</code> ).  ูููู ูุนูู ูุฐู ุงููุนููุฉ ูุงุถุญูุง ูู ุงูุงุณู: ูุง ูุณูุญ ููุญุงููุฉ ุจุจุฏุก ุนูููุงุช ุฌุฏูุฏุฉ ุจุงูุชูุงุฒุงุช ุฃูุจุฑ ูู ุชูู ุงูุชู ูุฏููุง. <br><br>  ูุชูุซู ุฃุญุฏ ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ููุฐู ุงููุนููุฉ ุงูุชู ุชู ุชุนููููุง ุนูู <code>true</code> (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ) ูู ุฃู ููุช ุชุดุบูู ุงูุญุงููุฉ ูุทุจู ููู ุชุนุฑูู seccomp ูู ุจุฏุงูุฉ ุนูููุฉ ุจุฏุก ุงูุชุดุบูู.  ูุจุงูุชุงูู ุ ูุฌุจ ุงูุณูุงุญ ูุฌููุน ููุงููุงุช ุงููุธุงู ุงููุงุฒูุฉ ูุจุฏุก ุงูุนูููุงุช ุงูุฏุงุฎููุฉ ูููุช ุงูุชุดุบูู (ุนูู ุณุจูู ุงููุซุงู ุ ุชุนููู ูุนุฑูุงุช ุงููุณุชุฎุฏู / ุงููุฌููุนุฉ ุ ูุฅุณูุงุท ุจุนุถ ุงููุฏุฑุงุช) ูู ููู ุงูุชุนุฑูู. <br><br>  ุณุชุญุชุงุฌ ุงูุญุงููุฉ ุงูุชู ุชููู ุจุชูููุฐ <code>echo hi</code> ุงูุนุงุฏู ุฅูู ุงูุฃุฐููุงุช ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"defaultAction"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ERRNO"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"architectures"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86_64"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X32"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"syscalls"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"names"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"arch_prctl"</span></span>, <span class="hljs-string"><span class="hljs-string">"brk"</span></span>, <span class="hljs-string"><span class="hljs-string">"capget"</span></span>, <span class="hljs-string"><span class="hljs-string">"capset"</span></span>, <span class="hljs-string"><span class="hljs-string">"chdir"</span></span>, <span class="hljs-string"><span class="hljs-string">"close"</span></span>, <span class="hljs-string"><span class="hljs-string">"execve"</span></span>, <span class="hljs-string"><span class="hljs-string">"exit_group"</span></span>, <span class="hljs-string"><span class="hljs-string">"fstat"</span></span>, <span class="hljs-string"><span class="hljs-string">"fstatfs"</span></span>, <span class="hljs-string"><span class="hljs-string">"futex"</span></span>, <span class="hljs-string"><span class="hljs-string">"getdents64"</span></span>, <span class="hljs-string"><span class="hljs-string">"getppid"</span></span>, <span class="hljs-string"><span class="hljs-string">"lstat"</span></span>, <span class="hljs-string"><span class="hljs-string">"mprotect"</span></span>, <span class="hljs-string"><span class="hljs-string">"nanosleep"</span></span>, <span class="hljs-string"><span class="hljs-string">"newfstatat"</span></span>, <span class="hljs-string"><span class="hljs-string">"openat"</span></span>, <span class="hljs-string"><span class="hljs-string">"prctl"</span></span>, <span class="hljs-string"><span class="hljs-string">"read"</span></span>, <span class="hljs-string"><span class="hljs-string">"rt_sigaction"</span></span>, <span class="hljs-string"><span class="hljs-string">"statfs"</span></span>, <span class="hljs-string"><span class="hljs-string">"setgid"</span></span>, <span class="hljs-string"><span class="hljs-string">"setgroups"</span></span>, <span class="hljs-string"><span class="hljs-string">"setuid"</span></span>, <span class="hljs-string"><span class="hljs-string">"stat"</span></span>, <span class="hljs-string"><span class="hljs-string">"uname"</span></span>, <span class="hljs-string"><span class="hljs-string">"write"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ALLOW"</span></span> } ] }</code> </pre> <br>  <i>( <a href="https://gist.github.com/pjbgf/018658f1aeea1ef696b451bde8c33a8f">ูุฑุญุจูุง ุ seccomp.json</a> )</i> <br><br>  ... ุจุฏูุงู ูู ูุฐู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"defaultAction"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ERRNO"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"architectures"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86_64"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X86"</span></span>, <span class="hljs-string"><span class="hljs-string">"SCMP_ARCH_X32"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"syscalls"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"names"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"arch_prctl"</span></span>, <span class="hljs-string"><span class="hljs-string">"brk"</span></span>, <span class="hljs-string"><span class="hljs-string">"close"</span></span>, <span class="hljs-string"><span class="hljs-string">"execve"</span></span>, <span class="hljs-string"><span class="hljs-string">"exit_group"</span></span>, <span class="hljs-string"><span class="hljs-string">"futex"</span></span>, <span class="hljs-string"><span class="hljs-string">"mprotect"</span></span>, <span class="hljs-string"><span class="hljs-string">"nanosleep"</span></span>, <span class="hljs-string"><span class="hljs-string">"stat"</span></span>, <span class="hljs-string"><span class="hljs-string">"write"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"SCMP_ACT_ALLOW"</span></span> } ] }</code> </pre> <br>  <i>( <a href="https://gist.github.com/pjbgf/7c860ad818e3724d65a96ffdae5da808">hi-container-seccomp.json</a> )</i> <br><br>  ูููู ูุฑุฉ ุฃุฎุฑู ุ ููุงุฐุง ูุฐู ูุดููุฉุ  ุดุฎุตูุง ุ ุฃุชุฌูุจ ุฅุฏุฑุงุฌ ูุงุฆูุฉ ุงูููุงููุงุช ุงูุชุงููุฉ ูู ุงููุธุงู (ุฅุฐุง ูู ุชูู ููุงู ุญุงุฌุฉ ุฅูููุง ุจุงููุนู): <code>capset</code> ุ <code>set_tid_address</code> ุ <code>setgid</code> ุ <code>setgroups</code> ู <code>setuid</code> .  ููุน ุฐูู ุ ูุฅู ุงูุตุนูุจุฉ ุงูุญููููุฉ ุชููู ูู ุฃูู ูู ุฎูุงู ุงูุณูุงุญ ููุนูููุงุช ุงูุชู ูุง ุชุชุญูู ูููุง ูุทูููุง ุ ูุฅูู ุชุฑุจุท ุงููููุงุช ุงูุดุฎุตูุฉ ูู ุชูููุฐ ููุช ุชุดุบูู ุงูุญุงููุฉ.  ุจูุนูู ุขุฎุฑ ุ ูุฏ ุชูุงุฌูู ููููุง ูุง ุญูููุฉ ุฃูู ุจุนุฏ ุชุญุฏูุซ ุจูุฆุฉ ููุช ุชุดุบูู ุงูุญุงููุฉ (ุจูุงุณุทุชู ุ ุฃู ุนูู ุงูุฃุฑุฌุญ ูู ููุจู ูููุฑ ุงูุฎุฏูุฉ ุงูุณุญุงุจูุฉ) ุ ุณุชุชููู ุงูุญุงููุงุช ูุฌุฃุฉ ุนู ุงูุจุฏุก. <br><br>  <b>ูุตูุญุฉ ุฑูู 1</b> : ุชุดุบูู ุงูุญุงููุงุช ุจุงุณุชุฎุฏุงู <code>AllowPrivilegeEscaltion=false</code> .  ุณูุคุฏู ุฐูู ุฅูู ุชูููู ุญุฌู ูููุงุช ุชุนุฑูู seccomp ูุฌุนููุง ุฃูู ุญุณุงุณูุฉ ููุชุบููุฑุงุช ูู ููุช ุชุดุบูู ุงูุญุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  2. ุฅุนุฏุงุฏ ูููุงุช ุชุนุฑูู ุญุงููุฉ ุงููุณุชูู </h2><br>  ูููู ุชุนููู ููู ุชุนุฑูู seccomp ุนูู ูุณุชูู ุฌุฑุงุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">annotations: seccomp.security.alpha.kubernetes.io/pod: "localhost/profile.json"</code> </pre> <br>  ... ุฃู ุนูู ูุณุชูู ุงูุญุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">annotations: container.security.alpha.kubernetes.io/&lt;container-name&gt;: "localhost/profile.json"</code> </pre> <br>  <i>ูุฑุฌู ููุงุญุธุฉ ุฃู ุจูุงุก ุงูุฌููุฉ ุฃุนูุงู ุณูู ูุชุบูุฑ ุนูุฏูุง <a href="https://github.com/kubernetes/enhancements/pull/1148">ูุตุจุญ</a> Sec Kompnet Kubernet <a href="https://github.com/kubernetes/enhancements/pull/1148">GA</a> (ูุฐุง ุงูุญุฏุซ ูุชููุน ูู ุฅุตุฏุงุฑ Kubernetes ุงูุชุงูู - 1.18 ุชูุฑูุจูุง. ุงูุชุฑุฌูุฉ.).</i> <br><br>  ูููู ูู ุงููุงุณ ูุนุฑููู ุฃู Kubernetes ูุงู ูุฏูู ุฏุงุฆููุง <a href="https://github.com/kubernetes/kubernetes/issues/84623">ุฎุทุฃ</a> ูุธุฑูุง ูุฃูู ุชู ุชุทุจูู ูููุงุช ุชุนุฑูู seccomp ุนูู <a href="https://www.ianlewis.org/en/almighty-pause-container">ุญุงููุฉ ุงูุฅููุงู ุงููุคูุช</a> .  ูุนูุถ ููุช ุงูุชุดุบูู ุฌุฒุฆูุงู ุนู ูุฐุง ุงูุนูุจ ุ ููู ูุฐู ุงูุญุงููุฉ ูุง ุชุฎุชูู ูู ุงููุฑูู ุ ุญูุซ ูุชู ุงุณุชุฎุฏุงููุง ูุชูููู ุจููุชูุง ุงูุฃุณุงุณูุฉ. <br><br>  ุงููุดููุฉ ูู ุฃู ูุฐู ุงูุญุงููุฉ ุชุจุฏุฃ ุฏุงุฆููุง ุจู <code>AllowPrivilegeEscalation=true</code> ุ ููุง ูุคุฏู ุฅูู ุญุฏูุซ ุงููุดููุงุช <code>AllowPrivilegeEscalation=true</code> ูู ุงูููุฑุฉ 1 ุ ููุง ูููู ุชุบููุฑ ูุฐุง. <br><br>  ุนูุฏ ุชุทุจูู ูููุงุช ุชุนุฑูู seccomp ุนูู ูุณุชูู ุงูุญุงููุฉ ุ ููููู ุชุฌูุจ ูุฐุง ุงููุฎ ููููู ุฅูุดุงุก ููู ุชุนุฑูู "ุณูุชู ุดุญุฐู" ูุญุงููุฉ ูุนููุฉ.  ูุฌุจ ุงูููุงู ุจุฐูู ุญุชู ูููู ุงููุทูุฑูู ุจุฅุตูุงุญ ุงูุฎูู ูุฅุชุงุญุฉ ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ (ุฑุจูุง 1.18ุ) ููุฌููุน. <br><br>  <b>ูุตูุญุฉ ุฑูู 2</b> : ุชุนููู ูููุงุช ุชุนุฑูู seccomp ุนูู ูุณุชูู ุงูุญุงููุฉ. <br><br>  ุจุงููุนูู ุงูุนููู ุ ุนุงุฏุฉ ูุง ุชููู ูุฐู ุงููุงุนุฏุฉ ุจูุซุงุจุฉ ุฅุฌุงุจุฉ ุดุงููุฉ ุนูู ุงูุณุคุงู: "ููุงุฐุง ูุนูู ููู ุชุนุฑูู seccomp ุงูุฎุงุต ุจู ูุน <code>docker run</code> ุ ูููู ูุง ูุนูู ุจุนุฏ ุงููุดุฑ ูู ูุฌููุนุฉ Kubernetesุ" <br><br><h2 style=";text-align:right;direction:rtl">  3. ุงุณุชุฎุฏุงู ููุช ุงูุชุดุบูู / ุงูุงูุชุฑุงุถู ูุญู ุฃุฎูุฑ </h2><br>  ูุฏู Kubernetes ุฎูุงุฑุงู ููููุงุช ุงูุชุนุฑูู ุงููุถูููุฉ: <code>runtime/default</code> ุงูุฅุนุฏุงุฏ ุงูุงูุชุฑุงุถู ูุงูุฅุฑุณุงุก <code>docker/default</code> .  ูุชู ุชูููุฐ ููุงููุง ุจูุงุณุทุฉ ููุช ุชุดุบูู ุงูุญุงููุฉ ุ ูููุณ Kubernetes.  ูุฐูู ุ ูุฏ ุชุฎุชูู ุญุณุจ ููุช ุงูุชุดุบูู ุงููุณุชุฎุฏู ูุฅุตุฏุงุฑู. <br><br>  ุจูุนูู ุขุฎุฑ ุ ูุชูุฌุฉ ูุชุบููุฑ ููุช ุงูุชุดุบูู ุ ูููู ููุญุงููุฉ ุงููุตูู ุฅูู ูุฌููุนุฉ ุฃุฎุฑู ูู ููุงููุงุช ุงููุธุงู ุงูุชู ูููููุง ุงุณุชุฎุฏุงููุง ุฃู ุนุฏู ุงุณุชุฎุฏุงููุง.  ุชุณุชุฎุฏู ูุนุธู ุฃููุงุช ุงูุชุดุบูู <a href="">ุชุทุจูู Docker</a> .  ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ููู ุงูุชุนุฑูู ูุฐุง ุ ูุชุฃูุฏ ูู ุฃูู ููุงุณุจู. <br><br>  ุชู ุฅููุงู ููู ุงูุชุนุฑูู ุงูุฎุงุต ุจุงูุฅุฑุณุงุก <code>docker/default</code> ููุฐ Kubernetes 1.11 ุ ูุฐุง ุชุฌูุจ ุงุณุชุฎุฏุงูู. <br><br>  ูู ุฑุฃูู ุ ููู ุชุนุฑูู <code>runtime/default</code> ูุซุงูู ููุบุฑุถ ุงูุฐู ุชู ุฅูุดุงุคู ูู ุฃุฌูู: ูุญูุงูุฉ ุงููุณุชุฎุฏููู ูู ุงููุฎุงุทุฑ ุงููุฑุชุจุทุฉ <code>docker run</code> ุนูู ุฃุฌูุฒุชูู.  ููุน ุฐูู ุ ุฅุฐุง ุชุญุฏุซูุง ุนู ุชุทุจููุงุช ุงูุฃุนูุงู ุงูุชู ูุชู ุชุดุบูููุง ูู ูุฌููุนุงุช Kubernetes ุ ูุฅููู ุฃุฌุฑุค ุนูู ุงูุงุฏุนุงุก ุจุฃู ููู ุงูุชุนุฑูู ูุฐุง ููุชูุญ ููุบุงูุฉ ูุฃู ุนูู ุงููุทูุฑูู ุงูุชุฑููุฒ ุนูู ุฅูุดุงุก ูููุงุช ุชุนุฑูู ูุชุทุจููุงุชูู (ุฃู ุฃููุงุน ุงูุชุทุจููุงุช). <br><br>  <b>ูุตูุญุฉ ุฑูู 3</b> : ุฅูุดุงุก ูููุงุช ุชุนุฑูู seccomp ูุชุทุจููุงุช ูุญุฏุฏุฉ.  ุฅุฐุง ูู ููู ุฐูู ูููููุง ุ ููู ุจุงูุชุนุงูู ูุน ูููุงุช ุงูุชุนุฑูู ูุฃููุงุน ุงูุชุทุจููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุฅูุดุงุก ููู ุชุนุฑูู ูุชูุฏู ูุชุถูู ุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช Golang web application.  ููุท ูููุงุฐ ุฃุฎูุฑ ุงุณุชุฎุฏู ููุช ุงูุชุดุบูู / ุงูุงูุชุฑุงุถู. <br><br>  ูู ุงูููุดูุฑุงุช ุงููุณุชูุจููุฉ ุ ุณุฃุฎุจุฑู ุจููููุฉ ุฅูุดุงุก ูููุงุช ุชุนุฑูู secccomp ุจุฑูุญ SecDevOps ุ ูุฃุชูุชุฉ ูุงุฎุชุจุงุฑูุง ูู ุฎุทูุท ุงูุฃูุงุจูุจ.  ุจูุนูู ุขุฎุฑ ุ ูู ูููู ูุฏูู ุฃู ูุจุฑุฑ ูุนุฏู ุงูุชุจุฏูู ุฅูู ูููุงุช ุงูุชุนุฑูู ุงูุฎุงุตุฉ ุจุชุทุจููุงุช ูุนููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  4. ุบูุฑ ูุญุฏูุฏ ููุณ ุฎูุงุฑูุง </h2><br>  ูู <a href="https://www.cncf.io/blog/2019/08/06/open-sourcing-the-kubernetes-security-audit/">ุฃูู ุชุฏููู ุฃููู ูู Kubernetes ุ</a> ุงุชุถุญ ุฃูู <a href="https://github.com/kubernetes/kubernetes/issues/81115">ุชู ุชุนุทูู seccomp</a> ุจุดูู ุงูุชุฑุงุถู.  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ูู ุชุญุฏุฏ <code>PodSecurityPolicy</code> ุดุฃูู ุฃู ูููููู ูู ุงููุชูุฉ ุ ูุฅู ุฌููุน ุงููุฑูู ุงูุชู ูู ูุชู ุชุนุฑูู ููู ุชุนุฑูู seccomp ููุง ุณุชุนูู ูู <code>seccomp=unconfined</code> . <br><br>  ูุนูู ุงูุนูู ูู ูุฐุง ุงููุถุน ููุฏุงู ุทุจูุฉ ูุงููุฉ ูู ุงูุนุฒู ุ ููุง ูููุฑ ุญูุงูุฉ ุนูููุฏูุฉ.  ูุฐุง ุงูููุฌ ูุง ููุตุญ ุจู ูุชุฎุตุตู ุงูุฃูู. <br><br>  <b>ุงููุตูุญุฉ ุฑูู 4</b> : ูุฌุจ ุฃูุง ุชุนูู ุฃู ุญุงููุฉ ูู ูุชูุฉ ูู <code>seccomp=unconfined</code> ุ ุฎุงุตุฉ ูู ุจูุฆุงุช ุงูุฅูุชุงุฌ. <br><br><h2 style=";text-align:right;direction:rtl">  5. "ูุถุน ุงูุชุฏููู" </h2><br>  ูุฐู ุงูููุทุฉ ููุณุช ูุฑูุฏุฉ ุจุงููุณุจุฉ ุฅูู Kubernetes ุ ููููุง ูุง ุชุฒุงู ุชูุฏุฑุฌ ูู ูุฆุฉ "ูุง ูุฌุจ ุฃู ุชุนุฑูู ูุจู ุฃู ุชุจุฏุฃ". <br><br>  ููุฏ ุญุฏุซ ุฃู ุฅูุดุงุก ูููุงุช ุชุนุฑูู seccomp ูุงู ุฏุงุฆููุง ุนูููุง ุตุนุจูุง ููุงู ูุนุชูุฏ ุฅูู ุญุฏ ูุจูุฑ ุนูู ุงูุชุฌุฑุจุฉ ูุงูุฎุทุฃ.  ูุงูุญูููุฉ ูู ุฃู ุงููุณุชุฎุฏููู ุจุจุณุงุทุฉ ูุง ุชุชุงุญ ููู ุงููุฑุตุฉ ูุงุฎุชุจุงุฑูุง ูู ุจูุฆุงุช ุงูุฅูุชุงุฌ ุฏูู ุงููุฎุงุทุฑุฉ "ุจุฅุณูุงุท" ุงูุชุทุจูู. <br><br>  ุจุนุฏ ุธููุฑ kernel Linux 4.14 ุ ุฃุตุจุญ ูู ุงููููู ุชุดุบูู ุฃุฌุฒุงุก ูู ุงูููู ุงูุดุฎุตู ูู ูุถุน ุงูุชุฏููู ุ ูุชุณุฌูู ุงููุนูููุงุช ุญูู ุฌููุน ููุงููุงุช ุงููุธุงู ูู syslog ุ ูููู ููุณ ุญุธุฑูุง.  ููููู ุชูุดูุท ูุฐุง ุงููุถุน ุจุงุณุชุฎุฏุงู ุงููุนููุฉ <code>SCMT_ACT_LOG</code> : <br><br>  <i><b>SCMP_ACT_LOG</b> : ูู ูุคุซุฑ seccomp ุนูู ุชุดุบูู ุณูุณูุฉ <b>ุงูุฑุณุงุฆู ุงูุชู</b> ุชุฌุฑู ููุงููุฉ ูุธุงู ุฅุฐุง ูู ุชูุน ุถูู ุฃู ูุงุนุฏุฉ ูู ุนุงูู ุงูุชุตููุฉ ุ ูููู ุณูุชู ุชุณุฌูู ูุนูููุงุช ุญูู ุงุณุชุฏุนุงุก ุงููุธุงู.</i> <br><br>  ูููุง ููู ูููุฐุฌ ูุงุณุชุฑุงุชูุฌูุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูููุฒุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณูุญ ุจููุงููุงุช ุงููุธุงู ุงููุทููุจุฉ. </li><li style=";text-align:right;direction:rtl">  ุญุธุฑ ุฃูุธูุฉ ุงูุงุชุตุงู ุงููุนุฑููุฉ ุจุฃููุง ุบูุฑ ูููุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุณุฌูู ุงููุนูููุงุช ุญูู ุฌููุน ุงูููุงููุงุช ุงูุฃุฎุฑู ูู ุงูุณุฌู. </li></ol><br>  ูุซุงู ูุจุณุท ูุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{ "defaultAction": "SCMP_ACT_LOG", "architectures": [ "SCMP_ARCH_X86_64", "SCMP_ARCH_X86", "SCMP_ARCH_X32" ], "syscalls": [ { "names": [ "arch_prctl", "sched_yield", "futex", "write", "mmap", "exit_group", "madvise", "rt_sigprocmask", "getpid", "gettid", "tgkill", "rt_sigaction", "read", "getpgrp" ], "action": "SCMP_ACT_ALLOW" }, { "names": [ "add_key", "keyctl", "ptrace" ], "action": "SCMP_ACT_ERRNO" } ] }</code> </pre> <br>  <i>( <a href="https://gist.github.com/pjbgf/fa4f7a89937c486d940ac8ccf48379c9">ูุชูุณุทุฉ ูุฎุชูุทุฉ seccomp.json</a> )</i> <br><br>  ููู ุชุฐูุฑ ุฃูู ุจุญุงุฌุฉ ุฅูู ุญุธุฑ ุฌููุน ุงูููุงููุงุช ุงููุนุฑููุฉ ุจุฃููุง ุบูุฑ ูุณุชุฎุฏูุฉ ูุงูุชู ูุฏ ุชุถุฑ ุงููุชูุฉ.  ุฃุณุงุณ ุฌูุฏ ููุฅุฏุฑุงุฌ ูู <a href="https://docs.docker.com/engine/security/seccomp/">ูุซุงุฆู Docker</a> ุงูุฑุณููุฉ.  ูุดุฑุญ ุจุงูุชูุตูู ุฃู ููุงููุงุช ุงููุธุงู ุชู ุญุธุฑูุง ูู ููู ุงูุชุนุฑูู ุงูุงูุชุฑุงุถู ูููุงุฐุง. <br><br>  ููุน ุฐูู ุ ููุงู ุงูุตูุฏ ูุงุญุฏ.  ุนูู ุงูุฑุบู ูู ุฃู <code>SCMT_ACT_LOG</code> ูุฏุนูููุง ูู ููุจู Linux kernel ููุฐ ููุงูุฉ ุนุงู 2017 ุ ุฅูุง ุฃูู ูู ูุฏุฎู ูุธุงู Kubernetes ุฅูุง ูุคุฎุฑูุง.  ูุฐูู ุ ูุงุณุชุฎุฏุงู ูุฐู ุงูุทุฑููุฉ ุ ุณุชุญุชุงุฌ ุฅูู ุฅุตุฏุงุฑ Linux 4.14 kernel ู runC ูุง ููู ุนู <a href="https://github.com/opencontainers/runc/releases/tag/v1.0.0-rc9">v1.0.0-rc9</a> . <br><br>  <b>ูุตูุญุฉ ุฑูู 5</b> : ููููู ุฅูุดุงุก ููู ุชุนุฑูู ูุถุน ุงูุชุฏููู ููุงุฎุชุจุงุฑ ูู ุงูุฅูุชุงุฌ ูู ุฎูุงู ุงูุฌูุน ุจูู ุงูููุงุฆู ุจุงูุฃุจูุถ ูุงูุฃุณูุฏ ุ ูุชุณุฌูู ุฌููุน ุงูุงุณุชุซูุงุกุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  6. ุงุณุชุฎุฏุงู ุงูููุงุฆู ุงูุจูุถุงุก </h2><br>  ูุชุทูุจ ุฅูุดุงุก ููุงุฆู ุจูุถุงุก ุจุฐู ุฌููุฏ ุฅุถุงููุฉ ุ ุญูุซ ูุชุนูู ุนููู ุชุญุฏูุฏ ูู ููุงููุฉ ูุฏ ูุญุชุงุฌ ุฅูููุง ุงูุชุทุจูู ุ ูููู ูุฐุง ุงูุฃุณููุจ ูุญุณู ุงูุฃูุงู ุจุดูู ูุจูุฑ: <br><br><blockquote style=";text-align:right;direction:rtl">  <i>ููุตู ุจุดุฏุฉ ุจุงุณุชุฎุฏุงู ููุฌ ุงููุงุฆูุฉ ุงูุจูุถุงุก ูุฃูู ุฃุจุณุท ูุฃูุซุฑ ููุซูููุฉ.</i>  <i>ุณุชุญุชุงุฌ ุงููุงุฆูุฉ ุงูุณูุฏุงุก ุฅูู ุชุญุฏูุซ ูููุง ุชูุช ุฅุถุงูุฉ ุงุชุตุงู ูุธุงู ูุญุชูู ุฃู ูููู ุฎุทูุฑูุง (ุฃู ุนูุงูุฉ / ุฎูุงุฑ ุฎุทูุฑ ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ูู ุงููุงุฆูุฉ ุงูุณูุฏุงุก).</i>  <i>ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ุบุงูุจูุง ุชุบููุฑ ุนุฑุถ ุงููุนููุฉ ุฏูู ุชุบููุฑ ุฌููุฑูุง ูุจุงูุชุงูู ุงูุชุญุงูู ุนูู ูููุฏ ุงููุงุฆูุฉ ุงูุณูุฏุงุก.</i> </blockquote><br>  ุจุงููุณุจุฉ ูุชุทุจููุงุช Go ุ ููุช ุจุชุทููุฑ ุฃุฏุงุฉ ุฎุงุตุฉ ุชุฑุงูู ุงูุชุทุจูู ูุชุฌูุน ุฌููุน ุงูููุงููุงุช ุงูุชู ุชุชู ูู ููุช ุงูุชุดุบูู.  ุนูู ุณุจูู ุงููุซุงู ุ ููุชุทุจูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"test"</span></span>) }</code> </pre> <br>  ... ุชุดุบูู <code>gosystract</code> ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">go install https://github.com/pjbgf/gosystract gosystract --template=<span class="hljs-string"><span class="hljs-string">'{{- range . }}{{printf "\"%s\",\n" .Name}}{{- end}}'</span></span> application-path</code> </pre> <br>  ... ูุงุญุตู ุนูู ุงููุชูุฌุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">"sched_yield", "futex", "write", "mmap", "exit_group", "madvise", "rt_sigprocmask", "getpid", "gettid", "tgkill", "rt_sigaction", "read", "getpgrp", "arch_prctl",</code> </pre> <br>  ูุฐุง ุญุชู ุงูุขู ูุฌุฑุฏ ูุซุงู - ุงูุชูุงุตูู ุญูู ุงูุฃุฏูุงุช ุณุชููู ุฃูุซุฑ. <br><br>  <b>ุงููุตูุญุฉ ุฑูู 6</b> : ุงูุณูุงุญ ููููุงููุงุช ุงูุชู ุชุญุชุงุฌูุง ุญููุง ูุญุธุฑูุง ุนูู ุฃู ุดุฎุต ุขุฎุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  7. ุถุน ุงูุฃุณุงุณ (ุฃู ุงูุงุณุชุนุฏุงุฏ ููุณููู ุบูุฑ ุงููุชููุน) </h2><br>  ุณุชุฑุงูุจ ุงูููุงุฉ ุงูุงูุชุซุงู ููููู ุงูุดุฎุตู ุจุบุถ ุงููุธุฑ ุนู ูุง ููุช ุจุชุณุฌููู ููู.  ุญุชู ูู ูู ููู ูุฐุง ูุง ุฃุฑุฏุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุญุธุฑ ุงููุตูู ุฅูู ุงูููุงููุงุช ูุซู <code>exit</code> ุฃู <code>exit_group</code> ุ ููู ุชุชููู ุงูุญุงููุฉ ูู ุฅููุงู ุงููููุฉ ุจุดูู ุตุญูุญ ูุญุชู ุฃูุฑ ุจุณูุท ูุซู <code>echo hi</code> <a href="https://github.com/kubernetes/kubernetes/issues/85191">ุณูุนูููุง</a> ููุชุฑุฉ ุบูุฑ ูุญุฏุฏุฉ.  ูุชูุฌุฉ ูุฐูู ุ ุณูู ุชุญุตู ุนูู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุนุงููุฉ ูู ุงููุชูุฉ: <br><br><img src="https://habrastorage.org/webt/32/no/rt/32nortxic_d8czgqc5jnbzrb-ps.png"><br><br>  ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ูุฏ ุชุฃุชู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <code>strace</code> ูู ุนูููุฉ ุงูุฅููุงุฐ - ุณุชูุถุญ ุงููุดููุฉ ุงูุชู ูุฏ ุชููู: <br><br><img src="https://habrastorage.org/webt/hg/l3/eh/hgl3ehuqz8a6eprrsycubq_n6hu.png"><br> <i><code>sudo strace -c -p 9331</code></i> <br> <br>  ุชุฃูุฏ ูู ุฃู ูููุงุช ุงูุชุนุฑูู ุชุญุชูู ุนูู ุฌููุน ููุงููุงุช ุงููุธุงู ุงูุชู ูุญุชุงุฌูุง ุงูุชุทุจูู ุฃุซูุงุก ุชุดุบููู. <br><br>  <b>ูุตูุญุฉ ุฑูู 7</b> : ุงูุชุจู ููุฃุดูุงุก ุงูุตุบูุฑุฉ ูุชุฃูุฏ ูู ุฃู ุฌููุน ููุงููุงุช ุงููุธุงู ุงูุถุฑูุฑูุฉ ูุฏุฑุฌุฉ ูู ุงููุงุฆูุฉ ุงูุจูุถุงุก. <br><br>  ูุน ูุฐุง ุ ููุชูู ุงูุฌุฒุก ุงูุฃูู ูู ุณูุณูุฉ ูู ุงูููุงูุงุช ุญูู ุงุณุชุฎุฏุงู seccomp ูู Kubernetes ุจุฑูุญ SecDevOps.  ูู ุงูุฃุฌุฒุงุก ุงูุชุงููุฉ ุณูุชุญุฏุซ ุนู ุณุจุจ ุฃูููุฉ ุฐูู ูููููุฉ ุฃุชูุชุฉ ุงูุนูููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  PS ูู ุงููุชุฑุฌู </h2><br>  ุงูุฑุฃ ุฃูุถูุง ูู ูุฏููุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/474012/">ุงูุฃูู ูุญุงููุงุช ุงูุณูู</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/465141/">33+ ุฃุฏูุงุช ุฃูุงู Kubernetes</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/440504/">ุนุงูู ุงููููุงุก ู Kubernetes ูู ุงูุจูุฆุงุช ุงูุชู ุชุชุทูุจ ุงูุฃูู</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://habr.com/ru/company/flant/blog/436300/">9 ูู ุฃูุถู ููุงุฑุณุงุช ุงูุฃูุงู ูู Kubernetes</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar481114/">https://habr.com/ru/post/ar481114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar481102/index.html">ุฅุตุฏุงุฑ ูุฌููุนุฉ ุฃุฏูุงุช .NET UI ุนุจุฑ ุงููุธุงู ุงูุฃุณุงุณู AvaloniaUI 0.9</a></li>
<li><a href="../ar481104/index.html">ูุฒุฌ OpenJDK ู NodeJS: ุงูุชูุงุนูุงุช ุจูู ุงููุบุงุช ูุงูููุฏุณุฉ ุงูุนููุฏูุฉ</a></li>
<li><a href="../ar481106/index.html">ููู ุงููุงุฑ LANIT DIY ุงููุณุฑุญูุฉ ุงููุฒููุฉ ูู ููุชุจู</a></li>
<li><a href="../ar481110/index.html">ุงุณุชุนุฑุงุถ Playme VEGA: ูุณุฌู ุงูุชุญุฑูุฑ ูุงูุณุฑุฏ ูุน ุดุงุดุฉ ุชุนูู ุจุงูููุณ ูุฌุจู ุงููุฑุขุฉ</a></li>
<li><a href="../ar481112/index.html">ูุงุฐุง ุณูููู "ุนููุฉ ุงููุถุบ" ุงูุชู ุชุจูุบ ูู ุงูุนูุฑ 5700 ุนุงููุง ุนู ุงูุดุฎุต ุงูุฐู ููุถุบูุงุ</a></li>
<li><a href="../ar481116/index.html">ูุดุฑ ุงููุดุงุฑูุงุช ุชููุงุฆููุง ูู ูุฌุชูุน VKontakte ุฅูู Discord</a></li>
<li><a href="../ar481118/index.html">ูุฌููู ุณุงูุชุง ูููุฒ 2019-2020: ุขุฎุฑ ูุชุจุงูู ูุฏุงูุง ุงูุณูุฉ ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar481120/index.html">ุฃูู ูููู ูุชู ุชุทุจูู ุฎูุงุฏู ุงูุญุงูุฉุ</a></li>
<li><a href="../ar481122/index.html">PostgreSQL Antipatterns: ุชูุฑูุฑ ุงููุฌููุนุงุช ูุงูุชุญุฏูุฏุงุช ุฅูู SQL</a></li>
<li><a href="../ar481124/index.html">ูุตุงุฆุญ ููุชุงุจุฉ ุฑูุฒ ุงูุชูุซูู ุงูุฐุงุชู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>