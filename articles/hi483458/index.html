<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНп ЁЯС╕ЁЯП╛ тЫДя╕П рдЧреНрд░реАрдирдкреАрдЧ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд╣рд╛рдпрдХ ЁЯд╛ЁЯП╗ ЁЯЧДя╕П ЁЯСЖЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ 
2. рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрдиреЗрдХреНрд╢рди 
3. рдХрдХреНрд╖рд╛ рдХрд╣рд╛рдБ рдЕрдиреБрд░реЛрдз рдХрд╛ рдкрд░рдорд╛рдгреБ рднрд╛рдЧ рдЬрдЯрд┐рд▓ рдХреНрд╡реЗрд░реА 
4. рдЕрдиреБрд░реЛрдз рдХрд╛ рдкрд░рдорд╛рдгреБ рднрд╛рдЧ 
5. рдЬрдЯрд┐рд▓ рдХреНрд╡реЗрд░реА 
6. рдХрдХреНрд╖рд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ 
7...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЧреНрд░реАрдирдкреАрдЧ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд╣рд╛рдпрдХ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483458/"><ol><li>  <a href="https://habr.com/ru/post/483458/">рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐</a> </li><li>  <a href="https://habr.com/ru/post/483458/">рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрдиреЗрдХреНрд╢рди</a> </li><li>  <a href="https://habr.com/ru/post/483458/">рдХрдХреНрд╖рд╛ рдХрд╣рд╛рдБ</a> <br><ul><li>  <a href="https://habr.com/ru/post/483458/">рдЕрдиреБрд░реЛрдз рдХрд╛ рдкрд░рдорд╛рдгреБ рднрд╛рдЧ</a> </li><li>  <a href="https://habr.com/ru/post/483458/">рдЬрдЯрд┐рд▓ рдХреНрд╡реЗрд░реА</a> </li></ul></li><li>  <a href="https://habr.com/ru/post/483458/">рдХрдХреНрд╖рд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ</a> </li><li>  <a href="https://habr.com/ru/post/483458/">рдХрдХреНрд╖рд╛ рдХреА рдХреНрд╡реЗрд░реА</a> <br><ul><li>  <a href="https://habr.com/ru/post/483458/">рдиреЗрд╕реНрдЯреЗрдб рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЪрдпрди</a> </li><li>  <a href="https://habr.com/ru/post/483458/">рдЦреЛрдЬ рдХреЗ рдирд╛рдо рдкрд░ рдЕрдкрдиреЗ рдЖрдк рд╕реЗ рдХрдИ рдорд┐рд▓рди</a> </li></ul></li></ol><br><pre><code class="sql hljs">тХФтХРтХРтХРтХЧтХФтХРтХРтХРтХЧтХФтХРтХРтХРтХЧтХФтХРтХРтХРтХЧтХФтХЧтФАтХФтХЧтФАтФАтФАтФАтХФтХРтХРтХРтХЧтХФтХРтХРтХЧтХФтХРтХРтХРтХЧ тХСтХФтХРтХРтХЭтХСтХФтХРтХЧтХСтХСтХФтХРтХРтХЭтХСтХФтХРтХРтХЭтХСтХЪтХРтХЭтХСтФАтФАтФАтФАтХСтХФтХРтХЧтХСтХЪтХЧтХФтХЭтХСтХФтХРтХРтХЭ тХСтХСтХФтХРтХЧтХСтХЪтХРтХЭтХСтХСтХЪтХРтХРтХЧтХСтХЪтХРтХРтХЧтХСтХФтХЧтФАтХСтФАтФАтФАтФАтХСтХЪтХРтХЭтХСтФАтХСтХСтФАтХСтХСтХФтХРтХЧ тХСтХСтХЪтХЧтХСтХСтХФтХЧтХФтХЭтХСтХФтХРтХРтХЭтХСтХФтХРтХРтХЭтХСтХСтХЪтХЧтХСтФАтФАтФАтФАтХСтХФтХРтХРтХЭтФАтХСтХСтФАтХСтХСтХЪтХЧтХС тХСтХЪтХРтХЭтХСтХСтХСтХСтХСтФАтХСтХЪтХРтХРтХЧтХСтХЪтХРтХРтХЧтХСтХСтФАтХСтХСтФАтФАтФАтФАтХСтХСтФАтФАтФАтХФтХЭтХЪтХЧтХСтХЪтХРтХЭтХС тХЪтХРтХРтХРтХЭтХЪтХЭтХЪтХЭтФАтХЪтХРтХРтХРтХЭтХЪтХРтХРтХРтХЭтХЪтХЭтФАтХЪтХЭтФАтФАтФАтФАтХЪтХЭтФАтФАтФАтХЪтХРтХРтХЭтХЪтХРтХРтХРтХЭ 5HHHG HH HHHHHHH 9HHHA HHHHHHHH5 HHHHHHHHHHHHHHHHHH 9HHHHH5 5HHHHHHHHHHHHHHHHHHHHHHHHHHH HHHHHHHHHHHHHHHHHHHHHHHHHHHH ;HHHHHHHHHHHHHHHHHHHHHHHHHHA H2 HHHHHHHHHHHHHHHHHHHHHH HHHHHHHHHHHHHHHHHHHHHHH9 HHHHHHHHHHHHHHHHHHHHHHH AHHHHHHHHHHHHHHHHHHHHHH HHHHHHHHHHHHHHHHHHHHH9 iHS HHHHHHHHHHHHHHHHHHHHHHhh HHHHHHHHHHHHHHHHHH AA HHHHHHHHHHHHHH3 &amp;H Hi HS Hr &amp; H&amp; H&amp; Hi</code> </pre> <a name="habracut"></a><br><h2 id="entry">  рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ </h2><br><p>  рдореИрдВ рдЖрдкрдХреЛ php рдореЗрдВ рдЕрдкрдиреА рдЫреЛрдЯреА рд╕реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдБред  рд╡рд╣ рдХрд┐рди рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ?  рдореИрдВрдиреЗ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХреНрдпреЛрдВ рдХрд┐рдпрд╛ рдФрд░ рдпрд╣ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рдХреНрдпреЛрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ?  рдЦреИрд░ рдЗрди рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  <strong>рдЧреНрд░реАрдирдкреАрдЧ</strong> (рдЗрд╕рдХреЗ рдмрд╛рдж <strong>рдЬреАрдкреА</strong> ) рдПрдХ рдЫреЛрдЯрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕рд╣рд╛рдпрдХ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХрд┐рд╕реА рднреА php рдврд╛рдВрдЪреЗ рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдкреВрд░рдХ рдХрд░ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдХрд┐рд╕реА рднреА <strong>GP</strong> рдЙрдкрдХрд░рдг рдХреА рддрд░рд╣, рдЗрд╕реЗ рдХреБрдЫ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рддреЗрдЬ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛ рдпрджрд┐ рдЖрдк рд╢реБрджреНрдз рдПрд╕рдХреНрдпреВрдПрд▓ рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд╡реЗрд░реА рд▓рд┐рдЦрдирд╛ рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕рдХреНрд░рд┐рдп рд░рд┐рдХреЙрд░реНрдб рдФрд░ рдЕрдиреНрдп рд╕рдорд╛рди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрд╛рдо рдкрд░ рдПрдХ рдУрд░реЗрдХрд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реИ рдФрд░ рдЕрдХреНрд╕рд░ рджрд░реНрдЬрдиреЛрдВ рдЬреЙрдиреНрд╕, plsql рдлрд╝рдВрдХреНрд╢рди, рдпреВрдирд┐рдпрди рдСрд▓ рдЗрддреНрдпрд╛рджрд┐ рдХреЗ рд╕рд╛рде рдХрдИ рд╕реНрдХреНрд░реАрди рдкрд░ рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрджрд┐, рдЗрд╕рд▓рд┐рдП рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдирд╣реАрдВ рдмрдЪрд╛ рд╣реИ рд▓реЗрдХрд┐рди рд╢реБрджреНрдз sql рдореЗрдВ рдкреНрд░рд╢реНрди рд▓рд┐рдЦреЗрдВред </p><br><p>  рд▓реЗрдХрд┐рди рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде, рдпрд╣ рд╕рд╡рд╛рд▓ рдЙрдарддрд╛ рд╣реИ: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХрд░рдиреЗ рдкрд░ рдПрд╕рдХреНрдпреВрдПрд▓ рдХреНрд╡реЗрд░реА рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдХрд╣рд╛рдБ рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИ?  <strong>рдЬреАрдкреА</strong> рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╣реИ, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, php рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╕рдВрдХрд▓рди рдкрд░, рдЬрд╣рд╛рдВ рдХрд┐рд╕реА рднреА рдЬрдЯрд┐рд▓рддрд╛ рдХрд╛ рдЕрдиреБрд░реЛрдзред </p><br><p>  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рдореБрдЭреЗ рдЗрд╕ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ (рд╕рд┐рд╡рд╛рдп, рджрд┐рд▓рдЪрд╕реНрдк рдЕрдиреБрднрд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП)?  рдпреЗ рддреАрди рдЪреАрдЬреЗрдВ рд╣реИрдВ: </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдПрдХ рдорд╛рдирдХ рдлреНрд▓реИрдЯ рдЙрддреНрддрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдиреЗрд╕реНрдЯреЗрдб, рдкреЗрдбрд╝ рдХреА рддрд░рд╣ рд╕рд░рдгреАред </p><br><div class="spoiler">  <b class="spoiler_title">рдпрд╣рд╛рдБ рдПрдХ рдорд╛рдирдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдирдореВрдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:</b> <div class="spoiler_text"><pre> <code class="php hljs">[ [<span class="hljs-number"><span class="hljs-number">0</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">790</span></span> ], [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">24</span></span> ], [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">75</span></span> ], [<span class="hljs-number"><span class="hljs-number">3</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> ], [<span class="hljs-number"><span class="hljs-number">4</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">0.12</span></span> ], [<span class="hljs-number"><span class="hljs-number">5</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">9</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ], [<span class="hljs-number"><span class="hljs-number">6</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> ], [<span class="hljs-number"><span class="hljs-number">7</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">0.12</span></span> ], [<span class="hljs-number"><span class="hljs-number">8</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">9</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ], [<span class="hljs-number"><span class="hljs-number">9</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> ], [<span class="hljs-number"><span class="hljs-number">10</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">0.12</span></span> ], [<span class="hljs-number"><span class="hljs-number">11</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">9</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ], [<span class="hljs-number"><span class="hljs-number">12</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">790</span></span> ], [<span class="hljs-number"><span class="hljs-number">13</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">24</span></span> ], [<span class="hljs-number"><span class="hljs-number">14</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">75</span></span> ], [<span class="hljs-number"><span class="hljs-number">15</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">790</span></span> ], [<span class="hljs-number"><span class="hljs-number">16</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">24</span></span> ], [<span class="hljs-number"><span class="hljs-number">17</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> [<span class="hljs-string"><span class="hljs-string">'type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'val_id'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">75</span></span> ] ]</code> </pre> </div></div><br><p>  рдПрдХ рдкреЗрдбрд╝ рдХреЗ рд╕рдорд╛рди рд╕рд░рдгреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╡рд╛рдВрдЫрд┐рдд рд░реВрдк рдореЗрдВ рд╕реНрд╡рдпрдВ рд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рдЙрддреНрдкрд╛рдж рдХреЗ рд▓рд┐рдП рдПрди рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рд╢реНрди рдмрдирд╛рдПрдВред  рдФрд░ рдЕрдЧрд░ рд╣рдореЗрдВ рдЫрдБрдЯрд╛рдИ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рдФрд░ рдЫрдБрдЯрд╛рдИ рдХреЗ рд╕рд╛рде рднреА?  <strong>рдЬреАрдкреА</strong> рдЗрди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред  рдпрд╣рд╛рдБ <strong>рдЬреАрдкреА рдХреЗ</strong> рд╕рд╛рде рдирдореВрдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ: </p><br><pre> <code class="php hljs">[ [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'prod_type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'car'</span></span> [<span class="hljs-string"><span class="hljs-string">'properties'</span></span>] =&gt; [ [<span class="hljs-number"><span class="hljs-number">1</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">790</span></span> ] [<span class="hljs-number"><span class="hljs-number">2</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">24</span></span> ] [<span class="hljs-number"><span class="hljs-number">3</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">75</span></span> ] ] ] [<span class="hljs-number"><span class="hljs-number">4</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'prod_type'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'phone'</span></span> [<span class="hljs-string"><span class="hljs-string">'properties'</span></span>] =&gt; [ [<span class="hljs-number"><span class="hljs-number">10</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> ] [<span class="hljs-number"><span class="hljs-number">8</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">' ()'</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">0.12</span></span> ] [<span class="hljs-number"><span class="hljs-number">9</span></span>] =&gt; [ [<span class="hljs-string"><span class="hljs-string">'name'</span></span>] =&gt; <span class="hljs-string"><span class="hljs-string">'   '</span></span> [<span class="hljs-string"><span class="hljs-string">'value'</span></span>] =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ] ] ] ]</code> </pre> <br><p>  рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдкреЗрдЬреЗрд╢рди рдФрд░ рд╕реЙрд░реНрдЯрд┐рдВрдЧ: <code>-&gt;pagination(1, 10)-&gt;sort('id')</code> ред </p><br><p>  рджреВрд╕рд░рд╛ рдХрд╛рд░рдг рдЕрдХреНрд╕рд░ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ (рдФрд░ рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ рдореБрдЦреНрдп рдХрд╛рд░рдг рд╣реИ)ред  рдпрджрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреБрдЫ рдЗрдХрд╛рдЗрдпрд╛рдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВ, рдФрд░ рдЗрди рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЗ рдЧреБрдг рдЧрддрд┐рд╢реАрд▓ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реИрдВ, рддреЛ рдЬрдм рдЖрдкрдХреЛ рдЙрдирдХреЗ рдЧреБрдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рдЖрдкрдХреЛ рд╕рдВрдкрддреНрддрд┐ рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рддрд╛рд▓рд┐рдХрд╛ (рдЬрд┐рддрдиреА рдмрд╛рд░ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ) рдЬреЛрдбрд╝рдиреА рд╣реЛрдЧреАред рдЧреБрдг рдЬрдм рдЦреЛрдЬ)ред  рддреЛ рдЬреАрдкреА рдЖрдкрдХреЛ рд╕рднреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ рдФрд░ рдЬрд╣рд╛рдВ рдХреНрд╡реЗрд░реА рд▓рдЧрднрдЧ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдЙрддреНрдкрдиреНрди рдХрд░реЗрдЧрд╛ред  рд▓реЗрдЦ рдХреЗ рдЕрдВрдд рдореЗрдВ рдореИрдВ рдЗрд╕ рдорд╛рдорд▓реЗ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реВрдВрдЧрд╛ред </p><br><p>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдпрд╣ рд╕рдм Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ mySql рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рднреА рд╣реИрдВред </p><br><p>  рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рджреВрд╕рд░реА рдмрд╛рдЗрдХ рдХрд╛ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рд╡рд┐рд╡реЗрдХрдкреВрд░реНрд╡рдХ рдЦреЛрдЬ рдХреА рдФрд░ рдореЗрд░реЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рдЦреЛрдЬрд╛ред  рдпрджрд┐ рдЖрдк рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЬрд╛рдирддреЗ рд╣реИрдВ рдЬреЛ рдЗрди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ - рдХреГрдкрдпрд╛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рд▓рд┐рдЦреЗрдВред </p><br><p>  рд╕реНрд╡рдпрдВ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдФрд░ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рдПрдХ рдкрд░реАрдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рд╕реАрдзреЗ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рдХреЗ рдмрд┐рдирд╛ рдХреЗрд╡рд▓ рд╕рд╛рд░ рд╣реЛрдЧрд╛ред  рдпрджрд┐ рдЖрдк рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдХрд┐ <strong>рдЬреАрдкреА</strong> рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЖрдк <a href="https://falbin.ru/documentation/greenpig">рдкреНрд░рд▓реЗрдЦрди</a> рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рдореЗрдВ рдореИрдВрдиреЗ рд╕рдм рдХреБрдЫ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╕рдордЭрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред </p><br><h2 id="libraryconnection">  рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрдиреЗрдХреНрд╢рди </h2><br><p>  рд╕рдВрдЧреАрддрдХрд╛рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <code>composer require falbin/green-pig-dao</code> </p><br><p>  рдлрд┐рд░ рдЖрдкрдХреЛ рдПрдХ рдХрд╛рд░рдЦрд╛рдирд╛ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдк рдЗрд╕ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </p><br><h2 id="where">  рдХрдХреНрд╖рд╛ рдХрд╣рд╛рдБ </h2><br><p>  рдЗрд╕ рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЖрдк рдХрд┐рд╕реА рднреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ sql рдХреНрд╡реЗрд░реА рдХреЗ рднрд╛рдЧ рдХрд╛ рд╕рдВрдХрд▓рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="partrequest">  рдЕрдиреБрд░реЛрдз рдХрд╛ рдкрд░рдорд╛рдгреБ рднрд╛рдЧ </h3><br><p>  рдХрд┐рд╕реА рдХреНрд╡реЗрд░реА рдХреЗ рд╕рдмрд╕реЗ рдЫреЛрдЯреЗ, рдкрд░рдорд╛рдгреБ рднрд╛рдЧ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдпрд╣ рдПрдХ рд╕рд░рдгреА рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд рд╣реИ: <code>[, , ]</code> <br>  рдЙрджрд╛рд╣рд░рдг: <code>['name', 'like', '%%']</code> </p><br><ul><li>  рд╕рд░рдгреА рдХрд╛ <strong>рдкрд╣рд▓рд╛ рддрддреНрд╡</strong> рд╕рд┐рд░реНрдл рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИ, рдЬрд┐рд╕реЗ рдмрджрд▓рд╛рд╡ рдХреЗ рдмрд┐рдирд╛ sql рдХреНрд╡реЗрд░реА рдореЗрдВ рдбрд╛рд▓рд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЖрдк рдЗрд╕рдореЗрдВ sql рдлрд╝рдВрдХреНрд╢рди рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг: <code>['LOWER(name)', 'like', '%%']</code> </li><li>  <strong>рджреВрд╕рд░рд╛ рддрддреНрд╡</strong> рднреА рджреЛ рдСрдкрд░реЗрдВрдб рдХреЗ рдмреАрдЪ рдмрджрд▓рд╛рд╡ рдХреЗ рдмрд┐рдирд╛ рдПрд╕рдХреНрдпреВрдПрд▓ рдореЗрдВ рдбрд╛рд▓рд╛ рдЧрдпрд╛ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИред  рдпрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рди рд▓реЗ рд╕рдХрддрд╛ рд╣реИ: <em>=,&gt;, &lt;,&gt; =, &lt;=, &lt;&gt;, рдЬреИрд╕реЗ, рдмреАрдЪ рдореЗрдВ рдирд╣реАрдВ, рдмреАрдЪ рдореЗрдВ рдирд╣реАрдВ, рдЬреИрд╕реЗ, рдореЗрдВ рдирд╣реАрдВ</em> ред </li><li>  рд╕рд░рдгреА <strong>рдХрд╛ рддреАрд╕рд░рд╛ рддрддреНрд╡</strong> рдпрд╛ рддреЛ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдпрд╛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкреНрд░рдХрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдЬрд╣рд╛рдБ рд╡рд░реНрдЧ рд╕реНрд╡рддрдГ рдЙрддреНрдкрдиреНрди рдЙрдкрдирд╛рдо рдХреЛ sql рдХреНрд╡реЗрд░реА рдореЗрдВ рд╕реНрдерд╛рдирд╛рдкрдиреНрди рдХрд░ рджреЗрдЧрд╛ред </li><li>  <strong>Sql рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдРрд░реЗ рддрддреНрд╡ред</strong>  рдХрднреА-рдХрднреА рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдореВрд▓реНрдп рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдмрд┐рдирд╛ sql рдХреЛрдб рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЗрд╕реЗ 'sql' рдХреЛ рдХреБрдВрдЬреА (3 рддрддреНрд╡ рдХреЗ рд▓рд┐рдП) рдХреЗ рд░реВрдк рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг: <code>['LOWER(name)', 'like', 'sql' =&gt; "LOWER('$name')"]</code> </li><li>  <strong>рдмрд╛рдБрдз рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рдгреА рддрддреНрд╡ рдмрд╛рдБрдз</strong> рдХреЗ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рдгреА рд╣реИред  рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдг рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдЧрд▓рдд рд╣реИред  рдЖрдк рдЪрд░ рдореЗрдВ рд╡рд░реНрдЧ рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ - рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЗрдВрдЬреЗрдХреНрд╢рди рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдЙрдкрдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <code>['LOWER(name)', 'like', 'sql' =&gt; "LOWER(:name)", 'bind'=&gt; ['name' =&gt; $name] ]</code> </li><li>  <strong>рдСрдкрд░реЗрдЯрд░</strong> рдХреЛ рдЗрд╕ рддрд░рд╣ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <code>['curse', 'not in', [1, 3, 5]]</code> ред  рдж рдХреНрд▓рд╛рд╕ рдиреЗ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкреНрд░рд╡реЗрд╢ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрд╕рдХреНрдпреВрдПрд▓ рдХреЛрдб рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рд╣реИ: <code>curse not in (:al_where_jCgWfr95kh, :al_where_mCqefr95kh, :al_where_jCfgfr9Gkh)</code> </li><li>  <strong>рдЗрд╕ рдХрдерди</strong> рдХреЛ рдЗрд╕ рддрд░рд╣ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <code>['curse', ' between', 1, 5]</code> ред  рдирд┐рдореНрди рд╡рд░реНрдЧ рдХреЛрдб рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкреНрд░рд╡реЗрд╢ рдХреЛ рдХрд╣рд╛рдВ рд╡рд░реНрдЧ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИ: рдХреЗ <code>curse between :al_where_Pi4CRr4xNn and :al_where_WiPPS4NKiG</code> <br>  рд▓реЗрдХрд┐рди рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ, рдпрджрд┐ рд╕рд░рдгреА рдХреЗ рддреАрд╕рд░реЗ рдФрд░ рдЪреМрдереЗ рддрддреНрд╡ рддрд╛рд░ рд╣реИрдВ, рддреЛ рд╡рд┐рд╢реЗрд╖ рддрд░реНрдХ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдЪрдпрди рдПрдХ рддрд┐рдерд┐ рд╕реАрдорд╛ рд╕реЗ рд╣реЛрддрд╛ рд╣реИ рдФрд░, рдЗрд╕рд▓рд┐рдП, рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рдХрд┐рд╕реА рджрд┐рдирд╛рдВрдХ рдореЗрдВ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ sql рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХрд┐рд╕реА рджрд┐рдирд╛рдВрдХ (mySql рдФрд░ Oracle рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд╛рд▓реЗ) рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХрд╛рд░реНрдп рдФрд░ рдЗрд╕рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдПрдХ рд╕рд░рдгреА (рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдЕрдзрд┐рдХ) рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╕рд░рдгреА <code>['build_date', 'between', '01.01.2016', '01.01.2019']</code> рдХреЛ sql рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: <code>build_date between TO_DATE(:al_where_fkD7nZg5lU, 'dd.mm.yyyy hh24:mi::ss') and TO_DATE(:al_where_LdyVRznPF8, 'dd.mm.yyyy hh24:mi::ss')</code> </li></ul><br><h3 id="complicatedqueries">  рдЬрдЯрд┐рд▓ рдХреНрд╡реЗрд░реА </h3><br><p>  рдЪрд▓реЛ рдХрд╛рд░рдЦрд╛рдиреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВ: <code>$wh = GP::where();</code> </p><br><p>  рдЕрдиреБрд░реЛрдз рдХреЗ "рдкрд░рдорд╛рдгреБ рднрд╛рдЧреЛрдВ" рдХреЗ рдмреАрдЪ рддрд╛рд░реНрдХрд┐рдХ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>linkAnd()</code> рдпрд╛ <code>linkOr()</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// sql: (old &gt; 18 and old &lt; 50) $wh-&gt;linkAnd([ ['old', '&lt;', 18], ['old', '&gt;', 50] ]); // sql: (old &lt; 18 or old &gt; 50) $wh-&gt;linkOr([ ['old', '&lt;', 18], ['old', '&gt;', 50] ]);</span></span></code> </pre> <br><p>  рдЬрдм <strong>linkAnd / linkOr рдлрд╝рдВрдХреНрд╢рдВрд╕</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ <strong>рд╣реЛрдВ, рддреЛ</strong> рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рдЬрд╣рд╛рдБ - $ wh рд╡рд░реНрдЧ рдХреА рдЖрд╡реГрддреНрддрд┐ рдХреЗ рдЕрдВрджрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╕рд╛рде рд╣реА, рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдЗрдВрдЧрд┐рдд рд╕рднреА "рдкрд░рдорд╛рдгреБ рднрд╛рдЧреЛрдВ" <strong>рдХреЛ рдмреНрд░реИрдХреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ</strong> ред </p><br><p>  рдХрд┐рд╕реА рднреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ Sql рдХреЛ рддреАрди рдХрд╛рд░реНрдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <code>linkAnd(), linkOr(), getRaw()</code> ред  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// sql: curse = 1 and (old &lt; 18 or old &gt; 50) $wh-&gt;linkAnd([ ['curse', '=', 1], $wh-&gt;linkOr([ ['old', '&lt;', 18], ['old', '&gt;', 50] ])-&gt;getRaw() ]);</span></span></code> </pre> <br><p>  рдЬрд╣рд╛рдБ рдХрдХреНрд╖рд╛ рдореЗрдВ рдПрдХ рдирд┐рдЬреА рдЪрд░ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдХрдЪреНрдЪреА рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  <code>linkAnd()</code> рдФрд░ <code>linkOr()</code> рд╡рд┐рдзрд┐рдпрд╛рдБ рдЗрд╕ рдЪрд░ рдХреЛ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдХрд░рддреА рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП, рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп, рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рде <code>linkOr()</code> рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЪрд░ рдХреЗ рд╕рд╛рде рдЪрд░ рдореЗрдВ рдЕрдВрддрд┐рдо рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╡рд┐рдзрд┐ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рд╣реЛрддрд╛ рд╣реИред </p><br><h2 id="join">  рдЬреЙрдп рдХреНрд▓рд╛рд╕ </h2><br><p>  <strong>рдЬреНрд╡рд╛рдЗрди</strong> рдПрдХ рд╡рд░реНрдЧ рд╣реИ рдЬреЛ sql рдХреЛрдб рдХреЗ рдПрдХ рд╕рдВрдпреБрдХреНрдд рдЯреБрдХрдбрд╝реЗ рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред  рдЪрд▓реЛ рдХрд╛рд░рдЦрд╛рдиреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВ: <code>$jn = GP::leftJoin('coursework', 'student_id', 's.id')</code> , рдЬрд╣рд╛рдБ: </p><br><ul><li>  <strong>coursework</strong> рд╡рд╣ рддрд╛рд▓рд┐рдХрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╣рдо рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗред </li><li>  <strong>student_id</strong> - <strong>coursework</strong> рдЯреЗрдмрд▓ рд╕реЗ рдПрдХ рд╡рд┐рджреЗрд╢реА рдХреБрдВрдЬреА рд╡рд╛рд▓рд╛ рдПрдХ рдХреЙрд▓рдоред </li><li>  <strong>s.id</strong> - рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕реНрддрдВрдн рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝рдирд╛ рдЪрд╛рд╣рд┐рдП, рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдЙрдкрдирд╛рдо рдХреЗ рд╕рд╛рде рд▓рд┐рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдирд╛рдо s рд╣реИ)ред </li></ul><br><p>  рдЬрдирд░реЗрдЯреЗрдб sql: <code>left JOIN coursework coursework_joM9YuTTfW ON coursework_joM9YuTTfW.student_id = s.id</code> </p><br><p>  рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╕рдордп, рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдерд┐рддрд┐ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕реНрдкрд╖реНрдЯ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  <strong>LinkAnd / linkOr рдлрд╝рдВрдХреНрд╢рдВрд╕</strong> рдЖрдкрдХреЛ рдРрд╕рд╛ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреА: <code>$jn-&gt;linkAnd(['semester_number', '&gt;', 2])</code> </p><br><p>  рдЙрддреНрдкрдиреНрди <code>inner JOIN coursework coursework_Nd1n5T7c0r ON coursework_Nd1n5T7c0r.student_id = s.id and (semester_number &gt; :al_where_M1kEcHzZyy)</code> : <code>inner JOIN coursework coursework_Nd1n5T7c0r ON coursework_Nd1n5T7c0r.student_id = s.id and (semester_number &gt; :al_where_M1kEcHzZyy)</code> </p><br><p>  рдпрджрд┐ рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдЯреЗрдмрд▓ рд╣реИрдВ, рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдПрдХ рдХрдХреНрд╖рд╛ рдореЗрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: <strong>CollectionJoin</strong> ред </p><br><h2 id="query">  рдХрдХреНрд╖рд╛ рдХреА рдХреНрд╡реЗрд░реА </h2><br><p>  рдпрд╣ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореБрдЦреНрдп рд╡рд░реНрдЧ рд╣реИ, рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рдЪрдпрди, рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ, рдЕрдкрдбреЗрдЯ рдФрд░ рд╡рд┐рд▓реЛрдкрди рд╣реЛрддрд╛ рд╣реИред  рдЖрдк рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреА рдХреБрдЫ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </p><br><p>  рдЪрд▓реЛ рдХрд╛рд░рдЦрд╛рдиреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВ: <code>$qr = GP::query();</code> </p><br><p>  рдЕрдм рд╣рдо sql рдЯреЗрдореНрдкрд▓реЗрдЯ рд╕реЗрдЯ рдХрд░реЗрдВрдЧреЗ, рджрд┐рдП рдЧрдП рдкрд░рд┐рджреГрд╢реНрдп рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдорд╛рдиреЛрдВ рдХреЛ sql рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдкрдиреНрди рдХрд░реЗрдВрдЧреЗ рдФрд░ рдХрд╣реЗрдВрдЧреЗ рдХрд┐ рд╣рдо рдПрдХ рд░рд┐рдХреЙрд░реНрдб рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдФрд░ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ <strong>рдФрд╕рдд_рдорд╛рд░реНрдХ</strong> рдХреЙрд▓рдо рд╕реЗ рдбреЗрдЯрд╛ред </p><br><pre> <code class="php hljs">$rez = $qr-&gt;sql(<span class="hljs-string"><span class="hljs-string">"select /*select*/ from student s inner join mark m on s.id = m.student_id inner join lesson l on l.id = m.lesson_id /*where*/ /*group*/"</span></span>) -&gt;sqlPart(<span class="hljs-string"><span class="hljs-string">'/*select*/'</span></span>, <span class="hljs-string"><span class="hljs-string">'s.name, avg(m.mark) average_mark'</span></span>, []) -&gt;whereAnd(<span class="hljs-string"><span class="hljs-string">'/*where*/'</span></span>, [<span class="hljs-string"><span class="hljs-string">'s.id'</span></span>, <span class="hljs-string"><span class="hljs-string">'='</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]) -&gt;sqlPart(<span class="hljs-string"><span class="hljs-string">'/*group*/'</span></span>, <span class="hljs-string"><span class="hljs-string">'group by s.name'</span></span>, []) -&gt;one(<span class="hljs-string"><span class="hljs-string">'average_mark'</span></span>);</code> </pre> <br><p>  рдкрд░рд┐рдгрд╛рдо: <code>3,16666666666666666666666666666666666667</code> </p><br><h3 id="selection">  рдиреЗрд╕реНрдЯреЗрдб рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЪрдпрди </h3><br><p>  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ, рдореЗрд░реЗ рдкрд╛рд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЯреНрд░реА рд╡реНрдпреВ рдореЗрдВ рд╕рдВрд▓рдЧреНрди рдЧреБрдгреЛрдВ рдХреЗ рд╕рд╛рде рдЪрдпрди рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдирд╣реАрдВ рдерд╛ред  рдЗрд╕рд▓рд┐рдП, рдЬреАрдкреА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдРрд╕рд╛ рдЕрд╡рд╕рд░ рд╣реИ, рдФрд░ рдШреЛрдВрд╕рд▓реЗ рдХреА рдЧрд╣рд░рд╛рдИ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд╣реИред </p><br><p>  рдСрдкрд░реЗрд╢рди рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред  рд╡рд┐рдЪрд╛рд░ рдХреЗ рд▓рд┐рдП, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд <strong>рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реНрдХреАрдорд╛</strong> рд▓реЗрддреЗ рд╣реИрдВ <strong>:</strong> </p><br><p><img src="https://habrastorage.org/webt/tt/ih/_o/ttih_oflaq8cvslm1yiutxabp8q.png"></p><br><p>  <strong>рддрд╛рд▓рд┐рдХрд╛ рд╕рд╛рдордЧреНрд░реА:</strong> </p><br><p><img src="https://habrastorage.org/webt/z4/v4/aa/z4v4aa7oci4w-9q7nrncht1tceu.png"></p><br><p>  рдЕрдХреНрд╕рд░, рдЬрдм рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдХреНрд╡реЗрд░реА рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдПрдХ рдкреЗрдбрд╝ рдХреА рддрд░рд╣ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдПрдХ рд╕рдкрд╛рдЯ рдЬрд╡рд╛рдм рдирд╣реАрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдХреНрд╡реЗрд░реА рдХреЛ рдЪрд▓рд╛рдХрд░: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> s.id, s.name, c.id title_id, c.title <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> student s <span class="hljs-keyword"><span class="hljs-keyword">INNER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> coursework c <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> c. student_id = s.id <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> s.id = <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  рд╣рдореЗрдВ рдПрдХ рд╕рдкрд╛рдЯ рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><pre> <code class="php hljs">[ <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'title_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'┬л┬╗    '</span></span>, ], <span class="hljs-number"><span class="hljs-number">1</span></span>=&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'title_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'  '</span></span> ] ]</code> </pre> <br><p>  рдЬреАрдкреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдпрд╣ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="php hljs">[ <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'courseworks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">6</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'┬л┬╗    '</span></span>], <span class="hljs-number"><span class="hljs-number">7</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'  '</span></span>] ] ] ]</code> </pre> <br><p>  рдЗрд╕ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <code>all</code> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рдгреА рдкрд╛рд╕ рдХрд░рдиреА рд╣реЛрдЧреА (рдлрд╝рдВрдХреНрд╢рди рд╕рднреА рдХреНрд╡реЗрд░реА рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИ): </p><br><pre> <code class="php hljs">all([ <span class="hljs-string"><span class="hljs-string">'id'</span></span>=&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'courseworks'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'title_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title'</span></span> ] ])</code> </pre> <br><p>  рдлрд╝рдВрдХреНрд╢рдВрд╕ <strong>рдПрдЧреНрд░реАрдЧреЗрдЯрд░</strong> рдореЗрдВ <code>$option</code> рд╕рд░рдгреА <strong>( <code>$option</code> , $ рд░реЙрдбреЗрдЯрд╛)</strong> рдФрд░ <strong>рд╕рднреА ( <code>$options</code> )</strong> рдирд┐рдореНрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><ul><li>  <strong>рдПрд░реЗ рдХреАрдЬрд╝</strong> - рдХреЙрд▓рдо рдирд╛рдоред  <strong>рдПрд░реЗ рддрддреНрд╡реЛрдВ</strong> - рдХреЙрд▓рдо рдХреЗ рд▓рд┐рдП рдирдП рдирд╛рдо, рдЖрдк рдкреБрд░рд╛рдиреЗ рдирд╛рдо рджрд░реНрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  рд╕рд░рдгреА рдорд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрд░рдХреНрд╖рд┐рдд рд╢рдмреНрдж рд╣реИ - <code>pk</code> ред  рдпрд╣ рдХрд╣рддрд╛ рд╣реИ рдХрд┐ рдбреЗрдЯрд╛ рдХреЛ рдЗрд╕ рдХреЙрд▓рдо рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдЧреАрдХреГрдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рд╕рд░рдгреА рдХреБрдВрдЬреА рдХреЙрд▓рдо рдХрд╛ рдирд╛рдо рд╣реИ)ред </li><li>  рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ рдкрд░ рдХреЗрд╡рд▓ рдПрдХ <code>pk</code> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдПрдХрддреНрд░рд┐рдд (рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк) рд╕рд░рдгреА рдореЗрдВ, <code>pk</code> рджреНрд╡рд╛рд░рд╛ рдШреЛрд╖рд┐рдд рдХреЙрд▓рдо рдХреЗ рдорд╛рдиреЛрдВ рдХреЛ рдХреБрдВрдЬреА рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li><li>  рдпрджрд┐ рд╕реНрддрдВрднреЛрдВ рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдПрдХ рд╕реНрддрд░ рдХрдо рд░рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рддреЛ рдПрдХ рдирдпрд╛, рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдирд╛рдо рдПрдХ рд╕рд░рдгреА рдХреБрдВрдЬреА рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирд┐рд░реНрдорд┐рдд рдПрдХ рд╕рд░рдгреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдореВрд▓реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </li></ul><br><p>  рдПрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдорд╛рди рд▓реЗрдВ рдХрд┐ рд╣рдореЗрдВ рд╕рднреА рдЫрд╛рддреНрд░реЛрдВ рдХреЛ рдЙрдирдХреЗ рдкрд╛рдареНрдпрдХреНрд░рдо рдХреЗ рдирд╛рдо рдФрд░ рд╕рднреА рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ рд╕рднреА рдЧреНрд░реЗрдб рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рдо рдЗрд╕реЗ рдПрдХ рд╕рдкрд╛рдЯ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рд╡реГрдХреНрд╖ рдХреА рддрд░рд╣, рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХреЗ рдмрд┐рдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗред  рдиреАрдЪреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд▓рд┐рдП рд╡рд╛рдВрдЫрд┐рдд рдХреНрд╡реЗрд░реА рд╣реИред </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> s.id student_id, s.name student_name, s.semester_number, c.id coursework_id, c.semester_number coursework_semester, c.title coursework_title, l.id lesson_id, l.name lesson, m.id mark_id, m.mark <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> student s <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> coursework c <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> c.student_id = s.id <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> mark m <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> m.student_id = s.id <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> lesson l <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> l.id = m.lesson_id <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> s.id, c.id, l.id, m.id</code> </pre> <br><p>  рдкрд░рд┐рдгрд╛рдо рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддрд╛: </p><br><p><img src="https://habrastorage.org/webt/er/mj/7p/ermj7p5zki1g4hfxausavajfcps.png"></p><br><p>  рдХрд╛рд░реНрдп рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд <code>$option</code> рд╕рд╛рд░рдгреА рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="php hljs">$option = [ <span class="hljs-string"><span class="hljs-string">'student_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'student_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'courseworks'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'coursework_semester'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'coursework_title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'title'</span></span> ], <span class="hljs-string"><span class="hljs-string">'lessons'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'lesson'</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'mark_id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'pk'</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'mark'</span></span> ] ] ];</code> </pre> <br><p>  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд╡реЗрд░реА: </p><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    Query   .       // (    yii2) $qr = Yii::$app-&gt;gp-&gt;query( "SELECT s.id student_id, s.name student_name, s.semester_number, c.id coursework_id, c.semester_number coursework_semester, c.title coursework_title, l.id lesson_id, l.name lesson, m.id mark_id, m.mark FROM student s LEFT JOIN coursework c ON c.student_id = s.id LEFT JOIN mark m ON m.student_id = s.id LEFT JOIN lesson l ON l.id = m.lesson_id ORDER BY s.id, c.id, l.id, m.id"); //   1,  2   3  //  1 $result = $qr-&gt;all($option); //  2 $result = $qr-&gt;aggregator($option, $qr-&gt;all()); //  3 $qr-&gt;all(); $result = $qr-&gt;aggregator($option, $qr-&gt;rawData());</span></span></code> </pre> <br><p>  <code>aggregator</code> рдлрд╝рдВрдХреНрд╢рди рдХрд┐рд╕реА рднреА рд╕рд░рдгреА рдХреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд╡реЗрд░реА рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рдорд╛рди рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, <code>$option</code> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ред </p><br><p>  <code>$result</code> рдЪрд░ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: </p><br><pre> <code class="php hljs">[ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'courseworks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'    '</span></span>], ], <span class="hljs-string"><span class="hljs-string">'lessons'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>], <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-number"><span class="hljs-number">5</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">6</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span>] ] ] ] ], <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'courseworks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'┬л┬╗    '</span></span>], <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'title'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'  '</span></span>] ], <span class="hljs-string"><span class="hljs-string">'lessons'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">17</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">18</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">20</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'lesson'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'marks'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">16</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-number"><span class="hljs-number">19</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'mark'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>] ] ], ] ] ]</code> </pre> <br><p>  рд╡реИрд╕реЗ, рд╕рдордЧреНрд░ рдХреНрд╡реЗрд░реА рдХреЗ рд╕рд╛рде рдкреГрд╖реНрдард╛рдВрдХрди рдХреЗ рд╕рд╛рде, рдХреЗрд╡рд▓ рд╢реАрд░реНрд╖, рд╕рдмрд╕реЗ рдмреБрдирд┐рдпрд╛рджреА рдбреЗрдЯрд╛ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрдкрд░реНрдпреБрдХреНрдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдкреГрд╖реНрдарди рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ 2 рд░реЗрдЦрд╛рдПрдБ рд╣реЛрдВрдЧреАред </p><br><h2 id="union">  рдЦреЛрдЬ рдХреЗ рдирд╛рдо рдкрд░ рдЕрдкрдиреЗ рдЖрдк рд╕реЗ рдХрдИ рдорд┐рд▓рди </h2><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд▓рд┐рдЦрд╛ рдерд╛, рдореЗрд░реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп рдЪреБрдирд┐рдВрджрд╛ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд▓рд┐рдП рднрд╛рдЧреЛрдВ рдХреА рдкреАрдврд╝реА рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдирд╛ рд╣реИред  рддреЛ рдЬрд┐рд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣рдореЗрдВ рдЙрд╕ рдХреНрд╡реЗрд░реА рдХреЗ рд▓рд┐рдП рдмрд╛рд░-рдмрд╛рд░ рдПрдХ рд╣реА рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ?  рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЙрддреНрдкрд╛рдж рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рдЧреБрдг рдкрд╣рд▓реЗ рд╕реЗ рдЬреНрдЮрд╛рдд рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рд╣рдореЗрдВ рдЗрди рдЧрддрд┐рд╢реАрд▓ рдЧреБрдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рд╕рдордЭрд╛рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ред </p><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХрдВрдкреНрдпреВрдЯрд░ рдШрдЯрдХреЛрдВ рдХреА рдмрд┐рдХреНрд░реА рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдПрдХ рдСрдирд▓рд╛рдЗрди рд╕реНрдЯреЛрд░ рд╣реИ, рдФрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕рдЦреНрдд рд╡рд░реНрдЧреАрдХрд░рдг рдирд╣реАрдВ рд╣реИ, рдФрд░ рд╣рдо рд╕рдордп-рд╕рдордп рдкрд░ рдПрдХ рдШрдЯрдХ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдХреЛ рдЦрд░реАрджреЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рд╣рдо рдЕрдкрдиреЗ рд╕рднреА рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рдПрдХ рдЗрдХрд╛рдИ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рд╕рднреА рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рддреЛ, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдХрд┐рди рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЛ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><ol><li>  <strong>рдорд╛рд▓ред</strong>  рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЗрдХрд╛рдИ рдЬрд┐рд╕рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд╕рдм рдХреБрдЫ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  <strong>рдЙрддреНрдкрд╛рдж рдХрд╛ рдкреНрд░рдХрд╛рд░ред</strong>  рдЗрд╕реЗ рдЕрдиреНрдп рд╕рднреА рдЙрддреНрдкрд╛рдж рдЧреБрдгреЛрдВ рдХреЗ рд▓рд┐рдП рдореВрд▓ рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдЫреЛрдЯреЗ рд╕реНрдЯреЛрд░ рдореЗрдВ рдпрд╣ рдХреЗрд╡рд▓ рд╣реИ: рд░реИрдо, рдПрд╕рдПрд╕рдбреА рдФрд░ рдПрдЪрдбреАрдбреАред </li><li>  <strong>рдЙрддреНрдкрд╛рдж рдХреЗ рдЧреБрдгред</strong>  рд╣рдорд╛рд░реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ, рдХрд┐рд╕реА рднреА рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЙрддреНрдкрд╛рдж рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╡рд┐рдХрд▓реНрдк рдкреНрд░рдмрдВрдзрдХ рдХреЗ рд╡рд┐рд╡реЗрдХ рдкрд░ рд░рд╣рддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рд╕реНрдЯреЛрд░ рдореЗрдВ, рдкреНрд░рдмрдВрдзрдХреЛрдВ рдиреЗ рдХреЗрд╡рд▓ 3 рдЧреБрдг рдмрдирд╛рдП: рдореЗрдореЛрд░реА рд╕рд╛рдЗрдЬрд╝, рдлреЙрд░реНрдо рдлреИрдХреНрдЯрд░ рдФрд░ рдбреАрдбреАрдЖрд░ред </li><li>  <strong>рдорд╛рд▓ рдХрд╛ рдореВрд▓реНрдпред</strong>  рд╡рд╣ рдореВрд▓реНрдп рдЬреЛ рдЦрд░реАрджрд╛рд░ рдЦреЛрдЬ рдореЗрдВ рдЪрд▓рд╛рдПрдЧрд╛ред </li></ol><br><p>  рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рдХреЗ рд╕рднреА рдиреАрдЪреЗ рдХреА рдЫрд╡рд┐ рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/z1/gx/um/z1gxum4ba1zhvsilqqdqijndt94.png"></p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдЙрддреНрдкрд╛рдж рд╣реИ: <strong>16 рдЬреАрдмреА рдбреАрдбреАрдЖрд░ 3 рд░реИрдо</strong> ред  рдЖрд░реЗрдЦ рдкрд░ рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/kz/lp/-x/kzlp-xtvozjhyffgboxtbqr7qri.png"></p><br><p>  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕рдВрд░рдЪрдирд╛ рдФрд░ рдбреЗрдЯрд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрдВрдХрдбрд╝реЛрдВ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/es/lk/8a/eslk8aungbzzjqtpjnejscp6ywk.png"></p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдЖрд░реЗрдЦ рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рд╕рднреА рдЧреБрдгреЛрдВ рдХреЗ рд╕рднреА рдореВрд▓реНрдп рдПрдХ <strong>рд╡реИрд▓</strong> рдЯреЗрдмрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ (рд╡реИрд╕реЗ, рд╣рдорд╛рд░реЗ рд╕рд░рд▓реАрдХреГрдд рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рд╕рднреА рдЧреБрдгреЛрдВ рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдорд╛рди рд╣реИрдВ)ред  рдЗрд╕рд▓рд┐рдП, рдЕрдЧрд░ рд╣рдо AND рдХреЗ рдПрдХ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рдХрдИ рдЧреБрдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рде рдЦреЛрдЬрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдЦрд╛рд▓реА рдЪрдпрди рдорд┐рд▓рддрд╛ рд╣реИред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЦрд░реАрджрд╛рд░ рдРрд╕реЗ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рддрд▓рд╛рд╢ рдореЗрдВ рд╣реИ: <em>рдореЗрдореЛрд░реА</em> рдХреА <em>рдорд╛рддреНрд░рд╛ 10 рдЬреАрдмреА рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдлреЙрд░реНрдо рдлреИрдХреНрдЯрд░ 2.5 рдЗрдВрдЪ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП</em> ред  рдпрджрд┐ рд╣рдо рдиреАрдЪреЗ рджрд┐рдЦрд╛рдП рдЕрдиреБрд╕рд╛рд░ sql рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдЦрд╛рд▓реА рдЪрдпрди рдорд┐рд▓рддрд╛ рд╣реИ: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> product p <span class="hljs-keyword"><span class="hljs-keyword">inner</span></span> <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> val v <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> v.product_id = p.id <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> (v.property_id = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> v.value &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> (v.property_id = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> v.value = <span class="hljs-number"><span class="hljs-number">2.5</span></span>)</code> </pre> <br><p>  рдЪреВрдВрдХрд┐ рд╕рднреА рдЧреБрдгреЛрдВ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХрдИ рдЧреБрдгреЛрдВ рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛ рдШрд╛рдЯреА рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрд┐рд╕реЗ рдЦреЛрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реЗрдХрд┐рди рдПрдХ рдЕрддрд┐ рд╕реВрдХреНрд╖реНрдо рдЕрдВрддрд░ рд╣реИ, рдЬреЙрдЗрди рдЯреЗрдмрд▓ "рдХреНрд╖реИрддрд┐рдЬ" рд╕реЗ рдЬреБрдбрд╝реЗрдВ (рд╢рдмреНрдж рд╕рдВрдШ рдореЗрдВ рд╕рднреА "рд▓рдВрдмрд╡рдд" рдЬреБрдбрд╝рддреЗ рд╣реИрдВ), рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/00/th/4d/00th4d4mehwetkemk7vnkvqukr4.png"></p><br><p>  рдпрд╣ рдкрд░рд┐рдгрд╛рдо рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддрд╛, рд╣рдо рд╕рднреА рдореВрд▓реНрдпреЛрдВ рдХреЛ рдПрдХ рдХреЙрд▓рдо рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрди рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рд╕реЗ 1 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рддрд╛рд▓рд┐рдХрд╛ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рдЦреЛрдЬ рдХреА рдЬрд╛рддреА рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/pp/br/rp/ppbrrphdkttykoq0uexraglkcve.png"></p><br><p>  рд╣рдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ sql рдХреНрд╡реЗрд░реА рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рдХрд░реАрдм рд╣реИрдВред  рдЖрдЗрдП рдлрд╝рдВрдХреНрд╢рди рдХреЛ рджреЗрдЦреЗрдВ <br>  <code>whereWithJoin ($aliasJoin, $options, $aliasWhere, $where)</code> , рдЬреЛ рд╕рднреА рдХрд╛рдо рдХрд░реЗрдВрдЧреЗ: </p><br><ul><li>  <strong>$ aliasJoin</strong> - рдЖрдзрд╛рд░ рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ рдПрдХ рдЙрдкрдирд╛рдо, рдЬрд┐рд╕рдХреЗ рдмрдЬрд╛рдп <strong>рдЬреЙрдЗрди рдХреЗ</strong> рд╕рд╛рде sql рднрд╛рдЧ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  <strong>$ рд╡рд┐рдХрд▓реНрдк</strong> - рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдореЛрдВ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рдгреАред </li><li>  <strong>$ aliasWhere</strong> - рдмреЗрд╕ рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ рдПрдХ рдЙрдкрдирд╛рдо, рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ рдЬрд╣рд╛рдВ sql рднрд╛рдЧ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  <strong>$ рдЬрд╣рд╛рдВ рдЬрд╣рд╛рдВ</strong> рд╡рд░реНрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред </li></ul><br><p>  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ: <code>whereWithJoin('/*join*/', $options, '/*where*/', $wh)</code> ред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, <strong>$ рд╡рд┐рдХрд▓реНрдк</strong> рдЪрд░ рдмрдирд╛рдПрдВ: <code>$options = ['v' =&gt; ['val', 'product_id', 'p.id']];</code> </p><br><p>  <strong>v</strong> рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдирд╛рдо рд╣реИред  рдпрджрд┐ рджрд┐рдП рдЧрдП рдЙрдкрдирд╛рдо <strong>$ рдХ</strong> рдореЗрдВ рдкрд╛рдП рдЬрд╛рддреЗ <strong>рд╣реИрдВ</strong> , рддреЛ рдПрдХ рдирдИ <strong>рд╡реИрд▓</strong> рдЯреЗрдмрд▓ рдХреЛ рдЬреНрд╡рд╛рдЗрди рдХрд░рдХреЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ (рдЬрд╣рд╛рдВ <strong>product_id</strong> <strong>рд╡реИрд▓</strong> рдЯреЗрдмрд▓ рдХреА рд╡рд┐рджреЗрд╢реА рдХреБрдВрдЬреА рд╣реИ, рдФрд░ <strong>p.id рдПрд▓реАрд╕</strong> <strong>рдкреА рдХреЗ</strong> рд╕рд╛рде рдЯреЗрдмрд▓ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдердорд┐рдХ рдХреБрдВрдЬреА рд╣реИ), рдПрдХ рдирдпрд╛ рдЙрдкрдирд╛рдо рдФрд░ рдпрд╣ рдЙрдкрдирд╛рдо рдЗрд╕рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рд╣реЛрддрд╛ рд╣реИред рдХрд╣рд╛рдБ рдореЗрдВ <strong>v рдХреА</strong> рдЬрдЧрд╣ рд▓реЗрдЧрд╛ред </p><br><p>  <strong>$ рд╡реНрд╣</strong> рдХрд╣рд╛рдБ рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред  рд╣рдо рдПрдХ рд╣реА рдЕрдиреБрд░реЛрдз рдмрдирд╛рддреЗ рд╣реИрдВ: <em>рдореЗрдореЛрд░реА 10 рдЬреАрдмреА рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдлреЙрд░реНрдо рдлреИрдХреНрдЯрд░ 2.5 рдЗрдВрдЪ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред</em> </p><br><pre> <code class="php hljs">$wh-&gt;linkAnd([ $wh-&gt;linkAnd([ [<span class="hljs-string"><span class="hljs-string">'v.property_id'</span></span>, <span class="hljs-string"><span class="hljs-string">'='</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-string"><span class="hljs-string">'v.value'</span></span>, <span class="hljs-string"><span class="hljs-string">'&gt;'</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>] ])-&gt;getRaw(), <span class="hljs-comment"><span class="hljs-comment">//    $wh-&gt;linkAnd([ ['v.property_id', '=', 3], ['v.value', '=', 2.5] ])-&gt;getRaw(),//    ]);</span></span></code> </pre> <br><p>  рдЬрд╣рд╛рдВ рдПрдХ рдЕрдиреБрд░реЛрдз рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдИрдбреА рд╕рдВрдкрддреНрддрд┐ рдФрд░ рдмреНрд░реИрдХреЗрдЯ рдореЗрдВ рдЗрд╕рдХреЗ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рднрд╛рдЧ рдХреЛ рд▓рдкреЗрдЯрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдпрд╣ рдЬрд╣рд╛рдВ <code>whereWithJoin()</code> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдЗрд╕ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рдЯреЗрдмрд▓ рдЙрд░реНрдл тАЛтАЛрд╕рдорд╛рди рд╣реЛрдЧрд╛ред </p><br><pre> <code class="php hljs">$qr-&gt;sql(<span class="hljs-string"><span class="hljs-string">"select p.id, t.name type_name, pr.id prop_id, pr.name prop_name, v.id val_id, v.value from product p inner join type t on t.id = p.type_id inner join val v on v.product_id = p.id inner join properties pr on pr.id = v.property_id /*join*/ /*where*/"</span></span>) -&gt;whereWithJoin(<span class="hljs-string"><span class="hljs-string">'/*join*/'</span></span>, $options, <span class="hljs-string"><span class="hljs-string">'/*where*/'</span></span>, $wh) <span class="hljs-comment"><span class="hljs-comment">//     . -&gt;all([ 'id' =&gt; 'pk', 'type_name' =&gt; 'type', 'properties' =&gt; [ 'prop_id' =&gt; 'pk', 'prop_name' =&gt; 'name', 'values' =&gt; [ 'val_id' =&gt; 'pk', 'value' =&gt; 'val' ] ] ]);</span></span></code> </pre> <br><p>  рд╣рдо рдЙрддреНрдкрдиреНрди sql, рдмрд╛рдЗрдВрдб рдФрд░ рдХреНрд╡реЗрд░реА рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ: <code>$qr-&gt;debugInfo()</code> : </p><br><pre> <code class="php hljs">[ [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'info'</span></span>, <span class="hljs-string"><span class="hljs-string">'sql'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'select p.id, t.name type_name, pr.id prop_id, pr.name prop_name, v.id val_id, v.value from product p inner join type t on t.id = p.type_id inner join val v on v.product_id = p.id inner join properties pr on pr.id = v.property_id inner JOIN val val_mIQWpnHhdQ ON val_mIQWpnHhdQ.product_id = p.id inner JOIN val val_J0uveMpwEM ON val_J0uveMpwEM.product_id = p.id WHERE ( val_mIQWpnHhdQ.property_id = :al_where_leV5QlmOZN and val_mIQWpnHhdQ.value &gt; :al_where_ycleYAswIw ) and ( val_J0uveMpwEM.property_id = :al_where_dinxDraTOE and val_J0uveMpwEM.value = :al_where_wZJhUqs74i )'</span></span>, <span class="hljs-string"><span class="hljs-string">'binds'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'al_where_leV5QlmOZN'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'al_where_ycleYAswIw'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'al_where_dinxDraTOE'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'al_where_wZJhUqs74i'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span> ], <span class="hljs-string"><span class="hljs-string">'timeQuery'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0.0384588241577</span></span> ] ]</code> </pre> <br><p>      <code>$qr-&gt;rawData()</code> : </p><br><pre> <code class="php hljs">[ [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">512</span></span> ], [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span> ], [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">256</span></span> ], [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span> ], [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'HDD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1024</span></span> ], [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'type_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'HDD'</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'prop_name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'val_id'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span> ] ]</code> </pre> <br><p>        <code>$qr-&gt;aggregateData()</code> : </p><br><pre> <code class="php hljs">[ <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'properties'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">5</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">512</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">6</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span>] ] ] ] ], <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'SSD'</span></span>, <span class="hljs-string"><span class="hljs-string">'properties'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">7</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">256</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">8</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span>] ] ] ] ], <span class="hljs-number"><span class="hljs-number">6</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'HDD'</span></span>, <span class="hljs-string"><span class="hljs-string">'properties'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">11</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1024</span></span>] ] ], <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span> =&gt; [ <span class="hljs-number"><span class="hljs-number">12</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'val'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2.5</span></span>] ] ] ] ] ]</code> </pre> <br><p>     ,   ,    <code>whereWithJoin()</code> ,    . </p><br><p>  <code>whereWithJoin()</code> ,    ,      <strong>n</strong>    ,   <strong>m</strong>    .  <strong>n</strong>  <strong>m</strong>     1         id    .        ,      <strong>AND</strong> . </p><br><hr><br><p>        <a href="https://falbin.ru/documentation/greenpig/"></a>     <a href="https://github.com/mrFalbin/green-pig-dao/tree/master">GitHub</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi483458/">https://habr.com/ru/post/hi483458/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi483440/index.html">рдирд╡реАрдирддрдо рдбреА рд╕рдВрдХрд▓рдХ</a></li>
<li><a href="../hi483444/index.html">DORA рд░рд┐рдкреЛрд░реНрдЯ 2019: DevOps рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдХреИрд╕реЗ рдмреЗрд╣рддрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi483446/index.html">рд╡реИрдЬреНрдЮрд╛рдирд┐рдХреЛрдВ рдиреЗ рдкреАрдиреЗ рдХреЗ рдкрд╛рдиреА рдореЗрдВ рд▓реЛрд╣реЗ рдХреЗ рд╕реНрддрд░ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдирдпрд╛ рддрд░реАрдХрд╛ рдЦреЛрдЬрд╛ рд╣реИ</a></li>
<li><a href="../hi483448/index.html">рдбрд┐рдЬрд╝рдиреА - рдорд╛рдирд╡ рдЗрддрд┐рд╣рд╛рд╕ рдореЗрдВ рд╕рдмрд╕реЗ рдорд╣рд╛рди рджреЛ-рддрд░рдлрд╝рд╛</a></li>
<li><a href="../hi483454/index.html">Cyrillic рдореЗрдВ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд╕рд╛рде Atlassian Bitbucket рдореЗрдВ Mercurial рд╕реЗ GIT рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛</a></li>
<li><a href="../hi483460/index.html">SQL HowTo: рд╡рд┐рдВрдбреЛ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪреЗрди рдХрд╛ рдирд┐рд░реНрдорд╛рдг</a></li>
<li><a href="../hi483462/index.html">рдЪреБрдк рд░рд╣реЛ рдФрд░ рдореЗрд░реЗ рдкреИрд╕реЗ рд▓реЗ рд▓реЛ</a></li>
<li><a href="../hi483466/index.html">рдкреЗрд╢ рд╣реИ рдмреИрдХрдкреНрд░реЙрдкреИрдЬреИрд╢рди рдореЗрдердб</a></li>
<li><a href="../hi483468/index.html">рд╕реНрдкрдВрджрди рдПрдХреАрдХрд░рдг рдЯреЗрд╕реНрдЯ - рдпрд╣ рдЖрд╕рд╛рди рд╣реИ</a></li>
<li><a href="../hi483470/index.html">рдХреБрд╢рд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЯрд╛рдЗрд▓реЗрдВ рдмрд┐рдЫрд╛рдПрдВ (рдкреНрд░реЛ рд╕реАрдПрд╕рдПрд╕, рдПрд╕рд╡реАрдЬреА, рдкреИрдЯрд░реНрди рдФрд░ рдЕрдзрд┐рдХ)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>