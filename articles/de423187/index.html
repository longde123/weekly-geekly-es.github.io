<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÜ üëäüèæ üëÇüèø Stamm- und Zwischenzertifikate autorisierter Zertifizierungsstellen Russlands üèÅ ‚ö∞Ô∏è üßëüèæ‚Äçü§ù‚Äçüßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie viele andere L√§nder verwendet Russland x509-Zertifikate, die von autorisierten russischen Zertifizierungsstellen (UC) ausgestellt wurden, f√ºr die ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stamm- und Zwischenzertifikate autorisierter Zertifizierungsstellen Russlands</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423187/">  Wie viele andere L√§nder verwendet Russland x509-Zertifikate, die von autorisierten russischen Zertifizierungsstellen (UC) ausgestellt wurden, f√ºr die offizielle Verwaltung elektronischer Dokumente.  Und im Gegensatz zu vielen anderen L√§ndern verwendet es seine eigenen Chiffren. <br><br>  Lange Zeit wollte ich die √úberpr√ºfung der Unterschriften der Antworten der Beh√∂rden (ich korrespondiere viel) und die √úberpr√ºfung der ‚ÄûEntladungen‚Äú von Roskomnadzor auf Echtheit (aufgrund der Art der √∂ffentlichen Aktivit√§t) automatisieren.  Das gr√∂√üte Problem bestand darin, Zwischenzertifikate von der Kette zu erhalten.  Weil auf der Website des Kommunikationsministeriums eine verschwommene Excel-Datei mit Stammzertifizierungsstellen vorhanden war, und das ist alles.  Und die Zwischenprodukte mussten auf den Websites der jeweiligen Zertifizierungsstellen durchsucht werden.  Das Leben ist ein Schmerz. <br><a name="habracut"></a><blockquote> <b>Was sind "Zwischenzertifikate"?</b>  Ich m√∂chte Sie daran erinnern, wie es funktioniert.  Angenommen, wir m√∂chten einen unterschriebenen Brief √ºberpr√ºfen.  Der Brief ist mit einem Schl√ºssel signiert.  Es gibt ein Zertifikat, das diesen Schl√ºssel zertifiziert.  Das Zertifikat wurde von jemandem ausgestellt und auch mit einem Schl√ºssel mit dem beigef√ºgten Zertifikat signiert.  Und dieses Zertifikat ist genau das gleiche.  Und so weiter bis zu dem Moment, an dem das Zertifikat f√ºr sich selbst ausgestellt wird.  Bei der √úberpr√ºfung haben wir (mitgebracht, aus dem Paket geliefert, wir erhielten ein Flash-Laufwerk) einen bestimmten Satz dieser endg√ºltigen Zertifikate, von denen wir glauben.  Wir glauben, weil wir dem glauben, der sie uns gegeben hat.  In der Welt des Webs vertrauen wir dem Browser und seinen Stammzertifikaten.  In der Welt des Webs werden bei der Verbindung √ºber HTTPS auch Zwischenzertifikate vom Server zum Client √ºbertragen.  Daher haben wir in der Welt des Webs immer die gesamte Kette. </blockquote>  Pl√∂tzlich (ich wei√ü nicht genau wann) und unmerklich auf der Website des Staatsdienstes erschien ein solcher Link: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">e-trust.gosuslugi.ru/CA</a> <br><br>  Ich habe hastig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ein Programm geschrieben</a> , das eine XML-Datei mit einer Liste von Zertifizierungsstellen und Zertifikaten von dieser Site in das bekannte PEM-Format umwandelt. <br><br>  Dann habe ich es automatisiert und ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">st√§ndig gepflegtes Zertifikat-Repository</a> in der der * NIX-Welt vertrauten Form erhalten. <br><br><h4>  GOST-Verschl√ºsselung </h4><br>  Die GOST-Verschl√ºsselung wird in LibreSSL unterst√ºtzt. Ich wei√ü nicht mehr, welche Version.  Aber in Alpine Linux wird ab 3.5 bereits unterst√ºtzt.  Mit OpenSSL werden die Dinge komplizierter.  Die GOST-Verschl√ºsselung wird mit OpenSSL von Version 1.0.0 bis einschlie√ülich Version 1.0.2 geliefert.  CentOS verf√ºgt jedoch beispielsweise nicht √ºber eine GOST-Verschl√ºsselung.  CentOS-Benutzer m√ºssen leiden.  F√ºr Debian, Mint, Ubuntu mit OpenSSL Version 1.1.0 und h√∂her ist die Installation des Pakets libengine-gost-openssl1.1 erforderlich, das vom Krypto-Enthusiasten Vartan Khachaturov unterst√ºtzt wird (Sie k√∂nnen ihm √ºbrigens helfen). <br><br>  Nun, 2018 haben wir Docker und in Alpine Linux funktioniert, wie ich bereits erw√§hnte, alles. <br><br><h4>  Wie man es benutzt </h4><br>  Kurze Beispiele f√ºr die √úberpr√ºfung des ‚ÄûEntladens‚Äú von Roskomnadzor mit einer ungebrochenen Signatur.  Die "Upload" -Datei ist dump.xml, die Signatur ohne Tags ist dump.xml.sig.  Sogar ich habe sie vorher nur auf die Integrit√§t der Unterschrift √ºberpr√ºft, nicht aber auf die Korrespondenz mit der Quelle. <br><br>  Verwenden von OpenSSL: <br><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/schors/gost-russian-ca.git ./ openssl smime -verify -engine gost \ -CAfile gost-russian-ca.git/certs/ca-certificates.pem \ -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dump.xml.sig -inform DER -content dump.xml -out /dev/null</code> </pre> <br>  Verwenden von LibreSSL: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/schors/gost-russian-ca.git ./ openssl smime -verify -CAfile gost-russian-ca.git/certs/ca-certificates.pem \ -<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dump.xml.sig -inform DER -content dump.xml -out /dev/null</code> </pre> <br>  Nat√ºrlich k√∂nnen Sie auch das Dienstprogramm <i>c_rehash im</i> Ordner <i>certs verwenden</i> und dann die Option -CAdir anstelle von -CAfile verwenden. <br><br>  Und von nun an k√∂nnen Sie die Website des State Service, Contour und seltsame Programme wie CryptoPro nicht mehr f√ºr die einfache Aufgabe der √úberpr√ºfung einer Signatur verwenden.  Und vor allem ist es jetzt m√∂glich zu automatisieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423187/">https://habr.com/ru/post/de423187/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423177/index.html">Microsoft Azure-Sicherheitsinfrastrukturbuch</a></li>
<li><a href="../de423179/index.html">Anwendungshandbuch f√ºr die Cloud-Architektur</a></li>
<li><a href="../de423181/index.html">Azure-Entwicklerhandbuch</a></li>
<li><a href="../de423183/index.html">Microsoft Azure-Grundlagenbuch</a></li>
<li><a href="../de423185/index.html">Iss es nicht! N√ºtzlicher 3D-Zuckerdruck</a></li>
<li><a href="../de423189/index.html">Forschung: Die H√§lfte der Unternehmen behebt Schwachstellen innerhalb eines Monats - warum?</a></li>
<li><a href="../de423191/index.html">Einf√ºhrung der Elemente von Offshore-Plattformen. Teil 1</a></li>
<li><a href="../de423193/index.html">Konfigurieren Sie Web-Push-Benachrichtigungen mithilfe von pywebpush Schritt f√ºr Schritt</a></li>
<li><a href="../de423195/index.html">Was ist neu in JPA 2.2?</a></li>
<li><a href="../de423197/index.html">LOLWUT: ein Kunstwerk in einem DB-Team</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>