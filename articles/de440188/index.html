<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöñ üåÉ üôåüèª Die Sterne erreichen: Ansible Operatoren f√ºr die Verwaltung von Anwendungen in Kubernetes beherrschen ‚ôøÔ∏è üí™ ‚úçüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir werden sehen, wie in Ansible Galaxy ver√∂ffentlichte Rollen als Operatoren verwendet werden, die Anwendungen in Kubernetes verwalten, und wie wir e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Sterne erreichen: Ansible Operatoren f√ºr die Verwaltung von Anwendungen in Kubernetes beherrschen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/440188/">  Wir werden sehen, wie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ansible Galaxy</a> ver√∂ffentlichte Rollen als Operatoren verwendet werden, die Anwendungen in Kubernetes verwalten, und wie wir einen Operator erstellen, der die Anwendung einfach installiert und ihr Verhalten je nach Umgebung flexibel anpasst. <br><br><img src="https://habrastorage.org/webt/kk/7j/6q/kk7j6qx0eteemrqiug7iyohofli.jpeg" width="100%"><br><br>  Wir werden <a href="">Ansible Operator</a> und das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k8s-Modul verwenden, um</a> zu zeigen, wie Ansible zum Erstellen von Kubernetes-Anwendungen verwendet wird. <br><a name="habracut"></a><br>  Ansible Operator ist Teil des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operator SDK</a> und erm√∂glicht es Ihnen, die Betriebsvorschriften der Anwendung (wie sie installiert und gewartet werden sollte) in der Sprache der Ansible-Rollen und Playbooks zu formulieren.  Das k8s-Modul erweitert wiederum die M√∂glichkeit, Objekte in Kubernetes zu verwalten, wenn solche Rollen und Playbooks erstellt werden. <br><br>  Ein Operator wird einfach so erstellt. <br><br><pre><code class="plaintext hljs">FROM quay.io/operator-framework/ansible-operator RUN ansible-galaxy install djzager.hello_world_k8s RUN echo $'--- \n\ - version: v1alpha1\n\ group: examples.djzager.io\n\ kind: HelloWorld\n\ role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml</code> </pre> <br><h3>  Starttaste </h3><br>  Zun√§chst ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">paar</a> Worte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zum k8s Ansible-Modul</a> .  Es erschien in Ansible 2.6 und erweitert die M√∂glichkeiten der Arbeit mit Kubernetes-Objekten von Ansible und in allen Kubernetes-Distributionen, einschlie√ülich Red Hat OpenShift.  Ansible Blog hatte einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">separaten Beitrag</a> √ºber dieses Modul und den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dynamischen Python-Client f√ºr Red Hat OpenShift</a> .  Unserer Meinung nach ist die Arbeit mit Kubernetes-Objekten √ºber Ansible ohne Verwendung des k8s-Moduls falsch.  Der Operatormechanismus wurde urspr√ºnglich zum Ausf√ºhren von Anwendungen in Kubernetes erstellt. Das Operator SDK bietet Tools zum Zusammenstellen, Testen und Verpacken von Operatoren.  Ansible Operator wird wiederum ben√∂tigt, um die Betriebsvorschriften der Anwendung in Ansible-Sprache festzulegen.  Der entsprechende Workflow ist ganz einfach organisiert: Zuerst f√ºhren wir operator-sdk new --type = Ansible aus, um die erforderlichen Dateien f√ºr den Ansible-Operator zu generieren, dann zeichnen wir Ansible und schlie√ülich erstellen wir operator-sdk, um die Anwendung f√ºr die Arbeit in Kubernetes zu erstellen.  Wenn wir jedoch bereits eine Rolle in Ansible Galaxy haben, das die Anwendung in Kubernetes steuert, wird es noch einfacher.  Im Folgenden werden wir Folgendes tun: <br><br><ol><li>  Lassen Sie uns eine Ansible-Rolle zum Verwalten der Hello World-Anwendung in Kubernetes erstellen, mit deren Hilfe wir die Funktionen des Ansible-Moduls von k8s demonstrieren k√∂nnen. </li><li>  Wir werden diese Rolle in Ansible Galaxy ver√∂ffentlichen. </li></ol><br>  Stellen wir also den Ansible-Operator mithilfe der in Ansible Galaxy ver√∂ffentlichten Rolle zusammen.  Warum √ºberhaupt einen Operator mit einer Rolle von Ansible Galaxy erstellen?  Es gibt zwei Gr√ºnde: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Um nicht zu wiederholen</a> .  Wenn wir die Ansible-Rolle f√ºr die Verwaltung der Hello World-Anwendung bereits programmiert und in Ansible Galaxy ver√∂ffentlicht haben, ist es logisch, sie beim Erstellen des Ansible-Operators zu verwenden. </li><li>  Aufgrund <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Aufgabentrennung</a> .  Wir m√∂chten, dass die Hello World Ansible-Rolle die gleichnamige Anwendung in Kubernetes verwaltet und die betriebliche Logik im Bediener verbleibt.  In unserem Beispiel ist die Betriebslogik √§u√üerst einfach: Sie ruft einfach jedes Mal die Rolle djzager.hello_world_k8s auf, wenn Sie eine benutzerdefinierte HelloWorld-Ressource erstellen oder √§ndern.  In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zukunft wird</a> diese Trennung jedoch an Bedeutung gewinnen. Beispielsweise werden wir der Hello World-Anwendung √ºber die Rolle Ansible eine Validierung hinzuf√ºgen und die Statussteuerung der benutzerdefinierten HelloWorld-Ressourcen √ºber die Operatorlogik implementieren. </li></ol><br><h3>  Hallo Kubernetes, treffe Ansible </h3><br><h4>  Was brauchen wir? </h4><br><ol><li>  Ansible - Lesen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installationsanleitung,</a> wenn Sie Ansible nicht installiert haben. </li><li>  Python-Client f√ºr OpenShift (optional).  Wird nur f√ºr den lokalen Start ben√∂tigt.  Installationsanweisungen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </li></ol><br>  Fangen wir an.  Erstellen Sie zun√§chst ein Rollenskelett mithilfe der Ansible-Galaxie: <br><br><pre> <code class="plaintext hljs"># I like clear names on projects. # In meta/main.yml I will make role_name: hello-world-k8s $ ansible-galaxy init ansible-role-hello-world-k8s</code> </pre><br>  Unmittelbar nach dem Erstellen einer neuen Ansible-Rolle setzen wir alle Standardwerte so, dass gleichzeitig die g√ºltigen Konfigurationsparameter dokumentiert werden.  Dar√ºber hinaus ist unser Hello World-Beispiel in dieser Hinsicht nicht besonders kompliziert.  So sieht unsere Datei defaults / main.yml aus: <br><br><pre> <code class="plaintext hljs">--- # NOTE: meta.name(space) comes from CR metadata when run with Ansible Operator # deploy/crds has an example CR for reference name: "{{ meta.name | default('hello-world') }}" namespace: "{{ meta.namespace | default('hello-world') }}" image: docker.io/ansibleplaybookbundle/hello-world:latest # To uninstall from the cluster # state: absent state: present # The size of the hello-world deployment size: 1</code> </pre><br>  Nachdem Sie die Standardwerte festgelegt haben, m√ºssen Sie entscheiden, was die Rolle tun soll.  Die Hello World-Anwendung muss Folgendes tun: <br><br><ol><li>  Informationen zu den verf√ºgbaren APIs im Cluster abrufen. </li><li>  Erstellen Sie mehrere Vorlagen und stellen Sie sicher, dass sie im Cluster vorhanden sind oder nicht. </li></ol><br>  Daher sieht unsere Dateiasks / main.yml folgenderma√üen aus: <br><br><pre> <code class="plaintext hljs">--- - name: "Get information about the cluster" set_fact: api_groups: "{{ lookup('k8s', cluster_info='api_groups') }}" - name: 'Set hello-world objects state={{ state }}' k8s: state: '{{ state }}' definition: "{{ lookup('template', item.name) | from_yaml }}" when: item.api_exists | default(True) loop: - name: deployment.yml.j2 - name: service.yml.j2 - name: route.yml.j2 api_exists: "{{ True if 'route.openshift.io' in api_groups else False }}"</code> </pre><br>  Beachten Sie diese Zeile in der Aufgabendatei, bevor Sie mit den Vorlagen fortfahren: <br><br><pre> <code class="plaintext hljs">api_exists: "{{ True if 'route.openshift.io' in api_groups else False }}"</code> </pre><br>  Mit set_fact erhalten wir eine Liste aller im Cluster verf√ºgbaren APIs, sodass wir selektiv Vorlagen generieren k√∂nnen, je nachdem, ob die API vorhanden ist - in diesem Fall route.openshift.io.  Standardm√§√üig sind im Kubernetes-Cluster von OpenShift keine Routen verf√ºgbar und werden nicht ben√∂tigt. Daher arbeiten wir nur mit dem Route-Objekt, wenn sich route.openshift.io im Cluster befindet. <br><br>  Wir k√∂nnen nicht nur Objekte im Cluster abh√§ngig von der Verf√ºgbarkeit bestimmter APIs selektiv verwalten, sondern auch die Jinja2-Vorlagen verwenden, um die OpenShift DeploymentConfig in unserer Deployment-Vorlage zu verwenden, wenn der Cluster √ºber die API apps.openshift.io verf√ºgt.  So sieht unsere Datei templates / deploy.yml.j2 aus: <br><br><pre> <code class="plaintext hljs">--- {% if 'apps.openshift.io' in api_groups %} apiVersion: apps.openshift.io/v1 kind: DeploymentConfig {% else %} apiVersion: apps/v1 kind: Deployment {% endif %} metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: replicas: {{ size }} {% if 'apps.openshift.io' in api_groups %} selector: app: {{ name }} service: {{ name }} {% else %} selector: matchLabels: app: {{ name }} service: {{ name }} {% endif %} template: metadata: labels: app: {{ name }} service: {{ name }} spec: containers: - image: {{ image }} name: hello-world ports: - containerPort: 8080 protocol: TCP</code> </pre><br>  Dateivorlagen / service.yml.j2: <br><br><pre> <code class="plaintext hljs">--- apiVersion: v1 kind: Service metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: ports: - name: web port: 8080 protocol: TCP targetPort: 8080 selector: app: {{ name }} service: {{ name }}</code> </pre><br>  Und schlie√ülich die Datei templates / route.yml.j2: <br><br><pre> <code class="plaintext hljs">--- apiVersion: route.openshift.io/v1 kind: Route metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: port: targetPort: web to: kind: Service name: {{ name }}</code> </pre><br>  Wir haben die Datei meta / main.yml weggelassen, aber sie finden Sie <a href="">hier</a> . <br><br>  Infolgedessen haben wir die Ansible-Rolle, die die Hello World-Anwendung in Kubernetes verwaltet, und wir k√∂nnen die im Cluster verf√ºgbaren APIs verwenden.  Mit anderen Worten, das k8s-Modul und der dynamische Client vereinfachen die Arbeit mit Objekten in Kubernetes.  Wir hoffen, dass wir am Beispiel dieser Rolle das Potenzial von Ansible bei der Arbeit mit Kubernetes zeigen konnten. <br><br><h3>  Hallo Galaxy, treffe Kubernetes </h3><br>  Ansible Galaxy hat viele Rollen zum Einrichten von Servern und zum Verwalten von Anwendungen, aber es gibt nicht so viele Rollen zum Verwalten von Kubernetes-Anwendungen, daher werden wir einen kleinen Beitrag leisten. <br><br>  Nachdem wir unsere Rolle auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> ver√∂ffentlicht hatten, war nur noch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Folgendes</a> √ºbrig: <br><br><ol><li>  Melden Sie sich bei Ansible Galaxy an, um Zugriff auf unsere Repositories auf GitHub zu erhalten. </li><li>  Importieren Sie unsere Rolle. </li></ol><br>  Das war's, jetzt ist unsere Rolle hello_world_k8s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> in Ansible Galaxy √∂ffentlich verf√ºgbar. <br><br><h3>  Hallo Ansible Operator, treffe Galaxy </h3><br>  Wenn Sie unser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hello World-Projekt auf GitHub</a> sorgf√§ltig studieren, werden Sie feststellen, dass wir dort einige Dinge hinzugef√ºgt haben, die zum Erstellen eines Ansible-Operators erforderlich sind, n√§mlich: <br><br><ol><li>  <a href="">Eine Watches-Datei</a> , die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">benutzerdefinierte Ressourcen von</a> Kubernetes Ansible-Rollen oder Playbooks zuordnet. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dockerfile</a> zum Aufbau unseres Betreibers. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stellen Sie ein Verzeichnis</a> mit Kubernetes-Objekten bereit, die zum Ausf√ºhren unseres Operators erforderlich sind. </li></ol><br>  Wenn Sie mehr dar√ºber erfahren m√∂chten, wie Sie Ihre eigenen Ansible-Anweisungen erstellen, verwenden Sie das <a href="">Benutzerhandbuch</a> .  Da wir jedoch versprochen haben, einen Ansible-Operator mit der in Ansible Galaxy ver√∂ffentlichten Rolle zu erstellen, ben√∂tigen wir nur eine Docker-Datei: <br><br><pre> <code class="plaintext hljs">FROM quay.io/operator-framework/ansible-operator RUN ansible-galaxy install djzager.hello_world_k8s RUN echo $'--- \n\ - version: v1alpha1\n\ group: examples.djzager.io\n\ kind: HelloWorld\n\ role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml</code> </pre><br>  Jetzt sammeln wir den Operator: <br><br><pre> <code class="plaintext hljs">$ docker build -t hello-world-operator -f Dockerfile . Sending build context to Docker daemon 157.2 kB Step 1/3 : FROM quay.io/operator-framework/ansible-operator latest: Pulling from operator-framework/ansible-operator Digest: sha256:1156066a05fb1e1dd5d4286085518e5ce15acabfff10a8145eef8da088475db3 Status: Downloaded newer image for quay.io/water-hole/ansible-operator:latest ---&gt; 39cc1d19649d Step 2/3 : RUN ansible-galaxy install djzager.hello_world_k8s ---&gt; Running in 83ba8c21f233 - downloading role 'hello_world_k8s', owned by djzager - downloading role from https://github.com/djzager/ansible-role-hello-world-k8s/archive/master.tar.gz - extracting djzager.hello_world_k8s to /opt/ansible/roles/djzager.hello_world_k8s - djzager.hello_world_k8s (master) was installed successfully Removing intermediate container 83ba8c21f233 ---&gt; 2f303b45576c Step 3/3 : RUN echo $'--- \n- version: v1alpha1\n group: examples.djzager.io\n kind: HelloWorld\n role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml ---&gt; Running in cced495a9cb4 Removing intermediate container cced495a9cb4 ---&gt; 5827bc3c1ca3 Successfully built 5827bc3c1ca3 Successfully tagged hello-world-operator:latest</code> </pre><br>  Es ist klar, dass Sie zur <b>Verwendung</b> dieses Operators den Inhalt des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bereitstellungsverzeichnisses</a> aus unserem Projekt ben√∂tigen, um ein Dienstkonto, eine Rollen- und Rollenbindung, eine benutzerdefinierte Ressourcendefinition zu erstellen und den Operator selbst bereitzustellen.  Nach der Bereitstellung des Operators m√ºssen Sie eine benutzerdefinierte Ressource erstellen, um eine Instanz der Hello World-Anwendung abzurufen: <br><br><pre> <code class="plaintext hljs">apiVersion: examples.djzager.io/v1alpha1 kind: HelloWorld metadata: name: example-helloworld namespace: default spec: size: 3</code> </pre><br><h3>  Operatorbereiche: Namespace und Cluster </h3><br>  Etwas h√∂her haben wir bereits vorgeschlagen, unser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bereitstellungsverzeichnis</a> zu durchsuchen und dort nach Kubernetes-Objekten zu suchen, die zum Starten des Operators erforderlich sind.  Es gibt drei Dinge, die den Umfang des Operators einschr√§nken, wenn benutzerdefinierte Ressourcen mit dem Namespace verwaltet werden, in dem der Operator selbst bereitgestellt wird: <br><br><ol><li>  Die Umgebungsvariable WATCH_NAMESPACE in der Datei <a href="">operator.yaml</a> , die dem Bediener mitteilt, wo nach benutzerdefinierten Ressourcen gesucht werden soll </li><li>  <a href="">role.yaml</a> </li><li>  <a href="">Rollenbindung</a> </li></ol><br>  Diese Einschr√§nkung ist sicherlich bei der Entwicklung von Betreibern n√ºtzlich.  Wenn wir jedoch m√∂chten, dass unsere Anwendung f√ºr alle Benutzer des Clusters zug√§nglich ist, ben√∂tigen wir die Hilfe eines Administrators.  Ich m√ºsste folgendes tun: <br><br><ol><li>  Erstellen Sie ClusterRole anstelle von Role. </li><li>  Erstellen Sie eine ServiceAccount-Anweisung in dem Namespace, in dem die Anweisung bereitgestellt wird. </li><li>  Erstellen Sie eine ClusterRoleBinding, die ein ServiceAccount aus einem bestimmten Namespace mit einer ClusterRole verkn√ºpft. </li><li>  Erweitern Sie die Anweisung mit einer undefinierten Umgebungsvariablen WATCH_NAMESPACE (d. H. ""). </li></ol><br>  Wenn Sie all diese Dinge tun, k√∂nnen die √ºbrigen Clusterbenutzer Instanzen unserer Hello World-Anwendung bereitstellen.  Wenn Sie an diesem Thema interessiert sind, empfehlen wir Ihnen, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operator Lifecycle Manager</a> (Teil des Operator Frameworks) zu studieren. <br><br><h3>  Star Trek </h3><br>  Wir haben gezeigt, wie Sie eine Ansible-Rolle erstellen, um eine Anwendung in Kubernetes zu steuern, diese Rolle in Ansible Galaxy zu ver√∂ffentlichen und im Ansible-Operator zu verwenden.  Wir hoffen Sie jetzt: <br><br><ol><li>  Sie verwenden das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k8s Ansible-Modul</a> . </li><li>  Ver√∂ffentlichen Sie Ihre Rollen f√ºr die Verwaltung von Kubernetes-Apps auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ansible Galaxy</a> . </li><li>  Interessieren Sie sich f√ºr das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operator SDK</a> und abonnieren Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unseren Operator Framework-Newsletter</a> . </li></ol><br>  Unsere Hello World-Anwendung wurde absichtlich extrem einfach gestaltet, aber es gibt Dinge, die dazu beitragen k√∂nnen, sie noch zuverl√§ssiger zu machen, und hier sind einige: <br><br><ol><li>  Verwenden des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operator SDK</a> - In unserem Beispiel haben wir dies absichtlich nicht getan, um zu betonen, wie einfach es ist, von der Ansible-Rolle zum Operator zu wechseln.  Es ist jedoch besser, diese Rolle weiterhin mit dem SDK zu verwenden (dh operator-sdk new). Dar√ºber hinaus ben√∂tigen Sie dies m√∂glicherweise in den n√§chsten Schritten. </li><li>  Validierung - In unserer aktuellen Version kann der Benutzer eine CR mit der Gr√∂√üe abc erstellen, was zwangsl√§ufig zu einem Fehler in der Bereitstellungsphase f√ºhrt.  Es ist daher besser, Fehler in der Spezifikationsphase und nicht nach Arbeitsbeginn zu erkennen. </li><li>  Lebenszyklus - In komplexeren Beispielen kann es sich um dasselbe Versionsupdate handeln.  In Szenarien wie unseren, in denen es nur eine Version der Hello World-Anwendung gibt, k√∂nnen wir feststellen, ob das Image eines Arbeitscontainers veraltet ist, indem wir es mit den verf√ºgbaren Images in der entsprechenden Containerregistrierung vergleichen und die laufenden Instanzen bei Bedarf aktualisieren. </li><li>  Testen - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Molecule ist</a> sehr n√ºtzlich beim Entwickeln und Testen von Ansible-Rollen. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Operator Lifecycle Manager</a> ist ein Toolkit zum Verwalten von Operatoren.  Die Integration hilft bei der Installation und Aktualisierung unseres Betreibers. </li><li>  Status - Wir k√∂nnten die Status-Unterressource in unserer Hello World-CRD aktivieren und das k8s_status-Modul, das Teil des Ansible Operator-Images ist, verwenden, um Statusinformationen in die benutzerdefinierte Ressource aufzunehmen. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440188/">https://habr.com/ru/post/de440188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440176/index.html">Sieben Cybersicherheitstrends f√ºr 2019</a></li>
<li><a href="../de440178/index.html">Rekursion in Python entfernen</a></li>
<li><a href="../de440180/index.html">Q # Programmierwettbewerb: Microsoft Q # Codierungswettbewerb</a></li>
<li><a href="../de440182/index.html">IBM Watson Studio - Eine Cloud-basierte Entwicklungsplattform f√ºr KI-Anwendungen</a></li>
<li><a href="../de440184/index.html">Warum wir GraphQL in 8base verwenden</a></li>
<li><a href="../de440190/index.html">Bekanntschaft mit dem einfachsten neuronalen Netz und dessen schrittweise Implementierung</a></li>
<li><a href="../de440192/index.html">Wie machen wir Firmenradio f√ºr unsere</a></li>
<li><a href="../de440196/index.html">Geheimnisse des Geistes und der Mathematik</a></li>
<li><a href="../de440198/index.html">Neue DWS 3D-Drucker f√ºr Profis</a></li>
<li><a href="../de440200/index.html">Lassen Sie uns √ºber die Protokollierung sprechen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>