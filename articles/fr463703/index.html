<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöµ üëäüèª üëÇ 7 indicateurs cl√©s de risque Active Directory dans le tableau de bord Varonis üöâ üë©üèø‚Äçü§ù‚Äçüë®üèª üóÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout ce dont un attaquant a besoin, c'est de temps et de motivation pour p√©n√©trer votre r√©seau. Mais notre travail avec vous est de l'emp√™cher de fair...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>7 indicateurs cl√©s de risque Active Directory dans le tableau de bord Varonis</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/varonis/blog/463703/"><img src="https://habrastorage.org/webt/9w/zd/ut/9wzdutk6dodooxj8jf-d972yx78.png"><br><br>  Tout ce dont un attaquant a besoin, c'est de temps et de motivation pour p√©n√©trer votre r√©seau.  Mais notre travail avec vous est de l'emp√™cher de faire cela, ou du moins de compliquer cette t√¢che autant que possible.  Vous devez commencer par identifier les faiblesses d'Active Directory (ci-apr√®s d√©nomm√©es AD) qu'un attaquant peut utiliser pour acc√©der et se d√©placer sur le r√©seau, sans √™tre d√©tect√©.  Aujourd'hui, dans cet article, nous allons examiner les indicateurs de risque qui refl√®tent les vuln√©rabilit√©s existantes dans la cyberd√©fense de votre organisation, en utilisant le tableau de bord AD Varonis comme exemple. <br><a name="habracut"></a><br><h2>  Les attaquants utilisent des configurations sp√©cifiques dans le domaine </h2><br>  Les attaquants utilisent de nombreuses astuces et vuln√©rabilit√©s pour p√©n√©trer le r√©seau d'entreprise et augmenter les privil√®ges.  Certaines de ces vuln√©rabilit√©s sont des param√®tres de configuration de domaine qui peuvent √™tre facilement modifi√©s apr√®s avoir √©t√© identifi√©s. <br><br>  Le tableau de bord AD vous avertira imm√©diatement si vous (ou vos administrateurs syst√®me) n'avez pas chang√© le mot de passe KRBTGT le mois dernier, ou si quelqu'un s'est authentifi√© avec le compte Administrateur par d√©faut int√©gr√© (Administrateur).  Ces deux comptes offrent un acc√®s illimit√© √† votre r√©seau: les attaquants tenteront d'y acc√©der pour contourner librement toute distinction de privil√®ges et d'autorisations d'acc√®s.  Et, par cons√©quent, pour acc√©der √† toutes les donn√©es qui les int√©ressent. <br><br>  Bien s√ªr, vous pouvez d√©tecter ces vuln√©rabilit√©s vous-m√™me: par exemple, d√©finissez un rappel de calendrier pour v√©rification ou ex√©cutez un script PowerShell pour collecter ces informations. <br><br>  Le tableau de bord Varonis est <strong>automatiquement</strong> mis √† jour pour fournir un affichage et une analyse rapides des mesures cl√©s qui mettent en √©vidence les vuln√©rabilit√©s potentielles afin que vous puissiez prendre des mesures imm√©diates. <br><br><h3>  3 indicateurs cl√©s de risque au niveau du domaine </h3><br>  Vous trouverez ci-dessous un certain nombre de widgets disponibles sur le tableau de bord Varonis, dont l'utilisation renforcera consid√©rablement la protection du r√©seau d'entreprise et de l'infrastructure informatique dans son ensemble. <br><br>  <strong>1. Le nombre de domaines pour lesquels le mot de passe du compte Kerberos n'a pas chang√© de mani√®re significative</strong> <br><br>  Le compte KRBTGT est un compte sp√©cial dans AD qui signe tous les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tickets Kerberos</a> .  Les attaquants qui ont acc√®s √† un contr√¥leur de domaine (DC) peuvent utiliser ce compte pour cr√©er un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ticket Golden</a> , qui leur donnera un acc√®s illimit√© √† presque tous les syst√®mes du r√©seau d'entreprise.  Nous avons √©t√© confront√©s √† une situation o√π, apr√®s avoir re√ßu avec succ√®s le Golden Ticket, l'attaquant a eu acc√®s au r√©seau de l'organisation pendant deux ans.  Si le mot de passe du compte KRBTGT dans votre entreprise n'a pas chang√© au cours des quarante derniers jours, le widget vous en informera. <br><br>  Quarante jours, c'est plus que suffisant pour qu'un attaquant puisse acc√©der au r√©seau.  Cependant, si vous fournissez et standardisez r√©guli√®rement le processus de modification de ce mot de passe, cela compliquera consid√©rablement la t√¢che d'un attaquant pour p√©n√©trer le r√©seau de l'entreprise. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kl/c7/lj/klc7ljtzudkxz1yjbnchn8tvdhk.jpeg"></div><br>  N'oubliez pas que conform√©ment √† la mise en ≈ìuvre du protocole Kerberos par Microsoft, vous devez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modifier le mot de passe</a> KRBTGT deux fois. <br><br>  √Ä l'avenir, ce widget AD vous rappellera quand il sera temps de changer √† nouveau le mot de passe KRBTGT pour tous les domaines de votre r√©seau. <br><br>  <strong>2. Nombre de domaines utilisant r√©cemment le compte administrateur int√©gr√©</strong> <br><br>  Selon le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">principe des moindres privil√®ges</a> , deux comptes sont fournis aux administrateurs syst√®me: le premier est un compte pour une utilisation quotidienne et le second pour les travaux administratifs planifi√©s.  Cela signifie que personne ne devrait utiliser le compte administrateur par d√©faut. <br><br>  Un compte administrateur int√©gr√© est souvent utilis√© pour simplifier le processus d'administration syst√®me.  Cela peut √™tre une mauvaise habitude, entra√Ænant un piratage.  Si cela se produit dans votre organisation, il vous sera difficile de distinguer la bonne utilisation de ce compte de l'acc√®s potentiellement malveillant. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_p/ru/tn/_prutnq-pofmz5eccutuxgkz9p4.jpeg"></div><br>  Si le widget affiche autre chose que z√©ro, cela signifie que quelqu'un ne fonctionne pas correctement avec les comptes administratifs.  Dans ce cas, vous devez prendre des mesures pour corriger et restreindre l'acc√®s au compte administrateur int√©gr√©. <br>  Une fois que vous avez atteint une valeur nulle pour le widget et que les administrateurs syst√®me n'utilisent plus ce compte pour leur travail, √† l'avenir, tout changement dans celui-ci indiquera une cyberattaque potentielle. <br><br>  <strong>3. Le nombre de domaines dans lesquels il n'y a pas de groupe d'utilisateurs prot√©g√©s (utilisateurs prot√©g√©s)</strong> <br><br>  Les anciennes versions d'AD prenaient en charge un type de cryptage faible - RC4.  Les pirates ont pirat√© RC4 il y a de nombreuses ann√©es, et maintenant pour un attaquant de pirater un compte qui utilise toujours RC4 est une t√¢che triviale.  La version d'Active Directory introduite dans Windows Server 2012 a introduit un groupe d'utilisateurs d'un nouveau type appel√© le groupe d'utilisateurs prot√©g√©s.  Il fournit des outils de s√©curit√© suppl√©mentaires et emp√™che l'authentification des utilisateurs √† l'aide du cryptage RC4. <br><br>  Ce widget montrera s'il n'y a pas un tel groupe dans aucun domaine de l'organisation afin que vous puissiez le corriger, c'est-√†-dire  activer un groupe d'utilisateurs prot√©g√©s et l'utiliser pour prot√©ger l'infrastructure. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tz/ym/a1/tzyma13-jsxx5fpr59tqs_hbxcs.jpeg"></div><br><h2>  Cibles l√©g√®res pour les attaquants </h2><br>  Les comptes d'utilisateurs sont la cible num√©ro un des attaquants - depuis les premi√®res tentatives de p√©n√©tration jusqu'√† l'escalade continue des privil√®ges et la dissimulation de leurs actions.  Les attaquants recherchent des cibles simples sur votre r√©seau √† l'aide des commandes PowerShell de base, souvent difficiles √† d√©tecter.  Retirez autant de ces cibles lumineuses de AD que possible. <br><br>  Les attaquants recherchent des utilisateurs avec des mots de passe illimit√©s (ou qui n'ont pas besoin de mots de passe), des comptes technologiques qui sont des administrateurs et des comptes qui utilisent l'ancien cryptage RC4. <br><br>  L'acc√®s √† l'un de ces comptes est insignifiant ou, en r√®gle g√©n√©rale, n'est pas surveill√©.  Les attaquants peuvent pirater ces comptes et se d√©placer librement dans votre infrastructure. <br><br>  Une fois que les attaquants ont p√©n√©tr√© le p√©rim√®tre de s√©curit√©, ils sont susceptibles d'acc√©der √† au moins un compte.  Pouvez-vous les emp√™cher d'acc√©der √† des donn√©es sensibles avant de d√©tecter et de mettre fin √† l'attaque? <br><br>  Le tableau de bord Varonis AD pointera vers les comptes d'utilisateurs vuln√©rables afin que vous puissiez r√©soudre les probl√®mes √† l'avance.  Plus il est difficile de p√©n√©trer √† l'int√©rieur de votre r√©seau, plus vous avez de chances de neutraliser un attaquant avant qu'il ne fasse de gros d√©g√¢ts. <br><br><h3>  4 indicateurs de risque cl√©s pour les comptes utilisateurs </h3><br>  Voici des exemples de widgets dans le tableau de bord Varonis AD qui indiquent les comptes d'utilisateurs les plus vuln√©rables. <br><br>  <strong>1. Le nombre d'utilisateurs actifs avec des mots de passe qui n'expirent jamais</strong> <br><br>  Pour tout attaquant, acc√©der √† un tel compte est toujours un grand succ√®s.  √âtant donn√© que le mot de passe n'expire jamais, l'attaquant obtient un point d'ancrage permanent au sein du r√©seau, qui peut ensuite √™tre utilis√© pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">augmenter les privil√®ges</a> ou se d√©placer dans l'infrastructure. <br>  Les attaquants ont des listes avec des millions de combinaisons utilisateur-mot de passe qu'ils utilisent dans les attaques de substitution d'informations d'identification, et la probabilit√© <br>  que la combinaison pour l'utilisateur avec le mot de passe "√©ternel" figure dans l'une de ces listes, bien plus que z√©ro. <br><br>  Les comptes dont les mots de passe n'expirent pas sont faciles √† g√©rer, mais ils ne sont pas s√©curis√©s.  Utilisez ce widget pour trouver tous les comptes qui ont ces mots de passe.  Modifiez ce param√®tre et mettez √† jour le mot de passe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2n/9z/li/2n9zlijdxnpv_d-oejd64qbaj-8.jpeg"></div><br>  D√®s que la valeur de ce widget devient nulle, tout nouveau compte cr√©√© avec ce mot de passe appara√Ætra sur le tableau de bord. <br><br>  <strong>2. Le nombre de comptes administratifs avec SPN</strong> <br><br>  SPN (Service Principal Name) est un identifiant unique pour une instance d'un service.  Ce widget montre combien de comptes de service ont des droits d'administrateur complets.  La valeur sur le widget doit √™tre nulle.  Un SPN avec des droits d'administrateur se produit parce que l'octroi de ces droits est pratique pour les fournisseurs de logiciels et les administrateurs d'applications, mais cela pose un risque pour la s√©curit√©. <br><br>  L'octroi de privil√®ges d'administrateur de compte de service permet √† un attaquant d'obtenir un acc√®s complet √† un compte non utilis√©.  Cela signifie que les attaquants ayant acc√®s aux comptes SPN peuvent agir librement √† l'int√©rieur de l'infrastructure et en m√™me temps √©viter de surveiller leurs actions. <br><br>  Vous pouvez r√©soudre ce probl√®me en modifiant les autorisations pour les comptes de service.  Ces comptes doivent ob√©ir au principe du moindre privil√®ge et ne disposer que de l'acc√®s r√©ellement n√©cessaire √† leur travail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/nz/vz/ronzvz9-hue_1o6qamdrpk4tm4g.jpeg"></div><br>  En utilisant ce widget, vous pouvez trouver tous les SPN qui ont des droits d'administrateur, √©liminer ces privil√®ges et contr√¥ler davantage le SPN, guid√© par le m√™me principe d'acc√®s avec le moins de privil√®ges. <br><br>  Le SPN nouvellement apparu sera affich√© sur le tableau de bord, et vous pouvez contr√¥ler ce processus. <br><br>  <strong>3. Nombre d'utilisateurs qui ne n√©cessitent pas de pr√©-authentification Kerberos</strong> <br><br>  Id√©alement, Kerberos crypte un ticket d'authentification √† l'aide du cryptage AES-256, qui reste intact √† ce jour. <br><br>  Cependant, les anciennes versions de Kerberos utilisaient le cryptage RC4, qui peut d√©sormais √™tre craqu√© en quelques minutes.  Ce widget montre quels comptes d'utilisateurs utilisent encore RC4.  Microsoft prend toujours en charge RC4 pour la compatibilit√© descendante, mais cela ne signifie pas que vous devez l'utiliser dans votre AD. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/b3/iz/iab3izxlvovxr29lko7ctpkkz3e.jpeg"></div><br>  Une fois que vous avez trouv√© de tels comptes, vous devez d√©cocher la case ¬´Ne n√©cessite pas de pr√©-autorisation Kerberos¬ª dans AD afin que les comptes utilisent un cryptage plus complexe. <br><br>  La d√©couverte de ces comptes sans le tableau de bord Varonis AD prend beaucoup de temps.  En r√©alit√©, √™tre inform√© en temps opportun de tous les comptes modifi√©s pour utiliser le cryptage RC4 est une t√¢che encore plus difficile. <br><br>  Si la valeur du widget change, cela peut indiquer des actions ill√©gales. <br><br>  <strong>4. Le nombre d'utilisateurs sans mot de passe</strong> <br><br>  Les attaquants utilisent les commandes PowerShell de base pour lire l'indicateur "PASSWD_NOTREQD" dans les propri√©t√©s AD des propri√©t√©s du compte.  L'utilisation de cet indicateur signifie qu'il n'y a aucune exigence pour la pr√©sence ou la complexit√© d'un mot de passe. <br>  Est-il facile de voler un compte avec un mot de passe simple ou vierge?  Imaginez maintenant que l'un de ces comptes soit un administrateur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9q/2d/sk/9q2dskiiz2lxugt8ackzhatunym.jpeg"></div><br>  Et si l'un des milliers de fichiers confidentiels ouverts √† tous est un prochain rapport financier? <br><br>  Ignorer l'exigence de saisie obligatoire du mot de passe est un autre raccourci vers l'administration syst√®me qui a souvent √©t√© utilis√© dans le pass√©, mais aujourd'hui, il est inacceptable et dangereux. <br><br>  R√©solvez ce probl√®me en mettant √† jour les mots de passe de ces comptes. <br><br>  La surveillance de ce widget √† l'avenir vous aidera √† √©viter les comptes d'utilisateurs sans mot de passe. <br><br><h2>  Varonis √©galise les chances </h2><br>  Dans le pass√©, le travail de collecte et d'analyse des m√©triques dans l'article prenait de nombreuses heures et n√©cessitait une connaissance approfondie de PowerShell: les sp√©cialistes de la s√©curit√© devaient allouer des ressources pour ces t√¢ches chaque semaine ou chaque mois.  Mais la collecte et le traitement manuels de ces informations donnent aux attaquants une longueur d'avance pour la p√©n√©tration et le vol de donn√©es. <br><br>  Avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Varonis,</a> vous passerez une journ√©e √† d√©ployer le tableau de bord AD et des composants suppl√©mentaires, pour collecter toutes les vuln√©rabilit√©s consid√©r√©es et bien d'autres.  √Ä l'avenir, pendant le fonctionnement, le tableau de bord sera automatiquement mis √† jour √† mesure que l'√©tat de l'infrastructure change. <br><br>  La conduite de cyberattaques est toujours une course entre les attaquants et les d√©fenseurs, le d√©sir d'un attaquant de voler des donn√©es avant que les experts en s√©curit√© puissent en bloquer l'acc√®s.  La d√©tection pr√©coce des cybercriminels et de leurs actions ill√©gales, combin√©e √† une forte cyberd√©fense, est la cl√© pour garantir la s√©curit√© de vos donn√©es. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463703/">https://habr.com/ru/post/fr463703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463689/index.html">EDC d'un sp√©cialiste informatique en bonne sant√©: je porte tout avec moi</a></li>
<li><a href="../fr463691/index.html">Comment connecter et d√©marrer facilement l'impression via une imprimante Bluetooth EPS / POS portable dans l'application Xamarin Android</a></li>
<li><a href="../fr463693/index.html">Projecteur sonore avec ¬´lentilles acoustiques¬ª - nous comprenons comment fonctionne la technologie</a></li>
<li><a href="../fr463697/index.html">Etude du syst√®me de l√©vitation magn√©tique √† contr√¥le modal</a></li>
<li><a href="../fr463701/index.html">Antiquit√©s: Nokia N900 - un t√©l√©phone diff√©rent</a></li>
<li><a href="../fr463707/index.html">O√π la technologie immersive nous plonge</a></li>
<li><a href="../fr463709/index.html">12 meilleures innovations DJI Osmo Mobile 3</a></li>
<li><a href="../fr463711/index.html">Comment faire apprendre aux employ√©s √† travailler eux-m√™mes dans de nouveaux syst√®mes</a></li>
<li><a href="../fr463717/index.html">Cr√©ation d'une application Bare-Metal sur Intel Cyclone V pour les d√©butants absolus</a></li>
<li><a href="../fr463719/index.html">Outils de m√©thode de gestion de projet (partie 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>