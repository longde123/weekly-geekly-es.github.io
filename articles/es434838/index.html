<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥üèø üëÖ üìÖ Crear un bot para participar en el CodeBall ruso de la Copa AI 2018 üë®‚Äçüë©‚Äçüëß‚Äçüëß üèΩ üì≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se ha convertido en una tradici√≥n que despu√©s de las competiciones de programaci√≥n deportiva, el ganador o simplemente un jugador publique un art√≠culo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crear un bot para participar en el CodeBall ruso de la Copa AI 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434838/"><img src="https://habrastorage.org/webt/sg/pq/la/sgpqlaxh9ox5tpwgvj2svnw9vgq.jpeg"><br><br>  Se ha convertido en una tradici√≥n que despu√©s de las competiciones de programaci√≥n deportiva, el ganador o simplemente un jugador publique un art√≠culo sobre Habr√© para contar lo bueno que fue participar en la competencia y como una opci√≥n para ganarla.  Por supuesto, se puede extraer mucho de su art√≠culo para futuras competiciones. <br><br>  Pero creo que hay pocos art√≠culos sobre la participaci√≥n en la competencia actual en la etapa de prueba beta, est√° claro que no puedes publicar el c√≥digo de decisi√≥n, a√∫n se desconoce qu√© tan buena es esta decisi√≥n y a√∫n se desconoce mucho, porque ahora, de hecho, es solo el comienzo del torneo, pero ese es el encanto.  El autor le da al lector la oportunidad de subir a un tren que sale y disfrutar de un viaje de A√±o Nuevo al mundo de las estrategias de juego. <br><a name="habracut"></a><br>  En primer lugar, gracias por abrir el art√≠culo, quiero compartir un secreto de inmediato: esta ser√° una serie de art√≠culos en los que espero tocar algoritmos gen√©ticos y redes neuronales.  Mientras tanto, como ya se escribi√≥ anteriormente, bienvenido a un viaje al Code AI Ball ruso de la Copa AI. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace a la p√°gina de inicio r√°pido del campeonato.</a> <br><br>  En el enlace anterior, el lector podr√° encontrar las reglas del campeonato, las reglas del juego en s√≠ y la parte principal del aparato matem√°tico necesario para crear el bot.  Tambi√©n en la p√°gina de inicio r√°pido hay ejemplos de bots ya escritos para varios lenguajes de programaci√≥n, lo que facilita enormemente el inicio inicial. <br><br>  Comencemos con un t√≠tulo simple de campeonato CodeBall. <br><br>  Una buena combinaci√≥n de las palabras c√≥digo y pelota, casi f√∫tbol.  Las reglas y la l√≥gica del juego tambi√©n son similares al f√∫tbol, ‚Äã‚Äãpero con cada ronda se vuelven m√°s complicadas, por lo que tomaremos como base las condiciones iniciales de los juegos. <br><br>  La esencia del juego, como se indica en una canci√≥n reciente: los jugadores deben anotar, y el portero para golpear las bolas. <br><br>  Campo de juego esquem√°tico: <br><br><img src="https://habrastorage.org/webt/hv/bg/2t/hvbg2teknndzvxg8kwbyjzaf-m0.jpeg"><br><br>  Tenga en cuenta que los robots se mueven en el plano del piso de la arena XZ, el eje Y es responsable de la altura del objeto del juego. <br><br>  Tambi√©n esquem√°ticamente objetos del juego (pelota y bots (los organizadores los llaman robots)) <br><br><img src="https://habrastorage.org/webt/d6/vx/rk/d6vxrkqw2yuka3viojviisk62l8.jpeg"><br><br>  Ahora algo de texto para apoyar las im√°genes.  El campo de juego es un espacio cerrado tridimensional, ni la pelota ni los robots pueden ir m√°s all√°.  En este espacio, hay dos √°reas de la "puerta" cuando se golpea en la que uno de los jugadores considera que la pelota es anotada.  Para que se cuente el gol, es necesario que la pelota est√© completamente detr√°s de las l√≠neas de gol (indicado por una l√≠nea punteada en la figura). <br><br>  Para simplificar los c√°lculos de colisiones (colisiones) de los objetos del juego (arena, pelota, bots), los bots y la pelota se consideran esferas ideales (bolas), que se describen mediante los siguientes valores: radio de la esfera, coordenadas del centro de la esfera, masa, velocidad.  La arena tambi√©n se describe mediante primitivas matem√°ticas ideales, por lo que se prescinde del c√°lculo de colisi√≥n sin la participaci√≥n de pol√≠gonos, lo que simplifica enormemente la tarea.  Si te desplazas por las reglas del campeonato hasta el final, all√≠ el lector encontrar√° un programa en pseudoc√≥digo, que solo es responsable de los c√°lculos anteriores.  Este pseudoc√≥digo, despu√©s de un peque√±o esfuerzo f√≠sico, se traduce al lenguaje de programaci√≥n de su elecci√≥n y es bastante viable.  Pero m√°s sobre eso m√°s tarde. <br><br>  Algunas palabras sobre la f√≠sica del mundo del juego.  Para dar credibilidad a lo que est√° sucediendo en la arena, se introduce la gravedad, es decir, los bots y la pelota se ven constantemente afectados por la fuerza de gravedad dirigida hacia abajo en relaci√≥n con el piso de la arena.  Los organizadores ignoraron las otras formas de interacci√≥n f√≠sica, como la fricci√≥n o las velocidades angulares (rotaci√≥n) de los objetos, a favor de la simplicidad de la descripci√≥n del mundo f√≠sico.  Al golpear las paredes de la arena, la pelota pierde parte de su energ√≠a, pero esto no complica mucho el mundo y es comprensible desde el exterior que no hay forma de crear una m√°quina de movimiento perpetuo en forma de pelota. <br><br>  Para hacer que el mundo parezca a√∫n m√°s plausible, se ha aplicado un esquema de c√°lculos con Ticks y Mikrotiks.  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">su primer art√≠culo, el</a> autor se refiri√≥ en detalle al concepto de tiempo de juego de la teca.  En esta competencia, podemos ver el motor f√≠sico en los c√≥digos fuente, como √©l dijo, nos ser√° √∫til en el futuro, y descubrir que para los jugadores hay Tics, y dentro del motor todo sucede en Mikrotik, por defecto 100 Mikrotik en un tic, lo que hace posible una mayor precisi√≥n describa colisiones de objetos y evite cosas tan desagradables como la falla de los objetos fuera de la arena o la falla de los objetos entre s√≠ que conducen a errores en la interacci√≥n entre ellos. <br><br><img src="https://habrastorage.org/webt/x-/-3/yw/x--3ywtl_im8cqna5u8kzhaxol4.jpeg"><br><br>  De alguna manera descubrimos el mundo (arena) y el tiempo de juego, echemos un vistazo a los objetos del juego: los bots y la pelota.  La pelota que ya descubrimos de las reglas de la competencia es una esfera.  Para ser breve, un bot es una bola de un radio m√°s peque√±o y una masa m√°s grande, a la que se le pueden dar comandos: indique la velocidad deseada (este es un vector tridimensional que contiene tanto la direcci√≥n como la longitud o magnitud de la velocidad) y la fuerza del salto si el salto es actualmente aconsejable desde el punto de vista La l√≥gica del juego.  En esta etapa de la competencia, se ha introducido una simplificaci√≥n de que si el bot est√° en vuelo (no toca las paredes de la arena), entonces no tiene la capacidad de ejecutar comandos para cambiar la velocidad. <br><br>  Pasamos a lo m√°s dif√≠cil o viceversa, todo depende de la experiencia del lector al trabajar con vectores tridimensionales.  Descripci√≥n de la ubicaci√≥n de los objetos del juego.  Imagen de soporte <br><br><img src="https://habrastorage.org/webt/hi/o_/oc/hio_ocfzpjgrcca_8txes-nvuno.jpeg"><br><br>  Vayamos a la bot√°nica. <br><br>  En cada tic del juego, su estrategia recibir√° los siguientes objetos: <br><br>  Pelota: <br><br><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Ball</span></span></span><span class="hljs-class">:</span></span> x: Float <span class="hljs-comment"><span class="hljs-comment">//     y: Float z: Float velocity_x: Float //    velocity_y: Float velocity_z: Float radius: Float //  </span></span></code> </pre> <br>  y una lista de bots, con datos para cada bot: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Robot</span></span></span><span class="hljs-class">:</span></span> id: Int player_id: Int is_teammate: Bool <span class="hljs-comment"><span class="hljs-comment">// true,      x: Float //     y: Float z: Float velocity_x: Float //    velocity_y: Float velocity_z: Float radius: Float //    nitro_amount: Float //     touch: bool // true,      touch_normal_x: Float //        touch_normal_y: Float ( null,   ) touch_normal_z: Float</span></span></code> </pre><br>  Puede ver de inmediato que es inconveniente trabajar con estos datos, es conveniente introducir un vector 3D de clase (objeto) y un vector 2D de clase.  Mucho depender√° del lenguaje de programaci√≥n que elija.  Por lo general, estas clases ya est√°n escritas y se encuentran f√°cilmente en Internet para el lenguaje de programaci√≥n deseado.  El autor ahora est√° escribiendo un bot en c ++, pero intentar√° limitarse al pseudoc√≥digo.  Si introduce clases completas de vectores, las operaciones de suma, resta, multiplicaci√≥n, normalizaci√≥n y otras operaciones de vectores permanecer√°n dentro de la clase, lo que simplificar√° enormemente el trabajo en la estrategia. <br><br>  Tambi√©n hay una clase de jugador que indica qu√© bots de la lista son tuyos, cu√°les son: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Player</span></span></span><span class="hljs-class">:</span></span> id: Int me: Bool <span class="hljs-comment"><span class="hljs-comment">// true,      strategy_crashed: Bool score: Int //   </span></span></code> </pre> <br>  Despu√©s de transmitir datos sobre el mundo del juego a la entrada de su estrategia, el motor del juego le da control e inicia un temporizador para los c√°lculos, el tiempo para los c√°lculos es limitado, en promedio, unos 20 milisegundos para todas las acciones dentro de la marca.  Existe la sospecha de que en este momento tambi√©n incluye tiempo para deserializar los datos recibidos y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">serializar los</a> datos enviados por su estrategia al servidor.  Pero como el n√∫mero de bots es 4 (tus oponentes 2 y 2, entonces, en la ronda final, el n√∫mero total de bots aumentar√° a 6), el tiempo para estas operaciones puede ser descuidado. <br><br>  Ha llegado el momento de los equipos. <br><br>  Por ejemplo, queremos darle al bot una orden de moverse hacia la pelota.  Para encontrar el vector deseado de la direcci√≥n de la velocidad es necesario restar la posici√≥n del bot de la posici√≥n de la pelota, obtenemos el vector de direcci√≥n de la pelota, luego se puede normalizar y multiplicar por la velocidad m√°xima del bot de las constantes del mundo.  En la foto mas <br><br><img src="https://habrastorage.org/webt/_w/tz/hv/_wtzhv47vva6poib76fowhvsarw.jpeg"><br><br>  Probablemente, el lector not√≥ en la diapositiva que los c√°lculos se pueden realizar tanto para vectores 3D como para vectores 2D.  Si tenemos en cuenta el hecho de que el bot pasa m√°s tiempo en el plano del piso de la arena, entonces simplificar los c√°lculos a dos coordenadas no afectar√° la precisi√≥n de los c√°lculos para interceptar la pelota.  Por supuesto, no debes olvidarte de la altura de la pelota, pero teniendo en cuenta la gravedad, tarde o temprano se hundir√° en el bot. <br><br>  Un salto bot es la suma de la velocidad vertical (velocidad vertical), la direcci√≥n del salto del bot coincidir√° con la direcci√≥n de la velocidad actual del bot con la adici√≥n de un componente a lo largo del eje Y. <br><br>  Si agregamos una l√≥gica de movimiento m√°s compleja a las palabras anteriores, entonces podemos obtener el siguiente comportamiento de los bots: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3gCegLS58dE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ahora hay</a> un sandbox <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el sitio</a> donde puedes ver los juegos, pero nada se siente si escribes tu estrategia y sigues sus juegos.  Se ha establecido experimentalmente que incluso la estrategia m√°s simple que consiste en varias decenas de l√≠neas de c√≥digo puede jugar bastante bien. <br><br>  De las formas simples de estrategias que vienen a la mente, la estrategia de asignar un bot para proteger la puerta, el segundo bot para hacer un atacante.  La tarea principal del atacante es perseguir la pelota y, si tiene √©xito, golpear hacia la meta del oponente.  Un bot que juega como portero generalmente tiene un movimiento limitado en el campo y opera principalmente en el √°rea de porter√≠a.  Todas estas cosas se describen f√°cilmente utilizando construcciones if-else de su idioma elegido.  En cualquier caso, mi lector tendr√° que idear y crear una estrategia en esta etapa.  De acuerdo con los t√©rminos de la competencia, no puede publicar el c√≥digo fuente de la estrategia.  Pero creo que no est√° prohibido discutir enfoques para dise√±ar una estrategia. <br><br>  Me parece que los organizadores del concurso eligieron un tema interesante para el torneo, el √∫nico sitio es un poco lento, pero espero que se solucione pronto. <br><br>  Algunos hermosos momentos del juego del participante del campeonato: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/RxTf2ep17jU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Estoy esperando comentarios en los comentarios sobre el art√≠culo, en qu√© pensar con m√°s detalle. <br>  En el pr√≥ximo art√≠culo tratar√© de describir m√©todos para predecir el comportamiento de la pelota a tiempo para un juego de bots m√°s significativo en tu estrategia. <br><br>  Mientras tanto, ¬°felicidades por el pr√≥ximo a√±o nuevo 2019! <br><br>  Continuar√° </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es434838/">https://habr.com/ru/post/es434838/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es434824/index.html">Ingenier√≠a Pol√≠tico-El√©ctrica. Modelado de procesos sociopol√≠ticos por circuitos el√©ctricos.</a></li>
<li><a href="../es434826/index.html">El campo de cama a tiempo, o 5 signos de problemas ocultos en el equipo.</a></li>
<li><a href="../es434828/index.html">Convi√©rtete en un profesional. H√°bitos √∫tiles de dise√±adores UX</a></li>
<li><a href="../es434830/index.html">Componentes de reacci√≥n final</a></li>
<li><a href="../es434836/index.html">Maravillosa anotaci√≥n de versi√≥n en JPA</a></li>
<li><a href="../es434840/index.html">¬øC√≥mo hice "Your Diary" - o la situaci√≥n en el mercado de diarios electr√≥nicos</a></li>
<li><a href="../es434842/index.html">Las granjas de la ciudad pueden ser extremadamente efectivas, pero no ahora</a></li>
<li><a href="../es434844/index.html">Recuperaci√≥n de las capacidades cognitivas de 100 pacientes (traducci√≥n del art√≠culo de Dale Bredesen)</a></li>
<li><a href="../es434848/index.html">El Consejo de Administraci√≥n de Tesla incluye dos directores independientes: Larry Ellison y Caitlin Wilson-Thompson.</a></li>
<li><a href="../es434854/index.html">Panel de control de bricolaje nave espacial de bricolaje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>