<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö• üë®üèæ‚Äçüåæ üëçüèº Infrastruktur f√ºr √∂ffentliche Schl√ºssel: Dienstprogramm zur Generierung qualifizierter Zertifikatsanforderungen ‚úåüèæ üßëüèø‚Äçü§ù‚ÄçüßëüèΩ üì∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eines der zentralen Objekte der Public Key Infrastructure (PKI / PKI) ist neben dem Schl√ºsselpaar ein Zertifikat, das heute eigentlich ein Analogon ei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Infrastruktur f√ºr √∂ffentliche Schl√ºssel: Dienstprogramm zur Generierung qualifizierter Zertifikatsanforderungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412993/"><img src="https://habrastorage.org/webt/oj/xx/7a/ojxx7arqczn6pv4ldcq3zjoqdwm.png" align="left" alt="Bild">  Eines der zentralen Objekte der Public Key Infrastructure (PKI / PKI) ist neben dem Schl√ºsselpaar ein Zertifikat, das heute eigentlich ein Analogon eines Zivilpasses ist. <br><a name="habracut"></a><br>  Mit einem Zertifikat in der Hand kann ein B√ºrger Zugang zum State Services-Portal erhalten, Steuern zahlen, seine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="black">E-Mails</font></a> sch√ºtzen, Dokumente signieren und verschl√ºsseln und vieles mehr. <br><br>  Eine Bescheinigung wird wie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="black">Reisepass</font></a> auf der Grundlage eines Antrags und der Bereitstellung einer Reihe von Dokumenten ausgestellt.  Die Liste der Dokumente zur Erlangung eines Zertifikats befindet sich in jedem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font color="black">vom Ministerium f√ºr Kommunikation akkreditierten</font></a> Zertifizierungszentrum (der neue Name lautet Ministerium f√ºr digitale Entwicklung, Telekommunikation und Massenkommunikation).  Der Passantrag hat die handschriftliche Unterschrift des Antragstellers.  Nach Erhalt des Passes wird der Antragsteller seine Unterschrift auf den Pass setzen, der vom Mitarbeiter des Passb√ºros und dem offiziellen Stempel best√§tigt wird.  Das Foto und die F√§higkeit des Eigent√ºmers, seine Unterschrift zu reproduzieren und ihn als Eigent√ºmer eines bestimmten Passes zu identifizieren. <br><br>  Ein √§hnliches Schema wird verwendet, um ein Zertifikat eines SKEPEP (Electronic Signature Verification Key) zu erhalten.  Erstens muss ein B√ºrger, der eine Bescheinigung erhalten m√∂chte, die ‚ÄûF√§higkeit‚Äú erwerben, seine eigene Unterschrift anzubringen.  Diese ‚ÄûF√§higkeit‚Äú wird dadurch realisiert, dass der Antragsteller ein Schl√ºsselpaar erh√§lt, das den √∂ffentlichen Schl√ºssel oder den Verifizierungsschl√ºssel f√ºr die elektronische Signatur (KEPP) und den privaten Schl√ºssel oder den Schl√ºssel f√ºr die elektronische Signatur enth√§lt. Auf diese Weise k√∂nnen Sie eine elektronische Signatur erstellen und ein elektronisches Dokument unterschreiben.  Die Identifizierung einer elektronischen Signatur unter einem Dokument erfolgt nach dem folgenden Algorithmus.  Aus dem Zertifikat wird bestimmt, mit welchem ‚Äã‚ÄãSchl√ºssel (GOST R 34.10-2001, GOST R 34.10-2012 mit einer Schl√ºssell√§nge von 64 oder 128 Byte) das Dokument signiert wurde.  Der Schl√ºsseltyp bestimmt den Hashing-Algorithmus, der beim Signieren des Dokuments verwendet wurde.  Es kann GOST R 34.11-94 oder GOST R 34.11-2012 mit einer Hash-L√§nge von 256 oder 512 Bit sein.  Entsprechend dem ausgew√§hlten Algorithmus wird der Hash aus dem Quelldokument ber√ºcksichtigt.  Durch den Wert des berechneten Hashs aus dem Quelldokument, dem √∂ffentlichen Schl√ºssel (KEPP) und seinen Parametern (all dies wird dem SKEPEP-Zertifikat entnommen) wird die Echtheit der elektronischen Signatur unter dem Dokument √ºberpr√ºft. <br><br>  Um ein Schl√ºsselpaar zu erstellen, werden verschiedene Mittel zum Schutz kryptografischer Informationen (CPSI) verwendet, die die kryptografischen Algorithmen GOST R 34.10-2001 und GOST R 34.10-2012 unterst√ºtzen.  Es ist zu beachten, dass die Verwendung des Signaturschemas GOST R 34.10-2001 zum Generieren einer Signatur nach dem 31. Dezember 2018 nicht zul√§ssig ist!  Tools zum Schutz kryptografischer Informationen, die verschiedene kryptografische Algorithmen und Protokolle implementieren, k√∂nnen sowohl Software als auch Hardware sein.  Der Zugriff auf den Schutz kryptografischer Informationen erfolgt √ºber kryptografische Schnittstellen.  Die √ºberwiegende Mehrheit der zertifizierten kryptografischen Informationsschutzsysteme mit russischer Kryptografie unterst√ºtzt entweder die universelle kryptografische <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PKCS # 11-</a> Schnittstelle, die auf allen Plattformen unterst√ºtzt wird, oder die Microsoft CSP- und CryptoAPI-Schnittstelle auf MS Windows-Plattformen (im Folgenden als MS CSP bezeichnet).  Diese beiden kryptografischen Schnittstellen werden beispielsweise vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">State Services-</a> Portal unterst√ºtzt.  Diese beiden Arten des Schutzes kryptografischer Informationen werden weiter betrachtet: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/dn/-e/vcdn-ez89g9m5u-itxktdzpz5xo.png"></div><br>  Es sollte ber√ºcksichtigt werden, dass PKCS # 11-Token mit Unterst√ºtzung f√ºr die russische Kryptographie ausgew√§hlt werden sollten, wenn nicht nur auf der Windows-Plattform, sondern auch auf anderen Plattformen (Linux, macOS usw.) mit einer elektronischen Signatur gearbeitet werden soll oder muss. <br><br>  Zus√§tzlich zu der Hauptfunktion zum Generieren einer Anforderung bietet das Dienstprogramm Funktionen zum Arbeiten mit Token und Zertifikaten: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_l/xb/ym/_lxbymxhvhc1xndtjgtihfdxcxk.png"></div><br>  Kombiniertes Feld (Combobox) ‚ÄûToken ausw√§hlen:‚Äú im Hauptfenster enth√§lt eine Liste der verf√ºgbaren Tools zum Schutz kryptografischer Informationen zum Generieren eines Schl√ºsselpaars.  Wenn das Dienstprogramm zur Anforderungsgenerierung auf der Windows-Plattform ausgef√ºhrt wird und CSP-Kryptografieanbieter mit Unterst√ºtzung f√ºr russische Kryptografie darauf installiert sind, wird das virtuelle MS_CSP-Token in der Liste der verf√ºgbaren Tools zum Schutz kryptografischer Informationen definiert (‚ÄûToken ausw√§hlen:‚Äú).  Wenn Sie den kryptografischen MS CSP-Anbieter verwenden m√∂chten, muss er vor dem Starten des Dienstprogramms auf dem System installiert werden. <br><br>  Um Unterst√ºtzung f√ºr das neue PKCS # 11-Token hinzuzuf√ºgen, w√§hlen Sie einfach den Men√ºpunkt "Token-Verwaltung-&gt; Token hinzuf√ºgen".  Das Hinzuf√ºgen von Unterst√ºtzung f√ºr das neue Token besteht darin, die PKCS # 11-Bibliothek f√ºr den Plug-In-Typ von Token / Smartcards auszuw√§hlen und einen geeigneten Namen (Spitznamen) festzulegen.  Wenn Sie Unterst√ºtzung f√ºr einen neuen Token-Typ (sowie beim Starten des Dienstprogramms, wenn zuvor Token-Unterst√ºtzung hinzugef√ºgt wurde) mit einem verbundenen (eingef√ºgten) Token hinzuf√ºgen, ist ein PIN-Code erforderlich, um darauf zuzugreifen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tz/pw/g5/tzpwg5izj72633dy3jfiathk0hs.png"></div><br>  Dies geschieht jedoch nur, wenn das Token nicht nur verbunden ist, sondern auch funktioniert, d. H.  initialisiert.  √úberpr√ºfen Sie das Token und initialisieren Sie es gegebenenfalls, √§ndern Sie den PIN-Code, um darauf zuzugreifen usw.  bequem mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem</a> Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">p11conf</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21d/1cf/366/21d1cf3666f3412d9fcd8d997bffb8ca.png"></div><br>  Durch Auswahl des Elements ‚ÄûToken-Verwaltung-&gt; Token-Mechanismen‚Äú k√∂nnen Sie die kryptografischen Mechanismen eines bestimmten Tokens anzeigen. Wird beispielsweise der GOST R 34.10-2012-Algorithmus unterst√ºtzt?  F√ºr das virtuelle Token MS_CSP werden alle CSP-Anbieter aufgelistet, die GOST-Algorithmen und die von ihnen unterst√ºtzten Mechanismen unterst√ºtzen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u5/xo/j9/u5xoj9n5ygmohcjb718bdeynkiw.png"></div><br>  Wenn das ausgew√§hlte Token den ausgew√§hlten Schl√ºsselpaartyp nicht unterst√ºtzt, wird eine entsprechende Meldung angezeigt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-0/y0/1v/-0y01vvdha5trgbxtq25w-delp4.png"></div><br>  Bevor Sie direkt mit dem Ausf√ºllen der Anforderungsfelder fortfahren, m√ºssen Sie entscheiden, f√ºr welchen Zweck ein Zertifikat ben√∂tigt wird, d. H.  Geben Sie die "Rolle des Zertifikats" an.  Heute haben sich solche Rollen mehr als ein Dutzend angesammelt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_k/tv/un/_ktvunitat6so9hhfeeingam868.png"></div><br>  Jede Rolle ist mit vielen verschiedenen OIDs verkn√ºpft, die im Zertifikat enthalten sind.  So werden beispielsweise f√ºr den Zugang zum Portal der √∂ffentlichen Dienste folgende Oids ben√∂tigt: <br><br><pre><code class="plaintext hljs">{} {clientAuth, emailProtection, 1.3.6.1.4.1.311.20.2.2, 1.2.643.100.2.1, 1.2.643.2.2.34.6, 1.3.6.1.5.5.7.3.2, 1.3.6.1.5.5.7.3.4, 1.2.643.5.1.24.2.1.3, 1.2.643.6.14, 1.2.643.3.215.4, 1.2.643.3.215.5, 1.2.643.3.215.6, 1.2.643.3.215.7, 1.2.643.3.215.8, 1.2.643.3.215.9, 1.2.643.3.215.11, 1.2.643.3.215.12, 1.2.643.3.215.13, 1.3.6.1.4.1.40870.1.1.1, 1.2.643.2.64.1.1.1, 1.2.643.3.5.10.2.12, 1.2.643.6.3.2, 1.2.643.5.1.24.2.46, 1.2.643.6.45.1.1.1, 1.2.643.5.1.24.2.30, 1.2.643.5.1.28.2, 1.2.643.5.1.28.3, 1.2.643.3.202.1.8}</code> </pre> <br>  OIDs f√ºr andere Rollen (z. B. "Gazprombank Site", "Alcohol Consumer" usw.) finden Sie im Quellcode des Dienstprogramms (Variable oid_roles_bad, operator: <br><br><pre> <code class="plaintext hljs">set oid_roses_bad {. . .}</code> </pre>  ) <br>  Das Vorhandensein so vieler Oids ist schwer zu verstehen.  Es handelt sich um qualifizierte Zertifikate, bei denen es sich um OID-TIN, PSRN, SNILS usw. handelt, die sowohl eine nat√ºrliche als auch eine juristische Person eindeutig identifizieren, und es scheint, dass dies ausreichen w√ºrde, um auf das Portal der staatlichen Dienste und andere zuzugreifen auch.  Aber, Dura Lex, Sed Lex - Das Gesetz ist hart, aber es ist ein Gesetz. <br><br>  Im Feld ‚ÄûName der CIPF‚Äú muss der Name der CIPF (Token / Smart Card, CSP) angegeben werden, der in der Konformit√§tsbescheinigung (nicht zu verwechseln mit der X509-Bescheinigung) des F√∂deralen Sicherheitsdienstes Russlands oder einem anderen √§hnlichen Dokument angegeben ist, dessen Kopie zum Zeitpunkt des Kaufs der CIPF vorgelegt werden muss.  Anschlie√üend wird der Wert dieses Feldes in das Zertifikat eingegeben. <br><br>  Nachdem Sie sich f√ºr das kryptografische Informationsschutzsystem und das Schl√ºsselpaar entschieden haben, k√∂nnen Sie den elektronischen Antrag / die Anforderung f√ºr das Zertifikat des Verifizierungsschl√ºssels f√ºr die elektronische Signatur (SKEPEP) ausf√ºllen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r8/k2/ll/r8k2lltn89blouw5ttwjvoidbtc.png"></div><br>  Das erste Feld, das ausgef√ºllt werden muss, ist der ‚ÄûCommon Name‚Äú, in den der vollst√§ndige Name des zuk√ºnftigen Zertifikatsinhabers eingegeben wird.  F√ºr eine Person ist dies der vollst√§ndige Name wie im Reisepass.  F√ºr eine juristische Person ist dies der Name des Unternehmens aus dem Register.  Diese Informationen f√ºr eine juristische Person werden automatisch im Feld ‚ÄûOrganisationsname‚Äú (‚ÄûO‚Äú) dupliziert: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/rt/b3/dgrtb3kl_gk9pj6kb4foa0-z9m0.png"></div><br>  Beim Ausf√ºllen des Formulars wird die Richtigkeit des Ausf√ºllens der Felder TIN, BIN, SNILS √ºberpr√ºft (bei Eingabe einer Nummer wird das Feld rot, die korrekt ausgef√ºllten Felder werden gr√ºnlich). E-Mail-Adressen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6h/ur/8x/6hur8xp1km6umv9_lcwse6uvg2m.png"></div><br>  Nachdem Sie alle Anforderungsfelder ausgef√ºllt und auf die Schaltfl√§che ‚ÄûFertig stellen‚Äú geklickt haben, wird am Ende eine Zertifikatsanforderung empfangen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dv/lt/zj/dvltzjbwtxvfvrdexy3leeacgto.png"></div><br>  Beim Erstellen einer Anforderung wird ein Schl√ºsselpaar f√ºr das ausgew√§hlte Token generiert.  Wenn gleichzeitig das virtuelle Token "MS_CSP" als Token ausgew√§hlt wird, das wiederum verschiedene Medien zum Speichern des Schl√ºsselpaars unterst√ºtzt, wird vorgeschlagen, ein bestimmtes Medium auszuw√§hlen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dz/uc/xg/dzucxgl4qmgmmtix4ootpatyons.png"></div><br>  Denken Sie daran, dass ein Schl√ºsselpaar zwei Schl√ºssel enth√§lt: privat und √∂ffentlich.  Der √∂ffentliche Schl√ºssel, auch als Verifizierungsschl√ºssel f√ºr die elektronische Signatur bezeichnet, wird an die Zertifikatanforderung gesendet.  Verwenden Sie das Men√º "Zertifikate-&gt; Anfrage anzeigen", um die generierte Anfrage anzuzeigen, die den √∂ffentlichen Schl√ºssel enth√§lt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zy/mp/ll/zympllmnygzb71dow8c0l4lzdkm.png"></div><br>  Der private Schl√ºssel verbleibt beim Antragsteller auf seinem Token, dessen PIN-Code (Passwort) als Apfel seines Auges gespeichert werden muss.  Und da zwischen √∂ffentlichen und privaten Schl√ºsseln eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eindeutige Entsprechung besteht</a> , k√∂nnen Sie jederzeit √ºberpr√ºfen, wem die Zertifikatsanforderung und sp√§ter das Zertifikat selbst, die Signatur auf dem Dokument usw. geh√∂ren. <br><br>  Mit allen erforderlichen Dokumenten und der generierten Anforderung auf einem Flash-Laufwerk k√∂nnen Sie jetzt zum n√§chsten Zertifizierungszentrum gehen und ein Zertifikat erhalten.  Daher wird beantragt, ein Zertifikat in einer der Zertifizierungsstellen auszustellen, das unter Ber√ºcksichtigung des Bundesgesetzes vom 6. April 2011 erstellt wurde.  Nr. 63- "Auf elektronischer Signatur": <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q5/ob/kt/q5obktebf42he6oijaushwt_gtk.png"></div><br>  Die Anfrage an die Zertifizierungsstelle durchl√§uft die Phasen des Imports, der √úberpr√ºfung, Genehmigung und Ausstellung eines Zertifikats f√ºr diese Anfrage: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/za/df/fy/zadffyazrlhq_y-bcyn20jsrsdg.png"></div><br>  Das ausgestellte Zertifikat wird auf einem der CA-Dienste ver√∂ffentlicht, von wo es heruntergeladen werden kann.  Und jetzt reicht es aus, das ausgestellte Zertifikat auf das Flash-Laufwerk des Antragstellers zu exportieren: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m9/gp/d7/m9gpd7e2r-br5tox13brtyeqyxq.png"></div><br>  Und jetzt, wenn das Zertifikat empfangen wird, muss es noch auf dem CIP abgelegt werden (PKCS # 11, MS CSP) (Zertifikate-&gt; Import x509): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tb/fp/zl/tbfpzldtzi2enil0tdryz3fl7rq.png"></div><br>  Um zu √ºberpr√ºfen, ob sich das Zertifikat auf dem Token befindet, k√∂nnen Sie den Inhalt des Tokens / der Smartcard anzeigen (Zertifikate-&gt; x509 auf dem Token anzeigen): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sa/ag/cq/saagcqs8djb4nzbvmfwr9j76bmy.png"></div><br>  Nun, damit es sich um eine ‚ÄûR√ºstung‚Äú handelte (gib mir so ein PAPIER! Abschlusspapier, R√ºstung (Hundeherz c / f)), verbinde das Token mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Firefox-</a> Browser mit Unterst√ºtzung f√ºr die russische Kryptographie und finde das ausgestellte Zertifikat in pers√∂nlichen Zertifikaten (einschlie√ülich solcher Zertifikate). f√ºr die das Token einen privaten Schl√ºssel hat): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4w/kt/rw/4wktrwgdl1mnjae4bt5q1sl52dg.png"></div><br>  Das auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tcl / Tk</a> entwickelte Dienstprogramm CreateCSRCAFL63.  F√ºr den Zugriff auf die kryptografischen Funktionen von MS CSP- und PKCS # 11-Token wurde das cwapi-Paket entwickelt, das die Anforderungen f√ºr C-Bibliotheken von Tcl implementiert.  Es ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nicht schwierig,</a> diese Anforderungen umzusetzen, aber manchmal dauert es aufgrund seiner Routine viel Zeit.  Und hier kommt das √∂ffentliche Versorgungsunternehmen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SWIG</a> zur Rettung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">.</a>  Hiermit k√∂nnen Sie Schnittstellenmodule zwischen C / C ++ - Bibliotheken und anderen Sprachen erstellen.  Dies ist nicht nur Tcl, sondern auch Java und andere.  Das Projekt ist sehr gut dokumentiert und hat gute Beispiele.  Die Verwendung ist nicht schwierig.  In unserem Fall wurde zum Erhalt des Schnittstellenmoduls eine einfache Quelldatei cwapi.i f√ºr das Dienstprogramm swig geschrieben: <br><br><pre> <code class="plaintext hljs">%module cwapi %inline %{ #include "cwapi.h" %} %include "cwapi_SWIG.h"</code> </pre> <br>  Die Datei cwapi.h enth√§lt Beschreibungen der Funktionen des Hauptprojekts cwapi: <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus extern </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"C"</span></span></span><span class="hljs-meta"> { #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> int CW_Initialize (char *configdir); int CW_Finalize (); int addp11mod (char *nickname, char *library); int remp11mod (char *nickname); char * lmod (); char * ltok (); char * lcert (char *token, int priv_cert); char* createreq (char *token, char *subject, char *keyusage, int keyparams, int pem, char *skzi, char* role); char* viewx509 (char *nickname, int CertOrReq); char* x509pem (char *nickname); char* x509fromfile(char *token, char *infile, char *trusts); int delcert (char *nickname, int priv_cert); int p12tofile (char *token, char *nickname, char *outfile); char* p12fromfile(char *token, char *infile); char* lmech(char* token); char* tinfo(char* token); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br>  Durch Ausf√ºhren des Befehls: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$export</span></span> SWIG_LIB=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/swig-3.0.12/Lib $/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/swig-3.0.12/swig -tcl8 -o cwapi_wrap.c cwapi_.i $</code> </pre> <br>  In der Datei cwapi_wrap.c erhalten wir ein vorgefertigtes Schnittstellenmodul.  F√ºgen Sie es dem cwapi-Projekt hinzu, erstellen Sie es neu und erhalten Sie ein neues Paket, das in diesem Dienstprogramm verwendet wird. <br>  Um das Distributionskit zu erhalten, ist es sehr praktisch, das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">freewrap</a> zu verwenden, w√§hrend die cwapi-Bibliothek auch direkt im Distributionspaket enthalten ist.  Quellcode-Dienstprogramme und -Distributionen sind f√ºr die Windows- und Linux-Plattformen verf√ºgbar. <br><br>  Ich m√∂chte ein anderes Dienstprogramm erw√§hnen, n√§mlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tcl2c</a> .  Dieses Dienstprogramm "umschlie√üt" tcl / tk-Code in C-Code. <br><br>  F√ºhren Sie einfach den Befehl aus, um den ausf√ºhrbaren Code abzurufen <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$cc</span></span> -o create_csr_ create_csr.c -ltcl -ltk $</code> </pre> <br>  Distributionen f√ºr die Linux-Plattform enthalten auch eine C-Distribution mit einer statischen Verbindung des cwapi-Pakets. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412993/">https://habr.com/ru/post/de412993/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de412979/index.html">Fragen Sie Ethan: Wenn dunkle Materie √ºberall ist, warum haben wir sie nicht im Sonnensystem gefunden?</a></li>
<li><a href="../de412983/index.html">Insider Dev Tour: Live-Stream</a></li>
<li><a href="../de412985/index.html">Die Instant Messaging-Revolution? Die EU schlug vor, ein Gesetz √ºber einen einheitlichen Messaging-Standard einzuf√ºhren</a></li>
<li><a href="../de412987/index.html">Nach einer Beschwerde von Pavel Durov hat Apple das erste Telegramm-Update f√ºr iOS-Benutzer seit April verpasst</a></li>
<li><a href="../de412991/index.html">Secure Data Act 2018 - Die USA planen, Backdoors auf Ger√§ten zu verbieten [erneut]</a></li>
<li><a href="../de412995/index.html">SAP schnell</a></li>
<li><a href="../de412997/index.html">Verstecken oder das erste Botnetz, das keinen Neustart bef√ºrchtet</a></li>
<li><a href="../de412999/index.html">Vom Summen der Giraffen bis zu den Ger√§uschen mimetischer V√∂gel - gemeinsam der Natur lauschen</a></li>
<li><a href="../de413001/index.html">SamsPcbGuide, Teil 5: Verfolgen von Signallinien. Leitungsverzerrung und Impedanzanpassung</a></li>
<li><a href="../de413003/index.html">Der Steam-Client beseitigte eine gef√§hrliche Sicherheitsl√ºcke, die sich dort seit zehn Jahren versteckt hatte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>