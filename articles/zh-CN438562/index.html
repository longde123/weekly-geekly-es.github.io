<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚸 🛋️ 🍽️ 从零开始编写XGBoost-第2部分：梯度提升 🏠 🎴 🔝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！ 

 在上一篇文章中，我们了解了决策树的排列方式，并从头开始实现 
 施工算法，同时对其进行优化和改进。 在本文中，我们将实现梯度提升算法，最后，我们将创建自己的XGBoost。 叙述将遵循相同的模式：我们编写一种算法，对其进行描述，然后通过比较使用Sklearn的类似物的结果来总结该算法...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>从零开始编写XGBoost-第2部分：梯度提升</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/438562/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ll/lb/oe/lllboex0ltvh9n7kpkfomxfz_p8.jpeg"></div><br> 大家好！ <br><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一篇文章中，</a>我们了解了决策树的排列方式，并从头开始实现 <br> 施工算法，同时对其进行优化和改进。 在本文中，我们将实现梯度提升算法，最后，我们将创建自己的XGBoost。 叙述将遵循相同的模式：我们编写一种算法，对其进行描述，然后通过比较使用Sklearn的类似物的结果来总结该算法。 <br><br> 在本文中，还将重点放在代码的实现上，因此最好以另一种形式（例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在ODS课程中</a> ）一起阅读整个理论，并且已经具备了该理论的知识，您可以继续阅读本文，因为该主题非常复杂。 <br><br><img src="https://habrastorage.org/webt/l0/vy/cx/l0vycx4dsrrohxafyliapuq7nxi.png"><br><a name="habracut"></a><br> 什么是梯度增强？ 高尔夫球手的照片完美地描述了主要思想。 为了将球打入洞中，高尔夫球手在下一次击打时要考虑到先前的击球经验-对他而言，这是将球放入洞中的必要条件。 如果非常不礼貌（我不是高尔夫球高手），那么每次击球时，高尔夫球手首先要看的是击球后球与洞之间的距离。 主要任务是在下一次打击时减小该距离。 <br><br> 提升的建立方式非常相似。 首先，我们需要引入“空洞”的定义，即我们将努力追求的目标。 其次，我们需要学习理解我们需要与哪一方打败才能更接近目标。 第三，考虑所有这些规则，您需要提出正确的击球顺序，以便随后的每个击球都可以减小球与洞之间的距离。 <br><br> 现在我们给出一个更严格的定义。 我们介绍加权投票的模型： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>b</mi><mi>i</mi></msub><msub><mi>a</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mi>x</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>X</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>b</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mi>R</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="37.673ex" height="2.78ex" viewBox="0 -780.1 16220.1 1197.1" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="0" y="0"></use><g transform="translate(576,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="1406" y="0"></use><g transform="translate(1978,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="3086" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="4393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="4862" y="0"></use><g transform="translate(5435,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(7562,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use></g><g transform="translate(8336,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(9209,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="10039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="10862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="11207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-58" x="11808" y="0"></use><g transform="translate(12660,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(13490,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="14514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="14860" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-52" x="15460" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>b</mi><mi>i</mi></msub><msub><mi>a</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mi>x</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>X</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>b</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mi>R</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> h（x）= \ sum_ {i = 1} ^ nb_ia_i，x \ in X，b_i \ in R </script></p><br> 在这里 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.057ex" viewBox="0 -780.1 852.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-58" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> X </script> 是我们用来取物的空间， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>b</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>a</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.754ex" height="2.419ex" viewBox="0 -780.1 2477.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use><g transform="translate(773,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(1603,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>b</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> b_i，a_i </script>  -这是模型和模型本身前面的系数，即决策树。 假设已经使用描述的规则在某个步骤中添加了合成 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.639ex" height="2.178ex" viewBox="0 -780.1 2427.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1927" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> T-1 </script> 弱算法。 要学习了解应该采用哪种算法 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.636ex" height="2.057ex" viewBox="0 -780.1 704.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> T </script>  ，我们介绍误差函数： <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>e</mi><mi>r</mi><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mi>T</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>b</mi><mi>T</mi></msub></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="78.575ex" height="3.503ex" viewBox="0 -987.6 33830.7 1508.3" role="img" focusable="false" style="vertical-align: -1.209ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="918" y="0"></use><g transform="translate(1369,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="2199" y="0"></use><g transform="translate(2775,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="3883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="5190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="5659" y="0"></use><g transform="translate(6232,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4E" x="1242" y="488"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1191" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4C" x="8406" y="0"></use><g transform="translate(9088,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="10168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="10637" y="0"></use><g transform="translate(11210,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="704" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1483" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(13591,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(14464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use></g><g transform="translate(15238,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(16068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(17032,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="18085" y="0"></use><g transform="translate(19085,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="607" y="-213"></use></g><g transform="translate(20113,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="748" y="-213"></use></g><g transform="translate(21241,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(22071,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(23035,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(23865,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="24945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="25396" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-67" x="25742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="26222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="26799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="27160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="27690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="28141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6F" x="28593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-77" x="29078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="29795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="30673" y="0"></use><g transform="translate(31019,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-170)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="748" y="-213"></use><g transform="translate(797,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(1384,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="607" y="-213"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>r</mi><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>a</mi><mi>T</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>b</mi><mi>T</mi></msub></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> err（h）= \ sum_ {j = 1} ^ N L（\ sum_ {i = 1} ^ {T-1} a_ib_i（x_j）+ b_Ta_T（x_j））\ rightarrow min_ {a_T，b_T} </script><br><br> 事实证明，最好的算法将是可以最小化先前迭代中收到的错误的算法。 并且由于提升是渐变的，因此此误差函数必须必须具有反梯度向量，您可以沿着该向量移动以寻找最小值。 仅此而已！ <br><br> 在即将实施之前，我将添加几句话，说明如何与我们一起安排一切。 与上一篇文章一样，我们将MSE视为损失。 让我们计算它的梯度： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>m</mi><mi>s</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msub><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>t</mi></mrow></msub><mi>m</mi><mi>s</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mo>&amp;#x2212;</mo><mi>y</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="6.274ex" viewBox="0 -987.6 33095.6 2701.4" role="img" focusable="false" style="vertical-align: -3.981ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(9902,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="1348" y="0"></use><g transform="translate(1814,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="2644" y="0"></use><g transform="translate(3141,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(3971,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(4801,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(5631,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="6739" y="0"></use><g transform="translate(7795,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="8625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="9345" y="0"></use><g transform="translate(10346,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(11176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(12006,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1173" y="640"></use></g></g><g transform="translate(8499,-1363)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="1380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="1809" y="0"></use><g transform="translate(2108,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="503" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="955" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="1421" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="1945" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-63" x="2290" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="2724" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="4919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="5797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="6267" y="0"></use><g transform="translate(6733,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="7563" y="0"></use><g transform="translate(8061,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(8891,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(9721,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(10551,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="11658" y="0"></use><g transform="translate(12715,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(13545,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="14597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="15598" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>m</mi><mi>s</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msub><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>t</mi></mrow></msub><mi>m</mi><mi>s</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mo>−</mo><mi>y</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> mse（y，预测）=（y-预测）^ 2 \\ \ nabla_ {predict} mse（y，预测）=预测-y </script></p><br> 因此，反梯度向量将等于 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.851ex" height="2.419ex" viewBox="0 -780.1 3380.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="719" y="0"></use><g transform="translate(1720,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(2550,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-8"> y-预测</script>  。 在台阶上 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6211;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>我</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-9">我</script> 我们考虑在先前迭代中获得的算法的错误。 接下来，我们针对这些错误训练新算法，然后使用负号和一些系数将其添加到集合中。 <br><br> 现在开始吧。 <br><br><h3>  1.实现通常的梯度增强类 </h3><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tqdm <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tqdm_notebook <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datasets <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mean_squared_error <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> mse <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.tree <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DecisionTreeRegressor <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> itertools %matplotlib inline %load_ext Cython %%cython -a <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np cimport numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * cdef <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegressionTreeFastMse</span></span></span><span class="hljs-class">:</span></span> cdef public int max_depth cdef public int feature_idx cdef public int min_size cdef public int averages cdef public np.float64_t feature_threshold cdef public np.float64_t value cpdef RegressionTreeFastMse left cpdef RegressionTreeFastMse right <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, max_depth=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span><span class="hljs-function"><span class="hljs-params">, averages=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.max_depth = max_depth self.min_size = min_size self.value = <span class="hljs-number"><span class="hljs-number">0</span></span> self.feature_idx = <span class="hljs-number"><span class="hljs-number">-1</span></span> self.feature_threshold = <span class="hljs-number"><span class="hljs-number">0</span></span> self.left = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.right = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, np.ndarray[np.float64_t, ndim=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">] X, np.ndarray[np.float64_t, ndim=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">] y)</span></span></span><span class="hljs-function">:</span></span> cpdef np.float64_t mean1 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t mean2 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef long N = X.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] cpdef long N1 = X.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] cpdef long N2 = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef np.float64_t delta1 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t delta2 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t sm1 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t sm2 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef list index_tuples cpdef list stuff cpdef long idx = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef np.float64_t prev_error1 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t prev_error2 = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef long thres = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef np.float64_t error = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.ndarray[long, ndim=<span class="hljs-number"><span class="hljs-number">1</span></span>] idxs cpdef np.float64_t x = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-comment"><span class="hljs-comment">#   -   y self.value = y.mean() #   - mse     base_error = ((y - self.value) ** 2).sum() error = base_error flag = 0 #     if self.max_depth &lt;= 1: return dim_shape = X.shape[1] left_value, right_value = 0, 0 for feat in range(dim_shape): prev_error1, prev_error2 = base_error, 0 idxs = np.argsort(X[:, feat]) #      mean1, mean2 = y.mean(), 0 sm1, sm2 = y.sum(), 0 N = X.shape[0] N1, N2 = N, 0 thres = 1 while thres &lt; N - 1: N1 -= 1 N2 += 1 idx = idxs[thres] x = X[idx, feat] #   -  ,  ,    delta1 = (sm1 - y[idx]) * 1.0 / N1 - mean1 delta2 = (sm2 + y[idx]) * 1.0 / N2 - mean2 #   sm1 -= y[idx] sm2 += y[idx] #    O(1) prev_error1 += (delta1**2) * N1 prev_error1 -= (y[idx] - mean1)**2 prev_error1 -= 2 * delta1 * (sm1 - mean1 * N1) mean1 = sm1/N1 prev_error2 += (delta2**2) * N2 prev_error2 += (y[idx] - mean2)**2 prev_error2 -= 2 * delta2 * (sm2 - mean2 * N2) mean2 = sm2/N2 #       if thres &lt; N - 1 and np.abs(x - X[idxs[thres + 1], feat]) &lt; 1e-5: thres += 1 continue if (prev_error1 + prev_error2 &lt; error): if (min(N1,N2) &gt; self.min_size): #         self.feature_idx, self.feature_threshold = feat, x #     left_value, right_value = mean1, mean2 #  -     flag = 1 error = prev_error1 + prev_error2 thres += 1 #   ,  if self.feature_idx == -1: return #    self.left = RegressionTreeFastMse(self.max_depth - 1) self.left.value = left_value self.right = RegressionTreeFastMse(self.max_depth - 1) self.right.value = right_value #      idxs_l = (X[:, self.feature_idx] &gt; self.feature_threshold) idxs_r = (X[:, self.feature_idx] &lt;= self.feature_threshold) #   self.left.fit(X[idxs_l, :], y[idxs_l]) self.right.fit(X[idxs_r, :], y[idxs_r]) def __predict(self, np.ndarray[np.float64_t, ndim=1] x): if self.feature_idx == -1: return self.value if x[self.feature_idx] &gt; self.feature_threshold: return self.left.__predict(x) else: return self.right.__predict(x) def predict(self, np.ndarray[np.float64_t, ndim=2] X): y = np.zeros(X.shape[0]) for i in range(X.shape[0]): y[i] = self.__predict(X[i]) return y</span></span></code> </pre> <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GradientBoosting</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, n_estimators=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">100</span></span></span></span><span class="hljs-function"><span class="hljs-params">, learning_rate=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, max_depth=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, random_state=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">17</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n_samples = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">15</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, base_tree=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Bagging'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.n_estimators = n_estimators self.max_depth = max_depth self.learning_rate = learning_rate self.initialization = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> y: np.mean(y) * np.ones([y.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]]) self.min_size = min_size self.loss_by_iter = [] self.trees_ = [] self.loss_by_iter_test = [] self.n_samples = n_samples self.base_tree = base_tree <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, X, y)</span></span></span><span class="hljs-function">:</span></span> self.X = X self.y = y b = self.initialization(y) prediction = b.copy() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tqdm_notebook(range(self.n_estimators)): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> t == <span class="hljs-number"><span class="hljs-number">0</span></span>: resid = y <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-comment"><span class="hljs-comment">#    resid = (y - prediction) #    if self.base_tree == 'Bagging': tree = Bagging(max_depth=self.max_depth, min_size = self.min_size) if self.base_tree == 'Tree': tree = RegressionTreeFastMse(max_depth=self.max_depth, min_size = self.min_size) #     tree.fit(X, resid) #        b = tree.predict(X).reshape([X.shape[0]]) self.trees_.append(tree) prediction += self.learning_rate * b #       if t &gt; 0: self.loss_by_iter.append(mse(y,prediction)) return self def predict(self, X): #   –          pred = np.ones([X.shape[0]]) * np.mean(self.y) #    for t in range(self.n_estimators): pred += self.learning_rate * self.trees_[t].predict(X).reshape([X.shape[0]]) return pred</span></span></code> </pre><br> 现在，我们将在训练集上构建损耗曲线，以确保在每次迭代中我们确实都有一个减少量。 <br><br><pre> <code class="python hljs">GDB = GradientBoosting(n_estimators=<span class="hljs-number"><span class="hljs-number">50</span></span>) GDB.fit(X,y) x = GDB.predict(X) plt.grid() plt.title(<span class="hljs-string"><span class="hljs-string">'Loss by iterations'</span></span>) plt.plot(GDB.loss_by_iter)</code> </pre> <br><img src="https://habrastorage.org/webt/je/2u/dp/je2udpxa0zdsvsmjqk4mmwmprlo.png"><br><br><h3>  2.套在果树上 </h3><br> 好吧，在比较结果之前，让我们谈谈在树上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">套袋</a>的过程。 <br><br> 在这里，一切都很简单：我们希望保护自己免受再培训的影响，因此，在有回报的抽样帮助下，我们将对预测进行平均，以免偶然遇到异常值（为什么这样做如此，请更好地阅读链接）。 <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bagging</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">'''  Bagging -      . '''</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, max_depth = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n_samples = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#super(CART, self).__init__() self.max_depth = max_depth self.min_size = min_size self.n_samples = n_samples self.subsample_size = None self.list_of_Carts = [RegressionTreeFastMse(max_depth=self.max_depth, min_size=self.min_size) for _ in range(self.n_samples)] def get_bootstrap_samples(self, data_train, y_train): #      indices = np.random.randint(0, len(data_train), (self.n_samples, self.subsample_size)) samples_train = data_train[indices] samples_y = y_train[indices] return samples_train, samples_y def fit(self, data_train, y_train): #    self.subsample_size = int(data_train.shape[0]) samples_train, samples_y = self.get_bootstrap_samples(data_train, y_train) for i in range(self.n_samples): self.list_of_Carts[i].fit(samples_train[i], samples_y[i].reshape(-1)) return self def predict(self, test_data): #        num_samples = test_data.shape[0] pred = [] for i in range(self.n_samples): pred.append(self.list_of_Carts[i].predict(test_data)) pred = np.array(pred).T return np.array([np.mean(pred[i]) for i in range(num_samples)])</span></span></code> </pre><br> 好吧，现在作为一种基本算法，我们不能使用一棵树，而可以使用树来装袋-因此，再次，我们将保护自己免受重新训练。 <br><br><h3>  3.结果 </h3><br> 比较我们算法的结果。 <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.model_selection <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KFold <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GradientBoostingRegressor <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GDBSklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> copy <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_metrics</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X,y,n_folds=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, model=None)</span></span></span><span class="hljs-function">:</span></span> kf = KFold(n_splits=n_folds, shuffle=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) kf.get_n_splits(X) er_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> train_index, test_index <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tqdm_notebook(kf.split(X)): X_train, X_test = X[train_index], X[test_index] y_train, y_test = y[train_index], y[test_index] model.fit(X_train,y_train) predict = model.predict(X_test) er_list.append(mse(y_test, predict)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> er_list data = datasets.fetch_california_housing() X = np.array(data.data) y = np.array(data.target) er_boosting = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GradientBoosting(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">40</span></span>, base_tree=<span class="hljs-string"><span class="hljs-string">'Tree'</span></span> )) er_boobagg = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GradientBoosting(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">40</span></span>, base_tree=<span class="hljs-string"><span class="hljs-string">'Bagging'</span></span> )) er_sklearn_boosting = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GDBSklearn(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>,n_estimators=<span class="hljs-number"><span class="hljs-number">40</span></span>, learning_rate=<span class="hljs-number"><span class="hljs-number">0.1</span></span>)) %matplotlib inline data = [er_sklearn_boosting, er_boosting, er_boobagg] fig7, ax7 = plt.subplots() ax7.set_title(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax7.boxplot(data, labels=[<span class="hljs-string"><span class="hljs-string">'Sklearn Boosting'</span></span>, <span class="hljs-string"><span class="hljs-string">'Boosting'</span></span>, <span class="hljs-string"><span class="hljs-string">'BooBag'</span></span>]) plt.grid() plt.show()</code> </pre> <br> 收到： <br><br><img src="https://habrastorage.org/webt/rd/ih/nb/rdihnby6vylrk7azxytowqvb5uu.png"><br><br> 我们仍无法击败Sklearn的类似物，因为同样，我们没有考虑<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">该方法</a>中使用的许多参数。 但是，我们看到套袋会有所帮助。 <br><br> 让我们不要灰心，继续写XGBoost。 <br><br><h3>  4. XGBoost </h3><br> 在继续阅读之前，强烈建议您先熟悉下一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视频</a> ，该<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视频</a>很好地解释了这一理论。 <br><br> 回想一下在正常提升中我们最小化的错误： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mi>r</mi><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="57.357ex" height="3.503ex" viewBox="0 -987.6 24695.3 1508.3" role="img" focusable="false" style="vertical-align: -1.209ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="918" y="0"></use><g transform="translate(1369,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="2199" y="0"></use><g transform="translate(2775,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="3883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="5190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="5659" y="0"></use><g transform="translate(6232,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4E" x="1242" y="488"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1191" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4C" x="8406" y="0"></use><g transform="translate(9088,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="10168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="10637" y="0"></use><g transform="translate(11210,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="704" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1483" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(13591,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(14464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use></g><g transform="translate(15238,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(16068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(17032,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="18085" y="0"></use><g transform="translate(19085,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="607" y="-213"></use></g><g transform="translate(20113,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="748" y="-213"></use></g><g transform="translate(21241,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(22071,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(23035,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(23865,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mi>r</mi><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> err（h）= \ sum_ {j = 1} ^ N L（\ sum_ {i = 1} ^ {T-1} a_ib_i（x_j）+ b_Ta_T（x_j））</script></p><br>  XGBoost显式将正则化添加到此错误功能： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mi>r</mi><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>h</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup><mtext mathcolor=&quot;red&quot;>\&amp;#x6B27;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x7C73;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x8304;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>a</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="80.969ex" height="3.503ex" viewBox="0 -987.6 34861.6 1508.3" role="img" focusable="false" style="vertical-align: -1.209ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="918" y="0"></use><g transform="translate(1369,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="2199" y="0"></use><g transform="translate(2775,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="3883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="5190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="5659" y="0"></use><g transform="translate(6232,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4E" x="1242" y="488"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1191" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4C" x="8406" y="0"></use><g transform="translate(9088,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="10168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="10637" y="0"></use><g transform="translate(11210,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="704" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1483" y="0"></use></g><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(13591,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(14464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="607" y="-213"></use></g><g transform="translate(15238,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(16068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(17032,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="18085" y="0"></use><g transform="translate(19085,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="607" y="-213"></use></g><g transform="translate(20113,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="748" y="-213"></use></g><g transform="translate(21241,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(22071,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6A" x="809" y="-213"></use></g><g transform="translate(23035,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><g transform="translate(23865,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="24917" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="26168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="26637" y="0"></use><g transform="translate(27210,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-54" x="1242" y="488"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g fill="red" stroke="red" transform="translate(29337,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-5C"></use><g transform="translate(500,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">欧</text></g></g><g transform="translate(30667,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">米</text></g><g transform="translate(31497,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">茄</text></g><g transform="translate(32327,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><g transform="translate(33157,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="748" y="-213"></use></g><g transform="translate(34031,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mi>r</mi><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>h</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>+</mo><msub><mi>b</mi><mi>T</mi></msub><msub><mi>a</mi><mi>T</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>x</mi><mi>j</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>+</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup><mtext mathcolor="red">\欧</mtext><mrow class="MJX-TeXAtom-ORD"><mo>米</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>茄</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>a</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> err（h）= \ sum_ {j = 1} ^ NL（\ sum_ {i = 1} ^ {T-1} a_ib_i（x_j）+ b_Ta_T（x_j））+ \ sum_ {i = 1} ^ T \欧米茄（a_i）</script></p><br> 如何考虑此功能？ 首先，我们借助二阶泰勒级数对其进行近似，其中新算法被认为是我们将沿其运动的增量，然后我们已经根据所具有的损失类型进行了绘制： <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>h</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>+</mo><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>&amp;#x2032;</mo></msup><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><mo>+</mo><mn>0.5</mn><mo>&amp;#x2217;</mo><mi>f</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>&amp;#x2033;</mo></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="79.222ex" height="2.901ex" viewBox="0 -987.6 34109.4 1249" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="0" y="0"></use><g transform="translate(550,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="1380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="2175" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="3425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="3949" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="4415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="4714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="5075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="5605" y="0"></use><g transform="translate(6177,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="7257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-68" x="7619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="8195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="8541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="9141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-70" x="9671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-70" x="10174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="10678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6F" x="11129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="11615" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="12187" y="0"></use><g transform="translate(12738,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="13568" y="0"></use><g transform="translate(14140,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="15193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="16193" y="0"></use><g transform="translate(16744,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="17574" y="0"></use><g transform="translate(18146,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2032" x="1173" y="640"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="19521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="20045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="20511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="20810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="21171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="21701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="22495" y="0"></use><g transform="translate(23496,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-35" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2217" x="24998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="25720" y="0"></use><g transform="translate(26271,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="27101" y="0"></use><g transform="translate(27673,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><g transform="translate(829,453)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2032"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2032" x="275" y="0"></use></g></g><g transform="translate(28993,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="30073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="30597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="31063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="31362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="31723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-78" x="32253" y="0"></use><g transform="translate(32825,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1173" y="640"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><mo>+</mo><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mtext>&nbsp;</mtext><mi>t</mi><mi>h</mi><mi>i</mi><mi>n</mi><mi>a</mi><mi>p</mi><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>+</mo><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>′</mo></msup><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><mo>+</mo><mn>0.5</mn><mo>∗</mo><mi>f</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>″</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mtext>&nbsp;</mtext><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-12"> f（x + \ delta x）\ thinapprox f（x）+ f（x）'\ delta x + 0.5 * f（x）''（\ delta x）^ 2 </script><br><br> 有必要确定我们认为哪棵树不好，哪棵树好。 <br><br> 回想一下构建什么原理<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">回归</a> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>L</mi><mn>2</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.637ex" height="2.298ex" viewBox="0 -780.1 1135.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="963" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>L</mi><mn>2</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-13"> L_2 </script>  -正则化-回归之前的系数值越正常，越差，因此有必要使其尽可能小。 <br><br> 在XGBoost中，想法非常相似：如果树中叶子的值的范数之和很大，则对树进行罚款。 因此，树的复杂性介绍如下： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mi>Z</mi><mo>+</mo><mn>0.5</mn><mo>&amp;#x2217;</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>Z</mi></mrow></msubsup><msubsup><mi>w</mi><mi>i</mi><mn>2</mn></msubsup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="43.946ex" height="3.021ex" viewBox="0 -883.9 18921 1300.8" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="1614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-67" x="2080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="2561" y="0"></use><g transform="translate(3090,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="3920" y="0"></use><g transform="translate(4449,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="5557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-67" x="6864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="7344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="7874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="8752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="9631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-5A" x="10160" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="11106" y="0"></use><g transform="translate(12106,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-35" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2217" x="13608" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="14581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-75" x="15050" y="0"></use><g transform="translate(15623,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-5A" x="1242" y="488"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="1124" y="0"></use></g></g><g transform="translate(17750,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1013" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="1013" y="-430"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>o</mi><mi>m</mi><mi>e</mi><mi>g</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mi>Z</mi><mo>+</mo><mn>0.5</mn><mo>∗</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>Z</mi></mrow></msubsup><msubsup><mi>w</mi><mi>i</mi><mn>2</mn></msubsup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> \ omega（a）= \ gamma Z + 0.5 * \ sum_ {i = 1} ^ {Z} w_i ^ 2 </script></p><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>w</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.664ex" height="1.455ex" viewBox="0 -520.7 716.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-77" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>w</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> w </script>  -叶子中的价值， <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>Z</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.68ex" height="2.057ex" viewBox="0 -780.1 723.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-5A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>Z</mi></math></span></span><script type="math/tex" id="MathJax-Element-16"> Z </script>  -叶数。 <br><br> 视频中有转换公式，我们在这里不显示它们。 归结为以下事实：我们将选择一个新分区，以最大化收益： <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x589E;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x76CA;</mo></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msubsup><mi>G</mi><mi>l</mi><mn>2</mn></msubsup></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msubsup><mi>S</mi><mi>l</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msubsup><mi>G</mi><mi>r</mi><mn>2</mn></msubsup></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msubsup><mi>S</mi><mi>r</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><msub><mi>G</mi><mi>l</mi></msub><mo>+</mo><msub><mi>G</mi><mi>r</mi></msub><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msubsup><mi>S</mi><mi>l</mi><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>S</mi><mi>r</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="103.635ex" height="3.262ex" viewBox="0 -987.6 44620.3 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">增</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">益</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="1937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="3244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="3794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="4246" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-63" x="4775" y="0"></use><g transform="translate(5209,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1112" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="1112" y="-464"></use></g><g transform="translate(6449,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="926" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="867" y="-464"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="1331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="2582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="2880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="3410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="4288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="4718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="5241" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="12442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="13693" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="14243" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="14695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-63" x="15224" y="0"></use><g transform="translate(15658,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1112" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="1112" y="-212"></use></g><g transform="translate(16898,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="926" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="867" y="-212"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="1331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="2582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="2880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="3410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="4288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="4718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="5241" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="22892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-66" x="24142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="24693" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="25144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-63" x="25674" y="0"></use><g transform="translate(26107,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text><g transform="translate(829,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="1112" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="2149" y="0"></use><g transform="translate(3150,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="1112" y="-213"></use></g><g transform="translate(4356,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1173" y="640"></use></g></g><g transform="translate(31747,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="926" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="867" y="-464"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="1331" y="0"></use><g transform="translate(2332,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="926" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="867" y="-212"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2B" x="3663" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="4914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="5212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="5742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="7050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="7573" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="40073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-67" x="41323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="41804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="42333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="43212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="44090" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo>增</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>益</mo></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msubsup><mi>G</mi><mi>l</mi><mn>2</mn></msubsup></mrow><mrow class="MJX-TeXAtom-ORD"><msubsup><mi>S</mi><mi>l</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>+</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msubsup><mi>G</mi><mi>r</mi><mn>2</mn></msubsup></mrow><mrow class="MJX-TeXAtom-ORD"><msubsup><mi>S</mi><mi>r</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>−</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><msub><mi>G</mi><mi>l</mi></msub><mo>+</mo><msub><mi>G</mi><mi>r</mi></msub><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup></mrow><mrow class="MJX-TeXAtom-ORD"><msubsup><mi>S</mi><mi>l</mi><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>S</mi><mi>r</mi><mn>2</mn></msubsup><mo>+</mo><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></mrow><mo>−</mo><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-17">增益= \ frac {G_l ^ 2} {S_l ^ 2 + \ lambda} + \ frac {G_r ^ 2} {S_r ^ 2 + \ lambda}-\ frac {（G_l + G_r）^ 2} {S_l ^ 2 + S_r ^ 2 + \ lambda}-\ gamma </script></p><br> 在这里 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.152ex" height="2.419ex" viewBox="0 -780.1 7815.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-67" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="2138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="3017" y="0"></use><g transform="translate(3546,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="4626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="4924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="5454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="6332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="6762" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="7285" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mtext>&nbsp;</mtext><mi>l</mi><mi>a</mi><mi>m</mi><mi>b</mi><mi>d</mi><mi>a</mi></math></span></span><script type="math/tex" id="MathJax-Element-18"> \ gamma，\ lambda </script> 是正则化的数值参数，并且 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>G</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>S</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.779ex" height="2.419ex" viewBox="0 -780.1 2918.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="1112" y="-213"></use><g transform="translate(1130,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(1960,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="867" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>G</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>S</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19"> G_i，S_i </script>  -此分区的一阶和二阶导数的相应总和。 <br><br> 就是这样，理论非常简短，给出了链接，现在让我们讨论一下如果与MSE合作，衍生产品将是什么。 很简单： <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi><mi>s</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mn>2</mn></msup><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msub><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow></mrow></msub><mi>m</mi><mi>s</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mo>&amp;#x2212;</mo><mi>y</mi><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msubsup><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>t</mi></mrow><mn>2</mn></msubsup><mi>m</mi><mi>s</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF08;</mo></mrow><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF09;</mo></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.042ex" height="10.25ex" viewBox="0 -987.6 15087.7 4413.3" role="img" focusable="false" style="vertical-align: -7.956ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="1348" y="0"></use><g transform="translate(1814,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="2644" y="0"></use><g transform="translate(3141,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(3971,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(4801,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(5631,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="6739" y="0"></use><g transform="translate(7795,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="8625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="9345" y="0"></use><g transform="translate(10346,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(11176,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(12006,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="1173" y="640"></use></g><g transform="translate(0,-1363)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="1380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="1809" y="0"></use><g transform="translate(2108,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,-170)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">预</text><g transform="translate(586,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">测</text></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="3911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="4789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="5259" y="0"></use><g transform="translate(5725,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="6555" y="0"></use><g transform="translate(7053,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(7883,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(8713,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(9543,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="10650" y="0"></use><g transform="translate(11707,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(12537,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="13589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="14590" y="0"></use></g><g transform="translate(0,-2890)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6E" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-62" x="1380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6C" x="1809" y="0"></use><g transform="translate(2108,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-32" x="748" y="488"></use><g transform="translate(529,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-72" x="503" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="955" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-64" x="1421" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="1945" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-63" x="2290" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-74" x="2724" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-6D" x="4919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-73" x="5797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-65" x="6267" y="0"></use><g transform="translate(6733,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="7563" y="0"></use><g transform="translate(8061,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(8891,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text></g><g transform="translate(9721,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><g transform="translate(10551,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-3D" x="11658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-31" x="12715" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>s</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><msup><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mn>2</mn></msup><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msub><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow></mrow></msub><mi>m</mi><mi>s</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mo>−</mo><mi>y</mi><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>n</mi><mi>a</mi><mi>b</mi><mi>l</mi><msubsup><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>c</mi><mi>t</mi></mrow><mn>2</mn></msubsup><mi>m</mi><mi>s</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>（</mo></mrow><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>）</mo></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-20"> mse（y，预测）=（y-预测）^ 2 \\ \ nabla_ {预测} mse（y，预测）=预测-y \\ \ nabla_ {predict} ^ 2 mse（y，预测）= 1 </script><br><br> 我们什么时候计算金额 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>G</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xFF0C;</mo></mrow><msub><mi>S</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.779ex" height="2.419ex" viewBox="0 -780.1 2918.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="1112" y="-213"></use><g transform="translate(1130,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">，</text></g><g transform="translate(1960,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-69" x="867" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>G</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>，</mo></mrow><msub><mi>S</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-21"> G_i，S_i </script>  ，只需添加到第一个 <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x9884;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x6D4B;</mo></mrow><mo>&amp;#x2212;</mo><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.851ex" height="2.419ex" viewBox="0 -780.1 3380.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">预</text><g transform="translate(829,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">测</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMAIN-2212" x="1882" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/438562/&amp;usg=ALkJrhjddvbWhqtbBNa-kEOqmFg8BwbKoQ#MJMATHI-79" x="2882" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>预</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>测</mo></mrow><mo>−</mo><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-22">预测-y </script> 第二个就是数量。 <br><br><pre> <code class="python hljs">%%cython -a <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np cimport numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np cdef <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegressionTreeGain</span></span></span><span class="hljs-class">:</span></span> cdef public int max_depth cdef public np.float64_t gain cdef public np.float64_t lmd cdef public np.float64_t gmm cdef public int feature_idx cdef public int min_size cdef public np.float64_t feature_threshold cdef public np.float64_t value cpdef public RegressionTreeGain left cpdef public RegressionTreeGain right <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, int max_depth=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, np.float64_t lmd=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, np.float64_t gmm=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.max_depth = max_depth self.gmm = gmm self.lmd = lmd self.left = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.right = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.feature_idx = <span class="hljs-number"><span class="hljs-number">-1</span></span> self.feature_threshold = <span class="hljs-number"><span class="hljs-number">0</span></span> self.value = <span class="hljs-number"><span class="hljs-number">-1e9</span></span> self.min_size = min_size <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, np.ndarray[np.float64_t, ndim=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">] X, np.ndarray[np.float64_t, ndim=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">] y)</span></span></span><span class="hljs-function">:</span></span> cpdef long N = X.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] cpdef long N1 = X.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] cpdef long N2 = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef long idx = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef long thres = <span class="hljs-number"><span class="hljs-number">0</span></span> cpdef np.float64_t gl, gr, gn cpdef np.ndarray[long, ndim=<span class="hljs-number"><span class="hljs-number">1</span></span>] idxs cpdef np.float64_t x = <span class="hljs-number"><span class="hljs-number">0.0</span></span> cpdef np.float64_t best_gain = -self.gmm <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.value == <span class="hljs-number"><span class="hljs-number">-1e9</span></span>: self.value = y.mean() base_error = ((y - self.value) ** <span class="hljs-number"><span class="hljs-number">2</span></span>).sum() error = base_error flag = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.max_depth &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dim_shape = X.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] left_value = <span class="hljs-number"><span class="hljs-number">0</span></span> right_value = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">#    # -  -   mse, L = (y - pred)**2 # dL/dpred = pred - y,          - # dL^2/d^2pred = 1 - ,       for feat in range(dim_shape): idxs = np.argsort(X[:, feat]) gl,gr = y.sum(),0.0 N1, N2, thres = N, 0, 0 while thres &lt; N - 1: N1 -= 1 N2 += 1 idx = idxs[thres] x = X[idx, feat] gl -= y[idx] gr += y[idx] #   gn = (gl**2) / (N1 + self.lmd) + (gr**2) / (N2 + self.lmd) gn -= ((gl + gr)**2) / (N1 + N2 + self.lmd) + self.gmm if thres &lt; N - 1 and x == X[idxs[thres + 1], feat]: thres += 1 continue #     if (gn &gt; best_gain) and (min(N1,N2) &gt; self.min_size): flag = 1 best_gain = gn left_value = -gl / (N1 + self.lmd) right_value = -gr / (N2 + self.lmd) self.feature_idx = feat self.feature_threshold = x thres += 1 self.gain = best_gain if self.feature_idx == -1: return self.left = RegressionTreeGain(max_depth=self.max_depth - 1, gmm=self.gmm, lmd=self.lmd) self.left.value = left_value self.right = RegressionTreeGain(max_depth=self.max_depth - 1, gmm=self.gmm, lmd=self.lmd) self.right.value = right_value idxs_l = (X[:, self.feature_idx] &gt; self.feature_threshold) idxs_r = (X[:, self.feature_idx] &lt;= self.feature_threshold) self.left.fit(X[idxs_l, :], y[idxs_l]) self.right.fit(X[idxs_r, :], y[idxs_r]) #    if (self.left.left == None or self.right.left == None): if self.gain &lt; 0.0: self.left = None self.right = None self.feature_idx = -1 def __predict(self, np.ndarray[np.float64_t, ndim=1] x): if self.feature_idx == -1: return self.value if x[self.feature_idx] &gt; self.feature_threshold: return self.left.__predict(x) else: return self.right.__predict(x) def predict(self, np.ndarray[np.float64_t, ndim=2] X): y = np.zeros(X.shape[0]) for i in range(X.shape[0]): y[i] = self.__predict(X[i]) return y</span></span></code> </pre> <br> 一个小小的澄清：为了使树木中的公式变得更漂亮，在加速时我们用减号训练目标。 <br><br> 我们稍微修改一下增强，使一些参数自适应。 例如，如果我们注意到损失已经开始达到平稳状态，则我们降低学习率并增加以下估计量的max_depth。 我们还将添加一个新的套袋-现在，我们将利用收益来增强树套袋： <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bagging</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, max_depth = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n_samples = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.max_depth = max_depth self.min_size = min_size self.n_samples = n_samples self.subsample_size = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.list_of_Carts = [RegressionTreeGain(max_depth=self.max_depth, min_size=self.min_size) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(self.n_samples)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_bootstrap_samples</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, data_train, y_train)</span></span></span><span class="hljs-function">:</span></span> indices = np.random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(data_train), (self.n_samples, self.subsample_size)) samples_train = data_train[indices] samples_y = y_train[indices] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> samples_train, samples_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, data_train, y_train)</span></span></span><span class="hljs-function">:</span></span> self.subsample_size = int(data_train.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]) samples_train, samples_y = self.get_bootstrap_samples(data_train, y_train) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(self.n_samples): self.list_of_Carts[i].fit(samples_train[i], samples_y[i].reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">predict</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, test_data)</span></span></span><span class="hljs-function">:</span></span> num_samples = test_data.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] pred = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(self.n_samples): pred.append(self.list_of_Carts[i].predict(test_data)) pred = np.array(pred).T <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> np.array([np.mean(pred[i]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(num_samples)])</code> </pre> <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GradientBoosting</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, n_estimators=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">100</span></span></span></span><span class="hljs-function"><span class="hljs-params">, learning_rate=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, max_depth=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, random_state=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">17</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n_samples = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">15</span></span></span></span><span class="hljs-function"><span class="hljs-params">, min_size = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, base_tree=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'Bagging'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.n_estimators = n_estimators self.max_depth = max_depth self.learning_rate = learning_rate self.initialization = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> y: np.mean(y) * np.ones([y.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]]) self.min_size = min_size self.loss_by_iter = [] self.trees_ = [] self.loss_by_iter_test = [] self.n_samples = n_samples self.base_tree = base_tree <span class="hljs-comment"><span class="hljs-comment">#  -       #   ,   lr   max_depth self.add_to_max_depth = 1 self.init_mse_board = 1.5 def fit(self, X, y): print (self.base_tree) self.X = X self.y = y b = self.initialization(y) prediction = b.copy() for t in tqdm_notebook(range(self.n_estimators)): if t == 0: resid = y else: resid = (y - prediction) if (mse(temp_resid,resid) &lt; self.init_mse_board): self.init_mse_board /= 1.5 self.add_to_max_depth += 1 self.learning_rate /= 1.1 # print ('Alert!', t, self.add_to_max_depth) if self.base_tree == 'Bagging': tree = Bagging(max_depth=self.max_depth+self.add_to_max_depth, min_size = self.min_size) resid = -resid if self.base_tree == 'Tree': tree = RegressionTreeFastMse(max_depth=self.max_depth+self.add_to_max_depth, min_size = self.min_size) if self.base_tree == 'XGBoost': tree = RegressionTreeGain(max_depth=self.max_depth+self.add_to_max_depth, min_size = self.min_size) resid = -resid tree.fit(X, resid) b = tree.predict(X).reshape([X.shape[0]]) # print (b.shape) self.trees_.append(tree) prediction += self.learning_rate * b temp_resid = resid return self def predict(self, X): #   –          pred = np.ones([X.shape[0]]) * np.mean(self.y) #    for t in range(self.n_estimators): pred += self.learning_rate * self.trees_[t].predict(X).reshape([X.shape[0]]) return pred</span></span></code> </pre> <br><h3>  5.结果 </h3><br> 按照传统，我们比较结果： <br><br><pre> <code class="python hljs">data = datasets.fetch_california_housing() X = np.array(data.data) y = np.array(data.target) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GradientBoostingRegressor <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GDBSklearn er_boosting_bagging = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GradientBoosting(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>,base_tree=<span class="hljs-string"><span class="hljs-string">'Bagging'</span></span>)) er_boosting_xgb = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GradientBoosting(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>,base_tree=<span class="hljs-string"><span class="hljs-string">'XGBoost'</span></span>)) er_sklearn_boosting = get_metrics(X,y,<span class="hljs-number"><span class="hljs-number">30</span></span>,GDBSklearn(max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>,n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>,learning_rate=<span class="hljs-number"><span class="hljs-number">0.2</span></span>)) %matplotlib inline data = [er_sklearn_boosting, er_boosting_xgb, er_boosting_bagging] fig7, ax7 = plt.subplots() ax7.set_title(<span class="hljs-string"><span class="hljs-string">''</span></span>) ax7.boxplot(data, labels=[<span class="hljs-string"><span class="hljs-string">'GdbSklearn'</span></span>, <span class="hljs-string"><span class="hljs-string">'Xgboost'</span></span>, <span class="hljs-string"><span class="hljs-string">'XGBooBag'</span></span>]) plt.grid() plt.show()</code> </pre> <br> 图片如下： <br><br><img src="https://habrastorage.org/webt/jh/at/2u/jhat2uvy0yetcxkbzkaaix06wki.png"><br><br>  XGBoost的错误最少，但是XGBooBag的错误更拥挤，这绝对是更好的选择：算法更稳定。 <br><br> 仅此而已。 我真的希望两篇文章中介绍的材料是有用的，并且您可以自己学习一些新知识。 我特别感谢Dmitry提供了全面的反馈和源代码，感谢Anton提供了建议，并感谢Vladimir帮助完成了艰巨的任务。 <br><br> 一切成功！ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438562/">https://habr.com/ru/post/zh-CN438562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438548/index.html">龙目岛，sources.jar和方便的调试</a></li>
<li><a href="../zh-CN438550/index.html">另一个清单</a></li>
<li><a href="../zh-CN438554/index.html">管理GameObject中组件之间的状态和事件</a></li>
<li><a href="../zh-CN438556/index.html">舒适地锯切数据</a></li>
<li><a href="../zh-CN438560/index.html">从头开始编写XGBoost-第1部分：决策树</a></li>
<li><a href="../zh-CN438566/index.html">Apple Strange A12X微处理器外壳</a></li>
<li><a href="../zh-CN438568/index.html">关于量子计算机：不同国家如何开发这项技术</a></li>
<li><a href="../zh-CN438570/index.html">CS Center 2018除夕比赛</a></li>
<li><a href="../zh-CN438574/index.html">Flutter应用程序架构基础：香草，范围模型，BLoC</a></li>
<li><a href="../zh-CN438576/index.html">流行的开源-第三部分：面向开发人员的5种工具</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>