<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍💻 👩🏿‍✈️ 🌿 JavaScript dalam 3D: pengantar Three.js ♑️ 🤲🏻 🚵🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya hadir untuk Anda terjemahan artikel "JavaScript dalam 3D: sebuah Pengantar Three.js" oleh Bret Cameron. 

 Pendahuluan  
 Three.js ad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript dalam 3D: pengantar Three.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477956/">  <i>Halo, Habr!</i>  <i>Saya hadir untuk Anda terjemahan <a href="https://medium.com/javascript-in-plain-english/javascript-in-3d-an-introduction-to-three-js-780f1e4a2e6d">artikel</a> "JavaScript dalam 3D: sebuah Pengantar Three.js" oleh Bret Cameron.</i> <br><br><h2>  Pendahuluan </h2> <br>  Three.js adalah alat yang ampuh.  Ini membantu untuk menggunakan desain 3D di browser dengan kinerja yang dapat diterima.  Memulai Three.js bisa jadi rumit, terutama jika Anda belum pernah terjun ke dunia pemrograman 3D sebelumnya. <br><br>  Saya memiliki pengalaman dasar dengan mesin game Unity dan C #, tetapi tetap saja, banyak konsep yang baru bagi saya.  Saya sampai pada kesimpulan bahwa sekarang ada sangat sedikit sumber daya untuk pengembang pemula, jadi saya memutuskan untuk menulis artikel ini.  Di dalamnya, kita akan mempertimbangkan elemen dasar adegan Three.js mulai dari jerat poligon dan material hingga geometri, pemuat, dan banyak lagi. <br><a name="habracut"></a><br>  Pada akhir artikel ini, Anda akan memiliki pemahaman yang kuat tentang aspek-aspek dasar yang diperlukan untuk menambahkan dimensi ekstra ke proyek web masa depan Anda. <br><br>  Three.js contoh dari <a href="https://threejs.org/examples/">Ben Houston</a> , <a href="https://threejs.org/examples/">Thomas Diewald</a> dan <a href="https://threejs.org/examples/">StrykerDoesAnimation</a> . <br><br><h3>  Vektor dan wadah - blok bangunan dasar </h3><br>  Seringkali ada dua kelas utama di Three.js - <i>Vector3</i> dan <i>Box3</i> .  Jika Anda baru mengenal 3D, ini mungkin terdengar agak abstrak, tetapi Anda akan bertemu mereka berkali-kali. <br><br><h3>  Vector3 </h3><br>  Kelas 3D paling dasar yang berisi tiga angka: <i>x, y, dan z</i> .  Bilangan adalah koordinat suatu titik dalam ruang 3D atau arah dan panjangnya.  Sebagai contoh: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  Sebagian besar konstruktor di Three.js menerima objek bertipe <i>Vector3</i> sebagai argumen input, misalnya <i>Box3</i> <br><br><h3>  Kotak3 </h3><br>  Kelas ini mewakili berbentuk kubus (wadah 3D).  Tugas utamanya adalah membuat wadah di sekitar objek lain - dan itu saja, berbentuk kubus terkecil di mana objek 3D akan cocok.  Setiap <i>Box3</i> disejajarkan tentang sumbu <i>x, y, dan z.</i>  Contoh cara membuat wadah menggunakan <i>Vector3</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vect = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Vector3(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(vect);</code> </pre> <br>  Contoh cara membuat wadah di sekitar objek 3D yang ada: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Box3(); box.setFromObject(object);</code> </pre> <br>  Anda dapat membuat kisi-kisi tanpa pengetahuan mendalam ini, tetapi begitu Anda mulai membuat atau mengubah model, kelas-kelas ini pasti akan berguna.  Sekarang kita akan beralih dari abstraksi ke hal-hal yang lebih terlihat. <br><br><h3>  Mesh poligon </h3><br>  Di Three.js, elemen visual utama di panggung adalah <i>Mesh</i> .  Ini adalah objek 3D yang terdiri dari segitiga segi empat (poligonal mesh).  Itu dibangun menggunakan dua objek: <br>  <i>Geometri</i> - menentukan bentuknya, <i>Material</i> - menentukan penampilan. <br><br>  Definisi mereka mungkin tampak sedikit membingungkan (misalnya, kelas <i>Geometri</i> mungkin berisi informasi tentang warna), tetapi perbedaan utamanya adalah persis seperti itu. <br><br><h3>  Geometri </h3><br>  Berdasarkan tugas yang ingin Anda capai, Anda mungkin ingin mendefinisikan geometri di dalam Three.js atau mengimpor yang lain dari file. <br><br>  Dengan menggunakan fungsi-fungsi seperti <i>TIGA</i> . <i>TorsiKnotGeometry</i> , kita dapat membuat objek kompleks dengan satu baris kode.  Kami akan segera melakukan ini, tetapi pertama-tama pertimbangkan bentuk yang lebih sederhana. <br>  Sosok 3D paling sederhana, berbentuk kubus atau wadah, dapat ditentukan oleh parameter <i>lebar</i> , <i>tinggi</i> dan <i>kedalaman</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.BoxGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/eYOxYZL" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Untuk bola, nilai parameter <i>radius</i> , <i>widthSegment,</i> dan <i>heightSegments minimal</i> .  Dua variabel terakhir menunjukkan berapa banyak segitiga model yang harus digunakan untuk mewakili bola: semakin besar angkanya, semakin halus akan terlihat. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SphereGeometry( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span>, <span class="hljs-number"><span class="hljs-number">64</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/KKPJKgQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Jika kita ingin membuat bentuk yang tajam atau segitiga, maka kita dapat menggunakan kerucut.  Argumennya adalah kombinasi dari argumen dua tokoh sebelumnya.  Di bawah ini, kami meresepkan <i>radius</i> , <i>widthSegment</i> dan <i>radialSegments</i> . <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.ConeBufferGeometry( <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span> );</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/MWgLWJB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ini hanya bagian dari figur paling umum.  Three.js memiliki banyak bentuk di dalam kotak, yang dapat ditemukan dalam dokumentasi.  Pada artikel ini, kita akan melihat bentuk yang lebih menarik yang dibangun berdasarkan metode <i>TorusKnotGeometry</i> . <br><br>  Mengapa bentuk-bentuk ini terlihat persis seperti yang terlihat?  Pertanyaan ini berada di luar cakupan artikel ini, tetapi saya mendorong Anda untuk bereksperimen dengan nilai parameter, karena Anda bisa mendapatkan bentuk yang sangat menarik dengan satu baris kode! <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> geometry = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.TorusKnotGeometry(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">1.3</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>);</code> </pre> <br>  <a href="https://codepen.io/BretCameron/pen/gOYqORg">https://codepen.io/BretCameron/pen/gOYqORg</a> <br><br><h3>  Material </h3><br>  Geometri menentukan bentuk objek 3D kita, tetapi bukan penampilannya.  Untuk memperbaikinya, kita membutuhkan material. <br><br>  Three.js menawarkan 10 bahan di luar kotak, masing-masing memiliki kelebihan dan parameter yang dapat disesuaikan.  Kami akan menganggap hanya bagian yang paling berguna. <br><br><img src="https://habrastorage.org/webt/7o/1r/av/7o1rav-we2n9_hn6e74l-6ivo6q.png"><br><br><h4>  MeshNormalMaterial </h4><br>  <i>Berguna untuk memulai dan memulai dengan cepat.</i> <br><br>  Kita akan mulai dengan <i>MeshNormalMaterial</i> , material multicolor yang kita gunakan dalam contoh di atas.  Ini sesuai dengan vektor normal pada panel RGB, dengan kata lain, warna digunakan untuk menentukan posisi vektor dalam ruang 3D. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshNormalMaterial();</code> </pre> <br>  Perhatikan bahwa jika Anda ingin mengubah warna materi, Anda dapat menggunakan filter CSS dan mengubah saturasi: <pre> <code class="javascript hljs"> filter: hue-rotate(<span class="hljs-number"><span class="hljs-number">90</span></span>deg) .</code> </pre> <br><br>  Dalam pengalaman saya, materi ini lebih berguna untuk strata cepat dan peluncuran.  Untuk lebih mengontrol objek Anda, lebih baik menggunakan sesuatu yang lain. <br><br><h4>  Meshbasicmaterial </h4><br>  <i>Berguna saat hanya menampilkan kerangka.</i> <br><br>  Jika Anda ingin memberikan angka satu warna, maka Anda dapat menggunakan <i>MeshBasicMaterial</i> hanya jika pencahayaan tidak diterapkan.  Saya merasa berguna untuk menggunakan bahan itu dalam merender kerangka model.  Untuk hanya menggambar kerangka, Anda harus memasukkan <i>{wireframe: true}</i> sebagai parameter. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshBasicMaterial({ <span class="hljs-attr"><span class="hljs-attr">wireframe</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span> });</code> </pre> <br>  Kerugian utama dari material ini adalah bahwa informasi tentang kedalaman material benar-benar hilang.  Setiap bahan memiliki opsi untuk hanya menampilkan kerangka, tetapi hanya satu bahan yang memecahkan masalah kurangnya kedalaman - <i>MeshDepthMaterial</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/ZEzwERw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Meshhambertahan </h4><br>  <i>Berguna untuk kinerja tinggi tetapi akurasi rendah.</i> <br><br>  Ini adalah bahan pertama yang memperhitungkan cahaya, jadi Anda perlu menambahkan beberapa cahaya ke adegan kami.  Dalam kode di bawah ini, kami menambahkan lampu sorot dengan warna kuning untuk menciptakan efek yang lebih hangat. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> scene = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.Scene(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xeeeece</span></span>); frontSpot.position.set(<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>); scene.add(frontSpot); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> frontSpot2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.SpotLight(<span class="hljs-number"><span class="hljs-number">0xddddce</span></span>); frontSpot2.position.set(<span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>, <span class="hljs-number"><span class="hljs-number">-500</span></span>); scene.add(frontSpot2);</code> </pre> <br>  Sekarang tambahkan bahan untuk gambar kita.  Karena sosok kami seperti hiasan, saya sarankan menambahkan warna yang lebih keemasan.  Parameter lain, <i>emissive</i> , adalah warna objek yang berasal dari objek itu sendiri (tanpa sumber cahaya).  Seringkali ini berfungsi lebih baik sebagai warna gelap - misalnya, sebagai nuansa abu-abu gelap, seperti pada contoh di bawah ini <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshLambertMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/OJLdJGz" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Seperti yang Anda lihat pada contoh di bawah ini, warnanya kurang lebih benar, tetapi caranya berinteraksi dengan cahaya tidak menambah realisme.  Untuk memperbaiki ini, kita perlu menggunakan <i>MeshPhongMaterial</i> atau <i>MeshStandardMaterial.</i> <br><br><h4>  MeshPhongMaterial </h4><br>  <i>Berguna untuk kinerja sedang dan akurasi sedang.</i> <br><br>  Materi ini menawarkan tradeoff antara kinerja dan akurasi render, sehingga materi ini merupakan pilihan yang baik untuk aplikasi yang harus produktif bersama dengan rendering yang lebih akurat daripada dengan <i>MeshLambertMaterial.</i> <br><br>  Sekarang kita dapat mengubah properti <i>specular</i> yang mempengaruhi kecerahan dan warna pantulan permukaan.  Jika properti emissive biasanya gelap, maka <i>specular</i> paling cocok untuk warna-warna terang.  Di bawah ini kami menggunakan abu-abu terang. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshPhongMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xdaa520</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xbcbcbc</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/YzKBwwQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Secara visual, gambar dari atas memantulkan cahaya lebih meyakinkan, tetapi masih belum sempurna.  Cahaya putih terlalu terang dan material terlihat lebih berusuk daripada logam (dan kami berusaha keras untuk ini).  Kita bisa mendapatkan hasil yang lebih baik menggunakan <i>MeshStandardMaterial.</i> <br><br><h4>  MeshStandartMaterial </h4><br>  <i>Berguna untuk akurasi tinggi tetapi produktivitas rendah.</i> <br><br>  Ini adalah bahan yang paling akurat dari semua, meskipun penggunaannya akan memerlukan biaya menggunakan lebih banyak daya.  <i>MeshStandartMaterial</i> digunakan dengan parameter <i>metalness</i> dan <i>roughness</i> tambahan, yang masing-masing mengambil nilai antara 0 dan 1. <br><br>  Parameter sifat logam mempengaruhi bagaimana objek memantulkan, menjadi lebih dekat dengan sifat logam.  Ini karena bahan konduktif seperti logam memiliki sifat reflektif yang berbeda, tidak seperti dielektrik seperti keramik. <br><br>  <i>Kekasaran</i> menambahkan lapisan ekstra untuk penyesuaian.  Anda dapat membayangkannya sebagai kebalikan dari gloss: 0 - sangat glossy, 1 - sangat matte. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.MeshStandardMaterial({ <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-number"><span class="hljs-number">0xfcc742</span></span>, <span class="hljs-attr"><span class="hljs-attr">emissive</span></span>: <span class="hljs-number"><span class="hljs-number">0x111111</span></span>, <span class="hljs-attr"><span class="hljs-attr">specular</span></span>: <span class="hljs-number"><span class="hljs-number">0xffffff</span></span>, <span class="hljs-attr"><span class="hljs-attr">metalness</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">roughness</span></span>: <span class="hljs-number"><span class="hljs-number">0.55</span></span>, });</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://codepen.io/BretCameron/embed/preview/gOYqPMv" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ini adalah materi yang paling realistis dari semua yang disajikan dalam Three.js, tetapi juga yang paling memakan sumber daya <br><br>  Materi yang kami diskusikan di bawah adalah yang paling sering saya temui dan Anda bisa melihat semua opsi di dok. <br><br><h3>  Loader </h3><br>  Seperti yang kita bahas di atas, Anda dapat menentukan geometri dan jerat poligon secara manual.  Dalam praktiknya, orang sering memuat geometri dari file.  Untungnya, Three.js memiliki beberapa pengunduh yang didukung yang mendukung banyak format 3D. <br><br>  <i>ObjectLoader</i> utama memuat file JSON menggunakan format <i>JSON Object / Scene</i> .  Sebagian besar bootloader perlu diimpor secara manual.  Anda dapat menemukan daftar lengkap bootloader yang didukung di sini dan mengimpornya.  Di bawah ini adalah daftar kecil dari apa yang dapat Anda impor. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// GLTF import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'; // OBJ import { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js'; // STL import { STLLoader } from 'three/examples/jsm/loaders/STLLoader.js'; // FBX import { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js'; // 3MF import { 3MFLoader } from 'three/examples/jsm/loaders/3MFLoader.js';</span></span></code> </pre> <br>  Format yang disarankan untuk ditonton online adalah GLTF, karena formatnya “ditujukan untuk memberikan aset dalam runtime, ringkas untuk transfer, dan cepat untuk diunduh”. <br><br>  Tentu saja, ada banyak alasan untuk memilih jenis file tertentu (misalnya, jika kualitas adalah prioritas atau akurasi diperlukan untuk pencetakan 3D).  Performa online terbaik adalah ketika mengimpor GLTF. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GLTFLoader } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../models/sample.gltf'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> loader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GLTFLoader(); loader.load(model, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">geometry</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// if the model is loaded successfully, add it to your scene here }, undefined, function (err) { console.error(err); });</span></span></code> </pre> <br><h3>  Menyatukan semuanya </h3><br>  Salah satu alasan mengapa Three.js mungkin tampak menakutkan adalah bahwa Anda dapat membuat sesuatu dari awal hanya dengan beberapa baris kode.  Dalam setiap contoh di atas, kami perlu membuat adegan dan kamera.  Untuk menyederhanakan, saya menyimpan kode ini di luar lingkup ulasan, tetapi untuk sekarang kita akan melihat bagaimana itu akan terlihat bersama. <br><br>  Cara Anda mengatur kode terserah Anda.  Dalam contoh sederhana, seperti dalam artikel ini, masuk akal untuk menulis semua kode di satu tempat.  Namun dalam praktiknya, akan berguna untuk memisahkan elemen individu untuk kemungkinan memperluas basis kode dan manajemennya. <br><br>  Untuk mempermudah, kami akan mempertimbangkan elemen yang digambar sebagai objek tunggal, jadi kami akan meletakkan semua kode dalam satu file. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Import dependencies import * as THREE from 'three'; import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'; //   const scene = new THREE.Scene(); scene.background = new THREE.Color(0x282c34); //  ,       const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000); camera.position.z = 5; //  ""      const renderer = new THREE.WebGLRenderer(); renderer.setSize(window.innerWidth, window.innerHeight); //   DOM   renderer.domElement   document.getElementById('threejs').appendChild(renderer.domElement); //  ,      DOM  let controls = new OrbitControls(camera, document.getElementById('threejs')); controls.target.set(0, 0, 0); controls.rotateSpeed = 0.5; controls.update(); //  ( )   const geometry = new THREE.TorusKnotGeometry(10, 1.3, 500, 6, 6, 20); //    const material = new THREE.MeshStandardMaterial({ color: 0xfcc742, emissive: 0x111111, specular: 0xffffff, metalness: 1, roughness: 0.55, }); //   ,       const mesh = new THREE.Mesh(geometry, material); mesh.scale.x = 0.1; mesh.scale.y = 0.1; mesh.scale.z = 0.1; scene.add(mesh); //  ,       const frontSpot = new THREE.SpotLight(0xeeeece); const frontSpot2 = new THREE.SpotLight(0xddddce); frontSpot.position.set(1000, 1000, 1000); frontSpot2.position.set(-500, -500, -500); scene.add(frontSpot); scene.add(frontSpot2); //   ,           const animate = function () { requestAnimationFrame(animate); mesh.rotation.x += 0.005; mesh.rotation.y += 0.005; mesh.rotation.z += 0.005; renderer.render(scene, camera); }; //    animate();</span></span></code> </pre> <br><h3>  Apakah saya perlu menggunakan framework? </h3><br>  Akhirnya, saatnya untuk membahas apakah akan menggunakan Three.js dengan kerangka kerja favorit Anda?  Saat ini, ada paket <i>reaksi-tiga-serat</i> yang baik untuk React.  Untuk pengguna Bereaksi, ada keuntungan yang jelas untuk menggunakan paket seperti ini - Anda mempertahankan struktur untuk bekerja dengan komponen yang memungkinkan Anda untuk menggunakan kembali kode. <br><br>  Untuk pemula, saya menyarankan Anda untuk mulai dengan <i>Vanila JS yang</i> biasa, karena sebagian besar materi online yang ditulis tentang Three.js berkaitan dengan Three.js di Vanila JS.  Berdasarkan pengalaman belajar saya, ini bisa membingungkan dan sulit dipelajari melalui paket - misalnya, Anda harus menerjemahkan objek dan metode Three.js ke komponen dan alat peraga.  (segera setelah Anda belajar Three.js Anda dapat menggunakan paket apa pun). <br><br><h3>  Bagaimana cara menambahkan Three.js ke framework </h3><br>  Three.js menyediakan objek HTML (paling sering disebut <i>renderer.domElement</i> ) yang dapat ditambahkan ke objek HTML apa pun di aplikasi Anda.  Misalnya, jika Anda memiliki <i>div</i> dengan <i>id = "threejs"</i> Anda cukup memasukkan kode berikut dalam kode Three.js Anda: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'threejs'</span></span>).appendChild(renderer.domElement);</code> </pre> <br>  Beberapa kerangka kerja memiliki jalur yang disukai untuk mengakses node DOM dari pohon.  Misalnya, <i>ref</i> dalam React, <i>$ ref</i> dalam Vue atau <i>ngRef</i> di Angular dan itu terlihat seperti nilai tambah besar dengan latar belakang akses langsung ke elemen DOM.  Sebagai contoh, mari kita lihat implementasi cepat untuk Bereaksi. <br><br><h3>  Strategi untuk Bereaksi </h3><br>  Jika Anda menggunakan Bereaksi, maka ada satu cara untuk menanamkan file Three.js ke salah satu komponen Anda.  Dalam file <i>ThreeEntryPoint.js</i> kita akan menulis kode berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ThreeEntryPoint</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sceneRef</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> renderer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> THREE.WebGLRenderer(); <span class="hljs-comment"><span class="hljs-comment">// ... sceneRef.appendChild(renderer.domElement); }</span></span></code> </pre><br>  Kami mengekspor ini sebagai fungsi yang mengambil satu argumen: referensi ke elemen dalam komponen kami.  Sekarang kita dapat membuat komponen kita <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ThreeEntryPoint <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./threejs/ThreeEntryPoint'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ThreeContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ThreeEntryPoint(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.scene); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;div ref={element =&gt; this.scene = element} /&gt; &lt;/&gt; ); } }</code> </pre> <br>  Fungsi <i>ThreeEntryPoint yang</i> diimpor <i>harus</i> dipanggil dalam metode <i>componentDidMount</i> dan meneruskan <i>div</i> baru sebagai argumen menggunakan referensi <br>  Sebagai contoh dari pendekatan ini dalam tindakan, Anda dapat mengkloning repositori dan mencobanya sendiri: <a href="https://github.com/BretCameron/three-js-sample">https://github.com/BretCameron/three-js-sample</a> . <br><br><h2>  Kesimpulan </h2><br>  Masih banyak yang bisa saya bicarakan tentang Three.js, tapi saya harap artikel ini memberi Anda cukup informasi untuk mulai menggunakan teknologi canggih ini.  Ketika saya mulai belajar Three.js, saya tidak dapat menemukan sumber tunggal seperti artikel ini, jadi saya harap saya membantu membuat teknologi ini lebih mudah diakses oleh pemula. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477956/">https://habr.com/ru/post/id477956/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477938/index.html">Pasar server yang digunakan di Rusia: semuanya dimulai dengan Habr</a></li>
<li><a href="../id477940/index.html">ORM Benchmarking digunakan saat membuat aplikasi Android</a></li>
<li><a href="../id477944/index.html">Situasi: Dukungan Python 2.7 dihentikan sejak 2020</a></li>
<li><a href="../id477950/index.html">Aturan pertama anti-penipuan adalah tidak memberi tahu siapa pun tentang anti-penipuan</a></li>
<li><a href="../id477954/index.html">Bagaimana posting jawaban akan membuat internet lebih pintar</a></li>
<li><a href="../id477958/index.html">10 tren teratas dari laporan Tren Kejahatan Berteknologi-Tinggi baru 2019/2020 Group-IB</a></li>
<li><a href="../id477964/index.html">Dua bulan dari ide hingga penjualan pertama: Pengalaman tim Genesis</a></li>
<li><a href="../id477966/index.html">HolyJS 2019 Moskow melalui mata peserta</a></li>
<li><a href="../id477974/index.html">Vivado: mode Picasso</a></li>
<li><a href="../id477976/index.html">Visualisasi dan analisis struktur komunitas menggunakan grafik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>