<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯд▓ ЁЯОЕЁЯП┐ ЁЯСиЁЯП╗тАНтЬИя╕П рдПрдХрд▓ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рд╡рд┐рдХрд╛рд╕ тЫ╣ЁЯП╛ ЁЯЪгЁЯП┐ ЁЯУР</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХреБрдЫ рд╕рдордп рдкрд╣рд▓реЗ, рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдиреЗ рдореБрдЭреЗ рдПрдХ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рд╛рде рдЙрд╕рдХреА рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ред рдореИрдВрдиреЗ рдЙрд╕рдХреЗ рд▓рд┐рдП рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореБрдЭреЗ рдпрд╣ рдкреНрд░рддреАрдд рд╣реБрдЖ рдХрд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХрд▓ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛ рд╡рд┐рдХрд╛рд╕</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454850/"><p> рдХреБрдЫ рд╕рдордп рдкрд╣рд▓реЗ, рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдиреЗ рдореБрдЭреЗ рдПрдХ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рд╛рде рдЙрд╕рдХреА рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ред  рдореИрдВрдиреЗ рдЙрд╕рдХреЗ рд▓рд┐рдП рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореБрдЭреЗ рдпрд╣ рдкреНрд░рддреАрдд рд╣реБрдЖ рдХрд┐ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдкрд░, рдХрдИ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдФрд░ рддрдХрдиреАрдХреЛрдВ рдХреЛ рд╕рдордЭрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдФрд░ 25 рд╕реЗрдХрдВрдб рд╕реЗ 40 рдПрдордПрд╕ рддрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХреЗ рддреНрд╡рд░рдг рдХреЛ рднреА рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред </p><a name="habracut"></a><br><h1 id="postanovka-zadachi">  рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдмрдпрд╛рди </h1><br><p>  рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП, рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдХреЛ рдХрд┐рд╕реА рджрд┐рдП рдЧрдП рд╡реАрдбрд┐рдпреЛ рдХреЗ рд▓рд┐рдП рдкрдЪрд╛рд╕ рд╕рдорд╛рди рд╡реАрдбрд┐рдпреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереАред  рдорд┐рд▓рд╛рди рдХрд┐рдП рдЧрдП рдЯреИрдЧ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рд╕рдорд╛рдирддрд╛ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдерд╛ред  рд╡реАрдбрд┐рдпреЛ рдЬрд┐рддрдиреЗ рдЯреИрдЧреНрд╕ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ, рд╡реЗ рдЙрддрдиреЗ рд╣реА рдорд┐рд▓рддреЗ-рдЬреБрд▓рддреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рд╣рдо рддреБрд░рдВрдд рдХрдИ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рд╡реАрдбрд┐рдпреЛ рдХреЗ рддрд╣рдд рд╕рднреА рдЯреИрдЧ рдХреЛ рдПрдХ рд╕рдореВрд╣ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ; </li><li>  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╡реАрдбрд┐рдпреЛ рд╕реЗ рдЕрдзрд┐рдХ рдРрд╕реЗ рд╕рдореВрд╣ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ; </li><li>  рдпрджрд┐ рд╡реАрдбрд┐рдпреЛ рдЯреИрдЧ рдХреЗ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдореВрд╣ рдХреЗ рдЕрдиреНрдп рд╡реАрдбрд┐рдпреЛ рдХреЗ рд╕рдорд╛рди рд╣реИ, рддреЛ рдпрд╣ рдЗрд╕ рд╕рдореВрд╣ рдХреЗ рдЕрдиреНрдп рд╡реАрдбрд┐рдпреЛ рдХреЗ рд╕рдорд╛рди рд╣реИ; </li></ul><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХреЗрд╡рд▓ рдЯреИрдЧ рд╕рдореВрд╣реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рдкрд╣рд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рдПрдХ рд╕рд╣рдХрд░реНрдореА рдиреЗ рдЯреИрдЧ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдЯреИрдЧ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛: рдкреНрд░рддреНрдпреЗрдХ рд╡реАрдбрд┐рдпреЛ рдореЗрдВ рдЯреИрдЧ рд╕рдореВрд╣ рдЖрдИрдбреА рдХрд╛ рдПрдХ рд▓рд┐рдВрдХ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рд╕рдореВрд╣ рд╕реНрд╡рдпрдВ рдмреВрд▓рд┐рдпрди рдорд╛рдиреЛрдВ рдХрд╛ рдПрдХ рдХреНрд░рдо рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рдЯреИрдЧ рд╕реЗрдЯ рд╣реИ рдпрд╛ рдирд╣реАрдВред  C # рдореЗрдВ, рдПрдХ рдЯреИрдЧ рд╕рдореВрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TagsGroup</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[] InnerTags { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } }</code> </pre> <br><p>  рдПрдХ рд╕рд╣рдХрд░реНрдореА рдиреЗ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдХрд┐ рд╕рд╛рдЗрдЯ рдкрд░ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдПрдХ рдорд┐рд▓рд┐рдпрди рд╕реЗ рдЕрдзрд┐рдХ рд╡реАрдбрд┐рдпреЛ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ, рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдЯреИрдЧ 4000 рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИрдВ, рдПрдХ рдЧреЛрд▓ рдЦрд╛рддреЗ рдХреЗ рд▓рд┐рдП рдЖрдк 4096 = 2 ^ 12 рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдлрд┐рд░ рдЗрд╕ рддрд░рд╣ рд╕реЗ <code>TagsGroup</code> рд╡рд░реНрдЧ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TagsGroup</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TagsGroupLength = <span class="hljs-number"><span class="hljs-number">4096</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>[] InnerTags { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TagsGroup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] innerTags</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags.Length != TagsGroupLength) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); } InnerTags = innerTags; } }</code> </pre> <br><p>  рдЕрдм рдЖрдкрдХреЛ рд╕рдорд╛рдирддрд╛ рдХреЗ рд▓рд┐рдП рдЯреИрдЧ рдХреЗ рджреЛ рд╕рдореВрд╣реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рддрд╣рдд, рдпрд╣ рдЯреИрдЧ рдХреЗ рджреЛ рд╕рдореВрд╣реЛрдВ рдХреЗ <code>InnerTags</code> рд╕рд░рдгрд┐рдпреЛрдВ рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рддрддреНрд╡реЛрдВ рдореЗрдВ рд╕рдЪ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рдЬрд╛рдВрдЪ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a.InnerTags[i] &amp;&amp; a.InnerTags[i] == b.InnerTags[i]) result++; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдЕрдм рдпрд╣ рдХреЗрд╡рд▓ рдкреНрд░рддреНрдпреЗрдХ рдореМрдЬреВрджрд╛ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рд╡рд╛рдВрдЫрд┐рдд рдЯреИрдЧ рд╕рдореВрд╣ рдХреА рд╕рдорд╛рдирддрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдФрд░ рдХреЗрд╡рд▓ рдкрдЪрд╛рд╕ рд╕рдорд╛рди рд▓реЛрдЧреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред  рдореИрдВрдиреЗ рдирдореВрдиреЗ рдХреА рд╕реНрдерд┐рд░рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЦреБрдж рдХреЛ рдПрдХ рдФрд░ рд╢рд░реНрдд рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА, рдЕрд░реНрдерд╛рддреНред  рдЕрдВрддрд┐рдо рдирдореВрдиреЗ рдореЗрдВ, рдкрдЪрд╛рд╕ рдЯреИрдЧ рд╕рдореВрд╣ рд╣реЛрдВрдЧреЗ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП <code>MeasureSimilarity</code> рдиреЗ рдЙрдЪреНрдЪрддрдо рдкрд░рд┐рдгрд╛рдо рджрд┐рдпрд╛, рдЬрдмрдХрд┐ рд╕рдорд╛рди <code>MeasureSimilarity</code> рдЯреИрдЧ рд╕рдореВрд╣реЛрдВ рдХреЗ <code>MeasureSimilarity</code> рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП <code>MeasureSimilarity</code> рдХрдо рд╕реВрдЪрдХрд╛рдВрдХ <code>MeasureSimilarity</code> рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдореВрд▓ рдореМрдЬреВрджрд╛ рд╕рдореВрд╣ рдореЗрдВ рдХрдо рд╕реВрдЪрдХрд╛рдВрдХ рдерд╛ред  рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣рд╛рдБ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://ru.wikipedia.org/wiki/Sistentable_Sort</a> ред <br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЗрд╕реА рддрд░рд╣ рдХреЗ <code>SimilarTagsCalculator</code> рдХреНрд▓рд╛рд╕ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдпрд╣рд╛рдБ рдЗрд╕рдХрд╛ рдХреЛрдб рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">SimilarTagsCalculator</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SimilarTagsCalculator</span></span> { TagsGroup[] Groups { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SimilarTagsCalculator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup[] groups</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (groups == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(groups)); Groups = groups; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TagsGroup[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFiftyMostSimilarGroups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> resultLength = <span class="hljs-number"><span class="hljs-number">50</span></span>; <span class="hljs-comment"><span class="hljs-comment">//,          var list = new List&lt;TagsSimilarityInfo&gt;(resultLength); //      for (int groupIndex = 0; groupIndex &lt; Groups.Length; groupIndex++) { TagsGroup tagsGroup = Groups[groupIndex]; //      int similarityValue = TagsGroup.MeasureSimilarity(value, tagsGroup); // -  TagsSimilarityInfo newInfo = new TagsSimilarityInfo(groupIndex, similarityValue); //    ,     , if (list.Count == resultLength &amp;&amp; list[resultLength - 1].CompareTo(newInfo) == -1) { continue; //     } //   ,    -  int index = ~list.BinarySearch(newInfo); list.Insert(index, newInfo); // if (list.Count &gt; resultLength) { //    , //   , ..    list.RemoveAt(resultLength); } } // -   TagsGroup[] result = new TagsGroup[resultLength]; for (int i = 0; i &lt; resultLength; i++) { result[i] = Groups[list[i].Index]; } return result; } }</span></span></code> </pre> </div></div><br><p>  рдФрд░ <code>TagsSimilarityInfo</code> рд╕рдВрд░рдЪрдирд╛: </p><br><div class="spoiler">  <b class="spoiler_title">TagsSimilarityInfo</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> TagsSimilarityInfo : IComparable&lt;TagsSimilarityInfo&gt;, IComparable { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Index { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Similarity { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TagsSimilarityInfo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> similarity</span></span></span><span class="hljs-function">)</span></span> { Index = index; Similarity = similarity; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsSimilarityInfo other</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Index == other.Index &amp;&amp; Similarity == other.Similarity; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> TagsSimilarityInfo other &amp;&amp; Equals(other); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">unchecked</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (Index * <span class="hljs-number"><span class="hljs-number">397</span></span>) ^ Similarity; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CompareTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsSimilarityInfo other</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> similarityComparison = other.Similarity.CompareTo(Similarity); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> similarityComparison != <span class="hljs-number"><span class="hljs-number">0</span></span> ? similarityComparison : Index.CompareTo(other.Index); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CompareTo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ReferenceEquals(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, obj)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> TagsSimilarityInfo other ? CompareTo(other) : <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">$"Object must be of type </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">nameof</span></span></span></span><span class="hljs-string"><span class="hljs-subst">(TagsSimilarityInfo)}</span></span></span><span class="hljs-string">"</span></span>); } }</code> </pre> </div></div><br><p>  рдореИрдВрдиреЗ рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдердо рдХреЗ рд▓рд┐рдП рддреАрди рдмреЗрдВрдЪрдорд╛рд░реНрдХ рддреИрдпрд╛рд░ рдХрд┐рдП: </p><br><ul><li>  рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдмреЗрдВрдЪрдорд╛рд░реНрдХ, рдЕрд░реНрдерд╛рддреНред  рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реЗрдЯ рдЯреИрдЧ рдХреА рд╕рдВрдЦреНрдпрд╛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╣реИ рдФрд░ рдЯреИрдЧ рд╕рдореВрд╣ рдЬрд┐рд╕рдХреА рд╣рдо рддреБрд▓рдирд╛ рдХрд░реЗрдВрдЧреЗ, рд╡рд╣ рднреА рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд╣реИ; </li><li>  рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рдЯреИрдЧ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝ рд░рд╣реА рд╣реИ, рд╣рдо рдЙрд╕ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░реЗрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ рд╕рднреА рдЯреИрдЧ рд╕реЗрдЯ рд╣реИрдВред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЯреИрдЧ рдХреЗ рдЕрдВрддрд┐рдо рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реЗ рдХреБрдЫ рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рдКрдкрд░ рдЬреИрд╕рд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЙрдЬрд╛рдЧрд░ рдЯреИрдЧ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрдо рд╣реЛ рд░рд╣реА рд╣реИред  рдЯреИрдЧ рдХреЗ рдкрд╣рд▓реЗ 50 рд╕рдореВрд╣ рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрдд рд╣реЛрдВрдЧреЗ; </li></ul><br><p>  рдпрд╣рд╛рдВ рдПрдХ рд▓рд╛рдЦ рд╕рдореВрд╣реЛрдВ рдХреЗ рд▓рд┐рдП рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВ: </p><br><p>  рдмреЗрдВрдЪрдорд╛рд░реНрдХрдбреЙрдЯрдиреЗрдЯ = v0.11.5, рдУрдПрд╕ = рд╡рд┐рдВрдбреЛрдЬ 10.0.17134.765 (1803 / рдЕрдкреНрд░реИрд▓ 2018 рдпреВрдкреАрдбреЗрдЯ / рд░реЗрдбрд╕реНрдЯреЛрди 4) <br>  Intel Core i7-6700 CPU 3.40GHz (Skylake), 1 CPU, 8 рддрд╛рд░реНрдХрд┐рдХ рдФрд░ 4 рднреМрддрд┐рдХ рдХреЛрд░ <br>  рдлреНрд░реАрдХреНрд╡реЗрдВрд╕реА = 3328126 рд╣рд░реНрдЯреНрдЬ, рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди = 300.4694 рдПрдирдПрд╕, рдЯрд╛рдЗрдорд░ = рдЯреАрдПрд╕рд╕реА <br>  .NET рдХреЛрд░ рдПрд╕рдбреАрдХреЗ = 3.0.100-рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди 5-011568 <br>  [рд╣реЛрд╕реНрдЯ]: .NET рдХреЛрд░ 3.0.0-рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди 5-27626-15 (CoreCLR 4.6.27622.75, CoreFX 4.700.19.22408), 64 рдмрд┐рдЯ RyuJIT </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  25.054 рдПрд╕ </td><td>  0.1786 рдПрд╕ </td><td>  0.1670 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  4.180 рдПрд╕ </td><td>  0.0174 рдПрд╕ </td><td>  0.0162 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  4.147 рдПрд╕ </td><td>  0.0118 рдПрд╕ </td><td>  рд╣реЙрдк 4 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><p>  рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдХрд╛ рдкреНрд░рд╕рд╛рд░ рдмрд╣реБрдд рдмрдбрд╝рд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ 25 рд╕реЗрдХрдВрдб рдмрд╣реБрдд рд▓рдВрдмрд╛ рд╕рдордп рд╣реИ, рдореЗрд░реЗ рд╕рд╣рдпреЛрдЧреА рдЗрддрдиреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдордд рдирд╣реАрдВ рд╣реИрдВред  рддреЛ рдЪрд▓реЛ рдЕрдиреБрдХреВрд▓рди рдХрд░рддреЗ рд╣реИрдВред  рдЕрдм рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рддреАрди рдореБрдЦреНрдп рдХреНрд╖реЗрддреНрд░ рд╣реИрдВ: </p><br><ul><li>  <code>MeasureSimilarity</code> ; </li><li>  <code>GetFiftyMostSimilarGroups</code> рдореЗрдВ рдкрд╛рд╢ рдХреЗ рд╢рд░реАрд░ рдореЗрдВ рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо; </li><li>  <code>GetFiftyMostSimilarGroups</code> рдореЗрдВ рд╕реНрд╡рдпрдВ рд▓реВрдк; </li></ul><br><p>  рд╣рдо рдХреНрд░рдо рдореЗрдВ рддреАрди рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред </p><br><h1 id="predskazanie-vetvleniy">  рд╢рд╛рдЦрд╛ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА </h1><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, <code>MeasureSimilarity</code> рд╡рд┐рдзрд┐ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a.InnerTags[i] &amp;&amp; a.InnerTags[i] == b.InnerTags[i]) result++; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдкрд┐рдЫрд▓реЗ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдореЗрдВ, рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд░реАрдХреНрд╖рдг рдФрд░ рдХреНрд░рдорд┐рдХ рдХрд┐рд╕реА рдХреЗ рдмреАрдЪ рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдмрд╣реБрдд рдмрдбрд╝реА рднрд┐рдиреНрдирддрд╛ рдереАред  рдЕрдиреБрдХреНрд░рдорд┐рдХ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЯреИрдЧ рд╕рдореВрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд┐рджреНрдзрд╛рдВрдд рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдереЗ: </p><br><ul><li>  рд╕рдореВрд╣реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╕рдВрдХреБрд▓ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдкреИрдХреЗрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ - рд╕рдореВрд╣ рдореЗрдВ рдЯреИрдЧ рдХреА рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛; </li><li>  i-th рдкреИрдХреЗрдЬ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ i рдЯреИрдЧ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рдереЗ; </li></ul><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдЗрди рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ рдЯреИрдЧ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рдореЗрдВ рдЙрдЬрд╛рдЧрд░ рдФрд░ рдЕрдирдПрдореНрдкреЛрдЬрд╝реНрдб рдЯреИрдЧ рдХреЗ рджреЛ рд▓рдЧрд╛рддрд╛рд░ рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВред  <code>MeasureSimilarity</code> рдореЗрдВ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреА рдкреВрд░реНрд╡ рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рд╢рд░реНрддреЗрдВ рд╣реИрдВ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓рддреА рд╣реИрдВред  рдЗрд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдПрдХ рдорд╛рдирджрдВрдб рд▓рд┐рдЦреЗрдВ, рдЬреЛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдФрд░ рдЕрдиреБрдХреНрд░рдорд┐рдХ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рдк-рдХреНрд╖рдорддрд╛ рдХреЗ рдХреНрд░рдо рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSimilaritySum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup[] tagsGroups</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (TagsGroup tagsGroup <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> tagsGroups) { result += TagsGroup.MeasureSimilarity(tagsGroup, etalon); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } [Benchmark] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sorted</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GetSimilaritySum(sortedGroups); [Benchmark] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Unsorted</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GetSimilaritySum(unsortedGroups);</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th></tr></thead><tbody><tr><td>  рдХреНрд░рдордмрджреНрдз </td><td>  3.704 рдПрд╕ </td><td>  0.0411 рдПрд╕ </td><td>  0.0364 рдПрд╕ </td></tr><tr><td>  рдЕрд╡рд░реНрдЧреАрдХреГрдд </td><td>  8.211 рд╕реЗ </td><td>  0.0381 рдПрд╕ </td><td>  0.0338 рдПрд╕ </td></tr></tbody></table></div><br><p>  рдПрдХ рд▓рд╛рдЦ рдЯреИрдЧ рд╕рдореВрд╣реЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рдореЗрдВ <code>Sorted</code> рд╕реЗ рдХрдИ рдЙрдЬрд╛рдЧрд░ рдЯреИрдЧ рдереЗ, рдФрд░ рдлрд┐рд░ рдЕрдирдПрдХреНрд╕рдкреЛрдЬрд╝реНрдб рд╡рд╛рд▓реЗ, рдФрд░ <code>Unsorted</code> рдореЗрдВ рд╕рдорд╛рди рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЙрдЬрд╛рдЧрд░ рдХрд┐рдП рдЧрдП рдЯреИрдЧ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рд░реВрдк рд╕реЗ рдкреВрд░реЗ рд╕рдореВрд╣ рдореЗрдВ рдмрд┐рдЦрд░реЗ рд╣реБрдП рдереЗред <br>  5 рд╕реЗрдХрдВрдб рдХрд╛ рдЕрдВрддрд░ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд╣реИ, рдФрд░ рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╢рд╛рдЦрд╛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреЗ рдкреНрд░рднрд╛рд╡ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдЖрдо рддреМрд░ рдкрд░ рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЦреБрдж рд╢рд╛рдЦрд╛рдУрдВ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  <code>MeasureSimilarity</code> рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╢рд╛рдЦрд╛ рд╣реИ - рдпрд╣ рдЬрд╛рдВрдЪрдирд╛ рдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд рдЯреИрдЧ рджреЛ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЖрдЗрдП рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рд╕реНрдерд┐рддрд┐ рд╕рд╣реА рд╣реЛрдЧреА, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо рд╕реНрдерд┐рддрд┐ рдХреА рд╕рдЪреНрдЪрд╛рдИ рдХреА рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдПрдВрдЧреЗ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рдП.рдЗрдирд░рдЯреИрдЧреНрд╕ [i] </th><th>  b.InnerTags [i] </th><th>  рдкрд░рд┐рдгрд╛рдо </th></tr></thead><tbody><tr><td>  рдЭреВрдард╛ </td><td>  рдЭреВрдард╛ </td><td>  рдЭреВрдард╛ </td></tr><tr><td>  рдЭреВрдард╛ </td><td>  рдпрд╣ рд╕рдЪ рд╣реИ </td><td>  рдЭреВрдард╛ </td></tr><tr><td>  рдпрд╣ рд╕рдЪ рд╣реИ </td><td>  рдЭреВрдард╛ </td><td>  рдЭреВрдард╛ </td></tr><tr><td>  рдпрд╣ рд╕рдЪ рд╣реИ </td><td>  рдпрд╣ рд╕рдЪ рд╣реИ </td><td>  рдпрд╣ рд╕рдЪ рд╣реИ </td></tr></tbody></table></div><br><p>  рд╕рддреНрдп рддрд╛рд▓рд┐рдХрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддрд╛рд░реНрдХрд┐рдХ "рдФрд░" рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддреА рд╣реИ, рдЕрд░реНрдерд╛рддред  рдкрд░рд┐рдгрд╛рдо рд╕рд╣реА рд╣реИ рдЕрдЧрд░ рдФрд░ рдХреЗрд╡рд▓ рдпрджрд┐ рджреЛрдиреЛрдВ рдЯреИрдЧ рд╕рддреНрдп рд╣реИрдВ, рддреЛ рд╕реНрдерд┐рддрд┐ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <code>if (a.InnerTags[i] &amp;&amp; b.InnerTags[i])</code> ред  рд▓реЗрдХрд┐рди рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╣рд╛рд▓рдд рдЕрднреА рднреА рдмрдиреА рд╣реБрдИ рд╣реИред  рдЕрдЧрд▓реЗ рдЪрд░рдг рдореЗрдВ, рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдкрд░рд┐рдгрд╛рдо рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣рдореЗрд╢рд╛ рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо рд▓реВрдк рдХреЗ рд╢рд░реАрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t = a.InnerTags[i] &amp;&amp; b.InnerTags[i] ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>; result += t;</code> </pre> <br><p>  рд╣рдордиреЗ рдЕрднреА рднреА рд╣рд╛рд▓рдд рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдирд╣реАрдВ рдкрд╛рдпрд╛ рд╣реИ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рднреА рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдзреАрдорд╛ рдХрд░ рджрд┐рдпрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдм рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЕрдЧрд░ <code>InnerTags</code> рдкреНрд░рдХрд╛рд░ рдмреВрд▓ рд╕реЗ рдмрд╛рдЗрдЯ рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ (рд╕рдЪ рдХреЗ рд▓рд┐рдП 1, рдФрд░ рдЧрд▓рдд рдХреЗ рд▓рд┐рдП 0), рддреЛ рдЖрдк рдЯрд░реНрдирд░реА рдСрдкрд░реЗрдЯрд░ рдореЗрдВ рд╕реНрдерд┐рддрд┐ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рддрдм <code>TagsGroup</code> рдХреНрд▓рд╛рд╕ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: </p><br><div class="spoiler">  <b class="spoiler_title">TagsGroup</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TagsGroup</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> TagsGroupLength = <span class="hljs-number"><span class="hljs-number">4096</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] InnerTags { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; result += t; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TagsGroup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] innerTags</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags.Length != TagsGroupLength) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); } InnerTags = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[TagsGroupLength]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength; i++) { InnerTags[i] = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>) (innerTags[i] ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>); } } }</code> </pre> </div></div><br><p>  рдпрд╣рд╛рдБ рдЕрджреНрдпрддрди <code>MeasureSimilarity</code> рд▓рд┐рдП рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th></tr></thead><tbody><tr><td>  рдХреНрд░рдордмрджреНрдз </td><td>  3.180 рдПрд╕ </td><td>  0.0118 рдПрд╕ </td><td>  0.0111 рдПрд╕ </td></tr><tr><td>  рдЕрд╡рд░реНрдЧреАрдХреГрдд </td><td>  3.236 рдПрд╕ </td><td>  0.0622 рдПрд╕ </td><td>  0.0764 рдПрд╕ </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">рдпрд╣ рдерд╛:</b> <div class="spoiler_text"><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th></tr></thead><tbody><tr><td>  рдХреНрд░рдордмрджреНрдз </td><td>  3.704 рдПрд╕ </td><td>  0.0411 рдПрд╕ </td><td>  0.0364 рдПрд╕ </td></tr><tr><td>  рдЕрд╡рд░реНрдЧреАрдХреГрдд </td><td>  8.211 рд╕реЗ </td><td>  0.0381 рдПрд╕ </td><td>  0.0338 рдПрд╕ </td></tr></tbody></table></div></div></div><br><p>  рд▓реЗрдХрд┐рди рдЕрджреНрдпрддрди рдХрд┐рдП рдЧрдП рдореБрдЦреНрдп рдмреАрдЪрдорд╛рд░реНрдХ рдХреЗ рд▓рд┐рдП: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  рей.реирез реп рдПрд╕ </td><td>  0.0492 рдПрд╕ </td><td>  0.0436 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  3.223 рдПрд╕ </td><td>  0.0117 рдПрд╕ </td><td>  0.0110 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  рей.рекреиреи рд╕ </td><td>  0.0697 рдПрд╕ </td><td>  0.0999 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">рдпрд╣ рдерд╛:</b> <div class="spoiler_text"><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  25.054 рдПрд╕ </td><td>  0.1786 рдПрд╕ </td><td>  0.1670 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  4.180 рдПрд╕ </td><td>  0.0174 рдПрд╕ </td><td>  0.0162 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  4.147 рдПрд╕ </td><td>  0.0118 рдПрд╕ </td><td>  рд╣реЙрдк 4 рдПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div></div></div><br><p>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдерд╛ред  рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдЖрд╢реНрд╡рд╕реНрдд рдереЗ рдХрд┐ рд╕рднреА рддреНрд╡рд░рдг рдХреЗрд╡рд▓ рдЗрд╕рд▓рд┐рдП рд╣реБрдП рдХреНрдпреЛрдВрдХрд┐ рдмреВрд▓рд┐рдпрди рдкреНрд░рдХрд╛рд░ рдХреЛ рдмрд╛рдЗрдЯ рдХреЗ рд╕рд╛рде рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдореИрдВрдиреЗ рдРрд╕реЗ рд▓реВрдк рдмреЙрдбреА рдХреЗ рд▓рд┐рдП рдПрдХ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-number"><span class="hljs-number">1</span></span>) result += t;</code> </pre> <br><p>  рдФрд░ рдпреЗ рдкрд░рд┐рдгрд╛рдо рд╣реИрдВ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th></tr></thead><tbody><tr><td>  рдХреНрд░рдордмрджреНрдз </td><td>  3.760 рдПрд╕ </td><td>  0.0746 рдПрд╕ </td><td>  0.1541 рдПрд╕ </td></tr><tr><td>  рдЕрд╡рд░реНрдЧреАрдХреГрдд </td><td>  8.628 рд╕реЗ </td><td>  0.1699 рдПрд╕ </td><td>  0.2382 рдПрд╕ </td></tr></tbody></table></div><br><h1 id="upakovyvanie-dannyh">  рдбреЗрдЯрд╛ рдкреИрдХреЗрдЬрд┐рдВрдЧ </h1><br><p>  рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рдХреЗ рдХрдИ рдЯреИрдЧ рд╣реИрдВ, рдФрд░ рдЙрдирдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рдХрдо рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ рдПрдХ рд╣реА рд╕реВрдЪрдХрд╛рдВрдХ рдХреЗ рд╕рд╛рде рдЯреИрдЧреНрд╕ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЖрдк рд╕рднреА рдЯреИрдЧреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд┐рдП рдмрд┐рдирд╛ рдЕрдВрддрд┐рдо рдЬрд╡рд╛рдм рдирд╣реАрдВ рджреЗ рд╕рдХрддреЗред  рдЗрд╕рд▓рд┐рдП, рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдореЗрдВ рдЯреИрдЧ рдХреЗ рдкреВрд░реЗ рд╕рдореВрд╣ рдкрд░ рдкреБрдирд░рд╛рд╡реГрддрд┐ рдХрд░рдиреА рд╣реЛрдЧреАред  рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛, рддрд╛рдХрд┐ рдПрдХ рд╕рд╢рд░реНрдд рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдХрдИ рдЯреИрдЧ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред  рдЖрдк рдЗрд╕реЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╛рдирд╛рдВрддрд░рдХрд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдЖрдк рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛ рдкреИрдХреЗрдЬрд┐рдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рд╣рдо рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдкреНрд░рддреНрдпреЗрдХ рдЯреИрдЧ рдЕрдм 1 рдпрд╛ 0. рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред рдкрд░рд┐рдгрд╛рдо рдореЗрдВ, рдСрдкрд░реЗрд╢рди "AND" рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдХреЗрд╡рд▓ рдЬрдорд╛ рд╣реЛрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рд╣реА рддрд╛рд░реНрдХрд┐рдХ рд╕рдВрдЪрд╛рд▓рди рди рдХреЗрд╡рд▓ рдПрдХрд▓-рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  C # рдЖрдкрдХреЛ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдорд╕реНрдпрд╛ рдХреЗ 64 рдмрд┐рдЯ рдирдВрдмрд░ рддрдХ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдЖрдк <code>BitArray</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдзрд┐рдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИ)ред  рдпрджрд┐ рд╣рдо рд╕рдВрдмрдВрдзрд┐рдд рдмрд┐рдЯреНрд╕ рдХреЗ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде 64 рдмрд┐рдЯ рдирдВрдмрд░реЛрдВ рдХреЗ рд╕рдореВрд╣ рдХреЗ рд░реВрдк рдореЗрдВ рдЯреИрдЧ рдХреЗ рджреЛ рд╕рдореВрд╣реЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ 64 рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рдРрд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рдкрд░ рдПрдХ "рдФрд░" рдСрдкрд░реЗрд╢рди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИред  рдЖрдЗрдП рдлрд┐рд░ рд╕реЗ рд▓реВрдк рдХреЗ рд╢рд░реАрд░ рдкрд░ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; result += t;</code> </pre> <br><p>  рдкрд░рд┐рдгрд╛рдо 1 рд╣рд░ рдмрд╛рд░ t == 1 рд╕реЗ рдмрдврд╝рддрд╛ рд╣реИ рдФрд░ рдЬрдм t == 0. рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИ, рддреЛ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдХрд┐рддрдиреЗ рдмрд╛рд░ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдЧрд╛ред <code>a.InnerTags[i] &amp; b.InnerTags[i]</code> рдПрдХ рдерд╛ред  рддрджрдиреБрд╕рд╛рд░, рдХрд┐рд╕реА рд╕рд░рдгреА рдореЗрдВ <code>a.InnerTags[i] &amp; b.InnerTags[i]</code> рд╕рднреА рдкрд░рд┐рдгрд╛рдо рд╕рд╣реЗрдЬрдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛, рдФрд░ рдкрд░рд┐рдгрд╛рдо рдореЗрдВ рдЗрд╕ рд╕рд░рдгреА рдореЗрдВ рдХреЗрд╡рд▓ рдЗрдХрд╛рдЗрдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд▓рд┐рдЦреЗрдВред  рдПрди-рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдЕрдзрд┐рдХ рдкрд░ рдПрдВрдб рдСрдкрд░реЗрд╢рди рдХрд░рддреЗ рд╕рдордп, рдПрдХ рдПрди-рдмрд┐рдЯ рдкрд░рд┐рдгрд╛рдо рд╣реЛрдЧрд╛ рдФрд░ рдпрд╣ рдХреЗрд╡рд▓ рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдЧрд╛ рдХрд┐ рдПрди рдХреЗ рдмреАрдЪ рдХрд┐рддрдиреЗ рдмрд┐рдЯ рд╕реЗрдЯ рд╣реИрдВред  рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╕реЗрдЯ рдмрд┐рдЯреНрд╕ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЖрдк рдЗрди рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЛ рдЧрд┐рди рд╕рдХрддреЗ рд╣реИрдВред  64 рдмрд┐рдЯреНрд╕ рдХреА рдЧрд┐рдирддреА рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐  рд╣рдореЗрдВ рдЗрддрдиреА рд░реИрдо рдирд╣реАрдВ рдорд┐рд▓реЗрдЧреАред  32 рдмрд┐рдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЖрдзреБрдирд┐рдХ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЬрдЧрд╣ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрднреА рднреА рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╣реИред  16 рдмрд┐рдЯреНрд╕ рдХреЗ рддрд╣рдд рдореЗрдореЛрд░реА рдХреЛ рдвреВрдВрдврдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЧрдгрдирд╛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд▓рдВрдмреА рд╣реЛрдЧреАред  рдПрдХ рд╕рдордЭреМрддреЗ рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдЗрдП 8 рдмрд┐рдЯ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЧрдгрдирд╛ рдХрд░реЗрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">GenerateCountOfSettedBits</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] CountOfSettedBits = GenerateCountOfSettedBits(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">byte</span></span></span><span class="hljs-function">[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GenerateCountOfSettedBits</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  result   i      i- . byte[] result = new byte[256]; //  ,      i   , //        int[] b = new int[8]; //     for (int i = 1; i &lt; 256; i++) { //       int settedBitsCount = 0; //,       int m = 1; //   for (int j = 0; j &lt; 8; j++) { //     b[j] += m; //  ,       2. m = b[j] &gt;&gt; 1; //        b[j] = b[j] &amp; 1; //,        settedBitsCount += b[j]; } result[i] = (byte) settedBitsCount; //   } return result; }</span></span></code> </pre> </div></div><br><p>  рдЕрдм рдЯреИрдЧрдЧреНрд░реБрдк рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BucketSize = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TagsGroup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] innerTags</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (innerTags.Length != TagsGroupLength) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(innerTags)); } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    InnerTags = new byte[TagsGroupLength / BucketSize]; //   for (int i = 0; i &lt; TagsGroupLength / BucketSize; i++) { //     for (int j = 0; j &lt; BucketSize; j++, index++) { //    2,      InnerTags[i] &lt;&lt;= 1; //    InnerTags[i] += (byte) (innerTags[index] ? 1 : 0); } } }</span></span></code> </pre> <br><p>  рдФрд░ <code>MeasureSimilarity</code> рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рд╢реБрд░реВ рд╣реБрдИ: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength / BucketSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; result += CountOfSettedBits[t]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдЖрдк рдПрдХ рдмрдбрд╝рд╛ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рдм рдХреБрдЫ рдмреЗрд╣рддрд░ рд╣реИ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  560.5 рдорд┐ </td><td>  8.285 рдорд┐ </td><td>  7.344 рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  570.1 рдорд┐ </td><td>  4.108 рдорд┐ </td><td>  3.431 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  608.1 рдорд┐ </td><td>  5.691 рдорд┐ </td><td>  5.324 рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><p>  рдХреНрдпрд╛ <code>MeasureSimilarity</code> рд╡рд┐рдзрд┐ рдХреЛ рдФрд░ рднреА рддреЗрдЬ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ?  рдмреЗрд╢рдХ!  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЛ рдорд╣рд╕реВрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд░рдпреЛрдЬрди рд░рдЬрд┐рд╕реНрдЯрд░ рдЕрдм рдЬреНрдпрд╛рджрд╛рддрд░ 64 рдмрд┐рдЯ рд╣реИрдВ, рдФрд░ рд╣рдо рдЙрдирдореЗрдВ рдЖрда-рдмрд┐рдЯ рдбреЗрдЯрд╛ рдЪрд▓рд╛рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреИрдХреЗрдЯ рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рд╛рдПрдВ рдЬрд┐рд╕рдореЗрдВ рдореВрд▓ рдЯреИрдЧ рдкреИрдХ рдХрд┐рдП рдЧрдП рд╣реЛрдВ, 64 рдмрд┐рдЯ рддрдХ рдмрдврд╝реЗрдВ рдФрд░ рдЖрд╡рд╢реНрдпрдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦреЗрдВ: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BucketSize = <span class="hljs-number"><span class="hljs-number">64</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">ulong</span></span>[] InnerTags { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength / BucketSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">ulong</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; BucketSize / <span class="hljs-number"><span class="hljs-number">8</span></span>; j++) { result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  533.3 рдорд┐ </td><td>  4.802 рдорд┐ </td><td>  4.492 рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  550.9 рдПрдордПрд╕ </td><td>  5.435 рдорд┐ </td><td>  5.084 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  567.6 рдорд┐ </td><td>  3.879 рдорд┐ </td><td>  рей.рекрей реп рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><p>  рдлрд┐рд░ рдЖрдк рдЖрдВрддрд░рд┐рдХ рд▓реВрдк рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">MeasureSimilarity</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength / BucketSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">ulong</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; t &gt;&gt;= <span class="hljs-number"><span class="hljs-number">8</span></span>; result += CountOfSettedBits[t &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> </div></div><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  370.5 рдорд┐ </td><td>  2.802 рдПрдордПрд╕ </td><td>  2.484 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  395.8 рдПрдордПрд╕ </td><td>  2.682 рдПрдордПрд╕ </td><td>  2.509 рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  419.5 рдПрдордПрд╕ </td><td>  3.352 рдПрдордПрд╕ </td><td>  2.971 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><p>  рдХреНрдпрд╛ рдпрд╣ рдФрд░ рднреА рддреЗрдЬ рд╣реИ?  рд╣рд╛рдБ!  рдпрджрд┐ рдЖрдк .NET рдХреЛрд░ 3.0 рд╕реЗ рдирд╡рд╛рдЪрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд╕рдВрд╕реНрдХрд░рдг рдЕрднреА рднреА рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдореЗрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╢реБрд░реБрдЖрдд рд╕реЗ рд╣реА рдХреБрдЫ рдЖрдВрддрд░рд┐рдХ рд╡рд┐рд╖рдпреЛрдВ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИред  рдЗрдВрдЯреЗрд▓ рдЖрдВрддрд░рд┐рдХ рдЧрд╛рдЗрдб рдореЗрдВ рдЖрдВрддрд░рд┐рдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><code>_mm_popcnt_u64</code></a> ред  рдЬреИрд╕рд╛ рдХрд┐ рд╡рд░реНрдгрд┐рдд рд╣реИ: " <em>рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд 64-рдмрд┐рдЯ рдкреВрд░реНрдгрд╛рдВрдХ рдореЗрдВ 1 рдореЗрдВ рд╕реЗрдЯ рдмрд┐рдЯреНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВ, рдФрд░ рдЙрд╕ dst рдореЗрдВ рд▓реМрдЯреЗрдВред</em> "  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдо рдХреНрдпрд╛ рд╣рд╛рд╕рд┐рд▓ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ!  .NET Core 3.0 рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди 5 рдореЗрдВ, рдпрд╣ рдЖрдВрддрд░рд┐рдХ <code>System.Runtime.Intrinsics.X86.Popcnt.X64.IsSupported</code> <code>System.Runtime.Intrinsics.X86.Popcnt.X64.PopCount</code> рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рд╕рд╣реА рдврдВрдЧ рд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдПрдХ tk</a> рдХреА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЖрдкрдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдкреНрд░реЛрд╕реЗрд╕рд░ рдЖрдВрддрд░рд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЙрдирдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, <code>System.Runtime.Intrinsics.X86.Popcnt.X64.IsSupported</code> рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред <code>System.Runtime.Intrinsics.X86.Popcnt.X64.IsSupported</code> )ред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, <code>MeasureSimilarity</code> рд╡рд┐рдзрд┐ рдХрд╛ рдХреЛрдб рдЗрд╕ рддрд░рд╣ рдмрди рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MeasureSimilarity</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup a, TagsGroup b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; TagsGroupLength / BucketSize; i++) { <span class="hljs-keyword"><span class="hljs-keyword">ulong</span></span> t = a.InnerTags[i] &amp; b.InnerTags[i]; result += (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) System.Runtime.Intrinsics.X86.Popcnt.X64.PopCount(t); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  рдФрд░ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдореАрди </th><th>  рддреНрд░реБрдЯрд┐ </th><th>  StdDev </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  59.33 рдорд┐ </td><td>  1.148 рдорд┐ </td><td>  0.9585 рдорд┐ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  AscendantTest </td><td>  74.87 рдорд┐ </td><td>  1.479 рдорд┐ </td><td>  1.9748 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr><tr><td>  DescendantTest </td><td>  119.46 рдорд┐ </td><td>  2.321 рдПрдордПрд╕ </td><td>  2.8509 рдПрдордПрд╕ </td><td>  1.53 рдХреЗрдмреА </td></tr></tbody></table></div><br><p>  рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реАред <br>  рдореБрдЭреЗ рдЙрди рддрд░реАрдХреЛрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рд╣реИ, рдЬреЛ <code>MeasureSimilarity</code> рдХрд╛рдлреА рддреЗрдЬреА рд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рд╛рде рд╣реА рд╕рд╛рде рдкрдардиреАрдпрддрд╛ рдХреЛ рдмрд╣реБрдд рдЦрд░рд╛рдм рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="struktury-dannyh">  рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ </h1><br><p>  рдЕрдм рд╣рдо <code>GetFiftyMostSimilarGroups</code> рд╡рд┐рдзрд┐ рдореЗрдВ рд▓реВрдк рдХреЗ рд╢рд░реАрд░ рдХреЗ рд╕рд╛рде <code>GetFiftyMostSimilarGroups</code> рдХрд░реЗрдВрдЧреЗ: </p><br><div class="spoiler">  <b class="spoiler_title">GetFiftyMostSimilarGroups</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TagsGroup[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFiftyMostSimilarGroups</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> resultLength = <span class="hljs-number"><span class="hljs-number">50</span></span>; List&lt;TagsSimilarityInfo&gt; list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;TagsSimilarityInfo&gt;(<span class="hljs-number"><span class="hljs-number">50</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> groupIndex = <span class="hljs-number"><span class="hljs-number">0</span></span>; groupIndex &lt; Groups.Length; groupIndex++) { TagsGroup tagsGroup = Groups[groupIndex]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> similarityValue = TagsGroup.MeasureSimilarity(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, tagsGroup); TagsSimilarityInfo newInfo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TagsSimilarityInfo(groupIndex, similarityValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (list.Count == resultLength &amp;&amp; list[resultLength - <span class="hljs-number"><span class="hljs-number">1</span></span>].CompareTo(newInfo) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = ~list.BinarySearch(newInfo); list.Insert(index, newInfo); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (list.Count &gt; resultLength) { list.RemoveAt(resultLength); } } TagsGroup[] result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TagsGroup[resultLength]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; resultLength; i++) { result[i] = Groups[list[i].Index]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> </div></div><br><p>  рдореБрдЭреЗ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдпрд╛рдж рджрд┐рд▓рд╛рдПрдВ рдХрд┐ рдпрд╣рд╛рдВ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ: </p><br><ul><li>  рд╕реВрдЪреА рдХреЗ рдЕрдВрджрд░, рдкрдЪрд╛рд╕ рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрдд рдЯреИрдЧ рд╕рдореВрд╣реЛрдВ рдХреА рдПрдХ рдХреНрд░рдордмрджреНрдз рд╕реВрдЪреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЫреЛрдЯреЗ рд╕реЗ рдмрдбрд╝реЗ рддрдХ, рдпрджрд┐ рдЖрдк <code>TagsSimilarityInfo</code> рддреБрд▓рдирд╛ <code>TagsSimilarityInfo</code> ; </li><li>  рдЫрдБрдЯрд╛рдИ рдХреЛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд░рддреЗ рд╣реБрдП рд╕реВрдЪреА рдореЗрдВ рдирдП рд╕рдореВрд╣ рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░реЗрдВ; </li><li>  рдпрджрд┐ рд╕реВрдЪреА рдореЗрдВ рдкрдЪрд╛рд╕ рд╕реЗ рдЕрдзрд┐рдХ рддрддреНрд╡ рд╣реИрдВ, рддреЛ рдХрдо рд╕реЗ рдХрдо рд╕рдорд╛рди рд╕рдореВрд╣ рдХреЛ рд╣рдЯрд╛ рджреЗрдВ (рдЗрд╕рдХреА рдЬрд╛рдирдХрд╛рд░реА-рд╡рд╕реНрддреБ рд╕рдмрд╕реЗ рдмрдбрд╝реА рд╣реЛрдЧреА рдФрд░ <code>list</code> рдХреЗ рдмрд╣реБрдд рдЕрдВрдд рдореЗрдВ рд╣реЛрдЧреА); </li></ul><br><p>  рдпрд╛рдиреА  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рд╣рдореЗрдВ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рддрддреНрд╡ рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд▓реНрджреА рд╕реЗ рдбрд╛рд▓рдиреЗ рдФрд░ рд╣рдЯрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛред  рдРрд╕реА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдПрдВ рд╣реИрдВред  рдкрд╣рд▓реА рдмрд╛рдд рдЬреЛ рдорди рдореЗрдВ рдЖрддреА рд╣реИ рд╡рд╣ рд╣реИ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреБрдЪреНрдЫрд╛</a> ред  рдЙрд╕рдХреА рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ O (рд▓реЙрдЧ рдПрди) рдореЗрдВ рдХреА рдЬрд╛рддреА рд╣реИ, рдУ (1 рдПрди) рдореЗрдВ рдПрдХ рддрддреНрд╡ рдХреЛ рд╣рдЯрд╛рддреЗ рд╣реБрдП, рдУ (1) рдореЗрдВ рдЕрдзрд┐рдХрддрдо рд╣реЛ рд░рд╣реА рд╣реИред  рдПрдХрдорд╛рддреНрд░ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдвреЗрд░ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ рдмрдврд╝рддреЗ рддрддреНрд╡реЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреБрдирд░рд╛рд╡реГрддреНрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  BCL рдореЗрдВ рдХреЛрдИ рдмрд╛рдЗрдирд░реА рд╣реАрдк рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд▓рд┐рдЦрд╛: </p><br><div class="spoiler">  <b class="spoiler_title">BinaryHeap</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BinaryHeap</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;:<span class="hljs-title"><span class="hljs-title">IEnumerable</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; <span class="hljs-title"><span class="hljs-title">where</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span> : <span class="hljs-title"><span class="hljs-title">IComparable</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> List&lt;T&gt; innerList; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BinaryHeap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> capacity</span></span></span><span class="hljs-function">)</span></span> { innerList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;T&gt;(capacity); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Count =&gt; innerList.Count; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T Max =&gt; innerList[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { innerList.Add(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = Count - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> parent = (i - <span class="hljs-number"><span class="hljs-number">1</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; innerList[parent].CompareTo(innerList[i]) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) { Swap(i, parent); i = parent; parent = (i - <span class="hljs-number"><span class="hljs-number">1</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Swap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { T temp = innerList[a]; innerList[a] = innerList[b]; innerList[b] = temp; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Heapify</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> leftChild = (i &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) | <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rightChild = (i + <span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> largestChild = i; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (leftChild &lt; Count &amp;&amp; innerList[leftChild].CompareTo(innerList[largestChild]) == <span class="hljs-number"><span class="hljs-number">1</span></span>) { largestChild = leftChild; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rightChild &lt; Count &amp;&amp; innerList[rightChild].CompareTo(innerList[largestChild]) == <span class="hljs-number"><span class="hljs-number">1</span></span>) { largestChild = rightChild; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (largestChild == i) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } Swap(i, largestChild); i = largestChild; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RemoveMax</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { innerList[<span class="hljs-number"><span class="hljs-number">0</span></span>] = innerList[Count - <span class="hljs-number"><span class="hljs-number">1</span></span>]; innerList.RemoveAt(Count - <span class="hljs-number"><span class="hljs-number">1</span></span>); Heapify(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IEnumerator&lt;T&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetEnumerator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> innerList.GetEnumerator(); } IEnumerator IEnumerable.GetEnumerator() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((IEnumerable) innerList).GetEnumerator(); } }</code> </pre> </div></div><br><p>  <code>GetFiftyMostSimilarGroups</code> рд╡рд┐рдзрд┐ рдХрд╛ рд╕рдВрдЧрдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓реЗрдЦ рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб (рдиреАрдЪреЗ рд▓рд┐рдВрдХ) рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br>  рдвреЗрд░ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА</a> рдКрдкрд░ рдЖ рд╕рдХрддрд╛ рд╣реИред  рдПрдХ рд╕рдВрддреБрд▓рд┐рдд рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рдУ (рд▓реЙрдЧ рдПрди) рдХреЗ рд▓рд┐рдП рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдУ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рд▓реЙрдЧ рдПрди), рдУ (рд▓реЙрдЧ рдПрди) рдХреЗ рд▓рд┐рдП рдПрдХ рддрддреНрд╡ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд▓рд╛рдн рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдЖрд░реЛрд╣реА рдХреНрд░рдо рдореЗрдВ рдкреБрдирд░рд╛рд╡реГрддреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдмреАрд╕реАрдПрд▓ рдореЗрдВ рд▓рд╛рд▓-рдХрд╛рд▓реЗ рд░рдВрдЧ рдХреЗ рдЦреЛрдЬ рдХреЛ рд╕реЙрд░реНрдЯреЗрдбрд╕реЗрдЯ (рдПрдХ рдмрдбрд╝реЗ рдврд╛рдВрдЪреЗ рдореЗрдВ, рдЕрдзрд┐рдХрддрдо .net 3.0 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдзреАрдореА рдЧрддрд┐ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдореЗрдореЛрд░реА рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдирд╛) рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  <code>GetFiftyMostSimilarGroups</code> рд▓рд┐рдП GetFiftyMostSimilarGroups рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓реЗрдЦ рдХреЗ рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br>  рд╕рднреА рддреАрди <code>GetFiftyMostSimilarGroups</code> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдкрд░рд┐рдгрд╛рдо: </p><br><div class="scrollable-table"><table><thead><tr><th>  рд╡рд┐рдзрд┐ </th><th>  рдЫрдБрдЯрд╛рдИ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо </th><th>  рдореАрди </th><th>  рдЖрд╡рдВрдЯрд┐рдд </th></tr></thead><tbody><tr><td>  RandomTest </td><td>  рд╕реВрдЪреА </td><td>  60.06 рдорд┐ </td><td>  1704 рдм </td></tr><tr><td>  RandomTest </td><td>  SortedSet </td><td>  65.46 рдорд┐ </td><td>  24384 рдмреА </td></tr><tr><td>  RandomTest </td><td>  рдвреЗрд░ </td><td>  60.55 рдорд┐ </td><td>  2912 рдмреА </td></tr><tr><td>  AscendantTest </td><td>  рд╕реВрдЪреА </td><td>  75.42 рдорд┐ </td><td>  1704 рдм </td></tr><tr><td>  AscendantTest </td><td>  SortedSet </td><td>  161.12 рдПрдордПрд╕ </td><td>  9833424 рдмреА </td></tr><tr><td>  AscendantTest </td><td>  рдвреЗрд░ </td><td>  86.87 рдорд┐ </td><td>  2912 рдмреА </td></tr><tr><td>  DescendantTest </td><td>  рд╕реВрдЪреА </td><td>  119.23 рдорд┐ </td><td>  880 рдмреА </td></tr><tr><td>  DescendantTest </td><td>  SortedSet </td><td>  125.03 рдПрдордПрд╕ </td><td>  3024 рдмреА </td></tr><tr><td>  DescendantTest </td><td>  рдвреЗрд░ </td><td>  118.62 рдорд┐ </td><td>  2088 рдмреА </td></tr></tbody></table></div><br><p>  рдПрдХ рдкрддреНрддреЗ рдХреЗ рд╕рд╛рде рдореВрд▓ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд▓рдЧрднрдЧ рд╣рд░ рдЬрдЧрд╣ рд╕рдордп рдореЗрдВ рдЬреАрддрддрд╛ рд╣реИ, рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╣рд░ рдЬрдЧрд╣ рд╕реНрдореГрддрд┐ рдореЗрдВред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рд╢реАрдЯ рдХреЗ рд╕рд╛рде рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рд▓рд┐рдП, рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдУ (рд▓реЙрдЧ рдПрди) рдореЗрдВ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рдЧрднрдЧ рдУ (1), рдХреНрдпреЛрдВрдХрд┐  рддрддреНрд╡реЛрдВ рдХреА рдЗрддрдиреА рдХрдо рд╕рдВрдЦреНрдпрд╛ рдХреА рдирдХрд▓ рдХрд░рдирд╛ рдмрд╣реБрдд рдЬрд▓реНрджреА рд╣реЛрддрд╛ рд╣реИ, рдУ (1) рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛, рдУ (1) рдХреЗ рд▓рд┐рдП рднреА рдПрдХ рддрддреНрд╡ рдХреЛ рд╣рдЯрд╛рдирд╛, рдХреНрдпреЛрдВрдХрд┐  , .net, рд╢реАрдЯ рд╕реЗ рдЕрдВрддрд┐рдо рддрддреНрд╡ рдХреЛ рд╣рдЯрд╛рдХрд░ рдЕрдВрддрд┐рдо рддрддреНрд╡ рдХреЛ рдПрдХ рдЦрд╛рд▓реА рдорд╛рди рд▓рд┐рдЦрдХрд░ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЗрди .net рдХреЛрд░ рдХреБрдЫ рднреА рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ)  рдпрджрд┐ рдЗрд╕реЗ 50 рдирд╣реАрдВ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЪрд▓реЛ 1000 рд╕рдмрд╕реЗ рд╕рдорд╛рди рд╕рдореВрд╣реЛрдВ рдХреЛ рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рд╢реАрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рд╕рдм рдереЛрдбрд╝рд╛ рд╕рдЯреНрдЯрд╛ рддрд░реНрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдЖрдк рдЕрднреА рднреА рдкреНрд░рддреНрдпреЗрдХ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="mnogopotochnost">  рдмрд╣реБ рд╕реВрддреНрд░рдг </h1><br><p>  рдЕрдм рдпрд╣ <code>GetFiftyMostSimilarGroups</code> рдореЗрдВ рдкрд╛рд╢ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред  рдХреЗрд╡рд▓ рдорд▓реНрдЯреАрдереНрд░реЗрдбрд┐рдВрдЧ рджрд┐рдорд╛рдЧ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рд╡рд┐рдЪрд╛рд░ рд╕рдореВрд╣реЛрдВ рдХреА рдкреВрд░реА рд╕реВрдЪреА рдХреЛ рдХрдИ рдкреИрдХреЗрдЬреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдирд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдкреИрдХреЗрдЬ рдореЗрдВ, 50 рд╕рдмрд╕реЗ рд╕рдорд╛рди рдЯреИрдЧ рд╕рдореВрд╣ рдвреВрдВрдвреЗрдВ, рдФрд░ рдлрд┐рд░ рдЙрдирдореЗрдВ рд╕реЗ рдЕрдВрддрд┐рдо 50 рд╕рдмрд╕реЗ рд╕рдорд╛рди рдорд┐рд▓рддреЗ рд╣реИрдВред <br>  <code>GetFiftyMostSimilarGroups</code> рдХрд╛ рдмрд╣реБ-рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрд╕реНрдХрд░рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><div class="spoiler">  <b class="spoiler_title">GetFiftyMostSimilarGroupsMultiThread</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TagsGroup[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFiftyMostSimilarGroupsMultiThread</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> resultLength = <span class="hljs-number"><span class="hljs-number">50</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,     const int threadsCount = 4; //   int bucketSize = Groups.Length / threadsCount; var tasks = new Task&lt;List&lt;TagsSimilarityInfo&gt;&gt;[threadsCount]; for (int i = 0; i &lt; threadsCount; i++) { int leftIndex = i * bucketSize; //    int rightIndex = (i + 1) * bucketSize; //    //    tasks[i] = Task&lt;List&lt;TagsSimilarityInfo&gt;&gt;.Factory.StartNew(() =&gt; GetFiftyMostSimilarGroupsMultiThreadCore(value, leftIndex, rightIndex)); } Task.WaitAll(tasks); //    var taskResults = new List&lt;TagsSimilarityInfo&gt;[threadsCount]; for (int i = 0; i &lt; threadsCount; i++) { taskResults[i] = tasks[i].Result; } //      return MergeTaskResults(resultLength, threadsCount, taskResults); }</span></span></code> </pre> </div></div><br><p>  <code>GetFiftyMostSimilarGroupsMultiThreadCore</code>       <code>GetFiftyMostSimilarGroups</code> : </p><br><div class="spoiler"> <b class="spoiler_title">GetFiftyMostSimilarGroupsMultiThreadCore</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-function">List&lt;TagsSimilarityInfo&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFiftyMostSimilarGroupsMultiThreadCore</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TagsGroup </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> leftIndex, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rightIndex</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> resultLength = <span class="hljs-number"><span class="hljs-number">50</span></span>; List&lt;TagsSimilarityInfo&gt; list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;TagsSimilarityInfo&gt;(resultLength); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> groupIndex = leftIndex; groupIndex &lt; rightIndex; groupIndex++) { TagsGroup tagsGroup = Groups[groupIndex]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> similarityValue = TagsGroup.MeasureSimilarity(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, tagsGroup); TagsSimilarityInfo newInfo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TagsSimilarityInfo(groupIndex, similarityValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (list.Count == resultLength &amp;&amp; list[resultLength - <span class="hljs-number"><span class="hljs-number">1</span></span>].CompareTo(newInfo) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = ~list.BinarySearch(newInfo); list.Insert(index, newInfo); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (list.Count &gt; resultLength) { list.RemoveAt(resultLength); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> list; }</code> </pre> </div></div><br><p>     <code>MergeTaskResults</code> .   -    taskResults    . ,  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> </a> .     ,  <code>threadsCount</code> ,     :         ,     ,    ,    : </p><br><div class="spoiler"> <b class="spoiler_title">MergeTaskResults</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-function">TagsGroup[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MergeTaskResults</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> resultLength, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> threadsCount, List&lt;TagsSimilarityInfo&gt;[] taskResults</span></span></span><span class="hljs-function">)</span></span> { TagsGroup[] result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TagsGroup[resultLength]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] indices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[threadsCount]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; resultLength; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> minIndex = <span class="hljs-number"><span class="hljs-number">0</span></span>; TagsSimilarityInfo currentBest = taskResults[minIndex][indices[minIndex]]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; threadsCount; j++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> current = taskResults[j][indices[j]]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (current.CompareTo(currentBest) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) { minIndex = j; currentBest = taskResults[minIndex][indices[minIndex]]; } } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> groupIndex = currentBest.Index; result[i] = Groups[groupIndex]; indices[minIndex]++; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> </div></div><br><ul><li>  <code>indices</code>      <code>taskResults</code> ; </li><li> <code>minIndex</code> тАФ   <code>taskResults</code> ,         ; </li><li> <code>currentBest</code> тАФ -      ; </li><li> <code>current</code> тАФ -    ; </li></ul><br><p>    : </p><br><div class="scrollable-table"><table><thead><tr><th> Method </th><th> Mean </th><th> Error </th><th> StdDev </th><th> Allocated </th></tr></thead><tbody><tr><td> RandomTest </td><td> 28.76 ms </td><td> 0.5677 ms </td><td> 1.414 ms </td><td> 1.4 KB </td></tr><tr><td> AscendantTest </td><td> 32.36 ms </td><td> 0.8930 ms </td><td> 2.591 ms </td><td> 1.4 KB </td></tr><tr><td> DescendantTest </td><td> 41.36 ms </td><td> 0.8908 ms </td><td> 2.626 ms </td><td> 1.4 KB </td></tr></tbody></table></div><br><div class="spoiler"> <b class="spoiler_title">     :</b> <div class="spoiler_text"><div class="scrollable-table"><table><thead><tr><th> Method </th><th> Mean </th><th> Error </th><th> StdDev </th><th> Allocated </th></tr></thead><tbody><tr><td> RandomTest </td><td> 25054 ms </td><td> 1786 ms </td><td> 1670 ms </td><td> 1.53 KB </td></tr><tr><td> AscendantTest </td><td> 4180 ms </td><td> 174 ms </td><td> 162 ms </td><td> 1.53 KB </td></tr><tr><td> DescendantTest </td><td> 4147 ms </td><td> 118 ms </td><td> 104 ms </td><td> 1.53 KB </td></tr></tbody></table></div></div></div><br><p>            .   .    ,    ,       4  50. , ,   . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">    </a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi454850/">https://habr.com/ru/post/hi454850/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi454830/index.html">3 рдПрдХ рд╕рдлрд▓ рдЙрддреНрдкрд╛рдж рдкреНрд░рдмрдВрдзрдХ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЧреБрдг: рдЕрд▓реЗрдХреНрдЬреЗрдВрдбрд░ Belyaev</a></li>
<li><a href="../hi454832/index.html">рдЪрд╛рд░ рджрд┐рди рдХрд╛ рдХрд╛рдо рд╕рдкреНрддрд╛рд╣ рдХреНрдпреЛрдВ рдмреБрд░рд╛ рд╣реЛрддрд╛ рд╣реИ</a></li>
<li><a href="../hi454834/index.html">рдХрдо рдкреНрд░реЗрд░рдгрд╛ рдХреЗ рд╕рд╛рде рд╕реНрдкрд░реНрд╢ рдЯрд╛рдЗрдкрд┐рдВрдЧ рдХреЗ рдЕрдзреНрдпрдпрди рдХреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╢рд░реНрддреЗрдВ</a></li>
<li><a href="../hi454840/index.html">рдЕрдкрдиреА рдкрддреНрдиреА рдФрд░ рдмрдВрдзрдХ рдХреЗ рд╕рд╛рде рдиреАрджрд░рд▓реИрдВрдб рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рд╡рдзрд╛рдиред рднрд╛рдЧ 2: рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдФрд░ рдЖрдЧреЗ рдмрдврд╝рдирд╛</a></li>
<li><a href="../hi454844/index.html">рд╡рд┐рд╖рдо: рд╕рдкреНрддрд╛рд╣ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╛рдЗрдирд░реЛрдВ рдХреЗ рд▓рд┐рдП рджрд┐рд▓рдЪрд╕реНрдк</a></li>
<li><a href="../hi454856/index.html">рд╣рдо рдЧреИрд░-рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдореЗрдВ SSL / TLS рдкреНрд░рдорд╛рдгрдкрддреНрд░ рд╕рддреНрдпрд╛рдкрди рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi454860/index.html">рдЖрдЗрдП, рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рддрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде QueryProvider рд╕реМрджрд╛ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдВ</a></li>
<li><a href="../hi454864/index.html">рд╡рд┐рднрд┐рдиреНрди рдХрдВрдкрдирд┐рдпреЛрдВ рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдХреИрд╕реА рд╣реЛрддреА рд╣реИрдВ</a></li>
<li><a href="../hi454868/index.html">Emscripten рдХреЗ рдмрд┐рдирд╛ WebAssembly рдореЗрдВ рд╕реА рдХрд╛ рд╕рдВрдХрд▓рди</a></li>
<li><a href="../hi454872/index.html">рдЕрдВрддрд░рд┐рдХреНрд╖ рдЖрдХреНрд░рдордгрдХрд╛рд░рд┐рдпреЛрдВ: рдЕрдм 512 рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ (рдЕрд╕реЗрдВрдмрд▓рд░ x86)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>