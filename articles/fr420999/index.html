<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚öñÔ∏è ‚úçüèø üì¨ Kivy. Xamarin React Native. Trois cadres - une exp√©rience (partie 2) üßõüèø üêü üöµüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit du deuxi√®me article d'une s√©rie o√π nous comparons Kivy, Xamarin.Forms et React Native. Dans ce document, je vais essayer d'√©crire le m√™me pl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kivy. Xamarin React Native. Trois cadres - une exp√©rience (partie 2)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/devexpress/blog/420999/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gx/n_/ry/gxn_rykvsvbib9patx2rd4pnyho.png"></div><br>  Il s'agit du deuxi√®me article d'une s√©rie o√π nous comparons Kivy, Xamarin.Forms et React Native.  Dans ce document, je vais essayer d'√©crire le m√™me planificateur de t√¢ches, mais en utilisant Xamarin.Forms.  Je vais voir comment je le fais et √† quoi je dois faire face. <br><br>  Je ne r√©p√©terai pas les savoirs traditionnels, comme on peut le voir dans le premier article: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kivy.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Xamarin</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React Native.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trois cadres - une exp√©rience</a> <br><br>  La troisi√®me partie concerne React Native: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kivy.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Xamarin</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">React Native.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trois cadres - une exp√©rience (partie 3)</a> <br><a name="habracut"></a><br>  Pour commencer, je vais dire quelques mots sur la plate-forme Xamarin.Forms et comment j'aborderai la solution de la t√¢che.  Xamarin.Forms est un module compl√©mentaire pour Xamarin.iOs et Xamarin.Android.  Apr√®s l'assemblage, la partie g√©n√©rale est ¬´d√©ploy√©e¬ª sur des contr√¥les natifs standard, vous obtenez donc essentiellement des applications enti√®rement natives pour toutes les plates-formes prises en charge. <br><br>  La syntaxe de Xamarin.Forms est tr√®s proche de la syntaxe de WPF, et la partie g√©n√©rale est √©crite en .NET Standard.  Par cons√©quent, vous avez la possibilit√© d'utiliser l'approche MVVM lors du d√©veloppement de l'application, ainsi que l'acc√®s √† un grand nombre de biblioth√®ques tierces √©crites pour .NET Standard et d√©j√† dans NuGet, que vous pouvez utiliser en toute s√©curit√© dans vos applications Xamarin.Forms. <br><br>  Le code source de l'application ici est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . <br><br>  Cr√©ons donc une application Xamarin.Forms vide et commen√ßons.  Nous aurons un mod√®le de donn√©es simple, avec seulement deux classes Note et Project: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Note</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> UserIconPath { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> UserName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime EditTime { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Text { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Project</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ObservableCollection&lt;Note&gt; Notes { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Project</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Notes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ObservableCollection&lt;Note&gt;(); } }</code> </pre> <br>  J'essaierai d'adh√©rer √† l'approche MVVM, mais je n'utiliserai aucune biblioth√®que sp√©ciale, afin de ne pas compliquer le code.  Toutes les classes de mod√®le et les mod√®les de vue impl√©menteront l'interface INotifyPropertyChanged.  Je vais supprimer son impl√©mentation dans les exemples de code donn√©s pour plus de bri√®vet√©. <br><br>  Le premier √©cran sera une liste de projets avec la possibilit√© d'en cr√©er un nouveau ou de supprimer l'actuel.  Faisons un mod√®le pour lui: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MainViewModel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ObservableCollection&lt;Project&gt; Projects { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Projects = Project.GetTestProjects(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddNewProject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> name</span></span></span><span class="hljs-function">)</span></span> { Project project = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Project() { Name = name }; Projects.Add(project); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteProject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Project project</span></span></span><span class="hljs-function">)</span></span> { Projects.Remove(project); } }</code> </pre><br>  Code d'√©cran lui-m√™me: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://xamarin.com/schemas/2014/forms"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2009/xaml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:local</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clr-namespace:TodoList.View"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TodoList.View.ProjectsPage"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.ToolbarItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ToolbarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AddNew_Clicked"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"plus.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.ToolbarItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ItemsSource</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Projects}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ItemTapped</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"List_ItemTapped"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView.ItemTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DataTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Name}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">TextColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Black"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MenuItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DeleteItem_Clicked"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">IsDestructive</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CommandParameter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding .}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Delete"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DataTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView.ItemTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Le balisage s'est av√©r√© assez simple, la seule chose sur laquelle je veux m'attarder est la mise en ≈ìuvre de boutons de balayage pour supprimer des projets.  Dans ListView, il y a le concept de ContextActions, si vous le d√©finissez, alors dans iOS, elles seront mises en ≈ìuvre par glissement, dans Android - via un long tapotement.  Cette approche est impl√©ment√©e dans Xamarin.Forms, car elle est native pour chaque plate-forme.  Cependant, si nous voulons glisser dans l'andro√Øde, nous devrons l'impl√©menter avec nos mains dans la partie native de l'andro√Øde.  Je n'ai pas de t√¢che √† consacrer beaucoup de temps √† cela, alors j'√©tais satisfait de l'approche standard :) Par cons√©quent, le balayage dans iOS et le menu contextuel dans Android sont mis en ≈ìuvre tout simplement: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MenuItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DeleteItem_Clicked"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">IsDestructive</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CommandParameter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding .}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Delete"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  En rempla√ßant les donn√©es de test, nous obtenons la liste suivante: <br><br><img src="https://habrastorage.org/webt/n0/p5/-b/n0p5-bq3joxvrfbimbndtqucyga.png"><br><br>  Passons maintenant au gestionnaire d'√©v√©nements.  Commen√ßons par un simple - supprimer un projet: <br><br><pre> <code class="cs hljs">MainViewModel ViewModel { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BindingContext <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> MainViewModel; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteItem_Clicked</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, EventArgs e</span></span></span><span class="hljs-function">)</span></span> { MenuItem menuItem = sender <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> MenuItem; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (menuItem == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; Project project = menuItem.CommandParameter <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Project; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (project == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> answer = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> DisplayAlert(<span class="hljs-string"><span class="hljs-string">"Are you sure?"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"Would you like to remove the {0} project"</span></span>, project.Name), <span class="hljs-string"><span class="hljs-string">"Yes"</span></span>, <span class="hljs-string"><span class="hljs-string">"No"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(answer) ViewModel.DeleteProject(project); }</code> </pre><br>  Il n'est pas bon de supprimer quelque chose sans demander √† l'utilisateur, et dans Xamarin.Forms, il est facile de le faire en utilisant la m√©thode DisplayAlert standard.  Apr√®s l'avoir appel√©, la fen√™tre suivante appara√Ætra: <br><br><img src="https://habrastorage.org/webt/l3/tt/n0/l3ttn0euz7uze7sr2blh3fwckbk.png"><br><br>  Cette fen√™tre provient d'iOs.  Android aura sa propre version d'une fen√™tre similaire. <br><br>  Ensuite, nous mettrons en ≈ìuvre l'ajout d'un nouveau projet.  Il semblerait que cela se fasse par analogie, mais dans Xamarin.Forms, il n'y a pas de mise en ≈ìuvre d'un dialogue similaire √† celui que j'ai confirm√© la suppression, mais vous permettant de saisir du texte.  Il existe deux solutions possibles: <br><br><ul><li>  √©crire votre propre service qui d√©clenchera des dialogues natifs; </li><li>  impl√©menter une sorte de solution de contournement du c√¥t√© de Xamarin.Forms. </li></ul><br>  Je ne voulais pas perdre de temps √† √©lever le dialogue via le natif, et j'ai d√©cid√© d'utiliser la deuxi√®me approche, dont la mise en ≈ìuvre a √©t√© tir√©e du fil: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment faire une simple bo√Æte de dialogue InputBox?</a>  , √† savoir la m√©thode Task InputBox (navigation INavigation). <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddNew_Clicked</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, EventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> InputBox(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Navigation); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; ViewModel.AddNewProject(result); }</code> </pre><br>  Maintenant, nous allons traiter tap by row, pour ouvrir le projet: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">List_ItemTapped</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, Xamarin.Forms.ItemTappedEventArgs e</span></span></span><span class="hljs-function">)</span></span> { Project project = e.Item <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Project; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (project == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Navigation.PushAsync(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotesPage() { BindingContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ProjectViewModel(project) }); }</code> </pre><br>  Comme vous pouvez le voir dans le code ci-dessus, pour acc√©der √† la fen√™tre du projet, nous avons besoin de son mod√®le de vue et de l'objet page de la fen√™tre. <br><br>  Je voudrais dire quelques mots sur la navigation.  La propri√©t√© Navigation est d√©finie dans la classe VisualElement et vous permet de travailler avec le panneau de navigation dans n'importe quelle vue de votre application sans avoir √† la faire rouler avec vos mains.  Cependant, pour que cette approche fonctionne, vous devez toujours cr√©er ce panneau vous-m√™me.  Par cons√©quent, dans App.xaml.cs, nous √©crivons: <br><br><pre> <code class="cs hljs">NavigationPage navigation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NavigationPage(); navigation.PushAsync(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.ProjectsPage() { BindingContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MainViewModel() }); MainPage = navigation;</code> </pre><br>  O√π ProjectsPage est exactement la fen√™tre que je d√©cris maintenant. <br><br>  La fen√™tre avec des notes est tr√®s similaire √† la fen√™tre avec des projets, donc je ne la d√©crirai pas en d√©tail, je me concentrerai uniquement sur des nuances int√©ressantes. <br><br>  La disposition de cette fen√™tre s'est av√©r√©e plus compliqu√©e, car chaque ligne devrait afficher plus d'informations: <br><br><div class="spoiler">  <b class="spoiler_title">Vue Notes</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://xamarin.com/schemas/2014/forms"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2009/xaml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TodoList.View.NotesPage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:local</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clr-namespace:TodoList.View"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:utils</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clr-namespace:TodoList.Utils"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Project.Name}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.Resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ResourceDictionary</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">utils:PathToImageConverter</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PathToImageConverter"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ResourceDictionary</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.Resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.ToolbarItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ToolbarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AddNew_Clicked"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Icon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"plus.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage.ToolbarItems</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ItemsSource</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Project.Notes}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"list"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ItemTapped</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"List_ItemTapped"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HasUnevenRows</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"True"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView.ItemTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DataTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ViewCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Margin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid.RowDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RowDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RowDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid.RowDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid.ColumnDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ColumnDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ColumnDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"*"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ColumnDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid.ColumnDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Source</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding UserIconPath, Converter={StaticResource PathToImageConverter}}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding UserName}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">FontAttributes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Bold"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding EditTime}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">BackgroundColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Transparent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Image</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"menu.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Margin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalOptions</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FillAndExpand"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"RowMenu_Clicked"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyLabel</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Margin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0,10,0,0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.ColumnSpan</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Text}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">local:MyCellGrid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ViewCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MenuItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DeleteItem_Clicked"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">IsDestructive</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CommandParameter</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding .}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Delete"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ViewCell.ContextActions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ViewCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DataTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView.ItemTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ListView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentPage</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  Dans le contenu de la fen√™tre, nous avons √† nouveau un ListView, attach√© √† la collection de notes.  Cependant, nous voulons la hauteur des cellules dans le contenu, mais pas plus de 150, pour cela, nous d√©finissons HasUnevenRows = "True" afin que ListView permette aux cellules de prendre autant d'espace qu'elles le demandent.  Mais dans cette situation, les lignes peuvent demander une hauteur de plus de 150 et ListView leur permettra d'√™tre affich√©es comme ceci.  Pour √©viter cela dans la cellule, j'ai utilis√© mon h√©ritier du panneau Grille: MyCellGrid.  Ce panneau sur l'op√©ration de mesure demande la hauteur des √©l√©ments internes et la renvoie soit 150 si elle est sup√©rieure: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyCellGrid</span></span> : <span class="hljs-title"><span class="hljs-title">Grid</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> SizeRequest </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMeasure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> widthConstraint, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> heightConstraint</span></span></span><span class="hljs-function">)</span></span> { SizeRequest sizeRequest = <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.OnMeasure(widthConstraint, heightConstraint); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sizeRequest.Request.Height &lt;= <span class="hljs-number"><span class="hljs-number">150</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sizeRequest; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SizeRequest(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Size() { Width = sizeRequest.Request.Width, Height = <span class="hljs-number"><span class="hljs-number">150</span></span> }); } }</code> </pre><br>  √âtant donn√© que selon le TOR, nous devons √™tre en mesure d'√©diter et de supprimer, en plus d'appuyer et de glisser, √©galement le menu qui s'ouvre en cliquant sur le bouton dans le coin de la ligne, nous ajouterons ce bouton au mod√®le de cellule et nous abonnerons au robinet.  Dans ce cas, si l'utilisateur clique sur le bouton, alors il intercepte le geste et nous ne recevrons aucun √©v√©nement de clic sur la ligne. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">BackgroundColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Transparent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Image</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"menu.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Margin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalOptions</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FillAndExpand"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Clicked</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"RowMenu_Clicked"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Avec les donn√©es de test, notre formulaire ressemble √† ceci: <br><br><img src="https://habrastorage.org/webt/tm/mq/g6/tmmqg6ubrpian_argfz2dmn2dve.png"><br><br>  Le traitement des actions des utilisateurs dans ce formulaire est compl√®tement analogue √† celui qui a √©t√© √©crit pour la fen√™tre de liste de projets.  Je veux m'arr√™ter uniquement sur le menu contextuel par notre bouton dans le coin de la ligne.  Au d√©but, je pensais que je le ferais au niveau Xamarin.Forms sans aucun probl√®me. <br><br>  En effet, nous avons juste besoin de cr√©er une vue de quelque chose comme √ßa: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùEdit‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚ÄùDelete‚Äù/</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Et affichez-le √† c√¥t√© du bouton.  Cependant, le probl√®me est que nous ne pouvons pas savoir exactement o√π il se trouve ¬´√† c√¥t√© du bouton¬ª.  Ce menu contextuel doit √™tre situ√© au-dessus de ListView et, une fois ouvert, positionn√© dans les coordonn√©es de la fen√™tre.  Pour ce faire, vous devez conna√Ætre les coordonn√©es du bouton enfonc√© par rapport √† la fen√™tre.  Nous pouvons obtenir les coordonn√©es du bouton uniquement par rapport au ScrollView interne situ√© dans le ListView.  Donc, lorsque les lignes ne sont pas d√©cal√©es, tout va bien, mais lorsque les lignes d√©filent, nous devons prendre en compte la quantit√© de d√©filement qui s'est produite lors du calcul des coordonn√©es.  ListView ne nous donne pas la valeur de d√©filement.  Il faut donc le retirer du natif, ce que je ne voulais vraiment pas faire.  Par cons√©quent, j'ai d√©cid√© de prendre le chemin d'un chemin plus standard et plus simple: afficher le menu contextuel du syst√®me standard.  Par cons√©quent, le gestionnaire de clic de bouton se r√©v√©lera comme suit: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RowMenu_Clicked</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, System.EventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> action = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> DisplayActionSheet(<span class="hljs-string"><span class="hljs-string">"Note action:"</span></span>, <span class="hljs-string"><span class="hljs-string">"Cancel"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Edit"</span></span>, <span class="hljs-string"><span class="hljs-string">"Delete"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; BindableObject bindableSender = sender <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> BindableObject; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(bindableSender != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { Note note = bindableSender.BindingContext <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Note; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action == <span class="hljs-string"><span class="hljs-string">"Edit"</span></span>) { EditNote(note); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(action == <span class="hljs-string"><span class="hljs-string">"Delete"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> DeleteNote(note); } } }</code> </pre><br>  L'appel de la m√©thode DisplayActionSheet affiche simplement le menu contextuel normal: <br><br><img src="https://habrastorage.org/webt/nr/hn/fi/nrhnfiz1y02p8izy6nczaxaiks4.png"><br><br>  Si vous remarquez, le texte de la note s'affiche dans mon contr√¥le MyLabel, et non dans l'√©tiquette r√©guli√®re.  C'est fait pour quoi.  Lorsque l'utilisateur modifie le texte de la note, des classeurs sont d√©clench√©s et un nouveau texte arrive automatiquement dans Label.  Cependant, Xamarin.Forms ne recalcule pas la taille de cellule en m√™me temps.  Les d√©veloppeurs de Xamarin affirment qu'il s'agit d'une op√©ration assez co√ªteuse.  Oui, et ListView lui-m√™me n'a aucune m√©thode qui lui ferait recompter sa taille, InvalidateLayout n'aide pas non plus.  La seule chose qu'ils ont pour cela est la m√©thode ForceUpdateSize de l'objet Cell.  Par cons√©quent, afin d'y acc√©der et de tirer au bon moment, j'ai √©crit mon h√©ritier Label et je tire cette m√©thode pour chaque changement de texte: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MyLabel</span></span> : <span class="hljs-title"><span class="hljs-title">Label</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPropertyChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[CallerMemberName] </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> propertyName = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.OnPropertyChanged(propertyName); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propertyName == <span class="hljs-string"><span class="hljs-string">"Text"</span></span>) { ((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Parent <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> MyCellGrid).Parent <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Cell).ForceUpdateSize(); } } }</code> </pre><br>  Maintenant, apr√®s avoir modifi√© une note, ListView ajustera automatiquement la taille de la cellule pour s'adapter au nouveau texte. <br><br>  Lors de l'√©dition ou de la cr√©ation d'une nouvelle note, une fen√™tre s'ouvre avec l'√©diteur dans le contenu et le bouton Enregistrer de la barre d'outils: <br><br><img src="https://habrastorage.org/webt/a6/ps/4z/a6ps4z8waexmy7quhxvm4og3jak.png"><br><br>  Cette fen√™tre est l√©g√®rement diff√©rente de ce que nous avons dans le TK: l'absence d'un bouton rond en bas.  Si vous le placez simplement au-dessus de l'√©diteur, il sera bloqu√© par le clavier sortant.  En m√™me temps, je n'ai pas trouv√© de belle solution pour le d√©placer et ne pas entrer dans le natif avec une recherche rapide.  Par cons√©quent, je l'ai supprim√© et je n'ai laiss√© que le bouton Enregistrer dans le panneau sup√©rieur.  Cette fen√™tre elle-m√™me est tr√®s simple, je vais donc omettre sa description. <br><br>  Ce que je veux dire √† la fin. <br><br>  Xamarin.Forms convient parfaitement √† ceux qui connaissent bien l'infrastructure .NET et qui travaillent avec elle depuis longtemps.  Ils n'auront pas √† mettre √† niveau vers de nouveaux IDE et frameworks.  Comme vous pouvez le voir, le code d'application n'est pas tr√®s diff√©rent du code de toute autre application bas√©e sur XAML.  De plus, Xamarin vous permet de d√©velopper et de cr√©er des applications iOS dans Visual Studio pour Windows.  Lors du d√©veloppement de l'application finale pour le tester et la cr√©er, vous devrez vous connecter √† une machine MacOS.  Et les biblioth√®ques peuvent se faire sans. <br><br>  Pour commencer √† √©crire des applications sur Xamarin.Forms, vous n'avez pas besoin de yeux rouges avec la console.  Installez simplement Visual Studio et √©crivez des applications.  Tout le reste a d√©j√† √©t√© pris en charge pour vous.  Dans le m√™me temps, peu importe la fa√ßon dont Microsoft est associ√© aux produits payants, Xamarin est gratuit et il existe des versions gratuites de Visual Studio. <br><br>  Le fait que Xamarin.Forms utilise la norme .NET sous le capot vous donne acc√®s √† un tas de biblioth√®ques d√©j√† √©crites pour cela qui vous faciliteront la vie lors du d√©veloppement de vos applications. <br><br>  Xamarin.Forms vous permet d'ajouter facilement quelque chose dans les parties natives de votre application, si vous souhaitez impl√©menter quelque chose de sp√©cifique √† la plate-forme.  L√†, vous obtenez le m√™me C #, mais l'API est native pour chaque plate-forme. <br><br>  Cependant, bien s√ªr, il y avait quelques lacunes. <br><br>  L'API, disponible dans la partie g√©n√©rale, est plut√¥t maigre, car elle ne contient que ce qui est commun √† toutes les plateformes.  Par exemple, comme on peut le voir dans mon exemple, toutes les plateformes contiennent des messages d'alerte et des menus contextuels, et cette chose est disponible dans Xamarin.Forms.  Cependant, le menu standard qui vous permet de saisir du texte n'est disponible que dans iOS, donc dans Xamarin.Forms, il ne l'est pas. <br><br>  Des restrictions similaires se retrouvent dans l'utilisation des composants.  Quelque chose peut √™tre fait, quelque chose est impossible.  Le m√™me glissement pour supprimer un projet ou une note ne fonctionne que sur iOS.  Dans Android, cette action contextuelle sera pr√©sent√©e comme un menu qui appara√Æt sur un long tap.  Et si vous voulez glisser dans l'andro√Øde, alors bienvenue dans la partie android et √©crivez-le avec vos mains. <br><br>  Et bien s√ªr, la performance.  La vitesse de l'application sur Xamarin.Forms sera en tout cas inf√©rieure √† la vitesse de l'application native.  Microsoft dit donc que si vous avez besoin d'une application sans fioritures en termes d'exigences de conception et de performances, Xamarin.Forms est fait pour vous.  Si vous avez besoin de joliesse ou de vitesse, alors vous devriez d√©j√† descendre au natif.  Heureusement, Xamarin dispose √©galement de versions natives qui fonctionnent d√©j√† imm√©diatement avec leurs API de plateforme natives et fonctionnent plus rapidement que les formulaires. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420999/">https://habr.com/ru/post/fr420999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436936/index.html">Dep√≥sito nuclear japon√©s en Primorye o el sitio de disposici√≥n de los submarinos nucleares de la Flota del Pac√≠fico</a></li>
<li><a href="../es436938/index.html">Guix es el sistema operativo m√°s avanzado.</a></li>
<li><a href="../fr420993/index.html">5 √©tapes simples pour cr√©er un serveur pour tester les demandes Android REST</a></li>
<li><a href="../fr420995/index.html">Nous s√©lectionnons le mot de passe pour le TIN indien en deux secondes, ou pourquoi les math√©matiques de force brute</a></li>
<li><a href="../fr420997/index.html">KDD 2018, Day Four, Nobel Laureate Performs</a></li>
<li><a href="../fr421001/index.html">RPC - une occasion d'essayer de nouveaux en C ++ 14/17</a></li>
<li><a href="../fr421005/index.html">Assur√© REST: Conseils utiles</a></li>
<li><a href="../fr421007/index.html">Magn√©tophone - un outil pour enregistrer les autotests</a></li>
<li><a href="../fr421009/index.html">25 et 26 ao√ªt: conf√©rence en ligne sur la gestion op√©rationnelle</a></li>
<li><a href="../fr421011/index.html">Questions √† l'entrevue que vous pensez stupides. Mais pas vraiment</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>