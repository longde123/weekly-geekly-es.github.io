<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßôüèø üò• ü¶å Das Buch "Safe DevOps. Effizienter Systembetrieb üç∫ ü•• üçº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo habrozhiteli! Eine Anwendung, die in der Cloud ausgef√ºhrt wird, hat viele Vorteile, ist jedoch gleichzeitig besonderen Bedrohungen ausgesetzt. D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das Buch "Safe DevOps. Effizienter Systembetrieb</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/468085/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ve/lp/sc/velpscrkxhyi-ycjwxfywsc4hhw.jpeg" align="left" alt="Bild"></a>  Hallo habrozhiteli!  Eine Anwendung, die in der Cloud ausgef√ºhrt wird, hat viele Vorteile, ist jedoch gleichzeitig besonderen Bedrohungen ausgesetzt.  Die Aufgabe der DevOps-Teams besteht darin, diese Risiken zu bewerten und den Schutz des Systems gegen sie zu st√§rken.  Das Buch basiert auf der einzigartigen Erfahrung des Autors und bietet die wichtigsten strategischen L√∂sungen zum Schutz von Webanwendungen vor Angriffen, um Invasionsversuche zu verhindern.  Sie werden sehen, wie Sie die Zuverl√§ssigkeit durch automatisierte Tests, kontinuierliche Lieferung und wichtige DevOps-Prozesse sicherstellen k√∂nnen.  Erfahren Sie, wie Sie in Ihrer Anwendung vorhandene Schwachstellen identifizieren, bewerten und beheben.  Der Autor hilft Ihnen beim Navigieren in Cloud-Konfigurationen und wendet g√§ngige Automatisierungstools an.  Erfordert Linux-Kenntnisse und Kenntnisse der Standard-DevOps-Praktiken wie CI, CD und Unit-Tests. <br><a name="habracut"></a><br><br><h3>  Auszug.  Kapitel 8. Protokollanalyse f√ºr Intrusion und Attack Detection </h3><br>  In diesem Kapitel: <br><br><ul><li>  Untersuchen von Komponenten auf Analyseebene in einer Protokollierungspipeline. </li><li>  Erkennen Sie Eindringlinge und Angriffe mithilfe von Zeichenfolgensignaturen, Statistiken und historischen Daten. </li><li>  Verwalten von M√∂glichkeiten zur optimalen Benachrichtigung von Benutzern. </li></ul><br>  In Kapitel 7 haben Sie gelernt, wie Sie eine Protokollierungspipeline erstellen, die Protokolle aus der gesamten Infrastruktur sammelt, √ºbertr√§gt, analysiert und speichert und auch Zugriff darauf gew√§hrt.  Eine mehrstufige Pipeline schafft eine flexible Infrastruktur, in der Protokolle aus verschiedenen Quellen verwendet werden, um die Aktivit√§t der Dienste des Unternehmens zu √ºberwachen.  Kapitel 7 gab einen √úberblick √ºber die Funktionen aller Ebenen der Pipeline.  In diesem Kapitel konzentrieren wir uns auf die dritte Ebene - die Analyseebene - und besch√§ftigen uns mit Techniken und Codebeispielen zum Erkennen von Eindringlingen und Angriffen auf Dienste. <br><br>  Die Protokollierungspipeline, die Mozilla beim Schreiben des Buches verwendet, √§hnelt der in Kapitel 7 gezeigten. Die Pipeline wird verwendet, um den Status von Firefox-Clients ( <i>Telemetrie genannt</i> ) in einer nat√ºrlichen Umgebung zu √ºberwachen, Anwendungs- und Dienstprotokolle zu verarbeiten und ungew√∂hnliche Aktivit√§ten zu erkennen.  Das logische Zentrum der Pipeline befindet sich auf der Ebene der Analyse, die aus vielen kleinen Programmen besteht, die st√§ndig nach etwas Ungew√∂hnlichem suchen.  Diese kleinen Programme sind nicht so weit fortgeschritten, dass sie sich mit der Eingabe und Ausgabe von Protokollereignissen befassen. Daher √ºbertragen sie diese Aufgabe an ein dediziertes Rechenzentrum - das Hindsight-Programm (http://mng.bz/m4gg), mit dem Plug-Ins f√ºr Datenstr√∂me analysiert werden sollen . <br><br>  In diesem Kapitel werden wir Hindsight verwenden, um verschiedene Arten von Magazinen zu lesen und Original-Plugins zu schreiben, um sie zu analysieren. <br><br><blockquote><h4>  HINWEIS </h4>  Beispielprotokolle und Plugins f√ºr dieses Kapitel finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">securing-devops.com/ch08/logging-pipeline</a> .  Sie m√ºssen dieses Repository auf Ihren lokalen Computer kopieren und den Hindsight Docker-Container abrufen, um die Beispiele ausf√ºhren zu k√∂nnen. </blockquote><br>  Beginnen wir mit der Beschreibung der Anordnung der verschiedenen Teile der Analyseebene: R√ºckblick befindet sich in der Mitte, und die Sammel- und Speicherebenen befinden sich auf beiden Seiten.  Dann werden wir √ºber drei verschiedene Ans√§tze sprechen, um Eindringlinge und Angriffe zu erkennen.  Im einfachsten Fall werden Zeichenfolgensignaturen verwendet, die Informationen zu bekannten Angriffen zum Senden von Benachrichtigungen enthalten.  Als n√§chstes vergleichen wir die statistischen Modelle und den Ansatz mit Signaturen und lernen auch, wie sich diese beiden Ans√§tze erg√§nzen.  Schauen wir uns abschlie√üend an, wie Sie historische Benutzeraktivit√§tsdaten anwenden k√∂nnen, um verd√§chtige Bereiche zwischen Verbindungen zu identifizieren. <br><br>  Der letzte Abschnitt des Kapitels befasst sich mit dem Senden von Benachrichtigungen.  Es ist unwahrscheinlich, dass Sie jeden Tag Tausende von Benachrichtigungen von der Analyseebene erhalten m√∂chten, die viel L√§rm verursachen, anstatt n√ºtzlich zu sein.  Wenn dies nicht ge√§ndert wird, betrachten Empf√§nger Benachrichtigungen als Spam und ignorieren sie.  Im letzten Abschnitt dieses Kapitels werden die Best Practices f√ºr die Organisation des Versendens von Benachrichtigungen erl√§utert und M√∂glichkeiten zum genauen und effizienten Senden von Benachrichtigungen an Administratoren und Endbenutzer er√∂rtert. <br><br><h4>  8.2.  Erkennen von Angriffen mithilfe von Zeichenfolgensignaturen </h4><br>  Wenn Sie mit Protokollen arbeiten, arbeiten Sie mit Zeichenfolgen.  Dies bedeutet, dass der einfachste Weg, Anzeichen von Betrug zu erkennen, darin besteht, die Protokolle mit einer Liste bekannter sch√§dlicher Zeilen zu vergleichen.  Es mag einfach erscheinen, aber genau in diesen Jahren war die Sicherheitsbranche t√§tig.  Web Application Firewalls (WAFs), die Mitte der 2000er Jahre so beliebt waren, waren im Wesentlichen ein Repository f√ºr regul√§re Ausdr√ºcke, die mit jeder an eine Webanwendung gesendeten Anforderung verglichen wurden. <br><br><blockquote><p></p><h4>  Verlassen Sie sich nicht auf regul√§re Ausdr√ºcke </h4>  Ich habe einmal f√ºr eine Bank gearbeitet, in der diese Art von Schutz weit verbreitet war.  Das Sicherheitsteam war f√ºr die Unterst√ºtzung der WAF verantwortlich, die eine Vielzahl von Online-Diensten, einschlie√ülich eines Handelsdienstes f√ºr Kunden, sch√ºtzte.  Jede an diesen Dienst gesendete Webanforderung durchlief Hunderte von regul√§ren Ausdr√ºcken, bevor sie zum Anwendungsserver gelangte.  Einmal entschied sich ein Entwickler eines Online-Handelsserviceteams, sich diese regul√§ren Ausdr√ºcke anzusehen.  Ich wei√ü nicht, was den Ingenieur dazu veranlasst hat, den Inhalt der Datei zu lesen, die haupts√§chlich mit Schr√§gstrichen, Dollarsymbolen, Sternchen, Pluszeichen, Quadraten und Klammern gef√ºllt ist, aber er hat sie genommen.  Und irgendwo in der 418. Zeile in einem komplexen regul√§ren Ausdruck fand er eine verd√§chtige Kombination von ‚Äû. +‚Äú.  Zwei unschuldige Charaktere, die absolut alles schmerzlos weitergehen lie√üen: Dieser regul√§re Ausdruck √§hnelt dem Wert ‚Äûalles zulassen‚Äú. <br><br>  Unser Stolz ist die Firewall der Webanwendung f√ºr mehrere tausend Euro, die von einem ganzen Team unterst√ºtzt wird. Sie hat Hunderte von √úberpr√ºfungen regul√§rer Ausdr√ºcke durchgef√ºhrt, die die Leistung beeintr√§chtigen und das Design eines bereits komplexen Systems komplizieren, um alles ungehindert zu √ºberspringen.  Nat√ºrlich haben wir das Problem bald behoben, aber mein Glaube an die Verwendung regul√§rer Ausdr√ºcke zur Gew√§hrleistung der Sicherheit ist seitdem nicht gestiegen.  Wenn Sie diese Art von Schutzsystem in Ihrem Unternehmen implementieren m√∂chten, ber√ºcksichtigen Sie dessen Komplexit√§t, damit Ihnen dies nicht passiert. </blockquote><br>  Bei korrekter Verwendung k√∂nnen regul√§re Ausdr√ºcke zu einem leistungsstarken Werkzeug werden, aber sie sind unglaublich schwer zu schreiben, im Laufe der Zeit zu warten - noch schwieriger und ihre umfangreiche Implementierung ist teuer.  Schauen Sie sich den regul√§ren Ausdruck ((\% 3C) | &lt;) ((\% 2F) | \ /) * [a-z0-9 \%] + ((\% 3E) |&gt;) an.  Sie werden nicht erraten, wof√ºr es verwendet wird, daher sage ich Ihnen: Es kann verwendet werden, um nach Injektionen in HTTP-Anforderungszeichenfolgen zu suchen und das Vorhandensein von √∂ffnenden und schlie√üenden &lt;&gt; Ungleichheitszeichen und deren Inhalt aufzudecken.  Sie erhalten diese Art von HTTP-Anforderungszeile von einem Angreifer, der versucht, sch√§dlichen JavaScript-Code in Ihre Anwendung einzuf√ºgen, um einen Cross-Site-Scripting-Angriff zu erhalten, den wir in Kapitel 3 besprochen haben. <br><br>  Dieser regul√§re Ausdruck kann verwendet werden, um verd√§chtige Anforderungen zu identifizieren, die Injektionsversuche enthalten.  Listing 8.7 zeigt einen Beispielparser, der dies implementiert, indem er in jedem der √ºbertragenen NGINX-Zugriffsprotokolle nach √úbereinstimmungen mit regul√§ren Ausdr√ºcken sucht.  Der regul√§re Ausdruck wird in der lokalen xss-Variablen gespeichert. Sein Wert wird mit jedem Fields [request] -Wert mit der Funktion rex.match () verglichen. <br><br>  Wenn es √úbereinstimmungen gibt, sendet die Funktion add_to_payload () eine Benachrichtigung, dass das Ausgabe-Plug-In empfangen und an das Ziel senden kann. <br><br><blockquote><h3>  Listing 8.7.  Ein Plugin, das Protokollnachrichten erkennt, die Angriffszeichen in der Abfragezeichenfolge enthalten </h3><br><img src="https://habrastorage.org/webt/9g/_f/t_/9g_ft__g8xthelzokpz6afui150.png" alt="Bild"></blockquote><br>  Eine Beispielausgabe dieses Plugins finden Sie in Listing 8.8.  Es werden mehrere Benachrichtigungen von Beispielmagazinen generiert, von denen sich einige als falsch positiv herausstellten.  Dies geschah teilweise, weil Beispielprotokolle mit dem ZAP Vulnerability Scanner k√ºnstlich erstellt wurden und weil Abfragezeichenfolgen keine HTML-Tags enthalten.  Insbesondere hat dieser regul√§re Ausdruck keine zu hohe Rate, um falsch positive √úbereinstimmungen zu finden. <br><br><blockquote><h3>  Listing 8.8.  Beispiele f√ºr Benachrichtigungen, die vom XSS-Analyse-Plugin generiert wurden </h3><br><img src="https://habrastorage.org/webt/x_/kw/-t/x_kw-tqj6b3gf_n2gowqq6zurue.png" alt="Bild"></blockquote><br>  Dies ist nur ein regul√§rer Ausdruck f√ºr eine bestimmte Angriffsart.  Damit dieser Ansatz n√ºtzlich ist, m√ºssen Sie mehr als nur regul√§re Ausdr√ºcke finden.  F√ºr den Anfang k√∂nnten Sie Signaturen aus verschiedenen Quellen sammeln und, da immer mehr verd√§chtige Zeichen in den Protokollen gefunden werden, die Gr√∂√üe Ihrer Datenbank schrittweise erh√∂hen. <br><br>  Listing 8.9 zeigt eine modifizierte Version des XSS-Analysators, die nach verschiedenen Anzeichen eines Angriffs sucht (http://mng.bz/62h8).  Dieses Skript zeigt, wie Sie mithilfe von Lua-Tabellen eine Liste von Attributen speichern und zyklisch zur Analyse eingehender Ereignisse verwenden k√∂nnen.  In diesem Codebeispiel ist die verd√§chtige_terms-Tabelle eine einfache Zeilenreihe, die Teilzeichenfolgen verwendet, um nach regul√§ren Ausdr√ºcken zu suchen, was viel schneller ist.  Die Tabelle verd√§chtig_terms verwendet das Schl√ºsselwertformat, um Beschriftungen zusammen mit dem Ausdruck zu speichern, um Sie daran zu erinnern, dass der Ausdruck gefunden werden sollte. <br><br><h3>  Listing 8.9.  Suchen Sie mit Zeichenfolgen und Ausdr√ºcken nach Anzeichen von Angriffen </h3><br><img src="https://habrastorage.org/webt/-4/kt/nq/-4ktnqdffbwc1uidpjqdvcdj68a.png" alt="Bild"><br><img src="https://habrastorage.org/webt/mv/na/ul/mvnaulm65owmhzjqiaxveziil84.png" alt="Bild"><br><br>  Sie k√∂nnen diesen Analysator mit den am Anfang des Kapitels beschriebenen Testeinstellungen ausf√ºhren.  Starten Sie den Docker-Container mit bereitgestellten Verzeichnissen, und die Analyse-Ausgabe wird in output / payload / analysis.suspicious_signatures.alerts.txt geschrieben.  Das Plugin sendet Tausende von Benachrichtigungen, was erwartet wird, da diese Protokolle vom ZAP-Schwachstellenscanner generiert werden.  Dieser Ansatz kann als erfolgreich angesehen werden, weist jedoch M√§ngel auf, die Sie ber√ºcksichtigen sollten. <br><br><ul><li>  <i>Regul√§re Ausdr√ºcke sind schwer zu schreiben und noch schwerer zu lesen</i> .  Sie werden Fehler machen, die nicht einfach zu untersuchen sind und die stundenlanges schmerzhaftes Debuggen erfordern.  Dieser Analysator enth√§lt nur vier regul√§re Ausdr√ºcke, aber das Lesen dieses Teils des Codes ist bereits schwierig.  Egal wie leistungsf√§hig und attraktiv das Tool f√ºr regul√§re Ausdr√ºcke sein mag, ich w√ºrde nicht empfehlen, st√§ndig mit ihnen zu arbeiten. </li><li>  <i>Bei diesem Ansatz werden zu viele Benachrichtigungen generiert</i> .  F√ºr das Internet ge√∂ffnete Webanwendungen erhalten viel ungew√∂hnlichen Datenverkehr, b√∂swillig und weniger.  Das Generieren von Benachrichtigungen f√ºr jedes ungew√∂hnliche Zeichen macht jedes Sicherheitsteam mehrere Wochen lang verr√ºckt, selbst wenn die Rate der Fehlalarme niedrig ist.  Anormaler Datenverkehr ist ein nat√ºrliches Ereignis f√ºr Dienste, die im Internet ausgef√ºhrt werden. </li></ul><br>  Sie k√∂nnen diese beiden Probleme beheben, indem Sie einen mathematischen Ansatz anwenden und dieses perfekte System zur Erkennung von Anomalien etwas weniger perfekt machen.  Im n√§chsten Abschnitt werden wir uns ansehen, wie statistische Methoden zum Senden von Benachrichtigungen verwendet werden, wenn ein Schwellenwert √ºberschritten wird, um das Rauschen der Anomalieerkennungslogik zu reduzieren. <br><br><h4>  √úber den Autor </h4><br>  Zum Zeitpunkt des Schreibens <i>leitet Julien Vehen</i> das Operations Security Team bei Firefox, Mozilla.  Er ist verantwortlich f√ºr die Erstellung, Implementierung und den Betrieb einer Sicherheitsstrategie f√ºr Webdienste, mit der t√§glich Millionen von Firefox-Benutzern interagieren.  Julien konzentrierte sich Anfang der 2000er Jahre auf den Schutz von Netzwerkdiensten.  Er begann als Systemadministrator unter Linux zu arbeiten und erhielt 2007 einen Master in Informationssicherheit. <br><br>  ¬ªWeitere Informationen zum Buch finden Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Website des Herausgebers</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auszug</a> <br><br>  25% <b>Rabatt</b> auf Gutschein f√ºr <b>H√§ndler</b> - <b>DevOps</b> <br><br>  Nach Bezahlung der Papierversion des Buches wird ein elektronisches Buch per E-Mail verschickt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468085/">https://habr.com/ru/post/de468085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468075/index.html">Die Verwendung von siamesischen neuronalen Netzen bei der Suche</a></li>
<li><a href="../de468077/index.html">Posit-Tests f√ºr Erwachsene. Spektralanalyse</a></li>
<li><a href="../de468079/index.html">Benutzerdefinierte Dimensionen in Google Analytics, die uns mehr als einmal gespeichert haben</a></li>
<li><a href="../de468081/index.html">"Anonyme Daten" oder was in 152-FZ geplant ist</a></li>
<li><a href="../de468083/index.html">Android Camera2 API aus dem Wasserkocher</a></li>
<li><a href="../de468087/index.html">Bisektionale Teilungsmethode beim Testen</a></li>
<li><a href="../de468089/index.html">Edition-basierte Neudefinition: Ist das in der Produktion m√∂glich?</a></li>
<li><a href="../de468091/index.html">Der Gesetzentwurf zur Schaffung einer einzigen Datenbank mit den Daten der B√ºrger, die in erster Lesung in der Staatsduma verabschiedet wurden</a></li>
<li><a href="../de468093/index.html">Nitrate in Produkten: Schweizer L√§den gegen russische L√§den gegen Sommerh√§uschen</a></li>
<li><a href="../de468097/index.html">Microsoft Edge - Generisches XSS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>