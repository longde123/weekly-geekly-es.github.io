<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯеЦ ЁЯС┤ЁЯП┐ ЁЯЫМЁЯП╝ рдирдИ Postgres_exporter PostgreSQL рдирд┐рдЧрд░рд╛рдиреА рд╕реБрд╡рд┐рдзрд╛рдПрдБ тЬНЁЯП╗ ЁЯУп ЁЯХ┤ЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╢реБрдн рджреЛрдкрд╣рд░, рд╣реЗрдмреНрд░ рдкрд╛рдардХреЛрдВ! 


 Posgres_exporter рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд╣рд▓реЗ рдиреЛрдЯ рдореЗрдВ , рдореИрдВрдиреЗ рдЙрд╕ рд╕рдордп рдлрд┐рдЯрдЪрд╛ рдкрд░ рдПрдХ рдирдП рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдПрдХ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдХреА рдЬрд╛рдВрдЪ рдХреА, рдЕрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдирдИ Postgres_exporter PostgreSQL рдирд┐рдЧрд░рд╛рдиреА рд╕реБрд╡рд┐рдзрд╛рдПрдБ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480902/"><p>  рд╢реБрдн рджреЛрдкрд╣рд░, рд╣реЗрдмреНрд░ рдкрд╛рдардХреЛрдВ! </p><br><p> <a href="https://habr.com/ru/post/468573/">Posgres_exporter рдХреЗ рдмрд╛рд░реЗ</a> рдореЗрдВ рдкрд╣рд▓реЗ <a href="https://habr.com/ru/post/468573/">рдиреЛрдЯ рдореЗрдВ</a> , рдореИрдВрдиреЗ рдЙрд╕ рд╕рдордп рдлрд┐рдЯрдЪрд╛ рдкрд░ рдПрдХ рдирдП рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдПрдХ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдХреА рдЬрд╛рдВрдЪ рдХреА, рдЕрд░реНрдерд╛рддреН рдПрдХ рдирд┐рд░реНрдпрд╛рддрдХ рджреНрд╡рд╛рд░рд╛ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдФрд░ / рдпрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ред  рдФрд░ рдЙрдиреНрд╣реЛрдВрдиреЗ рдХрд╣рд╛ рдХрд┐ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ "рдЧреБрдЪреНрдЫрд╛" рдЬреЛ рдЙрдиреНрд╣реЗрдВ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛ рдФрд░ рдЗрд╕реЗ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдиреНрд╣реЛрдВрдиреЗ рдХреМрди рд╕реЗ рд╡рд░реНрдХрдЖрд░реНрдбрд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред <br>  рдФрд░ рдЗрд╕рд▓рд┐рдП, 25 рдирд╡рдВрдмрд░ рдХреЛ, рдЕрдЧрд▓рд╛ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдЬ_рдПрдХреНрд╕рдкреЛрд░реНрдЯрд░реНрд╕ 0.8.0 рд░рд┐рд▓реАрдЬ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЗрд╕рдиреЗ рдкрд┐рдЫрд▓реА рдкреЛрд╕реНрдЯ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛, рдФрд░ рдпрд╣ рднреА, рдЬреЛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ, рдирдИ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рдЬреЛрдбрд╝рд╛ред </p><br><p>  рдореИрдВ рдПрдХ рдмрд┐рд▓реНрд▓реА рдХреЗ рд▓рд┐рдП рдкреВрдЫрдирд╛ ... </p><a name="habracut"></a><br><p>  рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЖрдкрдХреЛ рдкреЛрд╕реНрдЯрдЧреНрд░реЗ_рдПрдХреНрд╕рдкреЛрд░реНрдЯрд░реНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдХрд░рд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдПрдХ рддрд░рд╣ рдХреА рд╢реЙрд░реНрдЯ рдХреНрд╡рд┐рдХ рд╕реНрдЯрд╛рд░реНрдЯ рдЧрд╛рдЗрдб рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдЪрд▓рд┐рдП рдореБрдЦреНрдп рдмрд┐рдВрджреБрдУрдВ рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВ: </p><br><ol><li>  рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдФрд░ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкреИрд░рд╛рдореАрдЯрд░ </li><li>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореАрдЯреНрд░рд┐рдХ рдХреНрдпрд╛ рд╣реИрдВ? </li><li>  рдХреИрд╕реЗ рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП </li></ol><br><h2 id="opisanie">  рд╡рд┐рд╡рд░рдг </h2><br><p>  <a href="https://github.com/wrouesnel/postgres_exporter" rel="nofollow">postgres_exporter</a> - рдЧреЛ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдПрдХ рд╕реБрд▓рдн рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдПрдХ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрд╕реАрдХреНрдпреВ рдбреАрдмреАрдПрдордПрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдпреЛрдЧрд┐рддрд╛, рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рд╣реИ рдФрд░ рдирд┐: рд╢реБрд▓реНрдХ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="peremennye-okruzheniya-i-argumenty-komandnoy-stroki">  рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдФрд░ рдХрдорд╛рди рд▓рд╛рдЗрди рддрд░реНрдХ </h2><br><p>  Postgres_exporter, рдЗрд╕ рддрд░рд╣, рдПрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдирд╣реАрдВ рд╣реИ рдФрд░ рд╕рднреА рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрдпрд╛рддрдХ рдХреЛ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдпрд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рддрд░реНрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕реА рд╕рдордп, DBMS рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдХреЗрд╡рд▓ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><h3 id="peremennye-okruzheniya">  рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ </h3><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЛ рджреЛ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдкреВрд░реНрд╡ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ, рдмрд╛рдж рд╡рд╛рд▓рд╛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рддрд░реНрдХреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рддрд╛ рд╣реИред </p><br><p> рдкрд╣рд▓реЗ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдпреЗ рдЪрд░ рдЙрдкрд╕рд░реНрдЧ <code>DATA_SOURCE_</code> рд╢реБрд░реВ рд╣реЛрддреЗ рд╣реИрдВ: </p><br><ul><li><p>  DATA_SOURCE_NAME - рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдкреНрд░рд╛рд░реВрдк <code>=</code> рдореЗрдВ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдпреВрдЖрд░рдЖрдИ рдХреЗ рд░реВрдк рдореЗрдВ рдФрд░ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рд▓реЙрдЧрд┐рди рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br>  PostgreSQL рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реИрдз рдиреМрдХрд░реА рдХреЗ рд╡рд┐рдХрд▓реНрдк: </p><br><ul><li>  <code>postgresql://rolename@dbhost:dbport/datname?sslmode=disable</code> ; <code>postgresql://rolename@dbhost:dbport/datname?sslmode=disable</code> ; </li><li>  <code>postgresql://rolename:rolpass@dbhost:dbport?sslmode=disable&amp;db=datname</code> ; <code>postgresql://rolename:rolpass@dbhost:dbport?sslmode=disable&amp;db=datname</code> ; </li><li>  <code>postgresql://rolename:rolpass@?sslmode=disable&amp;dbname=database&amp;host=dbhost&amp;port=dbport</code> ; </li><li>  <code>postgresql://rolename:rolpass@?sslmode=disable&amp;dbname=database&amp;host=/tmp</code> (рдПрдХ UNIX рд╕реЙрдХреЗрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди, рдПрдХ PostgreSQL рдЙрджрд╛рд╣рд░рдг рдХреЗ unix_socket_directories рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛); </li><li>  <code>host=dbhost port=dbport dbname=database user=rolename sslmode=disable</code> ; </li></ul><br><p>  рдпрджрд┐ рдЖрдкрдХреЛ рдХрдИ рдЙрджрд╛рд╣рд░рдгреЛрдВ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рджрд╢рдорд▓рд╡ рдмрд┐рдВрджреБ рдХреЗ рдмрд╛рдж рдХрд┐рд╕реА рд╕реНрдерд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реИ): </p><br><ul><li>  <code>postgresql://rolename@dbhost:dbport/datname?sslmode=disable,postgresql://rolename@dbhost:dbport/datname?sslmode=disable</code> </li><li>  <code>sslmode=disable dbname=postgres host=127.0.0.1 port=5434 user=postgres,sslmode=disable dbname=postgres port=5432 user=postgres</code> ред </li></ul><br></li><li>  DATA_SOURCE_URI - DATA_SOURCE_NAME рдХреЗ тАЛтАЛрд▓рд┐рдП рд╡реИрдХрд▓реНрдкрд┐рдХред  рдпрджрд┐ рдЖрдк PostgreSQL рдХреЗ рдПрдХ рд╣реА рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХрд╛ рдЗрд░рд╛рджрд╛ рд░рдЦрддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдЙрдкрдпреБрдХреНрдд рд╣реИ)ред <br>  рдЪрд░ DATA_SOURCE_URI рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рдмрд┐рдирд╛ URI рдХрд╛ рднрд╛рдЧ "dbhost: dbport / dbname? Key = value" рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб DATA_SOURCE_USER рдФрд░ DATA_SOURCE_PASS рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░, рдпрд╛ DATA_SOURCE_USER_FILE DATA_SOURCE_PASS_FILE рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рд▓рд┐рдП рдЧрдП рд╣реИрдВред <br>  рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдЙрдирдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЪрд░ рдФрд░ рдбреЗрдЯрд╛ DATA_SOURCE_USER рдФрд░ DATA_SOURCE_PASS рдХреЛ рдкреБрди: рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдЧреЗ, рдХреЛрдб рдореЗрдВ, рдпрд╣ рд╕рдм рдлрд╝реЙрд░реНрдо рдХреЗ рдкреВрд░реНрдг-рдкреВрд░реНрдг URI рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <code>"postgresql://" + DATA_SOURCE_USER + ":" + DATA_SOURCE_PASS + "@" + DATA_SOURCE_URI</code> </li><li>  DATA_SOURCE_URI_FILE - DATA_SOURCE_URI рдХреЗ рд╕рдорд╛рди рд╣реИ, рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкрдврд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ; </li><li>  DATA_SOURCE_USER - DATA_SOURCE_URI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ DBMS рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ; </li><li>  DATA_SOURCE_USER_FILE - DATA_SOURCE_USER рдХреЗ рд╕рдорд╛рди, рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкрдврд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ; </li><li>  DATA_SOURCE_PASS - DATA_SOURCE_URI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХреЛ DBMS рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ; </li><li>  DATA_SOURCE_PASS_FILE - DATA_SOURCE_PASS рдХреЗ рд╕рдорд╛рди, рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрдврд╝реЗрдВ; </li></ul><br><p>  рджреВрд╕рд░реЗ рд╕рдореВрд╣ рдореЗрдВ рдЪрд░ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рддрд░реНрдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдпрд╛рдиреА  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░, рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░реЗрдВ, рдпрд╛ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВред  рдЙрдкрд╕рд░реНрдЧ <code>PG_EXPORTER_</code> рд╢реБрд░реВ рдХрд░реЗрдВ: </p><br><ul><li>  PG_EXPORTER_WEB_LISTEN_ADDRESS - рдкрддрд╛ рдФрд░ рдкреЛрд░реНрдЯ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рд░реНрдпрд╛рддрдХ рдХреЛ рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рд╕реЗ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ <code>:9187</code> ; </li><li>  PG_EXPORTER_WEB_TELEMETRY_PATH - рд╡рд╣ рдкрде рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдореИрдЯреНрд░рд┐рдХреНрд╕ рджрд┐рдП рдЧрдП рд╣реИрдВред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ <code>/metrics</code> ; </li><li>  PG_EXPORTER_DISABLE_DEFAULT_METRICS - рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпреЗ рдореАрдЯреНрд░рд┐рдХ рдиреАрдЪреЗ рд╣реЛрдВрдЧреЗред  рдХреЗрд╡рд▓ рд╕рдЪреНрдЪреЗ рдпрд╛ рдЭреВрдареЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЭреВрдареА (рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕рдВрдЧреНрд░рд╣ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ); </li><li>  PG_EXPORTER_DISABLE_SETTINGS_METRICS - pg_settings рджреГрд╢реНрдп рд╕реЗ рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рдЕрдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпреЗ рдореАрдЯреНрд░рд┐рдХ рдиреАрдЪреЗ рд╣реЛрдВрдЧреЗред  рдХреЗрд╡рд▓ рд╕рдЪреНрдЪреЗ рдпрд╛ рдЭреВрдареЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЭреВрдареА (рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕рдВрдЧреНрд░рд╣ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ); </li><li>  PG_EXPORTER_AUTO_DISCOVER_DATABASES - рдЕрдкрдиреЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╕реНрдЯрд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рднреА рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИред  рдХреЗрд╡рд▓ рд╕рдЪреНрдЪреЗ рдпрд╛ рдЭреВрдареЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЭреВрдард╛ (рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЗрд╡рд▓ рдЙрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛); </li><li>  PG_EXPORTER_EXCLUDE_DATABASES - рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЙрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕реВрдЪреА рд╕реЗ рдмрд╛рд╣рд░ рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдореИрдЯреНрд░рд┐рдХреНрд╕ рдПрдХрддреНрд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдпрджрд┐ <code>PG_EXPORTER_AUTO_DISCOVER_DATABASES=true</code> ред  рдбреЗрдЯрд╛рдмреЗрд╕ рдирд╛рдореЛрдВ рдХреА рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо рд╕реЗ рдЕрд▓рдЧ рдХреА рдЧрдИ рд╕реВрдЪреА рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдПрдХ рдЦрд╛рд▓реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИред  <strong>рдорд╣рддреНрд╡рдкреВрд░реНрдг</strong> : <br><ul><li>  рдЯреЗрдореНрдкреНрд▓реЗрдЯреНрд╕ рдЯреЗрдореНрдкрд▓реЗрдЯ реж рдФрд░ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рез - рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╡реЗ pg_dat рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдЪрд░рдг рдореЗрдВ рдХрдЯ рдЬрд╛рддреЗ рд╣реИрдВ; </li><li>  URI рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред </li></ul></li><li>  PG_EXPORTER_EXTEND_QUERY_PATH - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рд╢реНрдиреЛрдВ рд╡рд╛рд▓реЗ YAML рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдкрдеред  рдХреНрд╡реЗрд░реА .yaml рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ; </li><li>  PG_EXPORTER_CONSTANT_LABELS - рд▓реЗрдмрд▓ (рд╕реНрдерд┐рд░) рд╕рднреА рдореИрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ред  рдпрд╣ рдПрдХ рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ рдХрд┐рдП рдЧрдП рдЬреЛрдбрд╝реЗ <code>=</code> рдХреА рд╕реВрдЪреА рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред </li></ul><br><h3 id="argumenty-komandnoy-stroki">  рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рддрд░реНрдХ </h3><br><ul><li>  web.listen- рдкрддрд╛ PG_EXPORTER_WEB_LISTEN_ADDRESS рдХреЗ рд╕рдорд╛рди рд╣реИ; </li><li>  web.telemetry-path - PG_EXPORTER_WEB_TELEMETRY_PATH рдХреЗ рд╕рдорд╛рди; </li><li>  рдЕрдХреНрд╖рдо-рдбрд┐рдлрд╝реЙрд▓реНрдЯ-рдореЗрдЯреНрд░рд┐рдХреНрд╕ PG_EXPORTER_DISABLE_DEFAULT_METRICS рдХреЗ рд╕рдорд╛рди рд╣реИ; </li><li>  рдЕрдХреНрд╖рдо-рд╕реЗрдЯрд┐рдВрдЧ-рдореАрдЯреНрд░рд┐рдХ рдкреАрдЬреА_рдПрдХреНрд╕рдкреЙрд░реНрдЯрд░_рдбрд╛рдпрд░реЗрдмрд▓_рд╕реЗрдЯрд┐рдВрдЧреНрд╕_рдореЗрдЯрд┐рдХреНрд╕ рдХреЗ рд╕рдорд╛рди рд╣реИ; </li><li>  рдСрдЯреЛ-рдЦреЛрдЬ-рдбреЗрдЯрд╛рдмреЗрд╕ рд╡рд╣реА рд╣реИ рдЬреЛ PG_EXPORTER_AUTO_DISCOVER_DATABASES; </li><li>  рдмрд╣рд┐рд╖реНрдХреГрдд-рдбреЗрдЯрд╛рдмреЗрд╕ PG_EXPORTER_EXCLUDE_DATABASES рдХреЗ рд╕рдорд╛рди рд╣реИ; </li><li>  extension.query-path - PG_EXPORTER_EXTEND_QUERY_PATH рдХреЗ рд╕рдорд╛рди; </li><li>  ContinLabels - PG_EXPORTER_CONSTANT_LABELS рдХреЗ рд╕рдорд╛рди; </li><li>  рдбрдВрдкрдореИрдк - рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдорд╛рдирдЪрд┐рддреНрд░ рдХреА рдЖрдВрддрд░рд┐рдХ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдбреАрдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрд╡реЗрджрди рд╢реБрд░реВ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ; </li><li>  log.level - рд╕рдВрднрд╡ рд▓реЙрдЧрд┐рдВрдЧ рд╕реНрддрд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ: <code>debug</code> , <code>info</code> , <code>warn</code> , <code>error</code> , <code>fatal</code> ; </li><li>  log.format - рд▓реЙрдЧ рдЖрдЙрдЯрдкреБрдЯ рдХреА рд╡рд┐рдзрд┐ рдФрд░ рдкреНрд░рд╛рд░реВрдк рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <code>logger:syslog?appname=bob&amp;local=7</code> рдпрд╛ <code>logger:stdout?json=true</code> ред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, <code>logger:stderr</code> ред </li></ul><br><h2 id="metriki-po-umolchaniyu">  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореЗрдЯреНрд░рд┐рдХреНрд╕ </h2><br><p>  <code> -</code> рдореАрдЯреНрд░рд┐рдХ рдирд┐рдЧрд░рд╛рдиреА рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕реЗрдЯ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рд╕реАрдзреЗ рдХреЛрдб рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИред  <code> -</code> рд╕рдВрдЧреНрд░рд╣ <code> -</code> рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рддрдпрд╢реБрджрд╛-рдбрд┐рдлрд╝реЙрд▓реНрдЯ-рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдФрд░ / рдпрд╛ -рдбрд┐рдЬреЗрдмрд▓-рд╕реЗрдЯрд┐рдВрдЧреНрд╕-рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдпрд╛ рдЙрдкрдпреБрдХреНрдд рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдХреЗред <br>  рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛ рд╣рд▓ рд╣реЛ рдЧрдИ рдереА рдЬрдм рдСрдЯреЛрдбрд┐рд╕реНрдХрд╡рд░реА рдХреЛ рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рджреЛрд╣рд░рд╛рд╡ рдерд╛, рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реБрдИрдВред </p><br><p>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЗ рдореАрдЯреНрд░рд┐рдХ рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВ: </p><br><ul><li>  pg_stat_bgwriter; </li><li>  pg_stat_database; </li><li>  pg_stat_database_conflicts; </li><li>  pg_locks; </li><li>  pg_stat_replication; </li><li>  pg_stat_activity; </li><li>  pg_settingsред </li></ul><br><p>  рдЬрд┐рд╕ рдкрд░ рдЖрдкрдХреЛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рд╡рд╣ pg_stat_replication рдФрд░ pg_stat_activity рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд▓реМрдЯреЗ рд╣реБрдП рдЦреЗрддреЛрдВ рдХрд╛ рд╕реЗрдЯ PostgreSQL рдХреЗ рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП, рдирд┐рд░реНрдпрд╛рддрдХ рдореЗрдВ DBMS рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИ рдФрд░ рдЗрд╕реА рдЕрдиреБрд░реЛрдз рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреНрд╡реЗрд░реА рдореЗрдВ рдХреЛрдИ рд╕рдВрд╕реНрдХрд░рдг рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рд╢рд╛рд╕рдХ рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рдкрддрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреА рдЬрд╛рдПрдЧреАред  рдпрджрд┐ рдЖрдк рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рд╕реЗ рдПрдХ рдирд┐рд░реНрдпрд╛рддрдХ рджреНрд╡рд╛рд░рд╛ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╕рдорд╕реНрдпрд╛рдПрдВ рднреА рдЙрддреНрдкрдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИрдВред <br>  рдЙрджрд╛рд╣рд░рдг рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдЯреНрд░рд┐рдХреНрд╕ (pg_settings) рдХреЗ рд╕рд╛рде, рд╕рдм рдХреБрдЫ рдХреБрдЫ рд╕рд░рд▓ рд╣реИ, рд╡реЗ рдЕрдиреБрд░реЛрдз рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдорд┐рдд рд╣реЛрддреЗ рд╣реИрдВ: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, setting, <span class="hljs-keyword"><span class="hljs-keyword">COALESCE</span></span>(unit, <span class="hljs-string"><span class="hljs-string">''</span></span>), short_desc, vartype <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> pg_settings <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> vartype <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> (<span class="hljs-string"><span class="hljs-string">'bool'</span></span>, <span class="hljs-string"><span class="hljs-string">'integer'</span></span>, <span class="hljs-string"><span class="hljs-string">'real'</span></span>);</code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдХреЗрд╡рд▓ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдорд╛рдиреЛрдВ рд╕реЗ рдмрдирддрд╛ рд╣реИред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рдирд┐рд░реНрдпрд╛рддрдХ рдХреЗ рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ, рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдпрд╣ рднреА рд╕рдордЭреЗрдВрдЧреЗ рдХрд┐ рд╣рд╛рд░реНрдб-рдХреЛрдбреЗрдб рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рдЕрд╕реНрддрд┐рддреНрд╡ рдореЗрдВ рдЙрдирдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдХреНрдпреЛрдВ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рджреЛ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд▓реЗрдВ: рд╢реЗрдпрд░реНрдб_рдмрдлрд░реНрд╕ тАЛтАЛрдФрд░ рд╡рд╛рд▓_рд╕реЗрдВрдбрд░_рдЯрд╛рдЗрдордЖрдЙрдЯред  рдирд┐рд░реНрдпрд╛рддрдХ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рддреАрди рдкрдВрдХреНрддрд┐рдпрд╛рдБ рдорд┐рд▓рддреА рд╣реИрдВред <br>  рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ - рд╕рдВрдХреЗрдд рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреА рд╣реИ рдФрд░ postgres_exporter рдореЗрдВ рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдирд╛рдо рд╣реЛрддрд╛ рд╣реИ, рдПрдХ рд╡рд┐рд╡рд░рдг (pg_settings рдХреЗ рдХреЙрд▓рдо short_desc) рдФрд░ рдпрджрд┐ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЖрдзрд╛рд░ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ (рд╡рд░реНрдЧ рдХреЛрд╖реНрдардХ рдореЗрдВ рдорд╛рди) рд╣реИред <br>  рджреВрд╕рд░реА рдкрдВрдХреНрддрд┐ рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдореВрд▓реНрдп рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреА рд╣реИред  рдФрд░ рддреАрд╕рд░реА рдкрдВрдХреНрддрд┐, рд▓реЗрдмрд▓ рдХреЗ рдПрдХ рд╕реЗрдЯ рдФрд░ рдПрдХ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рдПрдХ рдореАрдЯреНрд░рд┐рдХред </p><br><p>  рд╢реЗрдпрд░реНрдб_рдмрдлрд░реНрд╕ тАЛтАЛрдХреЗ рд▓рд┐рдП рдорд╛рди рд▓реМрдЯрд╛рдПрдБред </p><br><pre> <code class="plaintext hljs"># HELP pg_settings_shared_buffers_bytes Sets the number of shared memory buffers used by the server. [Units converted to bytes.] # TYPE pg_settings_shared_buffers_bytes gauge pg_settings_shared_buffers_bytes{server="127.0.0.1:5432"} 1.34217728e+08</code> </pre> <br><p>  <code>pg_settings_shared_buffers_bytes</code> - рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдирд╛рдоред  рдпрд╣, рдЕрдЪреНрдЫреЗ рд░реВрдк рдХреЗ рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдирд╛рдо, рдореАрдЯреНрд░рд┐рдХ рдХреЗ рдирд╛рдо рдФрд░ рдорд╛рдк рдХреА рдЗрдХрд╛рдИ рд╕реЗ рдмрдирд╛ рд╣реИред  рдЗрд╕рдХреЗ рдмрд╛рдж pg_settings рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рдЖрддрд╛ рд╣реИред  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдПрдХ рд╕рдВрдХреЗрдд рд╣реИ рдХрд┐ рдореАрдЯреНрд░рд┐рдХ рдореВрд▓реНрдп рдХреЛ рдмрд╛рдЗрдЯреНрд╕ рдХреА рдЗрдХрд╛рдИ рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдпреВрдирд┐рдЯ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛ рдЧрдпрд╛ рд╣реИ)ред  рдпрд╣ рдЙрддреНрддрд░рд╛рд░реНрджреНрдз рдкрд░ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдХреНрдпреЛрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╕реАрдзреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдореВрд▓реНрдп рдереЛрдбрд╝рд╛ рдЕрд▓рдЧ рджрд┐рдЦрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН: </p><br><pre> <code class="sql hljs"> name | setting | unit | short_desc <span class="hljs-comment"><span class="hljs-comment">----------------+---------+------+-------------------------------------------------------------- shared_buffers | 16384 | 8kB | Sets the number of shared memory buffers used by the server.</span></span></code> </pre> <br><p>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдкреНрд░рдХрд╛рд░ GAUGE рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рд╕рдордп рдХреЗ рд╕рд╛рде рдордирдорд╛рдирд╛ рдорд╛рди рд▓реЗ рд╕рдХрддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдареАрдХ-рдЯреНрдпреВрдирд┐рдВрдЧ рд╣реЛрдиреЗ рдкрд░ рдмрдлрд╝рд░реНрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛, рджреЛрдиреЛрдВ рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреА рд╣реИред <br>  рдЖрдк рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рдкреНрд░рдХрд╛рд░ рдФрд░ рдЙрдирдХреЗ рдЕрдВрддрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореАрдЯреНрд░рд┐рдХ wal_sender_timeout рд╣реИред  рд╕реВрдЪрдирд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдЙрд╕реА рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рд╣реИред  рдХреЗрд╡рд▓ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдореАрдЯреНрд░рд┐рдХ рдореВрд▓реНрдп рд╕реЗрдХрдВрдб рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдорд┐рд▓реАрд╕реЗрдХрдВрдб рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рд╕рд╛рд╡рдзрд╛рдиреА рдмрд░рддрдиреЗ рдФрд░ рдЪрд╛рд░реНрдЯ рддреИрдпрд╛рд░ рдХрд░рддреЗ рд╕рдордп рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><pre> <code class="plaintext hljs"># HELP pg_settings_wal_sender_timeout_seconds Sets the maximum time to wait for WAL replication. [Units converted to seconds.] # TYPE pg_settings_wal_sender_timeout_seconds gauge pg_settings_wal_sender_timeout_seconds{server="127.0.0.1:5432"} 60</code> </pre> <br><p>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдореВрд▓реНрдп: </p><br><pre> <code class="sql hljs">demo=<span class="hljs-comment"><span class="hljs-comment"># SELECT name, setting, COALESCE(unit, ''), short_desc, vartype FROM pg_settings WHERE name='wal_sender_timeout'; name | setting | coalesce | short_desc | vartype --------------------+---------+----------+----------------------------------------------------+--------- wal_sender_timeout | 60000 | ms | Sets the maximum time to wait for WAL replication. | integer</span></span></code> </pre><br><p>  рдпреВрдирд┐рдЯ рд╡рд╛рд▓реЗ рд╕рднреА рдорд╛рди рджреЛ рдкреНрд░рдХрд╛рд░ рддрдХ рдХрдо рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ: рд╡реЙрд▓реНрдпреВрдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдмрд╛рдЗрдЯреНрд╕;  рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рд╕рдордп рдореИрдЯреНрд░рд┐рдХреНрд╕ред </p><br><h3 id="polzovatelskiy-nabor-metrik">  рдХрд╕реНрдЯрдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ рд╕реЗрдЯ </h3><br><p>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд╕реНрдерд╛рди рдкрд░ рдпрд╛ рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдлрд╝рд╛рдЗрд▓ рдкрде рд╕реЗрдЯ рдХрд░реЗрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рд╕рд╛рде, рддрд░реНрдХ рдХреЗ рд╕рд╛рде --extend.query-path = query.yaml рдпрд╛ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ PG_EXPORTER_EXTEND_QUERY_PATH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред <br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рдПрдХ YAML рдлрд╝рд╛рдЗрд▓ рд╣реИ: <a href="" rel="nofollow">рдХреНрд╡реЗрд░реАрдЬрд╝ редyaml</a> </p><br><p>  рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рдкрд┐рдЫрд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, 0.8.0 рдирдП рдорд╛рд╕реНрдЯрд░ рдФрд░ рдХреИрд╢_ рд╕реЗрдХрдВрдб рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЧрдП рдереЗред  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдо рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк рдФрд░ рдХреНрд╖реЗрддреНрд░ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдкреНрд░рд╢реНрдиреЛрдВ рдХреА рдирдореВрдирд╛ рд╕рд╛рдордЧреНрд░реА редyaml рдлрд╝рд╛рдЗрд▓ </p><br><pre> <code class="plaintext hljs">pg_database: query: "SELECT pg_database.datname, pg_database_size(pg_database.datname) as size_bytes FROM pg_database" master: true cache_seconds: 30 metrics: - datname: usage: "LABEL" description: "Name of the database" - size_bytes: usage: "GAUGE" description: "Disk space used by the database"</code> </pre> <br><p>  рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдХреБрдВрдЬреА рдФрд░ рдорд╛рди: </p><br><ul><li>  <code>pg_database</code> - рдЕрдиреБрд░реЛрдз (рдЖрд╡рд╢реНрдпрдХ) рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдП рдЧрдП рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдордирдорд╛рдирд╛ рдЙрдкрд╕рд░реНрдЧ; </li><li>  <code>query</code> - рдЗрд╕рдореЗрдВ SQL рдХреНрд╡реЗрд░реА (рдЖрд╡рд╢реНрдпрдХ) рд╣реИ; </li><li>  <code>master</code> - URI (рдорд╛рд╕реНрдЯрд░ рдбреЗрдЯрд╛рдмреЗрд╕) рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╕рдордп рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреЗрд╡рд▓ рдЕрдиреБрд░реЛрдз рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВред  рдирд┐рд░реНрдпрд╛рддрдХ рдХреЛ рдзреНрд╡рдЬ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ - рдСрдЯреЛ-рдЦреЛрдЬ-рдбреЗрдЯрд╛рдмреЗрд╕ред  рд╕рд╣реА рдпрд╛ рдЧрд▓рдд рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЧрд▓рддред  (рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ); </li><li>  <code>cache_seconds</code> - рд╡рд╣ рд╕рдордп рдЬрд┐рд╕рдХреЗ рджреМрд░рд╛рди рдХреИрд╢ рдбреЗрдЯрд╛ рд╡рд╛рдкрд╕ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдпрд╣ рд╕реЗрдХрдВрдб рдореЗрдВ рд╕реЗрдЯ рд╣реИ; </li><li>  <code>metrics</code> - рдЯреИрдЧ рдФрд░ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдПрдХ рд╕реВрдЪреА рд╣реЛрддреА рд╣реИ; </li><li>  <code>datname</code> , <code>size_bytes</code> - рд╕реВрдЪреА рдЖрдЗрдЯрдоред  рд╕реВрдЪреА рдЖрдЗрдЯрдо рдХрд╛ рдирд╛рдо рдХреНрд╡реЗрд░реА рдореЗрдВ рдХреЙрд▓рдо рдХреЗ рдирд╛рдо рд╕реЗ рдореЗрд▓ рдЦрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  <code>usage</code> - рдореВрд▓реНрдп рдХрд╛ рдкреНрд░рдХрд╛рд░ред  COUNTER, GAUGE, LABLE (рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдЕрдзрд┐рдХ) </li><li>  <code>description</code> - рдХрд╕реНрдЯрдо рдореАрдЯреНрд░рд┐рдХ рд╡рд┐рд╡рд░рдг </li></ul><br><p>  рдЙрджрд╛рд╣рд░рдг рд░рд┐рдЯрд░реНрди рдореИрдЯреНрд░рд┐рдХреНрд╕: </p><br><pre> <code class="plaintext hljs"># HELP pg_database_size_bytes Disk space used by the database # TYPE pg_database_size_bytes gauge pg_database_size_bytes{datname="dbtest1",server="localhost:5432"} 1.0105503e+07 pg_database_size_bytes{datname="demo",server="localhost:5432"} 2.813719199e+09 pg_database_size_bytes{datname="postgres",server="localhost:5432"} 4.735491e+06 pg_database_size_bytes{datname="template0",server="localhost:5432"} 7.758339e+06 pg_database_size_bytes{datname="template1",server="localhost:5432"} 7.758339e+06</code> </pre><br><h2 id="rezyume">  рд╕рд╛рд░рд╛рдВрд╢ </h2><br><p>  рдЦреИрд░, рд╣рдо рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдмрддрд╛рддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдЬ_рдПрдХреНрд╕рдкреЛрд░реНрдЯрд░реНрд╕ рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг 0.8.0 рд╣реИред  рдореВрд▓ рд░реВрдк рд╕реЗ, рд╕рднреА рд╕реБрдзрд╛рд░ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдХрдИ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдФрд░ / рдпрд╛ рдХрдИ рдбреЗрдЯрд╛рдмреЗрд╕реЛрдВ рдХреА рдирд┐рдЧрд░рд╛рдиреА рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред </p><br><ul><li>  рдмрд╣рд┐рд╖реНрдХрд░рдг-рдбреЗрдЯрд╛рдмреЗрд╕ рддрд░реНрдХ (0.6.0 рдореЗрдВ рдкреНрд░рдХрдЯ рд╣реБрдЖ) рдЖрдкрдХреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рд╕реВрдЪреА рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдореИрдЯреНрд░рд┐рдХреНрд╕ рдПрдХрддреНрд░ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЖрдк рдЙрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рдЬреЛ рдпреВрдЖрд░рдЖрдИ рдХрдиреЗрдХреНрд╢рди рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдорд╛рд╕реНрдЯрд░ рдмреЗрд╕ рд╣реИ; </li><li>  рдЕрдм рдЖрдк рдСрдЯреЛ-рдЦреЛрдЬ-рдбреЗрдЯрд╛рдмреЗрд╕ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдХрд╕реНрдЯрдо рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡реИрд╢реНрд╡рд┐рдХ рджреГрд╢реНрдпреЛрдВ (pg_stat_activity, pg_stat_database, рдЖрджрд┐) рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд <strong>рдорд╛рд╕реНрдЯрд░</strong> рдлрд╝реАрд▓реНрдб рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛, рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрд░реЛрдз рдХреЗрд╡рд▓ рдорд╛рд╕реНрдЯрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП; </li><li>  рдЕрдм рдЖрдк рддрд░реНрдХ рдСрдЯреЛ-рдЦреЛрдЬ-рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; </li><li>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП, cache_seconds рдлрд╝реАрд▓реНрдб рдХреЛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рд╕рдордп (рд╕реЗрдХрдВрдб рдореЗрдВ) рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд░ рдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдмрдВрдж рд╣реЛ рдЬрд╛рдПрдЧреАред </li></ul><br><h2 id="istochniki">  рд╕реВрддреНрд░реЛрдВ рдХрд╛ рдХрд╣рдирд╛ рд╣реИ </h2><br><ul><li>  <a href="https://prometheus.io/" rel="nofollow">рдкреНрд░реЛрдореЗрдерд┐рдпрд╕</a> [ <a href="https://en.wikipedia.org/wiki/Prometheus_(software)" rel="nofollow">1</a> ] рдПрдХ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдШрдЯрдирд╛рдУрдВ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рд╕рддрд░реНрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд▓рдЪреАрд▓реЗ рдкреНрд░рд╢реНрдиреЛрдВ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдЕрд▓рд░реНрдЯ рдХреЗ рд╕рд╛рде HTTP рдЕрдиреБрд░реЛрдз рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рд░реНрдорд┐рдд рдПрдХ рд╕рдордп рд╢реНрд░реГрдВрдЦрд▓рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдХреЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд▓рд┐рдЦрддрд╛ рд╣реИред </li><li>  <a href="https://github.com/wrouesnel/postgres_exporter" rel="nofollow">Postgres_exporter</a> Prometheus рдХреЗ рд▓рд┐рдП PostgreSQL рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдирд┐рд░реНрдпрд╛рддрдХ рд╣реИред <br>  рд╕рдВрд╕реНрдХрд░рдг, рд▓реЗрдЦрди рдХреЗ рд╕рдордп, рд╡реА 0.5.1ред  PostgreSQL 9.4+ рдХреЗ рд╕рдорд░реНрдерд┐рдд рд╕рдВрд╕реНрдХрд░рдг (рд▓реЗрдХрд┐рди рдЬреИрд╕рд╛ рдХрд┐ рдЕрднреНрдпрд╛рд╕ рдиреЗ рджрд┐рдЦрд╛рдпрд╛ рд╣реИ, рдпрд╣ 9.3 рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ)ред </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi480902/">https://habr.com/ru/post/hi480902/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi480886/index.html">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕реБрдирд╣рд░рд╛ рдЕрдиреБрдкрд╛рдд: рджреВрд╕рд░рд╛ рд░рди</a></li>
<li><a href="../hi480888/index.html">DIY Coroutinesред рднрд╛рдЧ 1. рдЖрд▓рд╕реА рдЬреЗрдирд░реЗрдЯрд░</a></li>
<li><a href="../hi480890/index.html">рдПрдХреНрд╕рдкреНрд░реЗрд╕ рдкреИрдирд▓ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рд╕рд░реНрд╡реЗрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi480892/index.html">рдЧреБрдмреНрдмрд╛рд░рд╛ рдЗрдВрдЯрд░рдиреЗрдЯ</a></li>
<li><a href="../hi480900/index.html">рдореЗрд░реЗ рдмрдЪреНрдЪреЗ рдХреЛ рд╡рд╛рдкрд╕ рд▓рд╛рдУ! (рдПрди.рдПрдл- рдХрд╣рд╛рдиреА)</a></li>
<li><a href="../hi480904/index.html">PHP рдорд┐рдХреНрд░реЛрд╕реЗрд░рд╡рд░реНрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ: рд╕реНрд╡рд┐рдлреНрдЯ рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд╛рд╕ рдкрд░реНрдпрд╛рд╡рд░рдг</a></li>
<li><a href="../hi480906/index.html">рдПрдХ рд╕рд░рд▓ рдЕрдЬрдЧрд░ рдЦреЗрд▓ рд▓реЗрдЦрди</a></li>
<li><a href="../hi480910/index.html">рд╕реЗрд▓реЗрдирд┐рдпрдо рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдмреБрдирд┐рдпрд╛рджреА рдкрд░реАрдХреНрд╖рдг рд╡рд░реНрдЧ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП рдФрд░ JUnit RuleChain рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ</a></li>
<li><a href="../hi480912/index.html">рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдбреБрдмрдХреА рд▓рдЧрд╛рдирд╛ред рдЯреЛрдбреЛрдореЗрд╡реАрд╕реА рд▓реЗрдЦрдиред рднрд╛рдЧ 1</a></li>
<li><a href="../hi480914/index.html">рд╢реБрд░реБрдЖрддреА рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>