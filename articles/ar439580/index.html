<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘† ğŸ‘¶ğŸ¿ ğŸ‚ Ø¬Ø¹Ù„ Git Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Windows ÙŠØ¹Ù…Ù„ ÙÙŠ ReactOS ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ ğŸ‘ ğŸš‹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙŠÙˆÙ… Ø¬ÙŠØ¯ Ù„Ùƒ! 


 Ø§Ø³Ù…ÙŠ Ø³ØªØ§Ù†ÙŠØ³Ù„Ø§Ù ÙˆØ£Ø­Ø¨ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯. Ù‡Ø°Ù‡ Ù…Ù‚Ø§Ù„ØªÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ù† Ù‡Ø¨Ø± Ø§Ù„ØªÙŠ ØµÙ†Ø¹ØªÙ‡Ø§ Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø¹Ø¯ÙŠØ¯Ø©: 


- Ù‡Ø§Ø¨Ø± Ø§Ù„Ø¢Ù† Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© 
- Ø¹Ø¯Ù…...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø¬Ø¹Ù„ Git Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Windows ÙŠØ¹Ù…Ù„ ÙÙŠ ReactOS</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/reactos/blog/439580/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ÙŠÙˆÙ… Ø¬ÙŠØ¯ Ù„Ùƒ! <img src="https://habrastorage.org/getpro/habr/post_images/557/a3f/dcf/557a3fdcfb649e6bb0e97231ccf30af2.png" alt="Ø§Ù„ØµÙˆØ±Ø©" align="right"></p><br><p style=";text-align:right;direction:rtl">  Ø§Ø³Ù…ÙŠ Ø³ØªØ§Ù†ÙŠØ³Ù„Ø§Ù ÙˆØ£Ø­Ø¨ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯.  Ù‡Ø°Ù‡ Ù…Ù‚Ø§Ù„ØªÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ù† Ù‡Ø¨Ø± Ø§Ù„ØªÙŠ ØµÙ†Ø¹ØªÙ‡Ø§ Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø¹Ø¯ÙŠØ¯Ø©: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ø§Ø¨Ø± Ø§Ù„Ø¢Ù† Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</a> </li><li style=";text-align:right;direction:rtl">  Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù‚Ø§Ù„Ø§Øª ÙÙ†ÙŠØ© ÙÙŠ Ù…Ø±ÙƒØ² ReactOS </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¹ÙˆØ¯Ø©</a> Ø§Ù„Ø£Ø®ÙŠØ±Ø© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…Ù† Geektimes Ø¥Ù„Ù‰ Ù‡Ø¨Ø±</a> </li><li style=";text-align:right;direction:rtl">  Ø¥Ù…ÙƒØ§Ù†ÙŠØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¨Ù†Ø§Ø¡ ReactOS ÙÙŠ ReactOS</a> </li><li style=";text-align:right;direction:rtl">  Ø­Ø§Ù„Ø© Ù…Ø«ÙŠØ±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ù„Ù„ØºØ§ÙŠØ© Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ReactOS Ø§Ù„ØªÙŠ Ø´Ø§Ø±ÙƒØª ÙÙŠÙ‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© </li></ul><br><p style=";text-align:right;direction:rtl">  Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ù‡ÙŠ Ù†Ø³Ø®Ø© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù…Ù† Ù…Ù‚Ø§Ù„ÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø£ÙˆÙ„</a> Ø¹Ù† Ø§Ù„Ø±ÙˆØ³ÙŠØ©. </p><br><p style=";text-align:right;direction:rtl"> Ø§Ø³Ù…Ø­ÙˆØ§ Ù„ÙŠ Ø£Ù† Ø£Ù‚Ø¯Ù… Ø§Ù„Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù‚ØµØ© Ø§Ù„ØªÙŠ Ø£ØµÙ„Ø­Øª Ø¨Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ù†Ø¹ Git Ù…Ù† Ø§Ù„ØªØ±Ø´Ø­ ÙÙŠ ReactOS - Ø§Ù„Ù…Ø·ÙˆØ± Ø§Ù„ÙØ±Ù†Ø³ÙŠ HermÃ¨s BÃ©lusca-MaÃ¯to (Ø£Ùˆ Ù…Ø¬Ø±Ø¯ Hermes Ø¨Ø§Ø³Ù… <code>hbelusca</code> ) ÙˆØ¨Ø§Ù„Ø·Ø¨Ø¹ Ø£Ù†Ø§ (Ù…Ø¹ <code>x86corez</code> Ø§Ù„Ù„Ù‚Ø¨). </p><br><p style=";text-align:right;direction:rtl">  ØªØ¨Ø¯Ø£ Ø§Ù„Ù‚ØµØ© Ø¨Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ© Ù…Ù† Ù‚Ù†Ø§Ø© ReactOS Development IRC: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 03 18:52:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Anybody want to work on some small problem? If so, can someone figure out why this problem https://jira.reactos.org/browse/CORE-12931 happens on ReactOS? :D Jun 03 18:53:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That would help having a good ROS self-hosting system with git support. Jun 03 18:53:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (the git assertion part only).</code> </pre> <a name="habracut"></a><br><h2 id="debriefing" style=";text-align:right;direction:rtl">  Ø§Ø³ØªØ®Ù„Ø§Øµ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª </h2><br><p style=";text-align:right;direction:rtl">  Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù ReactOS Ù‡Ùˆ Windows Server 2003 ØŒ ÙÙ‚Ø¯ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.10.0 Ù…Ù† Git Ù„Ù„ØªØ­Ù‚ÙŠÙ‚ - Ø¥Ù†Ù‡ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø£Ø®ÙŠØ± Ø§Ù„Ø°ÙŠ</a> ÙŠØ¯Ø¹Ù… Windows XP Ùˆ 2003. </p><br><p style=";text-align:right;direction:rtl">  ØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙŠ Ù…ÙˆØ¬Ù‡ Ø£ÙˆØ§Ù…Ø± ReactOS ØŒ ÙˆÙƒØ§Ù†Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ù„Ù„Ù…Ø´ÙƒÙ„Ø© ØºØ§Ù…Ø¶Ø© Ø¥Ù„Ù‰ Ø­Ø¯ Ù…Ø§.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ git Ø¨Ø¯ÙˆÙ† Ù…Ø¹Ù„Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ØŒ ÙØ¥Ù†Ù‡ ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„.  ÙˆÙ„ÙƒÙ† Ø¨Ù…Ø¬Ø±Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø© <code>git clone</code> Ø£Ùˆ Ø­ØªÙ‰ <code>git --version</code> ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª ØŒ ØªØ¸Ù„ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙØ§Ø±ØºØ© ÙÙ‚Ø·.  Ù…Ù† Ø­ÙŠÙ† Ù„Ø¢Ø®Ø± Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù…Ù‚Ø·ÙˆØ¹Ø© Ø¨ØªØ£ÙƒÙŠØ¯: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">git.exe clone -v "https://github.com/minoca/os.git" "C:\Documents and Settings\Administrator\Bureau\minocaos" A ssertionfailed ! P rogram : C : \ P rogram F iles \ G it \ mingw 3 2 \ bin \ git . exe F ile : exec _ cmd . c , L ine 2 3 E xpression : argv 0 _ path This application has requested the Runtime to terminate in an unusual way. Please contact the application's support team for more information.</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ø­Ø³Ù† Ø§Ù„Ø­Ø¸ ØŒ git Ù‡Ùˆ Ù…Ø´Ø±ÙˆØ¹ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ØŒ ÙˆÙ‚Ø¯ Ø³Ø§Ø¹Ø¯ ÙƒØ«ÙŠØ±Ù‹Ø§ ÙÙŠ ØªØ­Ù‚ÙŠÙ‚Ù†Ø§.  Ù„Ù… ÙŠÙƒÙ† Ù…Ù† Ø§Ù„ØµØ¹Ø¨ Ù„Ù„ØºØ§ÙŠØ© ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ Ø­ÙŠØ« Ø­Ø¯Ø« Ø§Ø³ØªØ«Ù†Ø§Ø¡ ØºÙŠØ± Ù…Ø¹Ø§Ù„Ø¬: <a href="">https://github.com/git-for-windows/git/blob/4cde6287b84b8f4c5ccb4062617851a2f3d7fc78/exec_cmd.c#L23</a> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">char *system_path(const char *path) { /* snip */ #ifdef RUNTIME_PREFIX assert(argv0_path); // it asserts here assert(is_absolute_path(argv0_path)); /* snip */ #endif strbuf_addf(&amp;d, "%s/%s", prefix, path); return strbuf_detach(&amp;d, NULL); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ù‚ÙŠÙ…Ø© Ù…ØªØºÙŠØ± <code>argv0_path</code> Ø¨ÙˆØ§Ø³Ø·Ø© Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø²: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">const char *git_extract_argv0_path(const char *argv0) { const char *slash; if (!argv0 || !*argv0) return NULL; slash = find_last_dir_sep(argv0); if (slash) { argv0_path = xstrndup(argv0, slash - argv0); return slash + 1; } return argv0; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø¨Ù…Ø¬Ø±Ø¯ Ø­ØµÙˆÙ„ÙŠ Ø¹Ù„Ù‰ ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØŒ Ù‚Ù…Øª Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ Ù‚Ù†Ø§Ø© IRC: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 03 19:04:36 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca: https://github.com/git-for-windows/git/blob/4cde6287b84b8f4c5ccb4062617851a2f3d7fc78/exec_cmd.c#L23 Jun 03 19:04:41 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> assertion is here Jun 03 19:04:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> yes I know, I've seen the code yesterday. The question is why it's FALSE on ROS but TRUE on Windows. Jun 03 19:06:02 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> argv0_path = xstrndup(argv0, slash - argv0); Jun 03 19:06:22 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> xstrndup returns NULL %-) Jun 03 19:06:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok, so what's the values of argv0 and slash on windows vs. on ROS? :P Jun 03 19:08:48 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> good question!</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙŠØ´ÙŠØ± Ø§Ø³Ù… Ø§Ù„Ù…ØªØºÙŠØ± Ø¥Ù„Ù‰ Ø£Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù…Ø´ØªÙ‚Ø© Ù…Ù† <code>argv[0]</code> - Ø¹Ø§Ø¯Ø© Ù…Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙ†ÙÙŠØ° ÙÙŠ ÙÙ‡Ø±Ø³ Ø§Ù„ØµÙØ±.  ÙˆÙ„ÙƒÙ† Ø¨Ø¹Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ Ù„Ù… ÙŠÙƒÙ† ÙˆØ§Ø¶Ø­Ø§ Ø¬Ø¯Ø§ ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 03 20:15:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca: surprise... git uses its own xstrndup implementation Jun 03 20:15:35 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> so I can't simply hook it xD Jun 03 20:15:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> well, with such a name "xstrndup" it's not surprising it's its own implementation Jun 03 20:16:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> probably I would need an user-mode debugger... like OllyDbg Jun 03 20:16:09 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> that's everything but standardized function. Jun 03 20:16:24 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: ollydbg should work on ROS. Jun 03 20:16:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> what are you breaking today? Jun 03 20:16:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: https://jira.reactos.org/browse/CORE-12931 Jun 03 20:16:51 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (of course if you also are able to compile that git with symbols and all the stuff, it would be very nice)</code> </pre> <br><h2 id="action" style=";text-align:right;direction:rtl">  Ø§Ù„Ø¹Ù…Ù„ </h2><br><p style=";text-align:right;direction:rtl">  Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ Ù‚Ø±Ø±Øª ØªØ¬Ù…ÙŠØ¹ Ø¨ÙˆØ§Ø¨Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø± ØŒ Ù„Ø°Ù„Ùƒ Ø³Ø£ÙƒÙˆÙ† Ù‚Ø§Ø¯Ø±Ù‹Ø§ Ø¹Ù„Ù‰ Ø·Ø¨Ø§Ø¹Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… "Ø³Ø±ÙŠØ¹Ù‹Ø§" Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ….  Ù„Ù‚Ø¯ ØªØ§Ø¨Ø¹Øª Ù‡Ø°Ø§ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©</a> ÙˆÙ…Ù† Ø£Ø¬Ù„ ØªØ¬Ù…ÙŠØ¹ Ø¥ØµØ¯Ø§Ø± git Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ ØŒ Ø§Ø®ØªØ±Øª Ù‡Ø°Ø§ Ø§Ù„ÙØ±Ø¹: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/git-for-windows/git/tree/v2.10.0-rc2</a> </p><br><p style=";text-align:right;direction:rtl">  ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ toolchain mingw32 Ø¨Ø³Ù„Ø§Ø³Ø© ÙˆØ¨Ø¯Ø£Øª Ù„Ù„ØªÙˆ ÙÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡.  ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ ØªÙˆØ¬Ø¯ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¹ÙŠÙˆØ¨ ØºÙŠØ± Ù…ÙˆØ«Ù‚Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© ØŒ ÙˆÙ‚Ø¯ ØµØ§Ø¯ÙØª Ø£Ø­Ø¯Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ±: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/st/xy/yz/stxyyzihtz6c7qlzohax-u7nofc.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><p style=";text-align:right;direction:rtl">  Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙˆØ§Ù„Ø®Ø·Ø£ ØŒ ÙˆÙƒØ°Ù„Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ„Ù…ÙŠØ­Ø§Øª Ù…Ù† Ø§Ù„Ù‚Ø§Ø¹Ø© (Ù‚Ù†Ø§Ø© IRC) ØŒ ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ø¬Ù…ÙŠØ¹ Ø£Ø®Ø·Ø§Ø¡ ÙˆÙ‚Øª Ø§Ù„ØªØ±Ø¬Ù…Ø©.  Ø¥Ø°Ø§ Ø£Ø±Ø§Ø¯ Ø´Ø®Øµ Ù…Ø§ Ø§ØªØ¨Ø§Ø¹ Ø®Ø·ÙˆØ§ØªÙŠ ØŒ ÙØ¥Ù„ÙŠÙƒ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ù…ØªØ±Ø¬Ù… Ø³Ø¹ÙŠØ¯Ù‹Ø§: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://pastebin.com/ZiA9MaKt</a> </p><br><p style=";text-align:right;direction:rtl">  Ù…Ù† Ø£Ø¬Ù„ ØªØ¬Ù†Ø¨ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ÙˆØ¸Ø§Ø¦Ù Ù…ØªØ¹Ø¯Ø¯Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ÙˆÙ„Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø³Ù‡ÙˆÙ„Ø© ØŒ Ù‚Ø±Ø±Øª Ø£Ù† Ø£Ø¶Ø¹ Ø¹Ø¯Ø© Ù…Ø·Ø¨ÙˆØ¹Ø§Øª ØªØµØ­ÙŠØ­ ØµØ­ÙŠØ­Ø© ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙˆØ¸ÙŠÙØ© <code>main()</code> ØŒ ÙˆØ§Ù„ØªÙŠ ØªÙˆØ¬Ø¯ ÙÙŠ <code>common-main.c</code> ÙÙŠ Ø­Ø§Ù„Ø© git: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">int main(int argc, const char **argv) { /* * Always open file descriptors 0/1/2 to avoid clobbering files * in die(). It also avoids messing up when the pipes are dup'ed * onto stdin/stdout/stderr in the child processes we spawn. */ //DebugBreak(); printf("sanitize_stdfds(); 1\n"); sanitize_stdfds(); printf("git_setup_gettext(); 1\n"); git_setup_gettext(); /* * Always open file descriptors 0/1/2 to avoid clobbering files * in die(). It also avoids messing up when the pipes are dup'ed * onto stdin/stdout/stderr in the child processes we spawn. */ printf("sanitize_stdfds(); 2\n"); sanitize_stdfds(); printf("git_setup_gettext(); 2\n"); git_setup_gettext(); printf("before argv[0] = %s\n", argv[0]); argv[0] = git_extract_argv0_path(argv[0]); printf("after argv[0] = %s\n", argv[0]); restore_sigpipe_to_default(); printf("restore_sigpipe_to_default(); done\n"); return cmd_main(argc, argv); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„ØªØ§Ù„ÙŠ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">C:\&gt;git --version sanitize_stdfds(); 1 git_setup_gettext(); 1 sanitize_stdfds(); 2 git_setup_gettext(); 2 before argv[0] = git after argv[0] = git restore_sigpipe_to_default(); done A ssertionfailed ! (cutted a part of error message which is the same as the one above)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ø±Ø¡ Ø£Ù† ÙŠÙØªØ±Ø¶ Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù… Ù‡Ù†Ø§ ØŒ Ù‚ÙŠÙ…Ø© <code>argv[0]</code> ØµØ­ÙŠØ­Ø©.  Ù„Ø¯ÙŠ ÙÙƒØ±Ø© Ù„ØªØ´ØºÙŠÙ„ git Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØµØ­Ø­ ØŒ OllyDbg Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙˆÙ„ÙƒÙ† Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§ ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 04 01:54:46 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> now please try gdb/ollydbg in ROS Jun 04 01:58:11 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> you have gdb in RosBE Jun 04 01:58:20 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> just in case :p Jun 04 01:59:45 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> ollydbg says "nope" with MEMORY_MANAGEMENT bsod Jun 04 02:00:07 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> !bc 0x0000001A Jun 04 02:00:08 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hTechBot</span></span></span><span class="hljs-tag">&gt;</span></span> KeBugCheck( MEMORY_MANAGEMENT ); Jun 04 02:00:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> :/ Jun 04 02:00:49 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> welp Jun 04 02:00:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> you only have one option now :D</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙˆÙ‡Ù†Ø§ Ø§Ù‚ØªØ±Ø­ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">Ø³Ø§Ù†Ø´ÙŠØ²</a> ÙÙƒØ±Ø© Ù…Ù…ØªØ§Ø²Ø© ØªÙ„Ù‚ÙŠ Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù„Ù‰ Ø£Ø´ÙŠØ§Ø¡ ÙƒØ«ÙŠØ±Ø©! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ox/hf/wq/oxhfwqsbyw35bsylutipsffvaao.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><p style=";text-align:right;direction:rtl">  Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù„Ù… ÙŠØ¹Ø¯ ÙŠØ­Ø¯Ø« ØŒ ÙˆØ­ØµÙ„Øª Ø¨ÙˆØ§Ø¨Ø© Ø·Ø¨Ø§Ø¹ØªÙ‡ Ø¨Ù†Ø¬Ø§Ø­. </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 04 02:23:40 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> it prints! Jun 04 02:23:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> but only in gdb Jun 04 02:23:53 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> oh Jun 04 02:24:00 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> C:\git/git.exe Jun 04 02:24:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> I wonder whether it's the same in windows, or not.</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù†ØªÙ‚Ù„Øª Ø§Ù„Ù‚Ø¶ÙŠØ© Ù…Ù† Ù…Ø±ÙƒØ² Ù…ÙŠØª ØŒ ÙˆØ­Ø§ÙˆÙ„Øª Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ© Ù„ØªØ´ØºÙŠÙ„ Ø¨ÙˆØ§Ø¨Ø© ÙÙŠ Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø£ÙˆØ§Ù…Ø± ØŒ ÙˆØ§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/es/bq/a4/esbqa41d5zj__3yoapc4yfbshhc.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><p style=";text-align:right;direction:rtl">  ÙƒØ§Ù†Øª Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨ÙˆØ¶ÙˆØ­ Ø£Ù† Ø¨ÙˆØ§Ø¨Ø© ØªÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Ø³Ø·Ø± Ø§Ù„Ø£ÙˆØ§Ù…Ø±.  Ù„Ø°Ù„Ùƒ Ù‚Ø§Ø±Ù†Øª Ø§Ù†ØªØ§Ø¬Ù‡Ø§ Ø§Ù„ØªØµØ­ÙŠØ­ Ø¹Ù„Ù‰ ÙˆÙŠÙ†Ø¯ÙˆØ².  Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙØ§Ø¬Ø£ØªÙ†ÙŠ Ù‚Ù„ÙŠÙ„Ø§Ù‹. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ke/iv/9s/keiv9szbiznf4nsahh8fwkg3m2e.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><p style=";text-align:right;direction:rtl">  Ù„Ø³Ø¨Ø¨ Ù…Ø§ Ø§Ø­ØªÙˆÙ‰ Ù‚ÙŠÙ…Ø© <code>argv[0]</code> Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø«Ù†Ø§Ø¦ÙŠ git.exe. </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 23:01:44 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: can you try to run git also by not using cmd.exe? Jun 05 23:02:05 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (to exclude the possibility it's cmd that doesn't call Createprocess with a complete path) Jun 05 23:02:09 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> while I think it should... Jun 05 23:02:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> not using cmd... moment Jun 05 23:02:55 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: alternatively, on windows, try starting git using our own cmd.exe :)</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø§Ù‚ØªØ±Ø­ Ù‡ÙŠØ±Ù…ÙŠØ³ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† ReactOS cmd.exe Ù…ÙƒÙˆÙ†Ù‹Ø§ Ù…Ø°Ù†Ø¨Ù‹Ø§ Ù‡Ù†Ø§ ... </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_l/nd/od/_lndodcrwgvabcw9ho1r-g0ns5m.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><p style=";text-align:right;direction:rtl">  Ù„ÙƒÙ† Ù„Ù‚Ø·Ø© Ø§Ù„Ø´Ø§Ø´Ø© Ù‡Ø°Ù‡ Ø£ÙƒØ¯Øª Ø£Ù† Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© ÙÙŠ Ù…ÙƒØ§Ù† Ø¢Ø®Ø±. </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 23:04:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> ROS cmd is not guilty Jun 05 23:07:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> If there was a possibility to consult the received path, before looking at the contents of argvs... ? Jun 05 23:08:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> dump contents of actual command line? Jun 05 23:08:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> yeah Jun 05 23:09:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> The thing you retrieve using GetCommandLineW Jun 05 23:10:03 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (which is, after simplifications, basically : NtCurrentPeb()-&gt;ProcessParameters-&gt;CommandLine ) Jun 05 23:10:59 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Also I was thinking it could be a side-effect of having (or not having) git path into the env-vars.... Jun 05 23:12:17 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, command line is "git --version" Jun 05 23:12:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Always? Jun 05 23:12:39 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> Yes, even on Windows Jun 05 23:15:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok but then it would be nice if these different results are at least the same on Windows and on ROS, so that we can 100% exclude problems outside of msvcrt.</code> </pre> <br><p style=";text-align:right;direction:rtl">  ÙƒØ§Ù† Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£Ø®ÙŠØ± Ù„Ø§Ø®ØªØ¨Ø§Ø± ReactOS msvcrt.dll ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Windows.  Ø­Ø§ÙˆÙ„Øª ÙˆØ¶Ø¹ Ø§Ù„Ù…Ù„Ù ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø­ÙŠØ« ÙŠÙˆØ¬Ø¯ git.exe ØŒ Ù„ÙƒÙ†Ù‡ Ù„Ù… ÙŠØ³Ø§Ø¹Ø¯.  Ø§Ù‚ØªØ±Ø­ Ù…Ø§Ø±Ùƒ Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ù .local: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 22:59:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: add .local file next to msvcrt.dll ;) Jun 05 22:59:47 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> exename.exe.local Jun 05 23:00:17 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> just an empty file? Jun 05 23:00:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> yea Jun 05 23:00:49 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: do we support these .local files? Jun 05 23:00:52 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> we dont Jun 05 23:00:54 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mjansen</span></span></span><span class="hljs-tag">&gt;</span></span> windows does Jun 05 23:15:48 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> moment... I'll try with .local Jun 05 23:18:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> mjansen: I've created git.exe.local but it still doesn't load msvcrt.dll in this directory</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„ÙƒÙ† Ù„Ø³Ø¨Ø¨ Ù…Ø§ Ù„Ù… ØªÙ†Ø¬Ø­ Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø£ÙŠØ¶Ù‹Ø§.  Ø±Ø¨Ù…Ø§ Ø­Ù‚ÙŠÙ‚Ø© Ø£Ù†Ù†ÙŠ ÙØ¹Ù„Øª ÙƒÙ„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø¹Ù„Ù‰ Ø¥ØµØ¯Ø§Ø± Ø®Ø§Ø¯Ù… ÙˆÙŠÙ†Ø¯ÙˆØ² (2008 R2). </p><br><p style=";text-align:right;direction:rtl">  Ø§Ù‚ØªØ±Ø­ Ù‡ÙŠØ±Ù…ÙŠØ³ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©: </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 23:19:28 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> last solution: patch "msvcrt" name within git and perhaps other mingwe dlls ^^ Jun 05 23:20:12 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> good idea about patching!</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ø°Ù„Ùƒ Ø§Ø³ØªØ¨Ø¯Ù„Øª ÙƒÙ„ ØªÙƒØ±Ø§Ø±Ø§Øª msvcrt ÙÙŠ git.exe Ø¨Ù€ <code>msvcrd</code> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… WinHex ØŒ <code>msvcrd</code> ØªØ³Ù…ÙŠØ© ReactOS msvcrt.dll ÙˆÙÙ‚Ù‹Ø§ Ù„Ø°Ù„Ùƒ ØŒ ÙˆÙ‡Ù†Ø§ Ù†Ø­Ù†: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/9l/8z/si/9l8zsinphrucuzluxoqbuz67ar8.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 23:23:29 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> Yes! guilty is msvcrt :) Jun 05 23:25:37 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ah, so as soon as git uses our msvcrt we get the problem on windows. Jun 05 23:25:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, mjansen, https://image.prntscr.com/image/FoOWnrQ4SOGMD-66DLW16Q.png Jun 05 23:25:58 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> aha and it asserts <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">3</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Jun</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">05</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">23:26:03</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> (it shows the assertion now)</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø£ØµØ¨Ø­ Ø®Ø·Ø£ Ø§Ù„Ø¢Ù† Ù†Ø­Ù† Ø¶Ø±Ø¨ Ù†ÙØ³ Ø§Ù„ØªØ£ÙƒÙŠØ¯ ØŒ ÙˆÙ„ÙƒÙ† ÙÙŠ ÙˆÙŠÙ†Ø¯ÙˆØ²!  ÙˆÙ‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ù…ØµØ¯Ø± Ù…Ø´Ø§ÙƒÙ„Ù†Ø§ Ù‡Ùˆ ÙÙŠ ÙˆØ§Ø­Ø¯Ø© Ù…Ù† ÙˆØ¸Ø§Ø¦Ù ReactOS msvcrt. </p><br><p style=";text-align:right;direction:rtl">  ØªØ¬Ø¯Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù„Ù‰ Ø£Ù† Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ ÙŠØªÙ… Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙÙŠ Windows. </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 05 23:26:13 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> but it prints text and correctly. Jun 05 23:26:20 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> oh Jun 05 23:26:33 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> and on ROS it doesn't print in most cases xD Jun 05 23:26:38 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> so also it excludes another hypothesis, namely that it could have been a bug in our msvcrt/crt Jun 05 23:26:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> So possibly a strange bug in our console</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ù„Ø°Ù„Ùƒ ØŒ Ù„Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© ØŒ ÙƒØ§Ù† Ø¹Ù„ÙŠÙ†Ø§ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙˆØ¸ÙŠÙØ© API ÙÙŠ msvcrt ÙˆØ§Ù„ØªÙŠ ØªØ¹Ø·ÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ.  ØºÙˆØºÙ„Ø¯ Ù‚Ù„ÙŠÙ„Ø§ ÙˆØ§ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù…Ø´ÙƒÙ„Ø© <code>_pgmptr</code> ÙˆØ¸ÙŠÙØ© <code>_pgmptr</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 06 00:07:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> https://msdn.microsoft.com/en-us/library/tza1y5f7.aspx Jun 06 00:07:57 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> When a program is run from the command interpreter (Cmd.exe), _pgmptr is automatically initialized to the full path of the executable file. Jun 06 00:08:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> this ^^) Jun 06 00:08:50 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That's what GetModuleFileName does. Jun 06 00:09:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> yeah Jun 06 00:10:30 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> Of course in ROS msvcrt we don't do this, but instead we initialize pgmptr to what argv[0] could be. Jun 06 00:11:08 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> That's one thing. Jun 06 00:11:34 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> The other thing is that nowhere it appears (in MS CRT from VS, or in wine) that argv is initialized using pgmptr. Jun 06 00:13:33 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, I've checked argv[0] in some ROS command line tools, running them in Windows Jun 06 00:13:56 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> they all interpret argv[0] as command line, not full path Jun 06 00:14:04 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> so... I think it's git specific behaviour Jun 06 00:14:16 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> or specific mingw compiler settings Jun 06 00:28:12 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: I'm making a patch for our msvcrt, would be nice if you could test it :) Jun 06 00:28:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> I'll test it</code> </pre> <br><p style=";text-align:right;direction:rtl">  Ø£Ø±Ø³Ù„ Ù‡ÙŠØ±Ù…ÙŠØ³ Ø±Ø§Ø¨Ø·Ù‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„ØªØµØ­ÙŠØ­ ØŒ ÙˆÙ‚Ù…Øª Ø¨ØªØ·Ø¨ÙŠÙ‚Ù‡ ÙŠØ¯ÙˆÙŠÙ‹Ø§ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù… ØŒ ÙˆØ¨Ø¹Ø¯ Ù‡Ø°Ù‡ Ø§Ù„ØªØ­Ø±ÙƒØ§Øª Ø§Ø®ØªÙØª Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø³Ø­Ø±ÙŠØ©! </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jp/yy/5p/jpyy5pmeuypncrl9ahuf4szvnxe.png" alt="Ø§Ù„ØµÙˆØ±Ø©"></p><br><pre style=";text-align:right;direction:rtl"> <code class="html hljs xml">Jun 06 00:34:26 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> hbelusca, IT WORKS! Jun 06 00:35:10 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> LOL Jun 06 00:35:18 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> So it seems that something uses pgmptr to rebuild an argv. Jun 06 00:35:52 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> I've even able to clone :) Jun 06 00:36:19 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> \o/ Jun 06 00:36:21 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gigaherz</span></span></span><span class="hljs-tag">&gt;</span></span> 2.10.0-rc2? not the release? Jun 06 00:36:24 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> ok I'm gonna commit that stuff. Jun 06 00:36:43 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hbelusca</span></span></span><span class="hljs-tag">&gt;</span></span> x86corez: gonna have ROS self-hosting <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">33</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Jun</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">06</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">00:36:48</span></span></span><span class="hljs-tag"> &lt;</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> yeah! Jun 06 00:37:01 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> gigaherz: I've built that from sources Jun 06 00:37:37 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gigaherz</span></span></span><span class="hljs-tag">&gt;</span></span> oh, for testing this bug? o_O Jun 06 00:37:50 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sanchaez</span></span></span><span class="hljs-tag">&gt;</span></span> yes, you missed the fun :p Jun 06 00:39:46 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">x86corez</span></span></span><span class="hljs-tag">&gt;</span></span> git 2.10.0-windows.1 (release) works too! Jun 06 00:39:54 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">encoded</span></span></span><span class="hljs-tag">&gt;</span></span> commit!!!</code> </pre> <br><h2 id="afterword" style=";text-align:right;direction:rtl">  Ø®Ø§ØªÙ…Ø© </h2><br><p style=";text-align:right;direction:rtl">  ÙˆÙ…Ø¹ Ø°Ù„Ùƒ ØŒ ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ø®Ø·Ø£ Ø¢Ø®Ø± ÙŠÙ…Ù†Ø¹ Ø¨Ø´ÙƒÙ„ ØºÙŠØ± Ù…Ø¨Ø§Ø´Ø± ReactOS Ù…Ù† Ø¨Ù†Ø§Ø¡ Ù†ÙØ³Ù‡ Ø¨ÙØ¶Ù„ Ø§Ù„Ø¬Ù‡ÙˆØ¯ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©.  Ø§Ù„Ù…ØµØ§Ø¯ÙØ© Ø§Ù„Ù…Ø¶Ø­ÙƒØ© Ù‡ÙŠ Ø­Ù‚ÙŠÙ‚Ø© Ø£Ù†Ù‡ Ù‚Ø¨Ù„ ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø© Ù…Ù† Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø®Ù„Ù„ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© <code>qsort</code> (Ø£ÙŠ ÙÙŠ ÙˆØ¸ÙŠÙØ© <code>qsort</code> ) Ø§Ù„ØªÙŠ Ù„Ù… ØªØ³Ù…Ø­ Ù„ØªØ¬Ù…ÙŠØ¹ Ø¨Ø±Ø§Ù…Ø¬ ØªØ´ØºÙŠÙ„ USB ÙÙŠ ReactOS. </p><br><p style=";text-align:right;direction:rtl">  Ø£Ø´Ø§Ø±Ùƒ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¨Ù„ØºØ§Øª Ø¨Ø±Ù…Ø¬Ø© Ù…Ø®ØªÙ„ÙØ© ØŒ Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± ÙˆÙ…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø±.  Ø£Ù†Ø§ Ø£Ø³Ø§Ù‡Ù… ÙÙŠ Ù…Ø´Ø±ÙˆØ¹ ReactOS Ù…Ù†Ø° Ø¹Ø§Ù… 2014 ØŒ Ù„ÙƒÙ†Ù†ÙŠ Ø¨Ø¯Ø£Øª Ø¨Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¨Ù†Ø´Ø§Ø· ÙˆÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯ ÙØ¹Ù„ÙŠÙ‹Ø§ ÙÙ‚Ø· ÙÙŠ Ø¹Ø§Ù… 2017. Ù…Ù† Ø§Ù„Ù…Ø«ÙŠØ± Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ø§Ù„ Ù„Ø£Ù†Ù‡ Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ ÙƒØ§Ù…Ù„!  ØªØ´Ø¹Ø± Ø¨Ù…Ù‚ÙŠØ§Ø³ Ù‡Ø§Ø¦Ù„ Ù„Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙŠ Ø§Ø³ØªØ«Ù…Ø±Øª ÙÙŠÙ‡Ø§ Ø§Ù„Ø¬Ù‡ÙˆØ¯ ØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø´Ø¹ÙˆØ± Ù„Ø·ÙŠÙ Ø¨ÙˆØ¬ÙˆØ¯ Ø®Ø·Ø£ Ø£Ù‚Ù„!  :) </p><br><p style=";text-align:right;direction:rtl">  Ù‚Ø¯ ÙŠØªØ³Ø§Ø¡Ù„ Ø´Ø®Øµ Ù…Ø§ Ù„Ù…Ø§Ø°Ø§ Ø£Ø³Ø§Ù‡Ù… ÙÙŠ ReactOS ÙˆÙ„ÙŠØ³ Linux Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„.  Ù„Ø°Ù„Ùƒ ØŒ ØªØ§Ø±ÙŠØ®ÙŠØ§Ù‹ ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª ØŒ Ø£ÙƒØªØ¨ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù†Ø¸Ø§Ù… Windows ÙˆÙ„ØºØªÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù‡ÙŠ Ø¯Ù„ÙÙŠ.  Ø±Ø¨Ù…Ø§ Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø¨Ø¨ ÙÙŠ Ø£Ù† Ù‡Ù†Ø¯Ø³Ø© Windows NT Ù…Ø¹ Win32 API Ù…Ø«ÙŠØ±Ø© Ù„Ù„ØºØ§ÙŠØ© Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠ ØŒ ÙˆÙ…Ø´Ø±ÙˆØ¹ ReactOS Ø§Ù„Ø®Ø§Øµ Ø¨Ø¨Ø¯ÙŠÙ„ Windows Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø­Ù„Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ§Ù‚Ø¹Ø© - ÙŠØªÙŠØ­ Ù„Ùƒ Ù…Ø¹Ø±ÙØ© ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ ÙƒÙ„ Ø´ÙŠØ¡ ØªØ­Øª ØºØ·Ø§Ø¡ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ§Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø©. </p><br><p style=";text-align:right;direction:rtl">  Ø£ØªÙ…Ù†Ù‰ Ø£Ù† ØªØ³ØªÙ…ØªØ¹ÙˆØ§ Ø¨Ù…Ù‚Ø§Ù„ØªÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù‡Ù†Ø§.  Ø£Ù†Ø§ Ø£ØªØ·Ù„Ø¹ Ø¥Ù„Ù‰ ØªØ¹Ù„ÙŠÙ‚Ø§ØªÙƒÙ…! </p><br><h3 id="links" style=";text-align:right;direction:rtl">  Ø§Ù„Ø±ÙˆØ§Ø¨Ø· </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØªØ°ÙƒØ±Ø© ÙÙŠ JIRA ØªØ¹Ù‚Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>_pgmptr</code> ÙˆØµÙ API Ø¹Ù„Ù‰ MSDN</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ø°ÙŠ Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø®Ù„Ù„</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø±ÙˆØ³ÙŠØ© Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø©</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar439580/">https://habr.com/ru/post/ar439580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar439570/index.html">IPython Ø§Ù„Ø³Ø­Ø± Ù„ØªØ­Ø±ÙŠØ± Ø¹Ù„Ø§Ù…Ø§Øª Ø®Ù„ÙŠØ© Jupyter</a></li>
<li><a href="../ar439572/index.html">Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¨Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ù† Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</a></li>
<li><a href="../ar439574/index.html">Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ© I2C. Ø£ÙˆØ§Ù…Ø± ØªØ¨Ø§Ø¯Ù„ APDU Ø¹Ø¨Ø± ÙˆØ§Ø¬Ù‡Ø© I2C</a></li>
<li><a href="../ar439576/index.html">Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø¨Ø§ÙŠØ«ÙˆÙ†. Ù†ØµØ§Ø¦Ø­ ÙˆØ§Ù„Ø®Ø¯Ø¹</a></li>
<li><a href="../ar439578/index.html">Ø¥Ù„Ù‰ Ù…Ø³Ø£Ù„Ø© Ø§Ù„ØªØ­ÙˆÙ„Ø§Øª ÙˆØºÙŠØ±Ù‡Ø§ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</a></li>
<li><a href="../ar439584/index.html">Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø·Ø§Ù‚Ø© Ù‡Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø¸Ø± ÙÙŠ Ø¥Ù…Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©</a></li>
<li><a href="../ar439586/index.html">SPBm Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ ÙƒØ£Ø³Ø§Ø³ Ù„Ù„Ø­Ø±Ù… Ø§Ù„Ø¢Ù„ÙŠ Ø§Ù„Ù…ØªØ·Ø±ÙØ©</a></li>
<li><a href="../ar439588/index.html">Ø§ÙƒØªØ´Ù ESET Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† DanaBot Trojan</a></li>
<li><a href="../ar439590/index.html">Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª: Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ÙˆØ³Ù„Ø·Ù†Ø© Ø¹Ù…Ø§Ù† Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ CTF 2019. WriteUp</a></li>
<li><a href="../ar439592/index.html">Ø£ØªÙ…ØªØ© Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>