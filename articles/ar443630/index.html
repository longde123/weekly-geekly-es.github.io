<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จโ๐พ ๐ผ ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช. ุงูุฌุฒุก 1: ุงููุญูู ุงููุบูู โ๏ธ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุฃูุฏู ููู ุชุฑุฌูุฉ ููุงุฉ ูุฏููู ูุชุทุจูู ูุบุฉ ุจุฑูุฌุฉ ุฌุงูุง ุณูุฑูุจุช JavaScript - ุจุฑูุงูุฌ PL ุงูุชุนูููู . 
 ูู ุงููุชุฑุฌู 


 ุณูููู ุจุฅูุดุงุก ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง - ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช. ุงูุฌุฒุก 1: ุงููุญูู ุงููุบูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443630/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุญุจุง  ุฃูุฏู ููู ุชุฑุฌูุฉ ููุงุฉ ูุฏููู ูุชุทุจูู ูุบุฉ ุจุฑูุฌุฉ ุฌุงูุง ุณูุฑูุจุช JavaScript - ุจุฑูุงูุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PL ุงูุชุนูููู</a> . </p><br><h1 id="ot-perevodchika" style=";text-align:right;direction:rtl">  ูู ุงููุชุฑุฌู </h1><br><p style=";text-align:right;direction:rtl">  ุณูููู ุจุฅูุดุงุก ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง - ((ุจุงููุบุฉ ุงูุฃุตููุฉ - ฮปanguage).  ูู ุนูููุฉ ุงูุฅูุดุงุก ุ ุณูุณุชุฎุฏู ุงููุซูุฑ ูู ุงูุชูููุงุช ุงููุซูุฑุฉ ููุงูุชูุงู ุ ูุซู ุงููุณุจ ุงูุนูุฏูุฉ ูููุท ููู ุงูุชุญูู ูุชูููุงุช ุงูุชุญุณูู ุงูุฃุณุงุณูุฉ.  ุณูุชู ุฅูุดุงุก ูุณุฎุชูู ูู ุงููุชุฑุฌู ุงูุดููู - ุงููุชุฑุฌููู ุงูุนุงุฏููู ูุงููุชุฑุฌููู ุงูููุฑููู CPS ุ ุงููุชุฑุฌู ุงูุดููู ูู JavaScript. </p><br><p style=";text-align:right;direction:rtl">  ูุคูู ุงููุณุฎุฉ ุงูุฃุตููุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Mihai Bazon</a> ุ ูุคูู ููุชุจุฉ UglifyJS ุงูุดููุฑุฉ (ุฃุฏุงุฉ ูุชูููู ูุชูุณูู ุฑูุฒ JS). </p><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุญุชููุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1: ุงููุญูู ุงููุบูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2: ูุชุฑุฌู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 3: CPS ูุชุฑุฌู</a> </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุชุทุจูู ูุบุฉ ุงูุจุฑูุฌุฉ ูู ุฌุงูุง ุณูุฑูุจุช.  ุงูุฌุฒุก 4: ุชุฑุฌูุฉ ุนุจุฑ ูู JS </li></ol></div></div><br><h1 id="vstuplenie" style=";text-align:right;direction:rtl">  ุฏุฎูู </h1><br><p style=";text-align:right;direction:rtl"> ุฅุฐุง ููุช ูุฏ ูุชุจุช ุงููุชุฑุฌู ุฃู ุงููุชุฑุฌู ุงูุฎุงุต ุจู ุ ููู ูููู ููุงู ุดูุก ุฌุฏูุฏ ุจุงููุณุจุฉ ูู.  ูููู ุฅุฐุง ููุช ุชุณุชุฎุฏู ุชุนุจูุฑุงุช ููุชุธูุฉ <a href="">ูุชุญููู</a> ุดูุก ูุดุจู ูุบุฉ ุงูุจุฑูุฌุฉ ุ ูุงูุฑุฃ ุงููุณู ุงูุฎุงุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงูุชุญููู</a> .  ุฏุนูุง ููุชุจ ุงูููุฏ ูุน ุนุฏุฏ ุฃูู ูู ุงูุฃุฎุทุงุก! </p><br><p style=";text-align:right;direction:rtl">  ุงูููุงูุฉ ููุณูุฉ ุฅูู ุฃุฌุฒุงุก ุจุงูุชุฑุชูุจ "ูู ุงูุจุณูุท ุฅูู ุงููุนูุฏ".  ูุง ุฃูุตู ุจุชุฎุทู ุฃุฌุฒุงุก ูู ุงูููุงูุฉ ุ ุฅูุง ุฅุฐุง ูููุช ุงูููุถูุน ุฌูุฏูุง.  ููููู ุฏุงุฆูุง ุงูุนูุฏุฉ ุฅุฐุง ููุช ูุง ุชููู ุดูุฆุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ุณูุชุนููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ูู ุงููุญูู ุงููุบูู ุ ูููููุฉ ูุชุงุจุชู. </li><li style=";text-align:right;direction:rtl">  ููู ุชูุชุจ ูุชุฑุฌู. </li><li style=";text-align:right;direction:rtl">  ุชุชูุฉ ููููู ุ ูููุงุฐุง ููู. </li><li style=";text-align:right;direction:rtl">  ูุชุงุจุฉ ูุชุฑุฌู (trans). </li><li style=";text-align:right;direction:rtl">  ุงุณุชูุฑุงุฑ ููุท ุงูููู. </li><li style=";text-align:right;direction:rtl">  ุจุนุถ ุชูููุงุช ุชุญุณูู ุงูููุฏ ุงูุฃุณุงุณูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฃูุซูุฉ ุนูุง ูู ุฌุฏูุฏ ูู ูุบุชูุง compared ููุงุฑูุฉ ุจู JavaScript. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฌูุจุง ุฅูู ุฌูุจ ูุน ูุฐุง ุ ุณุฃูุถุญ ููุงุฐุง ุชุนุฏ ูุบุฉ Lisp ูุบุฉ ุจุฑูุฌุฉ ุฑุงุฆุนุฉ.  <strong>ููุน ุฐูู ุ ูุฅู ุงููุบุฉ ุงูุชู ูุนูู ุนูููุง ููุณุช ูุบุฉ Lisp.</strong>  ูุญุชูู ุนูู ุจูุงุก ุฌููุฉ ุฃูุซุฑ ุซุฑุงุกู (ุชุฏููู ุฅูููุณ ููุงุณููู ูุนุฑูู ุงูุฌููุน) ุ ูุซู ุงููุฎุทุท (ุจุงุณุชุซูุงุก ูุญุฏุงุช ุงููุงูุฑู).  ุฌูุฏ ุฃู ูุง ุ ูููู ูุญุฏุงุช ุงููุงูุฑู ูู ุงูุณูุฉ ุงูุฑุฆูุณูุฉ ูู Lisp - ุดูุก ูุง ุชุณุชุทูุน ุงููุบุงุช ุงูุฃุฎุฑู (ุจุงุณุชุซูุงุก ููุฌุงุช Lisp) ุฃู ุชูุนู ูุง ุชูุนูู.  (ูุนู ุ ุฃูุง ุฃุนุฑู ุนู SweetJS ... ุฃุบูู ุ ูููู ููุณ ุฐูู.) </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃููุงู ุ ุฏุนูุง ููุฏู ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง. </p><br><a name="Language"></a><br><h1 id="zyk" style=";text-align:right;direction:rtl">  ฮป ุงููุบุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุจู ุงูููุงู ุจุฃู ุดูุก ุ ูุฌุจ ุฃู ุชููู ูุฏููุง ุตูุฑุฉ ูุงุถุญุฉ ููุง ูุฑูุฏ ุงูููุงู ุจู.  ุณูููู ูู ุงูุฑุงุฆุน ุฃู ุฃูุชุจ ูุตููุง ูููุงุนุฏ ุงููุบุฉ ุ ููููู ุณุฃุฌุนู ุงูุฃูุฑ ุฃุณูู - ุงูุชุจ ูุซุงููุง ุนู ุจุฑูุงูุฌ ุจุณูุท ุ ูุฐูู ูููุง ููู ุจุนุถ ุฃูุซูุฉ ุงููุบุฉ: </p><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   println("Hello World!"); println(2 + 3 * 4); #       `lambda`  `ฮป` fib = lambda (n) if n &lt; 2 then n else fib(n - 1) + fib(n - 2); println(fib(15)); print-range = ฮป(a, b) # `ฮป`     ,   `lambda` if a &lt;= b then { # `then`  ,      print(a); if a + 1 &lt;= b { print(", "); print-range(a + 1, b); } else println(""); #   }; print-range(1, 5);</span></span></code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุงุญุธุฉ ุนูู ุงูุฃุณูุงุก ุงููุชุบูุฑุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃู ุงููุนุฑูุงุช ูุฏ ุชุญุชูู ุนูู ุนูุงูุฉ ูุงูุต ( <code>print-range</code> ).  ูุฐู ูุณุฃูุฉ ุฐูู.  ุฃูุง ุฏุงุฆูุง ูุถุน ูุณุงูุงุช ุญูู ุงููุดุบููู.  ูุง ุฃุญุจ ุญููุง ุณุฌู camelRegister ูุงูุฏูุงุนู ุฃูุถู ูู ุงููุณุงุญุฉ ุบูุฑ ุงููุฑุฆูุฉ ("_").  ูู ูู ุฑุงุฆุน ุฃูู ููููู ุฃู ุชูุนู ูุง ุชุฑูุฏ ุนูุฏูุง ุชูุนู ุดูุฆูุง ุจููุณู. </p></div></div><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Hello World! 14 610 1, 2, 3, 4, 5</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุจุฏู ุงููุบุฉ ูุดุงุจูุฉ ูุฌุงูุง ุณูุฑูุจุช ุ ููููุง ุจุดูู ุนุงู ููุณุช ูุฐูู.  ุฃููุงู ุ ูุง ุชูุฌุฏ ุจูุงูุงุช ุ ููุท ุชุนุจูุฑุงุช.  ูุฌุจ ุฃู ููุฑุฌุน ุงูุชุนุจูุฑ ูููุฉ ููููู ุงุณุชุฎุฏุงูู ูู ุฃู ููุงู ูู ุชุนุจูุฑ ุขุฎุฑ.  ููุงู ุญุงุฌุฉ ุฅูู ููุงุตู ููููุทุฉ ููุตู ุงูุชุนุจูุฑุงุช ูู "ุชุณูุณู" ุงูุชุนุจูุฑุงุช.  ุชููู ุงูุฃููุงุณ ุงููุชุนุฑุฌุฉ <code>{</code> ู <code>}</code> ุจุฅูุดุงุก ุชุณูุณู ููุซู ุชุนุจูุฑูุง ุจุญุฏ ุฐุงุชู ุ ููููุชู ูู ุงููููุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุชุณูุณู.  ุงูุจุฑูุงูุฌ ุงูุชุงูู ุตุญูุญ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">a = { fib(<span class="hljs-number"><span class="hljs-number">10</span></span>); <span class="hljs-comment"><span class="hljs-comment">#    ,      fib(15) #        }; print(a); #  610</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก ูุธุงุฆู ุจุงุณุชุฎุฏุงู <code>lambda</code> ุฃู <code>ฮป</code> ุงููููุงุช ุงูุฑุฆูุณูุฉ.  ุจุนุฏ ุฐูู ุ ุจูู ููุณูู (ุฑุจูุง ูุงุฑุบุฉ) ูุงุฆูุฉ ุจุฃุณูุงุก ุงููุณูุทุฉ ุ ููุตููุฉ ุจููุงุตู.  ูุต ุงูุฏุงูุฉ ูู ุชุนุจูุฑ ูุงุญุฏ ุ ูููู ูููู ุชุถูููู ูู ุชุณูุณู <code>{...}</code> .  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุนุฏู ูุฌูุฏ ูููุฉ ุฑุฆูุณูุฉ <code>return</code> .  ุชุฑุฌุน ุงูุฏุงูุฉ ูููุฉ ุงูุชุนุจูุฑ ุงูุฃุฎูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถุง ุ ูุง <code>var</code> .  ูุฅุถุงูุฉ ูุชุบูุฑ ุ ููููู ุงุณุชุฎุฏุงู ูุง ูุณููู ูุจุฑูุฌู JavaScript ุจู <code>IIFE</code> .  ุงุณุชุฎุฏู <code>lambda</code> ุ ุฃุนูู ุงููุชุบูุฑุงุช ููุณุงุฆุท.  ุจุงููุณุจุฉ ูููุชุบูุฑุงุช ุ ูุนุฏ ุงููุทุงู ูุธููุฉ ุ ูุงููุธุงุฆู ุนุจุงุฑุฉ ุนู ุนูููุงุช ุฅุบูุงู ุ ููุง ูู ุงูุญุงู ูู JavaScript [ุชูุฑูุจุง.  ุงูุชุฑุฌูุฉ: ุญุชู ES6.]. </p><br><p style=";text-align:right;direction:rtl">  ุญุชู <code>if</code> ุชุนุจูุฑุง.  ูุณุชุฎุฏู JavaScript ุงููุดุบู ุงูุซูุงุซู ููููุงู ุจุฐูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">a = foo() ? bar() : baz(); // JavaScript a = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo() then bar() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> baz(); <span class="hljs-comment"><span class="hljs-comment"># ฮป</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููููุฉ ุงูุฑุฆูุณูุฉ <code>then</code> ุงุฎุชูุงุฑูุฉ ุฅุฐุง ูุงู ุงููุฑุน ุชุณูุณููุง ( <code>{...}</code> ) ุ ููุง ุชุฑูู ุฃุนูุงู.  ูู ุญุงูุฉ ุฃุฎุฑู ุ ูุงู ุฐูู ุถุฑูุฑูุง.  <code>else</code> ุงุณุชุฎุฏุงู <code>else</code> ุญุงูุฉ ูุฌูุฏ ูุฑุน ุจุฏูู.  ููุฑุฉ ุฃุฎุฑู ุ <code>then</code> ุฃุฎุฐ ุงูุชุนุจูุฑ ูุฌุณู ุ ููู ููููู ุฏูุฌ ุชุนุจูุฑุงุช ูุชุนุฏุฏุฉ ูู ุชุนุจูุฑ ูุงุญุฏ ุจุงุณุชุฎุฏุงู <code>{...}</code> .  ุฅุฐุง ุบุงุจ <code>else</code> ูุงูุดุฑุท <code>false</code> ุ ููุชูุฌุฉ ุงููู <code>false</code> .  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู <code>false</code> ูู ูููุฉ ุฃุณุงุณูุฉ ุชูุซู ูููุฉ ูู ุงููููุฉ ุงูุฎุงุทุฆุฉ ุงููุญูุฏุฉ ูู ุฅุญุฏู ุงููุบุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">if foo() then print("OK");</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณููุชุฌ <code>OK</code> ุฅุฐุง ูููุท ุฅุฐุง ูุงูุช ูุชูุฌุฉ <code>foo()</code> <strong>ููุณุช</strong> <code>false</code> .  ุฃูุถูุง ุ ููุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>true</code> ุ ููู ูู ุดูุก ุบูุฑ <code>false</code> (ูู JavaScript ุ ุงููุดุบู <code>===</code> ) ุณูุนุชุจุฑ <code>true</code> ูู ุงููุฑูุน (ุจูุง ูู ุฐูู ุงูุฑูู <code>0</code> ูุงูุณูุณูุฉ ุงููุงุฑุบุฉ <code>""</code> ). </p><br><p style=";text-align:right;direction:rtl">  ูุงุญุธ ุฃูู ูุง ุชูุฌุฏ ุญุงุฌุฉ ููุฃููุงุณ ุญูู ุงูุชุนุจูุฑ ูู.  ุฅุฐุง ููุช ุจุฅุถุงูุชูุง ุ ููู ูููู ุฐูู ุฎุทุฃู ุ ูุฃูู <code>(</code> ูุจุฏุฃ ุงูุชุนุจูุฑ ุ ููููุง ูุง ูุฒูู ููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุชุญููู ุงูุจุฑูุงูุฌ ุจุฃูููู ุญุชู ูู ูุงู ูุญุงุทูุง ุจุงูุฃููุงุณ ุ ูุฐุง ูุฌุจ ุนููู ุฅุถุงูุชู <code>;</code>  ุจุนุฏ ูู ุชุนุจูุฑ.  ุงูุชุนุจูุฑ ุงูุฃุฎูุฑ ูู ุงุณุชุซูุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุนุธูู ุ ูุฐู ูู ูุบุชูุง ุงูุตุบูุฑุฉ.  ูู ููุณ ูุซุงูู.  ุจูุงุก ุงูุฌููุฉ ุชุจุฏู ุฌูููุฉ ุ ูููู ูุฏููุง ุนููุจ.  ููุงู ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงูููููุฏุฉ ุ ูุซู ุงููุงุฆูุงุช ูุงููุตูููุงุช.  ูุญู ูุง ูููู ุงูุชูุงููุง ุจูู ุ ูุธุฑูุง ูุฃููุง ููุณุช ุฃุณุงุณูุฉ ูู ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณููุชุจ ูุญูู ูุบุชูุง. </p><br><a name="Parsing"></a><br><h1 id="prevraschenie-koda-v-ast" style=";text-align:right;direction:rtl">  ุชุญููู ุงูุฑูุฒ ุฅูู AST </h1><br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุญูู ูููุฉ ุตุนุจุฉ.  ูู ุฌููุฑูุง ุ ูุฌุจ ุฃู ุชุฃุฎุฐ ูุทุนุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุชุญูููุง ุฅูู AST (ุดุฌุฑุฉ ุจูุงุก ุฌููุฉ ูุฌุฑุฏุฉ).  AST ูู ุชูุซูู ููุธู ูุจุฑูุงูุฌ ูู ุงูุฐุงูุฑุฉ ุ ูุฌุฑุฏุฉ ูุฃูู ูุง ูุญุชูู ุนูู ูุนูููุงุช ูุงููุฉ ุนู ุงูููุฏ ุ ุจู ูู ูุฌุฑุฏ ุฏูุงูุงุช.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตู AST</a> ูู ุฌุฒุก ูููุตู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏููุง ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">sum = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>(a, b) { a + b; }; print(sum(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ุงููุญูู ุงููุบูู ุงูุฎุงุต ุจูุง ุจุฅูุดุงุก ุดุฌุฑุฉ ููุงุฆู JavaScript: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"prog"</span></span>, <span class="hljs-attr"><span class="hljs-attr">prog</span></span>: [ <span class="hljs-comment"><span class="hljs-comment">//  : { type: "assign", operator: "=", left: { type: "var", value: "sum" }, right: { type: "lambda", vars: [ "a", "b" ], body: { //     "prog",  ,  //     ,  //     . type: "binary", operator: "+", left: { type: "var", value: "a" }, right: { type: "var", value: "b" } } } }, //  : { type: "call", func: { type: "var", value: "print" }, args: [{ type: "call", func: { type: "var", value: "sum" }, args: [ { type: "num", value: 1 }, { type: "num", value: 2 } ] }] } ] }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงูุตุนูุจุฉ ุงูุฑุฆูุณูุฉ ูู ุฅูุดุงุก ุงููุญูู ุงููุบูู ูู ุตุนูุจุฉ ุชูุธูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุดูู ุตุญูุญ.  ูุฌุจ ุฃู ูุนูู ุงููุญูู ุงููุบูู ุนูู ูุณุชูู ุฃุนูู ูู ูุฑุงุกุฉ ุงูุฃุญุฑู ูู ุณูุณูุฉ.  ุจุนุถ ุงูุฅุฑุดุงุฏุงุช ููุญุฏ ูู ุชุนููุฏ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุจ ุงููุซูุฑ ูู ุงูููุฒุงุช ุงูุตุบูุฑุฉ.  ูู ูู ูุธููุฉ ุ ูู ุจุนูู ุดูุก ูุงุญุฏ ููู ุจู ุฌูุฏูุง. </li><li style=";text-align:right;direction:rtl">  ูุง ุชุญุงูู ุงุณุชุฎุฏุงู ุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ ููุชุญููู.  ูู ููุท ูุง ูุนูููู.  ูุฏ ุชููู ูููุฏุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญูู ุงููุนุฌู</a> ุ ูููู ุ ููุจุณุงุทุฉ ุ ูู ูุณุชุฎุฏููุง. </li><li style=";text-align:right;direction:rtl">  ูุง ุชุญุงูู ุชุฎููู.  ุนูุฏูุง ูุง ุชููู ูุชุฃูุฏูุง ูู ููููุฉ ุชุญููู ุดูุก ูุง ุ ูู ุจุทุฑุญ ุงุณุชุซูุงุก ูุญุชูู ุนูู ูููุน ุงูุฎุทุฃ (ุงูุตู ูุงูุนููุฏ). </li></ul><br><p style=";text-align:right;direction:rtl">  ููุญูุงุธ ุนูู ุงูุดูุฑุฉ ุฃุจุณุท ุ ุณููุณููุง ุฅูู ุซูุงุซุฉ ุฃุฌุฒุงุก ุ ูุงูุชู ุจุฏูุฑูุง ุชููุณู ุฅูู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุตุบูุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุงุฑ ุงูุดุฎุตูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฏูู ุงูุฑูุฒ (ุงูุฑููุฒ)</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญูู</a> </li></ul><br><a name="InputStream"></a><br><h1 id="potok-simvolov" style=";text-align:right;direction:rtl">  ุชูุงุฑ ุงูุดุฎุตูุฉ </h1><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุฃุณูู ุฌุฒุก.  ุณูููู ุจุฅูุดุงุก ูุงุฆู ุฏูู ููุซู ุนูููุงุช ูุฑุงุกุฉ ุงูุฃุญุฑู ุจุงูุชุณูุณู ูู ุณูุณูุฉ.  ูุญุชูู ุนูู ุฃุฑุจุน ูุธุงุฆู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>peek()</code> - ุฅุฑุฌุงุน ุงูุญุฑู ุงูุชุงูู ุฏูู ุงุณุชุฎุฑุงุฌูุง ูู ุงูุฏูู. </li><li style=";text-align:right;direction:rtl">  <code>next()</code> - ุฅุฑุฌุงุน ุงูุญุฑู ุงูุชุงูู ุ ุงุณุชุฎุฑุงุฌู ูู ุงูุฏูู. </li><li style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน <code>eof()</code> - <code>true</code> ุฅุฐุง ูู ููู ููุงู ุงููุฒูุฏ ูู ุงูุฃุญุฑู ูู ุงูุฏูู. </li><li style=";text-align:right;direction:rtl">  <code>croak(msg)</code> - ูููู ุงุณุชุซูุงุกู ูุญุชูู ุนูู ุงูุฑุณุงูุฉ ( <code>msg</code> ) ูุงูููุถุน ุงูุญุงูู ูู ุงูุฏูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุงู ุญุงุฌุฉ ุฅูู ุงููุธููุฉ ุงูุฃุฎูุฑุฉ ุจุญูุซ ููููู ุจุจุณุงุทุฉ ุฑูู ุงุณุชุซูุงุก ูุญุชูู ุนูู ูููุน ุงูุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุฅููู ุงูุฑูุฒ ุงููุงูู ููุฐุง ุงููุงุฆู (ุฏุนูุง ูุณููู <code>InputStream</code> ).  ุฅููุง ุตุบูุฑุฉ ุจูุง ูููู ุ ูุฐุง ูุฌุจ ุฃูุง ุชุนุงูู ูู ูุดุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InputStream</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pos = <span class="hljs-number"><span class="hljs-number">0</span></span>, line = <span class="hljs-number"><span class="hljs-number">1</span></span>, col = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">next</span></span> : next, <span class="hljs-attr"><span class="hljs-attr">peek</span></span> : peek, <span class="hljs-attr"><span class="hljs-attr">eof</span></span> : eof, <span class="hljs-attr"><span class="hljs-attr">croak</span></span> : croak, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ch = input.charAt(pos++); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">"\n"</span></span>) line++, col = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> col++; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ch; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">peek</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> input.charAt(pos); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eof</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> peek() == <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">croak</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(msg + <span class="hljs-string"><span class="hljs-string">" ("</span></span> + line + <span class="hljs-string"><span class="hljs-string">":"</span></span> + col + <span class="hljs-string"><span class="hljs-string">")"</span></span>); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃู ูุฐุง ููุณ ูุงุฆููุง ุนุงุฏููุง (ูุชู ุฅูุดุงุคู ุนุจุฑ <code>new</code> ).  ููุญุตูู ุนูู ูุฐุง ุงููุงุฆู ุ ุชุญุชุงุฌ ุฅูู: <code>var stream = InputStream(string)</code> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณูู ููุชุจ ุงููุณุชูู ุงูุชุงูู ูู ุงูุชุฌุฑูุฏ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฏูู ุงูุฑูุฒ (ุงูุฑููุฒ)</a> . </p><br><a name="TokenStream"></a><br><h1 id="potok-tokenov-leksem" style=";text-align:right;direction:rtl">  ุชุฏูู ุงูุฑูุฒ (ุงูุฑููุฒ) </h1><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ุงูุฑูุฒ ุงููููุฒ (lexer) ุฏูููุง ูู ุงูุฃุญุฑู ููุนูุฏ ูุงุฆููุง ูู ููุณ ุงููุงุฌูุฉ ุ ููู ููู ุงูุฅุฑุฌุงุน ููุธุงุฆู <code>peek()</code> / <code>next()</code> ุณุชููู ุฑููุฒูุง.  ุงูุฑูุฒ ุงููููุฒ ูู ููุน ุฐู ุฎุงุตูุชูู: <code>type</code> ุ <code>value</code> .  ูููุง ููู ุจุนุถ ุฃูุซูุฉ ุงูุฑููุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"punc"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">"("</span></span> } <span class="hljs-comment"><span class="hljs-comment">// . : , ,     . . { type: "num", value: 5 } //  { type: "str", value: "Hello World!" } //  { type: "kw", value: "lambda" } //   { type: "var", value: "a" } //  { type: "op", value: "!=" } // </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุทู ูุณุงูุฉ ุจูุถุงุก (ูุณุงุญุฉ ุ ุนูุงูุฉ ุชุจููุจ ุ ููุงุตู ุงูุฃุณุทุฑ) ูุงูุชุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุชุงุจุฉ ุฑูุฒ ูููุฒ ุ ูุญุชุงุฌ ุฅูู ุฅููุงุก ูุธุฑุฉ ูุงุญุตุฉ ุนูู ูุบุชูุง.  ุชุชูุซู ุงูููุฑุฉ ูู ููุงุญุธุฉ ุฃูู ุจูุงุกู ุนูู ุงูุดุฎุตูุฉ ุงูุญุงููุฉ ( <code>input.peek()</code> ) ุ ูููููุง ุชุญุฏูุฏ ุงูุฑูุฒ ุงููููุฒ ุงูุฐู ูุฌุจ ูุฑุงุกุชู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุชุฎุทู ูุณุงูุฉ ุจูุถุงุก. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง <code>input.eof()</code> ุ ุซู ุงูุนูุฏุฉ <code>null</code> . </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุญุฑููุง <code>#</code> ุ ููู ุจุชุฎุทู ุฌููุน ุงูุฃุญุฑู ุฅูู ููุงูุฉ ุงูุณุทุฑ (ูุฃุนุฏ ุงูุฑูุฒ ุงููููุฒ ุงูุชุงูู). </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ูุฐู ุนูุงูุฉ ุงูุชุจุงุณ ุ ูุงูุฑุฃ ุงูุณูุณูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฐุง ุฑูููุง ุ ูุงูุฑุฃ ุงูุฑูู. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุฎุทุงุจูุง ุ ูุณููุฑุฃ ุงููููุฉ ููุฑุฌุน ุฅูุง ุงููุนุฑูู ุฃู ุงููููุฉ ุงูุฃุณุงุณูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฐุง ุฃุญุฏ ุงูุฃุญุฑู ุงูุฎุงุตุฉ ุ ูุงุฑุฌุน ุงูุฑูุฒ ุงููููุฒ ุงูููุงุจู. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฐุง ุฃุญุฏ ุฑููุฒ ุงููุดุบููู ุ ูุฅููุง ูุฑุฌุน ุงูุฑูุฒ ุงููููุฒ ุงูููุงุจู. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ูุชู ุชุทุจูู ุฃู ููุง ุณุจู ุ <code>input.croak()</code> ุจุฑูู ุงุณุชุซูุงุก ุจุงุณุชุฎุฏุงู <code>input.croak()</code> . </li></ul><br><p style=";text-align:right;direction:rtl">  ุณูููู ูุฏููุง ูุธููุฉ <code>read_next</code> ุ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ูู <code>read_next</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_next</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ read_while(is_whitespace); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (input.eof()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ch = input.peek(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">"#"</span></span>) { skip_comment(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_next(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">'"'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_string(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_digit(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_number(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_id_start(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_ident(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"punc"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : input.next() }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_op_char(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"op"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : read_while(is_op_char) }; input.croak(<span class="hljs-string"><span class="hljs-string">"Can't handle character: "</span></span> + ch); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ููููู ุฑุคูุฉ ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุฅุถุงููุฉ ุงูุชู ุชูุฑุฌุน ุฃููุงุนูุง ูุฎุชููุฉ ูู ุงูุฑููุฒ ุ ูุซู <code>read_string()</code> ุ <code>read_number()</code> ุ ููุง ุฅูู ุฐูู ... ูุชู ูุถุนูุง ูู ูุธุงุฆู ูููุตูุฉ ุ ุจุญูุซ ุชุจุฏู ุงูุดูุฑุฉ ุฃูุซุฑ ุจุณุงุทุฉ ูุฌูุงููุง. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ูู ุงููุซูุฑ ููุงูุชูุงู ุฃููุง ูุง ูุชุฎูุต ูู ุฌููุน ุงูุฑููุฒ ูุฑุฉ ูุงุญุฏุฉ: ูู ูู ูุฑุฉ ูุทูุจ ูููุง ุงููุญูู ุงููุบูู ุงูุฑูุฒ ุงูุชุงูู ุ ุณููุฑุฃ ุฑูุฒูุง ูุงุญุฏูุง.  ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ ูุง ุ ูู ููุฑุฃ ุฌููุน ุงูุฃุญุฑู. </p><br><p style=";text-align:right;direction:rtl">  <code>read_ident()</code> ุฌููุน ุงูุฃุญุฑู ูู ุตู ูุฏ ุชููู ุฌุฒุกูุง ูู ุงููุนุฑู ( <code>is_id()</code> ).  ูุฌุจ ุฃู ูุจุฏุฃ ุงููุนุฑู ุจุงูุญุฑู ุฃู <code>ฮป</code> ุฃู <code>_</code> ุ ููุฏ ูุญุชูู ุนูู ููุณ ุงูุฃุญุฑู ุฃู ุงูุฃุฑูุงู ุฃู ุฃู ูู: <code>?!-&lt;&gt;=</code> .  ููุชุฑุชุจ ุนูู ุฐูู ุฃูู ูู ูุชู ูุฑุงุกุฉ <code>foo-bar</code> ุดูู ุซูุงุซุฉ ุฑููุฒ ุ ูููู <code>var</code> ูุงุญุฏ ( <code>var</code> token).  ูู ูุฐุง ุถุฑูุฑู ุญุชู ุชููู ูุงุฏุฑูุง ุนูู ุชุญุฏูุฏ ุงููุธุงุฆู ุจุฃุณูุงุก ูุซู <code>is-pair?</code>  ุฃู <code>string&gt;=</code> (ุขุณู ุ ูุฐุง ููุณุจูุฑ ูู). </p><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ <code>read_ident()</code> ุจุงูุชุญูู ููุง ุฅุฐุง ูุงู ููุงู ูุนุฑู ูู ูุงุฆูุฉ ุงููููุงุช ุงูุฃุณุงุณูุฉ ุงููุนุฑููุฉ ุ ูุฅุฐุง ูุงู ููุงู ุ ูุณูุชู ุฅุฑุฌุงุน ุฑูุฒ ูููุฒ ุจุฏูุงู ูู ุฑูุฒ ูููุฒ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุนุชูุฏ ุฃู ุงูุดูุฑุฉ ุชุชุญุฏุซ ุนู ููุณูุง ุ ูุฐูู ููุง ุฑูุฒ ูููุฒ ุฌุงูุฒ ููุบุชูุง: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ูุงูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TokenStream</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> current = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> keywords = <span class="hljs-string"><span class="hljs-string">" if then else lambda ฮป true false "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">next</span></span> : next, <span class="hljs-attr"><span class="hljs-attr">peek</span></span> : peek, <span class="hljs-attr"><span class="hljs-attr">eof</span></span> : eof, <span class="hljs-attr"><span class="hljs-attr">croak</span></span> : input.croak }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_keyword</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> keywords.indexOf(<span class="hljs-string"><span class="hljs-string">" "</span></span> + x + <span class="hljs-string"><span class="hljs-string">" "</span></span>) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_digit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-regexp"><span class="hljs-regexp">/[0-9]/i</span></span>.test(ch); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_id_start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-regexp"><span class="hljs-regexp">/[a-zฮป_]/i</span></span>.test(ch); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_id</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> is_id_start(ch) || <span class="hljs-string"><span class="hljs-string">"?!-&lt;&gt;=0123456789"</span></span>.indexOf(ch) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_op_char</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"+-*/%=&amp;|&lt;&gt;!"</span></span>.indexOf(ch) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_punc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">",;(){}[]"</span></span>.indexOf(ch) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_whitespace</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">" \t\n"</span></span>.indexOf(ch) &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_while</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">predicate</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof() &amp;&amp; predicate(input.peek())) str += input.next(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_number</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> has_dot = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> number = read_while(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">"."</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (has_dot) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; has_dot = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> is_digit(ch); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(number) }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_ident</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id = read_while(is_id); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : is_keyword(id) ? <span class="hljs-string"><span class="hljs-string">"kw"</span></span> : <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : id }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_escaped</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">end</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> escaped = <span class="hljs-literal"><span class="hljs-literal">false</span></span>, str = <span class="hljs-string"><span class="hljs-string">""</span></span>; input.next(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof()) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ch = input.next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (escaped) { str += ch; escaped = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">"\\"</span></span>) { escaped = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == end) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { str += ch; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_string</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"str"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: read_escaped(<span class="hljs-string"><span class="hljs-string">'"'</span></span>) }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skip_comment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ read_while(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ch != <span class="hljs-string"><span class="hljs-string">"\n"</span></span> }); input.next(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_next</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ read_while(is_whitespace); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (input.eof()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ch = input.peek(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">"#"</span></span>) { skip_comment(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_next(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch == <span class="hljs-string"><span class="hljs-string">'"'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_string(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_digit(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_number(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_id_start(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> read_ident(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"punc"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : input.next() }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_op_char(ch)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"op"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : read_while(is_op_char) }; input.croak(<span class="hljs-string"><span class="hljs-string">"Can't handle character: "</span></span> + ch); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">peek</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> current || (current = read_next()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = current; current = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok || read_next(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">eof</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> peek() == <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }</code> </pre> </div></div><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชููู ุงูุฏุงูุฉ <code>next()</code> ุฏุงุฆููุง ุจุงุณุชุฏุนุงุก <code>read_next()</code> ุ ูุฃูู ูุฏ ูููู ููุงู ุฑูุฒ ูููุฒ ุชูุช ูุฑุงุกุชู ูู ูุจู (ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>peek()</code> ).  ููุฐุง ุ ูุฏููุง ูุชุบูุฑ <code>current</code> ูุญุชูู ุนูู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฏุนู ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ ููุท ูู ุงูุชุฏููู ุงูุนุงุฏู (1E5 ุ 0x ุ ุฅูุฎ. ุบูุฑ ูุฏุนูู).  ูููู ุฅุฐุง ุฃุฑุฏูุง ุฅุถุงูุฉ ุฏุนููู ุ <code>read_number()</code> ููุท <code>read_number()</code> . </li><li style=";text-align:right;direction:rtl">  ุจุฎูุงู JavaScript ุ ูุฅู ุงูุฃุญุฑู ุงููุญูุฏุฉ ุงูุชู ูุง ูููู ุฅูุบุงุก ุฅุฒุงูุชูุง ูู ุณูุณูุฉ ูู ุนูุงูุฉ ุงูุชุจุงุณ ู ุดุฑุทุฉ ูุงุฆูุฉ ุนูุณูุฉ.  ูููู ุฃู ุชุญุชูู ุงูุฎุทูุท ุนูู ููุงุตู ุฃุณุทุฑ ูุนูุงูุงุช ุชุจููุจ ูุฃู ุดูุก ุขุฎุฑ.  ูุง ููุณุฑ ุงููุฌููุนุงุช ุงูููุงุณูุฉ ูุซู <code>\n</code> ุ <code>\t</code> ุ ุฅูุฎ ... ูู ุงูุณูู ุฌุฏูุง ุฅุนุงุฏุฉ ( <code>read_string()</code> ). </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฏููุง ุงูุขู ุฃุฏูุงุช ูููุฉ ููุชุงุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุญูู ุงููุบูู</a> ุจุณูููุฉ ุ ููู ุฃููุงู ุฃูุตู ุจุงููุธุฑ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตู AST</a> . </p><br><a name="AST"></a><br><h1 id="opisanie-ast" style=";text-align:right;direction:rtl">  AST ุงููุตู </h1><br><p style=";text-align:right;direction:rtl">  ููุง ูู ููุถุญ ุฃุนูุงู ุ ุณูููู ุงููุญูู ุงููุบูู ุจุจูุงุก ูููู ููุถุญ ุฏูุงูุงุช ุงูุจุฑูุงูุฌ.  ูุชููู AST ูู ุงูุนูุฏ.  ูู ุนูุฏุฉ ูู ูุงุฆู JavaScript ุนุงุฏู ูุญุชูู ุนูู ุฎุงุตูุฉ <code>type</code> ุชุญุฏุฏ ููุน ุงูุนูุฏุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุนูููุงุช ุฅุถุงููุฉ ุชุนุชูุฏ ุนูู ุงูููุน. </p><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ููุน </th><th>  ูููู </th></tr></thead><tbody><tr><td>  ุนุฏุฏ </td><td> <code>{ type: "num", value: NUMBER }</code> </td> </tr><tr><td>  ุดุงุฑุน </td><td> <code>{ type: "str", value: STRING }</code> </td> </tr><tr><td>  ููุทูู </td><td> <code>{ type: "bool", value: true or false }</code> </td> </tr><tr><td>  ูุงุฑ </td><td> <code>{ type: "var", value: NAME }</code> </td> </tr><tr><td>  ูุงูุฏุง </td><td> <code>{ type: "lambda", vars: [ NAME... ], body: AST }</code> </td> </tr><tr><td>  ุงุชุตู </td><td> <code>{ type: "call", func: AST, args: [ AST... ] }</code> </td> </tr><tr><td>  ูู </td><td> <code>{ type: "if", cond: AST, then: AST, else: AST }</code> </td> </tr><tr><td>  ุชุนููู </td><td> <code>{ type: "assign", operator: "=", left: AST, right: AST }</code> </td> </tr><tr><td>  ุซูุงุฆู </td><td> <code>{ type: "binary", operator: OPERATOR, left: AST, right: AST }</code> </td> </tr><tr><td>  ุจุฑูุบ </td><td> <code>{ type: "prog", prog: [ AST... ] }</code> </td> </tr><tr><td>  ุฏุน </td><td> <code>{ type: "let", vars: [ VARS... ], body: AST }</code> </td> </tr></tbody></table><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃูุซูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><h5 id="chisla-num" style=";text-align:right;direction:rtl">  ุงูุฃุฑูุงู ( <code>num</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-number"><span class="hljs-number">123.5</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">123.5</span></span> }</code> </pre> <br><h5 id="stroki-str" style=";text-align:right;direction:rtl">  ุฎุทูุท ( <code>str</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"Hello World"</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"str"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span> }</code> </pre> <br><h5 id="true-i-false-bool" style=";text-align:right;direction:rtl">  <code>true</code> <code>bool</code> ( <code>bool</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">true false</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"bool"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"bool"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }</code> </pre> <br><h5 id="identifikatory-var" style=";text-align:right;direction:rtl">  ูุนุฑูุงุช ( <code>var</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">foo</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">"foo"</span></span> }</code> </pre> <br><h5 id="funkcii-lambda" style=";text-align:right;direction:rtl">  ูุธุงุฆู ( <code>lambda</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> (x) <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-comment"><span class="hljs-comment">#  ฮป (x) 10</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"lambda"</span></span>, <span class="hljs-attr"><span class="hljs-attr">vars</span></span>: [ <span class="hljs-string"><span class="hljs-string">"x"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">body</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูููู ูุงุญููุง ุจุฅุถุงูุฉ <code>name</code> ูุนููุฉ ุงุฎุชูุงุฑู ูุฏุนู ุงููุธุงุฆู ุจุงุณู ุ ููู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงููุญูู ุงููุบูู ูู ูุฏุนููุง. </p><br><h5 id="vyzovy-funkciy-call" style=";text-align:right;direction:rtl">  ุงูููุงููุงุช ุงููุธูููุฉ ( <code>call</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">foo(a, <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"call"</span></span>, <span class="hljs-string"><span class="hljs-string">"func"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"foo"</span></span> }, <span class="hljs-string"><span class="hljs-string">"args"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> } ] }</code> </pre> <br><h5 id="vetvleniya-if" style=";text-align:right;direction:rtl">  ุงููุฑูุน ( <code>if</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo then bar <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> baz</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-string"><span class="hljs-string">"cond"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"foo"</span></span> }, <span class="hljs-string"><span class="hljs-string">"then"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span> }, <span class="hljs-string"><span class="hljs-string">"else"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"baz"</span></span> } }</code> </pre> <br><h6 id="bez-else" style=";text-align:right;direction:rtl">  ุจุฏูู <code>else</code> : </h6><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> foo then bar</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-string"><span class="hljs-string">"cond"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"foo"</span></span> }, <span class="hljs-string"><span class="hljs-string">"then"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"bar"</span></span> } }</code> </pre> <br><h5 id="prisvaivanie-assign" style=";text-align:right;direction:rtl">  ุงููููุฉ: </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">a = <span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"assign"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"="</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> } }</code> </pre> <br><h5 id="binarnye-operatory-binary" style=";text-align:right;direction:rtl">  ุงูุนูุงูู <code>binary</code> ( <code>binary</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">x + y * z</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"+"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"x"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"y"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"z"</span></span> } } }</code> </pre> <br><h5 id="posledovtelnosti-prog" style=";text-align:right;direction:rtl">  ูุชูุงููุงุช ( <code>prog</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">{ a = <span class="hljs-number"><span class="hljs-number">5</span></span>; b = a * <span class="hljs-number"><span class="hljs-number">2</span></span>; a + b; }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"prog"</span></span>, <span class="hljs-string"><span class="hljs-string">"prog"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"assign"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"="</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"assign"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"="</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"b"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> } } }, { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"+"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"b"</span></span> } } ] }</code> </pre> <br><h5 id="peremennye-zaklyuchennye-v-bloki-let" style=";text-align:right;direction:rtl">  ุงููุชุบูุฑุงุช ุงููุบููุฉ ูู ูุชู ( <code>let</code> ): </h5><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">let (a = <span class="hljs-number"><span class="hljs-number">10</span></span>, b = a * <span class="hljs-number"><span class="hljs-number">10</span></span>) { a + b; }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"let"</span></span>, <span class="hljs-string"><span class="hljs-string">"vars"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"def"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> } }, { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"def"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"num"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> } } } ], <span class="hljs-string"><span class="hljs-string">"body"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-string"><span class="hljs-string">"operator"</span></span>: <span class="hljs-string"><span class="hljs-string">"+"</span></span>, <span class="hljs-string"><span class="hljs-string">"left"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"a"</span></span> }, <span class="hljs-string"><span class="hljs-string">"right"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"var"</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"b"</span></span> } } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฏุนู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงููุญูู ุงููุบูู ูุฐุง ุงูููุน ูู ุงูุนูุฏุฉ ุ ุณูุถููู ูุงุญููุง. </p></div></div><br><a name="Parser"></a><br><h1 id="parser" style=";text-align:right;direction:rtl">  ูุญูู </h1><br><p style=";text-align:right;direction:rtl">  ุณูููู ุงููุญูู ุจุจูุงุก ุงูุดุฌุฑุฉ ุงูููุตููุฉ ุฃุนูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุจูุถู ุงูุนูู ุงูุฐู ูููุง ุจู ูู ุงูุฑูุฒ ุงููููุฒ ุ ูุนูู ุงููุญูู ุงููุบูู ูุน ูุฌููุนุฉ ูู ุงูุฑููุฒ ุ ุจุฏูุงู ูู ูุฌููุนุฉ ูู ุงูุฃุญุฑู.  ูุง ูุฒุงู ููุงู ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงูุฅุถุงููุฉ ููุง ูุชุจุณูุท ุงููููู.  ุณูุชุญุฏุซ ุนู ุฃูููุง.  ููุจุฏุฃ ุจูุธููุฉ ูุญูู ุนุงููุฉ ุงููุณุชูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_lambda</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"lambda"</span></span>, <span class="hljs-attr"><span class="hljs-attr">vars</span></span>: delimited(<span class="hljs-string"><span class="hljs-string">"("</span></span>, <span class="hljs-string"><span class="hljs-string">")"</span></span>, <span class="hljs-string"><span class="hljs-string">","</span></span>, parse_varname), <span class="hljs-attr"><span class="hljs-attr">body</span></span>: parse_expression() }; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุชู ุงุณุชุฏุนุงุก ูุฐู ุงููุธููุฉ ุนูุฏูุง ุชููู ุงููููุฉ ุงูุฑุฆูุณูุฉ <code>lambda</code> ูุฃุฎูุฐุฉ ุจุงููุนู ูู ุณุงุญุฉ ุงูุฑูุฒ ุงููููุฒ ุ ูุฐูู ุนูููุง ููุท ุฃุฎุฐ ุฃุณูุงุก ุงููุณุงุฆุท.  ูููู ูุธุฑูุง ููุฌูุฏูุง ุจูู ููุณูู ูููุตููุฉ ุจููุงุตู ุ ูุณูููู ุจุฐูู ุจุงุณุชุฎุฏุงู ุงููุธููุฉ <code>delimited</code> ุ ูุงูุชู ุชุฃุฎุฐ ุงููุณูุทุงุช ุงูุชุงููุฉ: <code>start</code> ุ <code>stop</code> ุ <code>separator</code> ุ ูุธููุฉ <code>parser</code> ุ ุงูุชู ุชููู ุจุชูุฒูุน ูู ุนูุตุฑ ุนูู ุญุฏุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ <code>parse_varname</code> ุ ูุงูุชู ุชููู ุฎุทุฃ ุฅุฐุง ูุงุญุธุช ุดูุฆูุง ูุง ูุดุจู ุงููุชุบูุฑ.  ูุต ุงูุฏุงูุฉ ูู ุชุนุจูุฑ ุ ูุฐูู ูุญุตู ุนููู ูุน <code>parse_expression</code> . </p><br><p style=";text-align:right;direction:rtl">  ุงููุธููุฉ <code>delimited</code> ูู ุงููุณุชูู ุงูุฃุฏูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delimited</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">start, stop, separator, parser</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = [], first = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; skip_punc(start); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(stop)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (first) first = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> skip_punc(separator); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(stop)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-comment"><span class="hljs-comment">//      a.push(parser()); } skip_punc(stop); return a; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุฅูู ูุณุชุฎุฏู ูุธุงุฆู ุฃูุซุฑ: <code>is_punc</code> ู <code>skip_punc</code> .  ุงูุฃูู ูุนูุฏ <code>true</code> ุฅุฐุง ูุงู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ูู ุนูุงูุฉ ุชุฑููู ูุนูููุฉ (ุจุฏูู ุงุณุชุฎุฑุงุฌูุง) ุ ุจูููุง <code>skip_punc</code> ููุง ุฅุฐุง ูุงู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ูู ุนูุงูุฉ ุชุฑููู ูุนูููุฉ <code>skip_punc</code> (ุฃู ูุฑูู ุงุณุชุซูุงุกู ุจุฎูุงู ุฐูู). </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุฃู ุงููุธููุฉ ุงูุชู ุชูุฒุน ุงูุจุฑูุงูุฌ ุจุงููุงูู ูู ุฃุจุณุทูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_toplevel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prog = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof()) { prog.push(parse_expression()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!input.eof()) skip_punc(<span class="hljs-string"><span class="hljs-string">";"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"prog"</span></span>, <span class="hljs-attr"><span class="hljs-attr">prog</span></span>: prog }; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ูุฏููุง ุชุนุจูุฑุงุช ููุท ุ ูุฅููุง ุจุจุณุงุทุฉ ูุฏุนู <code>parse_expression()</code> ูููุฑุฃ ุงูุชุนุจูุฑุงุช ุญุชู ููุฑุฃ ูู ุดูุก.  ุจุงุณุชุฎุฏุงู <code>skip_punc(";")</code> ุ ูุญู ููุนู <code>;</code>  ุฅูุฒุงูู ุจุนุฏ ูู ุชุนุจูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ุจุณูุท ุขุฎุฑ ูู <code>parse_if()</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_if</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ skip_kw(<span class="hljs-string"><span class="hljs-string">"if"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cond = parse_expression(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_punc(<span class="hljs-string"><span class="hljs-string">"{"</span></span>)) skip_kw(<span class="hljs-string"><span class="hljs-string">"then"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> then = parse_expression(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ret = { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-attr"><span class="hljs-attr">cond</span></span>: cond, <span class="hljs-attr"><span class="hljs-attr">then</span></span>: then }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"else"</span></span>)) { input.next(); ret.else = parse_expression(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ret; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชููู ุจุชุฎุทู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>if</code> (ูุชู ุงุณุชุซูุงุก ุฅุฐุง ูุงูุช ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ููุณุช ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>if</code> ) ุ ุชูุฑุฃ ุงูุดุฑุท ุจุงุณุชุฎุฏุงู <code>parse_expression()</code> .  ุฅุฐุง ูุงู ุงูุฑูุฒ <code>{</code> ูุง ูุฐูุจ ุฅูู ุฃุจุนุฏ ูู ุฐูู ุ ูุณุชููู ุงููููุฉ ุงูุฃุณุงุณูุฉ ุงููุทููุจุฉ (ุจูุงุก ุงูุฌููุฉ ูุง ุชุจุฏู ุฌูุฏุฉ ุจุฏูููุง).  ุงููุฑูุน ูุฌุฑุฏ ุชุนุจูุฑุงุช ุ ูุฐูู ูุณุชุฎุฏู <code>parse_expression()</code> ูุฑุฉ ุฃุฎุฑู ููู.  ุงููุฑุน <code>else</code> ุงุฎุชูุงุฑู ุ ูุฐูู ูุชุญูู ุฃููุงู ูู ูุฌูุฏ ุงููููุฉ ุงูุฑุฆูุณูุฉ ูุจู ุชุญููููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุน ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุตุบูุฑุฉ ุ ูููููุง ุฃู ูุฌุนู ุงูููุฏ ุจุณูุทูุง.  ููุฏ ูุชุจูุง ุงููุญูู ุงููุบูู ุชูุฑูุจูุง ููุง ูู ุฃููุง ุงุณุชุฎุฏููุง ูุบุฉ ุนุงููุฉ ุงููุณุชูู ุฎุตูุตูุง ูุชุญููู ุจูุงุก ุงูุฌููุฉ.  ูู ูุฐู ุงููุธุงุฆู "ูุชูุฑุฑุฉ ุจุดูู ูุชุจุงุฏู" ุ ุฃู ุ ูุฏููุง <code>parse_atom()</code> ุ ูุงูุชู ุ ุงุนุชูุงุฏูุง ุนูู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ุ ุชุณุชุฏุนู ูุธุงุฆู ุฃุฎุฑู.  ูุงุญุฏ ูููู ูู <code>parse_if()</code> (ูุณูู ุนูุฏูุง ูููู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู ูู <code>if</code> ) ููู ุจุฏูุฑู ูุณุชุฏุนู <code>parse_expression()</code> .  ููู <code>parse_expression()</code> <code>parse_atom()</code> .  ูุง ููุฌุฏ ุฃู ุชูุฑุงุฑ ูุงููุงุฆู ูุฃู ุฅุญุฏู ุงููุธุงุฆู ุชููู ุฏุงุฆููุง ุจุงุณุชุฎุฑุงุฌ ุฑูุฒ ูุงุญุฏ ุนูู ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ููุทูู ุนูู ูุฐุง ุงูููุน ูู ุทุฑููุฉ ุงูุชุญููู ุทุฑููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุจูุท ุงูุนูุฏูุฉ</a> ุ ููู ุงููุงูุน ุ ุฃุณูู ุทุฑููุฉ ูููุชุงุจุฉ. </p><br><h3 id="bolee-nizkiy-uroven-parse_atom-i-parse_expression" style=";text-align:right;direction:rtl">  ุงููุณุชูู ุงูุฃุฏูู: <code>parse_atom()</code> ู <code>parse_expression()</code> </h3><br><p style=";text-align:right;direction:rtl">  <code>parse_atom()</code> ุงูุฏุงูุฉ <code>parse_atom()</code> ูุธููุฉ ุฃุฎุฑู ุ ุงุนุชูุงุฏูุง ุนูู ุงูุฑูุฒ ุงููููุฒ ุงูุญุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_atom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_call(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(<span class="hljs-string"><span class="hljs-string">"("</span></span>)) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> exp = parse_expression(); skip_punc(<span class="hljs-string"><span class="hljs-string">")"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> exp; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(<span class="hljs-string"><span class="hljs-string">"{"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_prog(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"if"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_if(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"true"</span></span>) || is_kw(<span class="hljs-string"><span class="hljs-string">"false"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_bool(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"lambda"</span></span>) || is_kw(<span class="hljs-string"><span class="hljs-string">"ฮป"</span></span>)) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_lambda(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = input.next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tok.type == <span class="hljs-string"><span class="hljs-string">"var"</span></span> || tok.type == <span class="hljs-string"><span class="hljs-string">"num"</span></span> || tok.type == <span class="hljs-string"><span class="hljs-string">"str"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok; unexpected(); }); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุฑู ุดุฑูุญุฉ ุงููุชุญ ุ ูุฌุจ ุฃู ูุฐูุจ ุชุนุจูุฑ ุงูุฃููุงุณ ุ ูุจุงูุชุงูู ุ ุชุฎุทู ุงูููุณ ุ ุชููู ุงูุฏุงูุฉ ุจุงุณุชุฏุนุงุก <code>parse_expression()</code> ูุชุชููุน ุชุฎุทู ุดุฑูุญุฉ ุงูุฅุบูุงู ุจุนุฏ ุฐูู.  ุฅุฐุง ุดุงูุฏุช ููุนูุง ูุง ูู ุงููููุงุช ุงูุฑุฆูุณูุฉ ุ ูุณุชููู ุจุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูููุงุจูุฉ.  ุฅุฐุง ุฑุฃุช ุซุงุจุชูุง ุฃู ูุนุฑููุง ุ ููู ุจุฅุนุงุฏุชู ููุง ูู.  ูุฅุฐุง ูู ูุญุฏุซ ุฃู ุดูุก ุ ูุฅูู ูุณุชุฏุนู <code>unexpected()</code> ุ ูุงูุฐู ูููู ุงุณุชุซูุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุฑู <code>{</code> ุ ุชุณุชุฏุนู <code>parse_prog</code> ูุชุญููู ุชุณูุณู ุงูุชุนุจูุฑุงุช.  ุฃูุถูุง ุ ูููู <code>parse_prog</code> ุจุชุญุณูู ุจุณูุท: ุฅุฐุง ูู ุชูู ููุงู ุชุนุจูุฑุงุช ุจูู <code>{</code> ู <code>}</code> ุ ูุณูู ุชูุฑุฌุน <code>false</code> ุ ุฅุฐุง ูุงู ููุงู ุชุนุจูุฑ ูุงุญุฏ ููุท ุ ูุณูู ุชูุฑุฌุนู ููุท.  ุฎูุงู ุฐูู ุ ูุชู ุฅุฑุฌุงุน ุนูุฏุฉ <code>prog</code> ูุน ูุฌููุนุฉ ูู ุงูุชุนุจูุฑุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     FALSE   , //     . var FALSE = { type: "bool", value: false }; function parse_prog() { var prog = delimited("{", "}", ";", parse_expression); if (prog.length == 0) return FALSE; if (prog.length == 1) return prog[0]; return { type: "prog", prog: prog }; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููุง ูู ูุธููุฉ <code>parse_expression()</code> .  ุจุฎูุงู <code>parse_atom()</code> ุ ูุฅูู ุณูุชู ุชุญููู ุฃูุจุฑ ุนุฏุฏ ูููู ูู ุงูุชุนุจูุฑุงุช ุจุงุณุชุฎุฏุงู <code>maybe_binary()</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_expression</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_call(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_binary(parse_atom(), <span class="hljs-number"><span class="hljs-number">0</span></span>); }); }</code> </pre> <br><h3 id="funkcii-maybe_" style=";text-align:right;direction:rtl">  ูุธุงุฆู <code>maybe_*</code> </h3><br><p style=";text-align:right;direction:rtl">  ุชุชุญูู ูุฐู ุงููุธุงุฆู ููุง ูุฃุชู ุจุนุฏ ุงูุชุนุจูุฑ ูุชูุฑุฑ ูุง ุฅุฐุง ูุงูุช ุณุชูุชู ุงูุชุนุจูุฑ ูู ุงูุนูุฏุฉ ุงูุฎุงุตุฉ ุจู ุฃู ุชุนูุฏู ููุง ูู. </p><br><p style=";text-align:right;direction:rtl">  ุชููู <code>maybe_call()</code> ุจุณูุทุฉ ููุบุงูุฉ: ููู ุชุณุชูุจู ุฏุงูุฉ ุชููู ุจุชูุฒูุน ุงูุชุนุจูุฑ ุงูุญุงูู ุ ูุฅุฐุง ูุงุฌูุช <code>(</code> ุจุนุฏ ุงูุชุนุจูุฑ ุ ูุฅููุง ุชูุชู ูู ููุท <code>call</code> . ูุงุญุธ ูุฏู ููุงุฆูุฉ <code>delimited()</code> ูุชุญููู ูุงุฆูุฉ ุงููุณุงุฆุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maybe_call</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">expr</span></span></span><span class="hljs-function">) </span></span>{ expr = expr(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> is_punc(<span class="hljs-string"><span class="hljs-string">"("</span></span>) ? parse_call(expr) : expr; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_call</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"call"</span></span>, <span class="hljs-attr"><span class="hljs-attr">func</span></span>: func, <span class="hljs-attr"><span class="hljs-attr">args</span></span>: delimited(<span class="hljs-string"><span class="hljs-string">"("</span></span>, <span class="hljs-string"><span class="hljs-string">")"</span></span>, <span class="hljs-string"><span class="hljs-string">","</span></span>, parse_expression) }; }</code> </pre> <br><h3 id="prioritet-operatorov" style=";text-align:right;direction:rtl">  ุฃููููุฉ ุงููุดุบู </h3><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู <code>maybe_binary(left, my_prec)</code> ูุฏูุฌ ุงูุชุนุจูุฑุงุช ูุซู <code>1 + 2 * 3</code> .   , ,    ,     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> PRECEDENCE = { <span class="hljs-string"><span class="hljs-string">"="</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"||"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"&amp;&amp;"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&gt;="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"=="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"!="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"+"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"-"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"*"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"/"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"%"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, };</code> </pre> <br><p style=";text-align:right;direction:rtl">   ,  <code>*</code> "",  <code>+</code> , ,  <code>1 + 2 * 3</code>    <code>(1 + (2 * 3))</code>  <code>((1 + 2) * 3)</code> . </p><br><p style=";text-align:right;direction:rtl">   ,      ( <code>read_atom</code> )     <code>maybe_binary()</code> ( ),     ( <code>my_prec</code> ).  <code>maybe_binary</code>  ,   .     ,     ,     . </p><br><p style=";text-align:right;direction:rtl">   ,    ,   ,         <code>binary</code> ,  ,       ,      (*): </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maybe_binary</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">left, my_prec</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = is_op(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tok) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> his_prec = PRECEDENCE[tok.value]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (his_prec &gt; my_prec) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> right = maybe_binary(parse_atom(), his_prec) <span class="hljs-comment"><span class="hljs-comment">// (*); var binary = { type : tok.value == "=" ? "assign" : "binary", operator : tok.value, left : left, right : right }; return maybe_binary(binary, my_prec); } } return left; }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ,  ,     ,    <code>maybe_binary</code> ,    ( <code>my_prec</code> ),  ,      ,     .  - ,    (,        ),     . </p><br><p style=";text-align:right;direction:rtl"> ,   ,  <code>my_prec</code>   0,         <code>binary</code> ( <code>assign</code>   <code>=</code> ). </p><br><p style=";text-align:right;direction:rtl">      ,    . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> FALSE = { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"bool"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> PRECEDENCE = { <span class="hljs-string"><span class="hljs-string">"="</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"||"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"&amp;&amp;"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"&gt;="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"=="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"!="</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">"+"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"-"</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">"*"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"/"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"%"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_toplevel(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_punc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = input.peek(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok &amp;&amp; tok.type == <span class="hljs-string"><span class="hljs-string">"punc"</span></span> &amp;&amp; (!ch || tok.value == ch) &amp;&amp; tok; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_kw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">kw</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = input.peek(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok &amp;&amp; tok.type == <span class="hljs-string"><span class="hljs-string">"kw"</span></span> &amp;&amp; (!kw || tok.value == kw) &amp;&amp; tok; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_op</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">op</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = input.peek(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok &amp;&amp; tok.type == <span class="hljs-string"><span class="hljs-string">"op"</span></span> &amp;&amp; (!op || tok.value == op) &amp;&amp; tok; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skip_punc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ch</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(ch)) input.next(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> input.croak(<span class="hljs-string"><span class="hljs-string">"Expecting punctuation: \""</span></span> + ch + <span class="hljs-string"><span class="hljs-string">"\""</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skip_kw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">kw</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(kw)) input.next(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> input.croak(<span class="hljs-string"><span class="hljs-string">"Expecting keyword: \""</span></span> + kw + <span class="hljs-string"><span class="hljs-string">"\""</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">skip_op</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">op</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_op(op)) input.next(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> input.croak(<span class="hljs-string"><span class="hljs-string">"Expecting operator: \""</span></span> + op + <span class="hljs-string"><span class="hljs-string">"\""</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unexpected</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ input.croak(<span class="hljs-string"><span class="hljs-string">"Unexpected token: "</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(input.peek())); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maybe_binary</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">left, my_prec</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = is_op(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tok) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> his_prec = PRECEDENCE[tok.value]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (his_prec &gt; my_prec) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_binary({ <span class="hljs-attr"><span class="hljs-attr">type</span></span> : tok.value == <span class="hljs-string"><span class="hljs-string">"="</span></span> ? <span class="hljs-string"><span class="hljs-string">"assign"</span></span> : <span class="hljs-string"><span class="hljs-string">"binary"</span></span>, <span class="hljs-attr"><span class="hljs-attr">operator</span></span> : tok.value, <span class="hljs-attr"><span class="hljs-attr">left</span></span> : left, <span class="hljs-attr"><span class="hljs-attr">right</span></span> : maybe_binary(parse_atom(), his_prec) }, my_prec); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> left; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delimited</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">start, stop, separator, parser</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = [], first = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; skip_punc(start); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(stop)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (first) first = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> skip_punc(separator); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(stop)) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; a.push(parser()); } skip_punc(stop); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_call</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"call"</span></span>, <span class="hljs-attr"><span class="hljs-attr">func</span></span>: func, <span class="hljs-attr"><span class="hljs-attr">args</span></span>: delimited(<span class="hljs-string"><span class="hljs-string">"("</span></span>, <span class="hljs-string"><span class="hljs-string">")"</span></span>, <span class="hljs-string"><span class="hljs-string">","</span></span>, parse_expression), }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_varname</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = input.next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (name.type != <span class="hljs-string"><span class="hljs-string">"var"</span></span>) input.croak(<span class="hljs-string"><span class="hljs-string">"Expecting variable name"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name.value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_if</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ skip_kw(<span class="hljs-string"><span class="hljs-string">"if"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cond = parse_expression(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_punc(<span class="hljs-string"><span class="hljs-string">"{"</span></span>)) skip_kw(<span class="hljs-string"><span class="hljs-string">"then"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> then = parse_expression(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ret = { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"if"</span></span>, <span class="hljs-attr"><span class="hljs-attr">cond</span></span>: cond, <span class="hljs-attr"><span class="hljs-attr">then</span></span>: then, }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"else"</span></span>)) { input.next(); ret.else = parse_expression(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ret; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_lambda</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"lambda"</span></span>, <span class="hljs-attr"><span class="hljs-attr">vars</span></span>: delimited(<span class="hljs-string"><span class="hljs-string">"("</span></span>, <span class="hljs-string"><span class="hljs-string">")"</span></span>, <span class="hljs-string"><span class="hljs-string">","</span></span>, parse_varname), <span class="hljs-attr"><span class="hljs-attr">body</span></span>: parse_expression() }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_bool</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span> : <span class="hljs-string"><span class="hljs-string">"bool"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : input.next().value == <span class="hljs-string"><span class="hljs-string">"true"</span></span> }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">maybe_call</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">expr</span></span></span><span class="hljs-function">) </span></span>{ expr = expr(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> is_punc(<span class="hljs-string"><span class="hljs-string">"("</span></span>) ? parse_call(expr) : expr; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_atom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_call(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(<span class="hljs-string"><span class="hljs-string">"("</span></span>)) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> exp = parse_expression(); skip_punc(<span class="hljs-string"><span class="hljs-string">")"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> exp; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_punc(<span class="hljs-string"><span class="hljs-string">"{"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_prog(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"if"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_if(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"true"</span></span>) || is_kw(<span class="hljs-string"><span class="hljs-string">"false"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_bool(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_kw(<span class="hljs-string"><span class="hljs-string">"lambda"</span></span>) || is_kw(<span class="hljs-string"><span class="hljs-string">"ฮป"</span></span>)) { input.next(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> parse_lambda(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tok = input.next(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tok.type == <span class="hljs-string"><span class="hljs-string">"var"</span></span> || tok.type == <span class="hljs-string"><span class="hljs-string">"num"</span></span> || tok.type == <span class="hljs-string"><span class="hljs-string">"str"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tok; unexpected(); }); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_toplevel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prog = []; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!input.eof()) { prog.push(parse_expression()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!input.eof()) skip_punc(<span class="hljs-string"><span class="hljs-string">";"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"prog"</span></span>, <span class="hljs-attr"><span class="hljs-attr">prog</span></span>: prog }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_prog</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prog = delimited(<span class="hljs-string"><span class="hljs-string">"{"</span></span>, <span class="hljs-string"><span class="hljs-string">"}"</span></span>, <span class="hljs-string"><span class="hljs-string">";"</span></span>, parse_expression); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prog.length == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FALSE; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (prog.length == <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prog[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"prog"</span></span>, <span class="hljs-attr"><span class="hljs-attr">prog</span></span>: prog }; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_expression</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_call(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> maybe_binary(parse_atom(), <span class="hljs-number"><span class="hljs-number">0</span></span>); }); } }</code> </pre> </div></div><br><h2 id="blagodarnosti" style=";text-align:right;direction:rtl">  </h2><br><p style=";text-align:right;direction:rtl">   Marijn Haverbeke,   parse-js (Common Lisp),    ,   . ,        ,  JS,      . </p><br><p style=";text-align:right;direction:rtl">  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">     JavaScript.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2: ูุชุฑุฌู</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar443630/">https://habr.com/ru/post/ar443630/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar443618/index.html">80s ูุญุงูู ุงูููุจููุชุฑ ูู ุงููุชุตูุญ</a></li>
<li><a href="../ar443620/index.html">ูุดููุชูุง ูุน ุงูุชุจุนูุงุช</a></li>
<li><a href="../ar443624/index.html">ุงูุฃุนูุงู ุงูุฑูููุฉ ู VMware: VDI ููุช ุ ูุนูุด ุทูููุงู VDI</a></li>
<li><a href="../ar443626/index.html">ูุฑุญุจูุง ุจู ูู Top 3D Expo 2019</a></li>
<li><a href="../ar443628/index.html">ูุธุงุฆู Bessel ูู ุจุฑูุงูุฌ SymPy ููุฑูุงุถูุงุช ุงูุฑูุฒูุฉ</a></li>
<li><a href="../ar443636/index.html">ููุฑุณ ููููุจูุฑ</a></li>
<li><a href="../ar443638/index.html">ููู ูุชู ูุฑุถ ุงูุฑูุงุจุฉ ุนูู Protonmail ูู ูุจู FSB ูู ุฑูุณูุง</a></li>
<li><a href="../ar443640/index.html">ุงููุงุก ูุดุญุฐ ุงูุญุฌุฑ</a></li>
<li><a href="../ar443642/index.html">ูุฑู ูุณุคูู ูุงุณุง ุฃูู ูู ุงููููู ุฅุฑุณุงู ุฃูุฑููู ูู ุฃูู ุฑุญูุฉ ุญูู ุงูููุฑ ุนูู ุตุงุฑูุฎ ุชุฌุงุฑู</a></li>
<li><a href="../ar443644/index.html">ููุฉ ุงูุจูุถ ูุน ุงููุญุฏุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>