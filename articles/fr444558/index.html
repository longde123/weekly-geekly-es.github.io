<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåë üëäüèº üï∫üèª Quoi de neuf dans CUBA 7 üë©üèª‚Äç‚öñÔ∏è üñïüèø #‚É£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quoi de neuf dans CUBA 7 


 Il y a trois ans, nous avons annonc√© la deuxi√®me version majeure du cadre accessible au public. CUBA 6 √©tait la version r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quoi de neuf dans CUBA 7</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/444558/"><h1 id="whats-new-in-cuba-7">  Quoi de neuf dans CUBA 7 </h1><br><p>  Il y a trois ans, nous avons annonc√© la deuxi√®me version majeure du cadre accessible au public.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CUBA 6</a> √©tait la version r√©volutionnaire - la licence est pass√©e de propri√©taire √† Apache 2.0.  Ces jours-l√†, nous ne pouvions m√™me pas deviner o√π cela allait amener le cadre √† long terme.  La communaut√© CUBA a commenc√© √† cro√Ætre de fa√ßon exponentielle, nous avons donc appris beaucoup de fa√ßons possibles (et parfois impossibles) de savoir comment les d√©veloppeurs utilisent le framework.  Nous sommes maintenant heureux d'annoncer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CUBA 7</a> , qui, nous l'esp√©rons, rendra le d√©veloppement plus coh√©rent et joyeux pour tous les membres de la communaut√©, de ceux qui commencent tout juste leur voyage en CUBA et Java aux d√©veloppeurs d'entreprise qualifi√©s et aux experts Java. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d60/280/788/d602807880920f1c89cc34aa4c944f11.png" alt="Cuba"></p><a name="habracut"></a><br><h2 id="development-tools">  Outils de d√©veloppement </h2><br><p>  De toute √©vidence, une grande partie du succ√®s de CUBA que nous devons √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CUBA Studio</a> .  Il a remarquablement simplifi√© la routine d'entreprise Java surmen√©e, en de nombreux endroits la basant sur la cr√©ation de configurations triviales dans les concepteurs visuels: pas besoin de conna√Ætre l'API Persistence ou Gradle ou m√™me Spring pour d√©velopper une application CRUD compl√®te et riche en fonctionnalit√©s - Studio le fera pour toi. </p><br><p>  Le Studio √©tait une application Web distincte et ce fait a entra√Æn√© des limitations importantes: </p><br><ul><li>  Tout d'abord, Studio n'√©tait pas un IDE complet, les d√©veloppeurs ont donc d√ª basculer entre Studio et IntelliJ IDEA ou Eclipse pour d√©velopper une logique m√©tier et b√©n√©ficier d'une navigation pratique, de la compl√©tion de code et d'autres choses essentielles, ce qui √©tait ennuyeux. </li><li>  Deuxi√®mement, cette simplicit√© magique a √©t√© construite sur une analyse et une g√©n√©ration massives de code source.  Am√©liorer les capacit√©s de g√©n√©ration de code signifierait s'orienter vers le d√©veloppement d'un IDE complet - une entreprise trop ambitieuse. </li></ul><br><p>  Nous avons d√©cid√© de nous appuyer sur l'√©paule d'un autre g√©ant pour surmonter ces limites.  Studio a √©t√© fusionn√© dans IntelliJ IDEA par JetBrains.  Vous pouvez maintenant l'installer en tant que plugin pour votre IntelliJ IDEA ou le t√©l√©charger en tant que bundle autonome s√©par√©. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eba/91f/e64/eba91fe64a5025522853a054d2e6d720.png" alt="cuba1"></p><br><p>  Cela ouvre de nouveaux horizons: </p><br><ul><li>  Prise en charge d'autres langages JVM (et Kotlin en premier lieu) </li><li>  D√©ploiement √† chaud am√©lior√© </li><li>  Navigation intuitive √† travers tout le projet </li><li>  Astuces et g√©n√©rateurs de code plus intelligents </li></ul><br><p>  Actuellement, le nouveau Studio est en cours de d√©veloppement: nous portons des fonctionnalit√©s de l'ancienne version.  Le plan √† court terme consiste √©galement √† r√©impl√©menter les concepteurs Web √† l'aide de l'interface utilisateur IntelliJ native et √† am√©liorer l'exp√©rience de navigation du projet. </p><br><h2 id="stack-upgrade">  Mise √† niveau de la pile </h2><br><p>  Traditionnellement, la pile sous-jacente a √©galement √©t√© largement mise √† niveau, par exemple Java 8/11, Vaadin 8, Spring 5. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/fb4/f9a/5f9/fb4f9a5f937e543e339dfba51e637f2e.png" alt="cuba2"></p><br><p>  Par d√©faut, les nouveaux projets utilisent Java 8, mais vous pouvez sp√©cifier la version de Java en ajoutant la clause suivante au fichier build.gradle: </p><br><pre><code class="plaintext hljs">subprojects { sourceCompatibility = JavaVersion.VERSION_11 targetCompatibility = JavaVersion.VERSION_11 }</code> </pre> <br><p>  La mise √† niveau vers Vaadin 8 √©tait un grand d√©fi en raison de changements majeurs dans l'API de liaison de donn√©es Vaadin.  Heureusement, CUBA extrait les d√©veloppeurs des √©l√©ments internes de Vaadin en l'enveloppant dans sa propre couche d'API.  L'√©quipe de CUBA a fait un excellent travail en r√©impl√©mentant les composants internes en gardant sa propre API intacte.  Cela signifie que la compatibilit√© est enti√®rement sauvegard√©e et vous pouvez b√©n√©ficier de Vaadin 8 juste apr√®s la migration d'un projet vers CUBA 7 sans refactoring. </p><br><p>  La liste compl√®te des d√©pendances mises √† jour est disponible dans les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notes de version</a> officielles. </p><br><h2 id="new-screens-api">  API Nouveaux √©crans </h2><br><p>  Cette section pourrait √©galement √™tre intitul√©e "L'API des premiers √©crans" - car CUBA n'a jamais eu d'API officiellement d√©clar√©e dans le niveau client Web.  Elle provient de l'historique du cadre et de certaines hypoth√®ses qui ont √©t√© faites lors de la premi√®re √©tape: </p><br><ul><li>  Approche centr√©e sur la d√©claration - tout ce qui peut √™tre d√©crit de mani√®re d√©clarative doit √™tre d√©clar√© dans un descripteur d'√©cran et non cod√© dans son contr√¥leur </li><li>  Les √©crans standard (navigateur et √©diteur) fournissent des fonctionnalit√©s g√©n√©riques concr√®tes et il n'est pas n√©cessaire de les modifier </li></ul><br><p>  Depuis que les mille premiers membres ont rejoint notre communaut√©, nous avons r√©alis√© √† quel point la vari√©t√© des exigences pour les √©crans CRUD ¬´standard¬ª est bien au-del√† de l'ensemble de fonctionnalit√©s initialement con√ßu.  N√©anmoins, pendant longtemps, nous avons pu traiter les demandes de comportement personnalis√© m√™me sans couche API - gr√¢ce √† une autre hypoth√®se de premi√®re √©tape - l'h√©ritage ouvert.  Un h√©ritage ouvert efficace signifie que vous pouvez remplacer toute m√©thode publique ou prot√©g√©e d'une classe sous-jacente pour adapter son comportement √† vos besoins.  Cela peut sembler un rem√®de contre toutes les maladies, mais en fait, cela ne vous donne m√™me pas de contrat √† court terme: que se passe-t-il si la m√©thode remplac√©e sera renomm√©e, supprim√©e ou simplement jamais utilis√©e dans les futures versions du cadre? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4ed/043/150/4ed0431505177eab85281d6f583f4bc4.png" alt="cuba3"></p><br><p>  Donc, en r√©ponse √† la demande croissante de la communaut√©, nous avons d√©cid√© d'introduire une nouvelle API d'√©crans.  L'API fournit des points d'extension clairs et √† long terme sans magie d√©clarative cach√©e, flexible et tr√®s facile √† utiliser. </p><br><h3 id="screen-declaration">  D√©claration d'√©cran </h3><br><p>  Dans CUBA 7, la d√©claration d'√©cran est extr√™mement simple: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") // screen id public class NewScreen extends Screen { }</code> </pre> <br><p>  Dans l'exemple ci-dessus, nous pouvons voir que l'identifiant d'√©cran est explicitement d√©fini juste au-dessus de la classe du contr√¥leur.  En d'autres termes, l'ID d'√©cran et la classe de contr√¥leur correspondent d√©sormais de mani√®re unique.  Donc, bonne nouvelle, les √©crans peuvent d√©sormais √™tre adress√©s directement par leur classe de contr√¥leur de mani√®re s√ªre: </p><br><pre> <code class="plaintext hljs">@Inject private ScreenBuilders screenBuilders; @Subscribe private void onBeforeClose(BeforeCloseEvent event) { screenBuilders.screen(this) .withScreenClass(SomeConfirmationScreen.class) .build() .show(); }</code> </pre> <br><p>  Le descripteur d'√©cran devient une partie compl√©mentaire au lieu d'√™tre obligatoire.  La disposition peut √™tre cr√©√©e par programme ou d√©clar√©e en tant que descripteur d'√©cran xml, qui est d√©fini par l'annotation @UiDescriptor sur la classe de contr√¥leur.  Cela rend les contr√¥leurs et la mise en page beaucoup plus faciles √† lire et √† comprendre - cette approche est tr√®s similaire √† celle utilis√©e dans le d√©veloppement Android. </p><br><p>  Auparavant, il √©tait √©galement n√©cessaire d'enregistrer un descripteur d'√©cran dans le fichier web-screens.xml et de lui attribuer un identifiant.  Dans CUBA 7, ce fichier est conserv√© pour des raisons de compatibilit√©, cependant, la cr√©ation d'√©crans d'une nouvelle mani√®re ne n√©cessite pas un tel enregistrement. </p><br><h3 id="screens-lifecycle">  Cycle de vie des √©crans </h3><br><p>  La nouvelle API introduit des √©v√©nements de cycle de vie d'√©cran clairs et explicites: </p><br><ul><li>  Init </li><li>  Afterinit </li><li>  Avant </li><li>  Apr√®s-spectacle </li><li>  Avantfermer </li><li>  Afterclose </li></ul><br><p>  Tous les √©v√©nements li√©s √† l'√©cran dans CUBA 7 peuvent √™tre abonn√©s comme suit: </p><br><pre> <code class="plaintext hljs">@UiController("new-screen") public class NewScreen extends Screen { @Subscribe private void onInit(InitEvent event) { } @Subscribe private void onBeforeShow(BeforeShowEvent event) { } }</code> </pre> <br><p>  En comparant la nouvelle API √† l'ancienne approche, vous pouvez voir que nous ne rempla√ßons pas les m√©thodes de hook, qui sont obscur√©ment appel√©es dans la hi√©rarchie des classes parentes, mais d√©finissons la logique en des points pr√©d√©finis clairs du cycle de vie de l'√©cran. </p><br><h3 id="event-handling-and-functional-delegates">  Gestion des √©v√©nements et d√©l√©gu√©s fonctionnels </h3><br><p>  Dans la section pr√©c√©dente, nous avons appris comment s'abonner aux √©v√©nements du cycle de vie, alors qu'en est-il des autres composants?  Faut-il encore disperser tous les √©couteurs requis lors de l'initialisation de l'√©cran comme c'√©tait le cas dans les versions 6.x?  La nouvelle API est tr√®s uniforme, donc l'abonnement √† d'autres √©v√©nements est absolument similaire √† ceux du cycle de vie. </p><br><p>  Prenons un exemple simple avec deux √©l√©ments d'interface utilisateur: un bouton et un champ mon√©taire, de sorte que son descripteur xml ressemble √†: </p><br><pre> <code class="plaintext hljs">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt; &lt;window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd" caption="msg://caption" messagesPack="com.company.demo.web"&gt; &lt;layout&gt; &lt;hbox spacing="true"&gt; &lt;currencyField id="currencyField" currency="$" currencyLabelPosition="LEFT"/&gt; &lt;button id="calcPriceBtn" caption="Calculate Price"/&gt; &lt;/hbox&gt; &lt;/layout&gt; &lt;/window&gt;</code> </pre> <br><p>  En cliquant sur le bouton, nous appelons le service middleware renvoyant un num√©ro, qui va dans le champ de la devise.  Le champ devise doit changer de style en fonction de la valeur du prix. </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private PricingService pricingService; @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe("calcPriceBtn") private void onCalcPriceBtnClick(Button.ClickEvent event) { currencyField.setValue(pricingService.calculatePrice()); } @Subscribe("currencyField") private void onPriceChange(HasValue.ValueChangeEvent&lt;BigDecimal&gt; event) { BigDecimal price = pricingService.calculatePrice(); currencyField.setStyleName(getStyleNameByPrice(price)); } private String getStyleNameByPrice(BigDecimal price) { ... } }</code> </pre> <br><p>  Dans l'exemple ci-dessus, nous pouvons voir deux gestionnaires d'√©v√©nements: l'un est appel√© lorsque le bouton est cliqu√© et un autre est ex√©cut√© lorsque le champ mon√©taire change sa valeur - aussi simple que cela. </p><br><p>  Imaginons maintenant que nous devions valider notre prix et v√©rifier que sa valeur est positive.  La mani√®re la plus simple serait d'ajouter un validateur lors de l'initialisation de l'√©cran: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Subscribe private void onInit(InitEvent event) { currencyField.addValidator(value -&gt; { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); }); } }</code> </pre> <br><p>  Dans les applications du monde r√©el, un point d'entr√©e d'√©cran est g√©n√©ralement jonch√© de ce type d'initialiseurs d'√©l√©ments d'√©cran.  Pour r√©soudre ce probl√®me, CUBA fournit l'annotation utile <code>@Install</code> .  Voyons comment cela peut aider dans notre cas: </p><br><pre> <code class="plaintext hljs">@UiController("demo_MyFirstScreen") @UiDescriptor("my-first-screen.xml") public class MyFirstScreen extends Screen { @Inject private CurrencyField&lt;BigDecimal&gt; currencyField; @Install(to = "currencyField", subject = "validator") private void currencyFieldValidator(BigDecimal value) { if (value.compareTo(BigDecimal.ZERO) &lt;= 0) throw new ValidationException("Price should be greater than zero"); } }</code> </pre> <br><p>  En fait, nous d√©l√©guons la logique de validation de notre champ de devise √† la m√©thode <em>currencyFieldValidator</em> de notre √©cran.  Cela peut sembler un peu compliqu√©, cependant, les d√©veloppeurs adoptent cette fonctionnalit√© √©tonnamment rapidement. </p><br><h3 id="screen-builders--notifications--dialogs">  Constructeurs d'√©cran / Notifications / Bo√Ætes de dialogue </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d7b/b4b/83a/d7bb4b83a2ac4b60988f0a7e59b91dae.png" alt="cuba4"></p><br><p>  CUBA 7 pr√©sente √©galement un ensemble de composants utiles avec des API fluides: </p><br><ul><li><p>  <strong>ScreenBuilders</strong> combine des usines fluides pour g√©n√©rer des recherches standard, des √©diteurs et des √©crans personnalis√©s.  L'exemple ci-dessous montre comment ouvrir un √©cran √† partir d'un autre.  Notez que la m√©thode <em>build ()</em> renvoie l'instance d'√©cran du bon type, sans qu'il soit n√©cessaire de la convertir de mani√®re non s√©curis√©e. </p><br><p>  CurrencyConversions currencyConversions = screenBuilders.screen (this) <br>  .withScreenClass (CurrencyConversions.class) <br>  .withLaunchMode (OpenMode.DIALOG) <br>  .build (); <br>  currencyConversions.setBaseCurrency (Currency.EUR); <br>  currencyConversions.show (); </p><br></li><li><p>  <strong>Le</strong> composant <strong>√âcrans</strong> fournit une abstraction de niveau inf√©rieur pour cr√©er et afficher des √©crans plut√¥t que <em>ScreenBuilders</em> .  Il donne √©galement acc√®s aux informations sur tous les √©crans ouverts dans votre application CUBA ( <em>Screens # getOpenedScreens</em> ) au cas o√π vous auriez besoin de les parcourir. </p><br></li><li><p>  <strong>Les</strong> composants <strong>Notifications</strong> et <strong>Dialogues</strong> introduisent tous deux des interfaces pratiques et explicites.  Voici un exemple de cr√©ation et d'affichage d'une bo√Æte de dialogue et d'une notification: </p><br><p>  dialogs.createOptionDialog () <br>  .withCaption ("Ma premi√®re bo√Æte de dialogue") <br>  .withMessage ("Souhaitez-vous remercier l'√©quipe CUBA?") <br>  .withActions ( <br>  nouvelle DialogAction (DialogAction.Type.YES) .withHandler (e -&gt; <br>  notifications.create () <br>  .withCaption ("Merci!") <br>  .withDescription ("Nous appr√©cions tous les membres de la communaut√©") <br>  .withPosition (Notifications.Position.MIDDLE_CENTER) <br>  .withHideDelayMs (3000) <br>  .show ()), <br>  nouvelle DialogAction (DialogAction.Type.CANCEL) <br>  ) <br>  .show (); </p><br></li></ul><br><h3 id="data-binding">  Liaison de donn√©es </h3><br><p>  CUBA permet un d√©veloppement extr√™mement rapide des interfaces utilisateur de backoffice non seulement en fournissant des outils visuels avanc√©s avec des capacit√©s √©tendues de g√©n√©ration de code, mais √©galement par un ensemble riche de composants orient√©s donn√©es disponibles d√®s la sortie de l'emballage.  Ces composants ont juste besoin de savoir avec quelles donn√©es ils travaillent et le reste sera g√©r√© automatiquement, par exemple les listes de recherche, les champs de s√©lection, les grilles diverses avec les op√©rations CRUD, etc. </p><br><p>  Avant la version 7, la liaison de donn√©es √©tait impl√©ment√©e via des sources de donn√©es - des objets qui enveloppent une seule entit√© ou une collection d'entit√©s pour les lier de mani√®re r√©active avec des composants orient√©s donn√©es.  Cette approche a tr√®s bien fonctionn√©, cependant, au niveau de la mise en ≈ìuvre, il s'agissait d'un monolithe.  L'architecture monolithique pose g√©n√©ralement des probl√®mes de personnalisation, donc dans CUBA 7, ce bloc solide a √©t√© divis√© en 3 composants de donn√©es: </p><br><ul><li>  <strong>Le chargeur de donn√©es</strong> est un fournisseur de donn√©es pour les conteneurs de donn√©es.  Les chargeurs de donn√©es ne conservent pas les donn√©es, ils transmettent simplement tous les param√®tres de requ√™te requis √† un magasin de donn√©es et alimentent les conteneurs de donn√©es avec l'ensemble de donn√©es r√©sultant. </li><li>  <strong>Le conteneur de donn√©es</strong> conserve les donn√©es charg√©es (une seule entit√© ou un certain nombre d'entit√©s) et les fournit aux composants sensibles aux donn√©es de mani√®re r√©active: toutes les modifications des entit√©s envelopp√©es sont expos√©es aux composants d'interface utilisateur correspondants et vice versa, toutes les modifications de les composants de l'interface utilisateur entra√Æneront les modifications correspondantes dans son conteneur de donn√©es. </li><li>  <strong>Le contexte de donn√©es</strong> est un puissant gestionnaire de modification de donn√©es qui suit les modifications et valide toutes les entit√©s modifi√©es.  Une entit√© peut √™tre fusionn√©e dans un contexte de donn√©es, elle fournira donc une copie de l'entit√© d'origine avec la seule diff√©rence, mais tr√®s importante: toutes les modifications de l'entit√© r√©sultante et de toutes les entit√©s auxquelles elle fait r√©f√©rence (y compris les collections) seront suivies, stock√©es et engag√© en cons√©quence. </li></ul><br><p>  Les composants de donn√©es peuvent √™tre d√©clar√©s dans des descripteurs d'√©cran ou instanci√©s par programmation √† l'aide d'une fabrique sp√©cialis√©e - <em>DataComponents</em> . </p><br><h3 id="miscellaneous">  Divers </h3><br><p>  Ufff, les parties les plus importantes de l'API des nouveaux √©crans sont d√©crites, alors permettez-moi de lister bri√®vement d'autres fonctionnalit√©s importantes dans le niveau client Web: </p><br><ul><li>  <strong>Historique et navigation des URL</strong> .  Cette fonctionnalit√© r√©sout un probl√®me tr√®s courant de SPA avec le bouton ¬´revenir en arri√®re¬ª dans un navigateur Web, fournit un moyen facile d'attribuer des itin√©raires aux √©crans d'application et permet √† une API de refl√©ter l'√©tat actuel d'un √©cran dans son URL. </li><li>  <strong>Formulaire au lieu de FieldGroup</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FieldGroup</a> est un composant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">orient√©</a> donn√©es pour afficher et modifier les champs d'une seule entit√©.  Il d√©duit l'interface utilisateur r√©elle affich√©e pour un champ lors de l'ex√©cution.  En d'autres termes, si vous avez un champ <em>Date</em> dans votre entit√©, il sera affich√© sous la forme d'un <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">champ DateField</a></em> .  Cependant, si vous souhaitez utiliser ce champ par programme, vous devrez injecter ce champ dans le contr√¥leur d'√©cran et le caster manuellement dans le bon type ( <em>DateField dans notre exemple</em> ).  Plus tard, nous changeons notre type de champ en un autre et notre application se bloque √† l'ex√©cution ... Le formulaire r√©sout ce probl√®me par une d√©claration de type de champ explicite.  Trouvez plus d'informations sur ce nouveau composant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </li><li>  <strong>L'int√©gration de composants JavaScript tiers</strong> est consid√©rablement simplifi√©e, suivez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la documentation</a> pour int√©grer des composants JavaScript personnalis√©s dans une application CUBA. </li><li>  <strong>Les</strong> attributs <strong>HTML / CSS</strong> peuvent d√©sormais √™tre facilement d√©finis directement √† partir du descripteur d'√©cran xml ou d√©finis par programme.  Trouvez plus d'informations <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </li></ul><br><h2 id="middleware-features">  Fonctionnalit√©s du middleware </h2><br><p>  Le bloc pr√©c√©dent sur l'API des nouveaux √©crans √©tait plus grand que ce √† quoi je m'attendais, donc dans cette section, je vais essayer d'√™tre soign√©! </p><br><h3 id="entity-changed-event">  √âv√©nement modifi√© par l'entit√© </h3><br><p>  L'√©v√©nement Entity Changed est un √©v√©nement d'application Spring qui se d√©clenche lorsque votre entit√© se rend dans un magasin de donn√©es, est physiquement ins√©r√©e et se trouve √† moins d'un pouce de sa validation.  Ici, vous pouvez fournir des contr√¥les suppl√©mentaires (par exemple, v√©rifier la disponibilit√© des produits en stock avant de confirmer une commande) et les modifier (par exemple recalculer les totaux) juste avant qu'il ne soit visible pour d'autres transactions (bien s√ªr avec un niveau d'isolement valid√© lu).  Vous pouvez √©galement utiliser cet √©v√©nement comme derni√®re chance d'interrompre la validation de la transaction en lan√ßant une exception, ce qui peut √™tre utile dans certains cas d'angle. </p><br><p>  Il existe √©galement un moyen d'attraper l'√©v√©nement Entity Changed juste apr√®s la validation. </p><br><p>  Suivez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce chapitre</a> de la documentation pour voir un exemple. </p><br><h3 id="transactional-data-manager">  Gestionnaire de donn√©es transactionnelles </h3><br><p>  Lors du d√©veloppement d'une application, nous fonctionnons normalement avec des entit√©s d√©tach√©es - celles qui ne sont g√©r√©es par aucune transaction.  Cependant, travailler avec des entit√©s d√©tach√©es n'est pas toujours possible, en particulier lorsque vous essayez de r√©pondre aux exigences ACID - c'est le cas lorsque vous pouvez utiliser le gestionnaire de donn√©es transactionnelles.  Il ressemble beaucoup au gestionnaire de donn√©es ordinaire, mais diff√®re par les aspects suivants: </p><br><ul><li>  Il peut rejoindre une transaction existante (au cas o√π il est appel√© dans un contexte transactionnel) ou cr√©er sa propre transaction. </li><li>  Il n'a pas de m√©thode de <em>validation</em> , mais il existe la m√©thode save, qui ne conduit pas √† une validation imm√©diate, mais attend que la transaction jointe soit valid√©e. </li></ul><br><p>  Trouvez un exemple d'utilisation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><h3 id="jpa-lifecycle-callbacks">  Rappels du cycle de vie JPA </h3><br><p>  Enfin, CUBA 7 prend en charge les rappels de cycle de vie JPA.  Pour ne pas reproduire une information bien √©crite sur l'utilisation de ces rappels, permettez-moi de partager <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce lien</a> , qui couvre enti√®rement le sujet. </p><br><h2 id="what-about-compatibility">  Et la compatibilit√©? </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d41/044/292/d410442925950409df8fdab04102dd95.png" alt="cuba5"></p><br><p>  Une bonne question pour toute version majeure, surtout quand il y a tellement de changements apparemment r√©volutionnaires!  Nous avons con√ßu toutes ces nouvelles fonctionnalit√©s et API en gardant √† l'esprit la compatibilit√© descendante: </p><br><ul><li>  L'ancienne API des √©crans est prise en charge dans CUBA 7 et est impl√©ment√©e via la nouvelle sous le capot :) </li><li>  Nous avons √©galement fourni des adaptateurs pour l'ancienne liaison de donn√©es, qui continuent de fonctionner pour les √©crans √† l'ancienne. </li></ul><br><p>  Donc, bonne nouvelle, le chemin de migration de la version 6 vers la 7 devrait √™tre assez simple. </p><br><h2 id="conclusion">  Conclusion </h2><br><p>  Pour conclure cet aper√ßu technique, je voudrais mentionner qu'il existe d'autres innovations importantes, en particulier avec les licences: </p><br><ul><li>  La limite de 10 entit√©s pour Studio a maintenant disparu </li><li>  Rapports, BPM, graphiques et cartes et les compl√©ments de recherche en texte int√©gral sont maintenant gratuits et open source. </li><li>  La version commerciale de Studio apporte un confort de d√©veloppement suppl√©mentaire avec les concepteurs visuels pour les entit√©s, les √©crans, les menus et d'autres √©l√©ments de plate-forme, tandis que la version gratuite se concentre sur l'utilisation du code </li><li>  Veuillez noter que pour 6.x et les versions ant√©rieures des conditions de licence de Platform et Studio, les m√™mes! </li></ul><br><p>  Enfin, permettez-moi de remercier √† nouveau les membres de la communaut√© pour tout le soutien et les commentaires.  J'esp√®re que vous aimerez la version 7!  La liste compl√®te des modifications est traditionnellement disponible dans les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notes de version</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444558/">https://habr.com/ru/post/fr444558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444548/index.html">Exp√©rience personnelle: comment nous nous sommes engag√©s dans la promotion de startups hispaniques en Am√©rique latine</a></li>
<li><a href="../fr444550/index.html">√Ä la question de la division</a></li>
<li><a href="../fr444552/index.html">TDMS Fairway. Travailler avec expertise</a></li>
<li><a href="../fr444554/index.html">L'API JSON RESTful la plus simple sur Elixir</a></li>
<li><a href="../fr444556/index.html">La couleur de la lune et du soleil de l'espace dans les valeurs de RVB et de temp√©rature de couleur</a></li>
<li><a href="../fr444560/index.html">Nous vous invitons √† la conf√©rence ¬´Clouds. Tendances de la mode ‚Äù26 mars 2019</a></li>
<li><a href="../fr444562/index.html">Modernisation de GHIDRA. Chargeur pour rhum Sega Mega Drive</a></li>
<li><a href="../fr444564/index.html">D√©veloppement de produits num√©riques avec des mod√®les mentaux</a></li>
<li><a href="../fr444566/index.html">Sikorsky a organis√© une d√©monstration d'un h√©licopt√®re sans pilote avec un homme √† bord</a></li>
<li><a href="../fr444568/index.html">Top 10 des bugs des projets C ++ trouv√©s en 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>