<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🍳 ♏️ 👨‍👩‍👧‍👧 Anda Mungkin Tidak Membutuhkan Kubernet 📎 🙇🏿 🕘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gadis dengan skuter. Ilustrasi freepik , logo Nomad oleh HashiCorp 

 Kubernetes adalah 300 kg gorila untuk orkestrasi wadah. Ini bekerja di beberapa ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Anda Mungkin Tidak Membutuhkan Kubernet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445030/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/75f/28e/6ba/75f28e6baaf8ddc3293a35e9ba31c9e2.svg"></div><br>  <i><font color="gray">Gadis dengan skuter.</font></i>  <i><font color="gray">Ilustrasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">freepik</a> , logo Nomad oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HashiCorp</a></font></i> <br><br>  Kubernetes adalah 300 kg gorila untuk orkestrasi wadah.  Ini bekerja di beberapa sistem kontainer terbesar di dunia, tetapi mahal. <br><br>  Terutama mahal untuk tim kecil yang harus menghabiskan banyak waktu untuk dukungan dan kurva belajar yang curam.  Untuk tim kami yang terdiri dari empat orang, ini terlalu banyak overhead.  Jadi kami mulai mencari alternatif - dan jatuh cinta pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nomad</a> . <br><a name="habracut"></a><br><h1>  Apa yang kamu inginkan </h1><br>  Tim kami mendukung sejumlah layanan khas untuk memantau dan menganalisis kinerja: API titik akhir untuk metrik Go, ekspor Prometheus, pengurai log seperti Logstash dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Gollum</a> , serta basis data seperti InfluxDB atau Elasticsearch.  Masing-masing layanan ini berjalan dalam wadahnya sendiri.  Kami membutuhkan sistem sederhana untuk menjaga semua ini operasional. <br><br>  Kami mulai dengan daftar persyaratan untuk orkestrasi wadah: <br><br><ul><li>  Luncurkan serangkaian layanan di banyak mesin. <br></li><li>  Ikhtisar menjalankan layanan. <br></li><li>  Komunikasi antar layanan. <br></li><li>  Restart otomatis jika layanan macet. <br></li><li>  Pemeliharaan infrastruktur oleh tim kecil. </li></ul><br>  Selain itu, hal-hal berikut akan menyenangkan, tetapi bukan tambahan wajib: <br><br><ul><li>  Mesin penandaan sesuai kemampuannya (misalnya, mesin penandaan dengan cakram cepat untuk layanan I / O berat). <br></li><li>  Kemampuan untuk memulai layanan terlepas dari orkestra (misalnya, selama pengembangan). <br></li><li>  Tempat umum untuk berbagi konfigurasi dan rahasia. <br></li><li>  Titik akhir untuk metrik dan log. </li></ul><br><h1>  Mengapa Kubernetes Tidak Sesuai Dengan Kami </h1><br>  Ketika membuat prototipe dengan Kubernetes, kami perhatikan bahwa kami mulai menambahkan lapisan logika yang semakin kompleks, yang kami andalkan tanpa syarat. <br><br>  Sebagai contoh, Kubernetes mendukung konfigurasi layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bawaan</a> melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ConfigMaps</a> .  Anda dapat menjadi bingung dengan cepat, terutama ketika menggabungkan beberapa file konfigurasi atau menambahkan layanan tambahan ke pod.  Kubernetes (atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">helm</a> dalam hal ini) memungkinkan Anda untuk menerapkan konfigurasi eksternal yang dinamis untuk kepentingan yang terpisah.  Tapi ini mengarah ke koneksi rahasia yang sulit antara proyek Anda dan Kubernetes.  Namun, Helm dan ConfigMaps adalah opsi tambahan, jadi Anda tidak harus menggunakannya.  Anda cukup menyalin konfigurasi ke gambar Docker.  Namun demikian, tergoda untuk menempuh rute ini dan membangun abstraksi yang tidak perlu, yang dapat Anda sesali nanti. <br><br>  Selain itu, ekosistem Kubernetes berkembang pesat.  Dibutuhkan banyak waktu dan energi untuk tetap up to date dengan praktik terbaik dan alat terbaru.  Kubectl, minikube, kubeadm, helm, tiller, kops, oc - daftarnya terus bertambah.  Di awal pekerjaan, tidak semua alat ini diperlukan, tetapi Anda tidak tahu apa yang dibutuhkan, jadi Anda harus mengetahui semuanya.  Karena itu, kurva belajar cukup curam. <br><br><h1>  Kapan harus menggunakan Kubernetes </h1><br>  Di perusahaan kami, banyak yang menggunakan Kubernetes dan cukup senang dengannya.  Mesin virtual ini dikelola oleh Google atau Amazon, yang memiliki sumber daya dukungan yang memadai. <br><br>  Kubernetes hadir dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fitur luar biasa</a> yang membuatnya lebih mudah dikelola dan orkestrasi wadah skala besar: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Manajemen hak yang</a> terperinci. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kontroler kustom</a> menambahkan logika ke cluster.  Ini hanya program yang berbicara dengan API Kubernetes. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Autoscaling</a> !  Kubernetes dapat meningkatkan skala layanan berdasarkan permintaan menggunakan metrik layanan tanpa memerlukan intervensi manual. </li></ul><br>  Pertanyaannya adalah apakah Anda benar-benar membutuhkan semua fitur ini.  Anda tidak bisa hanya mengandalkan abstraksi;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda harus mencari tahu apa yang terjadi di bawah tenda</a> . <br><br>  Tim kami menyediakan sebagian besar layanan dari jarak jauh (karena koneksi yang dekat dengan infrastruktur utama), jadi kami tidak ingin menaikkan kluster Kubernet kami sendiri.  Kami hanya ingin memberikan layanan. <br><br><h1>  Baterai tidak termasuk </h1><br>  Nomad adalah 20% dari orkestrasi, yang memberikan 80% dari yang diperlukan.  Yang dia lakukan hanyalah mengelola penyebaran.  Nomad menangani penyebaran, memulai kembali kontainer jika ada kesalahan ... dan hanya itu. <br><br>  Inti dari Nomad adalah bahwa ia melakukan <i>minimum</i> : tidak ada manajemen hak rinci atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kebijakan jaringan canggih</a> yang dirancang khusus.  Komponen-komponen ini disediakan oleh atau tidak disediakan sama sekali. <br><br>  Saya pikir Nomad telah menemukan kompromi yang sempurna antara kemudahan penggunaan dan utilitas.  Ini bagus untuk layanan kecil dan independen.  Jika Anda perlu lebih banyak kontrol, Anda harus membuatnya sendiri atau menggunakan pendekatan yang berbeda.  Pengembara <i>hanyalah sebuah</i> orkestra. <br><br>  Hal terbaik tentang Nomad adalah mudah <i>untuk diganti</i> .  Praktis tidak ada ikatan dengan vendor, karena fungsinya mudah diintegrasikan ke dalam sistem lain yang mengelola layanan.  Ini berfungsi seperti biner biasa pada setiap mesin dalam sebuah cluster, itu saja! <br><br><h1>  Ekosistem nomaden dari komponen yang digabungkan secara longgar </h1><br>  Kekuatan nyata Nomad dalam ekosistemnya.  Ini terintegrasi dengan sangat baik dengan produk lainnya - sepenuhnya opsional -, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Konsul</a> (penyimpanan bernilai-kunci) atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Vault</a> (pemrosesan rahasia).  Di dalam file Nomad ada bagian untuk mengekstraksi data dari layanan ini: <br><br><pre><code class="plaintext hljs">template { data = &lt;&lt;EOH LOG_LEVEL="{{key "service/geo-api/log-verbosity"}}" API_KEY="{{with secret "secret/geo-api-key"}}{{.Data.value}}{{end}}" EOH destination = "secrets/file.env" env = true }</code> </pre> <br>  Di sini kita membaca <code>service/geo-api/log-verbosity</code> kunci <code>service/geo-api/log-verbosity</code> dari Konsul dan dalam proses kami mewakilinya dengan variabel lingkungan <code>LOG_LEVEL</code> .  Kami juga mewakili kunci <code>secret/geo-api-key</code> dari Vault sebagai <code>API_KEY</code> .  Sederhana tapi kuat! <br><br>  Karena kesederhanaannya, Nomad mudah diperluas melalui layanan lain melalui API.  Misalnya, tag untuk tugas didukung.  Kami menandai semua layanan dengan metrik dengan tag <code>trv-metrics</code> .  Dengan demikian, Prometheus dengan mudah menemukan layanan ini melalui Konsul dan secara berkala memeriksa titik akhir <code>/metrics</code> untuk data baru.  Hal yang sama dapat dilakukan, misalnya, untuk log menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Loki</a> . <br><br>  Ada banyak contoh lain dari ekstensibilitas: <br><br><ul><li>  Menjalankan pekerjaan Jenkins dengan hook, dan Konsul melacak penyebaran kembali pekerjaan Nomad ketika konfigurasi layanan berubah. <br></li><li>  Ceph menambahkan sistem file terdistribusi ke Nomad. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fabio</a> untuk menyeimbangkan beban. </li></ul><br>  Semua ini memungkinkan Anda untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengembangkan infrastruktur secara organik</a> tanpa ada ikatan khusus dengan vendor. <br><br><h1>  Peringatan jujur </h1><br>  Tidak ada sistem yang sempurna.  Saya tidak menyarankan segera memperkenalkan fitur-fitur terbaru ke dalam produksi.  Tentu saja, ada bug dan fitur yang hilang, tetapi hal yang sama berlaku untuk Kubernetes. <br><br>  Dibandingkan dengan Kubernetes, komunitas Nomad tidak begitu besar.  Kubernetes sudah memiliki sekitar 75.000 komit dan 2.000 kontributor, sementara Nomad memiliki sekitar 14.000 komit dan 300 kontributor.  Nomad akan sulit sekali untuk mengikuti Kubernetes dalam kecepatan, tetapi mungkin ini tidak perlu!  Ini adalah sistem yang lebih terspesialisasi, dan komunitas yang lebih kecil juga berarti bahwa permintaan tarik Anda lebih cenderung diperhatikan dan diterima daripada Kubernetes. <br><br><h1>  Ringkasan </h1><br>  Kesimpulan: Jangan menggunakan Kubernet hanya karena semua orang melakukannya.  Hati-hati mengevaluasi persyaratan Anda dan periksa alat mana yang lebih menguntungkan. <br><br>  Jika Anda berencana menggunakan satu ton layanan homogen pada infrastruktur berskala besar, maka Kubernetes adalah pilihan yang baik.  Ingat saja kompleksitas yang ditambahkan dan biaya perawatan.  Beberapa biaya dapat dihindari dengan menggunakan lingkungan yang dikelola Kubernetes seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Google Kubernetes Engine</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Amazon EKS</a> . <br><br>  Jika Anda hanya mencari orkestra yang andal, mudah didukung dan diperluas, mengapa tidak mencoba Nomad?  Anda mungkin bertanya-tanya sejauh mana ini akan menuntun Anda. <br><br>  Jika Anda membandingkan Kubernetes dengan mobil, Nomad akan menjadi skuter.  Terkadang Anda membutuhkan satu, dan kadang-kadang yang lain.  Keduanya memiliki hak untuk hidup. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445030/">https://habr.com/ru/post/id445030/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445020/index.html">Ilmuwan Polandia mencetak pankreas bionik pertama di dunia dengan pembuluh</a></li>
<li><a href="../id445022/index.html">Bagaimana saya berteman dengan PlayStation 2 dan PlayStation Portable (spoiler - digabung menjadi satu emulator)</a></li>
<li><a href="../id445024/index.html">Ubah DSLogic Basic menjadi DSLogic Plus</a></li>
<li><a href="../id445026/index.html">Model koneksi atom ke dalam molekul</a></li>
<li><a href="../id445028/index.html">Stetoskop pintar - proyek awal dari akselerator Universitas ITMO</a></li>
<li><a href="../id445034/index.html">LockerGoga: apa yang sebenarnya terjadi dengan Norsk Hydro</a></li>
<li><a href="../id445036/index.html">Apa iPhone pertama?</a></li>
<li><a href="../id445038/index.html">Kebocoran informasi rahasia ditemukan di 100.000 repositori di GitHub</a></li>
<li><a href="../id445040/index.html">Kami membangun model, “menjual” manajemen pengetahuan kepada manajemen dan memperbaiki kesalahan penyintas</a></li>
<li><a href="../id445042/index.html">Kisah sukses delphic seorang programmer dari Ulan-Ude</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>