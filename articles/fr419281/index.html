<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçü§ù‚Äçüë®üèº üëèüèΩ üÜé rcm - gestionnaire de fichiers rc: r√©glage et utilisation üèÇüèº üë© üï∫üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Contexte 


 Lorsque plus d'un appareil fonctionnel appara√Æt entre vos mains, alors% username% vient √† vous pour avoir la m√™me configuration ici et l√†...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>rcm - gestionnaire de fichiers rc: r√©glage et utilisation</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419281/"><h4 id="predystoriya">  Contexte </h4><br><p>  Lorsque plus d'un appareil fonctionnel appara√Æt entre vos mains, alors% username% vient √† vous pour avoir la m√™me configuration ici et l√†, au travail et √† la maison.  Quand je viens de commencer √† essayer de synchroniser des fichiers, Dropbox et Yandex.disk me suffisaient.  Ils √©taient particuli√®rement bons pour synchroniser les documents et l'historique du jabber, mais d√®s que j'ai essay√© de les adapter au .bashrc, .vimrc et autres, divers effets secondaires sont apparus.  Par exemple, avec des liens symboliques dans les deux syst√®mes, c'est un d√©sastre complet, ¬± il n'y a une sorte d'histoire que dans la bo√Æte de d√©p√¥t, eh bien, je devrais √©crire des scripts pour g√©rer le zoo moi-m√™me.  Certes, quelque chose a d√©j√† √©t√© √©crit, <a name="habracut"></a>  non? </p><br><h4 id="istoriya">  L'histoire </h4><br><p> Sur la page <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://dotfiles.github.io/, vous pouvez</a> voir un peu moins d'une centaine d'utilitaires, plug-ins et approches diff√©rents pour g√©rer les configurations - des programmes personnalis√©s aux programmes individuels aux programmes universels.  Je vous conseille fortement de vous familiariser, il est fort possible que vous arr√™tiez la lecture et que vous choisissiez quelque chose de plus acceptable. </p><br><p> Le sens g√©n√©ral de la philosophie se r√©sume au fait que les configurations sont dans le d√©p√¥t% your_favorit_vcs% sous une certaine forme et de l√† se glissent dans <code>$HOME</code> .  Puisque% default_vcs% est maintenant git, je vais l'utiliser plus loin. </p><br><p>  J'ai commenc√© ma connaissance de dotfiles-in-git avec un utilitaire appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dotgit</a> .  Cela a commenc√© comme ¬´simple et direct en pure bash¬ª.  Mais au moment o√π l'auteur y a ajout√© un cryptage avec la possibilit√© de cr√©er des liens symboliques directement vers le r√©pertoire, et j'ai essay√© de tout comprendre (vers le d√©but de 2017), un concombre de mon cerveau s'est produit dans mon dossier personnel avec des liens bris√©s et une r√©cup√©ration manuelle des fichiers de la gita.  En g√©n√©ral, une journ√©e a √©t√© allou√©e pour rechercher des alternatives avec la possibilit√© de r√©gler le comportement et une configuration simple. </p><br><h2 id="rcm">  rcm </h2><br><p>  Ainsi, comme d√©j√† mentionn√©, il existe de nombreuses options pour les utilitaires.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rcm a</a> √©t√© choisi pour les raisons suivantes: </p><br><ul><li>  Pure sh, pas m√™me bash.  Il ne tire ni python ni rubis, rien d'autre </li><li>  Vous permet de configurer le comportement de livraison de la configuration </li><li>  La pr√©sence de pages de manuel </li><li>  Personnalisation du d√©ploiement √† l'aide des dossiers <code>tag-*</code> et <code>host-*</code> </li><li>  Long soutien, projet en d√©veloppement vivant </li><li>  Au moment de l'utilisation, √† ce jour, cela n'est pas pertinent, mais les crochets <code>{pre,post}-{up,down}</code> pour la mise √† jour et l'effacement des fichiers de configuration sont pris en charge </li></ul><br><p>  Le point le plus important est, bien s√ªr, la documentation, car sans elle, je ne serais pas all√© jusqu'√† personnaliser enti√®rement le comportement de d√©ploiement. </p><br><p>  Apr√®s l'installation du gestionnaire, 4 commandes seront disponibles: </p><br><ul><li>  lsrc - Liste √† quoi ressemblera la configuration apr√®s <code>rcup</code> </li><li>  mkrc - ajoute le fichier √† <code>~/.dotfiles</code> (par d√©faut, vous pouvez le changer en <code>~/.rcrc</code> ), puis r√©installez-le.  Si vous avez besoin d'un comportement non standard, il est pr√©f√©rable de d'abord corriger <code>~/.rcrc</code> , sinon il peut y avoir des effets sp√©ciaux inattendus. </li><li>  rcdn - supprime tous les fichiers de configuration g√©r√©s par rcm. </li><li>  rcup - installe tous les fichiers.  Si vous utilisez l'option <code>-g</code> , un script shell s√©par√© sera g√©n√©r√©, qui peut √©galement √™tre plac√© dans le r√©f√©rentiel pour une utilisation sur les h√¥tes o√π le gestionnaire n'est pas install√©. </li></ul><br><p>  En tant que tel, le <code>~/.rcrc</code> fait simplement partie du script shell inclus avec la commande <code>source</code> chaque appel des utilitaires rcm.  Sur cette base, il peut √™tre rendu modulaire, avec une logique int√©gr√©e.  Selon la documentation, son contenu vous permet de contr√¥ler finement les param√®tres des fichiers dot √† l'aide de <code>rcup</code> , par exemple: </p><br><ul><li>  comportement par d√©faut: pour chaque fichier √† l'int√©rieur de <code>~/.dotfiles</code> , un lien symbolique est cr√©√© dans le dossier de d√©part sans point de d√©part (par exemple, <code>'/home/felixoid/.dotfiles/bashrc' -&gt; '/home/felixoid/.bashrc'</code> , <code>'/home/felixoid/.dotfiles/README.md' -&gt; '/home/felixoid/.README.md'</code> ) </li><li>  daddy <code>~/.vim</code> : est un lien symbolique vers le dossier <code>/home/felixoid/.dotfiles/vim</code> (option SYMLINK_DIRS) </li><li>  papa <code>~/.some_secret_files</code> : copi√© depuis <code>/home/felixoid/.dotfiles/tag-dmz/some_secret_files</code> (option COPY_ALWAYS) </li><li>  le fichier <code>~/.README.md</code> est en fait ignor√© (option EXCLUDES) </li><li>  le fichier <code>'/home/felixoid/.zshenv'</code> est un lien symbolique vers <code>'/home/felixoid/.dotfiles/tag-zsh/zshenv'</code> (param√®tre TAGS) </li><li>  le <code>~/bin</code> √©galement g√©r√© avec rcm, son contenu provient de <code>/home/felixoid/.dotfiles/bin/</code> (param√®tre UNDOTTED) </li></ul><br><p>  Parfois, il peut √™tre n√©cessaire de mentionner le m√™me fichier dans plusieurs options.  Par exemple, l'extrait .rcrc doit ressembler √† ceci si tout le contenu de <code>~/bin</code> doit √™tre dans <code>~/.dotfiles/tag-bins/bin</code> et copi√© tel <code>~/.dotfiles/tag-bins/bin</code> : </p><br><pre> <code class="hljs objectivec">COPY_ALWAYS=<span class="hljs-string"><span class="hljs-string">"bin/*"</span></span> TAGS=<span class="hljs-string"><span class="hljs-string">"bins"</span></span> UNDOTTED=<span class="hljs-string"><span class="hljs-string">"bin"</span></span></code> </pre> <br><p>  En fait, un exemple de la fa√ßon d'organiser le contenu du dossier <code>~/.dotfiles</code> trouve dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel</a> avec dotfiles.  Des informations compl√®tes sont contenues dans la documentation, n'h√©sitez pas √† lire les pages de manuel suivantes: lsrc (1), mkrc (1), rcrc (5) rcdn (1), rcm (7), rcup (1). </p><br><h4 id="neskazannoe-i-nesdelannoe">  Untold and Untold </h4><br><p>  Pendant que je tapais ce texte, de bonnes id√©es me sont venues sur la fa√ßon d'organiser le stockage des donn√©es sensibles dans un r√©f√©rentiel public.  Par exemple, j'ai toujours √©t√© pr√©occup√© par la question: est-ce que cela a du sens et est-il possible de sauvegarder des cl√©s gpg et ssh?  Juste pour cela, les crochets pourraient √™tre utiles: emballez-les dans du goudron, puis chiffrez avec le m√™me gpg sym√©trique, puis d√©ballez.  J'y consacrerai peut-√™tre la note suivante apr√®s la mise en ≈ìuvre.  Ou peut-√™tre que c'est un autre v√©lo?  Et tout a d√©j√† √©t√© invent√©?  Ajoutez les commentaires si c'est r√©ellement le cas. </p><br><p>  J'esp√®re vraiment que ce mat√©riel suscitera l'int√©r√™t et le d√©sir d'essayer d'organiser la gestion des configs en mode semi-automatique! </p><br><p>  Et une petite enqu√™te: </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419281/">https://habr.com/ru/post/fr419281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419269/index.html">R√©bus dans le code et comment les d√©crypter. Le pouvoir secret des identifiants</a></li>
<li><a href="../fr419271/index.html">Analogues en Python et JavaScript. Quatri√®me partie</a></li>
<li><a href="../fr419273/index.html">√âcriture d'un module du noyau Linux: GPIO avec prise en charge IRQ</a></li>
<li><a href="../fr419277/index.html">Rubans thermiques avec indice de protection IP68. Convient pour la lumi√®re dans un bain public</a></li>
<li><a href="../fr419279/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 264 (30 juillet - 5 ao√ªt)</a></li>
<li><a href="../fr419283/index.html">Bezos jette de l'argent et des ing√©nieurs pour d√©velopper une fus√©e en lien avec l'acc√©l√©ration de la course √† l'espace</a></li>
<li><a href="../fr419289/index.html">√âcoutez et parlez: annonce de HolyJS 2018 √† Moscou</a></li>
<li><a href="../fr419291/index.html">Annonce de Heisenbug 2018 Moscou: r√©ponses √† toutes les questions</a></li>
<li><a href="../fr419295/index.html">Multimodularit√© et poignard 2. Conf√©rence Yandex</a></li>
<li><a href="../fr419297/index.html">Affichage des commentaires sur Habr√© dans l'ordre d'ajout</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>