<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîã ü•§ üñêüèæ Histoire de 3dfx Voodoo1 üñêüèæ üö¢ ü§≥üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit du deuxi√®me article de la s√©rie "Cartes 3D du s√©isme de la fin des ann√©es 90". Dans la premi√®re partie, nous avons examin√© la Rendition V√©ri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Histoire de 3dfx Voodoo1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446860/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c2/507/9b7/0c25079b7f8c22bd64dc32612d89136a.jpg" alt="image"></div><br>  Il s'agit du deuxi√®me article de la s√©rie "Cartes 3D du s√©isme de la fin des ann√©es 90".  Dans la premi√®re partie, nous avons examin√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rendition V√©rit√© 1000 de</a> fin 1996 et un port de jeu sp√©cial pour cela appel√© vQuake.  Rendition a r√©ussi √† vaincre tout le monde sur le march√© Quake.  Pendant une courte p√©riode, il est rest√© la seule carte capable de lancer le blockbuster id Software avec une acc√©l√©ration mat√©rielle. <br><br>  Mais tout a chang√© en janvier 1997, lorsque id Software a publi√© une nouvelle version de Quake appel√©e GLQuake.  √âtant donn√© que le port a √©t√© cr√©√© √† l'aide de miniGL (un sous-ensemble de la norme OpenGL 1.1), tout fabricant d'acc√©l√©rateurs mat√©riels pourrait √©crire des pilotes miniGL et participer √† la course aux cartes 3D.  A partir de ce moment, la possibilit√© de comp√©tition √©tait ouverte √† tous.  L'objectif √©tait de g√©n√©rer autant d'images par seconde que possible.  La r√©compense √©tait la renomm√©e et l'argent des clients.  Apr√®s avoir bri√®vement √©tudi√© l'histoire, on peut comprendre que les deux autorit√©s de l'√©poque consid√©raient sans doute les rois des deux producteurs de montagne. <br><br><blockquote>  Jusqu'√† pr√©sent, cela ne fait aucun doute: le monde de Quake est dirig√© par Voodoo.  Et puisque Quake r√®gne sur le monde des jeux, acheter 3Dfx Voodoo est presque in√©vitable pour les joueurs. <br><br>  <i>- Tom's Hardware, 30 novembre 1997</i> </blockquote><br><blockquote>  3DFX Voodoo 1 <br>  - La norme par laquelle toutes les autres cartes sont mesur√©es. <br><br>  <i>- Fichier John Carmack .plan.</i>  <i>12 f√©vrier 1998</i> <sup>[2]</sup> </blockquote><br>  Juste en regardant les sp√©cifications <sup>[3]</sup> , qui indiquaient un taux de remplissage de 50 m√©gapixels / s, j'ai imm√©diatement voulu √©tudier cette carte et comprendre ce que 3dfx a fait pour cr√©er un produit aussi puissant. <br><a name="habracut"></a><br><h2>  3dfx Interactive </h2><br>  Ross Smith, Scott Sellers et Gary Tarolli se sont rencontr√©s lorsqu'ils ont travaill√© ensemble chez SGI <sup>[4]</sup> .  Apr√®s avoir travaill√© un peu chez Pellucid, o√π ils ont essay√© de vendre des cartes IrisVision pour PC (en 1994, ces cartes co√ªtaient 4000 $ chacune), des coll√®gues ont fond√© leur propre entreprise avec le soutien de Gordy Campbell TechFarm.  3dfx Interactive, dont le si√®ge est √† San Jose, en Californie, a √©t√© fond√©e en 1994. <br><br>  Initialement, la soci√©t√© avait l'intention de cr√©er des syst√®mes mat√©riels puissants pour les machines d'arcade, mais a chang√© de cap en d√©veloppant des cartes PC.  Il y avait trois raisons √† cela. <br><br><ol><li>  Prix ‚Äã‚Äãassez bas de la RAM. </li><li>  En commen√ßant par FastPage RAM puis EDO RAM, la latence en RAM a diminu√© de 30%.  Maintenant, la m√©moire peut fonctionner avec une fr√©quence allant jusqu'√† 50 MHz. </li><li>  Les jeux en 3D (ou en pseudo-3D) sont devenus de plus en plus populaires.  Le succ√®s de jeux tels que DOOM, Descent et Wing Commander III a montr√© qu'un march√© des acc√©l√©rateurs 3D est sur le point d'√©merger. </li></ol><br>  Les fondateurs de la soci√©t√© ont r√©alis√© qu'ils devaient cr√©er quelque chose de puissant, con√ßu pour les jeux et avec un prix de d√©tail compris entre 300 et 400 dollars.  En 1996, la soci√©t√© a annonc√© la cr√©ation de l'architecture SST1 (du nom des fondateurs - Sellers-Smith-Tarolli-1), qui a rapidement √©t√© conc√©d√©e sous licence par plusieurs OEM tels que Diamond, Canopus, Innovision et ColorMAX.  Pour leur cr√©ation est venu le nom marketing "Voodoo1", mettant l'accent sur ses performances magiques. <br><br>  Comme avec le V1000, lors de la cr√©ation de cartes, les fabricants ne pouvaient changer que le type de RAM s√©lectionn√© (EDO ou DRAM), la couleur des cartes et la disposition physique des puces.  Presque tout le reste √©tait standardis√©. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6f9/717/a52/6f9717a52ba3bcee9f418af37d8c6dcc.webp"></div><br>  <i>Diamond Monster 3D, image tir√©e de vgamuseum.info.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35b/75c/aea/35b75caea36c0ad8cc44f5bb0f5f53e0.png"></div><br>  <i>Canopus Pure3D, image tir√©e de vgamuseum.info.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/75d/10d/0fb/75d10d0fb753c92c19542e0340ee733e.png"></div><br>  <i>BIOSTAR Venus 3D, image tir√©e de vgamuseum.info.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2cc/de8/a3d/2ccde8a3d1371c4a1c51411c1b7a2d8e.png"></div><br>  <i>ORCHID Righteous 3D, image tir√©e de vgamuseum.info.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bee/6c7/11f/bee6c711ffb6aed87499b3710176e0a9.svg"></div><br>  En regardant la carte SST1, il √©tait frappant de voir √† quel point elle √©tait diff√©rente de ses concurrents - Rendition Verite 1000 et NVidia NV1. <br><br>  Premi√®rement, 3dfx a franchi une √©tape audacieuse, abandonnant le support du rendu 2D.  Voodoo1 avait deux ports VGA, l'un utilis√© comme sortie et l'autre comme entr√©e.  La carte a √©t√© d√©velopp√©e en compl√©ment, elle a pris en entr√©e la sortie d'une carte VGA bidimensionnelle, d√©j√† install√©e dans l'ordinateur.  Lorsque l'utilisateur a travaill√© avec le syst√®me d'exploitation (DOS ou Windows), Voodoo1 a simplement redirig√© le signal de son entr√©e VGA vers la sortie VGA.  Lors du passage en mode 3D, Voodoo1 a pris le contr√¥le de la sortie VGA et ignor√© le signal de son entr√©e VGA.  Certaines cartes avaient un interrupteur m√©canique qui cliquait lors du basculement entre les modes 2D et 3D.  Cette d√©cision signifiait que la carte ne pouvait √™tre utilis√©e que pour le rendu plein √©cran, il n'y avait pas de mode ¬´fen√™tre¬ª. <br><br>  Le deuxi√®me aspect remarquable de SST1 √©tait qu'il n'√©tait pas fabriqu√© √† partir d'un seul processeur, mais de deux ASIC non programmables (circuit int√©gr√© sp√©cifique √† l'application, circuits int√©gr√©s √† usage sp√©cial).  Si vous marchez le long des traces de pneus, vous pouvez voir que chacune des puces √©tiquet√©es ¬´TMU¬ª et ¬´FBI¬ª a sa propre RAM.  Sur la carte m√©moire, 4 m√©gaoctets de RAM ont √©t√© r√©partis √©galement: 2 m√©gaoctets TMU pour le stockage des textures et 2 m√©gaoctets FBI pour le stockage du tampon de couleur et du tampon z, tandis que les valeurs √©taient stock√©es respectivement sous forme de RGBA 16 bits et d'entier / demi-flottant 16 bits.  Une carte m√©moire avec une r√©solution prise en charge de 4 m√©gaoctets jusqu'√† 640x480 (2 tampons de couleur (640x480x2) pour la double mise en m√©moire tampon + 1 tampon de profondeur (640x480x2) = 1 843 200).  Les mod√®les ult√©rieurs avec 4 m√©gaoctets de RAM FBI ont permis d'utiliser des r√©solutions jusqu'√† 800x600 (2x800x600x2 + 800x600x2 = 2880000). <br><br><h2>  Pipeline de rendu SST1 </h2><br>  Le convoyeur n'est pas d√©crit en d√©tail dans les sp√©cifications.  Selon mon interpr√©tation, la vie d'un triangle se composait de cinq √©tapes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f57/428/32d/f5742832d4cdf861bf1d8446f8ea10f1.svg"></div><br><ol><li>  Un triangle est cr√©√© et transform√© dans le processeur principal de l'ordinateur (g√©n√©ralement Pentium).  Ces op√©rations comprennent la multiplication par la matrice de l'espace mod√®le / projection, la troncature, la division en perspective des sommets, la coupure des coordonn√©es homog√®nes et la transformation du champ de vision.  √Ä la fin de ce processus, il ne reste que des triangles visibles de l'espace d'√©cran (en raison de l'√©cr√™tage, un triangle peut se r√©v√©ler √™tre deux). </li><li>  √Ä l'aide de la commande triangleCMD, les triangles sont transf√©r√©s via le bus PCI √† l'interface Frame Buffer (FBI).  Ils sont convertis en requ√™tes de cha√Æne raster cr√©√©es par l'unit√© de mappage de texture.  Pour chaque √©l√©ment de la ligne raster (appel√© fragment), le TMU effectue jusqu'√† quatre requ√™tes de recherche par pixel si le d√©veloppeur n√©cessite un filtrage bilin√©aire.  La division en perspective fragment√©e est √©galement effectu√©e dans TMU. </li><li>  Le TMU envoie des fragments au FBI sous la forme d'une valeur de couleur RVB 16 bits textur√©e + d'une valeur z 16 bits. </li><li>  Le FBI effectue des tests de fragments dans le z-buffer, en les comparant √† la RAM d√©di√©e, qui stocke les valeurs RGBA et les valeurs z du buffer de trame. </li><li>  Enfin, l'√©clairage est appliqu√© au fragment en fonction de son attribut de couleur et d'une recherche dans la table de brouillard de 64 √©l√©ments.  Si un m√©lange est n√©cessaire, le FBI combine le fragment r√©sultant avec ce qui est d√©j√† dans le tampon de couleur. </li></ol><br>  <b>Fait int√©ressant:</b> si vous √™tes un passionn√© de 3D, vous connaissez probablement le code racine carr√©e √† retour rapide, qui est devenu c√©l√®bre gr√¢ce au code Quake 3 original: <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Q_rsqrt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x2, y; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> threehalfs = <span class="hljs-number"><span class="hljs-number">1.5f</span></span>; x2 = number * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; y = number; i = * (<span class="hljs-keyword"><span class="hljs-keyword">long</span></span>*) &amp;y; <span class="hljs-comment"><span class="hljs-comment">// evil floating point bit level hacking i = 0x5f3759df - ( i &gt;&gt; 1 ); // what the fuck? y = * ( float * ) &amp;i; y = y * ( threehalfs - ( x2 * y * y ) ); // 1st iteration return y; }</span></span></code> </pre> <br>  √Ä la recherche de <sup>[5], la</sup> source Q_rsqrt Rys for Software a contact√© Gary Tarolli, qui a d√©clar√© avoir utilis√© ce code tout en travaillant dans SGI.  Il est donc juste de supposer qu'il a √©galement √©t√© utilis√© dans le pipeline SST1. <br><br><h2>  Quelque chose ne correspond pas </h2><br>  Apr√®s avoir pris connaissance du convoyeur et savoir que chaque composant (TMU, FBI, EDO RAM) fonctionne √† une fr√©quence de 50 MHz, nous pouvons comprendre qu'il y a une sorte d'erreur dans les calculs et que la carte ne peut pas atteindre une vitesse de 50 m√©gapixels / s.  Deux probl√®mes devaient √™tre r√©solus ici. <br><br>  Tout d'abord, le TMU a d√ª lire quatre texels pour effectuer un filtrage de texture bilin√©aire.  Cela signifie que quatre cycles d'acc√®s √† la RAM sont n√©cessaires, ce qui entra√Ænerait un manque de donn√©es pour TMU et un taux de remplissage de 50/4 = 12,5 m√©gapixels / s. <br><br>  Il y a un autre goulot d'√©tranglement au niveau du FBI.  Si la v√©rification du tampon z est activ√©e, avant d'√©crire ou de supprimer la valeur z entrante du fragment doit √™tre compar√©e √† ce qui est d√©j√† dans le tampon z.  Si le test a r√©ussi, la valeur doit √™tre enregistr√©e.  Ce sont deux op√©rations avec RAM, qui ont conduit √† une diminution de moiti√© du taux de remplissage: 50/2 = 25 m√©gapixels / s. <br><br><h2>  TMU entrelac√© √† quatre voies </h2><br>  La solution au probl√®me √† quatre √©chantillons au stade TMU est mentionn√©e dans la sp√©cification SST1. <br><br><blockquote>  L'entrelacement complet est impl√©ment√© dans le chemin de donn√©es de la m√©moire de texture, ce qui permet √† une seule banque d'acc√©der aux donn√©es quelle que soit l'adresse utilis√©e pour acc√©der aux donn√©es des autres banques. <br><br>  <i>- Sp√©cification SST1</i> </blockquote><br>  Il n'indique pas si le bus utilise le multiplexage d'adresses ou des bus de donn√©es et d'adresses communs.  Il est plus facile de le comprendre si vous les dessinez sans multiplexage et sans s√©paration. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f4/9b4/1ea/9f49b41ea0bbb672768b3b066a17e556.svg"></div><br>  Ind√©pendamment des d√©tails, l'architecture TMU permettait de recevoir 4 x 16 bits texels par cycle.  Si les donn√©es d'entr√©e arrivent √† la bonne fr√©quence, le TMU peut effectuer une division fragmentaire par w, puis g√©n√©rer la valeur z du fragment (16 bits) et la couleur du fragment (16 bits), qui ont √©t√© transmises au FBI. <br><br><h2>  FBI √† entrelacement bidirectionnel </h2><br>  La solution au probl√®me de deux op√©rations d'acc√®s RAM au stade FBI n'est pas non plus d√©crite dans la sp√©cification.  Cependant, le document mentionne un taux de remplissage de 100 m√©gapixels / s atteint avec glClear en raison de la possibilit√© d'enregistrer deux pixels par cycle, et cela nous fait comprendre que l'entrelacement bidirectionnel a √©t√© utilis√© ici. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/361/8bd/a7b/3618bda7b13296f51bc145a84dc86beb.svg"></div><br>  Le FBI a lu et √©crit deux pixels √† la fois (2 x 1 pixels constitu√©s de couleurs 16 bits et z 16 bits = 64 bits).  Pour ce faire, l'adresse 21 bits g√©n√®re deux adresses 20 bits, dans lesquelles le bit le moins significatif est rejet√© pour lire / √©crire deux pixels dans l'ordre.  √âtant donn√© que l'algorithme de ligne raster n√©cessaire pour √©crire / lire sur les lignes horizontales se d√©place de gauche √† droite, la lecture de deux pixels ordinaux fonctionnait tr√®s bien. <br><br><h2>  Bus 64 bits TMU-&gt; FBI </h2><br>  La derni√®re pi√®ce du puzzle est le bus FBI-TMU 64 bits.  Presque rien n'est √©crit √† ce sujet dans la sp√©cification, mais son comportement peut √™tre compris par les donn√©es consomm√©es par le FBI.  √âtant donn√© que le FBI traite deux pixels √† la fois, il est raisonnable de supposer que le TMU n'envoie pas les texels aussi rapidement que possible, mais les combine deux en deux couleurs 16 bits + valeur z 16 bits. <br><br><h2>  Programmation Voodoo1 </h2><br>  Au niveau le plus bas, la programmation Voodoo1 a √©t√© effectu√©e √† l'aide de registres mapp√©s en m√©moire.  L'API se compose d'un nombre √©tonnamment petit de commandes, il n'y en a que cinq: TRIANGLECMD (avec un point fixe), FTRIANGLECMD (avec un point flottant), NOPCMD (sans op), FASTFILLCMD (effacement de la m√©moire tampon) et SWAPBUFFERCMD concernant le chargement des registres de donn√©es pour les param√®tres de mixage, z-test, t√©l√©chargements de couleurs de brouillard et plus encore.  Le chargement de texture en VRAM a √©t√© effectu√© via une m√©moire RAM PCI en √©criture de 8 m√©gaoctets uniquement avec mappage de la m√©moire. <br><br><h2>  (R√©el) Programmation Voodoo1 </h2><br>  Les d√©veloppeurs ont programm√© Voodoo1 via l'API Glide <sup>[6]</sup> .  La logique de conception de l'API a √©t√© inspir√©e par IRIS GL / OpenGL, elle a utilis√© une machine d'√©tat et des pr√©fixes pour tout (seul ¬´gr¬ª a √©t√© utilis√© au lieu de ¬´gl¬ª, et les programmeurs devaient contr√¥ler la VRAM, comme cela se fait maintenant dans Vulkan.) <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;glide.h&gt; void main( void ) { GrHwConfiguration hwconfig; grGlideInit(void); grSstSelect( 0 ); grSstQueryHardware(&amp;hwconfig); grSstSelect(0); grSstWinOpen(null, GR_RESOLUTION_640x480, GR_REFRESH_60HZ, GR_COLORFORMAT_RGBA, GR_ORIGIN_LOWER_LEFT, 2, 0); grBufferClear(0, 0, 0); GrVertex A, B, C; ... // Init A, B, and C. guColorCombineFunction( GR_COLORCOMBINE_ITRGB ); grDrawTriangle(&amp;A, &amp;B, &amp;C); grBufferSwap( 1 ); grGlideShutdown(); }</span></span></span></span></code> </pre> <br><h2>  MiniGL "standard" </h2><br>  Bien que MiniGL soit un sous-ensemble de la norme OpenGL 1.1, aucune sp√©cification n'a √©t√© publi√©e pour cela.  MiniGL √©tait "juste ces fonctionnalit√©s que Quake utilise."  En ex√©cutant objdump pour le binaire quake.exe, il est facile de cr√©er une liste ¬´officielle¬ª. <br><br><pre>  $ objdump -p glquake.exe |  grep "gl"<font></font>
<font></font>
 glAlphaFunc glDepthMask glLoadIdentity glShadeModel
 glBegin glDepthRange glLoadMatrixf glTexCoord2f
 glBlendFunc glDisable glMatrixMode glTexEnvf
 glClear glDrawBuffer glOrtho glTexImage2D
 glClearColor glEnable glPolygonMode glTexParameterf
 glColor3f glEnd glPopMatrix glTexSubImage2D
 glColor3ubv glFinish glPushMatrix glTranslatef
 glColor4f glFrustum glReadBuffer glVertex2f
 glColor4fv glGetFloatv glReadPixels glVertex3f
 glCullFace glGetString glRotatef glVertex3fv
 glDepthFunc glHint glScalef glViewport </pre><br><br>  Si vous avez r√©cemment commenc√© √† apprendre OpenGL, vous devriez √™tre intrigu√© par des noms de fonctions tels que glColor3f, glTexCoord2f, glVertex3f, glTranslatef, glBegin et glEnd.  Ils ont √©t√© utilis√©s pour un mode appel√© ¬´mode imm√©diat¬ª, dans lequel la coordonn√©e du sommet, la coordonn√©e de la texture, la manipulation de la matrice et la couleur √©taient indiqu√©es par un appel de fonction √† la fois. <br><br>  C'est ainsi que ¬´√† cette √©poque¬ª, un triangle textur√© et ombr√© par Gouraud a √©t√© dessin√©. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Render { glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); glEnable(GL_TEXTURE_2D); glShadeModel(GL_SMOOTH); glBindTexture(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Assume a texture was loaded in textureId=1 glMatrixMode(GL_PROJECTION); glLoadIdentity(); glOrtho(-1.0, 1.0, -1.0, 1.0, -1.0, 1.0); glMatrixMode(GL_MODELVIEW); glLoadIdentity(); glBegin(GL_TRIANGLES); glColor3f(1.0f, 1.0f, 1.0f); glTexCoord2f(0.0f, 0.0f); glVertex3f(-1.0f,-0.25f,0.0f); glColor3f(0.0f, 0.0f, 0.0f); glTexCoord2f(1.0f, 0.0f); glVertex3f(-0.5f,-0.25f,0.0f); glColor3f(0.5f, 0.5f, 0.5f); glTexCoord2f(0.0f, 1.0f); glVertex3f(-0.75f,0.25f,0.0f); glEnd();</span></span></code> </pre> <br><h2>  GLQuake </h2><br>  Le taux de remplissage maximum th√©orique de 50 m√©gapixels / s √©tait cens√© fournir pr√®s de 50 images par seconde dans une r√©solution de 640x480.  Cependant, puisque Quake combinait deux couches de textures par surface (une pour la couleur, l'autre pour la lightmap), SST1 a d√ª dessiner chaque image deux fois avec un m√©lange suppl√©mentaire dans la deuxi√®me passe.  En cons√©quence, Quake a fonctionn√© √† 26 images par seconde sur le P166Mhz. <br><br>  En r√©duisant la r√©solution √† 512x384 sur la m√™me machine, il √©tait possible d'obtenir une fluidit√© de 41 images par seconde <sup>[7]</sup> , qui √† l'√©poque ne pouvait √™tre fournie par aucun concurrent. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/177/1bc/61c/1771bc61c289021a187aee52b5746828.png" alt="image"></div><br>  <i>Rendu logiciel</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/816/6a4/30f/8166a430fbb7dfeeec12e973896ba8a5.png" alt="image"><br><h2>  GLQUAKE VOODOO1 </h2><br><br>  <b>Fait int√©ressant:</b> SST1 n'√©tait pas pour tout le monde.  Certaines personnes ont aim√© les pixels et ont trouv√© le filtrage bilin√©aire ¬´flou¬ª.  D'autres ont √©t√© ennuy√©s par la perte de correction gamma. <br><br><blockquote>  Glquake a l'air merdique.  Je pense que quelqu'un peut contester cela, mais admettons - cela a l'air horrible, en particulier sur les cartes NVidia.  Sur les planches 3dfx, tout n'est pas si mal ... mais les couleurs sont encore floues.  Sur TNT2, l'image est d√©go√ªtante;  elle est trop sombre et sombre. <br><br>  <i>- @Frib, Unofficial Glquake &amp; QW Guide</i> <sup>[8]</sup> </blockquote><br><h2>  3fdx Voodoo <sup>2</sup> </h2><hr><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/62b/473/e96/62b473e965baa1937d47a6d37ae4e087.svg"></div><br>  Si je disais que 3dfx r√®gne sur le march√© de 1996 √† 1998, ce serait un euph√©misme.  Apr√®s SST1, la technologie Voodoo <sup>2 a</sup> √©lev√© la barre encore plus haut gr√¢ce √† 100 MHz EDO RAM, ASIC avec une fr√©quence de 90 MHz, et pas seulement une, mais deux TMU, qui permettent de rendre un cadre Quake multi-textur√© (couleur + √©clairage) en un seul passage <sup>[9]</sup> .  Cette technologie √©tait un v√©ritable monstre, et m√™me les cartes graphiques elles-m√™mes avaient l'air luxueuses. <br><br>  La vitesse de remplissage dans Voodoo <sup>2 a</sup> presque doubl√©, atteignant 90 m√©gapixels / s.  Les benchmarks Quake ont grimp√© √† 80 fps sur le Pentium II 266 MMX (contre 56 fps avec Voodoo1), atteignant en fait les limites de la logique du jeu et des capacit√©s de surveillance. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e6/d73/0bc/7e6d730bce2492ef8c380d026fc61625.jpg" alt="image"></div><br>  <i>Super Voodoo 2 12 Mo, image tir√©e de vgamuseum.info.</i> <br><br>  Malheureusement, apr√®s la sortie de Voodoo3 en 1999, l'histoire de 3dfx a pris un virage serr√©.  Elle a commenc√© √† s'efforcer de d√©velopper ses propres cartes universelles et a cess√© de vendre la technologie OEM, face √† une concurrence croissante. <br><br>  Cette transition ne s'est pas termin√©e comme pr√©vu, et les performances de Voodoo3 √©taient d√©cevantes par rapport √† la GeForce 256 de NVidia, capable de fournir la tessellation mat√©rielle et l'√©clairage (Pentium a fait cette partie dans le pipeline). <br><br>  En r√©ponse √† NVidia, 3dfx a annul√© le d√©veloppement de Voodoo4 pour commencer √† construire Voodoo5 avec la technologie VSA-100 (Voodoo Scalable Architecture).  Le r√©sultat √©tait inattendu: apr√®s la sortie de ¬´Napalm¬ª (le nom de code de la carte), elle est tomb√©e sur des cartes NVidia GeForce 2 et ATI Radeon plus puissantes.  Finalement, le 28 mars 2000, 3dfx a d√©pos√© son bilan et a √©t√© achet√© par NVidia. <br><br>  Pour ceux qui ont v√©cu √† la fin des ann√©es 90 et qui ont eu le plaisir de jouer √† Voodoo1 ou Voodoo2, 3dfx reste une entreprise embl√©matique symbolisant l'excellence.  Elle est devenue une ode au succ√®s m√©rit√© obtenu gr√¢ce au courage, au talent exceptionnel et au travail acharn√©.  Merci les gars! <br><br><h2>  Les r√©f√©rences </h2><br>  [1] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'histoire de la Rendition V√©rit√© 1000</a> <br><br>  [2] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">John Carmack .plan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">12 f√©vr.1998</a> <br><br>  [3] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SST-1, MOTEUR GRAPHIQUE HAUTE PERFORMANCE POUR L'ACC√âL√âRATION DE JEU 3D</a> <br><br>  [4] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">panneau d'histoire orale 3dfx</a> <br><br>  [5] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Origine de l'InvSqrt rapide de Quake3 ()</a> <br><br>  [6] Source: <a href="">Guide de programmation Glide</a> <br><br>  [7] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comparaison des taux de trame dans GLQuake en utilisant les cartes 3D Voodoo et Voodoo 2</a> <br><br>  [8] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Frib, Unofficial Glquake &amp; QW Guide</a> <br><br>  [9] Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VOODOO2 GRAPHICS MOTEUR GRAPHIQUE HAUTE PERFORMANCE POUR L'ACC√âL√âRATION DE JEUX 3D</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446860/">https://habr.com/ru/post/fr446860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446848/index.html">Combien co√ªtera un abonnement √† Google Stadia?</a></li>
<li><a href="../fr446850/index.html">Vid√©os de la r√©union CocoaHeads du 15 mars au bureau de Tutu.ru</a></li>
<li><a href="../fr446852/index.html">TEMPEST et EMSEC: est-il possible d'utiliser des ondes √©lectromagn√©tiques dans les cyberattaques?</a></li>
<li><a href="../fr446854/index.html">Azure Tech Lab, 11 avril √† Moscou</a></li>
<li><a href="../fr446858/index.html">Comment d√©ployer SAP HANA: analyser diff√©rentes m√©thodes</a></li>
<li><a href="../fr446862/index.html">√Ä quoi s'attendent les concepteurs √† DUMP-2019: Aper√ßu de la section Conception</a></li>
<li><a href="../fr446864/index.html">√ânergie, chaleur et eau</a></li>
<li><a href="../fr446866/index.html">Syst√®mes d'exploitation: trois pi√®ces faciles. Partie 2: Abstraction: Processus (traduction)</a></li>
<li><a href="../fr446870/index.html">Syst√®mes de particules: une histoire de No√´l</a></li>
<li><a href="../fr446872/index.html">Explorer OpenCV sur StereoPi: carte de profondeur √† partir de la vid√©o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>