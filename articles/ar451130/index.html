<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฅ ๐๏ธ ๐ ุณูููุช: ARC ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ๐ฃ ๐๐พ ๐คฆ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุธุฑูุง ููููู ูุบุฉ ุญุฏูุซุฉ ุนุงููุฉ ุงููุณุชูู ุ ูุฅู Swift ูุนุชูู ุจุดูู ุฃุณุงุณู ุจุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู ุชุทุจููุงุชู ุ ูุน ุชุฎุตูุต ุงูุฐุงูุฑุฉ ูุชุญุฑูุฑูุง. ููุฑุฌุน ุฐูู ุฅูู ุขููุฉ ุชุณูู ุงูุนุฏ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุณูููุช: ARC ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451130/" style=";text-align:right;direction:rtl">  ูุธุฑูุง ููููู ูุบุฉ ุญุฏูุซุฉ ุนุงููุฉ ุงููุณุชูู ุ ูุฅู <b>Swift</b> ูุนุชูู ุจุดูู ุฃุณุงุณู ุจุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู ุชุทุจููุงุชู ุ ูุน ุชุฎุตูุต ุงูุฐุงูุฑุฉ ูุชุญุฑูุฑูุง.  ููุฑุฌุน ุฐูู ุฅูู ุขููุฉ ุชุณูู <b>ุงูุนุฏ ุงููุฑุฌุนู ุงูุชููุงุฆู</b> ุ ุฃู <b>ARC ููุชุฑุฉ</b> ูุตูุฑุฉ.  ูู ูุฐุง ุงูุฏููู ุ ุณูู ุชุชุนูู ููููุฉ ุนูู ARC ูููููุฉ ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุจุดูู ุตุญูุญ ูู Swift.  ููู ูุฐู ุงูุขููุฉ ุ ููููู ุงูุชุฃุซูุฑ ุนูู ุนูุฑ ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงููููุฉ ( <b>ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ</b> ). <br><br>  ูู ูุฐุง ุงูุฏููู ุ ุณุชุนุชูุฏ ุนูู ูุนุฑูุชู ุจู Swift ู ARC ูู ุฎูุงู ุชุนูู ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู ูุนูู ARC </li><li style=";text-align:right;direction:rtl">  ูุง ูู <b>ุงูุฏูุฑุงุช ุงููุฑุฌุนูุฉ</b> ูููููุฉ ุงุตูุงุญูุง ุจุดูู ุตุญูุญ </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุฅูุดุงุก ุญููุฉ ูุซุงู ุงูุงุฑุชุจุงุท </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุนุซูุฑ ุนูู ุญููุงุช ุงูุงุฑุชุจุงุท ุจุงุณุชุฎุฏุงู ุงูุฃุฏูุงุช ุงูุจุตุฑูุฉ ุงูุชู ุชูุฏููุง Xcode </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุชุนุงูู ูุน ุฃููุงุน ุงููุฑุฌุน ูุฃููุงุน ุงููููู </li></ul><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุงูุงุจุชุฏุงุก </h2><br>  ูู ุจุชูุฒูู <a href="" rel="nofollow">ุงูููุงุฏ ุงููุตุฏุฑ.</a>  ุงูุชุญ ุงููุดุฑูุน ูู ูุฌูุฏ <b>Cycles / Starter</b> .  ูู ุงูุฌุฒุก ุงูุฃูู ูู ุฏููููุง ุ ูููู ุงูููุงููู ุงูุฃุณุงุณูุฉ ุ ุณูุชุนุงูู ุญุตุฑููุง ูุน ููู <b>MainViewController.swif</b> t. <br><br>  ุฃุถู ูุฐู ุงููุฆุฉ ูู ุฃุณูู MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.name = name <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"User \(name) was initialized"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Deallocating user named: \(name)"</span></span>) } }</code> </pre> <br>  ูุชู ุชุนุฑูู ูุฆุฉ <b>ุงููุณุชุฎุฏู</b> ููุง ุ ูุงูุชู ุ ุจูุณุงุนุฏุฉ ุงูุจูุงูุงุช <b>ุงููุทุจูุนุฉ</b> ุ ุชุดูุฑ ุฅูููุง ุญูู ุชููุฆุฉ ูุฅุตุฏุงุฑ ูุซูู ุงููุฆุฉ. <br><br>  ุงูุขู ุฅูุดุงุก ูุซูู ููุฆุฉ ุงููุณุชุฎุฏู ูู ุงูุฌุฒุก ุงูุนููู ูู MainViewController. <br><br>  ุถุน ูุฐุง ุงูุฑูุฒ ูุจู ุทุฑููุฉ <b>viewDidLoad ()</b> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user = <span class="hljs-type"><span class="hljs-type">User</span></span>(name: <span class="hljs-string"><span class="hljs-string">"John"</span></span>)</code> </pre> <br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ุงุฌุนู ูุญุฏุฉ ุชุญูู Xcode ูุฑุฆูุฉ ุจุงุณุชุฎุฏุงู <b>Command-Shift-Y</b> ูุฑุคูุฉ ุฅุฎุฑุงุฌ ุนุจุงุฑุงุช ุงูุทุจุงุนุฉ. <br><br>  ูุงุญุธ ุฃู <b>ุงููุณุชุฎุฏู John ุชูุช ุชููุฆุชู</b> ุธูุฑ ุนูู ูุญุฏุฉ ุงูุชุญูู ุ ูููู <b>ูู</b> ูุชู ุชูููุฐ ุนุจุงุฑุฉ ุงูุทุจุงุนุฉ ุฏุงุฎู <b>deinit</b> .  ูุฐุง ูุนูู ุฃูู ูู ูุชู ุฅุตุฏุงุฑ ูุฐุง ุงููุงุฆู ุ ูุฃูู ูู ูุฎุฑุฌ ุนู <b>ูุทุงูู</b> . <br><br>  ุจูุนูู ุขุฎุฑ ุ ุฅูู ุฃู ูุฎุฑุฌ ุนูุตุฑ ุชุญูู ุงูุนุฑุถ ุงูุฐู ูุญุชูู ุนูู ูุฐุง ุงููุงุฆู ุนู ูุทุงูู ุ ููู ูุชู ุชุญุฑูุฑ ุงููุงุฆู ุฃุจุฏูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ูู ูู ูู ุงููุทุงูุ </h2><br>  ูู ุฎูุงู ุงูุชูุงู ูุซูู ููุฆุฉ ุงููุณุชุฎุฏู ูู ุฅุญุฏู ุงูุทุฑู ุ ุณูุณูุญ ููุง ุจุงูุฎุฑูุฌ ุนู ูุทุงููุง ุ ููุง ูุชูุญ ูู ARC ุชุญุฑูุฑู. <br><br>  ุฏุนููุง ุฅูุดุงุก ุทุฑููุฉ <b>runScenario ()</b> ุฏุงุฎู ูุฆุฉ MainViewController ูููู ุงูุชููุฆุฉ ููุซูู ูุฆุฉ ุงููุณุชุฎุฏู ุจุฏุงุฎูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runScenario</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user = <span class="hljs-type"><span class="hljs-type">User</span></span>(name: <span class="hljs-string"><span class="hljs-string">"John"</span></span>) }</code> </pre><br>  ูุนุฑูู runScenario () ูุทุงู ูุซูู ุงููุณุชุฎุฏู.  ุนูุฏ ุงูุฎุฑูุฌ ูู ูุฐู ุงูููุทูุฉ ุ ูุฌุจ ุชุญุฑูุฑ <b>ุงููุณุชุฎุฏู</b> . <br><br>  ุงุชุตู ุงูุขู ุจู runScenario () ูุถูููุง ุฐูู ูู ููุงูุฉ viewDidLoad (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">runScenario()</code> </pre> <br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ูุจุฏู ุฅุฎุฑุงุฌ ูุญุฏุฉ ุงูุชุญูู ุงูุขู ููุง ููู: <br><br>  ุชูุช ุชููุฆุฉ ุงููุณุชุฎุฏู John <br>  ุฅูุบุงุก ุชุฎุตูุต ุงููุณุชุฎุฏู ุงููุณูู: ุฌูู <br><br>  ูุฐุง ูุนูู ุฃูู ููุช ุจุฅุทูุงู ูุงุฆู ุบุงุฏุฑ ูุฌุงู ุงูุฑุคูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุนูุฑ ุงููุงุฆู </h2><br><br>  ูููุณู ูุฌูุฏ ุงููุงุฆู ุฅูู ุฎูุณ ูุฑุงุญู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฎุตูุต ุงูุฐุงูุฑุฉ: ูู ุงูููุฏุณ ุฃู ูู ุงููููุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุชููุฆุฉ: ูุชู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฏุงุฎู ุงูุญุฑู ุงูุฃูู </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู </li><li style=";text-align:right;direction:rtl">  deinitialization: ูุชู ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฏุงุฎู deinit </li><li style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุฎุงููุฉ: ูุชู ุฅุฑุฌุงุน ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุฅูู ุงูููุฏุณ ุฃู ุงููููุฉ </li></ul><br>  ูุง ุชูุฌุฏ ุทุฑููุฉ ูุจุงุดุฑุฉ ูุชุชุจุน ุฎุทูุงุช ุชุฎุตูุต ูุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุ ูููู ููููู ุงุณุชุฎุฏุงู ุงูููุฏ ุฏุงุฎู ุงูุญุฑู ุงูุฃูู ูุงูุชุนุฑูู. <br><br>  ุชูุญุฏุฏ <b>ุงูุชุนุฏุงุฏุงุช ุงููุฑุฌุนูุฉ</b> ุ ูุงููุนุฑููุฉ ุฃูุถูุง ุจุงุณู <b>ุชุนุฏุงุฏุงุช ุงูุงุณุชุฎุฏุงู</b> ุ ูุชู ูู ุชุนุฏ ููุงู ุญุงุฌุฉ ุฅูู ูุงุฆู.  ููุถุญ ูุฐุง ุงูุนุฏุงุฏ ุนุฏุฏ ูู "ุงุณุชุฎุฏุงู" ูุฐุง ุงููุงุฆู.  ูุตุจุญ ุงููุงุฆู ุบูุฑ ุถุฑูุฑู ุนูุฏูุง ูููู ุนุฏุงุฏ ุงูุงุณุชุฎุฏุงู ุตูุฑูุง.  ุซู ูุชู ุฅูุบุงุก ุชููุฆุฉ ุงููุงุฆู ูุฅุตุฏุงุฑู. <br><br><img src="https://habrastorage.org/webt/b5/oo/78/b5oo78ealf173ey0ayz7rngnszk.png"><br><br>  ุนูุฏ ุชููุฆุฉ ูุงุฆู ุงููุณุชุฎุฏู ุ ูููู ุนุฏุฏ ูุฑุฌุนู ูู 1 ุ ูุฃู ุซุงุจุช <b>ุงููุณุชุฎุฏู</b> ูุดูุฑ ุฅูู ูุฐุง ุงููุงุฆู. <br><br>  ูู ููุงูุฉ runScenario () ุ ูุฎุฑุฌ ุงููุณุชุฎุฏู ุนู ูุทุงูู ููุชู ุชูููู ุนุฏุฏ ุงููุฑุฌุน ุฅูู 0. ููุชูุฌุฉ ูุฐูู ุ ูุชู ุฅูุบุงุก ุชุฃููู ุงููุณุชุฎุฏู ุซู ุชุญุฑูุฑู. <br><br><h2 style=";text-align:right;direction:rtl">  ุฏูุฑุงุช ูุฑุฌุนูุฉ </h2><br>  ูู ูุนุธู ุงูุญุงูุงุช ุ ูุนูู ARC ููุง ูุฌุจ.  ูุง ูุญุชุงุฌ ุงููุทูุฑ ุนุงุฏุฉู ุฅูู ุงูููู ุจุดุฃู ุชุณุฑุจ ุงูุฐุงูุฑุฉ ุนูุฏูุง ุชุธู ุงููุงุฆูุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ ุบูุฑ ูุฎุตุตุฉ ุฅูู ุฃุฌู ุบูุฑ ูุณูู. <br><br>  ููู ููุณ ุฏุงุฆูุง!  ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูููู. <br><br>  ููู ูููู ุฃู ูุญุฏุซ ูุฐุงุ  ุชุฎูู ูููููุง ูู ูุนุฏ ูุณุชุฎุฏู ููู ูุงุฆูุงู ุ ููู ูู ููููุง ูุดูุฑ ุฅูู ุงูุขุฎุฑ.  ุจูุง ุฃู ูู ุนุฏุฏ ูุฑุฌุนู ููุณ 0 ุ ููู ูุชู ุชุญุฑูุฑ ุฃู ูููุง. <br><br><img src="https://habrastorage.org/webt/hd/zp/ff/hdzpffk1eh3rug0fgmgnlghnb3q.png"><br><br>  ูุฐู ูู <b>ุฏูุฑุฉ ูุฑุฌุนูุฉ ูููุฉ</b> .  ูุฐุง ุงููููู ูุฑุจู ARC ููุง ูุณูุญ ูู ุจูุณุญ ุงูุฐุงูุฑุฉ. <br><br>  ููุง ุชุฑู ุ ูุฅู ุนุฏุฏ ุงููุฑุฌุน ูู ุงูููุงูุฉ ููุณ 0 ุ ูุนูู ุงูุฑุบู ูู ุนุฏู ุงูุญุงุฌุฉ ุฅูู ุฃู ูุงุฆูุงุช ุจุนุฏ ุงูุขู ุ ููู ูุชู ุชุญุฑูุฑ object1 ู object2. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญูู ูู ุงูุฑูุงุจุท ูุฏููุง </h2><br>  ูุงุฎุชุจุงุฑ ูู ูุฐุง ูู ุงูุนูู ุ ุฃุถู ูุฐุง ุงูููุฏ ุจุนุฏ ูุฆุฉ ุงููุณุชุฎุฏู ูู MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Phone</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> model: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> owner: <span class="hljs-type"><span class="hljs-type">User?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(model: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.model = model <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Phone \(model) was initialized"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Deallocating phone named: \(model)"</span></span>) } }</code> </pre> <br>  ูุถูู ูุฐุง ุงูุฑูุฒ ูุฆุฉ <b>ูุงุชู</b> ุฌุฏูุฏุฉ ูุน ุฎุงุตูุชูู ุ ุฃุญุฏููุง ููุทุฑุงุฒ ูุงูุขุฎุฑ ูููุงูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฃุณุงููุจ init ู deinit.  ููููุฉ ุงููุงูู ุงุฎุชูุงุฑูุฉ ุ ูุธุฑูุง ูุฃู ุงููุงุชู ูุฏ ูุง ูููู ูุฏูู ูุงูู. <br><br>  ุงูุขู ุฃุถู ูุฐุง ุงูุณุทุฑ ุฅูู runScenario (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iPhone = <span class="hljs-type"><span class="hljs-type">Phone</span></span>(model: <span class="hljs-string"><span class="hljs-string">"iPhone Xs"</span></span>)</code> </pre><br>  ุณูุคุฏู ุฐูู ุฅูู ุฅูุดุงุก ูุซูู ููุฆุฉ ุงููุงุชู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุณู ุงููุญููู </h2><br>  ุฃุถู ุงูุขู ูุฐุง ุงูููุฏ ุฅูู ูุฆุฉ ุงููุณุชุฎุฏู ุ ูุจุงุดุฑุฉ ุจุนุฏ ุฎุงุตูุฉ ุงูุงุณู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> phones: [<span class="hljs-type"><span class="hljs-type">Phone</span></span>] = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(phone: Phone)</span></span></span></span> { phones.append(phone) phone.owner = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> }</code> </pre><br>  ุฃุถู ูุฌููุนุฉ ูู ุงูููุงุชู ุงูุชู ูููููุง ุงููุณุชุฎุฏู.  ุชู ูุถุน ุนูุงูุฉ ุนูู ุงูุถุงุจุท ุนูู ุฃูู ุฎุงุต ุ ูุฐุง ูุฌุจ ุงุณุชุฎุฏุงู ุฅุถุงูุฉ (ูุงุชู :). <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ููุง ุชุฑูู ุ ูุชู ุชุญุฑูุฑ ูุซููุงุช ูุฆุงุช ูุงุฆูุงุช ุงููุงุชู ูุงููุณุชุฎุฏู ุญุณุจ ุงูุญุงุฌุฉ. <br><br>  ุชูุช ุชููุฆุฉ ุงููุณุชุฎุฏู John <br>  ุชู ุชููุฆุฉ ูุงุชู iPhone XS <br>  ุฅูุบุงุก ุชุฎุตูุต ุงููุงุชู ุงููุณูู: iPhone Xs <br>  ุฅูุบุงุก ุชุฎุตูุต ุงููุณุชุฎุฏู ุงููุณูู: ุฌูู <br><br>  ุงูุขู ุฃุถู ูุฐุง ูู ููุงูุฉ runScenario (): <br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">user.add(phone: iPhone)</code> </pre> <br><br>  ูุถูู ููุง ูุงุชู iPhone ุงูุฎุงุต ุจูุง ุฅูู ูุงุฆูุฉ ุงูููุงุชู ุงูุชู ูููููุง <b>ุงููุณุชุฎุฏู</b> ุ ููููู ุฃูุถูุง ุจุชุนููู ุฎุงุตูุฉ <b>ูุงูู</b> ุงููุงุชู ุนูู " <b>ูุณุชุฎุฏู</b> ". <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู.  ุณุชุฑู ุฃูู ูุง ูุชู ุชุญุฑูุฑ ูุงุฆูุงุช ุงููุณุชุฎุฏู ู iPhone.  ุฏูุฑุฉ ุงูุฑูุงุจุท ุงููููุฉ ุจููููุง ุชููุน ARC ูู ุฅุทูุงููุง. <br><br><img src="https://habrastorage.org/webt/lo/az/mu/loazmuamyoww2ttr7wnwcd8_n4w.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุถุนููุฉ </h2><br>  ููุณุฑ ุญููุฉ ุงูุฑูุงุจุท ุงููููุฉ ุ ููููู ุชุนููู ุงูุนูุงูุฉ ุจูู ุงููุงุฆูุงุช ุนูู ุฃููุง ุถุนููุฉ. <br><br>  ุงูุชุฑุงุถููุง ุ ุชููู ุฌููุน ุงูุงุฑุชุจุงุทุงุช ูููุฉ ููุคุฏู ุงูุชุนููู ุฅูู ุฒูุงุฏุฉ ูู ุนุฏุฏ ุงููุฑุฌุน.  ุนูุฏ ุงุณุชุฎุฏุงู ูุฑุงุฌุน ุถุนููุฉ ุ ูุง ูุฒูุฏ ุนุฏุฏ ุงููุฑุฌุน. <br><br>  ุจูุนูู ุขุฎุฑ ุ <b>ูุง ุชุคุซุฑ ุงูุฑูุงุจุท ุงูุถุนููุฉ ุนูู ุฅุฏุงุฑุฉ ุญูุงุฉ ูุงุฆู ูุง</b> .  ุฏุงุฆูุง ูุชู ุงูุฅุนูุงู ุนู ุงูุฑูุงุจุท ุงูุถุนููุฉ <b>ุงุฎุชูุงุฑููุง</b> .  ูุจูุฐู ุงูุทุฑููุฉ ุ ุนูุฏูุง ูุตุจุญ ุนุฏุฏ ุงูุงุฑุชุจุงุทุงุช 0 ุ ูููู ุถุจุท ุงูุงุฑุชุจุงุท ุนูู ุงูุตูุฑ. <br><br><img src="https://habrastorage.org/webt/ti/qd/kc/tiqdkcyfstrndd8xswpf8zfebfo.png"><br><br>  ูู ูุฐุง ุงูุฑุณู ุงูุชูุถูุญู ุ ุชุดูุฑ ุงูุฎุทูุท ุงููุชูุทุนุฉ ุฅูู ุฑูุงุจุท ุถุนููุฉ.  ูุงุญุธ ุฃู ุนุฏุฏ ูุฑุฌุน ุงููุงุฆู 1 ูู 1 ุ ูุฃู ุงููุชุบูุฑ 1 ูุดูุฑ ุฅููู.  ุนุฏุฏ ูุฑุฌุน ุงููุงุฆู 2 ูู 2 ุ ูุฃูู ูุชู ุงูุฑุฌูุน ุฅูููุง ุจูุงุณุทุฉ variable2 ู object1. <br><br>  ูุดูุฑ object2 ุฃูุถูุง ุฅูู object1 ุ ูููู WEAK ุ ููุง ูุนูู ุฃูู ูุง ูุคุซุฑ ุนูู ุนุฏุฏ ูุฑุฌุน object1. <br><br>  ุนูุฏูุง ูุชู ุชุญุฑูุฑ ูุชุบูุฑ 1 ููุชุบูุฑ ุ ูููู ูููุงุฆู 1 ุนุฏุฏ ูุฑุฌุนู ูุณุงูู 0 ุ ูุงูุฐู ูุญุฑุฑู.  ูุฐุง ุ ุจุฏูุฑู ุ ูุตุฏุฑ ุฅุดุงุฑุฉ ูููุฉ ุฅูู object2 ุ ููุง ูุคุฏู ุจุงููุนู ุฅูู ุตุฏูุฑู. <br><br>  ูู ูุฆุฉ ุงููุงุชู ุ ูู ุจุชุบููุฑ ุฅุนูุงู ุฎุงุตูุฉ ุงููุงูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> owner: <span class="hljs-type"><span class="hljs-type">User?</span></span></code> </pre> <br>  ุจุฅุนูุงู ุฃู ูุฑุฌุน ุฎุงุตูุฉ ุงููุงูู "ุถุนูู" ุ ูุฅููุง ููุทุน ุญููุฉ ุงูุฑูุงุจุท ุงููููุฉ ุจูู ูุฆุชู ุงููุณุชุฎุฏู ูุงููุงุชู. <br><br><img src="https://habrastorage.org/webt/ym/ax/_m/ymax_mv9cvlpi8xqwnxmb14vr2g.png"><br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ุงูุขู ูุชู ุฅุทูุงู ุงููุณุชุฎุฏู ูุงููุงุชู ุจุดูู ุตุญูุญ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุบูุฑ ูููููุฉ </h2><br>  ููุงู ุฃูุถูุง ูุนุฏู ุงุฑุชุจุงุท ุขุฎุฑ ูุง ูุคุฏู ุฅูู ุฒูุงุฏุฉ ุนุฏุฏ ุงููุฑุฌุน: <b>ุบูุฑ ูุนุฑูู</b> . <br><br>  ูุง ูู ุงููุฑู ุจูู <b>ุบูุฑ</b> <b>ุถุนูู ูุงูุถุนูู</b> ุ  ุงููุฑุฌุน ุงูุถุนูู ุฏุงุฆููุง ุงุฎุชูุงุฑู ููุตุจุญ ุชููุงุฆููุง ูุง ุดูุก ุนูุฏ ุชุญุฑูุฑ ุงููุงุฆู ุงููุดุงุฑ ุฅููู. <br><br>  ููุฐุง ุงูุณุจุจ ูุฌุจ ุฃู ูุนูู ุนู ุงูุฎุตุงุฆุต ุงูุถุนููุฉ ููุชุบูุฑ ุงุฎุชูุงุฑู ููููุน: ูุฌุจ ุชุบููุฑ ูุฐู ุงูุฎุงุตูุฉ. <br><br>  ูู ุงูููุงุจู ุ ูุฅู ุงูุฑูุงุจุท ุบูุฑ ุงููุนุฑููุฉ ููุณุช ุงุฎุชูุงุฑูุฉ.  ุฅุฐุง ุญุงููุช ุงููุตูู ุฅูู ุฎุงุตูุฉ ุบูุฑ ูููููุฉ ูุงูุชู ุชุดูุฑ ุฅูู ูุงุฆู ุชู ุชุญุฑูุฑู ุ ูุณุชุธูุฑ ูู ุฎุทุฃ ูุจุฏู ููุฃูู ููููููุง ูุญุชูู ุนูู ูุชุบูุฑ ูุง ุดูุก (ูุฑุถ ุฅูุบุงุก ุงูุชุนุจุฆุฉ). <br><br><img src="https://habrastorage.org/webt/i9/hf/bc/i9hfbcizzk2eg38s_hidjq3evju.png"><br><br>  ุฏุนููุง ูุญุงูู ุชุทุจูู <b>ุบูุฑ ูุนุฑูู</b> . <br><br>  ุฃุถู ูุฆุฉ <b>CarrierSubscription</b> ุฌุฏูุฏุฉ ูู ููุงูุฉ MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarrierSubscription</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> name: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> countryCode: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> number: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user: <span class="hljs-type"><span class="hljs-type">User</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>, countryCode: <span class="hljs-type"><span class="hljs-type">String</span></span>, number: <span class="hljs-type"><span class="hljs-type">String</span></span>, user: <span class="hljs-type"><span class="hljs-type">User</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.name = name <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.countryCode = countryCode <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.number = number <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.user = user <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"CarrierSubscription \(name) is initialized"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Deallocating CarrierSubscription named: \(name)"</span></span>) } }</code> </pre> <br>  ูุญุชูู CarrierSubscription ุนูู ุฃุฑุจุน ุฎุตุงุฆุต: <br><br>  ุงูุงุณู: ุงุณู ุงููุฒูุฏ. <br>  ููุฏ ุงูุจูุฏ: ููุฏ ุงูุจูุฏ. <br>  ุฑูู: ุฑูู ุงููุงุชู. <br>  ุงููุณุชุฎุฏู: ุฑุงุจุท ุฅูู ุงููุณุชุฎุฏู. <br><br><h2 style=";text-align:right;direction:rtl">  ูู ูู ูุฒูุฏูุ </h2><br>  ุงูุขู ูู ุจุฅุถุงูุฉ ูุฐุง ุฅูู ูุฆุฉ ุงููุณุชุฎุฏู ุจุนุฏ ุฎุงุตูุฉ ุงูุงุณู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> subscriptions: [<span class="hljs-type"><span class="hljs-type">CarrierSubscription</span></span>] = []</code> </pre> <br>  ูุญู ููุง ูุญุชูุธ ุจูุฌููุนุฉ ูู ูููุฑู ุงููุณุชุฎุฏู. <br><br>  ุฃุถู ุงูุขู ูุฐุง ุฅูู ูุฆุฉ ุงููุงุชู ุ ุจุนุฏ ุฎุงุตูุฉ ุงููุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> carrierSubscription: <span class="hljs-type"><span class="hljs-type">CarrierSubscription?</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">provision</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(carrierSubscription: CarrierSubscription)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.carrierSubscription = carrierSubscription } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decommission</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { carrierSubscription = <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br>  ูุคุฏู ุฐูู ุฅูู ุฅุถุงูุฉ ุฎุงุตูุฉ CarrierSubscription ุงูุงุฎุชูุงุฑูุฉ ูุทุฑููุชูู ูุชุณุฌูู ูุฅูุบุงุก ุชุณุฌูู ุงููุงุชู ูุน ุงููููุฑ. <br><br>  ุฃุถู ุงูุขู ูุฆุฉ CarrierSubscription ุฏุงุฎู ุทุฑููุฉ init ุ ูุจุงุดุฑุฉ ูุจู ุจูุงู ุงูุทุจุงุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">user.subscriptions.append(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>)</code> </pre> <br>  ูุถูู CarrierSubscription ุฅูู ูุฌููุนุฉ ูููุฑู ุงููุณุชุฎุฏู. <br><br>  ุฃุฎูุฑูุง ุ ุฃุถู ูุฐุง ูู ููุงูุฉ ุงูุฃุณููุจ runScenario (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = <span class="hljs-type"><span class="hljs-type">CarrierSubscription</span></span>( name: <span class="hljs-string"><span class="hljs-string">"TelBel"</span></span>, countryCode: <span class="hljs-string"><span class="hljs-string">"0032"</span></span>, number: <span class="hljs-string"><span class="hljs-string">"31415926"</span></span>, user: user) iPhone.provision(carrierSubscription: subscription)</code> </pre> <br>  ูููู ุจุฅูุดุงุก ุงุดุชุฑุงู ูู ุงููููุฑ ูููุณุชุฎุฏู ูุชูุตูู ุงููุงุชู ุจู. <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ูู ูุญุฏุฉ ุงูุชุญูู ุณุชุฑู: <br><br>  ุชูุช ุชููุฆุฉ ุงููุณุชุฎุฏู John <br>  ุชู ุชููุฆุฉ ูุงุชู iPhone Xs <br>  ุชุชู ุชููุฆุฉ CarrierSubscription TelBel <br><br>  ููุฑุฉ ุฃุฎุฑู ุญููุฉ ุงูุงุฑุชุจุงุท!  ุงููุณุชุฎุฏู ุ iPhone ูุงูุงุดุชุฑุงู ูู ุชูู ุญุฑุฉ ูู ุงูููุงูุฉ. <br><br>  ูู ููููู ุงูุนุซูุฑ ุนูู ูุดููุฉุ <br><br><img src="https://habrastorage.org/webt/uu/fg/eq/uufgeqkvqa31jwwlsnlikc-iob8.png"><br><br><h2 style=";text-align:right;direction:rtl">  ูุณุฑ ุงูุณูุณูุฉ </h2><br>  ูุฌุจ ุฃู ูููู ุงูุฑุงุจุท ูู ูุณุชุฎุฏู ุฅูู ุงุดุชุฑุงู ุฃู ุงูุงุฑุชุจุงุท ูู ุงุดุชุฑุงู ุฅูู ูุณุชุฎุฏู ุบูุฑ ููุถู ููุณุฑ ุงูุญููุฉ.  ูุงูุณุคุงู ูู ุฃู ุฎูุงุฑ ููุงุฎุชูุงุฑ.  ุฏุนููุง ููุธุฑ ุฅูู ุงูููุงูู. <br><br>  ููุชูู ุงููุณุชุฎุฏู ุงุดุชุฑุงููุง ูู ูููุฑ ุ ููู ุงูุนูุณ - ูุง ุ ูุง ููุชูู ุงุดุชุฑุงู ูููุฑ ูุณุชุฎุฏููุง. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุง ููุฌุฏ ุฃู ููุทุฉ ูู ูุฌูุฏ CarrierSubscription ุฏูู ุงูุฑุฌูุน ุฅูู ุงููุณุชุฎุฏู ุงูุฐู ูููููุง. <br><br>  ูุฐูู ุ ูุฌุจ ุฃู ูููู ุงุฑุชุจุงุท ุงููุณุชุฎุฏู ุบูุฑ ููููู. <br><br>  ุชุบููุฑ ุฅุนูุงู ุงููุณุชุฎุฏู ูู CarrierSubscription: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> user: <span class="hljs-type"><span class="hljs-type">User</span></span></code> </pre><br>  ุงูุขู ุงููุณุชุฎุฏู ุบูุฑ ูุนุฑูู ุ ูุงูุฐู ููุณุฑ ุญููุฉ ุงูุฑูุงุจุท ููุณูุญ ูู ุจุชุญุฑูุฑ ุฌููุน ุงููุงุฆูุงุช. <br><br><img src="https://habrastorage.org/webt/en/vx/cu/envxcuihbevfcfqv1cyg-kc3lo4.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุญููุฉ ุงูุฑูุงุจุท ูู ุงูุฅุบูุงู </h2><br>  ุชุญุฏุซ ุฏูุฑุงุช ุงูุงุฑุชุจุงุท ูููุงุฆูุงุช ุนูุฏูุง ูููู ูููุงุฆูุงุช ุฎุตุงุฆุต ุชุดูุฑ ุฅูู ุจุนุถูุง ุงูุจุนุถ.  ูุซู ุงููุงุฆูุงุช ุ ุนูููุงุช ุงูุฅุบูุงู ูู ููุน ูุฑุฌุนู ุ ููููู ุฃู ุชุคุฏู ุฅูู ุญููุงุช ูุฑุฌุนูุฉ.  ุงูุฅุบูุงู ุงูุชูุงุท ุงููุงุฆูุงุช ุงูุชู ูุณุชุฎุฏููููุง. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุชุนููู ุฅุบูุงู ูุฎุงุตูุฉ ูุฆุฉ ูุง ุ ููุงู ูุฐุง ุงูุฅุบูุงู ูุณุชุฎุฏู ุฎุตุงุฆุต ููุณ ุงููุฆุฉ ุ ูุณูุญุตู ุนูู ุญููุฉ ูู ุงูุงุฑุชุจุงุทุงุช.  ุจูุนูู ุขุฎุฑ ุ ุงููุงุฆู ูุญูู ุฑุงุจุทูุง ููุฅุบูุงู ูู ุฎูุงู ุงูุฎุงุตูุฉ.  ูุญุชูู ุงูุฅุบูุงู ุนูู ุฅุดุงุฑุฉ ุฅูู ุงููุงุฆู ูู ุฎูุงู ุงููููุฉ ุงูุชู ุชู ุงูุชูุงุทูุง ููุฐุงุช. <br><br><img src="https://habrastorage.org/webt/z-/lh/ow/z-lhowlkfyvy4ycusafxhygjisw.png"><br><br>  ุฃุถู ูุฐุง ุงูุฑูุฒ ุฅูู CarrierSubscription ูุจุงุดุฑุฉ ุจุนุฏ ุฎุงุตูุฉ ุงููุณุชุฎุฏู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> completePhoneNumber: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.countryCode + <span class="hljs-string"><span class="hljs-string">" "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.number }</code> </pre><br>  ูููู ูุฐุง ุงูุฅุบูุงู ุจุญุณุงุจ ูุฅุฑุฌุงุน ุฑูู ุงููุงุชู ุงููุงูู.  ุฃุนูู ุงูุนูุงุฑ <b>ูุณูู</b> ุ ูุณูุชู ุชุฎุตูุตู ุนูุฏ ุงูุงุณุชุฎุฏุงู ูุฃูู ูุฑุฉ. <br><br>  ูุนุฏ ุฐูู ุถุฑูุฑููุง ูุฃูู ูุณุชุฎุฏู self.countryCode ู self.number ุ ูุงูุฐู ูู ูููู ูุชุงุญูุง ุญุชู ูุชู ุชูููุฐ ุฑูุฒ ุงูููููุฆ. <br><br>  ุฃุถู runScenario () ุฅูู ุงูููุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(subscription.completePhoneNumber())</code> </pre> <br>  ุงุณุชุฏุนุงุก CompletePhoneNumber () ุณูุชู ุชูููุฐ ุงูุฅุบูุงู. <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุณุชุฑู ุฃู ุงููุณุชุฎุฏู ู iPhone ูุฏ ุชู ุฅุทูุงูููุง ุ ููู CarrierSubscription ููุณ ูุฐูู ุ ุจุณุจุจ ูุฌูุฏ ุญููุฉ ูู ุงูุฑูุงุจุท ุงููููุฉ ุจูู ุงููุงุฆู ูุงูุฅุบูุงู. <br><br><img src="https://habrastorage.org/webt/7t/rb/ax/7trbaxtrrhtadtm29-dvqwehzo4.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุงููุจุถ ุนูู ููุงุฆู </h2><br>  ูููุฑ Swift ุทุฑููุฉ ุจุณูุทุฉ ูุฃูููุฉ ููุณุฑ ุญููุฉ ุงูุฑูุงุจุท ุงููููุฉ ูู ุนูููุงุช ุงูุฅุบูุงู.  ุชุนูู ูุงุฆูุฉ ุงูุงูุชูุงุท ุงูุชู ุชุญุฏุฏ ูููุง ุงูุนูุงูุฉ ุจูู ุงูุฅุบูุงู ูุงููุงุฆูุงุช ุงูุชู ููุชูุทูุง. <br><br>  ูุดุฑุญ ูุงุฆูุฉ ุงูุงูุชูุงุท ุ ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> someClosure = { [x] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"\(x), \(y)"</span></span>) } x = <span class="hljs-number"><span class="hljs-number">6</span></span> y = <span class="hljs-number"><span class="hljs-number">6</span></span> someClosure() <span class="hljs-comment"><span class="hljs-comment">// Prints 5, 6 print("\(x), \(y)") // Prints 6, 6</span></span></code> </pre> <br>  x ูู ูุงุฆูุฉ ุงูุงูุชูุงุท ุ ูุจุงูุชุงูู ูุชู ูุณุฎ ูููุฉ x ุฅูู ุชุนุฑูู ุงูุฅุบูุงู.  ูุชู ุงูุชูุงุทูุง ูู ูุจู ุงููููุฉ. <br><br>  y ููุณุช ูู ูุงุฆูุฉ ุงูุงูุชูุงุท ุ ูุชู ุงูุชูุงุทูุง ุจุงูุฑุฌูุน ุฅูููุง.  ูุฐุง ูุนูู ุฃู ูููุฉ y ุณุชููู ููุง ูุงูุช ูู ููุช ุชู ุงุณุชุฏุนุงุก ุงูุฏุงุฆุฑุฉ. <br><br>  ุชุณุงุนุฏ ููุงุฆู ุงูุชุฃููู ูู ุชุญุฏูุฏ ุงูุชูุงุนูุงุช ุงูุถุนููุฉ ุฃู ุบูุฑ ุงููุนุฑููุฉ ูููุง ูุชุนูู ุจุงููุงุฆูุงุช ุงูุชู ูุชู ุงูุชูุงุทูุง ุฏุงุฎู ุงูุญููุฉ.  ูู ุญุงูุชูุง ุ ูููู ุงูุฎูุงุฑ ุงูููุงุณุจ ุบูุฑ ููููู ุ ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุฅุบูุงู ุฅุฐุง ุชู ุฅุตุฏุงุฑ ูุซูู CarrierSubscription. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุบุชูู ููุณู </h2><br>  ุงุณุชุจุฏุงู ุชุนุฑูู CompletePhoneNumber ุจู CarrierSubscription :: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> completePhoneNumber: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> = { [<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.countryCode + <span class="hljs-string"><span class="hljs-string">" "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.number }</code> </pre> <br>  ูุถูู <b>[ุงูุฐุงุช ุบูุฑ ุงููููููุฉ]</b> ุฅูู ูุงุฆูุฉ ุงูุชูุงุท ุงูุฅุบูุงู.  ูุฐุง ูุนูู ุฃููุง <b>ุงุณุชุญูุฐูุง</b> ุนูู <b>ุงูููุณ ุนูู</b> ุฃููุง ุฑุงุจุท <b>ุบูุฑ ููููู</b> ุจุฏูุงู ูู ุงูุงุฑุชุจุงุท ุงูููู. <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุณุชุฑู ุฅุตุฏุงุฑ CarrierSubscription ุงูุขู. <br><br>  ูู ุงููุงูุน ุ ุจูุงุก ุงูุฌููุฉ ุฃุนูุงู ูู ุดูู ูุตูุฑ ูู ูููุฐุฌ ุฃุทูู ูุฃูุซุฑ ุงูุชูุงูุง ูุธูุฑ ููู ูุชุบูุฑ ุฌุฏูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> closure = { [<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> newID = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Use unowned newID here... }</span></span></code> </pre> <br>  newID ููุง ูู ูุณุฎุฉ ุบูุฑ ูููููุฉ ูู ุงูููุณ.  ูุง ุจุนุฏ ุงูุฅุบูุงู ุ ุชุจูู ุงูููุณ ููุณูุง.  ูู ุงููููุฐุฌ ุงููุตูุฑ ุงููุนุทู ูุณุจููุง ุ ูููู <b>ุจุฅูุดุงุก ูุชุบูุฑ ุฐุงุชู ุฌุฏูุฏ</b> ูุญุฌุจ ุงูุฐุงุช ุงูููุฌูุฏุฉ ุฏุงุฎู ุงูุฅุบูุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู Unowned ุจุนูุงูุฉ </h2><br>  ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุ ุชู ุชุนููู ุงูุนูุงูุฉ ุจูู self ู completePhoneNumber ุนูู ุฃููุง ุบูุฑ ูููููุฉ. <br><br>  ุฅุฐุง ููุช ูุชุฃูุฏูุง ูู ุฃู ุงููุงุฆู ุงููุณุชุฎุฏู ูู ุงูุฅุบูุงู ูู ูุชู ุชุญุฑูุฑู ุ ูููููู ุงุณุชุฎุฏุงู ุบูุฑ ููููู.  ุฅุฐุง ูุนู ุฐูู ุ ูุฃูุช ูู ูุฑุทุฉ! <br><br>  ุฃุถู ูุฐุง ุงูุฑูุฒ ูู ููุงูุฉ MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WWDCGreeting</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> who: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(who: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.who = who } <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> greetingMaker: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> = { [<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello \(self.who)."</span></span> } }</code> </pre><br>  ุงูุขู ููุง ููุงูุฉ runScenario (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> greetingMaker: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mermaid = <span class="hljs-type"><span class="hljs-type">WWDCGreeting</span></span>(who: <span class="hljs-string"><span class="hljs-string">"caffeinated mermaid"</span></span>) greetingMaker = mermaid.greetingMaker } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(greetingMaker()) <span class="hljs-comment"><span class="hljs-comment">// !</span></span></code> </pre> <br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุณุชุฑู ุชุนุทููุง ูุดูุก ูู ูุฐุง ุงููุจูู ูู ูุญุฏุฉ ุงูุชุญูู: <br><br>  ุชูุช ุชููุฆุฉ ุงููุณุชุฎุฏู John <br>  ุชู ุชููุฆุฉ ูุงุชู iPhone XS <br>  ุชุชู ุชููุฆุฉ CarrierSubscription TelBel <br>  0032 31415926 <br>  ุฎุทุฃ ูุงุฏุญ: ุฌุฑุช ูุญุงููุฉ ูุฑุงุกุฉ ูุฑุฌุน ุบูุฑ ููููู ูููู ุชู ุฅูุบุงุก ุชุฎุตูุต ุงููุงุฆู 0x600000f0de30 ุจุงููุนู 2019-02-24 12: 29: 40.744248-0600 ุฏูุฑุงุช [33489: 5926466] ุฎุทุฃ ูุงุฏุญ: ุฌุฑุช ูุญุงููุฉ ูุฑุงุกุฉ ูุฑุฌุน ุบูุฑ ููููู ูููู ุงููุงุฆู 0x600000f0de30 <br><br>  ุญุฏุซ ุงุณุชุซูุงุก ูุฃู ุงูุฅุบูุงู ููุชุธุฑ ูุฌูุฏ self.who ุ ูููู ุชู ุฅุตุฏุงุฑู ุจูุฌุฑุฏ ุฎุฑูุฌ mermaid ุนู ูุทุงูู ูู ููุงูุฉ ุงููุชูุฉ do. <br><br>  ูุฏ ูุจุฏู ูุฐุง ุงููุซุงู ููุชุตูุง ูู ุฅุตุจุน ุ ูููู ุชุญุฏุซ ูุซู ูุฐู ุงูุฃุดูุงุก.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุณุชุฎุฏู ุนูููุงุช ุงูุฅุบูุงู ูุจุฏุก ุดูุก ูุง ูุงุญููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุนุฏ ุงูุชูุงุก ุงูููุงููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุนูู ุงูุดุจูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฒุน ูุชูู ุงููุฎ </h2><br>  ุงุณุชุจุฏู greetingMaker ูู ูุฆุฉ WWDCGreeting ุจูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> greetingMaker: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello \(self?.who)."</span></span> }</code> </pre> <br>  ููุฏ ูุนููุง ุดูุฆูู: ุฃููุงู ุ ุงุณุชุจุฏููุง ุจุงูุถุนูุงุก.  ุซุงููุงู ุ ููุฐ ุฃู ุฃุตุจุญุช ุงูุฐุงุช ุถุนููุฉ ุ ูููููุง ุงููุตูู ุฅูู ูู ูู ูู ุฎูุงู ุงูุฐุงุชุ  ุชุฌุงูู ุชุญุฐูุฑ Xcode ุ ุณูููู ุจุฅุตูุงุญู ูุฑูุจูุง. <br><br>  ูู ูุนุฏ ุงูุชุทุจูู ูุชุนุทู ุ ูููู ุฅุฐุง ููุช ุจุชุดุบููู ุ ูุณุชุญุตู ุนูู ูุชูุฌุฉ ูุถุญูุฉ: "Hello nil". <br><br>  ุฑุจูุง ุชููู ุงููุชูุฌุฉ ููุจููุฉ ุชูุงููุง ุ ููู ุบุงูุจูุง ูุง ูุญุชุงุฌ ุฅูู ูุนู ุดูุก ูุง ุฅุฐุง ุชู ุชุญุฑูุฑ ุงููุงุฆู.  ููููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ุจูุงู ุงูุญุฑุณ. <br><br>  ุงุณุชุจุฏู ูุต ุงูุฅุบูุงู ุจูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> greetingMaker: () -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"No greeting available."</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Hello \(self.who)."</span></span> }</code> </pre><br>  ุจูุงู ุงูุญุฑุงุณุฉ ูุนูู ุงูููุณ ูุฃุฎูุฐุฉ ูู ุถุนู ุงูุฐุงุช.  ุฅุฐุง ูุงูุช ุงูููุณ ูุง ุดูุก ุ ูุฅู ุงูุฅุบูุงู ูุนูุฏ "ูุง ุชูุฌุฏ ุชุญูุฉ ูุชุงุญุฉ".  ุฎูุงู ุฐูู ุ ุชุตุจุญ ุงูููุณ ูุฑุฌุนูุง ููููุง ุ ูุจุงูุชุงูู ูุฅู ุงููุงุฆู ูุถููู ููุนูุด ุญุชู ููุงูุฉ ุงูุฅุบูุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุจุญุซ ุนู ุญููุงุช ุงูุงุฑุชุจุงุท ูู Xcode 10 </h2><br>  ุงูุขู ุจุนุฏ ุฃู ุฃุฏุฑูุช ููููุฉ ุนูู ARC ุ ููุง ูู ุญููุงุช ุงูุงุฑุชุจุงุท ูููููุฉ ูุณุฑูุง ุ ููุฏ ุญุงู ุงูููุช ูุฑุคูุฉ ูุซุงู ุนูู ุชุทุจูู ุญูููู. <br><br>  ุงูุชุญ ูุดุฑูุน Starter ุงูููุฌูุฏ ูู ูุฌูุฏ ุฌูุงุช ุงูุงุชุตุงู. <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู. <br><br><img src="https://habrastorage.org/webt/a8/ce/l1/a8cel1rgbdkm_fel_d880f2swf4.png"><br><br>  ูุฐุง ูู ุฃุจุณุท ูุฏูุฑ ุงูุงุชุตุงู.  ุฌุฑููุจ ุงูููุฑ ููู ุฌูุฉ ุงุชุตุงู ุ ูุฅุถุงูุฉ ุงุซููู ูู ุฌูุงุช ุงูุงุชุตุงู ุงูุฌุฏูุฏุฉ. <br><br>  ุงุญุงูุฉ ุงูููู: <br><br>  ContactsTableViewController: ูุธูุฑ ุฌููุน ุฌูุงุช ุงูุงุชุตุงู. <br>  DetailViewController: ูุนุฑุถ ุงููุนูููุงุช ุงูุชูุตูููุฉ ูุฌูุฉ ุงูุงุชุตุงู ุงููุญุฏุฏุฉ. <br>  NewContactViewController: ูุณูุญ ูู ุจุฅุถุงูุฉ ุฌูุฉ ุงุชุตุงู ุฌุฏูุฏุฉ. <br>  ContactTableViewCell: ุฎููุฉ ุงูุฌุฏูู ุชุธูุฑ ุชูุงุตูู ุงูุงุชุตุงู. <br>  ุงูุงุชุตุงู: ูููุฐุฌ ุงูุงุชุตุงู. <br>  ุฑูู: ูููุฐุฌ ุฑูู ุงููุงุชู. <br><br>  ููุน ุฐูู ุ ูุน ูุฐุง ุงููุดุฑูุน ุ ูู ุดูุก ุณูุก: ููุงู ุญููุฉ ูู ุงูุฑูุงุจุท.  ูู ุงูุจุฏุงูุฉ ุ ูู ููุงุญุธ ุงููุณุชุฎุฏููู ุงููุดููุงุช ุจุณุจุจ ุตุบุฑ ุญุฌู ุงูุฐุงูุฑุฉ ุงููุชุณุฑุจุฉ ุ ูููุฐุง ุงูุณุจุจ ูุตุนุจ ุงูุนุซูุฑ ุนูู ุงูุชุณุฑุจ. <br><br>  ูุญุณู ุงูุญุธ ุ ูุญุชูู Xcode 10 ุนูู ุฃุฏูุงุช ูุถูููุฉ ููุนุซูุฑ ุนูู ุฃุตุบุฑ ุชุณุฑุจ ููุฐุงูุฑุฉ. <br><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู.  ุงุญุฐู 3-4 ุฌูุงุช ุงุชุตุงู ุจุงุณุชุฎุฏุงู ุงูุชูุฑูุฑ ุงูุณุฑูุน ุฅูู ุงููุณุงุฑ ูุฒุฑ ุงูุญุฐู.  ูุจุฏู ุฃููุง ุชุฎุชูู ุชูุงูุง ุ ุฃููุณ ูุฐููุ <br><br><img src="https://habrastorage.org/webt/xu/d9/qf/xud9qf3rcyaf5ot_08l8vauizto.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุฃูู ุชุชุฏููุ </h2><br>  ุนูุฏ ุชุดุบูู ุงูุชุทุจูู ุ ุงููุฑ ููู ุงูุฒุฑ Debug Memory Graph: <br><br><img src="https://habrastorage.org/webt/la/na/km/lanakmzc0d2ousrcf5jwkpu-ova.png"><br><br>  ุฑุงูุจ ูุดููุงุช ููุช ุงูุชุดุบูู ูู ูุชุตูุญ Debug.  ุชู ูุถุน ุนูุงูุฉ ุนูููุง ุจูุฑุจุนุงุช ุฃุฑุฌูุงููุฉ ุชุญูู ุนูุงูุฉ ุชุนุฌุจ ุจูุถุงุก ุจุฏุงุฎููุง: <br><br><img src="https://habrastorage.org/webt/uc/ko/vj/uckovjp_eqoplopih79xuz1jl7e.png"><br><br>  ุญุฏุฏ ุฃุญุฏ ูุงุฆูุงุช ุฌูุฉ ุงูุงุชุตุงู ุงูุชู ุจูุง ูุดููุงุช ูู ููุญุฉ ุงูุชุฌูู.  ุงูุฏูุฑุฉ ูุฑุฆูุฉ ุจูุถูุญ: ูุงุฆูุงุช ุงูุงุชุตุงู ูุงูุฑูู ุ ูู ุฅุดุงุฑุฉ ุฅูู ุจุนุถูุง ุงูุจุนุถ ุ ูุนููุฉ. <br><br><img src="https://habrastorage.org/webt/7f/wi/os/7fwios8n7zdk4ww7bj81p4kvgle.png"><br><br>  ูุจุฏู ุฃูู ูุฌุจ ุฃู ููุธุฑ ุฅูู ุงูุฑูุฒ.  ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุฌูุฉ ุงูุงุชุตุงู ูููู ุฃู ุชูุฌุฏ ุจุฏูู ุฑูู ุ ูููู ููุณ ุงูุนูุณ. <br><br>  ููู ููููู ุญู ูุฐู ุงูุญููุฉุ  ุฑุงุจุท ูู ุฌูุฉ ุงูุงุชุตุงู ุฅูู ุฑูู ุฃู ูู ุฑูู ุฅูู ุฌูุฉ ุงุชุตุงูุ  ุถุนูู ุฃู ูุงุ  ุฌุฑุจูุง ุจููุณู ุฃููุงู! <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ูุณุงุนุฏุฉ ...</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ููุงู ุญูุงู ูุญุชููุงู: ุฅูุง ุฌุนู ุงูุฑุงุจุท ูู ุฌูุฉ ุงูุงุชุตุงู ุฅูู ุงูุฑูู ุถุนูููุง ุ ุฃู ูู ุฑูู ุฅูู ุฌูุฉ ุงุชุตุงู ุบูุฑ ูุนุฑูู. <br><br>  ุชูุตู ูุซุงุฆู Apple ุจุฃู ูุญุชูู ุงููุงุฆู ุงูุฃุตู ุนูู ุฅุดุงุฑุฉ ูููุฉ ุฅูู "ุชุงุจุน" - ูููุณ ุงูุนูุณ.  ูุฐุง ูุนูู ุฃููุง ูุนุทู ุฌูุฉ ุงูุงุชุตุงู ุฅุดุงุฑุฉ ูููุฉ ุฅูู ุงูุฑูู ุ ูุงูุฑูู - ุฑุงุจุท ุบูุฑ ููููู ูุฌูุฉ ุงูุงุชุตุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contact: <span class="hljs-type"><span class="hljs-type">Contact</span></span> <span class="hljs-comment"><span class="hljs-comment">// Other code... } class Contact { var number: Number? // Other code... }</span></span></code> </pre> <br></div></div><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงูุฃุฉ: ุญููุงุช ูุน ุฃููุงุน ุงููุฑุงุฌุน ูุฃููุงุน ุงููููุฉ. </h2><br>  ูุญุชูู Swift ุนูู ุฃููุงุน ูุฑุฌุนูุฉ (ูุฆุงุช ูุฅุบูุงูุงุช) ูุฃููุงุน ูููุฉ (ุจููุงุช ุ ุฃุนุฏุงุฏ).  ูุชู ูุณุฎ ููุน ุงููููุฉ ุนูุฏูุง ูุชู ุชูุฑูุฑู ุ ูุฃููุงุน ุงููุฑุฌุน ุชุดุชุฑู ูู ููุณ ุงููููุฉ ุจุงุณุชุฎุฏุงู ุงูุฑุงุจุท. <br><br>  ูุฐุง ูุนูู ุฃูู ูู ุญุงูุฉ ุฃููุงุน ุงูููู ุ ูุง ูููู ุฃู ุชููู ููุงู ุฏูุฑุงุช.  ููู ุชุญุฏุซ ุญููุฉ ุ ูุญุชุงุฌ ุฅูู ููุนูู ุนูู ุงูุฃูู ูู ุงููุฑุงุฌุน. <br><br>  ุฏุนูุง ูุนูุฏ ุฅูู ูุดุฑูุน Cycles ูุฃุถู ูุฐุง ุงูููุฏ ูู ููุงูุฉ MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Error var payload = 0 var next: Node? }</span></span></code> </pre><br>  ูู ุชุนูู!  ุงููููู ูู ููุน ูููุฉ ููุง ูููู ุฃู ูููู ูู ุชูุฑุงุฑ ุนูู ูุซููู ููุณู.  ุฎูุงู ุฐูู ุ ูุฅู ูุซู ูุฐุง ุงููููู ุณูููู ููุง ุญุฌู ูุงููุงุฆู. <br><br>  ุชุบููุฑ ุงููููู ุฅูู ูุฆุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> payload = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> next: <span class="hljs-type"><span class="hljs-type">Node?</span></span> }</code> </pre> <br>  ุงููุฑุฌุน ุฅูู ููุณู ููุจูู ุชูุงููุง ูููุฆุงุช (ููุน ุงููุฑุฌุน) ุ ูุฐูู ูุง ููุงุฌู ุงููุชุฑุฌู ูุดุงูู. <br><br>  ุงูุขู ุฃุถู ูุฐุง ูู ููุงูุฉ MainViewController.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friends: [<span class="hljs-type"><span class="hljs-type">Person</span></span>] = [] <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(name: <span class="hljs-type"><span class="hljs-type">String</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.name = name <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"New person instance: \(name)"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Person instance \(name) is being deallocated"</span></span>) } }</code> </pre> <br>  ููุฐุง ูู ููุงูุฉ runScenario (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> ernie = <span class="hljs-type"><span class="hljs-type">Person</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Ernie"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bert = <span class="hljs-type"><span class="hljs-type">Person</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Bert"</span></span>) ernie.friends.append(bert) <span class="hljs-comment"><span class="hljs-comment">// Not deallocated bert.friends.append(ernie) // Not deallocated }</span></span></code> </pre><br>  ูู ุจุชุดุบูู ุงูุชุทุจูู.  ูุฑุฌู ููุงุญุธุฉ: ูุง ูุชู ุงูุงูุฑุงุฌ ุนู ุฅุฑูู ููุง ุจูุฑุช. <br><br><h2 style=";text-align:right;direction:rtl">  ุฑุงุจุท ููุนูู </h2><br>  ูุฐุง ูุซุงู ุนูู ูุฒูุฌ ูู ููุน ุงููุฑุฌุน ูููุน ุงููููุฉ ุงูุฐู ุฃุฏู ุฅูู ุญููุฉ ูู ุงูุงุฑุชุจุงุทุงุช. <br><br>  ูุธู ุฅุฑูู ูุจูุฑุช ุจุฏูู ุฅูุฑุงุฌ ุนูููุง ุ ููุญุชูุธุงู ุจุจุนุถููุง ุงูุจุนุถ ูู ุตูุงุฆู ุฃุตุฏูุงุฆููุง ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุตูููุงุช ููุณูุง ุฃููุงุน ูููุฉ. <br><br>  ุญุงูู ุฌุนู ุฃุฑุดูู ุงูุฃุตุฏูุงุก ุบูุฑ ููููู ุ ูุณูุธูุฑ Xcode ุฎุทุฃ: ููุทุจู unowned ููุท ุนูู ุงููุตูู ุงูุฏุฑุงุณูุฉ. <br><br>  ูุฅุตูุงุญ ูุฐู ุงูุญููุฉ ุ ูุชุนูู ุนูููุง ุฅูุดุงุก ูุงุฆู ูุฌููุน ูุงุณุชุฎุฏุงูู ูุฅุถุงูุฉ ูุซููุงุช ุฅูู ุงูุตููู. <br><br>  ุฃุถู ุงูุชุนุฑูู ุงูุชุงูู ูุจู ูุฆุฉ ุงูุดุฎุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Unowned</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnyObject</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value: <span class="hljs-type"><span class="hljs-type">T</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> (<span class="hljs-number"><span class="hljs-number">_</span></span> value: <span class="hljs-type"><span class="hljs-type">T</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.value = value } }</code> </pre><br>  ุซู ูู ุจุชุบููุฑ ุชุนุฑูู ุงูุฃุตุฏูุงุก ูู ูุฆุฉ ุงูุดุฎุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friends: [<span class="hljs-type"><span class="hljs-type">Unowned</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Person</span></span>&gt;] = []</code> </pre> <br>  ุฃุฎูุฑูุง ุ ุงุณุชุจุฏู ูุญุชููุงุช ูุชูุฉ ุงูููุงู ูู runScenario (): <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> ernie = <span class="hljs-type"><span class="hljs-type">Person</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Ernie"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bert = <span class="hljs-type"><span class="hljs-type">Person</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Bert"</span></span>) ernie.friends.append(<span class="hljs-type"><span class="hljs-type">Unowned</span></span>(bert)) bert.friends.append(<span class="hljs-type"><span class="hljs-type">Unowned</span></span>(ernie)) }</code> </pre> <br>  ูู ุจุชุดุบูู ุงูุชุทุจูู ุ ูุงูุขู ูุชู ุฅุตุฏุงุฑ ernie ู bert ุจุดูู ุตุญูุญ! <br><br>  ูุฌููุนุฉ ุงูุฃุตุฏูุงุก ูู ุชุนุฏ ูุฌููุนุฉ ูู ูุงุฆูุงุช ุงูุดุฎุต.  ูุฐู ูู ุงูุขู <b>ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุบูุฑ ุงููุนุฑููุฉ</b> ุงูุชู ุชุนูู <b>ููุบููุงุช ููุซููุงุช</b> ุงูุฃุดุฎุงุต. <br><br>  ููุญุตูู ุนูู ูุงุฆูุงุช ุดุฎุต ูู Unowned ุ ุงุณุชุฎุฏู ุฎุงุตูุฉ ุงููููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> firstFriend = bert.friends.first?.value <span class="hljs-comment"><span class="hljs-comment">// get ernie</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ูุฏูู ุงูุขู ููู ุฌูุฏ ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู Swift ูุฃูุช ุชุนุฑู ููู ูุนูู ARC.  ุขูู ุฃู ูููู ุงูููุดูุฑ ูููุฏูุง ูู. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูุชูุงุญ: ุงูุนุฏ ุงููุฑุฌุนู ุงูุชููุงุฆู</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar451130/">https://habr.com/ru/post/ar451130/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar451116/index.html">ููู ูุงุฌูุช ุตุนูุจุฉ ูู ุนูููุฉ ููู ุงูุนูุงุตุฑ ุงููุดุชุฑูุฉ ููุชุจุช ุฃูู ููุชุจุฉ ููุชูุญุฉ ุงููุตุฏุฑ</a></li>
<li><a href="../ar451118/index.html">ุงูุงุฎุชุจุงุฑ ููุณ ูููุจุชุฏุฆูู</a></li>
<li><a href="../ar451120/index.html">ุญูู ุชุญุฏูุงุช ููู ุงูุฎูุงูุง ุงูููุชุฉ ุฅูู ููุตุงุช ูุชุญุฑูุฉ</a></li>
<li><a href="../ar451124/index.html">ุชุทููุฑ ุงูุจุฑูุชููุงุช ูู ุงูุณุญุงุจุฉ ุจุงุณุชุฎุฏุงู ุจุงูุซูู ููุณุฎุฉ ุฃู ููููุฉ ุฅูุดุงุก ุฃู ุจุฑูุชูู ููุงุจู 360 ุฏููุงุฑ</a></li>
<li><a href="../ar451126/index.html">ุตูุฏูู ุงูุฃุฏูุงุช ููุจุงุญุซูู - ุงูุนุฏุฏ ุงูุฃูู: ุงูุชูุธูู ุงูุฐุงุชู ูุชุตูุฑ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar451132/index.html">ุนููุฏ ูุญุฑููุง ุงููุณุชููู ุฃู ุฃุชูุชุฉ ุงุฎุชุจุงุฑ Gitlab CI-eyed QA</a></li>
<li><a href="../ar451136/index.html">ูุฏู ุจูุงุณุทุฉ. NET 5</a></li>
<li><a href="../ar451140/index.html">ูุง ุชูููุฉ ุฅูุดุงุก ุญููู ุฅูุชุฑูุช ุงูุฃุดูุงุกุ</a></li>
<li><a href="../ar451144/index.html">ุงูุขุซุงุฑ: ุชูููุฉ ูู ุงูุฅุนูุงูุงุช ุงูุชููุฒููููุฉ</a></li>
<li><a href="../ar451146/index.html">ุชุณุฑูุน ุชุทุจูู ุงูููุจ ูุจูู ูุน webpack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>