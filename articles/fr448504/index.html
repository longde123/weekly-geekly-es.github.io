<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏙️ 👑 🦑 Ils ont collecté pour tout le monde "Habrom" le livre de référence "Par qui il a été délivré ..." pour les passeports. Télécharger sur la santé ☄️ 😬 🏒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelques mois, nous avons expérimenté: sera-t-il possible de collecter un répertoire approprié des unités délivrant des passeports russes à Hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ils ont collecté pour tout le monde "Habrom" le livre de référence "Par qui il a été délivré ..." pour les passeports. Télécharger sur la santé</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hflabs/blog/448504/"><img src="https://habrastorage.org/webt/4r/2k/de/4r2kdef9h3fieollcezqj2vwszk.jpeg"><br><br>  Il y a quelques mois, nous avons expérimenté: sera-t-il possible de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">collecter un répertoire approprié des unités délivrant des passeports russes</a> à Habr?  La chose est utile: beaucoup de gens ont besoin de ces données, il n'y a pas de source canonique et les sources existantes sont très moyennes. <br><br>  Et vous savez, tout a fonctionné.  Le répertoire utilisable est prêt, vous pouvez le télécharger et l'utiliser.  Et nous avons également fait des astuces pour accélérer l'entrée des unités dans les formulaires électroniques. <br><a name="habracut"></a><br><h2>  CSV "nu" - dans le domaine public </h2><br>  La référence compilée et nettoyée que nous avons publiée sur GitHub.  A l'intérieur, tout est simple, CSV avec deux champs: <br><br><ul><li>  code départemental; </li><li>  nom de l'unité. </li></ul><br>  Réside ici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/hflabs/fms-unit/releases/latest</a> . <br><br><h2>  Il existe également des conseils prêts à l'emploi pour les formulaires de saisie (en outre, gratuits) </h2><br>  Nous avons réuni des unités pour créer un service prêt à l'emploi - conseils pour les formulaires de saisie.  Et les voilà prêts. <br><br>  «Astuces» DaData.ru peut être intégré dans le site, CRM ou CMS et être considéré comme un boursier attentionné: l'utilisateur n'a qu'à entrer le code de l'unité, et le nom remplira le service. <br><br><img src="https://habrastorage.org/webt/hi/ow/pn/hiowpn7nn-fcbwhqacerbme5os4.gif"><br>  <sub>Tout le monde semble détester remplir le nom de l'unité.</sub>  <sub>Nous avons essayé d'alléger les souffrances des gens.</sub> <br><br>  Même les «astuces» tirent la région et le type d'unité du code, parfois de manière pratique.  Voici une brève spécification de la réponse. <br><div class="scrollable-table"><table><tbody><tr><th>  Le titre </th><th>  La description </th></tr><tr><td>  valeur </td><td>  Valeur sur une seule ligne (comme indiqué dans la liste des invites) </td></tr><tr><td>  data.code </td><td>  Code d'unité </td></tr><tr><td>  data.name </td><td>  Le nom de l'unité dans le boîtier instrumental ("qui l'a émis?") </td></tr><tr><td>  data.region_code </td><td>  Code de région </td></tr><tr><td>  data.type </td><td>  Type d'unité: <br><br><ul><li>  0 - unité FMS; </li><li>  1 - GUVD ou le Ministère des Affaires Intérieures de la région; </li><li>  2 - Quartier ou ville ATC ou ATS; </li><li>  3 - poste de police. </li></ul></td></tr></tbody></table></div>  Nous donnons gratuitement jusqu'à 10 000 requêtes par jour aux «Conseils», ce sont 300 formulaires remplis.  Plus - dans le cadre d'un abonnement, à partir de 5 000 ₽ par an.  Il fonctionne via jQuery-plugin, API ou composants pour différents CRM, CMS, "1C" et plus encore. <br><br>  Les détails sont à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dadata.ru/suggestions/outward/fms_unit/</a> . <br><br><h2>  "Habr" a beaucoup aidé avec les données </h2><br>  Première question de ceux qui entendent parler du projet: "Vraiment, via Habr, l'avez-vous récupéré?"  Non seulement "Habr" a aidé, mais la contribution des colporteurs est grande et étendue.  Nous sommes reconnaissants et un peu surpris: la première fois que nous nous sommes tournés vers la communauté, et immédiatement un tel résultat. <br><br>  <b>Au départ, nous avons eu quelques développements.</b>  Mais, tout d'abord, loin d'une référence complète.  Deuxièmement, je voulais vérifier dans quelle mesure les données sont adéquates pour les vrais passeports. <br><br>  <b>Beaucoup ont envoyé des unités de leur passeport via le formulaire de collecte</b> lorsque nous avons lancé un cri.  Ils ont envoyé un et cinq à dix enregistrements chacun.  Des héros qui ne sont pas trop paresseux pour conduire tout cela avec leurs mains - respect. <br><br>  <b>Trois personnes offertes dans une base de données personnelle de taille respectable.</b>  Sympathique et gratuit. <br><br><img src="https://habrastorage.org/webt/6w/7y/9m/6w7y9m3_ggxfqzxuiqnin55b-fw.png"><br>  <sub>Ceux qui sont inquiets pour la sécurité: tous les répertoires ont été envoyés de manière anonyme, pas un octet de données personnelles</sub> <br><br>  Ces dons ont fait avancer les choses de manière significative.  En conséquence, après trois semaines, nous avons collecté le volume à partir duquel il n'est pas dommage de fabriquer un produit adapté à un usage industriel. <br><br><h2>  Le chemin du succès - «Un tas de données brutes + 300 regekspov + un petit pitonochki» </h2><br>  Ainsi, les données brutes sont entre les mains du produit alimentaire Nadgeon Dadata.  Il a décrit d'autres danses avec une citation du titre.  Tout ce que nous avons collecté a traversé une série de merveilleuses transformations. <br><br>  <b>Pour commencer, normalisé les noms des unités.</b>  Ici, je devais travailler avec ferveur avec un fichier.  Par exemple, dans les passeports «vivants», les numéros des unités territoriales sont indiqués par «Non»: «TP n ° 1 à G. Khimki ...».  Il en va de même dans la majorité des répertoires collectés, sauf un - il contient tous les numéros sans "Non": "TP 1 dans G. Khimki ...".  Je devais intégrer. <br><br>  <b>Les années se sont effondrées.</b>  Dans plusieurs répertoires, les noms des unités sont «flous» par année, même lorsqu'ils ne changent pas avec le temps. <br><br> <code>500-168,     .  . ,2007 <br> 500-168,     .  . ,2008 <br> 500-168,     .  . ,2009 <br> 500-168,     .  . ,2010 <br></code> <br>  Nous avons combiné ces enregistrements en les liant à une période: dans l'exemple ci-dessus, sur quatre enregistrements, nous en avons obtenu un avec les dates «2007-2010». <br><br>  <b>Nous avons collecté un autre livre de référence - «2018+».</b>  En 2018, un coup d'État s'est produit - le nom du département «suprême» du ministère des Affaires intérieures de la région n'est plus inscrit sur les passeports.  Par conséquent, dans un document publié dans le territoire de Krasnoyarsk, quel que soit le code, ils indiquent «GU du ministère des Affaires intérieures de la Russie dans le territoire de Krasnoyarsk». <br><br>  Nous avons pris tous les codes collectés, divisés par régions et leur avons généré les mêmes noms dans le style de 2018.  Les noms ont été tirés des répertoires collectés, quelque chose a dû être recherché sur Internet.  Il s'est avéré quelque chose comme ça. <br><br> <code>240-001,     ,2018 <br> 240-002,     ,2018 <br> 240-003,     ,2018</code> <br> <br>  <b>Les années ont été supprimées.</b>  Il s'est avéré qu'il y avait un gâchis parfait dans les répertoires: quelque part, il y a des années, quelque part pas.  Il reste soit partout à supprimer les années pour une référence plus complète, soit à ne laisser que des unités au fil des années pour le plaisir de savoir ce qui n'est pas clair.  Choisissez une référence plus complète. <br><br>  <b>Les répertoires ont été combinés</b> , les données en extase ont fusionné.  Ils ont soigneusement frotté le résultat avec un chiffon, l'ont peigné et l'ont rappelé: par exemple, "RA", si nécessaire, a été transformé en "République de l'Altaï" et une douzaine d'autres modifications ont été apportées. <br><br>  Et maintenant, le guide est prêt.  Utilisez-le, vous l'avez fait pour vous-même (en fait, vous l'avez fait pour vous :). <br><br><h2>  Quelques subtilités pour corrosif </h2><br>  <b>Il existe de nombreuses entrées dans le répertoire avec les mêmes codes d'unité.</b>  Cela est dû au fait que dans différentes années dans les passeports, l'orthographe de la même unité était différente.  Nous avons combiné des options similaires, mais avons laissé des options très différentes: laissez l'utilisateur choisir comment il l'a dans le document. <br><br>  <b>Il se peut que votre passeport et votre répertoire soient écrits un peu différemment.</b>  Sans normalisation minimale, chaque unité aurait un tel ensemble d'options similaires que vous pourriez trouver la bonne.  Par conséquent, nous avons réduit le «DÉPARTEMENT DES AFFAIRES INTERNES» à «ATC», «VILLES» et «MONTAGNE».  - à «G.», «DÉPARTEMENT DE PASSEPORT ET DE VISA» - à «OPVS», etc. <br><br><img src="https://habrastorage.org/webt/1x/95/v2/1x95v22jqkfznpcnz95ga3acqyc.png"><br>  <sub>Si vous commencez à taper un nom, "Astuces" contribuera également</sub> <br><br>  Mais!  Aucune loi ni aucun règlement n'exige que le nom de l'unité dans les documents lettre par lettre coïncide avec l'option du passeport.  Les abréviations et omissions sont autorisées.  L'essentiel est que les autres détails soient approximativement similaires et identiques: la série, le numéro, la date, le code d'unité. <br><br>  <b>Des erreurs peuvent nous être signalées <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dadata.ru/fix/fms</a> .</b>  Indiquez le code et le nom de l'enregistrement du problème et écrivez dans le commentaire ce qui ne va pas.  Corrigez et présentez un guide mis à jour pour tout le monde.  Ou envoyez des demandes de pool à GitHub. <br><br>  Naturellement, vous pouvez corriger le CSV avec vos mains si vous avez un manuel nu sans "Astuces".  Mais on ne sait pas exactement comment tout se bloquera si vous nous prenez la prochaine version du répertoire. <br><br>  En général, utilisez votre santé: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">livre de référence en CSV</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conseils prêts à l'emploi pour les unités de délivrance de passeports</a> . </li></ul><br>  Si vous partagez l'article, aidez les personnes qui recherchent un répertoire d'unités de passeports.  Souffrant de malades, ils vous en seront reconnaissants. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr448504/">https://habr.com/ru/post/fr448504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr448490/index.html">Comment démarrer la transformation DevOps</a></li>
<li><a href="../fr448492/index.html">Qu'est-ce que DevOps</a></li>
<li><a href="../fr448496/index.html">.NET Core sous Linux, DevOps à cheval</a></li>
<li><a href="../fr448498/index.html">"Russia 404": combien d'Internet gratuit reste à vivre</a></li>
<li><a href="../fr448500/index.html">Résoudre un Crackme simple pour Sega Mega Drive</a></li>
<li><a href="../fr448506/index.html">The Matrix a 20 ans: comment Wachowski a fait du cyberpunk, qui a déterminé l'agenda de toute une génération</a></li>
<li><a href="../fr448510/index.html">Acer en 2019: que faire si vous supprimez toutes les mouches des ordinateurs portables de jeu</a></li>
<li><a href="../fr448516/index.html">Évoluez ou créez une base pour les robots sur la plateforme ARDUINO, et nous pilotons des capteurs et de la vidéo vers un ordinateur via un smartphone</a></li>
<li><a href="../fr448518/index.html">Comment voir un trou noir?</a></li>
<li><a href="../fr448522/index.html">Génération de configuration pour nginx, historique d'une demande de tirage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>