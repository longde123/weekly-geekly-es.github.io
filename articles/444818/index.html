<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•í üåÅ üëºüèº Citymobil: una gu√≠a para nuevas empresas para aumentar la estabilidad en medio del crecimiento. Parte 1 üë®üèæ‚Äçüé® üßóüèæ üïµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Con este art√≠culo, abro un ciclo corto de dos art√≠culos en el que describir√© en detalle c√≥mo logramos aumentar la estabilidad de los servicios de City...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Citymobil: una gu√≠a para nuevas empresas para aumentar la estabilidad en medio del crecimiento. Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/444818/"><img src="https://habrastorage.org/webt/tg/zt/hu/tgzthuqleqe3rr2u80shu4lxkzo.png"><br><br>  Con este art√≠culo, abro un ciclo corto de dos art√≠culos en el que describir√© en detalle c√≥mo logramos aumentar la estabilidad de los servicios de Citymobil varias veces durante varios meses.  El art√≠culo comienza con una historia sobre nuestro negocio, sobre la tarea, sobre la raz√≥n de la aparici√≥n del problema del aumento de la estabilidad y sobre las limitaciones.  Citymobil es un agregador de taxis de r√°pido crecimiento.  En 2018, creci√≥ m√°s de 15 veces en el n√∫mero de viajes exitosos.  En algunos meses, el crecimiento super√≥ el 50% en comparaci√≥n con el mes anterior. <br><br>  El negocio creci√≥ a pasos agigantados (y sigue creciendo): la carga en los servidores, el tama√±o del equipo y la frecuencia de despliegues han aumentado.  Junto con esto, aparecieron nuevas amenazas a la estabilidad del servicio.  La compa√±√≠a enfrent√≥ la tarea m√°s importante: no detener el crecimiento del negocio para aumentar la estabilidad.  En este art√≠culo, le contar√© c√≥mo logramos realizar esta tarea en poco tiempo. <br><a name="habracut"></a><br><h2>  1. Declaraci√≥n del problema: ¬øqu√© es exactamente lo que queremos mejorar? </h2><br>  Antes de mejorar algo, debe aprender a medirlo para comprender claramente si hay una mejora.  Cuanto m√°s se acerque el valor medido a los t√©rminos favorables para los negocios, mejor.  Porque cuanto mayor sea la probabilidad de que mejoremos lo que el negocio realmente necesita.  Desde el punto de vista de su √©xito, el par√°metro m√°s importante para nosotros es el n√∫mero de viajes completados con √©xito (en adelante, brevemente, el n√∫mero de viajes).  Es precisamente por este par√°metro que los inversores nos eval√∫an cuando toman una decisi√≥n sobre las inversiones.  Cuantos m√°s viajes, m√°s costosa es la empresa. <br><br>  Algunos viajes generan ganancias, otros, p√©rdidas.  Pero todos los viajes son igualmente importantes para nosotros, incluso no rentables, porque nos permiten aumentar la participaci√≥n en el mercado (de hecho, la p√©rdida en los viajes es una tarifa por aumentar la participaci√≥n en el mercado).  Por lo tanto, cada viaje adicional recibido es bueno y cada viaje perdido es malo.  Todos los viajes son iguales en t√©rminos de √©xito empresarial. <br><br>  De aqu√≠ obtuvimos un criterio comprensible para medir la estabilidad: el n√∫mero de viajes perdidos son viajes que claramente perdimos debido a problemas t√©cnicos.  Un problema t√©cnico significa, por ejemplo, un error en el c√≥digo, un error n√∫mero 500, un bloqueo en la infraestructura, una integraci√≥n interrumpida con un servicio asociado (por ejemplo, mapas de Google). <br><br><h2>  2. ¬øC√≥mo contar los viajes perdidos? </h2><br>  Los viajes perdidos son a veces f√°ciles de calcular, a veces dif√≠ciles.  Por ejemplo, en el caso de una denegaci√≥n completa de servicio, cuando nada funciona (pah-pah-pah), es muy f√°cil calcular los viajes perdidos.  Conocemos el gr√°fico de tendencia del n√∫mero de viajes antes de la ca√≠da, vemos la tendencia de este gr√°fico despu√©s de la ca√≠da, completamos la l√≠nea entre el punto cuando comenz√≥ simple y el punto cuando termin√≥.  El √°rea del gr√°fico del n√∫mero de viajes bajo esta l√≠nea completa es viajes perdidos. <br><br>  En el siguiente gr√°fico, la l√≠nea negra muestra viajes en un d√≠a determinado y la l√≠nea verde muestra viajes hace una semana.  El eje X es el tiempo.  En el eje Y, el n√∫mero de viajes en un cierto intervalo de tiempo alrededor del punto X. Un pico claro se ve hacia abajo en forma de un tri√°ngulo de √°ngulo agudo.  El √°rea de este tri√°ngulo es el n√∫mero de viajes perdidos.  Por supuesto, esta es una cantidad aproximada, porque  el gr√°fico es fluctuante, pero entendemos que incluso una precisi√≥n del 10-20% es suficiente para que podamos estimar la escala del accidente para un negocio. <br><br><img src="https://habrastorage.org/webt/z_/md/hz/z_mdhzjx1q--f_uvb9t-caeof0a.png"><br><br>  Si simple no es completo, sino parcial (tambi√©n, pah-pah-pah), entonces el c√°lculo es un poco m√°s complicado.  Por ejemplo, si hay un error debido al cual el 10% de los pedidos nunca se distribuyen en autom√≥vil, entonces vemos una falla en el horario de viaje y luego un rebote (despu√©s de corregir el error).  En una situaci√≥n similar, los viajes perdidos son el √°rea limitada por la l√≠nea de tendencia;  desde abajo, el horario real del n√∫mero de viajes, a la izquierda, la l√≠nea vertical del comienzo del tiempo de inactividad, a la derecha, la l√≠nea vertical del final del tiempo de inactividad. <br><br>  El gr√°fico a continuaci√≥n muestra que el pico m√°s bajo no es tan obvio, pero la presencia de viajes durante la semana anterior sin un pico m√°s bajo ayuda a comprender que un pico m√°s bajo es una p√©rdida.  Adem√°s, una comparaci√≥n de los viajes para el d√≠a actual y el mismo d√≠a de la semana a la semana anterior deja en claro que el pico m√°s a la derecha no son los viajes perdidos, sino un fracaso habitual en este momento del d√≠a, porque  se correlaciona con la semana anterior. <br><br><img src="https://habrastorage.org/webt/wa/rs/ea/warseaaonaeeqltcmavt4ckjc2c.png"><br><br>  Por lo general, es dif√≠cil construir una l√≠nea de tendencia, porque  El gr√°fico de diente de sierra.  En este caso, la comparaci√≥n semana a semana nos ayuda.  Si dibuja dos l√≠neas en el mismo gr√°fico, la √∫ltima semana y la actual, entonces resulta que ambas curvas m√°s o menos tienen una forma similar, pero solo difieren en que una est√° por encima de la otra (la semana actual habitual es m√°s alta que la anterior, aunque hay excepciones).  La comparaci√≥n de semana a semana es importante, porque cada d√≠a de la semana, debido a diferentes circunstancias, tiene un formulario de horario diferente.  Mirando el gr√°fico de semana a semana, puede comprender d√≥nde podr√≠a estar la l√≠nea de tendencia de los viajes de hoy. <br><br>  Obviamente, un viaje perdido en s√≠ mismo es un problema mucho mayor que un solo viaje perdido.  Un cliente que quiere irse de una manera u otra se ir√°, por ejemplo, usar√° un servicio competitivo y posteriormente no podr√° regresar a nosotros, o solo volver√° cuando un competidor lo decepcione, lo cual es poco probable, porque  Los competidores son muy fuertes.  Adem√°s, incluso si un competidor decepciona al cliente, no es un hecho que regrese, porque todo se ver√° en su cabeza para que todos tengan un mal servicio, y no tiene sentido saltar sobre los competidores. <br><br>  Es decir, un viaje perdido debido a problemas t√©cnicos significa, de hecho, algunos viajes perdidos. <br><br>  Para no confundirnos en t√©rminos, llamamos a los viajes perdidos directamente debido a un problema t√©cnico, <i>viajes perdidos primarios</i> y viajes perdidos por dejar al competidor, <i>viajes perdidos secundarios</i> . <br><br>  Idealmente, para calcular el da√±o total a un negocio de un viaje perdido principal, debe comprender cu√°nto gener√≥ el viaje perdido secundario.  Es decir  es necesario multiplicar el n√∫mero de viajes perdidos iniciales por un cierto coeficiente <i>K</i> , que se puede calcular sobre la base de la frecuencia promedio de uso del servicio y el tiempo promedio de devoluci√≥n del usuario despu√©s de dejar al competidor. <br><br>  Bajo el supuesto de que el coeficiente <i>K</i> no cambia mucho con el tiempo, para comprender la tendencia de la p√©rdida de viaje, es suficiente considerar los viajes perdidos primarios y tratar de reducir su n√∫mero, ya que la relaci√≥n de viajes perdidos primarios per√≠odo a per√≠odo ser√° la misma que la relaci√≥n de viajes perdidos secundarios per√≠odo a per√≠odo periodo  Ejemplo: si perdimos 1000 viajes primarios el mes pasado, los viajes secundarios perdimos 1000 * <i>K</i> , y en total perdimos 1000 * (1+ <i>K</i> ).  Si, adem√°s, en el mes actual perdimos 500 viajes primarios, luego los viajes secundarios perdimos 500 * <i>K</i> , y en total perdimos 500 * (1+ <i>K</i> ).  En este caso, independientemente del valor del coeficiente <i>K,</i> comenzamos a perder viajes 1000 * (1+ <i>K</i> ) / (500 * (1+ <i>K</i> )) = 2 veces menos. <br><br>  Incluso si el coeficiente <i>K</i> cambia con el tiempo, es decir  es una funci√≥n del tiempo K (t), entonces todav√≠a estamos interesados ‚Äã‚Äãen reducir el n√∫mero de viajes perdidos primarios.  Porque si K (t) crece con el tiempo, entonces estamos m√°s obligados a hacer esfuerzos para perder menos viajes primarios, porque  el da√±o de perder cada uno es mayor y mayor.  Por otro lado, si K (t) disminuye con el tiempo, esto significa que, por alguna raz√≥n, los usuarios son cada vez m√°s leales a nosotros, a pesar del mal servicio, lo que significa que simplemente debemos cumplir sus expectativas. <br><br>  Total: estamos luchando por una disminuci√≥n constante en los viajes perdidos primarios. <br><br><h2>  3. Ok, consideramos los viajes perdidos.  Que sigue </h2><br>  Armados con una herramienta comprensible para medir los viajes perdidos, pasamos a la parte m√°s interesante: ¬øc√≥mo hacerlo para reducir las p√©rdidas?  Y aunque no frena el crecimiento actual!  Dado que subjetivamente nos pareci√≥ que la mayor parte de los problemas t√©cnicos debido a los viajes que se pierden est√°n relacionados con el backend, decidimos ante todo prestar atenci√≥n al proceso de desarrollo del backend.  Mirando hacia el futuro, dir√© que result√≥ de esa manera: el backend se ha convertido en el principal campo de batalla para los viajes perdidos. <br><br><h2>  4. C√≥mo funciona el proceso </h2><br>  Los problemas generalmente ocurren debido a la transferencia de c√≥digo y otras acciones manuales.  Los servicios que nunca cambian y nunca se tocan, a veces tambi√©n fallan, pero esta excepci√≥n es solo una regla de confirmaci√≥n. <br><br>  La excepci√≥n m√°s divertida en mi experiencia fue el siguiente servicio.  Cuando trabaj√© en RBC en 2006 (¬°Dios, qu√© edad tengo!), Luego, en uno de los servicios de correo de RBC hab√≠a una puerta de enlace a trav√©s de la cual pasaba todo el tr√°fico y que verificaba que las direcciones IP estuvieran en la lista negra.  El servicio funcion√≥ en FreeBSD, y funcion√≥ correctamente.  Pero un d√≠a, dej√≥ de trabajar.  Adivina por qu√©?  Un disco se derrumb√≥ en esta m√°quina (bloques defectuosos acumulados, acumulados y acumulados).  Se derrumb√≥ 3 a√±os antes de la denegaci√≥n de servicio en el servicio (!).  Y todo viv√≠a con un disco disperso.  Y luego el "frach", por cualquier motivo desconocido para ella por los motivos de Phryakhov, decidi√≥ recurrir repentinamente a un disco desmoronado y finalmente congelarse.  Estoy seguro de que Linux no har√≠a eso.  Pero este es un holivar separado. <br><br>  Para resumir lo anterior, los problemas se deben a la intervenci√≥n manual.  Una vez en mi infancia, a la edad de 10-12 a√±os, en uno de mis viajes al bosque, escuch√© de mi padre una frase que record√© toda la vida: "para que la fogata no se apague, simplemente no es necesario tocarla".  Creo que muchos de nosotros recordamos los momentos en que arrojamos le√±a a un fuego que ya ard√≠a y se apag√≥ por alguna raz√≥n desconocida. <br><br>  El resultado final: los problemas se crean mediante acciones manuales de una persona, por ejemplo, arrojar le√±a a un fuego que ya arde bien, que corta el ox√≠geno y extingue un fuego, o al extender el c√≥digo con errores en la producci√≥n.  Por lo tanto, para comprender la causa de los problemas en los servicios, debe comprender exactamente c√≥mo ocurre el despliegue y c√≥mo funciona el proceso de desarrollo. <br><br>  El proceso se centr√≥ completamente en el desarrollo r√°pido y se organiz√≥ de la siguiente manera: <br><br><ul><li>  20-30 lanzamientos por d√≠a; </li><li>  los desarrolladores se implementan ellos mismos; </li><li>  prueba r√°pida en un entorno de prueba por parte del desarrollador; </li><li>  pruebas m√≠nimas automatizadas / unitarias, revisiones m√≠nimas. </li></ul><br>  Los desarrolladores en las condiciones m√°s dif√≠ciles, de hecho, sin √°reas traseras cubiertas frente al control de calidad, con una gran cantidad de tareas productivas y experimentos importantes para los negocios, trabajaron lo m√°s enfocado y coordinado posible, resolvieron problemas complejos de manera simple, no permitieron que el c√≥digo "creciera", entendieron bien los problemas comerciales , muy responsablemente a los cambios, retrocedi√≥ r√°pidamente el inactivo.  Citymobil no es √∫nico aqu√≠.  Hace 8 a√±os en Mail.ru Mail, cuando vine a trabajar all√≠, hab√≠a una situaci√≥n similar.  Y tambi√©n comenzamos Mail.ru Cloud de forma r√°pida y sencilla, sin reverencias.  Y ya posteriormente cambiaron los procesos para lograr una mayor estabilidad. <br><br>  Seguramente, lo notaste por tu cuenta: cuando nadie te cubre la espalda, cuando solo est√°s solo con la producci√≥n, cuando se aplasta una enorme carga de responsabilidad, haces milagros.  Yo mismo tuve tal experiencia (a√∫n m√°s hardcore).  √ârase una vez, en el siglo pasado (estimaci√≥n, Internet ya estaba en el siglo pasado, me sorprende cuando lo recuerdo), trabaj√© como el √∫nico desarrollador del servicio de correo newmail.ru, lo implement√© yo mismo y tambi√©n prob√© la producci√≥n. a ti mismo a trav√©s de <code>if (!strcmp(username, ‚Äúdanikin‚Äù)) { ‚Ä¶ some new code‚Ä¶ }</code> :-) Por lo tanto, esta situaci√≥n est√° cerca de m√≠. <br><br>  No me sorprendi√≥ si supiera que con un enfoque tan simple "sobre la rodilla" comenzaron muchas startups, tanto exitosas como infructuosas, pero impulsadas por la misma pasi√≥n: centrarse en el r√°pido crecimiento del negocio y la captura del mercado. <br><br>  ¬øPor qu√© fue el proceso espec√≠ficamente en Citymobil?  Inicialmente, hab√≠a pocos desarrolladores.  Trabajaron en la empresa durante mucho tiempo y ten√≠an una buena comprensi√≥n del c√≥digo y los negocios.  Los lanzamientos fueron varias veces al d√≠a.  Los errores fueron extremadamente raros.  El proceso funcion√≥ perfectamente para esas condiciones. <br><br><h2>  5. ¬øPor qu√© un buen proceso amenaz√≥ la estabilidad? </h2><br>  Con la creciente inversi√≥n en el proyecto, hicimos nuestros planes de productos m√°s agresivos y comenzamos a contratar a muchos desarrolladores.  El n√∫mero de lanzamientos en la producci√≥n aument√≥, pero se esperaba que su calidad cayera, porque los nuevos muchachos profundizaron en el sistema y la esencia del negocio en condiciones de combate.  Con un aumento en el n√∫mero de desarrolladores, la estabilidad comenz√≥ a caer no solo linealmente, sino de forma cuadr√°tica (el n√∫mero de implementaciones creci√≥ linealmente, y la calidad del despliegue promedio tambi√©n cay√≥ linealmente; "linealmente" * "linealmente" == "cuadr√°ticamente"). <br><br>  Era obvio que era imposible dejar el proceso de esta forma.  Simplemente no fue encarcelado bajo nuevas condiciones.  Pero fue necesario cambiarlo sin perjuicio del tiempo de comercializaci√≥n, es decir, con la preservaci√≥n de 20-30 lanzamientos por d√≠a (y con un aumento en su n√∫mero en proporci√≥n al tama√±o del equipo).  De hecho, fue en un gran n√∫mero de lanzamientos que se hizo todo el punto.  Crecimos r√°pidamente, establecimos muchos experimentos, evaluamos r√°pidamente sus resultados y establecimos nuevos experimentos.  Probamos r√°pidamente hip√≥tesis de productos y negocios, las estudiamos y presentamos nuevas hip√≥tesis, que nuevamente probamos r√°pidamente, etc. No quer√≠amos reducir este ritmo en ning√∫n caso.  Adem√°s, quer√≠an aumentarlo y aumentar la velocidad de contrataci√≥n de desarrolladores.  Es decir  nuestras acciones dirigidas al crecimiento empresarial crearon una amenaza para la estabilidad, pero no quer√≠amos corregir estas acciones de ninguna manera. <br><br><h2>  6. Ok, la tarea est√° clara, el proceso est√° claro.  Que sigue </h2><br>  Con experiencia en Mail.ru Mail y Mail.ru Cloud, donde la estabilidad desde alg√∫n punto se puso a la vanguardia, donde los despliegues una vez por semana, la funcionalidad detallada y los casos de prueba descritos en detalle, todo est√° cubierto con pruebas autom√°ticas y unitarias, el c√≥digo se revisa al menos una vez y, a veces, tres veces, me encontr√© con una situaci√≥n completamente nueva. <br><br>  Parece que todo es simple: repita el proceso en Citymobil como en Mail o la nube y aumente la estabilidad del servicio.  Pero, como en esa broma obscena, hay matices: a) los despliegues en Mail / Cloud se llevan a cabo una vez por semana, y no 30 veces al d√≠a, y en Citymobil no quer√≠amos sacrificar la frecuencia de los lanzamientos, b) en Mail / Cloud todo el c√≥digo cubierto por pruebas autom√°ticas / unitarias, y en Citymobil no ten√≠amos tiempo ni recursos para esto, todas las fuerzas del desarrollo del backend fueron elegidas para probar hip√≥tesis y mejoras de productos.  Al mismo tiempo, no hab√≠a suficientes desarrolladores de back-end, incluso a altas velocidades de contrataci√≥n (gracias especiales a HR Citymobil: ¬°estos son los mejores recursos humanos del mundo! Creo que habr√° un art√≠culo separado sobre nuestro proceso de recursos humanos), es decir, no hab√≠a forma de participar en pruebas y revisiones estrictas sin frenar. <br><br><h2>  7. Cuando no sabes qu√© hacer, aprende de los errores </h2><br>  Entonces, ¬øqu√© hemos hecho m√°gicamente en Citymobil?  Decidimos aprender de los errores.  El m√©todo para mejorar el servicio a trav√©s del aprendizaje de los errores es tan antiguo como el mundo.  Si el sistema funciona bien, entonces est√° bien.  Si el sistema funciona con errores, entonces esto tambi√©n es bueno, porque puede aprender de estos errores.  Eso suena facil.  Hacer ... tambi√©n es simple.  Lo principal es establecer una meta. <br><br>  ¬øC√≥mo estudiamos?  Comenzamos registrando escrupulosamente la informaci√≥n sobre cada accidente mayor y menor.  Francamente, inicialmente no quer√≠a hacer esto, porque esperaba un milagro y pens√© que los accidentes se detendr√≠an por s√≠ mismos.  Por supuesto, nada se detuvo.  Nuevas realidades exig√≠an despiadadamente el cambio. <br><br>  Comenzamos a registrar todos los accidentes en una tabla com√∫n de Google.  Para cada accidente, se proporcion√≥ la siguiente informaci√≥n breve: <br><br><ul><li>  fecha, hora, duraci√≥n; </li><li>  causa ra√≠z </li><li>  lo que hicieron para resolver el problema; </li><li>  impacto en el negocio (n√∫mero de viajes perdidos, otros efectos); </li><li>  conclusiones </li></ul><br>  Para accidentes grandes, creamos archivos grandes separados con descripciones detalladas minuto a minuto, desde el momento en que comenz√≥ el accidente hasta el momento de su finalizaci√≥n: lo que hicimos, las decisiones que tomamos (por lo general, estas descripciones se llaman an√°lisis post mortem).  Y en la tabla general agregamos enlaces a dicha autopsia. <br><br>  El prop√≥sito de este archivo era uno: sacar conclusiones, cuya implementaci√≥n reducir√° las p√©rdidas de viaje.  Adem√°s, era muy importante formular con precisi√≥n cu√°l es la "causa ra√≠z" y cu√°les son las "conclusiones".  Estas palabras son entendibles en s√≠ mismas.  Pero todos entienden a su manera. <br><br><h2>  8. Un ejemplo de un error en el que aprendieron </h2><br>  La causa ra√≠z es la eliminaci√≥n de la cual evitar√° accidentes similares en el futuro.  Y las conclusiones son c√≥mo eliminar la causa ra√≠z (o reducir la probabilidad de que ocurra). <br><br>  La causa ra√≠z es siempre m√°s profunda de lo que parece.  Las conclusiones son siempre m√°s complicadas de lo que parecen.  Para no calmarse y detenerse en lo que parece ser, uno siempre debe estar insatisfecho con la causa ra√≠z supuestamente encontrada y siempre estar insatisfecho con las conclusiones alegadas.  Este descontento crea fervor para su posterior an√°lisis. <br><br>  D√©jame darte un ejemplo: desplegu√© el c√≥digo, todo cay√≥, retrocedi√≥, todo funcion√≥.  ¬øCu√°l es la causa ra√≠z?  <i>Despliegue</i> , usted dice.  Si no fuera as√≠, no habr√≠a accidente.  Entonces, ¬øcu√°l es la conclusi√≥n: no implementar?  Mala conclusi√≥n (perjudicial para los negocios, para ser precisos).  Es decir, lo m√°s probable es que esta no sea la causa ra√≠z, debe profundizar m√°s.  <i>Estirar con un error</i> .  ¬øLa causa ra√≠z?  Digamos  ¬øC√≥mo arreglarlo?  Por pruebas, dices.  Que pruebas  Por ejemplo, una regresi√≥n completa de toda la funcionalidad.  Esta es una buena conclusi√≥n, recu√©rdalo.  Pero la estabilidad debe mejorarse aqu√≠ y ahora, mientras no haya una regresi√≥n completa.  Necesito cavar a√∫n m√°s profundo.  <i>Despliegue con un error que ocurri√≥ debido al hecho de que depuramos la impresi√≥n en una tabla en la base de datos, la cargamos sin medida y la base de datos se rompi√≥ bajo carga</i> .  Esto ya es m√°s interesante.  De inmediato queda claro que incluso una prueba de regresi√≥n completa no lo salvar√° de este problema.  Despu√©s de todo, la base de prueba no tendr√° la misma carga que la producci√≥n. <br><br>  ¬øCu√°l es la causa ra√≠z de este problema, si profundiza a√∫n m√°s?  Para averiguarlo, hablamos con el desarrollador.  Result√≥ que estaba acostumbrado al hecho de que la base hace frente a las cargas.  Pero en las condiciones del r√°pido crecimiento del proyecto, la base se manej√≥ ayer, pero hoy ya no est√° all√≠.  Pocos de nosotros hemos trabajado en proyectos que est√°n creciendo al 50% de mes a mes.  Por ejemplo, para m√≠ este es el primer proyecto de este tipo.  Despu√©s de sumergirse en tal proyecto, comienza a darse cuenta de las nuevas realidades.  Hasta la primera vez que te encuentres con algo, nunca sabr√°s lo que sucede. <br><br>  El desarrollador sugiri√≥ inmediatamente la soluci√≥n correcta a la causa de la ca√≠da: depurar la impresi√≥n en un archivo, escribir el archivo fuera de l√≠nea por cron en la base de datos en una secuencia con resbalones.  Si hay demasiada impresi√≥n de depuraci√≥n, entonces la base de datos no se acostar√°, solo la informaci√≥n de depuraci√≥n aparecer√° fuera de tiempo.  Obviamente, este desarrollador ya aprendi√≥ de su error y no lo repetir√° en el futuro.  Pero otros desarrolladores tambi√©n necesitan averiguar sobre esto.  Como?  Necesito decirles  ¬øC√≥mo hacer que se escuche?  Cu√©nteles toda la historia de principio a fin, explique a qu√© condujo e inmediatamente sugiera c√≥mo hacerlo, as√≠ como escuche sus preguntas y responda. <br><br><h2>  9. ¬øQu√© m√°s puedes aprender de este error, o qu√© hacer y qu√© no hacer? </h2><br>  Entonces, continuamos analizando este accidente.  La compa√±√≠a est√° creciendo r√°pidamente, llegan nuevos empleados.  ¬øC√≥mo van a aprender de este error?  ¬øDecirle a cada nuevo empleado?  Obviamente, habr√° m√°s y m√°s errores: ¬øc√≥mo hacer que todos aprendan de ellos?  La respuesta es casi obvia: ¬°obtenga un archivo de qu√© hacer y qu√© no hacer (leer como "doos y donts")!  En una traducci√≥n gratuita al ruso, lo que se debe y no se debe hacer significa "lo que es bueno y lo que es malo".  En este archivo escribimos todas las conclusiones sobre el tema del desarrollo.  Mostramos el archivo a todos los nuevos empleados, y tambi√©n lo mostramos en el chat general de los desarrolladores cada vez que se actualiza el archivo, y amablemente les pedimos a todos que lo lean nuevamente (para que podamos actualizar el conocimiento anterior y ver el nuevo). <br><br>  Dir√°s que no todos leer√°n con cuidado.  Dir√°s que muchos lo olvidar√°n inmediatamente despu√©s de leer.  Y tendr√°s raz√≥n las dos veces.  Pero no negar√°s que alguien tendr√° algo en la cabeza.  Y esto ya est√° bien.  Seg√∫n la experiencia de Citymobil, los desarrolladores toman muy en serio este archivo, y los casos en que se olvidaron algunas lecciones fueron extremadamente raros.  Por cierto, el hecho mismo de que se olvid√≥ la lecci√≥n puede considerarse un problema y se puede sacar una conclusi√≥n, es decir, comprender los detalles y comprender c√≥mo cambiar el proceso para el futuro.  Muy a menudo, tal excavaci√≥n conduce a una redacci√≥n m√°s precisa y clara en lo que se debe y no se debe hacer. <br><br>  Conclusi√≥n del accidente descrito anteriormente: cree un archivo de qu√© hacer y qu√© no hacer, escriba lo que aprendi√≥ en √©l, muestre el archivo a todo el equipo y solicite a todos los reci√©n llegados que lo estudien. <br><br>  A partir del consejo general que entendimos en el an√°lisis de accidentes: no utilice la frase "factor humano".  Tan pronto como diga esto, todos lo entienden de inmediato, de modo que no se necesita hacer nada, no se necesitan conclusiones, la gente estaba equivocada, equivocada y estar√° equivocada.  Por lo tanto, en lugar de pronunciar esta frase, es necesario sacar una <i>conclusi√≥n espec√≠fica</i> .  Conclusi√≥n: este es al menos un peque√±o pero peque√±o paso para cambiar el proceso, mejorar el monitoreo y mejorar las herramientas autom√°ticas.  ¬°Con pasos tan peque√±os se cose la estructura del servicio estable! <br><br><h2>  10. En lugar de un ep√≠logo </h2><br>  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">segunda parte,</a> le contar√© sobre los tipos de accidentes de acuerdo con la experiencia de Citymobil y profundizar√© en los detalles de cada tipo de accidente, as√≠ como tambi√©n qu√© conclusiones sacamos de los accidentes, c√≥mo cambiamos el proceso, que introdujo la automatizaci√≥n.  ¬°Lo m√°s interesante en la segunda parte!  Est√©n atentos! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444818/">https://habr.com/ru/post/444818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444806/index.html">Moira participa en Google Summer of Code 2019</a></li>
<li><a href="../444808/index.html">Despliegues autom√°ticos canarios con Flagger e Istio</a></li>
<li><a href="../444810/index.html">Procesadores y marketing en inform√°tica.</a></li>
<li><a href="../444814/index.html">Criptograf√≠a en Java. Cifrado de clase</a></li>
<li><a href="../444816/index.html">Carpinter√≠a de bricolaje: expectativas y realidad</a></li>
<li><a href="../444820/index.html">Mockdown: la forma m√°s r√°pida de crear wireframes</a></li>
<li><a href="../444822/index.html">JDK 9 / JEP 280: la concatenaci√≥n de cadenas nunca volver√° a ser la misma</a></li>
<li><a href="../444824/index.html">Lo que los robots de mensajer√≠a Amazon y FedEx miran primero</a></li>
<li><a href="../444828/index.html">Una explicaci√≥n simple de algoritmos de b√∫squeda de ruta y A *</a></li>
<li><a href="../444830/index.html">Firma electr√≥nica en la nube en Rusia y el mundo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>