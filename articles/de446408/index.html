<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè∏ üôã üßíüèø Universal DRO basierend auf Arduino Nano - shDRO üíâ üßñ üîö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meine Damen und Herren, hallo. 

 In diesem Artikel werde ich √ºber die Entwicklung eines Ger√§ts zum Ablesen von Messwerten von digitalen Linealen und ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Universal DRO basierend auf Arduino Nano - shDRO</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446408/">  Meine Damen und Herren, hallo. <br><br>  In diesem Artikel werde ich √ºber die Entwicklung eines Ger√§ts zum Ablesen von Messwerten von digitalen Linealen und anderen Sensoren an Dreh- und Fr√§smaschinen sprechen. <br><br>  Die Entwicklung ist noch nicht abgeschlossen und es wird beschrieben, was im Moment getan wurde. <br><br>  Wen k√ºmmert es, willkommen bei Katze. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Warum eigene Entwicklung, aber kein fertiges Produkt.</b> <div class="spoiler_text">  Ich habe zwei Metallmaschinen (chinesisch): Fr√§sen und Drehen. <br><br>  Ich produziere regelm√§√üig Produkte mit unterschiedlichem Komplexit√§tsgrad (ich bin kein Dreher oder Fr√§smaschinenbediener, dies ist nur ein Hobby).  Und wenn das Produkt komplex ist, mussten Sie einen Taschenrechner in die Hand nehmen und den Fortschritt des Fr√§sers oder Fr√§sers berechnen.  Und wenn sich herausstellte, dass der Fr√§ser / Fr√§serhub gro√ü genug war, mussten wir die Umdrehungen der Bremssattelgriffe ber√ºcksichtigen, was offen gesagt √§rgerlich war.  Infolgedessen dachte ich √ºber DRO nach (digitale Bremss√§ttel wurden lange Zeit nur f√ºr diesen Zweck gekauft, aber der Zeitmangel verz√∂gerte die Herstellung st√§ndig). <br><br>  Bevor ich mit der Entwicklung meiner DRO begann, musste ich zwei Fragen zur Angemessenheit meiner eigenen Entwicklung beantworten: <br><br><ul><li>  Warum nicht das fertige Produkt kaufen? </li><li>  Es gibt viele DRO-Projekte im Netzwerk mit unterschiedlichen Schwierigkeitsgraden und detaillierten Beschreibungen der DIY-Fertigung.  Warum also nicht einen von ihnen sammeln? </li></ul><br>  Ich antworte mir. <br><br>  Ja, es gibt viele Produkte auf dem Markt, sowohl im Inland als auch im Ausland, mit unterschiedlichen Preisen und Funktionen.  Der gleiche Ali bietet eine vorgefertigte DRO mit drei optischen Leitungen zu einem Preis von etwa 13.000 Rubel an.  - ein sehr niedriger Preis f√ºr ein solches Ger√§t.  Da ich mich jedoch f√ºr den Herstellungsprozess selbst interessiere, wurde die Option "gekauft und installiert" gestrichen. <br><br>  Bei der Beantwortung der zweiten Frage setze ich mich an die Stelle einer Person, die das Ger√§t selbst nach einer Beschreibung zusammenbaut und was sie tun soll.  N√§mlich: <br><br><ul><li>  Kaufen Sie die erforderlichen Komponenten: Prozessor, Anzeige, Tasten und kleine Dinge wie Widerst√§nde, Kondensatoren, Stabilisatoren usw.  (ohne das nat√ºrlich nirgendwo); </li><li>  je nach Komplexit√§t des Projekts eine Leiterplatte herstellen / kaufen; </li><li>  L√∂ten Sie dann alles und flashen Sie den Prozessor. </li><li>  danach die Arbeit an den Fehlern machen; </li></ul><br>  Und erst nach diesen Schritten erhalten Sie ein fertiges Produkt.  Jeder Schritt dauert einige Zeit und da eine Person eine faule und ungeduldige Kreatur ist (im guten Sinne dieser Worte), m√∂chte sie das Ergebnis der Arbeit des Ger√§ts so schnell wie m√∂glich sehen, auch wenn es sich um eine Zwischenstufe handelt.  Und doch habe ich mich entschlossen, mein Ger√§t so zu entwickeln, dass eine Person bereits zu Beginn des Montageprozesses Zwischenergebnisse ihrer Arbeit sehen kann. <br><br>  Nun war es notwendig, ein Board f√ºr die Implementierung auszuw√§hlen. <br><br>  W√§hlen Sie zwischen Arduino basierend auf Atmega und STM. <br><br>  Ich bin ein Top-Programmierer, aber bei der Arbeit musste ich Atmega- und MSP-430-Mikrocontroller programmieren, ich war mit STM nicht vertraut.  Deshalb habe ich mich f√ºr Atmega entschieden.  Ich entschied mich f√ºr das billigste Board (oder nicht? Ich hatte es gerade) Arduino Nano basierend auf dem Atmega328-Mikrocontroller. <br></div></div><br>  <b>ShDRO-Funktionen:</b> <br><br>  (durchgestrichene Funktionalit√§t, die noch nicht implementiert wurde) <br><br><ul><li>  Arduino Nano Board, Atmega328 Prozessor; </li><li>  12 unabh√§ngige Arduino-Kan√§le / Ports, an die Leseger√§te angeschlossen sind; </li><li>  Jeder Kanal hat die folgenden Eigenschaften: Typ (CLKin, DATAin, Ain, Bin usw.), EI (Enable Interrupt), IL (Interrupt Level), Inv (Invented Signal); </li><li>  maximale Anzahl angeschlossener Ger√§te: 6; </li><li>  Jedem Ger√§t k√∂nnen ein oder mehrere von 12 verf√ºgbaren Kan√§len zugewiesen werden. </li><li>  Protokollunterst√ºtzung: 24BIT, <s>21BIT</s> , <s>BCD7</s> , BIN6, Quadratursignal, <s>periodisches Signal vom</s> Drehzahlmesser (neue Protokolle k√∂nnen hinzugef√ºgt werden); </li><li>  Konsole: Erm√∂glicht die Verwendung des Terminalprogramms zum Konfigurieren und Testen von shDRO w√§hrend der Montage und des Betriebs. </li><li>  Im Konsolenmodus ist ein logischer Pseudoanalysator implementiert, mit dem Sie die in der Konsole angegebenen Kanalebenen lesen und das Austauschprotokoll bestimmen k√∂nnen.  Die maximale Anzahl von Abtastwerten betr√§gt 256, die minimale gemessene Zeit zwischen Abtastwerten betr√§gt 8 Mikrosekunden.  Mindestens ein zu analysierender Kanal muss f√ºr die Unterbrechung konfiguriert sein. </li></ul><br>  <b>Modulares Schema:</b> <br><br><img src="https://habrastorage.org/webt/g8/c0/sd/g8c0sd0vfgbqowhmt8_ouabkwwq.png"><br><br>  Das Ger√§t besteht aus folgenden Modulen: <br><br><ul><li>  drei Spannungsstabilisatoren 5 V, 3 V, 1,5 V  3v Stabilisatoren.  und 1.5.v.  einstellbar.  Diese Spannungspegel werden in digitalen Messschiebern (1,5 V) und in der iGAGING-Leitung (3 V) verwendet. </li><li>  4 achtstellige Sieben-Segment-Anzeigen basierend auf MAX7219, kaskadiert mit Hardware-SPI verbunden; </li><li>  eine Tastatur.  Die Tastatur besteht aus zwei Widerstandsmatrizen: 2x4 und 4x4. In diesem Fall ist das Layout der Spuren auf der Platine einfacher (Sie k√∂nnen jedoch zwei 3x4-Matrizen erstellen, f√ºr die dies bequemer ist).  Jede Matrix ist mit dem ADC-Kanal verbunden. <br><br>  <i>Die Verwendung von Widerstandsmatrizen ist f√ºr mich ein gro√ües Minus, weil</i>  <i>Mit der Zeit nimmt der Widerstand der Tasten zu und die vom ADC gemessenen Spannungspegel √§ndern sich entsprechend.</i>  <i>In der ‚Äûehrlichen‚Äú Matrix fehlten jedoch einfach die Beine / Anschl√ºsse der Platine (f√ºr 24 Tasten werden 10 Anschl√ºsse ben√∂tigt).</i>  <i>Auf dieser Grundlage implementiert die Firmware die Lernfunktionalit√§t der Tastatur, das Lernen kann jederzeit durchgef√ºhrt werden und Sie ben√∂tigen keine Verbindung zum Terminalprogramm (die Schulung wird unten beschrieben).</i> </li><li>  einen Lautsprecher, der an den Hardwarezweig von Zeitgeber 1 angeschlossen ist; </li><li>  Adapterplatine zur Koordinierung der Pegel zwischen Ger√§ten und Arduino-Ports; </li><li>  4 DB9-Buchsen (f√ºr den Fall, dass Sie bis zu 6 Ger√§te unterst√ºtzen, m√ºssen Sie 6 Steckverbinder installieren, aber ich habe die zuk√ºnftige R√ºckseite des Geh√§uses nicht √ºberladen, vorausgesetzt, drei Steckverbinder werden f√ºr Achsen verwendet und ein Steckverbinder wird von anderen Ger√§ten gemeinsam genutzt.) .  Die Steckverbinder sind die einfachsten mit Beinen zum L√∂ten von Dr√§hten.  Die Dr√§hte sind wiederum mit der Adapterplatine verl√∂tet; <br><br>  <i>Die Wahl dieses Steckertyps hat folgende Gr√ºnde: Zuverl√§ssigkeit (im Vergleich zu USB-Steckern und RJ-45), gro√üe Anzahl von Pins und einfache Verkabelung.</i>  <i>Und ich habe auch eine optische Leitung mit dieser Art von Stecker.</i> </li></ul><br>  <b>Schaltplan:</b> <br><br><img src="https://habrastorage.org/webt/qm/qw/20/qmqw20atzvqehkpwa6odmbjrxra.jpeg"><br><br>  Im n√§chsten Teil werde ich die Logik von shDRO beschreiben, die derzeit verf√ºgbaren Konsolenbefehle beschreiben und auch die erste Version der Firmware auslegen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der zweite Teil.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de446408/">https://habr.com/ru/post/de446408/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446394/index.html">5. Check Point Erste Schritte R80.20. Gaia & CLI</a></li>
<li><a href="../de446396/index.html">GPS-Wochenz√§hler zur√ºckgesetzt</a></li>
<li><a href="../de446400/index.html">Dmitry Dumik, Chatfuel: √úber Y Combinator, Technologie-Unternehmertum, Verhaltens√§nderung und Bewusstsein</a></li>
<li><a href="../de446402/index.html">Mehrsprachige Apps in Angular</a></li>
<li><a href="../de446404/index.html">Moderne Alternativen zu PGP</a></li>
<li><a href="../de446412/index.html">KDB + Datenbank: Von der Finanzierung zur Formel 1</a></li>
<li><a href="../de446414/index.html">Eine gute Sache hei√üt nicht Rost</a></li>
<li><a href="../de446418/index.html">Cloudflare f√ºhrte einen eigenen VPN-Dienst ein, der auf der Anwendung 1.1.1.1 f√ºr mobile Ger√§te basiert</a></li>
<li><a href="../de446422/index.html">QuietOn - Kopfh√∂rer, die t√∂ten ...</a></li>
<li><a href="../de446424/index.html">Geschichte eines Berichts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>