<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎪 👩‍🏭 🧖 Memprediksi Solusi Tiket Waktu Menggunakan Machine Learning 📥 🏏 👩‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Membuat tiket dalam manajemen proyek dan sistem pelacakan tugas, masing-masing dari kita senang melihat perkiraan persyaratan keputusan atas banding k...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memprediksi Solusi Tiket Waktu Menggunakan Machine Learning</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dins/blog/433166/"><p>  Membuat tiket dalam manajemen proyek dan sistem pelacakan tugas, masing-masing dari kita senang melihat perkiraan persyaratan keputusan atas banding kami. <br>  Saat menerima aliran tiket masuk, seseorang / tim perlu mengaturnya dalam prioritas dan waktu, yang akan diperlukan untuk menyelesaikan setiap banding. <br>  Semua ini memungkinkan Anda untuk merencanakan waktu Anda lebih efektif untuk kedua belah pihak. </p><br><p>  Di bawah potongan, saya akan berbicara tentang bagaimana saya menganalisis dan melatih model ML yang memprediksi waktu yang dibutuhkan untuk menyelesaikan tiket yang dikeluarkan untuk tim kami. </p><a name="habracut"></a><br><p> Saya sendiri bekerja untuk posisi SRE di sebuah tim bernama LAB.  Kami menerima panggilan dari kedua pengembang dan QA mengenai penerapan lingkungan pengujian baru, pembaruan mereka ke versi rilis terbaru, solusi untuk berbagai masalah yang muncul, dan banyak lagi.  Tugas-tugas ini cukup heterogen dan, secara logis, membutuhkan waktu yang berbeda untuk diselesaikan.  Ada tim kami selama beberapa tahun dan selama waktu ini basis permintaan yang baik berhasil terkumpul.  Saya memutuskan untuk menganalisis pangkalan ini dan atas dasar itu, dengan bantuan pembelajaran mesin, membuat model yang akan menangani prediksi waktu penutupan yang memungkinkan dari sebuah banding (tiket). </p><br><p>  Namun, dalam pekerjaan kami, kami menggunakan JIRA, model yang saya sajikan dalam artikel ini tidak memiliki tautan ke produk tertentu - bukan masalah untuk mendapatkan informasi yang diperlukan dari basis data apa pun. </p><br><p>  Jadi, mari kita beralih dari kata-kata ke perbuatan. </p><br><h2 id="predvaritelnyy-analiz-dannyh">  Analisis data awal </h2><br><p>  Kami memuat semua yang kami butuhkan dan menampilkan versi paket yang digunakan. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> warnings warnings.simplefilter(<span class="hljs-string"><span class="hljs-string">'ignore'</span></span>) %matplotlib inline <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> nltk.corpus <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> stopwords <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.model_selection <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_test_split <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mean_absolute_error, mean_squared_error <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.neighbors <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KNeighborsRegressor <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LinearRegression <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time, date <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> package <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [pd, np, matplotlib, sklearn, nltk]: print(package.__name__, <span class="hljs-string"><span class="hljs-string">'version:'</span></span>, package.__version__)</code> </pre> </div></div><br><pre> <code class="plaintext hljs">pandas version: 0.23.4 numpy version: 1.15.0 matplotlib version: 2.2.2 sklearn version: 0.19.2 nltk version: 3.3</code> </pre> <br><p>  Unduh data dari file csv.  Ini berisi informasi tentang tiket yang ditutup selama 1,5 tahun terakhir.  Sebelum menulis data ke file, mereka sedikit diproses terlebih dahulu.  Misalnya, koma dan titik telah dihapus dari bidang teks dengan deskripsi.  Namun, ini hanya pemrosesan awal dan di masa depan teks akan dihapus lebih lanjut. </p><br><p>  Mari kita lihat apa yang ada di kumpulan data kami.  Secara total, 10783 tiket masuk ke dalamnya. </p><br><div class="spoiler">  <b class="spoiler_title">Penjelasan Lapangan</b> <div class="spoiler_text"><table><tbody><tr><td width="88">  Dibuat </td><td>  Tanggal dan waktu pembuatan tiket </td></tr><tr><td>  Terselesaikan </td><td>  Tanggal dan waktu penutupan tiket </td></tr><tr><td>  Resolution_time </td><td>  Jumlah menit yang berlalu antara membuat dan menutup tiket.  Ini dianggap sebagai waktu kalender, karena  perusahaan memiliki kantor di berbagai negara, bekerja di zona waktu yang berbeda dan tidak ada waktu tetap untuk seluruh departemen. </td></tr><tr><td>  Engineer_N </td><td>  Nama "kode" insinyur (agar tidak secara tidak sengaja memberikan informasi pribadi atau rahasia di masa depan, akan ada banyak data "dikodekan" dalam artikel, yang sebenarnya hanya diganti nama).  Bidang-bidang ini berisi jumlah tiket dalam mode “sedang berlangsung” pada saat penerimaan masing-masing tiket pada tanggal yang ditentukan.  Saya akan membahas bidang-bidang ini secara terpisah menjelang akhir artikel, karena  mereka layak mendapat perhatian ekstra. </td></tr><tr><td>  Ditugaskan </td><td>  Karyawan yang terlibat dalam menyelesaikan masalah. </td></tr><tr><td>  Jenis Issue_type </td><td>  Jenis tiket. </td></tr><tr><td>  Lingkungan </td><td>  Nama lingkungan kerja pengetesan untuk tiket yang dibuat (itu bisa berarti lingkungan tertentu atau lokasi secara keseluruhan, misalnya, pusat data). </td></tr><tr><td>  Prioritas </td><td>  Prioritas tiket. </td></tr><tr><td>  Jenis pekerjaan </td><td>  Jenis pekerjaan yang diharapkan untuk tiket ini (menambah atau menghapus server, memperbarui lingkungan, bekerja dengan pemantauan, dll.) </td></tr><tr><td>  Deskripsi </td><td>  Deskripsi </td></tr><tr><td>  Ringkasan </td><td>  Judul tiket. </td></tr><tr><td>  Pengamat </td><td>  Jumlah orang yang "menonton" tiket, mis.  mereka menerima pemberitahuan email untuk setiap aktivitas di tiket. </td></tr><tr><td>  Voting </td><td>  Jumlah orang yang "memilih" tiket, dengan demikian menunjukkan kepentingannya dan minat mereka terhadap tiket tersebut. </td></tr><tr><td>  Reporter </td><td>  Orang yang mengeluarkan tiket. </td></tr><tr><td>  Engineer_N_vacation </td><td>  Apakah sang insinyur sedang berlibur pada saat mengeluarkan tiket. </td></tr></tbody></table><br><pre> <code class="python hljs">df.info()</code> </pre> <br><pre> <code class="plaintext hljs">&lt;class 'pandas.core.frame.DataFrame'&gt; Index: 10783 entries, ENV-36273 to ENV-49164 Data columns (total 37 columns): Created 10783 non-null object Resolved 10783 non-null object Resolution_time 10783 non-null int64 engineer_1 10783 non-null int64 engineer_2 10783 non-null int64 engineer_3 10783 non-null int64 engineer_4 10783 non-null int64 engineer_5 10783 non-null int64 engineer_6 10783 non-null int64 engineer_7 10783 non-null int64 engineer_8 10783 non-null int64 engineer_9 10783 non-null int64 engineer_10 10783 non-null int64 engineer_11 10783 non-null int64 engineer_12 10783 non-null int64 Assignee 10783 non-null object Issue_type 10783 non-null object Environment 10771 non-null object Priority 10783 non-null object Worktype 7273 non-null object Description 10263 non-null object Summary 10783 non-null object Watchers 10783 non-null int64 Votes 10783 non-null int64 Reporter 10783 non-null object engineer_1_vacation 10783 non-null int64 engineer_2_vacation 10783 non-null int64 engineer_3_vacation 10783 non-null int64 engineer_4_vacation 10783 non-null int64 engineer_5_vacation 10783 non-null int64 engineer_6_vacation 10783 non-null int64 engineer_7_vacation 10783 non-null int64 engineer_8_vacation 10783 non-null int64 engineer_9_vacation 10783 non-null int64 engineer_10_vacation 10783 non-null int64 engineer_11_vacation 10783 non-null int64 engineer_12_vacation 10783 non-null int64 dtypes: float64(12), int64(15), object(10) memory usage: 3.1+ MB</code> </pre> </div></div><br><p>  Secara total, kami memiliki 10 bidang "objek" (yaitu, berisi nilai teks) dan 27 bidang numerik. <br>  Pertama-tama, segera cari emisi dalam data kami.  Seperti yang Anda lihat, ada tiket seperti itu di mana waktu keputusan diperkirakan dalam jutaan menit.  Ini jelas bukan informasi yang relevan, data tersebut hanya akan mengganggu pembangunan model.  Mereka sampai di sini, karena pengumpulan data dari JIRA dilakukan oleh kueri di bidang Diselesaikan, dan bukan Dibuat.  Karenanya, tiket-tiket yang ditutup dalam 1,5 tahun terakhir tiba di sini, tetapi bisa saja dibuka jauh lebih awal.  Sudah waktunya untuk menyingkirkan mereka.  Kami akan membuang tiket yang dibuat sebelum 1 Juni 2017.  Kami akan memiliki 9493 tiket tersisa. </p><br><p>  Adapun alasannya - saya pikir dalam setiap proyek Anda dapat dengan mudah menemukan permintaan yang telah berkeliaran cukup lama karena berbagai keadaan dan seringkali ditutup bukan dengan menyelesaikan masalah itu sendiri, tetapi dengan "berakhirnya undang-undang pembatasan". </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[[<span class="hljs-string"><span class="hljs-string">'Created'</span></span>, <span class="hljs-string"><span class="hljs-string">'Resolved'</span></span>, <span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>]].sort_values(<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>, ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).head()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/gm/ay/ju/gmayjuxuxwxsuljj5xhg8dqrd00.png"><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df = df[df[<span class="hljs-string"><span class="hljs-string">'Created'</span></span>] &gt;= <span class="hljs-string"><span class="hljs-string">'2017-06-01 00:00:00'</span></span>] print(df.shape)</code> </pre> </div></div><br><pre> <code class="plaintext hljs">(9493, 33)</code> </pre> <br><p>  Jadi, mari kita mulai melihat apa yang menurut kami menarik dalam data kami.  Untuk memulai, mari cari tahu yang paling sederhana - lingkungan paling populer di antara tiket kami, "reporter" paling aktif dan sejenisnya. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df.describe(include=[<span class="hljs-string"><span class="hljs-string">'object'</span></span>])</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/hj/ta/oe/hjtaoeo7rsqv2dcxzvzyiyqkqi4.png"><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'Environment'</span></span>].value_counts().head(<span class="hljs-number"><span class="hljs-number">10</span></span>)</code> </pre> </div></div><br><pre> <code class="plaintext hljs">Environment_104 442 ALL 368 Location02 367 Environment_99 342 Location03 342 Environment_31 322 Environment_14 254 Environment_1 232 Environment_87 227 Location01 202 Name: Environment, dtype: int64</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'Reporter'</span></span>].value_counts().head()</code> </pre> </div></div><br><pre> <code class="plaintext hljs">Reporter_16 388 Reporter_97 199 Reporter_04 147 Reporter_110 145 Reporter_133 138 Name: Reporter, dtype: int64</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'Worktype'</span></span>].value_counts()</code> </pre> </div></div><br><pre> <code class="plaintext hljs">Support 2482 Infrastructure 1655 Update environment 1138 Monitoring 388 QA 300 Numbers 110 Create environment 95 Tools 62 Delete environment 24 Name: Worktype, dtype: int64</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>].value_counts().plot(kind=<span class="hljs-string"><span class="hljs-string">'bar'</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>), rot=<span class="hljs-number"><span class="hljs-number">0</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>, title=<span class="hljs-string"><span class="hljs-string">'   '</span></span>);</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/bh/qh/lf/bhqhlfwmdxys3_y1k6qpdom5o4w.png"><br><p>  Ya, sesuatu yang sudah kita pelajari.  Paling sering, prioritas untuk tiket adalah normal, sekitar 2 kali lebih tinggi dan bahkan kurang kritis.  Sangat jarang ada prioritas rendah, tampaknya orang takut untuk mengeksposnya, percaya bahwa dalam kasus ini akan menggantung untuk waktu yang lama dalam antrian dan waktu untuk keputusannya mungkin tertunda.  Kemudian, ketika kita sudah akan membangun model dan menganalisis hasilnya, kita akan melihat bahwa ketakutan seperti itu mungkin tidak berdasar, karena prioritas rendah benar-benar memengaruhi kerangka waktu untuk tugas dan, tentu saja, tidak ke arah percepatan. </p><br><p>  Dari kolom untuk lingkungan yang paling populer dan reporter yang paling aktif, kami melihat bahwa Reporter_16 memiliki margin yang lebar, dan Environment_104 menjadi yang pertama di lingkungan tersebut.  Bahkan jika Anda belum menebak, saya akan memberi tahu Anda sedikit rahasia - reporter ini berasal dari tim yang bekerja di lingkungan khusus ini. <br>  Mari kita lihat seperti apa lingkungan dari tiket paling kritis ini. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[df[<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>] == <span class="hljs-string"><span class="hljs-string">'Critical'</span></span>][<span class="hljs-string"><span class="hljs-string">'Environment'</span></span>].value_counts().index[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> </div></div><br><pre> <code class="plaintext hljs">'Environment_91'</code> </pre> <br><p>  Sekarang kami akan mencetak informasi tentang berapa banyak tiket dengan prioritas berbeda berasal dari lingkungan "kritis" yang sama. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df[df[<span class="hljs-string"><span class="hljs-string">'Environment'</span></span>] == df[df[<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>] == <span class="hljs-string"><span class="hljs-string">'Critical'</span></span>][<span class="hljs-string"><span class="hljs-string">'Environment'</span></span>].value_counts().index[<span class="hljs-number"><span class="hljs-number">0</span></span>]][<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>].value_counts()</code> </pre> </div></div><br><pre> <code class="plaintext hljs">High 62 Critical 57 Normal 46 Name: Priority, dtype: int64</code> </pre> <br><p>  Mari kita lihat waktu pelaksanaan tiket dalam konteks prioritas.  Sebagai contoh, sangat menyenangkan untuk memperhatikan bahwa waktu tempuh rata-rata tiket dengan prioritas rendah adalah lebih dari 70 ribu menit (hampir 1,5 bulan).  Ketergantungan waktu eksekusi tiket pada prioritasnya juga mudah dilacak. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df.groupby([<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>])[<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>].describe()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/tc/gs/gc/tcgsgc07_eog0hnm0mcj5i3m790.png"><br><p>  Atau di sini sebagai grafik, nilai median.  Seperti yang Anda lihat, gambarnya tidak banyak berubah, oleh karena itu, emisi tidak terlalu mempengaruhi distribusi. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">df.groupby([<span class="hljs-string"><span class="hljs-string">'Priority'</span></span>])[<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>].median().sort_values().plot(kind=<span class="hljs-string"><span class="hljs-string">'bar'</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>), rot=<span class="hljs-number"><span class="hljs-number">0</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>);</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/ir/zc/go/irzcgo8mkcwkmfeybj2vriormwq.png"><br><p>  Sekarang mari kita lihat waktu solusi tiket rata-rata untuk masing-masing insinyur, tergantung pada berapa banyak tiket yang dimiliki insinyur pada waktu itu.  Faktanya, grafik-grafik ini, yang mengejutkan saya, tidak menunjukkan satu gambar pun.  Untuk beberapa orang, waktu eksekusi meningkat karena tiket saat ini dalam pekerjaan meningkat, sedangkan untuk beberapa hubungan ini adalah sebaliknya.  Bagi sebagian orang, kecanduan sama sekali tidak dapat dilacak. </p><br><p>  Namun, melihat ke depan lagi, saya akan mengatakan bahwa kehadiran fitur ini dalam dataset meningkatkan akurasi model lebih dari 2 kali dan pasti ada efek pada waktu eksekusi.  Kami tidak melihatnya.  Dan model melihat. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">engineers = [i.replace(<span class="hljs-string"><span class="hljs-string">'_vacation'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> df.columns <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'vacation'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> i] cols = <span class="hljs-number"><span class="hljs-number">2</span></span> rows = int(len(engineers) / cols) fig, axes = plt.subplots(nrows=rows, ncols=cols, figsize=(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(rows): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(cols): df.groupby(engineers[i * cols + j])[<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>].mean().plot(kind=<span class="hljs-string"><span class="hljs-string">'bar'</span></span>, rot=<span class="hljs-number"><span class="hljs-number">0</span></span>, ax=axes[i, j]).set_xlabel(<span class="hljs-string"><span class="hljs-string">'Engineer_'</span></span> + str(i * cols + j + <span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> cols, rows, fig, axes</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Gambar panjang sebagai hasilnya</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xn/vb/zk/xnvbzk-0flci0_llfpn6ghuqpts.png"></div></div><br><p>  Mari kita membuat matriks kecil interaksi berpasangan dari fitur berikut: waktu solusi tiket, jumlah suara dan jumlah pengamat.  Dengan bonus diagonal, kami memiliki distribusi setiap atribut. </p><br><p>  Dari yang menarik, orang bisa melihat ketergantungan mengurangi waktu solusi tiket pada semakin banyak pengamat.  Terlihat juga bahwa orang tidak terlalu aktif dalam menggunakan suara. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">pd.scatter_matrix(df[[<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>, <span class="hljs-string"><span class="hljs-string">'Watchers'</span></span>, <span class="hljs-string"><span class="hljs-string">'Votes'</span></span>]], figsize=(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>), diagonal=<span class="hljs-string"><span class="hljs-string">'hist'</span></span>);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Gambar Hasil</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bf/qo/qq/bfqoqq3djaiib4mxn1l5mdsy6ru.png"></div></div><br><p>  Jadi, kami melakukan analisis awal kecil data, melihat ketergantungan yang ada antara atribut target, yang merupakan waktu yang dibutuhkan untuk menyelesaikan tiket, dan tanda-tanda seperti jumlah suara untuk tiket, jumlah "pengamat" di belakangnya dan prioritasnya.  Kami melanjutkan. </p><br><h2 id="postroenie-modeli-vystraivaem-priznaki">  Membangun model.  Tanda-tanda bangunan </h2><br><p>  Inilah saatnya untuk beralih membangun model itu sendiri.  Tapi pertama-tama, kita perlu membawa fitur kita ke dalam bentuk yang dapat dimengerti oleh model.  Yaitu  menguraikan tanda-tanda kategorikal menjadi vektor jarang dan menyingkirkan kelebihan.  Misalnya, kita tidak perlu bidang dengan waktu tiket dibuat dan ditutup dalam model, serta bidang yang Ditugaskan, karena  kami akhirnya akan menggunakan model ini untuk memprediksi waktu pelaksanaan tiket yang belum ditetapkan kepada siapa pun ("terbunuh"). </p><br><p>  Tanda target, seperti yang baru saja saya sebutkan, adalah waktu untuk menyelesaikan masalah bagi kami, jadi kami menganggapnya sebagai vektor terpisah dan juga menghapusnya dari kumpulan data umum.  Selain itu, beberapa bidang kosong karena fakta bahwa wartawan tidak selalu mengisi bidang deskripsi saat mengeluarkan tiket.  Dalam kasus ini, panda menetapkan nilainya ke NaN, kami hanya menggantinya dengan string kosong. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">y = df[<span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>] df.drop([<span class="hljs-string"><span class="hljs-string">'Created'</span></span>, <span class="hljs-string"><span class="hljs-string">'Resolved'</span></span>, <span class="hljs-string"><span class="hljs-string">'Resolution_time'</span></span>, <span class="hljs-string"><span class="hljs-string">'Assignee'</span></span>], axis=<span class="hljs-number"><span class="hljs-number">1</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) df[<span class="hljs-string"><span class="hljs-string">'Description'</span></span>].fillna(<span class="hljs-string"><span class="hljs-string">''</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) df[<span class="hljs-string"><span class="hljs-string">'Summary'</span></span>].fillna(<span class="hljs-string"><span class="hljs-string">''</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> </div></div><br><p>  Kami menguraikan tanda-tanda kategorikal menjadi vektor jarang (Pengodean <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">satu-panas</a> ).  Sampai kami menyentuh bidang dengan deskripsi dan daftar isi tiket.  Kami akan menggunakannya sedikit berbeda.  Beberapa nama reporter berisi [X].  Jadi JIRA menandai karyawan tidak aktif yang tidak lagi bekerja di perusahaan.  Saya memutuskan untuk meninggalkan mereka di antara tanda-tanda, meskipun dimungkinkan untuk menghapus data dari mereka, karena di masa depan, ketika menggunakan model, kita tidak akan melihat tiket dari karyawan ini. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_df</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dic, feature_list)</span></span></span><span class="hljs-function">:</span></span> out = pd.DataFrame(dic) out = pd.concat([out, pd.get_dummies(out[feature_list])], axis = <span class="hljs-number"><span class="hljs-number">1</span></span>) out.drop(feature_list, axis = <span class="hljs-number"><span class="hljs-number">1</span></span>, inplace = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out X = create_df(df, df.columns[df.dtypes == <span class="hljs-string"><span class="hljs-string">'object'</span></span>].drop([<span class="hljs-string"><span class="hljs-string">'Description'</span></span>, <span class="hljs-string"><span class="hljs-string">'Summary'</span></span>])) X.columns = X.columns.str.replace(<span class="hljs-string"><span class="hljs-string">' \[X\]'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)</code> </pre> </div></div><br><p>  Dan sekarang kita akan berurusan dengan bidang deskripsi di tiket.  Kami akan bekerja dengannya dalam salah satu cara yang mungkin paling sederhana - kami akan mengumpulkan semua kata yang digunakan dalam tiket kami, menghitung yang paling populer di antara mereka, membuang kata-kata "ekstra" - kata-kata yang jelas tidak dapat mempengaruhi hasilnya, seperti, misalnya, kata "tolong" (tolong - semua komunikasi di JIRA dilakukan secara ketat dalam bahasa Inggris), yang merupakan yang paling populer.  Ya, ini orang-orang sopan kami. </p><br><p>  Kami juga menghapus " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kata-kata berhenti</a> ", menurut perpustakaan nltk, dan lebih jelas menghapus teks dari karakter yang tidak perlu.  Biarkan saya mengingatkan Anda bahwa ini adalah hal paling sederhana yang dapat dilakukan dengan teks.  Kami tidak " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mencap</a> " kata-kata, Anda juga dapat menghitung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">N-gram</a> kata yang paling populer, tetapi kami akan membatasi diri untuk itu. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">all_words = np.concatenate(df[<span class="hljs-string"><span class="hljs-string">'Description'</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: s.split()).values) stop_words = stopwords.words(<span class="hljs-string"><span class="hljs-string">'english'</span></span>) stop_words.extend([<span class="hljs-string"><span class="hljs-string">'please'</span></span>, <span class="hljs-string"><span class="hljs-string">'hi'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>, <span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'3'</span></span>, <span class="hljs-string"><span class="hljs-string">'4'</span></span>, <span class="hljs-string"><span class="hljs-string">'5'</span></span>, <span class="hljs-string"><span class="hljs-string">'6'</span></span>, <span class="hljs-string"><span class="hljs-string">'7'</span></span>, <span class="hljs-string"><span class="hljs-string">'8'</span></span>, <span class="hljs-string"><span class="hljs-string">'9'</span></span>, <span class="hljs-string"><span class="hljs-string">'('</span></span>, <span class="hljs-string"><span class="hljs-string">')'</span></span>, <span class="hljs-string"><span class="hljs-string">'='</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>]) stop_words.extend([<span class="hljs-string"><span class="hljs-string">'h3'</span></span>, <span class="hljs-string"><span class="hljs-string">'+'</span></span>, <span class="hljs-string"><span class="hljs-string">'-'</span></span>, <span class="hljs-string"><span class="hljs-string">'@'</span></span>, <span class="hljs-string"><span class="hljs-string">'!'</span></span>, <span class="hljs-string"><span class="hljs-string">'#'</span></span>, <span class="hljs-string"><span class="hljs-string">'$'</span></span>, <span class="hljs-string"><span class="hljs-string">'%'</span></span>, <span class="hljs-string"><span class="hljs-string">'^'</span></span>, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>, <span class="hljs-string"><span class="hljs-string">'*'</span></span>, <span class="hljs-string"><span class="hljs-string">'(for'</span></span>, <span class="hljs-string"><span class="hljs-string">'output)'</span></span>]) stop_symbols = [<span class="hljs-string"><span class="hljs-string">'=&gt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'|'</span></span>, <span class="hljs-string"><span class="hljs-string">'['</span></span>, <span class="hljs-string"><span class="hljs-string">']'</span></span>, <span class="hljs-string"><span class="hljs-string">'#'</span></span>, <span class="hljs-string"><span class="hljs-string">'*'</span></span>, <span class="hljs-string"><span class="hljs-string">'\\'</span></span>, <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-string"><span class="hljs-string">'-&gt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'&gt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;'</span></span>, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>] words_series = pd.Series(list(all_words)) <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> all_words words_series = words_series[~words_series.isin(stop_words)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> symbol <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> stop_symbols: words_series = words_series[~words_series.str.contains(symbol, regex=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, na=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)]</code> </pre> </div></div><br><p>  Setelah semua ini, kami mendapatkan objek panda. Seri berisi semua kata yang digunakan.  Mari kita lihat yang paling populer dari mereka dan ambil 50 pertama dari daftar untuk digunakan sebagai tanda.  Untuk setiap tiket, kita akan melihat apakah kata ini digunakan dalam deskripsi, dan jika demikian, maka letakkan 1 di kolom yang sesuai, jika tidak 0. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">usefull_words = list(words_series.value_counts().head(<span class="hljs-number"><span class="hljs-number">50</span></span>).index) print(usefull_words[<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>])</code> </pre> </div></div><br><pre> <code class="plaintext hljs">['error', 'account', 'info', 'call', '{code}', 'behavior', 'array', 'update', 'env', 'actual']</code> </pre> <br><p>  Sekarang dalam kumpulan data umum kami, kami akan membuat kolom terpisah untuk kata-kata yang telah kami pilih.  Pada ini, Anda dapat menyingkirkan bidang deskripsi itu sendiri. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> word <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> usefull_words: X[<span class="hljs-string"><span class="hljs-string">'Description_'</span></span> + word] = X[<span class="hljs-string"><span class="hljs-string">'Description'</span></span>].str.contains(word).astype(<span class="hljs-string"><span class="hljs-string">'int64'</span></span>) X.drop(<span class="hljs-string"><span class="hljs-string">'Description'</span></span>, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> </div></div><br><p>  Kami akan melakukan hal yang sama untuk bidang judul tiket. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">all_words = np.concatenate(df[<span class="hljs-string"><span class="hljs-string">'Summary'</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: s.split()).values) words_series = pd.Series(list(all_words)) <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> all_words words_series = words_series[~words_series.isin(stop_words)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> symbol <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> stop_symbols: words_series = words_series[~words_series.str.contains(symbol, regex=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, na=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)] usefull_words = list(words_series.value_counts().head(<span class="hljs-number"><span class="hljs-number">50</span></span>).index) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> word <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> usefull_words: X[<span class="hljs-string"><span class="hljs-string">'Summary_'</span></span> + word] = X[<span class="hljs-string"><span class="hljs-string">'Summary'</span></span>].str.contains(word).astype(<span class="hljs-string"><span class="hljs-string">'int64'</span></span>) X.drop(<span class="hljs-string"><span class="hljs-string">'Summary'</span></span>, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> </div></div><br><p>  Mari kita lihat apa yang kita dapatkan di matriks fitur X dan vektor respons y. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">print(X.shape, y.shape)</code> </pre> </div></div><br><pre> <code class="plaintext hljs">((9493, 1114), (9493,))</code> </pre> <br><p>  Sekarang kita akan membagi data ini menjadi sampel pelatihan (pelatihan) dan sampel uji dalam rasio persentase 75/25.  Total kami memiliki 7119 contoh yang akan kami latih, dan 2374 di mana kami akan mengevaluasi model kami.  Dan dimensi matriks atribut kami meningkat menjadi 1114 karena peletakan tanda-tanda kategorikal. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">X_train, X_holdout, y_train, y_holdout = train_test_split(X, y, test_size=<span class="hljs-number"><span class="hljs-number">0.25</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>) print(X_train.shape, X_holdout.shape)</code> </pre> </div></div><br><pre> <code class="plaintext hljs">((7119, 1114), (2374, 1114))</code> </pre> <br><h2 id="treniruem-model">  Kami melatih model. </h2><br><h3 id="lineynaya-regressiya">  Regresi linier </h3><br><p>  Mari kita mulai dengan model paling ringan dan paling akurat (paling tidak diharapkan) - regresi linier.  Kami akan mengevaluasi baik dengan akurasi pada data pelatihan, dan oleh sampel tertunda (ketidaksepakatan) - data bahwa model tidak melihat. </p><br><p>  Dalam kasus regresi linier, model lebih atau kurang dapat diterima menunjukkan dirinya pada data pelatihan, tetapi akurasi pada sampel yang tertunda sangat rendah.  Bahkan jauh lebih buruk daripada memprediksi rata-rata yang biasa untuk semua tiket. </p><br><p>  Di sini Anda perlu istirahat sejenak dan memberi tahu bagaimana model mengevaluasi kualitas menggunakan metode skornya. <br>  Penilaian dilakukan dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">koefisien determinasi</a> : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>m</mi></mrow></msubsup><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>m</mi></mrow></msubsup><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="61.298ex" height="3.262ex" viewBox="0 -987.6 26392.1 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-32" x="1074" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-3D" x="1491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-31" x="2547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-2212" x="3270" y="0"></use><g transform="translate(4270,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-75" x="719" y="0"></use><g transform="translate(1292,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6D" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-28" x="3419" y="0"></use><g transform="translate(3808,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-2212" x="4865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-68" x="6116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-61" x="6692" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-74" x="7222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="7583" y="0"></use><g transform="translate(8081,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6F" x="9174" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-76" x="9660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-65" x="10145" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-72" x="10612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-73" x="11313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-75" x="11783" y="0"></use><g transform="translate(12355,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6D" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-28" x="14483" y="0"></use><g transform="translate(14872,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-2212" x="15929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6F" x="17180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-76" x="17665" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-65" x="18151" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-72" x="18617" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6C" x="19069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="19367" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6E" x="19713" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-65" x="20313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="20780" y="0"></use><g transform="translate(21277,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMAIN-32" x="550" y="583"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>−</mo><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>m</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>−</mo><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mtext>&nbsp;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>m</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo>−</mo><mtext>&nbsp;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> R ^ 2 = 1 - {\ sum_ {i = 1} ^ {m} (y_ {i} - \ hat {y}) ^ 2 \ over \ sum_ {i = 1} ^ {m} (y_ {i } - \ overline {y}) ^ 2} </script></p><br><p>  Dimana <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.145ex" height="2.419ex" viewBox="0 -780.1 2215 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-74" x="1356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="1717" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ hat {y} </script>  Apakah hasilnya diprediksi oleh model a <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.097ex" height="2.419ex" viewBox="0 -780.1 4347.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-76" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-65" x="1221" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-72" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6C" x="2139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-69" x="2437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-6E" x="2783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-65" x="3383" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/dins/blog/433166/&amp;usg=ALkJrhg8pyEtKU0H0xlxhgEsZFzvt-zu3Q#MJMATHI-79" x="3850" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>n</mi><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ overline {y} </script>  - nilai rata-rata untuk seluruh sampel. </p><br><p>  Kami tidak akan terlalu memikirkan koefisien sekarang.  Kami hanya mencatat bahwa itu tidak sepenuhnya mencerminkan keakuratan model yang menarik minat kami.  Oleh karena itu, pada saat yang sama, kami akan menggunakan Mean Absolute Error (MAE) untuk mengevaluasi dan mengandalkannya. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">lr = LinearRegression() lr.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">'R^2 train:'</span></span>, lr.score(X_train, y_train)) print(<span class="hljs-string"><span class="hljs-string">'R^2 test:'</span></span>, lr.score(X_holdout, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>, mean_absolute_error(lr.predict(X_train), y_train)) print(<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>, mean_absolute_error(lr.predict(X_holdout), y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">R^2 train: 0.3884389470220214 R^2 test: -6.652435243123196e+17 MAE train: 8503.67256637168 MAE test: 1710257520060.8154</code> </pre> <br><h3 id="gradientnyy-busting">  Peningkatan Gradien </h3><br><p>  Nah, di mana tanpa itu, tanpa meningkatkan gradien?  Mari kita coba latih modelnya dan lihat apa yang terjadi.  Kami akan menggunakan XGBoost terkenal untuk ini.  Mari kita mulai dengan pengaturan hyperparameter standar. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> xgboost xgb = xgboost.XGBRegressor() xgb.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">'R^2 train:'</span></span>, xgb.score(X_train, y_train)) print(<span class="hljs-string"><span class="hljs-string">'R^2 test:'</span></span>, xgb.score(X_holdout, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>, mean_absolute_error(xgb.predict(X_train), y_train)) print(<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>, mean_absolute_error(xgb.predict(X_holdout), y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">R^2 train: 0.5138516547636054 R^2 test: 0.12965507684512545 MAE train: 7108.165167471887 MAE test: 8343.433260957032</code> </pre> <br><p>  Hasilnya di luar kotak tidak lagi buruk.  Mari kita coba memodelkan model dengan memilih hyperparameters: n_estimators, learning_rate dan max_depth.  Sebagai hasilnya, kami memikirkan nilai 150, 0,1, dan 3, masing-masing, sebagai menunjukkan hasil terbaik pada sampel uji dengan tidak adanya overtraining model pada data pelatihan. </p><br><div class="spoiler">  <b class="spoiler_title">Kami memilih n_estimators</b> <div class="spoiler_text"><p>  * <em>Alih-alih R ^ 2 Skor dalam gambar harus MAE.</em> </p><br><pre> <code class="python hljs">xgb_model_abs_testing = list() xgb_model_abs_training = list() rng = np.arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">151</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rng: xgb = xgboost.XGBRegressor(n_estimators=i) xgb.fit(X_train, y_train) xgb.score(X_holdout, y_holdout) xgb_model_abs_testing.append(mean_absolute_error(xgb.predict(X_holdout), y_holdout)) xgb_model_abs_training.append(mean_absolute_error(xgb.predict(X_train), y_train)) plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) plt.plot(rng, xgb_model_abs_testing, label=<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>); plt.plot(rng, xgb_model_abs_training, label=<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>); plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Number of estimators'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'$R^2 Score$'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.show();</code> </pre> <br><img src="https://habrastorage.org/webt/yw/_k/fe/yw_kfe9ov-i5usxjjbvhgnyjnss.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Kami memilih learning_rate</b> <div class="spoiler_text"><pre> <code class="python hljs">xgb_model_abs_testing = list() xgb_model_abs_training = list() rng = np.arange(<span class="hljs-number"><span class="hljs-number">0.05</span></span>, <span class="hljs-number"><span class="hljs-number">0.65</span></span>, <span class="hljs-number"><span class="hljs-number">0.05</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rng: xgb = xgboost.XGBRegressor(n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, learning_rate=i) xgb.fit(X_train, y_train) xgb.score(X_holdout, y_holdout) xgb_model_abs_testing.append(mean_absolute_error(xgb.predict(X_holdout), y_holdout)) xgb_model_abs_training.append(mean_absolute_error(xgb.predict(X_train), y_train)) plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) plt.plot(rng, xgb_model_abs_testing, label=<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>); plt.plot(rng, xgb_model_abs_training, label=<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>); plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Learning rate'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'MAE'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.show();</code> </pre> <br><img src="https://habrastorage.org/webt/iv/7n/5n/iv7n5n1dfgccqjx2frkjsjdzxxq.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Kami memilih max_depth</b> <div class="spoiler_text"><pre> <code class="python hljs">xgb_model_abs_testing = list() xgb_model_abs_training = list() rng = np.arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rng: xgb = xgboost.XGBRegressor(n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, learning_rate=<span class="hljs-number"><span class="hljs-number">0.1</span></span>, max_depth=i) xgb.fit(X_train, y_train) xgb.score(X_holdout, y_holdout) xgb_model_abs_testing.append(mean_absolute_error(xgb.predict(X_holdout), y_holdout)) xgb_model_abs_training.append(mean_absolute_error(xgb.predict(X_train), y_train)) plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) plt.plot(rng, xgb_model_abs_testing, label=<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>); plt.plot(rng, xgb_model_abs_training, label=<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>); plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Maximum depth'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'MAE'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.show();</code> </pre> <br><img src="https://habrastorage.org/webt/2b/ej/70/2bej70cirp-wehkeolsd-6klzic.png"></div></div><br><p>  Sekarang kita akan melatih model dengan hyperparameters yang dipilih. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">xgb = xgboost.XGBRegressor(n_estimators=<span class="hljs-number"><span class="hljs-number">150</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, learning_rate=<span class="hljs-number"><span class="hljs-number">0.1</span></span>, max_depth=<span class="hljs-number"><span class="hljs-number">3</span></span>) xgb.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">'R^2 train:'</span></span>, xgb.score(X_train, y_train)) print(<span class="hljs-string"><span class="hljs-string">'R^2 test:'</span></span>, xgb.score(X_holdout, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>, mean_absolute_error(xgb.predict(X_train), y_train)) print(<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>, mean_absolute_error(xgb.predict(X_holdout), y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">R^2 train: 0.6745967150462303 R^2 test: 0.15415143189670344 MAE train: 6328.384400466232 MAE test: 8217.07897417256</code> </pre> <br><p>  Hasil akhir dengan parameter yang dipilih dan pentingnya fitur visualisasi - pentingnya tanda sesuai dengan model.  Yang pertama adalah jumlah pengamat tiket, tapi kemudian 4 insinyur langsung pergi.  Dengan demikian, waktu kerja tiket bisa sangat dipengaruhi oleh pekerjaan seorang insinyur.  Dan logis bahwa waktu luang beberapa di antara mereka lebih penting.  Setidaknya karena tim memiliki insinyur senior dan menengah (kami tidak memiliki junior di tim).  Ngomong-ngomong, lagi-lagi secara rahasia, insinyur di tempat pertama (bar oranye) benar-benar salah satu yang paling berpengalaman di antara seluruh tim.  Selain itu, keempat insinyur ini memiliki awalan senior di posisi mereka.  Ternyata model itu sekali lagi mengkonfirmasi ini. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs">features_df = pd.DataFrame(data=xgb.feature_importances_.reshape(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>), columns=X.columns).sort_values(axis=<span class="hljs-number"><span class="hljs-number">1</span></span>, by=[<span class="hljs-number"><span class="hljs-number">0</span></span>], ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) features_df.loc[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>].plot(kind=<span class="hljs-string"><span class="hljs-string">'bar'</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>), rot=<span class="hljs-number"><span class="hljs-number">75</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>);</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/yn/er/7o/yner7ojqi-tz7a5je4g8phkmyki.png"><br><h3 id="neyronnaya-set">  Jaringan saraf </h3><br><p>  Tetapi kami tidak akan berhenti pada satu peningkatan gradien dan mencoba untuk melatih jaringan saraf, lebih tepatnya perceptron Multilayer, jaringan saraf distribusi langsung yang sepenuhnya terhubung.  Kali ini kita tidak akan memulai dengan pengaturan standar hyperparameters, seperti  di perpustakaan sklearn, yang akan kita gunakan, secara default hanya ada satu lapisan tersembunyi dengan 100 neuron dan selama pelatihan model memberikan peringatan tentang ketidaksepakatan untuk iterasi standar 200.  Kami segera menggunakan 3 lapisan tersembunyi dengan 300, 200 dan 100 neuron, masing-masing. </p><br><p>  Sebagai hasilnya, kami melihat bahwa model tersebut tidak terlalu terlatih pada sampel pelatihan, yang, bagaimanapun, tidak mencegahnya menunjukkan hasil yang layak pada sampel uji.  Hasil ini sedikit lebih rendah daripada hasil peningkatan gradien. </p><br><div class="spoiler">  <b class="spoiler_title">Kode sumber</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.neural_network <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MLPRegressor nn = MLPRegressor(random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, hidden_layer_sizes=(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span> ,<span class="hljs-number"><span class="hljs-number">100</span></span>), alpha=<span class="hljs-number"><span class="hljs-number">0.03</span></span>, learning_rate=<span class="hljs-string"><span class="hljs-string">'adaptive'</span></span>, learning_rate_init=<span class="hljs-number"><span class="hljs-number">0.0005</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">200</span></span>, momentum=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, nesterovs_momentum=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) nn.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">'R^2 train:'</span></span>, nn.score(X_train, y_train)) print(<span class="hljs-string"><span class="hljs-string">'R^2 test:'</span></span>, nn.score(X_holdout, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>, mean_absolute_error(nn.predict(X_train), y_train)) print(<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>, mean_absolute_error(nn.predict(X_holdout), y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">R^2 train: 0.9771443840549647 R^2 test: -0.15166596239118246 MAE train: 1627.3212161350423 MAE test: 8816.204561947616</code> </pre> <br><p>  Mari kita lihat apa yang dapat kita capai dengan mencoba memilih arsitektur terbaik dari jaringan kita.             ,     ,          200  ,    ,      .       . </p><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><pre> <code class="python hljs">plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [(<span class="hljs-number"><span class="hljs-number">500</span></span>,), (<span class="hljs-number"><span class="hljs-number">750</span></span>,), (<span class="hljs-number"><span class="hljs-number">1000</span></span>,), (<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">500</span></span>)]: nn = MLPRegressor(random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, hidden_layer_sizes=i, alpha=<span class="hljs-number"><span class="hljs-number">0.03</span></span>, learning_rate=<span class="hljs-string"><span class="hljs-string">'adaptive'</span></span>, learning_rate_init=<span class="hljs-number"><span class="hljs-number">0.0005</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">200</span></span>, momentum=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, nesterovs_momentum=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) nn.fit(X_train, y_train) plt.plot(nn.loss_curve_, label=str(i)); plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Iterations'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'MSE'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/eg/xx/3k/egxx3kwhm28pfdsbvn_sp2_sewo.png"></div></div><br><p>         .  3    10        . </p><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><pre> <code class="python hljs">plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [(<span class="hljs-number"><span class="hljs-number">500</span></span>,<span class="hljs-number"><span class="hljs-number">300</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">150</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>), (<span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>), (<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">250</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>)]: nn = MLPRegressor(random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, hidden_layer_sizes=i, alpha=<span class="hljs-number"><span class="hljs-number">0.03</span></span>, learning_rate=<span class="hljs-string"><span class="hljs-string">'adaptive'</span></span>, learning_rate_init=<span class="hljs-number"><span class="hljs-number">0.001</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">200</span></span>, momentum=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, nesterovs_momentum=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) nn.fit(X_train, y_train) plt.plot(nn.loss_curve_, label=str(i)); plt.xlabel(<span class="hljs-string"><span class="hljs-string">'Iterations'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'MSE'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">'best'</span></span>) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/p9/8z/d7/p98zd7u3ppxuzyykvyt91skxjiq.png"></div></div><br><p>    ""    (200, 100, 100, 100, 80, 80, 80, 40, 20)    : <br> 2506    <br> 7351    </p><br><p>   ,    ,        .      learning rate    . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">nn = MLPRegressor(random_state=<span class="hljs-number"><span class="hljs-number">17</span></span>, hidden_layer_sizes=(<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>), alpha=<span class="hljs-number"><span class="hljs-number">0.1</span></span>, learning_rate=<span class="hljs-string"><span class="hljs-string">'adaptive'</span></span>, learning_rate_init=<span class="hljs-number"><span class="hljs-number">0.007</span></span>, max_iter=<span class="hljs-number"><span class="hljs-number">200</span></span>, momentum=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, nesterovs_momentum=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) nn.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">'R^2 train:'</span></span>, nn.score(X_train, y_train)) print(<span class="hljs-string"><span class="hljs-string">'R^2 test:'</span></span>, nn.score(X_holdout, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'MAE train'</span></span>, mean_absolute_error(nn.predict(X_train), y_train)) print(<span class="hljs-string"><span class="hljs-string">'MAE test'</span></span>, mean_absolute_error(nn.predict(X_holdout), y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">R^2 train: 0.836204705204337 R^2 test: 0.15858607391959356 MAE train: 4075.8553476632796 MAE test: 7530.502826043687</code> </pre> <br><p>  ,  .      ,        .   ,       ,    . </p><br><p>     .    :                 ( ,   200 ).  ,        ""   .  , 30   200 ,   issue type: Epic       .         , ..    ,   ,                ,     ,           .    4  5    .         ,    .           ,      . </p><br><p>       —      9  ,             .     ,           ,        ,          . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">pd.Series([X_train.columns[abs(nn.coefs_[<span class="hljs-number"><span class="hljs-number">0</span></span>][:,i]).argmax()] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(nn.hidden_layer_sizes[<span class="hljs-number"><span class="hljs-number">0</span></span>])]).value_counts().head(<span class="hljs-number"><span class="hljs-number">5</span></span>).sort_values().plot(kind=<span class="hljs-string"><span class="hljs-string">'barh'</span></span>, title=<span class="hljs-string"><span class="hljs-string">'Feature importance'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>));</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/t3/f_/pk/t3f_pkvagtacmshpf6ultiteoki.png"><br><h2 id="ansambl-modeley">   </h2><br><p>             .  Mengapa       7530   8217.     (7530 + 8217) / 2 = 7873,  ,    , ? ,  .    ,   .     ,     7526. </p><br><p>      ,     kaggle .     , ,    . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">nn_predict = nn.predict(X_holdout) xgb_predict = xgb.predict(X_holdout) print(<span class="hljs-string"><span class="hljs-string">'NN MSE:'</span></span>, mean_squared_error(nn_predict, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'XGB MSE:'</span></span>, mean_squared_error(xgb_predict, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'Ensemble:'</span></span>, mean_squared_error((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span>, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'NN MAE:'</span></span>, mean_absolute_error(nn_predict, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'XGB MSE:'</span></span>, mean_absolute_error(xgb_predict, y_holdout)) print(<span class="hljs-string"><span class="hljs-string">'Ensemble:'</span></span>, mean_absolute_error((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span>, y_holdout))</code> </pre> </div></div><br><pre> <code class="plaintext hljs">NN MSE: 628107316.262393 XGB MSE: 631417733.4224195 Ensemble: 593516226.8298339 NN MAE: 7530.502826043687 XGB MSE: 8217.07897417256 Ensemble: 7526.763569558157</code> </pre> <br><h2 id="analiz-rezultatov">   </h2><br><p>       ?      7500   .  Yaitu  5   .          .     .  ,         . </p><br><p>      ( ): </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span> - y_holdout).apply(np.abs).sort_values(ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).head(<span class="hljs-number"><span class="hljs-number">10</span></span>).values</code> </pre> </div></div><br><pre> <code class="plaintext hljs">[469132.30504392, 454064.03521379, 252946.87342439, 251786.22682697, 224012.59016987, 15671.21520735, 13201.12440327, 203548.46460229, 172427.32150665, 171088.75543224]</code> </pre> <br><p>  . ,    . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">df.loc[((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span> - y_holdout).apply(np.abs).sort_values(ascending=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>).head(<span class="hljs-number"><span class="hljs-number">10</span></span>).index][[<span class="hljs-string"><span class="hljs-string">'Issue_type'</span></span>, <span class="hljs-string"><span class="hljs-string">'Priority'</span></span>, <span class="hljs-string"><span class="hljs-string">'Worktype'</span></span>, <span class="hljs-string"><span class="hljs-string">'Summary'</span></span>, <span class="hljs-string"><span class="hljs-string">'Watchers'</span></span>]]</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/9d/sy/mt/9dsymtwss-2wkd1xy_3h0nx3qvu.png"><br><p>           ,       -  ,          .     4           . </p><br><p>    ,       . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs">print(((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span> - y_holdout).apply(np.abs).sort_values().head(<span class="hljs-number"><span class="hljs-number">10</span></span>).values) df.loc[((nn_predict + xgb_predict) / <span class="hljs-number"><span class="hljs-number">2</span></span> - y_holdout).apply(np.abs).sort_values().head(<span class="hljs-number"><span class="hljs-number">10</span></span>).index][[<span class="hljs-string"><span class="hljs-string">'Issue_type'</span></span>, <span class="hljs-string"><span class="hljs-string">'Priority'</span></span>, <span class="hljs-string"><span class="hljs-string">'Worktype'</span></span>, <span class="hljs-string"><span class="hljs-string">'Summary'</span></span>, <span class="hljs-string"><span class="hljs-string">'Watchers'</span></span>]]</code> </pre> </div></div><br><pre> <code class="plaintext hljs">[ 1.24606014, 2.6723969, 4.51969139, 10.04159236, 11.14335444, 14.4951508, 16.51012874, 17.78445744, 21.56106258, 24.78219295]</code> </pre> <br><img src="https://habrastorage.org/webt/c0/ah/h7/c0ahh76a9u5tti2oinyzpycip3c.png"><br><p> ,      ,     -     ,    -        . ,  ,            ,     . </p><br><h2 id="kak-pole-engineer-uvelichilo-tochnost">   Engineer   </h2><br><p> ,        'Engineer',    ,   ,         ?  . </p><br><p>   ,             2 . , ,    ,       ,       .  ,  ,   ,     ""    ,       (  ) ,         ,     ,   . ,         " ",              . </p><br><p>    ,      .      ,     ,                     12 ,     (  JQL   JIRA): </p><br><pre> <code class="sql hljs">assignee was engineer_N during (ticket_creation_date) and status was "In Progress"</code> </pre> <br><p>    10783 * 12 = 129396 ,  … . ,  ,                 , ..   5   . <br>  ,    ,     ,   ,      2 .              . </p><br><h2 id="itogi-i-plany-na-buduschee">      </h2><br><p>               .         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SLO</a>    ,    . </p><br><p>  ,          ,      (      : -   , -  ,  -    )        ,           . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id433166/">https://habr.com/ru/post/id433166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id433152/index.html">Kami mentransfer Zimbra dari server tunggal ke infrastruktur multi-server</a></li>
<li><a href="../id433154/index.html">Pengalaman pengguna 5G NR diharapkan di dunia nyata</a></li>
<li><a href="../id433156/index.html">Dell go public dan menuju cloud hybrid</a></li>
<li><a href="../id433158/index.html">Parodi musik dari SUSE tentang Kubernetes, Linus Torvalds, dan lainnya</a></li>
<li><a href="../id433164/index.html">Fast and the Furious: Forza Horizon 4 Mempercepat dengan Window Shaders</a></li>
<li><a href="../id433168/index.html">Mengapa seorang programmer memiliki magang di dapur - percakapan dengan Dodo Pizza tentang gemba, .NET, dan keterbukaan</a></li>
<li><a href="../id433170/index.html">Bagaimana kami tidak bisa mengulang arsitektur perusahaan</a></li>
<li><a href="../id433172/index.html">Kami kencangkan multipemain ke game seluler "Buat kata-kata dari kata-kata" di iOS dan Android, ditulis dalam C ++</a></li>
<li><a href="../id433174/index.html">Tidak semua tambalan sama-sama bermanfaat.</a></li>
<li><a href="../id433176/index.html">Certificate Remote Authentication Docker Remote dengan verifikasi pencabutan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>