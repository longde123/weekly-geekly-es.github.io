<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßöüèª üíé üì† Como e por que roubar √°rvores no git üö∑ üÜé üè©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, falarei sobre um truque √∫til, mas pouco conhecido, para trabalhar com o git - como criar facilmente um commit usando uma √°rvore de outro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como e por que roubar √°rvores no git</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433748/"><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/gu/kk/lu/gukklu2hqqy4qrjdnixfkmligiq.jpeg" alt="√°rvores"></a> </p><br><p>  Neste artigo, falarei sobre um truque √∫til, mas pouco conhecido, para trabalhar com o git - como criar facilmente um commit usando uma √°rvore de outro commit.  Simplificando, como obter o estado desejado do projeto em qualquer ramifica√ß√£o, se esse estado j√° estiver em algum lugar do reposit√≥rio.  V√°rios exemplos ser√£o dados de como isso possibilita resolver de maneira elegante alguns problemas pr√°ticos.  E, em particular, vou falar sobre o m√©todo encontrado, que pode simplificar bastante a corre√ß√£o de v√°rios conflitos durante o rebase.  Al√©m disso, este artigo √© uma √≥tima maneira de entender na pr√°tica o que constitui um commit no git. </p><a name="habracut"></a><br><h3 id="soderzhanie">  <strong>Conte√∫do</strong> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A parte te√≥rica.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sobre confirma√ß√µes e √°rvores</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√°rvore de confirma√ß√£o git</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte pr√°tica</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1. Sincroniza√ß√£o com outra ramifica√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2. Compara√ß√£o de dois ramos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3. Filial Reversa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">4. Reverso parcial</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5. Mesclagem artificial</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6a</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todo Rebase via mesclagem - descri√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6b</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">M√©todo Rebase via mesclagem - script</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">7. Alias</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conclus√£o</a> </p><br><a name="theory"></a><br><h3 id="teoreticheskaya-chast-pro-kommity-i-derevya">  <strong>A parte te√≥rica.</strong>  <strong>Sobre confirma√ß√µes e √°rvores</strong> </h3><br><p>  Confirmar √© provavelmente o conceito mais b√°sico no git, vamos ver no que consiste.  Cada confirma√ß√£o possui seu pr√≥prio identificador exclusivo na forma de um hash, por exemplo, <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5e45ecb</a></strong> .  E com o seguinte comando, conhecendo o hash, podemos ver seu conte√∫do. </p><br><pre><code class="bash hljs">git cat-file -p 5e45ecb</code> </pre> <br><pre> <code class="plaintext hljs">tree 8640790949c12690fc71f9abadd7b57ec0539376 parent 930741d1f5fd2a78258aa1999bb4be897ba3d015 author Mark Tareshawty &lt;tareby...@github.com&gt; 1542718283 -0500 committer Mark Tareshawty &lt;tareby...@github.com&gt; 1542718283 -0500 gpgsig -----BEGIN PGP SIGNATURE----- ... -----END PGP SIGNATURE----- Fix scoping so that we don't break the naming convention</code> </pre> <br><p>  Estas poucas linhas s√£o todo o conte√∫do do commit: </p><br><ul><li>  tree - um link para um estado espec√≠fico do projeto </li><li>  pai - link para confirma√ß√£o do pai </li><li>  author - autor do commit original + data </li><li>  committer - criador deste commit + date </li><li>  gpgsig - assinatura digital (se dispon√≠vel) </li><li>  message - confirmar o texto </li></ul><br><p>  Deixe-me lembr√°-lo de que o commit no git (diferente de outros VCS) n√£o descreve as altera√ß√µes feitas.  √â o contr√°rio: cada confirma√ß√£o descreve o estado espec√≠fico do projeto como um todo, e o que vemos como as mudan√ßas que ele faz √© na verdade uma diferen√ßa calculada dinamicamente em compara√ß√£o com o estado anterior.  Tamb√©m vale a pena notar que todas as confirma√ß√µes s√£o imut√°veis ‚Äã‚Äã(imut√°veis), ou seja, por exemplo, com rebase / sele√ß√£o de cereja / altera√ß√£o, absolutamente novas confirma√ß√µes s√£o criadas. </p><br><p>  tree (tree) - na verdade, √© apenas uma pasta com conte√∫do imut√°vel espec√≠fico.  Um objeto da √°rvore de tipos cont√©m uma lista de arquivos com conte√∫do espec√≠fico (blobs) e subpastas (√°rvores).  E a √°rvore para a qual cada confirma√ß√£o aponta √© a pasta raiz do projeto, ou melhor, seu estado espec√≠fico. </p><br><div class="spoiler">  <b class="spoiler_title">visualizar o conte√∫do da √°rvore</b> <div class="spoiler_text"><p>  Isso pode ser feito exatamente da mesma maneira para qualquer outro objeto (commit / tree / blob) e √© suficiente para receber os primeiros caracteres hash √∫nicos: 8640790949c12690fc71f9abadd7b57ec0539376 -&gt; 8640790. </p><br><pre> <code class="bash hljs">git cat-file -p 8640790</code> </pre> <br><pre> <code class="bash hljs">100644 blob 7ab08294a46f158c51460be3e7df6a190e15023b .env.example 100644 blob 0a1a4d1ad9ff3f35b67678ca893811e91b423af5 .gemset 040000 tree 033aa38ce0eab11fe229067c14ccce95e2b8b601 .github 100644 blob ca49bb7ffa6273b0be4ce7ba1accba456032fb11 .gitignore 100644 blob c99d2e7396e14ac072c63ec8419d9b8fede28d86 .rspec 100644 blob 65e77a2f59f635a8f24eb4714e8e43745c5c0eb9 .rubocop.yml 100644 blob 8e8299dcc068356889b365e23c948b92c6dfcd78 .ruby-version 100644 blob 19028f9885948aca2ba61f9d062e9dc21c21ad03 .stylelintrc.json 100644 blob 2f7a032fbc3f4f7195bfd91cb33889a684b572b9 .travis.yml 100644 blob 121615722a6c206a9fe24b9a1c9b647662a460d2 ARCHITECTURE.md 100644 blob 898195daeea0bbf8c5930deeaf1020ba8abab34a Gemfile 100644 blob de7ca707f9fe9172db941b65cdacaba7e024fc06 Gemfile.lock 100644 blob e6ff62fefd071b1a8ca279bae94ddbc4dd17b7a3 Gruntfile.js 100644 blob 0cac5b30fb32d36cce2aeb7d936be7b6207d68c7 MIT-LICENSE.txt 100644 blob c2c566e8cc3d440d3ee8041b79cded416db28136 Procfile 100644 blob d1fb2f575380e1e093a4d82e3f19e51f0b99a0a1 Procfile.dev 100644 blob 3a88e138f10fa65bd2cfe1a1d3292348205508b5 README.md 100644 blob 5366e6e073cc426518894cc379d3a07cf3c9cfb3 Rakefile 100644 blob e6d3d2d3e9d5122c5f75bbeee8ed0917ad38c131 app.json 040000 tree 94f83cf03bd6f1cf14672034877b14604744b7a2 app 040000 tree d4d859e82564250b4c4f2047de21e089e7555475 bin 100644 blob 1f71007621f17334fd6f2dd71c87b7a16867119c config.ru 040000 tree 9e8e4bf5ec44541aefff544672b94ca8a9d07bbf config 040000 tree 31b8d0e1fa2bb789dbd6319e04fc9f115952cf2a db 040000 tree 38e7a13e0e772c2a13e46d2007e239f679045bee doc 040000 tree a6e35ded8b35837660cf786e637912377f845515 lib 040000 tree d564d0bc3dd917926892c55e3706cc116d5b165e <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> 100644 blob 843523565ddee5e00f580d9c4e37fc2478fdaecc package-lock.json 100644 blob 791ee833ad316d75b1d2c83a64a3053fc952d254 package.json 040000 tree 4645317c52675d9889f89b26f4dd4d2ae1d8cbad public 040000 tree 31d3f8ae4a4ffe62787134642743ed32a35dbae2 resources 040000 tree 807ffa29868ef9c25ddb4b4126a4bb7f1b041bf0 script 040000 tree 4c3bf9a7f3679ba059b0f1c214a500d197546462 spec 040000 tree 136c8174412345531a9542cafef25ce558d2664f <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> 040000 tree e6524eafe066819e4181bc56c503320548d8009b vendor</code> </pre> </div></div><br><p>  Este √© realmente o recurso mais importante de como o git funciona, o identificador de confirma√ß√£o √© realmente um hash de seu conte√∫do.  Assim como os hashes de objetos embutidos nele (√°rvores, bolhas). </p><br><p>  Agora vamos ver o que acontece quando fazemos </p><br><pre> <code class="bash hljs">git commit -m <span class="hljs-string"><span class="hljs-string">"Fixed bug"</span></span></code> </pre> <br><p>  Este comando cria uma nova confirma√ß√£o que captura o seguinte: </p><br><ul><li>  estado do projeto tempor√°rio (salvo como um novo objeto de √°rvore e seu hash obtido) </li><li>  link para o commit atual (pai) </li><li>  autor + committer + duas datas </li><li>  confirmar texto </li></ul><br><p>  Tudo isso √© salvo, com hash e um novo objeto de confirma√ß√£o √© obtido.  E a equipe eleva automaticamente o ponteiro de ramifica√ß√£o atual para ele. </p><br><div class="spoiler">  <b class="spoiler_title">um pouco sobre terminologia</b> <div class="spoiler_text"><p>  Como j√° sabemos, tree √© um objeto que cont√©m o estado do projeto em um determinado ponto no passado - quando um commit foi criado com essa √°rvore. </p><br><p>  A pasta de trabalho √© chamada de √°rvore de trabalho / c√≥pia de trabalho / diret√≥rio de trabalho, o que √© bastante l√≥gico. </p><br><p>  Tamb√©m temos - √°rea de prepara√ß√£o / √≠ndice - a √°rea de mudan√ßas preparadas.  <strong>Mas, logicamente, essa tamb√©m √© uma √°rvore</strong> , ou melhor, o estado que √© salvo ao confirmar como uma √°rvore.  Portanto, parece-me que seria mais l√≥gico chamar uma √°rvore em est√°gios. </p></div></div><br><a name="commit-tree"></a><br><h3 id="git-commit-tree">  <strong>√°rvore de confirma√ß√£o git</strong> </h3><br><p>  Finalmente, podemos passar a descrever o comando <strong>git commit-tree</strong> que precisamos.  Formalmente, este √© um dos comandos de baixo n√≠vel, portanto raramente √© mencionado e usado.  N√£o consideraremos outros comandos de baixo n√≠vel associados a ele (como git write-tree, git-update-index, eles tamb√©m s√£o conhecidos como comandos de encanamento).  Estamos interessados ‚Äã‚Äãapenas em uma consequ√™ncia espec√≠fica: com este comando, podemos copiar (reutilizar) facilmente a √°rvore de status do projeto de qualquer outra confirma√ß√£o. </p><br><p>  Olhe para o desafio dela </p><br><pre> <code class="bash hljs">git commit-tree 4c835c2 -m <span class="hljs-string"><span class="hljs-string">"Fixed bug"</span></span> -p a8fc5e3</code> </pre> <br><pre> <code class="plaintext hljs">d9aded78bf57ca906322e26883644f5f36cfdca5</code> </pre> <br><p>  O comando git commit-tree tamb√©m confirma, mas de maneira de baixo n√≠vel.  Aqui voc√™ deve especificar explicitamente a √°rvore (√°rvore) 4c835c2 j√° existente e um link para o commit pai a8fc5e3.  E ele retorna o hash do novo commit d9aded7, e a posi√ß√£o do branch n√£o muda (portanto, esse commit parece congelar no ar). </p><br><a name="practice"></a><br><h3 id="prakticheskaya-chast">  <strong>Parte pr√°tica</strong> </h3><br><p>  Exemplos de uso deste comando s√£o demonstrados no seguinte reposit√≥rio simples. </p><br><img src="https://habrastorage.org/webt/ft/ot/to/ftottogtrm5xmyiqmbz1_loijuy.png"><br><p>  Ele cont√©m tr√™s ramos: </p><br><p>  master - filial principal <br>  alpha - o ramo em que trabalhamos e somos <br>  beta - um ramo que estava anteriormente parado no mestre </p><br><p>  Todas as a√ß√µes s√£o f√°ceis de repetir localmente, para isso basta clonar o reposit√≥rio, entrar no ramo alfa e depois executar os comandos dos exemplos.  Esse estado inicial √© comum a todos os exemplos. </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/capslocky/git-commit-tree-example.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ./git-commit-tree-example/ git checkout alpha</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">sob janelas</b> <div class="spoiler_text"><p>  Todos os comandos, incluindo o script, tamb√©m funcionam no Windows.  Voc√™ s√≥ precisa abrir o terminal bash na pasta do projeto, por exemplo, assim </p><br><pre> <code class="plaintext hljs">"C:\Program Files\Git\git-bash.exe" --cd="D:\path\project"</code> </pre> </div></div><br><a name="z1"></a><br><h3 id="1-sinhronizaciya-s-drugoy-vetkoy">  <strong>1. Sincroniza√ß√£o com outra ramifica√ß√£o</strong> </h3><br><p>  Desafio: <br>  Sincronize o status do projeto na ramifica√ß√£o <strong>alfa</strong> com <strong>a</strong> ramifica√ß√£o <strong>beta</strong> .  Ou seja, voc√™ precisa criar uma nova confirma√ß√£o na ramifica√ß√£o <strong>alfa</strong> para que o estado do projeto se torne exatamente o mesmo que na ramifica√ß√£o <strong>beta</strong> . </p><br><p>  Especificamente, √© improv√°vel que essa tarefa ocorra, mas esse √© o caso mais adequado para demonstrar a abordagem. </p><br><p>  A solu√ß√£o mais simples √© pegar a √°rvore existente para a qual o ramo beta aponta e apenas apont√°-lo a partir do novo commit para o ramo alfa.  Como este √© o primeiro exemplo, toda a sua l√≥gica √© considerada em detalhes suficientes. </p><br><p>  Primeiro, encontre o hash de confirma√ß√£o apontado pelo ramo beta: </p><br><pre> <code class="bash hljs">git rev-parse origin/beta</code> </pre> <br><pre> <code class="bash hljs">280c30ff81a574f8dd41721726cf60b22fb2eced</code> </pre> <br><p>  <strong>280c30f</strong> - apenas pegue os primeiros caracteres </p><br><p>  Agora encontre o hash de sua √°rvore exibindo o conte√∫do do commit atrav√©s do arquivo git cat: </p><br><pre> <code class="bash hljs">git cat-file -p 280c30f</code> </pre> <br><pre> <code class="plaintext hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 560b449675513bc8f8f4d6cda56a922d4e36917a author Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 Added info about windows</code> </pre> <br><p>  <strong>3c1afe7</strong> - esta √© a √°rvore que precisamos </p><br><p>  E agora criaremos um commit apontando para esta √°rvore e, com o commit pai, indicaremos o commit atual: </p><br><pre> <code class="bash hljs">git commit-tree 3c1afe7 -m <span class="hljs-string"><span class="hljs-string">"Synced with branch 'beta'"</span></span> -p HEAD</code> </pre> <br><pre> <code class="bash hljs">eb804d403d4ec0dbeee36aa09da706052a7cc687</code> </pre> <br><p>  √â isso a√≠, o commit foi criado, a equipe recebeu seu hash.  Al√©m disso, esse valor sempre ser√° √∫nico, porque √© calculado n√£o apenas da √°rvore, mas tamb√©m do autor e do tempo.  O commit em si √© congelado no ar, desde que n√£o entre em nenhum dos galhos.  √â suficiente pegarmos os primeiros caracteres: <strong>eb804d4</strong> , esse <strong>valor</strong> , exclusivo para cada caso, designarei como <strong>xxxxxxx</strong> .  Vamos olhar para o seu conte√∫do: </p><br><pre> <code class="bash hljs">git cat-file -p xxxxxxx</code> </pre> <br><pre> <code class="plaintext hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 64fafc79e8f6d22f5226490daa5023062299fd6c author Peter &lt;peter...@gmail.com&gt; 1545230299 +0600 committer Peter &lt;peter...@gmail.com&gt; 1545230299 +0600 Synced with branch 'beta'</code> </pre> <br><p>  √ìtimo, ele tem a mesma √°rvore que o commit no ramo de origem / beta.  E como esse commit √© um descendente direto do branch atual, para inclu√≠-lo no branch, basta fazer a jun√ß√£o de avan√ßo r√°pido </p><br><pre> <code class="bash hljs">git merge --ff xxxxxxx</code> </pre> <br><pre> <code class="plaintext hljs">Updating 64fafc7..xxxxxxx Fast-forward Azure.txt | 3 --- Bill.txt | 6 +----- Linus.txt | 15 +++++++++++++++ 3 files changed, 16 insertions(+), 8 deletions(-)</code> </pre> <br><p>  Feito.  Agora, o estado do projeto na ramifica√ß√£o alfa √© exatamente o mesmo que na ramifica√ß√£o beta.  <strong>[update]</strong> E se voc√™ observar o que esse commit mudou, afinal, veremos: ele reverteu todos os seus commit (altera√ß√µes) do ramo alfa e adicionou todos os commit (altera√ß√µes) exclusivos do ramo beta, em rela√ß√£o ao commit ancestral comum. </p><br><img src="https://habrastorage.org/webt/6r/cp/9j/6rcp9jjsridsnn297yjyhaa3e-e.png"><br><a name="z2"></a><br><h3 id="2-sravnenie-dvuh-vetok">  <strong>2. Compara√ß√£o de dois ramos</strong> </h3><br><p>  Desafio: <br>  Compare o ramo <strong>alfa</strong> com o ramo <strong>beta</strong> . </p><br><p>  O primeiro exemplo mostra que a confirma√ß√£o criada mostra todas as altera√ß√µes que s√£o a diferen√ßa real entre as duas ramifica√ß√µes.  Essa propriedade facilita a compara√ß√£o de uma ramifica√ß√£o com outra.  √â suficiente criar um terceiro ramo tempor√°rio e fazer um commit semelhante nele. </p><br><p>  Ent√£o, primeiro, retorne a ramifica√ß√£o alfa ao seu estado original </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha</code> </pre> <br><p>  Vamos criar uma ramifica√ß√£o tempor√°ria na atual e permanecer nela </p><br><pre> <code class="bash hljs">git checkout -b temp</code> </pre> <br><p>  E resta fazer o mesmo que no exemplo anterior.  Mas desta vez encontraremos uma linha.  Para fazer isso, usamos a sintaxe especial para acessar a <strong>origem da</strong> √°rvore de confirma√ß√£o <strong>/ beta ^ {tree}</strong> ou a mesma <strong>280c30f ^ {tree}</strong> . </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree origin/beta^{tree} -m <span class="hljs-string"><span class="hljs-string">"Diff with branch 'beta'"</span></span> -p HEAD)</code> </pre> <br><p>  Feito, essencialmente n√≥s nos materializamos como um diff de confirma√ß√£o entre dois ramos </p><br><pre> <code class="bash hljs">git show</code> </pre> <br><pre> <code class="bash hljs">git diff alpha origin/beta</code> </pre> <br><p>  Obviamente, podemos criar uma confirma√ß√£o "comparativa" para quaisquer duas confirma√ß√µes (estados) no reposit√≥rio. </p><br><img src="https://habrastorage.org/webt/bd/eq/nt/bdeqntgdkpows5ly0zc7ahzjgf8.png"><br><a name="z3"></a><br><h3 id="3-revert-vetki">  <strong>3. Filial Reversa</strong> </h3><br><p>  Desafio: <br>  Reverta as √∫ltimas confirma√ß√µes. </p><br><p>  Vamos voltar para o ramo alfa e excluir o ramo tempor√°rio </p><br><pre> <code class="bash hljs">git checkout alpha git branch -D temp</code> </pre> <br><p>  Suponha que precisamos reverter os dois √∫ltimos commits no ramo alfa.  Existem duas maneiras cl√°ssicas de fazer isso: </p><br><ol><li>  Execute git revert duas vezes - por confirma√ß√£o </li><li>  git reset, ou seja, redefinir a posi√ß√£o do ramo </li></ol><br><p>  Mas voc√™ pode fazer isso de uma terceira maneira: </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 7a714bf^{tree} -m <span class="hljs-string"><span class="hljs-string">"Reverted to commit 7a714bf"</span></span> -p HEAD)</code> </pre> <br><p>  Isso adicionar√° um novo commit que reverte as altera√ß√µes dos dois commit anteriores.  Diferentemente do primeiro m√©todo, apenas uma confirma√ß√£o √© criada, mesmo se voc√™ precisar reverter as √∫ltimas dez confirma√ß√µes.  E a diferen√ßa entre o m√©todo com git reset √© que n√£o lan√ßamos esses commits do pr√≥prio branch. </p><br><p>  Al√©m disso, se voc√™ precisar retornar o estado original da ramifica√ß√£o, isso poder√° ser feito da mesma maneira </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 64fafc7^{tree} -m <span class="hljs-string"><span class="hljs-string">"Reverted back to commit 64fafc7"</span></span> -p HEAD)</code> </pre> <br><p>  Ao mesmo tempo, esses dois commits permanecer√£o no hist√≥rico do branch, segundo o qual ser√° visto que ele foi revertido e retornado. </p><br><img src="https://habrastorage.org/webt/2a/w_/g_/2aw_g_0m9m2vf8zs9sqh_c4ozw8.png"><br><a name="z4"></a><br><h3 id="4-chastichnyy-revert">  <strong>4. Reverso parcial</strong> </h3><br><p>  Desafio: <br>  Reverter as altera√ß√µes em alguns arquivos nas √∫ltimas confirma√ß√µes. </p><br><p>  Novamente, retorne a ramifica√ß√£o alfa ao seu estado original </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha</code> </pre> <br><p>  A ramifica√ß√£o alfa cont√©m 3 confirma√ß√µes, em cada uma das altera√ß√µes feitas no arquivo Bill.txt, na √∫ltima confirma√ß√£o, o arquivo Azure.txt tamb√©m √© adicionado.  Suponha que precisamos reverter as altera√ß√µes no arquivo Bill.txt nos √∫ltimos 2 commit, sem tocar em nenhum outro arquivo. </p><br><p>  Primeiro, reverta todos os arquivos 2 confirmados </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree 7a714bf^{tree} -m <span class="hljs-string"><span class="hljs-string">"any text"</span></span> -p HEAD)</code> </pre> <br><p>  Em seguida, retorne a ramifica√ß√£o para a confirma√ß√£o anterior, mas sem tocar no estado do projeto no disco </p><br><pre> <code class="bash hljs">git reset HEAD~1</code> </pre> <br><p>  E agora √© suficiente fazer o zasteydit dos arquivos necess√°rios e confirmar, e outras altera√ß√µes podem ser descartadas. </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Reverted file Bill.txt to 7a714bf"</span></span> git reset --hard HEAD</code> </pre> <br><img src="https://habrastorage.org/webt/0p/8g/yy/0p8gyybuacise2ffx4qka3relhw.png"><br><a name="z5"></a><br><h3 id="5-iskustvennyy-merge">  <strong>5. Mesclagem artificial</strong> </h3><br><p>  Desafio: <br>  Surge um ramo para outro, obtendo um resultado predeterminado. </p><br><p>  Imagine essa situa√ß√£o.  Um bug cr√≠tico foi detectado na produ√ß√£o e, como sempre, precisa ser corrigido com urg√™ncia.  No entanto, n√£o est√° claro quanto tempo levar√° para estud√°-lo e fazer o hotfix correto; portanto, um hotfix tempor√°rio foi feito rapidamente, o que isolou a intera√ß√£o com o m√≥dulo do problema.  Portanto, na ramifica√ß√£o mestre, uma confirma√ß√£o aparece com esse patch tempor√°rio e, depois de algum tempo em vez dele no master, voc√™ precisa interromper um hotfix j√° desenvolvido. </p><br><p>  Portanto, precisamos mesclar o ramo alfa para mestre, mas isso n√£o deve ser uma mesclagem tradicional, quando todas as altera√ß√µes exclusivas do ramo alfa forem adicionadas ao mestre de cima e ocorrer um conflito, e devemos substituir completamente o mestre pelo ramo alfa. </p><br><p>  Para come√ßar, lembre-se de que se trata a consolida√ß√£o de mesclagem - na verdade, √© a mesma consolida√ß√£o comum, mas tem apenas duas confirma√ß√µes pai, isso fica claramente vis√≠vel se voc√™ olhar para o conte√∫do (como a √°rvore √© formada √© uma quest√£o separada) .  E quem √© determinado por quem √© simples - o primeiro commit pai √© considerado o principal. </p><br><pre> <code class="plaintext hljs">git cat-file -p 7229df8</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a parent fd54ab7dde87593b9892b6d1ffbf1afd39ba6f9e parent 280c30ff81a574f8dd41721726cf60b22fb2eced author Baur &lt;atanov...@gmail.com&gt; 1540619579 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619592 +0600 Merge branch <span class="hljs-string"><span class="hljs-string">'beta'</span></span> into <span class="hljs-string"><span class="hljs-string">'master'</span></span></code> </pre> <br><p>  Redefina a ramifica√ß√£o alfa atual e mude para master </p><br><pre> <code class="bash hljs">git reset --hard origin/alpha git checkout master</code> </pre> <br><p>  E agora a mesma equipe, mas com <strong>dois</strong> pais confirma </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree alpha^{tree} -m <span class="hljs-string"><span class="hljs-string">"Merge 'alpha' into 'master', but take 'alpha' tree"</span></span> -p HEAD -p alpha)</code> </pre> <br><p>  Conclu√≠do, preparamos a ramifica√ß√£o alfa no mestre e n√£o tivemos que excluir o c√≥digo tempor√°rio e resolver conflitos, pois nesse caso, apenas tivemos que reescrever as altera√ß√µes mais recentes. </p><br><img src="https://habrastorage.org/webt/y3/qa/p_/y3qap_rct5emnkmqfirrhtmhmlg.png"><br><p>  Na verdade, n√£o √© t√£o estranho criar uma mesclagem com uma √°rvore que √© copiada de outra confirma√ß√£o.  Tais situa√ß√µes podem surgir porque o git √© uma ferramenta muito flex√≠vel que permite implementar uma variedade de abordagens para trabalhar com filiais e reposit√≥rios.  Ainda assim, o exemplo mais comum estava em nosso reposit√≥rio desde o in√≠cio - tente analisar voc√™ mesmo ou abrir um spoiler para ler a explica√ß√£o. </p><br><div class="spoiler">  <b class="spoiler_title">spoiler</b> <div class="spoiler_text"><p>  Vamos prestar aten√ß√£o em como o ramo beta foi estrangulado novamente para dominar.  Durante o tempo em que duas confirma√ß√µes apareceram, n√£o havia novas confirma√ß√µes no pr√≥prio ramo mestre.  Isso significa que, com a mesclagem beta no mestre, quaisquer conflitos s√£o exclu√≠dos devido a altera√ß√µes simult√¢neas. </p><br><img src="https://habrastorage.org/webt/ld/b2/9c/ldb29c4suiipfkkwc4qmozqxc9i.png"><br><img src="https://habrastorage.org/webt/mb/c8/za/mbc8za3pa9q9hmlcuvblb1holzk.png"><br><p>  Se n√≥s fizemos o git merge beta, ocorrer√° a mesclagem de avan√ßo r√°pido (comportamento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√£o</a> ), ou seja, o ramo mestre permaneceria no mesmo commit que o ramo beta e n√£o haveria nenhum commit de mesclagem.  Seria assim: </p><br><img src="https://habrastorage.org/webt/sb/xb/ir/sbxbirjlbr69iwl0e6qfymenwb0.png"><br><p>  Mas aqui a fus√£o sem avan√ßo r√°pido foi feita usando o comando git merge beta --no-ff.  Ou seja, for√ßamos a cria√ß√£o do commit de mesclagem, embora n√£o fosse necess√°rio.  E como o estado final desejado do projeto para a mesclagem futura era conhecido - essa √© uma √°rvore beta, o git simplesmente copiou o link dessa √°rvore para um novo commit: </p><br><pre> <code class="bash hljs">git cat-file -p origin/beta</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent 560b449675513bc8f8f4d6cda56a922d4e36917a author Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619512 +0600 Added info about windows</code> </pre> <br><pre> <code class="bash hljs">git cat-file -p 7229df8</code> </pre> <br><pre> <code class="bash hljs">tree 3c1afe75f54518dbd82ea7a4e3c4ff50389a573a &lt;--- parent fd54ab7dde87593b9892b6d1ffbf1afd39ba6f9e parent 280c30ff81a574f8dd41721726cf60b22fb2eced author Baur &lt;atanov...@gmail.com&gt; 1540619579 +0600 committer Baur &lt;atanov...@gmail.com&gt; 1540619592 +0600 Merge branch <span class="hljs-string"><span class="hljs-string">'beta'</span></span> into <span class="hljs-string"><span class="hljs-string">'master'</span></span></code> </pre> </div></div><br><a name="z6a"></a><br><h3 id="6a-metod-rebase-cherez-merge---opisanie">  <strong>6a</strong>  <strong>M√©todo Rebase via mesclagem - descri√ß√£o</strong> </h3><br><p>  Desafio: <br>  √â necess√°rio criar uma ramifica√ß√£o de rebase "pesada" (muitos conflitos em diferentes confirma√ß√µes). </p><br><p>  Existe um tema holivar t√£o cl√°ssico no git - rebase vs merge.  Mas eu n√£o vou holivarit.  Pelo contr√°rio, vou falar sobre como eles podem ser feitos amigos no contexto desta tarefa. </p><br><p>  Em geral, o git foi projetado especificamente para que possamos efetivamente fazer a mesclagem.  E quando cheguei ao projeto em que o fluxo de trabalho se baseia em rebase, a primeira vez que me senti desconfort√°vel e incomum, at√© desenvolver t√©cnicas que simplificaram meu trabalho di√°rio com o git.  Um deles √© o meu m√©todo original para fazer rebase pesada. </p><br><p>  Portanto, precisamos refazer a ramifica√ß√£o alfa no desenvolvimento, para que mais tarde fique manchada t√£o bem quanto a ramifica√ß√£o beta.  Se come√ßarmos a rebase como de costume, o primeiro e o √∫ltimo commit produzir√£o dois conflitos diferentes em dois lugares diferentes.  Mas se, em vez de refazer, apenas fizermos uma mesclagem, haveria apenas um conflito em um lugar em uma consolida√ß√£o de mesclagem. </p><br><p>  Se voc√™ quer ter certeza disso, ofere√ßo equipes prontas sob o spoiler. </p><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text"><p>  Retorne as ramifica√ß√µes ao seu estado original </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p>  Crie e permane√ßa no ramo alfa-rebase-conflitos e rebase no mestre </p><br><pre> <code class="bash hljs">git checkout -b alpha-rebase-conflicts git rebase master</code> </pre> <br><p>  Haver√° conflitos em v√°rias confirma√ß√µes, incluindo um conflito fantasma. </p><br><p>  Agora vamos tentar a mesclagem, volte para a ramifica√ß√£o alfa e exclua a ramifica√ß√£o para a rebase. </p><br><pre> <code class="bash hljs">git checkout alpha git branch -D alpha-rebase-conflicts</code> </pre> <br><p>  Alterne para mestre e fa√ßa a mesclagem </p><br><pre> <code class="bash hljs">git checkout master git merge alpha</code> </pre> <br><p>  Haver√° apenas um conflito simples, n√≥s o corrigimos e </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Merge branch 'alpha' into 'master'"</span></span></code> </pre> <br><p>  Marge conclu√≠da com sucesso. </p></div></div><br><p>  Os conflitos de Git s√£o uma parte natural de nossas vidas, e este exemplo simples mostra que a fus√£o √© definitivamente mais conveniente do que a recupera√ß√£o a esse respeito.  Em um projeto real, essa diferen√ßa √© medida por uma quantidade muito maior de tempo e nervos gastos.  Portanto, por exemplo, h√° uma recomenda√ß√£o amb√≠gua para compactar todas as confirma√ß√µes de uma ramifica√ß√£o de recurso em uma confirma√ß√£o antes da mesclagem. </p><br><p>  A id√©ia desse m√©todo √© fazer uma mesclagem oculta tempor√°ria na qual resolveremos todos os conflitos de uma s√≥ vez.  Lembre-se do resultado (√°rvore).  Em seguida, execute a reorganiza√ß√£o usual, mas com a op√ß√£o "resolver automaticamente conflitos, escolhendo nossas altera√ß√µes".  E no final, adicione uma confirma√ß√£o adicional √† ramifica√ß√£o, que restaurar√° a √°rvore correta. </p><br><p>  Vamos come√ßar.  Novamente, retorne os dois ramos ao seu estado original. </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p>  Vamos criar uma temperatura de ramifica√ß√£o tempor√°ria na qual faremos a mesclagem. </p><br><pre> <code class="bash hljs">git checkout -b temp git merge origin/master</code> </pre> <br><p>  O conflito. </p><br><p>  Vamos resolver um conflito simples no arquivo Bill.txt como de costume (em qualquer editor). <br>  Observe que h√° apenas um conflito, e n√£o dois, como no rebase. </p><br><pre> <code class="bash hljs">git add Bill.txt git commit -m <span class="hljs-string"><span class="hljs-string">"Merge branch 'origin/master' into 'temp'"</span></span></code> </pre> <br><p>  Retornamos √† ramifica√ß√£o alfa, fazemos uma nova recupera√ß√£o com a resolu√ß√£o autom√°tica de todos os conflitos a nosso favor, trazemos a ramifica√ß√£o tempor√°ria para o estado e exclu√≠mos a ramifica√ß√£o tempor√°ria em si. </p><br><pre> <code class="bash hljs">git checkout alpha git rebase origin/master -X theirs git merge --ff $(git commit-tree temp^{tree} -m <span class="hljs-string"><span class="hljs-string">"Fix after rebase"</span></span> -p HEAD) git branch -D temp</code> </pre> <br><img src="https://habrastorage.org/webt/0c/dh/ou/0cdhoulztbrr4eskxlrotkxgjg0.png"><br><p>  Por fim, junte lindamente o alfa no mestre. </p><br><pre> <code class="bash hljs">git checkout master git merge alpha --no-ff --no-edit</code> </pre> <br><img src="https://habrastorage.org/webt/jj/aw/om/jjawom3amg15ki9ob7_osbahzdo.png"><br><p>  Observe que mestre, alfa e ramifica√ß√£o tempor√°ria remota apontam para a mesma √°rvore, embora sejam tr√™s confirma√ß√µes diferentes. </p><br><p>  Contras deste m√©todo: </p><br><ul><li>  N√£o h√° corre√ß√£o manual de cada confirma√ß√£o de conflito - os conflitos s√£o resolvidos automaticamente.  Esse commit intermedi√°rio pode n√£o ser compilado. </li><li>  Adicionado (mas nem sempre) um commit extra em cada rebase </li></ul><br><p>  Pr√≥s: </p><br><ul><li>  Corrigimos apenas conflitos reais (sem conflitos fantasmas) </li><li>  Todos os conflitos s√£o corrigidos apenas uma vez. </li><li>  Os dois primeiros pontos economizam tempo </li><li>  Um hist√≥rico completo de confirma√ß√µes e todas as altera√ß√µes s√£o salvas (por exemplo, voc√™ pode fazer a escolha certa) </li><li>  O m√©todo √© implementado como um script e sempre pode ser usado, se necess√°rio, para rebase (n√£o requer nenhum conhecimento sobre √°rvores e assim por diante) </li></ul><br><a name="z6b"></a><br><h3 id="6b-metod-rebase-cherez-merge---skript">  <strong>6b</strong>  <strong>M√©todo Rebase via mesclagem - script</strong> </h3><br><p>  O script est√° publicado aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/capslocky/git-rebase-via-merge</a> </p><br><p>  Vamos verificar o seu trabalho no nosso exemplo.  Novamente, retorne os dois ramos ao seu estado original </p><br><pre> <code class="bash hljs">git checkout master git reset --hard origin/master git checkout alpha git reset --hard origin/alpha</code> </pre> <br><p>  Fa√ßa o download do script e torne-o execut√°vel </p><br><pre> <code class="bash hljs">curl -L https://git.io/rebase-via-merge -o ~/git-rebase-via-merge.sh chmod +x ~/git-rebase-via-merge.sh</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">janelas</b> <div class="spoiler_text"><p>  O arquivo aparecer√° aqui: C: \ Users \ user-name \ git-rebase-via-merge.sh </p></div></div><br><p>  Altere a ramifica√ß√£o padr√£o para a qual voc√™ precisa refazer a redefini√ß√£o. No nosso caso, precisamos de origem / mestre </p><br><pre> <code class="bash hljs">nano ~/git-rebase-via-merge.sh</code> </pre> <br><pre> <code class="bash hljs">default_base_branch=<span class="hljs-string"><span class="hljs-string">'origin/master'</span></span></code> </pre> <br><p>  Vamos tamb√©m criar e permanecer em um ramo tempor√°rio para n√£o tocar no pr√≥prio ramo alfa </p><br><pre> <code class="bash hljs">git checkout -b alpha-rebase-test</code> </pre> <br><p>  E agora voc√™ pode executar o script (em vez da origem / mestre tradicional do git rebase) </p><br><pre> <code class="bash hljs">~/git-rebase-via-merge.sh</code> </pre> <br><img src="https://habrastorage.org/webt/hi/nx/fw/hinxfwidwz65f9et23qqn9daxdi.png"><br><div class="spoiler">  <b class="spoiler_title">resultado do script</b> <div class="spoiler_text"><pre> <code class="bash hljs">$ ~/git-rebase-via-merge.sh This script will perform rebase via merge. Current branch: alpha-rebase-test (64fafc7) Base branch: origin/master (9c6b60a) Continue (c) / Abort (a) c Auto-merging Bill.txt CONFLICT (content): Merge conflict <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Bill.txt Automatic merge failed; fix conflicts and <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> commit the result. You have at least one merge conflict. Fix all conflicts <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the following files, stage them up and <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">'c'</span></span>: Bill.txt Continue (c) / Abort (a) c [detached HEAD 785d49e] Hidden temp commit to save result of merging <span class="hljs-string"><span class="hljs-string">'origin/master'</span></span> into <span class="hljs-string"><span class="hljs-string">'alpha-rebase-test'</span></span> as detached head. Merge succeeded on hidden commit: 785d49e Starting rebase automatically resolving any conflicts <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> favor of current branch. First, rewinding head to replay your work on top of it... Auto-merging Bill.txt [detached HEAD a680316] Added <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 11:45:50 2018 +0600 1 file changed, 6 insertions(+), 3 deletions(-) Committed: 0001 Added <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Auto-merging Bill.txt [detached HEAD dcd34a8] Replaced <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 11:55:42 2018 +0600 1 file changed, 4 insertions(+), 5 deletions(-) Committed: 0002 Replaced <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> of windows Auto-merging Bill.txt [detached HEAD 8d6d82c] Added file about Azure and info about Windows 10 Author: Baur &lt;atanov...@gmail.com&gt; Date: Sat Oct 27 12:06:27 2018 +0600 2 files changed, 5 insertions(+), 3 deletions(-) create mode 100644 Azure.txt Committed: 0003 Added file about Azure and info about Windows 10 All <span class="hljs-keyword"><span class="hljs-keyword">done</span></span>. Restoring project state from hidden merge with single additional commit. Updating 8d6d82c..268b320 Fast-forward Bill.txt | 4 ++++ 1 file changed, 4 insertions(+) Done.</code> </pre> </div></div><br><p>       </p><br><pre> <code class="bash hljs">~/git-rebase-via-merge.sh origin/develop</code> </pre> <br><p>   ,  ours / theirs     : </p><br><p> ours ‚Äî       (HEAD) <br> theirs ‚Äî      (, origin/develop) </p><br><p>      rebase ‚Äî    . </p><br><a name="z7"></a><br><h3 id="7-alias"> <strong>7. </strong> </h3><br><p>    git       . </p><br><p>      . </p><br><pre> <code class="bash hljs">git config alias.copy <span class="hljs-string"><span class="hljs-string">'!git merge --ff $(git commit-tree ${1}^{tree} -p HEAD -m "Tree copy from ${1}")'</span></span></code> </pre> <br><p>     git copy xxx,  xxx ‚Äî    . </p><br><pre> <code class="bash hljs">git copy xxx</code> </pre> <br><p>        </p><br><pre> <code class="bash hljs">git merge --ff $(git commit-tree xxx^{tree} -p HEAD -m <span class="hljs-string"><span class="hljs-string">"Tree copy from xxx"</span></span>)</code> </pre> <br><p>  </p><br><pre> <code class="bash hljs">git copy a8fc5e3</code> </pre> <br><pre> <code class="bash hljs">git copy origin/beta</code> </pre> <br><pre> <code class="bash hljs">git copy HEAD~3</code> </pre> <br><p>           git amend. </p><br><pre> <code class="bash hljs">git commit --amend -m <span class="hljs-string"><span class="hljs-string">"Just for test"</span></span></code> </pre> <br><p>   : </p><br><pre> <code class="bash hljs">git commit --amend</code> </pre> <br><a name="end"></a><br><h3 id="zaklyuchenie"> <strong></strong> </h3><br><p>   ,           ,      .    ,   .  ‚Äî  .    , ,   .           .   "  "  "   "   .         ( ,   devops), ,   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt433748/">https://habr.com/ru/post/pt433748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt433734/index.html">Donald Knuth: ‚ÄúOs camaradas mais velhos jogavam t√™nis, √©ramos bolas. Eles nos atingiram, doeu. (11,12 / 97)</a></li>
<li><a href="../pt433738/index.html">Antiguidades: jogos no MS-DOS que n√£o escolhemos</a></li>
<li><a href="../pt433740/index.html">Duma do Estado cancela roaming nacional em terceira leitura</a></li>
<li><a href="../pt433742/index.html">Turbojet</a></li>
<li><a href="../pt433746/index.html">Malvar quem l√™ memes</a></li>
<li><a href="../pt433750/index.html">Como passamos a Escola de Inverno "Sistemas Embarcados Digitais" em Krasnoyarsk</a></li>
<li><a href="../pt433752/index.html">Crazy Kassander sobre as nuances da educa√ß√£o em design de jogos na R√∫ssia</a></li>
<li><a href="../pt433754/index.html">Slack pro√≠be contas da Crimeia</a></li>
<li><a href="../pt433756/index.html">Allure-Android. Relat√≥rios informativos para automa√ß√£o m√≥vel</a></li>
<li><a href="../pt433758/index.html">Pr√≥tese bi√¥nica: auto-express√£o atrav√©s do design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>