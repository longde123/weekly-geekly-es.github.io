<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§æüèæ üï§ üÖæÔ∏è C√≥mo controlar electrodom√©sticos, modelos controlados por radio, carriolas motorizadas con un vistazo üí• ‚ôªÔ∏è üë®üèª‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En mis art√≠culos anteriores, habl√© sobre c√≥mo ayudar a las personas paralizadas a comunicarse con el mundo exterior: comunicar sus deseos, escribir ca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo controlar electrodom√©sticos, modelos controlados por radio, carriolas motorizadas con un vistazo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430078/"><img src="https://habrastorage.org/webt/0c/pu/lz/0cpulz3okxsy9r7qjjbrkoufiww.jpeg"><br><br>  En mis art√≠culos anteriores, habl√© sobre c√≥mo ayudar a las personas paralizadas a comunicarse con el mundo exterior: comunicar sus deseos, escribir cartas, navegar por Internet utilizando solo sus ojos y un dispositivo que rastrea su mirada (rastreador de ojos).  En este caso, f√≠sicamente, una persona sigue estando limitada por el mundo de la computadora y la cama. <br><br>  Aqu√≠ hablar√© sobre las formas m√°s simples (en mi opini√≥n) de cambiar algo en el mundo exterior: encender la luz o una guirnalda en un √°rbol de A√±o Nuevo, controlar un veh√≠culo todo terreno con un control de radio, hacer que un cochecito motorizado se mueva en la direcci√≥n correcta. <br><a name="habracut"></a><br><h3>  Contenido </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introduccion</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Componentes requeridos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conecta Arduino a una computadora</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Esquema de control de toma de corriente</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Circuito de control del motor</a> <br><br><a name="p0"></a><h2>  Introduccion </h2><br>  Adem√°s del dispositivo de seguimiento de la mirada y el software gratuito para √©l, descrito aqu√≠ en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> art√≠culo, necesitamos algo que conecte la computadora a objetos externos. <br><br>  A pesar de la venta de varios dispositivos que se pueden controlar desde una computadora, la opci√≥n m√°s simple y econ√≥mica para m√≠ era usar dos partes: una placa Arduino y una placa de rel√© m√∫ltiple. <br><br>  Si nunca se ha encontrado con Arduino, a√∫n no abandone la lectura, en el futuro ver√° que en este contexto es bastante simple trabajar con √©l, no es por nada que hay muchos dise√±adores infantiles basados ‚Äã‚Äãen Arduino a la venta. <br><br>  Al mismo tiempo, si no est√° familiarizado con la seguridad el√©ctrica y nunca ha realizado el cableado el√©ctrico en la casa, ¬°no intente repetir los circuitos que utilizan la conexi√≥n a los enchufes! <br><br>  Todo lo que necesita saber sobre Arduino: este es un peque√±o dispositivo que se puede insertar en el puerto USB de la computadora, despu√©s de lo cual podr√° encender / apagar las se√±ales el√©ctricas en sus contactos de acuerdo con las instrucciones recibidas. <br><br>  Las se√±ales son de baja potencia, por lo tanto, para controlar algo m√°s potente (bombillas el√©ctricas, por ejemplo), colocamos una unidad de rel√© que, en respuesta a la se√±al del Arduino, cierra y abre los contactos de control de dispositivos externos.  Adem√°s, los rel√©s a√≠slan los circuitos el√©ctricos de la computadora Arduino + de los circuitos el√©ctricos del dispositivo administrado. <br>  Entonces, la base de los circuitos de control para tomas de corriente y motores, que se describir√° m√°s adelante, es la siguiente: dos partes conectadas por cables entre s√≠, conectadas por un cable USB a una computadora y cables a lo que queremos controlar: <br><br><img src="https://habrastorage.org/webt/xo/hp/8j/xohp8jg5wedmd0x2v98jdlhatvy.png"><br><br>  En el mundo real, podr√≠a verse as√≠: <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Enviamos un comando desde una computadora, Arduino uno de sus contactos enciende / apaga el rel√©, que es el interruptor de cualquier dispositivo o un bot√≥n separado en el dispositivo. <br><br><a name="p1"></a><h2>  Componentes requeridos </h2><br>  Lo necesitaremos (entre par√©ntesis est√°n los precios de 2018 en una tienda local. Aquellos que pueden comprar en China pueden ahorrar mucho dinero, pero pierden el tiempo): <br><br>  1) Placa Arduino UNO con un cable USB (es posible un mercado secundario, con CH340 barato en lugar de costoso FTDI) (450 rublos) <br><br>  2) Una placa con cuatro rel√©s que funcionan con un voltaje de 5 voltios y capaz de controlar dispositivos con un voltaje de 220 voltios.  (450 rublos).  Todav√≠a hay tableros que funcionan con 12 voltios, ¬°no lo mezcles! <br><br>  3) Un mont√≥n de cables para conectar dos placas.  En mi caso, se requer√≠an cables con un enchufe en un lado y un pin en el otro, ya que el bloque de rel√© tiene contactos de pin, y Arduino tiene enchufes.  Mire los conectores en sus tableros cuando compre cables (150 rublos). <br><br><img src="https://habrastorage.org/webt/2a/ma/kf/2amakfyji4k_hbtvozjophg_5hu.jpeg"><br><br><a name="p2"></a><h2>  Conecta Arduino a una computadora </h2><br>  Primero, instale el software de programaci√≥n Arduino desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.arduino.cc</a> : <br><br>  En la p√°gina <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://www.arduino.cc/en/Main/Software,</a> haga clic en "Windows Installer": <br><br><img src="https://habrastorage.org/webt/vj/nw/vc/vjnwvcfu76izpyiarxlymwfftpe.png"><br><br>  Haga clic en "Solo descargar": <br><br><img src="https://habrastorage.org/webt/wu/3q/aj/wu3qajjogz-8xyrpv2rankehjeq.png"><br><br>  Descargue y ejecute el instalador: <br><br><img src="https://habrastorage.org/webt/db/_d/lx/db_dlxuein4fw7aofwgu-8syzio.png"><br><br>  Estamos de acuerdo en todo: <br><br><img src="https://habrastorage.org/webt/xq/nr/n6/xqnrn6hcxu9_1h0zzf2eda0kkm8.png"><br><br><img src="https://habrastorage.org/webt/p7/7h/-d/p77h-dqmssaisjxucixrqdoebvk.png"><br><br><img src="https://habrastorage.org/webt/05/lh/q4/05lhq4bozxrk4jm5rvj1xxzgh6k.png"><br><br><img src="https://habrastorage.org/webt/sl/mu/57/slmu57e2qjf9oemniy3rqsugm5c.png"><br><br>  Cuando se instala el programa, conecte la placa Arduino y la computadora con un cable USB. <br><br>  Las luces de la placa Arduino se iluminan, y en el administrador de dispositivos ver√° que ha aparecido un nuevo puerto y se le ha asignado un n√∫mero determinado, por ejemplo, COM3: <br><br><img src="https://habrastorage.org/webt/fv/yf/fu/fvyffux9p-o-_kx6cjtqgejgv38.png"><br><br>  Cambiemos su n√∫mero a COM9, ya que en el futuro todo estar√° vinculado espec√≠ficamente a COM9.  Para hacer esto, haga clic derecho sobre √©l, llame al men√∫ contextual y seleccione "propiedades" en √©l: <br><br><img src="https://habrastorage.org/webt/wx/2v/ce/wx2vceqt65nzglwuevp0rwh3tja.png"><br><br>  En la pesta√±a "par√°metros de puerto", haga clic en el bot√≥n "avanzado": <br><br><img src="https://habrastorage.org/webt/yw/d_/6-/ywd_6-uh4-83w2kcx4ng_i1rijw.png"><br><br>  Y finalmente, seleccione "COM9" como el n√∫mero de puerto COM. <br><br><img src="https://habrastorage.org/webt/5n/tw/bg/5ntwbgktedghwn61bkqtkhbjf5e.png"><br><br>  Cierre todas las ventanas abiertas con el bot√≥n "Aceptar", luego retire e inserte el cable USB para verificar que Arduino continuar√° conect√°ndose a trav√©s del puerto COM9 si est√° insertado en el mismo puerto USB de la computadora: <br><br><img src="https://habrastorage.org/webt/fo/cg/jj/focgjjlfl9e1cvk1goluncdtqb8.png"><br><br>  Ahora llame y configure el programa Arduino recientemente instalado desde el sitio: <br><br><img src="https://habrastorage.org/webt/zd/xa/yy/zdxayy6epjys_elzlitystsu4mm.png"><br><br>  En el men√∫ "Herramientas", configure la placa "Arduino UNO" y el puerto "COM9": <br><br><img src="https://habrastorage.org/webt/u5/kn/jq/u5knjq5m5ctlnevdrp-cnsewopy.png"><br><br>  Ahora todo est√° listo para recopilar los esquemas y darles vida. <br><br><a name="p3"></a><h2>  Esquema de control de toma de corriente </h2><br>  <strong>Si no est√° familiarizado con la seguridad el√©ctrica y nunca ha realizado el cableado en la casa, ¬°no intente repetir este diagrama!</strong>  <strong>¬°El circuito usa voltaje que pone en peligro la vida!</strong> <br><br>  Una vez m√°s, preguntas de control: <br><br><ul><li>  ¬øSabes c√≥mo distinguir un cable con una fase de un cable con un cero en un z√≥calo? </li><li>  ¬øSabes c√≥mo hacer sonar los cables y asegurarte de que no haya un cortocircuito despu√©s de enchufarlo? </li></ul><br>  Si est√° respondiendo con incertidumbre estas preguntas, p√≠dale a una persona m√°s experimentada que monte el circuito. <br><br>  Ahora al grano. <br><br>  Funciona as√≠: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cG7eZB9ynrg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  El diagrama de conexi√≥n del socket se ve as√≠: <br><br><img src="https://habrastorage.org/webt/au/la/h8/aulah8yv5nvdhv7pktidilna2hs.png"><br><br>  Suministramos cero directamente a los enchufes, y la fase a trav√©s del rel√©.  Si hace lo contrario, funcionar√°, pero habr√° un peligro de descarga el√©ctrica de los dispositivos APAGADOS.  Es decir, tome el televisor defectuoso apagado y lo sorprender√°. <br><br>  Si la casa tiene una tierra de protecci√≥n, use una toma de tierra. <br><br>  El siguiente es mi dise√±o de referencia.  En √©l, comet√≠ un error con el color de los cables: el color del cable neutro se volvi√≥ marr√≥n y las fases azules.  Presta atenci√≥n a esto. <br><br>  Tomamos un pedazo del tablero del tama√±o apropiado para que quepa en √©l (de izquierda a derecha): Arduino, bloque de rel√©s, cuatro enchufes, un soporte para presionar el cable al tablero. <br><br><img src="https://habrastorage.org/webt/4n/ad/yj/4nadyjfwr_9zqsjfqirzp5kmcjg.jpeg"><br><br>  Cortamos el exceso y usamos un cincel para hacer una ranura para los cables de modo que quepan libremente debajo de los enchufes. <br><br><img src="https://habrastorage.org/webt/c1/cn/4k/c1cn4krbvgwhyerhsjgdf1blh2k.jpeg"><br><br>  Atornillamos las placas Arduino y el bloque de rel√©s con tornillos a la placa, colocando arandelas de pl√°stico. <br><br><img src="https://habrastorage.org/webt/xl/ss/xt/xlssxtywewk_wiqbg8xbq-sjbxe.jpeg"><br><br>  Si las arandelas no estaban a la mano, puede cortar las espigas: <br><br><img src="https://habrastorage.org/webt/j8/nu/4c/j8nu4c3dgliutidvgzey80c3qiq.jpeg"><br><br>  Prepare los cables: corte al largo deseado y qu√≠telo del aislamiento.  Es recomendable esta√±arlos con un soldador en lugares de contacto con enchufes y rel√©s. <br><br><img src="https://habrastorage.org/webt/7g/u-/js/7gu-jsezhlrrzxq-tqy37bi__py.jpeg"><br><br>  Presione el cable a la placa con un soporte para que no se pueda sacar. <br><br><img src="https://habrastorage.org/webt/xt/mb/hm/xtmbhmcglfylqsh4txocs50bn9k.jpeg"><br><br>  Conectamos los cables y atornillamos los enchufes.  Llamamos a la cadena. <br><br><img src="https://habrastorage.org/webt/h_/_b/hl/h__bhl0ovpuzpdp9m9zwi0xwrsy.jpeg"><br><br><img src="https://habrastorage.org/webt/gd/6c/ga/gd6cgayr0-nalqayyxt8lsiquli.jpeg"><br><br>  Conectamos la placa Arduino a la unidad de rel√© con un paquete de cables de acuerdo con el diagrama anterior. <br><br><img src="https://habrastorage.org/webt/bq/5r/yk/bq5ryknx1noe_wserikpat_8d1c.jpeg"><br><br>  Cubrimos los tableros con una carcasa protectora de material no conductor.  <strong>¬°Esto debe hacerse aqu√≠, ya que el voltaje que pone en peligro la vida es adecuado para el bloque de rel√©s!</strong>  En un caso extremo, al menos envuelva los contactos el√©ctricos del rel√©. <br><br>  Utilic√© un contenedor para productos hechos de pl√°stico duro como una carcasa, uni√©ndolo con tornillos: <br><br><img src="https://habrastorage.org/webt/dh/mj/4j/dhmj4j30zlicmjwgjrkylk5g7km.jpeg"><br><br>  Recuerde hacer un agujero para el cable USB. <br><br><img src="https://habrastorage.org/webt/mg/yb/5h/mgyb5hkbsv4zws5b0zbpdixbrq8.jpeg"><br><br>  Conecte el dispositivo a la computadora, pero <strong>no lo conecte a una toma de corriente</strong> . <br><br>  Lanzamos el programa "Arduino" y copiamos este texto del programa all√≠: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     2,3,4,5 int Relay1=2, Relay2=3, Relay3=4, Relay4=5; void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void loop() { delay (200); // 1.     while(Serial.available()) { switch(Serial.read()) { case '0': //    digitalWrite(Relay1,0); break; case '1': //    digitalWrite(Relay1,1); break; case '2': //    digitalWrite(Relay2,0); break; case '3': //    digitalWrite(Relay2,1); break; case '4': //    digitalWrite(Relay3,0); break; case '5': //    digitalWrite(Relay3,1); break; case '6': //    digitalWrite(Relay4,0); break; case '7': //    digitalWrite(Relay4,1); break; } // switch } // while }</span></span></code> </pre> <br>  Luego haga clic en el bot√≥n de descarga del programa en Arduino (vea la figura a continuaci√≥n).  Si todo sali√≥ sin errores, entonces vemos la inscripci√≥n "Descarga completa". <br><br><img src="https://habrastorage.org/webt/sa/lq/ps/salqpsq3wdq3kpsylezoakvmn1i.png"><br><br>  Verifique que nuestro dispositivo ejecute comandos.  Para hacer esto, llame al monitor de puerto: <br><br><img src="https://habrastorage.org/webt/68/wq/mw/68wqmw6ebryw_wohhhew71h9mx0.png"><br><br>  Ahora escribiremos el n√∫mero <strong>1</strong> y presionaremos Enter o el bot√≥n "Enviar": <br><br><img src="https://habrastorage.org/webt/u3/iq/6t/u3iq6tjtyiw16d9rq_maya-mqgu.png"><br><br>  Se escuchar√° un clic caracter√≠stico del rel√© y el contacto en el primer enchufe se conectar√° al cable de fase.  Comprueba esto con un probador.  Luego marque el n√∫mero 0 y el rel√© desconectar√° el contacto. <br><br>  Mirando el texto del programa, puede ver lo que suceder√° si escribimos otros n√∫meros: <br><br>  3.2 - enciende, apaga la segunda salida <br><br>  5,4 - enciende, apaga la tercera salida <br><br>  7.6 - enciende, apaga la cuarta salida <br><br>  Verifique con un probador la conexi√≥n de estos enchufes.  Despu√©s de verificar, puede conectar el cable al voltaje en la red y comenzar a encender / apagar dispositivos reales. <br><br>  Nuestra siguiente tarea es encender y apagar los dispositivos con un vistazo.  Para hacer esto, configuramos el programa <strong>bkb</strong> descrito aqu√≠ en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> art√≠culo <strong>(¬°SE NECESITA LA √öLTIMA VERSI√ìN DEL PROGRAMA!)</strong> . <br><br>  Supongamos que queremos encender y apagar una l√°mpara y una guirnalda de √°rboles de Navidad. <br>  En el programa Paint est√°ndar, dibujamos cuatro dibujos de 200x200 en formato <strong>BMP</strong> : <br><br><img src="https://habrastorage.org/webt/ns/ly/ri/nslyribneenospzbhf8dxftucic.png"><br><br>  Tambi√©n crearemos cuatro archivos por lotes: <strong>c.cmd, d.cmd, e.cmd, f.cmd</strong> <br><br>  Contendr√°n comandos para enviar caracteres 1,0,3,2 al puerto COM9.  Y recordamos que encienden y apagan los enchufes primero y segundo.  ¬°Es importante que no haya l√≠neas vac√≠as entre las dos l√≠neas en estos archivos! <br><br>  c.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 1 &gt; com9:</code> </pre><br>  d.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 0 &gt; com9:</code> </pre><br>  e.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 3 &gt; com9:</code> </pre><br>  f.cmd: <br><br><pre> <code class="plaintext hljs">MODE COM9: BAUD=9600 DATA=8 STOP=1 PARITY=N to=off xon=off odsr=off octs=off rts=off idsr=off dtr=off echo 2 &gt; com9:</code> </pre><br>  <strong>Sobrescribimos los</strong> archivos <strong>.bmp</strong> y <strong>.cmd</strong> creados en el directorio de <strong>cuadr√≠cula del</strong> programa <strong>bkb</strong> . <br><br>  Despu√©s de iniciar el programa <strong>bkb</strong> en modo tabla, aparecer√° una nueva quinta l√≠nea con nuestras im√°genes: <br><br><img src="https://habrastorage.org/webt/cn/jz/aq/cnjzaqskmsg3wwqe2odhwijsk4g.jpeg"><br><br>  Cuando mantenemos nuestra mirada en la imagen, se inicia la acci√≥n correspondiente. <br><br>  <strong>ATENCION!</strong>  La primera vez despu√©s de iniciar el programa, la acci√≥n no funciona.  Todas las veces posteriores: funciona.  Esto se debe al hecho de que durante la primera inicializaci√≥n del puerto, la se√±al en la l√≠nea DTR cambia, lo que hace que el Arduino se reinicie, que dura unos tres segundos. <br><br>  Dicen que esto se puede resolver con un soldador, pero no me atrev√≠ a realizar tales trabajos de joyer√≠a.  Entonces, por ahora, solo recuerda que la primera vez que necesitas encender dos veces. <br><br>  <u>Observaci√≥n</u> <br><br>  Probablemente ya haya entendido que en los archivos .cmd puede llamar a cualquier programa externo.  Si tiene alg√∫n dispositivo que pueda controlarse desde la l√≠nea de comandos, usted mismo puede ejecutar dichos comandos atribuyendo las acciones necesarias a las im√°genes de la tabla. <br><br><a name="p4"></a><h2>  Circuito de control del motor </h2><br>  Mi amigo actualiz√≥ el scooter girosc√≥pico y lo reemplaz√≥ con el eje trasero del cochecito.  La gesti√≥n se llev√≥ a cabo por control remoto a trav√©s de la placa Arduino. <br><br><img src="https://habrastorage.org/webt/6g/gi/ef/6ggiefa4rwsv9n7bkjpz9hdenzi.jpeg"><br><br>  Decidimos intentar darle al ni√±o la oportunidad de controlar el cochecito solo con una mirada.  Para hacer esto, se agreg√≥ el modo de control de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><strong>silla de ruedas</strong></a> al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">programa <strong>bkb</strong></a> . <br><br><img src="https://habrastorage.org/webt/k_/vw/4c/k_vw4cp32if1tiyx_tld9x8js6w.png"><br><br>  Despu√©s de comenzar en este modo, aparecen flechas en la pantalla, una mirada que hace que el programa env√≠e caracteres de control al puerto COM9, que luego son interpretados por la carriola para avanzar / retroceder, girar a la izquierda / derecha y detenerse. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2QgKxeQeUAQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Mientras se finaliza el cochecito, decid√≠ usar el mismo programa para el control remoto del modelo de tanque con seguimiento.  Esto tambi√©n es algo bastante √∫til.  Primero, el ni√±o recibe habilidades que son √∫tiles para controlar el cochecito.  En segundo lugar, este es solo un juego emocionante. <br><br><img src="https://habrastorage.org/webt/hg/gp/ov/hggpovliv-swlqqzlziurfgag2o.jpeg"><br><br>  Cada una de las pistas del tanque est√° controlada por una palanca que se puede mover hacia adelante o hacia atr√°s.  Al mover la palanca hacia adelante, presiona el bot√≥n, obligando al motor a girar hacia adelante.  Al mover la palanca hacia atr√°s, presiona el bot√≥n, lo que hace que el motor gire en la direcci√≥n opuesta.  No es posible presionar dos botones al mismo tiempo; es imposible avanzar y retroceder. <br>  La unidad de rel√© se conect√≥ a los botones del control remoto de acuerdo con el siguiente diagrama.  El circuito no permite activar los botones "motor adelante" y "motor atr√°s" simult√°neamente.  Un rel√© enciende / apaga el motor y el segundo selecciona la direcci√≥n hacia adelante o hacia atr√°s. <br><br>  Busque en la placa del panel de control d√≥nde est√°n conectados los botones y con√©ctese a ellos, de acuerdo con el diagrama anterior. <br><br>  Tenga en cuenta que, a diferencia del circuito anterior, Arduino controla el bloque de rel√©s con los pines 6 a 9. <br><br><img src="https://habrastorage.org/webt/te/ch/ag/techagksw5fgfqfnumnz0oywovg.png"><br><br>  Conect√© el bloque de rel√© al control remoto a trav√©s del conector para que el control remoto se pueda desconectar f√°cilmente y usar por separado: <br><br><img src="https://habrastorage.org/webt/_y/5z/z-/_y5zz-xbgdn7b8lwz-k9n5aignk.jpeg"><br><br>  El programa que Arduino necesita descargar recibe los mismos comandos de la computadora que se utilizan para controlar la carriola motorizada: <br><br>  F-adelante <br>  B-back <br>  Izquierda <br>  Derecha <br>  S-stop <br><br>  El texto del programa se proporciona a continuaci√≥n. <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     6,7,8,9 int Relay1=6, Relay2=7, Relay3=8, Relay4=9; int heartbeat=0; //     void setup() { pinMode(Relay1,OUTPUT); pinMode(Relay2,OUTPUT); pinMode(Relay3,OUTPUT); pinMode(Relay4,OUTPUT); Serial.begin(9600); } void RCStop() { digitalWrite(Relay1,0); digitalWrite(Relay2,0); digitalWrite(Relay3,0); digitalWrite(Relay4,0); } void RCForward() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCBack() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void RCLeft() { digitalWrite(Relay1,1); digitalWrite(Relay2,0); digitalWrite(Relay3,1); digitalWrite(Relay4,1); } void RCRight() { digitalWrite(Relay1,1); digitalWrite(Relay2,1); digitalWrite(Relay3,1); digitalWrite(Relay4,0); } void loop() { // 1.     while(Serial.available()) { switch(Serial.read()) { case 'S': //  ! RCStop(); heartbeat=0; break; case 'F': //  ! RCForward(); heartbeat=0; break; case 'B': //  ! RCBack(); heartbeat=0; break; case 'L': //  ! RCLeft(); heartbeat=0; break; case 'R': //  ! RCRight(); heartbeat=0; break; } // switch } // while // 2.    //       -   delay(10); heartbeat++; if(heartbeat&gt;30) { heartbeat=30; //    ! RCStop(); //   -   } }</span></span></code> </pre><br>  Si se interrumpe la conexi√≥n con la computadora (no llegan caracteres en 0.3 segundos, entonces el Arduino apaga los motores).  Esta situaci√≥n se puede modelar cerrando los ojos mientras se controlan los ojos.  Aitreker no podr√° determinar la direcci√≥n de visi√≥n y no se enviar√°n se√±ales.  Los motores se detendr√°n. <br><br>  He equipado el modelo de tanque con una c√°mara de video, que generalmente se llama tasa de cambio, o FPV (Vista en primera persona), que transmite una se√±al anal√≥gica a una frecuencia de aproximadamente 5.8 GHz.  Tom√© una de las c√°maras m√°s baratas, tambi√©n equipadas con un transmisor y una antena: AKK BA-3.  Me cost√≥ 1050 rublos.  La c√°mara con el transmisor es tan peque√±a que cabe en las manos de la figura de Lego: <br><br><img src="https://habrastorage.org/webt/ch/0q/mq/ch0qmqoqvfhexoxoeofqqvasmr8.jpeg"><br><br>  Todo lo que se necesita hacer para que la c√°mara funcione es conectarla a la alimentaci√≥n (de 3,2 a 5,5 voltios).  Luego, con un solo bot√≥n, seleccione el rango, la frecuencia y la potencia del transmisor. <br><br>  La c√°mara se calienta significativamente, por lo que recomiendo configurar la potencia m√≠nima (25 milivatios).  Adem√°s, lo conect√© a la bater√≠a del tanque con un voltaje de 6 voltios, que excede los valores permitidos.  Por lo tanto, no s√© cu√°nto durar√°.  Le recomiendo que use un estabilizador de voltaje para alimentar la c√°mara. <br><br>  Al conectar la c√°mara, pegu√© un elemento del constructor de Lego al tanque, y los elementos restantes ya estaban unidos a √©l con una simple conexi√≥n.  Esto facilita la extracci√≥n y el orden de la c√°mara.  Adem√°s, al toparse con un obst√°culo, la c√°mara simplemente puede plegarse, lo que lo salvar√° de da√±os. <br><br><img src="https://habrastorage.org/webt/j0/4n/1z/j04n1zkr_zt7dl1itjgxfv8tr5c.jpeg"><br><br>  Para recibir la se√±al de video de la c√°mara, utilic√© el receptor Eachine ROTG01.  No tom√≥ nuevo por 1800 rublos.  Es solo una caja con una antena que se conecta al puerto USB de la computadora y es visible como una c√°mara USB.  Es decir, iniciamos la aplicaci√≥n C√°mara en Windows y vemos qu√© acepta el receptor.  Incluso al principio, debe mantener presionado el √∫nico bot√≥n del receptor para que escanee el √©ter y encuentre la frecuencia con la que nuestra c√°mara transmite una se√±al. <br><br>  En general, necesitamos tres puertos USB en la computadora: <br><br>  - para un rastreador de TI <br>  - para Arduino, controlar el panel de control del tanque <br>  - para receptor de video <br><br><img src="https://habrastorage.org/webt/ya/6l/9j/ya6l9jsx4gh3xrvgtcwilaqfvci.jpeg"><br><br>  Iniciamos la salida de imagen de la c√°mara, por ejemplo, el programa "C√°mara".  Lanzamos el programa <strong>bkb</strong> y seleccionamos el modo de control para la carriola motorizada. <br><br>  Lo que puede suceder a continuaci√≥n se muestra en el video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vWreZ72HPvM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Se puede ver que la velocidad de movimiento, y especialmente la velocidad de los giros, es demasiado grande.  Entonces, si elige un modelo controlado por radio, elija el m√°s lento.  Una excavadora o algo as√≠. <br><br><h3>  ¬øY por qu√© no tomar el "robot esp√≠a" terminado? </h3><br>  Ca√≠ en manos de uno de ellos, HappyCow 777-325. <br><br><img src="https://habrastorage.org/webt/se/u_/ep/seu_eptbnfyu4lqwiekwmqttqbk.jpeg"><br><br>  Estaba encantado: √©l tiene todo, y el control remoto y la transmisi√≥n de video, y viaja bastante despacio.  Sin embargo, hay una caracter√≠stica: se controla solo a trav√©s de una aplicaci√≥n en Android o iOS.  Bueno, resolveremos esto a trav√©s del control remoto de Android, por ejemplo, usando <strong>scrcpy</strong> . <br><br>  Pero result√≥ que, adem√°s de las deficiencias corregibles (√°ngulo de visi√≥n estrecho de la c√°mara), la m√°quina tiene una incorregible.  El video transmitido a trav√©s de Wi-Fi tiene un retraso terrible. <br>  Es decir, este robot se ha estrellado contra algo durante mucho tiempo, y todos est√°n presionando el gas, pensando que a√∫n no ha llegado a un obst√°culo. <br><br>  Para un ni√±o que est√° aprendiendo a controlar una m√°quina de forma remota, esto, en mi opini√≥n, es inaceptable. <br><br>  Entonces el robot obtiene una resignaci√≥n.  Aunque me prestar√≠a el chasis. <br><br><h2>  Conclusi√≥n </h2><br>  Les deseo todo el √©xito en repetir y desarrollar las soluciones t√©cnicas descritas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430078/">https://habr.com/ru/post/es430078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430068/index.html">Orden de la cris√°lida</a></li>
<li><a href="../es430070/index.html">La pila y la cola son dos paradigmas malos y qu√© se puede hacer al respecto.</a></li>
<li><a href="../es430072/index.html">Subestimado Swift del lado del servidor: Entrevista con Paul Hudson</a></li>
<li><a href="../es430074/index.html">C√≥mo casi atrap√© un virus tratando de vender botas</a></li>
<li><a href="../es430076/index.html">Transmisi√≥n gratuita de DotNext 2018 Mosc√∫</a></li>
<li><a href="../es430080/index.html">Mudarse a un cl√∫ster que ejecuta 1C-Bitrix: entorno web</a></li>
<li><a href="../es430082/index.html">Travinibay: Habr y RUVDS - lobos marinos de TI rusos</a></li>
<li><a href="../es430084/index.html">Oracle JDK tendr√° que pagar. ¬øCu√°les son las opciones ahora?</a></li>
<li><a href="../es430086/index.html">Novedades de Android 9 Pie para tel√©fonos inteligentes Sony Xperia</a></li>
<li><a href="../es430092/index.html">Los bancos Credit Suisse y UBS acusaron a Apple Pay y Samsung Pay de boicot coordinado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>