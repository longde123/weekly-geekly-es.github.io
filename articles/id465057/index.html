<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🌾 🤜🏽 ◼️ Wadah dan Windows. Dari Hello World ke Kubernetes. Bagian Satu, Pengantar 🥤 👊🏽 🚴🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika saya berbicara dengan insinyur Linux dan memberi tahu mereka tentang masalah cluster Kubernetes di Windows, mereka melihat saya dengan curiga. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wadah dan Windows. Dari Hello World ke Kubernetes. Bagian Satu, Pengantar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465057/"><img src="https://habrastorage.org/webt/bc/07/6v/bc076v0wh43xbyd-26odfwkr_lq.jpeg"><br><br>  Ketika saya berbicara dengan insinyur Linux dan memberi tahu mereka tentang masalah cluster Kubernetes di Windows, mereka melihat saya dengan curiga.  Beberapa bahkan tidak percaya bahwa <s>ini sah</s> .  Wadah di Windows tidak umum dan banyak diminati di Linux.  Tapi saya pikir ada baiknya membicarakan topik ini, jika hanya untuk memahami konsep umum dan perbedaan utama antara Windows dan Linux.  Entri pertama saya akan pergi ke kanvas dengan kuas lebar, dan kemudian, dalam posting berikutnya, saya akan mencoba untuk secara bertahap menggali nuansa. <br><a name="habracut"></a><br><h4>  Wadah Windows </h4><br>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini:</a> <br><blockquote>  Banyak pengembang .NET atau SQL Server menggigit siku mereka dan iri pada rekan kerja Linux mereka. </blockquote><br>  Memang, wadah pada Windows masih eksotis hingga saat ini.  Dan bagian terburuknya adalah bahwa dokumentasi harus dikumpulkan berkeping-keping, pada setiap sumber daya, apakah itu situs web resmi Docker atau Microsoft, semuanya disajikan dalam bentuk ikhtisar tanpa deskripsi "bagaimana dan mengapa," dan setelah satu atau dua bulan informasi yang ada menjadi usang.  Dan tidak ada yang supernatural dalam hal ini - wadah dan teknologi yang terkait dengannya berkembang dengan kecepatan yang tidak realistis. <br><br>  Saat ini, semuanya lebih baik dengan dokumentasi dan untuk terjun ke dunia kontainer untuk Windows, cukup baca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi resmi dari Microsoft</a> dan pantau perubahannya.  Menariknya, dokumentasinya ditulis dengan baik dan dalam bahasa Rusia, meskipun dengan studi mendalam Anda tidak dapat menghindari mengklik tautan ke berbagai sumber seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.docker.com/</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://kubernetes.io/ di</a> mana semuanya ditulis dalam format lama bahasa inggris yang bagus. <br><br>  Sekarang jawaban atas pertanyaan apa pun dapat ditemukan dalam dokumentasi resmi, tetapi ada beberapa nuansa yang paling dikenal sebelumnya.  Mungkin ini akan berguna bagi Anda dan menghemat waktu ketika terbenam dalam teknologi wadah di bawah bendera Microsoft. <br><br><h3>  Anda tidak dapat menjalankan wadah Windows di Linux dan Windows * </h3><br>  Teknologi wadah memudahkan penanganan lingkungan berkat gambar aplikasi yang dikonfigurasi ulang.  Ini seperti Apple Appstore atau Google Play, tetapi hanya untuk insinyur dan pengembang.  Seperti di toko untuk aplikasi seluler, Anda tidak dapat meletakkan aplikasi dari Google Play di iOS.  Jadi pada host Docker dengan sistem operasi Linux, Anda tidak dapat memulai wadah dengan sistem operasi Windows.  Kebalikannya juga benar, meskipun dengan beberapa "tetapi", karena host Docker dengan Windows masih dapat menyediakan Linux dengan lingkungan untuk menjalankan kontainer. <br><br>  Selain itu, Anda tidak dapat memulai wadah Windows di lingkungan Windows tanpa memastikan bahwa versi sistem operasi kompatibel.  Ketika bekerja dengan kontainer dari Microsoft, Anda harus melihat kembali <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kompatibilitas Versi Windows Container</a> dan secara berkala membuka dokumen ini. <br><br>  Berbicara tentang versi - Microsoft dengan munculnya wadah memutuskan untuk merilis versi semi-tahunan Windows semi-tahunan.  Ini adalah versi seperti windows server 1703, 1709, 1803, 1809, 1903. Angka-angka menunjukkan tahun dan bulan rilis, dan mereka didukung selama 18 bulan.  Dua yang pertama sudah dalam damai dan berada di akhir pelayanan.  Selain itu, ada versi LTS seperti Windows Server 2016 dan Windows Server 2019. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Daftar versi.</a> <br><br>  Jadi, jika Anda mengumpulkan wadah pada host dengan versi Windows 1803, maka Anda hanya dapat menjalankan kontainer ini pada host dengan Windows 1803. Oleh karena itu, agar tidak membangun kembali wadah itu sendiri setiap kali, Anda harus menggunakan versi LTS Windows, yang dengan kecepatan pengembangan teknologi modern. tidak selalu dibenarkan.  Atau, bagaimanapun, pikirkan tentang versi dan masih terus merakit kembali wadah mengikuti program langkah demi langkah untuk semi-tahunan. <br><br>  Tag terbaru dalam Dokerfile untuk wadah Windows tidak selalu ada dan umumnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">usang</a> .  Dengan cara yang baik, Anda selalu perlu tahu apa versi Windows Anda dan membuat perubahan yang sesuai dengan Dockerfile. <br><blockquote>  Kontainer adalah bagian dari pendekatan Infrastruktur sebagai Kode.  Hal ini diperlukan untuk merakit kembali wadah secara terus-menerus, tidak hanya sederhana dan menyenangkan, tetapi ini adalah keajaiban utama, yang memungkinkan aplikasi untuk selalu bekerja pada perangkat lunak yang baru dan lebih baik.  Tetapi dalam kasus kami, kami dihadapkan pada batasan: itu tidak akan berfungsi untuk menjaga Dockerfile universal untuk semua sistem Windows.  Ini harus diperhitungkan. </blockquote><br>  Semua hal di atas berlaku untuk kontainer yang berjalan dalam mode isolasi proses.  Dalam mode isolasi Hyper-V, kompatibilitas mundur berlaku - Anda dapat menjalankan semua wadah yang dibangun pada versi saat ini dan sebelumnya.  Secara umum, menggunakan isolasi Hyper-V, Anda juga dapat menjalankan wadah Linux pada host Windows.  Namun mode ini sejauh ini mendukung lebih sedikit barang, yang hanya kekurangan Kubernetes. <br><br>  Perbedaan antara proses isolasi dan isolasi Hyper-V adalah topik artikel terpisah.  Untuk saat ini, saya hanya akan mengatakan bahwa skenario dengan isolasi Hyper-V tidak sepenuhnya jelas bagi saya, dan secara default, Windows menggunakan proses isolasi. <br><br>  Sakit kepala lainnya adalah menemukan versi gambar yang benar di Docker Hub.  Beberapa gambar umumnya hilang untuk Windows.  Misalnya, Anda tidak akan menemukan build resmi Nginx, MySQL, Nodejs, serta ratusan aplikasi lain untuk Windows dan Anda harus mengumpulkan sendiri kontainer atau menggunakan kontainer yang dikumpulkan dan disediakan oleh anggota komunitas. <br><br>  <b>Windows membutuhkan biaya.</b> <br><br>  Jangan lupa bahwa Windows masih merupakan hal berbayar.  Misalnya, versi semi-tahunan tersedia melalui langganan Visual Studio atau dengan Jaminan Perangkat Lunak dalam perjanjian lisensi Microsoft yang ada.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan</a> <br><br>  Tetapi Microsoft memiliki banyak cara untuk mendapatkan bayaran gratis.  Ini adalah program BizSpark dan segala macam versi percobaan Windows Server 2019 selama 180 hari dan seterusnya dan seterusnya. <br><br>  <b>Wadah Windows tidak ringan.</b> <br><br>  Secara umum diterima bahwa wadah itu ringan, tetapi kebenaran untuk Linux tidak selalu benar untuk Windows.  Sebagian besar kontainer Windows, pada pandangan pertama, sangat berbobot.  Dan sekilas kesan tidak berubah.  Misalnya, aspnet dasar: 4,8 gambar beratnya sekitar 7,5 GB. <br><br><img src="https://habrastorage.org/webt/2t/zr/s3/2tzrs3pzqh4hbugsl42sp427mne.png"><br><br>  Bahkan jika Anda meng-host gambar dasar dalam repositori lokal, unggahan awal gambar ke host akan memakan waktu cukup lama, apalagi repositori jarak jauh seperti Docker Hub. <br><br>  Ya, Anda dapat menggunakan Windows Nano Server yang ringan dalam beberapa skenario, tetapi sayangnya, ia memiliki banyak keterbatasan.  Dan terlebih lagi, Anda tidak berada di jalan dengan Windows Nano Server jika Anda mengembangkan untuk .Net Framework. <br><br>  <b>Untuk mengelola, Anda harus tahu CMD dan Powershell dengan baik.</b> <br><br>  Kemungkinan besar Anda harus bekerja dengan versi inti Windows Server pada host Docker.  Windows Server memiliki banyak kemampuan manajemen jarak jauh.  Pendekatan umum adalah memiliki Windows Server dengan antarmuka grafis, Anda dapat menghubungkan semua snap-in grafis ke server inti. <br><br>  Pendekatan ini tidak berfungsi dalam skenario wadah, meskipun wadah berisi versi lengkap dari Windows Server.  Di dalam wadah Windows, secara teori dimungkinkan untuk terhubung melalui WMI, tetapi ini tidak begitu sederhana, jika saja karena host OS akan memotong lalu lintas ini untuk dirinya sendiri.  Mungkin ada beberapa puluh dan ratusan kontainer di host, dan dalam hal ini, mengarahkan lalu lintas ke kontainer yang tepat adalah keseluruhan. <br><br>  CMD dan Powershell akan dibutuhkan untuk administrasi kontainer dan untuk host tempat Docker diinstal.  Juga, pengetahuan tentang shell ini diperlukan untuk menulis Dockerfile, karena semua instruksi RUN akan dieksekusi di shell yang disebutkan di atas. <br><br>  Mengingat semua cmdlet Powershell yang panjang cukup rumit.  Ini bukan perintah bash ringkas untuk Anda.  Meskipun sekarang sebagian besar cmdlet memiliki alias yang jelas untuk setiap insinyur Linux.  Di PowerShell, Anda dapat menggunakan: <br><br><pre><code class="plaintext hljs">rm  Remove-Item pwd  Get-Location. cat  Get-Content touch  New-Item etc. #     Linux    .  rm –rf  . #   Powershell   man      Get-Help &lt;&gt;</code> </pre> <br>  Dari hal-hal yang sangat berguna, ini adalah bahwa dengan menggunakan Powershell Anda dapat menjalankan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">server web</a> sederhana dalam sebuah wadah untuk tujuan pengujian.  Di Powershell, semuanya muncul sebagai objek.  Jika Anda adalah pendukung OOP, maka Anda akan segera menghargai manfaat dari shell ini. <br><br>  Sebagai kesimpulan dari artikel pengantar, saya ingin mengatakan bahwa saya sengaja tidak membahas masalah orkestrasi dan manajemen cluster.  Docker pada Windows sedang mengejar ketinggalan dan aplikasi orkestrasi seperti Swarm dan Kubernetes pada Windows tidak sepenuhnya menyadari fungsinya. <br><br>  Juga saat ini, jika Anda ingin menaikkan cluster Docker, maka kemungkinan besar multi-platform.  Artinya, Anda harus memiliki satu atau lebih host Linux di cluster.  Misalnya, untuk Kubernetes, master node harus ada di Linux.  Dan di Swarm, kontainer Linux diperlukan, misalnya, untuk mengimplementasikan balancer di Nginx atau menjalankan aplikasi cluster populer lainnya yang hanya tersedia untuk Linux. <br><br>  PS Menggunakan Windows dalam wadah memiliki serangkaian skrip yang sangat terbatas untuk digunakan.  Namun, skenario ini bisa sangat produktif.  Tentu saja, hal pertama yang terlintas dalam pikiran adalah aplikasi web IIS, tetapi pengalaman saya menunjukkan bahwa layanan mandiri Windows dan beberapa layanan seperti MSMQ terisolasi dengan baik dalam wadah. <br><br>  UPD  Ada sedikit ketidakakuratan dalam artikel ini, Anda dapat membangun cluster Docker di host Windows saja.  Selain itu, ini tidak hanya Swarm, tetapi juga produk yang dikembangkan oleh Micrisoft untuk mengatur cluster Fabric Layanan <br><br>  UPD2.  Wadah Docker untuk Windows 10 hanya tersedia dalam mode isolasi Hyper-V dan menggunakan gambar dasar selain Windows Server. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id465057/">https://habr.com/ru/post/id465057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id465041/index.html">Cara melakukan transaksi BTC tanpa menyetor koin kecil</a></li>
<li><a href="../id465045/index.html">Kali Linux NetHunter di Android: mengapa dan cara menginstal</a></li>
<li><a href="../id465047/index.html">Tes unit dalam DBMS - bagaimana kami melakukannya di Sportmaster, bagian dua</a></li>
<li><a href="../id465049/index.html">10 Buku tentang Manajemen Proyek Agile yang Layak Dibawa Bersama Anda pada tahun 2020</a></li>
<li><a href="../id465055/index.html">Enam keterampilan untuk membawa karier Ilmu Data Anda ke tingkat selanjutnya.</a></li>
<li><a href="../id465059/index.html">PoE pada jarak 200+ meter. Pemantauan dan restart otomatis klien PoE</a></li>
<li><a href="../id465061/index.html">Mengapa alih-alih seminggu kerja empat hari, lebih baik memikirkan hari kerja enam jam</a></li>
<li><a href="../id465063/index.html">10 kesalahan paling umum saat bekerja dengan platform Spring. Bagian 2</a></li>
<li><a href="../id465069/index.html">Baru di Hadoop: Kenali Berbagai Format File di Hadoop</a></li>
<li><a href="../id465071/index.html">TechTrain 2019 IT festival: bagaimana JUG.ru, JUGNsk dan JUG.MSK berpartisipasi di dalamnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>